(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function cu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function OB(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var i4={exports:{}},dC={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l7;function VG(){if(l7)return dC;l7=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return dC.Fragment=e,dC.jsx=t,dC.jsxs=t,dC}var A7;function $G(){return A7||(A7=1,i4.exports=VG()),i4.exports}var Ae=$G(),r4={exports:{}},oa={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u7;function ZG(){if(u7)return oa;u7=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.iterator;function U(be){return be===null||typeof be!="object"?null:(be=O&&be[O]||be["@@iterator"],typeof be=="function"?be:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function Y(be,Ne,tt){this.props=be,this.context=Ne,this.refs=W,this.updater=tt||K}Y.prototype.isReactComponent={},Y.prototype.setState=function(be,Ne){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,be,Ne,"setState")},Y.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function te(){}te.prototype=Y.prototype;function J(be,Ne,tt){this.props=be,this.context=Ne,this.refs=W,this.updater=tt||K}var oe=J.prototype=new te;oe.constructor=J,j(oe,Y.prototype),oe.isPureReactComponent=!0;var ne=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function G(be,Ne,tt,lt,kt,gt){return tt=gt.ref,{$$typeof:n,type:be,key:Ne,ref:tt!==void 0?tt:null,props:gt}}function ce(be,Ne){return G(be.type,Ne,void 0,void 0,void 0,be.props)}function ge(be){return typeof be=="object"&&be!==null&&be.$$typeof===n}function ye(be){var Ne={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(tt){return Ne[tt]})}var we=/\/+/g;function Ie(be,Ne){return typeof be=="object"&&be!==null&&be.key!=null?ye(""+be.key):Ne.toString(36)}function Se(){}function Ve(be){switch(be.status){case"fulfilled":return be.value;case"rejected":throw be.reason;default:switch(typeof be.status=="string"?be.then(Se,Se):(be.status="pending",be.then(function(Ne){be.status==="pending"&&(be.status="fulfilled",be.value=Ne)},function(Ne){be.status==="pending"&&(be.status="rejected",be.reason=Ne)})),be.status){case"fulfilled":return be.value;case"rejected":throw be.reason}}throw be}function xe(be,Ne,tt,lt,kt){var gt=typeof be;(gt==="undefined"||gt==="boolean")&&(be=null);var St=!1;if(be===null)St=!0;else switch(gt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(be.$$typeof){case n:case e:St=!0;break;case M:return St=be._init,xe(St(be._payload),Ne,tt,lt,kt)}}if(St)return kt=kt(be),St=lt===""?"."+Ie(be,0):lt,ne(kt)?(tt="",St!=null&&(tt=St.replace(we,"$&/")+"/"),xe(kt,Ne,tt,"",function(Ke){return Ke})):kt!=null&&(ge(kt)&&(kt=ce(kt,tt+(kt.key==null||be&&be.key===kt.key?"":(""+kt.key).replace(we,"$&/")+"/")+St)),Ne.push(kt)),1;St=0;var Ut=lt===""?".":lt+":";if(ne(be))for(var Fe=0;Fe<be.length;Fe++)lt=be[Fe],gt=Ut+Ie(lt,Fe),St+=xe(lt,Ne,tt,gt,kt);else if(Fe=U(be),typeof Fe=="function")for(be=Fe.call(be),Fe=0;!(lt=be.next()).done;)lt=lt.value,gt=Ut+Ie(lt,Fe++),St+=xe(lt,Ne,tt,gt,kt);else if(gt==="object"){if(typeof be.then=="function")return xe(Ve(be),Ne,tt,lt,kt);throw Ne=String(be),Error("Objects are not valid as a React child (found: "+(Ne==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":Ne)+"). If you meant to render a collection of children, use an array instead.")}return St}function ze(be,Ne,tt){if(be==null)return be;var lt=[],kt=0;return xe(be,lt,"","",function(gt){return Ne.call(tt,gt,kt++)}),lt}function st(be){if(be._status===-1){var Ne=be._result;Ne=Ne(),Ne.then(function(tt){(be._status===0||be._status===-1)&&(be._status=1,be._result=tt)},function(tt){(be._status===0||be._status===-1)&&(be._status=2,be._result=tt)}),be._status===-1&&(be._status=0,be._result=Ne)}if(be._status===1)return be._result.default;throw be._result}var Ct=typeof reportError=="function"?reportError:function(be){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof be=="object"&&be!==null&&typeof be.message=="string"?String(be.message):String(be),error:be});if(!window.dispatchEvent(Ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",be);return}console.error(be)};function nt(){}return oa.Children={map:ze,forEach:function(be,Ne,tt){ze(be,function(){Ne.apply(this,arguments)},tt)},count:function(be){var Ne=0;return ze(be,function(){Ne++}),Ne},toArray:function(be){return ze(be,function(Ne){return Ne})||[]},only:function(be){if(!ge(be))throw Error("React.Children.only expected to receive a single React element child.");return be}},oa.Component=Y,oa.Fragment=t,oa.Profiler=r,oa.PureComponent=J,oa.StrictMode=i,oa.Suspense=p,oa.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,oa.__COMPILER_RUNTIME={__proto__:null,c:function(be){return $.H.useMemoCache(be)}},oa.cache=function(be){return function(){return be.apply(null,arguments)}},oa.cloneElement=function(be,Ne,tt){if(be==null)throw Error("The argument must be a React element, but you passed "+be+".");var lt=j({},be.props),kt=be.key,gt=void 0;if(Ne!=null)for(St in Ne.ref!==void 0&&(gt=void 0),Ne.key!==void 0&&(kt=""+Ne.key),Ne)!ae.call(Ne,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Ne.ref===void 0||(lt[St]=Ne[St]);var St=arguments.length-2;if(St===1)lt.children=tt;else if(1<St){for(var Ut=Array(St),Fe=0;Fe<St;Fe++)Ut[Fe]=arguments[Fe+2];lt.children=Ut}return G(be.type,kt,void 0,void 0,gt,lt)},oa.createContext=function(be){return be={$$typeof:l,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null},be.Provider=be,be.Consumer={$$typeof:a,_context:be},be},oa.createElement=function(be,Ne,tt){var lt,kt={},gt=null;if(Ne!=null)for(lt in Ne.key!==void 0&&(gt=""+Ne.key),Ne)ae.call(Ne,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(kt[lt]=Ne[lt]);var St=arguments.length-2;if(St===1)kt.children=tt;else if(1<St){for(var Ut=Array(St),Fe=0;Fe<St;Fe++)Ut[Fe]=arguments[Fe+2];kt.children=Ut}if(be&&be.defaultProps)for(lt in St=be.defaultProps,St)kt[lt]===void 0&&(kt[lt]=St[lt]);return G(be,gt,void 0,void 0,null,kt)},oa.createRef=function(){return{current:null}},oa.forwardRef=function(be){return{$$typeof:o,render:be}},oa.isValidElement=ge,oa.lazy=function(be){return{$$typeof:M,_payload:{_status:-1,_result:be},_init:st}},oa.memo=function(be,Ne){return{$$typeof:C,type:be,compare:Ne===void 0?null:Ne}},oa.startTransition=function(be){var Ne=$.T,tt={};$.T=tt;try{var lt=be(),kt=$.S;kt!==null&&kt(tt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(nt,Ct)}catch(gt){Ct(gt)}finally{$.T=Ne}},oa.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},oa.use=function(be){return $.H.use(be)},oa.useActionState=function(be,Ne,tt){return $.H.useActionState(be,Ne,tt)},oa.useCallback=function(be,Ne){return $.H.useCallback(be,Ne)},oa.useContext=function(be){return $.H.useContext(be)},oa.useDebugValue=function(){},oa.useDeferredValue=function(be,Ne){return $.H.useDeferredValue(be,Ne)},oa.useEffect=function(be,Ne,tt){var lt=$.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(be,Ne)},oa.useId=function(){return $.H.useId()},oa.useImperativeHandle=function(be,Ne,tt){return $.H.useImperativeHandle(be,Ne,tt)},oa.useInsertionEffect=function(be,Ne){return $.H.useInsertionEffect(be,Ne)},oa.useLayoutEffect=function(be,Ne){return $.H.useLayoutEffect(be,Ne)},oa.useMemo=function(be,Ne){return $.H.useMemo(be,Ne)},oa.useOptimistic=function(be,Ne){return $.H.useOptimistic(be,Ne)},oa.useReducer=function(be,Ne,tt){return $.H.useReducer(be,Ne,tt)},oa.useRef=function(be){return $.H.useRef(be)},oa.useState=function(be){return $.H.useState(be)},oa.useSyncExternalStore=function(be,Ne,tt){return $.H.useSyncExternalStore(be,Ne,tt)},oa.useTransition=function(){return $.H.useTransition()},oa.version="19.1.1",oa}var c7;function Il(){return c7||(c7=1,r4.exports=ZG()),r4.exports}var Nt=Il();const ni=cu(Nt);var DU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bv=ni.createContext&&ni.createContext(DU),XG=["attr","size","title"];function JG(n,e){if(n==null)return{};var t=eW(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function eW(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ux(){return Ux=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ux.apply(this,arguments)}function h7(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Lx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(t),!0).forEach(function(i){tW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h7(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tW(n,e,t){return e=nW(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nW(n){var e=iW(n,"string");return typeof e=="symbol"?e:e+""}function iW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RU(n){return n&&n.map((e,t)=>ni.createElement(e.tag,Lx({key:t},e.attr),RU(e.child)))}function Ra(n){return e=>ni.createElement(rW,Ux({attr:Lx({},n.attr)},e),RU(n.child))}function rW(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=JG(n,XG),o=r||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),ni.createElement("svg",Ux({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:p,style:Lx(Lx({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&ni.createElement("title",null,a),n.children)};return Bv!==void 0?ni.createElement(Bv.Consumer,null,t=>e(t)):e(DU)}var o4={exports:{}},fC={},a4={exports:{}},s4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d7;function oW(){return d7||(d7=1,function(n){function e(ze,st){var Ct=ze.length;ze.push(st);e:for(;0<Ct;){var nt=Ct-1>>>1,be=ze[nt];if(0<r(be,st))ze[nt]=st,ze[Ct]=be,Ct=nt;else break e}}function t(ze){return ze.length===0?null:ze[0]}function i(ze){if(ze.length===0)return null;var st=ze[0],Ct=ze.pop();if(Ct!==st){ze[0]=Ct;e:for(var nt=0,be=ze.length,Ne=be>>>1;nt<Ne;){var tt=2*(nt+1)-1,lt=ze[tt],kt=tt+1,gt=ze[kt];if(0>r(lt,Ct))kt<be&&0>r(gt,lt)?(ze[nt]=gt,ze[kt]=Ct,nt=kt):(ze[nt]=lt,ze[tt]=Ct,nt=tt);else if(kt<be&&0>r(gt,Ct))ze[nt]=gt,ze[kt]=Ct,nt=kt;else break e}}return st}function r(ze,st){var Ct=ze.sortIndex-st.sortIndex;return Ct!==0?Ct:ze.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();n.unstable_now=function(){return l.now()-o}}var p=[],C=[],M=1,O=null,U=3,K=!1,j=!1,W=!1,Y=!1,te=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ne(ze){for(var st=t(C);st!==null;){if(st.callback===null)i(C);else if(st.startTime<=ze)i(C),st.sortIndex=st.expirationTime,e(p,st);else break;st=t(C)}}function $(ze){if(W=!1,ne(ze),!j)if(t(p)!==null)j=!0,ae||(ae=!0,Ie());else{var st=t(C);st!==null&&xe($,st.startTime-ze)}}var ae=!1,G=-1,ce=5,ge=-1;function ye(){return Y?!0:!(n.unstable_now()-ge<ce)}function we(){if(Y=!1,ae){var ze=n.unstable_now();ge=ze;var st=!0;try{e:{j=!1,W&&(W=!1,J(G),G=-1),K=!0;var Ct=U;try{t:{for(ne(ze),O=t(p);O!==null&&!(O.expirationTime>ze&&ye());){var nt=O.callback;if(typeof nt=="function"){O.callback=null,U=O.priorityLevel;var be=nt(O.expirationTime<=ze);if(ze=n.unstable_now(),typeof be=="function"){O.callback=be,ne(ze),st=!0;break t}O===t(p)&&i(p),ne(ze)}else i(p);O=t(p)}if(O!==null)st=!0;else{var Ne=t(C);Ne!==null&&xe($,Ne.startTime-ze),st=!1}}break e}finally{O=null,U=Ct,K=!1}st=void 0}}finally{st?Ie():ae=!1}}}var Ie;if(typeof oe=="function")Ie=function(){oe(we)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ve=Se.port2;Se.port1.onmessage=we,Ie=function(){Ve.postMessage(null)}}else Ie=function(){te(we,0)};function xe(ze,st){G=te(function(){ze(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ze){ze.callback=null},n.unstable_forceFrameRate=function(ze){0>ze||125<ze?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<ze?Math.floor(1e3/ze):5},n.unstable_getCurrentPriorityLevel=function(){return U},n.unstable_next=function(ze){switch(U){case 1:case 2:case 3:var st=3;break;default:st=U}var Ct=U;U=st;try{return ze()}finally{U=Ct}},n.unstable_requestPaint=function(){Y=!0},n.unstable_runWithPriority=function(ze,st){switch(ze){case 1:case 2:case 3:case 4:case 5:break;default:ze=3}var Ct=U;U=ze;try{return st()}finally{U=Ct}},n.unstable_scheduleCallback=function(ze,st,Ct){var nt=n.unstable_now();switch(typeof Ct=="object"&&Ct!==null?(Ct=Ct.delay,Ct=typeof Ct=="number"&&0<Ct?nt+Ct:nt):Ct=nt,ze){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Ct+be,ze={id:M++,callback:st,priorityLevel:ze,startTime:Ct,expirationTime:be,sortIndex:-1},Ct>nt?(ze.sortIndex=Ct,e(C,ze),t(p)===null&&ze===t(C)&&(W?(J(G),G=-1):W=!0,xe($,Ct-nt))):(ze.sortIndex=be,e(p,ze),j||K||(j=!0,ae||(ae=!0,Ie()))),ze},n.unstable_shouldYield=ye,n.unstable_wrapCallback=function(ze){var st=U;return function(){var Ct=U;U=st;try{return ze.apply(this,arguments)}finally{U=Ct}}}}(s4)),s4}var f7;function aW(){return f7||(f7=1,a4.exports=oW()),a4.exports}var l4={exports:{}},Kh={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p7;function sW(){if(p7)return Kh;p7=1;var n=Il();function e(p){var C="https://react.dev/errors/"+p;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)C+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+p+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,C,M){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:O==null?null:""+O,children:p,containerInfo:C,implementation:M}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(p,C){if(p==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return Kh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kh.createPortal=function(p,C){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(e(299));return a(p,C,null,M)},Kh.flushSync=function(p){var C=l.T,M=i.p;try{if(l.T=null,i.p=2,p)return p()}finally{l.T=C,i.p=M,i.d.f()}},Kh.preconnect=function(p,C){typeof p=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,i.d.C(p,C))},Kh.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Kh.preinit=function(p,C){if(typeof p=="string"&&C&&typeof C.as=="string"){var M=C.as,O=o(M,C.crossOrigin),U=typeof C.integrity=="string"?C.integrity:void 0,K=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;M==="style"?i.d.S(p,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:K}):M==="script"&&i.d.X(p,{crossOrigin:O,integrity:U,fetchPriority:K,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},Kh.preinitModule=function(p,C){if(typeof p=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var M=o(C.as,C.crossOrigin);i.d.M(p,{crossOrigin:M,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&i.d.M(p)},Kh.preload=function(p,C){if(typeof p=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var M=C.as,O=o(M,C.crossOrigin);i.d.L(p,M,{crossOrigin:O,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},Kh.preloadModule=function(p,C){if(typeof p=="string")if(C){var M=o(C.as,C.crossOrigin);i.d.m(p,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:M,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else i.d.m(p)},Kh.requestFormReset=function(p){i.d.r(p)},Kh.unstable_batchedUpdates=function(p,C){return p(C)},Kh.useFormState=function(p,C,M){return l.H.useFormState(p,C,M)},Kh.useFormStatus=function(){return l.H.useHostTransitionStatus()},Kh.version="19.1.1",Kh}var m7;function I3(){if(m7)return l4.exports;m7=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l4.exports=sW(),l4.exports}var g7;function lW(){if(g7)return fC;g7=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=aW(),e=Il(),t=I3();function i(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function a(u){var m=u,b=u;if(u.alternate)for(;m.return;)m=m.return;else{u=m;do m=u,(m.flags&4098)!==0&&(b=m.return),u=m.return;while(u)}return m.tag===3?b:null}function l(u){if(u.tag===13){var m=u.memoizedState;if(m===null&&(u=u.alternate,u!==null&&(m=u.memoizedState)),m!==null)return m.dehydrated}return null}function o(u){if(a(u)!==u)throw Error(i(188))}function p(u){var m=u.alternate;if(!m){if(m=a(u),m===null)throw Error(i(188));return m!==u?null:u}for(var b=u,T=m;;){var Q=b.return;if(Q===null)break;var se=Q.alternate;if(se===null){if(T=Q.return,T!==null){b=T;continue}break}if(Q.child===se.child){for(se=Q.child;se;){if(se===b)return o(Q),u;if(se===T)return o(Q),m;se=se.sibling}throw Error(i(188))}if(b.return!==T.return)b=Q,T=se;else{for(var Ge=!1,ot=Q.child;ot;){if(ot===b){Ge=!0,b=Q,T=se;break}if(ot===T){Ge=!0,T=Q,b=se;break}ot=ot.sibling}if(!Ge){for(ot=se.child;ot;){if(ot===b){Ge=!0,b=se,T=Q;break}if(ot===T){Ge=!0,T=se,b=Q;break}ot=ot.sibling}if(!Ge)throw Error(i(189))}}if(b.alternate!==T)throw Error(i(190))}if(b.tag!==3)throw Error(i(188));return b.stateNode.current===b?u:m}function C(u){var m=u.tag;if(m===5||m===26||m===27||m===6)return u;for(u=u.child;u!==null;){if(m=C(u),m!==null)return m;u=u.sibling}return null}var M=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Ie(u){return u===null||typeof u!="object"?null:(u=we&&u[we]||u["@@iterator"],typeof u=="function"?u:null)}var Se=Symbol.for("react.client.reference");function Ve(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Se?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case j:return"Fragment";case Y:return"Profiler";case W:return"StrictMode";case $:return"Suspense";case ae:return"SuspenseList";case ge:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case K:return"Portal";case oe:return(u.displayName||"Context")+".Provider";case J:return(u._context.displayName||"Context")+".Consumer";case ne:var m=u.render;return u=u.displayName,u||(u=m.displayName||m.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case G:return m=u.displayName||null,m!==null?m:Ve(u.type)||"Memo";case ce:m=u._payload,u=u._init;try{return Ve(u(m))}catch{}}return null}var xe=Array.isArray,ze=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},nt=[],be=-1;function Ne(u){return{current:u}}function tt(u){0>be||(u.current=nt[be],nt[be]=null,be--)}function lt(u,m){be++,nt[be]=u.current,u.current=m}var kt=Ne(null),gt=Ne(null),St=Ne(null),Ut=Ne(null);function Fe(u,m){switch(lt(St,m),lt(gt,u),lt(kt,null),m.nodeType){case 9:case 11:u=(u=m.documentElement)&&(u=u.namespaceURI)?Al(u):0;break;default:if(u=m.tagName,m=m.namespaceURI)m=Al(m),u=ul(m,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}tt(kt),lt(kt,u)}function Ke(){tt(kt),tt(gt),tt(St)}function Re(u){u.memoizedState!==null&&lt(Ut,u);var m=kt.current,b=ul(m,u.type);m!==b&&(lt(gt,u),lt(kt,b))}function He(u){gt.current===u&&(tt(kt),tt(gt)),Ut.current===u&&(tt(Ut),Qt._currentValue=Ct)}var bt=Object.prototype.hasOwnProperty,_t=n.unstable_scheduleCallback,Ot=n.unstable_cancelCallback,qt=n.unstable_shouldYield,Kt=n.unstable_requestPaint,on=n.unstable_now,Jn=n.unstable_getCurrentPriorityLevel,Wt=n.unstable_ImmediatePriority,$n=n.unstable_UserBlockingPriority,On=n.unstable_NormalPriority,Bn=n.unstable_LowPriority,In=n.unstable_IdlePriority,Oi=n.log,ei=n.unstable_setDisableYieldValue,Kn=null,je=null;function de(u){if(typeof Oi=="function"&&ei(u),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Kn,u)}catch{}}var re=Math.clz32?Math.clz32:Te,le=Math.log,pe=Math.LN2;function Te(u){return u>>>=0,u===0?32:31-(le(u)/pe|0)|0}var We=256,dt=4194304;function Ye(u){var m=u&42;if(m!==0)return m;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function De(u,m,b){var T=u.pendingLanes;if(T===0)return 0;var Q=0,se=u.suspendedLanes,Ge=u.pingedLanes;u=u.warmLanes;var ot=T&134217727;return ot!==0?(T=ot&~se,T!==0?Q=Ye(T):(Ge&=ot,Ge!==0?Q=Ye(Ge):b||(b=ot&~u,b!==0&&(Q=Ye(b))))):(ot=T&~se,ot!==0?Q=Ye(ot):Ge!==0?Q=Ye(Ge):b||(b=T&~u,b!==0&&(Q=Ye(b)))),Q===0?0:m!==0&&m!==Q&&(m&se)===0&&(se=Q&-Q,b=m&-m,se>=b||se===32&&(b&4194048)!==0)?m:Q}function Ze(u,m){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&m)===0}function g(u,m){switch(u){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mt(){var u=We;return We<<=1,(We&4194048)===0&&(We=256),u}function ht(){var u=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),u}function Tt(u){for(var m=[],b=0;31>b;b++)m.push(u);return m}function it(u,m){u.pendingLanes|=m,m!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function en(u,m,b,T,Q,se){var Ge=u.pendingLanes;u.pendingLanes=b,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=b,u.entangledLanes&=b,u.errorRecoveryDisabledLanes&=b,u.shellSuspendCounter=0;var ot=u.entanglements,zt=u.expirationTimes,hn=u.hiddenUpdates;for(b=Ge&~b;0<b;){var kn=31-re(b),Nn=1<<kn;ot[kn]=0,zt[kn]=-1;var pn=hn[kn];if(pn!==null)for(hn[kn]=null,kn=0;kn<pn.length;kn++){var fn=pn[kn];fn!==null&&(fn.lane&=-536870913)}b&=~Nn}T!==0&&Dn(u,T,0),se!==0&&Q===0&&u.tag!==0&&(u.suspendedLanes|=se&~(Ge&~m))}function Dn(u,m,b){u.pendingLanes|=m,u.suspendedLanes&=~m;var T=31-re(m);u.entangledLanes|=m,u.entanglements[T]=u.entanglements[T]|1073741824|b&4194090}function Mn(u,m){var b=u.entangledLanes|=m;for(u=u.entanglements;b;){var T=31-re(b),Q=1<<T;Q&m|u[T]&m&&(u[T]|=m),b&=~Q}}function ii(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Wn(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Hi(){var u=st.p;return u!==0?u:(u=window.event,u===void 0?32:lr(u.type))}function tr(u,m){var b=st.p;try{return st.p=u,m()}finally{st.p=b}}var Ei=Math.random().toString(36).slice(2),hi="__reactFiber$"+Ei,ti="__reactProps$"+Ei,Qi="__reactContainer$"+Ei,wn="__reactEvents$"+Ei,uo="__reactListeners$"+Ei,Vi="__reactHandles$"+Ei,ya="__reactResources$"+Ei,ko="__reactMarker$"+Ei;function Zn(u){delete u[hi],delete u[ti],delete u[wn],delete u[uo],delete u[Vi]}function Ar(u){var m=u[hi];if(m)return m;for(var b=u.parentNode;b;){if(m=b[Qi]||b[hi]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(u=Fp(u);u!==null;){if(b=u[hi])return b;u=Fp(u)}return m}u=b,b=u.parentNode}return null}function zi(u){if(u=u[hi]||u[Qi]){var m=u.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return u}return null}function Cr(u){var m=u.tag;if(m===5||m===26||m===27||m===6)return u.stateNode;throw Error(i(33))}function ja(u){var m=u[ya];return m||(m=u[ya]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function kr(u){u[ko]=!0}var ji=new Set,yl={};function Pa(u,m){So(u,m),So(u+"Capture",m)}function So(u,m){for(yl[u]=m,u=0;u<m.length;u++)ji.add(m[u])}var ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},co={};function QA(u){return bt.call(co,u)?!0:bt.call(Tl,u)?!1:ts.test(u)?co[u]=!0:(Tl[u]=!0,!1)}function Ka(u,m,b){if(QA(m))if(b===null)u.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":u.removeAttribute(m);return;case"boolean":var T=m.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){u.removeAttribute(m);return}}u.setAttribute(m,""+b)}}function $i(u,m,b){if(b===null)u.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttribute(m,""+b)}}function Mi(u,m,b,T){if(T===null)u.removeAttribute(b);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(b);return}u.setAttributeNS(m,b,""+T)}}var cs,Sa;function Zo(u){if(cs===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);cs=m&&m[1]||"",Sa=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+u+Sa}var $e=!1;function Et(u,m){if(!u||$e)return"";$e=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(m){var Nn=function(){throw Error()};if(Object.defineProperty(Nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nn,[])}catch(fn){var pn=fn}Reflect.construct(u,[],Nn)}else{try{Nn.call()}catch(fn){pn=fn}u.call(Nn.prototype)}}else{try{throw Error()}catch(fn){pn=fn}(Nn=u())&&typeof Nn.catch=="function"&&Nn.catch(function(){})}}catch(fn){if(fn&&pn&&typeof fn.stack=="string")return[fn.stack,pn.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Q=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");Q&&Q.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var se=T.DetermineComponentFrameRoot(),Ge=se[0],ot=se[1];if(Ge&&ot){var zt=Ge.split(`
`),hn=ot.split(`
`);for(Q=T=0;T<zt.length&&!zt[T].includes("DetermineComponentFrameRoot");)T++;for(;Q<hn.length&&!hn[Q].includes("DetermineComponentFrameRoot");)Q++;if(T===zt.length||Q===hn.length)for(T=zt.length-1,Q=hn.length-1;1<=T&&0<=Q&&zt[T]!==hn[Q];)Q--;for(;1<=T&&0<=Q;T--,Q--)if(zt[T]!==hn[Q]){if(T!==1||Q!==1)do if(T--,Q--,0>Q||zt[T]!==hn[Q]){var kn=`
`+zt[T].replace(" at new "," at ");return u.displayName&&kn.includes("<anonymous>")&&(kn=kn.replace("<anonymous>",u.displayName)),kn}while(1<=T&&0<=Q);break}}}finally{$e=!1,Error.prepareStackTrace=b}return(b=u?u.displayName||u.name:"")?Zo(b):""}function xn(u){switch(u.tag){case 26:case 27:case 5:return Zo(u.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 15:return Et(u.type,!1);case 11:return Et(u.type.render,!1);case 1:return Et(u.type,!0);case 31:return Zo("Activity");default:return""}}function Gn(u){try{var m="";do m+=xn(u),u=u.return;while(u);return m}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function rn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function si(u){var m=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function to(u){var m=si(u)?"checked":"value",b=Object.getOwnPropertyDescriptor(u.constructor.prototype,m),T=""+u[m];if(!u.hasOwnProperty(m)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var Q=b.get,se=b.set;return Object.defineProperty(u,m,{configurable:!0,get:function(){return Q.call(this)},set:function(Ge){T=""+Ge,se.call(this,Ge)}}),Object.defineProperty(u,m,{enumerable:b.enumerable}),{getValue:function(){return T},setValue:function(Ge){T=""+Ge},stopTracking:function(){u._valueTracker=null,delete u[m]}}}}function Eo(u){u._valueTracker||(u._valueTracker=to(u))}function hs(u){if(!u)return!1;var m=u._valueTracker;if(!m)return!0;var b=m.getValue(),T="";return u&&(T=si(u)?u.checked?"true":"false":u.value),u=T,u!==b?(m.setValue(u),!0):!1}function zs(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var YA=/[\n"\\]/g;function Yi(u){return u.replace(YA,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Pu(u,m,b,T,Q,se,Ge,ot){u.name="",Ge!=null&&typeof Ge!="function"&&typeof Ge!="symbol"&&typeof Ge!="boolean"?u.type=Ge:u.removeAttribute("type"),m!=null?Ge==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+rn(m)):u.value!==""+rn(m)&&(u.value=""+rn(m)):Ge!=="submit"&&Ge!=="reset"||u.removeAttribute("value"),m!=null?vl(u,Ge,rn(m)):b!=null?vl(u,Ge,rn(b)):T!=null&&u.removeAttribute("value"),Q==null&&se!=null&&(u.defaultChecked=!!se),Q!=null&&(u.checked=Q&&typeof Q!="function"&&typeof Q!="symbol"),ot!=null&&typeof ot!="function"&&typeof ot!="symbol"&&typeof ot!="boolean"?u.name=""+rn(ot):u.removeAttribute("name")}function bA(u,m,b,T,Q,se,Ge,ot){if(se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(u.type=se),m!=null||b!=null){if(!(se!=="submit"&&se!=="reset"||m!=null))return;b=b!=null?""+rn(b):"",m=m!=null?""+rn(m):b,ot||m===u.value||(u.value=m),u.defaultValue=m}T=T??Q,T=typeof T!="function"&&typeof T!="symbol"&&!!T,u.checked=ot?u.checked:!!T,u.defaultChecked=!!T,Ge!=null&&typeof Ge!="function"&&typeof Ge!="symbol"&&typeof Ge!="boolean"&&(u.name=Ge)}function vl(u,m,b){m==="number"&&zs(u.ownerDocument)===u||u.defaultValue===""+b||(u.defaultValue=""+b)}function Es(u,m,b,T){if(u=u.options,m){m={};for(var Q=0;Q<b.length;Q++)m["$"+b[Q]]=!0;for(b=0;b<u.length;b++)Q=m.hasOwnProperty("$"+u[b].value),u[b].selected!==Q&&(u[b].selected=Q),Q&&T&&(u[b].defaultSelected=!0)}else{for(b=""+rn(b),m=null,Q=0;Q<u.length;Q++){if(u[Q].value===b){u[Q].selected=!0,T&&(u[Q].defaultSelected=!0);return}m!==null||u[Q].disabled||(m=u[Q])}m!==null&&(m.selected=!0)}}function Mc(u,m,b){if(m!=null&&(m=""+rn(m),m!==u.value&&(u.value=m),b==null)){u.defaultValue!==m&&(u.defaultValue=m);return}u.defaultValue=b!=null?""+rn(b):""}function Hs(u,m,b,T){if(m==null){if(T!=null){if(b!=null)throw Error(i(92));if(xe(T)){if(1<T.length)throw Error(i(93));T=T[0]}b=T}b==null&&(b=""),m=b}b=rn(m),u.defaultValue=b,T=u.textContent,T===b&&T!==""&&T!==null&&(u.value=T)}function Xo(u,m){if(m){var b=u.firstChild;if(b&&b===u.lastChild&&b.nodeType===3){b.nodeValue=m;return}}u.textContent=m}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fr(u,m,b){var T=m.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?T?u.setProperty(m,""):m==="float"?u.cssFloat="":u[m]="":T?u.setProperty(m,b):typeof b!="number"||b===0||Do.has(m)?m==="float"?u.cssFloat=b:u[m]=(""+b).trim():u[m]=b+"px"}function Ul(u,m,b){if(m!=null&&typeof m!="object")throw Error(i(62));if(u=u.style,b!=null){for(var T in b)!b.hasOwnProperty(T)||m!=null&&m.hasOwnProperty(T)||(T.indexOf("--")===0?u.setProperty(T,""):T==="float"?u.cssFloat="":u[T]="");for(var Q in m)T=m[Q],m.hasOwnProperty(Q)&&b[Q]!==T&&fr(u,Q,T)}else for(var se in m)m.hasOwnProperty(se)&&fr(u,se,m[se])}function va(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(u){return xA.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var rA=null;function hu(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var No=null,Bo=null;function Na(u){var m=zi(u);if(m&&(u=m.stateNode)){var b=u[ti]||null;e:switch(u=m.stateNode,m.type){case"input":if(Pu(u,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),m=b.name,b.type==="radio"&&m!=null){for(b=u;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Yi(""+m)+'"][type="radio"]'),m=0;m<b.length;m++){var T=b[m];if(T!==u&&T.form===u.form){var Q=T[ti]||null;if(!Q)throw Error(i(90));Pu(T,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name)}}for(m=0;m<b.length;m++)T=b[m],T.form===u.form&&hs(T)}break e;case"textarea":Mc(u,b.value,b.defaultValue);break e;case"select":m=b.value,m!=null&&Es(u,!!b.multiple,m,!1)}}}var Ea=!1;function sa(u,m,b){if(Ea)return u(m,b);Ea=!0;try{var T=u(m);return T}finally{if(Ea=!1,(No!==null||Bo!==null)&&(Z0(),No&&(m=No,u=Bo,Bo=No=null,Na(m),u)))for(m=0;m<u.length;m++)Na(u[m])}}function Rr(u,m){var b=u.stateNode;if(b===null)return null;var T=b[ti]||null;if(T===null)return null;b=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(b&&typeof b!="function")throw Error(i(231,m,typeof b));return b}var oA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(oA)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Ga=!1}var Ca=null,Pr=null,Cl=null;function Xi(){if(Cl)return Cl;var u,m=Pr,b=m.length,T,Q="value"in Ca?Ca.value:Ca.textContent,se=Q.length;for(u=0;u<b&&m[u]===Q[u];u++);var Ge=b-u;for(T=1;T<=Ge&&m[b-T]===Q[se-T];T++);return Cl=Q.slice(u,1<T?1-T:void 0)}function wi(u){var m=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&m===13&&(u=13)):u=m,u===10&&(u=13),32<=u||u===13?u:0}function qr(){return!0}function ee(){return!1}function Oe(u){function m(b,T,Q,se,Ge){this._reactName=b,this._targetInst=Q,this.type=T,this.nativeEvent=se,this.target=Ge,this.currentTarget=null;for(var ot in u)u.hasOwnProperty(ot)&&(b=u[ot],this[ot]=b?b(se):se[ot]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?qr:ee,this.isPropagationStopped=ee,this}return M(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),m}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gt=Oe(at),Si=M({},at,{view:0,detail:0}),Xn=Oe(Si),Zi,ar,Ri,Ji=M({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HA,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ri&&(Ri&&u.type==="mousemove"?(Zi=u.screenX-Ri.screenX,ar=u.screenY-Ri.screenY):ar=Zi=0,Ri=u),Zi)},movementY:function(u){return"movementY"in u?u.movementY:ar}}),no=Oe(Ji),ho=M({},Ji,{dataTransfer:0}),cr=Oe(ho),gr=M({},Si,{relatedTarget:0}),fo=Oe(gr),Go=M({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Oe(Go),Vs=M({},at,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Fl=Oe(Vs),qA=M({},at,{data:0}),gs=Oe(qA),yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ua={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(u){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(u):(u=vd[u])?!!m[u]:!1}function HA(){return Ku}var yh=M({},Si,{key:function(u){if(u.key){var m=yd[u.key]||u.key;if(m!=="Unidentified")return m}return u.type==="keypress"?(u=wi(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ua[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HA,charCode:function(u){return u.type==="keypress"?wi(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?wi(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Nh=Oe(yh),mo=M({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=Oe(mo),Cd=M({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HA}),fm=Oe(Cd),vh=M({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=Oe(vh),o0=M({},Ji,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=Oe(o0),Rf=M({},at,{newState:0,oldState:0}),VA=Oe(Rf),is=[9,13,27,32],bd=oA&&"CompositionEvent"in window,zl=null;oA&&"documentMode"in document&&(zl=document.documentMode);var xd=oA&&"TextEvent"in window&&!zl,Gh=oA&&(!bd||zl&&8<zl&&11>=zl),Hc=" ",Wh=!1;function Pf(u,m){switch(u){case"keyup":return is.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ch(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var _h=!1;function Qh(u,m){switch(u){case"compositionend":return Ch(m);case"keypress":return m.which!==32?null:(Wh=!0,Hc);case"textInput":return u=m.data,u===Hc&&Wh?null:u;default:return null}}function Kf(u,m){if(_h)return u==="compositionend"||!bd&&Pf(u,m)?(u=Xi(),Cl=Pr=Ca=null,_h=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Gh&&m.locale!=="ko"?null:m.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(u){var m=u&&u.nodeName&&u.nodeName.toLowerCase();return m==="input"?!!aA[u.type]:m==="textarea"}function ac(u,m,b,T){No?Bo?Bo.push(T):Bo=[T]:No=T,m=m0(m,"onChange"),0<m.length&&(b=new Gt("onChange","change",null,b,T),u.push({event:b,listeners:m}))}var sA=null,wc=null;function Md(u){_y(u,0)}function wd(u){var m=Cr(u);if(hs(m))return u}function Uu(u,m){if(u==="change")return m}var $A=!1;if(oA){var Yh;if(oA){var Sc="oninput"in document;if(!Sc){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),Sc=typeof qh.oninput=="function"}Yh=Sc}else Yh=!1;$A=Yh&&(!document.documentMode||9<document.documentMode)}function pm(){sA&&(sA.detachEvent("onpropertychange",Vc),wc=sA=null)}function Vc(u){if(u.propertyName==="value"&&wd(wc)){var m=[];ac(m,wc,u,hu(u)),sa(Md,m)}}function Zd(u,m,b){u==="focusin"?(pm(),sA=m,wc=b,sA.attachEvent("onpropertychange",Vc)):u==="focusout"&&pm()}function du(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return wd(wc)}function ZA(u,m){if(u==="click")return wd(m)}function wp(u,m){if(u==="input"||u==="change")return wd(m)}function Lf(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var MA=typeof Object.is=="function"?Object.is:Lf;function sc(u,m){if(MA(u,m))return!0;if(typeof u!="object"||u===null||typeof m!="object"||m===null)return!1;var b=Object.keys(u),T=Object.keys(m);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var Q=b[T];if(!bt.call(m,Q)||!MA(u[Q],m[Q]))return!1}return!0}function wA(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Lu(u,m){var b=wA(u);u=0;for(var T;b;){if(b.nodeType===3){if(T=u+b.textContent.length,u<=m&&T>=m)return{node:b,offset:m-u};u=T}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=wA(b)}}function Oo(u,m){return u&&m?u===m?!0:u&&u.nodeType===3?!1:m&&m.nodeType===3?Oo(u,m.parentNode):"contains"in u?u.contains(m):u.compareDocumentPosition?!!(u.compareDocumentPosition(m)&16):!1:!1}function bh(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var m=zs(u.document);m instanceof u.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)u=m.contentWindow;else break;m=zs(u.document)}return m}function Sd(u){var m=u&&u.nodeName&&u.nodeName.toLowerCase();return m&&(m==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||m==="textarea"||u.contentEditable==="true")}var Sp=oA&&"documentMode"in document&&11>=document.documentMode,Ec=null,jl=null,Zt=null,Sn=!1;function vn(u,m,b){var T=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Sn||Ec==null||Ec!==zs(T)||(T=Ec,"selectionStart"in T&&Sd(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Zt&&sc(Zt,T)||(Zt=T,T=m0(jl,"onSelect"),0<T.length&&(m=new Gt("onSelect","select",null,m,b),u.push({event:m,listeners:T}),m.target=Ec)))}function Ti(u,m){var b={};return b[u.toLowerCase()]=m.toLowerCase(),b["Webkit"+u]="webkit"+m,b["Moz"+u]="moz"+m,b}var Er={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},Io={},$s={};oA&&($s=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Ro(u){if(Io[u])return Io[u];if(!Er[u])return u;var m=Er[u],b;for(b in m)if(m.hasOwnProperty(b)&&b in $s)return Io[u]=m[b];return u}var $c=Ro("animationend"),Xd=Ro("animationiteration"),lA=Ro("animationstart"),Ed=Ro("transitionrun"),fu=Ro("transitionstart"),SA=Ro("transitioncancel"),EA=Ro("transitionend"),kl=new Map,Wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wo.push("scrollEnd");function pu(u,m){kl.set(u,m),Pa(m,[u])}var Hh=new WeakMap;function Wa(u,m){if(typeof u=="object"&&u!==null){var b=Hh.get(u);return b!==void 0?b:(m={value:u,source:m,stack:Gn(m)},Hh.set(u,m),m)}return{value:u,source:m,stack:Gn(m)}}var Zs=[],Bs=0,XA=0;function Nl(){for(var u=Bs,m=XA=Bs=0;m<u;){var b=Zs[m];Zs[m++]=null;var T=Zs[m];Zs[m++]=null;var Q=Zs[m];Zs[m++]=null;var se=Zs[m];if(Zs[m++]=null,T!==null&&Q!==null){var Ge=T.pending;Ge===null?Q.next=Q:(Q.next=Ge.next,Ge.next=Q),T.pending=Q}se!==0&&Bc(b,Q,se)}}function BA(u,m,b,T){Zs[Bs++]=u,Zs[Bs++]=m,Zs[Bs++]=b,Zs[Bs++]=T,XA|=T,u.lanes|=T,u=u.alternate,u!==null&&(u.lanes|=T)}function lc(u,m,b,T){return BA(u,m,b,T),xh(u)}function OA(u,m){return BA(u,null,null,m),xh(u)}function Bc(u,m,b){u.lanes|=b;var T=u.alternate;T!==null&&(T.lanes|=b);for(var Q=!1,se=u.return;se!==null;)se.childLanes|=b,T=se.alternate,T!==null&&(T.childLanes|=b),se.tag===22&&(u=se.stateNode,u===null||u._visibility&1||(Q=!0)),u=se,se=se.return;return u.tag===3?(se=u.stateNode,Q&&m!==null&&(Q=31-re(b),u=se.hiddenUpdates,T=u[Q],T===null?u[Q]=[m]:T.push(m),m.lane=b|536870912),se):null}function xh(u){if(50<tp)throw tp=0,np=null,Error(i(185));for(var m=u.return;m!==null;)u=m,m=u.return;return u.tag===3?u.stateNode:null}var Dr={};function Ac(u,m,b,T){this.tag=u,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function JA(u,m,b,T){return new Ac(u,m,b,T)}function Oc(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Os(u,m){var b=u.alternate;return b===null?(b=JA(u.tag,m,u.key,u.mode),b.elementType=u.elementType,b.type=u.type,b.stateNode=u.stateNode,b.alternate=u,u.alternate=b):(b.pendingProps=m,b.type=u.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=u.flags&65011712,b.childLanes=u.childLanes,b.lanes=u.lanes,b.child=u.child,b.memoizedProps=u.memoizedProps,b.memoizedState=u.memoizedState,b.updateQueue=u.updateQueue,m=u.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=u.sibling,b.index=u.index,b.ref=u.ref,b.refCleanup=u.refCleanup,b}function Mh(u,m){u.flags&=65011714;var b=u.alternate;return b===null?(u.childLanes=0,u.lanes=m,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=b.childLanes,u.lanes=b.lanes,u.child=b.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=b.memoizedProps,u.memoizedState=b.memoizedState,u.updateQueue=b.updateQueue,u.type=b.type,m=b.dependencies,u.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),u}function Bd(u,m,b,T,Q,se){var Ge=0;if(T=u,typeof u=="function")Oc(u)&&(Ge=1);else if(typeof u=="string")Ge=H(u,b,kt.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case ge:return u=JA(31,b,m,Q),u.elementType=ge,u.lanes=se,u;case j:return mu(b.children,Q,se,m);case W:Ge=8,Q|=24;break;case Y:return u=JA(12,b,m,Q|2),u.elementType=Y,u.lanes=se,u;case $:return u=JA(13,b,m,Q),u.elementType=$,u.lanes=se,u;case ae:return u=JA(19,b,m,Q),u.elementType=ae,u.lanes=se,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case te:case oe:Ge=10;break e;case J:Ge=9;break e;case ne:Ge=11;break e;case G:Ge=14;break e;case ce:Ge=16,T=null;break e}Ge=29,b=Error(i(130,u===null?"null":typeof u,"")),T=null}return m=JA(Ge,b,m,Q),m.elementType=u,m.type=T,m.lanes=se,m}function mu(u,m,b,T){return u=JA(7,u,T,m),u.lanes=b,u}function Od(u,m,b){return u=JA(6,u,null,m),u.lanes=b,u}function Zc(u,m,b){return m=JA(4,u.children!==null?u.children:[],u.key,m),m.lanes=b,m.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},m}var IA=[],Fu=0,wh=null,Vh=0,TA=[],Dl=0,Qo=null,la=1,zu="";function ju(u,m){IA[Fu++]=Vh,IA[Fu++]=wh,wh=u,Vh=m}function Ic(u,m,b){TA[Dl++]=la,TA[Dl++]=zu,TA[Dl++]=Qo,Qo=u;var T=la;u=zu;var Q=32-re(T)-1;T&=~(1<<Q),b+=1;var se=32-re(m)+Q;if(30<se){var Ge=Q-Q%5;se=(T&(1<<Ge)-1).toString(32),T>>=Ge,Q-=Ge,la=1<<32-re(m)+Q|b<<Q|T,zu=se+u}else la=1<<se|b<<Q|T,zu=u}function Xc(u){u.return!==null&&(ju(u,1),Ic(u,1,0))}function Jc(u){for(;u===wh;)wh=IA[--Fu],IA[Fu]=null,Vh=IA[--Fu],IA[Fu]=null;for(;u===Qo;)Qo=TA[--Dl],TA[Dl]=null,zu=TA[--Dl],TA[Dl]=null,la=TA[--Dl],TA[Dl]=null}var _a=null,xa=null,Xr=!1,AA=null,js=!1,eh=Error(i(519));function gu(u){var m=Error(i(418,""));throw Nu(Wa(m,u)),eh}function Jd(u){var m=u.stateNode,b=u.type,T=u.memoizedProps;switch(m[hi]=u,m[ti]=T,b){case"dialog":ra("cancel",m),ra("close",m);break;case"iframe":case"object":case"embed":ra("load",m);break;case"video":case"audio":for(b=0;b<f0.length;b++)ra(f0[b],m);break;case"source":ra("error",m);break;case"img":case"image":case"link":ra("error",m),ra("load",m);break;case"details":ra("toggle",m);break;case"input":ra("invalid",m),bA(m,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0),Eo(m);break;case"select":ra("invalid",m);break;case"textarea":ra("invalid",m),Hs(m,T.value,T.defaultValue,T.children),Eo(m)}b=T.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||m.textContent===""+b||T.suppressHydrationWarning===!0||s1(m.textContent,b)?(T.popover!=null&&(ra("beforetoggle",m),ra("toggle",m)),T.onScroll!=null&&ra("scroll",m),T.onScrollEnd!=null&&ra("scrollend",m),T.onClick!=null&&(m.onclick=Ju),m=!0):m=!1,m||gu(u)}function ys(u){for(_a=u.return;_a;)switch(_a.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:_a=_a.return}}function ol(u){if(u!==_a)return!1;if(!Xr)return ys(u),Xr=!0,!1;var m=u.tag,b;if((b=m!==3&&m!==27)&&((b=m===5)&&(b=u.type,b=!(b!=="form"&&b!=="button")||ld(u.type,u.memoizedProps)),b=!b),b&&xa&&gu(u),ys(u),m===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,m=0;u;){if(u.nodeType===8)if(b=u.data,b==="/$"){if(m===0){xa=Ad(u.nextSibling);break e}m--}else b!=="$"&&b!=="$!"&&b!=="$?"||m++;u=u.nextSibling}xa=null}}else m===27?(m=xa,ch(u.type)?(u=u1,u1=null,xa=u):xa=m):xa=_a?Ad(u.stateNode.nextSibling):null;return!0}function Ns(){xa=_a=null,Xr=!1}function ef(){var u=AA;return u!==null&&(Fc===null?Fc=u:Fc.push.apply(Fc,u),AA=null),u}function Nu(u){AA===null?AA=[u]:AA.push(u)}var Sh=Ne(null),eu=null,rt=null;function Xs(u,m,b){lt(Sh,m._currentValue),m._currentValue=b}function Qa(u){u._currentValue=Sh.current,tt(Sh)}function Jo(u,m,b){for(;u!==null;){var T=u.alternate;if((u.childLanes&m)!==m?(u.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),u===b)break;u=u.return}}function yr(u,m,b,T){var Q=u.child;for(Q!==null&&(Q.return=u);Q!==null;){var se=Q.dependencies;if(se!==null){var Ge=Q.child;se=se.firstContext;e:for(;se!==null;){var ot=se;se=Q;for(var zt=0;zt<m.length;zt++)if(ot.context===m[zt]){se.lanes|=b,ot=se.alternate,ot!==null&&(ot.lanes|=b),Jo(se.return,b,u),T||(Ge=null);break e}se=ot.next}}else if(Q.tag===18){if(Ge=Q.return,Ge===null)throw Error(i(341));Ge.lanes|=b,se=Ge.alternate,se!==null&&(se.lanes|=b),Jo(Ge,b,u),Ge=null}else Ge=Q.child;if(Ge!==null)Ge.return=Q;else for(Ge=Q;Ge!==null;){if(Ge===u){Ge=null;break}if(Q=Ge.sibling,Q!==null){Q.return=Ge.return,Ge=Q;break}Ge=Ge.return}Q=Ge}}function vs(u,m,b,T){u=null;for(var Q=m,se=!1;Q!==null;){if(!se){if((Q.flags&524288)!==0)se=!0;else if((Q.flags&262144)!==0)break}if(Q.tag===10){var Ge=Q.alternate;if(Ge===null)throw Error(i(387));if(Ge=Ge.memoizedProps,Ge!==null){var ot=Q.type;MA(Q.pendingProps.value,Ge.value)||(u!==null?u.push(ot):u=[ot])}}else if(Q===Ut.current){if(Ge=Q.alternate,Ge===null)throw Error(i(387));Ge.memoizedState.memoizedState!==Q.memoizedState.memoizedState&&(u!==null?u.push(Qt):u=[Qt])}Q=Q.return}u!==null&&yr(m,u,b,T),m.flags|=262144}function th(u){for(u=u.firstContext;u!==null;){if(!MA(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Eh(u){eu=u,rt=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Po(u){return kA(eu,u)}function nh(u,m){return eu===null&&Eh(u),kA(u,m)}function kA(u,m){var b=m._currentValue;if(m={context:m,memoizedValue:b,next:null},rt===null){if(u===null)throw Error(i(308));rt=m,u.dependencies={lanes:0,firstContext:m},u.flags|=524288}else rt=rt.next=m;return b}var Id=typeof AbortController<"u"?AbortController:function(){var u=[],m=this.signal={aborted:!1,addEventListener:function(b,T){u.push(T)}};this.abort=function(){m.aborted=!0,u.forEach(function(b){return b()})}},tf=n.unstable_scheduleCallback,Ep=n.unstable_NormalPriority,Ma={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new Id,data:new Map,refCount:0}}function ih(u){u.refCount--,u.refCount===0&&tf(Ep,function(){u.controller.abort()})}var Gu=null,nf=0,al=0,rs=null;function $h(u,m){if(Gu===null){var b=Gu=[];nf=0,al=Dm(),rs={status:"pending",value:void 0,then:function(T){b.push(T)}}}return nf++,m.then(uA,uA),m}function uA(){if(--nf===0&&Gu!==null){rs!==null&&(rs.status="fulfilled");var u=Gu;Gu=null,al=0,rs=null;for(var m=0;m<u.length;m++)(0,u[m])()}}function Td(u,m){var b=[],T={status:"pending",value:null,reason:null,then:function(Q){b.push(Q)}};return u.then(function(){T.status="fulfilled",T.value=m;for(var Q=0;Q<b.length;Q++)(0,b[Q])(m)},function(Q){for(T.status="rejected",T.reason=Q,Q=0;Q<b.length;Q++)(0,b[Q])(void 0)}),T}var rf=ze.S;ze.S=function(u,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&$h(u,m),rf!==null&&rf(u,m)};var _l=Ne(null);function Tc(){var u=_l.current;return u!==null?u:Qs.pooledCache}function Ff(u,m){m===null?lt(_l,_l.current):lt(_l,m.pool)}function Zh(){var u=Tc();return u===null?null:{parent:Ma._currentValue,pool:u}}var ba=Error(i(460)),Jr=Error(i(474)),ci=Error(i(542)),Wu={then:function(){}};function Qu(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Xh(){}function kc(u,m,b){switch(b=u[b],b===void 0?u.push(m):b!==m&&(m.then(Xh,Xh),m=b),m.status){case"fulfilled":return m.value;case"rejected":throw u=m.reason,io(u),u;default:if(typeof m.status=="string")m.then(Xh,Xh);else{if(u=Qs,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=m,u.status="pending",u.then(function(T){if(m.status==="pending"){var Q=m;Q.status="fulfilled",Q.value=T}},function(T){if(m.status==="pending"){var Q=m;Q.status="rejected",Q.reason=T}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw u=m.reason,io(u),u}throw yu=m,ba}}var yu=null;function of(){if(yu===null)throw Error(i(459));var u=yu;return yu=null,u}function io(u){if(u===ba||u===ci)throw Error(i(483))}var Gl=!1;function Oh(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uc(u,m){u=u.updateQueue,m.updateQueue===u&&(m.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function DA(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function cc(u,m,b){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(ls&2)!==0){var Q=T.pending;return Q===null?m.next=m:(m.next=Q.next,Q.next=m),T.pending=m,m=xh(u),Bc(u,null,b),m}return BA(u,T,m,b),xh(u)}function Ih(u,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194048)!==0)){var T=m.lanes;T&=u.pendingLanes,b|=T,m.lanes=b,Mn(u,b)}}function vu(u,m){var b=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var Q=null,se=null;if(b=b.firstBaseUpdate,b!==null){do{var Ge={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};se===null?Q=se=Ge:se=se.next=Ge,b=b.next}while(b!==null);se===null?Q=se=m:se=se.next=m}else Q=se=m;b={baseState:T.baseState,firstBaseUpdate:Q,lastBaseUpdate:se,shared:T.shared,callbacks:T.callbacks},u.updateQueue=b;return}u=b.lastBaseUpdate,u===null?b.firstBaseUpdate=m:u.next=m,b.lastBaseUpdate=m}var rh=!1;function tu(){if(rh){var u=rs;if(u!==null)throw u}}function bl(u,m,b,T){rh=!1;var Q=u.updateQueue;Gl=!1;var se=Q.firstBaseUpdate,Ge=Q.lastBaseUpdate,ot=Q.shared.pending;if(ot!==null){Q.shared.pending=null;var zt=ot,hn=zt.next;zt.next=null,Ge===null?se=hn:Ge.next=hn,Ge=zt;var kn=u.alternate;kn!==null&&(kn=kn.updateQueue,ot=kn.lastBaseUpdate,ot!==Ge&&(ot===null?kn.firstBaseUpdate=hn:ot.next=hn,kn.lastBaseUpdate=zt))}if(se!==null){var Nn=Q.baseState;Ge=0,kn=hn=zt=null,ot=se;do{var pn=ot.lane&-536870913,fn=pn!==ot.lane;if(fn?(qo&pn)===pn:(T&pn)===pn){pn!==0&&pn===al&&(rh=!0),kn!==null&&(kn=kn.next={lane:0,tag:ot.tag,payload:ot.payload,callback:null,next:null});e:{var Ur=u,Lr=ot;pn=m;var ws=b;switch(Lr.tag){case 1:if(Ur=Lr.payload,typeof Ur=="function"){Nn=Ur.call(ws,Nn,pn);break e}Nn=Ur;break e;case 3:Ur.flags=Ur.flags&-65537|128;case 0:if(Ur=Lr.payload,pn=typeof Ur=="function"?Ur.call(ws,Nn,pn):Ur,pn==null)break e;Nn=M({},Nn,pn);break e;case 2:Gl=!0}}pn=ot.callback,pn!==null&&(u.flags|=64,fn&&(u.flags|=8192),fn=Q.callbacks,fn===null?Q.callbacks=[pn]:fn.push(pn))}else fn={lane:pn,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},kn===null?(hn=kn=fn,zt=Nn):kn=kn.next=fn,Ge|=pn;if(ot=ot.next,ot===null){if(ot=Q.shared.pending,ot===null)break;fn=ot,ot=fn.next,fn.next=null,Q.lastBaseUpdate=fn,Q.shared.pending=null}}while(!0);kn===null&&(zt=Nn),Q.baseState=zt,Q.firstBaseUpdate=hn,Q.lastBaseUpdate=kn,se===null&&(Q.shared.lanes=0),Kd|=Ge,u.lanes=Ge,u.memoizedState=Nn}}function Bp(u,m){if(typeof u!="function")throw Error(i(191,u));u.call(m)}function af(u,m){var b=u.callbacks;if(b!==null)for(u.callbacks=null,u=0;u<b.length;u++)Bp(b[u],m)}var Wl=Ne(null),Ko=Ne(0);function Ql(u,m){u=df,lt(Ko,u),lt(Wl,m),df=u|m.baseLanes}function Jh(){lt(Ko,df),lt(Wl,Wl.current)}function zf(){df=Ko.current,tt(Wl),tt(Ko)}var Cu=0,ro=null,Uo=null,Kr=null,Yu=!1,Ii=!1,ki=!1,Dc=0,RA=0,cA=null,Aa=0;function go(){throw Error(i(321))}function Yl(u,m){if(m===null)return!1;for(var b=0;b<m.length&&b<u.length;b++)if(!MA(u[b],m[b]))return!1;return!0}function jf(u,m,b,T,Q,se){return Cu=se,ro=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,ze.H=u===null||u.memoizedState===null?Vu:Ml,ki=!1,se=b(T,Q),ki=!1,Ii&&(se=Lo(m,b,T,Q)),ed(u),se}function ed(u){ze.H=xl;var m=Uo!==null&&Uo.next!==null;if(Cu=0,Kr=Uo=ro=null,Yu=!1,RA=0,cA=null,m)throw Error(i(300));u===null||el||(u=u.dependencies,u!==null&&th(u)&&(el=!0))}function Lo(u,m,b,T){ro=u;var Q=0;do{if(Ii&&(cA=null),RA=0,Ii=!1,25<=Q)throw Error(i(301));if(Q+=1,Kr=Uo=null,u.updateQueue!=null){var se=u.updateQueue;se.lastEffect=null,se.events=null,se.stores=null,se.memoCache!=null&&(se.memoCache.index=0)}ze.H=Uc,se=m(b,T)}while(Ii);return se}function Ya(){var u=ze.H,m=u.useState()[0];return m=typeof m.then=="function"?Pc(m):m,u=u.useState()[0],(Uo!==null?Uo.memoizedState:null)!==u&&(ro.flags|=1024),m}function td(){var u=Dc!==0;return Dc=0,u}function _u(u,m,b){m.updateQueue=u.updateQueue,m.flags&=-2053,u.lanes&=~b}function Rc(u){if(Yu){for(u=u.memoizedState;u!==null;){var m=u.queue;m!==null&&(m.pending=null),u=u.next}Yu=!1}Cu=0,Kr=Uo=ro=null,Ii=!1,RA=Dc=0,cA=null}function Js(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?ro.memoizedState=Kr=u:Kr=Kr.next=u,Kr}function os(){if(Uo===null){var u=ro.alternate;u=u!==null?u.memoizedState:null}else u=Uo.next;var m=Kr===null?ro.memoizedState:Kr.next;if(m!==null)Kr=m,Uo=u;else{if(u===null)throw ro.alternate===null?Error(i(467)):Error(i(310));Uo=u,u={memoizedState:Uo.memoizedState,baseState:Uo.baseState,baseQueue:Uo.baseQueue,queue:Uo.queue,next:null},Kr===null?ro.memoizedState=Kr=u:Kr=Kr.next=u}return Kr}function hA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(u){var m=RA;return RA+=1,cA===null&&(cA=[]),u=kc(cA,u,m),m=ro,(Kr===null?m.memoizedState:Kr.next)===null&&(m=m.alternate,ze.H=m===null||m.memoizedState===null?Vu:Ml),u}function hc(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Pc(u);if(u.$$typeof===oe)return Po(u)}throw Error(i(438,String(u)))}function dc(u){var m=null,b=ro.updateQueue;if(b!==null&&(m=b.memoCache),m==null){var T=ro.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(m={data:T.data.map(function(Q){return Q.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),b===null&&(b=hA(),ro.updateQueue=b),b.memoCache=m,b=m.data[m.index],b===void 0)for(b=m.data[m.index]=Array(u),T=0;T<u;T++)b[T]=ye;return m.index++,b}function ql(u,m){return typeof m=="function"?m(u):m}function nd(u){var m=os();return id(m,Uo,u)}function id(u,m,b){var T=u.queue;if(T===null)throw Error(i(311));T.lastRenderedReducer=b;var Q=u.baseQueue,se=T.pending;if(se!==null){if(Q!==null){var Ge=Q.next;Q.next=se.next,se.next=Ge}m.baseQueue=Q=se,T.pending=null}if(se=u.baseState,Q===null)u.memoizedState=se;else{m=Q.next;var ot=Ge=null,zt=null,hn=m,kn=!1;do{var Nn=hn.lane&-536870913;if(Nn!==hn.lane?(qo&Nn)===Nn:(Cu&Nn)===Nn){var pn=hn.revertLane;if(pn===0)zt!==null&&(zt=zt.next={lane:0,revertLane:0,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null}),Nn===al&&(kn=!0);else if((Cu&pn)===pn){hn=hn.next,pn===al&&(kn=!0);continue}else Nn={lane:0,revertLane:hn.revertLane,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null},zt===null?(ot=zt=Nn,Ge=se):zt=zt.next=Nn,ro.lanes|=pn,Kd|=pn;Nn=hn.action,ki&&b(se,Nn),se=hn.hasEagerState?hn.eagerState:b(se,Nn)}else pn={lane:Nn,revertLane:hn.revertLane,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null},zt===null?(ot=zt=pn,Ge=se):zt=zt.next=pn,ro.lanes|=Nn,Kd|=Nn;hn=hn.next}while(hn!==null&&hn!==m);if(zt===null?Ge=se:zt.next=ot,!MA(se,u.memoizedState)&&(el=!0,kn&&(b=rs,b!==null)))throw b;u.memoizedState=se,u.baseState=Ge,u.baseQueue=zt,T.lastRenderedState=se}return Q===null&&(T.lanes=0),[u.memoizedState,T.dispatch]}function kd(u){var m=os(),b=m.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=u;var T=b.dispatch,Q=b.pending,se=m.memoizedState;if(Q!==null){b.pending=null;var Ge=Q=Q.next;do se=u(se,Ge.action),Ge=Ge.next;while(Ge!==Q);MA(se,m.memoizedState)||(el=!0),m.memoizedState=se,m.baseQueue===null&&(m.baseState=se),b.lastRenderedState=se}return[se,T]}function I(u,m,b){var T=ro,Q=os(),se=Xr;if(se){if(b===void 0)throw Error(i(407));b=b()}else b=m();var Ge=!MA((Uo||Q).memoizedState,b);Ge&&(Q.memoizedState=b,el=!0),Q=Q.queue;var ot=_.bind(null,T,Q,u);if(Yt(2048,8,ot,[u]),Q.getSnapshot!==m||Ge||Kr!==null&&Kr.memoizedState.tag&1){if(T.flags|=2048,wt(9,Pt(),f.bind(null,T,Q,b,m),null),Qs===null)throw Error(i(349));se||(Cu&124)!==0||s(T,m,b)}return b}function s(u,m,b){u.flags|=16384,u={getSnapshot:m,value:b},m=ro.updateQueue,m===null?(m=hA(),ro.updateQueue=m,m.stores=[u]):(b=m.stores,b===null?m.stores=[u]:b.push(u))}function f(u,m,b,T){m.value=b,m.getSnapshot=T,S(m)&&k(u)}function _(u,m,b){return b(function(){S(m)&&k(u)})}function S(u){var m=u.getSnapshot;u=u.value;try{var b=m();return!MA(u,b)}catch{return!0}}function k(u){var m=OA(u,2);m!==null&&Ah(m,u,2)}function z(u){var m=Js();if(typeof u=="function"){var b=u;if(u=b(),ki){de(!0);try{b()}finally{de(!1)}}}return m.memoizedState=m.baseState=u,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:u},m}function q(u,m,b,T){return u.baseState=b,id(u,Uo,typeof T=="function"?T:ql)}function X(u,m,b,T,Q){if(oh(u))throw Error(i(485));if(u=m.action,u!==null){var se={payload:Q,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ge){se.listeners.push(Ge)}};ze.T!==null?b(!0):se.isTransition=!1,T(se),b=m.pending,b===null?(se.next=m.pending=se,he(m,se)):(se.next=b.next,m.pending=b.next=se)}}function he(u,m){var b=m.action,T=m.payload,Q=u.state;if(m.isTransition){var se=ze.T,Ge={};ze.T=Ge;try{var ot=b(Q,T),zt=ze.S;zt!==null&&zt(Ge,ot),me(u,m,ot)}catch(hn){Me(u,m,hn)}finally{ze.T=se}}else try{se=b(Q,T),me(u,m,se)}catch(hn){Me(u,m,hn)}}function me(u,m,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(T){Be(u,m,T)},function(T){return Me(u,m,T)}):Be(u,m,b)}function Be(u,m,b){m.status="fulfilled",m.value=b,Ue(m),u.state=b,m=u.pending,m!==null&&(b=m.next,b===m?u.pending=null:(b=b.next,m.next=b,he(u,b)))}function Me(u,m,b){var T=u.pending;if(u.pending=null,T!==null){T=T.next;do m.status="rejected",m.reason=b,Ue(m),m=m.next;while(m!==T)}u.action=null}function Ue(u){u=u.listeners;for(var m=0;m<u.length;m++)(0,u[m])()}function Xe(u,m){return m}function At(u,m){if(Xr){var b=Qs.formState;if(b!==null){e:{var T=ro;if(Xr){if(xa){t:{for(var Q=xa,se=js;Q.nodeType!==8;){if(!se){Q=null;break t}if(Q=Ad(Q.nextSibling),Q===null){Q=null;break t}}se=Q.data,Q=se==="F!"||se==="F"?Q:null}if(Q){xa=Ad(Q.nextSibling),T=Q.data==="F!";break e}}gu(T)}T=!1}T&&(m=b[0])}}return b=Js(),b.memoizedState=b.baseState=m,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:m},b.queue=T,b=fc.bind(null,ro,T),T.dispatch=b,T=z(!1),se=Th.bind(null,ro,!1,T.queue),T=Js(),Q={state:m,dispatch:null,action:u,pending:null},T.queue=Q,b=X.bind(null,ro,Q,se,b),Q.dispatch=b,T.memoizedState=u,[m,b,!1]}function ct(u){var m=os();return ft(m,Uo,u)}function ft(u,m,b){if(m=id(u,m,Xe)[0],u=nd(ql)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var T=Pc(m)}catch(Ge){throw Ge===ba?ci:Ge}else T=m;m=os();var Q=m.queue,se=Q.dispatch;return b!==m.memoizedState&&(ro.flags|=2048,wt(9,Pt(),xt.bind(null,Q,b),null)),[T,se,u]}function xt(u,m){u.action=m}function yt(u){var m=os(),b=Uo;if(b!==null)return ft(m,b,u);os(),m=m.memoizedState,b=os();var T=b.queue.dispatch;return b.memoizedState=u,[m,T,!1]}function wt(u,m,b,T){return u={tag:u,create:b,deps:T,inst:m,next:null},m=ro.updateQueue,m===null&&(m=hA(),ro.updateQueue=m),b=m.lastEffect,b===null?m.lastEffect=u.next=u:(T=b.next,b.next=u,u.next=T,m.lastEffect=u),u}function Pt(){return{destroy:void 0,resource:void 0}}function Ft(){return os().memoizedState}function Bt(u,m,b,T){var Q=Js();T=T===void 0?null:T,ro.flags|=u,Q.memoizedState=wt(1|m,Pt(),b,T)}function Yt(u,m,b,T){var Q=os();T=T===void 0?null:T;var se=Q.memoizedState.inst;Uo!==null&&T!==null&&Yl(T,Uo.memoizedState.deps)?Q.memoizedState=wt(m,se,b,T):(ro.flags|=u,Q.memoizedState=wt(1|m,se,b,T))}function dn(u,m){Bt(8390656,8,u,m)}function Xt(u,m){Yt(2048,8,u,m)}function nn(u,m){return Yt(4,2,u,m)}function An(u,m){return Yt(4,4,u,m)}function qn(u,m){if(typeof m=="function"){u=u();var b=m(u);return function(){typeof b=="function"?b():m(null)}}if(m!=null)return u=u(),m.current=u,function(){m.current=null}}function Qn(u,m,b){b=b!=null?b.concat([u]):null,Yt(4,4,qn.bind(null,m,u),b)}function Tn(){}function xi(u,m){var b=os();m=m===void 0?null:m;var T=b.memoizedState;return m!==null&&Yl(m,T[1])?T[0]:(b.memoizedState=[u,m],u)}function hr(u,m){var b=os();m=m===void 0?null:m;var T=b.memoizedState;if(m!==null&&Yl(m,T[1]))return T[0];if(T=u(),ki){de(!0);try{u()}finally{de(!1)}}return b.memoizedState=[T,m],T}function _o(u,m,b){return b===void 0||(Cu&1073741824)!==0?u.memoizedState=m:(u.memoizedState=b,u=ly(),ro.lanes|=u,Kd|=u,b)}function ua(u,m,b,T){return MA(b,m)?b:Wl.current!==null?(u=_o(u,b,T),MA(u,m)||(el=!0),u):(Cu&42)===0?(el=!0,u.memoizedState=b):(u=ly(),ro.lanes|=u,Kd|=u,m)}function Fo(u,m,b,T,Q){var se=st.p;st.p=se!==0&&8>se?se:8;var Ge=ze.T,ot={};ze.T=ot,Th(u,!1,m,b);try{var zt=Q(),hn=ze.S;if(hn!==null&&hn(ot,zt),zt!==null&&typeof zt=="object"&&typeof zt.then=="function"){var kn=Td(zt,T);Hl(u,m,kn,Ou(u))}else Hl(u,m,T,Ou(u))}catch(Nn){Hl(u,m,{then:function(){},status:"rejected",reason:Nn},Ou())}finally{st.p=se,ze.T=Ge}}function La(){}function ca(u,m,b,T){if(u.tag!==5)throw Error(i(476));var Q=Or(u).queue;Fo(u,Q,m,Ct,b===null?La:function(){return Yo(u),b(T)})}function Or(u){var m=u.memoizedState;if(m!==null)return m;m={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:Ct},next:null};var b={};return m.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:b},next:null},u.memoizedState=m,u=u.alternate,u!==null&&(u.memoizedState=m),m}function Yo(u){var m=Or(u).next.queue;Hl(u,m,{},Ou())}function as(){return Po(Qt)}function qa(){return os().memoizedState}function Is(){return os().memoizedState}function Ts(u){for(var m=u.return;m!==null;){switch(m.tag){case 24:case 3:var b=Ou();u=DA(b);var T=cc(m,u,b);T!==null&&(Ah(T,m,b),Ih(T,m,b)),m={cache:Bh()},u.payload=m;return}m=m.return}}function qu(u,m,b){var T=Ou();b={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},oh(u)?Hu(m,b):(b=lc(u,m,b,T),b!==null&&(Ah(b,u,T),Kc(b,m,T)))}function fc(u,m,b){var T=Ou();Hl(u,m,b,T)}function Hl(u,m,b,T){var Q={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(oh(u))Hu(m,Q);else{var se=u.alternate;if(u.lanes===0&&(se===null||se.lanes===0)&&(se=m.lastRenderedReducer,se!==null))try{var Ge=m.lastRenderedState,ot=se(Ge,b);if(Q.hasEagerState=!0,Q.eagerState=ot,MA(ot,Ge))return BA(u,m,Q,0),Qs===null&&Nl(),!1}catch{}finally{}if(b=lc(u,m,Q,T),b!==null)return Ah(b,u,T),Kc(b,m,T),!0}return!1}function Th(u,m,b,T){if(T={lane:2,revertLane:Dm(),action:T,hasEagerState:!1,eagerState:null,next:null},oh(u)){if(m)throw Error(i(479))}else m=lc(u,b,T,2),m!==null&&Ah(m,u,2)}function oh(u){var m=u.alternate;return u===ro||m!==null&&m===ro}function Hu(u,m){Ii=Yu=!0;var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}function Kc(u,m,b){if((b&4194048)!==0){var T=m.lanes;T&=u.pendingLanes,b|=T,m.lanes=b,Mn(u,b)}}var xl={readContext:Po,use:hc,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useLayoutEffect:go,useInsertionEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useSyncExternalStore:go,useId:go,useHostTransitionStatus:go,useFormState:go,useActionState:go,useOptimistic:go,useMemoCache:go,useCacheRefresh:go},Vu={readContext:Po,use:hc,useCallback:function(u,m){return Js().memoizedState=[u,m===void 0?null:m],u},useContext:Po,useEffect:dn,useImperativeHandle:function(u,m,b){b=b!=null?b.concat([u]):null,Bt(4194308,4,qn.bind(null,m,u),b)},useLayoutEffect:function(u,m){return Bt(4194308,4,u,m)},useInsertionEffect:function(u,m){Bt(4,2,u,m)},useMemo:function(u,m){var b=Js();m=m===void 0?null:m;var T=u();if(ki){de(!0);try{u()}finally{de(!1)}}return b.memoizedState=[T,m],T},useReducer:function(u,m,b){var T=Js();if(b!==void 0){var Q=b(m);if(ki){de(!0);try{b(m)}finally{de(!1)}}}else Q=m;return T.memoizedState=T.baseState=Q,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:Q},T.queue=u,u=u.dispatch=qu.bind(null,ro,u),[T.memoizedState,u]},useRef:function(u){var m=Js();return u={current:u},m.memoizedState=u},useState:function(u){u=z(u);var m=u.queue,b=fc.bind(null,ro,m);return m.dispatch=b,[u.memoizedState,b]},useDebugValue:Tn,useDeferredValue:function(u,m){var b=Js();return _o(b,u,m)},useTransition:function(){var u=z(!1);return u=Fo.bind(null,ro,u.queue,!0,!1),Js().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,m,b){var T=ro,Q=Js();if(Xr){if(b===void 0)throw Error(i(407));b=b()}else{if(b=m(),Qs===null)throw Error(i(349));(qo&124)!==0||s(T,m,b)}Q.memoizedState=b;var se={value:b,getSnapshot:m};return Q.queue=se,dn(_.bind(null,T,se,u),[u]),T.flags|=2048,wt(9,Pt(),f.bind(null,T,se,b,m),null),b},useId:function(){var u=Js(),m=Qs.identifierPrefix;if(Xr){var b=zu,T=la;b=(T&~(1<<32-re(T)-1)).toString(32)+b,m=""+m+"R"+b,b=Dc++,0<b&&(m+="H"+b.toString(32)),m+=""}else b=Aa++,m=""+m+"r"+b.toString(32)+"";return u.memoizedState=m},useHostTransitionStatus:as,useFormState:At,useActionState:At,useOptimistic:function(u){var m=Js();m.memoizedState=m.baseState=u;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=b,m=Th.bind(null,ro,!0,b),b.dispatch=m,[u,m]},useMemoCache:dc,useCacheRefresh:function(){return Js().memoizedState=Ts.bind(null,ro)}},Ml={readContext:Po,use:hc,useCallback:xi,useContext:Po,useEffect:Xt,useImperativeHandle:Qn,useInsertionEffect:nn,useLayoutEffect:An,useMemo:hr,useReducer:nd,useRef:Ft,useState:function(){return nd(ql)},useDebugValue:Tn,useDeferredValue:function(u,m){var b=os();return ua(b,Uo.memoizedState,u,m)},useTransition:function(){var u=nd(ql)[0],m=os().memoizedState;return[typeof u=="boolean"?u:Pc(u),m]},useSyncExternalStore:I,useId:qa,useHostTransitionStatus:as,useFormState:ct,useActionState:ct,useOptimistic:function(u,m){var b=os();return q(b,Uo,u,m)},useMemoCache:dc,useCacheRefresh:Is},Uc={readContext:Po,use:hc,useCallback:xi,useContext:Po,useEffect:Xt,useImperativeHandle:Qn,useInsertionEffect:nn,useLayoutEffect:An,useMemo:hr,useReducer:kd,useRef:Ft,useState:function(){return kd(ql)},useDebugValue:Tn,useDeferredValue:function(u,m){var b=os();return Uo===null?_o(b,u,m):ua(b,Uo.memoizedState,u,m)},useTransition:function(){var u=kd(ql)[0],m=os().memoizedState;return[typeof u=="boolean"?u:Pc(u),m]},useSyncExternalStore:I,useId:qa,useHostTransitionStatus:as,useFormState:yt,useActionState:yt,useOptimistic:function(u,m){var b=os();return Uo!==null?q(b,Uo,u,m):(b.baseState=u,[u,b.queue.dispatch])},useMemoCache:dc,useCacheRefresh:Is},bo=null,ea=0;function dA(u){var m=ea;return ea+=1,bo===null&&(bo=[]),kc(bo,u,m)}function Cs(u,m){m=m.props.ref,u.ref=m!==void 0?m:null}function bu(u,m){throw m.$$typeof===O?Error(i(525)):(u=Object.prototype.toString.call(m),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":u)))}function fA(u){var m=u._init;return m(u._payload)}function PA(u){function m(tn,$t){if(u){var un=tn.deletions;un===null?(tn.deletions=[$t],tn.flags|=16):un.push($t)}}function b(tn,$t){if(!u)return null;for(;$t!==null;)m(tn,$t),$t=$t.sibling;return null}function T(tn){for(var $t=new Map;tn!==null;)tn.key!==null?$t.set(tn.key,tn):$t.set(tn.index,tn),tn=tn.sibling;return $t}function Q(tn,$t){return tn=Os(tn,$t),tn.index=0,tn.sibling=null,tn}function se(tn,$t,un){return tn.index=un,u?(un=tn.alternate,un!==null?(un=un.index,un<$t?(tn.flags|=67108866,$t):un):(tn.flags|=67108866,$t)):(tn.flags|=1048576,$t)}function Ge(tn){return u&&tn.alternate===null&&(tn.flags|=67108866),tn}function ot(tn,$t,un,Ln){return $t===null||$t.tag!==6?($t=Od(un,tn.mode,Ln),$t.return=tn,$t):($t=Q($t,un),$t.return=tn,$t)}function zt(tn,$t,un,Ln){var rr=un.type;return rr===j?kn(tn,$t,un.props.children,Ln,un.key):$t!==null&&($t.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===ce&&fA(rr)===$t.type)?($t=Q($t,un.props),Cs($t,un),$t.return=tn,$t):($t=Bd(un.type,un.key,un.props,null,tn.mode,Ln),Cs($t,un),$t.return=tn,$t)}function hn(tn,$t,un,Ln){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==un.containerInfo||$t.stateNode.implementation!==un.implementation?($t=Zc(un,tn.mode,Ln),$t.return=tn,$t):($t=Q($t,un.children||[]),$t.return=tn,$t)}function kn(tn,$t,un,Ln,rr){return $t===null||$t.tag!==7?($t=mu(un,tn.mode,Ln,rr),$t.return=tn,$t):($t=Q($t,un),$t.return=tn,$t)}function Nn(tn,$t,un){if(typeof $t=="string"&&$t!==""||typeof $t=="number"||typeof $t=="bigint")return $t=Od(""+$t,tn.mode,un),$t.return=tn,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case U:return un=Bd($t.type,$t.key,$t.props,null,tn.mode,un),Cs(un,$t),un.return=tn,un;case K:return $t=Zc($t,tn.mode,un),$t.return=tn,$t;case ce:var Ln=$t._init;return $t=Ln($t._payload),Nn(tn,$t,un)}if(xe($t)||Ie($t))return $t=mu($t,tn.mode,un,null),$t.return=tn,$t;if(typeof $t.then=="function")return Nn(tn,dA($t),un);if($t.$$typeof===oe)return Nn(tn,nh(tn,$t),un);bu(tn,$t)}return null}function pn(tn,$t,un,Ln){var rr=$t!==null?$t.key:null;if(typeof un=="string"&&un!==""||typeof un=="number"||typeof un=="bigint")return rr!==null?null:ot(tn,$t,""+un,Ln);if(typeof un=="object"&&un!==null){switch(un.$$typeof){case U:return un.key===rr?zt(tn,$t,un,Ln):null;case K:return un.key===rr?hn(tn,$t,un,Ln):null;case ce:return rr=un._init,un=rr(un._payload),pn(tn,$t,un,Ln)}if(xe(un)||Ie(un))return rr!==null?null:kn(tn,$t,un,Ln,null);if(typeof un.then=="function")return pn(tn,$t,dA(un),Ln);if(un.$$typeof===oe)return pn(tn,$t,nh(tn,un),Ln);bu(tn,un)}return null}function fn(tn,$t,un,Ln,rr){if(typeof Ln=="string"&&Ln!==""||typeof Ln=="number"||typeof Ln=="bigint")return tn=tn.get(un)||null,ot($t,tn,""+Ln,rr);if(typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case U:return tn=tn.get(Ln.key===null?un:Ln.key)||null,zt($t,tn,Ln,rr);case K:return tn=tn.get(Ln.key===null?un:Ln.key)||null,hn($t,tn,Ln,rr);case ce:var Ho=Ln._init;return Ln=Ho(Ln._payload),fn(tn,$t,un,Ln,rr)}if(xe(Ln)||Ie(Ln))return tn=tn.get(un)||null,kn($t,tn,Ln,rr,null);if(typeof Ln.then=="function")return fn(tn,$t,un,dA(Ln),rr);if(Ln.$$typeof===oe)return fn(tn,$t,un,nh($t,Ln),rr);bu($t,Ln)}return null}function Ur(tn,$t,un,Ln){for(var rr=null,Ho=null,ir=$t,Tr=$t=0,zA=null;ir!==null&&Tr<un.length;Tr++){ir.index>Tr?(zA=ir,ir=null):zA=ir.sibling;var Ta=pn(tn,ir,un[Tr],Ln);if(Ta===null){ir===null&&(ir=zA);break}u&&ir&&Ta.alternate===null&&m(tn,ir),$t=se(Ta,$t,Tr),Ho===null?rr=Ta:Ho.sibling=Ta,Ho=Ta,ir=zA}if(Tr===un.length)return b(tn,ir),Xr&&ju(tn,Tr),rr;if(ir===null){for(;Tr<un.length;Tr++)ir=Nn(tn,un[Tr],Ln),ir!==null&&($t=se(ir,$t,Tr),Ho===null?rr=ir:Ho.sibling=ir,Ho=ir);return Xr&&ju(tn,Tr),rr}for(ir=T(ir);Tr<un.length;Tr++)zA=fn(ir,tn,Tr,un[Tr],Ln),zA!==null&&(u&&zA.alternate!==null&&ir.delete(zA.key===null?Tr:zA.key),$t=se(zA,$t,Tr),Ho===null?rr=zA:Ho.sibling=zA,Ho=zA);return u&&ir.forEach(function(lp){return m(tn,lp)}),Xr&&ju(tn,Tr),rr}function Lr(tn,$t,un,Ln){if(un==null)throw Error(i(151));for(var rr=null,Ho=null,ir=$t,Tr=$t=0,zA=null,Ta=un.next();ir!==null&&!Ta.done;Tr++,Ta=un.next()){ir.index>Tr?(zA=ir,ir=null):zA=ir.sibling;var lp=pn(tn,ir,Ta.value,Ln);if(lp===null){ir===null&&(ir=zA);break}u&&ir&&lp.alternate===null&&m(tn,ir),$t=se(lp,$t,Tr),Ho===null?rr=lp:Ho.sibling=lp,Ho=lp,ir=zA}if(Ta.done)return b(tn,ir),Xr&&ju(tn,Tr),rr;if(ir===null){for(;!Ta.done;Tr++,Ta=un.next())Ta=Nn(tn,Ta.value,Ln),Ta!==null&&($t=se(Ta,$t,Tr),Ho===null?rr=Ta:Ho.sibling=Ta,Ho=Ta);return Xr&&ju(tn,Tr),rr}for(ir=T(ir);!Ta.done;Tr++,Ta=un.next())Ta=fn(ir,tn,Tr,Ta.value,Ln),Ta!==null&&(u&&Ta.alternate!==null&&ir.delete(Ta.key===null?Tr:Ta.key),$t=se(Ta,$t,Tr),Ho===null?rr=Ta:Ho.sibling=Ta,Ho=Ta);return u&&ir.forEach(function(hC){return m(tn,hC)}),Xr&&ju(tn,Tr),rr}function ws(tn,$t,un,Ln){if(typeof un=="object"&&un!==null&&un.type===j&&un.key===null&&(un=un.props.children),typeof un=="object"&&un!==null){switch(un.$$typeof){case U:e:{for(var rr=un.key;$t!==null;){if($t.key===rr){if(rr=un.type,rr===j){if($t.tag===7){b(tn,$t.sibling),Ln=Q($t,un.props.children),Ln.return=tn,tn=Ln;break e}}else if($t.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===ce&&fA(rr)===$t.type){b(tn,$t.sibling),Ln=Q($t,un.props),Cs(Ln,un),Ln.return=tn,tn=Ln;break e}b(tn,$t);break}else m(tn,$t);$t=$t.sibling}un.type===j?(Ln=mu(un.props.children,tn.mode,Ln,un.key),Ln.return=tn,tn=Ln):(Ln=Bd(un.type,un.key,un.props,null,tn.mode,Ln),Cs(Ln,un),Ln.return=tn,tn=Ln)}return Ge(tn);case K:e:{for(rr=un.key;$t!==null;){if($t.key===rr)if($t.tag===4&&$t.stateNode.containerInfo===un.containerInfo&&$t.stateNode.implementation===un.implementation){b(tn,$t.sibling),Ln=Q($t,un.children||[]),Ln.return=tn,tn=Ln;break e}else{b(tn,$t);break}else m(tn,$t);$t=$t.sibling}Ln=Zc(un,tn.mode,Ln),Ln.return=tn,tn=Ln}return Ge(tn);case ce:return rr=un._init,un=rr(un._payload),ws(tn,$t,un,Ln)}if(xe(un))return Ur(tn,$t,un,Ln);if(Ie(un)){if(rr=Ie(un),typeof rr!="function")throw Error(i(150));return un=rr.call(un),Lr(tn,$t,un,Ln)}if(typeof un.then=="function")return ws(tn,$t,dA(un),Ln);if(un.$$typeof===oe)return ws(tn,$t,nh(tn,un),Ln);bu(tn,un)}return typeof un=="string"&&un!==""||typeof un=="number"||typeof un=="bigint"?(un=""+un,$t!==null&&$t.tag===6?(b(tn,$t.sibling),Ln=Q($t,un),Ln.return=tn,tn=Ln):(b(tn,$t),Ln=Od(un,tn.mode,Ln),Ln.return=tn,tn=Ln),Ge(tn)):b(tn,$t)}return function(tn,$t,un,Ln){try{ea=0;var rr=ws(tn,$t,un,Ln);return bo=null,rr}catch(ir){if(ir===ba||ir===ci)throw ir;var Ho=JA(29,ir,null,tn.mode);return Ho.lanes=Ln,Ho.return=tn,Ho}finally{}}}var Vl=PA(!0),Lc=PA(!1),nu=Ne(null),Ha=null;function xu(u){var m=u.alternate;lt(Ba,Ba.current&1),lt(nu,u),Ha===null&&(m===null||Wl.current!==null||m.memoizedState!==null)&&(Ha=u)}function Nf(u){if(u.tag===22){if(lt(Ba,Ba.current),lt(nu,u),Ha===null){var m=u.alternate;m!==null&&m.memoizedState!==null&&(Ha=u)}}else Mu()}function Mu(){lt(Ba,Ba.current),lt(nu,nu.current)}function wu(u){tt(nu),Ha===u&&(Ha=null),tt(Ba)}var Ba=Ne(0);function iu(u){for(var m=u;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||ou(b)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function rd(u,m,b,T){m=u.memoizedState,b=b(T,m),b=b==null?m:M({},m,b),u.memoizedState=b,u.lanes===0&&(u.updateQueue.baseState=b)}var Gf={enqueueSetState:function(u,m,b){u=u._reactInternals;var T=Ou(),Q=DA(T);Q.payload=m,b!=null&&(Q.callback=b),m=cc(u,Q,T),m!==null&&(Ah(m,u,T),Ih(m,u,T))},enqueueReplaceState:function(u,m,b){u=u._reactInternals;var T=Ou(),Q=DA(T);Q.tag=1,Q.payload=m,b!=null&&(Q.callback=b),m=cc(u,Q,T),m!==null&&(Ah(m,u,T),Ih(m,u,T))},enqueueForceUpdate:function(u,m){u=u._reactInternals;var b=Ou(),T=DA(b);T.tag=2,m!=null&&(T.callback=m),m=cc(u,T,b),m!==null&&(Ah(m,u,b),Ih(m,u,b))}};function sf(u,m,b,T,Q,se,Ge){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,se,Ge):m.prototype&&m.prototype.isPureReactComponent?!sc(b,T)||!sc(Q,se):!0}function mm(u,m,b,T){u=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,T),m.state!==u&&Gf.enqueueReplaceState(m,m.state,null)}function pc(u,m){var b=m;if("ref"in m){b={};for(var T in m)T!=="ref"&&(b[T]=m[T])}if(u=u.defaultProps){b===m&&(b=M({},b));for(var Q in u)b[Q]===void 0&&(b[Q]=u[Q])}return b}var od=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function Wf(u){od(u)}function Qf(u){console.error(u)}function Y0(u){od(u)}function lf(u,m){try{var b=u.onUncaughtError;b(m.value,{componentStack:m.stack})}catch(T){setTimeout(function(){throw T})}}function ta(u,m,b){try{var T=u.onCaughtError;T(b.value,{componentStack:b.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(Q){setTimeout(function(){throw Q})}}function Op(u,m,b){return b=DA(b),b.tag=3,b.payload={element:null},b.callback=function(){lf(u,m)},b}function kh(u){return u=DA(u),u.tag=3,u}function Yf(u,m,b,T){var Q=b.type.getDerivedStateFromError;if(typeof Q=="function"){var se=T.value;u.payload=function(){return Q(se)},u.callback=function(){ta(m,b,T)}}var Ge=b.stateNode;Ge!==null&&typeof Ge.componentDidCatch=="function"&&(u.callback=function(){ta(m,b,T),typeof Q!="function"&&(ff===null?ff=new Set([this]):ff.add(this));var ot=T.stack;this.componentDidCatch(T.value,{componentStack:ot!==null?ot:""})})}function ru(u,m,b,T,Q){if(b.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(m=b.alternate,m!==null&&vs(m,b,Q,!0),b=nu.current,b!==null){switch(b.tag){case 13:return Ha===null?X0():b.alternate===null&&Sl===0&&(Sl=3),b.flags&=-257,b.flags|=65536,b.lanes=Q,T===Wu?b.flags|=16384:(m=b.updateQueue,m===null?b.updateQueue=new Set([T]):m.add(T),e1(u,T,Q)),!1;case 22:return b.flags|=65536,T===Wu?b.flags|=16384:(m=b.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([T])},b.updateQueue=m):(b=m.retryQueue,b===null?m.retryQueue=new Set([T]):b.add(T)),e1(u,T,Q)),!1}throw Error(i(435,b.tag))}return e1(u,T,Q),X0(),!1}if(Xr)return m=nu.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=Q,T!==eh&&(u=Error(i(422),{cause:T}),Nu(Wa(u,b)))):(T!==eh&&(m=Error(i(423),{cause:T}),Nu(Wa(m,b))),u=u.current.alternate,u.flags|=65536,Q&=-Q,u.lanes|=Q,T=Wa(T,b),Q=Op(u.stateNode,T,Q),vu(u,Q),Sl!==4&&(Sl=2)),!1;var se=Error(i(520),{cause:T});if(se=Wa(se,b),Jf===null?Jf=[se]:Jf.push(se),Sl!==4&&(Sl=2),m===null)return!0;T=Wa(T,b),b=m;do{switch(b.tag){case 3:return b.flags|=65536,u=Q&-Q,b.lanes|=u,u=Op(b.stateNode,T,u),vu(b,u),!1;case 1:if(m=b.type,se=b.stateNode,(b.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(ff===null||!ff.has(se))))return b.flags|=65536,Q&=-Q,b.lanes|=Q,Q=kh(Q),Yf(Q,u,b,T),vu(b,Q),!1}b=b.return}while(b!==null);return!1}var Dd=Error(i(461)),el=!1;function ds(u,m,b,T){m.child=u===null?Lc(m,null,b,T):Vl(m,u.child,b,T)}function qf(u,m,b,T,Q){b=b.render;var se=m.ref;if("ref"in T){var Ge={};for(var ot in T)ot!=="ref"&&(Ge[ot]=T[ot])}else Ge=T;return Eh(m),T=jf(u,m,b,Ge,se,Q),ot=td(),u!==null&&!el?(_u(u,m,Q),v(u,m,Q)):(Xr&&ot&&Xc(m),m.flags|=1,ds(u,m,T,Q),m.child)}function Ip(u,m,b,T,Q){if(u===null){var se=b.type;return typeof se=="function"&&!Oc(se)&&se.defaultProps===void 0&&b.compare===null?(m.tag=15,m.type=se,Hf(u,m,se,T,Q)):(u=Bd(b.type,null,T,m,m.mode,Q),u.ref=m.ref,u.return=m,m.child=u)}if(se=u.child,!B(u,Q)){var Ge=se.memoizedProps;if(b=b.compare,b=b!==null?b:sc,b(Ge,T)&&u.ref===m.ref)return v(u,m,Q)}return m.flags|=1,u=Os(se,T),u.ref=m.ref,u.return=m,m.child=u}function Hf(u,m,b,T,Q){if(u!==null){var se=u.memoizedProps;if(sc(se,T)&&u.ref===m.ref)if(el=!1,m.pendingProps=T=se,B(u,Q))(u.flags&131072)!==0&&(el=!0);else return m.lanes=u.lanes,v(u,m,Q)}return uf(u,m,b,T,Q)}function Af(u,m,b){var T=m.pendingProps,Q=T.children,se=u!==null?u.memoizedState:null;if(T.mode==="hidden"){if((m.flags&128)!==0){if(T=se!==null?se.baseLanes|b:b,u!==null){for(Q=m.child=u.child,se=0;Q!==null;)se=se|Q.lanes|Q.childLanes,Q=Q.sibling;m.childLanes=se&~T}else m.childLanes=0,m.child=null;return Rd(u,m,T,b)}if((b&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},u!==null&&Ff(m,se!==null?se.cachePool:null),se!==null?Ql(m,se):Jh(),Nf(m);else return m.lanes=m.childLanes=536870912,Rd(u,m,se!==null?se.baseLanes|b:b,b)}else se!==null?(Ff(m,se.cachePool),Ql(m,se),Mu(),m.memoizedState=null):(u!==null&&Ff(m,null),Jh(),Mu());return ds(u,m,Q,b),m.child}function Rd(u,m,b,T){var Q=Tc();return Q=Q===null?null:{parent:Ma._currentValue,pool:Q},m.memoizedState={baseLanes:b,cachePool:Q},u!==null&&Ff(m,null),Jh(),Nf(m),u!==null&&vs(u,m,T,!0),null}function mr(u,m){var b=m.ref;if(b===null)u!==null&&u.ref!==null&&(m.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(i(284));(u===null||u.ref!==b)&&(m.flags|=4194816)}}function uf(u,m,b,T,Q){return Eh(m),b=jf(u,m,b,T,void 0,Q),T=td(),u!==null&&!el?(_u(u,m,Q),v(u,m,Q)):(Xr&&T&&Xc(m),m.flags|=1,ds(u,m,b,Q),m.child)}function na(u,m,b,T,Q,se){return Eh(m),m.updateQueue=null,b=Lo(m,T,b,Q),ed(u),T=td(),u!==null&&!el?(_u(u,m,se),v(u,m,se)):(Xr&&T&&Xc(m),m.flags|=1,ds(u,m,b,se),m.child)}function Dh(u,m,b,T,Q){if(Eh(m),m.stateNode===null){var se=Dr,Ge=b.contextType;typeof Ge=="object"&&Ge!==null&&(se=Po(Ge)),se=new b(T,se),m.memoizedState=se.state!==null&&se.state!==void 0?se.state:null,se.updater=Gf,m.stateNode=se,se._reactInternals=m,se=m.stateNode,se.props=T,se.state=m.memoizedState,se.refs={},Oh(m),Ge=b.contextType,se.context=typeof Ge=="object"&&Ge!==null?Po(Ge):Dr,se.state=m.memoizedState,Ge=b.getDerivedStateFromProps,typeof Ge=="function"&&(rd(m,b,Ge,T),se.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof se.getSnapshotBeforeUpdate=="function"||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(Ge=se.state,typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount(),Ge!==se.state&&Gf.enqueueReplaceState(se,se.state,null),bl(m,T,se,Q),tu(),se.state=m.memoizedState),typeof se.componentDidMount=="function"&&(m.flags|=4194308),T=!0}else if(u===null){se=m.stateNode;var ot=m.memoizedProps,zt=pc(b,ot);se.props=zt;var hn=se.context,kn=b.contextType;Ge=Dr,typeof kn=="object"&&kn!==null&&(Ge=Po(kn));var Nn=b.getDerivedStateFromProps;kn=typeof Nn=="function"||typeof se.getSnapshotBeforeUpdate=="function",ot=m.pendingProps!==ot,kn||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ot||hn!==Ge)&&mm(m,se,T,Ge),Gl=!1;var pn=m.memoizedState;se.state=pn,bl(m,T,se,Q),tu(),hn=m.memoizedState,ot||pn!==hn||Gl?(typeof Nn=="function"&&(rd(m,b,Nn,T),hn=m.memoizedState),(zt=Gl||sf(m,b,zt,T,pn,hn,Ge))?(kn||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=hn),se.props=T,se.state=hn,se.context=Ge,T=zt):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{se=m.stateNode,uc(u,m),Ge=m.memoizedProps,kn=pc(b,Ge),se.props=kn,Nn=m.pendingProps,pn=se.context,hn=b.contextType,zt=Dr,typeof hn=="object"&&hn!==null&&(zt=Po(hn)),ot=b.getDerivedStateFromProps,(hn=typeof ot=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ge!==Nn||pn!==zt)&&mm(m,se,T,zt),Gl=!1,pn=m.memoizedState,se.state=pn,bl(m,T,se,Q),tu();var fn=m.memoizedState;Ge!==Nn||pn!==fn||Gl||u!==null&&u.dependencies!==null&&th(u.dependencies)?(typeof ot=="function"&&(rd(m,b,ot,T),fn=m.memoizedState),(kn=Gl||sf(m,b,kn,T,pn,fn,zt)||u!==null&&u.dependencies!==null&&th(u.dependencies))?(hn||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(T,fn,zt),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(T,fn,zt)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||Ge===u.memoizedProps&&pn===u.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ge===u.memoizedProps&&pn===u.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=fn),se.props=T,se.state=fn,se.context=zt,T=kn):(typeof se.componentDidUpdate!="function"||Ge===u.memoizedProps&&pn===u.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ge===u.memoizedProps&&pn===u.memoizedState||(m.flags|=1024),T=!1)}return se=T,mr(u,m),T=(m.flags&128)!==0,se||T?(se=m.stateNode,b=T&&typeof b.getDerivedStateFromError!="function"?null:se.render(),m.flags|=1,u!==null&&T?(m.child=Vl(m,u.child,null,Q),m.child=Vl(m,null,b,Q)):ds(u,m,b,Q),m.memoizedState=se.state,u=m.child):u=v(u,m,Q),u}function gm(u,m,b,T){return Ns(),m.flags|=256,ds(u,m,b,T),m.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pA(u){return{baseLanes:u,cachePool:Zh()}}function sl(u,m,b){return u=u!==null?u.childLanes&~b:0,m&&(u|=lh),u}function ym(u,m,b){var T=m.pendingProps,Q=!1,se=(m.flags&128)!==0,Ge;if((Ge=se)||(Ge=u!==null&&u.memoizedState===null?!1:(Ba.current&2)!==0),Ge&&(Q=!0,m.flags&=-129),Ge=(m.flags&32)!==0,m.flags&=-33,u===null){if(Xr){if(Q?xu(m):Mu(),Xr){var ot=xa,zt;if(zt=ot){e:{for(zt=ot,ot=js;zt.nodeType!==8;){if(!ot){ot=null;break e}if(zt=Ad(zt.nextSibling),zt===null){ot=null;break e}}ot=zt}ot!==null?(m.memoizedState={dehydrated:ot,treeContext:Qo!==null?{id:la,overflow:zu}:null,retryLane:536870912,hydrationErrors:null},zt=JA(18,null,null,0),zt.stateNode=ot,zt.return=m,m.child=zt,_a=m,xa=null,zt=!0):zt=!1}zt||gu(m)}if(ot=m.memoizedState,ot!==null&&(ot=ot.dehydrated,ot!==null))return ou(ot)?m.lanes=32:m.lanes=536870912,null;wu(m)}return ot=T.children,T=T.fallback,Q?(Mu(),Q=m.mode,ot=Vf({mode:"hidden",children:ot},Q),T=mu(T,Q,b,null),ot.return=m,T.return=m,ot.sibling=T,m.child=ot,Q=m.child,Q.memoizedState=pA(b),Q.childLanes=sl(u,Ge,b),m.memoizedState=$u,T):(xu(m),Gs(m,ot))}if(zt=u.memoizedState,zt!==null&&(ot=zt.dehydrated,ot!==null)){if(se)m.flags&256?(xu(m),m.flags&=-257,m=a0(u,m,b)):m.memoizedState!==null?(Mu(),m.child=u.child,m.flags|=128,m=null):(Mu(),Q=T.fallback,ot=m.mode,T=Vf({mode:"visible",children:T.children},ot),Q=mu(Q,ot,b,null),Q.flags|=2,T.return=m,Q.return=m,T.sibling=Q,m.child=T,Vl(m,u.child,null,b),T=m.child,T.memoizedState=pA(b),T.childLanes=sl(u,Ge,b),m.memoizedState=$u,m=Q);else if(xu(m),ou(ot)){if(Ge=ot.nextSibling&&ot.nextSibling.dataset,Ge)var hn=Ge.dgst;Ge=hn,T=Error(i(419)),T.stack="",T.digest=Ge,Nu({value:T,source:null,stack:null}),m=a0(u,m,b)}else if(el||vs(u,m,b,!1),Ge=(b&u.childLanes)!==0,el||Ge){if(Ge=Qs,Ge!==null&&(T=b&-b,T=(T&42)!==0?1:ii(T),T=(T&(Ge.suspendedLanes|b))!==0?0:T,T!==0&&T!==zt.retryLane))throw zt.retryLane=T,OA(u,T),Ah(Ge,u,T),Dd;ot.data==="$?"||X0(),m=a0(u,m,b)}else ot.data==="$?"?(m.flags|=192,m.child=u.child,m=null):(u=zt.treeContext,xa=Ad(ot.nextSibling),_a=m,Xr=!0,AA=null,js=!1,u!==null&&(TA[Dl++]=la,TA[Dl++]=zu,TA[Dl++]=Qo,la=u.id,zu=u.overflow,Qo=m),m=Gs(m,T.children),m.flags|=4096);return m}return Q?(Mu(),Q=T.fallback,ot=m.mode,zt=u.child,hn=zt.sibling,T=Os(zt,{mode:"hidden",children:T.children}),T.subtreeFlags=zt.subtreeFlags&65011712,hn!==null?Q=Os(hn,Q):(Q=mu(Q,ot,b,null),Q.flags|=2),Q.return=m,T.return=m,T.sibling=Q,m.child=T,T=Q,Q=m.child,ot=u.child.memoizedState,ot===null?ot=pA(b):(zt=ot.cachePool,zt!==null?(hn=Ma._currentValue,zt=zt.parent!==hn?{parent:hn,pool:hn}:zt):zt=Zh(),ot={baseLanes:ot.baseLanes|b,cachePool:zt}),Q.memoizedState=ot,Q.childLanes=sl(u,Ge,b),m.memoizedState=$u,T):(xu(m),b=u.child,u=b.sibling,b=Os(b,{mode:"visible",children:T.children}),b.return=m,b.sibling=null,u!==null&&(Ge=m.deletions,Ge===null?(m.deletions=[u],m.flags|=16):Ge.push(u)),m.child=b,m.memoizedState=null,b)}function Gs(u,m){return m=Vf({mode:"visible",children:m},u.mode),m.return=u,u.child=m}function Vf(u,m){return u=JA(22,u,null,m),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function a0(u,m,b){return Vl(m,u.child,null,b),u=Gs(m,m.pendingProps.children),u.flags|=2,m.memoizedState=null,u}function s0(u,m,b){u.lanes|=m;var T=u.alternate;T!==null&&(T.lanes|=m),Jo(u.return,m,b)}function cf(u,m,b,T,Q){var se=u.memoizedState;se===null?u.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:Q}:(se.isBackwards=m,se.rendering=null,se.renderingStartTime=0,se.last=T,se.tail=b,se.tailMode=Q)}function d(u,m,b){var T=m.pendingProps,Q=T.revealOrder,se=T.tail;if(ds(u,m,T.children,b),T=Ba.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=m.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&s0(u,b,m);else if(u.tag===19)s0(u,b,m);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===m)break e;for(;u.sibling===null;){if(u.return===null||u.return===m)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}switch(lt(Ba,T),Q){case"forwards":for(b=m.child,Q=null;b!==null;)u=b.alternate,u!==null&&iu(u)===null&&(Q=b),b=b.sibling;b=Q,b===null?(Q=m.child,m.child=null):(Q=b.sibling,b.sibling=null),cf(m,!1,Q,b,se);break;case"backwards":for(b=null,Q=m.child,m.child=null;Q!==null;){if(u=Q.alternate,u!==null&&iu(u)===null){m.child=Q;break}u=Q.sibling,Q.sibling=b,b=Q,Q=u}cf(m,!0,b,null,se);break;case"together":cf(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function v(u,m,b){if(u!==null&&(m.dependencies=u.dependencies),Kd|=m.lanes,(b&m.childLanes)===0)if(u!==null){if(vs(u,m,b,!1),(b&m.childLanes)===0)return null}else return null;if(u!==null&&m.child!==u.child)throw Error(i(153));if(m.child!==null){for(u=m.child,b=Os(u,u.pendingProps),m.child=b,b.return=m;u.sibling!==null;)u=u.sibling,b=b.sibling=Os(u,u.pendingProps),b.return=m;b.sibling=null}return m.child}function B(u,m){return(u.lanes&m)!==0?!0:(u=u.dependencies,!!(u!==null&&th(u)))}function E(u,m,b){switch(m.tag){case 3:Fe(m,m.stateNode.containerInfo),Xs(m,Ma,u.memoizedState.cache),Ns();break;case 27:case 5:Re(m);break;case 4:Fe(m,m.stateNode.containerInfo);break;case 10:Xs(m,m.type,m.memoizedProps.value);break;case 13:var T=m.memoizedState;if(T!==null)return T.dehydrated!==null?(xu(m),m.flags|=128,null):(b&m.child.childLanes)!==0?ym(u,m,b):(xu(m),u=v(u,m,b),u!==null?u.sibling:null);xu(m);break;case 19:var Q=(u.flags&128)!==0;if(T=(b&m.childLanes)!==0,T||(vs(u,m,b,!1),T=(b&m.childLanes)!==0),Q){if(T)return d(u,m,b);m.flags|=128}if(Q=m.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),lt(Ba,Ba.current),T)break;return null;case 22:case 23:return m.lanes=0,Af(u,m,b);case 24:Xs(m,Ma,u.memoizedState.cache)}return v(u,m,b)}function F(u,m,b){if(u!==null)if(u.memoizedProps!==m.pendingProps)el=!0;else{if(!B(u,b)&&(m.flags&128)===0)return el=!1,E(u,m,b);el=(u.flags&131072)!==0}else el=!1,Xr&&(m.flags&1048576)!==0&&Ic(m,Vh,m.index);switch(m.lanes=0,m.tag){case 16:e:{u=m.pendingProps;var T=m.elementType,Q=T._init;if(T=Q(T._payload),m.type=T,typeof T=="function")Oc(T)?(u=pc(T,u),m.tag=1,m=Dh(null,m,T,u,b)):(m.tag=0,m=uf(null,m,T,u,b));else{if(T!=null){if(Q=T.$$typeof,Q===ne){m.tag=11,m=qf(null,m,T,u,b);break e}else if(Q===G){m.tag=14,m=Ip(null,m,T,u,b);break e}}throw m=Ve(T)||T,Error(i(306,m,""))}}return m;case 0:return uf(u,m,m.type,m.pendingProps,b);case 1:return T=m.type,Q=pc(T,m.pendingProps),Dh(u,m,T,Q,b);case 3:e:{if(Fe(m,m.stateNode.containerInfo),u===null)throw Error(i(387));T=m.pendingProps;var se=m.memoizedState;Q=se.element,uc(u,m),bl(m,T,null,b);var Ge=m.memoizedState;if(T=Ge.cache,Xs(m,Ma,T),T!==se.cache&&yr(m,[Ma],b,!0),tu(),T=Ge.element,se.isDehydrated)if(se={element:T,isDehydrated:!1,cache:Ge.cache},m.updateQueue.baseState=se,m.memoizedState=se,m.flags&256){m=gm(u,m,T,b);break e}else if(T!==Q){Q=Wa(Error(i(424)),m),Nu(Q),m=gm(u,m,T,b);break e}else{switch(u=m.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(xa=Ad(u.firstChild),_a=m,Xr=!0,AA=null,js=!0,b=Lc(m,null,T,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(Ns(),T===Q){m=v(u,m,b);break e}ds(u,m,T,b)}m=m.child}return m;case 26:return mr(u,m),u===null?(b=b0(m.type,null,m.pendingProps,null))?m.memoizedState=b:Xr||(b=m.type,u=m.pendingProps,T=sp(St.current).createElement(b),T[hi]=m,T[ti]=u,nl(T,b,u),kr(T),m.stateNode=T):m.memoizedState=b0(m.type,u.memoizedProps,m.pendingProps,u.memoizedState),null;case 27:return Re(m),u===null&&Xr&&(T=m.stateNode=KA(m.type,m.pendingProps,St.current),_a=m,js=!0,Q=xa,ch(m.type)?(u1=Q,xa=Ad(T.firstChild)):xa=Q),ds(u,m,m.pendingProps.children,b),mr(u,m),u===null&&(m.flags|=4194304),m.child;case 5:return u===null&&Xr&&((Q=T=xa)&&(T=v0(T,m.type,m.pendingProps,js),T!==null?(m.stateNode=T,_a=m,xa=Ad(T.firstChild),js=!1,Q=!0):Q=!1),Q||gu(m)),Re(m),Q=m.type,se=m.pendingProps,Ge=u!==null?u.memoizedProps:null,T=se.children,ld(Q,se)?T=null:Ge!==null&&ld(Q,Ge)&&(m.flags|=32),m.memoizedState!==null&&(Q=jf(u,m,Ya,null,null,b),Qt._currentValue=Q),mr(u,m),ds(u,m,T,b),m.child;case 6:return u===null&&Xr&&((u=b=xa)&&(b=Lp(b,m.pendingProps,js),b!==null?(m.stateNode=b,_a=m,xa=null,u=!0):u=!1),u||gu(m)),null;case 13:return ym(u,m,b);case 4:return Fe(m,m.stateNode.containerInfo),T=m.pendingProps,u===null?m.child=Vl(m,null,T,b):ds(u,m,T,b),m.child;case 11:return qf(u,m,m.type,m.pendingProps,b);case 7:return ds(u,m,m.pendingProps,b),m.child;case 8:return ds(u,m,m.pendingProps.children,b),m.child;case 12:return ds(u,m,m.pendingProps.children,b),m.child;case 10:return T=m.pendingProps,Xs(m,m.type,T.value),ds(u,m,T.children,b),m.child;case 9:return Q=m.type._context,T=m.pendingProps.children,Eh(m),Q=Po(Q),T=T(Q),m.flags|=1,ds(u,m,T,b),m.child;case 14:return Ip(u,m,m.type,m.pendingProps,b);case 15:return Hf(u,m,m.type,m.pendingProps,b);case 19:return d(u,m,b);case 31:return T=m.pendingProps,b=m.mode,T={mode:T.mode,children:T.children},u===null?(b=Vf(T,b),b.ref=m.ref,m.child=b,b.return=m,m=b):(b=Os(u.child,T),b.ref=m.ref,m.child=b,b.return=m,m=b),m;case 22:return Af(u,m,b);case 24:return Eh(m),T=Po(Ma),u===null?(Q=Tc(),Q===null&&(Q=Qs,se=Bh(),Q.pooledCache=se,se.refCount++,se!==null&&(Q.pooledCacheLanes|=b),Q=se),m.memoizedState={parent:T,cache:Q},Oh(m),Xs(m,Ma,Q)):((u.lanes&b)!==0&&(uc(u,m),bl(m,null,null,b),tu()),Q=u.memoizedState,se=m.memoizedState,Q.parent!==T?(Q={parent:T,cache:T},m.memoizedState=Q,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=Q),Xs(m,Ma,T)):(T=se.cache,Xs(m,Ma,T),T!==Q.cache&&yr(m,[Ma],b,!0))),ds(u,m,m.pendingProps.children,b),m.child;case 29:throw m.pendingProps}throw Error(i(156,m.tag))}function Z(u){u.flags|=4}function fe(u,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!ie(m)){if(m=nu.current,m!==null&&((qo&4194048)===qo?Ha!==null:(qo&62914560)!==qo&&(qo&536870912)===0||m!==Ha))throw yu=Wu,Jr;u.flags|=8192}}function _e(u,m){m!==null&&(u.flags|=4),u.flags&16384&&(m=u.tag!==22?ht():536870912,u.lanes|=m,Mm|=m)}function ke(u,m){if(!Xr)switch(u.tailMode){case"hidden":m=u.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?u.tail=null:b.sibling=null;break;case"collapsed":b=u.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?m||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function Le(u){var m=u.alternate!==null&&u.alternate.child===u.child,b=0,T=0;if(m)for(var Q=u.child;Q!==null;)b|=Q.lanes|Q.childLanes,T|=Q.subtreeFlags&65011712,T|=Q.flags&65011712,Q.return=u,Q=Q.sibling;else for(Q=u.child;Q!==null;)b|=Q.lanes|Q.childLanes,T|=Q.subtreeFlags,T|=Q.flags,Q.return=u,Q=Q.sibling;return u.subtreeFlags|=T,u.childLanes=b,m}function vt(u,m,b){var T=m.pendingProps;switch(Jc(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(m),null;case 1:return Le(m),null;case 3:return b=m.stateNode,T=null,u!==null&&(T=u.memoizedState.cache),m.memoizedState.cache!==T&&(m.flags|=2048),Qa(Ma),Ke(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(u===null||u.child===null)&&(ol(m)?Z(m):u===null||u.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ef())),Le(m),null;case 26:return b=m.memoizedState,u===null?(Z(m),b!==null?(Le(m),fe(m,b)):(Le(m),m.flags&=-16777217)):b?b!==u.memoizedState?(Z(m),Le(m),fe(m,b)):(Le(m),m.flags&=-16777217):(u.memoizedProps!==T&&Z(m),Le(m),m.flags&=-16777217),null;case 27:He(m),b=St.current;var Q=m.type;if(u!==null&&m.stateNode!=null)u.memoizedProps!==T&&Z(m);else{if(!T){if(m.stateNode===null)throw Error(i(166));return Le(m),null}u=kt.current,ol(m)?Jd(m):(u=KA(Q,T,b),m.stateNode=u,Z(m))}return Le(m),null;case 5:if(He(m),b=m.type,u!==null&&m.stateNode!=null)u.memoizedProps!==T&&Z(m);else{if(!T){if(m.stateNode===null)throw Error(i(166));return Le(m),null}if(u=kt.current,ol(m))Jd(m);else{switch(Q=sp(St.current),u){case 1:u=Q.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:u=Q.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":u=Q.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":u=Q.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":u=Q.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof T.is=="string"?Q.createElement("select",{is:T.is}):Q.createElement("select"),T.multiple?u.multiple=!0:T.size&&(u.size=T.size);break;default:u=typeof T.is=="string"?Q.createElement(b,{is:T.is}):Q.createElement(b)}}u[hi]=m,u[ti]=T;e:for(Q=m.child;Q!==null;){if(Q.tag===5||Q.tag===6)u.appendChild(Q.stateNode);else if(Q.tag!==4&&Q.tag!==27&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===m)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===m)break e;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}m.stateNode=u;e:switch(nl(u,b,T),b){case"button":case"input":case"select":case"textarea":u=!!T.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Z(m)}}return Le(m),m.flags&=-16777217,null;case 6:if(u&&m.stateNode!=null)u.memoizedProps!==T&&Z(m);else{if(typeof T!="string"&&m.stateNode===null)throw Error(i(166));if(u=St.current,ol(m)){if(u=m.stateNode,b=m.memoizedProps,T=null,Q=_a,Q!==null)switch(Q.tag){case 27:case 5:T=Q.memoizedProps}u[hi]=m,u=!!(u.nodeValue===b||T!==null&&T.suppressHydrationWarning===!0||s1(u.nodeValue,b)),u||gu(m)}else u=sp(u).createTextNode(T),u[hi]=m,m.stateNode=u}return Le(m),null;case 13:if(T=m.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Q=ol(m),T!==null&&T.dehydrated!==null){if(u===null){if(!Q)throw Error(i(318));if(Q=m.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(i(317));Q[hi]=m}else Ns(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Le(m),Q=!1}else Q=ef(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=Q),Q=!0;if(!Q)return m.flags&256?(wu(m),m):(wu(m),null)}if(wu(m),(m.flags&128)!==0)return m.lanes=b,m;if(b=T!==null,u=u!==null&&u.memoizedState!==null,b){T=m.child,Q=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(Q=T.alternate.memoizedState.cachePool.pool);var se=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(se=T.memoizedState.cachePool.pool),se!==Q&&(T.flags|=2048)}return b!==u&&b&&(m.child.flags|=8192),_e(m,m.updateQueue),Le(m),null;case 4:return Ke(),u===null&&ig(m.stateNode.containerInfo),Le(m),null;case 10:return Qa(m.type),Le(m),null;case 19:if(tt(Ba),Q=m.memoizedState,Q===null)return Le(m),null;if(T=(m.flags&128)!==0,se=Q.rendering,se===null)if(T)ke(Q,!1);else{if(Sl!==0||u!==null&&(u.flags&128)!==0)for(u=m.child;u!==null;){if(se=iu(u),se!==null){for(m.flags|=128,ke(Q,!1),u=se.updateQueue,m.updateQueue=u,_e(m,u),m.subtreeFlags=0,u=b,b=m.child;b!==null;)Mh(b,u),b=b.sibling;return lt(Ba,Ba.current&1|2),m.child}u=u.sibling}Q.tail!==null&&on()>wm&&(m.flags|=128,T=!0,ke(Q,!1),m.lanes=4194304)}else{if(!T)if(u=iu(se),u!==null){if(m.flags|=128,T=!0,u=u.updateQueue,m.updateQueue=u,_e(m,u),ke(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!se.alternate&&!Xr)return Le(m),null}else 2*on()-Q.renderingStartTime>wm&&b!==536870912&&(m.flags|=128,T=!0,ke(Q,!1),m.lanes=4194304);Q.isBackwards?(se.sibling=m.child,m.child=se):(u=Q.last,u!==null?u.sibling=se:m.child=se,Q.last=se)}return Q.tail!==null?(m=Q.tail,Q.rendering=m,Q.tail=m.sibling,Q.renderingStartTime=on(),m.sibling=null,u=Ba.current,lt(Ba,T?u&1|2:u&1),m):(Le(m),null);case 22:case 23:return wu(m),zf(),T=m.memoizedState!==null,u!==null?u.memoizedState!==null!==T&&(m.flags|=8192):T&&(m.flags|=8192),T?(b&536870912)!==0&&(m.flags&128)===0&&(Le(m),m.subtreeFlags&6&&(m.flags|=8192)):Le(m),b=m.updateQueue,b!==null&&_e(m,b.retryQueue),b=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==b&&(m.flags|=2048),u!==null&&tt(_l),null;case 24:return b=null,u!==null&&(b=u.memoizedState.cache),m.memoizedState.cache!==b&&(m.flags|=2048),Qa(Ma),Le(m),null;case 25:return null;case 30:return null}throw Error(i(156,m.tag))}function It(u,m){switch(Jc(m),m.tag){case 1:return u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 3:return Qa(Ma),Ke(),u=m.flags,(u&65536)!==0&&(u&128)===0?(m.flags=u&-65537|128,m):null;case 26:case 27:case 5:return He(m),null;case 13:if(wu(m),u=m.memoizedState,u!==null&&u.dehydrated!==null){if(m.alternate===null)throw Error(i(340));Ns()}return u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 19:return tt(Ba),null;case 4:return Ke(),null;case 10:return Qa(m.type),null;case 22:case 23:return wu(m),zf(),u!==null&&tt(_l),u=m.flags,u&65536?(m.flags=u&-65537|128,m):null;case 24:return Qa(Ma),null;case 25:return null;default:return null}}function Jt(u,m){switch(Jc(m),m.tag){case 3:Qa(Ma),Ke();break;case 26:case 27:case 5:He(m);break;case 4:Ke();break;case 13:wu(m);break;case 19:tt(Ba);break;case 10:Qa(m.type);break;case 22:case 23:wu(m),zf(),u!==null&&tt(_l);break;case 24:Qa(Ma)}}function Ht(u,m){try{var b=m.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var Q=T.next;b=Q;do{if((b.tag&u)===u){T=void 0;var se=b.create,Ge=b.inst;T=se(),Ge.destroy=T}b=b.next}while(b!==Q)}}catch(ot){xs(m,m.return,ot)}}function _n(u,m,b){try{var T=m.updateQueue,Q=T!==null?T.lastEffect:null;if(Q!==null){var se=Q.next;T=se;do{if((T.tag&u)===u){var Ge=T.inst,ot=Ge.destroy;if(ot!==void 0){Ge.destroy=void 0,Q=m;var zt=b,hn=ot;try{hn()}catch(kn){xs(Q,zt,kn)}}}T=T.next}while(T!==se)}}catch(kn){xs(m,m.return,kn)}}function Rn(u){var m=u.updateQueue;if(m!==null){var b=u.stateNode;try{af(m,b)}catch(T){xs(u,u.return,T)}}}function oi(u,m,b){b.props=pc(u.type,u.memoizedProps),b.state=u.memoizedState;try{b.componentWillUnmount()}catch(T){xs(u,m,T)}}function mi(u,m){try{var b=u.ref;if(b!==null){switch(u.tag){case 26:case 27:case 5:var T=u.stateNode;break;case 30:T=u.stateNode;break;default:T=u.stateNode}typeof b=="function"?u.refCleanup=b(T):b.current=T}}catch(Q){xs(u,m,Q)}}function Ci(u,m){var b=u.ref,T=u.refCleanup;if(b!==null)if(typeof T=="function")try{T()}catch(Q){xs(u,m,Q)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(Q){xs(u,m,Q)}else b.current=null}function gi(u){var m=u.type,b=u.memoizedProps,T=u.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":b.autoFocus&&T.focus();break e;case"img":b.src?T.src=b.src:b.srcSet&&(T.srcset=b.srcSet)}}catch(Q){xs(u,u.return,Q)}}function Di(u,m,b){try{var T=u.stateNode;by(T,u.type,b,m),T[ti]=m}catch(Q){xs(u,u.return,Q)}}function sr(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&ch(u.type)||u.tag===4}function qi(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||sr(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&ch(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function eo(u,m,b){var T=u.tag;if(T===5||T===6)u=u.stateNode,m?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(u,m):(m=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,m.appendChild(u),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=Ju));else if(T!==4&&(T===27&&ch(u.type)&&(b=u.stateNode,m=null),u=u.child,u!==null))for(eo(u,m,b),u=u.sibling;u!==null;)eo(u,m,b),u=u.sibling}function wr(u,m,b){var T=u.tag;if(T===5||T===6)u=u.stateNode,m?b.insertBefore(u,m):b.appendChild(u);else if(T!==4&&(T===27&&ch(u.type)&&(b=u.stateNode),u=u.child,u!==null))for(wr(u,m,b),u=u.sibling;u!==null;)wr(u,m,b),u=u.sibling}function ss(u){var m=u.stateNode,b=u.memoizedProps;try{for(var T=u.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);nl(m,T,b),m[hi]=u,m[ti]=b}catch(se){xs(u,u.return,se)}}var ha=!1,Hr=!1,_s=!1,bs=typeof WeakSet=="function"?WeakSet:Set,da=null;function $l(u,m){if(u=u.containerInfo,Rh=di,u=bh(u),Sd(u)){if("selectionStart"in u)var b={start:u.selectionStart,end:u.selectionEnd};else e:{b=(b=u.ownerDocument)&&b.defaultView||window;var T=b.getSelection&&b.getSelection();if(T&&T.rangeCount!==0){b=T.anchorNode;var Q=T.anchorOffset,se=T.focusNode;T=T.focusOffset;try{b.nodeType,se.nodeType}catch{b=null;break e}var Ge=0,ot=-1,zt=-1,hn=0,kn=0,Nn=u,pn=null;t:for(;;){for(var fn;Nn!==b||Q!==0&&Nn.nodeType!==3||(ot=Ge+Q),Nn!==se||T!==0&&Nn.nodeType!==3||(zt=Ge+T),Nn.nodeType===3&&(Ge+=Nn.nodeValue.length),(fn=Nn.firstChild)!==null;)pn=Nn,Nn=fn;for(;;){if(Nn===u)break t;if(pn===b&&++hn===Q&&(ot=Ge),pn===se&&++kn===T&&(zt=Ge),(fn=Nn.nextSibling)!==null)break;Nn=pn,pn=Nn.parentNode}Nn=fn}b=ot===-1||zt===-1?null:{start:ot,end:zt}}else b=null}b=b||{start:0,end:0}}else b=null;for(y0={focusedElem:u,selectionRange:b},di=!1,da=m;da!==null;)if(m=da,u=m.child,(m.subtreeFlags&1024)!==0&&u!==null)u.return=m,da=u;else for(;da!==null;){switch(m=da,se=m.alternate,u=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&se!==null){u=void 0,b=m,Q=se.memoizedProps,se=se.memoizedState,T=b.stateNode;try{var Ur=pc(b.type,Q,b.elementType===b.type);u=T.getSnapshotBeforeUpdate(Ur,se),T.__reactInternalSnapshotBeforeUpdate=u}catch(Lr){xs(b,b.return,Lr)}}break;case 3:if((u&1024)!==0){if(u=m.stateNode.containerInfo,b=u.nodeType,b===9)ag(u);else if(b===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":ag(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=m.sibling,u!==null){u.return=m.return,da=u;break}da=m.return}}function ks(u,m,b){var T=b.flags;switch(b.tag){case 0:case 11:case 15:Zu(u,b),T&4&&Ht(5,b);break;case 1:if(Zu(u,b),T&4)if(u=b.stateNode,m===null)try{u.componentDidMount()}catch(Ge){xs(b,b.return,Ge)}else{var Q=pc(b.type,m.memoizedProps);m=m.memoizedState;try{u.componentDidUpdate(Q,m,u.__reactInternalSnapshotBeforeUpdate)}catch(Ge){xs(b,b.return,Ge)}}T&64&&Rn(b),T&512&&mi(b,b.return);break;case 3:if(Zu(u,b),T&64&&(u=b.updateQueue,u!==null)){if(m=null,b.child!==null)switch(b.child.tag){case 27:case 5:m=b.child.stateNode;break;case 1:m=b.child.stateNode}try{af(u,m)}catch(Ge){xs(b,b.return,Ge)}}break;case 27:m===null&&T&4&&ss(b);case 26:case 5:Zu(u,b),m===null&&T&4&&gi(b),T&512&&mi(b,b.return);break;case 12:Zu(u,b);break;case 13:Zu(u,b),T&4&&mA(u,b),T&64&&(u=b.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(b=tg.bind(null,b),Rm(u,b))));break;case 22:if(T=b.memoizedState!==null||ha,!T){m=m!==null&&m.memoizedState!==null||Hr,Q=ha;var se=Hr;ha=T,(Hr=m)&&!se?hf(u,b,(b.subtreeFlags&8772)!==0):Zu(u,b),ha=Q,Hr=se}break;case 30:break;default:Zu(u,b)}}function Ws(u){var m=u.alternate;m!==null&&(u.alternate=null,Ws(m)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(m=u.stateNode,m!==null&&Zn(m)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Ir=null,Oa=!1;function Zl(u,m,b){for(b=b.child;b!==null;)mc(u,m,b),b=b.sibling}function mc(u,m,b){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Kn,b)}catch{}switch(b.tag){case 26:Hr||Ci(b,m),Zl(u,m,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Hr||Ci(b,m);var T=Ir,Q=Oa;ch(b.type)&&(Ir=b.stateNode,Oa=!1),Zl(u,m,b),zp(b.stateNode),Ir=T,Oa=Q;break;case 5:Hr||Ci(b,m);case 6:if(T=Ir,Q=Oa,Ir=null,Zl(u,m,b),Ir=T,Oa=Q,Ir!==null)if(Oa)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(b.stateNode)}catch(se){xs(b,m,se)}else try{Ir.removeChild(b.stateNode)}catch(se){xs(b,m,se)}break;case 18:Ir!==null&&(Oa?(u=Ir,Up(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,b.stateNode),dl(u)):Up(Ir,b.stateNode));break;case 4:T=Ir,Q=Oa,Ir=b.stateNode.containerInfo,Oa=!0,Zl(u,m,b),Ir=T,Oa=Q;break;case 0:case 11:case 14:case 15:Hr||_n(2,b,m),Hr||_n(4,b,m),Zl(u,m,b);break;case 1:Hr||(Ci(b,m),T=b.stateNode,typeof T.componentWillUnmount=="function"&&oi(b,m,T)),Zl(u,m,b);break;case 21:Zl(u,m,b);break;case 22:Hr=(T=Hr)||b.memoizedState!==null,Zl(u,m,b),Hr=T;break;default:Zl(u,m,b)}}function mA(u,m){if(m.memoizedState===null&&(u=m.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{dl(u)}catch(b){xs(m,m.return,b)}}function ah(u){switch(u.tag){case 13:case 19:var m=u.stateNode;return m===null&&(m=u.stateNode=new bs),m;case 22:return u=u.stateNode,m=u._retryCache,m===null&&(m=u._retryCache=new bs),m;default:throw Error(i(435,u.tag))}}function fs(u,m){var b=ah(u);m.forEach(function(T){var Q=sC.bind(null,u,T);b.has(T)||(b.add(T),T.then(Q,Q))})}function Su(u,m){var b=m.deletions;if(b!==null)for(var T=0;T<b.length;T++){var Q=b[T],se=u,Ge=m,ot=Ge;e:for(;ot!==null;){switch(ot.tag){case 27:if(ch(ot.type)){Ir=ot.stateNode,Oa=!1;break e}break;case 5:Ir=ot.stateNode,Oa=!1;break e;case 3:case 4:Ir=ot.stateNode.containerInfo,Oa=!0;break e}ot=ot.return}if(Ir===null)throw Error(i(160));mc(se,Ge,Q),Ir=null,Oa=!1,se=Q.alternate,se!==null&&(se.return=null),Q.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)gc(m,u),m=m.sibling}var wl=null;function gc(u,m){var b=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Su(m,u),ll(u),T&4&&(_n(3,u,u.return),Ht(3,u),_n(5,u,u.return));break;case 1:Su(m,u),ll(u),T&512&&(Hr||b===null||Ci(b,b.return)),T&64&&ha&&(u=u.updateQueue,u!==null&&(T=u.callbacks,T!==null&&(b=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=b===null?T:b.concat(T))));break;case 26:var Q=wl;if(Su(m,u),ll(u),T&512&&(Hr||b===null||Ci(b,b.return)),T&4){var se=b!==null?b.memoizedState:null;if(T=u.memoizedState,b===null)if(T===null)if(u.stateNode===null){e:{T=u.type,b=u.memoizedProps,Q=Q.ownerDocument||Q;t:switch(T){case"title":se=Q.getElementsByTagName("title")[0],(!se||se[ko]||se[hi]||se.namespaceURI==="http://www.w3.org/2000/svg"||se.hasAttribute("itemprop"))&&(se=Q.createElement(T),Q.head.insertBefore(se,Q.querySelector("head > title"))),nl(se,T,b),se[hi]=u,kr(se),T=se;break e;case"link":var Ge=P("link","href",Q).get(T+(b.href||""));if(Ge){for(var ot=0;ot<Ge.length;ot++)if(se=Ge[ot],se.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&se.getAttribute("rel")===(b.rel==null?null:b.rel)&&se.getAttribute("title")===(b.title==null?null:b.title)&&se.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){Ge.splice(ot,1);break t}}se=Q.createElement(T),nl(se,T,b),Q.head.appendChild(se);break;case"meta":if(Ge=P("meta","content",Q).get(T+(b.content||""))){for(ot=0;ot<Ge.length;ot++)if(se=Ge[ot],se.getAttribute("content")===(b.content==null?null:""+b.content)&&se.getAttribute("name")===(b.name==null?null:b.name)&&se.getAttribute("property")===(b.property==null?null:b.property)&&se.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&se.getAttribute("charset")===(b.charSet==null?null:b.charSet)){Ge.splice(ot,1);break t}}se=Q.createElement(T),nl(se,T,b),Q.head.appendChild(se);break;default:throw Error(i(468,T))}se[hi]=u,kr(se),T=se}u.stateNode=T}else N(Q,u.type,u.stateNode);else u.stateNode=A(Q,T,u.memoizedProps);else se!==T?(se===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):se.count--,T===null?N(Q,u.type,u.stateNode):A(Q,T,u.memoizedProps)):T===null&&u.stateNode!==null&&Di(u,u.memoizedProps,b.memoizedProps)}break;case 27:Su(m,u),ll(u),T&512&&(Hr||b===null||Ci(b,b.return)),b!==null&&T&4&&Di(u,u.memoizedProps,b.memoizedProps);break;case 5:if(Su(m,u),ll(u),T&512&&(Hr||b===null||Ci(b,b.return)),u.flags&32){Q=u.stateNode;try{Xo(Q,"")}catch(fn){xs(u,u.return,fn)}}T&4&&u.stateNode!=null&&(Q=u.memoizedProps,Di(u,Q,b!==null?b.memoizedProps:Q)),T&1024&&(_s=!0);break;case 6:if(Su(m,u),ll(u),T&4){if(u.stateNode===null)throw Error(i(162));T=u.memoizedProps,b=u.stateNode;try{b.nodeValue=T}catch(fn){xs(u,u.return,fn)}}break;case 3:if(R=null,Q=wl,wl=oo(m.containerInfo),Su(m,u),wl=Q,ll(u),T&4&&b!==null&&b.memoizedState.isDehydrated)try{dl(m.containerInfo)}catch(fn){xs(u,u.return,fn)}_s&&(_s=!1,gA(u));break;case 4:T=wl,wl=oo(u.stateNode.containerInfo),Su(m,u),ll(u),wl=T;break;case 12:Su(m,u),ll(u);break;case 13:Su(m,u),ll(u),u.child.flags&8192&&u.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Hg=on()),T&4&&(T=u.updateQueue,T!==null&&(u.updateQueue=null,fs(u,T)));break;case 22:Q=u.memoizedState!==null;var zt=b!==null&&b.memoizedState!==null,hn=ha,kn=Hr;if(ha=hn||Q,Hr=kn||zt,Su(m,u),Hr=kn,ha=hn,ll(u),T&8192)e:for(m=u.stateNode,m._visibility=Q?m._visibility&-2:m._visibility|1,Q&&(b===null||zt||ha||Hr||ad(u)),b=null,m=u;;){if(m.tag===5||m.tag===26){if(b===null){zt=b=m;try{if(se=zt.stateNode,Q)Ge=se.style,typeof Ge.setProperty=="function"?Ge.setProperty("display","none","important"):Ge.display="none";else{ot=zt.stateNode;var Nn=zt.memoizedProps.style,pn=Nn!=null&&Nn.hasOwnProperty("display")?Nn.display:null;ot.style.display=pn==null||typeof pn=="boolean"?"":(""+pn).trim()}}catch(fn){xs(zt,zt.return,fn)}}}else if(m.tag===6){if(b===null){zt=m;try{zt.stateNode.nodeValue=Q?"":zt.memoizedProps}catch(fn){xs(zt,zt.return,fn)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===u)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break e;for(;m.sibling===null;){if(m.return===null||m.return===u)break e;b===m&&(b=null),m=m.return}b===m&&(b=null),m.sibling.return=m.return,m=m.sibling}T&4&&(T=u.updateQueue,T!==null&&(b=T.retryQueue,b!==null&&(T.retryQueue=null,fs(u,b))));break;case 19:Su(m,u),ll(u),T&4&&(T=u.updateQueue,T!==null&&(u.updateQueue=null,fs(u,T)));break;case 30:break;case 21:break;default:Su(m,u),ll(u)}}function ll(u){var m=u.flags;if(m&2){try{for(var b,T=u.return;T!==null;){if(sr(T)){b=T;break}T=T.return}if(b==null)throw Error(i(160));switch(b.tag){case 27:var Q=b.stateNode,se=qi(u);wr(u,se,Q);break;case 5:var Ge=b.stateNode;b.flags&32&&(Xo(Ge,""),b.flags&=-33);var ot=qi(u);wr(u,ot,Ge);break;case 3:case 4:var zt=b.stateNode.containerInfo,hn=qi(u);eo(u,hn,zt);break;default:throw Error(i(161))}}catch(kn){xs(u,u.return,kn)}u.flags&=-3}m&4096&&(u.flags&=-4097)}function gA(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var m=u;gA(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),u=u.sibling}}function Zu(u,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)ks(u,m.alternate,m),m=m.sibling}function ad(u){for(u=u.child;u!==null;){var m=u;switch(m.tag){case 0:case 11:case 14:case 15:_n(4,m,m.return),ad(m);break;case 1:Ci(m,m.return);var b=m.stateNode;typeof b.componentWillUnmount=="function"&&oi(m,m.return,b),ad(m);break;case 27:zp(m.stateNode);case 26:case 5:Ci(m,m.return),ad(m);break;case 22:m.memoizedState===null&&ad(m);break;case 30:ad(m);break;default:ad(m)}u=u.sibling}}function hf(u,m,b){for(b=b&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var T=m.alternate,Q=u,se=m,Ge=se.flags;switch(se.tag){case 0:case 11:case 15:hf(Q,se,b),Ht(4,se);break;case 1:if(hf(Q,se,b),T=se,Q=T.stateNode,typeof Q.componentDidMount=="function")try{Q.componentDidMount()}catch(hn){xs(T,T.return,hn)}if(T=se,Q=T.updateQueue,Q!==null){var ot=T.stateNode;try{var zt=Q.shared.hiddenCallbacks;if(zt!==null)for(Q.shared.hiddenCallbacks=null,Q=0;Q<zt.length;Q++)Bp(zt[Q],ot)}catch(hn){xs(T,T.return,hn)}}b&&Ge&64&&Rn(se),mi(se,se.return);break;case 27:ss(se);case 26:case 5:hf(Q,se,b),b&&T===null&&Ge&4&&gi(se),mi(se,se.return);break;case 12:hf(Q,se,b);break;case 13:hf(Q,se,b),b&&Ge&4&&mA(Q,se);break;case 22:se.memoizedState===null&&hf(Q,se,b),mi(se,se.return);break;case 30:break;default:hf(Q,se,b)}m=m.sibling}}function Wg(u,m){var b=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),u=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(u=m.memoizedState.cachePool.pool),u!==b&&(u!=null&&u.refCount++,b!=null&&ih(b))}function Qg(u,m){u=null,m.alternate!==null&&(u=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==u&&(m.refCount++,u!=null&&ih(u))}function Pd(u,m,b,T){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Tp(u,m,b,T),m=m.sibling}function Tp(u,m,b,T){var Q=m.flags;switch(m.tag){case 0:case 11:case 15:Pd(u,m,b,T),Q&2048&&Ht(9,m);break;case 1:Pd(u,m,b,T);break;case 3:Pd(u,m,b,T),Q&2048&&(u=null,m.alternate!==null&&(u=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==u&&(m.refCount++,u!=null&&ih(u)));break;case 12:if(Q&2048){Pd(u,m,b,T),u=m.stateNode;try{var se=m.memoizedProps,Ge=se.id,ot=se.onPostCommit;typeof ot=="function"&&ot(Ge,m.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(zt){xs(m,m.return,zt)}}else Pd(u,m,b,T);break;case 13:Pd(u,m,b,T);break;case 23:break;case 22:se=m.stateNode,Ge=m.alternate,m.memoizedState!==null?se._visibility&2?Pd(u,m,b,T):l0(u,m):se._visibility&2?Pd(u,m,b,T):(se._visibility|=2,vm(u,m,b,T,(m.subtreeFlags&10256)!==0)),Q&2048&&Wg(Ge,m);break;case 24:Pd(u,m,b,T),Q&2048&&Qg(m.alternate,m);break;default:Pd(u,m,b,T)}}function vm(u,m,b,T,Q){for(Q=Q&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var se=u,Ge=m,ot=b,zt=T,hn=Ge.flags;switch(Ge.tag){case 0:case 11:case 15:vm(se,Ge,ot,zt,Q),Ht(8,Ge);break;case 23:break;case 22:var kn=Ge.stateNode;Ge.memoizedState!==null?kn._visibility&2?vm(se,Ge,ot,zt,Q):l0(se,Ge):(kn._visibility|=2,vm(se,Ge,ot,zt,Q)),Q&&hn&2048&&Wg(Ge.alternate,Ge);break;case 24:vm(se,Ge,ot,zt,Q),Q&&hn&2048&&Qg(Ge.alternate,Ge);break;default:vm(se,Ge,ot,zt,Q)}m=m.sibling}}function l0(u,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var b=u,T=m,Q=T.flags;switch(T.tag){case 22:l0(b,T),Q&2048&&Wg(T.alternate,T);break;case 24:l0(b,T),Q&2048&&Qg(T.alternate,T);break;default:l0(b,T)}m=m.sibling}}var Eu=8192;function Cm(u){if(u.subtreeFlags&Eu)for(u=u.child;u!==null;)Yg(u),u=u.sibling}function Yg(u){switch(u.tag){case 26:Cm(u),u.flags&Eu&&u.memoizedState!==null&&Pe(wl,u.memoizedState,u.memoizedProps);break;case 5:Cm(u);break;case 3:case 4:var m=wl;wl=oo(u.stateNode.containerInfo),Cm(u),wl=m;break;case 22:u.memoizedState===null&&(m=u.alternate,m!==null&&m.memoizedState!==null?(m=Eu,Eu=16777216,Cm(u),Eu=m):Cm(u));break;default:Cm(u)}}function ay(u){var m=u.alternate;if(m!==null&&(u=m.child,u!==null)){m.child=null;do m=u.sibling,u.sibling=null,u=m;while(u!==null)}}function $f(u){var m=u.deletions;if((u.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var T=m[b];da=T,sy(T,u)}ay(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)_m(u),u=u.sibling}function _m(u){switch(u.tag){case 0:case 11:case 15:$f(u),u.flags&2048&&_n(9,u,u.return);break;case 3:$f(u);break;case 12:$f(u);break;case 22:var m=u.stateNode;u.memoizedState!==null&&m._visibility&2&&(u.return===null||u.return.tag!==13)?(m._visibility&=-3,bm(u)):$f(u);break;default:$f(u)}}function bm(u){var m=u.deletions;if((u.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var T=m[b];da=T,sy(T,u)}ay(u)}for(u=u.child;u!==null;){switch(m=u,m.tag){case 0:case 11:case 15:_n(8,m,m.return),bm(m);break;case 22:b=m.stateNode,b._visibility&2&&(b._visibility&=-3,bm(m));break;default:bm(m)}u=u.sibling}}function sy(u,m){for(;da!==null;){var b=da;switch(b.tag){case 0:case 11:case 15:_n(8,b,m);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var T=b.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:ih(b.memoizedState.cache)}if(T=b.child,T!==null)T.return=b,da=T;else e:for(b=u;da!==null;){T=da;var Q=T.sibling,se=T.return;if(Ws(T),T===b){da=null;break e}if(Q!==null){Q.return=se,da=Q;break e}da=se}}}var rC={getCacheForType:function(u){var m=Po(Ma),b=m.data.get(u);return b===void 0&&(b=u(),m.data.set(u,b)),b}},q0=typeof WeakMap=="function"?WeakMap:Map,ls=0,Qs=null,ia=null,qo=0,As=0,sh=null,Zf=!1,xm=!1,qg=!1,df=0,Sl=0,Kd=0,Xf=0,H0=0,lh=0,Mm=0,Jf=null,Fc=null,V0=!1,Hg=0,wm=1/0,A0=null,ff=null,Bu=0,ep=null,Ud=null,tl=0,u0=0,$0=null,Vg=null,tp=0,np=null;function Ou(){if((ls&2)!==0&&qo!==0)return qo&-qo;if(ze.T!==null){var u=al;return u!==0?u:Dm()}return Hi()}function ly(){lh===0&&(lh=(qo&536870912)===0||Xr?mt():536870912);var u=nu.current;return u!==null&&(u.flags|=32),lh}function Ah(u,m,b){(u===Qs&&(As===2||As===9)||u.cancelPendingCommit!==null)&&(Sm(u,0),ip(u,qo,lh,!1)),it(u,b),((ls&2)===0||u!==Qs)&&(u===Qs&&((ls&2)===0&&(Xf|=b),Sl===4&&ip(u,qo,lh,!1)),uh(u))}function Ay(u,m,b){if((ls&6)!==0)throw Error(i(327));var T=!b&&(m&124)===0&&(m&u.expiredLanes)===0||Ze(u,m),Q=T?rp(u,m):c0(u,m,!0),se=T;do{if(Q===0){xm&&!T&&ip(u,m,0,!1);break}else{if(b=u.current.alternate,se&&!oC(b)){Q=c0(u,m,!1),se=!1;continue}if(Q===2){if(se=m,u.errorRecoveryDisabledLanes&se)var Ge=0;else Ge=u.pendingLanes&-536870913,Ge=Ge!==0?Ge:Ge&536870912?536870912:0;if(Ge!==0){m=Ge;e:{var ot=u;Q=Jf;var zt=ot.current.memoizedState.isDehydrated;if(zt&&(Sm(ot,Ge).flags|=256),Ge=c0(ot,Ge,!1),Ge!==2){if(qg&&!zt){ot.errorRecoveryDisabledLanes|=se,Xf|=se,Q=4;break e}se=Fc,Fc=Q,se!==null&&(Fc===null?Fc=se:Fc.push.apply(Fc,se))}Q=Ge}if(se=!1,Q!==2)continue}}if(Q===1){Sm(u,0),ip(u,m,0,!0);break}e:{switch(T=u,se=Q,se){case 0:case 1:throw Error(i(345));case 4:if((m&4194048)!==m)break;case 6:ip(T,m,lh,!Zf);break e;case 2:Fc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((m&62914560)===m&&(Q=Hg+300-on(),10<Q)){if(ip(T,m,lh,!Zf),De(T,0,!0)!==0)break e;T.timeoutHandle=l1(uy.bind(null,T,b,Fc,A0,V0,m,lh,Xf,Mm,Zf,se,2,-0,0),Q);break e}uy(T,b,Fc,A0,V0,m,lh,Xf,Mm,Zf,se,0,-0,0)}}break}while(!0);uh(u)}function uy(u,m,b,T,Q,se,Ge,ot,zt,hn,kn,Nn,pn,fn){if(u.timeoutHandle=-1,Nn=m.subtreeFlags,(Nn&8192||(Nn&16785408)===16785408)&&(ue={stylesheets:null,count:0,unsuspend:ve},Yg(m),Nn=Qe(),Nn!==null)){u.cancelPendingCommit=Nn(Bm.bind(null,u,m,se,b,T,Q,Ge,ot,zt,kn,1,pn,fn)),ip(u,se,Ge,!hn);return}Bm(u,m,se,b,T,Q,Ge,ot,zt)}function oC(u){for(var m=u;;){var b=m.tag;if((b===0||b===11||b===15)&&m.flags&16384&&(b=m.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var T=0;T<b.length;T++){var Q=b[T],se=Q.getSnapshot;Q=Q.value;try{if(!MA(se(),Q))return!1}catch{return!1}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ip(u,m,b,T){m&=~H0,m&=~Xf,u.suspendedLanes|=m,u.pingedLanes&=~m,T&&(u.warmLanes|=m),T=u.expirationTimes;for(var Q=m;0<Q;){var se=31-re(Q),Ge=1<<se;T[se]=-1,Q&=~Ge}b!==0&&Dn(u,b,m)}function Z0(){return(ls&6)===0?(kp(0),!1):!0}function $g(){if(ia!==null){if(As===0)var u=ia.return;else u=ia,rt=eu=null,Rc(u),bo=null,ea=0,u=ia;for(;u!==null;)Jt(u.alternate,u),u=u.return;ia=null}}function Sm(u,m){var b=u.timeoutHandle;b!==-1&&(u.timeoutHandle=-1,My(b)),b=u.cancelPendingCommit,b!==null&&(u.cancelPendingCommit=null,b()),$g(),Qs=u,ia=b=Os(u.current,null),qo=m,As=0,sh=null,Zf=!1,xm=Ze(u,m),qg=!1,Mm=lh=H0=Xf=Kd=Sl=0,Fc=Jf=null,V0=!1,(m&8)!==0&&(m|=m&32);var T=u.entangledLanes;if(T!==0)for(u=u.entanglements,T&=m;0<T;){var Q=31-re(T),se=1<<Q;m|=u[Q],T&=~se}return df=m,Nl(),b}function cy(u,m){ro=null,ze.H=xl,m===ba||m===ci?(m=of(),As=3):m===Jr?(m=of(),As=4):As=m===Dd?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,sh=m,ia===null&&(Sl=1,lf(u,Wa(m,u.current)))}function hy(){var u=ze.H;return ze.H=xl,u===null?xl:u}function dy(){var u=ze.A;return ze.A=rC,u}function X0(){Sl=4,Zf||(qo&4194048)!==qo&&nu.current!==null||(xm=!0),(Kd&134217727)===0&&(Xf&134217727)===0||Qs===null||ip(Qs,qo,lh,!1)}function c0(u,m,b){var T=ls;ls|=2;var Q=hy(),se=dy();(Qs!==u||qo!==m)&&(A0=null,Sm(u,m)),m=!1;var Ge=Sl;e:do try{if(As!==0&&ia!==null){var ot=ia,zt=sh;switch(As){case 8:$g(),Ge=6;break e;case 3:case 2:case 9:case 6:nu.current===null&&(m=!0);var hn=As;if(As=0,sh=null,pf(u,ot,zt,hn),b&&xm){Ge=0;break e}break;default:hn=As,As=0,sh=null,pf(u,ot,zt,hn)}}fy(),Ge=Sl;break}catch(kn){cy(u,kn)}while(!0);return m&&u.shellSuspendCounter++,rt=eu=null,ls=T,ze.H=Q,ze.A=se,ia===null&&(Qs=null,qo=0,Nl()),Ge}function fy(){for(;ia!==null;)op(ia)}function rp(u,m){var b=ls;ls|=2;var T=hy(),Q=dy();Qs!==u||qo!==m?(A0=null,wm=on()+500,Sm(u,m)):xm=Ze(u,m);e:do try{if(As!==0&&ia!==null){m=ia;var se=sh;t:switch(As){case 1:As=0,sh=null,pf(u,m,se,1);break;case 2:case 9:if(Qu(se)){As=0,sh=null,h0(m);break}m=function(){As!==2&&As!==9||Qs!==u||(As=7),uh(u)},se.then(m,m);break e;case 3:As=7;break e;case 4:As=5;break e;case 7:Qu(se)?(As=0,sh=null,h0(m)):(As=0,sh=null,pf(u,m,se,7));break;case 5:var Ge=null;switch(ia.tag){case 26:Ge=ia.memoizedState;case 5:case 27:var ot=ia;if(!Ge||ie(Ge)){As=0,sh=null;var zt=ot.sibling;if(zt!==null)ia=zt;else{var hn=ot.return;hn!==null?(ia=hn,J0(hn)):ia=null}break t}}As=0,sh=null,pf(u,m,se,5);break;case 6:As=0,sh=null,pf(u,m,se,6);break;case 8:$g(),Sl=6;break e;default:throw Error(i(462))}}Em();break}catch(kn){cy(u,kn)}while(!0);return rt=eu=null,ze.H=T,ze.A=Q,ls=b,ia!==null?0:(Qs=null,qo=0,Nl(),Sl)}function Em(){for(;ia!==null&&!qt();)op(ia)}function op(u){var m=F(u.alternate,u,df);u.memoizedProps=u.pendingProps,m===null?J0(u):ia=m}function h0(u){var m=u,b=m.alternate;switch(m.tag){case 15:case 0:m=na(b,m,m.pendingProps,m.type,void 0,qo);break;case 11:m=na(b,m,m.pendingProps,m.type.render,m.ref,qo);break;case 5:Rc(m);default:Jt(b,m),m=ia=Mh(m,df),m=F(b,m,df)}u.memoizedProps=u.pendingProps,m===null?J0(u):ia=m}function pf(u,m,b,T){rt=eu=null,Rc(m),bo=null,ea=0;var Q=m.return;try{if(ru(u,Q,m,b,qo)){Sl=1,lf(u,Wa(b,u.current)),ia=null;return}}catch(se){if(Q!==null)throw ia=Q,se;Sl=1,lf(u,Wa(b,u.current)),ia=null;return}m.flags&32768?(Xr||T===1?u=!0:xm||(qo&536870912)!==0?u=!1:(Zf=u=!0,(T===2||T===9||T===3||T===6)&&(T=nu.current,T!==null&&T.tag===13&&(T.flags|=16384))),py(m,u)):J0(m)}function J0(u){var m=u;do{if((m.flags&32768)!==0){py(m,Zf);return}u=m.return;var b=vt(m.alternate,m,df);if(b!==null){ia=b;return}if(m=m.sibling,m!==null){ia=m;return}ia=m=u}while(m!==null);Sl===0&&(Sl=5)}function py(u,m){do{var b=It(u.alternate,u);if(b!==null){b.flags&=32767,ia=b;return}if(b=u.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!m&&(u=u.sibling,u!==null)){ia=u;return}ia=u=b}while(u!==null);Sl=6,ia=null}function Bm(u,m,b,T,Q,se,Ge,ot,zt){u.cancelPendingCommit=null;do Om();while(Bu!==0);if((ls&6)!==0)throw Error(i(327));if(m!==null){if(m===u.current)throw Error(i(177));if(se=m.lanes|m.childLanes,se|=XA,en(u,b,se,Ge,ot,zt),u===Qs&&(ia=Qs=null,qo=0),Ud=m,ep=u,tl=b,u0=se,$0=Q,Vg=T,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,t1(On,function(){return eg(),null})):(u.callbackNode=null,u.callbackPriority=0),T=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||T){T=ze.T,ze.T=null,Q=st.p,st.p=2,Ge=ls,ls|=4;try{$l(u,m,b)}finally{ls=Ge,st.p=Q,ze.T=T}}Bu=1,Zg(),my(),Xg()}}function Zg(){if(Bu===1){Bu=0;var u=ep,m=Ud,b=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||b){b=ze.T,ze.T=null;var T=st.p;st.p=2;var Q=ls;ls|=4;try{gc(m,u);var se=y0,Ge=bh(u.containerInfo),ot=se.focusedElem,zt=se.selectionRange;if(Ge!==ot&&ot&&ot.ownerDocument&&Oo(ot.ownerDocument.documentElement,ot)){if(zt!==null&&Sd(ot)){var hn=zt.start,kn=zt.end;if(kn===void 0&&(kn=hn),"selectionStart"in ot)ot.selectionStart=hn,ot.selectionEnd=Math.min(kn,ot.value.length);else{var Nn=ot.ownerDocument||document,pn=Nn&&Nn.defaultView||window;if(pn.getSelection){var fn=pn.getSelection(),Ur=ot.textContent.length,Lr=Math.min(zt.start,Ur),ws=zt.end===void 0?Lr:Math.min(zt.end,Ur);!fn.extend&&Lr>ws&&(Ge=ws,ws=Lr,Lr=Ge);var tn=Lu(ot,Lr),$t=Lu(ot,ws);if(tn&&$t&&(fn.rangeCount!==1||fn.anchorNode!==tn.node||fn.anchorOffset!==tn.offset||fn.focusNode!==$t.node||fn.focusOffset!==$t.offset)){var un=Nn.createRange();un.setStart(tn.node,tn.offset),fn.removeAllRanges(),Lr>ws?(fn.addRange(un),fn.extend($t.node,$t.offset)):(un.setEnd($t.node,$t.offset),fn.addRange(un))}}}}for(Nn=[],fn=ot;fn=fn.parentNode;)fn.nodeType===1&&Nn.push({element:fn,left:fn.scrollLeft,top:fn.scrollTop});for(typeof ot.focus=="function"&&ot.focus(),ot=0;ot<Nn.length;ot++){var Ln=Nn[ot];Ln.element.scrollLeft=Ln.left,Ln.element.scrollTop=Ln.top}}di=!!Rh,y0=Rh=null}finally{ls=Q,st.p=T,ze.T=b}}u.current=m,Bu=2}}function my(){if(Bu===2){Bu=0;var u=ep,m=Ud,b=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||b){b=ze.T,ze.T=null;var T=st.p;st.p=2;var Q=ls;ls|=4;try{ks(u,m.alternate,m)}finally{ls=Q,st.p=T,ze.T=b}}Bu=3}}function Xg(){if(Bu===4||Bu===3){Bu=0,Kt();var u=ep,m=Ud,b=tl,T=Vg;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Bu=5:(Bu=0,Ud=ep=null,Jg(u,u.pendingLanes));var Q=u.pendingLanes;if(Q===0&&(ff=null),Wn(b),m=m.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Kn,m,void 0,(m.current.flags&128)===128)}catch{}if(T!==null){m=ze.T,Q=st.p,st.p=2,ze.T=null;try{for(var se=u.onRecoverableError,Ge=0;Ge<T.length;Ge++){var ot=T[Ge];se(ot.value,{componentStack:ot.stack})}}finally{ze.T=m,st.p=Q}}(tl&3)!==0&&Om(),uh(u),Q=u.pendingLanes,(b&4194090)!==0&&(Q&42)!==0?u===np?tp++:(tp=0,np=u):tp=0,kp(0)}}function Jg(u,m){(u.pooledCacheLanes&=m)===0&&(m=u.pooledCache,m!=null&&(u.pooledCache=null,ih(m)))}function Om(u){return Zg(),my(),Xg(),eg()}function eg(){if(Bu!==5)return!1;var u=ep,m=u0;u0=0;var b=Wn(tl),T=ze.T,Q=st.p;try{st.p=32>b?32:b,ze.T=null,b=$0,$0=null;var se=ep,Ge=tl;if(Bu=0,Ud=ep=null,tl=0,(ls&6)!==0)throw Error(i(331));var ot=ls;if(ls|=4,_m(se.current),Tp(se,se.current,Ge,b),ls=ot,kp(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Kn,se)}catch{}return!0}finally{st.p=Q,ze.T=T,Jg(u,m)}}function gy(u,m,b){m=Wa(b,m),m=Op(u.stateNode,m,2),u=cc(u,m,2),u!==null&&(it(u,2),uh(u))}function xs(u,m,b){if(u.tag===3)gy(u,u,b);else for(;m!==null;){if(m.tag===3){gy(m,u,b);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ff===null||!ff.has(T))){u=Wa(b,u),b=kh(2),T=cc(m,b,2),T!==null&&(Yf(b,T,m,u),it(T,2),uh(T));break}}m=m.return}}function e1(u,m,b){var T=u.pingCache;if(T===null){T=u.pingCache=new q0;var Q=new Set;T.set(m,Q)}else Q=T.get(m),Q===void 0&&(Q=new Set,T.set(m,Q));Q.has(b)||(qg=!0,Q.add(b),u=aC.bind(null,u,m,b),m.then(u,u))}function aC(u,m,b){var T=u.pingCache;T!==null&&T.delete(m),u.pingedLanes|=u.suspendedLanes&b,u.warmLanes&=~b,Qs===u&&(qo&b)===b&&(Sl===4||Sl===3&&(qo&62914560)===qo&&300>on()-Hg?(ls&2)===0&&Sm(u,0):H0|=b,Mm===qo&&(Mm=0)),uh(u)}function yy(u,m){m===0&&(m=ht()),u=OA(u,m),u!==null&&(it(u,m),uh(u))}function tg(u){var m=u.memoizedState,b=0;m!==null&&(b=m.retryLane),yy(u,b)}function sC(u,m){var b=0;switch(u.tag){case 13:var T=u.stateNode,Q=u.memoizedState;Q!==null&&(b=Q.retryLane);break;case 19:T=u.stateNode;break;case 22:T=u.stateNode._retryCache;break;default:throw Error(i(314))}T!==null&&T.delete(m),yy(u,b)}function t1(u,m){return _t(u,m)}var Im=null,Xu=null,sd=!1,Tm=!1,km=!1,ap=0;function uh(u){u!==Xu&&u.next===null&&(Xu===null?Im=Xu=u:Xu=Xu.next=u),Tm=!0,sd||(sd=!0,ng())}function kp(u,m){if(!km&&Tm){km=!0;do for(var b=!1,T=Im;T!==null;){if(u!==0){var Q=T.pendingLanes;if(Q===0)var se=0;else{var Ge=T.suspendedLanes,ot=T.pingedLanes;se=(1<<31-re(42|u)+1)-1,se&=Q&~(Ge&~ot),se=se&201326741?se&201326741|1:se?se|2:0}se!==0&&(b=!0,n1(T,se))}else se=qo,se=De(T,T===Qs?se:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(se&3)===0||Ze(T,se)||(b=!0,n1(T,se));T=T.next}while(b);km=!1}}function lC(){Dp()}function Dp(){Tm=sd=!1;var u=0;ap!==0&&(xy()&&(u=ap),ap=0);for(var m=on(),b=null,T=Im;T!==null;){var Q=T.next,se=Rp(T,m);se===0?(T.next=null,b===null?Im=Q:b.next=Q,Q===null&&(Xu=b)):(b=T,(u!==0||(se&3)!==0)&&(Tm=!0)),T=Q}kp(u)}function Rp(u,m){for(var b=u.suspendedLanes,T=u.pingedLanes,Q=u.expirationTimes,se=u.pendingLanes&-62914561;0<se;){var Ge=31-re(se),ot=1<<Ge,zt=Q[Ge];zt===-1?((ot&b)===0||(ot&T)!==0)&&(Q[Ge]=g(ot,m)):zt<=m&&(u.expiredLanes|=ot),se&=~ot}if(m=Qs,b=qo,b=De(u,u===m?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),T=u.callbackNode,b===0||u===m&&(As===2||As===9)||u.cancelPendingCommit!==null)return T!==null&&T!==null&&Ot(T),u.callbackNode=null,u.callbackPriority=0;if((b&3)===0||Ze(u,b)){if(m=b&-b,m===u.callbackPriority)return m;switch(T!==null&&Ot(T),Wn(b)){case 2:case 8:b=$n;break;case 32:b=On;break;case 268435456:b=In;break;default:b=On}return T=Pp.bind(null,u),b=_t(b,T),u.callbackPriority=m,u.callbackNode=b,m}return T!==null&&T!==null&&Ot(T),u.callbackPriority=2,u.callbackNode=null,2}function Pp(u,m){if(Bu!==0&&Bu!==5)return u.callbackNode=null,u.callbackPriority=0,null;var b=u.callbackNode;if(Om()&&u.callbackNode!==b)return null;var T=qo;return T=De(u,u===Qs?T:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),T===0?null:(Ay(u,T,m),Rp(u,on()),u.callbackNode!=null&&u.callbackNode===b?Pp.bind(null,u):null)}function n1(u,m){if(Om())return null;Ay(u,m,!0)}function ng(){cC(function(){(ls&6)!==0?_t(Wt,lC):Dp()})}function Dm(){return ap===0&&(ap=mt()),ap}function i1(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Mr(""+u)}function d0(u,m){var b=m.ownerDocument.createElement("input");return b.name=m.name,b.value=m.value,u.id&&b.setAttribute("form",u.id),m.parentNode.insertBefore(b,m),u=new FormData(u),b.parentNode.removeChild(b),u}function vy(u,m,b,T,Q){if(m==="submit"&&b&&b.stateNode===Q){var se=i1((Q[ti]||null).action),Ge=T.submitter;Ge&&(m=(m=Ge[ti]||null)?i1(m.formAction):Ge.getAttribute("formAction"),m!==null&&(se=m,Ge=null));var ot=new Gt("action","action",null,T,Q);u.push({event:ot,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(ap!==0){var zt=Ge?d0(Q,Ge):new FormData(Q);ca(b,{pending:!0,data:zt,method:Q.method,action:se},null,zt)}}else typeof se=="function"&&(ot.preventDefault(),zt=Ge?d0(Q,Ge):new FormData(Q),ca(b,{pending:!0,data:zt,method:Q.method,action:se},se,zt))},currentTarget:Q}]})}}for(var r1=0;r1<Wo.length;r1++){var o1=Wo[r1],Cy=o1.toLowerCase(),AC=o1[0].toUpperCase()+o1.slice(1);pu(Cy,"on"+AC)}pu($c,"onAnimationEnd"),pu(Xd,"onAnimationIteration"),pu(lA,"onAnimationStart"),pu("dblclick","onDoubleClick"),pu("focusin","onFocus"),pu("focusout","onBlur"),pu(Ed,"onTransitionRun"),pu(fu,"onTransitionStart"),pu(SA,"onTransitionCancel"),pu(EA,"onTransitionEnd"),So("onMouseEnter",["mouseout","mouseover"]),So("onMouseLeave",["mouseout","mouseover"]),So("onPointerEnter",["pointerout","pointerover"]),So("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(f0));function _y(u,m){m=(m&4)!==0;for(var b=0;b<u.length;b++){var T=u[b],Q=T.event;T=T.listeners;e:{var se=void 0;if(m)for(var Ge=T.length-1;0<=Ge;Ge--){var ot=T[Ge],zt=ot.instance,hn=ot.currentTarget;if(ot=ot.listener,zt!==se&&Q.isPropagationStopped())break e;se=ot,Q.currentTarget=hn;try{se(Q)}catch(kn){od(kn)}Q.currentTarget=null,se=zt}else for(Ge=0;Ge<T.length;Ge++){if(ot=T[Ge],zt=ot.instance,hn=ot.currentTarget,ot=ot.listener,zt!==se&&Q.isPropagationStopped())break e;se=ot,Q.currentTarget=hn;try{se(Q)}catch(kn){od(kn)}Q.currentTarget=null,se=zt}}}}function ra(u,m){var b=m[wn];b===void 0&&(b=m[wn]=new Set);var T=u+"__bubble";b.has(T)||(a1(m,u,2,!1),b.add(T))}function p0(u,m,b){var T=0;m&&(T|=4),a1(b,u,T,m)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function ig(u){if(!u[Xl]){u[Xl]=!0,ji.forEach(function(b){b!=="selectionchange"&&(uC.has(b)||p0(b,!1,u),p0(b,!0,u))});var m=u.nodeType===9?u:u.ownerDocument;m===null||m[Xl]||(m[Xl]=!0,p0("selectionchange",!1,m))}}function a1(u,m,b,T){switch(lr(m)){case 2:var Q=nr;break;case 8:Q=Ai;break;default:Q=fi}b=Q.bind(null,m,b,u),Q=void 0,!Ga||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(Q=!0),T?Q!==void 0?u.addEventListener(m,b,{capture:!0,passive:Q}):u.addEventListener(m,b,!0):Q!==void 0?u.addEventListener(m,b,{passive:Q}):u.addEventListener(m,b,!1)}function Ld(u,m,b,T,Q){var se=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var Ge=T.tag;if(Ge===3||Ge===4){var ot=T.stateNode.containerInfo;if(ot===Q)break;if(Ge===4)for(Ge=T.return;Ge!==null;){var zt=Ge.tag;if((zt===3||zt===4)&&Ge.stateNode.containerInfo===Q)return;Ge=Ge.return}for(;ot!==null;){if(Ge=Ar(ot),Ge===null)return;if(zt=Ge.tag,zt===5||zt===6||zt===26||zt===27){T=se=Ge;continue e}ot=ot.parentNode}}T=T.return}sa(function(){var hn=se,kn=hu(b),Nn=[];e:{var pn=kl.get(u);if(pn!==void 0){var fn=Gt,Ur=u;switch(u){case"keypress":if(wi(b)===0)break e;case"keydown":case"keyup":fn=Nh;break;case"focusin":Ur="focus",fn=fo;break;case"focusout":Ur="blur",fn=fo;break;case"beforeblur":case"afterblur":fn=fo;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fn=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fn=cr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fn=fm;break;case $c:case Xd:case lA:fn=Nr;break;case EA:fn=_d;break;case"scroll":case"scrollend":fn=Xn;break;case"wheel":fn=Df;break;case"copy":case"cut":case"paste":fn=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fn=oc;break;case"toggle":case"beforetoggle":fn=VA}var Lr=(m&4)!==0,ws=!Lr&&(u==="scroll"||u==="scrollend"),tn=Lr?pn!==null?pn+"Capture":null:pn;Lr=[];for(var $t=hn,un;$t!==null;){var Ln=$t;if(un=Ln.stateNode,Ln=Ln.tag,Ln!==5&&Ln!==26&&Ln!==27||un===null||tn===null||(Ln=Rr($t,tn),Ln!=null&&Lr.push(Vr($t,Ln,un))),ws)break;$t=$t.return}0<Lr.length&&(pn=new fn(pn,Ur,null,b,kn),Nn.push({event:pn,listeners:Lr}))}}if((m&7)===0){e:{if(pn=u==="mouseover"||u==="pointerover",fn=u==="mouseout"||u==="pointerout",pn&&b!==rA&&(Ur=b.relatedTarget||b.fromElement)&&(Ar(Ur)||Ur[Qi]))break e;if((fn||pn)&&(pn=kn.window===kn?kn:(pn=kn.ownerDocument)?pn.defaultView||pn.parentWindow:window,fn?(Ur=b.relatedTarget||b.toElement,fn=hn,Ur=Ur?Ar(Ur):null,Ur!==null&&(ws=a(Ur),Lr=Ur.tag,Ur!==ws||Lr!==5&&Lr!==27&&Lr!==6)&&(Ur=null)):(fn=null,Ur=hn),fn!==Ur)){if(Lr=no,Ln="onMouseLeave",tn="onMouseEnter",$t="mouse",(u==="pointerout"||u==="pointerover")&&(Lr=oc,Ln="onPointerLeave",tn="onPointerEnter",$t="pointer"),ws=fn==null?pn:Cr(fn),un=Ur==null?pn:Cr(Ur),pn=new Lr(Ln,$t+"leave",fn,b,kn),pn.target=ws,pn.relatedTarget=un,Ln=null,Ar(kn)===hn&&(Lr=new Lr(tn,$t+"enter",Ur,b,kn),Lr.target=un,Lr.relatedTarget=ws,Ln=Lr),ws=Ln,fn&&Ur)t:{for(Lr=fn,tn=Ur,$t=0,un=Lr;un;un=Jl(un))$t++;for(un=0,Ln=tn;Ln;Ln=Jl(Ln))un++;for(;0<$t-un;)Lr=Jl(Lr),$t--;for(;0<un-$t;)tn=Jl(tn),un--;for(;$t--;){if(Lr===tn||tn!==null&&Lr===tn.alternate)break t;Lr=Jl(Lr),tn=Jl(tn)}Lr=null}else Lr=null;fn!==null&&El(Nn,pn,fn,Lr,!1),Ur!==null&&ws!==null&&El(Nn,ws,Ur,Lr,!0)}}e:{if(pn=hn?Cr(hn):window,fn=pn.nodeName&&pn.nodeName.toLowerCase(),fn==="select"||fn==="input"&&pn.type==="file")var rr=Uu;else if(Uf(pn))if($A)rr=wp;else{rr=du;var Ho=Zd}else fn=pn.nodeName,!fn||fn.toLowerCase()!=="input"||pn.type!=="checkbox"&&pn.type!=="radio"?hn&&va(hn.elementType)&&(rr=Uu):rr=ZA;if(rr&&(rr=rr(u,hn))){ac(Nn,rr,b,kn);break e}Ho&&Ho(u,pn,hn),u==="focusout"&&hn&&pn.type==="number"&&hn.memoizedProps.value!=null&&vl(pn,"number",pn.value)}switch(Ho=hn?Cr(hn):window,u){case"focusin":(Uf(Ho)||Ho.contentEditable==="true")&&(Ec=Ho,jl=hn,Zt=null);break;case"focusout":Zt=jl=Ec=null;break;case"mousedown":Sn=!0;break;case"contextmenu":case"mouseup":case"dragend":Sn=!1,vn(Nn,b,kn);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":vn(Nn,b,kn)}var ir;if(bd)e:{switch(u){case"compositionstart":var Tr="onCompositionStart";break e;case"compositionend":Tr="onCompositionEnd";break e;case"compositionupdate":Tr="onCompositionUpdate";break e}Tr=void 0}else _h?Pf(u,b)&&(Tr="onCompositionEnd"):u==="keydown"&&b.keyCode===229&&(Tr="onCompositionStart");Tr&&(Gh&&b.locale!=="ko"&&(_h||Tr!=="onCompositionStart"?Tr==="onCompositionEnd"&&_h&&(ir=Xi()):(Ca=kn,Pr="value"in Ca?Ca.value:Ca.textContent,_h=!0)),Ho=m0(hn,Tr),0<Ho.length&&(Tr=new gs(Tr,u,null,b,kn),Nn.push({event:Tr,listeners:Ho}),ir?Tr.data=ir:(ir=Ch(b),ir!==null&&(Tr.data=ir)))),(ir=xd?Qh(u,b):Kf(u,b))&&(Tr=m0(hn,"onBeforeInput"),0<Tr.length&&(Ho=new gs("onBeforeInput","beforeinput",null,b,kn),Nn.push({event:Ho,listeners:Tr}),Ho.data=ir)),vy(Nn,u,hn,b,kn)}_y(Nn,m)})}function Vr(u,m,b){return{instance:u,listener:m,currentTarget:b}}function m0(u,m){for(var b=m+"Capture",T=[];u!==null;){var Q=u,se=Q.stateNode;if(Q=Q.tag,Q!==5&&Q!==26&&Q!==27||se===null||(Q=Rr(u,b),Q!=null&&T.unshift(Vr(u,Q,se)),Q=Rr(u,m),Q!=null&&T.push(Vr(u,Q,se))),u.tag===3)return T;u=u.return}return[]}function Jl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function El(u,m,b,T,Q){for(var se=m._reactName,Ge=[];b!==null&&b!==T;){var ot=b,zt=ot.alternate,hn=ot.stateNode;if(ot=ot.tag,zt!==null&&zt===T)break;ot!==5&&ot!==26&&ot!==27||hn===null||(zt=hn,Q?(hn=Rr(b,se),hn!=null&&Ge.unshift(Vr(b,hn,zt))):Q||(hn=Rr(b,se),hn!=null&&Ge.push(Vr(b,hn,zt)))),b=b.return}Ge.length!==0&&u.push({event:m,listeners:Ge})}var g0=/\r\n?/g,mf=/\u0000|\uFFFD/g;function rg(u){return(typeof u=="string"?u:""+u).replace(g0,`
`).replace(mf,"")}function s1(u,m){return m=rg(m),rg(u)===m}function Ju(){}function Ia(u,m,b,T,Q,se){switch(b){case"children":typeof T=="string"?m==="body"||m==="textarea"&&T===""||Xo(u,T):(typeof T=="number"||typeof T=="bigint")&&m!=="body"&&Xo(u,""+T);break;case"className":$i(u,"class",T);break;case"tabIndex":$i(u,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(u,b,T);break;case"style":Ul(u,T,se);break;case"data":if(m!=="object"){$i(u,"data",T);break}case"src":case"href":if(T===""&&(m!=="a"||b!=="href")){u.removeAttribute(b);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){u.removeAttribute(b);break}T=Mr(""+T),u.setAttribute(b,T);break;case"action":case"formAction":if(typeof T=="function"){u.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof se=="function"&&(b==="formAction"?(m!=="input"&&Ia(u,m,"name",Q.name,Q,null),Ia(u,m,"formEncType",Q.formEncType,Q,null),Ia(u,m,"formMethod",Q.formMethod,Q,null),Ia(u,m,"formTarget",Q.formTarget,Q,null)):(Ia(u,m,"encType",Q.encType,Q,null),Ia(u,m,"method",Q.method,Q,null),Ia(u,m,"target",Q.target,Q,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){u.removeAttribute(b);break}T=Mr(""+T),u.setAttribute(b,T);break;case"onClick":T!=null&&(u.onclick=Ju);break;case"onScroll":T!=null&&ra("scroll",u);break;case"onScrollEnd":T!=null&&ra("scrollend",u);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(i(61));if(b=T.__html,b!=null){if(Q.children!=null)throw Error(i(60));u.innerHTML=b}}break;case"multiple":u.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":u.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){u.removeAttribute("xlink:href");break}b=Mr(""+T),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?u.setAttribute(b,""+T):u.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?u.setAttribute(b,""):u.removeAttribute(b);break;case"capture":case"download":T===!0?u.setAttribute(b,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?u.setAttribute(b,T):u.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?u.setAttribute(b,T):u.removeAttribute(b);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?u.removeAttribute(b):u.setAttribute(b,T);break;case"popover":ra("beforetoggle",u),ra("toggle",u),Ka(u,"popover",T);break;case"xlinkActuate":Mi(u,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":Mi(u,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":Mi(u,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":Mi(u,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":Mi(u,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":Mi(u,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":Mi(u,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":Mi(u,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":Mi(u,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":Ka(u,"is",T);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=Ll.get(b)||b,Ka(u,b,T))}}function Kp(u,m,b,T,Q,se){switch(b){case"style":Ul(u,T,se);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(i(61));if(b=T.__html,b!=null){if(Q.children!=null)throw Error(i(60));u.innerHTML=b}}break;case"children":typeof T=="string"?Xo(u,T):(typeof T=="number"||typeof T=="bigint")&&Xo(u,""+T);break;case"onScroll":T!=null&&ra("scroll",u);break;case"onScrollEnd":T!=null&&ra("scrollend",u);break;case"onClick":T!=null&&(u.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(Q=b.endsWith("Capture"),m=b.slice(2,Q?b.length-7:void 0),se=u[ti]||null,se=se!=null?se[b]:null,typeof se=="function"&&u.removeEventListener(m,se,Q),typeof T=="function")){typeof se!="function"&&se!==null&&(b in u?u[b]=null:u.hasAttribute(b)&&u.removeAttribute(b)),u.addEventListener(m,T,Q);break e}b in u?u[b]=T:T===!0?u.setAttribute(b,""):Ka(u,b,T)}}}function nl(u,m,b){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ra("error",u),ra("load",u);var T=!1,Q=!1,se;for(se in b)if(b.hasOwnProperty(se)){var Ge=b[se];if(Ge!=null)switch(se){case"src":T=!0;break;case"srcSet":Q=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,m));default:Ia(u,m,se,Ge,b,null)}}Q&&Ia(u,m,"srcSet",b.srcSet,b,null),T&&Ia(u,m,"src",b.src,b,null);return;case"input":ra("invalid",u);var ot=se=Ge=Q=null,zt=null,hn=null;for(T in b)if(b.hasOwnProperty(T)){var kn=b[T];if(kn!=null)switch(T){case"name":Q=kn;break;case"type":Ge=kn;break;case"checked":zt=kn;break;case"defaultChecked":hn=kn;break;case"value":se=kn;break;case"defaultValue":ot=kn;break;case"children":case"dangerouslySetInnerHTML":if(kn!=null)throw Error(i(137,m));break;default:Ia(u,m,T,kn,b,null)}}bA(u,se,ot,zt,hn,Ge,Q,!1),Eo(u);return;case"select":ra("invalid",u),T=Ge=se=null;for(Q in b)if(b.hasOwnProperty(Q)&&(ot=b[Q],ot!=null))switch(Q){case"value":se=ot;break;case"defaultValue":Ge=ot;break;case"multiple":T=ot;default:Ia(u,m,Q,ot,b,null)}m=se,b=Ge,u.multiple=!!T,m!=null?Es(u,!!T,m,!1):b!=null&&Es(u,!!T,b,!0);return;case"textarea":ra("invalid",u),se=Q=T=null;for(Ge in b)if(b.hasOwnProperty(Ge)&&(ot=b[Ge],ot!=null))switch(Ge){case"value":T=ot;break;case"defaultValue":Q=ot;break;case"children":se=ot;break;case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(91));break;default:Ia(u,m,Ge,ot,b,null)}Hs(u,T,Q,se),Eo(u);return;case"option":for(zt in b)if(b.hasOwnProperty(zt)&&(T=b[zt],T!=null))switch(zt){case"selected":u.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Ia(u,m,zt,T,b,null)}return;case"dialog":ra("beforetoggle",u),ra("toggle",u),ra("cancel",u),ra("close",u);break;case"iframe":case"object":ra("load",u);break;case"video":case"audio":for(T=0;T<f0.length;T++)ra(f0[T],u);break;case"image":ra("error",u),ra("load",u);break;case"details":ra("toggle",u);break;case"embed":case"source":case"link":ra("error",u),ra("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(hn in b)if(b.hasOwnProperty(hn)&&(T=b[hn],T!=null))switch(hn){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,m));default:Ia(u,m,hn,T,b,null)}return;default:if(va(m)){for(kn in b)b.hasOwnProperty(kn)&&(T=b[kn],T!==void 0&&Kp(u,m,kn,T,b,void 0));return}}for(ot in b)b.hasOwnProperty(ot)&&(T=b[ot],T!=null&&Ia(u,m,ot,T,b,null))}function by(u,m,b,T){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Q=null,se=null,Ge=null,ot=null,zt=null,hn=null,kn=null;for(fn in b){var Nn=b[fn];if(b.hasOwnProperty(fn)&&Nn!=null)switch(fn){case"checked":break;case"value":break;case"defaultValue":zt=Nn;default:T.hasOwnProperty(fn)||Ia(u,m,fn,null,T,Nn)}}for(var pn in T){var fn=T[pn];if(Nn=b[pn],T.hasOwnProperty(pn)&&(fn!=null||Nn!=null))switch(pn){case"type":se=fn;break;case"name":Q=fn;break;case"checked":hn=fn;break;case"defaultChecked":kn=fn;break;case"value":Ge=fn;break;case"defaultValue":ot=fn;break;case"children":case"dangerouslySetInnerHTML":if(fn!=null)throw Error(i(137,m));break;default:fn!==Nn&&Ia(u,m,pn,fn,T,Nn)}}Pu(u,Ge,ot,zt,hn,kn,se,Q);return;case"select":fn=Ge=ot=pn=null;for(se in b)if(zt=b[se],b.hasOwnProperty(se)&&zt!=null)switch(se){case"value":break;case"multiple":fn=zt;default:T.hasOwnProperty(se)||Ia(u,m,se,null,T,zt)}for(Q in T)if(se=T[Q],zt=b[Q],T.hasOwnProperty(Q)&&(se!=null||zt!=null))switch(Q){case"value":pn=se;break;case"defaultValue":ot=se;break;case"multiple":Ge=se;default:se!==zt&&Ia(u,m,Q,se,T,zt)}m=ot,b=Ge,T=fn,pn!=null?Es(u,!!b,pn,!1):!!T!=!!b&&(m!=null?Es(u,!!b,m,!0):Es(u,!!b,b?[]:"",!1));return;case"textarea":fn=pn=null;for(ot in b)if(Q=b[ot],b.hasOwnProperty(ot)&&Q!=null&&!T.hasOwnProperty(ot))switch(ot){case"value":break;case"children":break;default:Ia(u,m,ot,null,T,Q)}for(Ge in T)if(Q=T[Ge],se=b[Ge],T.hasOwnProperty(Ge)&&(Q!=null||se!=null))switch(Ge){case"value":pn=Q;break;case"defaultValue":fn=Q;break;case"children":break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Q!==se&&Ia(u,m,Ge,Q,T,se)}Mc(u,pn,fn);return;case"option":for(var Ur in b)if(pn=b[Ur],b.hasOwnProperty(Ur)&&pn!=null&&!T.hasOwnProperty(Ur))switch(Ur){case"selected":u.selected=!1;break;default:Ia(u,m,Ur,null,T,pn)}for(zt in T)if(pn=T[zt],fn=b[zt],T.hasOwnProperty(zt)&&pn!==fn&&(pn!=null||fn!=null))switch(zt){case"selected":u.selected=pn&&typeof pn!="function"&&typeof pn!="symbol";break;default:Ia(u,m,zt,pn,T,fn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lr in b)pn=b[Lr],b.hasOwnProperty(Lr)&&pn!=null&&!T.hasOwnProperty(Lr)&&Ia(u,m,Lr,null,T,pn);for(hn in T)if(pn=T[hn],fn=b[hn],T.hasOwnProperty(hn)&&pn!==fn&&(pn!=null||fn!=null))switch(hn){case"children":case"dangerouslySetInnerHTML":if(pn!=null)throw Error(i(137,m));break;default:Ia(u,m,hn,pn,T,fn)}return;default:if(va(m)){for(var ws in b)pn=b[ws],b.hasOwnProperty(ws)&&pn!==void 0&&!T.hasOwnProperty(ws)&&Kp(u,m,ws,void 0,T,pn);for(kn in T)pn=T[kn],fn=b[kn],!T.hasOwnProperty(kn)||pn===fn||pn===void 0&&fn===void 0||Kp(u,m,kn,pn,T,fn);return}}for(var tn in b)pn=b[tn],b.hasOwnProperty(tn)&&pn!=null&&!T.hasOwnProperty(tn)&&Ia(u,m,tn,null,T,pn);for(Nn in T)pn=T[Nn],fn=b[Nn],!T.hasOwnProperty(Nn)||pn===fn||pn==null&&fn==null||Ia(u,m,Nn,pn,T,fn)}var Rh=null,y0=null;function sp(u){return u.nodeType===9?u:u.ownerDocument}function Al(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ul(u,m){if(u===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&m==="foreignObject"?0:u}function ld(u,m){return u==="textarea"||u==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var og=null;function xy(){var u=window.event;return u&&u.type==="popstate"?u===og?!1:(og=u,!0):(og=null,!1)}var l1=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,cC=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(u){return wy.resolve(null).then(u).catch(A1)}:l1;function A1(u){setTimeout(function(){throw u})}function ch(u){return u==="head"}function Up(u,m){var b=m,T=0,Q=0;do{var se=b.nextSibling;if(u.removeChild(b),se&&se.nodeType===8)if(b=se.data,b==="/$"){if(0<T&&8>T){b=T;var Ge=u.ownerDocument;if(b&1&&zp(Ge.documentElement),b&2&&zp(Ge.body),b&4)for(b=Ge.head,zp(b),Ge=b.firstChild;Ge;){var ot=Ge.nextSibling,zt=Ge.nodeName;Ge[ko]||zt==="SCRIPT"||zt==="STYLE"||zt==="LINK"&&Ge.rel.toLowerCase()==="stylesheet"||b.removeChild(Ge),Ge=ot}}if(Q===0){u.removeChild(se),dl(m);return}Q--}else b==="$"||b==="$?"||b==="$!"?Q++:T=b.charCodeAt(0)-48;else T=0;b=se}while(b);dl(m)}function ag(u){var m=u.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var b=m;switch(m=m.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":ag(b),Zn(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}u.removeChild(b)}}function v0(u,m,b,T){for(;u.nodeType===1;){var Q=b;if(u.nodeName.toLowerCase()!==m.toLowerCase()){if(!T&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(T){if(!u[ko])switch(m){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(se=u.getAttribute("rel"),se==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(se!==Q.rel||u.getAttribute("href")!==(Q.href==null||Q.href===""?null:Q.href)||u.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin)||u.getAttribute("title")!==(Q.title==null?null:Q.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(se=u.getAttribute("src"),(se!==(Q.src==null?null:Q.src)||u.getAttribute("type")!==(Q.type==null?null:Q.type)||u.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin))&&se&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(m==="input"&&u.type==="hidden"){var se=Q.name==null?null:""+Q.name;if(Q.type==="hidden"&&u.getAttribute("name")===se)return u}else return u;if(u=Ad(u.nextSibling),u===null)break}return null}function Lp(u,m,b){if(m==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!b||(u=Ad(u.nextSibling),u===null))return null;return u}function ou(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function Rm(u,m){var b=u.ownerDocument;if(u.data!=="$?"||b.readyState==="complete")m();else{var T=function(){m(),b.removeEventListener("DOMContentLoaded",T)};b.addEventListener("DOMContentLoaded",T),u._reactRetry=T}}function Ad(u){for(;u!=null;u=u.nextSibling){var m=u.nodeType;if(m===1||m===3)break;if(m===8){if(m=u.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return u}var u1=null;function Fp(u){u=u.previousSibling;for(var m=0;u;){if(u.nodeType===8){var b=u.data;if(b==="$"||b==="$!"||b==="$?"){if(m===0)return u;m--}else b==="/$"&&m++}u=u.previousSibling}return null}function KA(u,m,b){switch(m=sp(b),u){case"html":if(u=m.documentElement,!u)throw Error(i(452));return u;case"head":if(u=m.head,!u)throw Error(i(453));return u;case"body":if(u=m.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function zp(u){for(var m=u.attributes;m.length;)u.removeAttributeNode(m[0]);Zn(u)}var zc=new Map,ud=new Set;function oo(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Fd=st.d;st.d={f:hh,r:c1,D:h1,C:sg,L:C0,m:_0,X:Sy,S:d1,M:f1};function hh(){var u=Fd.f(),m=Z0();return u||m}function c1(u){var m=zi(u);m!==null&&m.tag===5&&m.type==="form"?Yo(m):Fd.r(u)}var Pm=typeof document>"u"?null:document;function Fa(u,m,b){var T=Pm;if(T&&typeof m=="string"&&m){var Q=Yi(m);Q='link[rel="'+u+'"][href="'+Q+'"]',typeof b=="string"&&(Q+='[crossorigin="'+b+'"]'),ud.has(Q)||(ud.add(Q),u={rel:u,crossOrigin:b,href:m},T.querySelector(Q)===null&&(m=T.createElement("link"),nl(m,"link",u),kr(m),T.head.appendChild(m)))}}function h1(u){Fd.D(u),Fa("dns-prefetch",u,null)}function sg(u,m){Fd.C(u,m),Fa("preconnect",u,m)}function C0(u,m,b){Fd.L(u,m,b);var T=Pm;if(T&&u&&m){var Q='link[rel="preload"][as="'+Yi(m)+'"]';m==="image"&&b&&b.imageSrcSet?(Q+='[imagesrcset="'+Yi(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(Q+='[imagesizes="'+Yi(b.imageSizes)+'"]')):Q+='[href="'+Yi(u)+'"]';var se=Q;switch(m){case"style":se=zd(u);break;case"script":se=Km(u)}zc.has(se)||(u=M({rel:"preload",href:m==="image"&&b&&b.imageSrcSet?void 0:u,as:m},b),zc.set(se,u),T.querySelector(Q)!==null||m==="style"&&T.querySelector(jp(se))||m==="script"&&T.querySelector(h(se))||(m=T.createElement("link"),nl(m,"link",u),kr(m),T.head.appendChild(m)))}}function _0(u,m){Fd.m(u,m);var b=Pm;if(b&&u){var T=m&&typeof m.as=="string"?m.as:"script",Q='link[rel="modulepreload"][as="'+Yi(T)+'"][href="'+Yi(u)+'"]',se=Q;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":se=Km(u)}if(!zc.has(se)&&(u=M({rel:"modulepreload",href:u},m),zc.set(se,u),b.querySelector(Q)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(h(se)))return}T=b.createElement("link"),nl(T,"link",u),kr(T),b.head.appendChild(T)}}}function d1(u,m,b){Fd.S(u,m,b);var T=Pm;if(T&&u){var Q=ja(T).hoistableStyles,se=zd(u);m=m||"default";var Ge=Q.get(se);if(!Ge){var ot={loading:0,preload:null};if(Ge=T.querySelector(jp(se)))ot.loading=5;else{u=M({rel:"stylesheet",href:u,"data-precedence":m},b),(b=zc.get(se))&&y(u,b);var zt=Ge=T.createElement("link");kr(zt),nl(zt,"link",u),zt._p=new Promise(function(hn,kn){zt.onload=hn,zt.onerror=kn}),zt.addEventListener("load",function(){ot.loading|=1}),zt.addEventListener("error",function(){ot.loading|=2}),ot.loading|=4,c(Ge,m,T)}Ge={type:"stylesheet",instance:Ge,count:1,state:ot},Q.set(se,Ge)}}}function Sy(u,m){Fd.X(u,m);var b=Pm;if(b&&u){var T=ja(b).hoistableScripts,Q=Km(u),se=T.get(Q);se||(se=b.querySelector(h(Q)),se||(u=M({src:u,async:!0},m),(m=zc.get(Q))&&w(u,m),se=b.createElement("script"),kr(se),nl(se,"link",u),b.head.appendChild(se)),se={type:"script",instance:se,count:1,state:null},T.set(Q,se))}}function f1(u,m){Fd.M(u,m);var b=Pm;if(b&&u){var T=ja(b).hoistableScripts,Q=Km(u),se=T.get(Q);se||(se=b.querySelector(h(Q)),se||(u=M({src:u,async:!0,type:"module"},m),(m=zc.get(Q))&&w(u,m),se=b.createElement("script"),kr(se),nl(se,"link",u),b.head.appendChild(se)),se={type:"script",instance:se,count:1,state:null},T.set(Q,se))}}function b0(u,m,b,T){var Q=(Q=St.current)?oo(Q):null;if(!Q)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(m=zd(b.href),b=ja(Q).hoistableStyles,T=b.get(m),T||(T={type:"style",instance:null,count:0,state:null},b.set(m,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){u=zd(b.href);var se=ja(Q).hoistableStyles,Ge=se.get(u);if(Ge||(Q=Q.ownerDocument||Q,Ge={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},se.set(u,Ge),(se=Q.querySelector(jp(u)))&&!se._p&&(Ge.instance=se,Ge.state.loading=5),zc.has(u)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},zc.set(u,b),se||p1(Q,u,b,Ge.state))),m&&T===null)throw Error(i(528,""));return Ge}if(m&&T!==null)throw Error(i(529,""));return null;case"script":return m=b.async,b=b.src,typeof b=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Km(b),b=ja(Q).hoistableScripts,T=b.get(m),T||(T={type:"script",instance:null,count:0,state:null},b.set(m,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function zd(u){return'href="'+Yi(u)+'"'}function jp(u){return'link[rel="stylesheet"]['+u+"]"}function lg(u){return M({},u,{"data-precedence":u.precedence,precedence:null})}function p1(u,m,b,T){u.querySelector('link[rel="preload"][as="style"]['+m+"]")?T.loading=1:(m=u.createElement("link"),T.preload=m,m.addEventListener("load",function(){return T.loading|=1}),m.addEventListener("error",function(){return T.loading|=2}),nl(m,"link",b),kr(m),u.head.appendChild(m))}function Km(u){return'[src="'+Yi(u)+'"]'}function h(u){return"script[async]"+u}function A(u,m,b){if(m.count++,m.instance===null)switch(m.type){case"style":var T=u.querySelector('style[data-href~="'+Yi(b.href)+'"]');if(T)return m.instance=T,kr(T),T;var Q=M({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return T=(u.ownerDocument||u).createElement("style"),kr(T),nl(T,"style",Q),c(T,b.precedence,u),m.instance=T;case"stylesheet":Q=zd(b.href);var se=u.querySelector(jp(Q));if(se)return m.state.loading|=4,m.instance=se,kr(se),se;T=lg(b),(Q=zc.get(Q))&&y(T,Q),se=(u.ownerDocument||u).createElement("link"),kr(se);var Ge=se;return Ge._p=new Promise(function(ot,zt){Ge.onload=ot,Ge.onerror=zt}),nl(se,"link",T),m.state.loading|=4,c(se,b.precedence,u),m.instance=se;case"script":return se=Km(b.src),(Q=u.querySelector(h(se)))?(m.instance=Q,kr(Q),Q):(T=b,(Q=zc.get(se))&&(T=M({},b),w(T,Q)),u=u.ownerDocument||u,Q=u.createElement("script"),kr(Q),nl(Q,"link",T),u.head.appendChild(Q),m.instance=Q);case"void":return null;default:throw Error(i(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(T=m.instance,m.state.loading|=4,c(T,b.precedence,u));return m.instance}function c(u,m,b){for(var T=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Q=T.length?T[T.length-1]:null,se=Q,Ge=0;Ge<T.length;Ge++){var ot=T[Ge];if(ot.dataset.precedence===m)se=ot;else if(se!==Q)break}se?se.parentNode.insertBefore(u,se.nextSibling):(m=b.nodeType===9?b.head:b,m.insertBefore(u,m.firstChild))}function y(u,m){u.crossOrigin==null&&(u.crossOrigin=m.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=m.referrerPolicy),u.title==null&&(u.title=m.title)}function w(u,m){u.crossOrigin==null&&(u.crossOrigin=m.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=m.referrerPolicy),u.integrity==null&&(u.integrity=m.integrity)}var R=null;function P(u,m,b){if(R===null){var T=new Map,Q=R=new Map;Q.set(b,T)}else Q=R,T=Q.get(b),T||(T=new Map,Q.set(b,T));if(T.has(u))return T;for(T.set(u,null),b=b.getElementsByTagName(u),Q=0;Q<b.length;Q++){var se=b[Q];if(!(se[ko]||se[hi]||u==="link"&&se.getAttribute("rel")==="stylesheet")&&se.namespaceURI!=="http://www.w3.org/2000/svg"){var Ge=se.getAttribute(m)||"";Ge=u+Ge;var ot=T.get(Ge);ot?ot.push(se):T.set(Ge,[se])}}return T}function N(u,m,b){u=u.ownerDocument||u,u.head.insertBefore(b,m==="title"?u.querySelector("head > title"):null)}function H(u,m,b){if(b===1||m.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return u=m.disabled,typeof m.precedence=="string"&&u==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function ie(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var ue=null;function ve(){}function Pe(u,m,b){if(ue===null)throw Error(i(475));var T=ue;if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var Q=zd(b.href),se=u.querySelector(jp(Q));if(se){u=se._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(T.count++,T=qe.bind(T),u.then(T,T)),m.state.loading|=4,m.instance=se,kr(se);return}se=u.ownerDocument||u,b=lg(b),(Q=zc.get(Q))&&y(b,Q),se=se.createElement("link"),kr(se);var Ge=se;Ge._p=new Promise(function(ot,zt){Ge.onload=ot,Ge.onerror=zt}),nl(se,"link",b),m.instance=se}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(T.count++,m=qe.bind(T),u.addEventListener("load",m),u.addEventListener("error",m))}}function Qe(){if(ue===null)throw Error(i(475));var u=ue;return u.stylesheets&&u.count===0&&ut(u,u.stylesheets),0<u.count?function(m){var b=setTimeout(function(){if(u.stylesheets&&ut(u,u.stylesheets),u.unsuspend){var T=u.unsuspend;u.unsuspend=null,T()}},6e4);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(b)}}:null}function qe(){if(this.count--,this.count===0){if(this.stylesheets)ut(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var et=null;function ut(u,m){u.stylesheets=null,u.unsuspend!==null&&(u.count++,et=new Map,m.forEach(Mt,u),et=null,qe.call(u))}function Mt(u,m){if(!(m.state.loading&4)){var b=et.get(u);if(b)var T=b.get(null);else{b=new Map,et.set(u,b);for(var Q=u.querySelectorAll("link[data-precedence],style[data-precedence]"),se=0;se<Q.length;se++){var Ge=Q[se];(Ge.nodeName==="LINK"||Ge.getAttribute("media")!=="not all")&&(b.set(Ge.dataset.precedence,Ge),T=Ge)}T&&b.set(null,T)}Q=m.instance,Ge=Q.getAttribute("data-precedence"),se=b.get(Ge)||T,se===T&&b.set(null,Q),b.set(Ge,Q),this.count++,T=qe.bind(this),Q.addEventListener("load",T),Q.addEventListener("error",T),se?se.parentNode.insertBefore(Q,se.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(Q,u.firstChild)),m.state.loading|=4}}var Qt={$$typeof:oe,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function Dt(u,m,b,T,Q,se,Ge,ot){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=T,this.onUncaughtError=Q,this.onCaughtError=se,this.onRecoverableError=Ge,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ot,this.incompleteTransitions=new Map}function jt(u,m,b,T,Q,se,Ge,ot,zt,hn,kn,Nn){return u=new Dt(u,m,b,Ge,ot,zt,hn,Nn),m=1,se===!0&&(m|=24),se=JA(3,null,null,m),u.current=se,se.stateNode=u,m=Bh(),m.refCount++,u.pooledCache=m,m.refCount++,se.memoizedState={element:T,isDehydrated:b,cache:m},Oh(se),u}function ln(u){return u?(u=Dr,u):Dr}function Cn(u,m,b,T,Q,se){Q=ln(Q),T.context===null?T.context=Q:T.pendingContext=Q,T=DA(m),T.payload={element:b},se=se===void 0?null:se,se!==null&&(T.callback=se),b=cc(u,T,m),b!==null&&(Ah(b,u,m),Ih(b,u,m))}function Un(u,m){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var b=u.retryLane;u.retryLane=b!==0&&b<m?b:m}}function pi(u,m){Un(u,m),(u=u.alternate)&&Un(u,m)}function ai(u){if(u.tag===13){var m=OA(u,67108864);m!==null&&Ah(m,u,67108864),pi(u,67108864)}}var di=!0;function nr(u,m,b,T){var Q=ze.T;ze.T=null;var se=st.p;try{st.p=2,fi(u,m,b,T)}finally{st.p=se,ze.T=Q}}function Ai(u,m,b,T){var Q=ze.T;ze.T=null;var se=st.p;try{st.p=8,fi(u,m,b,T)}finally{st.p=se,ze.T=Q}}function fi(u,m,b,T){if(di){var Q=En(T);if(Q===null)Ld(u,m,T,pr,b),Ds(u,T);else if(LA(Q,u,m,b,T))T.stopPropagation();else if(Ds(u,T),m&4&&-1<UA.indexOf(u)){for(;Q!==null;){var se=zi(Q);if(se!==null)switch(se.tag){case 3:if(se=se.stateNode,se.current.memoizedState.isDehydrated){var Ge=Ye(se.pendingLanes);if(Ge!==0){var ot=se;for(ot.pendingLanes|=2,ot.entangledLanes|=2;Ge;){var zt=1<<31-re(Ge);ot.entanglements[1]|=zt,Ge&=~zt}uh(se),(ls&6)===0&&(wm=on()+500,kp(0))}}break;case 13:ot=OA(se,2),ot!==null&&Ah(ot,se,2),Z0(),pi(se,2)}if(se=En(T),se===null&&Ld(u,m,T,pr,b),se===Q)break;Q=se}Q!==null&&T.stopPropagation()}else Ld(u,m,T,null,b)}}function En(u){return u=hu(u),Br(u)}var pr=null;function Br(u){if(pr=null,u=Ar(u),u!==null){var m=a(u);if(m===null)u=null;else{var b=m.tag;if(b===13){if(u=l(m),u!==null)return u;u=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;u=null}else m!==u&&(u=null)}}return pr=u,null}function lr(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case Wt:return 2;case $n:return 8;case On:case Bn:return 32;case In:return 268435456;default:return 32}default:return 32}}var Ui=!1,Wr=null,za=null,Ms=null,Rl=new Map,Iu=new Map,Pl=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ds(u,m){switch(u){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Rl.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(m.pointerId)}}function cl(u,m,b,T,Q,se){return u===null||u.nativeEvent!==se?(u={blockedOn:m,domEventName:b,eventSystemFlags:T,nativeEvent:se,targetContainers:[Q]},m!==null&&(m=zi(m),m!==null&&ai(m)),u):(u.eventSystemFlags|=T,m=u.targetContainers,Q!==null&&m.indexOf(Q)===-1&&m.push(Q),u)}function LA(u,m,b,T,Q){switch(m){case"focusin":return Wr=cl(Wr,u,m,b,T,Q),!0;case"dragenter":return za=cl(za,u,m,b,T,Q),!0;case"mouseover":return Ms=cl(Ms,u,m,b,T,Q),!0;case"pointerover":var se=Q.pointerId;return Rl.set(se,cl(Rl.get(se)||null,u,m,b,T,Q)),!0;case"gotpointercapture":return se=Q.pointerId,Iu.set(se,cl(Iu.get(se)||null,u,m,b,T,Q)),!0}return!1}function yA(u){var m=Ar(u.target);if(m!==null){var b=a(m);if(b!==null){if(m=b.tag,m===13){if(m=l(b),m!==null){u.blockedOn=m,tr(u.priority,function(){if(b.tag===13){var T=Ou();T=ii(T);var Q=OA(b,T);Q!==null&&Ah(Q,b,T),pi(b,T)}});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){u.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}u.blockedOn=null}function FA(u){if(u.blockedOn!==null)return!1;for(var m=u.targetContainers;0<m.length;){var b=En(u.nativeEvent);if(b===null){b=u.nativeEvent;var T=new b.constructor(b.type,b);rA=T,b.target.dispatchEvent(T),rA=null}else return m=zi(b),m!==null&&ai(m),u.blockedOn=b,!1;m.shift()}return!0}function jc(u,m,b){FA(u)&&b.delete(m)}function vA(){Ui=!1,Wr!==null&&FA(Wr)&&(Wr=null),za!==null&&FA(za)&&(za=null),Ms!==null&&FA(Ms)&&(Ms=null),Rl.forEach(jc),Iu.forEach(jc)}function au(u,m){u.blockedOn===m&&(u.blockedOn=null,Ui||(Ui=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vA)))}var hl=null;function eA(u){hl!==u&&(hl=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hl===u&&(hl=null);for(var m=0;m<u.length;m+=3){var b=u[m],T=u[m+1],Q=u[m+2];if(typeof T!="function"){if(Br(T||b)===null)continue;break}var se=zi(b);se!==null&&(u.splice(m,3),m-=3,ca(se,{pending:!0,data:Q,method:b.method,action:T},T,Q))}}))}function dl(u){function m(zt){return au(zt,u)}Wr!==null&&au(Wr,u),za!==null&&au(za,u),Ms!==null&&au(Ms,u),Rl.forEach(m),Iu.forEach(m);for(var b=0;b<Pl.length;b++){var T=Pl[b];T.blockedOn===u&&(T.blockedOn=null)}for(;0<Pl.length&&(b=Pl[0],b.blockedOn===null);)yA(b),b.blockedOn===null&&Pl.shift();if(b=(u.ownerDocument||u).$$reactFormReplay,b!=null)for(T=0;T<b.length;T+=3){var Q=b[T],se=b[T+1],Ge=Q[ti]||null;if(typeof se=="function")Ge||eA(b);else if(Ge){var ot=null;if(se&&se.hasAttribute("formAction")){if(Q=se,Ge=se[ti]||null)ot=Ge.formAction;else if(Br(Q)!==null)continue}else ot=Ge.action;typeof ot=="function"?b[T+1]=ot:(b.splice(T,3),T-=3),eA(b)}}}function fl(u){this._internalRoot=u}Va.prototype.render=fl.prototype.render=function(u){var m=this._internalRoot;if(m===null)throw Error(i(409));var b=m.current,T=Ou();Cn(b,T,u,m,null,null)},Va.prototype.unmount=fl.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var m=u.containerInfo;Cn(u.current,2,null,u,null,null),Z0(),m[Qi]=null}};function Va(u){this._internalRoot=u}Va.prototype.unstable_scheduleHydration=function(u){if(u){var m=Hi();u={blockedOn:null,target:u,priority:m};for(var b=0;b<Pl.length&&m!==0&&m<Pl[b].priority;b++);Pl.splice(b,0,u),b===0&&yA(u)}};var Ph=e.version;if(Ph!=="19.1.1")throw Error(i(527,Ph,"19.1.1"));st.findDOMNode=function(u){var m=u._reactInternals;if(m===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=p(m),u=u!==null?C(u):null,u=u===null?null:u.stateNode,u};var Um={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ze,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Kn=Nc.inject(Um),je=Nc}catch{}}return fC.createRoot=function(u,m){if(!r(u))throw Error(i(299));var b=!1,T="",Q=Wf,se=Qf,Ge=Y0,ot=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(Q=m.onUncaughtError),m.onCaughtError!==void 0&&(se=m.onCaughtError),m.onRecoverableError!==void 0&&(Ge=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ot=m.unstable_transitionCallbacks)),m=jt(u,1,!1,null,null,b,T,Q,se,Ge,ot,null),u[Qi]=m.current,ig(u),new fl(m)},fC.hydrateRoot=function(u,m,b){if(!r(u))throw Error(i(299));var T=!1,Q="",se=Wf,Ge=Qf,ot=Y0,zt=null,hn=null;return b!=null&&(b.unstable_strictMode===!0&&(T=!0),b.identifierPrefix!==void 0&&(Q=b.identifierPrefix),b.onUncaughtError!==void 0&&(se=b.onUncaughtError),b.onCaughtError!==void 0&&(Ge=b.onCaughtError),b.onRecoverableError!==void 0&&(ot=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(zt=b.unstable_transitionCallbacks),b.formState!==void 0&&(hn=b.formState)),m=jt(u,1,!0,m,b??null,T,Q,se,Ge,ot,zt,hn),m.context=ln(null),b=m.current,T=Ou(),T=ii(T),Q=DA(T),Q.callback=null,cc(b,Q,T),b=T,m.current.lanes=b,it(m,b),uh(m),u[Qi]=m.current,ig(u),new Va(m)},fC.version="19.1.1",fC}var y7;function AW(){if(y7)return o4.exports;y7=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),o4.exports=lW(),o4.exports}var PU=AW();const uW="modulepreload",cW=function(n){return"/maputnik/"+n},v7={},Ey=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let C=function(M){return Promise.all(M.map(O=>Promise.resolve(O).then(U=>({status:"fulfilled",value:U}),U=>({status:"rejected",reason:U}))))};var l=C;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),p=o?.nonce||o?.getAttribute("nonce");r=C(t.map(M=>{if(M=cW(M),M in v7)return;v7[M]=!0;const O=M.endsWith(".css"),U=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${M}"]${U}`))return;const K=document.createElement("link");if(K.rel=O?"stylesheet":uW,O||(K.as="script"),K.crossOrigin="",K.href=M,p&&K.setAttribute("nonce",p),document.head.appendChild(K),O)return new Promise((j,W)=>{K.addEventListener("load",j),K.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${M}`)))})}))}function a(o){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=o,window.dispatchEvent(p),!p.defaultPrevented)throw o}return r.then(o=>{for(const p of o||[])p.status==="rejected"&&a(p.reason);return e().catch(a)})},hW=(n,e,t)=>{const i=n[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},wo=n=>typeof n=="string",pC=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},C7=n=>n==null?"":""+n,dW=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},fW=/###/g,_7=n=>n&&n.indexOf("###")>-1?n.replace(fW,"."):n,b7=n=>!n||wo(n),VC=(n,e,t)=>{const i=wo(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(b7(n))return{};const a=_7(i[r]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++r}return b7(n)?{}:{obj:n,k:_7(i[r])}},x7=(n,e,t)=>{const{obj:i,k:r}=VC(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),o=VC(n,l,Object);for(;o.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),o=VC(n,l,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=t},pW=(n,e,t,i)=>{const{obj:r,k:a}=VC(n,e,Object);r[a]=r[a]||[],r[a].push(t)},Fx=(n,e)=>{const{obj:t,k:i}=VC(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},mW=(n,e,t)=>{const i=Fx(n,t);return i!==void 0?i:Fx(e,t)},KU=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?wo(n[i])||n[i]instanceof String||wo(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):KU(n[i],e[i],t):n[i]=e[i]);return n},By=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var gW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yW=n=>wo(n)?n.replace(/[&<>"'\/]/g,e=>gW[e]):n;class vW{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const CW=[" ",",","?","!",";"],_W=new vW(20),bW=(n,e,t)=>{e=e||"",t=t||"";const i=CW.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(i.length===0)return!0;const r=_W.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!r.test(n);if(!a){const l=n.indexOf(t);l>0&&!r.test(n.substring(0,l))&&(a=!0)}return a},s6=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let a=0;a<i.length;){if(!r||typeof r!="object")return;let l,o="";for(let p=a;p<i.length;++p)if(p!==a&&(o+=t),o+=i[p],l=r[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&p<i.length-1)continue;a+=p-a+1;break}r=l}return r},d_=n=>n?.replace("_","-"),xW={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class zx{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||xW,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(wo(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new zx(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new zx(this.logger,e)}}var Gm=new zx;class T3{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,a])=>{for(let l=0;l<a;l++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,a])=>{for(let l=0;l<a;l++)r.apply(r,[e,...t])})}}class M7 extends T3{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):wo(i)&&a?o.push(...i.split(a)):o.push(i)));const p=Fx(this.data,o);return!p&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),p||!l||!wo(i)?p:s6(this.data?.[e]?.[t],i,a)}addResource(e,t,i,r,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),x7(this.data,o,r),a.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const a in i)(wo(i[a])||Array.isArray(i[a]))&&this.addResource(e,t,a,i[a],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,a,l={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let p=Fx(this.data,o)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?KU(p,i,a):p={...p,...i},x7(this.data,o,p),l.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var UU={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(a=>{e=this.processors[a]?.process(e,t,i,r)??e}),e}};const LU=Symbol("i18next/PATH_KEY");function MW(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>(t?.revoke?.(),r===LU?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function l6(n,e){const{[LU]:t}=n(MW());return t.join(e?.keySeparator??".")}const w7={},S7=n=>!wo(n)&&typeof n!="boolean"&&typeof n!="number";class jx extends T3{constructor(e,t={}){super(),dW(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gm.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};return e==null?!1:this.resolve(e,i)?.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!bW(e,i,r);if(l&&!o){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:wo(a)?[a]:a};const C=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(C[0])>-1)&&(a=C.shift()),e=C.join(r)}return{key:e,namespaces:wo(a)?[a]:a}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=l6(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:p}=this.extractFromKey(e[e.length-1],r),C=p[p.length-1];let M=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;M===void 0&&(M=":");const O=r.lng||this.language,U=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(O?.toLowerCase()==="cimode")return U?a?{res:`${C}${M}${o}`,usedKey:o,exactUsedKey:o,usedLng:O,usedNS:C,usedParams:this.getUsedParamsDetails(r)}:`${C}${M}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:O,usedNS:C,usedParams:this.getUsedParamsDetails(r)}:o;const K=this.resolve(e,r);let j=K?.res;const W=K?.usedKey||o,Y=K?.exactUsedKey||o,te=["[object Number]","[object Function]","[object RegExp]"],J=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,oe=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=r.count!==void 0&&!wo(r.count),$=jx.hasDefaultValue(r),ae=ne?this.pluralResolver.getSuffix(O,r.count,r):"",G=r.ordinal&&ne?this.pluralResolver.getSuffix(O,r.count,{ordinal:!1}):"",ce=ne&&!r.ordinal&&r.count===0,ge=ce&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${ae}`]||r[`defaultValue${G}`]||r.defaultValue;let ye=j;oe&&!j&&$&&(ye=ge);const we=S7(ye),Ie=Object.prototype.toString.apply(ye);if(oe&&ye&&we&&te.indexOf(Ie)<0&&!(wo(J)&&Array.isArray(ye))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Se=this.options.returnedObjectHandler?this.options.returnedObjectHandler(W,ye,{...r,ns:p}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(K.res=Se,K.usedParams=this.getUsedParamsDetails(r),K):Se}if(l){const Se=Array.isArray(ye),Ve=Se?[]:{},xe=Se?Y:W;for(const ze in ye)if(Object.prototype.hasOwnProperty.call(ye,ze)){const st=`${xe}${l}${ze}`;$&&!j?Ve[ze]=this.translate(st,{...r,defaultValue:S7(ge)?ge[ze]:void 0,joinArrays:!1,ns:p}):Ve[ze]=this.translate(st,{...r,joinArrays:!1,ns:p}),Ve[ze]===st&&(Ve[ze]=ye[ze])}j=Ve}}else if(oe&&wo(J)&&Array.isArray(j))j=j.join(J),j&&(j=this.extendTranslation(j,e,r,i));else{let Se=!1,Ve=!1;!this.isValidLookup(j)&&$&&(Se=!0,j=ge),this.isValidLookup(j)||(Ve=!0,j=o);const ze=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ve?void 0:j,st=$&&ge!==j&&this.options.updateMissing;if(Ve||Se||st){if(this.logger.log(st?"updateKey":"missingKey",O,C,o,st?ge:j),l){const Ne=this.resolve(o,{...r,keySeparator:!1});Ne&&Ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ct=[];const nt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&nt&&nt[0])for(let Ne=0;Ne<nt.length;Ne++)Ct.push(nt[Ne]);else this.options.saveMissingTo==="all"?Ct=this.languageUtils.toResolveHierarchy(r.lng||this.language):Ct.push(r.lng||this.language);const be=(Ne,tt,lt)=>{const kt=$&&lt!==j?lt:ze;this.options.missingKeyHandler?this.options.missingKeyHandler(Ne,C,tt,kt,st,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Ne,C,tt,kt,st,r),this.emit("missingKey",Ne,C,tt,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?Ct.forEach(Ne=>{const tt=this.pluralResolver.getSuffixes(Ne,r);ce&&r[`defaultValue${this.options.pluralSeparator}zero`]&&tt.indexOf(`${this.options.pluralSeparator}zero`)<0&&tt.push(`${this.options.pluralSeparator}zero`),tt.forEach(lt=>{be([Ne],o+lt,r[`defaultValue${lt}`]||ge)})}):be(Ct,o,ge))}j=this.extendTranslation(j,e,r,K,i),Ve&&j===o&&this.options.appendNamespaceToMissingKey&&(j=`${C}${M}${o}`),(Ve||Se)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${C}${M}${o}`:o,Se?j:void 0,r))}return a?(K.res=j,K.usedParams=this.getUsedParamsDetails(r),K):j}extendTranslation(e,t,i,r,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const p=wo(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let C;if(p){const O=e.match(this.interpolator.nestingRegexp);C=O&&O.length}let M=i.replace&&!wo(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(M={...this.options.interpolation.defaultVariables,...M}),e=this.interpolator.interpolate(e,M,i.lng||this.language||r.usedLng,i),p){const O=e.match(this.interpolator.nestingRegexp),U=O&&O.length;C<U&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...O)=>a?.[0]===O[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${O[0]} in key: ${t[0]}`),null):this.translate(...O,t),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,o=wo(l)?[l]:l;return e!=null&&o?.length&&i.applyPostProcessor!==!1&&(e=UU.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,a,l,o;return wo(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(i))return;const C=this.extractFromKey(p,t),M=C.key;r=M;let O=C.namespaces;this.options.fallbackNS&&(O=O.concat(this.options.fallbackNS));const U=t.count!==void 0&&!wo(t.count),K=U&&!t.ordinal&&t.count===0,j=t.context!==void 0&&(wo(t.context)||typeof t.context=="number")&&t.context!=="",W=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);O.forEach(Y=>{this.isValidLookup(i)||(o=Y,!w7[`${W[0]}-${Y}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(w7[`${W[0]}-${Y}`]=!0,this.logger.warn(`key "${r}" for languages "${W.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),W.forEach(te=>{if(this.isValidLookup(i))return;l=te;const J=[M];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(J,M,te,Y,t);else{let ne;U&&(ne=this.pluralResolver.getSuffix(te,t.count,t));const $=`${this.options.pluralSeparator}zero`,ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(U&&(t.ordinal&&ne.indexOf(ae)===0&&J.push(M+ne.replace(ae,this.options.pluralSeparator)),J.push(M+ne),K&&J.push(M+$)),j){const G=`${M}${this.options.contextSeparator||"_"}${t.context}`;J.push(G),U&&(t.ordinal&&ne.indexOf(ae)===0&&J.push(G+ne.replace(ae,this.options.pluralSeparator)),J.push(G+ne),K&&J.push(G+$))}}let oe;for(;oe=J.pop();)this.isValidLookup(i)||(a=oe,i=this.getResource(te,Y,oe,t))}))})}),{res:i,usedKey:r,exactUsedKey:a,usedLng:l,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!wo(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const a of t)delete r[a]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class E7{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gm.create("languageUtils")}getScriptPartFromCode(e){if(e=d_(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=d_(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(wo(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),wo(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],a=l=>{l&&(this.isSupportedCode(l)?r.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return wo(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):wo(e)&&a(this.formatLanguageCode(e)),i.forEach(l=>{r.indexOf(l)<0&&a(this.formatLanguageCode(l))}),r}}const B7={zero:0,one:1,two:2,few:3,many:4,other:5},O7={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class wW{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Gm.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=d_(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),O7;if(!e.match(/-|_/))return O7;const p=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(p,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,a)=>B7[r]-B7[a]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const I7=(n,e,t,i=".",r=!0)=>{let a=mW(n,e,t);return!a&&r&&wo(t)&&(a=s6(n,t,i),a===void 0&&(a=s6(e,t,i))),a},A4=n=>n.replace(/\$/g,"$$$$");class SW{constructor(e={}){this.logger=Gm.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:a,prefixEscaped:l,suffix:o,suffixEscaped:p,formatSeparator:C,unescapeSuffix:M,unescapePrefix:O,nestingPrefix:U,nestingPrefixEscaped:K,nestingSuffix:j,nestingSuffixEscaped:W,nestingOptionsSeparator:Y,maxReplaces:te,alwaysFormat:J}=e.interpolation;this.escape=t!==void 0?t:yW,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?By(a):l||"{{",this.suffix=o?By(o):p||"}}",this.formatSeparator=C||",",this.unescapePrefix=M?"":O||"-",this.unescapeSuffix=this.unescapePrefix?"":M||"",this.nestingPrefix=U?By(U):K||By("$t("),this.nestingSuffix=j?By(j):W||By(")"),this.nestingOptionsSeparator=Y||",",this.maxReplaces=te||1e3,this.alwaysFormat=J!==void 0?J:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let a,l,o;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},C=K=>{if(K.indexOf(this.formatSeparator)<0){const te=I7(t,p,K,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,i,{...r,...t,interpolationkey:K}):te}const j=K.split(this.formatSeparator),W=j.shift().trim(),Y=j.join(this.formatSeparator).trim();return this.format(I7(t,p,W,this.options.keySeparator,this.options.ignoreJSONStructure),Y,i,{...r,...t,interpolationkey:W})};this.resetRegExp();const M=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,O=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:K=>A4(K)},{regex:this.regexp,safeValue:K=>this.escapeValue?A4(this.escape(K)):A4(K)}].forEach(K=>{for(o=0;a=K.regex.exec(e);){const j=a[1].trim();if(l=C(j),l===void 0)if(typeof M=="function"){const Y=M(e,a,r);l=wo(Y)?Y:""}else if(r&&Object.prototype.hasOwnProperty.call(r,j))l="";else if(O){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${e}`),l="";else!wo(l)&&!this.useRawValueToEscape&&(l=C7(l));const W=K.safeValue(l);if(e=e.replace(a[0],W),O?(K.regex.lastIndex+=l.length,K.regex.lastIndex-=a[0].length):K.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,a,l;const o=(p,C)=>{const M=this.nestingOptionsSeparator;if(p.indexOf(M)<0)return p;const O=p.split(new RegExp(`${M}[ ]*{`));let U=`{${O[1]}`;p=O[0],U=this.interpolate(U,l);const K=U.match(/'/g),j=U.match(/"/g);((K?.length??0)%2===0&&!j||j.length%2!==0)&&(U=U.replace(/'/g,'"'));try{l=JSON.parse(U),C&&(l={...C,...l})}catch(W){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,W),`${p}${M}${U}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,p};for(;r=this.nestingRegexp.exec(e);){let p=[];l={...i},l=l.replace&&!wo(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const C=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(C!==-1&&(p=r[1].slice(C).split(this.formatSeparator).map(M=>M.trim()).filter(Boolean),r[1]=r[1].slice(0,C)),a=t(o.call(this,r[1].trim(),l),l),a&&r[0]===e&&!wo(a))return a;wo(a)||(a=C7(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),p.length&&(a=p.reduce((M,O)=>this.format(M,O,i.lng,{...i,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}const EW=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(l=>{if(l){const[o,...p]=l.split(":"),C=p.join(":").trim().replace(/^'+|'+$/g,""),M=o.trim();t[M]||(t[M]=C),C==="false"&&(t[M]=!1),C==="true"&&(t[M]=!0),isNaN(C)||(t[M]=parseInt(C,10))}})}return{formatName:e,formatOptions:t}},T7=n=>{const e={};return(t,i,r)=>{let a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a={...a,[r.interpolationkey]:void 0});const l=i+JSON.stringify(a);let o=e[l];return o||(o=n(d_(i),r),e[l]=o),o(t)}},BW=n=>(e,t,i)=>n(d_(t),i)(e);class OW{constructor(e={}){this.logger=Gm.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?T7:BW;this.formats={number:i((r,a)=>{const l=new Intl.NumberFormat(r,{...a});return o=>l.format(o)}),currency:i((r,a)=>{const l=new Intl.NumberFormat(r,{...a,style:"currency"});return o=>l.format(o)}),datetime:i((r,a)=>{const l=new Intl.DateTimeFormat(r,{...a});return o=>l.format(o)}),relativetime:i((r,a)=>{const l=new Intl.RelativeTimeFormat(r,{...a});return o=>l.format(o,a.range||"day")}),list:i((r,a)=>{const l=new Intl.ListFormat(r,{...a});return o=>l.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=T7(t)}format(e,t,i,r={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(p=>p.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,p)=>{const{formatName:C,formatOptions:M}=EW(p);if(this.formats[C]){let O=o;try{const U=r?.formatParams?.[r.interpolationkey]||{},K=U.locale||U.lng||r.locale||r.lng||i;O=this.formats[C](o,K,{...M,...r,...U})}catch(U){this.logger.warn(U)}return O}else this.logger.warn(`there was no format function for ${C}`);return o},e)}}const IW=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class TW extends T3{constructor(e,t,i,r={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=Gm.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,t,i,r){const a={},l={},o={},p={};return e.forEach(C=>{let M=!0;t.forEach(O=>{const U=`${C}|${O}`;!i.reload&&this.store.hasResourceBundle(C,O)?this.state[U]=2:this.state[U]<0||(this.state[U]===1?l[U]===void 0&&(l[U]=!0):(this.state[U]=1,M=!1,l[U]===void 0&&(l[U]=!0),a[U]===void 0&&(a[U]=!0),p[O]===void 0&&(p[O]=!0)))}),M||(o[C]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(p)}}loaded(e,t,i){const r=e.split("|"),a=r[0],l=r[1];t&&this.emit("failedLoading",a,l,t),!t&&i&&this.store.addResourceBundle(a,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(p=>{pW(p.loaded,[a],l),IW(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(C=>{o[C]||(o[C]={});const M=p.loaded[C];M.length&&M.forEach(O=>{o[C][O]===void 0&&(o[C][O]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(p=>!p.done)}read(e,t,i,r=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:a,callback:l});return}this.readingCalls++;const o=(C,M)=>{if(this.readingCalls--,this.waitingReads.length>0){const O=this.waitingReads.shift();this.read(O.lng,O.ns,O.fcName,O.tried,O.wait,O.callback)}if(C&&M&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,a*2,l)},a);return}l(C,M)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const C=p(e,t);C&&typeof C.then=="function"?C.then(M=>o(null,M)).catch(o):o(null,C)}catch(C){o(C)}return}return p(e,t,o)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();wo(e)&&(e=this.languageUtils.toResolveHierarchy(e)),wo(t)&&(t=[t]);const a=this.queueLoad(e,t,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,l),!l&&o&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,o),this.loaded(e,l,o)})}saveMissing(e,t,i,r,a,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const p={...l,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let M;C.length===5?M=C(e,t,i,r,p):M=C(e,t,i,r),M&&typeof M.then=="function"?M.then(O=>o(null,O)).catch(o):o(null,M)}catch(M){o(M)}else C(e,t,i,r,o,p)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const k7=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),wo(n[1])&&(e.defaultValue=n[1]),wo(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),D7=n=>(wo(n.ns)&&(n.ns=[n.ns]),wo(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),wo(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Db=()=>{},kW=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class f_ extends T3{constructor(e={},t){if(super(),this.options=D7(e),this.services={},this.logger=Gm,this.modules={external:[]},kW(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(wo(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=k7();this.options={...i,...this.options,...D7(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=C=>C?typeof C=="function"?new C:C:null;if(!this.options.isClone){this.modules.logger?Gm.init(r(this.modules.logger),this.options):Gm.init(null,this.options);let C;this.modules.formatter?C=this.modules.formatter:C=OW;const M=new E7(this.options);this.store=new M7(this.options.resources,this.options);const O=this.services;O.logger=Gm,O.resourceStore=this.store,O.languageUtils=M,O.pluralResolver=new wW(M,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),C&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(O.formatter=r(C),O.formatter.init&&O.formatter.init(O,this.options),this.options.interpolation.format=O.formatter.format.bind(O.formatter)),O.interpolator=new SW(this.options),O.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},O.backendConnector=new TW(r(this.modules.backend),O.resourceStore,O,this.options),O.backendConnector.on("*",(K,...j)=>{this.emit(K,...j)}),this.modules.languageDetector&&(O.languageDetector=r(this.modules.languageDetector),O.languageDetector.init&&O.languageDetector.init(O,this.options.detection,this.options)),this.modules.i18nFormat&&(O.i18nFormat=r(this.modules.i18nFormat),O.i18nFormat.init&&O.i18nFormat.init(this)),this.translator=new jx(this.services,this.options),this.translator.on("*",(K,...j)=>{this.emit(K,...j)}),this.modules.external.forEach(K=>{K.init&&K.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Db),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const C=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);C.length>0&&C[0]!=="dev"&&(this.options.lng=C[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(C=>{this[C]=(...M)=>this.store[C](...M)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(C=>{this[C]=(...M)=>(this.store[C](...M),this)});const o=pC(),p=()=>{const C=(M,O)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(O),t(M,O)};if(this.languages&&!this.isInitialized)return C(null,this.t.bind(this));this.changeLanguage(this.options.lng,C)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),o}loadResources(e,t=Db){let i=t;const r=wo(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(C=>{C!=="cimode"&&a.indexOf(C)<0&&a.push(C)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>l(p)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,t,i){const r=pC();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Db),this.services.backendConnector.reload(e,t,a=>{r.resolve(),i(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&UU.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=pC();this.emit("languageChanging",e);const r=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,p)=>{p?this.isLanguageChangingTo===e&&(r(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,i.resolve((...C)=>this.t(...C)),t&&t(o,(...C)=>this.t(...C))},l=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const p=wo(o)?o:o&&o[0],C=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(wo(o)?[o]:o);C&&(this.language||r(C),this.translator.language||this.translator.changeLanguage(C),this.services.languageDetector?.cacheUserLanguage?.(C)),this.loadResources(C,M=>{a(M,C)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,t,i){const r=(a,l,...o)=>{let p;typeof l!="object"?p=this.options.overloadTranslationOptionHandler([a,l].concat(o)):p={...l},p.lng=p.lng||r.lng,p.lngs=p.lngs||r.lngs,p.ns=p.ns||r.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||r.keyPrefix);const C=this.options.keySeparator||".";let M;return p.keyPrefix&&Array.isArray(a)?M=a.map(O=>(typeof O=="function"&&(O=l6(O,{...this.options,...l})),`${p.keyPrefix}${C}${O}`)):(typeof a=="function"&&(a=l6(a,{...this.options,...l})),M=p.keyPrefix?`${p.keyPrefix}${C}${a}`:a),this.t(M,p)};return wo(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(o,p)=>{const C=this.services.backendConnector.state[`${o}|${p}`];return C===-1||C===0||C===2};if(t.precheck){const o=t.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!r||l(a,e)))}loadNamespaces(e,t){const i=pC();return this.options.ns?(wo(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=pC();wo(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter(l=>r.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=r.concat(a),this.loadResources(l=>{i.resolve(),t&&t(l)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const a=r.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new E7(k7());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new f_(e,t)}cloneInstance(e={},t=Db){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new f_(r);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){const o=Object.keys(this.store.data).reduce((p,C)=>(p[C]={...this.store.data[C]},p[C]=Object.keys(p[C]).reduce((M,O)=>(M[O]={...p[C][O]},M),p[C]),p),{});a.store=new M7(o,r),a.services.resourceStore=a.store}return a.translator=new jx(a.services,r),a.translator.on("*",(o,...p)=>{a.emit(o,...p)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gh=f_.createInstance();gh.createInstance=f_.createInstance;gh.createInstance;gh.dir;gh.init;gh.loadResources;gh.reloadResources;gh.use;gh.changeLanguage;gh.getFixedT;gh.t;gh.exists;gh.setDefaultNamespace;gh.hasLoadedNamespace;gh.loadNamespaces;gh.loadLanguages;const{slice:DW,forEach:RW}=[];function PW(n){return RW.call(DW.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function KW(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const R7=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,UW=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let a=`${n}=${r}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!R7.test(i.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${i.domain}`}if(i.path){if(!R7.test(i.path))throw new TypeError("option path is invalid");a+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(a+="; Partitioned"),a},P7={create(n,e,t,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+t*60*1e3)),i&&(r.domain=i),document.cookie=UW(n,e,r)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let r=t[i];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var LW={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return P7.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:r,cookieOptions:a}=e;t&&typeof document<"u"&&P7.create(t,n,i,r,a)}},FW={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let l=0;l<a.length;l++){const o=a[l].indexOf("=");o>0&&a[l].substring(0,o)===e&&(t=a[l].substring(o+1))}}return t}},zW={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,i;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const a=r.substring(1);if(e){const l=a.split("&");for(let o=0;o<l.length;o++){const p=l[o].indexOf("=");p>0&&l[o].substring(0,p)===e&&(i=l[o].substring(p+1))}}if(i)return i;if(!i&&t>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return i}};let Oy=null;const K7=()=>{if(Oy!==null)return Oy;try{if(Oy=typeof window<"u"&&window.localStorage!==null,!Oy)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Oy=!1}return Oy};var jW={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&K7())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&K7()&&window.localStorage.setItem(t,n)}};let Iy=null;const U7=()=>{if(Iy!==null)return Iy;try{if(Iy=typeof window<"u"&&window.sessionStorage!==null,!Iy)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Iy=!1}return Iy};var NW={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&U7())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&U7()&&window.sessionStorage.setItem(t,n)}},GW={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:r}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);i&&e.push(i),r&&e.push(r)}return e.length>0?e:void 0}},WW={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},QW={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},YW={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[t]}};let FU=!1;try{document.cookie,FU=!0}catch{}const zU=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];FU||zU.splice(1,1);const qW=()=>({order:zU,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class jU{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=PW(t,this.options||{},qW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(LW),this.addDetector(FW),this.addDetector(jW),this.addDetector(NW),this.addDetector(GW),this.addDetector(WW),this.addDetector(QW),this.addDetector(YW),this.addDetector(zW)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let r=this.detectors[i].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(i=>i!=null&&!KW(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}jU.type="languageDetector";var HW=function(e){return{type:"backend",init:function(i,r,a){},read:function(i,r,a){if(typeof e=="function"){if(e.length<3){try{var l=e(i,r);l&&typeof l.then=="function"?l.then(function(o){return a(null,o&&o.default||o)}).catch(a):a(null,l)}catch(o){a(o)}return}e(i,r,a);return}a(null,e&&e[i]&&e[i][r])}}},u4,L7;function VW(){return L7||(L7=1,u4={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),u4}var $W=VW();const ZW=cu($W);var XW=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function F7(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(ZW[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var i=n.indexOf("-->");return{type:"comment",comment:i!==-1?n.slice(4,i):""}}for(var r=new RegExp(XW),a=null;(a=r.exec(n))!==null;)if(a[0].trim())if(a[1]){var l=a[1].trim(),o=[l,""];l.indexOf("=")>-1&&(o=l.split("=")),e.attrs[o[0]]=o[1],r.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var JW=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,eQ=/^\s*$/,tQ=Object.create(null);function NU(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var i=[];for(var r in t)i.push(r+'="'+t[r]+'"');return i.length?" "+i.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(NU,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var nQ={parse:function(n,e){e||(e={}),e.components||(e.components=tQ);var t,i=[],r=[],a=-1,l=!1;if(n.indexOf("<")!==0){var o=n.indexOf("<");i.push({type:"text",content:o===-1?n:n.substring(0,o)})}return n.replace(JW,function(p,C){if(l){if(p!=="</"+t.name+">")return;l=!1}var M,O=p.charAt(1)!=="/",U=p.startsWith("<!--"),K=C+p.length,j=n.charAt(K);if(U){var W=F7(p);return a<0?(i.push(W),i):((M=r[a]).children.push(W),i)}if(O&&(a++,(t=F7(p)).type==="tag"&&e.components[t.name]&&(t.type="component",l=!0),t.voidElement||l||!j||j==="<"||t.children.push({type:"text",content:n.slice(K,n.indexOf("<",K))}),a===0&&i.push(t),(M=r[a-1])&&M.children.push(t),r[a]=t),(!O||t.voidElement)&&(a>-1&&(t.voidElement||t.name===p.slice(2,-1))&&(a--,t=a===-1?i:r[a]),!l&&j!=="<"&&j)){M=a===-1?i:r[a].children;var Y=n.indexOf("<",K),te=n.slice(K,Y===-1?void 0:Y);eQ.test(te)&&(te=" "),(Y>-1&&a+M.length>=0||te!==" ")&&M.push({type:"text",content:te})}}),i},stringify:function(n){return n.reduce(function(e,t){return e+NU("",t)},"")}};const bx=(n,e,t,i)=>{const r=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);Bf(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...r):console?.warn&&console.warn(...r)},z7={},p_=(n,e,t,i)=>{Bf(t)&&z7[t]||(Bf(t)&&(z7[t]=new Date),bx(n,e,t,i))},GU=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},A6=(n,e,t)=>{n.loadNamespaces(e,GU(n,t))},j7=(n,e,t,i)=>{if(Bf(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return A6(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,GU(n,i))},iQ=(n,e,t={})=>!e.languages||!e.languages.length?(p_(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),rQ=n=>n.displayName||n.name||(Bf(n)&&n.length>0?n:"Unknown"),Bf=n=>typeof n=="string",wg=n=>typeof n=="object"&&n!==null,oQ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,aQ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},sQ=n=>aQ[n],lQ=n=>n.replace(oQ,sQ);let u6={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:lQ};const AQ=(n={})=>{u6={...u6,...n}},WU=()=>u6;let QU;const uQ=n=>{QU=n},IB=()=>QU,c4=(n,e)=>{if(!n)return!1;const t=n.props?.children??n.children;return e?t.length>0:!!t},h4=n=>{if(!n)return[];const e=n.props?.children??n.children;return n.props?.i18nIsDynamicList?cv(e):e},cQ=n=>Array.isArray(n)&&n.every(Nt.isValidElement),cv=n=>Array.isArray(n)?n:[n],hQ=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},YU=(n,e,t,i)=>{if(!n)return"";let r="";const a=cv(n),l=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((o,p)=>{if(Bf(o)){r+=`${o}`;return}if(Nt.isValidElement(o)){const{props:C,type:M}=o,O=Object.keys(C).length,U=l.indexOf(M)>-1,K=C.children;if(!K&&U&&!O){r+=`<${M}/>`;return}if(!K&&(!U||O)||C.i18nIsDynamicList){r+=`<${p}></${p}>`;return}if(U&&O===1&&Bf(K)){r+=`<${M}>${K}</${M}>`;return}const j=YU(K,e,t,i);r+=`<${p}>${j}</${p}>`;return}if(o===null){bx(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(wg(o)){const{format:C,...M}=o,O=Object.keys(M);if(O.length===1){const U=C?`${O[0]}, ${C}`:O[0];r+=`{{${U}}}`;return}bx(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:o});return}bx(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:o})}),r},dQ=(n,e,t,i,r,a,l)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],p=t&&new RegExp(o.map(te=>`<${te}`).join("|")).test(t);if(!n&&!e&&!p&&!l)return[t];const C=e??{},M=te=>{cv(te).forEach(oe=>{Bf(oe)||(c4(oe)?M(h4(oe)):wg(oe)&&!Nt.isValidElement(oe)&&Object.assign(C,oe))})};M(n);const O=nQ.parse(`<0>${t}</0>`),U={...C,...a},K=(te,J,oe)=>{const ne=h4(te),$=W(ne,J.children,oe);return cQ(ne)&&$.length===0||te.props?.i18nIsDynamicList?ne:$},j=(te,J,oe,ne,$)=>{te.dummy?(te.children=J,oe.push(Nt.cloneElement(te,{key:ne},$?void 0:J))):oe.push(...Nt.Children.map([te],ae=>{const G={...ae.props};return delete G.i18nIsDynamicList,Nt.createElement(ae.type,{...G,key:ne,ref:ae.props.ref??ae.ref},$?null:J)}))},W=(te,J,oe)=>{const ne=cv(te);return cv(J).reduce((ae,G,ce)=>{const ge=G.children?.[0]?.content&&i.services.interpolator.interpolate(G.children[0].content,U,i.language);if(G.type==="tag"){let ye=ne[parseInt(G.name,10)];!ye&&e&&(ye=e[G.name]),oe.length===1&&!ye&&(ye=oe[0][G.name]),ye||(ye={});const we=Object.keys(G.attrs).length!==0?hQ({props:G.attrs},ye):ye,Ie=Nt.isValidElement(we),Se=Ie&&c4(G,!0)&&!G.voidElement,Ve=p&&wg(we)&&we.dummy&&!Ie,xe=wg(e)&&Object.hasOwnProperty.call(e,G.name);if(Bf(we)){const ze=i.services.interpolator.interpolate(we,U,i.language);ae.push(ze)}else if(c4(we)||Se){const ze=K(we,G,oe);j(we,ze,ae,ce)}else if(Ve){const ze=W(ne,G.children,oe);j(we,ze,ae,ce)}else if(Number.isNaN(parseFloat(G.name)))if(xe){const ze=K(we,G,oe);j(we,ze,ae,ce,G.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(G.name)>-1)if(G.voidElement)ae.push(Nt.createElement(G.name,{key:`${G.name}-${ce}`}));else{const ze=W(ne,G.children,oe);ae.push(Nt.createElement(G.name,{key:`${G.name}-${ce}`},ze))}else if(G.voidElement)ae.push(`<${G.name} />`);else{const ze=W(ne,G.children,oe);ae.push(`<${G.name}>${ze}</${G.name}>`)}else if(wg(we)&&!Ie){const ze=G.children[0]?ge:null;ze&&ae.push(ze)}else j(we,ge,ae,ce,G.children.length!==1||!ge)}else if(G.type==="text"){const ye=r.transWrapTextNodes,we=l?r.unescape(i.services.interpolator.interpolate(G.content,U,i.language)):i.services.interpolator.interpolate(G.content,U,i.language);ye?ae.push(Nt.createElement(ye,{key:`${G.name}-${ce}`},we)):ae.push(we)}return ae},[])},Y=W([{dummy:!0,children:n||[]}],O,cv(n||[]));return h4(Y[0])},qU=(n,e,t)=>{const i=n.key||e,r=Nt.cloneElement(n,{key:i});if(!r.props||!r.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return r;function a(){return Nt.createElement(Nt.Fragment,null,r)}return Nt.createElement(a,{key:i})},fQ=(n,e)=>n.map((t,i)=>qU(t,i,e)),pQ=(n,e)=>{const t={};return Object.keys(n).forEach(i=>{Object.assign(t,{[i]:qU(n[i],i,e)})}),t},mQ=(n,e,t,i)=>n?Array.isArray(n)?fQ(n,e):wg(n)?pQ(n,e):(p_(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null,gQ=n=>!wg(n)||Array.isArray(n)?!1:Object.keys(n).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0);function yQ({children:n,count:e,parent:t,i18nKey:i,context:r,tOptions:a={},values:l,defaults:o,components:p,ns:C,i18n:M,t:O,shouldUnescape:U,...K}){const j=M||IB();if(!j)return p_(j,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),n;const W=O||j.t.bind(j)||(Ve=>Ve),Y={...WU(),...j.options?.react};let te=C||W.ns||j.options?.defaultNS;te=Bf(te)?[te]:te||["translation"];const J=YU(n,Y,j,i),oe=o||J||Y.transEmptyNodeValue||i,{hashTransKey:ne}=Y,$=i||(ne?ne(J||oe):J||oe);j.options?.interpolation?.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...j.options.interpolation.defaultVariables}:{...j.options.interpolation.defaultVariables});const ae=l||e!==void 0&&!j.options?.interpolation?.alwaysFormat||!n?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},G={...a,context:r||a.context,count:e,...l,...ae,defaultValue:oe,ns:te},ce=$?W($,G):oe,ge=mQ(p,ce,j,i);let ye=ge||n,we=null;gQ(ge)&&(we=ge,ye=n);const Ie=dQ(ye,we,ce,j,Y,G,U),Se=t??Y.defaultTransParent;return Se?Nt.createElement(Se,K,Ie):Ie}const vQ={type:"3rdParty",init(n){AQ(n.options.react),uQ(n)}},HU=Nt.createContext();class CQ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Dg({children:n,count:e,parent:t,i18nKey:i,context:r,tOptions:a={},values:l,defaults:o,components:p,ns:C,i18n:M,t:O,shouldUnescape:U,...K}){const{i18n:j,defaultNS:W}=Nt.useContext(HU)||{},Y=M||j||IB(),te=O||Y?.t.bind(Y);return yQ({children:n,count:e,parent:t,i18nKey:i,context:r,tOptions:a,values:l,defaults:o,components:p,ns:C||te?.ns||W||Y?.options?.defaultNS,i18n:Y,t:O,shouldUnescape:U,...K})}const _Q=(n,e)=>{const t=Nt.useRef();return Nt.useEffect(()=>{t.current=n},[n,e]),t.current},VU=(n,e,t,i)=>n.getFixedT(e,t,i),bQ=(n,e,t,i)=>Nt.useCallback(VU(n,e,t,i),[n,e,t,i]),xQ=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:r}=Nt.useContext(HU)||{},a=t||i||IB();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new CQ),!a){p_(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ne=(ae,G)=>Bf(G)?G:wg(G)&&Bf(G.defaultValue)?G.defaultValue:Array.isArray(ae)?ae[ae.length-1]:ae,$=[ne,{},!1];return $.t=ne,$.i18n={},$.ready=!1,$}a.options.react?.wait&&p_(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...WU(),...a.options.react,...e},{useSuspense:o,keyPrefix:p}=l;let C=r||a.options?.defaultNS;C=Bf(C)?[C]:C||["translation"],a.reportNamespaces.addUsedNamespaces?.(C);const M=(a.isInitialized||a.initializedStoreOnce)&&C.every(ne=>iQ(ne,a,l)),O=bQ(a,e.lng||null,l.nsMode==="fallback"?C:C[0],p),U=()=>O,K=()=>VU(a,e.lng||null,l.nsMode==="fallback"?C:C[0],p),[j,W]=Nt.useState(U);let Y=C.join();e.lng&&(Y=`${e.lng}${Y}`);const te=_Q(Y),J=Nt.useRef(!0);Nt.useEffect(()=>{const{bindI18n:ne,bindI18nStore:$}=l;J.current=!0,!M&&!o&&(e.lng?j7(a,e.lng,C,()=>{J.current&&W(K)}):A6(a,C,()=>{J.current&&W(K)})),M&&te&&te!==Y&&J.current&&W(K);const ae=()=>{J.current&&W(K)};return ne&&a?.on(ne,ae),$&&a?.store.on($,ae),()=>{J.current=!1,a&&ne&&ne?.split(" ").forEach(G=>a.off(G,ae)),$&&a&&$.split(" ").forEach(G=>a.store.off(G,ae))}},[a,Y]),Nt.useEffect(()=>{J.current&&M&&W(U)},[a,p,M]);const oe=[j,a,M];if(oe.t=j,oe.i18n=a,oe.ready=M,M||!M&&!o)return oe;throw new Promise(ne=>{e.lng?j7(a,e.lng,C,()=>ne()):A6(a,C,()=>ne())})},es=(n,e={})=>function(i){function r({forwardedRef:l,...o}){const[p,C,M]=xQ(n,{...o,keyPrefix:e.keyPrefix}),O={...o,t:p,i18n:C,tReady:M};return e.withRef&&l?O.ref=l:!e.withRef&&l&&(O.forwardedRef=l),Nt.createElement(i,O)}r.displayName=`withI18nextTranslation(${rQ(i)})`,r.WrappedComponent=i;const a=(l,o)=>Nt.createElement(r,Object.assign({},l,{forwardedRef:o}));return e.withRef?Nt.forwardRef(a):r};function ml(){var n="/home/runner/work/maputnik/maputnik/src/i18n.ts",e="529ee327821ff95d86675c5d3e41229f0d9cb0df",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/i18n.ts",statementMap:{0:{start:{line:5,column:34},end:{line:13,column:1}},1:{start:{line:14,column:0},end:{line:40,column:3}},2:{start:{line:16,column:4},end:{line:18,column:5}},3:{start:{line:17,column:6},end:{line:17,column:16}},4:{start:{line:19,column:4},end:{line:19,column:593}},5:{start:{line:19,column:119},end:{line:19,column:158}},6:{start:{line:19,column:198},end:{line:19,column:237}},7:{start:{line:19,column:277},end:{line:19,column:316}},8:{start:{line:19,column:356},end:{line:19,column:395}},9:{start:{line:19,column:435},end:{line:19,column:474}},10:{start:{line:19,column:514},end:{line:19,column:553}},11:{start:{line:35,column:4},end:{line:37,column:5}},12:{start:{line:36,column:6},end:{line:36,column:13}},13:{start:{line:38,column:4},end:{line:38,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:21},end:{line:15,column:22}},loc:{start:{line:15,column:35},end:{line:20,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:19,column:113},end:{line:19,column:114}},loc:{start:{line:19,column:119},end:{line:19,column:158}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:19,column:192},end:{line:19,column:193}},loc:{start:{line:19,column:198},end:{line:19,column:237}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:271},end:{line:19,column:272}},loc:{start:{line:19,column:277},end:{line:19,column:316}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:19,column:350},end:{line:19,column:351}},loc:{start:{line:19,column:356},end:{line:19,column:395}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:19,column:429},end:{line:19,column:430}},loc:{start:{line:19,column:435},end:{line:19,column:474}},line:19},6:{name:"(anonymous_6)",decl:{start:{line:19,column:508},end:{line:19,column:509}},loc:{start:{line:19,column:514},end:{line:19,column:553}},line:19},7:{name:"(anonymous_7)",decl:{start:{line:34,column:21},end:{line:34,column:22}},loc:{start:{line:34,column:41},end:{line:39,column:3}},line:34}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/i18n.ts"],names:[],mappings:"AAAA,MAAA,CAAA,oCAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,MAAA,CAAO,IAAA,CAAA,IAAA,CAAU,CAAA,OAAA,CAAA;AACjB,MAAA,CAAO,QAAA,CAAA,IAAA,CAAc,CAAA,OAAA,CAAA,OAAA,CAAA,gBAAA,CAAA;AACrB,MAAA,CAAO,kBAAA,CAAA,IAAA,CAAwB,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA,CAAA,OAAA,CAAA;AAC/B,MAAA,CAAA,CAAA,CAAS,gBAAA,CAAA,CAAA,CAAA,IAAA,CAAwB,CAAA,KAAA,CAAA,OAAA,CAAA;AAE1B,MAAA,CAAA,KAAA,CAAM,kBAAA,CAAA,CAAA,CAAqB;AAAA,CAAA,CAChC,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,OAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,OAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,QAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA;AACR,CAAA;AAEA,IAAA,CACG,GAAA,CAAI,QAAQ,CAAA,CACZ,GAAA;AAAA,CAAA,CACC,kBAAA,CAAmB,CAAC,IAAA,CAAA,CAAc,EAAA,CAAA,CAAA,CAAA,CAAA,CAAe;AAC/C,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,SAAS,CAAA,EAAA,CAAA,CAAA,CAAM;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA;AAAA,CAAA,CAAA,CAAA,CACV;AACA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,oCAAA,CAAA,CAAA,0fAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAA8B;AAAA,CAAA,CACvC,CAAC;AACH,CAAA,CACC,GAAA,CAAI,gBAAgB,CAAA,CACpB,IAAA,CAAK;AAAA,CAAA,CACJ,aAAA,CAAA,CAAe,MAAA,CAAO,IAAA,CAAK,kBAAkB,CAAA;AAAA,CAAA,CAC7C,YAAA,CAAA,CAAc,KAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AAAA,CAAA,CACd,WAAA,CAAA,CAAa,KAAA;AAAA,CAAA,CACb,aAAA,CAAA,CAAe;AAAA,CAAA,CAAA,CAAA,CACb,WAAA,CAAA,CAAa;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,CAAA;AAAA,CAAA,CACf,CAAA;AAAA,CAAA,CACA,WAAA,CAAA,CAAa,IAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,EAAA,CAAA;AAAA,CAAA,CACb,WAAA,CAAA,CAAa,KAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AAAA,CAAA,CACb,iBAAA,CAAA,CAAmB,CAAC,IAAA,CAAA,CAAM,GAAA,CAAA,CAAK,GAAA,CAAA,CAAA,CAAA,CAAA,CAAQ;AACrC,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,IAAA,CAAK,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,EAAA,CAAA,CAAA,CAAM;AAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AAAA,CAAA,CAAA,CAAA,CAAQ;AAChC,CAAA,CAAA,CAAA,CAAA,OAAA,CAAQ,IAAA,CAAK,4BAA4B,GAAG,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAS,KAAK,IAAA,CAAK,CAAA,CAAA,CAAA,CAAI,CAAC,CAAA,CAAA,CAAG,CAAA;AAAA,CAAA,CACzE;AACF,CAAC,CAAA;AAEH,MAAA,CAAA,OAAA,CAAe,IAAA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"529ee327821ff95d86675c5d3e41229f0d9cb0df"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return ml=function(){return l},l}ml();const $U=(ml().s[0]++,{de:"Deutsch",en:"English",fr:"Franais",he:"",it:"Italiano",ja:"",zh:""});ml().s[1]++;gh.use(jU).use(HW((n,e)=>(ml().f[0]++,ml().s[2]++,n==="en"?(ml().b[0][0]++,ml().s[3]++,{}):(ml().b[0][1]++,ml().s[4]++,hW(Object.assign({"./locales/de/translation.json":()=>(ml().f[1]++,ml().s[5]++,Ey(()=>import("./translation-CiEDmoES.js"),[])),"./locales/fr/translation.json":()=>(ml().f[2]++,ml().s[6]++,Ey(()=>import("./translation-DpmH3u25.js"),[])),"./locales/he/translation.json":()=>(ml().f[3]++,ml().s[7]++,Ey(()=>import("./translation--csVkTcS.js"),[])),"./locales/it/translation.json":()=>(ml().f[4]++,ml().s[8]++,Ey(()=>import("./translation-CuNUfALR.js"),[])),"./locales/ja/translation.json":()=>(ml().f[5]++,ml().s[9]++,Ey(()=>import("./translation-x4SrtxNF.js"),[])),"./locales/zh/translation.json":()=>(ml().f[6]++,ml().s[10]++,Ey(()=>import("./translation-BmBNlV7n.js"),[]))}),`./locales/${n}/${e}.json`,4))))).use(vQ).init({supportedLngs:Object.keys($U),keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},saveMissing:!0,fallbackLng:!1,missingKeyHandler:(n,e,t)=>{if(ml().f[7]++,ml().s[11]++,n[0]==="en"){ml().b[1][0]++,ml().s[12]++;return}else ml().b[1][1]++;ml().s[13]++,console.warn(`Missing translation for "${t}" in "${n.join(", ")}"`)}});var IC={exports:{}};IC.exports;var N7;function MQ(){return N7||(N7=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=9007199254740991,a="[object Arguments]",l="[object Array]",o="[object Boolean]",p="[object Date]",C="[object Error]",M="[object Function]",O="[object GeneratorFunction]",U="[object Map]",K="[object Number]",j="[object Object]",W="[object Promise]",Y="[object RegExp]",te="[object Set]",J="[object String]",oe="[object Symbol]",ne="[object WeakMap]",$="[object ArrayBuffer]",ae="[object DataView]",G="[object Float32Array]",ce="[object Float64Array]",ge="[object Int8Array]",ye="[object Int16Array]",we="[object Int32Array]",Ie="[object Uint8Array]",Se="[object Uint8ClampedArray]",Ve="[object Uint16Array]",xe="[object Uint32Array]",ze=/[\\^$.*+?()[\]{}|]/g,st=/\w*$/,Ct=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,be={};be[a]=be[l]=be[$]=be[ae]=be[o]=be[p]=be[G]=be[ce]=be[ge]=be[ye]=be[we]=be[U]=be[K]=be[j]=be[Y]=be[te]=be[J]=be[oe]=be[Ie]=be[Se]=be[Ve]=be[xe]=!0,be[C]=be[M]=be[ne]=!1;var Ne=typeof window=="object"&&window&&window.Object===Object&&window,tt=typeof self=="object"&&self&&self.Object===Object&&self,lt=Ne||tt||Function("return this")(),kt=e&&!e.nodeType&&e,gt=kt&&!0&&n&&!n.nodeType&&n,St=gt&&gt.exports===kt;function Ut(ee,Oe){return ee.set(Oe[0],Oe[1]),ee}function Fe(ee,Oe){return ee.add(Oe),ee}function Ke(ee,Oe){for(var at=-1,Gt=ee?ee.length:0;++at<Gt&&Oe(ee[at],at,ee)!==!1;);return ee}function Re(ee,Oe){for(var at=-1,Gt=Oe.length,Si=ee.length;++at<Gt;)ee[Si+at]=Oe[at];return ee}function He(ee,Oe,at,Gt){for(var Si=-1,Xn=ee?ee.length:0;++Si<Xn;)at=Oe(at,ee[Si],Si,ee);return at}function bt(ee,Oe){for(var at=-1,Gt=Array(ee);++at<ee;)Gt[at]=Oe(at);return Gt}function _t(ee,Oe){return ee?.[Oe]}function Ot(ee){var Oe=!1;if(ee!=null&&typeof ee.toString!="function")try{Oe=!!(ee+"")}catch{}return Oe}function qt(ee){var Oe=-1,at=Array(ee.size);return ee.forEach(function(Gt,Si){at[++Oe]=[Si,Gt]}),at}function Kt(ee,Oe){return function(at){return ee(Oe(at))}}function on(ee){var Oe=-1,at=Array(ee.size);return ee.forEach(function(Gt){at[++Oe]=Gt}),at}var Jn=Array.prototype,Wt=Function.prototype,$n=Object.prototype,On=lt["__core-js_shared__"],Bn=function(){var ee=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),In=Wt.toString,Oi=$n.hasOwnProperty,ei=$n.toString,Kn=RegExp("^"+In.call(Oi).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=St?lt.Buffer:void 0,de=lt.Symbol,re=lt.Uint8Array,le=Kt(Object.getPrototypeOf,Object),pe=Object.create,Te=$n.propertyIsEnumerable,We=Jn.splice,dt=Object.getOwnPropertySymbols,Ye=je?je.isBuffer:void 0,De=Kt(Object.keys,Object),Ze=Xo(lt,"DataView"),g=Xo(lt,"Map"),mt=Xo(lt,"Promise"),ht=Xo(lt,"Set"),Tt=Xo(lt,"WeakMap"),it=Xo(Object,"create"),en=No(Ze),Dn=No(g),Mn=No(mt),ii=No(ht),Wn=No(Tt),Hi=de?de.prototype:void 0,tr=Hi?Hi.valueOf:void 0;function Ei(ee){var Oe=-1,at=ee?ee.length:0;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function hi(){this.__data__=it?it(null):{}}function ti(ee){return this.has(ee)&&delete this.__data__[ee]}function Qi(ee){var Oe=this.__data__;if(it){var at=Oe[ee];return at===i?void 0:at}return Oi.call(Oe,ee)?Oe[ee]:void 0}function wn(ee){var Oe=this.__data__;return it?Oe[ee]!==void 0:Oi.call(Oe,ee)}function uo(ee,Oe){var at=this.__data__;return at[ee]=it&&Oe===void 0?i:Oe,this}Ei.prototype.clear=hi,Ei.prototype.delete=ti,Ei.prototype.get=Qi,Ei.prototype.has=wn,Ei.prototype.set=uo;function Vi(ee){var Oe=-1,at=ee?ee.length:0;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ya(){this.__data__=[]}function ko(ee){var Oe=this.__data__,at=cs(Oe,ee);if(at<0)return!1;var Gt=Oe.length-1;return at==Gt?Oe.pop():We.call(Oe,at,1),!0}function Zn(ee){var Oe=this.__data__,at=cs(Oe,ee);return at<0?void 0:Oe[at][1]}function Ar(ee){return cs(this.__data__,ee)>-1}function zi(ee,Oe){var at=this.__data__,Gt=cs(at,ee);return Gt<0?at.push([ee,Oe]):at[Gt][1]=Oe,this}Vi.prototype.clear=ya,Vi.prototype.delete=ko,Vi.prototype.get=Zn,Vi.prototype.has=Ar,Vi.prototype.set=zi;function Cr(ee){var Oe=-1,at=ee?ee.length:0;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ja(){this.__data__={hash:new Ei,map:new(g||Vi),string:new Ei}}function kr(ee){return Hs(this,ee).delete(ee)}function ji(ee){return Hs(this,ee).get(ee)}function yl(ee){return Hs(this,ee).has(ee)}function Pa(ee,Oe){return Hs(this,ee).set(ee,Oe),this}Cr.prototype.clear=ja,Cr.prototype.delete=kr,Cr.prototype.get=ji,Cr.prototype.has=yl,Cr.prototype.set=Pa;function So(ee){this.__data__=new Vi(ee)}function ts(){this.__data__=new Vi}function Tl(ee){return this.__data__.delete(ee)}function co(ee){return this.__data__.get(ee)}function QA(ee){return this.__data__.has(ee)}function Ka(ee,Oe){var at=this.__data__;if(at instanceof Vi){var Gt=at.__data__;if(!g||Gt.length<t-1)return Gt.push([ee,Oe]),this;at=this.__data__=new Cr(Gt)}return at.set(ee,Oe),this}So.prototype.clear=ts,So.prototype.delete=Tl,So.prototype.get=co,So.prototype.has=QA,So.prototype.set=Ka;function $i(ee,Oe){var at=sa(ee)||Ea(ee)?bt(ee.length,String):[],Gt=at.length,Si=!!Gt;for(var Xn in ee)Oi.call(ee,Xn)&&!(Si&&(Xn=="length"||xA(Xn,Gt)))&&at.push(Xn);return at}function Mi(ee,Oe,at){var Gt=ee[Oe];(!(Oi.call(ee,Oe)&&Na(Gt,at))||at===void 0&&!(Oe in ee))&&(ee[Oe]=at)}function cs(ee,Oe){for(var at=ee.length;at--;)if(Na(ee[at][0],Oe))return at;return-1}function Sa(ee,Oe){return ee&&vl(Oe,Xi(Oe),ee)}function Zo(ee,Oe,at,Gt,Si,Xn,Zi){var ar;if(Gt&&(ar=Xn?Gt(ee,Si,Xn,Zi):Gt(ee)),ar!==void 0)return ar;if(!Pr(ee))return ee;var Ri=sa(ee);if(Ri){if(ar=Ul(ee),!Oe)return bA(ee,ar)}else{var Ji=fr(ee),no=Ji==M||Ji==O;if(Ga(ee))return si(ee,Oe);if(Ji==j||Ji==a||no&&!Xn){if(Ot(ee))return Xn?ee:{};if(ar=va(no?{}:ee),!Oe)return Es(ee,Sa(ar,ee))}else{if(!be[Ji])return Xn?ee:{};ar=Ll(ee,Ji,Zo,Oe)}}Zi||(Zi=new So);var ho=Zi.get(ee);if(ho)return ho;if(Zi.set(ee,ar),!Ri)var cr=at?Mc(ee):Xi(ee);return Ke(cr||ee,function(gr,fo){cr&&(fo=gr,gr=ee[fo]),Mi(ar,fo,Zo(gr,Oe,at,Gt,fo,ee,Zi))}),ar}function $e(ee){return Pr(ee)?pe(ee):{}}function Et(ee,Oe,at){var Gt=Oe(ee);return sa(ee)?Gt:Re(Gt,at(ee))}function xn(ee){return ei.call(ee)}function Gn(ee){if(!Pr(ee)||rA(ee))return!1;var Oe=ns(ee)||Ot(ee)?Kn:Ct;return Oe.test(No(ee))}function rn(ee){if(!hu(ee))return De(ee);var Oe=[];for(var at in Object(ee))Oi.call(ee,at)&&at!="constructor"&&Oe.push(at);return Oe}function si(ee,Oe){if(Oe)return ee.slice();var at=new ee.constructor(ee.length);return ee.copy(at),at}function to(ee){var Oe=new ee.constructor(ee.byteLength);return new re(Oe).set(new re(ee)),Oe}function Eo(ee,Oe){var at=Oe?to(ee.buffer):ee.buffer;return new ee.constructor(at,ee.byteOffset,ee.byteLength)}function hs(ee,Oe,at){var Gt=Oe?at(qt(ee),!0):qt(ee);return He(Gt,Ut,new ee.constructor)}function zs(ee){var Oe=new ee.constructor(ee.source,st.exec(ee));return Oe.lastIndex=ee.lastIndex,Oe}function YA(ee,Oe,at){var Gt=Oe?at(on(ee),!0):on(ee);return He(Gt,Fe,new ee.constructor)}function Yi(ee){return tr?Object(tr.call(ee)):{}}function Pu(ee,Oe){var at=Oe?to(ee.buffer):ee.buffer;return new ee.constructor(at,ee.byteOffset,ee.length)}function bA(ee,Oe){var at=-1,Gt=ee.length;for(Oe||(Oe=Array(Gt));++at<Gt;)Oe[at]=ee[at];return Oe}function vl(ee,Oe,at,Gt){at||(at={});for(var Si=-1,Xn=Oe.length;++Si<Xn;){var Zi=Oe[Si],ar=void 0;Mi(at,Zi,ar===void 0?ee[Zi]:ar)}return at}function Es(ee,Oe){return vl(ee,Do(ee),Oe)}function Mc(ee){return Et(ee,Xi,Do)}function Hs(ee,Oe){var at=ee.__data__;return Mr(Oe)?at[typeof Oe=="string"?"string":"hash"]:at.map}function Xo(ee,Oe){var at=_t(ee,Oe);return Gn(at)?at:void 0}var Do=dt?Kt(dt,Object):wi,fr=xn;(Ze&&fr(new Ze(new ArrayBuffer(1)))!=ae||g&&fr(new g)!=U||mt&&fr(mt.resolve())!=W||ht&&fr(new ht)!=te||Tt&&fr(new Tt)!=ne)&&(fr=function(ee){var Oe=ei.call(ee),at=Oe==j?ee.constructor:void 0,Gt=at?No(at):void 0;if(Gt)switch(Gt){case en:return ae;case Dn:return U;case Mn:return W;case ii:return te;case Wn:return ne}return Oe});function Ul(ee){var Oe=ee.length,at=ee.constructor(Oe);return Oe&&typeof ee[0]=="string"&&Oi.call(ee,"index")&&(at.index=ee.index,at.input=ee.input),at}function va(ee){return typeof ee.constructor=="function"&&!hu(ee)?$e(le(ee)):{}}function Ll(ee,Oe,at,Gt){var Si=ee.constructor;switch(Oe){case $:return to(ee);case o:case p:return new Si(+ee);case ae:return Eo(ee,Gt);case G:case ce:case ge:case ye:case we:case Ie:case Se:case Ve:case xe:return Pu(ee,Gt);case U:return hs(ee,Gt,at);case K:case J:return new Si(ee);case Y:return zs(ee);case te:return YA(ee,Gt,at);case oe:return Yi(ee)}}function xA(ee,Oe){return Oe=Oe??r,!!Oe&&(typeof ee=="number"||nt.test(ee))&&ee>-1&&ee%1==0&&ee<Oe}function Mr(ee){var Oe=typeof ee;return Oe=="string"||Oe=="number"||Oe=="symbol"||Oe=="boolean"?ee!=="__proto__":ee===null}function rA(ee){return!!Bn&&Bn in ee}function hu(ee){var Oe=ee&&ee.constructor,at=typeof Oe=="function"&&Oe.prototype||$n;return ee===at}function No(ee){if(ee!=null){try{return In.call(ee)}catch{}try{return ee+""}catch{}}return""}function Bo(ee){return Zo(ee,!0,!0)}function Na(ee,Oe){return ee===Oe||ee!==ee&&Oe!==Oe}function Ea(ee){return oA(ee)&&Oi.call(ee,"callee")&&(!Te.call(ee,"callee")||ei.call(ee)==a)}var sa=Array.isArray;function Rr(ee){return ee!=null&&Ca(ee.length)&&!ns(ee)}function oA(ee){return Cl(ee)&&Rr(ee)}var Ga=Ye||qr;function ns(ee){var Oe=Pr(ee)?ei.call(ee):"";return Oe==M||Oe==O}function Ca(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=r}function Pr(ee){var Oe=typeof ee;return!!ee&&(Oe=="object"||Oe=="function")}function Cl(ee){return!!ee&&typeof ee=="object"}function Xi(ee){return Rr(ee)?$i(ee):rn(ee)}function wi(){return[]}function qr(){return!1}n.exports=Bo}(IC,IC.exports)),IC.exports}var wQ=MQ();const G7=cu(wQ);var d4,W7;function SQ(){if(W7)return d4;W7=1;var n=NaN,e="[object Symbol]",t=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,o=Object.prototype,p=o.toString;function C(W,Y,te){return W===W&&(te!==void 0&&(W=W<=te?W:te),Y!==void 0&&(W=W>=Y?W:Y)),W}function M(W){var Y=typeof W;return!!W&&(Y=="object"||Y=="function")}function O(W){return!!W&&typeof W=="object"}function U(W){return typeof W=="symbol"||O(W)&&p.call(W)==e}function K(W){if(typeof W=="number")return W;if(U(W))return n;if(M(W)){var Y=typeof W.valueOf=="function"?W.valueOf():W;W=M(Y)?Y+"":Y}if(typeof W!="string")return W===0?W:+W;W=W.replace(t,"");var te=r.test(W);return te||a.test(W)?l(W.slice(2),te?2:8):i.test(W)?n:+W}function j(W,Y,te){return te===void 0&&(te=Y,Y=void 0),te!==void 0&&(te=K(te),te=te===te?te:0),Y!==void 0&&(Y=K(Y),Y=Y===Y?Y:0),C(K(W),Y,te)}return d4=j,d4}var EQ=SQ();const Q7=cu(EQ);var f4={},mC={},Y7;function BQ(){if(Y7)return mC;Y7=1,mC.byteLength=o,mC.toByteArray=C,mC.fromByteArray=U;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=i.length;r<a;++r)n[r]=i[r],e[i.charCodeAt(r)]=r;e[45]=62,e[95]=63;function l(K){var j=K.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var W=K.indexOf("=");W===-1&&(W=j);var Y=W===j?0:4-W%4;return[W,Y]}function o(K){var j=l(K),W=j[0],Y=j[1];return(W+Y)*3/4-Y}function p(K,j,W){return(j+W)*3/4-W}function C(K){var j,W=l(K),Y=W[0],te=W[1],J=new t(p(K,Y,te)),oe=0,ne=te>0?Y-4:Y,$;for($=0;$<ne;$+=4)j=e[K.charCodeAt($)]<<18|e[K.charCodeAt($+1)]<<12|e[K.charCodeAt($+2)]<<6|e[K.charCodeAt($+3)],J[oe++]=j>>16&255,J[oe++]=j>>8&255,J[oe++]=j&255;return te===2&&(j=e[K.charCodeAt($)]<<2|e[K.charCodeAt($+1)]>>4,J[oe++]=j&255),te===1&&(j=e[K.charCodeAt($)]<<10|e[K.charCodeAt($+1)]<<4|e[K.charCodeAt($+2)]>>2,J[oe++]=j>>8&255,J[oe++]=j&255),J}function M(K){return n[K>>18&63]+n[K>>12&63]+n[K>>6&63]+n[K&63]}function O(K,j,W){for(var Y,te=[],J=j;J<W;J+=3)Y=(K[J]<<16&16711680)+(K[J+1]<<8&65280)+(K[J+2]&255),te.push(M(Y));return te.join("")}function U(K){for(var j,W=K.length,Y=W%3,te=[],J=16383,oe=0,ne=W-Y;oe<ne;oe+=J)te.push(O(K,oe,oe+J>ne?ne:oe+J));return Y===1?(j=K[W-1],te.push(n[j>>2]+n[j<<4&63]+"==")):Y===2&&(j=(K[W-2]<<8)+K[W-1],te.push(n[j>>10]+n[j>>4&63]+n[j<<2&63]+"=")),te.join("")}return mC}var Rb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var q7;function OQ(){return q7||(q7=1,Rb.read=function(n,e,t,i,r){var a,l,o=r*8-i-1,p=(1<<o)-1,C=p>>1,M=-7,O=t?r-1:0,U=t?-1:1,K=n[e+O];for(O+=U,a=K&(1<<-M)-1,K>>=-M,M+=o;M>0;a=a*256+n[e+O],O+=U,M-=8);for(l=a&(1<<-M)-1,a>>=-M,M+=i;M>0;l=l*256+n[e+O],O+=U,M-=8);if(a===0)a=1-C;else{if(a===p)return l?NaN:(K?-1:1)*(1/0);l=l+Math.pow(2,i),a=a-C}return(K?-1:1)*l*Math.pow(2,a-i)},Rb.write=function(n,e,t,i,r,a){var l,o,p,C=a*8-r-1,M=(1<<C)-1,O=M>>1,U=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=i?0:a-1,j=i?1:-1,W=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,l=M):(l=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+O>=1?e+=U/p:e+=U*Math.pow(2,1-O),e*p>=2&&(l++,p/=2),l+O>=M?(o=0,l=M):l+O>=1?(o=(e*p-1)*Math.pow(2,r),l=l+O):(o=e*Math.pow(2,O-1)*Math.pow(2,r),l=0));r>=8;n[t+K]=o&255,K+=j,o/=256,r-=8);for(l=l<<r|o,C+=r;C>0;n[t+K]=l&255,K+=j,l/=256,C-=8);n[t+K-j]|=W*128}),Rb}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var H7;function IQ(){return H7||(H7=1,function(n){const e=BQ(),t=OQ(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=o,n.SlowBuffer=J,n.INSPECT_MAX_BYTES=50;const r=2147483647;n.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const je=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(je,de),je.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(je){if(je>r)throw new RangeError('The value "'+je+'" is invalid for option "size"');const de=new Uint8Array(je);return Object.setPrototypeOf(de,o.prototype),de}function o(je,de,re){if(typeof je=="number"){if(typeof de=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(je)}return p(je,de,re)}o.poolSize=8192;function p(je,de,re){if(typeof je=="string")return U(je,de);if(ArrayBuffer.isView(je))return j(je);if(je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof je);if(Bn(je,ArrayBuffer)||je&&Bn(je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Bn(je,SharedArrayBuffer)||je&&Bn(je.buffer,SharedArrayBuffer)))return W(je,de,re);if(typeof je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=je.valueOf&&je.valueOf();if(le!=null&&le!==je)return o.from(le,de,re);const pe=Y(je);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof je[Symbol.toPrimitive]=="function")return o.from(je[Symbol.toPrimitive]("string"),de,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof je)}o.from=function(je,de,re){return p(je,de,re)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function C(je){if(typeof je!="number")throw new TypeError('"size" argument must be of type number');if(je<0)throw new RangeError('The value "'+je+'" is invalid for option "size"')}function M(je,de,re){return C(je),je<=0?l(je):de!==void 0?typeof re=="string"?l(je).fill(de,re):l(je).fill(de):l(je)}o.alloc=function(je,de,re){return M(je,de,re)};function O(je){return C(je),l(je<0?0:te(je)|0)}o.allocUnsafe=function(je){return O(je)},o.allocUnsafeSlow=function(je){return O(je)};function U(je,de){if((typeof de!="string"||de==="")&&(de="utf8"),!o.isEncoding(de))throw new TypeError("Unknown encoding: "+de);const re=oe(je,de)|0;let le=l(re);const pe=le.write(je,de);return pe!==re&&(le=le.slice(0,pe)),le}function K(je){const de=je.length<0?0:te(je.length)|0,re=l(de);for(let le=0;le<de;le+=1)re[le]=je[le]&255;return re}function j(je){if(Bn(je,Uint8Array)){const de=new Uint8Array(je);return W(de.buffer,de.byteOffset,de.byteLength)}return K(je)}function W(je,de,re){if(de<0||je.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(je.byteLength<de+(re||0))throw new RangeError('"length" is outside of buffer bounds');let le;return de===void 0&&re===void 0?le=new Uint8Array(je):re===void 0?le=new Uint8Array(je,de):le=new Uint8Array(je,de,re),Object.setPrototypeOf(le,o.prototype),le}function Y(je){if(o.isBuffer(je)){const de=te(je.length)|0,re=l(de);return re.length===0||je.copy(re,0,0,de),re}if(je.length!==void 0)return typeof je.length!="number"||In(je.length)?l(0):K(je);if(je.type==="Buffer"&&Array.isArray(je.data))return K(je.data)}function te(je){if(je>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return je|0}function J(je){return+je!=je&&(je=0),o.alloc(+je)}o.isBuffer=function(de){return de!=null&&de._isBuffer===!0&&de!==o.prototype},o.compare=function(de,re){if(Bn(de,Uint8Array)&&(de=o.from(de,de.offset,de.byteLength)),Bn(re,Uint8Array)&&(re=o.from(re,re.offset,re.byteLength)),!o.isBuffer(de)||!o.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(de===re)return 0;let le=de.length,pe=re.length;for(let Te=0,We=Math.min(le,pe);Te<We;++Te)if(de[Te]!==re[Te]){le=de[Te],pe=re[Te];break}return le<pe?-1:pe<le?1:0},o.isEncoding=function(de){switch(String(de).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(de,re){if(!Array.isArray(de))throw new TypeError('"list" argument must be an Array of Buffers');if(de.length===0)return o.alloc(0);let le;if(re===void 0)for(re=0,le=0;le<de.length;++le)re+=de[le].length;const pe=o.allocUnsafe(re);let Te=0;for(le=0;le<de.length;++le){let We=de[le];if(Bn(We,Uint8Array))Te+We.length>pe.length?(o.isBuffer(We)||(We=o.from(We)),We.copy(pe,Te)):Uint8Array.prototype.set.call(pe,We,Te);else if(o.isBuffer(We))We.copy(pe,Te);else throw new TypeError('"list" argument must be an Array of Buffers');Te+=We.length}return pe};function oe(je,de){if(o.isBuffer(je))return je.length;if(ArrayBuffer.isView(je)||Bn(je,ArrayBuffer))return je.byteLength;if(typeof je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof je);const re=je.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&re===0)return 0;let pe=!1;for(;;)switch(de){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return on(je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re*2;case"hex":return re>>>1;case"base64":return $n(je).length;default:if(pe)return le?-1:on(je).length;de=(""+de).toLowerCase(),pe=!0}}o.byteLength=oe;function ne(je,de,re){let le=!1;if((de===void 0||de<0)&&(de=0),de>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0,de>>>=0,re<=de))return"";for(je||(je="utf8");;)switch(je){case"hex":return nt(this,de,re);case"utf8":case"utf-8":return Ve(this,de,re);case"ascii":return st(this,de,re);case"latin1":case"binary":return Ct(this,de,re);case"base64":return Se(this,de,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,de,re);default:if(le)throw new TypeError("Unknown encoding: "+je);je=(je+"").toLowerCase(),le=!0}}o.prototype._isBuffer=!0;function $(je,de,re){const le=je[de];je[de]=je[re],je[re]=le}o.prototype.swap16=function(){const de=this.length;if(de%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let re=0;re<de;re+=2)$(this,re,re+1);return this},o.prototype.swap32=function(){const de=this.length;if(de%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let re=0;re<de;re+=4)$(this,re,re+3),$(this,re+1,re+2);return this},o.prototype.swap64=function(){const de=this.length;if(de%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let re=0;re<de;re+=8)$(this,re,re+7),$(this,re+1,re+6),$(this,re+2,re+5),$(this,re+3,re+4);return this},o.prototype.toString=function(){const de=this.length;return de===0?"":arguments.length===0?Ve(this,0,de):ne.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(de){if(!o.isBuffer(de))throw new TypeError("Argument must be a Buffer");return this===de?!0:o.compare(this,de)===0},o.prototype.inspect=function(){let de="";const re=n.INSPECT_MAX_BYTES;return de=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(de+=" ... "),"<Buffer "+de+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(de,re,le,pe,Te){if(Bn(de,Uint8Array)&&(de=o.from(de,de.offset,de.byteLength)),!o.isBuffer(de))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof de);if(re===void 0&&(re=0),le===void 0&&(le=de?de.length:0),pe===void 0&&(pe=0),Te===void 0&&(Te=this.length),re<0||le>de.length||pe<0||Te>this.length)throw new RangeError("out of range index");if(pe>=Te&&re>=le)return 0;if(pe>=Te)return-1;if(re>=le)return 1;if(re>>>=0,le>>>=0,pe>>>=0,Te>>>=0,this===de)return 0;let We=Te-pe,dt=le-re;const Ye=Math.min(We,dt),De=this.slice(pe,Te),Ze=de.slice(re,le);for(let g=0;g<Ye;++g)if(De[g]!==Ze[g]){We=De[g],dt=Ze[g];break}return We<dt?-1:dt<We?1:0};function ae(je,de,re,le,pe){if(je.length===0)return-1;if(typeof re=="string"?(le=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),re=+re,In(re)&&(re=pe?0:je.length-1),re<0&&(re=je.length+re),re>=je.length){if(pe)return-1;re=je.length-1}else if(re<0)if(pe)re=0;else return-1;if(typeof de=="string"&&(de=o.from(de,le)),o.isBuffer(de))return de.length===0?-1:G(je,de,re,le,pe);if(typeof de=="number")return de=de&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(je,de,re):Uint8Array.prototype.lastIndexOf.call(je,de,re):G(je,[de],re,le,pe);throw new TypeError("val must be string, number or Buffer")}function G(je,de,re,le,pe){let Te=1,We=je.length,dt=de.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(je.length<2||de.length<2)return-1;Te=2,We/=2,dt/=2,re/=2}function Ye(Ze,g){return Te===1?Ze[g]:Ze.readUInt16BE(g*Te)}let De;if(pe){let Ze=-1;for(De=re;De<We;De++)if(Ye(je,De)===Ye(de,Ze===-1?0:De-Ze)){if(Ze===-1&&(Ze=De),De-Ze+1===dt)return Ze*Te}else Ze!==-1&&(De-=De-Ze),Ze=-1}else for(re+dt>We&&(re=We-dt),De=re;De>=0;De--){let Ze=!0;for(let g=0;g<dt;g++)if(Ye(je,De+g)!==Ye(de,g)){Ze=!1;break}if(Ze)return De}return-1}o.prototype.includes=function(de,re,le){return this.indexOf(de,re,le)!==-1},o.prototype.indexOf=function(de,re,le){return ae(this,de,re,le,!0)},o.prototype.lastIndexOf=function(de,re,le){return ae(this,de,re,le,!1)};function ce(je,de,re,le){re=Number(re)||0;const pe=je.length-re;le?(le=Number(le),le>pe&&(le=pe)):le=pe;const Te=de.length;le>Te/2&&(le=Te/2);let We;for(We=0;We<le;++We){const dt=parseInt(de.substr(We*2,2),16);if(In(dt))return We;je[re+We]=dt}return We}function ge(je,de,re,le){return On(on(de,je.length-re),je,re,le)}function ye(je,de,re,le){return On(Jn(de),je,re,le)}function we(je,de,re,le){return On($n(de),je,re,le)}function Ie(je,de,re,le){return On(Wt(de,je.length-re),je,re,le)}o.prototype.write=function(de,re,le,pe){if(re===void 0)pe="utf8",le=this.length,re=0;else if(le===void 0&&typeof re=="string")pe=re,le=this.length,re=0;else if(isFinite(re))re=re>>>0,isFinite(le)?(le=le>>>0,pe===void 0&&(pe="utf8")):(pe=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Te=this.length-re;if((le===void 0||le>Te)&&(le=Te),de.length>0&&(le<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let We=!1;for(;;)switch(pe){case"hex":return ce(this,de,re,le);case"utf8":case"utf-8":return ge(this,de,re,le);case"ascii":case"latin1":case"binary":return ye(this,de,re,le);case"base64":return we(this,de,re,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,de,re,le);default:if(We)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),We=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Se(je,de,re){return de===0&&re===je.length?e.fromByteArray(je):e.fromByteArray(je.slice(de,re))}function Ve(je,de,re){re=Math.min(je.length,re);const le=[];let pe=de;for(;pe<re;){const Te=je[pe];let We=null,dt=Te>239?4:Te>223?3:Te>191?2:1;if(pe+dt<=re){let Ye,De,Ze,g;switch(dt){case 1:Te<128&&(We=Te);break;case 2:Ye=je[pe+1],(Ye&192)===128&&(g=(Te&31)<<6|Ye&63,g>127&&(We=g));break;case 3:Ye=je[pe+1],De=je[pe+2],(Ye&192)===128&&(De&192)===128&&(g=(Te&15)<<12|(Ye&63)<<6|De&63,g>2047&&(g<55296||g>57343)&&(We=g));break;case 4:Ye=je[pe+1],De=je[pe+2],Ze=je[pe+3],(Ye&192)===128&&(De&192)===128&&(Ze&192)===128&&(g=(Te&15)<<18|(Ye&63)<<12|(De&63)<<6|Ze&63,g>65535&&g<1114112&&(We=g))}}We===null?(We=65533,dt=1):We>65535&&(We-=65536,le.push(We>>>10&1023|55296),We=56320|We&1023),le.push(We),pe+=dt}return ze(le)}const xe=4096;function ze(je){const de=je.length;if(de<=xe)return String.fromCharCode.apply(String,je);let re="",le=0;for(;le<de;)re+=String.fromCharCode.apply(String,je.slice(le,le+=xe));return re}function st(je,de,re){let le="";re=Math.min(je.length,re);for(let pe=de;pe<re;++pe)le+=String.fromCharCode(je[pe]&127);return le}function Ct(je,de,re){let le="";re=Math.min(je.length,re);for(let pe=de;pe<re;++pe)le+=String.fromCharCode(je[pe]);return le}function nt(je,de,re){const le=je.length;(!de||de<0)&&(de=0),(!re||re<0||re>le)&&(re=le);let pe="";for(let Te=de;Te<re;++Te)pe+=Oi[je[Te]];return pe}function be(je,de,re){const le=je.slice(de,re);let pe="";for(let Te=0;Te<le.length-1;Te+=2)pe+=String.fromCharCode(le[Te]+le[Te+1]*256);return pe}o.prototype.slice=function(de,re){const le=this.length;de=~~de,re=re===void 0?le:~~re,de<0?(de+=le,de<0&&(de=0)):de>le&&(de=le),re<0?(re+=le,re<0&&(re=0)):re>le&&(re=le),re<de&&(re=de);const pe=this.subarray(de,re);return Object.setPrototypeOf(pe,o.prototype),pe};function Ne(je,de,re){if(je%1!==0||je<0)throw new RangeError("offset is not uint");if(je+de>re)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(de,re,le){de=de>>>0,re=re>>>0,le||Ne(de,re,this.length);let pe=this[de],Te=1,We=0;for(;++We<re&&(Te*=256);)pe+=this[de+We]*Te;return pe},o.prototype.readUintBE=o.prototype.readUIntBE=function(de,re,le){de=de>>>0,re=re>>>0,le||Ne(de,re,this.length);let pe=this[de+--re],Te=1;for(;re>0&&(Te*=256);)pe+=this[de+--re]*Te;return pe},o.prototype.readUint8=o.prototype.readUInt8=function(de,re){return de=de>>>0,re||Ne(de,1,this.length),this[de]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(de,re){return de=de>>>0,re||Ne(de,2,this.length),this[de]|this[de+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(de,re){return de=de>>>0,re||Ne(de,2,this.length),this[de]<<8|this[de+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(de,re){return de=de>>>0,re||Ne(de,4,this.length),(this[de]|this[de+1]<<8|this[de+2]<<16)+this[de+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(de,re){return de=de>>>0,re||Ne(de,4,this.length),this[de]*16777216+(this[de+1]<<16|this[de+2]<<8|this[de+3])},o.prototype.readBigUInt64LE=ei(function(de){de=de>>>0,_t(de,"offset");const re=this[de],le=this[de+7];(re===void 0||le===void 0)&&Ot(de,this.length-8);const pe=re+this[++de]*2**8+this[++de]*2**16+this[++de]*2**24,Te=this[++de]+this[++de]*2**8+this[++de]*2**16+le*2**24;return BigInt(pe)+(BigInt(Te)<<BigInt(32))}),o.prototype.readBigUInt64BE=ei(function(de){de=de>>>0,_t(de,"offset");const re=this[de],le=this[de+7];(re===void 0||le===void 0)&&Ot(de,this.length-8);const pe=re*2**24+this[++de]*2**16+this[++de]*2**8+this[++de],Te=this[++de]*2**24+this[++de]*2**16+this[++de]*2**8+le;return(BigInt(pe)<<BigInt(32))+BigInt(Te)}),o.prototype.readIntLE=function(de,re,le){de=de>>>0,re=re>>>0,le||Ne(de,re,this.length);let pe=this[de],Te=1,We=0;for(;++We<re&&(Te*=256);)pe+=this[de+We]*Te;return Te*=128,pe>=Te&&(pe-=Math.pow(2,8*re)),pe},o.prototype.readIntBE=function(de,re,le){de=de>>>0,re=re>>>0,le||Ne(de,re,this.length);let pe=re,Te=1,We=this[de+--pe];for(;pe>0&&(Te*=256);)We+=this[de+--pe]*Te;return Te*=128,We>=Te&&(We-=Math.pow(2,8*re)),We},o.prototype.readInt8=function(de,re){return de=de>>>0,re||Ne(de,1,this.length),this[de]&128?(255-this[de]+1)*-1:this[de]},o.prototype.readInt16LE=function(de,re){de=de>>>0,re||Ne(de,2,this.length);const le=this[de]|this[de+1]<<8;return le&32768?le|4294901760:le},o.prototype.readInt16BE=function(de,re){de=de>>>0,re||Ne(de,2,this.length);const le=this[de+1]|this[de]<<8;return le&32768?le|4294901760:le},o.prototype.readInt32LE=function(de,re){return de=de>>>0,re||Ne(de,4,this.length),this[de]|this[de+1]<<8|this[de+2]<<16|this[de+3]<<24},o.prototype.readInt32BE=function(de,re){return de=de>>>0,re||Ne(de,4,this.length),this[de]<<24|this[de+1]<<16|this[de+2]<<8|this[de+3]},o.prototype.readBigInt64LE=ei(function(de){de=de>>>0,_t(de,"offset");const re=this[de],le=this[de+7];(re===void 0||le===void 0)&&Ot(de,this.length-8);const pe=this[de+4]+this[de+5]*2**8+this[de+6]*2**16+(le<<24);return(BigInt(pe)<<BigInt(32))+BigInt(re+this[++de]*2**8+this[++de]*2**16+this[++de]*2**24)}),o.prototype.readBigInt64BE=ei(function(de){de=de>>>0,_t(de,"offset");const re=this[de],le=this[de+7];(re===void 0||le===void 0)&&Ot(de,this.length-8);const pe=(re<<24)+this[++de]*2**16+this[++de]*2**8+this[++de];return(BigInt(pe)<<BigInt(32))+BigInt(this[++de]*2**24+this[++de]*2**16+this[++de]*2**8+le)}),o.prototype.readFloatLE=function(de,re){return de=de>>>0,re||Ne(de,4,this.length),t.read(this,de,!0,23,4)},o.prototype.readFloatBE=function(de,re){return de=de>>>0,re||Ne(de,4,this.length),t.read(this,de,!1,23,4)},o.prototype.readDoubleLE=function(de,re){return de=de>>>0,re||Ne(de,8,this.length),t.read(this,de,!0,52,8)},o.prototype.readDoubleBE=function(de,re){return de=de>>>0,re||Ne(de,8,this.length),t.read(this,de,!1,52,8)};function tt(je,de,re,le,pe,Te){if(!o.isBuffer(je))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>pe||de<Te)throw new RangeError('"value" argument is out of bounds');if(re+le>je.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(de,re,le,pe){if(de=+de,re=re>>>0,le=le>>>0,!pe){const dt=Math.pow(2,8*le)-1;tt(this,de,re,le,dt,0)}let Te=1,We=0;for(this[re]=de&255;++We<le&&(Te*=256);)this[re+We]=de/Te&255;return re+le},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(de,re,le,pe){if(de=+de,re=re>>>0,le=le>>>0,!pe){const dt=Math.pow(2,8*le)-1;tt(this,de,re,le,dt,0)}let Te=le-1,We=1;for(this[re+Te]=de&255;--Te>=0&&(We*=256);)this[re+Te]=de/We&255;return re+le},o.prototype.writeUint8=o.prototype.writeUInt8=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,1,255,0),this[re]=de&255,re+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,2,65535,0),this[re]=de&255,this[re+1]=de>>>8,re+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,2,65535,0),this[re]=de>>>8,this[re+1]=de&255,re+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,4,4294967295,0),this[re+3]=de>>>24,this[re+2]=de>>>16,this[re+1]=de>>>8,this[re]=de&255,re+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,4,4294967295,0),this[re]=de>>>24,this[re+1]=de>>>16,this[re+2]=de>>>8,this[re+3]=de&255,re+4};function lt(je,de,re,le,pe){bt(de,le,pe,je,re,7);let Te=Number(de&BigInt(4294967295));je[re++]=Te,Te=Te>>8,je[re++]=Te,Te=Te>>8,je[re++]=Te,Te=Te>>8,je[re++]=Te;let We=Number(de>>BigInt(32)&BigInt(4294967295));return je[re++]=We,We=We>>8,je[re++]=We,We=We>>8,je[re++]=We,We=We>>8,je[re++]=We,re}function kt(je,de,re,le,pe){bt(de,le,pe,je,re,7);let Te=Number(de&BigInt(4294967295));je[re+7]=Te,Te=Te>>8,je[re+6]=Te,Te=Te>>8,je[re+5]=Te,Te=Te>>8,je[re+4]=Te;let We=Number(de>>BigInt(32)&BigInt(4294967295));return je[re+3]=We,We=We>>8,je[re+2]=We,We=We>>8,je[re+1]=We,We=We>>8,je[re]=We,re+8}o.prototype.writeBigUInt64LE=ei(function(de,re=0){return lt(this,de,re,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ei(function(de,re=0){return kt(this,de,re,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(de,re,le,pe){if(de=+de,re=re>>>0,!pe){const Ye=Math.pow(2,8*le-1);tt(this,de,re,le,Ye-1,-Ye)}let Te=0,We=1,dt=0;for(this[re]=de&255;++Te<le&&(We*=256);)de<0&&dt===0&&this[re+Te-1]!==0&&(dt=1),this[re+Te]=(de/We>>0)-dt&255;return re+le},o.prototype.writeIntBE=function(de,re,le,pe){if(de=+de,re=re>>>0,!pe){const Ye=Math.pow(2,8*le-1);tt(this,de,re,le,Ye-1,-Ye)}let Te=le-1,We=1,dt=0;for(this[re+Te]=de&255;--Te>=0&&(We*=256);)de<0&&dt===0&&this[re+Te+1]!==0&&(dt=1),this[re+Te]=(de/We>>0)-dt&255;return re+le},o.prototype.writeInt8=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,1,127,-128),de<0&&(de=255+de+1),this[re]=de&255,re+1},o.prototype.writeInt16LE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,2,32767,-32768),this[re]=de&255,this[re+1]=de>>>8,re+2},o.prototype.writeInt16BE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,2,32767,-32768),this[re]=de>>>8,this[re+1]=de&255,re+2},o.prototype.writeInt32LE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,4,2147483647,-2147483648),this[re]=de&255,this[re+1]=de>>>8,this[re+2]=de>>>16,this[re+3]=de>>>24,re+4},o.prototype.writeInt32BE=function(de,re,le){return de=+de,re=re>>>0,le||tt(this,de,re,4,2147483647,-2147483648),de<0&&(de=4294967295+de+1),this[re]=de>>>24,this[re+1]=de>>>16,this[re+2]=de>>>8,this[re+3]=de&255,re+4},o.prototype.writeBigInt64LE=ei(function(de,re=0){return lt(this,de,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ei(function(de,re=0){return kt(this,de,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function gt(je,de,re,le,pe,Te){if(re+le>je.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function St(je,de,re,le,pe){return de=+de,re=re>>>0,pe||gt(je,de,re,4),t.write(je,de,re,le,23,4),re+4}o.prototype.writeFloatLE=function(de,re,le){return St(this,de,re,!0,le)},o.prototype.writeFloatBE=function(de,re,le){return St(this,de,re,!1,le)};function Ut(je,de,re,le,pe){return de=+de,re=re>>>0,pe||gt(je,de,re,8),t.write(je,de,re,le,52,8),re+8}o.prototype.writeDoubleLE=function(de,re,le){return Ut(this,de,re,!0,le)},o.prototype.writeDoubleBE=function(de,re,le){return Ut(this,de,re,!1,le)},o.prototype.copy=function(de,re,le,pe){if(!o.isBuffer(de))throw new TypeError("argument should be a Buffer");if(le||(le=0),!pe&&pe!==0&&(pe=this.length),re>=de.length&&(re=de.length),re||(re=0),pe>0&&pe<le&&(pe=le),pe===le||de.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),de.length-re<pe-le&&(pe=de.length-re+le);const Te=pe-le;return this===de&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(re,le,pe):Uint8Array.prototype.set.call(de,this.subarray(le,pe),re),Te},o.prototype.fill=function(de,re,le,pe){if(typeof de=="string"){if(typeof re=="string"?(pe=re,re=0,le=this.length):typeof le=="string"&&(pe=le,le=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!o.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(de.length===1){const We=de.charCodeAt(0);(pe==="utf8"&&We<128||pe==="latin1")&&(de=We)}}else typeof de=="number"?de=de&255:typeof de=="boolean"&&(de=Number(de));if(re<0||this.length<re||this.length<le)throw new RangeError("Out of range index");if(le<=re)return this;re=re>>>0,le=le===void 0?this.length:le>>>0,de||(de=0);let Te;if(typeof de=="number")for(Te=re;Te<le;++Te)this[Te]=de;else{const We=o.isBuffer(de)?de:o.from(de,pe),dt=We.length;if(dt===0)throw new TypeError('The value "'+de+'" is invalid for argument "value"');for(Te=0;Te<le-re;++Te)this[Te+re]=We[Te%dt]}return this};const Fe={};function Ke(je,de,re){Fe[je]=class extends re{constructor(){super(),Object.defineProperty(this,"message",{value:de.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${je}]`,this.stack,delete this.name}get code(){return je}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${je}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(je){return je?`${je} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(je,de){return`The "${je}" argument must be of type number. Received type ${typeof de}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(je,de,re){let le=`The value of "${je}" is out of range.`,pe=re;return Number.isInteger(re)&&Math.abs(re)>2**32?pe=Re(String(re)):typeof re=="bigint"&&(pe=String(re),(re>BigInt(2)**BigInt(32)||re<-(BigInt(2)**BigInt(32)))&&(pe=Re(pe)),pe+="n"),le+=` It must be ${de}. Received ${pe}`,le},RangeError);function Re(je){let de="",re=je.length;const le=je[0]==="-"?1:0;for(;re>=le+4;re-=3)de=`_${je.slice(re-3,re)}${de}`;return`${je.slice(0,re)}${de}`}function He(je,de,re){_t(de,"offset"),(je[de]===void 0||je[de+re]===void 0)&&Ot(de,je.length-(re+1))}function bt(je,de,re,le,pe,Te){if(je>re||je<de){const We=typeof de=="bigint"?"n":"";let dt;throw de===0||de===BigInt(0)?dt=`>= 0${We} and < 2${We} ** ${(Te+1)*8}${We}`:dt=`>= -(2${We} ** ${(Te+1)*8-1}${We}) and < 2 ** ${(Te+1)*8-1}${We}`,new Fe.ERR_OUT_OF_RANGE("value",dt,je)}He(le,pe,Te)}function _t(je,de){if(typeof je!="number")throw new Fe.ERR_INVALID_ARG_TYPE(de,"number",je)}function Ot(je,de,re){throw Math.floor(je)!==je?(_t(je,re),new Fe.ERR_OUT_OF_RANGE("offset","an integer",je)):de<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${de}`,je)}const qt=/[^+/0-9A-Za-z-_]/g;function Kt(je){if(je=je.split("=")[0],je=je.trim().replace(qt,""),je.length<2)return"";for(;je.length%4!==0;)je=je+"=";return je}function on(je,de){de=de||1/0;let re;const le=je.length;let pe=null;const Te=[];for(let We=0;We<le;++We){if(re=je.charCodeAt(We),re>55295&&re<57344){if(!pe){if(re>56319){(de-=3)>-1&&Te.push(239,191,189);continue}else if(We+1===le){(de-=3)>-1&&Te.push(239,191,189);continue}pe=re;continue}if(re<56320){(de-=3)>-1&&Te.push(239,191,189),pe=re;continue}re=(pe-55296<<10|re-56320)+65536}else pe&&(de-=3)>-1&&Te.push(239,191,189);if(pe=null,re<128){if((de-=1)<0)break;Te.push(re)}else if(re<2048){if((de-=2)<0)break;Te.push(re>>6|192,re&63|128)}else if(re<65536){if((de-=3)<0)break;Te.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((de-=4)<0)break;Te.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return Te}function Jn(je){const de=[];for(let re=0;re<je.length;++re)de.push(je.charCodeAt(re)&255);return de}function Wt(je,de){let re,le,pe;const Te=[];for(let We=0;We<je.length&&!((de-=2)<0);++We)re=je.charCodeAt(We),le=re>>8,pe=re%256,Te.push(pe),Te.push(le);return Te}function $n(je){return e.toByteArray(Kt(je))}function On(je,de,re,le){let pe;for(pe=0;pe<le&&!(pe+re>=de.length||pe>=je.length);++pe)de[pe+re]=je[pe];return pe}function Bn(je,de){return je instanceof de||je!=null&&je.constructor!=null&&je.constructor.name!=null&&je.constructor.name===de.name}function In(je){return je!==je}const Oi=function(){const je="0123456789abcdef",de=new Array(256);for(let re=0;re<16;++re){const le=re*16;for(let pe=0;pe<16;++pe)de[le+pe]=je[re]+je[pe]}return de}();function ei(je){return typeof BigInt>"u"?Kn:je}function Kn(){throw new Error("BigInt not supported")}}(f4)),f4}var TQ=IQ();const kQ=cu(TQ);var p4,V7;function DQ(){if(V7)return p4;V7=1;var n="Expected a function",e="__lodash_hash_undefined__",t="[object Function]",i="[object GeneratorFunction]",r="[object Symbol]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,o=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/[\\^$.*+?()[\]{}|]/g,M=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,U=typeof window=="object"&&window&&window.Object===Object&&window,K=typeof self=="object"&&self&&self.Object===Object&&self,j=U||K||Function("return this")();function W(De,Ze){return De?.[Ze]}function Y(De){var Ze=!1;if(De!=null&&typeof De.toString!="function")try{Ze=!!(De+"")}catch{}return Ze}var te=Array.prototype,J=Function.prototype,oe=Object.prototype,ne=j["__core-js_shared__"],$=function(){var De=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return De?"Symbol(src)_1."+De:""}(),ae=J.toString,G=oe.hasOwnProperty,ce=oe.toString,ge=RegExp("^"+ae.call(G).replace(C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=j.Symbol,we=te.splice,Ie=$n(j,"Map"),Se=$n(Object,"create"),Ve=ye?ye.prototype:void 0,xe=Ve?Ve.toString:void 0;function ze(De){var Ze=-1,g=De?De.length:0;for(this.clear();++Ze<g;){var mt=De[Ze];this.set(mt[0],mt[1])}}function st(){this.__data__=Se?Se(null):{}}function Ct(De){return this.has(De)&&delete this.__data__[De]}function nt(De){var Ze=this.__data__;if(Se){var g=Ze[De];return g===e?void 0:g}return G.call(Ze,De)?Ze[De]:void 0}function be(De){var Ze=this.__data__;return Se?Ze[De]!==void 0:G.call(Ze,De)}function Ne(De,Ze){var g=this.__data__;return g[De]=Se&&Ze===void 0?e:Ze,this}ze.prototype.clear=st,ze.prototype.delete=Ct,ze.prototype.get=nt,ze.prototype.has=be,ze.prototype.set=Ne;function tt(De){var Ze=-1,g=De?De.length:0;for(this.clear();++Ze<g;){var mt=De[Ze];this.set(mt[0],mt[1])}}function lt(){this.__data__=[]}function kt(De){var Ze=this.__data__,g=Ot(Ze,De);if(g<0)return!1;var mt=Ze.length-1;return g==mt?Ze.pop():we.call(Ze,g,1),!0}function gt(De){var Ze=this.__data__,g=Ot(Ze,De);return g<0?void 0:Ze[g][1]}function St(De){return Ot(this.__data__,De)>-1}function Ut(De,Ze){var g=this.__data__,mt=Ot(g,De);return mt<0?g.push([De,Ze]):g[mt][1]=Ze,this}tt.prototype.clear=lt,tt.prototype.delete=kt,tt.prototype.get=gt,tt.prototype.has=St,tt.prototype.set=Ut;function Fe(De){var Ze=-1,g=De?De.length:0;for(this.clear();++Ze<g;){var mt=De[Ze];this.set(mt[0],mt[1])}}function Ke(){this.__data__={hash:new ze,map:new(Ie||tt),string:new ze}}function Re(De){return Wt(this,De).delete(De)}function He(De){return Wt(this,De).get(De)}function bt(De){return Wt(this,De).has(De)}function _t(De,Ze){return Wt(this,De).set(De,Ze),this}Fe.prototype.clear=Ke,Fe.prototype.delete=Re,Fe.prototype.get=He,Fe.prototype.has=bt,Fe.prototype.set=_t;function Ot(De,Ze){for(var g=De.length;g--;)if(de(De[g][0],Ze))return g;return-1}function qt(De,Ze){Ze=On(Ze,De)?[Ze]:Jn(Ze);for(var g=0,mt=Ze.length;De!=null&&g<mt;)De=De[ei(Ze[g++])];return g&&g==mt?De:void 0}function Kt(De){if(!pe(De)||In(De))return!1;var Ze=le(De)||Y(De)?ge:O;return Ze.test(Kn(De))}function on(De){if(typeof De=="string")return De;if(We(De))return xe?xe.call(De):"";var Ze=De+"";return Ze=="0"&&1/De==-1/0?"-0":Ze}function Jn(De){return re(De)?De:Oi(De)}function Wt(De,Ze){var g=De.__data__;return Bn(Ze)?g[typeof Ze=="string"?"string":"hash"]:g.map}function $n(De,Ze){var g=W(De,Ze);return Kt(g)?g:void 0}function On(De,Ze){if(re(De))return!1;var g=typeof De;return g=="number"||g=="symbol"||g=="boolean"||De==null||We(De)?!0:l.test(De)||!a.test(De)||Ze!=null&&De in Object(Ze)}function Bn(De){var Ze=typeof De;return Ze=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?De!=="__proto__":De===null}function In(De){return!!$&&$ in De}var Oi=je(function(De){De=dt(De);var Ze=[];return o.test(De)&&Ze.push(""),De.replace(p,function(g,mt,ht,Tt){Ze.push(ht?Tt.replace(M,"$1"):mt||g)}),Ze});function ei(De){if(typeof De=="string"||We(De))return De;var Ze=De+"";return Ze=="0"&&1/De==-1/0?"-0":Ze}function Kn(De){if(De!=null){try{return ae.call(De)}catch{}try{return De+""}catch{}}return""}function je(De,Ze){if(typeof De!="function"||Ze&&typeof Ze!="function")throw new TypeError(n);var g=function(){var mt=arguments,ht=Ze?Ze.apply(this,mt):mt[0],Tt=g.cache;if(Tt.has(ht))return Tt.get(ht);var it=De.apply(this,mt);return g.cache=Tt.set(ht,it),it};return g.cache=new(je.Cache||Fe),g}je.Cache=Fe;function de(De,Ze){return De===Ze||De!==De&&Ze!==Ze}var re=Array.isArray;function le(De){var Ze=pe(De)?ce.call(De):"";return Ze==t||Ze==i}function pe(De){var Ze=typeof De;return!!De&&(Ze=="object"||Ze=="function")}function Te(De){return!!De&&typeof De=="object"}function We(De){return typeof De=="symbol"||Te(De)&&ce.call(De)==r}function dt(De){return De==null?"":on(De)}function Ye(De,Ze,g){var mt=De==null?void 0:qt(De,Ze);return mt===void 0?g:mt}return p4=Ye,p4}var RQ=DQ();const PQ=cu(RQ);var TC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var KQ=TC.exports,$7;function UQ(){return $7||($7=1,function(n,e){(function(){var t,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",o="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",C=500,M="__lodash_placeholder__",O=1,U=2,K=4,j=1,W=2,Y=1,te=2,J=4,oe=8,ne=16,$=32,ae=64,G=128,ce=256,ge=512,ye=30,we="...",Ie=800,Se=16,Ve=1,xe=2,ze=3,st=1/0,Ct=9007199254740991,nt=17976931348623157e292,be=NaN,Ne=4294967295,tt=Ne-1,lt=Ne>>>1,kt=[["ary",G],["bind",Y],["bindKey",te],["curry",oe],["curryRight",ne],["flip",ge],["partial",$],["partialRight",ae],["rearg",ce]],gt="[object Arguments]",St="[object Array]",Ut="[object AsyncFunction]",Fe="[object Boolean]",Ke="[object Date]",Re="[object DOMException]",He="[object Error]",bt="[object Function]",_t="[object GeneratorFunction]",Ot="[object Map]",qt="[object Number]",Kt="[object Null]",on="[object Object]",Jn="[object Promise]",Wt="[object Proxy]",$n="[object RegExp]",On="[object Set]",Bn="[object String]",In="[object Symbol]",Oi="[object Undefined]",ei="[object WeakMap]",Kn="[object WeakSet]",je="[object ArrayBuffer]",de="[object DataView]",re="[object Float32Array]",le="[object Float64Array]",pe="[object Int8Array]",Te="[object Int16Array]",We="[object Int32Array]",dt="[object Uint8Array]",Ye="[object Uint8ClampedArray]",De="[object Uint16Array]",Ze="[object Uint32Array]",g=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,it=/[&<>"']/g,en=RegExp(Tt.source),Dn=RegExp(it.source),Mn=/<%-([\s\S]+?)%>/g,ii=/<%([\s\S]+?)%>/g,Wn=/<%=([\s\S]+?)%>/g,Hi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tr=/^\w*$/,Ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hi=/[\\^$.*+?()[\]{}|]/g,ti=RegExp(hi.source),Qi=/^\s+/,wn=/\s/,uo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vi=/\{\n\/\* \[wrapped with (.+)\] \*/,ya=/,? & /,ko=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zn=/[()=,{}\[\]\/\s]/,Ar=/\\(\\)?/g,zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cr=/\w*$/,ja=/^[-+]0x[0-9a-f]+$/i,kr=/^0b[01]+$/i,ji=/^\[object .+?Constructor\]$/,yl=/^0o[0-7]+$/i,Pa=/^(?:0|[1-9]\d*)$/,So=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ts=/($^)/,Tl=/['\n\r\u2028\u2029\\]/g,co="\\ud800-\\udfff",QA="\\u0300-\\u036f",Ka="\\ufe20-\\ufe2f",$i="\\u20d0-\\u20ff",Mi=QA+Ka+$i,cs="\\u2700-\\u27bf",Sa="a-z\\xdf-\\xf6\\xf8-\\xff",Zo="\\xac\\xb1\\xd7\\xf7",$e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Et="\\u2000-\\u206f",xn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gn="A-Z\\xc0-\\xd6\\xd8-\\xde",rn="\\ufe0e\\ufe0f",si=Zo+$e+Et+xn,to="[']",Eo="["+co+"]",hs="["+si+"]",zs="["+Mi+"]",YA="\\d+",Yi="["+cs+"]",Pu="["+Sa+"]",bA="[^"+co+si+YA+cs+Sa+Gn+"]",vl="\\ud83c[\\udffb-\\udfff]",Es="(?:"+zs+"|"+vl+")",Mc="[^"+co+"]",Hs="(?:\\ud83c[\\udde6-\\uddff]){2}",Xo="[\\ud800-\\udbff][\\udc00-\\udfff]",Do="["+Gn+"]",fr="\\u200d",Ul="(?:"+Pu+"|"+bA+")",va="(?:"+Do+"|"+bA+")",Ll="(?:"+to+"(?:d|ll|m|re|s|t|ve))?",xA="(?:"+to+"(?:D|LL|M|RE|S|T|VE))?",Mr=Es+"?",rA="["+rn+"]?",hu="(?:"+fr+"(?:"+[Mc,Hs,Xo].join("|")+")"+rA+Mr+")*",No="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Na=rA+Mr+hu,Ea="(?:"+[Yi,Hs,Xo].join("|")+")"+Na,sa="(?:"+[Mc+zs+"?",zs,Hs,Xo,Eo].join("|")+")",Rr=RegExp(to,"g"),oA=RegExp(zs,"g"),Ga=RegExp(vl+"(?="+vl+")|"+sa+Na,"g"),ns=RegExp([Do+"?"+Pu+"+"+Ll+"(?="+[hs,Do,"$"].join("|")+")",va+"+"+xA+"(?="+[hs,Do+Ul,"$"].join("|")+")",Do+"?"+Ul+"+"+Ll,Do+"+"+xA,Bo,No,YA,Ea].join("|"),"g"),Ca=RegExp("["+fr+co+Mi+rn+"]"),Pr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xi=-1,wi={};wi[re]=wi[le]=wi[pe]=wi[Te]=wi[We]=wi[dt]=wi[Ye]=wi[De]=wi[Ze]=!0,wi[gt]=wi[St]=wi[je]=wi[Fe]=wi[de]=wi[Ke]=wi[He]=wi[bt]=wi[Ot]=wi[qt]=wi[on]=wi[$n]=wi[On]=wi[Bn]=wi[ei]=!1;var qr={};qr[gt]=qr[St]=qr[je]=qr[de]=qr[Fe]=qr[Ke]=qr[re]=qr[le]=qr[pe]=qr[Te]=qr[We]=qr[Ot]=qr[qt]=qr[on]=qr[$n]=qr[On]=qr[Bn]=qr[In]=qr[dt]=qr[Ye]=qr[De]=qr[Ze]=!0,qr[He]=qr[bt]=qr[ei]=!1;var ee={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},at={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Si=parseFloat,Xn=parseInt,Zi=typeof window=="object"&&window&&window.Object===Object&&window,ar=typeof self=="object"&&self&&self.Object===Object&&self,Ri=Zi||ar||Function("return this")(),Ji=e&&!e.nodeType&&e,no=Ji&&!0&&n&&!n.nodeType&&n,ho=no&&no.exports===Ji,cr=ho&&Zi.process,gr=function(){try{var Zt=no&&no.require&&no.require("util").types;return Zt||cr&&cr.binding&&cr.binding("util")}catch{}}(),fo=gr&&gr.isArrayBuffer,Go=gr&&gr.isDate,Nr=gr&&gr.isMap,Vs=gr&&gr.isRegExp,Fl=gr&&gr.isSet,qA=gr&&gr.isTypedArray;function gs(Zt,Sn,vn){switch(vn.length){case 0:return Zt.call(Sn);case 1:return Zt.call(Sn,vn[0]);case 2:return Zt.call(Sn,vn[0],vn[1]);case 3:return Zt.call(Sn,vn[0],vn[1],vn[2])}return Zt.apply(Sn,vn)}function yd(Zt,Sn,vn,Ti){for(var Er=-1,Io=Zt==null?0:Zt.length;++Er<Io;){var $s=Zt[Er];Sn(Ti,$s,vn($s),Zt)}return Ti}function Ua(Zt,Sn){for(var vn=-1,Ti=Zt==null?0:Zt.length;++vn<Ti&&Sn(Zt[vn],vn,Zt)!==!1;);return Zt}function vd(Zt,Sn){for(var vn=Zt==null?0:Zt.length;vn--&&Sn(Zt[vn],vn,Zt)!==!1;);return Zt}function Ku(Zt,Sn){for(var vn=-1,Ti=Zt==null?0:Zt.length;++vn<Ti;)if(!Sn(Zt[vn],vn,Zt))return!1;return!0}function HA(Zt,Sn){for(var vn=-1,Ti=Zt==null?0:Zt.length,Er=0,Io=[];++vn<Ti;){var $s=Zt[vn];Sn($s,vn,Zt)&&(Io[Er++]=$s)}return Io}function yh(Zt,Sn){var vn=Zt==null?0:Zt.length;return!!vn&&is(Zt,Sn,0)>-1}function Nh(Zt,Sn,vn){for(var Ti=-1,Er=Zt==null?0:Zt.length;++Ti<Er;)if(vn(Sn,Zt[Ti]))return!0;return!1}function mo(Zt,Sn){for(var vn=-1,Ti=Zt==null?0:Zt.length,Er=Array(Ti);++vn<Ti;)Er[vn]=Sn(Zt[vn],vn,Zt);return Er}function oc(Zt,Sn){for(var vn=-1,Ti=Sn.length,Er=Zt.length;++vn<Ti;)Zt[Er+vn]=Sn[vn];return Zt}function Cd(Zt,Sn,vn,Ti){var Er=-1,Io=Zt==null?0:Zt.length;for(Ti&&Io&&(vn=Zt[++Er]);++Er<Io;)vn=Sn(vn,Zt[Er],Er,Zt);return vn}function fm(Zt,Sn,vn,Ti){var Er=Zt==null?0:Zt.length;for(Ti&&Er&&(vn=Zt[--Er]);Er--;)vn=Sn(vn,Zt[Er],Er,Zt);return vn}function vh(Zt,Sn){for(var vn=-1,Ti=Zt==null?0:Zt.length;++vn<Ti;)if(Sn(Zt[vn],vn,Zt))return!0;return!1}var _d=Gh("length");function o0(Zt){return Zt.split("")}function Df(Zt){return Zt.match(ko)||[]}function Rf(Zt,Sn,vn){var Ti;return vn(Zt,function(Er,Io,$s){if(Sn(Er,Io,$s))return Ti=Io,!1}),Ti}function VA(Zt,Sn,vn,Ti){for(var Er=Zt.length,Io=vn+(Ti?1:-1);Ti?Io--:++Io<Er;)if(Sn(Zt[Io],Io,Zt))return Io;return-1}function is(Zt,Sn,vn){return Sn===Sn?Lf(Zt,Sn,vn):VA(Zt,zl,vn)}function bd(Zt,Sn,vn,Ti){for(var Er=vn-1,Io=Zt.length;++Er<Io;)if(Ti(Zt[Er],Sn))return Er;return-1}function zl(Zt){return Zt!==Zt}function xd(Zt,Sn){var vn=Zt==null?0:Zt.length;return vn?Ch(Zt,Sn)/vn:be}function Gh(Zt){return function(Sn){return Sn==null?t:Sn[Zt]}}function Hc(Zt){return function(Sn){return Zt==null?t:Zt[Sn]}}function Wh(Zt,Sn,vn,Ti,Er){return Er(Zt,function(Io,$s,Ro){vn=Ti?(Ti=!1,Io):Sn(vn,Io,$s,Ro)}),vn}function Pf(Zt,Sn){var vn=Zt.length;for(Zt.sort(Sn);vn--;)Zt[vn]=Zt[vn].value;return Zt}function Ch(Zt,Sn){for(var vn,Ti=-1,Er=Zt.length;++Ti<Er;){var Io=Sn(Zt[Ti]);Io!==t&&(vn=vn===t?Io:vn+Io)}return vn}function _h(Zt,Sn){for(var vn=-1,Ti=Array(Zt);++vn<Zt;)Ti[vn]=Sn(vn);return Ti}function Qh(Zt,Sn){return mo(Sn,function(vn){return[vn,Zt[vn]]})}function Kf(Zt){return Zt&&Zt.slice(0,Lu(Zt)+1).replace(Qi,"")}function aA(Zt){return function(Sn){return Zt(Sn)}}function Uf(Zt,Sn){return mo(Sn,function(vn){return Zt[vn]})}function ac(Zt,Sn){return Zt.has(Sn)}function sA(Zt,Sn){for(var vn=-1,Ti=Zt.length;++vn<Ti&&is(Sn,Zt[vn],0)>-1;);return vn}function wc(Zt,Sn){for(var vn=Zt.length;vn--&&is(Sn,Zt[vn],0)>-1;);return vn}function Md(Zt,Sn){for(var vn=Zt.length,Ti=0;vn--;)Zt[vn]===Sn&&++Ti;return Ti}var wd=Hc(ee),Uu=Hc(Oe);function $A(Zt){return"\\"+Gt[Zt]}function Yh(Zt,Sn){return Zt==null?t:Zt[Sn]}function Sc(Zt){return Ca.test(Zt)}function qh(Zt){return Pr.test(Zt)}function pm(Zt){for(var Sn,vn=[];!(Sn=Zt.next()).done;)vn.push(Sn.value);return vn}function Vc(Zt){var Sn=-1,vn=Array(Zt.size);return Zt.forEach(function(Ti,Er){vn[++Sn]=[Er,Ti]}),vn}function Zd(Zt,Sn){return function(vn){return Zt(Sn(vn))}}function du(Zt,Sn){for(var vn=-1,Ti=Zt.length,Er=0,Io=[];++vn<Ti;){var $s=Zt[vn];($s===Sn||$s===M)&&(Zt[vn]=M,Io[Er++]=vn)}return Io}function ZA(Zt){var Sn=-1,vn=Array(Zt.size);return Zt.forEach(function(Ti){vn[++Sn]=Ti}),vn}function wp(Zt){var Sn=-1,vn=Array(Zt.size);return Zt.forEach(function(Ti){vn[++Sn]=[Ti,Ti]}),vn}function Lf(Zt,Sn,vn){for(var Ti=vn-1,Er=Zt.length;++Ti<Er;)if(Zt[Ti]===Sn)return Ti;return-1}function MA(Zt,Sn,vn){for(var Ti=vn+1;Ti--;)if(Zt[Ti]===Sn)return Ti;return Ti}function sc(Zt){return Sc(Zt)?bh(Zt):_d(Zt)}function wA(Zt){return Sc(Zt)?Sd(Zt):o0(Zt)}function Lu(Zt){for(var Sn=Zt.length;Sn--&&wn.test(Zt.charAt(Sn)););return Sn}var Oo=Hc(at);function bh(Zt){for(var Sn=Ga.lastIndex=0;Ga.test(Zt);)++Sn;return Sn}function Sd(Zt){return Zt.match(Ga)||[]}function Sp(Zt){return Zt.match(ns)||[]}var Ec=function Zt(Sn){Sn=Sn==null?Ri:jl.defaults(Ri.Object(),Sn,jl.pick(Ri,Cl));var vn=Sn.Array,Ti=Sn.Date,Er=Sn.Error,Io=Sn.Function,$s=Sn.Math,Ro=Sn.Object,$c=Sn.RegExp,Xd=Sn.String,lA=Sn.TypeError,Ed=vn.prototype,fu=Io.prototype,SA=Ro.prototype,EA=Sn["__core-js_shared__"],kl=fu.toString,Wo=SA.hasOwnProperty,pu=0,Hh=function(){var x=/[^.]+$/.exec(EA&&EA.keys&&EA.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Wa=SA.toString,Zs=kl.call(Ro),Bs=Ri._,XA=$c("^"+kl.call(Wo).replace(hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nl=ho?Sn.Buffer:t,BA=Sn.Symbol,lc=Sn.Uint8Array,OA=Nl?Nl.allocUnsafe:t,Bc=Zd(Ro.getPrototypeOf,Ro),xh=Ro.create,Dr=SA.propertyIsEnumerable,Ac=Ed.splice,JA=BA?BA.isConcatSpreadable:t,Oc=BA?BA.iterator:t,Os=BA?BA.toStringTag:t,Mh=function(){try{var x=Dh(Ro,"defineProperty");return x({},"",{}),x}catch{}}(),Bd=Sn.clearTimeout!==Ri.clearTimeout&&Sn.clearTimeout,mu=Ti&&Ti.now!==Ri.Date.now&&Ti.now,Od=Sn.setTimeout!==Ri.setTimeout&&Sn.setTimeout,Zc=$s.ceil,IA=$s.floor,Fu=Ro.getOwnPropertySymbols,wh=Nl?Nl.isBuffer:t,Vh=Sn.isFinite,TA=Ed.join,Dl=Zd(Ro.keys,Ro),Qo=$s.max,la=$s.min,zu=Ti.now,ju=Sn.parseInt,Ic=$s.random,Xc=Ed.reverse,Jc=Dh(Sn,"DataView"),_a=Dh(Sn,"Map"),xa=Dh(Sn,"Promise"),Xr=Dh(Sn,"Set"),AA=Dh(Sn,"WeakMap"),js=Dh(Ro,"create"),eh=AA&&new AA,gu={},Jd=_s(Jc),ys=_s(_a),ol=_s(xa),Ns=_s(Xr),ef=_s(AA),Nu=BA?BA.prototype:t,Sh=Nu?Nu.valueOf:t,eu=Nu?Nu.toString:t;function rt(x){if(ul(x)&&!Vr(x)&&!(x instanceof yr)){if(x instanceof Jo)return x;if(Wo.call(x,"__wrapped__"))return da(x)}return new Jo(x)}var Xs=function(){function x(){}return function(D){if(!Al(D))return{};if(xh)return xh(D);x.prototype=D;var V=new x;return x.prototype=t,V}}();function Qa(){}function Jo(x,D){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!D,this.__index__=0,this.__values__=t}rt.templateSettings={escape:Mn,evaluate:ii,interpolate:Wn,variable:"",imports:{_:rt}},rt.prototype=Qa.prototype,rt.prototype.constructor=rt,Jo.prototype=Xs(Qa.prototype),Jo.prototype.constructor=Jo;function yr(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function vs(){var x=new yr(this.__wrapped__);return x.__actions__=bo(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=bo(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=bo(this.__views__),x}function th(){if(this.__filtered__){var x=new yr(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function Eh(){var x=this.__wrapped__.value(),D=this.__dir__,V=Vr(x),Ce=D<0,Je=V?x.length:0,pt=ym(0,Je,this.__views__),Lt=pt.start,Vt=pt.end,sn=Vt-Lt,Yn=Ce?Vt:Lt-1,Hn=this.__iteratees__,ui=Hn.length,Ni=0,Sr=la(sn,this.__takeCount__);if(!V||!Ce&&Je==sn&&Sr==sn)return La(x,this.__actions__);var ao=[];e:for(;sn--&&Ni<Sr;){Yn+=D;for(var fa=-1,so=x[Yn];++fa<ui;){var ka=Hn[fa],$a=ka.iteratee,yf=ka.type,cd=$a(so);if(yf==xe)so=cd;else if(!cd){if(yf==Ve)continue e;break e}}ao[Ni++]=so}return ao}yr.prototype=Xs(Qa.prototype),yr.prototype.constructor=yr;function Po(x){var D=-1,V=x==null?0:x.length;for(this.clear();++D<V;){var Ce=x[D];this.set(Ce[0],Ce[1])}}function nh(){this.__data__=js?js(null):{},this.size=0}function kA(x){var D=this.has(x)&&delete this.__data__[x];return this.size-=D?1:0,D}function Id(x){var D=this.__data__;if(js){var V=D[x];return V===p?t:V}return Wo.call(D,x)?D[x]:t}function tf(x){var D=this.__data__;return js?D[x]!==t:Wo.call(D,x)}function Ep(x,D){var V=this.__data__;return this.size+=this.has(x)?0:1,V[x]=js&&D===t?p:D,this}Po.prototype.clear=nh,Po.prototype.delete=kA,Po.prototype.get=Id,Po.prototype.has=tf,Po.prototype.set=Ep;function Ma(x){var D=-1,V=x==null?0:x.length;for(this.clear();++D<V;){var Ce=x[D];this.set(Ce[0],Ce[1])}}function Bh(){this.__data__=[],this.size=0}function ih(x){var D=this.__data__,V=uc(D,x);if(V<0)return!1;var Ce=D.length-1;return V==Ce?D.pop():Ac.call(D,V,1),--this.size,!0}function Gu(x){var D=this.__data__,V=uc(D,x);return V<0?t:D[V][1]}function nf(x){return uc(this.__data__,x)>-1}function al(x,D){var V=this.__data__,Ce=uc(V,x);return Ce<0?(++this.size,V.push([x,D])):V[Ce][1]=D,this}Ma.prototype.clear=Bh,Ma.prototype.delete=ih,Ma.prototype.get=Gu,Ma.prototype.has=nf,Ma.prototype.set=al;function rs(x){var D=-1,V=x==null?0:x.length;for(this.clear();++D<V;){var Ce=x[D];this.set(Ce[0],Ce[1])}}function $h(){this.size=0,this.__data__={hash:new Po,map:new(_a||Ma),string:new Po}}function uA(x){var D=uf(this,x).delete(x);return this.size-=D?1:0,D}function Td(x){return uf(this,x).get(x)}function rf(x){return uf(this,x).has(x)}function _l(x,D){var V=uf(this,x),Ce=V.size;return V.set(x,D),this.size+=V.size==Ce?0:1,this}rs.prototype.clear=$h,rs.prototype.delete=uA,rs.prototype.get=Td,rs.prototype.has=rf,rs.prototype.set=_l;function Tc(x){var D=-1,V=x==null?0:x.length;for(this.__data__=new rs;++D<V;)this.add(x[D])}function Ff(x){return this.__data__.set(x,p),this}function Zh(x){return this.__data__.has(x)}Tc.prototype.add=Tc.prototype.push=Ff,Tc.prototype.has=Zh;function ba(x){var D=this.__data__=new Ma(x);this.size=D.size}function Jr(){this.__data__=new Ma,this.size=0}function ci(x){var D=this.__data__,V=D.delete(x);return this.size=D.size,V}function Wu(x){return this.__data__.get(x)}function Qu(x){return this.__data__.has(x)}function Xh(x,D){var V=this.__data__;if(V instanceof Ma){var Ce=V.__data__;if(!_a||Ce.length<r-1)return Ce.push([x,D]),this.size=++V.size,this;V=this.__data__=new rs(Ce)}return V.set(x,D),this.size=V.size,this}ba.prototype.clear=Jr,ba.prototype.delete=ci,ba.prototype.get=Wu,ba.prototype.has=Qu,ba.prototype.set=Xh;function kc(x,D){var V=Vr(x),Ce=!V&&Ld(x),Je=!V&&!Ce&&mf(x),pt=!V&&!Ce&&!Je&&Rm(x),Lt=V||Ce||Je||pt,Vt=Lt?_h(x.length,Xd):[],sn=Vt.length;for(var Yn in x)(D||Wo.call(x,Yn))&&!(Lt&&(Yn=="length"||Je&&(Yn=="offset"||Yn=="parent")||pt&&(Yn=="buffer"||Yn=="byteLength"||Yn=="byteOffset")||B(Yn,sn)))&&Vt.push(Yn);return Vt}function yu(x){var D=x.length;return D?x[ct(0,D-1)]:t}function of(x,D){return ss(bo(x),tu(D,0,x.length))}function io(x){return ss(bo(x))}function Gl(x,D,V){(V!==t&&!Xl(x[D],V)||V===t&&!(D in x))&&vu(x,D,V)}function Oh(x,D,V){var Ce=x[D];(!(Wo.call(x,D)&&Xl(Ce,V))||V===t&&!(D in x))&&vu(x,D,V)}function uc(x,D){for(var V=x.length;V--;)if(Xl(x[V][0],D))return V;return-1}function DA(x,D,V,Ce){return Ql(x,function(Je,pt,Lt){D(Ce,Je,V(Je),Lt)}),Ce}function cc(x,D){return x&&ea(D,ie(D),x)}function Ih(x,D){return x&&ea(D,ue(D),x)}function vu(x,D,V){D=="__proto__"&&Mh?Mh(x,D,{configurable:!0,enumerable:!0,value:V,writable:!0}):x[D]=V}function rh(x,D){for(var V=-1,Ce=D.length,Je=vn(Ce),pt=x==null;++V<Ce;)Je[V]=pt?t:y(x,D[V]);return Je}function tu(x,D,V){return x===x&&(V!==t&&(x=x<=V?x:V),D!==t&&(x=x>=D?x:D)),x}function bl(x,D,V,Ce,Je,pt){var Lt,Vt=D&O,sn=D&U,Yn=D&K;if(V&&(Lt=Je?V(x,Ce,Je,pt):V(x)),Lt!==t)return Lt;if(!Al(x))return x;var Hn=Vr(x);if(Hn){if(Lt=a0(x),!Vt)return bo(x,Lt)}else{var ui=sl(x),Ni=ui==bt||ui==_t;if(mf(x))return fc(x,Vt);if(ui==on||ui==gt||Ni&&!Je){if(Lt=sn||Ni?{}:s0(x),!Vt)return sn?Cs(x,Ih(Lt,x)):dA(x,cc(Lt,x))}else{if(!qr[ui])return Je?x:{};Lt=cf(x,ui,Vt)}}pt||(pt=new ba);var Sr=pt.get(x);if(Sr)return Sr;pt.set(x,Lt),v0(x)?x.forEach(function(so){Lt.add(bl(so,D,V,so,x,pt))}):ld(x)&&x.forEach(function(so,ka){Lt.set(ka,bl(so,D,V,ka,x,pt))});var ao=Yn?sn?Ip:qf:sn?ue:ie,fa=Hn?t:ao(x);return Ua(fa||x,function(so,ka){fa&&(ka=so,so=x[ka]),Oh(Lt,ka,bl(so,D,V,ka,x,pt))}),Lt}function Bp(x){var D=ie(x);return function(V){return af(V,x,D)}}function af(x,D,V){var Ce=V.length;if(x==null)return!Ce;for(x=Ro(x);Ce--;){var Je=V[Ce],pt=D[Je],Lt=x[Je];if(Lt===t&&!(Je in x)||!pt(Lt))return!1}return!0}function Wl(x,D,V){if(typeof x!="function")throw new lA(l);return sr(function(){x.apply(t,V)},D)}function Ko(x,D,V,Ce){var Je=-1,pt=yh,Lt=!0,Vt=x.length,sn=[],Yn=D.length;if(!Vt)return sn;V&&(D=mo(D,aA(V))),Ce?(pt=Nh,Lt=!1):D.length>=r&&(pt=ac,Lt=!1,D=new Tc(D));e:for(;++Je<Vt;){var Hn=x[Je],ui=V==null?Hn:V(Hn);if(Hn=Ce||Hn!==0?Hn:0,Lt&&ui===ui){for(var Ni=Yn;Ni--;)if(D[Ni]===ui)continue e;sn.push(Hn)}else pt(D,ui,Ce)||sn.push(Hn)}return sn}var Ql=PA(ki),Jh=PA(Dc,!0);function zf(x,D){var V=!0;return Ql(x,function(Ce,Je,pt){return V=!!D(Ce,Je,pt),V}),V}function Cu(x,D,V){for(var Ce=-1,Je=x.length;++Ce<Je;){var pt=x[Ce],Lt=D(pt);if(Lt!=null&&(Vt===t?Lt===Lt&&!ou(Lt):V(Lt,Vt)))var Vt=Lt,sn=pt}return sn}function ro(x,D,V,Ce){var Je=x.length;for(V=oo(V),V<0&&(V=-V>Je?0:Je+V),Ce=Ce===t||Ce>Je?Je:oo(Ce),Ce<0&&(Ce+=Je),Ce=V>Ce?0:Fd(Ce);V<Ce;)x[V++]=D;return x}function Uo(x,D){var V=[];return Ql(x,function(Ce,Je,pt){D(Ce,Je,pt)&&V.push(Ce)}),V}function Kr(x,D,V,Ce,Je){var pt=-1,Lt=x.length;for(V||(V=v),Je||(Je=[]);++pt<Lt;){var Vt=x[pt];D>0&&V(Vt)?D>1?Kr(Vt,D-1,V,Ce,Je):oc(Je,Vt):Ce||(Je[Je.length]=Vt)}return Je}var Yu=Vl(),Ii=Vl(!0);function ki(x,D){return x&&Yu(x,D,ie)}function Dc(x,D){return x&&Ii(x,D,ie)}function RA(x,D){return HA(D,function(V){return Rh(x[V])})}function cA(x,D){D=qa(D,x);for(var V=0,Ce=D.length;x!=null&&V<Ce;)x=x[Hr(D[V++])];return V&&V==Ce?x:t}function Aa(x,D,V){var Ce=D(x);return Vr(x)?Ce:oc(Ce,V(x))}function go(x){return x==null?x===t?Oi:Kt:Os&&Os in Ro(x)?gm(x):Rn(x)}function Yl(x,D){return x>D}function jf(x,D){return x!=null&&Wo.call(x,D)}function ed(x,D){return x!=null&&D in Ro(x)}function Lo(x,D,V){return x>=la(D,V)&&x<Qo(D,V)}function Ya(x,D,V){for(var Ce=V?Nh:yh,Je=x[0].length,pt=x.length,Lt=pt,Vt=vn(pt),sn=1/0,Yn=[];Lt--;){var Hn=x[Lt];Lt&&D&&(Hn=mo(Hn,aA(D))),sn=la(Hn.length,sn),Vt[Lt]=!V&&(D||Je>=120&&Hn.length>=120)?new Tc(Lt&&Hn):t}Hn=x[0];var ui=-1,Ni=Vt[0];e:for(;++ui<Je&&Yn.length<sn;){var Sr=Hn[ui],ao=D?D(Sr):Sr;if(Sr=V||Sr!==0?Sr:0,!(Ni?ac(Ni,ao):Ce(Yn,ao,V))){for(Lt=pt;--Lt;){var fa=Vt[Lt];if(!(fa?ac(fa,ao):Ce(x[Lt],ao,V)))continue e}Ni&&Ni.push(ao),Yn.push(Sr)}}return Yn}function td(x,D,V,Ce){return ki(x,function(Je,pt,Lt){D(Ce,V(Je),pt,Lt)}),Ce}function _u(x,D,V){D=qa(D,x),x=mi(x,D);var Ce=x==null?x:x[Hr(Eu(D))];return Ce==null?t:gs(Ce,x,V)}function Rc(x){return ul(x)&&go(x)==gt}function Js(x){return ul(x)&&go(x)==je}function os(x){return ul(x)&&go(x)==Ke}function hA(x,D,V,Ce,Je){return x===D?!0:x==null||D==null||!ul(x)&&!ul(D)?x!==x&&D!==D:Pc(x,D,V,Ce,hA,Je)}function Pc(x,D,V,Ce,Je,pt){var Lt=Vr(x),Vt=Vr(D),sn=Lt?St:sl(x),Yn=Vt?St:sl(D);sn=sn==gt?on:sn,Yn=Yn==gt?on:Yn;var Hn=sn==on,ui=Yn==on,Ni=sn==Yn;if(Ni&&mf(x)){if(!mf(D))return!1;Lt=!0,Hn=!1}if(Ni&&!Hn)return pt||(pt=new ba),Lt||Rm(x)?ru(x,D,V,Ce,Je,pt):Dd(x,D,sn,V,Ce,Je,pt);if(!(V&j)){var Sr=Hn&&Wo.call(x,"__wrapped__"),ao=ui&&Wo.call(D,"__wrapped__");if(Sr||ao){var fa=Sr?x.value():x,so=ao?D.value():D;return pt||(pt=new ba),Je(fa,so,V,Ce,pt)}}return Ni?(pt||(pt=new ba),el(x,D,V,Ce,Je,pt)):!1}function hc(x){return ul(x)&&sl(x)==Ot}function dc(x,D,V,Ce){var Je=V.length,pt=Je,Lt=!Ce;if(x==null)return!pt;for(x=Ro(x);Je--;){var Vt=V[Je];if(Lt&&Vt[2]?Vt[1]!==x[Vt[0]]:!(Vt[0]in x))return!1}for(;++Je<pt;){Vt=V[Je];var sn=Vt[0],Yn=x[sn],Hn=Vt[1];if(Lt&&Vt[2]){if(Yn===t&&!(sn in x))return!1}else{var ui=new ba;if(Ce)var Ni=Ce(Yn,Hn,sn,x,D,ui);if(!(Ni===t?hA(Hn,Yn,j|W,Ce,ui):Ni))return!1}}return!0}function ql(x){if(!Al(x)||_e(x))return!1;var D=Rh(x)?XA:ji;return D.test(_s(x))}function nd(x){return ul(x)&&go(x)==$n}function id(x){return ul(x)&&sl(x)==On}function kd(x){return ul(x)&&sp(x.length)&&!!wi[go(x)]}function I(x){return typeof x=="function"?x:x==null?fn:typeof x=="object"?Vr(x)?z(x[0],x[1]):k(x):Ta(x)}function s(x){if(!Le(x))return Dl(x);var D=[];for(var V in Ro(x))Wo.call(x,V)&&V!="constructor"&&D.push(V);return D}function f(x){if(!Al(x))return _n(x);var D=Le(x),V=[];for(var Ce in x)Ce=="constructor"&&(D||!Wo.call(x,Ce))||V.push(Ce);return V}function _(x,D){return x<D}function S(x,D){var V=-1,Ce=Jl(x)?vn(x.length):[];return Ql(x,function(Je,pt,Lt){Ce[++V]=D(Je,pt,Lt)}),Ce}function k(x){var D=na(x);return D.length==1&&D[0][2]?It(D[0][0],D[0][1]):function(V){return V===x||dc(V,x,D)}}function z(x,D){return F(x)&&vt(D)?It(Hr(x),D):function(V){var Ce=y(V,x);return Ce===t&&Ce===D?R(V,x):hA(D,Ce,j|W)}}function q(x,D,V,Ce,Je){x!==D&&Yu(D,function(pt,Lt){if(Je||(Je=new ba),Al(pt))X(x,D,Lt,V,q,Ce,Je);else{var Vt=Ce?Ce(gi(x,Lt),pt,Lt+"",x,D,Je):t;Vt===t&&(Vt=pt),Gl(x,Lt,Vt)}},ue)}function X(x,D,V,Ce,Je,pt,Lt){var Vt=gi(x,V),sn=gi(D,V),Yn=Lt.get(sn);if(Yn){Gl(x,V,Yn);return}var Hn=pt?pt(Vt,sn,V+"",x,D,Lt):t,ui=Hn===t;if(ui){var Ni=Vr(sn),Sr=!Ni&&mf(sn),ao=!Ni&&!Sr&&Rm(sn);Hn=sn,Ni||Sr||ao?Vr(Vt)?Hn=Vt:El(Vt)?Hn=bo(Vt):Sr?(ui=!1,Hn=fc(sn,!0)):ao?(ui=!1,Hn=Kc(sn,!0)):Hn=[]:ch(sn)||Ld(sn)?(Hn=Vt,Ld(Vt)?Hn=c1(Vt):(!Al(Vt)||Rh(Vt))&&(Hn=s0(sn))):ui=!1}ui&&(Lt.set(sn,Hn),Je(Hn,sn,Ce,pt,Lt),Lt.delete(sn)),Gl(x,V,Hn)}function he(x,D){var V=x.length;if(V)return D+=D<0?V:0,B(D,V)?x[D]:t}function me(x,D,V){D.length?D=mo(D,function(pt){return Vr(pt)?function(Lt){return cA(Lt,pt.length===1?pt[0]:pt)}:pt}):D=[fn];var Ce=-1;D=mo(D,aA(mr()));var Je=S(x,function(pt,Lt,Vt){var sn=mo(D,function(Yn){return Yn(pt)});return{criteria:sn,index:++Ce,value:pt}});return Pf(Je,function(pt,Lt){return Vu(pt,Lt,V)})}function Be(x,D){return Me(x,D,function(V,Ce){return R(x,Ce)})}function Me(x,D,V){for(var Ce=-1,Je=D.length,pt={};++Ce<Je;){var Lt=D[Ce],Vt=cA(x,Lt);V(Vt,Lt)&&Ft(pt,qa(Lt,x),Vt)}return pt}function Ue(x){return function(D){return cA(D,x)}}function Xe(x,D,V,Ce){var Je=Ce?bd:is,pt=-1,Lt=D.length,Vt=x;for(x===D&&(D=bo(D)),V&&(Vt=mo(x,aA(V)));++pt<Lt;)for(var sn=0,Yn=D[pt],Hn=V?V(Yn):Yn;(sn=Je(Vt,Hn,sn,Ce))>-1;)Vt!==x&&Ac.call(Vt,sn,1),Ac.call(x,sn,1);return x}function At(x,D){for(var V=x?D.length:0,Ce=V-1;V--;){var Je=D[V];if(V==Ce||Je!==pt){var pt=Je;B(Je)?Ac.call(x,Je,1):_o(x,Je)}}return x}function ct(x,D){return x+IA(Ic()*(D-x+1))}function ft(x,D,V,Ce){for(var Je=-1,pt=Qo(Zc((D-x)/(V||1)),0),Lt=vn(pt);pt--;)Lt[Ce?pt:++Je]=x,x+=V;return Lt}function xt(x,D){var V="";if(!x||D<1||D>Ct)return V;do D%2&&(V+=x),D=IA(D/2),D&&(x+=x);while(D);return V}function yt(x,D){return qi(oi(x,D,fn),x+"")}function wt(x){return yu(Ai(x))}function Pt(x,D){var V=Ai(x);return ss(V,tu(D,0,V.length))}function Ft(x,D,V,Ce){if(!Al(x))return x;D=qa(D,x);for(var Je=-1,pt=D.length,Lt=pt-1,Vt=x;Vt!=null&&++Je<pt;){var sn=Hr(D[Je]),Yn=V;if(sn==="__proto__"||sn==="constructor"||sn==="prototype")return x;if(Je!=Lt){var Hn=Vt[sn];Yn=Ce?Ce(Hn,sn,Vt):t,Yn===t&&(Yn=Al(Hn)?Hn:B(D[Je+1])?[]:{})}Oh(Vt,sn,Yn),Vt=Vt[sn]}return x}var Bt=eh?function(x,D){return eh.set(x,D),x}:fn,Yt=Mh?function(x,D){return Mh(x,"toString",{configurable:!0,enumerable:!1,value:hn(D),writable:!0})}:fn;function dn(x){return ss(Ai(x))}function Xt(x,D,V){var Ce=-1,Je=x.length;D<0&&(D=-D>Je?0:Je+D),V=V>Je?Je:V,V<0&&(V+=Je),Je=D>V?0:V-D>>>0,D>>>=0;for(var pt=vn(Je);++Ce<Je;)pt[Ce]=x[Ce+D];return pt}function nn(x,D){var V;return Ql(x,function(Ce,Je,pt){return V=D(Ce,Je,pt),!V}),!!V}function An(x,D,V){var Ce=0,Je=x==null?Ce:x.length;if(typeof D=="number"&&D===D&&Je<=lt){for(;Ce<Je;){var pt=Ce+Je>>>1,Lt=x[pt];Lt!==null&&!ou(Lt)&&(V?Lt<=D:Lt<D)?Ce=pt+1:Je=pt}return Je}return qn(x,D,fn,V)}function qn(x,D,V,Ce){var Je=0,pt=x==null?0:x.length;if(pt===0)return 0;D=V(D);for(var Lt=D!==D,Vt=D===null,sn=ou(D),Yn=D===t;Je<pt;){var Hn=IA((Je+pt)/2),ui=V(x[Hn]),Ni=ui!==t,Sr=ui===null,ao=ui===ui,fa=ou(ui);if(Lt)var so=Ce||ao;else Yn?so=ao&&(Ce||Ni):Vt?so=ao&&Ni&&(Ce||!Sr):sn?so=ao&&Ni&&!Sr&&(Ce||!fa):Sr||fa?so=!1:so=Ce?ui<=D:ui<D;so?Je=Hn+1:pt=Hn}return la(pt,tt)}function Qn(x,D){for(var V=-1,Ce=x.length,Je=0,pt=[];++V<Ce;){var Lt=x[V],Vt=D?D(Lt):Lt;if(!V||!Xl(Vt,sn)){var sn=Vt;pt[Je++]=Lt===0?0:Lt}}return pt}function Tn(x){return typeof x=="number"?x:ou(x)?be:+x}function xi(x){if(typeof x=="string")return x;if(Vr(x))return mo(x,xi)+"";if(ou(x))return eu?eu.call(x):"";var D=x+"";return D=="0"&&1/x==-st?"-0":D}function hr(x,D,V){var Ce=-1,Je=yh,pt=x.length,Lt=!0,Vt=[],sn=Vt;if(V)Lt=!1,Je=Nh;else if(pt>=r){var Yn=D?null:Y0(x);if(Yn)return ZA(Yn);Lt=!1,Je=ac,sn=new Tc}else sn=D?[]:Vt;e:for(;++Ce<pt;){var Hn=x[Ce],ui=D?D(Hn):Hn;if(Hn=V||Hn!==0?Hn:0,Lt&&ui===ui){for(var Ni=sn.length;Ni--;)if(sn[Ni]===ui)continue e;D&&sn.push(ui),Vt.push(Hn)}else Je(sn,ui,V)||(sn!==Vt&&sn.push(ui),Vt.push(Hn))}return Vt}function _o(x,D){return D=qa(D,x),x=mi(x,D),x==null||delete x[Hr(Eu(D))]}function ua(x,D,V,Ce){return Ft(x,D,V(cA(x,D)),Ce)}function Fo(x,D,V,Ce){for(var Je=x.length,pt=Ce?Je:-1;(Ce?pt--:++pt<Je)&&D(x[pt],pt,x););return V?Xt(x,Ce?0:pt,Ce?pt+1:Je):Xt(x,Ce?pt+1:0,Ce?Je:pt)}function La(x,D){var V=x;return V instanceof yr&&(V=V.value()),Cd(D,function(Ce,Je){return Je.func.apply(Je.thisArg,oc([Ce],Je.args))},V)}function ca(x,D,V){var Ce=x.length;if(Ce<2)return Ce?hr(x[0]):[];for(var Je=-1,pt=vn(Ce);++Je<Ce;)for(var Lt=x[Je],Vt=-1;++Vt<Ce;)Vt!=Je&&(pt[Je]=Ko(pt[Je]||Lt,x[Vt],D,V));return hr(Kr(pt,1),D,V)}function Or(x,D,V){for(var Ce=-1,Je=x.length,pt=D.length,Lt={};++Ce<Je;){var Vt=Ce<pt?D[Ce]:t;V(Lt,x[Ce],Vt)}return Lt}function Yo(x){return El(x)?x:[]}function as(x){return typeof x=="function"?x:fn}function qa(x,D){return Vr(x)?x:F(x,D)?[x]:ha(Fa(x))}var Is=yt;function Ts(x,D,V){var Ce=x.length;return V=V===t?Ce:V,!D&&V>=Ce?x:Xt(x,D,V)}var qu=Bd||function(x){return Ri.clearTimeout(x)};function fc(x,D){if(D)return x.slice();var V=x.length,Ce=OA?OA(V):new x.constructor(V);return x.copy(Ce),Ce}function Hl(x){var D=new x.constructor(x.byteLength);return new lc(D).set(new lc(x)),D}function Th(x,D){var V=D?Hl(x.buffer):x.buffer;return new x.constructor(V,x.byteOffset,x.byteLength)}function oh(x){var D=new x.constructor(x.source,Cr.exec(x));return D.lastIndex=x.lastIndex,D}function Hu(x){return Sh?Ro(Sh.call(x)):{}}function Kc(x,D){var V=D?Hl(x.buffer):x.buffer;return new x.constructor(V,x.byteOffset,x.length)}function xl(x,D){if(x!==D){var V=x!==t,Ce=x===null,Je=x===x,pt=ou(x),Lt=D!==t,Vt=D===null,sn=D===D,Yn=ou(D);if(!Vt&&!Yn&&!pt&&x>D||pt&&Lt&&sn&&!Vt&&!Yn||Ce&&Lt&&sn||!V&&sn||!Je)return 1;if(!Ce&&!pt&&!Yn&&x<D||Yn&&V&&Je&&!Ce&&!pt||Vt&&V&&Je||!Lt&&Je||!sn)return-1}return 0}function Vu(x,D,V){for(var Ce=-1,Je=x.criteria,pt=D.criteria,Lt=Je.length,Vt=V.length;++Ce<Lt;){var sn=xl(Je[Ce],pt[Ce]);if(sn){if(Ce>=Vt)return sn;var Yn=V[Ce];return sn*(Yn=="desc"?-1:1)}}return x.index-D.index}function Ml(x,D,V,Ce){for(var Je=-1,pt=x.length,Lt=V.length,Vt=-1,sn=D.length,Yn=Qo(pt-Lt,0),Hn=vn(sn+Yn),ui=!Ce;++Vt<sn;)Hn[Vt]=D[Vt];for(;++Je<Lt;)(ui||Je<pt)&&(Hn[V[Je]]=x[Je]);for(;Yn--;)Hn[Vt++]=x[Je++];return Hn}function Uc(x,D,V,Ce){for(var Je=-1,pt=x.length,Lt=-1,Vt=V.length,sn=-1,Yn=D.length,Hn=Qo(pt-Vt,0),ui=vn(Hn+Yn),Ni=!Ce;++Je<Hn;)ui[Je]=x[Je];for(var Sr=Je;++sn<Yn;)ui[Sr+sn]=D[sn];for(;++Lt<Vt;)(Ni||Je<pt)&&(ui[Sr+V[Lt]]=x[Je++]);return ui}function bo(x,D){var V=-1,Ce=x.length;for(D||(D=vn(Ce));++V<Ce;)D[V]=x[V];return D}function ea(x,D,V,Ce){var Je=!V;V||(V={});for(var pt=-1,Lt=D.length;++pt<Lt;){var Vt=D[pt],sn=Ce?Ce(V[Vt],x[Vt],Vt,V,x):t;sn===t&&(sn=x[Vt]),Je?vu(V,Vt,sn):Oh(V,Vt,sn)}return V}function dA(x,D){return ea(x,$u(x),D)}function Cs(x,D){return ea(x,pA(x),D)}function bu(x,D){return function(V,Ce){var Je=Vr(V)?yd:DA,pt=D?D():{};return Je(V,x,mr(Ce,2),pt)}}function fA(x){return yt(function(D,V){var Ce=-1,Je=V.length,pt=Je>1?V[Je-1]:t,Lt=Je>2?V[2]:t;for(pt=x.length>3&&typeof pt=="function"?(Je--,pt):t,Lt&&E(V[0],V[1],Lt)&&(pt=Je<3?t:pt,Je=1),D=Ro(D);++Ce<Je;){var Vt=V[Ce];Vt&&x(D,Vt,Ce,pt)}return D})}function PA(x,D){return function(V,Ce){if(V==null)return V;if(!Jl(V))return x(V,Ce);for(var Je=V.length,pt=D?Je:-1,Lt=Ro(V);(D?pt--:++pt<Je)&&Ce(Lt[pt],pt,Lt)!==!1;);return V}}function Vl(x){return function(D,V,Ce){for(var Je=-1,pt=Ro(D),Lt=Ce(D),Vt=Lt.length;Vt--;){var sn=Lt[x?Vt:++Je];if(V(pt[sn],sn,pt)===!1)break}return D}}function Lc(x,D,V){var Ce=D&Y,Je=xu(x);function pt(){var Lt=this&&this!==Ri&&this instanceof pt?Je:x;return Lt.apply(Ce?V:this,arguments)}return pt}function nu(x){return function(D){D=Fa(D);var V=Sc(D)?wA(D):t,Ce=V?V[0]:D.charAt(0),Je=V?Ts(V,1).join(""):D.slice(1);return Ce[x]()+Je}}function Ha(x){return function(D){return Cd(Q(Wr(D).replace(Rr,"")),x,"")}}function xu(x){return function(){var D=arguments;switch(D.length){case 0:return new x;case 1:return new x(D[0]);case 2:return new x(D[0],D[1]);case 3:return new x(D[0],D[1],D[2]);case 4:return new x(D[0],D[1],D[2],D[3]);case 5:return new x(D[0],D[1],D[2],D[3],D[4]);case 6:return new x(D[0],D[1],D[2],D[3],D[4],D[5]);case 7:return new x(D[0],D[1],D[2],D[3],D[4],D[5],D[6])}var V=Xs(x.prototype),Ce=x.apply(V,D);return Al(Ce)?Ce:V}}function Nf(x,D,V){var Ce=xu(x);function Je(){for(var pt=arguments.length,Lt=vn(pt),Vt=pt,sn=Rd(Je);Vt--;)Lt[Vt]=arguments[Vt];var Yn=pt<3&&Lt[0]!==sn&&Lt[pt-1]!==sn?[]:du(Lt,sn);if(pt-=Yn.length,pt<V)return Wf(x,D,Ba,Je.placeholder,t,Lt,Yn,t,t,V-pt);var Hn=this&&this!==Ri&&this instanceof Je?Ce:x;return gs(Hn,this,Lt)}return Je}function Mu(x){return function(D,V,Ce){var Je=Ro(D);if(!Jl(D)){var pt=mr(V,3);D=ie(D),V=function(Vt){return pt(Je[Vt],Vt,Je)}}var Lt=x(D,V,Ce);return Lt>-1?Je[pt?D[Lt]:Lt]:t}}function wu(x){return ds(function(D){var V=D.length,Ce=V,Je=Jo.prototype.thru;for(x&&D.reverse();Ce--;){var pt=D[Ce];if(typeof pt!="function")throw new lA(l);if(Je&&!Lt&&Af(pt)=="wrapper")var Lt=new Jo([],!0)}for(Ce=Lt?Ce:V;++Ce<V;){pt=D[Ce];var Vt=Af(pt),sn=Vt=="wrapper"?Hf(pt):t;sn&&fe(sn[0])&&sn[1]==(G|oe|$|ce)&&!sn[4].length&&sn[9]==1?Lt=Lt[Af(sn[0])].apply(Lt,sn[3]):Lt=pt.length==1&&fe(pt)?Lt[Vt]():Lt.thru(pt)}return function(){var Yn=arguments,Hn=Yn[0];if(Lt&&Yn.length==1&&Vr(Hn))return Lt.plant(Hn).value();for(var ui=0,Ni=V?D[ui].apply(this,Yn):Hn;++ui<V;)Ni=D[ui].call(this,Ni);return Ni}})}function Ba(x,D,V,Ce,Je,pt,Lt,Vt,sn,Yn){var Hn=D&G,ui=D&Y,Ni=D&te,Sr=D&(oe|ne),ao=D&ge,fa=Ni?t:xu(x);function so(){for(var ka=arguments.length,$a=vn(ka),yf=ka;yf--;)$a[yf]=arguments[yf];if(Sr)var cd=Rd(so),vf=Md($a,cd);if(Ce&&($a=Ml($a,Ce,Je,Sr)),pt&&($a=Uc($a,pt,Lt,Sr)),ka-=vf,Sr&&ka<Yn){var Tu=du($a,cd);return Wf(x,D,Ba,so.placeholder,V,$a,Tu,Vt,sn,Yn-ka)}var Gp=ui?V:this,M0=Ni?Gp[x]:x;return ka=$a.length,Vt?$a=Ci($a,Vt):ao&&ka>1&&$a.reverse(),Hn&&sn<ka&&($a.length=sn),this&&this!==Ri&&this instanceof so&&(M0=fa||xu(M0)),M0.apply(Gp,$a)}return so}function iu(x,D){return function(V,Ce){return td(V,x,D(Ce),{})}}function rd(x,D){return function(V,Ce){var Je;if(V===t&&Ce===t)return D;if(V!==t&&(Je=V),Ce!==t){if(Je===t)return Ce;typeof V=="string"||typeof Ce=="string"?(V=xi(V),Ce=xi(Ce)):(V=Tn(V),Ce=Tn(Ce)),Je=x(V,Ce)}return Je}}function Gf(x){return ds(function(D){return D=mo(D,aA(mr())),yt(function(V){var Ce=this;return x(D,function(Je){return gs(Je,Ce,V)})})})}function sf(x,D){D=D===t?" ":xi(D);var V=D.length;if(V<2)return V?xt(D,x):D;var Ce=xt(D,Zc(x/sc(D)));return Sc(D)?Ts(wA(Ce),0,x).join(""):Ce.slice(0,x)}function mm(x,D,V,Ce){var Je=D&Y,pt=xu(x);function Lt(){for(var Vt=-1,sn=arguments.length,Yn=-1,Hn=Ce.length,ui=vn(Hn+sn),Ni=this&&this!==Ri&&this instanceof Lt?pt:x;++Yn<Hn;)ui[Yn]=Ce[Yn];for(;sn--;)ui[Yn++]=arguments[++Vt];return gs(Ni,Je?V:this,ui)}return Lt}function pc(x){return function(D,V,Ce){return Ce&&typeof Ce!="number"&&E(D,V,Ce)&&(V=Ce=t),D=ud(D),V===t?(V=D,D=0):V=ud(V),Ce=Ce===t?D<V?1:-1:ud(Ce),ft(D,V,Ce,x)}}function od(x){return function(D,V){return typeof D=="string"&&typeof V=="string"||(D=hh(D),V=hh(V)),x(D,V)}}function Wf(x,D,V,Ce,Je,pt,Lt,Vt,sn,Yn){var Hn=D&oe,ui=Hn?Lt:t,Ni=Hn?t:Lt,Sr=Hn?pt:t,ao=Hn?t:pt;D|=Hn?$:ae,D&=~(Hn?ae:$),D&J||(D&=-4);var fa=[x,D,Je,Sr,ui,ao,Ni,Vt,sn,Yn],so=V.apply(t,fa);return fe(x)&&Di(so,fa),so.placeholder=Ce,eo(so,x,D)}function Qf(x){var D=$s[x];return function(V,Ce){if(V=hh(V),Ce=Ce==null?0:la(oo(Ce),292),Ce&&Vh(V)){var Je=(Fa(V)+"e").split("e"),pt=D(Je[0]+"e"+(+Je[1]+Ce));return Je=(Fa(pt)+"e").split("e"),+(Je[0]+"e"+(+Je[1]-Ce))}return D(V)}}var Y0=Xr&&1/ZA(new Xr([,-0]))[1]==st?function(x){return new Xr(x)}:rr;function lf(x){return function(D){var V=sl(D);return V==Ot?Vc(D):V==On?wp(D):Qh(D,x(D))}}function ta(x,D,V,Ce,Je,pt,Lt,Vt){var sn=D&te;if(!sn&&typeof x!="function")throw new lA(l);var Yn=Ce?Ce.length:0;if(Yn||(D&=-97,Ce=Je=t),Lt=Lt===t?Lt:Qo(oo(Lt),0),Vt=Vt===t?Vt:oo(Vt),Yn-=Je?Je.length:0,D&ae){var Hn=Ce,ui=Je;Ce=Je=t}var Ni=sn?t:Hf(x),Sr=[x,D,V,Ce,Je,Hn,ui,pt,Lt,Vt];if(Ni&&Ht(Sr,Ni),x=Sr[0],D=Sr[1],V=Sr[2],Ce=Sr[3],Je=Sr[4],Vt=Sr[9]=Sr[9]===t?sn?0:x.length:Qo(Sr[9]-Yn,0),!Vt&&D&(oe|ne)&&(D&=-25),!D||D==Y)var ao=Lc(x,D,V);else D==oe||D==ne?ao=Nf(x,D,Vt):(D==$||D==(Y|$))&&!Je.length?ao=mm(x,D,V,Ce):ao=Ba.apply(t,Sr);var fa=Ni?Bt:Di;return eo(fa(ao,Sr),x,D)}function Op(x,D,V,Ce){return x===t||Xl(x,SA[V])&&!Wo.call(Ce,V)?D:x}function kh(x,D,V,Ce,Je,pt){return Al(x)&&Al(D)&&(pt.set(D,x),q(x,D,t,kh,pt),pt.delete(D)),x}function Yf(x){return ch(x)?t:x}function ru(x,D,V,Ce,Je,pt){var Lt=V&j,Vt=x.length,sn=D.length;if(Vt!=sn&&!(Lt&&sn>Vt))return!1;var Yn=pt.get(x),Hn=pt.get(D);if(Yn&&Hn)return Yn==D&&Hn==x;var ui=-1,Ni=!0,Sr=V&W?new Tc:t;for(pt.set(x,D),pt.set(D,x);++ui<Vt;){var ao=x[ui],fa=D[ui];if(Ce)var so=Lt?Ce(fa,ao,ui,D,x,pt):Ce(ao,fa,ui,x,D,pt);if(so!==t){if(so)continue;Ni=!1;break}if(Sr){if(!vh(D,function(ka,$a){if(!ac(Sr,$a)&&(ao===ka||Je(ao,ka,V,Ce,pt)))return Sr.push($a)})){Ni=!1;break}}else if(!(ao===fa||Je(ao,fa,V,Ce,pt))){Ni=!1;break}}return pt.delete(x),pt.delete(D),Ni}function Dd(x,D,V,Ce,Je,pt,Lt){switch(V){case de:if(x.byteLength!=D.byteLength||x.byteOffset!=D.byteOffset)return!1;x=x.buffer,D=D.buffer;case je:return!(x.byteLength!=D.byteLength||!pt(new lc(x),new lc(D)));case Fe:case Ke:case qt:return Xl(+x,+D);case He:return x.name==D.name&&x.message==D.message;case $n:case Bn:return x==D+"";case Ot:var Vt=Vc;case On:var sn=Ce&j;if(Vt||(Vt=ZA),x.size!=D.size&&!sn)return!1;var Yn=Lt.get(x);if(Yn)return Yn==D;Ce|=W,Lt.set(x,D);var Hn=ru(Vt(x),Vt(D),Ce,Je,pt,Lt);return Lt.delete(x),Hn;case In:if(Sh)return Sh.call(x)==Sh.call(D)}return!1}function el(x,D,V,Ce,Je,pt){var Lt=V&j,Vt=qf(x),sn=Vt.length,Yn=qf(D),Hn=Yn.length;if(sn!=Hn&&!Lt)return!1;for(var ui=sn;ui--;){var Ni=Vt[ui];if(!(Lt?Ni in D:Wo.call(D,Ni)))return!1}var Sr=pt.get(x),ao=pt.get(D);if(Sr&&ao)return Sr==D&&ao==x;var fa=!0;pt.set(x,D),pt.set(D,x);for(var so=Lt;++ui<sn;){Ni=Vt[ui];var ka=x[Ni],$a=D[Ni];if(Ce)var yf=Lt?Ce($a,ka,Ni,D,x,pt):Ce(ka,$a,Ni,x,D,pt);if(!(yf===t?ka===$a||Je(ka,$a,V,Ce,pt):yf)){fa=!1;break}so||(so=Ni=="constructor")}if(fa&&!so){var cd=x.constructor,vf=D.constructor;cd!=vf&&"constructor"in x&&"constructor"in D&&!(typeof cd=="function"&&cd instanceof cd&&typeof vf=="function"&&vf instanceof vf)&&(fa=!1)}return pt.delete(x),pt.delete(D),fa}function ds(x){return qi(oi(x,t,ll),x+"")}function qf(x){return Aa(x,ie,$u)}function Ip(x){return Aa(x,ue,pA)}var Hf=eh?function(x){return eh.get(x)}:rr;function Af(x){for(var D=x.name+"",V=gu[D],Ce=Wo.call(gu,D)?V.length:0;Ce--;){var Je=V[Ce],pt=Je.func;if(pt==null||pt==x)return Je.name}return D}function Rd(x){var D=Wo.call(rt,"placeholder")?rt:x;return D.placeholder}function mr(){var x=rt.iteratee||Ur;return x=x===Ur?I:x,arguments.length?x(arguments[0],arguments[1]):x}function uf(x,D){var V=x.__data__;return Z(D)?V[typeof D=="string"?"string":"hash"]:V.map}function na(x){for(var D=ie(x),V=D.length;V--;){var Ce=D[V],Je=x[Ce];D[V]=[Ce,Je,vt(Je)]}return D}function Dh(x,D){var V=Yh(x,D);return ql(V)?V:t}function gm(x){var D=Wo.call(x,Os),V=x[Os];try{x[Os]=t;var Ce=!0}catch{}var Je=Wa.call(x);return Ce&&(D?x[Os]=V:delete x[Os]),Je}var $u=Fu?function(x){return x==null?[]:(x=Ro(x),HA(Fu(x),function(D){return Dr.call(x,D)}))}:dh,pA=Fu?function(x){for(var D=[];x;)oc(D,$u(x)),x=Bc(x);return D}:dh,sl=go;(Jc&&sl(new Jc(new ArrayBuffer(1)))!=de||_a&&sl(new _a)!=Ot||xa&&sl(xa.resolve())!=Jn||Xr&&sl(new Xr)!=On||AA&&sl(new AA)!=ei)&&(sl=function(x){var D=go(x),V=D==on?x.constructor:t,Ce=V?_s(V):"";if(Ce)switch(Ce){case Jd:return de;case ys:return Ot;case ol:return Jn;case Ns:return On;case ef:return ei}return D});function ym(x,D,V){for(var Ce=-1,Je=V.length;++Ce<Je;){var pt=V[Ce],Lt=pt.size;switch(pt.type){case"drop":x+=Lt;break;case"dropRight":D-=Lt;break;case"take":D=la(D,x+Lt);break;case"takeRight":x=Qo(x,D-Lt);break}}return{start:x,end:D}}function Gs(x){var D=x.match(Vi);return D?D[1].split(ya):[]}function Vf(x,D,V){D=qa(D,x);for(var Ce=-1,Je=D.length,pt=!1;++Ce<Je;){var Lt=Hr(D[Ce]);if(!(pt=x!=null&&V(x,Lt)))break;x=x[Lt]}return pt||++Ce!=Je?pt:(Je=x==null?0:x.length,!!Je&&sp(Je)&&B(Lt,Je)&&(Vr(x)||Ld(x)))}function a0(x){var D=x.length,V=new x.constructor(D);return D&&typeof x[0]=="string"&&Wo.call(x,"index")&&(V.index=x.index,V.input=x.input),V}function s0(x){return typeof x.constructor=="function"&&!Le(x)?Xs(Bc(x)):{}}function cf(x,D,V){var Ce=x.constructor;switch(D){case je:return Hl(x);case Fe:case Ke:return new Ce(+x);case de:return Th(x,V);case re:case le:case pe:case Te:case We:case dt:case Ye:case De:case Ze:return Kc(x,V);case Ot:return new Ce;case qt:case Bn:return new Ce(x);case $n:return oh(x);case On:return new Ce;case In:return Hu(x)}}function d(x,D){var V=D.length;if(!V)return x;var Ce=V-1;return D[Ce]=(V>1?"& ":"")+D[Ce],D=D.join(V>2?", ":" "),x.replace(uo,`{
/* [wrapped with `+D+`] */
`)}function v(x){return Vr(x)||Ld(x)||!!(JA&&x&&x[JA])}function B(x,D){var V=typeof x;return D=D??Ct,!!D&&(V=="number"||V!="symbol"&&Pa.test(x))&&x>-1&&x%1==0&&x<D}function E(x,D,V){if(!Al(V))return!1;var Ce=typeof D;return(Ce=="number"?Jl(V)&&B(D,V.length):Ce=="string"&&D in V)?Xl(V[D],x):!1}function F(x,D){if(Vr(x))return!1;var V=typeof x;return V=="number"||V=="symbol"||V=="boolean"||x==null||ou(x)?!0:tr.test(x)||!Hi.test(x)||D!=null&&x in Ro(D)}function Z(x){var D=typeof x;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?x!=="__proto__":x===null}function fe(x){var D=Af(x),V=rt[D];if(typeof V!="function"||!(D in yr.prototype))return!1;if(x===V)return!0;var Ce=Hf(V);return!!Ce&&x===Ce[0]}function _e(x){return!!Hh&&Hh in x}var ke=EA?Rh:Np;function Le(x){var D=x&&x.constructor,V=typeof D=="function"&&D.prototype||SA;return x===V}function vt(x){return x===x&&!Al(x)}function It(x,D){return function(V){return V==null?!1:V[x]===D&&(D!==t||x in Ro(V))}}function Jt(x){var D=Dp(x,function(Ce){return V.size===C&&V.clear(),Ce}),V=D.cache;return D}function Ht(x,D){var V=x[1],Ce=D[1],Je=V|Ce,pt=Je<(Y|te|G),Lt=Ce==G&&V==oe||Ce==G&&V==ce&&x[7].length<=D[8]||Ce==(G|ce)&&D[7].length<=D[8]&&V==oe;if(!(pt||Lt))return x;Ce&Y&&(x[2]=D[2],Je|=V&Y?0:J);var Vt=D[3];if(Vt){var sn=x[3];x[3]=sn?Ml(sn,Vt,D[4]):Vt,x[4]=sn?du(x[3],M):D[4]}return Vt=D[5],Vt&&(sn=x[5],x[5]=sn?Uc(sn,Vt,D[6]):Vt,x[6]=sn?du(x[5],M):D[6]),Vt=D[7],Vt&&(x[7]=Vt),Ce&G&&(x[8]=x[8]==null?D[8]:la(x[8],D[8])),x[9]==null&&(x[9]=D[9]),x[0]=D[0],x[1]=Je,x}function _n(x){var D=[];if(x!=null)for(var V in Ro(x))D.push(V);return D}function Rn(x){return Wa.call(x)}function oi(x,D,V){return D=Qo(D===t?x.length-1:D,0),function(){for(var Ce=arguments,Je=-1,pt=Qo(Ce.length-D,0),Lt=vn(pt);++Je<pt;)Lt[Je]=Ce[D+Je];Je=-1;for(var Vt=vn(D+1);++Je<D;)Vt[Je]=Ce[Je];return Vt[D]=V(Lt),gs(x,this,Vt)}}function mi(x,D){return D.length<2?x:cA(x,Xt(D,0,-1))}function Ci(x,D){for(var V=x.length,Ce=la(D.length,V),Je=bo(x);Ce--;){var pt=D[Ce];x[Ce]=B(pt,V)?Je[pt]:t}return x}function gi(x,D){if(!(D==="constructor"&&typeof x[D]=="function")&&D!="__proto__")return x[D]}var Di=wr(Bt),sr=Od||function(x,D){return Ri.setTimeout(x,D)},qi=wr(Yt);function eo(x,D,V){var Ce=D+"";return qi(x,d(Ce,bs(Gs(Ce),V)))}function wr(x){var D=0,V=0;return function(){var Ce=zu(),Je=Se-(Ce-V);if(V=Ce,Je>0){if(++D>=Ie)return arguments[0]}else D=0;return x.apply(t,arguments)}}function ss(x,D){var V=-1,Ce=x.length,Je=Ce-1;for(D=D===t?Ce:D;++V<D;){var pt=ct(V,Je),Lt=x[pt];x[pt]=x[V],x[V]=Lt}return x.length=D,x}var ha=Jt(function(x){var D=[];return x.charCodeAt(0)===46&&D.push(""),x.replace(Ei,function(V,Ce,Je,pt){D.push(Je?pt.replace(Ar,"$1"):Ce||V)}),D});function Hr(x){if(typeof x=="string"||ou(x))return x;var D=x+"";return D=="0"&&1/x==-st?"-0":D}function _s(x){if(x!=null){try{return kl.call(x)}catch{}try{return x+""}catch{}}return""}function bs(x,D){return Ua(kt,function(V){var Ce="_."+V[0];D&V[1]&&!yh(x,Ce)&&x.push(Ce)}),x.sort()}function da(x){if(x instanceof yr)return x.clone();var D=new Jo(x.__wrapped__,x.__chain__);return D.__actions__=bo(x.__actions__),D.__index__=x.__index__,D.__values__=x.__values__,D}function $l(x,D,V){(V?E(x,D,V):D===t)?D=1:D=Qo(oo(D),0);var Ce=x==null?0:x.length;if(!Ce||D<1)return[];for(var Je=0,pt=0,Lt=vn(Zc(Ce/D));Je<Ce;)Lt[pt++]=Xt(x,Je,Je+=D);return Lt}function ks(x){for(var D=-1,V=x==null?0:x.length,Ce=0,Je=[];++D<V;){var pt=x[D];pt&&(Je[Ce++]=pt)}return Je}function Ws(){var x=arguments.length;if(!x)return[];for(var D=vn(x-1),V=arguments[0],Ce=x;Ce--;)D[Ce-1]=arguments[Ce];return oc(Vr(V)?bo(V):[V],Kr(D,1))}var Ir=yt(function(x,D){return El(x)?Ko(x,Kr(D,1,El,!0)):[]}),Oa=yt(function(x,D){var V=Eu(D);return El(V)&&(V=t),El(x)?Ko(x,Kr(D,1,El,!0),mr(V,2)):[]}),Zl=yt(function(x,D){var V=Eu(D);return El(V)&&(V=t),El(x)?Ko(x,Kr(D,1,El,!0),t,V):[]});function mc(x,D,V){var Ce=x==null?0:x.length;return Ce?(D=V||D===t?1:oo(D),Xt(x,D<0?0:D,Ce)):[]}function mA(x,D,V){var Ce=x==null?0:x.length;return Ce?(D=V||D===t?1:oo(D),D=Ce-D,Xt(x,0,D<0?0:D)):[]}function ah(x,D){return x&&x.length?Fo(x,mr(D,3),!0,!0):[]}function fs(x,D){return x&&x.length?Fo(x,mr(D,3),!0):[]}function Su(x,D,V,Ce){var Je=x==null?0:x.length;return Je?(V&&typeof V!="number"&&E(x,D,V)&&(V=0,Ce=Je),ro(x,D,V,Ce)):[]}function wl(x,D,V){var Ce=x==null?0:x.length;if(!Ce)return-1;var Je=V==null?0:oo(V);return Je<0&&(Je=Qo(Ce+Je,0)),VA(x,mr(D,3),Je)}function gc(x,D,V){var Ce=x==null?0:x.length;if(!Ce)return-1;var Je=Ce-1;return V!==t&&(Je=oo(V),Je=V<0?Qo(Ce+Je,0):la(Je,Ce-1)),VA(x,mr(D,3),Je,!0)}function ll(x){var D=x==null?0:x.length;return D?Kr(x,1):[]}function gA(x){var D=x==null?0:x.length;return D?Kr(x,st):[]}function Zu(x,D){var V=x==null?0:x.length;return V?(D=D===t?1:oo(D),Kr(x,D)):[]}function ad(x){for(var D=-1,V=x==null?0:x.length,Ce={};++D<V;){var Je=x[D];Ce[Je[0]]=Je[1]}return Ce}function hf(x){return x&&x.length?x[0]:t}function Wg(x,D,V){var Ce=x==null?0:x.length;if(!Ce)return-1;var Je=V==null?0:oo(V);return Je<0&&(Je=Qo(Ce+Je,0)),is(x,D,Je)}function Qg(x){var D=x==null?0:x.length;return D?Xt(x,0,-1):[]}var Pd=yt(function(x){var D=mo(x,Yo);return D.length&&D[0]===x[0]?Ya(D):[]}),Tp=yt(function(x){var D=Eu(x),V=mo(x,Yo);return D===Eu(V)?D=t:V.pop(),V.length&&V[0]===x[0]?Ya(V,mr(D,2)):[]}),vm=yt(function(x){var D=Eu(x),V=mo(x,Yo);return D=typeof D=="function"?D:t,D&&V.pop(),V.length&&V[0]===x[0]?Ya(V,t,D):[]});function l0(x,D){return x==null?"":TA.call(x,D)}function Eu(x){var D=x==null?0:x.length;return D?x[D-1]:t}function Cm(x,D,V){var Ce=x==null?0:x.length;if(!Ce)return-1;var Je=Ce;return V!==t&&(Je=oo(V),Je=Je<0?Qo(Ce+Je,0):la(Je,Ce-1)),D===D?MA(x,D,Je):VA(x,zl,Je,!0)}function Yg(x,D){return x&&x.length?he(x,oo(D)):t}var ay=yt($f);function $f(x,D){return x&&x.length&&D&&D.length?Xe(x,D):x}function _m(x,D,V){return x&&x.length&&D&&D.length?Xe(x,D,mr(V,2)):x}function bm(x,D,V){return x&&x.length&&D&&D.length?Xe(x,D,t,V):x}var sy=ds(function(x,D){var V=x==null?0:x.length,Ce=rh(x,D);return At(x,mo(D,function(Je){return B(Je,V)?+Je:Je}).sort(xl)),Ce});function rC(x,D){var V=[];if(!(x&&x.length))return V;var Ce=-1,Je=[],pt=x.length;for(D=mr(D,3);++Ce<pt;){var Lt=x[Ce];D(Lt,Ce,x)&&(V.push(Lt),Je.push(Ce))}return At(x,Je),V}function q0(x){return x==null?x:Xc.call(x)}function ls(x,D,V){var Ce=x==null?0:x.length;return Ce?(V&&typeof V!="number"&&E(x,D,V)?(D=0,V=Ce):(D=D==null?0:oo(D),V=V===t?Ce:oo(V)),Xt(x,D,V)):[]}function Qs(x,D){return An(x,D)}function ia(x,D,V){return qn(x,D,mr(V,2))}function qo(x,D){var V=x==null?0:x.length;if(V){var Ce=An(x,D);if(Ce<V&&Xl(x[Ce],D))return Ce}return-1}function As(x,D){return An(x,D,!0)}function sh(x,D,V){return qn(x,D,mr(V,2),!0)}function Zf(x,D){var V=x==null?0:x.length;if(V){var Ce=An(x,D,!0)-1;if(Xl(x[Ce],D))return Ce}return-1}function xm(x){return x&&x.length?Qn(x):[]}function qg(x,D){return x&&x.length?Qn(x,mr(D,2)):[]}function df(x){var D=x==null?0:x.length;return D?Xt(x,1,D):[]}function Sl(x,D,V){return x&&x.length?(D=V||D===t?1:oo(D),Xt(x,0,D<0?0:D)):[]}function Kd(x,D,V){var Ce=x==null?0:x.length;return Ce?(D=V||D===t?1:oo(D),D=Ce-D,Xt(x,D<0?0:D,Ce)):[]}function Xf(x,D){return x&&x.length?Fo(x,mr(D,3),!1,!0):[]}function H0(x,D){return x&&x.length?Fo(x,mr(D,3)):[]}var lh=yt(function(x){return hr(Kr(x,1,El,!0))}),Mm=yt(function(x){var D=Eu(x);return El(D)&&(D=t),hr(Kr(x,1,El,!0),mr(D,2))}),Jf=yt(function(x){var D=Eu(x);return D=typeof D=="function"?D:t,hr(Kr(x,1,El,!0),t,D)});function Fc(x){return x&&x.length?hr(x):[]}function V0(x,D){return x&&x.length?hr(x,mr(D,2)):[]}function Hg(x,D){return D=typeof D=="function"?D:t,x&&x.length?hr(x,t,D):[]}function wm(x){if(!(x&&x.length))return[];var D=0;return x=HA(x,function(V){if(El(V))return D=Qo(V.length,D),!0}),_h(D,function(V){return mo(x,Gh(V))})}function A0(x,D){if(!(x&&x.length))return[];var V=wm(x);return D==null?V:mo(V,function(Ce){return gs(D,t,Ce)})}var ff=yt(function(x,D){return El(x)?Ko(x,D):[]}),Bu=yt(function(x){return ca(HA(x,El))}),ep=yt(function(x){var D=Eu(x);return El(D)&&(D=t),ca(HA(x,El),mr(D,2))}),Ud=yt(function(x){var D=Eu(x);return D=typeof D=="function"?D:t,ca(HA(x,El),t,D)}),tl=yt(wm);function u0(x,D){return Or(x||[],D||[],Oh)}function $0(x,D){return Or(x||[],D||[],Ft)}var Vg=yt(function(x){var D=x.length,V=D>1?x[D-1]:t;return V=typeof V=="function"?(x.pop(),V):t,A0(x,V)});function tp(x){var D=rt(x);return D.__chain__=!0,D}function np(x,D){return D(x),x}function Ou(x,D){return D(x)}var ly=ds(function(x){var D=x.length,V=D?x[0]:0,Ce=this.__wrapped__,Je=function(pt){return rh(pt,x)};return D>1||this.__actions__.length||!(Ce instanceof yr)||!B(V)?this.thru(Je):(Ce=Ce.slice(V,+V+(D?1:0)),Ce.__actions__.push({func:Ou,args:[Je],thisArg:t}),new Jo(Ce,this.__chain__).thru(function(pt){return D&&!pt.length&&pt.push(t),pt}))});function Ah(){return tp(this)}function Ay(){return new Jo(this.value(),this.__chain__)}function uy(){this.__values__===t&&(this.__values__=zc(this.value()));var x=this.__index__>=this.__values__.length,D=x?t:this.__values__[this.__index__++];return{done:x,value:D}}function oC(){return this}function ip(x){for(var D,V=this;V instanceof Qa;){var Ce=da(V);Ce.__index__=0,Ce.__values__=t,D?Je.__wrapped__=Ce:D=Ce;var Je=Ce;V=V.__wrapped__}return Je.__wrapped__=x,D}function Z0(){var x=this.__wrapped__;if(x instanceof yr){var D=x;return this.__actions__.length&&(D=new yr(this)),D=D.reverse(),D.__actions__.push({func:Ou,args:[q0],thisArg:t}),new Jo(D,this.__chain__)}return this.thru(q0)}function $g(){return La(this.__wrapped__,this.__actions__)}var Sm=bu(function(x,D,V){Wo.call(x,V)?++x[V]:vu(x,V,1)});function cy(x,D,V){var Ce=Vr(x)?Ku:zf;return V&&E(x,D,V)&&(D=t),Ce(x,mr(D,3))}function hy(x,D){var V=Vr(x)?HA:Uo;return V(x,mr(D,3))}var dy=Mu(wl),X0=Mu(gc);function c0(x,D){return Kr(Bm(x,D),1)}function fy(x,D){return Kr(Bm(x,D),st)}function rp(x,D,V){return V=V===t?1:oo(V),Kr(Bm(x,D),V)}function Em(x,D){var V=Vr(x)?Ua:Ql;return V(x,mr(D,3))}function op(x,D){var V=Vr(x)?vd:Jh;return V(x,mr(D,3))}var h0=bu(function(x,D,V){Wo.call(x,V)?x[V].push(D):vu(x,V,[D])});function pf(x,D,V,Ce){x=Jl(x)?x:Ai(x),V=V&&!Ce?oo(V):0;var Je=x.length;return V<0&&(V=Qo(Je+V,0)),Lp(x)?V<=Je&&x.indexOf(D,V)>-1:!!Je&&is(x,D,V)>-1}var J0=yt(function(x,D,V){var Ce=-1,Je=typeof D=="function",pt=Jl(x)?vn(x.length):[];return Ql(x,function(Lt){pt[++Ce]=Je?gs(D,Lt,V):_u(Lt,D,V)}),pt}),py=bu(function(x,D,V){vu(x,V,D)});function Bm(x,D){var V=Vr(x)?mo:S;return V(x,mr(D,3))}function Zg(x,D,V,Ce){return x==null?[]:(Vr(D)||(D=D==null?[]:[D]),V=Ce?t:V,Vr(V)||(V=V==null?[]:[V]),me(x,D,V))}var my=bu(function(x,D,V){x[V?0:1].push(D)},function(){return[[],[]]});function Xg(x,D,V){var Ce=Vr(x)?Cd:Wh,Je=arguments.length<3;return Ce(x,mr(D,4),V,Je,Ql)}function Jg(x,D,V){var Ce=Vr(x)?fm:Wh,Je=arguments.length<3;return Ce(x,mr(D,4),V,Je,Jh)}function Om(x,D){var V=Vr(x)?HA:Uo;return V(x,Rp(mr(D,3)))}function eg(x){var D=Vr(x)?yu:wt;return D(x)}function gy(x,D,V){(V?E(x,D,V):D===t)?D=1:D=oo(D);var Ce=Vr(x)?of:Pt;return Ce(x,D)}function xs(x){var D=Vr(x)?io:dn;return D(x)}function e1(x){if(x==null)return 0;if(Jl(x))return Lp(x)?sc(x):x.length;var D=sl(x);return D==Ot||D==On?x.size:s(x).length}function aC(x,D,V){var Ce=Vr(x)?vh:nn;return V&&E(x,D,V)&&(D=t),Ce(x,mr(D,3))}var yy=yt(function(x,D){if(x==null)return[];var V=D.length;return V>1&&E(x,D[0],D[1])?D=[]:V>2&&E(D[0],D[1],D[2])&&(D=[D[0]]),me(x,Kr(D,1),[])}),tg=mu||function(){return Ri.Date.now()};function sC(x,D){if(typeof D!="function")throw new lA(l);return x=oo(x),function(){if(--x<1)return D.apply(this,arguments)}}function t1(x,D,V){return D=V?t:D,D=x&&D==null?x.length:D,ta(x,G,t,t,t,t,D)}function Im(x,D){var V;if(typeof D!="function")throw new lA(l);return x=oo(x),function(){return--x>0&&(V=D.apply(this,arguments)),x<=1&&(D=t),V}}var Xu=yt(function(x,D,V){var Ce=Y;if(V.length){var Je=du(V,Rd(Xu));Ce|=$}return ta(x,Ce,D,V,Je)}),sd=yt(function(x,D,V){var Ce=Y|te;if(V.length){var Je=du(V,Rd(sd));Ce|=$}return ta(D,Ce,x,V,Je)});function Tm(x,D,V){D=V?t:D;var Ce=ta(x,oe,t,t,t,t,t,D);return Ce.placeholder=Tm.placeholder,Ce}function km(x,D,V){D=V?t:D;var Ce=ta(x,ne,t,t,t,t,t,D);return Ce.placeholder=km.placeholder,Ce}function ap(x,D,V){var Ce,Je,pt,Lt,Vt,sn,Yn=0,Hn=!1,ui=!1,Ni=!0;if(typeof x!="function")throw new lA(l);D=hh(D)||0,Al(V)&&(Hn=!!V.leading,ui="maxWait"in V,pt=ui?Qo(hh(V.maxWait)||0,D):pt,Ni="trailing"in V?!!V.trailing:Ni);function Sr(Tu){var Gp=Ce,M0=Je;return Ce=Je=t,Yn=Tu,Lt=x.apply(M0,Gp),Lt}function ao(Tu){return Yn=Tu,Vt=sr(ka,D),Hn?Sr(Tu):Lt}function fa(Tu){var Gp=Tu-sn,M0=Tu-Yn,s7=D-Gp;return ui?la(s7,pt-M0):s7}function so(Tu){var Gp=Tu-sn,M0=Tu-Yn;return sn===t||Gp>=D||Gp<0||ui&&M0>=pt}function ka(){var Tu=tg();if(so(Tu))return $a(Tu);Vt=sr(ka,fa(Tu))}function $a(Tu){return Vt=t,Ni&&Ce?Sr(Tu):(Ce=Je=t,Lt)}function yf(){Vt!==t&&qu(Vt),Yn=0,Ce=sn=Je=Vt=t}function cd(){return Vt===t?Lt:$a(tg())}function vf(){var Tu=tg(),Gp=so(Tu);if(Ce=arguments,Je=this,sn=Tu,Gp){if(Vt===t)return ao(sn);if(ui)return qu(Vt),Vt=sr(ka,D),Sr(sn)}return Vt===t&&(Vt=sr(ka,D)),Lt}return vf.cancel=yf,vf.flush=cd,vf}var uh=yt(function(x,D){return Wl(x,1,D)}),kp=yt(function(x,D,V){return Wl(x,hh(D)||0,V)});function lC(x){return ta(x,ge)}function Dp(x,D){if(typeof x!="function"||D!=null&&typeof D!="function")throw new lA(l);var V=function(){var Ce=arguments,Je=D?D.apply(this,Ce):Ce[0],pt=V.cache;if(pt.has(Je))return pt.get(Je);var Lt=x.apply(this,Ce);return V.cache=pt.set(Je,Lt)||pt,Lt};return V.cache=new(Dp.Cache||rs),V}Dp.Cache=rs;function Rp(x){if(typeof x!="function")throw new lA(l);return function(){var D=arguments;switch(D.length){case 0:return!x.call(this);case 1:return!x.call(this,D[0]);case 2:return!x.call(this,D[0],D[1]);case 3:return!x.call(this,D[0],D[1],D[2])}return!x.apply(this,D)}}function Pp(x){return Im(2,x)}var n1=Is(function(x,D){D=D.length==1&&Vr(D[0])?mo(D[0],aA(mr())):mo(Kr(D,1),aA(mr()));var V=D.length;return yt(function(Ce){for(var Je=-1,pt=la(Ce.length,V);++Je<pt;)Ce[Je]=D[Je].call(this,Ce[Je]);return gs(x,this,Ce)})}),ng=yt(function(x,D){var V=du(D,Rd(ng));return ta(x,$,t,D,V)}),Dm=yt(function(x,D){var V=du(D,Rd(Dm));return ta(x,ae,t,D,V)}),i1=ds(function(x,D){return ta(x,ce,t,t,t,D)});function d0(x,D){if(typeof x!="function")throw new lA(l);return D=D===t?D:oo(D),yt(x,D)}function vy(x,D){if(typeof x!="function")throw new lA(l);return D=D==null?0:Qo(oo(D),0),yt(function(V){var Ce=V[D],Je=Ts(V,0,D);return Ce&&oc(Je,Ce),gs(x,this,Je)})}function r1(x,D,V){var Ce=!0,Je=!0;if(typeof x!="function")throw new lA(l);return Al(V)&&(Ce="leading"in V?!!V.leading:Ce,Je="trailing"in V?!!V.trailing:Je),ap(x,D,{leading:Ce,maxWait:D,trailing:Je})}function o1(x){return t1(x,1)}function Cy(x,D){return ng(as(D),x)}function AC(){if(!arguments.length)return[];var x=arguments[0];return Vr(x)?x:[x]}function f0(x){return bl(x,K)}function uC(x,D){return D=typeof D=="function"?D:t,bl(x,K,D)}function _y(x){return bl(x,O|K)}function ra(x,D){return D=typeof D=="function"?D:t,bl(x,O|K,D)}function p0(x,D){return D==null||af(x,D,ie(D))}function Xl(x,D){return x===D||x!==x&&D!==D}var ig=od(Yl),a1=od(function(x,D){return x>=D}),Ld=Rc(function(){return arguments}())?Rc:function(x){return ul(x)&&Wo.call(x,"callee")&&!Dr.call(x,"callee")},Vr=vn.isArray,m0=fo?aA(fo):Js;function Jl(x){return x!=null&&sp(x.length)&&!Rh(x)}function El(x){return ul(x)&&Jl(x)}function g0(x){return x===!0||x===!1||ul(x)&&go(x)==Fe}var mf=wh||Np,rg=Go?aA(Go):os;function s1(x){return ul(x)&&x.nodeType===1&&!ch(x)}function Ju(x){if(x==null)return!0;if(Jl(x)&&(Vr(x)||typeof x=="string"||typeof x.splice=="function"||mf(x)||Rm(x)||Ld(x)))return!x.length;var D=sl(x);if(D==Ot||D==On)return!x.size;if(Le(x))return!s(x).length;for(var V in x)if(Wo.call(x,V))return!1;return!0}function Ia(x,D){return hA(x,D)}function Kp(x,D,V){V=typeof V=="function"?V:t;var Ce=V?V(x,D):t;return Ce===t?hA(x,D,t,V):!!Ce}function nl(x){if(!ul(x))return!1;var D=go(x);return D==He||D==Re||typeof x.message=="string"&&typeof x.name=="string"&&!ch(x)}function by(x){return typeof x=="number"&&Vh(x)}function Rh(x){if(!Al(x))return!1;var D=go(x);return D==bt||D==_t||D==Ut||D==Wt}function y0(x){return typeof x=="number"&&x==oo(x)}function sp(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=Ct}function Al(x){var D=typeof x;return x!=null&&(D=="object"||D=="function")}function ul(x){return x!=null&&typeof x=="object"}var ld=Nr?aA(Nr):hc;function og(x,D){return x===D||dc(x,D,na(D))}function xy(x,D,V){return V=typeof V=="function"?V:t,dc(x,D,na(D),V)}function l1(x){return A1(x)&&x!=+x}function My(x){if(ke(x))throw new Er(a);return ql(x)}function wy(x){return x===null}function cC(x){return x==null}function A1(x){return typeof x=="number"||ul(x)&&go(x)==qt}function ch(x){if(!ul(x)||go(x)!=on)return!1;var D=Bc(x);if(D===null)return!0;var V=Wo.call(D,"constructor")&&D.constructor;return typeof V=="function"&&V instanceof V&&kl.call(V)==Zs}var Up=Vs?aA(Vs):nd;function ag(x){return y0(x)&&x>=-Ct&&x<=Ct}var v0=Fl?aA(Fl):id;function Lp(x){return typeof x=="string"||!Vr(x)&&ul(x)&&go(x)==Bn}function ou(x){return typeof x=="symbol"||ul(x)&&go(x)==In}var Rm=qA?aA(qA):kd;function Ad(x){return x===t}function u1(x){return ul(x)&&sl(x)==ei}function Fp(x){return ul(x)&&go(x)==Kn}var KA=od(_),zp=od(function(x,D){return x<=D});function zc(x){if(!x)return[];if(Jl(x))return Lp(x)?wA(x):bo(x);if(Oc&&x[Oc])return pm(x[Oc]());var D=sl(x),V=D==Ot?Vc:D==On?ZA:Ai;return V(x)}function ud(x){if(!x)return x===0?x:0;if(x=hh(x),x===st||x===-st){var D=x<0?-1:1;return D*nt}return x===x?x:0}function oo(x){var D=ud(x),V=D%1;return D===D?V?D-V:D:0}function Fd(x){return x?tu(oo(x),0,Ne):0}function hh(x){if(typeof x=="number")return x;if(ou(x))return be;if(Al(x)){var D=typeof x.valueOf=="function"?x.valueOf():x;x=Al(D)?D+"":D}if(typeof x!="string")return x===0?x:+x;x=Kf(x);var V=kr.test(x);return V||yl.test(x)?Xn(x.slice(2),V?2:8):ja.test(x)?be:+x}function c1(x){return ea(x,ue(x))}function Pm(x){return x?tu(oo(x),-Ct,Ct):x===0?x:0}function Fa(x){return x==null?"":xi(x)}var h1=fA(function(x,D){if(Le(D)||Jl(D)){ea(D,ie(D),x);return}for(var V in D)Wo.call(D,V)&&Oh(x,V,D[V])}),sg=fA(function(x,D){ea(D,ue(D),x)}),C0=fA(function(x,D,V,Ce){ea(D,ue(D),x,Ce)}),_0=fA(function(x,D,V,Ce){ea(D,ie(D),x,Ce)}),d1=ds(rh);function Sy(x,D){var V=Xs(x);return D==null?V:cc(V,D)}var f1=yt(function(x,D){x=Ro(x);var V=-1,Ce=D.length,Je=Ce>2?D[2]:t;for(Je&&E(D[0],D[1],Je)&&(Ce=1);++V<Ce;)for(var pt=D[V],Lt=ue(pt),Vt=-1,sn=Lt.length;++Vt<sn;){var Yn=Lt[Vt],Hn=x[Yn];(Hn===t||Xl(Hn,SA[Yn])&&!Wo.call(x,Yn))&&(x[Yn]=pt[Yn])}return x}),b0=yt(function(x){return x.push(t,kh),gs(qe,t,x)});function zd(x,D){return Rf(x,mr(D,3),ki)}function jp(x,D){return Rf(x,mr(D,3),Dc)}function lg(x,D){return x==null?x:Yu(x,mr(D,3),ue)}function p1(x,D){return x==null?x:Ii(x,mr(D,3),ue)}function Km(x,D){return x&&ki(x,mr(D,3))}function h(x,D){return x&&Dc(x,mr(D,3))}function A(x){return x==null?[]:RA(x,ie(x))}function c(x){return x==null?[]:RA(x,ue(x))}function y(x,D,V){var Ce=x==null?t:cA(x,D);return Ce===t?V:Ce}function w(x,D){return x!=null&&Vf(x,D,jf)}function R(x,D){return x!=null&&Vf(x,D,ed)}var P=iu(function(x,D,V){D!=null&&typeof D.toString!="function"&&(D=Wa.call(D)),x[D]=V},hn(fn)),N=iu(function(x,D,V){D!=null&&typeof D.toString!="function"&&(D=Wa.call(D)),Wo.call(x,D)?x[D].push(V):x[D]=[V]},mr),H=yt(_u);function ie(x){return Jl(x)?kc(x):s(x)}function ue(x){return Jl(x)?kc(x,!0):f(x)}function ve(x,D){var V={};return D=mr(D,3),ki(x,function(Ce,Je,pt){vu(V,D(Ce,Je,pt),Ce)}),V}function Pe(x,D){var V={};return D=mr(D,3),ki(x,function(Ce,Je,pt){vu(V,Je,D(Ce,Je,pt))}),V}var Qe=fA(function(x,D,V){q(x,D,V)}),qe=fA(function(x,D,V,Ce){q(x,D,V,Ce)}),et=ds(function(x,D){var V={};if(x==null)return V;var Ce=!1;D=mo(D,function(pt){return pt=qa(pt,x),Ce||(Ce=pt.length>1),pt}),ea(x,Ip(x),V),Ce&&(V=bl(V,O|U|K,Yf));for(var Je=D.length;Je--;)_o(V,D[Je]);return V});function ut(x,D){return Qt(x,Rp(mr(D)))}var Mt=ds(function(x,D){return x==null?{}:Be(x,D)});function Qt(x,D){if(x==null)return{};var V=mo(Ip(x),function(Ce){return[Ce]});return D=mr(D),Me(x,V,function(Ce,Je){return D(Ce,Je[0])})}function Dt(x,D,V){D=qa(D,x);var Ce=-1,Je=D.length;for(Je||(Je=1,x=t);++Ce<Je;){var pt=x==null?t:x[Hr(D[Ce])];pt===t&&(Ce=Je,pt=V),x=Rh(pt)?pt.call(x):pt}return x}function jt(x,D,V){return x==null?x:Ft(x,D,V)}function ln(x,D,V,Ce){return Ce=typeof Ce=="function"?Ce:t,x==null?x:Ft(x,D,V,Ce)}var Cn=lf(ie),Un=lf(ue);function pi(x,D,V){var Ce=Vr(x),Je=Ce||mf(x)||Rm(x);if(D=mr(D,4),V==null){var pt=x&&x.constructor;Je?V=Ce?new pt:[]:Al(x)?V=Rh(pt)?Xs(Bc(x)):{}:V={}}return(Je?Ua:ki)(x,function(Lt,Vt,sn){return D(V,Lt,Vt,sn)}),V}function ai(x,D){return x==null?!0:_o(x,D)}function di(x,D,V){return x==null?x:ua(x,D,as(V))}function nr(x,D,V,Ce){return Ce=typeof Ce=="function"?Ce:t,x==null?x:ua(x,D,as(V),Ce)}function Ai(x){return x==null?[]:Uf(x,ie(x))}function fi(x){return x==null?[]:Uf(x,ue(x))}function En(x,D,V){return V===t&&(V=D,D=t),V!==t&&(V=hh(V),V=V===V?V:0),D!==t&&(D=hh(D),D=D===D?D:0),tu(hh(x),D,V)}function pr(x,D,V){return D=ud(D),V===t?(V=D,D=0):V=ud(V),x=hh(x),Lo(x,D,V)}function Br(x,D,V){if(V&&typeof V!="boolean"&&E(x,D,V)&&(D=V=t),V===t&&(typeof D=="boolean"?(V=D,D=t):typeof x=="boolean"&&(V=x,x=t)),x===t&&D===t?(x=0,D=1):(x=ud(x),D===t?(D=x,x=0):D=ud(D)),x>D){var Ce=x;x=D,D=Ce}if(V||x%1||D%1){var Je=Ic();return la(x+Je*(D-x+Si("1e-"+((Je+"").length-1))),D)}return ct(x,D)}var lr=Ha(function(x,D,V){return D=D.toLowerCase(),x+(V?Ui(D):D)});function Ui(x){return T(Fa(x).toLowerCase())}function Wr(x){return x=Fa(x),x&&x.replace(So,wd).replace(oA,"")}function za(x,D,V){x=Fa(x),D=xi(D);var Ce=x.length;V=V===t?Ce:tu(oo(V),0,Ce);var Je=V;return V-=D.length,V>=0&&x.slice(V,Je)==D}function Ms(x){return x=Fa(x),x&&Dn.test(x)?x.replace(it,Uu):x}function Rl(x){return x=Fa(x),x&&ti.test(x)?x.replace(hi,"\\$&"):x}var Iu=Ha(function(x,D,V){return x+(V?"-":"")+D.toLowerCase()}),Pl=Ha(function(x,D,V){return x+(V?" ":"")+D.toLowerCase()}),UA=nu("toLowerCase");function Ds(x,D,V){x=Fa(x),D=oo(D);var Ce=D?sc(x):0;if(!D||Ce>=D)return x;var Je=(D-Ce)/2;return sf(IA(Je),V)+x+sf(Zc(Je),V)}function cl(x,D,V){x=Fa(x),D=oo(D);var Ce=D?sc(x):0;return D&&Ce<D?x+sf(D-Ce,V):x}function LA(x,D,V){x=Fa(x),D=oo(D);var Ce=D?sc(x):0;return D&&Ce<D?sf(D-Ce,V)+x:x}function yA(x,D,V){return V||D==null?D=0:D&&(D=+D),ju(Fa(x).replace(Qi,""),D||0)}function FA(x,D,V){return(V?E(x,D,V):D===t)?D=1:D=oo(D),xt(Fa(x),D)}function jc(){var x=arguments,D=Fa(x[0]);return x.length<3?D:D.replace(x[1],x[2])}var vA=Ha(function(x,D,V){return x+(V?"_":"")+D.toLowerCase()});function au(x,D,V){return V&&typeof V!="number"&&E(x,D,V)&&(D=V=t),V=V===t?Ne:V>>>0,V?(x=Fa(x),x&&(typeof D=="string"||D!=null&&!Up(D))&&(D=xi(D),!D&&Sc(x))?Ts(wA(x),0,V):x.split(D,V)):[]}var hl=Ha(function(x,D,V){return x+(V?" ":"")+T(D)});function eA(x,D,V){return x=Fa(x),V=V==null?0:tu(oo(V),0,x.length),D=xi(D),x.slice(V,V+D.length)==D}function dl(x,D,V){var Ce=rt.templateSettings;V&&E(x,D,V)&&(D=t),x=Fa(x),D=C0({},D,Ce,Op);var Je=C0({},D.imports,Ce.imports,Op),pt=ie(Je),Lt=Uf(Je,pt),Vt,sn,Yn=0,Hn=D.interpolate||ts,ui="__p += '",Ni=$c((D.escape||ts).source+"|"+Hn.source+"|"+(Hn===Wn?zi:ts).source+"|"+(D.evaluate||ts).source+"|$","g"),Sr="//# sourceURL="+(Wo.call(D,"sourceURL")?(D.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xi+"]")+`
`;x.replace(Ni,function(so,ka,$a,yf,cd,vf){return $a||($a=yf),ui+=x.slice(Yn,vf).replace(Tl,$A),ka&&(Vt=!0,ui+=`' +
__e(`+ka+`) +
'`),cd&&(sn=!0,ui+=`';
`+cd+`;
__p += '`),$a&&(ui+=`' +
((__t = (`+$a+`)) == null ? '' : __t) +
'`),Yn=vf+so.length,so}),ui+=`';
`;var ao=Wo.call(D,"variable")&&D.variable;if(!ao)ui=`with (obj) {
`+ui+`
}
`;else if(Zn.test(ao))throw new Er(o);ui=(sn?ui.replace(g,""):ui).replace(mt,"$1").replace(ht,"$1;"),ui="function("+(ao||"obj")+`) {
`+(ao?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Vt?", __e = _.escape":"")+(sn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ui+`return __p
}`;var fa=se(function(){return Io(pt,Sr+"return "+ui).apply(t,Lt)});if(fa.source=ui,nl(fa))throw fa;return fa}function fl(x){return Fa(x).toLowerCase()}function Va(x){return Fa(x).toUpperCase()}function Ph(x,D,V){if(x=Fa(x),x&&(V||D===t))return Kf(x);if(!x||!(D=xi(D)))return x;var Ce=wA(x),Je=wA(D),pt=sA(Ce,Je),Lt=wc(Ce,Je)+1;return Ts(Ce,pt,Lt).join("")}function Um(x,D,V){if(x=Fa(x),x&&(V||D===t))return x.slice(0,Lu(x)+1);if(!x||!(D=xi(D)))return x;var Ce=wA(x),Je=wc(Ce,wA(D))+1;return Ts(Ce,0,Je).join("")}function Nc(x,D,V){if(x=Fa(x),x&&(V||D===t))return x.replace(Qi,"");if(!x||!(D=xi(D)))return x;var Ce=wA(x),Je=sA(Ce,wA(D));return Ts(Ce,Je).join("")}function u(x,D){var V=ye,Ce=we;if(Al(D)){var Je="separator"in D?D.separator:Je;V="length"in D?oo(D.length):V,Ce="omission"in D?xi(D.omission):Ce}x=Fa(x);var pt=x.length;if(Sc(x)){var Lt=wA(x);pt=Lt.length}if(V>=pt)return x;var Vt=V-sc(Ce);if(Vt<1)return Ce;var sn=Lt?Ts(Lt,0,Vt).join(""):x.slice(0,Vt);if(Je===t)return sn+Ce;if(Lt&&(Vt+=sn.length-Vt),Up(Je)){if(x.slice(Vt).search(Je)){var Yn,Hn=sn;for(Je.global||(Je=$c(Je.source,Fa(Cr.exec(Je))+"g")),Je.lastIndex=0;Yn=Je.exec(Hn);)var ui=Yn.index;sn=sn.slice(0,ui===t?Vt:ui)}}else if(x.indexOf(xi(Je),Vt)!=Vt){var Ni=sn.lastIndexOf(Je);Ni>-1&&(sn=sn.slice(0,Ni))}return sn+Ce}function m(x){return x=Fa(x),x&&en.test(x)?x.replace(Tt,Oo):x}var b=Ha(function(x,D,V){return x+(V?" ":"")+D.toUpperCase()}),T=nu("toUpperCase");function Q(x,D,V){return x=Fa(x),D=V?t:D,D===t?qh(x)?Sp(x):Df(x):x.match(D)||[]}var se=yt(function(x,D){try{return gs(x,t,D)}catch(V){return nl(V)?V:new Er(V)}}),Ge=ds(function(x,D){return Ua(D,function(V){V=Hr(V),vu(x,V,Xu(x[V],x))}),x});function ot(x){var D=x==null?0:x.length,V=mr();return x=D?mo(x,function(Ce){if(typeof Ce[1]!="function")throw new lA(l);return[V(Ce[0]),Ce[1]]}):[],yt(function(Ce){for(var Je=-1;++Je<D;){var pt=x[Je];if(gs(pt[0],this,Ce))return gs(pt[1],this,Ce)}})}function zt(x){return Bp(bl(x,O))}function hn(x){return function(){return x}}function kn(x,D){return x==null||x!==x?D:x}var Nn=wu(),pn=wu(!0);function fn(x){return x}function Ur(x){return I(typeof x=="function"?x:bl(x,O))}function Lr(x){return k(bl(x,O))}function ws(x,D){return z(x,bl(D,O))}var tn=yt(function(x,D){return function(V){return _u(V,x,D)}}),$t=yt(function(x,D){return function(V){return _u(x,V,D)}});function un(x,D,V){var Ce=ie(D),Je=RA(D,Ce);V==null&&!(Al(D)&&(Je.length||!Ce.length))&&(V=D,D=x,x=this,Je=RA(D,ie(D)));var pt=!(Al(V)&&"chain"in V)||!!V.chain,Lt=Rh(x);return Ua(Je,function(Vt){var sn=D[Vt];x[Vt]=sn,Lt&&(x.prototype[Vt]=function(){var Yn=this.__chain__;if(pt||Yn){var Hn=x(this.__wrapped__),ui=Hn.__actions__=bo(this.__actions__);return ui.push({func:sn,args:arguments,thisArg:x}),Hn.__chain__=Yn,Hn}return sn.apply(x,oc([this.value()],arguments))})}),x}function Ln(){return Ri._===this&&(Ri._=Bs),this}function rr(){}function Ho(x){return x=oo(x),yt(function(D){return he(D,x)})}var ir=Gf(mo),Tr=Gf(Ku),zA=Gf(vh);function Ta(x){return F(x)?Gh(Hr(x)):Ue(x)}function lp(x){return function(D){return x==null?t:cA(x,D)}}var hC=pc(),yc=pc(!0);function dh(){return[]}function Np(){return!1}function gf(){return{}}function x0(){return""}function Ap(){return!0}function TG(x,D){if(x=oo(x),x<1||x>Ct)return[];var V=Ne,Ce=la(x,Ne);D=mr(D),x-=Ne;for(var Je=_h(Ce,D);++V<x;)D(V);return Je}function kG(x){return Vr(x)?mo(x,Hr):ou(x)?[x]:bo(ha(Fa(x)))}function DG(x){var D=++pu;return Fa(x)+D}var RG=rd(function(x,D){return x+D},0),PG=Qf("ceil"),KG=rd(function(x,D){return x/D},1),UG=Qf("floor");function LG(x){return x&&x.length?Cu(x,fn,Yl):t}function FG(x,D){return x&&x.length?Cu(x,mr(D,2),Yl):t}function zG(x){return xd(x,fn)}function jG(x,D){return xd(x,mr(D,2))}function NG(x){return x&&x.length?Cu(x,fn,_):t}function GG(x,D){return x&&x.length?Cu(x,mr(D,2),_):t}var WG=rd(function(x,D){return x*D},1),QG=Qf("round"),YG=rd(function(x,D){return x-D},0);function qG(x){return x&&x.length?Ch(x,fn):0}function HG(x,D){return x&&x.length?Ch(x,mr(D,2)):0}return rt.after=sC,rt.ary=t1,rt.assign=h1,rt.assignIn=sg,rt.assignInWith=C0,rt.assignWith=_0,rt.at=d1,rt.before=Im,rt.bind=Xu,rt.bindAll=Ge,rt.bindKey=sd,rt.castArray=AC,rt.chain=tp,rt.chunk=$l,rt.compact=ks,rt.concat=Ws,rt.cond=ot,rt.conforms=zt,rt.constant=hn,rt.countBy=Sm,rt.create=Sy,rt.curry=Tm,rt.curryRight=km,rt.debounce=ap,rt.defaults=f1,rt.defaultsDeep=b0,rt.defer=uh,rt.delay=kp,rt.difference=Ir,rt.differenceBy=Oa,rt.differenceWith=Zl,rt.drop=mc,rt.dropRight=mA,rt.dropRightWhile=ah,rt.dropWhile=fs,rt.fill=Su,rt.filter=hy,rt.flatMap=c0,rt.flatMapDeep=fy,rt.flatMapDepth=rp,rt.flatten=ll,rt.flattenDeep=gA,rt.flattenDepth=Zu,rt.flip=lC,rt.flow=Nn,rt.flowRight=pn,rt.fromPairs=ad,rt.functions=A,rt.functionsIn=c,rt.groupBy=h0,rt.initial=Qg,rt.intersection=Pd,rt.intersectionBy=Tp,rt.intersectionWith=vm,rt.invert=P,rt.invertBy=N,rt.invokeMap=J0,rt.iteratee=Ur,rt.keyBy=py,rt.keys=ie,rt.keysIn=ue,rt.map=Bm,rt.mapKeys=ve,rt.mapValues=Pe,rt.matches=Lr,rt.matchesProperty=ws,rt.memoize=Dp,rt.merge=Qe,rt.mergeWith=qe,rt.method=tn,rt.methodOf=$t,rt.mixin=un,rt.negate=Rp,rt.nthArg=Ho,rt.omit=et,rt.omitBy=ut,rt.once=Pp,rt.orderBy=Zg,rt.over=ir,rt.overArgs=n1,rt.overEvery=Tr,rt.overSome=zA,rt.partial=ng,rt.partialRight=Dm,rt.partition=my,rt.pick=Mt,rt.pickBy=Qt,rt.property=Ta,rt.propertyOf=lp,rt.pull=ay,rt.pullAll=$f,rt.pullAllBy=_m,rt.pullAllWith=bm,rt.pullAt=sy,rt.range=hC,rt.rangeRight=yc,rt.rearg=i1,rt.reject=Om,rt.remove=rC,rt.rest=d0,rt.reverse=q0,rt.sampleSize=gy,rt.set=jt,rt.setWith=ln,rt.shuffle=xs,rt.slice=ls,rt.sortBy=yy,rt.sortedUniq=xm,rt.sortedUniqBy=qg,rt.split=au,rt.spread=vy,rt.tail=df,rt.take=Sl,rt.takeRight=Kd,rt.takeRightWhile=Xf,rt.takeWhile=H0,rt.tap=np,rt.throttle=r1,rt.thru=Ou,rt.toArray=zc,rt.toPairs=Cn,rt.toPairsIn=Un,rt.toPath=kG,rt.toPlainObject=c1,rt.transform=pi,rt.unary=o1,rt.union=lh,rt.unionBy=Mm,rt.unionWith=Jf,rt.uniq=Fc,rt.uniqBy=V0,rt.uniqWith=Hg,rt.unset=ai,rt.unzip=wm,rt.unzipWith=A0,rt.update=di,rt.updateWith=nr,rt.values=Ai,rt.valuesIn=fi,rt.without=ff,rt.words=Q,rt.wrap=Cy,rt.xor=Bu,rt.xorBy=ep,rt.xorWith=Ud,rt.zip=tl,rt.zipObject=u0,rt.zipObjectDeep=$0,rt.zipWith=Vg,rt.entries=Cn,rt.entriesIn=Un,rt.extend=sg,rt.extendWith=C0,un(rt,rt),rt.add=RG,rt.attempt=se,rt.camelCase=lr,rt.capitalize=Ui,rt.ceil=PG,rt.clamp=En,rt.clone=f0,rt.cloneDeep=_y,rt.cloneDeepWith=ra,rt.cloneWith=uC,rt.conformsTo=p0,rt.deburr=Wr,rt.defaultTo=kn,rt.divide=KG,rt.endsWith=za,rt.eq=Xl,rt.escape=Ms,rt.escapeRegExp=Rl,rt.every=cy,rt.find=dy,rt.findIndex=wl,rt.findKey=zd,rt.findLast=X0,rt.findLastIndex=gc,rt.findLastKey=jp,rt.floor=UG,rt.forEach=Em,rt.forEachRight=op,rt.forIn=lg,rt.forInRight=p1,rt.forOwn=Km,rt.forOwnRight=h,rt.get=y,rt.gt=ig,rt.gte=a1,rt.has=w,rt.hasIn=R,rt.head=hf,rt.identity=fn,rt.includes=pf,rt.indexOf=Wg,rt.inRange=pr,rt.invoke=H,rt.isArguments=Ld,rt.isArray=Vr,rt.isArrayBuffer=m0,rt.isArrayLike=Jl,rt.isArrayLikeObject=El,rt.isBoolean=g0,rt.isBuffer=mf,rt.isDate=rg,rt.isElement=s1,rt.isEmpty=Ju,rt.isEqual=Ia,rt.isEqualWith=Kp,rt.isError=nl,rt.isFinite=by,rt.isFunction=Rh,rt.isInteger=y0,rt.isLength=sp,rt.isMap=ld,rt.isMatch=og,rt.isMatchWith=xy,rt.isNaN=l1,rt.isNative=My,rt.isNil=cC,rt.isNull=wy,rt.isNumber=A1,rt.isObject=Al,rt.isObjectLike=ul,rt.isPlainObject=ch,rt.isRegExp=Up,rt.isSafeInteger=ag,rt.isSet=v0,rt.isString=Lp,rt.isSymbol=ou,rt.isTypedArray=Rm,rt.isUndefined=Ad,rt.isWeakMap=u1,rt.isWeakSet=Fp,rt.join=l0,rt.kebabCase=Iu,rt.last=Eu,rt.lastIndexOf=Cm,rt.lowerCase=Pl,rt.lowerFirst=UA,rt.lt=KA,rt.lte=zp,rt.max=LG,rt.maxBy=FG,rt.mean=zG,rt.meanBy=jG,rt.min=NG,rt.minBy=GG,rt.stubArray=dh,rt.stubFalse=Np,rt.stubObject=gf,rt.stubString=x0,rt.stubTrue=Ap,rt.multiply=WG,rt.nth=Yg,rt.noConflict=Ln,rt.noop=rr,rt.now=tg,rt.pad=Ds,rt.padEnd=cl,rt.padStart=LA,rt.parseInt=yA,rt.random=Br,rt.reduce=Xg,rt.reduceRight=Jg,rt.repeat=FA,rt.replace=jc,rt.result=Dt,rt.round=QG,rt.runInContext=Zt,rt.sample=eg,rt.size=e1,rt.snakeCase=vA,rt.some=aC,rt.sortedIndex=Qs,rt.sortedIndexBy=ia,rt.sortedIndexOf=qo,rt.sortedLastIndex=As,rt.sortedLastIndexBy=sh,rt.sortedLastIndexOf=Zf,rt.startCase=hl,rt.startsWith=eA,rt.subtract=YG,rt.sum=qG,rt.sumBy=HG,rt.template=dl,rt.times=TG,rt.toFinite=ud,rt.toInteger=oo,rt.toLength=Fd,rt.toLower=fl,rt.toNumber=hh,rt.toSafeInteger=Pm,rt.toString=Fa,rt.toUpper=Va,rt.trim=Ph,rt.trimEnd=Um,rt.trimStart=Nc,rt.truncate=u,rt.unescape=m,rt.uniqueId=DG,rt.upperCase=b,rt.upperFirst=T,rt.each=Em,rt.eachRight=op,rt.first=hf,un(rt,function(){var x={};return ki(rt,function(D,V){Wo.call(rt.prototype,V)||(x[V]=D)}),x}(),{chain:!1}),rt.VERSION=i,Ua(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){rt[x].placeholder=rt}),Ua(["drop","take"],function(x,D){yr.prototype[x]=function(V){V=V===t?1:Qo(oo(V),0);var Ce=this.__filtered__&&!D?new yr(this):this.clone();return Ce.__filtered__?Ce.__takeCount__=la(V,Ce.__takeCount__):Ce.__views__.push({size:la(V,Ne),type:x+(Ce.__dir__<0?"Right":"")}),Ce},yr.prototype[x+"Right"]=function(V){return this.reverse()[x](V).reverse()}}),Ua(["filter","map","takeWhile"],function(x,D){var V=D+1,Ce=V==Ve||V==ze;yr.prototype[x]=function(Je){var pt=this.clone();return pt.__iteratees__.push({iteratee:mr(Je,3),type:V}),pt.__filtered__=pt.__filtered__||Ce,pt}}),Ua(["head","last"],function(x,D){var V="take"+(D?"Right":"");yr.prototype[x]=function(){return this[V](1).value()[0]}}),Ua(["initial","tail"],function(x,D){var V="drop"+(D?"":"Right");yr.prototype[x]=function(){return this.__filtered__?new yr(this):this[V](1)}}),yr.prototype.compact=function(){return this.filter(fn)},yr.prototype.find=function(x){return this.filter(x).head()},yr.prototype.findLast=function(x){return this.reverse().find(x)},yr.prototype.invokeMap=yt(function(x,D){return typeof x=="function"?new yr(this):this.map(function(V){return _u(V,x,D)})}),yr.prototype.reject=function(x){return this.filter(Rp(mr(x)))},yr.prototype.slice=function(x,D){x=oo(x);var V=this;return V.__filtered__&&(x>0||D<0)?new yr(V):(x<0?V=V.takeRight(-x):x&&(V=V.drop(x)),D!==t&&(D=oo(D),V=D<0?V.dropRight(-D):V.take(D-x)),V)},yr.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},yr.prototype.toArray=function(){return this.take(Ne)},ki(yr.prototype,function(x,D){var V=/^(?:filter|find|map|reject)|While$/.test(D),Ce=/^(?:head|last)$/.test(D),Je=rt[Ce?"take"+(D=="last"?"Right":""):D],pt=Ce||/^find/.test(D);Je&&(rt.prototype[D]=function(){var Lt=this.__wrapped__,Vt=Ce?[1]:arguments,sn=Lt instanceof yr,Yn=Vt[0],Hn=sn||Vr(Lt),ui=function(ka){var $a=Je.apply(rt,oc([ka],Vt));return Ce&&Ni?$a[0]:$a};Hn&&V&&typeof Yn=="function"&&Yn.length!=1&&(sn=Hn=!1);var Ni=this.__chain__,Sr=!!this.__actions__.length,ao=pt&&!Ni,fa=sn&&!Sr;if(!pt&&Hn){Lt=fa?Lt:new yr(this);var so=x.apply(Lt,Vt);return so.__actions__.push({func:Ou,args:[ui],thisArg:t}),new Jo(so,Ni)}return ao&&fa?x.apply(this,Vt):(so=this.thru(ui),ao?Ce?so.value()[0]:so.value():so)})}),Ua(["pop","push","shift","sort","splice","unshift"],function(x){var D=Ed[x],V=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",Ce=/^(?:pop|shift)$/.test(x);rt.prototype[x]=function(){var Je=arguments;if(Ce&&!this.__chain__){var pt=this.value();return D.apply(Vr(pt)?pt:[],Je)}return this[V](function(Lt){return D.apply(Vr(Lt)?Lt:[],Je)})}}),ki(yr.prototype,function(x,D){var V=rt[D];if(V){var Ce=V.name+"";Wo.call(gu,Ce)||(gu[Ce]=[]),gu[Ce].push({name:D,func:V})}}),gu[Ba(t,te).name]=[{name:"wrapper",func:t}],yr.prototype.clone=vs,yr.prototype.reverse=th,yr.prototype.value=Eh,rt.prototype.at=ly,rt.prototype.chain=Ah,rt.prototype.commit=Ay,rt.prototype.next=uy,rt.prototype.plant=ip,rt.prototype.reverse=Z0,rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=$g,rt.prototype.first=rt.prototype.head,Oc&&(rt.prototype[Oc]=oC),rt},jl=Ec();no?((no.exports=jl)._=jl,Ji._=jl):Ri._=jl}).call(KQ)}(TC,TC.exports)),TC.exports}var nb=UQ();const c6=cu(nb);function LQ(n,e,t){const i=e<0?n.length+e:e;if(i>=0&&i<n.length){const r=t<0?n.length+t:t,[a]=n.splice(e,1);n.splice(r,0,a)}}var m4,Z7;function FQ(){if(Z7)return m4;Z7=1;function n(e){for(var t=5381,i=e.length;i;)t=t*33^e.charCodeAt(--i);return t>>>0}return m4=n,m4}var zQ=FQ();const X7=cu(zQ);var xf=Uint8Array,hv=Uint16Array,jQ=Int32Array,ZU=new xf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),XU=new xf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),NQ=new xf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JU=function(n,e){for(var t=new hv(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new jQ(t[30]),i=1;i<30;++i)for(var a=t[i];a<t[i+1];++a)r[a]=a-t[i]<<5|i;return{b:t,r}},eL=JU(ZU,2),tL=eL.b,GQ=eL.r;tL[28]=258,GQ[258]=28;var WQ=JU(XU,0),QQ=WQ.b,h6=new hv(32768);for(var iA=0;iA<32768;++iA){var Ag=(iA&43690)>>1|(iA&21845)<<1;Ag=(Ag&52428)>>2|(Ag&13107)<<2,Ag=(Ag&61680)>>4|(Ag&3855)<<4,h6[iA]=((Ag&65280)>>8|(Ag&255)<<8)>>1}var $C=function(n,e,t){for(var i=n.length,r=0,a=new hv(e);r<i;++r)n[r]&&++a[n[r]-1];var l=new hv(e);for(r=1;r<e;++r)l[r]=l[r-1]+a[r-1]<<1;var o;if(t){o=new hv(1<<e);var p=15-e;for(r=0;r<i;++r)if(n[r])for(var C=r<<4|n[r],M=e-n[r],O=l[n[r]-1]++<<M,U=O|(1<<M)-1;O<=U;++O)o[h6[O]>>p]=C}else for(o=new hv(i),r=0;r<i;++r)n[r]&&(o[r]=h6[l[n[r]-1]++]>>15-n[r]);return o},ib=new xf(288);for(var iA=0;iA<144;++iA)ib[iA]=8;for(var iA=144;iA<256;++iA)ib[iA]=9;for(var iA=256;iA<280;++iA)ib[iA]=7;for(var iA=280;iA<288;++iA)ib[iA]=8;var nL=new xf(32);for(var iA=0;iA<32;++iA)nL[iA]=5;var YQ=$C(ib,9,1),qQ=$C(nL,5,1),g4=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Wp=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},y4=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},HQ=function(n){return(n+7)/8|0},VQ=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new xf(n.subarray(e,t))},$Q=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cf=function(n,e,t){var i=new Error(e||$Q[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Cf),!t)throw i;return i},TB=function(n,e,t,i){var r=n.length,a=0;if(!r||e.f&&!e.l)return t||new xf(0);var l=!t,o=l||e.i!=2,p=e.i;l&&(t=new xf(r*3));var C=function(He){var bt=t.length;if(He>bt){var _t=new xf(Math.max(bt*2,He));_t.set(t),t=_t}},M=e.f||0,O=e.p||0,U=e.b||0,K=e.l,j=e.d,W=e.m,Y=e.n,te=r*8;do{if(!K){M=Wp(n,O,1);var J=Wp(n,O+1,3);if(O+=3,J)if(J==1)K=YQ,j=qQ,W=9,Y=5;else if(J==2){var ae=Wp(n,O,31)+257,G=Wp(n,O+10,15)+4,ce=ae+Wp(n,O+5,31)+1;O+=14;for(var ge=new xf(ce),ye=new xf(19),we=0;we<G;++we)ye[NQ[we]]=Wp(n,O+we*3,7);O+=G*3;for(var Ie=g4(ye),Se=(1<<Ie)-1,Ve=$C(ye,Ie,1),we=0;we<ce;){var xe=Ve[Wp(n,O,Se)];O+=xe&15;var oe=xe>>4;if(oe<16)ge[we++]=oe;else{var ze=0,st=0;for(oe==16?(st=3+Wp(n,O,3),O+=2,ze=ge[we-1]):oe==17?(st=3+Wp(n,O,7),O+=3):oe==18&&(st=11+Wp(n,O,127),O+=7);st--;)ge[we++]=ze}}var Ct=ge.subarray(0,ae),nt=ge.subarray(ae);W=g4(Ct),Y=g4(nt),K=$C(Ct,W,1),j=$C(nt,Y,1)}else Cf(1);else{var oe=HQ(O)+4,ne=n[oe-4]|n[oe-3]<<8,$=oe+ne;if($>r){p&&Cf(0);break}o&&C(U+ne),t.set(n.subarray(oe,$),U),e.b=U+=ne,e.p=O=$*8,e.f=M;continue}if(O>te){p&&Cf(0);break}}o&&C(U+131072);for(var be=(1<<W)-1,Ne=(1<<Y)-1,tt=O;;tt=O){var ze=K[y4(n,O)&be],lt=ze>>4;if(O+=ze&15,O>te){p&&Cf(0);break}if(ze||Cf(2),lt<256)t[U++]=lt;else if(lt==256){tt=O,K=null;break}else{var kt=lt-254;if(lt>264){var we=lt-257,gt=ZU[we];kt=Wp(n,O,(1<<gt)-1)+tL[we],O+=gt}var St=j[y4(n,O)&Ne],Ut=St>>4;St||Cf(3),O+=St&15;var nt=QQ[Ut];if(Ut>3){var gt=XU[Ut];nt+=y4(n,O)&(1<<gt)-1,O+=gt}if(O>te){p&&Cf(0);break}o&&C(U+131072);var Fe=U+kt;if(U<nt){var Ke=a-nt,Re=Math.min(nt,Fe);for(Ke+U<0&&Cf(3);U<Re;++U)t[U]=i[Ke+U]}for(;U<Fe;++U)t[U]=t[U-nt]}}e.l=K,e.p=tt,e.b=U,e.f=M,K&&(M=1,e.m=W,e.d=j,e.n=Y)}while(!M);return U!=t.length&&l?VQ(t,0,U):t.subarray(0,U)},ZQ=new xf(0),XQ=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&Cf(6,"invalid gzip data");var e=n[3],t=10;e&4&&(t+=(n[10]|n[11]<<8)+2);for(var i=(e>>3&1)+(e>>4&1);i>0;i-=!n[t++]);return t+(e&2)},JQ=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},eY=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Cf(6,"invalid zlib data"),(n[1]>>5&1)==1&&Cf(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function tY(n,e){return TB(n,{i:2},e,e)}function nY(n,e){var t=XQ(n);return t+8>n.length&&Cf(6,"invalid gzip data"),TB(n.subarray(t,-8),{i:2},new xf(JQ(n)),e)}function iY(n,e){return TB(n.subarray(eY(n),-4),{i:2},e,e)}function rY(n,e){return n[0]==31&&n[1]==139&&n[2]==8?nY(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?tY(n,e):iY(n,e)}var oY=typeof TextDecoder<"u"&&new TextDecoder,aY=0;try{oY.decode(ZQ,{stream:!0}),aY=1}catch{}var sY=Object.defineProperty,ZC=Math.pow,gl=(n,e)=>sY(n,"name",{value:e,configurable:!0}),Yc=(n,e,t)=>new Promise((i,r)=>{var a=p=>{try{o(t.next(p))}catch(C){r(C)}},l=p=>{try{o(t.throw(p))}catch(C){r(C)}},o=p=>p.done?i(p.value):Promise.resolve(p.value).then(a,l);o((t=t.apply(n,e)).next())});gl((n,e)=>{let t=!1,i="",r=L.GridLayer.extend({createTile:gl((a,l)=>{let o=document.createElement("img"),p=new AbortController,C=p.signal;return o.cancel=()=>{p.abort()},t||(n.getHeader().then(M=>{M.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):M.tileType===2?i="image/png":M.tileType===3?i="image/jpeg":M.tileType===4?i="image/webp":M.tileType===5&&(i="image/avif")}),t=!0),n.getZxy(a.z,a.x,a.y,C).then(M=>{if(M){let O=new Blob([M.data],{type:i}),U=window.URL.createObjectURL(O);o.src=U,o.cancel=void 0,l(void 0,o)}}).catch(M=>{if(M.name!=="AbortError")throw M}),o},"createTile"),_removeTile:gl(function(a){let l=this._tiles[a];l&&(l.el.cancel&&l.el.cancel(),l.el.width=0,l.el.height=0,l.el.deleted=!0,L.DomUtil.remove(l.el),delete this._tiles[a],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(a)}))},"_removeTile")});return new r(e)},"leafletRasterLayer");var lY=gl(n=>(e,t)=>{if(t instanceof AbortController)return n(e,t);let i=new AbortController;return n(e,i).then(r=>t(void 0,r.data,r.cacheControl||"",r.expires||""),r=>t(r)).catch(r=>t(r)),{cancel:gl(()=>i.abort(),"cancel")}},"v3compat"),iL=class{constructor(e){this.tilev4=gl((t,i)=>Yc(this,null,function*(){if(t.type==="json"){let K=t.url.substr(10),j=this.tiles.get(K);if(j||(j=new f6(K),this.tiles.set(K,j)),this.metadata)return{data:yield j.getTileJson(t.url)};let W=yield j.getHeader();return(W.minLon>=W.maxLon||W.minLat>=W.maxLat)&&console.error(`Bounds of PMTiles archive ${W.minLon},${W.minLat},${W.maxLon},${W.maxLat} are not valid.`),{data:{tiles:[`${t.url}/{z}/{x}/{y}`],minzoom:W.minZoom,maxzoom:W.maxZoom,bounds:[W.minLon,W.minLat,W.maxLon,W.maxLat]}}}let r=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),a=t.url.match(r);if(!a)throw new Error("Invalid PMTiles protocol URL");let l=a[1],o=this.tiles.get(l);o||(o=new f6(l),this.tiles.set(l,o));let p=a[2],C=a[3],M=a[4],O=yield o.getHeader(),U=yield o?.getZxy(+p,+C,+M,i.signal);if(U)return{data:new Uint8Array(U.data),cacheControl:U.cacheControl,expires:U.expires};if(O.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=lY(this.tilev4),this.tiles=new Map,this.metadata=e?.metadata||!1,this.errorOnMissingTile=e?.errorOnMissingTile||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};gl(iL,"Protocol");var AY=iL;function rL(n,e){return(e>>>0)*4294967296+(n>>>0)}gl(rL,"toNum");function oL(n,e){let t=e.buf,i=t[e.pos++],r=(i&112)>>4;if(i<128||(i=t[e.pos++],r|=(i&127)<<3,i<128)||(i=t[e.pos++],r|=(i&127)<<10,i<128)||(i=t[e.pos++],r|=(i&127)<<17,i<128)||(i=t[e.pos++],r|=(i&127)<<24,i<128)||(i=t[e.pos++],r|=(i&1)<<31,i<128))return rL(n,r);throw new Error("Expected varint not more than 10 bytes")}gl(oL,"readVarintRemainder");function iv(n){let e=n.buf,t=e[n.pos++],i=t&127;return t<128||(t=e[n.pos++],i|=(t&127)<<7,t<128)||(t=e[n.pos++],i|=(t&127)<<14,t<128)||(t=e[n.pos++],i|=(t&127)<<21,t<128)?i:(t=e[n.pos],i|=(t&15)<<28,oL(i,n))}gl(iv,"readVarint");function kB(n,e,t,i){if(i===0){t===1&&(e[0]=n-1-e[0],e[1]=n-1-e[1]);let r=e[0];e[0]=e[1],e[1]=r}}gl(kB,"rotate");function aL(n,e){let t=ZC(2,n),i=e,r=e,a=e,l=[0,0],o=1;for(;o<t;)i=1&a/2,r=1&(a^i),kB(o,l,i,r),l[0]+=o*i,l[1]+=o*r,a=a/4,o*=2;return[n,l[0],l[1]]}gl(aL,"idOnLevel");var uY=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function sL(n,e,t){if(n>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>ZC(2,n)-1||t>ZC(2,n)-1)throw new Error("tile x/y outside zoom level bounds");let i=uY[n],r=ZC(2,n),a=0,l=0,o=0,p=[e,t],C=r/2;for(;C>0;)a=(p[0]&C)>0?1:0,l=(p[1]&C)>0?1:0,o+=C*C*(3*a^l),kB(C,p,a,l),C=C/2;return i+o}gl(sL,"zxyToTileId");function cY(n){let e=0;for(let t=0;t<27;t++){let i=(1<<t)*(1<<t);if(e+i>n)return aL(t,n-e);e+=i}throw new Error("Tile zoom level exceeds max safe number limit (26)")}gl(cY,"tileIdToZxy");var hY=(n=>(n[n.Unknown=0]="Unknown",n[n.None=1]="None",n[n.Gzip=2]="Gzip",n[n.Brotli=3]="Brotli",n[n.Zstd=4]="Zstd",n))(hY||{});function k3(n,e){return Yc(this,null,function*(){if(e===1||e===0)return n;if(e===2){if(typeof globalThis.DecompressionStream>"u")return rY(new Uint8Array(n));let t=new Response(n).body;if(!t)throw new Error("Failed to read response stream");let i=t.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(i).arrayBuffer()}throw new Error("Compression method not supported")})}gl(k3,"defaultDecompress");var dY=(n=>(n[n.Unknown=0]="Unknown",n[n.Mvt=1]="Mvt",n[n.Png=2]="Png",n[n.Jpeg=3]="Jpeg",n[n.Webp=4]="Webp",n[n.Avif=5]="Avif",n))(dY||{});function lL(n){return n===1?".mvt":n===2?".png":n===3?".jpg":n===4?".webp":n===5?".avif":""}gl(lL,"tileTypeExt");var fY=127;function AL(n,e){let t=0,i=n.length-1;for(;t<=i;){let r=i+t>>1,a=e-n[r].tileId;if(a>0)t=r+1;else if(a<0)i=r-1;else return n[r]}return i>=0&&(n[i].runLength===0||e-n[i].tileId<n[i].runLength)?n[i]:null}gl(AL,"findTile");var pY=class{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,t){return Yc(this,null,function*(){return{data:yield this.file.slice(e,e+t).arrayBuffer()}})}};gl(pY,"FileSource");var uL=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1;let i="";"navigator"in globalThis&&(i=globalThis.navigator.userAgent||"");let r=i.indexOf("Windows")>-1,a=/Chrome|Chromium|Edg|OPR|Brave/.test(i);this.chromeWindowsNoCache=!1,r&&a&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,i,r){return Yc(this,null,function*(){let a,l;i?l=i:(a=new AbortController,l=a.signal);let o=new Headers(this.customHeaders);o.set("range",`bytes=${e}-${e+t-1}`);let p;this.mustReload?p="reload":this.chromeWindowsNoCache&&(p="no-store");let C=yield fetch(this.url,{signal:l,cache:p,headers:o});if(e===0&&C.status===416){let U=C.headers.get("Content-Range");if(!U||!U.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let K=+U.substr(8);C=yield fetch(this.url,{signal:l,cache:"reload",headers:{range:`bytes=0-${K-1}`}})}let M=C.headers.get("Etag");if(M!=null&&M.startsWith("W/")&&(M=null),C.status===416||r&&M&&M!==r)throw this.mustReload=!0,new d6(`Server returned non-matching ETag ${r} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(C.status>=300)throw new Error(`Bad response code: ${C.status}`);let O=C.headers.get("Content-Length");if(C.status===200&&(!O||+O>t))throw a&&a.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield C.arrayBuffer(),etag:M||void 0,cacheControl:C.headers.get("Cache-Control")||void 0,expires:C.headers.get("Expires")||void 0}})}};gl(uL,"FetchSource");var mY=uL;function cp(n,e){let t=n.getUint32(e+4,!0),i=n.getUint32(e+0,!0);return t*ZC(2,32)+i}gl(cp,"getUint64");function cL(n,e){let t=new DataView(n),i=t.getUint8(7);if(i>3)throw new Error(`Archive is spec version ${i} but this library supports up to spec version 3`);return{specVersion:i,rootDirectoryOffset:cp(t,8),rootDirectoryLength:cp(t,16),jsonMetadataOffset:cp(t,24),jsonMetadataLength:cp(t,32),leafDirectoryOffset:cp(t,40),leafDirectoryLength:cp(t,48),tileDataOffset:cp(t,56),tileDataLength:cp(t,64),numAddressedTiles:cp(t,72),numTileEntries:cp(t,80),numTileContents:cp(t,88),clustered:t.getUint8(96)===1,internalCompression:t.getUint8(97),tileCompression:t.getUint8(98),tileType:t.getUint8(99),minZoom:t.getUint8(100),maxZoom:t.getUint8(101),minLon:t.getInt32(102,!0)/1e7,minLat:t.getInt32(106,!0)/1e7,maxLon:t.getInt32(110,!0)/1e7,maxLat:t.getInt32(114,!0)/1e7,centerZoom:t.getUint8(118),centerLon:t.getInt32(119,!0)/1e7,centerLat:t.getInt32(123,!0)/1e7,etag:e}}gl(cL,"bytesToHeader");function DB(n){let e={buf:new Uint8Array(n),pos:0},t=iv(e),i=[],r=0;for(let a=0;a<t;a++){let l=iv(e);i.push({tileId:r+l,offset:0,length:0,runLength:1}),r+=l}for(let a=0;a<t;a++)i[a].runLength=iv(e);for(let a=0;a<t;a++)i[a].length=iv(e);for(let a=0;a<t;a++){let l=iv(e);l===0&&a>0?i[a].offset=i[a-1].offset+i[a-1].length:i[a].offset=l-1}return i}gl(DB,"deserializeIndex");var hL=class extends Error{};gl(hL,"EtagMismatch");var d6=hL;function RB(n,e){return Yc(this,null,function*(){let t=yield n.getBytes(0,16384);if(new DataView(t.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let i=t.data.slice(0,fY),r=cL(i,t.etag),a=t.data.slice(r.rootDirectoryOffset,r.rootDirectoryOffset+r.rootDirectoryLength),l=`${n.getKey()}|${r.etag||""}|${r.rootDirectoryOffset}|${r.rootDirectoryLength}`,o=DB(yield e(a,r.internalCompression));return[r,[l,o.length,o]]})}gl(RB,"getHeaderAndRoot");function PB(n,e,t,i,r){return Yc(this,null,function*(){let a=yield n.getBytes(t,i,void 0,r.etag),l=yield e(a.data,r.internalCompression),o=DB(l);if(o.length===0)throw new Error("Empty directory is invalid");return o})}gl(PB,"getDirectory");var gY=class{constructor(e=100,t=!0,i=k3){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=i}getHeader(e){return Yc(this,null,function*(){let t=e.getKey(),i=this.cache.get(t);if(i)return i.lastUsed=this.counter++,i.data;let r=yield RB(e,this.decompress);return r[1]&&this.cache.set(r[1][0],{lastUsed:this.counter++,data:r[1][2]}),this.cache.set(t,{lastUsed:this.counter++,data:r[0]}),this.prune(),r[0]})}getDirectory(e,t,i,r){return Yc(this,null,function*(){let a=`${e.getKey()}|${r.etag||""}|${t}|${i}`,l=this.cache.get(a);if(l)return l.lastUsed=this.counter++,l.data;let o=yield PB(e,this.decompress,t,i,r);return this.cache.set(a,{lastUsed:this.counter++,data:o}),this.prune(),o})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,t;this.cache.forEach((i,r)=>{i.lastUsed<e&&(e=i.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(e){return Yc(this,null,function*(){this.cache.delete(e.getKey())})}};gl(gY,"ResolvedValueCache");var dL=class{constructor(e=100,t=!0,i=k3){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=i}getHeader(e){return Yc(this,null,function*(){let t=e.getKey(),i=this.cache.get(t);if(i)return i.lastUsed=this.counter++,yield i.data;let r=new Promise((a,l)=>{RB(e,this.decompress).then(o=>{o[1]&&this.cache.set(o[1][0],{lastUsed:this.counter++,data:Promise.resolve(o[1][2])}),a(o[0]),this.prune()}).catch(o=>{l(o)})});return this.cache.set(t,{lastUsed:this.counter++,data:r}),r})}getDirectory(e,t,i,r){return Yc(this,null,function*(){let a=`${e.getKey()}|${r.etag||""}|${t}|${i}`,l=this.cache.get(a);if(l)return l.lastUsed=this.counter++,yield l.data;let o=new Promise((p,C)=>{PB(e,this.decompress,t,i,r).then(M=>{p(M),this.prune()}).catch(M=>{C(M)})});return this.cache.set(a,{lastUsed:this.counter++,data:o}),o})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((i,r)=>{i.lastUsed<e&&(e=i.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(e){return Yc(this,null,function*(){let t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());let i=new Promise((r,a)=>{this.getHeader(e).then(l=>{r(),this.invalidations.delete(t)}).catch(l=>{a(l)})});this.invalidations.set(t,i)})}};gl(dL,"SharedPromiseCache");var yY=dL,fL=class{constructor(e,t,i){typeof e=="string"?this.source=new mY(e):this.source=e,i?this.decompress=i:this.decompress=k3,t?this.cache=t:this.cache=new yY}getHeader(){return Yc(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,i,r){return Yc(this,null,function*(){let a=sL(e,t,i),l=yield this.cache.getHeader(this.source);if(e<l.minZoom||e>l.maxZoom)return;let o=l.rootDirectoryOffset,p=l.rootDirectoryLength;for(let C=0;C<=3;C++){let M=yield this.cache.getDirectory(this.source,o,p,l),O=AL(M,a);if(O){if(O.runLength>0){let U=yield this.source.getBytes(l.tileDataOffset+O.offset,O.length,r,l.etag);return{data:yield this.decompress(U.data,l.tileCompression),cacheControl:U.cacheControl,expires:U.expires}}o=l.leafDirectoryOffset+O.offset,p=O.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,t,i,r){return Yc(this,null,function*(){try{return yield this.getZxyAttempt(e,t,i,r)}catch(a){if(a instanceof d6)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,i,r);throw a}})}getMetadataAttempt(){return Yc(this,null,function*(){let e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),i=yield this.decompress(t.data,e.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(i))})}getMetadata(){return Yc(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof d6)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return Yc(this,null,function*(){let t=yield this.getHeader(),i=yield this.getMetadata(),r=lL(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${r}`],vector_layers:i.vector_layers,attribution:i.attribution,description:i.description,name:i.name,version:i.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};gl(fL,"PMTiles");var f6=fL,vY=8,CY={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},_Y={"*":{type:"source"}},bY=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],xY={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},MY={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},wY={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},SY={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},EY={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},BY={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},OY={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},IY=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],TY={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},kY={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},DY={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},RY={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},PY={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},KY={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},UY={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},LY={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},FY={type:"array",value:"*"},zY={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},jY={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},NY={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},GY={type:"array",value:"*",minimum:1},WY={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},QY={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},YY={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},qY={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},HY=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],VY={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},$Y={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},ZY={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},XY={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},JY={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},eq={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},tq={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},nq={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},iq={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},rq={"*":{type:"string"}},Xa={$version:vY,$root:CY,sources:_Y,source:bY,source_vector:xY,source_raster:MY,source_raster_dem:wY,source_geojson:SY,source_video:EY,source_image:BY,layer:OY,layout:IY,layout_background:TY,layout_fill:kY,layout_circle:DY,layout_heatmap:RY,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:PY,layout_symbol:KY,layout_raster:UY,layout_hillshade:LY,"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:FY,filter_operator:zY,geometry_type:jY,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:NY,expression:GY,light:WY,sky:QY,terrain:YY,projection:qY,paint:HY,paint_fill:VY,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:$Y,paint_circle:ZY,paint_heatmap:XY,paint_symbol:JY,paint_raster:eq,paint_hillshade:tq,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:nq,transition:iq,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:rq};const oq=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function aq(n,e){const t={};for(const i in n)i!=="ref"&&(t[i]=n[i]);return oq.forEach(i=>{i in e&&(t[i]=e[i])}),t}function KB(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=aq(n[t],e[n[t].ref]));return n}function Ks(n,e){if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!Ks(n[t],e[t]))return!1;return!0}if(typeof n=="object"&&n!==null&&e!==null){if(typeof e!="object"||Object.keys(n).length!==Object.keys(e).length)return!1;for(const i in n)if(!Ks(n[i],e[i]))return!1;return!0}return n===e}function dp(n,e){n.push(e)}function pL(n,e,t){dp(t,{command:"addSource",args:[n,e[n]]})}function mL(n,e,t){dp(e,{command:"removeSource",args:[n]}),t[n]=!0}function sq(n,e,t,i){mL(n,t,i),pL(n,e,t)}function lq(n,e,t){let i;for(i in n[t])if(Object.prototype.hasOwnProperty.call(n[t],i)&&i!=="data"&&!Ks(n[t][i],e[t][i]))return!1;for(i in e[t])if(Object.prototype.hasOwnProperty.call(e[t],i)&&i!=="data"&&!Ks(n[t][i],e[t][i]))return!1;return!0}function Aq(n,e,t,i){n=n||{},e=e||{};let r;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(Object.prototype.hasOwnProperty.call(e,r)||mL(r,t,i));for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(n,r)?Ks(n[r],e[r])||(n[r].type==="geojson"&&e[r].type==="geojson"&&lq(n,e,r)?dp(t,{command:"setGeoJSONSourceData",args:[r,e[r].data]}):sq(r,e,t,i)):pL(r,e,t))}function Pb(n,e,t,i,r,a){n=n||{},e=e||{};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(Ks(n[l],e[l])||t.push({command:a,args:[i,l,e[l],r]}));for(const l in e)!Object.prototype.hasOwnProperty.call(e,l)||Object.prototype.hasOwnProperty.call(n,l)||Ks(n[l],e[l])||t.push({command:a,args:[i,l,e[l],r]})}function J7(n){return n.id}function eI(n,e){return n[e.id]=e,n}function uq(n,e,t){n=n||[],e=e||[];const i=n.map(J7),r=e.map(J7),a=n.reduce(eI,{}),l=e.reduce(eI,{}),o=i.slice(),p=Object.create(null);let C,M,O,U,K;for(let j=0,W=0;j<i.length;j++)C=i[j],Object.prototype.hasOwnProperty.call(l,C)?W++:(dp(t,{command:"removeLayer",args:[C]}),o.splice(o.indexOf(C,W),1));for(let j=0,W=0;j<r.length;j++)C=r[r.length-1-j],o[o.length-1-j]!==C&&(Object.prototype.hasOwnProperty.call(a,C)?(dp(t,{command:"removeLayer",args:[C]}),o.splice(o.lastIndexOf(C,o.length-W),1)):W++,U=o[o.length-j],dp(t,{command:"addLayer",args:[l[C],U]}),o.splice(o.length-j,0,C),p[C]=!0);for(let j=0;j<r.length;j++)if(C=r[j],M=a[C],O=l[C],!(p[C]||Ks(M,O))){if(!Ks(M.source,O.source)||!Ks(M["source-layer"],O["source-layer"])||!Ks(M.type,O.type)){dp(t,{command:"removeLayer",args:[C]}),U=o[o.lastIndexOf(C)+1],dp(t,{command:"addLayer",args:[O,U]});continue}Pb(M.layout,O.layout,t,C,null,"setLayoutProperty"),Pb(M.paint,O.paint,t,C,null,"setPaintProperty"),Ks(M.filter,O.filter)||dp(t,{command:"setFilter",args:[C,O.filter]}),(!Ks(M.minzoom,O.minzoom)||!Ks(M.maxzoom,O.maxzoom))&&dp(t,{command:"setLayerZoomRange",args:[C,O.minzoom,O.maxzoom]});for(K in M)Object.prototype.hasOwnProperty.call(M,K)&&(K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?Pb(M[K],O[K],t,C,K.slice(6),"setPaintProperty"):Ks(M[K],O[K])||dp(t,{command:"setLayerProperty",args:[C,K,O[K]]})));for(K in O)!Object.prototype.hasOwnProperty.call(O,K)||Object.prototype.hasOwnProperty.call(M,K)||K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?Pb(M[K],O[K],t,C,K.slice(6),"setPaintProperty"):Ks(M[K],O[K])||dp(t,{command:"setLayerProperty",args:[C,K,O[K]]}))}}function cq(n,e){if(!n)return[{command:"setStyle",args:[e]}];let t=[];try{if(!Ks(n.version,e.version))return[{command:"setStyle",args:[e]}];Ks(n.center,e.center)||t.push({command:"setCenter",args:[e.center]}),Ks(n.state,e.state)||t.push({command:"setGlobalState",args:[e.state]}),Ks(n.centerAltitude,e.centerAltitude)||t.push({command:"setCenterAltitude",args:[e.centerAltitude]}),Ks(n.zoom,e.zoom)||t.push({command:"setZoom",args:[e.zoom]}),Ks(n.bearing,e.bearing)||t.push({command:"setBearing",args:[e.bearing]}),Ks(n.pitch,e.pitch)||t.push({command:"setPitch",args:[e.pitch]}),Ks(n.roll,e.roll)||t.push({command:"setRoll",args:[e.roll]}),Ks(n.sprite,e.sprite)||t.push({command:"setSprite",args:[e.sprite]}),Ks(n.glyphs,e.glyphs)||t.push({command:"setGlyphs",args:[e.glyphs]}),Ks(n.transition,e.transition)||t.push({command:"setTransition",args:[e.transition]}),Ks(n.light,e.light)||t.push({command:"setLight",args:[e.light]}),Ks(n.terrain,e.terrain)||t.push({command:"setTerrain",args:[e.terrain]}),Ks(n.sky,e.sky)||t.push({command:"setSky",args:[e.sky]}),Ks(n.projection,e.projection)||t.push({command:"setProjection",args:[e.projection]});const i={},r=[];Aq(n.sources,e.sources,r,i);const a=[];n.layers&&n.layers.forEach(l=>{"source"in l&&i[l.source]?t.push({command:"removeLayer",args:[l.id]}):a.push(l)}),t=t.concat(r),uq(a,e.layers,t)}catch(i){console.warn("Unable to compute style diff:",i),t=[{command:"setStyle",args:[e]}]}return t}class _i{constructor(e,t,i,r){this.message=(e?`${e}: `:"")+i,r&&(this.identifier=r),t!=null&&t.__line__&&(this.line=t.__line__)}}function Ov(n,...e){for(const t of e)for(const i in t)n[i]=t[i];return n}class Nm extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class UB{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[i,r]of t)this.bindings[i]=r}concat(e){return new UB(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}const D3={kind:"null"},Bi={kind:"number"},ma={kind:"string"},Vo={kind:"boolean"},Hm={kind:"color"},R3={kind:"projectionDefinition"},R1={kind:"object"},jo={kind:"value"},hq={kind:"error"},P3={kind:"collator"},K3={kind:"formatted"},U3={kind:"padding"},m_={kind:"colorArray"},L3={kind:"numberArray"},rb={kind:"resolvedImage"},F3={kind:"variableAnchorOffsetCollection"};function Mf(n,e){return{kind:"array",itemType:n,N:e}}function _A(n){if(n.kind==="array"){const e=_A(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const dq=[D3,Bi,ma,Vo,Hm,R3,K3,R1,Mf(jo),U3,L3,m_,rb,F3];function g_(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!g_(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of dq)if(!g_(t,e))return null}}return`Expected ${_A(n)} but found ${_A(e)} instead.`}function LB(n,e){return e.some(t=>t.kind===n.kind)}function P1(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}function ug(n,e){return n.kind==="array"&&e.kind==="array"?n.itemType.kind===e.itemType.kind&&typeof n.N=="number":n.kind===e.kind}const gL=.96422,yL=1,vL=.82521,CL=4/29,yv=6/29,_L=3*yv*yv,fq=yv*yv*yv,pq=Math.PI/180,mq=180/Math.PI;function bL(n){return n=n%360,n<0&&(n+=360),n}function xL([n,e,t,i]){n=v4(n),e=v4(e),t=v4(t);let r,a;const l=C4((.2225045*n+.7168786*e+.0606169*t)/yL);n===e&&e===t?r=a=l:(r=C4((.4360747*n+.3850649*e+.1430804*t)/gL),a=C4((.0139322*n+.0971045*e+.7141733*t)/vL));const o=116*l-16;return[o<0?0:o,500*(r-l),200*(l-a),i]}function v4(n){return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function C4(n){return n>fq?Math.pow(n,1/3):n/_L+CL}function ML([n,e,t,i]){let r=(n+16)/116,a=isNaN(e)?r:r+e/500,l=isNaN(t)?r:r-t/200;return r=yL*b4(r),a=gL*b4(a),l=vL*b4(l),[_4(3.1338561*a-1.6168667*r-.4906146*l),_4(-.9787684*a+1.9161415*r+.033454*l),_4(.0719453*a-.2289914*r+1.4052427*l),i]}function _4(n){return n=n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055,n<0?0:n>1?1:n}function b4(n){return n>yv?n*n*n:_L*(n-CL)}function gq(n){const[e,t,i,r]=xL(n),a=Math.sqrt(t*t+i*i);return[Math.round(a*1e4)?bL(Math.atan2(i,t)*mq):NaN,a,e,r]}function yq([n,e,t,i]){return n=isNaN(n)?0:n*pq,ML([t,Math.cos(n)*e,Math.sin(n)*e,i])}function vq([n,e,t,i]){n=bL(n),e/=100,t/=100;function r(a){const l=(a+n/30)%12,o=e*Math.min(t,1-t);return t-o*Math.max(-1,Math.min(l-3,9-l,1))}return[r(0),r(8),r(4),i]}const Cq=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function XC(n,e){return Cq(n,e)?n[e]:void 0}function _q(n){if(n=n.toLowerCase().trim(),n==="transparent")return[0,0,0,0];const e=XC(bq,n);if(e){const[r,a,l]=e;return[r/255,a/255,l/255,1]}if(n.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(n)){const a=n.length<6?1:2;let l=1;return[Kb(n.slice(l,l+=a)),Kb(n.slice(l,l+=a)),Kb(n.slice(l,l+=a)),Kb(n.slice(l,l+a)||"ff")]}if(n.startsWith("rgb")){const r=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,a=n.match(r);if(a){const[l,o,p,C,M,O,U,K,j,W,Y,te]=a,J=[C||" ",U||" ",W].join("");if(J==="  "||J==="  /"||J===",,"||J===",,,"){const oe=[p,O,j].join(""),ne=oe==="%%%"?100:oe===""?255:0;if(ne){const $=[rv(+o/ne,0,1),rv(+M/ne,0,1),rv(+K/ne,0,1),Y?tI(+Y,te):1];if(nI($))return $}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,i=n.match(t);if(i){const[r,a,l,o,p,C,M,O,U]=i,K=[l||" ",p||" ",M].join("");if(K==="  "||K==="  /"||K===",,"||K===",,,"){const j=[+a,rv(+o,0,100),rv(+C,0,100),O?tI(+O,U):1];if(nI(j))return vq(j)}}}function Kb(n){return parseInt(n.padEnd(2,n),16)/255}function tI(n,e){return rv(e?n/100:n,0,1)}function rv(n,e,t){return Math.min(Math.max(e,n),t)}function nI(n){return!n.some(Number.isNaN)}const bq={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Rg(n,e,t){return n+t*(e-n)}function Iv(n,e,t){return n.map((i,r)=>Rg(i,e[r],t))}function xq(n){return n==="rgb"||n==="hcl"||n==="lab"}let rl=class ov{constructor(e,t,i,r=1,a=!0){this.r=e,this.g=t,this.b=i,this.a=r,a||(this.r*=r,this.g*=r,this.b*=r,r||this.overwriteGetter("rgb",[e,t,i,r]))}static parse(e){if(e instanceof ov)return e;if(typeof e!="string")return;const t=_q(e);if(t)return new ov(...t,!1)}get rgb(){const{r:e,g:t,b:i,a:r}=this,a=r||1/0;return this.overwriteGetter("rgb",[e/a,t/a,i/a,r])}get hcl(){return this.overwriteGetter("hcl",gq(this.rgb))}get lab(){return this.overwriteGetter("lab",xL(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,i,r]=this.rgb;return`rgba(${[e,t,i].map(a=>Math.round(a*255)).join(",")},${r})`}static interpolate(e,t,i,r="rgb"){switch(r){case"rgb":{const[a,l,o,p]=Iv(e.rgb,t.rgb,i);return new ov(a,l,o,p,!1)}case"hcl":{const[a,l,o,p]=e.hcl,[C,M,O,U]=t.hcl;let K,j;if(!isNaN(a)&&!isNaN(C)){let oe=C-a;C>a&&oe>180?oe-=360:C<a&&a-C>180&&(oe+=360),K=a+i*oe}else isNaN(a)?isNaN(C)?K=NaN:(K=C,(o===1||o===0)&&(j=M)):(K=a,(O===1||O===0)&&(j=l));const[W,Y,te,J]=yq([K,j??Rg(l,M,i),Rg(o,O,i),Rg(p,U,i)]);return new ov(W,Y,te,J,!1)}case"lab":{const[a,l,o,p]=ML(Iv(e.lab,t.lab,i));return new ov(a,l,o,p,!1)}}}};rl.black=new rl(0,0,0,1);rl.white=new rl(1,1,1,1);rl.transparent=new rl(0,0,0,0);rl.red=new rl(1,0,0,1);class FB{constructor(e,t,i){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Mq=["bottom","center","top"];class p6{constructor(e,t,i,r,a,l){this.text=e,this.image=t,this.scale=i,this.fontStack=r,this.textColor=a,this.verticalAlign=l}}class Vm{constructor(e){this.sections=e}static fromString(e){return new Vm([new p6(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof Vm?e:Vm.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}}class md{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof md)return e;if(typeof e=="number")return new md([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new md(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){return new md(Iv(e.values,t.values,i))}}class gd{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof gd)return e;if(typeof e=="number")return new gd([e]);if(Array.isArray(e)){for(const t of e)if(typeof t!="number")return;return new gd(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){return new gd(Iv(e.values,t.values,i))}}class ph{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof ph)return e;if(typeof e=="string"){const i=rl.parse(e);return i?new ph([i]):void 0}if(!Array.isArray(e))return;const t=[];for(const i of e){if(typeof i!="string")return;const r=rl.parse(i);if(!r)return;t.push(r)}return new ph(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i,r="rgb"){const a=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let l=0;l<e.values.length;l++)a.push(rl.interpolate(e.values[l],t.values[l],i,r));return new ph(a)}}class NA extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const wq=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Cp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Cp)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const i=e[t],r=e[t+1];if(typeof i!="string"||!wq.has(i)||!Array.isArray(r)||r.length!==2||typeof r[0]!="number"||typeof r[1]!="number")return}return new Cp(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){const r=e.values,a=t.values;if(r.length!==a.length)throw new NA(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const l=[];for(let o=0;o<r.length;o+=2){if(r[o]!==a[o])throw new NA(`Cannot interpolate values containing mismatched anchors. from[${o}]: ${r[o]}, to[${o}]: ${a[o]}`);l.push(r[o]);const[p,C]=r[o+1],[M,O]=a[o+1];l.push([Rg(p,M,i),Rg(C,O,i)])}return new Cp(l)}}class j0{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new j0({name:e,available:!1}):null}}class mp{constructor(e,t,i){this.from=e,this.to=t,this.transition=i}static interpolate(e,t,i){return new mp(e,t,i)}static parse(e){if(e instanceof mp)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new mp(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new mp(e.from,e.to,e.transition);if(typeof e=="string")return new mp(e,e,1)}}function wL(n,e,t,i){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof i>"u"||typeof i=="number"&&i>=0&&i<=1?null:`Invalid rgba value [${[n,e,t,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof i=="number"?[n,e,t,i]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function y_(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof mp||n instanceof rl||n instanceof FB||n instanceof Vm||n instanceof md||n instanceof gd||n instanceof ph||n instanceof Cp||n instanceof j0)return!0;if(Array.isArray(n)){for(const e of n)if(!y_(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!y_(n[e]))return!1;return!0}else return!1}function ic(n){if(n===null)return D3;if(typeof n=="string")return ma;if(typeof n=="boolean")return Vo;if(typeof n=="number")return Bi;if(n instanceof rl)return Hm;if(n instanceof mp)return R3;if(n instanceof FB)return P3;if(n instanceof Vm)return K3;if(n instanceof md)return U3;if(n instanceof gd)return L3;if(n instanceof ph)return m_;if(n instanceof Cp)return F3;if(n instanceof j0)return rb;if(Array.isArray(n)){const e=n.length;let t;for(const i of n){const r=ic(i);if(!t)t=r;else{if(t===r)continue;t=jo;break}}return Mf(t||jo,e)}else return R1}function JC(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof rl||n instanceof mp||n instanceof Vm||n instanceof md||n instanceof gd||n instanceof ph||n instanceof Cp||n instanceof j0?n.toString():JSON.stringify(n)}class Tv{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!y_(e[1]))return t.error("invalid value");const i=e[1];let r=ic(i);const a=t.expectedType;return r.kind==="array"&&r.N===0&&a&&a.kind==="array"&&(typeof a.N!="number"||a.N===0)&&(r=a),new Tv(r,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Ub={string:ma,number:Bi,boolean:Vo,object:R1};class Xp{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i=1,r;const a=e[0];if(a==="array"){let o;if(e.length>2){const C=e[1];if(typeof C!="string"||!(C in Ub)||C==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=Ub[C],i++}else o=jo;let p;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);p=e[2],i++}r=Mf(o,p)}else{if(!Ub[a])throw new Error(`Types doesn't contain name = ${a}`);r=Ub[a]}const l=[];for(;i<e.length;i++){const o=t.parse(e[i],i,jo);if(!o)return null;l.push(o)}return new Xp(r,l)}evaluate(e){for(let t=0;t<this.args.length;t++){const i=this.args[t].evaluate(e);if(g_(this.type,ic(i))){if(t===this.args.length-1)throw new NA(`Expected value to be of type ${_A(this.type)}, but found ${_A(ic(i))} instead.`)}else return i}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const iI={"to-boolean":Vo,"to-color":Hm,"to-number":Bi,"to-string":ma};class Sg{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[0];if(!iI[i])throw new Error(`Can't parse ${i} as it is not part of the known types`);if((i==="to-boolean"||i==="to-string")&&e.length!==2)return t.error("Expected one argument.");const r=iI[i],a=[];for(let l=1;l<e.length;l++){const o=t.parse(e[l],l,jo);if(!o)return null;a.push(o)}return new Sg(r,a)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,i;for(const r of this.args){if(t=r.evaluate(e),i=null,t instanceof rl)return t;if(typeof t=="string"){const a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&(t.length<3||t.length>4?i=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:i=wL(t[0],t[1],t[2],t[3]),!i))return new rl(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new NA(i||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const i of this.args){t=i.evaluate(e);const r=md.parse(t);if(r)return r}throw new NA(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const i of this.args){t=i.evaluate(e);const r=gd.parse(t);if(r)return r}throw new NA(`Could not parse numberArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const i of this.args){t=i.evaluate(e);const r=ph.parse(t);if(r)return r}throw new NA(`Could not parse colorArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const i of this.args){t=i.evaluate(e);const r=Cp.parse(t);if(r)return r}throw new NA(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const i of this.args){if(t=i.evaluate(e),t===null)return 0;const r=Number(t);if(!isNaN(r))return r}throw new NA(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Vm.fromString(JC(this.args[0].evaluate(e)));case"resolvedImage":return j0.fromString(JC(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return JC(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const Sq=["Unknown","Point","LineString","Polygon"];class SL{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Sq[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=rl.parse(e),this._parseColorCache.set(e,t)),t}}class z3{constructor(e,t,i=[],r,a=new UB,l=[]){this.registry=e,this.path=i,this.key=i.map(o=>`[${o}]`).join(""),this.scope=a,this.errors=l,this.expectedType=r,this._isConstant=t}parse(e,t,i,r,a={}){return t?this.concat(t,i,r)._parse(e,a):this._parse(e,a)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function i(r,a,l){return l==="assert"?new Xp(a,[r]):l==="coerce"?new Sg(a,[r]):r}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const a=this.registry[r];if(a){let l=a.parse(e,this);if(!l)return null;if(this.expectedType){const o=this.expectedType,p=l.type;if((o.kind==="string"||o.kind==="number"||o.kind==="boolean"||o.kind==="object"||o.kind==="array")&&p.kind==="value")l=i(l,o,t.typeAnnotation||"assert");else if(o.kind==="projectionDefinition"&&["string","array"].includes(p.kind)||["color","formatted","resolvedImage"].includes(o.kind)&&["value","string"].includes(p.kind)||["padding","numberArray"].includes(o.kind)&&["value","number","array"].includes(p.kind)||o.kind==="colorArray"&&["value","string","array"].includes(p.kind)||o.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(p.kind))l=i(l,o,t.typeAnnotation||"coerce");else if(this.checkSubtype(o,p))return null}if(!(l instanceof Tv)&&l.type.kind!=="resolvedImage"&&this._isConstant(l)){const o=new SL;try{l=new Tv(l.type,l.evaluate(o))}catch(p){return this.error(p.message),null}}return l}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,i){const r=typeof e=="number"?this.path.concat(e):this.path,a=i?this.scope.concat(i):this.scope;return new z3(this.registry,this._isConstant,r,t||null,a,this.errors)}error(e,...t){const i=`${this.key}${t.map(r=>`[${r}]`).join("")}`;this.errors.push(new Nm(i,e))}checkSubtype(e,t){const i=g_(e,t);return i&&this.error(i),i}}class j3{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const i=[];for(let a=1;a<e.length-1;a+=2){const l=e[a];if(typeof l!="string")return t.error(`Expected string, but found ${typeof l} instead.`,a);if(/[^a-zA-Z0-9_]/.test(l))return t.error("Variable names must contain only alphanumeric characters or '_'.",a);const o=t.parse(e[a+1],a+1);if(!o)return null;i.push([l,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,i);return r?new j3(i,r):null}outputDefined(){return this.result.outputDefined()}}class N3{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const i=e[1];return t.scope.has(i)?new N3(i,t.scope.get(i)):t.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class zB{constructor(e,t,i){this.type=e,this.index=t,this.input=i}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Bi),r=t.parse(e[2],2,Mf(t.expectedType||jo));if(!i||!r)return null;const a=r.type;return new zB(a.itemType,i,r)}evaluate(e){const t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new NA(`Array index out of bounds: ${t} < 0.`);if(t>=i.length)throw new NA(`Array index out of bounds: ${t} > ${i.length-1}.`);if(t!==Math.floor(t))throw new NA(`Array index must be an integer, but found ${t} instead.`);return i[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class jB{constructor(e,t){this.type=Vo,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,jo),r=t.parse(e[2],2,jo);return!i||!r?null:LB(i.type,[Vo,ma,Bi,D3,jo])?new jB(i,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${_A(i.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!i)return!1;if(!P1(t,["boolean","string","number","null"]))throw new NA(`Expected first argument to be of type boolean, string, number or null, but found ${_A(ic(t))} instead.`);if(!P1(i,["string","array"]))throw new NA(`Expected second argument to be of type array or string, but found ${_A(ic(i))} instead.`);return i.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Nx{constructor(e,t,i){this.type=Bi,this.needle=e,this.haystack=t,this.fromIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,jo),r=t.parse(e[2],2,jo);if(!i||!r)return null;if(!LB(i.type,[Vo,ma,Bi,D3,jo]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${_A(i.type)} instead`);if(e.length===4){const a=t.parse(e[3],3,Bi);return a?new Nx(i,r,a):null}else return new Nx(i,r)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!P1(t,["boolean","string","number","null"]))throw new NA(`Expected first argument to be of type boolean, string, number or null, but found ${_A(ic(t))} instead.`);let r;if(this.fromIndex&&(r=this.fromIndex.evaluate(e)),P1(i,["string"])){const a=i.indexOf(t,r);return a===-1?-1:[...i.slice(0,a)].length}else{if(P1(i,["array"]))return i.indexOf(t,r);throw new NA(`Expected second argument to be of type array or string, but found ${_A(ic(i))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class NB{constructor(e,t,i,r,a,l){this.inputType=e,this.type=t,this.input=i,this.cases=r,this.outputs=a,this.otherwise=l}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let i,r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const a={},l=[];for(let C=2;C<e.length-1;C+=2){let M=e[C];const O=e[C+1];Array.isArray(M)||(M=[M]);const U=t.concat(C);if(M.length===0)return U.error("Expected at least one branch label.");for(const j of M){if(typeof j!="number"&&typeof j!="string")return U.error("Branch labels must be numbers or strings.");if(typeof j=="number"&&Math.abs(j)>Number.MAX_SAFE_INTEGER)return U.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof j=="number"&&Math.floor(j)!==j)return U.error("Numeric branch labels must be integer values.");if(!i)i=ic(j);else if(U.checkSubtype(i,ic(j)))return null;if(typeof a[String(j)]<"u")return U.error("Branch labels must be unique.");a[String(j)]=l.length}const K=t.parse(O,C,r);if(!K)return null;r=r||K.type,l.push(K)}const o=t.parse(e[1],1,jo);if(!o)return null;const p=t.parse(e[e.length-1],e.length-1,r);return!p||o.type.kind!=="value"&&t.concat(1).checkSubtype(i,o.type)?null:new NB(i,r,o,a,l,p)}evaluate(e){const t=this.input.evaluate(e);return(ic(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class GB{constructor(e,t,i){this.type=e,this.branches=t,this.otherwise=i}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const r=[];for(let l=1;l<e.length-1;l+=2){const o=t.parse(e[l],l,Vo);if(!o)return null;const p=t.parse(e[l+1],l+1,i);if(!p)return null;r.push([o,p]),i=i||p.type}const a=t.parse(e[e.length-1],e.length-1,i);if(!a)return null;if(!i)throw new Error("Can't infer output type");return new GB(i,r,a)}evaluate(e){for(const[t,i]of this.branches)if(t.evaluate(e))return i.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,i]of this.branches)e(t),e(i);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class Gx{constructor(e,t,i,r){this.type=e,this.input=t,this.beginIndex=i,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,jo),r=t.parse(e[2],2,Bi);if(!i||!r)return null;if(!LB(i.type,[Mf(jo),ma,jo]))return t.error(`Expected first argument to be of type array or string, but found ${_A(i.type)} instead`);if(e.length===4){const a=t.parse(e[3],3,Bi);return a?new Gx(i.type,i,r,a):null}else return new Gx(i.type,i,r)}evaluate(e){const t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);let r;if(this.endIndex&&(r=this.endIndex.evaluate(e)),P1(t,["string"]))return[...t].slice(i,r).join("");if(P1(t,["array"]))return t.slice(i,r);throw new NA(`Expected first argument to be of type array or string, but found ${_A(ic(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function G3(n,e){const t=n.length-1;let i=0,r=t,a=0,l,o;for(;i<=r;)if(a=Math.floor((i+r)/2),l=n[a],o=n[a+1],l<=e){if(a===t||e<o)return a;i=a+1}else if(l>e)r=a-1;else throw new NA("Input is not a number.");return 0}class W3{constructor(e,t,i){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,a]of i)this.labels.push(r),this.outputs.push(a)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const i=t.parse(e[1],1,Bi);if(!i)return null;const r=[];let a=null;t.expectedType&&t.expectedType.kind!=="value"&&(a=t.expectedType);for(let l=1;l<e.length;l+=2){const o=l===1?-1/0:e[l],p=e[l+1],C=l,M=l+1;if(typeof o!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',C);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',C);const O=t.parse(p,M,a);if(!O)return null;a=a||O.type,r.push([o,O])}return new W3(a,i,r)}evaluate(e){const t=this.labels,i=this.outputs;if(t.length===1)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const a=t.length;if(r>=t[a-1])return i[a-1].evaluate(e);const l=G3(t,r);return i[l].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function Eq(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var x4,rI;function Bq(){if(rI)return x4;rI=1,x4=n;function n(e,t,i,r){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=i,this.p2y=r}return n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var i=e,r=0;r<8;r++){var a=this.sampleCurveX(i)-e;if(Math.abs(a)<t)return i;var l=this.sampleCurveDerivativeX(i);if(Math.abs(l)<1e-6)break;i=i-a/l}var o=0,p=1;for(i=e,r=0;r<20&&(a=this.sampleCurveX(i),!(Math.abs(a-e)<t));r++)e>a?o=i:p=i,i=(p-o)*.5+o;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},x4}var Oq=Bq(),Iq=Eq(Oq);class _p{constructor(e,t,i,r,a){this.type=e,this.operator=t,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(const[l,o]of a)this.labels.push(l),this.outputs.push(o)}static interpolationFactor(e,t,i,r){let a=0;if(e.name==="exponential")a=M4(t,e.base,i,r);else if(e.name==="linear")a=M4(t,1,i,r);else if(e.name==="cubic-bezier"){const l=e.controlPoints;a=new Iq(l[0],l[1],l[2],l[3]).solve(M4(t,1,i,r))}return a}static parse(e,t){let[i,r,a,...l]=e;if(!Array.isArray(r)||r.length===0)return t.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const C=r[1];if(typeof C!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:C}}else if(r[0]==="cubic-bezier"){const C=r.slice(1);if(C.length!==4||C.some(M=>typeof M!="number"||M<0||M>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:C}}else return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(a=t.parse(a,2,Bi),!a)return null;const o=[];let p=null;(i==="interpolate-hcl"||i==="interpolate-lab")&&t.expectedType!=m_?p=Hm:t.expectedType&&t.expectedType.kind!=="value"&&(p=t.expectedType);for(let C=0;C<l.length;C+=2){const M=l[C],O=l[C+1],U=C+3,K=C+4;if(typeof M!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(o.length&&o[o.length-1][0]>=M)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',U);const j=t.parse(O,K,p);if(!j)return null;p=p||j.type,o.push([M,j])}return!ug(p,Bi)&&!ug(p,R3)&&!ug(p,Hm)&&!ug(p,U3)&&!ug(p,L3)&&!ug(p,m_)&&!ug(p,F3)&&!ug(p,Mf(Bi))?t.error(`Type ${_A(p)} is not interpolatable.`):new _p(p,i,r,a,o)}evaluate(e){const t=this.labels,i=this.outputs;if(t.length===1)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const a=t.length;if(r>=t[a-1])return i[a-1].evaluate(e);const l=G3(t,r),o=t[l],p=t[l+1],C=_p.interpolationFactor(this.interpolation,r,o,p),M=i[l].evaluate(e),O=i[l+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Rg(M,O,C);case"color":return rl.interpolate(M,O,C);case"padding":return md.interpolate(M,O,C);case"colorArray":return ph.interpolate(M,O,C);case"numberArray":return gd.interpolate(M,O,C);case"variableAnchorOffsetCollection":return Cp.interpolate(M,O,C);case"array":return Iv(M,O,C);case"projectionDefinition":return mp.interpolate(M,O,C)}case"interpolate-hcl":switch(this.type.kind){case"color":return rl.interpolate(M,O,C,"hcl");case"colorArray":return ph.interpolate(M,O,C,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return rl.interpolate(M,O,C,"lab");case"colorArray":return ph.interpolate(M,O,C,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function M4(n,e,t,i){const r=i-t,a=n-t;return r===0?0:e===1?a/r:(Math.pow(e,a)-1)/(Math.pow(e,r)-1)}const Tq={color:rl.interpolate,number:Rg,padding:md.interpolate,numberArray:gd.interpolate,colorArray:ph.interpolate,variableAnchorOffsetCollection:Cp.interpolate,array:Iv};class v_{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i=null;const r=t.expectedType;r&&r.kind!=="value"&&(i=r);const a=[];for(const o of e.slice(1)){const p=t.parse(o,1+a.length,i,void 0,{typeAnnotation:"omit"});if(!p)return null;i=i||p.type,a.push(p)}if(!i)throw new Error("No output type");return r&&a.some(o=>g_(r,o.type))?new v_(jo,a):new v_(i,a)}evaluate(e){let t=null,i=0,r;for(const a of this.args)if(i++,t=a.evaluate(e),t&&t instanceof j0&&!t.available&&(r||(r=t.name),t=null,i===this.args.length&&(t=r)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function oI(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function kq(n,e,t){return e===t}function Dq(n,e,t){return e!==t}function Rq(n,e,t){return e<t}function Pq(n,e,t){return e>t}function Kq(n,e,t){return e<=t}function Uq(n,e,t){return e>=t}function EL(n,e,t,i){return i.compare(e,t)===0}function Lq(n,e,t,i){return!EL(n,e,t,i)}function Fq(n,e,t,i){return i.compare(e,t)<0}function zq(n,e,t,i){return i.compare(e,t)>0}function jq(n,e,t,i){return i.compare(e,t)<=0}function Nq(n,e,t,i){return i.compare(e,t)>=0}function Wv(n,e,t){const i=n!=="=="&&n!=="!=";return class BL{constructor(a,l,o){this.type=Vo,this.lhs=a,this.rhs=l,this.collator=o,this.hasUntypedArgument=a.type.kind==="value"||l.type.kind==="value"}static parse(a,l){if(a.length!==3&&a.length!==4)return l.error("Expected two or three arguments.");const o=a[0];let p=l.parse(a[1],1,jo);if(!p)return null;if(!oI(o,p.type))return l.concat(1).error(`"${o}" comparisons are not supported for type '${_A(p.type)}'.`);let C=l.parse(a[2],2,jo);if(!C)return null;if(!oI(o,C.type))return l.concat(2).error(`"${o}" comparisons are not supported for type '${_A(C.type)}'.`);if(p.type.kind!==C.type.kind&&p.type.kind!=="value"&&C.type.kind!=="value")return l.error(`Cannot compare types '${_A(p.type)}' and '${_A(C.type)}'.`);i&&(p.type.kind==="value"&&C.type.kind!=="value"?p=new Xp(C.type,[p]):p.type.kind!=="value"&&C.type.kind==="value"&&(C=new Xp(p.type,[C])));let M=null;if(a.length===4){if(p.type.kind!=="string"&&C.type.kind!=="string"&&p.type.kind!=="value"&&C.type.kind!=="value")return l.error("Cannot use collator to compare non-string types.");if(M=l.parse(a[3],3,P3),!M)return null}return new BL(p,C,M)}evaluate(a){const l=this.lhs.evaluate(a),o=this.rhs.evaluate(a);if(i&&this.hasUntypedArgument){const p=ic(l),C=ic(o);if(p.kind!==C.kind||!(p.kind==="string"||p.kind==="number"))throw new NA(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${p.kind}, ${C.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const p=ic(l),C=ic(o);if(p.kind!=="string"||C.kind!=="string")return e(a,l,o)}return this.collator?t(a,l,o,this.collator.evaluate(a)):e(a,l,o)}eachChild(a){a(this.lhs),a(this.rhs),this.collator&&a(this.collator)}outputDefined(){return!0}}}const Gq=Wv("==",kq,EL),Wq=Wv("!=",Dq,Lq),Qq=Wv("<",Rq,Fq),Yq=Wv(">",Pq,zq),qq=Wv("<=",Kq,jq),Hq=Wv(">=",Uq,Nq);class Q3{constructor(e,t,i){this.type=P3,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const i=e[1];if(typeof i!="object"||Array.isArray(i))return t.error("Collator options argument must be an object.");const r=t.parse(i["case-sensitive"]===void 0?!1:i["case-sensitive"],1,Vo);if(!r)return null;const a=t.parse(i["diacritic-sensitive"]===void 0?!1:i["diacritic-sensitive"],1,Vo);if(!a)return null;let l=null;return i.locale&&(l=t.parse(i.locale,1,ma),!l)?null:new Q3(r,a,l)}evaluate(e){return new FB(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class WB{constructor(e,t,i,r,a){this.type=ma,this.number=e,this.locale=t,this.currency=i,this.minFractionDigits=r,this.maxFractionDigits=a}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const i=t.parse(e[1],1,Bi);if(!i)return null;const r=e[2];if(typeof r!="object"||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let a=null;if(r.locale&&(a=t.parse(r.locale,1,ma),!a))return null;let l=null;if(r.currency&&(l=t.parse(r.currency,1,ma),!l))return null;let o=null;if(r["min-fraction-digits"]&&(o=t.parse(r["min-fraction-digits"],1,Bi),!o))return null;let p=null;return r["max-fraction-digits"]&&(p=t.parse(r["max-fraction-digits"],1,Bi),!p)?null:new WB(i,a,l,o,p)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class QB{constructor(e){this.type=K3,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[1];if(!Array.isArray(i)&&typeof i=="object")return t.error("First argument must be an image or text section.");const r=[];let a=!1;for(let l=1;l<=e.length-1;++l){const o=e[l];if(a&&typeof o=="object"&&!Array.isArray(o)){a=!1;let p=null;if(o["font-scale"]&&(p=t.parse(o["font-scale"],1,Bi),!p))return null;let C=null;if(o["text-font"]&&(C=t.parse(o["text-font"],1,Mf(ma)),!C))return null;let M=null;if(o["text-color"]&&(M=t.parse(o["text-color"],1,Hm),!M))return null;let O=null;if(o["vertical-align"]){if(typeof o["vertical-align"]=="string"&&!Mq.includes(o["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${o["vertical-align"]}' instead.`);if(O=t.parse(o["vertical-align"],1,ma),!O)return null}const U=r[r.length-1];U.scale=p,U.font=C,U.textColor=M,U.verticalAlign=O}else{const p=t.parse(e[l],1,jo);if(!p)return null;const C=p.type.kind;if(C!=="string"&&C!=="value"&&C!=="null"&&C!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,r.push({content:p,scale:null,font:null,textColor:null,verticalAlign:null})}}return new QB(r)}evaluate(e){const t=i=>{const r=i.content.evaluate(e);return ic(r)===rb?new p6("",r,null,null,null,i.verticalAlign?i.verticalAlign.evaluate(e):null):new p6(JC(r),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null,i.verticalAlign?i.verticalAlign.evaluate(e):null)};return new Vm(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class YB{constructor(e){this.type=rb,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const i=t.parse(e[1],1,ma);return i?new YB(i):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),i=j0.fromString(t);return i&&e.availableImages&&(i.available=e.availableImages.indexOf(t)>-1),i}eachChild(e){e(this.input)}outputDefined(){return!1}}class qB{constructor(e){this.type=Bi,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=t.parse(e[1],1);return i?i.type.kind!=="array"&&i.type.kind!=="string"&&i.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${_A(i.type)} instead.`):new qB(i):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new NA(`Expected value to be of type string or array, but found ${_A(ic(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const $m=8192;function Vq(n,e){const t=$q(n[0]),i=Xq(n[1]),r=Math.pow(2,e.z);return[Math.round(t*r*$m),Math.round(i*r*$m)]}function HB(n,e){const t=Math.pow(2,e.z),i=(n[0]/$m+e.x)/t,r=(n[1]/$m+e.y)/t;return[Zq(i),Jq(r)]}function $q(n){return(180+n)/360}function Zq(n){return n*360-180}function Xq(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Jq(n){return 360/Math.PI*Math.atan(Math.exp((180-n*360)*Math.PI/180))-90}function ob(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function C_(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function eH(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function tH(n,e,t){const i=n[0]-e[0],r=n[1]-e[1],a=n[0]-t[0],l=n[1]-t[1];return i*l-a*r===0&&i*a<=0&&r*l<=0}function Y3(n,e,t,i){const r=[e[0]-n[0],e[1]-n[1]],a=[i[0]-t[0],i[1]-t[1]];return oH(a,r)===0?!1:!!(aI(n,e,t,i)&&aI(t,i,n,e))}function nH(n,e,t){for(const i of t)for(let r=0;r<i.length-1;++r)if(Y3(n,e,i[r],i[r+1]))return!0;return!1}function Qv(n,e,t=!1){let i=!1;for(const r of e)for(let a=0;a<r.length-1;a++){if(tH(n,r[a],r[a+1]))return t;eH(n,r[a],r[a+1])&&(i=!i)}return i}function iH(n,e){for(const t of e)if(Qv(n,t))return!0;return!1}function OL(n,e){for(const t of n)if(!Qv(t,e))return!1;for(let t=0;t<n.length-1;++t)if(nH(n[t],n[t+1],e))return!1;return!0}function rH(n,e){for(const t of e)if(OL(n,t))return!0;return!1}function oH(n,e){return n[0]*e[1]-n[1]*e[0]}function aI(n,e,t,i){const r=n[0]-t[0],a=n[1]-t[1],l=e[0]-t[0],o=e[1]-t[1],p=i[0]-t[0],C=i[1]-t[1],M=r*C-p*a,O=l*C-p*o;return M>0&&O<0||M<0&&O>0}function VB(n,e,t){const i=[];for(let r=0;r<n.length;r++){const a=[];for(let l=0;l<n[r].length;l++){const o=Vq(n[r][l],t);ob(e,o),a.push(o)}i.push(a)}return i}function IL(n,e,t){const i=[];for(let r=0;r<n.length;r++){const a=VB(n[r],e,t);i.push(a)}return i}function TL(n,e,t,i){if(n[0]<t[0]||n[0]>t[2]){const r=i*.5;let a=n[0]-t[0]>r?-i:t[0]-n[0]>r?i:0;a===0&&(a=n[0]-t[2]>r?-i:t[2]-n[0]>r?i:0),n[0]+=a}ob(e,n)}function aH(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function sI(n,e,t,i){const r=Math.pow(2,i.z)*$m,a=[i.x*$m,i.y*$m],l=[];for(const o of n)for(const p of o){const C=[p.x+a[0],p.y+a[1]];TL(C,e,t,r),l.push(C)}return l}function lI(n,e,t,i){const r=Math.pow(2,i.z)*$m,a=[i.x*$m,i.y*$m],l=[];for(const o of n){const p=[];for(const C of o){const M=[C.x+a[0],C.y+a[1]];ob(e,M),p.push(M)}l.push(p)}if(e[2]-e[0]<=r/2){aH(e);for(const o of l)for(const p of o)TL(p,e,t,r)}return l}function sH(n,e){const t=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=n.canonicalID();if(e.type==="Polygon"){const a=VB(e.coordinates,i,r),l=sI(n.geometry(),t,i,r);if(!C_(t,i))return!1;for(const o of l)if(!Qv(o,a))return!1}if(e.type==="MultiPolygon"){const a=IL(e.coordinates,i,r),l=sI(n.geometry(),t,i,r);if(!C_(t,i))return!1;for(const o of l)if(!iH(o,a))return!1}return!0}function lH(n,e){const t=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=n.canonicalID();if(e.type==="Polygon"){const a=VB(e.coordinates,i,r),l=lI(n.geometry(),t,i,r);if(!C_(t,i))return!1;for(const o of l)if(!OL(o,a))return!1}if(e.type==="MultiPolygon"){const a=IL(e.coordinates,i,r),l=lI(n.geometry(),t,i,r);if(!C_(t,i))return!1;for(const o of l)if(!rH(o,a))return!1}return!0}class K1{constructor(e,t){this.type=Vo,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(y_(e[1])){const i=e[1];if(i.type==="FeatureCollection"){const r=[];for(const a of i.features){const{type:l,coordinates:o}=a.geometry;l==="Polygon"&&r.push(o),l==="MultiPolygon"&&r.push(...o)}if(r.length){const a={type:"MultiPolygon",coordinates:r};return new K1(i,a)}}else if(i.type==="Feature"){const r=i.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new K1(i,i.geometry)}else if(i.type==="Polygon"||i.type==="MultiPolygon")return new K1(i,i)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return sH(e,this.geometries);if(e.geometryType()==="LineString")return lH(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class kL{constructor(e=[],t=(i,r)=>i<r?-1:i>r?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,r=t[e];for(;e>0;){const a=e-1>>1,l=t[a];if(i(r,l)>=0)break;t[e]=l,e=a}t[e]=r}_down(e){const{data:t,compare:i}=this,r=this.length>>1,a=t[e];for(;e<r;){let l=(e<<1)+1;const o=l+1;if(o<this.length&&i(t[o],t[l])<0&&(l=o),i(t[l],a)>=0)break;t[e]=t[l],e=l}t[e]=a}}function AH(n,e){if(n.length<=1)return[n];const i=[];let r,a;for(const l of n){const o=uH(l);o!==0&&(l.area=Math.abs(o),a===void 0&&(a=o<0),a===o<0?(r&&i.push(r),r=[l]):r.push(l))}return r&&i.push(r),i}function uH(n){let e=0;for(let t=0,i=n.length,r=i-1,a,l;t<i;r=t++)a=n[t],l=n[r],e+=(l.x-a.x)*(a.y+l.y);return e}const cH=6378.137,AI=1/298.257223563,uI=AI*(2-AI),cI=Math.PI/180;class $B{constructor(e){const t=cI*cH*1e3,i=Math.cos(e*cI),r=1/(1-uI*(1-i*i)),a=Math.sqrt(r);this.kx=t*a*i,this.ky=t*a*r*(1-uI)}distance(e,t){const i=this.wrap(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(i*i+r*r)}pointOnLine(e,t){let i=1/0,r,a,l,o;for(let p=0;p<e.length-1;p++){let C=e[p][0],M=e[p][1],O=this.wrap(e[p+1][0]-C)*this.kx,U=(e[p+1][1]-M)*this.ky,K=0;(O!==0||U!==0)&&(K=(this.wrap(t[0]-C)*this.kx*O+(t[1]-M)*this.ky*U)/(O*O+U*U),K>1?(C=e[p+1][0],M=e[p+1][1]):K>0&&(C+=O/this.kx*K,M+=U/this.ky*K)),O=this.wrap(t[0]-C)*this.kx,U=(t[1]-M)*this.ky;const j=O*O+U*U;j<i&&(i=j,r=C,a=M,l=p,o=K)}return{point:[r,a],index:l,t:Math.max(0,Math.min(1,o))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const m6=100,g6=50;function DL(n,e){return e[0]-n[0]}function Wx(n){return n[1]-n[0]+1}function K0(n,e){return n[1]>=n[0]&&n[1]<e}function y6(n,e){if(n[0]>n[1])return[null,null];const t=Wx(n);if(e){if(t===2)return[n,null];const r=Math.floor(t/2);return[[n[0],n[0]+r],[n[0]+r,n[1]]]}if(t===1)return[n,null];const i=Math.floor(t/2)-1;return[[n[0],n[0]+i],[n[0]+i+1,n[1]]]}function v6(n,e){if(!K0(e,n.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let i=e[0];i<=e[1];++i)ob(t,n[i]);return t}function C6(n){const e=[1/0,1/0,-1/0,-1/0];for(const t of n)for(const i of t)ob(e,i);return e}function hI(n){return n[0]!==-1/0&&n[1]!==-1/0&&n[2]!==1/0&&n[3]!==1/0}function ZB(n,e,t){if(!hI(n)||!hI(e))return NaN;let i=0,r=0;return n[2]<e[0]&&(i=e[0]-n[2]),n[0]>e[2]&&(i=n[0]-e[2]),n[1]>e[3]&&(r=n[1]-e[3]),n[3]<e[1]&&(r=e[1]-n[3]),t.distance([0,0],[i,r])}function B1(n,e,t){const i=t.pointOnLine(e,n);return t.distance(n,i.point)}function XB(n,e,t,i,r){const a=Math.min(B1(n,[t,i],r),B1(e,[t,i],r)),l=Math.min(B1(t,[n,e],r),B1(i,[n,e],r));return Math.min(a,l)}function hH(n,e,t,i,r){if(!(K0(e,n.length)&&K0(i,t.length)))return 1/0;let l=1/0;for(let o=e[0];o<e[1];++o){const p=n[o],C=n[o+1];for(let M=i[0];M<i[1];++M){const O=t[M],U=t[M+1];if(Y3(p,C,O,U))return 0;l=Math.min(l,XB(p,C,O,U,r))}}return l}function dH(n,e,t,i,r){if(!(K0(e,n.length)&&K0(i,t.length)))return NaN;let l=1/0;for(let o=e[0];o<=e[1];++o)for(let p=i[0];p<=i[1];++p)if(l=Math.min(l,r.distance(n[o],t[p])),l===0)return l;return l}function fH(n,e,t){if(Qv(n,e,!0))return 0;let i=1/0;for(const r of e){const a=r[0],l=r[r.length-1];if(a!==l&&(i=Math.min(i,B1(n,[l,a],t)),i===0))return i;const o=t.pointOnLine(r,n);if(i=Math.min(i,t.distance(n,o.point)),i===0)return i}return i}function pH(n,e,t,i){if(!K0(e,n.length))return NaN;for(let a=e[0];a<=e[1];++a)if(Qv(n[a],t,!0))return 0;let r=1/0;for(let a=e[0];a<e[1];++a){const l=n[a],o=n[a+1];for(const p of t)for(let C=0,M=p.length,O=M-1;C<M;O=C++){const U=p[O],K=p[C];if(Y3(l,o,U,K))return 0;r=Math.min(r,XB(l,o,U,K,i))}}return r}function dI(n,e){for(const t of n)for(const i of t)if(Qv(i,e,!0))return!0;return!1}function mH(n,e,t,i=1/0){const r=C6(n),a=C6(e);if(i!==1/0&&ZB(r,a,t)>=i)return i;if(C_(r,a)){if(dI(n,e))return 0}else if(dI(e,n))return 0;let l=1/0;for(const o of n)for(let p=0,C=o.length,M=C-1;p<C;M=p++){const O=o[M],U=o[p];for(const K of e)for(let j=0,W=K.length,Y=W-1;j<W;Y=j++){const te=K[Y],J=K[j];if(Y3(O,U,te,J))return 0;l=Math.min(l,XB(O,U,te,J,t))}}return l}function fI(n,e,t,i,r,a){if(!a)return;const l=ZB(v6(i,a),r,t);l<e&&n.push([l,a,[0,0]])}function Lb(n,e,t,i,r,a,l){if(!a||!l)return;const o=ZB(v6(i,a),v6(r,l),t);o<e&&n.push([o,a,l])}function Qx(n,e,t,i,r=1/0){let a=Math.min(i.distance(n[0],t[0][0]),r);if(a===0)return a;const l=new kL([[0,[0,n.length-1],[0,0]]],DL),o=C6(t);for(;l.length>0;){const p=l.pop();if(p[0]>=a)continue;const C=p[1],M=e?g6:m6;if(Wx(C)<=M){if(!K0(C,n.length))return NaN;if(e){const O=pH(n,C,t,i);if(isNaN(O)||O===0)return O;a=Math.min(a,O)}else for(let O=C[0];O<=C[1];++O){const U=fH(n[O],t,i);if(a=Math.min(a,U),a===0)return 0}}else{const O=y6(C,e);fI(l,a,i,n,o,O[0]),fI(l,a,i,n,o,O[1])}}return a}function Yx(n,e,t,i,r,a=1/0){let l=Math.min(a,r.distance(n[0],t[0]));if(l===0)return l;const o=new kL([[0,[0,n.length-1],[0,t.length-1]]],DL);for(;o.length>0;){const p=o.pop();if(p[0]>=l)continue;const C=p[1],M=p[2],O=e?g6:m6,U=i?g6:m6;if(Wx(C)<=O&&Wx(M)<=U){if(!K0(C,n.length)&&K0(M,t.length))return NaN;let K;if(e&&i)K=hH(n,C,t,M,r),l=Math.min(l,K);else if(e&&!i){const j=n.slice(C[0],C[1]+1);for(let W=M[0];W<=M[1];++W)if(K=B1(t[W],j,r),l=Math.min(l,K),l===0)return l}else if(!e&&i){const j=t.slice(M[0],M[1]+1);for(let W=C[0];W<=C[1];++W)if(K=B1(n[W],j,r),l=Math.min(l,K),l===0)return l}else K=dH(n,C,t,M,r),l=Math.min(l,K)}else{const K=y6(C,e),j=y6(M,i);Lb(o,l,r,n,t,K[0],j[0]),Lb(o,l,r,n,t,K[0],j[1]),Lb(o,l,r,n,t,K[1],j[0]),Lb(o,l,r,n,t,K[1],j[1])}}return l}function gH(n,e){const t=n.geometry(),i=t.flat().map(l=>HB([l.x,l.y],n.canonical));if(t.length===0)return NaN;const r=new $B(i[0][1]);let a=1/0;for(const l of e){switch(l.type){case"Point":a=Math.min(a,Yx(i,!1,[l.coordinates],!1,r,a));break;case"LineString":a=Math.min(a,Yx(i,!1,l.coordinates,!0,r,a));break;case"Polygon":a=Math.min(a,Qx(i,!1,l.coordinates,r,a));break}if(a===0)return a}return a}function yH(n,e){const t=n.geometry(),i=t.flat().map(l=>HB([l.x,l.y],n.canonical));if(t.length===0)return NaN;const r=new $B(i[0][1]);let a=1/0;for(const l of e){switch(l.type){case"Point":a=Math.min(a,Yx(i,!0,[l.coordinates],!1,r,a));break;case"LineString":a=Math.min(a,Yx(i,!0,l.coordinates,!0,r,a));break;case"Polygon":a=Math.min(a,Qx(i,!0,l.coordinates,r,a));break}if(a===0)return a}return a}function vH(n,e){const t=n.geometry();if(t.length===0||t[0].length===0)return NaN;const i=AH(t).map(l=>l.map(o=>o.map(p=>HB([p.x,p.y],n.canonical)))),r=new $B(i[0][0][0][1]);let a=1/0;for(const l of e)for(const o of i){switch(l.type){case"Point":a=Math.min(a,Qx([l.coordinates],!1,o,r,a));break;case"LineString":a=Math.min(a,Qx(l.coordinates,!0,o,r,a));break;case"Polygon":a=Math.min(a,mH(o,l.coordinates,r,a));break}if(a===0)return a}return a}function w4(n){return n.type==="MultiPolygon"?n.coordinates.map(e=>({type:"Polygon",coordinates:e})):n.type==="MultiLineString"?n.coordinates.map(e=>({type:"LineString",coordinates:e})):n.type==="MultiPoint"?n.coordinates.map(e=>({type:"Point",coordinates:e})):[n]}class U1{constructor(e,t){this.type=Bi,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(y_(e[1])){const i=e[1];if(i.type==="FeatureCollection")return new U1(i,i.features.map(r=>w4(r.geometry)).flat());if(i.type==="Feature")return new U1(i,w4(i.geometry));if("type"in i&&"coordinates"in i)return new U1(i,w4(i))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return gH(e,this.geometries);if(e.geometryType()==="LineString")return yH(e,this.geometries);if(e.geometryType()==="Polygon")return vH(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class ab{constructor(e){this.type=jo,this.key=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=e[1];return i==null?t.error("Global state property must be defined."):typeof i!="string"?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new ab(i)}evaluate(e){var t;const i=(t=e.globals)===null||t===void 0?void 0:t.globalState;return!i||Object.keys(i).length===0?null:XC(i,this.key)}eachChild(){}outputDefined(){return!1}}const q3={"==":Gq,"!=":Wq,">":Yq,"<":Qq,">=":Hq,"<=":qq,array:Xp,at:zB,boolean:Xp,case:GB,coalesce:v_,collator:Q3,format:QB,image:YB,in:jB,"index-of":Nx,interpolate:_p,"interpolate-hcl":_p,"interpolate-lab":_p,length:qB,let:j3,literal:Tv,match:NB,number:Xp,"number-format":WB,object:Xp,slice:Gx,step:W3,string:Xp,"to-boolean":Sg,"to-color":Sg,"to-number":Sg,"to-string":Sg,var:N3,within:K1,distance:U1,"global-state":ab};class Ef{constructor(e,t,i,r){this.name=e,this.type=t,this._evaluate=i,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const i=e[0],r=Ef.definitions[i];if(!r)return t.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const a=Array.isArray(r)?r[0]:r.type,l=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,o=l.filter(([C])=>!Array.isArray(C)||C.length===e.length-1);let p=null;for(const[C,M]of o){p=new z3(t.registry,qx,t.path,null,t.scope);const O=[];let U=!1;for(let K=1;K<e.length;K++){const j=e[K],W=Array.isArray(C)?C[K-1]:C.type,Y=p.parse(j,1+O.length,W);if(!Y){U=!0;break}O.push(Y)}if(!U){if(Array.isArray(C)&&C.length!==O.length){p.error(`Expected ${C.length} arguments, but found ${O.length} instead.`);continue}for(let K=0;K<O.length;K++){const j=Array.isArray(C)?C[K]:C.type,W=O[K];p.concat(K+1).checkSubtype(j,W.type)}if(p.errors.length===0)return new Ef(i,a,M,O)}}if(o.length===1)t.errors.push(...p.errors);else{const M=(o.length?o:l).map(([U])=>_H(U)).join(" | "),O=[];for(let U=1;U<e.length;U++){const K=t.parse(e[U],1+O.length);if(!K)return null;O.push(_A(K.type))}t.error(`Expected arguments of type ${M}, but found (${O.join(", ")}) instead.`)}return null}static register(e,t){Ef.definitions=t;for(const i in t)e[i]=Ef}}function pI(n,[e,t,i,r]){e=e.evaluate(n),t=t.evaluate(n),i=i.evaluate(n);const a=r?r.evaluate(n):1,l=wL(e,t,i,a);if(l)throw new NA(l);return new rl(e/255,t/255,i/255,a,!1)}function mI(n,e){return n in e}function S4(n,e){const t=e[n];return typeof t>"u"?null:t}function CH(n,e,t,i){for(;t<=i;){const r=t+i>>1;if(e[r]===n)return!0;e[r]>n?i=r-1:t=r+1}return!1}function m1(n){return{type:n}}Ef.register(q3,{error:[hq,[ma],(n,[e])=>{throw new NA(e.evaluate(n))}],typeof:[ma,[jo],(n,[e])=>_A(ic(e.evaluate(n)))],"to-rgba":[Mf(Bi,4),[Hm],(n,[e])=>{const[t,i,r,a]=e.evaluate(n).rgb;return[t*255,i*255,r*255,a]}],rgb:[Hm,[Bi,Bi,Bi],pI],rgba:[Hm,[Bi,Bi,Bi,Bi],pI],has:{type:Vo,overloads:[[[ma],(n,[e])=>mI(e.evaluate(n),n.properties())],[[ma,R1],(n,[e,t])=>mI(e.evaluate(n),t.evaluate(n))]]},get:{type:jo,overloads:[[[ma],(n,[e])=>S4(e.evaluate(n),n.properties())],[[ma,R1],(n,[e,t])=>S4(e.evaluate(n),t.evaluate(n))]]},"feature-state":[jo,[ma],(n,[e])=>S4(e.evaluate(n),n.featureState||{})],properties:[R1,[],n=>n.properties()],"geometry-type":[ma,[],n=>n.geometryType()],id:[jo,[],n=>n.id()],zoom:[Bi,[],n=>n.globals.zoom],"heatmap-density":[Bi,[],n=>n.globals.heatmapDensity||0],elevation:[Bi,[],n=>n.globals.elevation||0],"line-progress":[Bi,[],n=>n.globals.lineProgress||0],accumulated:[jo,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Bi,m1(Bi),(n,e)=>{let t=0;for(const i of e)t+=i.evaluate(n);return t}],"*":[Bi,m1(Bi),(n,e)=>{let t=1;for(const i of e)t*=i.evaluate(n);return t}],"-":{type:Bi,overloads:[[[Bi,Bi],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[Bi],(n,[e])=>-e.evaluate(n)]]},"/":[Bi,[Bi,Bi],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[Bi,[Bi,Bi],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[Bi,[],()=>Math.LN2],pi:[Bi,[],()=>Math.PI],e:[Bi,[],()=>Math.E],"^":[Bi,[Bi,Bi],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[Bi,[Bi],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[Bi,[Bi],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[Bi,[Bi],(n,[e])=>Math.log(e.evaluate(n))],log2:[Bi,[Bi],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[Bi,[Bi],(n,[e])=>Math.sin(e.evaluate(n))],cos:[Bi,[Bi],(n,[e])=>Math.cos(e.evaluate(n))],tan:[Bi,[Bi],(n,[e])=>Math.tan(e.evaluate(n))],asin:[Bi,[Bi],(n,[e])=>Math.asin(e.evaluate(n))],acos:[Bi,[Bi],(n,[e])=>Math.acos(e.evaluate(n))],atan:[Bi,[Bi],(n,[e])=>Math.atan(e.evaluate(n))],min:[Bi,m1(Bi),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[Bi,m1(Bi),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[Bi,[Bi],(n,[e])=>Math.abs(e.evaluate(n))],round:[Bi,[Bi],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[Bi,[Bi],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[Bi,[Bi],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[Vo,[ma,jo],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[Vo,[jo],(n,[e])=>n.id()===e.value],"filter-type-==":[Vo,[ma],(n,[e])=>n.geometryType()===e.value],"filter-<":[Vo,[ma,jo],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i<r}],"filter-id-<":[Vo,[jo],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t<i}],"filter->":[Vo,[ma,jo],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i>r}],"filter-id->":[Vo,[jo],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t>i}],"filter-<=":[Vo,[ma,jo],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[Vo,[jo],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t<=i}],"filter->=":[Vo,[ma,jo],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[Vo,[jo],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t>=i}],"filter-has":[Vo,[jo],(n,[e])=>e.value in n.properties()],"filter-has-id":[Vo,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[Vo,[Mf(ma)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[Vo,[Mf(jo)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[Vo,[ma,Mf(jo)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[Vo,[ma,Mf(jo)],(n,[e,t])=>CH(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Vo,overloads:[[[Vo,Vo],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[m1(Vo),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:Vo,overloads:[[[Vo,Vo],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[m1(Vo),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[Vo,[Vo],(n,[e])=>!e.evaluate(n)],"is-supported-script":[Vo,[ma],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[ma,[ma],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[ma,[ma],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[ma,m1(jo),(n,e)=>e.map(t=>JC(t.evaluate(n))).join("")],"resolved-locale":[ma,[P3],(n,[e])=>e.evaluate(n).resolvedLocale()]});function _H(n){return Array.isArray(n)?`(${n.map(_A).join(", ")})`:`(${_A(n.type)}...)`}function qx(n){if(n instanceof N3)return qx(n.boundExpression);if(n instanceof Ef&&n.name==="error")return!1;if(n instanceof Q3)return!1;if(n instanceof K1)return!1;if(n instanceof U1)return!1;if(n instanceof ab)return!1;const e=n instanceof Sg||n instanceof Xp;let t=!0;return n.eachChild(i=>{e?t=t&&qx(i):t=t&&i instanceof Tv}),t?H3(n)&&V3(n,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]):!1}function H3(n){if(n instanceof Ef){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof K1||n instanceof U1)return!1;let e=!0;return n.eachChild(t=>{e&&!H3(t)&&(e=!1)}),e}function __(n){if(n instanceof Ef&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!__(t)&&(e=!1)}),e}function V3(n,e){if(n instanceof Ef&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(i=>{t&&!V3(i,e)&&(t=!1)}),t}function _6(n){return{result:"success",value:n}}function av(n){return{result:"error",value:n}}function Hx(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function RL(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function JB(n){return!!n.expression&&n.expression.interpolated}function ga(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function Yv(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&ic(n)===R1}function bH(n){return n}function xH(n){switch(n.type){case"color":return rl.parse;case"padding":return md.parse;case"numberArray":return gd.parse;case"colorArray":return ph.parse;default:return null}}function MH(n){switch(n){case"exponential":return PL;case"interval":return SH;case"categorical":return wH;case"identity":return EH;default:throw new Error(`Unknown function type "${n}"`)}}function eO(n,e){const t=n.stops&&typeof n.stops[0][0]=="object",i=t||n.property!==void 0,r=t||!i,a=n.type||(JB(e)?"exponential":"interval"),l=xH(e);if(l&&(n=Ov({},n),n.stops&&(n.stops=n.stops.map(M=>[M[0],l(M[1])])),n.default?n.default=l(n.default):n.default=l(e.default)),n.colorSpace&&!xq(n.colorSpace))throw new Error(`Unknown color space: "${n.colorSpace}"`);const o=MH(a);let p,C;if(a==="categorical"){p=Object.create(null);for(const M of n.stops)p[M[0]]=M[1];C=typeof n.stops[0][0]}if(t){const M={},O=[];for(let j=0;j<n.stops.length;j++){const W=n.stops[j],Y=W[0].zoom;M[Y]===void 0&&(M[Y]={zoom:Y,type:n.type,property:n.property,default:n.default,stops:[]},O.push(Y)),M[Y].stops.push([W[0].value,W[1]])}const U=[];for(const j of O)U.push([M[j].zoom,eO(M[j],e)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:_p.interpolationFactor.bind(void 0,K),zoomStops:U.map(j=>j[0]),evaluate({zoom:j},W){return PL({stops:U,base:n.base},e,j).evaluate(j,W)}}}else if(r){const M=a==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:M,interpolationFactor:_p.interpolationFactor.bind(void 0,M),zoomStops:n.stops.map(O=>O[0]),evaluate:({zoom:O})=>o(n,e,O,p,C)}}else return{kind:"source",evaluate(M,O){const U=O&&O.properties?O.properties[n.property]:void 0;return U===void 0?sb(n.default,e.default):o(n,e,U,p,C)}}}function sb(n,e,t){if(n!==void 0)return n;if(e!==void 0)return e;if(t!==void 0)return t}function wH(n,e,t,i,r){const a=typeof t===r?i[t]:void 0;return sb(a,n.default,e.default)}function SH(n,e,t){if(ga(t)!=="number")return sb(n.default,e.default);const i=n.stops.length;if(i===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[i-1][0])return n.stops[i-1][1];const r=G3(n.stops.map(a=>a[0]),t);return n.stops[r][1]}function PL(n,e,t){const i=n.base!==void 0?n.base:1;if(ga(t)!=="number")return sb(n.default,e.default);const r=n.stops.length;if(r===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[r-1][0])return n.stops[r-1][1];const a=G3(n.stops.map(M=>M[0]),t),l=BH(t,i,n.stops[a][0],n.stops[a+1][0]),o=n.stops[a][1],p=n.stops[a+1][1],C=Tq[e.type]||bH;return typeof o.evaluate=="function"?{evaluate(...M){const O=o.evaluate.apply(void 0,M),U=p.evaluate.apply(void 0,M);if(!(O===void 0||U===void 0))return C(O,U,l,n.colorSpace)}}:C(o,p,l,n.colorSpace)}function EH(n,e,t){switch(e.type){case"color":t=rl.parse(t);break;case"formatted":t=Vm.fromString(t.toString());break;case"resolvedImage":t=j0.fromString(t.toString());break;case"padding":t=md.parse(t);break;case"colorArray":t=ph.parse(t);break;case"numberArray":t=gd.parse(t);break;default:ga(t)!==e.type&&(e.type!=="enum"||!e.values[t])&&(t=void 0)}return sb(t,n.default,e.default)}function BH(n,e,t,i){const r=i-t,a=n-t;return r===0?0:e===1?a/r:(Math.pow(e,a)-1)/(Math.pow(e,r)-1)}class KL{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new SL,this._defaultValue=t?kH(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,i,r,a,l){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=r,this._evaluator.availableImages=a||null,this._evaluator.formattedSection=l,this.expression.evaluate(this._evaluator)}evaluate(e,t,i,r,a,l){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=r,this._evaluator.availableImages=a||null,this._evaluator.formattedSection=l||null;try{const o=this.expression.evaluate(this._evaluator);if(o==null||typeof o=="number"&&o!==o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new NA(`Expected value to be one of ${Object.keys(this._enumValues).map(p=>JSON.stringify(p)).join(", ")}, but found ${JSON.stringify(o)} instead.`);return o}catch(o){return this._warningHistory[o.message]||(this._warningHistory[o.message]=!0,typeof console<"u"&&console.warn(o.message)),this._defaultValue}}}function qv(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in q3}function $3(n,e){const t=new z3(q3,qx,[],e?TH(e):void 0),i=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return i?_6(new KL(i,e)):av(t.errors)}class b6{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!__(t.expression),this.globalStateRefs=J3(t.expression)}evaluateWithoutErrorHandling(e,t,i,r,a,l){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,a,l)}evaluate(e,t,i,r,a,l){return this._styleExpression.evaluate(e,t,i,r,a,l)}}class x6{constructor(e,t,i,r){this.kind=e,this.zoomStops=i,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!__(t.expression),this.globalStateRefs=J3(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,i,r,a,l){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,a,l)}evaluate(e,t,i,r,a,l){return this._styleExpression.evaluate(e,t,i,r,a,l)}interpolationFactor(e,t,i){return this.interpolationType?_p.interpolationFactor(this.interpolationType,e,t,i):0}}function OH(n){return n._styleExpression!==void 0}function Z3(n,e){const t=$3(n,e);if(t.result==="error")return t;const i=t.value.expression,r=H3(i);if(!r&&!Hx(e))return av([new Nm("","data expressions not supported")]);const a=V3(i,["zoom"]);if(!a&&!RL(e))return av([new Nm("","zoom expressions not supported")]);const l=xx(i);if(!l&&!a)return av([new Nm("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(l instanceof Nm)return av([l]);if(l instanceof _p&&!JB(e))return av([new Nm("",'"interpolate" expressions cannot be used with this property')]);if(!l)return _6(r?new b6("constant",t.value):new b6("source",t.value));const o=l instanceof _p?l.interpolation:void 0;return _6(r?new x6("camera",t.value,l.labels,o):new x6("composite",t.value,l.labels,o))}class X3{constructor(e,t){this._parameters=e,this._specification=t,Ov(this,eO(this._parameters,this._specification))}static deserialize(e){return new X3(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function IH(n,e){if(Yv(n))return new X3(n,e);if(qv(n)){const t=Z3(n,e);if(t.result==="error")throw new Error(t.value.map(i=>`${i.key}: ${i.message}`).join(", "));return t.value}else{let t=n;return e.type==="color"&&typeof n=="string"?t=rl.parse(n):e.type==="padding"&&(typeof n=="number"||Array.isArray(n))?t=md.parse(n):e.type==="numberArray"&&(typeof n=="number"||Array.isArray(n))?t=gd.parse(n):e.type==="colorArray"&&(typeof n=="string"||Array.isArray(n))?t=ph.parse(n):e.type==="variableAnchorOffsetCollection"&&Array.isArray(n)?t=Cp.parse(n):e.type==="projectionDefinition"&&typeof n=="string"&&(t=mp.parse(n)),{globalStateRefs:new Set,kind:"constant",evaluate:()=>t}}}function xx(n){let e=null;if(n instanceof j3)e=xx(n.result);else if(n instanceof v_){for(const t of n.args)if(e=xx(t),e)break}else(n instanceof W3||n instanceof _p)&&n.input instanceof Ef&&n.input.name==="zoom"&&(e=n);return e instanceof Nm||n.eachChild(t=>{const i=xx(t);i instanceof Nm?e=i:!e&&i?e=new Nm("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new Nm("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function J3(n,e=new Set){return n instanceof ab&&e.add(n.key),n.eachChild(t=>{J3(t,e)}),e}function TH(n){const e={color:Hm,string:ma,number:Bi,enum:ma,boolean:Vo,formatted:K3,padding:U3,numberArray:L3,colorArray:m_,projectionDefinition:R3,resolvedImage:rb,variableAnchorOffsetCollection:F3};return n.type==="array"?Mf(e[n.value]||jo,n.length):e[n.type]}function kH(n){if(n.type==="color"&&Yv(n.default))return new rl(0,0,0,0);switch(n.type){case"color":return rl.parse(n.default)||null;case"padding":return md.parse(n.default)||null;case"numberArray":return gd.parse(n.default)||null;case"colorArray":return ph.parse(n.default)||null;case"variableAnchorOffsetCollection":return Cp.parse(n.default)||null;case"projectionDefinition":return mp.parse(n.default)||null;default:return n.default===void 0?null:n.default}}function lb(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!lb(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const DH={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function RH(n){if(n==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};lb(n)||(n=Vx(n));const e=$3(n,DH);if(e.result==="error")throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));{const t=UL(n);return{filter:(i,r,a)=>e.value.evaluate(i,r,{},a),needGeometry:t,getGlobalStateRefs:()=>J3(e.value.expression)}}}function PH(n,e){return n<e?-1:n>e?1:0}function UL(n){if(!Array.isArray(n))return!1;if(n[0]==="within"||n[0]==="distance")return!0;for(let e=1;e<n.length;e++)if(UL(n[e]))return!0;return!1}function Vx(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?E4(n[1],n[2],"=="):e==="!="?Fb(E4(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?E4(n[1],n[2],e):e==="any"?KH(n.slice(1)):e==="all"?["all"].concat(n.slice(1).map(Vx)):e==="none"?["all"].concat(n.slice(1).map(Vx).map(Fb)):e==="in"?gI(n[1],n.slice(2)):e==="!in"?Fb(gI(n[1],n.slice(2))):e==="has"?yI(n[1]):e==="!has"?Fb(yI(n[1])):!0}function E4(n,e,t){switch(n){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,n,e]}}function KH(n){return["any"].concat(n.map(Vx))}function gI(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",n,["literal",e.sort(PH)]]:["filter-in-small",n,["literal",e]]}}function yI(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Fb(n){return["!",n]}function e_(n,e={}){if(lb(n))return n;if(!n)return!0;const t=n,i=t[0];if(n.length<=1)return i!=="any";switch(i){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,r,a]=n;return LH(r,a,i,e)}case"any":{const[,...r]=t;return["any",...r.map(l=>{const o={},p=e_(l,o),C=UH(o);return C===!0?p:["case",C,p,!1]})]}case"all":{const[,...r]=t,a=r.map(l=>e_(l,e));return a.length>1?["all",...a]:a[0]}case"none":{const[,...r]=t;return["!",e_(["any",...r],{})]}case"in":{const[,r,...a]=t;return vI(r,a)}case"!in":{const[,r,...a]=t;return vI(r,a,!0)}case"has":return CI(t[1]);case"!has":return["!",CI(t[1])];default:return!0}}function UH(n){const e=[];for(const t in n){const i=t==="$id"?["id"]:["get",t];e.push(["==",["typeof",i],n[t]])}return e.length===0?!0:e.length===1?e[0]:["all",...e]}function LH(n,e,t,i){let r;if(n==="$type")return[t,["geometry-type"],e];if(n==="$id"?r=["id"]:r=["get",n],i&&e!==null){const a=typeof e;i[n]=a}return t==="=="&&n!=="$id"&&e===null?["all",["has",n],["==",r,null]]:t==="!="&&n!=="$id"&&e===null?["any",["!",["has",n]],["!=",r,null]]:[t,r,e]}function vI(n,e,t=!1){if(e.length===0)return t;let i;n==="$type"?i=["geometry-type"]:n==="$id"?i=["id"]:i=["get",n];let r=!0;const a=typeof e[0];for(const l of e)if(typeof l!==a){r=!1;break}if(r&&(a==="string"||a==="number")){const l=e.sort().filter((o,p)=>p===0||e[p-1]!==o);return["match",i,l,!t,t]}return t?["all",...e.map(l=>["!=",i,l])]:["any",...e.map(l=>["==",i,l])]}function CI(n){return n==="$type"?!0:n==="$id"?["!=",["id"],null]:["has",n]}function b_(n){return typeof n=="object"?["literal",n]:n}function tO(n,e){let t=n.stops;if(!t)return FH(n,e);const i=t&&typeof t[0][0]=="object",r=i||n.property!==void 0,a=i||!r;return t=t.map(l=>!r&&e.tokens&&typeof l[1]=="string"?[l[0],LL(l[1])]:[l[0],b_(l[1])]),i?zH(n,e,t):a?NH(n,e,t):M6(n,e,t)}function FH(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const i=[e.type==="color"?"to-color":e.type,t,b_(n.default)];return e.type==="array"&&i.splice(1,0,e.value,e.length||null),i}}function nO(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function zH(n,e,t){const i={},r={},a=[];for(let o=0;o<t.length;o++){const p=t[o],C=p[0].zoom;i[C]===void 0&&(i[C]={zoom:C,type:n.type,property:n.property,default:n.default},r[C]=[],a.push(C)),r[C].push([p[0].value,p[1]])}if(rO({},e)==="exponential"){const o=[nO(n),["linear"],["zoom"]];for(const p of a){const C=M6(i[p],e,r[p]);vv(o,p,C,!1)}return o}else{const o=["step",["zoom"]];for(const p of a){const C=M6(i[p],e,r[p]);vv(o,p,C,!0)}return iO(o),o}}function jH(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function _I(n,e){const t=b_(jH(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function M6(n,e,t){const i=rO(n,e),r=["get",n.property];if(i==="categorical"&&typeof t[0][0]=="boolean"){const a=["case"];for(const l of t)a.push(["==",r,l[0]],l[1]);return a.push(_I(n,e)),a}else if(i==="categorical"){const a=["match",r];for(const l of t)vv(a,l[0],l[1],!1);return a.push(_I(n,e)),a}else if(i==="interval"){const a=["step",["number",r]];for(const l of t)vv(a,l[0],l[1],!0);return iO(a),n.default===void 0?a:["case",["==",["typeof",r],"number"],a,b_(n.default)]}else if(i==="exponential"){const a=n.base!==void 0?n.base:1,l=[nO(n),a===1?["linear"]:["exponential",a],["number",r]];for(const o of t)vv(l,o[0],o[1],!1);return n.default===void 0?l:["case",["==",["typeof",r],"number"],l,b_(n.default)]}else throw new Error(`Unknown property function type ${i}`)}function NH(n,e,t,i=["zoom"]){const r=rO(n,e);let a,l=!1;if(r==="interval")a=["step",i],l=!0;else if(r==="exponential"){const o=n.base!==void 0?n.base:1;a=[nO(n),o===1?["linear"]:["exponential",o],i]}else throw new Error(`Unknown zoom function type "${r}"`);for(const o of t)vv(a,o[0],o[1],l);return iO(a),a}function iO(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function vv(n,e,t,i){n.length>3&&e===n[n.length-2]||(i&&n.length===2||n.push(e),n.push(t))}function rO(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function LL(n){const e=["concat"],t=/{([^{}]+)}/g;let i=0;for(let r=t.exec(n);r!==null;r=t.exec(n)){const a=n.slice(i,t.lastIndex-r[0].length);i=t.lastIndex,a.length>0&&e.push(a),e.push(["get",r[1]])}if(e.length===1)return n;if(i<n.length)e.push(n.slice(i));else if(e.length===2)return["to-string",e[1]];return e}function GH(n){for(let e=0;e<Xa.layout.length;e++)for(const t in Xa[Xa.layout[e]])if(t===n)return Xa[Xa.layout[e]][t];for(let e=0;e<Xa.paint.length;e++)for(const t in Xa[Xa.paint[e]])if(t===n)return Xa[Xa.paint[e]][t];return null}function WH(n,e){for(const t in n.sources)e(n.sources[t])}function t_(n,e){for(const t of n.layers)e(t)}function oO(n,e,t){function i(r,a){const l=r[a];l&&Object.keys(l).forEach(o=>{t({path:[r.id,a,o],key:o,value:l[o],reference:GH(o),set(p){l[o]=p}})})}t_(n,r=>{e.paint&&i(r,"paint"),e.layout&&i(r,"layout")})}function FL(n){const e=n.key,t=n.value;return t?[new _i(e,t,"constants have been deprecated as of v8")]:[]}function Au(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function G1(n){if(Array.isArray(n))return n.map(G1);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const t in n)e[t]=G1(n[t]);return e}return Au(n)}function gp(n){const e=n.key,t=n.value,i=n.valueSpec||{},r=n.objectElementValidators||{},a=n.style,l=n.styleSpec,o=n.validateSpec;let p=[];const C=ga(t);if(C!=="object")return[new _i(e,t,`object expected, ${C} found`)];for(const M in t){const O=M.split(".")[0],U=XC(i,O)||i["*"];let K;if(XC(r,O))K=r[O];else if(XC(i,O))K=o;else if(r["*"])K=r["*"];else if(i["*"])K=o;else{p.push(new _i(e,t[M],`unknown property "${M}"`));continue}p=p.concat(K({key:(e&&`${e}.`)+M,value:t[M],valueSpec:U,style:a,styleSpec:l,object:t,objectKey:M,validateSpec:o},t))}for(const M in i)r[M]||i[M].required&&i[M].default===void 0&&t[M]===void 0&&p.push(new _i(e,t,`missing required property "${M}"`));return p}function aO(n){const e=n.value,t=n.valueSpec,i=n.validateSpec,r=n.style,a=n.styleSpec,l=n.key,o=n.arrayElementValidator||i;if(ga(e)!=="array")return[new _i(l,e,`array expected, ${ga(e)} found`)];if(t.length&&e.length!==t.length)return[new _i(l,e,`array length ${t.length} expected, length ${e.length} found`)];if(t["min-length"]&&e.length<t["min-length"])return[new _i(l,e,`array length at least ${t["min-length"]} expected, length ${e.length} found`)];let p={type:t.value,values:t.values};a.$version<7&&(p.function=t.function),ga(t.value)==="object"&&(p=t.value);let C=[];for(let M=0;M<e.length;M++)C=C.concat(o({array:e,arrayIndex:M,value:e[M],valueSpec:p,validateSpec:n.validateSpec,style:r,styleSpec:a,key:`${l}[${M}]`}));return C}function e2(n){const e=n.key,t=n.value,i=n.valueSpec;let r=ga(t);return r==="number"&&t!==t&&(r="NaN"),r!=="number"?[new _i(e,t,`number expected, ${r} found`)]:"minimum"in i&&t<i.minimum?[new _i(e,t,`${t} is less than the minimum value ${i.minimum}`)]:"maximum"in i&&t>i.maximum?[new _i(e,t,`${t} is greater than the maximum value ${i.maximum}`)]:[]}function zL(n){const e=n.valueSpec,t=Au(n.value.type);let i,r={},a,l;const o=t!=="categorical"&&n.value.property===void 0,p=!o,C=ga(n.value.stops)==="array"&&ga(n.value.stops[0])==="array"&&ga(n.value.stops[0][0])==="object",M=gp({key:n.key,value:n.value,valueSpec:n.styleSpec.function,validateSpec:n.validateSpec,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:O,default:j}});return t==="identity"&&o&&M.push(new _i(n.key,n.value,'missing required property "property"')),t!=="identity"&&!n.value.stops&&M.push(new _i(n.key,n.value,'missing required property "stops"')),t==="exponential"&&n.valueSpec.expression&&!JB(n.valueSpec)&&M.push(new _i(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(p&&!Hx(n.valueSpec)?M.push(new _i(n.key,n.value,"property functions not supported")):o&&!RL(n.valueSpec)&&M.push(new _i(n.key,n.value,"zoom functions not supported"))),(t==="categorical"||C)&&n.value.property===void 0&&M.push(new _i(n.key,n.value,'"property" property is required')),M;function O(W){if(t==="identity")return[new _i(W.key,W.value,'identity function may not have a "stops" property')];let Y=[];const te=W.value;return Y=Y.concat(aO({key:W.key,value:te,valueSpec:W.valueSpec,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec,arrayElementValidator:U})),ga(te)==="array"&&te.length===0&&Y.push(new _i(W.key,te,"array must have at least one stop")),Y}function U(W){let Y=[];const te=W.value,J=W.key;if(ga(te)!=="array")return[new _i(J,te,`array expected, ${ga(te)} found`)];if(te.length!==2)return[new _i(J,te,`array length 2 expected, length ${te.length} found`)];if(C){if(ga(te[0])!=="object")return[new _i(J,te,`object expected, ${ga(te[0])} found`)];if(te[0].zoom===void 0)return[new _i(J,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new _i(J,te,"object stop key must have value")];if(l&&l>Au(te[0].zoom))return[new _i(J,te[0].zoom,"stop zoom values must appear in ascending order")];Au(te[0].zoom)!==l&&(l=Au(te[0].zoom),a=void 0,r={}),Y=Y.concat(gp({key:`${J}[0]`,value:te[0],valueSpec:{zoom:{}},validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec,objectElementValidators:{zoom:e2,value:K}}))}else Y=Y.concat(K({key:`${J}[0]`,value:te[0],validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec},te));return qv(G1(te[1]))?Y.concat([new _i(`${J}[1]`,te[1],"expressions are not allowed in function stops.")]):Y.concat(W.validateSpec({key:`${J}[1]`,value:te[1],valueSpec:e,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec}))}function K(W,Y){const te=ga(W.value),J=Au(W.value),oe=W.value!==null?W.value:Y;if(!i)i=te;else if(te!==i)return[new _i(W.key,oe,`${te} stop domain type must match previous stop domain type ${i}`)];if(te!=="number"&&te!=="string"&&te!=="boolean")return[new _i(W.key,oe,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&t!=="categorical"){let ne=`number expected, ${te} found`;return Hx(e)&&t===void 0&&(ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new _i(W.key,oe,ne)]}return t==="categorical"&&te==="number"&&(!isFinite(J)||Math.floor(J)!==J)?[new _i(W.key,oe,`integer expected, found ${J}`)]:t!=="categorical"&&te==="number"&&a!==void 0&&J<a?[new _i(W.key,oe,"stop domain values must appear in ascending order")]:(a=J,t==="categorical"&&J in r?[new _i(W.key,oe,"stop domain values must be unique")]:(r[J]=!0,[]))}function j(W){return W.validateSpec({key:W.key,value:W.value,valueSpec:e,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec})}}function kv(n){const e=(n.expressionContext==="property"?Z3:$3)(G1(n.value),n.valueSpec);if(e.result==="error")return e.value.map(i=>new _i(`${n.key}${i.key}`,n.value,i.message));const t=e.value.expression||e.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!t.outputDefined())return[new _i(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!__(t))return[new _i(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!__(t))return[new _i(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!V3(t,["zoom","feature-state"]))return[new _i(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!H3(t))return[new _i(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function QH(n){const e=n.value,t=n.key,i=ga(e);return i!=="boolean"?[new _i(t,e,`boolean expected, ${i} found`)]:[]}function w6(n){const e=n.key,t=n.value,i=ga(t);return i!=="string"?[new _i(e,t,`color expected, ${i} found`)]:rl.parse(String(t))?[]:[new _i(e,t,`color expected, "${t}" found`)]}function x_(n){const e=n.key,t=n.value,i=n.valueSpec,r=[];return Array.isArray(i.values)?i.values.indexOf(Au(t))===-1&&r.push(new _i(e,t,`expected one of [${i.values.join(", ")}], ${JSON.stringify(t)} found`)):Object.keys(i.values).indexOf(Au(t))===-1&&r.push(new _i(e,t,`expected one of [${Object.keys(i.values).join(", ")}], ${JSON.stringify(t)} found`)),r}function sO(n){return lb(G1(n.value))?kv(Ov({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):jL(n)}function jL(n){const e=n.value,t=n.key;if(ga(e)!=="array")return[new _i(t,e,`array expected, ${ga(e)} found`)];const i=n.styleSpec;let r,a=[];if(e.length<1)return[new _i(t,e,"filter array must have at least 1 element")];switch(a=a.concat(x_({key:`${t}[0]`,value:e[0],valueSpec:i.filter_operator,style:n.style,styleSpec:n.styleSpec})),Au(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&Au(e[1])==="$type"&&a.push(new _i(t,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&a.push(new _i(t,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(r=ga(e[1]),r!=="string"&&a.push(new _i(`${t}[1]`,e[1],`string expected, ${r} found`)));for(let l=2;l<e.length;l++)r=ga(e[l]),Au(e[1])==="$type"?a=a.concat(x_({key:`${t}[${l}]`,value:e[l],valueSpec:i.geometry_type,style:n.style,styleSpec:n.styleSpec})):r!=="string"&&r!=="number"&&r!=="boolean"&&a.push(new _i(`${t}[${l}]`,e[l],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let l=1;l<e.length;l++)a=a.concat(jL({key:`${t}[${l}]`,value:e[l],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":r=ga(e[1]),e.length!==2?a.push(new _i(t,e,`filter array for "${e[0]}" operator must have 2 elements`)):r!=="string"&&a.push(new _i(`${t}[1]`,e[1],`string expected, ${r} found`));break}return a}function NL(n,e){const t=n.key,i=n.validateSpec,r=n.style,a=n.styleSpec,l=n.value,o=n.objectKey,p=a[`${e}_${n.layerType}`];if(!p)return[];const C=o.match(/^(.*)-transition$/);if(e==="paint"&&C&&p[C[1]]&&p[C[1]].transition)return i({key:t,value:l,valueSpec:a.transition,style:r,styleSpec:a});const M=n.valueSpec||p[o];if(!M)return[new _i(t,l,`unknown property "${o}"`)];let O;if(ga(l)==="string"&&Hx(M)&&!M.tokens&&(O=/^{([^}]+)}$/.exec(l)))return[new _i(t,l,`"${o}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(O[1])} }\`.`)];const U=[];return n.layerType==="symbol"&&(o==="text-field"&&r&&!r.glyphs&&U.push(new _i(t,l,'use of "text-field" requires a style "glyphs" property')),o==="text-font"&&Yv(G1(l))&&Au(l.type)==="identity"&&U.push(new _i(t,l,'"text-font" does not support identity functions'))),U.concat(i({key:n.key,value:l,valueSpec:M,style:r,styleSpec:a,expressionContext:"property",propertyType:e,propertyKey:o}))}function GL(n){return NL(n,"paint")}function WL(n){return NL(n,"layout")}function QL(n){let e=[];const t=n.value,i=n.key,r=n.style,a=n.styleSpec;if(ga(t)!=="object")return[new _i(i,t,`object expected, ${ga(t)} found`)];!t.type&&!t.ref&&e.push(new _i(i,t,'either "type" or "ref" is required'));let l=Au(t.type);const o=Au(t.ref);if(t.id){const p=Au(t.id);for(let C=0;C<n.arrayIndex;C++){const M=r.layers[C];Au(M.id)===p&&e.push(new _i(i,t.id,`duplicate layer id "${t.id}", previously used at line ${M.id.__line__}`))}}if("ref"in t){["type","source","source-layer","filter","layout"].forEach(C=>{C in t&&e.push(new _i(i,t[C],`"${C}" is prohibited for ref layers`))});let p;r.layers.forEach(C=>{Au(C.id)===o&&(p=C)}),p?p.ref?e.push(new _i(i,t.ref,"ref cannot reference another ref layer")):l=Au(p.type):e.push(new _i(i,t.ref,`ref layer "${o}" not found`))}else if(l!=="background")if(!t.source)e.push(new _i(i,t,'missing required property "source"'));else{const p=r.sources&&r.sources[t.source],C=p&&Au(p.type);p?C==="vector"&&l==="raster"?e.push(new _i(i,t.source,`layer "${t.id}" requires a raster source`)):C!=="raster-dem"&&l==="hillshade"?e.push(new _i(i,t.source,`layer "${t.id}" requires a raster-dem source`)):C!=="raster-dem"&&l==="color-relief"?e.push(new _i(i,t.source,`layer "${t.id}" requires a raster-dem source`)):C==="raster"&&l!=="raster"?e.push(new _i(i,t.source,`layer "${t.id}" requires a vector source`)):C==="vector"&&!t["source-layer"]?e.push(new _i(i,t,`layer "${t.id}" must specify a "source-layer"`)):C==="raster-dem"&&l!=="hillshade"&&l!=="color-relief"?e.push(new _i(i,t.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):l==="line"&&t.paint&&t.paint["line-gradient"]&&(C!=="geojson"||!p.lineMetrics)&&e.push(new _i(i,t,`layer "${t.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new _i(i,t.source,`source "${t.source}" not found`))}return e=e.concat(gp({key:i,value:t,valueSpec:a.layer,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,objectElementValidators:{"*"(){return[]},type(){return n.validateSpec({key:`${i}.type`,value:t.type,valueSpec:a.layer.type,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,object:t,objectKey:"type"})},filter:sO,layout(p){return gp({layer:t,key:p.key,value:p.value,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*"(C){return WL(Ov({layerType:l},C))}}})},paint(p){return gp({layer:t,key:p.key,value:p.value,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*"(C){return GL(Ov({layerType:l},C))}}})}}})),e}function W1(n){const e=n.value,t=n.key,i=ga(e);return i!=="string"?[new _i(t,e,`string expected, ${i} found`)]:[]}function YH(n){var e;const t=(e=n.sourceName)!==null&&e!==void 0?e:"",i=n.value,r=n.styleSpec,a=r.source_raster_dem,l=n.style;let o=[];const p=ga(i);if(i===void 0)return o;if(p!=="object")return o.push(new _i("source_raster_dem",i,`object expected, ${p} found`)),o;const M=Au(i.encoding)==="custom",O=["redFactor","greenFactor","blueFactor","baseShift"],U=n.value.encoding?`"${n.value.encoding}"`:"Default";for(const K in i)!M&&O.includes(K)?o.push(new _i(K,i[K],`In "${t}": "${K}" is only valid when "encoding" is set to "custom". ${U} encoding found`)):a[K]?o=o.concat(n.validateSpec({key:K,value:i[K],valueSpec:a[K],validateSpec:n.validateSpec,style:l,styleSpec:r})):o.push(new _i(K,i[K],`unknown property "${K}"`));return o}const bI={promoteId:qH};function YL(n){const e=n.value,t=n.key,i=n.styleSpec,r=n.style,a=n.validateSpec;if(!e.type)return[new _i(t,e,'"type" is required')];const l=Au(e.type);let o;switch(l){case"vector":case"raster":return o=gp({key:t,value:e,valueSpec:i[`source_${l.replace("-","_")}`],style:n.style,styleSpec:i,objectElementValidators:bI,validateSpec:a}),o;case"raster-dem":return o=YH({sourceName:t,value:e,style:n.style,styleSpec:i,validateSpec:a}),o;case"geojson":if(o=gp({key:t,value:e,valueSpec:i.source_geojson,style:r,styleSpec:i,validateSpec:a,objectElementValidators:bI}),e.cluster)for(const p in e.clusterProperties){const[C,M]=e.clusterProperties[p],O=typeof C=="string"?[C,["accumulated"],["get",p]]:C;o.push(...kv({key:`${t}.${p}.map`,value:M,expressionContext:"cluster-map"})),o.push(...kv({key:`${t}.${p}.reduce`,value:O,expressionContext:"cluster-reduce"}))}return o;case"video":return gp({key:t,value:e,valueSpec:i.source_video,style:r,validateSpec:a,styleSpec:i});case"image":return gp({key:t,value:e,valueSpec:i.source_image,style:r,validateSpec:a,styleSpec:i});case"canvas":return[new _i(t,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return x_({key:`${t}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function qH({key:n,value:e}){if(ga(e)==="string")return W1({key:n,value:e});{const t=[];for(const i in e)t.push(...W1({key:`${n}.${i}`,value:e[i]}));return t}}function qL(n){const e=n.value,t=n.styleSpec,i=t.light,r=n.style;let a=[];const l=ga(e);if(e===void 0)return a;if(l!=="object")return a=a.concat([new _i("light",e,`object expected, ${l} found`)]),a;for(const o in e){const p=o.match(/^(.*)-transition$/);p&&i[p[1]]&&i[p[1]].transition?a=a.concat(n.validateSpec({key:o,value:e[o],valueSpec:t.transition,validateSpec:n.validateSpec,style:r,styleSpec:t})):i[o]?a=a.concat(n.validateSpec({key:o,value:e[o],valueSpec:i[o],validateSpec:n.validateSpec,style:r,styleSpec:t})):a=a.concat([new _i(o,e[o],`unknown property "${o}"`)])}return a}function HL(n){const e=n.value,t=n.styleSpec,i=t.sky,r=n.style,a=ga(e);if(e===void 0)return[];if(a!=="object")return[new _i("sky",e,`object expected, ${a} found`)];let l=[];for(const o in e)i[o]?l=l.concat(n.validateSpec({key:o,value:e[o],valueSpec:i[o],style:r,styleSpec:t})):l=l.concat([new _i(o,e[o],`unknown property "${o}"`)]);return l}function VL(n){const e=n.value,t=n.styleSpec,i=t.terrain,r=n.style;let a=[];const l=ga(e);if(e===void 0)return a;if(l!=="object")return a=a.concat([new _i("terrain",e,`object expected, ${l} found`)]),a;for(const o in e)i[o]?a=a.concat(n.validateSpec({key:o,value:e[o],valueSpec:i[o],validateSpec:n.validateSpec,style:r,styleSpec:t})):a=a.concat([new _i(o,e[o],`unknown property "${o}"`)]);return a}function HH(n){return W1(n).length===0?[]:kv(n)}function VH(n){return W1(n).length===0?[]:kv(n)}function $H(n){const e=n.key,t=n.value;if(ga(t)==="array"){if(t.length<1||t.length>4)return[new _i(e,t,`padding requires 1 to 4 values; ${t.length} values found`)];const r={type:"number"};let a=[];for(let l=0;l<t.length;l++)a=a.concat(n.validateSpec({key:`${e}[${l}]`,value:t[l],validateSpec:n.validateSpec,valueSpec:r}));return a}else return e2({key:e,value:t,valueSpec:{}})}function ZH(n){const e=n.key,t=n.value;if(ga(t)==="array"){const r={type:"number"};if(t.length<1)return[new _i(e,t,"array length at least 1 expected, length 0 found")];let a=[];for(let l=0;l<t.length;l++)a=a.concat(n.validateSpec({key:`${e}[${l}]`,value:t[l],validateSpec:n.validateSpec,valueSpec:r}));return a}else return e2({key:e,value:t,valueSpec:{}})}function XH(n){const e=n.key,t=n.value;if(ga(t)==="array"){if(t.length<1)return[new _i(e,t,"array length at least 1 expected, length 0 found")];let r=[];for(let a=0;a<t.length;a++)r=r.concat(w6({key:`${e}[${a}]`,value:t[a]}));return r}else return w6({key:e,value:t})}function JH(n){const e=n.key,t=n.value,i=ga(t),r=n.styleSpec;if(i!=="array"||t.length<1||t.length%2!==0)return[new _i(e,t,"variableAnchorOffsetCollection requires a non-empty array of even length")];let a=[];for(let l=0;l<t.length;l+=2)a=a.concat(x_({key:`${e}[${l}]`,value:t[l],valueSpec:r.layout_symbol["text-anchor"]})),a=a.concat(aO({key:`${e}[${l+1}]`,value:t[l+1],valueSpec:{length:2,value:"number"},validateSpec:n.validateSpec,style:n.style,styleSpec:r}));return a}function $L(n){let e=[];const t=n.value,i=n.key;if(Array.isArray(t)){const r=[],a=[];for(const l in t){t[l].id&&r.includes(t[l].id)&&e.push(new _i(i,t,`all the sprites' ids must be unique, but ${t[l].id} is duplicated`)),r.push(t[l].id),t[l].url&&a.includes(t[l].url)&&e.push(new _i(i,t,`all the sprites' URLs must be unique, but ${t[l].url} is duplicated`)),a.push(t[l].url);const o={id:{type:"string",required:!0},url:{type:"string",required:!0}};e=e.concat(gp({key:`${i}[${l}]`,value:t[l],valueSpec:o,validateSpec:n.validateSpec}))}return e}else return W1({key:i,value:t})}function eV(n){const e=n.value,t=n.styleSpec,i=t.projection,r=n.style,a=ga(e);if(e===void 0)return[];if(a!=="object")return[new _i("projection",e,`object expected, ${a} found`)];let l=[];for(const o in e)i[o]?l=l.concat(n.validateSpec({key:o,value:e[o],valueSpec:i[o],style:r,styleSpec:t})):l=l.concat([new _i(o,e[o],`unknown property "${o}"`)]);return l}function tV(n){const e=n.key;let t=n.value;t=t instanceof String?t.valueOf():t;const i=ga(t);return i==="array"&&!iV(t)&&!nV(t)?[new _i(e,t,`projection expected, invalid array ${JSON.stringify(t)} found`)]:["array","string"].includes(i)?[]:[new _i(e,t,`projection expected, invalid type "${i}" found`)]}function nV(n){return!!["interpolate","step","literal"].includes(n[0])}function iV(n){return Array.isArray(n)&&n.length===3&&typeof n[0]=="string"&&typeof n[1]=="string"&&typeof n[2]=="number"}function rV(n){return!!n&&n.constructor===Object}function ZL(n){return rV(n.value)?[]:[new _i(n.key,n.value,`object expected, ${ga(n.value)} found`)]}const xI={"*"(){return[]},array:aO,boolean:QH,number:e2,color:w6,constants:FL,enum:x_,filter:sO,function:zL,layer:QL,object:gp,source:YL,light:qL,sky:HL,terrain:VL,projection:eV,projectionDefinition:tV,string:W1,formatted:HH,resolvedImage:VH,padding:$H,numberArray:ZH,colorArray:XH,variableAnchorOffsetCollection:JH,sprite:$L,state:ZL};function $x(n){const e=n.value,t=n.valueSpec,i=n.styleSpec;return n.validateSpec=$x,t.expression&&Yv(Au(e))?zL(n):t.expression&&qv(G1(e))?kv(n):t.type&&xI[t.type]?xI[t.type](n):gp(Ov({},n,{valueSpec:t.type?i[t.type]:t}))}function XL(n){const e=n.value,t=n.key,i=W1(n);return i.length||(e.indexOf("{fontstack}")===-1&&i.push(new _i(t,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&i.push(new _i(t,e,'"glyphs" url must include a "{range}" token'))),i}function Tf(n,e=Xa){let t=[];return t=t.concat($x({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,validateSpec:$x,objectElementValidators:{glyphs:XL,"*"(){return[]}}})),n.constants&&(t=t.concat(FL({key:"constants",value:n.constants}))),JL(t)}Tf.source=Am(lm(YL));Tf.sprite=Am(lm($L));Tf.glyphs=Am(lm(XL));Tf.light=Am(lm(qL));Tf.sky=Am(lm(HL));Tf.terrain=Am(lm(VL));Tf.state=Am(lm(ZL));Tf.layer=Am(lm(QL));Tf.filter=Am(lm(sO));Tf.paintProperty=Am(lm(GL));Tf.layoutProperty=Am(lm(WL));function lm(n){return function(e){return n({...e,validateSpec:$x})}}function JL(n){return[].concat(n).sort((e,t)=>e.line-t.line)}function Am(n){return function(...e){return JL(n.apply(this,e))}}const oV=/("(?:[^\\"]|\\.)*")|[:,]/g;function aV(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:r}=e;return function a(l,o,p){l&&typeof l.toJSON=="function"&&(l=l.toJSON());const C=JSON.stringify(l,r);if(C===void 0)return C;const M=i-o.length-p;if(C.length<=M){const O=C.replace(oV,(U,K)=>K||`${U} `);if(O.length<=M)return O}if(r!=null&&(l=JSON.parse(C),r=void 0),typeof l=="object"&&l!==null){const O=o+t,U=[];let K=0,j,W;if(Array.isArray(l)){j="[",W="]";const{length:Y}=l;for(;K<Y;K++)U.push(a(l[K],O,K===Y-1?0:1)||"null")}else{j="{",W="}";const Y=Object.keys(l),{length:te}=Y;for(;K<te;K++){const J=Y[K],oe=`${JSON.stringify(J)}: `,ne=a(l[J],O,oe.length+(K===te-1?0:1));ne!==void 0&&U.push(oe+ne)}}if(U.length>0)return[j,t+U.join(`,
${O}`),W].join(`
${o}`)}return C}(n,"",0)}function MI(n,e){const t={};for(const i in e)n[i]!==void 0&&(t[i]=n[i]);for(const i in n)t[i]===void 0&&(t[i]=n[i]);return t}function sV(n,e=2){return n=MI(n,Xa.$root),n.layers&&(n.layers=n.layers.map(t=>MI(t,Xa.layer))),aV(n,{indent:e})}function B4(n,e){for(const t in n)t.indexOf("layout")===0&&e(n[t],t)}function wI(n,e){for(const t in n)t.indexOf("paint")===0&&e(n[t],t)}function S6(n,e){return typeof e=="string"&&e[0]==="@"?S6(n,n.constants[e]):e}function lV(n){return Array.isArray(n.stops)}function gC(n,e,t){n[t]=n[e],delete n[e]}function AV(n){n.version=8,WH(n,r=>{r.type==="video"&&r.url!==void 0&&gC(r,"url","urls"),r.type==="video"&&r.coordinates.forEach(a=>a.reverse())}),t_(n,r=>{B4(r,a=>{a["symbol-min-distance"]!==void 0&&gC(a,"symbol-min-distance","symbol-spacing")}),wI(r,a=>{a["background-image"]!==void 0&&gC(a,"background-image","background-pattern"),a["line-image"]!==void 0&&gC(a,"line-image","line-pattern"),a["fill-image"]!==void 0&&gC(a,"fill-image","fill-pattern")})}),oO(n,{paint:!0,layout:!0},r=>{const a=S6(n,r.value);lV(a)&&a.stops.forEach(l=>{l[1]=S6(n,l[1])}),r.set(a)}),delete n.constants,t_(n,r=>{B4(r,a=>{delete a["text-max-size"],delete a["icon-max-size"]}),wI(r,a=>{a["text-size"]&&(r.layout||(r.layout={}),r.layout["text-size"]=a["text-size"],delete a["text-size"]),a["icon-size"]&&(r.layout||(r.layout={}),r.layout["icon-size"]=a["icon-size"],delete a["icon-size"])})});function e(r){function a(l){return l.split(",").map(o=>o.trim())}if(Array.isArray(r))return r;if(typeof r=="string")return a(r);if(typeof r=="object")return r.stops.forEach(l=>{l[1]=a(l[1])}),r;throw new Error("unexpected font value")}t_(n,r=>{B4(r,a=>{a["text-font"]&&(a["text-font"]=e(a["text-font"]))})});let t=0;for(let r=n.layers.length-1;r>=0;r--)if(n.layers[r].type!=="symbol"){t=r+1;break}const i=n.layers.splice(t);return i.reverse(),n.layers=n.layers.concat(i),n}function uV(n){const e=[];return t_(n,t=>{t.filter&&(t.filter=e_(t.filter))}),oO(n,{paint:!0,layout:!0},({path:t,value:i,reference:r,set:a})=>{qv(i)||(typeof i=="object"&&!Array.isArray(i)?(a(tO(i,r)),e.push(t.join("."))):r.tokens&&typeof i=="string"&&a(LL(i)))}),n}function cV(n){return JSON.parse(hV(JSON.stringify(n)))}function hV(n){return n.replace(/"hsla?\((.+?)\)"/gi,(e,t)=>{const i=t.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(i){let[r,a,l,o]=i.slice(1);return[a,l]=[a,l].map(p=>p.endsWith("%")?p:`${parseFloat(p)*100}%`),`"hsl${typeof o=="string"?"a":""}(${[r,a,l,o].filter(Boolean).join(",")})"`}return e})}function dV(n){let e=!1;if(n.version===7&&(n=AV(n),e=!0),n.version===8&&(e=!!uV(n),e=!0),oO(n,{paint:!0,layout:!0},({value:t,reference:i,set:r})=>{i.type==="color"&&r(cV(t))}),!e)throw new Error(`Cannot migrate from ${n.version}`);return n}const wf=Xa,fV={StyleExpression:KL,StylePropertyFunction:X3,ZoomConstantExpression:b6,ZoomDependentExpression:x6,createExpression:$3,createPropertyExpression:Z3,isExpression:qv,isExpressionFilter:lb,isZoomExpression:OH,normalizePropertyExpression:IH},pV={convertFunction:tO,createFunction:eO,isFunction:Yv},mV=8,gV={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},centerAltitude:{type:"number",doc:"Default map center altitude in meters above sea level. The style center altitude defines the altitude where the camera is looking at and will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:123.4,"sdk-support":{"basic functionality":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/2980",ios:"https://github.com/maplibre/maplibre-native/issues/2980"}}},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50,"sdk-support":{"0-60 degrees":{js:"0.8.0",android:"1.0.0",ios:"1.0.0"},"0-85 degrees":{js:"2.0.0",android:"https://github.com/maplibre/maplibre-native/issues/1909",ios:"https://github.com/maplibre/maplibre-native/issues/1909"},"0-180 degrees":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/1909",ios:"https://github.com/maplibre/maplibre-native/issues/1909"}}},roll:{type:"number",default:0,units:"degrees",doc:"Default roll, in degrees. The roll angle is measured counterclockwise about the camera boresight. The style roll will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:45,"sdk-support":{"basic functionality":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/2941",ios:"https://github.com/maplibre/maplibre-native/issues/2941"}}},state:{type:"state",default:{},doc:"An object used to define default values when using the [`global-state`](https://maplibre.org/maplibre-style-spec/expressions/#global-state) expression.",example:{chargerType:{default:["CCS","CHAdeMO","Type2"]},minPreferredChargingSpeed:{default:50}},"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/4964",android:"https://github.com/maplibre/maplibre-native/issues/3302",ios:"https://github.com/maplibre/maplibre-native/issues/3302"}}},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration. **Note:** this definition is still experimental and is under development in maplibre-gl-js.",example:{"sky-color":"#199EF3","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#0000ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]}},projection:{type:"projection",doc:"The projection configuration",example:{type:["interpolate",["linear"],["zoom"],10,"vertical-perspective",12,"mercator"]}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Sources state which data the map should display. Specify the type of source with the `type` property. Adding a source isn't enough to make data appear on the map because sources don't contain styling details like color or width. Layers refer to a source and give it a visual representation. This makes it possible to style the same source in different ways, like differentiating between types of roads in a highways layer.\n\nTiled sources (vector and raster) must specify their details according to the [TileJSON specification](https://github.com/mapbox/tilejson-spec).",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"},"maplibre-tilejson":{type:"vector",url:"http://api.example.com/tilejson.json"},"maplibre-streets":{type:"vector",tiles:["http://a.example.com/tiles/{z}/{x}/{y}.pbf","http://b.example.com/tiles/{z}/{x}/{y}.pbf"],maxzoom:14},"wms-imagery":{type:"raster",tiles:["http://a.example.com/wms?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&layers=example"],tileSize:256}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format.\n\nIf this property is set, any text in the `text-field` layout property is displayed in the font stack named by the `text-font` layout property based on glyphs located at the URL specified by this property. Otherwise, font faces will be determined by the `text-font` property based on the local environment.\n\nThe URL must include:\n\n - `{fontstack}` - When requesting glyphs, this token is replaced with a comma separated list of fonts from a font stack specified in the `text-font` property of a symbol layer. \n\n - `{range}` - When requesting glyphs, this token is replaced with a range of 256 Unicode code points. For example, to load glyphs for the Unicode Basic Latin and Basic Latin-1 Supplement blocks, the range would be 0-255. The actual ranges that are loaded are determined at runtime based on what text needs to be displayed.\n\nThe URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf","sdk-support":{"basic functionality":{js:"0.0.16",android:"0.1.1",ios:"0.1.0"},"omit to use local fonts":{js:"https://github.com/maplibre/maplibre-gl-js/issues/3302",android:"https://github.com/maplibre/maplibre-native/issues/165",ios:"https://github.com/maplibre/maplibre-native/issues/165"}}},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"A style's `layers` property lists all the layers available in that style. The type of layer is specified by the `type` property, and must be one of `background`, `fill`, `line`, `symbol`, `raster`, `circle`, `fill-extrusion`, `heatmap`, `hillshade`, `color-relief`.\n\nExcept for layers of the `background` type, each layer needs to refer to a source. Layers take the data that they get from a source, optionally filter features, and then define how those features are styled.",example:[{id:"coastline",source:"maplibre","source-layer":"countries",type:"line",paint:{"line-color":"#198EC8"}}]}},yV={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},vV=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],CV={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},_V={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},bV={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default.","sdk-support":{"mapbox, terrarium":{js:"0.43.0",ios:"6.0.0",android:"6.0.0"},custom:{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2358",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},xV={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n\n * `cluster` Is `true` if the point is a cluster \n\n * `cluster_id` A unique id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js/docs/API/classes/GeoJSONSource/#getclusterexpansionzoom)\n\n * `point_count` Number of original points grouped into this cluster\n\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},MV={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},wV={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},SV={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},"additional methods":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}}},"color-relief":{doc:"Client-side elevation coloring based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5666",android:"https://github.com/maplibre/maplibre-native/issues/3408",ios:"https://github.com/maplibre/maplibre-native/issues/3408"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},EV=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],BV={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},OV={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},IV={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},TV={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},kV={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},DV=JSON.parse('{"symbol-placement":{"type":"enum","values":{"point":{"doc":"The label is placed at the point where the geometry is located."},"line":{"doc":"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{"doc":"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point","doc":"Label placement relative to its geometry.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"`line-center` value":{"js":"0.47.0","android":"6.4.0","ios":"4.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","doc":"Distance between two symbol anchors.","requires":[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"doc":"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don\'t have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","doc":"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{"js":"0.53.0","android":"7.4.0","ios":"4.11.0"},"data-driven styling":{"js":"0.53.0","android":"7.4.0","ios":"4.11.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{"doc":"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{"doc":"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"source":{"doc":"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto","doc":"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{"js":"0.49.0","android":"6.6.0","ios":"4.5.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"doc":"If true, the icon will be visible even if it collides with other previously drawn symbols.","requires":["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-overlap":{"type":"enum","values":{"never":{"doc":"The icon will be hidden if it collides with any other previously drawn symbol."},"always":{"doc":"The icon will be visible even if it collides with any other previously drawn symbol."},"cooperative":{"doc":"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},"doc":"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"2.1.0","android":"https://github.com/maplibre/maplibre-native/issues/251","ios":"https://github.com/maplibre/maplibre-native/issues/251"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"doc":"If true, other symbols can be visible even if they collide with the icon.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"doc":"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.","requires":["icon-image","text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{"doc":"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},"viewport":{"doc":"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"auto":{"doc":"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto","doc":"In combination with `symbol-placement`, determines the rotation behavior of icons.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","doc":"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{"doc":"The icon is displayed at its intrinsic aspect ratio."},"width":{"doc":"The icon is scaled in the x-dimension to fit the width of the text."},"height":{"doc":"The icon is scaled in the y-dimension to fit the height of the text."},"both":{"doc":"The icon is scaled in both x- and y-dimensions."}},"default":"none","doc":"Scales the icon to fit around the associated text.","requires":["icon-image","text-field"],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0"},"stretchable icons":{"js":"1.6.0","android":"9.2.0","ios":"5.8.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","doc":"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","doc":"Name of image in sprite to use for drawing an image background.","tokens":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","doc":"Rotates the icon clockwise.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.21.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"padding","default":[2],"units":"pixels","doc":"Size of additional area round the icon bounding box used for detecting symbol collisions.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"2.2.0","android":"https://github.com/maplibre/maplibre-native/issues/2754","ios":"https://github.com/maplibre/maplibre-native/issues/2754"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{"type":"boolean","default":false,"doc":"If true, the icon may be flipped to prevent it from being rendered upside-down.","requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"doc":"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{"doc":"The center of the icon is placed closest to the anchor."},"left":{"doc":"The left side of the icon is placed closest to the anchor."},"right":{"doc":"The right side of the icon is placed closest to the anchor."},"top":{"doc":"The top of the icon is placed closest to the anchor."},"bottom":{"doc":"The bottom of the icon is placed closest to the anchor."},"top-left":{"doc":"The top left corner of the icon is placed closest to the anchor."},"top-right":{"doc":"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{"doc":"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{"doc":"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center","doc":"Part of the icon placed closest to the anchor.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{"doc":"The icon is aligned to the plane of the map."},"viewport":{"doc":"The icon is aligned to the plane of the viewport."},"auto":{"doc":"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto","doc":"Orientation of icon when map is pitched.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{"doc":"The text is aligned to the plane of the map."},"viewport":{"doc":"The text is aligned to the plane of the viewport."},"auto":{"doc":"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto","doc":"Orientation of text when map is pitched.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{"doc":"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},"viewport":{"doc":"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{"doc":"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},"auto":{"doc":"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto","doc":"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0"},"`viewport-glyph` value":{"js":"2.1.8","android":"https://github.com/maplibre/maplibre-native/issues/250","ios":"https://github.com/maplibre/maplibre-native/issues/250"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"doc":"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"doc":"Fonts to use for displaying text. If the `glyphs` root property is specified, this array is joined together and interpreted as a font stack name. Otherwise, it is interpreted as a cascading fallback list of local font names.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0"},"local fonts":{"js":"https://github.com/maplibre/maplibre-gl-js/issues/3302","android":"https://github.com/maplibre/maplibre-native/issues/165","ios":"https://github.com/maplibre/maplibre-native/issues/165"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","doc":"Font size.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","doc":"The maximum line width for text wrapping.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","doc":"Text leading value for multi-line text.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","doc":"Text tracking amount.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{"doc":"The text is aligned towards the anchor position."},"left":{"doc":"The text is aligned to the left."},"center":{"doc":"The text is centered."},"right":{"doc":"The text is aligned to the right."}},"default":"center","doc":"Text justification options.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0"},"auto":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"doc":"Radial offset of text, in the direction of the symbol\'s anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"},"data-driven styling":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"}},"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{"doc":"The center of the text is placed closest to the anchor."},"left":{"doc":"The left side of the text is placed closest to the anchor."},"right":{"doc":"The right side of the text is placed closest to the anchor."},"top":{"doc":"The top of the text is placed closest to the anchor."},"bottom":{"doc":"The bottom of the text is placed closest to the anchor."},"top-left":{"doc":"The top left corner of the text is placed closest to the anchor."},"top-right":{"doc":"The top right corner of the text is placed closest to the anchor."},"bottom-left":{"doc":"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{"doc":"The bottom right corner of the text is placed closest to the anchor."}},"requires":["text-field",{"symbol-placement":["point"]}],"doc":"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{"type":"variableAnchorOffsetCollection","requires":["text-field",{"symbol-placement":["point"]}],"doc":"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \\n\\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \\n\\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \\n\\n ```json \\n\\n { \\"text-variable-anchor-offset\\": [\\"top\\", [0, 4], \\"left\\", [3,0], \\"bottom\\", [1, 1]] } \\n\\n ``` \\n\\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \\n\\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.","sdk-support":{"basic functionality":{"js":"3.3.0","ios":"6.8.0","android":"11.6.0"},"data-driven styling":{"js":"3.3.0","ios":"https://github.com/maplibre/maplibre-native/issues/2358","android":"https://github.com/maplibre/maplibre-native/issues/2358"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{"type":"enum","values":{"center":{"doc":"The center of the text is placed closest to the anchor."},"left":{"doc":"The left side of the text is placed closest to the anchor."},"right":{"doc":"The right side of the text is placed closest to the anchor."},"top":{"doc":"The top of the text is placed closest to the anchor."},"bottom":{"doc":"The bottom of the text is placed closest to the anchor."},"top-left":{"doc":"The top left corner of the text is placed closest to the anchor."},"top-right":{"doc":"The top right corner of the text is placed closest to the anchor."},"bottom-left":{"doc":"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{"doc":"The bottom right corner of the text is placed closest to the anchor."}},"default":"center","doc":"Part of the text placed closest to the anchor.","requires":["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","doc":"Maximum angle change between adjacent characters.","requires":["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{"doc":"If a text\'s language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},"vertical":{"doc":"If a text\'s language supports vertical writing mode, symbols with point placement would be laid out vertically."}},"doc":"The property allows control over a symbol\'s orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single \'vertical\' enum value. The order of elements in an array define priority order for the placement of an orientation variant.","requires":["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{"js":"1.3.0","android":"8.3.0","ios":"5.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","doc":"Rotates the text clockwise.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","doc":"Size of the additional area around the text bounding box used for detecting symbol collisions.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"doc":"If true, the text may be flipped vertically to prevent it from being rendered upside-down.","requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{"doc":"The text is not altered."},"uppercase":{"doc":"Forces all letters to be displayed in uppercase."},"lowercase":{"doc":"Forces all letters to be displayed in lowercase."}},"default":"none","doc":"Specifies how to capitalize text, similar to the CSS `text-transform` property.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","doc":"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"doc":"If true, the text will be visible even if it collides with other previously drawn symbols.","requires":["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-overlap":{"type":"enum","values":{"never":{"doc":"The text will be hidden if it collides with any other previously drawn symbol."},"always":{"doc":"The text will be visible even if it collides with any other previously drawn symbol."},"cooperative":{"doc":"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},"doc":"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"2.1.0","android":"https://github.com/maplibre/maplibre-native/issues/251","ios":"https://github.com/maplibre/maplibre-native/issues/251"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"doc":"If true, other symbols can be visible even if they collide with the text.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"doc":"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.","requires":["text-field","icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{"doc":"The layer is shown."},"none":{"doc":"The layer is not shown."}},"default":"visible","doc":"Whether this layer is displayed.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"property-type":"constant"}}'),RV={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},PV={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},KV={type:"array",value:"*",doc:"A filter selects specific features from a layer."},UV={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'}},doc:"The filter operator."},LV={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},FV={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},zV={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},jV=JSON.parse('{"doc":"","type":"enum","values":{"let":{"doc":"Binds expressions to named variables, which can then be referenced in the result expression using `[\\"var\\", \\"variable_name\\"]`.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["var_1_name","var_1_value","...","var_n_name","var_n_value","expression"],"output-type":"any"}],"parameters":[{"name":"var_i_name","type":"string literal","description":"The name of the i-th variable."},{"name":"var_i_value","type":"any","description":"The value of the i-th variable."},{"name":"expression","type":"any","description":"The expression within which the named variables can be referenced."}]},"example":["let","someNumber",500,["interpolate",["linear"],["var","someNumber"],274,"#edf8e9",1551,"#006d2c"]],"group":"Variable binding","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"var":{"doc":"References variable bound using `let`.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["var_name"],"output-type":"any"}],"parameters":[{"name":"var_name","type":"string literal","description":"The name of the variable bound using `let`."}]},"example":["var","density"],"group":"Variable binding","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"literal":{"doc":"Provides a literal array or object value.\\n\\n - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)","syntax":{"overloads":[{"parameters":["json_object"],"output-type":"object"},{"parameters":["json_array"],"output-type":"array"}],"parameters":[{"name":"json_object","type":"JSON object"},{"name":"json_array","type":"JSON array"}]},"example":["literal",["DIN Offc Pro Italic","Arial Unicode MS Regular"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"array":{"doc":"Asserts that the input is an array (optionally with a specific item type and length). If, when the input expression is evaluated, it is not of the asserted type or length, then this assertion will cause the whole expression to be aborted.","syntax":{"overloads":[{"parameters":["value"],"output-type":"array"},{"parameters":["type","value"],"output-type":"array<type>"},{"parameters":["type","length","value"],"output-type":"array<type, length>"}],"parameters":[{"name":"value","type":"any"},{"name":"type","type":"\\"string\\" | \\"number\\" | \\"boolean\\"","description":"The asserted type of the input array."},{"name":"length","type":"number literal","description":"The asserted length of the input array."}]},"example":["array",["literal",["a","b","c"]],"string",3],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"at":{"doc":"Retrieves an item from an array.","syntax":{"overloads":[{"parameters":["index","array"],"output-type":"T"}],"parameters":[{"name":"index","type":"number","description":"The index into `array`."},{"name":"array","type":"array<T>","description":"The array of items to retrieve the specified item from."}]},"example":["at",1,["literal",["a","b","c"]]],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"in":{"doc":"Determines whether an item exists in an array or a substring exists in a string.\\n\\n - [Measure distances](https://maplibre.org/maplibre-gl-js/docs/examples/measure/)","syntax":{"overloads":[{"parameters":["item","array"],"output-type":"boolean"},{"parameters":["substring","string"],"output-type":"boolean"}],"parameters":[{"name":"item","type":"T","description":"The needle to search for within `array`."},{"name":"array","type":"array<T>","description":"The haystack through which to search for `item`."},{"name":"substring","type":"string","description":"The needle to search for within `string`."},{"name":"string","type":"string","description":"The haystack through which to search for `substring`."}]},"example":["in","$type","Point"],"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.6.0","android":"9.1.0","ios":"5.8.0"}}},"index-of":{"doc":"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search. In a string, a UTF-16 surrogate pair counts as a single position.","syntax":{"overloads":[{"parameters":["item","array","from_index?"],"output-type":"number"},{"parameters":["substring","string","from_index?"],"output-type":"number"}],"parameters":[{"name":"item","type":"T","description":"The needle to search for within `array`."},{"name":"array","type":"array<T>","description":"The haystack through which to search for `item`."},{"name":"substring","type":"string","description":"The needle to search for within `string`."},{"name":"string","type":"string","description":"The haystack through which to search for `substring`."},{"name":"from_index","type":"number","description":"The index from where to begin the search."}]},"example":["index-of","foo",["baz","bar","hello","foo","world"]],"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.10.0","android":"10.3.0","ios":"6.0.0"}}},"slice":{"doc":"Returns a subarray from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index. In a string, a UTF-16 surrogate pair counts as a single position.","syntax":{"overloads":[{"parameters":["array","start_index","end_index?"],"output-type":"array<T>"},{"parameters":["string","start_index","end_index?"],"output-type":"string"}],"parameters":[{"name":"array","type":"array<T>","description":"The original array from which to extract the subarray."},{"name":"string","type":"string","description":"The original string from which to extract the substring."},{"name":"start_index","type":"number","description":"The inclusive index from which `slice` extracts items or characters from the subarray or substring."},{"name":"end_index","type":"number","description":"The non-inclusive index up to which `slice` extracts items or characters from the subarray or substring."}]},"example":["slice",["get","name"],0,3],"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.10.0","android":"10.3.0","ios":"6.0.0"}}},"case":{"doc":"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.\\n\\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["condition_1","output_1","...","condition_n","output_n","fallback"],"output-type":"any"}],"parameters":[{"name":"condition_i","type":"boolean"},{"name":"output_i","type":"any"},{"name":"fallback","type":"any","description":"The result when no condition evaluates to true."}]},"example":["case",["boolean",["feature-state","hover"],false],1,0.5],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"match":{"doc":"Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `[\\"get\\", \\"building_type\\"]`). Each label must be either:\\n\\n - a single literal value; or\\n\\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `[\\"c\\", \\"b\\"]`). The input matches if any of the values in the array matches, similar to the `\\"in\\"` operator.\\n\\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.","syntax":{"overloads":[{"parameters":["input","label_1","output_1","...","label_n","output_n","fallback"],"output-type":"any"}],"parameters":[{"name":"input","type":"any","description":"Any expression."},{"name":"label_i","type":"string literal | array<string literal> | array<number literal>","description":"The i-th literal value or array of literal values to match the input against."},{"name":"output_i","type":"any","description":"The result when the i-th label is the first label to match the input."},{"name":"fallback","type":"any","description":"The result when no label matches the input."}]},"example":["match",["get","building_type"],"residential","#f00","commercial","#0f0","#000"],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"coalesce":{"doc":"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.\\n\\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)","syntax":{"overloads":[{"parameters":["expression_1","...","expression_n"],"output-type":"any"}],"parameters":[{"name":"expression_i","type":"any"}]},"example":["coalesce",["image",["concat",["get","icon"],"_15"]],["image","marker_15"]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"step":{"doc":"Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values (\\"stops\\"). The `input` may be any numeric expression (e.g., `[\\"get\\", \\"population\\"]`). Stop inputs must be numeric literals in strictly ascending order.\\n\\nReturns the output value of the stop just less than the input, or the first output if the input is less than the first stop.\\n\\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)","syntax":{"overloads":[{"parameters":["input","output_0","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"any"}],"parameters":[{"name":"input","type":"number","description":"Any numeric expression."},{"name":"output_0","type":"any","description":"The result when the `input` is less than the first stop."},{"name":"stop_i_input","type":"number literal","description":"The value of the i-th stop against which the `input` is compared."},{"name":"stop_i_output","type":"any","description":"The result when the i-th stop is the last stop less than the `input`."}]},"example":["step",["get","point_count"],20,100,30,750,40],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0"}}},"interpolate":{"doc":"Produces continuous, smooth results by interpolating between pairs of input and output values (\\"stops\\"). The `input` may be any numeric expression (e.g., `[\\"get\\", \\"population\\"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\\n\\nInterpolation types:\\n\\n- `[\\"linear\\"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\\n\\n- `[\\"exponential\\", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\\n\\n- `[\\"cubic-bezier\\", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.\\n\\n - [Animate map camera around a point](https://maplibre.org/maplibre-gl-js/docs/examples/animate-camera-around-point/)\\n\\n - [Change building color based on zoom level](https://maplibre.org/maplibre-gl-js/docs/examples/change-building-color-based-on-zoom-level/)\\n\\n - [Create a heatmap layer](https://maplibre.org/maplibre-gl-js/docs/examples/heatmap-layer/)\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["interpolation_type","input","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"any"}],"parameters":[{"name":"interpolation_type","type":"[\\"linear\\"] | [\\"exponential\\", base] | [\\"cubic-bezier\\", x1, y1, x2, y2]","description":"The interpolation type."},{"name":"input","type":"number","description":"Any numeric expression."},{"name":"stop_i_input","type":"number literal","description":"The value of the i-th stop against which the `input` is compared."},{"name":"stop_i_output","type":"number | array<number> | color","description":"The output value corresponding to the i-th stop."}]},"example":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0"}}},"interpolate-hcl":{"doc":"Produces continuous, smooth results by interpolating between pairs of input and output values (\\"stops\\"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.","syntax":{"overloads":[{"parameters":["interpolation_type","input","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"color"}],"parameters":[{"name":"interpolation_type","type":"[\\"linear\\"] | [\\"exponential\\", base] | [\\"cubic-bezier\\", x1, y1, x2, y2]"},{"name":"input","type":"number"},{"name":"stop_i_input","type":"number literal"},{"name":"stop_i_output","type":"color"}]},"example":["interpolate-hcl",["linear"],["zoom"],15,"#f00",15.05,"#00f"],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.49.0","ios":"https://github.com/maplibre/maplibre-native/issues/2784","android":"https://github.com/maplibre/maplibre-native/issues/2784"}}},"interpolate-lab":{"doc":"Produces continuous, smooth results by interpolating between pairs of input and output values (\\"stops\\"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.","syntax":{"overloads":[{"parameters":["interpolation_type","input","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"color"}],"parameters":[{"name":"interpolation_type","type":"[\\"linear\\"] | [\\"exponential\\", base] | [\\"cubic-bezier\\", x1, y1, x2, y2]"},{"name":"input","type":"number"},{"name":"stop_i_input","type":"number literal"},{"name":"stop_i_output","type":"color"}]},"example":["interpolate-lab",["linear"],["zoom"],15,"#f00",15.05,"#00f"],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.49.0","ios":"https://github.com/maplibre/maplibre-native/issues/2784","android":"https://github.com/maplibre/maplibre-native/issues/2784"}}},"ln2":{"doc":"Returns the mathematical constant ln(2).","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["ln2"],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"pi":{"doc":"Returns the mathematical constant pi.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["pi"],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"e":{"doc":"Returns the mathematical constant e.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["e"],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"typeof":{"doc":"Returns a string describing the type of the given value.","syntax":{"overloads":[{"parameters":["value"],"output-type":"string"}],"parameters":[{"name":"value","type":"any"}]},"example":["typeof",["get","name"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"string":{"doc":"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"string"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["string",["get","name"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"number":{"doc":"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"number"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["number",["get","population"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"boolean":{"doc":"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.\\n\\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"boolean"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["boolean",["feature-state","hover"],false],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"object":{"doc":"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"object"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["object",["get","some-property"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"collator":{"doc":"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.","syntax":{"overloads":[{"parameters":["options"],"output-type":"collator"}],"parameters":[{"name":"options","type":"{ \\"case-sensitive\\"?: boolean, \\"diacritic-sensitive\\"?: boolean, \\"locale\\"?: string }"}]},"example":["collator",{"case-sensitive":true,"diacritic-sensitive":true,"locale":"fr"}],"group":"Types","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"format":{"doc":"Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#image) expression. Strings may be followed by a style override object that supports the following properties:\\n\\n- `\\"text-font\\"`: Overrides the font stack specified by the root layout property.\\n\\n- `\\"text-color\\"`: Overrides the color specified by the root paint property.\\n\\n- `\\"font-scale\\"`: Applies a scaling factor on `text-size` as specified by the root layout property.\\n\\n- `\\"vertical-align\\"`: Aligns vertically text section or image in relation to the row it belongs to. Possible values are: \\n\\t- `\\"bottom\\"` *default*: align the bottom of this section with the bottom of other sections.\\n<img alt=\\"Visual representation of bottom alignment\\" src=\\"https://github.com/user-attachments/assets/0474a2fd-a4b2-417c-9187-7a13a28695bc\\"/>\\n\\t- `\\"center\\"`: align the center of this section with the center of other sections.\\n<img alt=\\"Visual representation of center alignment\\" src=\\"https://github.com/user-attachments/assets/92237455-be6d-4c5d-b8f6-8127effc1950\\"/>\\n\\t- `\\"top\\"`: align the top of this section with the top of other sections.\\n<img alt=\\"Visual representation of top alignment\\" src=\\"https://github.com/user-attachments/assets/45dccb28-d977-4abb-a006-4ea9792b7c53\\"/>\\n\\t- Refer to [the design proposal](https://github.com/maplibre/maplibre-style-spec/issues/832) for more details.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)\\n\\n - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)","syntax":{"overloads":[{"parameters":["input_1","style_overrides_1?","...","input_n","style_overrides_n?"],"output-type":"formatted"}],"parameters":[{"name":"input_i","type":"string | image"},{"name":"style_overrides_i","type":"{ \\"text-font\\"?: string, \\"text-color\\"?: color, \\"font-scale\\"?: number, \\"vertical-align\\"?: \\"bottom\\" | \\"center\\" | \\"top\\" }"}]},"example":["format",["upcase",["get","FacilityName"]],{"font-scale":0.8},"\\n\\n",{},["downcase",["get","Comments"]],{"font-scale":0.6,"vertical-align":"center"}],"group":"Types","sdk-support":{"basic functionality":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0"},"text-font":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0"},"font-scale":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0"},"text-color":{"js":"1.3.0","android":"7.3.0","ios":"4.10.0"},"vertical-align":{"js":"5.1.0","android":"https://github.com/maplibre/maplibre-native/issues/3055","ios":"https://github.com/maplibre/maplibre-native/issues/3055"},"image":{"js":"1.6.0","android":"8.6.0","ios":"5.7.0"}}},"image":{"doc":"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.\\n\\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)","syntax":{"overloads":[{"parameters":["image_name"],"output-type":"image"}],"parameters":[{"name":"image_name","type":"string"}]},"example":["image","marker_15"],"group":"Types","sdk-support":{"basic functionality":{"js":"1.4.0","android":"8.6.0","ios":"5.7.0"}}},"global-state":{"doc":"Retrieves a property value from global state that can be set with platform-specific APIs. Defaults can be provided using the [`state`](https://maplibre.org/maplibre-style-spec/root/#state) root property. Returns `null` if no value nor default value is set for the retrieved property.","group":"Lookup","syntax":{"overloads":[{"parameters":["property_name"],"output-type":"any"}],"parameters":[{"name":"property_name","type":"string literal","description":"The name of the global state property to retrieve."}]},"example":["global-state","someProperty"],"sdk-support":{"basic functionality":{"js":"https://github.com/maplibre/maplibre-gl-js/issues/4964","android":"https://github.com/maplibre/maplibre-native/issues/3302","ios":"https://github.com/maplibre/maplibre-native/issues/3302"}}},"number-format":{"doc":"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["input","format_options"],"output-type":"string"}],"parameters":[{"name":"input","type":"number"},{"name":"format_options","type":"{ \\"locale\\"?: string, \\"currency\\"?: string, \\"min-fraction-digits\\"?: number, \\"max-fraction-digits\\"?: number }"}]},"example":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"group":"Types","sdk-support":{"basic functionality":{"js":"0.54.0","android":"8.4.0","ios":"supported"}}},"to-string":{"doc":"Converts the input value to a string. If the input is `null`, the result is `\\"\\"`. If the input is a boolean, the result is `\\"true\\"` or `\\"false\\"`. If the input is a number, it is converted to a string as specified by the [\\"NumberToString\\" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `\\"rgba(r,g,b,a)\\"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.\\n\\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)","syntax":{"overloads":[{"parameters":["value"],"output-type":"string"}],"parameters":[{"name":"value","type":"any"}]},"example":["to-string",["get","mag"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-number":{"doc":"Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the [\\"ToNumber Applied to the String Type\\" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"number"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["to-number","someProperty"],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-boolean":{"doc":"Converts the input value to a boolean. The result is `false` when the input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.","syntax":{"overloads":[{"parameters":["value"],"output-type":"boolean"}],"parameters":[{"name":"value","type":"any"}]},"example":["to-boolean","someProperty"],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-rgba":{"doc":"Returns a four-element array containing the input color\'s red, green, blue, and alpha components, in that order.","syntax":{"overloads":[{"parameters":["color"],"output-type":"array"}],"parameters":[{"name":"color","type":"color"}]},"example":["to-rgba","#ff0000"],"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-color":{"doc":"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"color"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["to-color","#edf8e9"],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"rgb":{"doc":"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.","syntax":{"overloads":[{"parameters":["red","green","blue"],"output-type":"color"}],"parameters":[{"name":"red","type":"number"},{"name":"green","type":"number"},{"name":"blue","type":"number"}]},"example":["rgb",255,0,0],"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"rgba":{"doc":"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.","syntax":{"overloads":[{"parameters":["red","green","blue","alpha"],"output-type":"color"}],"parameters":[{"name":"red","type":"number"},{"name":"green","type":"number"},{"name":"blue","type":"number"},{"name":"alpha","type":"number"}]},"example":["rgba",255,0,0,1],"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"get":{"doc":"Retrieves a property value from the current feature\'s properties, or from another object if a second argument is provided. Returns null if the requested property is missing.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)\\n\\n - [Extrude polygons for 3D indoor mapping](https://maplibre.org/maplibre-gl-js/docs/examples/3d-extrusion-floorplan/)","syntax":{"overloads":[{"parameters":["property_name","object?"],"output-type":"any"}],"parameters":[{"name":"property_name","type":"string","description":"The name of the property to retrieve the value of."},{"name":"object","type":"object","description":"The object to retrieve the value from."}]},"example":["get","someProperty"],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"has":{"doc":"Tests for the presence of a property value in the current feature\'s properties, or from another object if a second argument is provided.\\n\\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)","syntax":{"overloads":[{"parameters":["property_name","object?"],"output-type":"boolean"}],"parameters":[{"name":"property_name","type":"string","description":"The name of the property to test for the presence of."},{"name":"object","type":"object","description":"The object in which to test for the presence of the `property_name` property."}]},"example":["has","someProperty"],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"length":{"doc":"Gets the length of an array or string. In a string, a UTF-16 surrogate pair counts as a single position.","syntax":{"overloads":[{"parameters":["array_or_string"],"output-type":"number"}],"parameters":[{"name":"array_or_string","type":"array | string"}]},"example":["length",["get","myArray"]],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"properties":{"doc":"Gets the feature properties object.  Note that in some cases, it may be more efficient to use [\\"get\\", \\"property_name\\"] directly.","syntax":{"overloads":[{"parameters":[],"output-type":"object"}]},"example":["properties"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"feature-state":{"doc":"Retrieves a property value from the current feature\'s state. Returns null if the requested property is not present on the feature\'s state. A feature\'s state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\\"feature-state\\"] can only be used with paint properties that support data-driven styling.\\n\\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)","syntax":{"overloads":[{"parameters":["property_name"],"output-type":"any"}],"parameters":[{"name":"property_name","type":"string"}]},"example":["feature-state","hover"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.46.0","ios":"https://github.com/maplibre/maplibre-native/issues/1698","android":"https://github.com/maplibre/maplibre-native/issues/1698"}}},"geometry-type":{"doc":"Returns the feature\'s simple geometry type: `Point`, `LineString`, or `Polygon`. `MultiPoint`, `MultiLineString`, and `MultiPolygon` are returned as `Point`, `LineString`, and `Polygon`, respectively.","syntax":{"overloads":[{"parameters":[],"output-type":"string"}]},"example":["==",["geometry-type"],"Polygon"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"id":{"doc":"Gets the feature\'s id, if it has one.","syntax":{"overloads":[{"parameters":[],"output-type":"any"}]},"example":["id"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"zoom":{"doc":"Gets the current zoom level.  Note that in style layout and paint properties, [\\"zoom\\"] may only appear as the input to a top-level \\"step\\" or \\"interpolate\\" expression.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"group":"Zoom","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"heatmap-density":{"doc":"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["heatmap-density"],"group":"Heatmap","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"elevation":{"doc":"Gets the elevation of a pixel (in meters above the vertical datum reference of the `raster-dem` tiles) from a `raster-dem` source. Can only be used in the `color-relief-color` property of a `color-relief` layer.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["elevation"],"group":"Color Relief","sdk-support":{"basic functionality":{"js":"https://github.com/maplibre/maplibre-gl-js/issues/5666","android":"https://github.com/maplibre/maplibre-native/issues/3408","ios":"https://github.com/maplibre/maplibre-native/issues/3408"}}},"line-progress":{"doc":"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["line-progress"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.6.0"}}},"accumulated":{"doc":"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.","syntax":{"overloads":[{"parameters":[],"output-type":"any"}]},"example":["accumulated"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.53.0","ios":"supported","android":"supported"}}},"+":{"doc":"Returns the sum of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["+",2,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"*":{"doc":"Returns the product of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["*",2,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"-":{"doc":"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"},{"parameters":["single_input"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The number from which to subtract `input_2`."},{"name":"input_2","type":"number","description":"The number to subtract from `input_1`."},{"name":"single_input","type":"number","description":"The number to subtract from 0."}]},"example":["-",10],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"/":{"doc":"Returns the result of floating point division of the first input by the second.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The dividend."},{"name":"input_2","type":"number","description":"The divisor."}]},"example":["/",["get","population"],["get","sq-km"]],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"%":{"doc":"Returns the remainder after integer division of the first input by the second.","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The dividend."},{"name":"input_2","type":"number","description":"The divisor."}]},"example":["%",10,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"^":{"doc":"Returns the result of raising the first input to the power specified by the second.","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The base."},{"name":"input_2","type":"number","description":"The exponent."}]},"example":["^",2,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"sqrt":{"doc":"Returns the square root of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number","description":"The radicand."}]},"example":["sqrt",9],"group":"Math","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0"}}},"log10":{"doc":"Returns the base-ten logarithm of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["log10",8],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"ln":{"doc":"Returns the natural logarithm of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["ln",8],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"log2":{"doc":"Returns the base-two logarithm of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["log2",8],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"sin":{"doc":"Returns the sine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["sin",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"cos":{"doc":"Returns the cosine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["cos",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"tan":{"doc":"Returns the tangent of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["tan",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"asin":{"doc":"Returns the arcsine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["asin",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"acos":{"doc":"Returns the arccosine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["acos",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"atan":{"doc":"Returns the arctangent of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["atan",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"min":{"doc":"Returns the minimum value of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["min",1,2],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"max":{"doc":"Returns the maximum value of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["max",1,2],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"round":{"doc":"Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `[\\"round\\", -1.5]` evaluates to -2.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["round",1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"abs":{"doc":"Returns the absolute value of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["abs",-1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"ceil":{"doc":"Returns the smallest integer that is greater than or equal to the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["ceil",1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"floor":{"doc":"Returns the largest integer that is less than or equal to the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["floor",1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"distance":{"doc":"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.","syntax":{"overloads":[{"parameters":["geojson"],"output-type":"number"}],"parameters":[{"name":"geojson","type":"GeoJSON object"}]},"example":["distance",{"type":"Point","coordinates":[0,0]}],"group":"Math","sdk-support":{"basic functionality":{"js":"4.2.0","android":"9.2.0","ios":"5.9.0"}}},"==":{"doc":"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Add multiple geometries from one GeoJSON source](https://maplibre.org/maplibre-gl-js/docs/examples/multiple-geometries/)\\n\\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)\\n\\n - [Display buildings in 3D](https://maplibre.org/maplibre-gl-js/docs/examples/3d-buildings/)\\n\\n - [Filter symbols by toggling a list](https://maplibre.org/maplibre-gl-js/docs/examples/filter-markers/)","syntax":{"overloads":[{"parameters":["input_1","input_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"input_1","type":"any"},{"name":"input_2","type":"any"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["==","$type","Polygon"],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"!=":{"doc":"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["input_1","input_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"input_1","type":"any"},{"name":"input_2","type":"any"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["!=","cluster",true],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},">":{"doc":"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":[">",["get","mag"],2],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"<":{"doc":"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["<",["get","mag"],2],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},">=":{"doc":"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":[">=",["get","mag"],6],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"<=":{"doc":"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["<=",["get","mag"],6],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"all":{"doc":"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"boolean"}],"parameters":[{"name":"input_i","type":"boolean"}]},"example":["all",[">=",["get","mag"],4],["<",["get","mag"],5]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"any":{"doc":"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"boolean"}],"parameters":[{"name":"input_i","type":"boolean"}]},"example":["any",[">=",["get","mag"],4],["<",["get","mag"],5]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"!":{"doc":"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.\\n\\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)","syntax":{"overloads":[{"parameters":["input"],"output-type":"boolean"}],"parameters":[{"name":"input","type":"boolean"}]},"example":["!",["has","point_count"]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"within":{"doc":"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\\n\\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\\n\\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line\'s endpoint is on the boundary.","syntax":{"overloads":[{"parameters":["geojson"],"output-type":"boolean"}],"parameters":[{"name":"geojson","type":"GeoJSON object"}]},"example":["within",{"type":"Polygon","coordinates":[[[0,0],[0,5],[5,5],[5,0],[0,0]]]}],"group":"Decision","sdk-support":{"basic functionality":{"js":"1.9.0","android":"9.1.0","ios":"5.8.0"}}},"is-supported-script":{"doc":"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).","syntax":{"overloads":[{"parameters":["input"],"output-type":"boolean"}],"parameters":[{"name":"input","type":"string"}]},"example":["is-supported-script",""],"group":"String","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.6.0","ios":"supported"}}},"upcase":{"doc":"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)","syntax":{"overloads":[{"parameters":["input"],"output-type":"string"}],"parameters":[{"name":"input","type":"string"}]},"example":["upcase",["get","name"]],"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"downcase":{"doc":"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)","syntax":{"overloads":[{"parameters":["input"],"output-type":"string"}],"parameters":[{"name":"input","type":"string"}]},"example":["downcase",["get","name"]],"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"concat":{"doc":"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.\\n\\n - [Add a generated icon to the map](https://maplibre.org/maplibre-gl-js/docs/examples/add-image-missing-generated/)\\n\\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)\\n\\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)\\n\\n - [Variable label placement](https://maplibre.org/maplibre-gl-js/docs/examples/variable-label-placement/)","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"string"}],"parameters":[{"name":"input_i","type":"any"}]},"example":["concat","square-rgb-",["get","color"]],"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"resolved-locale":{"doc":"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.","syntax":{"overloads":[{"parameters":["collator"],"output-type":"string"}],"parameters":[{"name":"collator","type":"collator"}]},"example":["resolved-locale",["collator",{"case-sensitive":true,"diacritic-sensitive":false,"locale":"de"}]],"group":"String","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}}}}'),NV={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}}},GV={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color at the horizon."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog. Requires 3D terrain."},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. Where 0 is the map center and 1 is the horizon."},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog color and the horizon color. Where 0 is using the horizon color only and 1 is using the fog color only."},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the sky color and the horizon color. Where 1 is blending the color at the middle of the sky and 0 is not blending at all and using the sky color only."},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the atmosphere. Where 1 is visible atmosphere and 0 is hidden. It is best to interpolate this expression when using globe projection."}},WV={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0",ios:"https://github.com/maplibre/maplibre-native/issues/252",android:"https://github.com/maplibre/maplibre-native/issues/252"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0",ios:"https://github.com/maplibre/maplibre-native/issues/252",android:"https://github.com/maplibre/maplibre-native/issues/252"}}}},QV={type:{type:"projectionDefinition",doc:"The projection definition type. Can be specified as a string, a transition state, or an expression.",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},YV=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],qV={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},HV={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"https://github.com/maplibre/maplibre-gl-js/issues/1235",ios:"https://github.com/maplibre/maplibre-native/issues/744",android:"https://github.com/maplibre/maplibre-native/issues/744"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},VV={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},$V={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ZV={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline. \n\nThe unit is in pixels only for SDF sprites that were created with a blur radius of 8, multiplied by the display density. I.e., the radius needs to be 16 for `@2x` sprites, etc.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},XV={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},JV={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,doc:"The direction of the light source(s) used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`. Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,doc:"The altitude of the light source(s) used to generate the hillshading with 0 as sunset and 90 as noon. Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!1,"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",doc:"The shading color of areas that face away from the light source(s). Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source(s). Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{doc:"The legacy hillshade method."},basic:{doc:"Basic hillshade. Uses a simple physics model where the reflected light intensity is proportional to the cosine of the angle between the incident light and the surface normal. Similar to GDAL's `gdaldem` default algorithm."},combined:{doc:"Hillshade algorithm whose intensity scales with slope. Similar to GDAL's `gdaldem` with `-combined` option."},igor:{doc:"Hillshade algorithm which tries to minimize effects on other map features beneath. Similar to GDAL's `gdaldem` with `-igor` option."},multidirectional:{doc:"Hillshade with multiple illumination directions. Uses the basic hillshade model with multiple independent light sources."}},default:"standard",doc:"The hillshade algorithm to use, one of `standard`, `basic`, `combined`, `igor`, or `multidirectional`. ![image](assets/hillshade_methods.png)","sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},e$={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},t$={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},n$={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},$o={$version:mV,$root:gV,sources:yV,source:vV,source_vector:CV,source_raster:_V,source_raster_dem:bV,source_geojson:xV,source_video:MV,source_image:wV,layer:SV,layout:EV,layout_background:BV,layout_fill:OV,layout_circle:IV,layout_heatmap:TV,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},"property-type":"constant"}},layout_line:kV,layout_symbol:DV,layout_raster:RV,layout_hillshade:PV,"layout_color-relief":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{}},"property-type":"constant"}},filter:KV,filter_operator:UV,geometry_type:LV,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:

* In categorical functions, when the feature value does not match any of the stop domain values.

* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.

* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).

* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.

If no default is provided, the style property's default is used in these circumstances.`}},function_stop:FV,expression:zV,expression_name:jV,light:NV,sky:GV,terrain:WV,projection:QV,paint:YV,paint_fill:qV,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",android:"7.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:HV,paint_circle:VV,paint_heatmap:$V,paint_symbol:ZV,paint_raster:XV,paint_hillshade:JV,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the color-relief will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5666",android:"https://github.com/maplibre/maplibre-native/issues/3408",ios:"https://github.com/maplibre/maplibre-native/issues/3408"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",doc:'Defines the color of each pixel based on its elevation. Should be an expression that uses `["elevation"]` as input.',example:["interpolate",["linear"],["elevation"],0,"black",8849,"white"],transition:!1,"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5666",android:"https://github.com/maplibre/maplibre-native/issues/3408",ios:"https://github.com/maplibre/maplibre-native/issues/3408"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:e$,transition:t$,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:n$};var Mx={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.7.1/LICENSE.txt
 */var i$=Mx.exports,SI;function r$(){return SI||(SI=1,function(n,e){(function(t,i){n.exports=i()})(i$,function(){var t={},i={};function r(l,o,p){if(i[l]=p,l==="index"){var C="var sharedModule = {}; ("+i.shared+")(sharedModule); ("+i.worker+")(sharedModule);",M={};return i.shared(M),i.index(t,M),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([C],{type:"text/javascript"}))),t}}r("shared",["exports"],function(l){function o(h,A,c,y){return new(c||(c=Promise))(function(w,R){function P(ie){try{H(y.next(ie))}catch(ue){R(ue)}}function N(ie){try{H(y.throw(ie))}catch(ue){R(ue)}}function H(ie){var ue;ie.done?w(ie.value):(ue=ie.value,ue instanceof c?ue:new c(function(ve){ve(ue)})).then(P,N)}H((y=y.apply(h,A||[])).next())})}function p(h,A){this.x=h,this.y=A}function C(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var M,O;typeof SuppressedError=="function"&&SuppressedError,p.prototype={clone(){return new p(this.x,this.y)},add(h){return this.clone()._add(h)},sub(h){return this.clone()._sub(h)},multByPoint(h){return this.clone()._multByPoint(h)},divByPoint(h){return this.clone()._divByPoint(h)},mult(h){return this.clone()._mult(h)},div(h){return this.clone()._div(h)},rotate(h){return this.clone()._rotate(h)},rotateAround(h,A){return this.clone()._rotateAround(h,A)},matMult(h){return this.clone()._matMult(h)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(h){return this.x===h.x&&this.y===h.y},dist(h){return Math.sqrt(this.distSqr(h))},distSqr(h){const A=h.x-this.x,c=h.y-this.y;return A*A+c*c},angle(){return Math.atan2(this.y,this.x)},angleTo(h){return Math.atan2(this.y-h.y,this.x-h.x)},angleWith(h){return this.angleWithSep(h.x,h.y)},angleWithSep(h,A){return Math.atan2(this.x*A-this.y*h,this.x*h+this.y*A)},_matMult(h){const A=h[2]*this.x+h[3]*this.y;return this.x=h[0]*this.x+h[1]*this.y,this.y=A,this},_add(h){return this.x+=h.x,this.y+=h.y,this},_sub(h){return this.x-=h.x,this.y-=h.y,this},_mult(h){return this.x*=h,this.y*=h,this},_div(h){return this.x/=h,this.y/=h,this},_multByPoint(h){return this.x*=h.x,this.y*=h.y,this},_divByPoint(h){return this.x/=h.x,this.y/=h.y,this},_unit(){return this._div(this.mag()),this},_perp(){const h=this.y;return this.y=this.x,this.x=-h,this},_rotate(h){const A=Math.cos(h),c=Math.sin(h),y=c*this.x+A*this.y;return this.x=A*this.x-c*this.y,this.y=y,this},_rotateAround(h,A){const c=Math.cos(h),y=Math.sin(h),w=A.y+y*(this.x-A.x)+c*(this.y-A.y);return this.x=A.x+c*(this.x-A.x)-y*(this.y-A.y),this.y=w,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:p},p.convert=function(h){if(h instanceof p)return h;if(Array.isArray(h))return new p(+h[0],+h[1]);if(h.x!==void 0&&h.y!==void 0)return new p(+h.x,+h.y);throw new Error("Expected [x, y] or {x, y} point format")};var U=function(){if(O)return M;function h(A,c,y,w){this.cx=3*A,this.bx=3*(y-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(w-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=c,this.p2x=y,this.p2y=w}return O=1,M=h,h.prototype={sampleCurveX:function(A){return((this.ax*A+this.bx)*A+this.cx)*A},sampleCurveY:function(A){return((this.ay*A+this.by)*A+this.cy)*A},sampleCurveDerivativeX:function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},solveCurveX:function(A,c){if(c===void 0&&(c=1e-6),A<0)return 0;if(A>1)return 1;for(var y=A,w=0;w<8;w++){var R=this.sampleCurveX(y)-A;if(Math.abs(R)<c)return y;var P=this.sampleCurveDerivativeX(y);if(Math.abs(P)<1e-6)break;y-=R/P}var N=0,H=1;for(y=A,w=0;w<20&&(R=this.sampleCurveX(y),!(Math.abs(R-A)<c));w++)A>R?N=y:H=y,y=.5*(H-N)+N;return y},solve:function(A,c){return this.sampleCurveY(this.solveCurveX(A,c))}},M}(),K=C(U);let j,W;function Y(){return j==null&&(j=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),j}function te(){if(W==null&&(W=!1,Y())){const A=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(A){for(let y=0;y<5*5;y++){const w=4*y;A.fillStyle=`rgb(${w},${w+1},${w+2})`,A.fillRect(y%5,Math.floor(y/5),1,1)}const c=A.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&c[y]!==y){W=!0;break}}}return W||!1}var J=1e-6,oe=typeof Float32Array<"u"?Float32Array:Array;function ne(){var h=new oe(9);return oe!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h}function $(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function ae(){var h=new oe(3);return oe!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h}function G(h){var A=h[0],c=h[1],y=h[2];return Math.sqrt(A*A+c*c+y*y)}function ce(h,A,c){var y=new oe(3);return y[0]=h,y[1]=A,y[2]=c,y}function ge(h,A,c){return h[0]=A[0]+c[0],h[1]=A[1]+c[1],h[2]=A[2]+c[2],h}function ye(h,A,c){return h[0]=A[0]*c,h[1]=A[1]*c,h[2]=A[2]*c,h}function we(h,A,c){var y=A[0],w=A[1],R=A[2],P=c[0],N=c[1],H=c[2];return h[0]=w*H-R*N,h[1]=R*P-y*H,h[2]=y*N-w*P,h}var Ie,Se=G;function Ve(h,A,c){var y=A[0],w=A[1],R=A[2],P=A[3];return h[0]=c[0]*y+c[4]*w+c[8]*R+c[12]*P,h[1]=c[1]*y+c[5]*w+c[9]*R+c[13]*P,h[2]=c[2]*y+c[6]*w+c[10]*R+c[14]*P,h[3]=c[3]*y+c[7]*w+c[11]*R+c[15]*P,h}function xe(){var h=new oe(4);return oe!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h[3]=1,h}function ze(h,A,c,y){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",R=Math.PI/360;A*=R,y*=R,c*=R;var P=Math.sin(A),N=Math.cos(A),H=Math.sin(c),ie=Math.cos(c),ue=Math.sin(y),ve=Math.cos(y);switch(w){case"xyz":h[0]=P*ie*ve+N*H*ue,h[1]=N*H*ve-P*ie*ue,h[2]=N*ie*ue+P*H*ve,h[3]=N*ie*ve-P*H*ue;break;case"xzy":h[0]=P*ie*ve-N*H*ue,h[1]=N*H*ve-P*ie*ue,h[2]=N*ie*ue+P*H*ve,h[3]=N*ie*ve+P*H*ue;break;case"yxz":h[0]=P*ie*ve+N*H*ue,h[1]=N*H*ve-P*ie*ue,h[2]=N*ie*ue-P*H*ve,h[3]=N*ie*ve+P*H*ue;break;case"yzx":h[0]=P*ie*ve+N*H*ue,h[1]=N*H*ve+P*ie*ue,h[2]=N*ie*ue-P*H*ve,h[3]=N*ie*ve-P*H*ue;break;case"zxy":h[0]=P*ie*ve-N*H*ue,h[1]=N*H*ve+P*ie*ue,h[2]=N*ie*ue+P*H*ve,h[3]=N*ie*ve-P*H*ue;break;case"zyx":h[0]=P*ie*ve-N*H*ue,h[1]=N*H*ve+P*ie*ue,h[2]=N*ie*ue-P*H*ve,h[3]=N*ie*ve+P*H*ue;break;default:throw new Error("Unknown angle order "+w)}return h}function st(){var h=new oe(2);return oe!=Float32Array&&(h[0]=0,h[1]=0),h}function Ct(h,A){var c=new oe(2);return c[0]=h,c[1]=A,c}ae(),Ie=new oe(4),oe!=Float32Array&&(Ie[0]=0,Ie[1]=0,Ie[2]=0,Ie[3]=0),ae(),ce(1,0,0),ce(0,1,0),xe(),xe(),ne(),st();const nt=8192;function be(h,A,c){return A*(nt/(h.tileSize*Math.pow(2,c-h.tileID.overscaledZ)))}function Ne(h,A){return(h%A+A)%A}function tt(h,A,c){return h*(1-c)+A*c}function lt(h){if(h<=0)return 0;if(h>=1)return 1;const A=h*h,c=A*h;return 4*(h<.5?c:3*(h-A)+c-.75)}function kt(h,A,c,y){const w=new K(h,A,c,y);return R=>w.solve(R)}const gt=kt(.25,.1,.25,1);function St(h,A,c){return Math.min(c,Math.max(A,h))}function Ut(h,A,c){const y=c-A,w=((h-A)%y+y)%y+A;return w===A?c:w}function Fe(h,...A){for(const c of A)for(const y in c)h[y]=c[y];return h}let Ke=1;function Re(h,A,c){const y={};for(const w in h)y[w]=A.call(this,h[w],w,h);return y}function He(h,A,c){const y={};for(const w in h)A.call(this,h[w],w,h)&&(y[w]=h[w]);return y}function bt(h){return Array.isArray(h)?h.map(bt):typeof h=="object"&&h?Re(h,bt):h}const _t={};function Ot(h){_t[h]||(typeof console<"u"&&console.warn(h),_t[h]=!0)}function qt(h,A,c){return(c.y-h.y)*(A.x-h.x)>(A.y-h.y)*(c.x-h.x)}function Kt(h){return typeof WorkerGlobalScope<"u"&&h!==void 0&&h instanceof WorkerGlobalScope}let on=null;function Jn(h){return typeof ImageBitmap<"u"&&h instanceof ImageBitmap}const Wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function $n(h,A,c,y,w){return o(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const R=new VideoFrame(h,{timestamp:0});try{const P=R?.format;if(!P||!P.startsWith("BGR")&&!P.startsWith("RGB"))throw new Error(`Unrecognized format ${P}`);const N=P.startsWith("BGR"),H=new Uint8ClampedArray(y*w*4);if(yield R.copyTo(H,function(ie,ue,ve,Pe,Qe){const qe=4*Math.max(-ue,0),et=(Math.max(0,ve)-ve)*Pe*4+qe,ut=4*Pe,Mt=Math.max(0,ue),Qt=Math.max(0,ve);return{rect:{x:Mt,y:Qt,width:Math.min(ie.width,ue+Pe)-Mt,height:Math.min(ie.height,ve+Qe)-Qt},layout:[{offset:et,stride:ut}]}}(h,A,c,y,w)),N)for(let ie=0;ie<H.length;ie+=4){const ue=H[ie];H[ie]=H[ie+2],H[ie+2]=ue}return H}finally{R.close()}})}let On,Bn;function In(h,A,c,y){return h.addEventListener(A,c,y),{unsubscribe:()=>{h.removeEventListener(A,c,y)}}}function Oi(h){return h*Math.PI/180}function ei(h){return h/Math.PI*180}const Kn={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},je={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},de="AbortError";function re(){return new Error(de)}const le={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function pe(h){return le.REGISTERED_PROTOCOLS[h.substring(0,h.indexOf("://"))]}const Te="global-dispatcher";class We extends Error{constructor(A,c,y,w){super(`AJAXError: ${c} (${A}): ${y}`),this.status=A,this.statusText=c,this.url=y,this.body=w}}const dt=()=>Kt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Ye=function(h,A){if(/:\/\//.test(h.url)&&!/^https?:|^file:/.test(h.url)){const y=pe(h.url);if(y)return y(h,A);if(Kt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:h,targetMapId:Te},A)}if(!(/^file:/.test(c=h.url)||/^file:/.test(dt())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,w){return o(this,void 0,void 0,function*(){const R=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:dt(),signal:w.signal});let P,N;y.type!=="json"||R.headers.has("Accept")||R.headers.set("Accept","application/json");try{P=yield fetch(R)}catch(ie){throw new We(0,ie.message,y.url,new Blob)}if(!P.ok){const ie=yield P.blob();throw new We(P.status,P.statusText,y.url,ie)}N=y.type==="arrayBuffer"||y.type==="image"?P.arrayBuffer():y.type==="json"?P.json():P.text();const H=yield N;if(w.signal.aborted)throw re();return{data:H,cacheControl:P.headers.get("Cache-Control"),expires:P.headers.get("Expires")}})}(h,A);if(Kt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:h,mustQueue:!0,targetMapId:Te},A)}var c;return function(y,w){return new Promise((R,P)=>{var N;const H=new XMLHttpRequest;H.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(H.responseType="arraybuffer");for(const ie in y.headers)H.setRequestHeader(ie,y.headers[ie]);y.type==="json"&&(H.responseType="text",!((N=y.headers)===null||N===void 0)&&N.Accept||H.setRequestHeader("Accept","application/json")),H.withCredentials=y.credentials==="include",H.onerror=()=>{P(new Error(H.statusText))},H.onload=()=>{if(!w.signal.aborted)if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){let ie=H.response;if(y.type==="json")try{ie=JSON.parse(H.response)}catch(ue){return void P(ue)}R({data:ie,cacheControl:H.getResponseHeader("Cache-Control"),expires:H.getResponseHeader("Expires")})}else{const ie=new Blob([H.response],{type:H.getResponseHeader("Content-Type")});P(new We(H.status,H.statusText,y.url,ie))}},w.signal.addEventListener("abort",()=>{H.abort(),P(re())}),H.send(y.body)})}(h,A)};function De(h){if(!h||h.indexOf("://")<=0||h.indexOf("data:image/")===0||h.indexOf("blob:")===0)return!0;const A=new URL(h),c=window.location;return A.protocol===c.protocol&&A.host===c.host}function Ze(h,A,c){c[h]&&c[h].indexOf(A)!==-1||(c[h]=c[h]||[],c[h].push(A))}function g(h,A,c){if(c&&c[h]){const y=c[h].indexOf(A);y!==-1&&c[h].splice(y,1)}}class mt{constructor(A,c={}){Fe(this,c),this.type=A}}class ht extends mt{constructor(A,c={}){super("error",Fe({error:A},c))}}class Tt{on(A,c){return this._listeners=this._listeners||{},Ze(A,c,this._listeners),{unsubscribe:()=>{this.off(A,c)}}}off(A,c){return g(A,c,this._listeners),g(A,c,this._oneTimeListeners),this}once(A,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(A,c,this._oneTimeListeners),this):new Promise(y=>this.once(A,y))}fire(A,c){typeof A=="string"&&(A=new mt(A,c||{}));const y=A.type;if(this.listens(y)){A.target=this;const w=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const N of w)N.call(this,A);const R=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const N of R)g(y,N,this._oneTimeListeners),N.call(this,A);const P=this._eventedParent;P&&(Fe(A,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(A))}else A instanceof ht&&console.error(A.error);return this}listens(A){return this._listeners&&this._listeners[A]&&this._listeners[A].length>0||this._oneTimeListeners&&this._oneTimeListeners[A]&&this._oneTimeListeners[A].length>0||this._eventedParent&&this._eventedParent.listens(A)}setEventedParent(A,c){return this._eventedParent=A,this._eventedParentData=c,this}}var it={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const en=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Dn(h,A){const c={};for(const y in h)y!=="ref"&&(c[y]=h[y]);return en.forEach(y=>{y in A&&(c[y]=A[y])}),c}function Mn(h,A){if(Array.isArray(h)){if(!Array.isArray(A)||h.length!==A.length)return!1;for(let c=0;c<h.length;c++)if(!Mn(h[c],A[c]))return!1;return!0}if(typeof h=="object"&&h!==null&&A!==null){if(typeof A!="object"||Object.keys(h).length!==Object.keys(A).length)return!1;for(const c in h)if(!Mn(h[c],A[c]))return!1;return!0}return h===A}function ii(h,A){h.push(A)}function Wn(h,A,c){ii(c,{command:"addSource",args:[h,A[h]]})}function Hi(h,A,c){ii(A,{command:"removeSource",args:[h]}),c[h]=!0}function tr(h,A,c,y){Hi(h,c,y),Wn(h,A,c)}function Ei(h,A,c){let y;for(y in h[c])if(Object.prototype.hasOwnProperty.call(h[c],y)&&y!=="data"&&!Mn(h[c][y],A[c][y]))return!1;for(y in A[c])if(Object.prototype.hasOwnProperty.call(A[c],y)&&y!=="data"&&!Mn(h[c][y],A[c][y]))return!1;return!0}function hi(h,A,c,y,w,R){h=h||{},A=A||{};for(const P in h)Object.prototype.hasOwnProperty.call(h,P)&&(Mn(h[P],A[P])||c.push({command:R,args:[y,P,A[P],w]}));for(const P in A)Object.prototype.hasOwnProperty.call(A,P)&&!Object.prototype.hasOwnProperty.call(h,P)&&(Mn(h[P],A[P])||c.push({command:R,args:[y,P,A[P],w]}))}function ti(h){return h.id}function Qi(h,A){return h[A.id]=A,h}class wn{constructor(A,c,y,w){this.message=(A?`${A}: `:"")+y,w&&(this.identifier=w),c!=null&&c.__line__&&(this.line=c.__line__)}}function uo(h,...A){for(const c of A)for(const y in c)h[y]=c[y];return h}class Vi extends Error{constructor(A,c){super(c),this.message=c,this.key=A}}class ya{constructor(A,c=[]){this.parent=A,this.bindings={};for(const[y,w]of c)this.bindings[y]=w}concat(A){return new ya(this,A)}get(A){if(this.bindings[A])return this.bindings[A];if(this.parent)return this.parent.get(A);throw new Error(`${A} not found in scope.`)}has(A){return!!this.bindings[A]||!!this.parent&&this.parent.has(A)}}const ko={kind:"null"},Zn={kind:"number"},Ar={kind:"string"},zi={kind:"boolean"},Cr={kind:"color"},ja={kind:"projectionDefinition"},kr={kind:"object"},ji={kind:"value"},yl={kind:"collator"},Pa={kind:"formatted"},So={kind:"padding"},ts={kind:"colorArray"},Tl={kind:"numberArray"},co={kind:"resolvedImage"},QA={kind:"variableAnchorOffsetCollection"};function Ka(h,A){return{kind:"array",itemType:h,N:A}}function $i(h){if(h.kind==="array"){const A=$i(h.itemType);return typeof h.N=="number"?`array<${A}, ${h.N}>`:h.itemType.kind==="value"?"array":`array<${A}>`}return h.kind}const Mi=[ko,Zn,Ar,zi,Cr,ja,Pa,kr,Ka(ji),So,Tl,ts,co,QA];function cs(h,A){if(A.kind==="error")return null;if(h.kind==="array"){if(A.kind==="array"&&(A.N===0&&A.itemType.kind==="value"||!cs(h.itemType,A.itemType))&&(typeof h.N!="number"||h.N===A.N))return null}else{if(h.kind===A.kind)return null;if(h.kind==="value"){for(const c of Mi)if(!cs(c,A))return null}}return`Expected ${$i(h)} but found ${$i(A)} instead.`}function Sa(h,A){return A.some(c=>c.kind===h.kind)}function Zo(h,A){return A.some(c=>c==="null"?h===null:c==="array"?Array.isArray(h):c==="object"?h&&!Array.isArray(h)&&typeof h=="object":c===typeof h)}function $e(h,A){return h.kind==="array"&&A.kind==="array"?h.itemType.kind===A.itemType.kind&&typeof h.N=="number":h.kind===A.kind}const Et=.96422,xn=.82521,Gn=4/29,rn=6/29,si=3*rn*rn,to=rn*rn*rn,Eo=Math.PI/180,hs=180/Math.PI;function zs(h){return(h%=360)<0&&(h+=360),h}function YA([h,A,c,y]){let w,R;const P=Pu((.2225045*(h=Yi(h))+.7168786*(A=Yi(A))+.0606169*(c=Yi(c)))/1);h===A&&A===c?w=R=P:(w=Pu((.4360747*h+.3850649*A+.1430804*c)/Et),R=Pu((.0139322*h+.0971045*A+.7141733*c)/xn));const N=116*P-16;return[N<0?0:N,500*(w-P),200*(P-R),y]}function Yi(h){return h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)}function Pu(h){return h>to?Math.pow(h,1/3):h/si+Gn}function bA([h,A,c,y]){let w=(h+16)/116,R=isNaN(A)?w:w+A/500,P=isNaN(c)?w:w-c/200;return w=1*Es(w),R=Et*Es(R),P=xn*Es(P),[vl(3.1338561*R-1.6168667*w-.4906146*P),vl(-.9787684*R+1.9161415*w+.033454*P),vl(.0719453*R-.2289914*w+1.4052427*P),y]}function vl(h){return(h=h<=.00304?12.92*h:1.055*Math.pow(h,1/2.4)-.055)<0?0:h>1?1:h}function Es(h){return h>rn?h*h*h:si*(h-Gn)}const Mc=Object.hasOwn||function(h,A){return Object.prototype.hasOwnProperty.call(h,A)};function Hs(h,A){return Mc(h,A)?h[A]:void 0}function Xo(h){return parseInt(h.padEnd(2,h),16)/255}function Do(h,A){return fr(A?h/100:h,0,1)}function fr(h,A,c){return Math.min(Math.max(A,h),c)}function Ul(h){return!h.some(Number.isNaN)}const va={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Ll(h,A,c){return h+c*(A-h)}function xA(h,A,c){return h.map((y,w)=>Ll(y,A[w],c))}class Mr{constructor(A,c,y,w=1,R=!0){this.r=A,this.g=c,this.b=y,this.a=w,R||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[A,c,y,w]))}static parse(A){if(A instanceof Mr)return A;if(typeof A!="string")return;const c=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const w=Hs(va,y);if(w){const[P,N,H]=w;return[P/255,N/255,H/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const P=y.length<6?1:2;let N=1;return[Xo(y.slice(N,N+=P)),Xo(y.slice(N,N+=P)),Xo(y.slice(N,N+=P)),Xo(y.slice(N,N+P)||"ff")]}if(y.startsWith("rgb")){const P=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt,Qt]=P,Dt=[ue||" ",Qe||" ",ut].join("");if(Dt==="  "||Dt==="  /"||Dt===",,"||Dt===",,,"){const jt=[ie,Pe,et].join(""),ln=jt==="%%%"?100:jt===""?255:0;if(ln){const Cn=[fr(+H/ln,0,1),fr(+ve/ln,0,1),fr(+qe/ln,0,1),Mt?Do(+Mt,Qt):1];if(Ul(Cn))return Cn}}return}}const R=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(R){const[P,N,H,ie,ue,ve,Pe,Qe,qe]=R,et=[H||" ",ue||" ",Pe].join("");if(et==="  "||et==="  /"||et===",,"||et===",,,"){const ut=[+N,fr(+ie,0,100),fr(+ve,0,100),Qe?Do(+Qe,qe):1];if(Ul(ut))return function([Mt,Qt,Dt,jt]){function ln(Cn){const Un=(Cn+Mt/30)%12,pi=Qt*Math.min(Dt,1-Dt);return Dt-pi*Math.max(-1,Math.min(Un-3,9-Un,1))}return Mt=zs(Mt),Qt/=100,Dt/=100,[ln(0),ln(8),ln(4),jt]}(ut)}}}(A);return c?new Mr(...c,!1):void 0}get rgb(){const{r:A,g:c,b:y,a:w}=this,R=w||1/0;return this.overwriteGetter("rgb",[A/R,c/R,y/R,w])}get hcl(){return this.overwriteGetter("hcl",function(A){const[c,y,w,R]=YA(A),P=Math.sqrt(y*y+w*w);return[Math.round(1e4*P)?zs(Math.atan2(w,y)*hs):NaN,P,c,R]}(this.rgb))}get lab(){return this.overwriteGetter("lab",YA(this.rgb))}overwriteGetter(A,c){return Object.defineProperty(this,A,{value:c}),c}toString(){const[A,c,y,w]=this.rgb;return`rgba(${[A,c,y].map(R=>Math.round(255*R)).join(",")},${w})`}static interpolate(A,c,y,w="rgb"){switch(w){case"rgb":{const[R,P,N,H]=xA(A.rgb,c.rgb,y);return new Mr(R,P,N,H,!1)}case"hcl":{const[R,P,N,H]=A.hcl,[ie,ue,ve,Pe]=c.hcl;let Qe,qe;if(isNaN(R)||isNaN(ie))isNaN(R)?isNaN(ie)?Qe=NaN:(Qe=ie,N!==1&&N!==0||(qe=ue)):(Qe=R,ve!==1&&ve!==0||(qe=P));else{let Dt=ie-R;ie>R&&Dt>180?Dt-=360:ie<R&&R-ie>180&&(Dt+=360),Qe=R+y*Dt}const[et,ut,Mt,Qt]=function([Dt,jt,ln,Cn]){return Dt=isNaN(Dt)?0:Dt*Eo,bA([ln,Math.cos(Dt)*jt,Math.sin(Dt)*jt,Cn])}([Qe,qe??Ll(P,ue,y),Ll(N,ve,y),Ll(H,Pe,y)]);return new Mr(et,ut,Mt,Qt,!1)}case"lab":{const[R,P,N,H]=bA(xA(A.lab,c.lab,y));return new Mr(R,P,N,H,!1)}}}}Mr.black=new Mr(0,0,0,1),Mr.white=new Mr(1,1,1,1),Mr.transparent=new Mr(0,0,0,0),Mr.red=new Mr(1,0,0,1);class rA{constructor(A,c,y){this.sensitivity=A?c?"variant":"case":c?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(A,c){return this.collator.compare(A,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const hu=["bottom","center","top"];class No{constructor(A,c,y,w,R,P){this.text=A,this.image=c,this.scale=y,this.fontStack=w,this.textColor=R,this.verticalAlign=P}}class Bo{constructor(A){this.sections=A}static fromString(A){return new Bo([new No(A,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(A=>A.text.length!==0||A.image&&A.image.name.length!==0)}static factory(A){return A instanceof Bo?A:Bo.fromString(A)}toString(){return this.sections.length===0?"":this.sections.map(A=>A.text).join("")}}class Na{constructor(A){this.values=A.slice()}static parse(A){if(A instanceof Na)return A;if(typeof A=="number")return new Na([A,A,A,A]);if(Array.isArray(A)&&!(A.length<1||A.length>4)){for(const c of A)if(typeof c!="number")return;switch(A.length){case 1:A=[A[0],A[0],A[0],A[0]];break;case 2:A=[A[0],A[1],A[0],A[1]];break;case 3:A=[A[0],A[1],A[2],A[1]]}return new Na(A)}}toString(){return JSON.stringify(this.values)}static interpolate(A,c,y){return new Na(xA(A.values,c.values,y))}}class Ea{constructor(A){this.values=A.slice()}static parse(A){if(A instanceof Ea)return A;if(typeof A=="number")return new Ea([A]);if(Array.isArray(A)){for(const c of A)if(typeof c!="number")return;return new Ea(A)}}toString(){return JSON.stringify(this.values)}static interpolate(A,c,y){return new Ea(xA(A.values,c.values,y))}}class sa{constructor(A){this.values=A.slice()}static parse(A){if(A instanceof sa)return A;if(typeof A=="string"){const y=Mr.parse(A);return y?new sa([y]):void 0}if(!Array.isArray(A))return;const c=[];for(const y of A){if(typeof y!="string")return;const w=Mr.parse(y);if(!w)return;c.push(w)}return new sa(c)}toString(){return JSON.stringify(this.values)}static interpolate(A,c,y,w="rgb"){const R=[];if(A.values.length!=c.values.length)throw new Error(`colorArray: Arrays have mismatched length (${A.values.length} vs. ${c.values.length}), cannot interpolate.`);for(let P=0;P<A.values.length;P++)R.push(Mr.interpolate(A.values[P],c.values[P],y,w));return new sa(R)}}class Rr extends Error{constructor(A){super(A),this.name="RuntimeError"}toJSON(){return this.message}}const oA=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ga{constructor(A){this.values=A.slice()}static parse(A){if(A instanceof Ga)return A;if(Array.isArray(A)&&!(A.length<1)&&A.length%2==0){for(let c=0;c<A.length;c+=2){const y=A[c],w=A[c+1];if(typeof y!="string"||!oA.has(y)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new Ga(A)}}toString(){return JSON.stringify(this.values)}static interpolate(A,c,y){const w=A.values,R=c.values;if(w.length!==R.length)throw new Rr(`Cannot interpolate values of different length. from: ${A.toString()}, to: ${c.toString()}`);const P=[];for(let N=0;N<w.length;N+=2){if(w[N]!==R[N])throw new Rr(`Cannot interpolate values containing mismatched anchors. from[${N}]: ${w[N]}, to[${N}]: ${R[N]}`);P.push(w[N]);const[H,ie]=w[N+1],[ue,ve]=R[N+1];P.push([Ll(H,ue,y),Ll(ie,ve,y)])}return new Ga(P)}}class ns{constructor(A){this.name=A.name,this.available=A.available}toString(){return this.name}static fromString(A){return A?new ns({name:A,available:!1}):null}}class Ca{constructor(A,c,y){this.from=A,this.to=c,this.transition=y}static interpolate(A,c,y){return new Ca(A,c,y)}static parse(A){return A instanceof Ca?A:Array.isArray(A)&&A.length===3&&typeof A[0]=="string"&&typeof A[1]=="string"&&typeof A[2]=="number"?new Ca(A[0],A[1],A[2]):typeof A=="object"&&typeof A.from=="string"&&typeof A.to=="string"&&typeof A.transition=="number"?new Ca(A.from,A.to,A.transition):typeof A=="string"?new Ca(A,A,1):void 0}}function Pr(h,A,c,y){return typeof h=="number"&&h>=0&&h<=255&&typeof A=="number"&&A>=0&&A<=255&&typeof c=="number"&&c>=0&&c<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[h,A,c,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[h,A,c,y]:[h,A,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Cl(h){if(h===null||typeof h=="string"||typeof h=="boolean"||typeof h=="number"||h instanceof Ca||h instanceof Mr||h instanceof rA||h instanceof Bo||h instanceof Na||h instanceof Ea||h instanceof sa||h instanceof Ga||h instanceof ns)return!0;if(Array.isArray(h)){for(const A of h)if(!Cl(A))return!1;return!0}if(typeof h=="object"){for(const A in h)if(!Cl(h[A]))return!1;return!0}return!1}function Xi(h){if(h===null)return ko;if(typeof h=="string")return Ar;if(typeof h=="boolean")return zi;if(typeof h=="number")return Zn;if(h instanceof Mr)return Cr;if(h instanceof Ca)return ja;if(h instanceof rA)return yl;if(h instanceof Bo)return Pa;if(h instanceof Na)return So;if(h instanceof Ea)return Tl;if(h instanceof sa)return ts;if(h instanceof Ga)return QA;if(h instanceof ns)return co;if(Array.isArray(h)){const A=h.length;let c;for(const y of h){const w=Xi(y);if(c){if(c===w)continue;c=ji;break}c=w}return Ka(c||ji,A)}return kr}function wi(h){const A=typeof h;return h===null?"":A==="string"||A==="number"||A==="boolean"?String(h):h instanceof Mr||h instanceof Ca||h instanceof Bo||h instanceof Na||h instanceof Ea||h instanceof sa||h instanceof Ga||h instanceof ns?h.toString():JSON.stringify(h)}class qr{constructor(A,c){this.type=A,this.value=c}static parse(A,c){if(A.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${A.length-1} instead.`);if(!Cl(A[1]))return c.error("invalid value");const y=A[1];let w=Xi(y);const R=c.expectedType;return w.kind!=="array"||w.N!==0||!R||R.kind!=="array"||typeof R.N=="number"&&R.N!==0||(w=R),new qr(w,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const ee={string:Ar,number:Zn,boolean:zi,object:kr};class Oe{constructor(A,c){this.type=A,this.args=c}static parse(A,c){if(A.length<2)return c.error("Expected at least one argument.");let y,w=1;const R=A[0];if(R==="array"){let N,H;if(A.length>2){const ie=A[1];if(typeof ie!="string"||!(ie in ee)||ie==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);N=ee[ie],w++}else N=ji;if(A.length>3){if(A[2]!==null&&(typeof A[2]!="number"||A[2]<0||A[2]!==Math.floor(A[2])))return c.error('The length argument to "array" must be a positive integer literal',2);H=A[2],w++}y=Ka(N,H)}else{if(!ee[R])throw new Error(`Types doesn't contain name = ${R}`);y=ee[R]}const P=[];for(;w<A.length;w++){const N=c.parse(A[w],w,ji);if(!N)return null;P.push(N)}return new Oe(y,P)}evaluate(A){for(let c=0;c<this.args.length;c++){const y=this.args[c].evaluate(A);if(!cs(this.type,Xi(y)))return y;if(c===this.args.length-1)throw new Rr(`Expected value to be of type ${$i(this.type)}, but found ${$i(Xi(y))} instead.`)}throw new Error}eachChild(A){this.args.forEach(A)}outputDefined(){return this.args.every(A=>A.outputDefined())}}const at={"to-boolean":zi,"to-color":Cr,"to-number":Zn,"to-string":Ar};class Gt{constructor(A,c){this.type=A,this.args=c}static parse(A,c){if(A.length<2)return c.error("Expected at least one argument.");const y=A[0];if(!at[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&A.length!==2)return c.error("Expected one argument.");const w=at[y],R=[];for(let P=1;P<A.length;P++){const N=c.parse(A[P],P,ji);if(!N)return null;R.push(N)}return new Gt(w,R)}evaluate(A){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(A);case"color":{let c,y;for(const w of this.args){if(c=w.evaluate(A),y=null,c instanceof Mr)return c;if(typeof c=="string"){const R=A.parseColor(c);if(R)return R}else if(Array.isArray(c)&&(y=c.length<3||c.length>4?`Invalid rgba value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Pr(c[0],c[1],c[2],c[3]),!y))return new Mr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Rr(y||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const y of this.args){c=y.evaluate(A);const w=Na.parse(c);if(w)return w}throw new Rr(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"numberArray":{let c;for(const y of this.args){c=y.evaluate(A);const w=Ea.parse(c);if(w)return w}throw new Rr(`Could not parse numberArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"colorArray":{let c;for(const y of this.args){c=y.evaluate(A);const w=sa.parse(c);if(w)return w}throw new Rr(`Could not parse colorArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const y of this.args){c=y.evaluate(A);const w=Ga.parse(c);if(w)return w}throw new Rr(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const y of this.args){if(c=y.evaluate(A),c===null)return 0;const w=Number(c);if(!isNaN(w))return w}throw new Rr(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Bo.fromString(wi(this.args[0].evaluate(A)));case"resolvedImage":return ns.fromString(wi(this.args[0].evaluate(A)));case"projectionDefinition":return this.args[0].evaluate(A);default:return wi(this.args[0].evaluate(A))}}eachChild(A){this.args.forEach(A)}outputDefined(){return this.args.every(A=>A.outputDefined())}}const Si=["Unknown","Point","LineString","Polygon"];class Xn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Si[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(A){let c=this._parseColorCache.get(A);return c||(c=Mr.parse(A),this._parseColorCache.set(A,c)),c}}class Zi{constructor(A,c,y=[],w,R=new ya,P=[]){this.registry=A,this.path=y,this.key=y.map(N=>`[${N}]`).join(""),this.scope=R,this.errors=P,this.expectedType=w,this._isConstant=c}parse(A,c,y,w,R={}){return c?this.concat(c,y,w)._parse(A,R):this._parse(A,R)}_parse(A,c){function y(w,R,P){return P==="assert"?new Oe(R,[w]):P==="coerce"?new Gt(R,[w]):w}if(A!==null&&typeof A!="string"&&typeof A!="boolean"&&typeof A!="number"||(A=["literal",A]),Array.isArray(A)){if(A.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=A[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const R=this.registry[w];if(R){let P=R.parse(A,this);if(!P)return null;if(this.expectedType){const N=this.expectedType,H=P.type;if(N.kind!=="string"&&N.kind!=="number"&&N.kind!=="boolean"&&N.kind!=="object"&&N.kind!=="array"||H.kind!=="value"){if(N.kind==="projectionDefinition"&&["string","array"].includes(H.kind)||["color","formatted","resolvedImage"].includes(N.kind)&&["value","string"].includes(H.kind)||["padding","numberArray"].includes(N.kind)&&["value","number","array"].includes(H.kind)||N.kind==="colorArray"&&["value","string","array"].includes(H.kind)||N.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(H.kind))P=y(P,N,c.typeAnnotation||"coerce");else if(this.checkSubtype(N,H))return null}else P=y(P,N,c.typeAnnotation||"assert")}if(!(P instanceof qr)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const N=new Xn;try{P=new qr(P.type,P.evaluate(N))}catch(H){return this.error(H.message),null}}return P}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(A===void 0?"'undefined' value invalid. Use null instead.":typeof A=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof A} instead.`)}concat(A,c,y){const w=typeof A=="number"?this.path.concat(A):this.path,R=y?this.scope.concat(y):this.scope;return new Zi(this.registry,this._isConstant,w,c||null,R,this.errors)}error(A,...c){const y=`${this.key}${c.map(w=>`[${w}]`).join("")}`;this.errors.push(new Vi(y,A))}checkSubtype(A,c){const y=cs(A,c);return y&&this.error(y),y}}class ar{constructor(A,c){this.type=c.type,this.bindings=[].concat(A),this.result=c}evaluate(A){return this.result.evaluate(A)}eachChild(A){for(const c of this.bindings)A(c[1]);A(this.result)}static parse(A,c){if(A.length<4)return c.error(`Expected at least 3 arguments, but found ${A.length-1} instead.`);const y=[];for(let R=1;R<A.length-1;R+=2){const P=A[R];if(typeof P!="string")return c.error(`Expected string, but found ${typeof P} instead.`,R);if(/[^a-zA-Z0-9_]/.test(P))return c.error("Variable names must contain only alphanumeric characters or '_'.",R);const N=c.parse(A[R+1],R+1);if(!N)return null;y.push([P,N])}const w=c.parse(A[A.length-1],A.length-1,c.expectedType,y);return w?new ar(y,w):null}outputDefined(){return this.result.outputDefined()}}class Ri{constructor(A,c){this.type=c.type,this.name=A,this.boundExpression=c}static parse(A,c){if(A.length!==2||typeof A[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const y=A[1];return c.scope.has(y)?new Ri(y,c.scope.get(y)):c.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(A){return this.boundExpression.evaluate(A)}eachChild(){}outputDefined(){return!1}}class Ji{constructor(A,c,y){this.type=A,this.index=c,this.input=y}static parse(A,c){if(A.length!==3)return c.error(`Expected 2 arguments, but found ${A.length-1} instead.`);const y=c.parse(A[1],1,Zn),w=c.parse(A[2],2,Ka(c.expectedType||ji));return y&&w?new Ji(w.type.itemType,y,w):null}evaluate(A){const c=this.index.evaluate(A),y=this.input.evaluate(A);if(c<0)throw new Rr(`Array index out of bounds: ${c} < 0.`);if(c>=y.length)throw new Rr(`Array index out of bounds: ${c} > ${y.length-1}.`);if(c!==Math.floor(c))throw new Rr(`Array index must be an integer, but found ${c} instead.`);return y[c]}eachChild(A){A(this.index),A(this.input)}outputDefined(){return!1}}class no{constructor(A,c){this.type=zi,this.needle=A,this.haystack=c}static parse(A,c){if(A.length!==3)return c.error(`Expected 2 arguments, but found ${A.length-1} instead.`);const y=c.parse(A[1],1,ji),w=c.parse(A[2],2,ji);return y&&w?Sa(y.type,[zi,Ar,Zn,ko,ji])?new no(y,w):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$i(y.type)} instead`):null}evaluate(A){const c=this.needle.evaluate(A),y=this.haystack.evaluate(A);if(!y)return!1;if(!Zo(c,["boolean","string","number","null"]))throw new Rr(`Expected first argument to be of type boolean, string, number or null, but found ${$i(Xi(c))} instead.`);if(!Zo(y,["string","array"]))throw new Rr(`Expected second argument to be of type array or string, but found ${$i(Xi(y))} instead.`);return y.indexOf(c)>=0}eachChild(A){A(this.needle),A(this.haystack)}outputDefined(){return!0}}class ho{constructor(A,c,y){this.type=Zn,this.needle=A,this.haystack=c,this.fromIndex=y}static parse(A,c){if(A.length<=2||A.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${A.length-1} instead.`);const y=c.parse(A[1],1,ji),w=c.parse(A[2],2,ji);if(!y||!w)return null;if(!Sa(y.type,[zi,Ar,Zn,ko,ji]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$i(y.type)} instead`);if(A.length===4){const R=c.parse(A[3],3,Zn);return R?new ho(y,w,R):null}return new ho(y,w)}evaluate(A){const c=this.needle.evaluate(A),y=this.haystack.evaluate(A);if(!Zo(c,["boolean","string","number","null"]))throw new Rr(`Expected first argument to be of type boolean, string, number or null, but found ${$i(Xi(c))} instead.`);let w;if(this.fromIndex&&(w=this.fromIndex.evaluate(A)),Zo(y,["string"])){const R=y.indexOf(c,w);return R===-1?-1:[...y.slice(0,R)].length}if(Zo(y,["array"]))return y.indexOf(c,w);throw new Rr(`Expected second argument to be of type array or string, but found ${$i(Xi(y))} instead.`)}eachChild(A){A(this.needle),A(this.haystack),this.fromIndex&&A(this.fromIndex)}outputDefined(){return!1}}class cr{constructor(A,c,y,w,R,P){this.inputType=A,this.type=c,this.input=y,this.cases=w,this.outputs=R,this.otherwise=P}static parse(A,c){if(A.length<5)return c.error(`Expected at least 4 arguments, but found only ${A.length-1}.`);if(A.length%2!=1)return c.error("Expected an even number of arguments.");let y,w;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);const R={},P=[];for(let ie=2;ie<A.length-1;ie+=2){let ue=A[ie];const ve=A[ie+1];Array.isArray(ue)||(ue=[ue]);const Pe=c.concat(ie);if(ue.length===0)return Pe.error("Expected at least one branch label.");for(const qe of ue){if(typeof qe!="number"&&typeof qe!="string")return Pe.error("Branch labels must be numbers or strings.");if(typeof qe=="number"&&Math.abs(qe)>Number.MAX_SAFE_INTEGER)return Pe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof qe=="number"&&Math.floor(qe)!==qe)return Pe.error("Numeric branch labels must be integer values.");if(y){if(Pe.checkSubtype(y,Xi(qe)))return null}else y=Xi(qe);if(R[String(qe)]!==void 0)return Pe.error("Branch labels must be unique.");R[String(qe)]=P.length}const Qe=c.parse(ve,ie,w);if(!Qe)return null;w=w||Qe.type,P.push(Qe)}const N=c.parse(A[1],1,ji);if(!N)return null;const H=c.parse(A[A.length-1],A.length-1,w);return H?N.type.kind!=="value"&&c.concat(1).checkSubtype(y,N.type)?null:new cr(y,w,N,R,P,H):null}evaluate(A){const c=this.input.evaluate(A);return(Xi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(A)}eachChild(A){A(this.input),this.outputs.forEach(A),A(this.otherwise)}outputDefined(){return this.outputs.every(A=>A.outputDefined())&&this.otherwise.outputDefined()}}class gr{constructor(A,c,y){this.type=A,this.branches=c,this.otherwise=y}static parse(A,c){if(A.length<4)return c.error(`Expected at least 3 arguments, but found only ${A.length-1}.`);if(A.length%2!=0)return c.error("Expected an odd number of arguments.");let y;c.expectedType&&c.expectedType.kind!=="value"&&(y=c.expectedType);const w=[];for(let P=1;P<A.length-1;P+=2){const N=c.parse(A[P],P,zi);if(!N)return null;const H=c.parse(A[P+1],P+1,y);if(!H)return null;w.push([N,H]),y=y||H.type}const R=c.parse(A[A.length-1],A.length-1,y);if(!R)return null;if(!y)throw new Error("Can't infer output type");return new gr(y,w,R)}evaluate(A){for(const[c,y]of this.branches)if(c.evaluate(A))return y.evaluate(A);return this.otherwise.evaluate(A)}eachChild(A){for(const[c,y]of this.branches)A(c),A(y);A(this.otherwise)}outputDefined(){return this.branches.every(([A,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class fo{constructor(A,c,y,w){this.type=A,this.input=c,this.beginIndex=y,this.endIndex=w}static parse(A,c){if(A.length<=2||A.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${A.length-1} instead.`);const y=c.parse(A[1],1,ji),w=c.parse(A[2],2,Zn);if(!y||!w)return null;if(!Sa(y.type,[Ka(ji),Ar,ji]))return c.error(`Expected first argument to be of type array or string, but found ${$i(y.type)} instead`);if(A.length===4){const R=c.parse(A[3],3,Zn);return R?new fo(y.type,y,w,R):null}return new fo(y.type,y,w)}evaluate(A){const c=this.input.evaluate(A),y=this.beginIndex.evaluate(A);let w;if(this.endIndex&&(w=this.endIndex.evaluate(A)),Zo(c,["string"]))return[...c].slice(y,w).join("");if(Zo(c,["array"]))return c.slice(y,w);throw new Rr(`Expected first argument to be of type array or string, but found ${$i(Xi(c))} instead.`)}eachChild(A){A(this.input),A(this.beginIndex),this.endIndex&&A(this.endIndex)}outputDefined(){return!1}}function Go(h,A){const c=h.length-1;let y,w,R=0,P=c,N=0;for(;R<=P;)if(N=Math.floor((R+P)/2),y=h[N],w=h[N+1],y<=A){if(N===c||A<w)return N;R=N+1}else{if(!(y>A))throw new Rr("Input is not a number.");P=N-1}return 0}class Nr{constructor(A,c,y){this.type=A,this.input=c,this.labels=[],this.outputs=[];for(const[w,R]of y)this.labels.push(w),this.outputs.push(R)}static parse(A,c){if(A.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${A.length-1}.`);if((A.length-1)%2!=0)return c.error("Expected an even number of arguments.");const y=c.parse(A[1],1,Zn);if(!y)return null;const w=[];let R=null;c.expectedType&&c.expectedType.kind!=="value"&&(R=c.expectedType);for(let P=1;P<A.length;P+=2){const N=P===1?-1/0:A[P],H=A[P+1],ie=P,ue=P+1;if(typeof N!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ie);if(w.length&&w[w.length-1][0]>=N)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ie);const ve=c.parse(H,ue,R);if(!ve)return null;R=R||ve.type,w.push([N,ve])}return new Nr(R,y,w)}evaluate(A){const c=this.labels,y=this.outputs;if(c.length===1)return y[0].evaluate(A);const w=this.input.evaluate(A);if(w<=c[0])return y[0].evaluate(A);const R=c.length;return w>=c[R-1]?y[R-1].evaluate(A):y[Go(c,w)].evaluate(A)}eachChild(A){A(this.input);for(const c of this.outputs)A(c)}outputDefined(){return this.outputs.every(A=>A.outputDefined())}}function Vs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Fl,qA,gs=function(){if(qA)return Fl;function h(A,c,y,w){this.cx=3*A,this.bx=3*(y-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(w-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=c,this.p2x=y,this.p2y=w}return qA=1,Fl=h,h.prototype={sampleCurveX:function(A){return((this.ax*A+this.bx)*A+this.cx)*A},sampleCurveY:function(A){return((this.ay*A+this.by)*A+this.cy)*A},sampleCurveDerivativeX:function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},solveCurveX:function(A,c){if(c===void 0&&(c=1e-6),A<0)return 0;if(A>1)return 1;for(var y=A,w=0;w<8;w++){var R=this.sampleCurveX(y)-A;if(Math.abs(R)<c)return y;var P=this.sampleCurveDerivativeX(y);if(Math.abs(P)<1e-6)break;y-=R/P}var N=0,H=1;for(y=A,w=0;w<20&&(R=this.sampleCurveX(y),!(Math.abs(R-A)<c));w++)A>R?N=y:H=y,y=.5*(H-N)+N;return y},solve:function(A,c){return this.sampleCurveY(this.solveCurveX(A,c))}},Fl}(),yd=Vs(gs);class Ua{constructor(A,c,y,w,R){this.type=A,this.operator=c,this.interpolation=y,this.input=w,this.labels=[],this.outputs=[];for(const[P,N]of R)this.labels.push(P),this.outputs.push(N)}static interpolationFactor(A,c,y,w){let R=0;if(A.name==="exponential")R=vd(c,A.base,y,w);else if(A.name==="linear")R=vd(c,1,y,w);else if(A.name==="cubic-bezier"){const P=A.controlPoints;R=new yd(P[0],P[1],P[2],P[3]).solve(vd(c,1,y,w))}return R}static parse(A,c){let[y,w,R,...P]=A;if(!Array.isArray(w)||w.length===0)return c.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const ie=w[1];if(typeof ie!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:ie}}else{if(w[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const ie=w.slice(1);if(ie.length!==4||ie.some(ue=>typeof ue!="number"||ue<0||ue>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:ie}}}if(A.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${A.length-1}.`);if((A.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(R=c.parse(R,2,Zn),!R)return null;const N=[];let H=null;y!=="interpolate-hcl"&&y!=="interpolate-lab"||c.expectedType==ts?c.expectedType&&c.expectedType.kind!=="value"&&(H=c.expectedType):H=Cr;for(let ie=0;ie<P.length;ie+=2){const ue=P[ie],ve=P[ie+1],Pe=ie+3,Qe=ie+4;if(typeof ue!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Pe);if(N.length&&N[N.length-1][0]>=ue)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Pe);const qe=c.parse(ve,Qe,H);if(!qe)return null;H=H||qe.type,N.push([ue,qe])}return $e(H,Zn)||$e(H,ja)||$e(H,Cr)||$e(H,So)||$e(H,Tl)||$e(H,ts)||$e(H,QA)||$e(H,Ka(Zn))?new Ua(H,y,w,R,N):c.error(`Type ${$i(H)} is not interpolatable.`)}evaluate(A){const c=this.labels,y=this.outputs;if(c.length===1)return y[0].evaluate(A);const w=this.input.evaluate(A);if(w<=c[0])return y[0].evaluate(A);const R=c.length;if(w>=c[R-1])return y[R-1].evaluate(A);const P=Go(c,w),N=Ua.interpolationFactor(this.interpolation,w,c[P],c[P+1]),H=y[P].evaluate(A),ie=y[P+1].evaluate(A);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Ll(H,ie,N);case"color":return Mr.interpolate(H,ie,N);case"padding":return Na.interpolate(H,ie,N);case"colorArray":return sa.interpolate(H,ie,N);case"numberArray":return Ea.interpolate(H,ie,N);case"variableAnchorOffsetCollection":return Ga.interpolate(H,ie,N);case"array":return xA(H,ie,N);case"projectionDefinition":return Ca.interpolate(H,ie,N)}case"interpolate-hcl":switch(this.type.kind){case"color":return Mr.interpolate(H,ie,N,"hcl");case"colorArray":return sa.interpolate(H,ie,N,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Mr.interpolate(H,ie,N,"lab");case"colorArray":return sa.interpolate(H,ie,N,"lab")}}}eachChild(A){A(this.input);for(const c of this.outputs)A(c)}outputDefined(){return this.outputs.every(A=>A.outputDefined())}}function vd(h,A,c,y){const w=y-c,R=h-c;return w===0?0:A===1?R/w:(Math.pow(A,R)-1)/(Math.pow(A,w)-1)}const Ku={color:Mr.interpolate,number:Ll,padding:Na.interpolate,numberArray:Ea.interpolate,colorArray:sa.interpolate,variableAnchorOffsetCollection:Ga.interpolate,array:xA};class HA{constructor(A,c){this.type=A,this.args=c}static parse(A,c){if(A.length<2)return c.error("Expected at least one argument.");let y=null;const w=c.expectedType;w&&w.kind!=="value"&&(y=w);const R=[];for(const N of A.slice(1)){const H=c.parse(N,1+R.length,y,void 0,{typeAnnotation:"omit"});if(!H)return null;y=y||H.type,R.push(H)}if(!y)throw new Error("No output type");const P=w&&R.some(N=>cs(w,N.type));return new HA(P?ji:y,R)}evaluate(A){let c,y=null,w=0;for(const R of this.args)if(w++,y=R.evaluate(A),y&&y instanceof ns&&!y.available&&(c||(c=y.name),y=null,w===this.args.length&&(y=c)),y!==null)break;return y}eachChild(A){this.args.forEach(A)}outputDefined(){return this.args.every(A=>A.outputDefined())}}function yh(h,A){return h==="=="||h==="!="?A.kind==="boolean"||A.kind==="string"||A.kind==="number"||A.kind==="null"||A.kind==="value":A.kind==="string"||A.kind==="number"||A.kind==="value"}function Nh(h,A,c,y){return y.compare(A,c)===0}function mo(h,A,c){const y=h!=="=="&&h!=="!=";return class eF{constructor(R,P,N){this.type=zi,this.lhs=R,this.rhs=P,this.collator=N,this.hasUntypedArgument=R.type.kind==="value"||P.type.kind==="value"}static parse(R,P){if(R.length!==3&&R.length!==4)return P.error("Expected two or three arguments.");const N=R[0];let H=P.parse(R[1],1,ji);if(!H)return null;if(!yh(N,H.type))return P.concat(1).error(`"${N}" comparisons are not supported for type '${$i(H.type)}'.`);let ie=P.parse(R[2],2,ji);if(!ie)return null;if(!yh(N,ie.type))return P.concat(2).error(`"${N}" comparisons are not supported for type '${$i(ie.type)}'.`);if(H.type.kind!==ie.type.kind&&H.type.kind!=="value"&&ie.type.kind!=="value")return P.error(`Cannot compare types '${$i(H.type)}' and '${$i(ie.type)}'.`);y&&(H.type.kind==="value"&&ie.type.kind!=="value"?H=new Oe(ie.type,[H]):H.type.kind!=="value"&&ie.type.kind==="value"&&(ie=new Oe(H.type,[ie])));let ue=null;if(R.length===4){if(H.type.kind!=="string"&&ie.type.kind!=="string"&&H.type.kind!=="value"&&ie.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(ue=P.parse(R[3],3,yl),!ue)return null}return new eF(H,ie,ue)}evaluate(R){const P=this.lhs.evaluate(R),N=this.rhs.evaluate(R);if(y&&this.hasUntypedArgument){const H=Xi(P),ie=Xi(N);if(H.kind!==ie.kind||H.kind!=="string"&&H.kind!=="number")throw new Rr(`Expected arguments for "${h}" to be (string, string) or (number, number), but found (${H.kind}, ${ie.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const H=Xi(P),ie=Xi(N);if(H.kind!=="string"||ie.kind!=="string")return A(R,P,N)}return this.collator?c(R,P,N,this.collator.evaluate(R)):A(R,P,N)}eachChild(R){R(this.lhs),R(this.rhs),this.collator&&R(this.collator)}outputDefined(){return!0}}}const oc=mo("==",function(h,A,c){return A===c},Nh),Cd=mo("!=",function(h,A,c){return A!==c},function(h,A,c,y){return!Nh(0,A,c,y)}),fm=mo("<",function(h,A,c){return A<c},function(h,A,c,y){return y.compare(A,c)<0}),vh=mo(">",function(h,A,c){return A>c},function(h,A,c,y){return y.compare(A,c)>0}),_d=mo("<=",function(h,A,c){return A<=c},function(h,A,c,y){return y.compare(A,c)<=0}),o0=mo(">=",function(h,A,c){return A>=c},function(h,A,c,y){return y.compare(A,c)>=0});class Df{constructor(A,c,y){this.type=yl,this.locale=y,this.caseSensitive=A,this.diacriticSensitive=c}static parse(A,c){if(A.length!==2)return c.error("Expected one argument.");const y=A[1];if(typeof y!="object"||Array.isArray(y))return c.error("Collator options argument must be an object.");const w=c.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,zi);if(!w)return null;const R=c.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,zi);if(!R)return null;let P=null;return y.locale&&(P=c.parse(y.locale,1,Ar),!P)?null:new Df(w,R,P)}evaluate(A){return new rA(this.caseSensitive.evaluate(A),this.diacriticSensitive.evaluate(A),this.locale?this.locale.evaluate(A):null)}eachChild(A){A(this.caseSensitive),A(this.diacriticSensitive),this.locale&&A(this.locale)}outputDefined(){return!1}}class Rf{constructor(A,c,y,w,R){this.type=Ar,this.number=A,this.locale=c,this.currency=y,this.minFractionDigits=w,this.maxFractionDigits=R}static parse(A,c){if(A.length!==3)return c.error("Expected two arguments.");const y=c.parse(A[1],1,Zn);if(!y)return null;const w=A[2];if(typeof w!="object"||Array.isArray(w))return c.error("NumberFormat options argument must be an object.");let R=null;if(w.locale&&(R=c.parse(w.locale,1,Ar),!R))return null;let P=null;if(w.currency&&(P=c.parse(w.currency,1,Ar),!P))return null;let N=null;if(w["min-fraction-digits"]&&(N=c.parse(w["min-fraction-digits"],1,Zn),!N))return null;let H=null;return w["max-fraction-digits"]&&(H=c.parse(w["max-fraction-digits"],1,Zn),!H)?null:new Rf(y,R,P,N,H)}evaluate(A){return new Intl.NumberFormat(this.locale?this.locale.evaluate(A):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(A):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(A):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(A):void 0}).format(this.number.evaluate(A))}eachChild(A){A(this.number),this.locale&&A(this.locale),this.currency&&A(this.currency),this.minFractionDigits&&A(this.minFractionDigits),this.maxFractionDigits&&A(this.maxFractionDigits)}outputDefined(){return!1}}class VA{constructor(A){this.type=Pa,this.sections=A}static parse(A,c){if(A.length<2)return c.error("Expected at least one argument.");const y=A[1];if(!Array.isArray(y)&&typeof y=="object")return c.error("First argument must be an image or text section.");const w=[];let R=!1;for(let P=1;P<=A.length-1;++P){const N=A[P];if(R&&typeof N=="object"&&!Array.isArray(N)){R=!1;let H=null;if(N["font-scale"]&&(H=c.parse(N["font-scale"],1,Zn),!H))return null;let ie=null;if(N["text-font"]&&(ie=c.parse(N["text-font"],1,Ka(Ar)),!ie))return null;let ue=null;if(N["text-color"]&&(ue=c.parse(N["text-color"],1,Cr),!ue))return null;let ve=null;if(N["vertical-align"]){if(typeof N["vertical-align"]=="string"&&!hu.includes(N["vertical-align"]))return c.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${N["vertical-align"]}' instead.`);if(ve=c.parse(N["vertical-align"],1,Ar),!ve)return null}const Pe=w[w.length-1];Pe.scale=H,Pe.font=ie,Pe.textColor=ue,Pe.verticalAlign=ve}else{const H=c.parse(A[P],1,ji);if(!H)return null;const ie=H.type.kind;if(ie!=="string"&&ie!=="value"&&ie!=="null"&&ie!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");R=!0,w.push({content:H,scale:null,font:null,textColor:null,verticalAlign:null})}}return new VA(w)}evaluate(A){return new Bo(this.sections.map(c=>{const y=c.content.evaluate(A);return Xi(y)===co?new No("",y,null,null,null,c.verticalAlign?c.verticalAlign.evaluate(A):null):new No(wi(y),null,c.scale?c.scale.evaluate(A):null,c.font?c.font.evaluate(A).join(","):null,c.textColor?c.textColor.evaluate(A):null,c.verticalAlign?c.verticalAlign.evaluate(A):null)}))}eachChild(A){for(const c of this.sections)A(c.content),c.scale&&A(c.scale),c.font&&A(c.font),c.textColor&&A(c.textColor),c.verticalAlign&&A(c.verticalAlign)}outputDefined(){return!1}}class is{constructor(A){this.type=co,this.input=A}static parse(A,c){if(A.length!==2)return c.error("Expected two arguments.");const y=c.parse(A[1],1,Ar);return y?new is(y):c.error("No image name provided.")}evaluate(A){const c=this.input.evaluate(A),y=ns.fromString(c);return y&&A.availableImages&&(y.available=A.availableImages.indexOf(c)>-1),y}eachChild(A){A(this.input)}outputDefined(){return!1}}class bd{constructor(A){this.type=Zn,this.input=A}static parse(A,c){if(A.length!==2)return c.error(`Expected 1 argument, but found ${A.length-1} instead.`);const y=c.parse(A[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${$i(y.type)} instead.`):new bd(y):null}evaluate(A){const c=this.input.evaluate(A);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Rr(`Expected value to be of type string or array, but found ${$i(Xi(c))} instead.`)}eachChild(A){A(this.input)}outputDefined(){return!1}}const zl=8192;function xd(h,A){const c=(180+h[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h[1]*Math.PI/360)))/360,w=Math.pow(2,A.z);return[Math.round(c*w*zl),Math.round(y*w*zl)]}function Gh(h,A){const c=Math.pow(2,A.z);return[(w=(h[0]/zl+A.x)/c,360*w-180),(y=(h[1]/zl+A.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*y)*Math.PI/180))-90)];var y,w}function Hc(h,A){h[0]=Math.min(h[0],A[0]),h[1]=Math.min(h[1],A[1]),h[2]=Math.max(h[2],A[0]),h[3]=Math.max(h[3],A[1])}function Wh(h,A){return!(h[0]<=A[0]||h[2]>=A[2]||h[1]<=A[1]||h[3]>=A[3])}function Pf(h,A,c){const y=h[0]-A[0],w=h[1]-A[1],R=h[0]-c[0],P=h[1]-c[1];return y*P-R*w==0&&y*R<=0&&w*P<=0}function Ch(h,A,c,y){return(w=[y[0]-c[0],y[1]-c[1]])[0]*(R=[A[0]-h[0],A[1]-h[1]])[1]-w[1]*R[0]!=0&&!(!ac(h,A,c,y)||!ac(c,y,h,A));var w,R}function _h(h,A,c){for(const y of c)for(let w=0;w<y.length-1;++w)if(Ch(h,A,y[w],y[w+1]))return!0;return!1}function Qh(h,A,c=!1){let y=!1;for(const N of A)for(let H=0;H<N.length-1;H++){if(Pf(h,N[H],N[H+1]))return c;(R=N[H])[1]>(w=h)[1]!=(P=N[H+1])[1]>w[1]&&w[0]<(P[0]-R[0])*(w[1]-R[1])/(P[1]-R[1])+R[0]&&(y=!y)}var w,R,P;return y}function Kf(h,A){for(const c of A)if(Qh(h,c))return!0;return!1}function aA(h,A){for(const c of h)if(!Qh(c,A))return!1;for(let c=0;c<h.length-1;++c)if(_h(h[c],h[c+1],A))return!1;return!0}function Uf(h,A){for(const c of A)if(aA(h,c))return!0;return!1}function ac(h,A,c,y){const w=y[0]-c[0],R=y[1]-c[1],P=(h[0]-c[0])*R-w*(h[1]-c[1]),N=(A[0]-c[0])*R-w*(A[1]-c[1]);return P>0&&N<0||P<0&&N>0}function sA(h,A,c){const y=[];for(let w=0;w<h.length;w++){const R=[];for(let P=0;P<h[w].length;P++){const N=xd(h[w][P],c);Hc(A,N),R.push(N)}y.push(R)}return y}function wc(h,A,c){const y=[];for(let w=0;w<h.length;w++){const R=sA(h[w],A,c);y.push(R)}return y}function Md(h,A,c,y){if(h[0]<c[0]||h[0]>c[2]){const w=.5*y;let R=h[0]-c[0]>w?-y:c[0]-h[0]>w?y:0;R===0&&(R=h[0]-c[2]>w?-y:c[2]-h[0]>w?y:0),h[0]+=R}Hc(A,h)}function wd(h,A,c,y){const w=Math.pow(2,y.z)*zl,R=[y.x*zl,y.y*zl],P=[];for(const N of h)for(const H of N){const ie=[H.x+R[0],H.y+R[1]];Md(ie,A,c,w),P.push(ie)}return P}function Uu(h,A,c,y){const w=Math.pow(2,y.z)*zl,R=[y.x*zl,y.y*zl],P=[];for(const H of h){const ie=[];for(const ue of H){const ve=[ue.x+R[0],ue.y+R[1]];Hc(A,ve),ie.push(ve)}P.push(ie)}if(A[2]-A[0]<=w/2){(N=A)[0]=N[1]=1/0,N[2]=N[3]=-1/0;for(const H of P)for(const ie of H)Md(ie,A,c,w)}var N;return P}class $A{constructor(A,c){this.type=zi,this.geojson=A,this.geometries=c}static parse(A,c){if(A.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${A.length-1} instead.`);if(Cl(A[1])){const y=A[1];if(y.type==="FeatureCollection"){const w=[];for(const R of y.features){const{type:P,coordinates:N}=R.geometry;P==="Polygon"&&w.push(N),P==="MultiPolygon"&&w.push(...N)}if(w.length)return new $A(y,{type:"MultiPolygon",coordinates:w})}else if(y.type==="Feature"){const w=y.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new $A(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new $A(y,y)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(A){if(A.geometry()!=null&&A.canonicalID()!=null){if(A.geometryType()==="Point")return function(c,y){const w=[1/0,1/0,-1/0,-1/0],R=[1/0,1/0,-1/0,-1/0],P=c.canonicalID();if(y.type==="Polygon"){const N=sA(y.coordinates,R,P),H=wd(c.geometry(),w,R,P);if(!Wh(w,R))return!1;for(const ie of H)if(!Qh(ie,N))return!1}if(y.type==="MultiPolygon"){const N=wc(y.coordinates,R,P),H=wd(c.geometry(),w,R,P);if(!Wh(w,R))return!1;for(const ie of H)if(!Kf(ie,N))return!1}return!0}(A,this.geometries);if(A.geometryType()==="LineString")return function(c,y){const w=[1/0,1/0,-1/0,-1/0],R=[1/0,1/0,-1/0,-1/0],P=c.canonicalID();if(y.type==="Polygon"){const N=sA(y.coordinates,R,P),H=Uu(c.geometry(),w,R,P);if(!Wh(w,R))return!1;for(const ie of H)if(!aA(ie,N))return!1}if(y.type==="MultiPolygon"){const N=wc(y.coordinates,R,P),H=Uu(c.geometry(),w,R,P);if(!Wh(w,R))return!1;for(const ie of H)if(!Uf(ie,N))return!1}return!0}(A,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Yh=class{constructor(h=[],A=(c,y)=>c<y?-1:c>y?1:0){if(this.data=h,this.length=this.data.length,this.compare=A,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(h){this.data.push(h),this._up(this.length++)}pop(){if(this.length===0)return;const h=this.data[0],A=this.data.pop();return--this.length>0&&(this.data[0]=A,this._down(0)),h}peek(){return this.data[0]}_up(h){const{data:A,compare:c}=this,y=A[h];for(;h>0;){const w=h-1>>1,R=A[w];if(c(y,R)>=0)break;A[h]=R,h=w}A[h]=y}_down(h){const{data:A,compare:c}=this,y=this.length>>1,w=A[h];for(;h<y;){let R=1+(h<<1);const P=R+1;if(P<this.length&&c(A[P],A[R])<0&&(R=P),c(A[R],w)>=0)break;A[h]=A[R],h=R}A[h]=w}};function Sc(h,A,c=0,y=h.length-1,w=pm){for(;y>c;){if(y-c>600){const H=y-c+1,ie=A-c+1,ue=Math.log(H),ve=.5*Math.exp(2*ue/3),Pe=.5*Math.sqrt(ue*ve*(H-ve)/H)*(ie-H/2<0?-1:1);Sc(h,A,Math.max(c,Math.floor(A-ie*ve/H+Pe)),Math.min(y,Math.floor(A+(H-ie)*ve/H+Pe)),w)}const R=h[A];let P=c,N=y;for(qh(h,c,A),w(h[y],R)>0&&qh(h,c,y);P<N;){for(qh(h,P,N),P++,N--;w(h[P],R)<0;)P++;for(;w(h[N],R)>0;)N--}w(h[c],R)===0?qh(h,c,N):(N++,qh(h,N,y)),N<=A&&(c=N+1),A<=N&&(y=N-1)}}function qh(h,A,c){const y=h[A];h[A]=h[c],h[c]=y}function pm(h,A){return h<A?-1:h>A?1:0}function Vc(h,A){if(h.length<=1)return[h];const c=[];let y,w;for(const R of h){const P=du(R);P!==0&&(R.area=Math.abs(P),w===void 0&&(w=P<0),w===P<0?(y&&c.push(y),y=[R]):y.push(R))}if(y&&c.push(y),A>1)for(let R=0;R<c.length;R++)c[R].length<=A||(Sc(c[R],A,1,c[R].length-1,Zd),c[R]=c[R].slice(0,A));return c}function Zd(h,A){return A.area-h.area}function du(h){let A=0;for(let c,y,w=0,R=h.length,P=R-1;w<R;P=w++)c=h[w],y=h[P],A+=(y.x-c.x)*(c.y+y.y);return A}const ZA=1/298.257223563,wp=ZA*(2-ZA),Lf=Math.PI/180;class MA{constructor(A){const c=6378.137*Lf*1e3,y=Math.cos(A*Lf),w=1/(1-wp*(1-y*y)),R=Math.sqrt(w);this.kx=c*R*y,this.ky=c*R*w*(1-wp)}distance(A,c){const y=this.wrap(A[0]-c[0])*this.kx,w=(A[1]-c[1])*this.ky;return Math.sqrt(y*y+w*w)}pointOnLine(A,c){let y,w,R,P,N=1/0;for(let H=0;H<A.length-1;H++){let ie=A[H][0],ue=A[H][1],ve=this.wrap(A[H+1][0]-ie)*this.kx,Pe=(A[H+1][1]-ue)*this.ky,Qe=0;ve===0&&Pe===0||(Qe=(this.wrap(c[0]-ie)*this.kx*ve+(c[1]-ue)*this.ky*Pe)/(ve*ve+Pe*Pe),Qe>1?(ie=A[H+1][0],ue=A[H+1][1]):Qe>0&&(ie+=ve/this.kx*Qe,ue+=Pe/this.ky*Qe)),ve=this.wrap(c[0]-ie)*this.kx,Pe=(c[1]-ue)*this.ky;const qe=ve*ve+Pe*Pe;qe<N&&(N=qe,y=ie,w=ue,R=H,P=Qe)}return{point:[y,w],index:R,t:Math.max(0,Math.min(1,P))}}wrap(A){for(;A<-180;)A+=360;for(;A>180;)A-=360;return A}}function sc(h,A){return A[0]-h[0]}function wA(h){return h[1]-h[0]+1}function Lu(h,A){return h[1]>=h[0]&&h[1]<A}function Oo(h,A){if(h[0]>h[1])return[null,null];const c=wA(h);if(A){if(c===2)return[h,null];const w=Math.floor(c/2);return[[h[0],h[0]+w],[h[0]+w,h[1]]]}if(c===1)return[h,null];const y=Math.floor(c/2)-1;return[[h[0],h[0]+y],[h[0]+y+1,h[1]]]}function bh(h,A){if(!Lu(A,h.length))return[1/0,1/0,-1/0,-1/0];const c=[1/0,1/0,-1/0,-1/0];for(let y=A[0];y<=A[1];++y)Hc(c,h[y]);return c}function Sd(h){const A=[1/0,1/0,-1/0,-1/0];for(const c of h)for(const y of c)Hc(A,y);return A}function Sp(h){return h[0]!==-1/0&&h[1]!==-1/0&&h[2]!==1/0&&h[3]!==1/0}function Ec(h,A,c){if(!Sp(h)||!Sp(A))return NaN;let y=0,w=0;return h[2]<A[0]&&(y=A[0]-h[2]),h[0]>A[2]&&(y=h[0]-A[2]),h[1]>A[3]&&(w=h[1]-A[3]),h[3]<A[1]&&(w=A[1]-h[3]),c.distance([0,0],[y,w])}function jl(h,A,c){const y=c.pointOnLine(A,h);return c.distance(h,y.point)}function Zt(h,A,c,y,w){const R=Math.min(jl(h,[c,y],w),jl(A,[c,y],w)),P=Math.min(jl(c,[h,A],w),jl(y,[h,A],w));return Math.min(R,P)}function Sn(h,A,c,y,w){if(!Lu(A,h.length)||!Lu(y,c.length))return 1/0;let R=1/0;for(let P=A[0];P<A[1];++P){const N=h[P],H=h[P+1];for(let ie=y[0];ie<y[1];++ie){const ue=c[ie],ve=c[ie+1];if(Ch(N,H,ue,ve))return 0;R=Math.min(R,Zt(N,H,ue,ve,w))}}return R}function vn(h,A,c,y,w){if(!Lu(A,h.length)||!Lu(y,c.length))return NaN;let R=1/0;for(let P=A[0];P<=A[1];++P)for(let N=y[0];N<=y[1];++N)if(R=Math.min(R,w.distance(h[P],c[N])),R===0)return R;return R}function Ti(h,A,c){if(Qh(h,A,!0))return 0;let y=1/0;for(const w of A){const R=w[0],P=w[w.length-1];if(R!==P&&(y=Math.min(y,jl(h,[P,R],c)),y===0))return y;const N=c.pointOnLine(w,h);if(y=Math.min(y,c.distance(h,N.point)),y===0)return y}return y}function Er(h,A,c,y){if(!Lu(A,h.length))return NaN;for(let R=A[0];R<=A[1];++R)if(Qh(h[R],c,!0))return 0;let w=1/0;for(let R=A[0];R<A[1];++R){const P=h[R],N=h[R+1];for(const H of c)for(let ie=0,ue=H.length,ve=ue-1;ie<ue;ve=ie++){const Pe=H[ve],Qe=H[ie];if(Ch(P,N,Pe,Qe))return 0;w=Math.min(w,Zt(P,N,Pe,Qe,y))}}return w}function Io(h,A){for(const c of h)for(const y of c)if(Qh(y,A,!0))return!0;return!1}function $s(h,A,c,y=1/0){const w=Sd(h),R=Sd(A);if(y!==1/0&&Ec(w,R,c)>=y)return y;if(Wh(w,R)){if(Io(h,A))return 0}else if(Io(A,h))return 0;let P=1/0;for(const N of h)for(let H=0,ie=N.length,ue=ie-1;H<ie;ue=H++){const ve=N[ue],Pe=N[H];for(const Qe of A)for(let qe=0,et=Qe.length,ut=et-1;qe<et;ut=qe++){const Mt=Qe[ut],Qt=Qe[qe];if(Ch(ve,Pe,Mt,Qt))return 0;P=Math.min(P,Zt(ve,Pe,Mt,Qt,c))}}return P}function Ro(h,A,c,y,w,R){if(!R)return;const P=Ec(bh(y,R),w,c);P<A&&h.push([P,R,[0,0]])}function $c(h,A,c,y,w,R,P){if(!R||!P)return;const N=Ec(bh(y,R),bh(w,P),c);N<A&&h.push([N,R,P])}function Xd(h,A,c,y,w=1/0){let R=Math.min(y.distance(h[0],c[0][0]),w);if(R===0)return R;const P=new Yh([[0,[0,h.length-1],[0,0]]],sc),N=Sd(c);for(;P.length>0;){const H=P.pop();if(H[0]>=R)continue;const ie=H[1],ue=A?50:100;if(wA(ie)<=ue){if(!Lu(ie,h.length))return NaN;if(A){const ve=Er(h,ie,c,y);if(isNaN(ve)||ve===0)return ve;R=Math.min(R,ve)}else for(let ve=ie[0];ve<=ie[1];++ve){const Pe=Ti(h[ve],c,y);if(R=Math.min(R,Pe),R===0)return 0}}else{const ve=Oo(ie,A);Ro(P,R,y,h,N,ve[0]),Ro(P,R,y,h,N,ve[1])}}return R}function lA(h,A,c,y,w,R=1/0){let P=Math.min(R,w.distance(h[0],c[0]));if(P===0)return P;const N=new Yh([[0,[0,h.length-1],[0,c.length-1]]],sc);for(;N.length>0;){const H=N.pop();if(H[0]>=P)continue;const ie=H[1],ue=H[2],ve=A?50:100,Pe=y?50:100;if(wA(ie)<=ve&&wA(ue)<=Pe){if(!Lu(ie,h.length)&&Lu(ue,c.length))return NaN;let Qe;if(A&&y)Qe=Sn(h,ie,c,ue,w),P=Math.min(P,Qe);else if(A&&!y){const qe=h.slice(ie[0],ie[1]+1);for(let et=ue[0];et<=ue[1];++et)if(Qe=jl(c[et],qe,w),P=Math.min(P,Qe),P===0)return P}else if(!A&&y){const qe=c.slice(ue[0],ue[1]+1);for(let et=ie[0];et<=ie[1];++et)if(Qe=jl(h[et],qe,w),P=Math.min(P,Qe),P===0)return P}else Qe=vn(h,ie,c,ue,w),P=Math.min(P,Qe)}else{const Qe=Oo(ie,A),qe=Oo(ue,y);$c(N,P,w,h,c,Qe[0],qe[0]),$c(N,P,w,h,c,Qe[0],qe[1]),$c(N,P,w,h,c,Qe[1],qe[0]),$c(N,P,w,h,c,Qe[1],qe[1])}}return P}function Ed(h){return h.type==="MultiPolygon"?h.coordinates.map(A=>({type:"Polygon",coordinates:A})):h.type==="MultiLineString"?h.coordinates.map(A=>({type:"LineString",coordinates:A})):h.type==="MultiPoint"?h.coordinates.map(A=>({type:"Point",coordinates:A})):[h]}class fu{constructor(A,c){this.type=Zn,this.geojson=A,this.geometries=c}static parse(A,c){if(A.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${A.length-1} instead.`);if(Cl(A[1])){const y=A[1];if(y.type==="FeatureCollection")return new fu(y,y.features.map(w=>Ed(w.geometry)).flat());if(y.type==="Feature")return new fu(y,Ed(y.geometry));if("type"in y&&"coordinates"in y)return new fu(y,Ed(y))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(A){if(A.geometry()!=null&&A.canonicalID()!=null){if(A.geometryType()==="Point")return function(c,y){const w=c.geometry(),R=w.flat().map(H=>Gh([H.x,H.y],c.canonical));if(w.length===0)return NaN;const P=new MA(R[0][1]);let N=1/0;for(const H of y){switch(H.type){case"Point":N=Math.min(N,lA(R,!1,[H.coordinates],!1,P,N));break;case"LineString":N=Math.min(N,lA(R,!1,H.coordinates,!0,P,N));break;case"Polygon":N=Math.min(N,Xd(R,!1,H.coordinates,P,N))}if(N===0)return N}return N}(A,this.geometries);if(A.geometryType()==="LineString")return function(c,y){const w=c.geometry(),R=w.flat().map(H=>Gh([H.x,H.y],c.canonical));if(w.length===0)return NaN;const P=new MA(R[0][1]);let N=1/0;for(const H of y){switch(H.type){case"Point":N=Math.min(N,lA(R,!0,[H.coordinates],!1,P,N));break;case"LineString":N=Math.min(N,lA(R,!0,H.coordinates,!0,P,N));break;case"Polygon":N=Math.min(N,Xd(R,!0,H.coordinates,P,N))}if(N===0)return N}return N}(A,this.geometries);if(A.geometryType()==="Polygon")return function(c,y){const w=c.geometry();if(w.length===0||w[0].length===0)return NaN;const R=Vc(w,0).map(H=>H.map(ie=>ie.map(ue=>Gh([ue.x,ue.y],c.canonical)))),P=new MA(R[0][0][0][1]);let N=1/0;for(const H of y)for(const ie of R){switch(H.type){case"Point":N=Math.min(N,Xd([H.coordinates],!1,ie,P,N));break;case"LineString":N=Math.min(N,Xd(H.coordinates,!0,ie,P,N));break;case"Polygon":N=Math.min(N,$s(ie,H.coordinates,P,N))}if(N===0)return N}return N}(A,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class SA{constructor(A){this.type=ji,this.key=A}static parse(A,c){if(A.length!==2)return c.error(`Expected 1 argument, but found ${A.length-1} instead.`);const y=A[1];return y==null?c.error("Global state property must be defined."):typeof y!="string"?c.error(`Global state property must be string, but found ${typeof A[1]} instead.`):new SA(y)}evaluate(A){var c;const y=(c=A.globals)===null||c===void 0?void 0:c.globalState;return y&&Object.keys(y).length!==0?Hs(y,this.key):null}eachChild(){}outputDefined(){return!1}}const EA={"==":oc,"!=":Cd,">":vh,"<":fm,">=":o0,"<=":_d,array:Oe,at:Ji,boolean:Oe,case:gr,coalesce:HA,collator:Df,format:VA,image:is,in:no,"index-of":ho,interpolate:Ua,"interpolate-hcl":Ua,"interpolate-lab":Ua,length:bd,let:ar,literal:qr,match:cr,number:Oe,"number-format":Rf,object:Oe,slice:fo,step:Nr,string:Oe,"to-boolean":Gt,"to-color":Gt,"to-number":Gt,"to-string":Gt,var:Ri,within:$A,distance:fu,"global-state":SA};class kl{constructor(A,c,y,w){this.name=A,this.type=c,this._evaluate=y,this.args=w}evaluate(A){return this._evaluate(A,this.args)}eachChild(A){this.args.forEach(A)}outputDefined(){return!1}static parse(A,c){const y=A[0],w=kl.definitions[y];if(!w)return c.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const R=Array.isArray(w)?w[0]:w.type,P=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,N=P.filter(([ie])=>!Array.isArray(ie)||ie.length===A.length-1);let H=null;for(const[ie,ue]of N){H=new Zi(c.registry,Zs,c.path,null,c.scope);const ve=[];let Pe=!1;for(let Qe=1;Qe<A.length;Qe++){const qe=A[Qe],et=Array.isArray(ie)?ie[Qe-1]:ie.type,ut=H.parse(qe,1+ve.length,et);if(!ut){Pe=!0;break}ve.push(ut)}if(!Pe)if(Array.isArray(ie)&&ie.length!==ve.length)H.error(`Expected ${ie.length} arguments, but found ${ve.length} instead.`);else{for(let Qe=0;Qe<ve.length;Qe++){const qe=Array.isArray(ie)?ie[Qe]:ie.type,et=ve[Qe];H.concat(Qe+1).checkSubtype(qe,et.type)}if(H.errors.length===0)return new kl(y,R,ue,ve)}}if(N.length===1)c.errors.push(...H.errors);else{const ie=(N.length?N:P).map(([ve])=>{return Pe=ve,Array.isArray(Pe)?`(${Pe.map($i).join(", ")})`:`(${$i(Pe.type)}...)`;var Pe}).join(" | "),ue=[];for(let ve=1;ve<A.length;ve++){const Pe=c.parse(A[ve],1+ue.length);if(!Pe)return null;ue.push($i(Pe.type))}c.error(`Expected arguments of type ${ie}, but found (${ue.join(", ")}) instead.`)}return null}static register(A,c){kl.definitions=c;for(const y in c)A[y]=kl}}function Wo(h,[A,c,y,w]){A=A.evaluate(h),c=c.evaluate(h),y=y.evaluate(h);const R=w?w.evaluate(h):1,P=Pr(A,c,y,R);if(P)throw new Rr(P);return new Mr(A/255,c/255,y/255,R,!1)}function pu(h,A){return h in A}function Hh(h,A){const c=A[h];return c===void 0?null:c}function Wa(h){return{type:h}}function Zs(h){if(h instanceof Ri)return Zs(h.boundExpression);if(h instanceof kl&&h.name==="error"||h instanceof Df||h instanceof $A||h instanceof fu||h instanceof SA)return!1;const A=h instanceof Gt||h instanceof Oe;let c=!0;return h.eachChild(y=>{c=A?c&&Zs(y):c&&y instanceof qr}),!!c&&Bs(h)&&Nl(h,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Bs(h){if(h instanceof kl&&(h.name==="get"&&h.args.length===1||h.name==="feature-state"||h.name==="has"&&h.args.length===1||h.name==="properties"||h.name==="geometry-type"||h.name==="id"||/^filter-/.test(h.name))||h instanceof $A||h instanceof fu)return!1;let A=!0;return h.eachChild(c=>{A&&!Bs(c)&&(A=!1)}),A}function XA(h){if(h instanceof kl&&h.name==="feature-state")return!1;let A=!0;return h.eachChild(c=>{A&&!XA(c)&&(A=!1)}),A}function Nl(h,A){if(h instanceof kl&&A.indexOf(h.name)>=0)return!1;let c=!0;return h.eachChild(y=>{c&&!Nl(y,A)&&(c=!1)}),c}function BA(h){return{result:"success",value:h}}function lc(h){return{result:"error",value:h}}function OA(h){return h["property-type"]==="data-driven"||h["property-type"]==="cross-faded-data-driven"}function Bc(h){return!!h.expression&&h.expression.parameters.indexOf("zoom")>-1}function xh(h){return!!h.expression&&h.expression.interpolated}function Dr(h){return h instanceof Number?"number":h instanceof String?"string":h instanceof Boolean?"boolean":Array.isArray(h)?"array":h===null?"null":typeof h}function Ac(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&Xi(h)===kr}function JA(h){return h}function Oc(h,A){const c=h.stops&&typeof h.stops[0][0]=="object",y=c||!(c||h.property!==void 0),w=h.type||(xh(A)?"exponential":"interval"),R=function(ue){switch(ue.type){case"color":return Mr.parse;case"padding":return Na.parse;case"numberArray":return Ea.parse;case"colorArray":return sa.parse;default:return null}}(A);if(R&&((h=uo({},h)).stops&&(h.stops=h.stops.map(ue=>[ue[0],R(ue[1])])),h.default=R(h.default?h.default:A.default)),h.colorSpace&&(P=h.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${h.colorSpace}"`);var P;const N=function(ue){switch(ue){case"exponential":return mu;case"interval":return Bd;case"categorical":return Mh;case"identity":return Od;default:throw new Error(`Unknown function type "${ue}"`)}}(w);let H,ie;if(w==="categorical"){H=Object.create(null);for(const ue of h.stops)H[ue[0]]=ue[1];ie=typeof h.stops[0][0]}if(c){const ue={},ve=[];for(let qe=0;qe<h.stops.length;qe++){const et=h.stops[qe],ut=et[0].zoom;ue[ut]===void 0&&(ue[ut]={zoom:ut,type:h.type,property:h.property,default:h.default,stops:[]},ve.push(ut)),ue[ut].stops.push([et[0].value,et[1]])}const Pe=[];for(const qe of ve)Pe.push([ue[qe].zoom,Oc(ue[qe],A)]);const Qe={name:"linear"};return{kind:"composite",interpolationType:Qe,interpolationFactor:Ua.interpolationFactor.bind(void 0,Qe),zoomStops:Pe.map(qe=>qe[0]),evaluate:({zoom:qe},et)=>mu({stops:Pe,base:h.base},A,qe).evaluate(qe,et)}}if(y){const ue=w==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:ue,interpolationFactor:Ua.interpolationFactor.bind(void 0,ue),zoomStops:h.stops.map(ve=>ve[0]),evaluate:({zoom:ve})=>N(h,A,ve,H,ie)}}return{kind:"source",evaluate(ue,ve){const Pe=ve&&ve.properties?ve.properties[h.property]:void 0;return Pe===void 0?Os(h.default,A.default):N(h,A,Pe,H,ie)}}}function Os(h,A,c){return h!==void 0?h:A!==void 0?A:c!==void 0?c:void 0}function Mh(h,A,c,y,w){return Os(typeof c===w?y[c]:void 0,h.default,A.default)}function Bd(h,A,c){if(Dr(c)!=="number")return Os(h.default,A.default);const y=h.stops.length;if(y===1||c<=h.stops[0][0])return h.stops[0][1];if(c>=h.stops[y-1][0])return h.stops[y-1][1];const w=Go(h.stops.map(R=>R[0]),c);return h.stops[w][1]}function mu(h,A,c){const y=h.base!==void 0?h.base:1;if(Dr(c)!=="number")return Os(h.default,A.default);const w=h.stops.length;if(w===1||c<=h.stops[0][0])return h.stops[0][1];if(c>=h.stops[w-1][0])return h.stops[w-1][1];const R=Go(h.stops.map(ue=>ue[0]),c),P=function(ue,ve,Pe,Qe){const qe=Qe-Pe,et=ue-Pe;return qe===0?0:ve===1?et/qe:(Math.pow(ve,et)-1)/(Math.pow(ve,qe)-1)}(c,y,h.stops[R][0],h.stops[R+1][0]),N=h.stops[R][1],H=h.stops[R+1][1],ie=Ku[A.type]||JA;return typeof N.evaluate=="function"?{evaluate(...ue){const ve=N.evaluate.apply(void 0,ue),Pe=H.evaluate.apply(void 0,ue);if(ve!==void 0&&Pe!==void 0)return ie(ve,Pe,P,h.colorSpace)}}:ie(N,H,P,h.colorSpace)}function Od(h,A,c){switch(A.type){case"color":c=Mr.parse(c);break;case"formatted":c=Bo.fromString(c.toString());break;case"resolvedImage":c=ns.fromString(c.toString());break;case"padding":c=Na.parse(c);break;case"colorArray":c=sa.parse(c);break;case"numberArray":c=Ea.parse(c);break;default:Dr(c)===A.type||A.type==="enum"&&A.values[c]||(c=void 0)}return Os(c,h.default,A.default)}kl.register(EA,{error:[{kind:"error"},[Ar],(h,[A])=>{throw new Rr(A.evaluate(h))}],typeof:[Ar,[ji],(h,[A])=>$i(Xi(A.evaluate(h)))],"to-rgba":[Ka(Zn,4),[Cr],(h,[A])=>{const[c,y,w,R]=A.evaluate(h).rgb;return[255*c,255*y,255*w,R]}],rgb:[Cr,[Zn,Zn,Zn],Wo],rgba:[Cr,[Zn,Zn,Zn,Zn],Wo],has:{type:zi,overloads:[[[Ar],(h,[A])=>pu(A.evaluate(h),h.properties())],[[Ar,kr],(h,[A,c])=>pu(A.evaluate(h),c.evaluate(h))]]},get:{type:ji,overloads:[[[Ar],(h,[A])=>Hh(A.evaluate(h),h.properties())],[[Ar,kr],(h,[A,c])=>Hh(A.evaluate(h),c.evaluate(h))]]},"feature-state":[ji,[Ar],(h,[A])=>Hh(A.evaluate(h),h.featureState||{})],properties:[kr,[],h=>h.properties()],"geometry-type":[Ar,[],h=>h.geometryType()],id:[ji,[],h=>h.id()],zoom:[Zn,[],h=>h.globals.zoom],"heatmap-density":[Zn,[],h=>h.globals.heatmapDensity||0],elevation:[Zn,[],h=>h.globals.elevation||0],"line-progress":[Zn,[],h=>h.globals.lineProgress||0],accumulated:[ji,[],h=>h.globals.accumulated===void 0?null:h.globals.accumulated],"+":[Zn,Wa(Zn),(h,A)=>{let c=0;for(const y of A)c+=y.evaluate(h);return c}],"*":[Zn,Wa(Zn),(h,A)=>{let c=1;for(const y of A)c*=y.evaluate(h);return c}],"-":{type:Zn,overloads:[[[Zn,Zn],(h,[A,c])=>A.evaluate(h)-c.evaluate(h)],[[Zn],(h,[A])=>-A.evaluate(h)]]},"/":[Zn,[Zn,Zn],(h,[A,c])=>A.evaluate(h)/c.evaluate(h)],"%":[Zn,[Zn,Zn],(h,[A,c])=>A.evaluate(h)%c.evaluate(h)],ln2:[Zn,[],()=>Math.LN2],pi:[Zn,[],()=>Math.PI],e:[Zn,[],()=>Math.E],"^":[Zn,[Zn,Zn],(h,[A,c])=>Math.pow(A.evaluate(h),c.evaluate(h))],sqrt:[Zn,[Zn],(h,[A])=>Math.sqrt(A.evaluate(h))],log10:[Zn,[Zn],(h,[A])=>Math.log(A.evaluate(h))/Math.LN10],ln:[Zn,[Zn],(h,[A])=>Math.log(A.evaluate(h))],log2:[Zn,[Zn],(h,[A])=>Math.log(A.evaluate(h))/Math.LN2],sin:[Zn,[Zn],(h,[A])=>Math.sin(A.evaluate(h))],cos:[Zn,[Zn],(h,[A])=>Math.cos(A.evaluate(h))],tan:[Zn,[Zn],(h,[A])=>Math.tan(A.evaluate(h))],asin:[Zn,[Zn],(h,[A])=>Math.asin(A.evaluate(h))],acos:[Zn,[Zn],(h,[A])=>Math.acos(A.evaluate(h))],atan:[Zn,[Zn],(h,[A])=>Math.atan(A.evaluate(h))],min:[Zn,Wa(Zn),(h,A)=>Math.min(...A.map(c=>c.evaluate(h)))],max:[Zn,Wa(Zn),(h,A)=>Math.max(...A.map(c=>c.evaluate(h)))],abs:[Zn,[Zn],(h,[A])=>Math.abs(A.evaluate(h))],round:[Zn,[Zn],(h,[A])=>{const c=A.evaluate(h);return c<0?-Math.round(-c):Math.round(c)}],floor:[Zn,[Zn],(h,[A])=>Math.floor(A.evaluate(h))],ceil:[Zn,[Zn],(h,[A])=>Math.ceil(A.evaluate(h))],"filter-==":[zi,[Ar,ji],(h,[A,c])=>h.properties()[A.value]===c.value],"filter-id-==":[zi,[ji],(h,[A])=>h.id()===A.value],"filter-type-==":[zi,[Ar],(h,[A])=>h.geometryType()===A.value],"filter-<":[zi,[Ar,ji],(h,[A,c])=>{const y=h.properties()[A.value],w=c.value;return typeof y==typeof w&&y<w}],"filter-id-<":[zi,[ji],(h,[A])=>{const c=h.id(),y=A.value;return typeof c==typeof y&&c<y}],"filter->":[zi,[Ar,ji],(h,[A,c])=>{const y=h.properties()[A.value],w=c.value;return typeof y==typeof w&&y>w}],"filter-id->":[zi,[ji],(h,[A])=>{const c=h.id(),y=A.value;return typeof c==typeof y&&c>y}],"filter-<=":[zi,[Ar,ji],(h,[A,c])=>{const y=h.properties()[A.value],w=c.value;return typeof y==typeof w&&y<=w}],"filter-id-<=":[zi,[ji],(h,[A])=>{const c=h.id(),y=A.value;return typeof c==typeof y&&c<=y}],"filter->=":[zi,[Ar,ji],(h,[A,c])=>{const y=h.properties()[A.value],w=c.value;return typeof y==typeof w&&y>=w}],"filter-id->=":[zi,[ji],(h,[A])=>{const c=h.id(),y=A.value;return typeof c==typeof y&&c>=y}],"filter-has":[zi,[ji],(h,[A])=>A.value in h.properties()],"filter-has-id":[zi,[],h=>h.id()!==null&&h.id()!==void 0],"filter-type-in":[zi,[Ka(Ar)],(h,[A])=>A.value.indexOf(h.geometryType())>=0],"filter-id-in":[zi,[Ka(ji)],(h,[A])=>A.value.indexOf(h.id())>=0],"filter-in-small":[zi,[Ar,Ka(ji)],(h,[A,c])=>c.value.indexOf(h.properties()[A.value])>=0],"filter-in-large":[zi,[Ar,Ka(ji)],(h,[A,c])=>function(y,w,R,P){for(;R<=P;){const N=R+P>>1;if(w[N]===y)return!0;w[N]>y?P=N-1:R=N+1}return!1}(h.properties()[A.value],c.value,0,c.value.length-1)],all:{type:zi,overloads:[[[zi,zi],(h,[A,c])=>A.evaluate(h)&&c.evaluate(h)],[Wa(zi),(h,A)=>{for(const c of A)if(!c.evaluate(h))return!1;return!0}]]},any:{type:zi,overloads:[[[zi,zi],(h,[A,c])=>A.evaluate(h)||c.evaluate(h)],[Wa(zi),(h,A)=>{for(const c of A)if(c.evaluate(h))return!0;return!1}]]},"!":[zi,[zi],(h,[A])=>!A.evaluate(h)],"is-supported-script":[zi,[Ar],(h,[A])=>{const c=h.globals&&h.globals.isSupportedScript;return!c||c(A.evaluate(h))}],upcase:[Ar,[Ar],(h,[A])=>A.evaluate(h).toUpperCase()],downcase:[Ar,[Ar],(h,[A])=>A.evaluate(h).toLowerCase()],concat:[Ar,Wa(ji),(h,A)=>A.map(c=>wi(c.evaluate(h))).join("")],"resolved-locale":[Ar,[yl],(h,[A])=>A.evaluate(h).resolvedLocale()]});class Zc{constructor(A,c){this.expression=A,this._warningHistory={},this._evaluator=new Xn,this._defaultValue=c?function(y){if(y.type==="color"&&Ac(y.default))return new Mr(0,0,0,0);switch(y.type){case"color":return Mr.parse(y.default)||null;case"padding":return Na.parse(y.default)||null;case"numberArray":return Ea.parse(y.default)||null;case"colorArray":return sa.parse(y.default)||null;case"variableAnchorOffsetCollection":return Ga.parse(y.default)||null;case"projectionDefinition":return Ca.parse(y.default)||null;default:return y.default===void 0?null:y.default}}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(A,c,y,w,R,P){return this._evaluator.globals=A,this._evaluator.feature=c,this._evaluator.featureState=y,this._evaluator.canonical=w,this._evaluator.availableImages=R||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(A,c,y,w,R,P){this._evaluator.globals=A,this._evaluator.feature=c||null,this._evaluator.featureState=y||null,this._evaluator.canonical=w,this._evaluator.availableImages=R||null,this._evaluator.formattedSection=P||null;try{const N=this.expression.evaluate(this._evaluator);if(N==null||typeof N=="number"&&N!=N)return this._defaultValue;if(this._enumValues&&!(N in this._enumValues))throw new Rr(`Expected value to be one of ${Object.keys(this._enumValues).map(H=>JSON.stringify(H)).join(", ")}, but found ${JSON.stringify(N)} instead.`);return N}catch(N){return this._warningHistory[N.message]||(this._warningHistory[N.message]=!0,typeof console<"u"&&console.warn(N.message)),this._defaultValue}}}function IA(h){return Array.isArray(h)&&h.length>0&&typeof h[0]=="string"&&h[0]in EA}function Fu(h,A){const c=new Zi(EA,Zs,[],A?function(w){const R={color:Cr,string:Ar,number:Zn,enum:Ar,boolean:zi,formatted:Pa,padding:So,numberArray:Tl,colorArray:ts,projectionDefinition:ja,resolvedImage:co,variableAnchorOffsetCollection:QA};return w.type==="array"?Ka(R[w.value]||ji,w.length):R[w.type]}(A):void 0),y=c.parse(h,void 0,void 0,void 0,A&&A.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?BA(new Zc(y,A)):lc(c.errors)}class wh{constructor(A,c){this.kind=A,this._styleExpression=c,this.isStateDependent=A!=="constant"&&!XA(c.expression),this.globalStateRefs=la(c.expression)}evaluateWithoutErrorHandling(A,c,y,w,R,P){return this._styleExpression.evaluateWithoutErrorHandling(A,c,y,w,R,P)}evaluate(A,c,y,w,R,P){return this._styleExpression.evaluate(A,c,y,w,R,P)}}class Vh{constructor(A,c,y,w){this.kind=A,this.zoomStops=y,this._styleExpression=c,this.isStateDependent=A!=="camera"&&!XA(c.expression),this.globalStateRefs=la(c.expression),this.interpolationType=w}evaluateWithoutErrorHandling(A,c,y,w,R,P){return this._styleExpression.evaluateWithoutErrorHandling(A,c,y,w,R,P)}evaluate(A,c,y,w,R,P){return this._styleExpression.evaluate(A,c,y,w,R,P)}interpolationFactor(A,c,y){return this.interpolationType?Ua.interpolationFactor(this.interpolationType,A,c,y):0}}function TA(h,A){const c=Fu(h,A);if(c.result==="error")return c;const y=c.value.expression,w=Bs(y);if(!w&&!OA(A))return lc([new Vi("","data expressions not supported")]);const R=Nl(y,["zoom"]);if(!R&&!Bc(A))return lc([new Vi("","zoom expressions not supported")]);const P=Qo(y);return P||R?P instanceof Vi?lc([P]):P instanceof Ua&&!xh(A)?lc([new Vi("",'"interpolate" expressions cannot be used with this property')]):BA(P?new Vh(w?"camera":"composite",c.value,P.labels,P instanceof Ua?P.interpolation:void 0):new wh(w?"constant":"source",c.value)):lc([new Vi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Dl{constructor(A,c){this._parameters=A,this._specification=c,uo(this,Oc(this._parameters,this._specification))}static deserialize(A){return new Dl(A._parameters,A._specification)}static serialize(A){return{_parameters:A._parameters,_specification:A._specification}}}function Qo(h){let A=null;if(h instanceof ar)A=Qo(h.result);else if(h instanceof HA){for(const c of h.args)if(A=Qo(c),A)break}else(h instanceof Nr||h instanceof Ua)&&h.input instanceof kl&&h.input.name==="zoom"&&(A=h);return A instanceof Vi||h.eachChild(c=>{const y=Qo(c);y instanceof Vi?A=y:!A&&y?A=new Vi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):A&&y&&A!==y&&(A=new Vi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),A}function la(h,A=new Set){return h instanceof SA&&A.add(h.key),h.eachChild(c=>{la(c,A)}),A}function zu(h){if(h===!0||h===!1)return!0;if(!Array.isArray(h)||h.length===0)return!1;switch(h[0]){case"has":return h.length>=2&&h[1]!=="$id"&&h[1]!=="$type";case"in":return h.length>=3&&(typeof h[1]!="string"||Array.isArray(h[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return h.length!==3||Array.isArray(h[1])||Array.isArray(h[2]);case"any":case"all":for(const A of h.slice(1))if(!zu(A)&&typeof A!="boolean")return!1;return!0;default:return!0}}const ju={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ic(h){if(h==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};zu(h)||(h=_a(h));const A=Fu(h,ju);if(A.result==="error")throw new Error(A.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,y,w)=>A.value.evaluate(c,y,{},w),needGeometry:Jc(h),getGlobalStateRefs:()=>la(A.value.expression)}}function Xc(h,A){return h<A?-1:h>A?1:0}function Jc(h){if(!Array.isArray(h))return!1;if(h[0]==="within"||h[0]==="distance")return!0;for(let A=1;A<h.length;A++)if(Jc(h[A]))return!0;return!1}function _a(h){if(!h)return!0;const A=h[0];return h.length<=1?A!=="any":A==="=="?xa(h[1],h[2],"=="):A==="!="?js(xa(h[1],h[2],"==")):A==="<"||A===">"||A==="<="||A===">="?xa(h[1],h[2],A):A==="any"?(c=h.slice(1),["any"].concat(c.map(_a))):A==="all"?["all"].concat(h.slice(1).map(_a)):A==="none"?["all"].concat(h.slice(1).map(_a).map(js)):A==="in"?Xr(h[1],h.slice(2)):A==="!in"?js(Xr(h[1],h.slice(2))):A==="has"?AA(h[1]):A!=="!has"||js(AA(h[1]));var c}function xa(h,A,c){switch(h){case"$type":return[`filter-type-${c}`,A];case"$id":return[`filter-id-${c}`,A];default:return[`filter-${c}`,h,A]}}function Xr(h,A){if(A.length===0)return!1;switch(h){case"$type":return["filter-type-in",["literal",A]];case"$id":return["filter-id-in",["literal",A]];default:return A.length>200&&!A.some(c=>typeof c!=typeof A[0])?["filter-in-large",h,["literal",A.sort(Xc)]]:["filter-in-small",h,["literal",A]]}}function AA(h){switch(h){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",h]}}function js(h){return["!",h]}function eh(h){const A=typeof h;if(A==="number"||A==="boolean"||A==="string"||h==null)return JSON.stringify(h);if(Array.isArray(h)){let w="[";for(const R of h)w+=`${eh(R)},`;return`${w}]`}const c=Object.keys(h).sort();let y="{";for(let w=0;w<c.length;w++)y+=`${JSON.stringify(c[w])}:${eh(h[c[w]])},`;return`${y}}`}function gu(h){let A="";for(const c of en)A+=`/${eh(h[c])}`;return A}function Jd(h){const A=h.value;return A?[new wn(h.key,A,"constants have been deprecated as of v8")]:[]}function ys(h){return h instanceof Number||h instanceof String||h instanceof Boolean?h.valueOf():h}function ol(h){if(Array.isArray(h))return h.map(ol);if(h instanceof Object&&!(h instanceof Number||h instanceof String||h instanceof Boolean)){const A={};for(const c in h)A[c]=ol(h[c]);return A}return ys(h)}function Ns(h){const A=h.key,c=h.value,y=h.valueSpec||{},w=h.objectElementValidators||{},R=h.style,P=h.styleSpec,N=h.validateSpec;let H=[];const ie=Dr(c);if(ie!=="object")return[new wn(A,c,`object expected, ${ie} found`)];for(const ue in c){const ve=ue.split(".")[0],Pe=Hs(y,ve)||y["*"];let Qe;if(Hs(w,ve))Qe=w[ve];else if(Hs(y,ve))Qe=N;else if(w["*"])Qe=w["*"];else{if(!y["*"]){H.push(new wn(A,c[ue],`unknown property "${ue}"`));continue}Qe=N}H=H.concat(Qe({key:(A&&`${A}.`)+ue,value:c[ue],valueSpec:Pe,style:R,styleSpec:P,object:c,objectKey:ue,validateSpec:N},c))}for(const ue in y)w[ue]||y[ue].required&&y[ue].default===void 0&&c[ue]===void 0&&H.push(new wn(A,c,`missing required property "${ue}"`));return H}function ef(h){const A=h.value,c=h.valueSpec,y=h.style,w=h.styleSpec,R=h.key,P=h.arrayElementValidator||h.validateSpec;if(Dr(A)!=="array")return[new wn(R,A,`array expected, ${Dr(A)} found`)];if(c.length&&A.length!==c.length)return[new wn(R,A,`array length ${c.length} expected, length ${A.length} found`)];if(c["min-length"]&&A.length<c["min-length"])return[new wn(R,A,`array length at least ${c["min-length"]} expected, length ${A.length} found`)];let N={type:c.value,values:c.values};w.$version<7&&(N.function=c.function),Dr(c.value)==="object"&&(N=c.value);let H=[];for(let ie=0;ie<A.length;ie++)H=H.concat(P({array:A,arrayIndex:ie,value:A[ie],valueSpec:N,validateSpec:h.validateSpec,style:y,styleSpec:w,key:`${R}[${ie}]`}));return H}function Nu(h){const A=h.key,c=h.value,y=h.valueSpec;let w=Dr(c);return w==="number"&&c!=c&&(w="NaN"),w!=="number"?[new wn(A,c,`number expected, ${w} found`)]:"minimum"in y&&c<y.minimum?[new wn(A,c,`${c} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&c>y.maximum?[new wn(A,c,`${c} is greater than the maximum value ${y.maximum}`)]:[]}function Sh(h){const A=h.valueSpec,c=ys(h.value.type);let y,w,R,P={};const N=c!=="categorical"&&h.value.property===void 0,H=!N,ie=Dr(h.value.stops)==="array"&&Dr(h.value.stops[0])==="array"&&Dr(h.value.stops[0][0])==="object",ue=Ns({key:h.key,value:h.value,valueSpec:h.styleSpec.function,validateSpec:h.validateSpec,style:h.style,styleSpec:h.styleSpec,objectElementValidators:{stops:function(Qe){if(c==="identity")return[new wn(Qe.key,Qe.value,'identity function may not have a "stops" property')];let qe=[];const et=Qe.value;return qe=qe.concat(ef({key:Qe.key,value:et,valueSpec:Qe.valueSpec,validateSpec:Qe.validateSpec,style:Qe.style,styleSpec:Qe.styleSpec,arrayElementValidator:ve})),Dr(et)==="array"&&et.length===0&&qe.push(new wn(Qe.key,et,"array must have at least one stop")),qe},default:function(Qe){return Qe.validateSpec({key:Qe.key,value:Qe.value,valueSpec:A,validateSpec:Qe.validateSpec,style:Qe.style,styleSpec:Qe.styleSpec})}}});return c==="identity"&&N&&ue.push(new wn(h.key,h.value,'missing required property "property"')),c==="identity"||h.value.stops||ue.push(new wn(h.key,h.value,'missing required property "stops"')),c==="exponential"&&h.valueSpec.expression&&!xh(h.valueSpec)&&ue.push(new wn(h.key,h.value,"exponential functions not supported")),h.styleSpec.$version>=8&&(H&&!OA(h.valueSpec)?ue.push(new wn(h.key,h.value,"property functions not supported")):N&&!Bc(h.valueSpec)&&ue.push(new wn(h.key,h.value,"zoom functions not supported"))),c!=="categorical"&&!ie||h.value.property!==void 0||ue.push(new wn(h.key,h.value,'"property" property is required')),ue;function ve(Qe){let qe=[];const et=Qe.value,ut=Qe.key;if(Dr(et)!=="array")return[new wn(ut,et,`array expected, ${Dr(et)} found`)];if(et.length!==2)return[new wn(ut,et,`array length 2 expected, length ${et.length} found`)];if(ie){if(Dr(et[0])!=="object")return[new wn(ut,et,`object expected, ${Dr(et[0])} found`)];if(et[0].zoom===void 0)return[new wn(ut,et,"object stop key must have zoom")];if(et[0].value===void 0)return[new wn(ut,et,"object stop key must have value")];if(R&&R>ys(et[0].zoom))return[new wn(ut,et[0].zoom,"stop zoom values must appear in ascending order")];ys(et[0].zoom)!==R&&(R=ys(et[0].zoom),w=void 0,P={}),qe=qe.concat(Ns({key:`${ut}[0]`,value:et[0],valueSpec:{zoom:{}},validateSpec:Qe.validateSpec,style:Qe.style,styleSpec:Qe.styleSpec,objectElementValidators:{zoom:Nu,value:Pe}}))}else qe=qe.concat(Pe({key:`${ut}[0]`,value:et[0],validateSpec:Qe.validateSpec,style:Qe.style,styleSpec:Qe.styleSpec},et));return IA(ol(et[1]))?qe.concat([new wn(`${ut}[1]`,et[1],"expressions are not allowed in function stops.")]):qe.concat(Qe.validateSpec({key:`${ut}[1]`,value:et[1],valueSpec:A,validateSpec:Qe.validateSpec,style:Qe.style,styleSpec:Qe.styleSpec}))}function Pe(Qe,qe){const et=Dr(Qe.value),ut=ys(Qe.value),Mt=Qe.value!==null?Qe.value:qe;if(y){if(et!==y)return[new wn(Qe.key,Mt,`${et} stop domain type must match previous stop domain type ${y}`)]}else y=et;if(et!=="number"&&et!=="string"&&et!=="boolean")return[new wn(Qe.key,Mt,"stop domain value must be a number, string, or boolean")];if(et!=="number"&&c!=="categorical"){let Qt=`number expected, ${et} found`;return OA(A)&&c===void 0&&(Qt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wn(Qe.key,Mt,Qt)]}return c!=="categorical"||et!=="number"||isFinite(ut)&&Math.floor(ut)===ut?c!=="categorical"&&et==="number"&&w!==void 0&&ut<w?[new wn(Qe.key,Mt,"stop domain values must appear in ascending order")]:(w=ut,c==="categorical"&&ut in P?[new wn(Qe.key,Mt,"stop domain values must be unique")]:(P[ut]=!0,[])):[new wn(Qe.key,Mt,`integer expected, found ${ut}`)]}}function eu(h){const A=(h.expressionContext==="property"?TA:Fu)(ol(h.value),h.valueSpec);if(A.result==="error")return A.value.map(y=>new wn(`${h.key}${y.key}`,h.value,y.message));const c=A.value.expression||A.value._styleExpression.expression;if(h.expressionContext==="property"&&h.propertyKey==="text-font"&&!c.outputDefined())return[new wn(h.key,h.value,`Invalid data expression for "${h.propertyKey}". Output values must be contained as literals within the expression.`)];if(h.expressionContext==="property"&&h.propertyType==="layout"&&!XA(c))return[new wn(h.key,h.value,'"feature-state" data expressions are not supported with layout properties.')];if(h.expressionContext==="filter"&&!XA(c))return[new wn(h.key,h.value,'"feature-state" data expressions are not supported with filters.')];if(h.expressionContext&&h.expressionContext.indexOf("cluster")===0){if(!Nl(c,["zoom","feature-state"]))return[new wn(h.key,h.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(h.expressionContext==="cluster-initial"&&!Bs(c))return[new wn(h.key,h.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rt(h){const A=h.key,c=h.value,y=Dr(c);return y!=="string"?[new wn(A,c,`color expected, ${y} found`)]:Mr.parse(String(c))?[]:[new wn(A,c,`color expected, "${c}" found`)]}function Xs(h){const A=h.key,c=h.value,y=h.valueSpec,w=[];return Array.isArray(y.values)?y.values.indexOf(ys(c))===-1&&w.push(new wn(A,c,`expected one of [${y.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(y.values).indexOf(ys(c))===-1&&w.push(new wn(A,c,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(c)} found`)),w}function Qa(h){return zu(ol(h.value))?eu(uo({},h,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Jo(h)}function Jo(h){const A=h.value,c=h.key;if(Dr(A)!=="array")return[new wn(c,A,`array expected, ${Dr(A)} found`)];const y=h.styleSpec;let w,R=[];if(A.length<1)return[new wn(c,A,"filter array must have at least 1 element")];switch(R=R.concat(Xs({key:`${c}[0]`,value:A[0],valueSpec:y.filter_operator,style:h.style,styleSpec:h.styleSpec})),ys(A[0])){case"<":case"<=":case">":case">=":A.length>=2&&ys(A[1])==="$type"&&R.push(new wn(c,A,`"$type" cannot be use with operator "${A[0]}"`));case"==":case"!=":A.length!==3&&R.push(new wn(c,A,`filter array for operator "${A[0]}" must have 3 elements`));case"in":case"!in":A.length>=2&&(w=Dr(A[1]),w!=="string"&&R.push(new wn(`${c}[1]`,A[1],`string expected, ${w} found`)));for(let P=2;P<A.length;P++)w=Dr(A[P]),ys(A[1])==="$type"?R=R.concat(Xs({key:`${c}[${P}]`,value:A[P],valueSpec:y.geometry_type,style:h.style,styleSpec:h.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&R.push(new wn(`${c}[${P}]`,A[P],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let P=1;P<A.length;P++)R=R.concat(Jo({key:`${c}[${P}]`,value:A[P],style:h.style,styleSpec:h.styleSpec}));break;case"has":case"!has":w=Dr(A[1]),A.length!==2?R.push(new wn(c,A,`filter array for "${A[0]}" operator must have 2 elements`)):w!=="string"&&R.push(new wn(`${c}[1]`,A[1],`string expected, ${w} found`))}return R}function yr(h,A){const c=h.key,y=h.validateSpec,w=h.style,R=h.styleSpec,P=h.value,N=h.objectKey,H=R[`${A}_${h.layerType}`];if(!H)return[];const ie=N.match(/^(.*)-transition$/);if(A==="paint"&&ie&&H[ie[1]]&&H[ie[1]].transition)return y({key:c,value:P,valueSpec:R.transition,style:w,styleSpec:R});const ue=h.valueSpec||H[N];if(!ue)return[new wn(c,P,`unknown property "${N}"`)];let ve;if(Dr(P)==="string"&&OA(ue)&&!ue.tokens&&(ve=/^{([^}]+)}$/.exec(P)))return[new wn(c,P,`"${N}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ve[1])} }\`.`)];const Pe=[];return h.layerType==="symbol"&&(N==="text-field"&&w&&!w.glyphs&&Pe.push(new wn(c,P,'use of "text-field" requires a style "glyphs" property')),N==="text-font"&&Ac(ol(P))&&ys(P.type)==="identity"&&Pe.push(new wn(c,P,'"text-font" does not support identity functions'))),Pe.concat(y({key:h.key,value:P,valueSpec:ue,style:w,styleSpec:R,expressionContext:"property",propertyType:A,propertyKey:N}))}function vs(h){return yr(h,"paint")}function th(h){return yr(h,"layout")}function Eh(h){let A=[];const c=h.value,y=h.key,w=h.style,R=h.styleSpec;if(Dr(c)!=="object")return[new wn(y,c,`object expected, ${Dr(c)} found`)];c.type||c.ref||A.push(new wn(y,c,'either "type" or "ref" is required'));let P=ys(c.type);const N=ys(c.ref);if(c.id){const H=ys(c.id);for(let ie=0;ie<h.arrayIndex;ie++){const ue=w.layers[ie];ys(ue.id)===H&&A.push(new wn(y,c.id,`duplicate layer id "${c.id}", previously used at line ${ue.id.__line__}`))}}if("ref"in c){let H;["type","source","source-layer","filter","layout"].forEach(ie=>{ie in c&&A.push(new wn(y,c[ie],`"${ie}" is prohibited for ref layers`))}),w.layers.forEach(ie=>{ys(ie.id)===N&&(H=ie)}),H?H.ref?A.push(new wn(y,c.ref,"ref cannot reference another ref layer")):P=ys(H.type):A.push(new wn(y,c.ref,`ref layer "${N}" not found`))}else if(P!=="background")if(c.source){const H=w.sources&&w.sources[c.source],ie=H&&ys(H.type);H?ie==="vector"&&P==="raster"?A.push(new wn(y,c.source,`layer "${c.id}" requires a raster source`)):ie!=="raster-dem"&&P==="hillshade"||ie!=="raster-dem"&&P==="color-relief"?A.push(new wn(y,c.source,`layer "${c.id}" requires a raster-dem source`)):ie==="raster"&&P!=="raster"?A.push(new wn(y,c.source,`layer "${c.id}" requires a vector source`)):ie!=="vector"||c["source-layer"]?ie==="raster-dem"&&P!=="hillshade"&&P!=="color-relief"?A.push(new wn(y,c.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):P!=="line"||!c.paint||!c.paint["line-gradient"]||ie==="geojson"&&H.lineMetrics||A.push(new wn(y,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):A.push(new wn(y,c,`layer "${c.id}" must specify a "source-layer"`)):A.push(new wn(y,c.source,`source "${c.source}" not found`))}else A.push(new wn(y,c,'missing required property "source"'));return A=A.concat(Ns({key:y,value:c,valueSpec:R.layer,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*":()=>[],type:()=>h.validateSpec({key:`${y}.type`,value:c.type,valueSpec:R.layer.type,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,object:c,objectKey:"type"}),filter:Qa,layout:H=>Ns({layer:c,key:H.key,value:H.value,style:H.style,styleSpec:H.styleSpec,validateSpec:H.validateSpec,objectElementValidators:{"*":ie=>th(uo({layerType:P},ie))}}),paint:H=>Ns({layer:c,key:H.key,value:H.value,style:H.style,styleSpec:H.styleSpec,validateSpec:H.validateSpec,objectElementValidators:{"*":ie=>vs(uo({layerType:P},ie))}})}})),A}function Po(h){const A=h.value,c=h.key,y=Dr(A);return y!=="string"?[new wn(c,A,`string expected, ${y} found`)]:[]}const nh={promoteId:function({key:h,value:A}){if(Dr(A)==="string")return Po({key:h,value:A});{const c=[];for(const y in A)c.push(...Po({key:`${h}.${y}`,value:A[y]}));return c}}};function kA(h){const A=h.value,c=h.key,y=h.styleSpec,w=h.style,R=h.validateSpec;if(!A.type)return[new wn(c,A,'"type" is required')];const P=ys(A.type);let N;switch(P){case"vector":case"raster":return N=Ns({key:c,value:A,valueSpec:y[`source_${P.replace("-","_")}`],style:h.style,styleSpec:y,objectElementValidators:nh,validateSpec:R}),N;case"raster-dem":return N=function(H){var ie;const ue=(ie=H.sourceName)!==null&&ie!==void 0?ie:"",ve=H.value,Pe=H.styleSpec,Qe=Pe.source_raster_dem,qe=H.style;let et=[];const ut=Dr(ve);if(ve===void 0)return et;if(ut!=="object")return et.push(new wn("source_raster_dem",ve,`object expected, ${ut} found`)),et;const Mt=ys(ve.encoding)==="custom",Qt=["redFactor","greenFactor","blueFactor","baseShift"],Dt=H.value.encoding?`"${H.value.encoding}"`:"Default";for(const jt in ve)!Mt&&Qt.includes(jt)?et.push(new wn(jt,ve[jt],`In "${ue}": "${jt}" is only valid when "encoding" is set to "custom". ${Dt} encoding found`)):Qe[jt]?et=et.concat(H.validateSpec({key:jt,value:ve[jt],valueSpec:Qe[jt],validateSpec:H.validateSpec,style:qe,styleSpec:Pe})):et.push(new wn(jt,ve[jt],`unknown property "${jt}"`));return et}({sourceName:c,value:A,style:h.style,styleSpec:y,validateSpec:R}),N;case"geojson":if(N=Ns({key:c,value:A,valueSpec:y.source_geojson,style:w,styleSpec:y,validateSpec:R,objectElementValidators:nh}),A.cluster)for(const H in A.clusterProperties){const[ie,ue]=A.clusterProperties[H],ve=typeof ie=="string"?[ie,["accumulated"],["get",H]]:ie;N.push(...eu({key:`${c}.${H}.map`,value:ue,expressionContext:"cluster-map"})),N.push(...eu({key:`${c}.${H}.reduce`,value:ve,expressionContext:"cluster-reduce"}))}return N;case"video":return Ns({key:c,value:A,valueSpec:y.source_video,style:w,validateSpec:R,styleSpec:y});case"image":return Ns({key:c,value:A,valueSpec:y.source_image,style:w,validateSpec:R,styleSpec:y});case"canvas":return[new wn(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Xs({key:`${c}.type`,value:A.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Id(h){const A=h.value,c=h.styleSpec,y=c.light,w=h.style;let R=[];const P=Dr(A);if(A===void 0)return R;if(P!=="object")return R=R.concat([new wn("light",A,`object expected, ${P} found`)]),R;for(const N in A){const H=N.match(/^(.*)-transition$/);R=R.concat(H&&y[H[1]]&&y[H[1]].transition?h.validateSpec({key:N,value:A[N],valueSpec:c.transition,validateSpec:h.validateSpec,style:w,styleSpec:c}):y[N]?h.validateSpec({key:N,value:A[N],valueSpec:y[N],validateSpec:h.validateSpec,style:w,styleSpec:c}):[new wn(N,A[N],`unknown property "${N}"`)])}return R}function tf(h){const A=h.value,c=h.styleSpec,y=c.sky,w=h.style,R=Dr(A);if(A===void 0)return[];if(R!=="object")return[new wn("sky",A,`object expected, ${R} found`)];let P=[];for(const N in A)P=P.concat(y[N]?h.validateSpec({key:N,value:A[N],valueSpec:y[N],style:w,styleSpec:c}):[new wn(N,A[N],`unknown property "${N}"`)]);return P}function Ep(h){const A=h.value,c=h.styleSpec,y=c.terrain,w=h.style;let R=[];const P=Dr(A);if(A===void 0)return R;if(P!=="object")return R=R.concat([new wn("terrain",A,`object expected, ${P} found`)]),R;for(const N in A)R=R.concat(y[N]?h.validateSpec({key:N,value:A[N],valueSpec:y[N],validateSpec:h.validateSpec,style:w,styleSpec:c}):[new wn(N,A[N],`unknown property "${N}"`)]);return R}function Ma(h){let A=[];const c=h.value,y=h.key;if(Array.isArray(c)){const w=[],R=[];for(const P in c)c[P].id&&w.includes(c[P].id)&&A.push(new wn(y,c,`all the sprites' ids must be unique, but ${c[P].id} is duplicated`)),w.push(c[P].id),c[P].url&&R.includes(c[P].url)&&A.push(new wn(y,c,`all the sprites' URLs must be unique, but ${c[P].url} is duplicated`)),R.push(c[P].url),A=A.concat(Ns({key:`${y}[${P}]`,value:c[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:h.validateSpec}));return A}return Po({key:y,value:c})}function Bh(h){return A=h.value,A&&A.constructor===Object?[]:[new wn(h.key,h.value,`object expected, ${Dr(h.value)} found`)];var A}const ih={"*":()=>[],array:ef,boolean:function(h){const A=h.value,c=h.key,y=Dr(A);return y!=="boolean"?[new wn(c,A,`boolean expected, ${y} found`)]:[]},number:Nu,color:rt,constants:Jd,enum:Xs,filter:Qa,function:Sh,layer:Eh,object:Ns,source:kA,light:Id,sky:tf,terrain:Ep,projection:function(h){const A=h.value,c=h.styleSpec,y=c.projection,w=h.style,R=Dr(A);if(A===void 0)return[];if(R!=="object")return[new wn("projection",A,`object expected, ${R} found`)];let P=[];for(const N in A)P=P.concat(y[N]?h.validateSpec({key:N,value:A[N],valueSpec:y[N],style:w,styleSpec:c}):[new wn(N,A[N],`unknown property "${N}"`)]);return P},projectionDefinition:function(h){const A=h.key;let c=h.value;c=c instanceof String?c.valueOf():c;const y=Dr(c);return y!=="array"||function(w){return Array.isArray(w)&&w.length===3&&typeof w[0]=="string"&&typeof w[1]=="string"&&typeof w[2]=="number"}(c)||function(w){return!!["interpolate","step","literal"].includes(w[0])}(c)?["array","string"].includes(y)?[]:[new wn(A,c,`projection expected, invalid type "${y}" found`)]:[new wn(A,c,`projection expected, invalid array ${JSON.stringify(c)} found`)]},string:Po,formatted:function(h){return Po(h).length===0?[]:eu(h)},resolvedImage:function(h){return Po(h).length===0?[]:eu(h)},padding:function(h){const A=h.key,c=h.value;if(Dr(c)==="array"){if(c.length<1||c.length>4)return[new wn(A,c,`padding requires 1 to 4 values; ${c.length} values found`)];const y={type:"number"};let w=[];for(let R=0;R<c.length;R++)w=w.concat(h.validateSpec({key:`${A}[${R}]`,value:c[R],validateSpec:h.validateSpec,valueSpec:y}));return w}return Nu({key:A,value:c,valueSpec:{}})},numberArray:function(h){const A=h.key,c=h.value;if(Dr(c)==="array"){const y={type:"number"};if(c.length<1)return[new wn(A,c,"array length at least 1 expected, length 0 found")];let w=[];for(let R=0;R<c.length;R++)w=w.concat(h.validateSpec({key:`${A}[${R}]`,value:c[R],validateSpec:h.validateSpec,valueSpec:y}));return w}return Nu({key:A,value:c,valueSpec:{}})},colorArray:function(h){const A=h.key,c=h.value;if(Dr(c)==="array"){if(c.length<1)return[new wn(A,c,"array length at least 1 expected, length 0 found")];let y=[];for(let w=0;w<c.length;w++)y=y.concat(rt({key:`${A}[${w}]`,value:c[w]}));return y}return rt({key:A,value:c})},variableAnchorOffsetCollection:function(h){const A=h.key,c=h.value,y=Dr(c),w=h.styleSpec;if(y!=="array"||c.length<1||c.length%2!=0)return[new wn(A,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let R=[];for(let P=0;P<c.length;P+=2)R=R.concat(Xs({key:`${A}[${P}]`,value:c[P],valueSpec:w.layout_symbol["text-anchor"]})),R=R.concat(ef({key:`${A}[${P+1}]`,value:c[P+1],valueSpec:{length:2,value:"number"},validateSpec:h.validateSpec,style:h.style,styleSpec:w}));return R},sprite:Ma,state:Bh};function Gu(h){const A=h.value,c=h.valueSpec,y=h.styleSpec;return h.validateSpec=Gu,c.expression&&Ac(ys(A))?Sh(h):c.expression&&IA(ol(A))?eu(h):c.type&&ih[c.type]?ih[c.type](h):Ns(uo({},h,{valueSpec:c.type?y[c.type]:c}))}function nf(h){const A=h.value,c=h.key,y=Po(h);return y.length||(A.indexOf("{fontstack}")===-1&&y.push(new wn(c,A,'"glyphs" url must include a "{fontstack}" token')),A.indexOf("{range}")===-1&&y.push(new wn(c,A,'"glyphs" url must include a "{range}" token'))),y}function al(h,A=it){let c=[];return c=c.concat(Gu({key:"",value:h,valueSpec:A.$root,styleSpec:A,style:h,validateSpec:Gu,objectElementValidators:{glyphs:nf,"*":()=>[]}})),h.constants&&(c=c.concat(Jd({key:"constants",value:h.constants}))),$h(c)}function rs(h){return function(A){return h({...A,validateSpec:Gu})}}function $h(h){return[].concat(h).sort((A,c)=>A.line-c.line)}function uA(h){return function(...A){return $h(h.apply(this,A))}}al.source=uA(rs(kA)),al.sprite=uA(rs(Ma)),al.glyphs=uA(rs(nf)),al.light=uA(rs(Id)),al.sky=uA(rs(tf)),al.terrain=uA(rs(Ep)),al.state=uA(rs(Bh)),al.layer=uA(rs(Eh)),al.filter=uA(rs(Qa)),al.paintProperty=uA(rs(vs)),al.layoutProperty=uA(rs(th));const Td=al,rf=Td.light,_l=Td.sky,Tc=Td.paintProperty,Ff=Td.layoutProperty;function Zh(h,A){let c=!1;if(A&&A.length)for(const y of A)h.fire(new ht(new Error(y.message))),c=!0;return c}class ba{constructor(A,c,y){const w=this.cells=[];if(A instanceof ArrayBuffer){this.arrayBuffer=A;const P=new Int32Array(this.arrayBuffer);A=P[0],this.d=(c=P[1])+2*(y=P[2]);for(let H=0;H<this.d*this.d;H++){const ie=P[3+H],ue=P[3+H+1];w.push(ie===ue?null:P.subarray(ie,ue))}const N=P[3+w.length+1];this.keys=P.subarray(P[3+w.length],N),this.bboxes=P.subarray(N),this.insert=this._insertReadonly}else{this.d=c+2*y;for(let P=0;P<this.d*this.d;P++)w.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=A,this.padding=y,this.scale=c/A,this.uid=0;const R=y/c*A;this.min=-R,this.max=A+R}insert(A,c,y,w,R){this._forEachCell(c,y,w,R,this._insertCell,this.uid++,void 0,void 0),this.keys.push(A),this.bboxes.push(c),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(R)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(A,c,y,w,R,P){this.cells[R].push(P)}query(A,c,y,w,R){const P=this.min,N=this.max;if(A<=P&&c<=P&&N<=y&&N<=w&&!R)return Array.prototype.slice.call(this.keys);{const H=[];return this._forEachCell(A,c,y,w,this._queryCell,H,{},R),H}}_queryCell(A,c,y,w,R,P,N,H){const ie=this.cells[R];if(ie!==null){const ue=this.keys,ve=this.bboxes;for(let Pe=0;Pe<ie.length;Pe++){const Qe=ie[Pe];if(N[Qe]===void 0){const qe=4*Qe;(H?H(ve[qe+0],ve[qe+1],ve[qe+2],ve[qe+3]):A<=ve[qe+2]&&c<=ve[qe+3]&&y>=ve[qe+0]&&w>=ve[qe+1])?(N[Qe]=!0,P.push(ue[Qe])):N[Qe]=!1}}}}_forEachCell(A,c,y,w,R,P,N,H){const ie=this._convertToCellCoord(A),ue=this._convertToCellCoord(c),ve=this._convertToCellCoord(y),Pe=this._convertToCellCoord(w);for(let Qe=ie;Qe<=ve;Qe++)for(let qe=ue;qe<=Pe;qe++){const et=this.d*qe+Qe;if((!H||H(this._convertFromCellCoord(Qe),this._convertFromCellCoord(qe),this._convertFromCellCoord(Qe+1),this._convertFromCellCoord(qe+1)))&&R.call(this,A,c,y,w,et,P,N,H))return}}_convertFromCellCoord(A){return(A-this.padding)/this.scale}_convertToCellCoord(A){return Math.max(0,Math.min(this.d-1,Math.floor(A*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const A=this.cells,c=3+this.cells.length+1+1;let y=0;for(let P=0;P<this.cells.length;P++)y+=this.cells[P].length;const w=new Int32Array(c+y+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let R=c;for(let P=0;P<A.length;P++){const N=A[P];w[3+P]=R,w.set(N,R),R+=N.length}return w[3+A.length]=R,w.set(this.keys,R),R+=this.keys.length,w[3+A.length+1]=R,w.set(this.bboxes,R),R+=this.bboxes.length,w.buffer}static serialize(A,c){const y=A.toArrayBuffer();return c&&c.push(y),{buffer:y}}static deserialize(A){return new ba(A.buffer)}}const Jr={};function ci(h,A,c={}){if(Jr[h])throw new Error(`${h} is already registered.`);Object.defineProperty(A,"_classRegistryKey",{value:h,writeable:!1}),Jr[h]={klass:A,omit:c.omit||[],shallow:c.shallow||[]}}ci("Object",Object),ci("Set",Set),ci("TransferableGridIndex",ba),ci("Color",Mr),ci("Error",Error),ci("AJAXError",We),ci("ResolvedImage",ns),ci("StylePropertyFunction",Dl),ci("StyleExpression",Zc,{omit:["_evaluator"]}),ci("ZoomDependentExpression",Vh),ci("ZoomConstantExpression",wh),ci("CompoundExpression",kl,{omit:["_evaluate"]});for(const h in EA)EA[h]._classRegistryKey||ci(`Expression_${h}`,EA[h]);function Wu(h){return h&&typeof ArrayBuffer<"u"&&(h instanceof ArrayBuffer||h.constructor&&h.constructor.name==="ArrayBuffer")}function Qu(h){return h.$name||h.constructor._classRegistryKey}function Xh(h){return!function(A){if(A===null||typeof A!="object")return!1;const c=Qu(A);return!(!c||c==="Object")}(h)&&(h==null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h instanceof Boolean||h instanceof Number||h instanceof String||h instanceof Date||h instanceof RegExp||h instanceof Blob||h instanceof Error||Wu(h)||Jn(h)||ArrayBuffer.isView(h)||h instanceof ImageData)}function kc(h,A){if(Xh(h))return(Wu(h)||Jn(h))&&A&&A.push(h),ArrayBuffer.isView(h)&&A&&A.push(h.buffer),h instanceof ImageData&&A&&A.push(h.data.buffer),h;if(Array.isArray(h)){const R=[];for(const P of h)R.push(kc(P,A));return R}if(typeof h!="object")throw new Error("can't serialize object of type "+typeof h);const c=Qu(h);if(!c)throw new Error(`can't serialize object of unregistered class ${h.constructor.name}`);if(!Jr[c])throw new Error(`${c} is not registered.`);const{klass:y}=Jr[c],w=y.serialize?y.serialize(h,A):{};if(y.serialize){if(A&&w===A[A.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const R in h){if(!h.hasOwnProperty(R)||Jr[c].omit.indexOf(R)>=0)continue;const P=h[R];w[R]=Jr[c].shallow.indexOf(R)>=0?P:kc(P,A)}h instanceof Error&&(w.message=h.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(w.$name=c),w}function yu(h){if(Xh(h))return h;if(Array.isArray(h))return h.map(yu);if(typeof h!="object")throw new Error("can't deserialize object of type "+typeof h);const A=Qu(h)||"Object";if(!Jr[A])throw new Error(`can't deserialize unregistered class ${A}`);const{klass:c}=Jr[A];if(!c)throw new Error(`can't deserialize unregistered class ${A}`);if(c.deserialize)return c.deserialize(h);const y=Object.create(c.prototype);for(const w of Object.keys(h)){if(w==="$name")continue;const R=h[w];y[w]=Jr[A].shallow.indexOf(w)>=0?R:yu(R)}return y}class of{constructor(){this.first=!0}update(A,c){const y=Math.floor(A);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=A,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=c),A!==this.lastZoom&&(this.lastZoom=A,this.lastFloorZoom=y,!0))}}const io={"Latin-1 Supplement":h=>h>=128&&h<=255,"Hangul Jamo":h=>h>=4352&&h<=4607,Khmer:h=>h>=6016&&h<=6143,"General Punctuation":h=>h>=8192&&h<=8303,"Letterlike Symbols":h=>h>=8448&&h<=8527,"Number Forms":h=>h>=8528&&h<=8591,"Miscellaneous Technical":h=>h>=8960&&h<=9215,"Control Pictures":h=>h>=9216&&h<=9279,"Optical Character Recognition":h=>h>=9280&&h<=9311,"Enclosed Alphanumerics":h=>h>=9312&&h<=9471,"Geometric Shapes":h=>h>=9632&&h<=9727,"Miscellaneous Symbols":h=>h>=9728&&h<=9983,"Miscellaneous Symbols and Arrows":h=>h>=11008&&h<=11263,"Ideographic Description Characters":h=>h>=12272&&h<=12287,"CJK Symbols and Punctuation":h=>h>=12288&&h<=12351,Hiragana:h=>h>=12352&&h<=12447,Katakana:h=>h>=12448&&h<=12543,Kanbun:h=>h>=12688&&h<=12703,"CJK Strokes":h=>h>=12736&&h<=12783,"Enclosed CJK Letters and Months":h=>h>=12800&&h<=13055,"CJK Compatibility":h=>h>=13056&&h<=13311,"Yijing Hexagram Symbols":h=>h>=19904&&h<=19967,"CJK Unified Ideographs":h=>h>=19968&&h<=40959,"Hangul Syllables":h=>h>=44032&&h<=55215,"Private Use Area":h=>h>=57344&&h<=63743,"Vertical Forms":h=>h>=65040&&h<=65055,"CJK Compatibility Forms":h=>h>=65072&&h<=65103,"Small Form Variants":h=>h>=65104&&h<=65135,"Halfwidth and Fullwidth Forms":h=>h>=65280&&h<=65519};function Gl(h){for(const A of h)if(vu(A.charCodeAt(0)))return!0;return!1}function Oh(h){for(const A of h)if(!cc(A.charCodeAt(0)))return!1;return!0}function uc(h){const A=h.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch{return null}}).filter(c=>c);return new RegExp(A.join("|"),"u")}const DA=uc(["Arab","Dupl","Mong","Ougr","Syrc"]);function cc(h){return!DA.test(String.fromCodePoint(h))}const Ih=uc(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function vu(h){return!(h!==746&&h!==747&&(h<4352||!(io["CJK Compatibility Forms"](h)&&!(h>=65097&&h<=65103)||io["CJK Compatibility"](h)||io["CJK Strokes"](h)||!(!io["CJK Symbols and Punctuation"](h)||h>=12296&&h<=12305||h>=12308&&h<=12319||h===12336)||io["Enclosed CJK Letters and Months"](h)||io["Ideographic Description Characters"](h)||io.Kanbun(h)||io.Katakana(h)&&h!==12540||!(!io["Halfwidth and Fullwidth Forms"](h)||h===65288||h===65289||h===65293||h>=65306&&h<=65310||h===65339||h===65341||h===65343||h>=65371&&h<=65503||h===65507||h>=65512&&h<=65519)||!(!io["Small Form Variants"](h)||h>=65112&&h<=65118||h>=65123&&h<=65126)||io["Vertical Forms"](h)||io["Yijing Hexagram Symbols"](h)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(h))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(h))||Ih.test(String.fromCodePoint(h)))))}function rh(h){return!(vu(h)||function(A){return!!(io["Latin-1 Supplement"](A)&&(A===167||A===169||A===174||A===177||A===188||A===189||A===190||A===215||A===247)||io["General Punctuation"](A)&&(A===8214||A===8224||A===8225||A===8240||A===8241||A===8251||A===8252||A===8258||A===8263||A===8264||A===8265||A===8273)||io["Letterlike Symbols"](A)||io["Number Forms"](A)||io["Miscellaneous Technical"](A)&&(A>=8960&&A<=8967||A>=8972&&A<=8991||A>=8996&&A<=9e3||A===9003||A>=9085&&A<=9114||A>=9150&&A<=9165||A===9167||A>=9169&&A<=9179||A>=9186&&A<=9215)||io["Control Pictures"](A)&&A!==9251||io["Optical Character Recognition"](A)||io["Enclosed Alphanumerics"](A)||io["Geometric Shapes"](A)||io["Miscellaneous Symbols"](A)&&!(A>=9754&&A<=9759)||io["Miscellaneous Symbols and Arrows"](A)&&(A>=11026&&A<=11055||A>=11088&&A<=11097||A>=11192&&A<=11243)||io["CJK Symbols and Punctuation"](A)||io.Katakana(A)||io["Private Use Area"](A)||io["CJK Compatibility Forms"](A)||io["Small Form Variants"](A)||io["Halfwidth and Fullwidth Forms"](A)||A===8734||A===8756||A===8757||A>=9984&&A<=10087||A>=10102&&A<=10131||A===65532||A===65533)}(h))}const tu=uc(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function bl(h){return tu.test(String.fromCodePoint(h))}function Bp(h,A){return!(!A&&bl(h)||h>=2304&&h<=3583||h>=3840&&h<=4255||io.Khmer(h))}function af(h){for(const A of h)if(bl(A.charCodeAt(0)))return!0;return!1}const Wl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(h){this.pluginStatus=h.pluginStatus,this.pluginURL=h.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(h){if(Wl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=h.applyArabicShaping,this.processBidirectionalText=h.processBidirectionalText,this.processStyledBidirectionalText=h.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(h,A){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(h.pluginStatus!=="loading")return this.setState(h),h;const c=h.pluginURL,y=new Promise(R=>{this.loadScriptResolve=R});A(c);const w=new Promise(R=>setTimeout(()=>R(),this.TIMEOUT));if(yield Promise.race([y,w]),this.isParsed()){const R={pluginStatus:"loaded",pluginURL:c};return this.setState(R),R}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${c}`)})}};class Ko{constructor(A,c){this.zoom=A,c?(this.now=c.now||0,this.fadeDuration=c.fadeDuration||0,this.zoomHistory=c.zoomHistory||new of,this.transition=c.transition||{},this.globalState=c.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new of,this.transition={},this.globalState={})}isSupportedScript(A){return function(c,y){for(const w of c)if(!Bp(w.charCodeAt(0),y))return!1;return!0}(A,Wl.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const A=this.zoom,c=A-Math.floor(A),y=this.crossFadingFactor();return A>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*c}}}class Ql{constructor(A,c){this.property=A,this.value=c,this.expression=function(y,w){if(Ac(y))return new Dl(y,w);if(IA(y)){const R=TA(y,w);if(R.result==="error")throw new Error(R.value.map(P=>`${P.key}: ${P.message}`).join(", "));return R.value}{let R=y;return w.type==="color"&&typeof y=="string"?R=Mr.parse(y):w.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?w.type!=="numberArray"||typeof y!="number"&&!Array.isArray(y)?w.type!=="colorArray"||typeof y!="string"&&!Array.isArray(y)?w.type==="variableAnchorOffsetCollection"&&Array.isArray(y)?R=Ga.parse(y):w.type==="projectionDefinition"&&typeof y=="string"&&(R=Ca.parse(y)):R=sa.parse(y):R=Ea.parse(y):R=Na.parse(y),{globalStateRefs:new Set,kind:"constant",evaluate:()=>R}}}(c===void 0?A.specification.default:c,A.specification),this._evaluate=this.expression.evaluate}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(A,c,y){return this.property.possiblyEvaluate(this,A,c,y)}setGlobalState(A){this.expression.evaluate=(c,y,w,R,P,N)=>(c.globalState=A,this._evaluate.call(this.expression,c,y,w,R,P,N))}}class Jh{constructor(A){this.property=A,this.value=new Ql(A,void 0)}transitioned(A,c){return new Cu(this.property,this.value,c,Fe({},A.transition,this.transition),A.now)}untransitioned(){return new Cu(this.property,this.value,null,{},0)}}class zf{constructor(A){this._properties=A,this._values=Object.create(A.defaultTransitionablePropertyValues)}getValue(A){return bt(this._values[A].value.value)}setValue(A,c){Object.prototype.hasOwnProperty.call(this._values,A)||(this._values[A]=new Jh(this._values[A].property)),this._values[A].value=new Ql(this._values[A].property,c===null?void 0:bt(c))}getTransition(A){return bt(this._values[A].transition)}setTransition(A,c){Object.prototype.hasOwnProperty.call(this._values,A)||(this._values[A]=new Jh(this._values[A].property)),this._values[A].transition=bt(c)||void 0}serialize(){const A={};for(const c of Object.keys(this._values)){const y=this.getValue(c);y!==void 0&&(A[c]=y);const w=this.getTransition(c);w!==void 0&&(A[`${c}-transition`]=w)}return A}transitioned(A,c){const y=new ro(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].transitioned(A,c._values[w]);return y}untransitioned(){const A=new ro(this._properties);for(const c of Object.keys(this._values))A._values[c]=this._values[c].untransitioned();return A}}class Cu{constructor(A,c,y,w,R){this.property=A,this.value=c,this.begin=R+w.delay||0,this.end=this.begin+w.duration||0,A.specification.transition&&(w.delay||w.duration)&&(this.prior=y)}possiblyEvaluate(A,c,y){const w=A.now||0,R=this.value.possiblyEvaluate(A,c,y),P=this.prior;if(P){if(w>this.end)return this.prior=null,R;if(this.value.isDataDriven())return this.prior=null,R;if(w<this.begin)return P.possiblyEvaluate(A,c,y);{const N=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(A,c,y),R,lt(N))}}return R}}class ro{constructor(A){this._properties=A,this._values=Object.create(A.defaultTransitioningPropertyValues)}possiblyEvaluate(A,c,y){const w=new Yu(this._properties);for(const R of Object.keys(this._values))w._values[R]=this._values[R].possiblyEvaluate(A,c,y);return w}hasTransition(){for(const A of Object.keys(this._values))if(this._values[A].prior)return!0;return!1}}class Uo{constructor(A){this._properties=A,this._values=Object.create(A.defaultPropertyValues),this._globalState={}}hasValue(A){return this._values[A].value!==void 0}getValue(A){return bt(this._values[A].value)}setValue(A,c){this._values[A]=new Ql(this._values[A].property,c===null?void 0:bt(c)),this._values[A].setGlobalState(this._globalState)}serialize(){const A={};for(const c of Object.keys(this._values)){const y=this.getValue(c);y!==void 0&&(A[c]=y)}return A}possiblyEvaluate(A,c,y){const w=new Yu(this._properties);for(const R of Object.keys(this._values))w._values[R]=this._values[R].possiblyEvaluate(A,c,y);return w}setGlobalState(A){this._globalState=A;for(const c of Object.values(this._values))c.setGlobalState(A)}}class Kr{constructor(A,c,y){this.property=A,this.value=c,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(A){return this.value.kind==="constant"?this.value.value:A}evaluate(A,c,y,w){return this.property.evaluate(this.value,this.parameters,A,c,y,w)}}class Yu{constructor(A){this._properties=A,this._values=Object.create(A.defaultPossiblyEvaluatedValues)}get(A){return this._values[A]}}class Ii{constructor(A){this.specification=A}possiblyEvaluate(A,c){if(A.isDataDriven())throw new Error("Value should not be data driven");return A.expression.evaluate(c)}interpolate(A,c,y){const w=Ku[this.specification.type];return w?w(A,c,y):A}}class ki{constructor(A,c){this.specification=A,this.overrides=c}possiblyEvaluate(A,c,y,w){return new Kr(this,A.expression.kind==="constant"||A.expression.kind==="camera"?{kind:"constant",value:A.expression.evaluate(c,null,{},y,w)}:A.expression,c)}interpolate(A,c,y){if(A.value.kind!=="constant"||c.value.kind!=="constant")return A;if(A.value.value===void 0||c.value.value===void 0)return new Kr(this,{kind:"constant",value:void 0},A.parameters);const w=Ku[this.specification.type];if(w){const R=w(A.value.value,c.value.value,y);return new Kr(this,{kind:"constant",value:R},A.parameters)}return A}evaluate(A,c,y,w,R,P){return A.kind==="constant"?A.value:A.evaluate(c,y,w,R,P)}}class Dc extends ki{possiblyEvaluate(A,c,y,w){if(A.value===void 0)return new Kr(this,{kind:"constant",value:void 0},c);if(A.expression.kind==="constant"){const R=A.expression.evaluate(c,null,{},y,w),P=A.property.specification.type==="resolvedImage"&&typeof R!="string"?R.name:R,N=this._calculate(P,P,P,c);return new Kr(this,{kind:"constant",value:N},c)}if(A.expression.kind==="camera"){const R=this._calculate(A.expression.evaluate({zoom:c.zoom-1}),A.expression.evaluate({zoom:c.zoom}),A.expression.evaluate({zoom:c.zoom+1}),c);return new Kr(this,{kind:"constant",value:R},c)}return new Kr(this,A.expression,c)}evaluate(A,c,y,w,R,P){if(A.kind==="source"){const N=A.evaluate(c,y,w,R,P);return this._calculate(N,N,N,c)}return A.kind==="composite"?this._calculate(A.evaluate({zoom:Math.floor(c.zoom)-1},y,w),A.evaluate({zoom:Math.floor(c.zoom)},y,w),A.evaluate({zoom:Math.floor(c.zoom)+1},y,w),c):A.value}_calculate(A,c,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:A,to:c}:{from:y,to:c}}interpolate(A){return A}}class RA{constructor(A){this.specification=A}possiblyEvaluate(A,c,y,w){if(A.value!==void 0){if(A.expression.kind==="constant"){const R=A.expression.evaluate(c,null,{},y,w);return this._calculate(R,R,R,c)}return this._calculate(A.expression.evaluate(new Ko(Math.floor(c.zoom-1),c)),A.expression.evaluate(new Ko(Math.floor(c.zoom),c)),A.expression.evaluate(new Ko(Math.floor(c.zoom+1),c)),c)}}_calculate(A,c,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:A,to:c}:{from:y,to:c}}interpolate(A){return A}}class cA{constructor(A){this.specification=A}possiblyEvaluate(A,c,y,w){return!!A.expression.evaluate(c,null,{},y,w)}interpolate(){return!1}}class Aa{constructor(A){this.properties=A,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in A){const y=A[c];y.specification.overridable&&this.overridableProperties.push(c);const w=this.defaultPropertyValues[c]=new Ql(y,void 0),R=this.defaultTransitionablePropertyValues[c]=new Jh(y);this.defaultTransitioningPropertyValues[c]=R.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=w.possiblyEvaluate({})}}}ci("DataDrivenProperty",ki),ci("DataConstantProperty",Ii),ci("CrossFadedDataDrivenProperty",Dc),ci("CrossFadedProperty",RA),ci("ColorRampProperty",cA);const go="-transition";class Yl extends Tt{constructor(A,c){if(super(),this.id=A.id,this.type=A.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},A.type!=="custom"&&(this.metadata=A.metadata,this.minzoom=A.minzoom,this.maxzoom=A.maxzoom,this._globalState={},A.type!=="background"&&(this.source=A.source,this.sourceLayer=A["source-layer"],this.filter=A.filter,this._featureFilter=Ic(A.filter)),c.layout&&(this._unevaluatedLayout=new Uo(c.layout)),c.paint)){this._transitionablePaint=new zf(c.paint);for(const y in A.paint)this.setPaintProperty(y,A.paint[y],{validate:!1});for(const y in A.layout)this.setLayoutProperty(y,A.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Yu(c.paint)}}setFilter(A){this.filter=A,this._featureFilter=Ic(A)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(A){return A==="visibility"?this.visibility:this._unevaluatedLayout.getValue(A)}getLayoutAffectingGlobalStateRefs(){const A=new Set;if(this._unevaluatedLayout)for(const c in this._unevaluatedLayout._values){const y=this._unevaluatedLayout._values[c];for(const w of y.getGlobalStateRefs())A.add(w)}for(const c of this._featureFilter.getGlobalStateRefs())A.add(c);return A}getPaintAffectingGlobalStateRefs(){var A;const c=new globalThis.Map;if(this._transitionablePaint)for(const y in this._transitionablePaint._values){const w=this._transitionablePaint._values[y].value;for(const R of w.getGlobalStateRefs()){const P=(A=c.get(R))!==null&&A!==void 0?A:[];P.push({name:y,value:w.value}),c.set(R,P)}}return c}setLayoutProperty(A,c,y={}){c!=null&&this._validate(Ff,`layers.${this.id}.layout.${A}`,A,c,y)||(A!=="visibility"?this._unevaluatedLayout.setValue(A,c):this.visibility=c)}getPaintProperty(A){return A.endsWith(go)?this._transitionablePaint.getTransition(A.slice(0,-11)):this._transitionablePaint.getValue(A)}setPaintProperty(A,c,y={}){if(c!=null&&this._validate(Tc,`layers.${this.id}.paint.${A}`,A,c,y))return!1;if(A.endsWith(go))return this._transitionablePaint.setTransition(A.slice(0,-11),c||void 0),!1;{const w=this._transitionablePaint._values[A],R=w.property.specification["property-type"]==="cross-faded-data-driven",P=w.value.isDataDriven(),N=w.value;this._transitionablePaint.setValue(A,c),this._handleSpecialPaintPropertyUpdate(A);const H=this._transitionablePaint._values[A].value;return H.isDataDriven()||P||R||this._handleOverridablePaintPropertyUpdate(A,N,H)}}_handleSpecialPaintPropertyUpdate(A){}_handleOverridablePaintPropertyUpdate(A,c,y){return!1}isHidden(A){return!!(this.minzoom&&A<this.minzoom)||!!(this.maxzoom&&A>=this.maxzoom)||this.visibility==="none"}updateTransitions(A){this._transitioningPaint=this._transitionablePaint.transitioned(A,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(A,c){A.globalState=this._globalState,A.getCrossfadeParameters&&(this._crossfadeParameters=A.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(A,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(A,void 0,c)}setGlobalState(A){this._globalState=A,this._unevaluatedLayout&&this._unevaluatedLayout.setGlobalState(A)}serialize(){const A={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(A.layout=A.layout||{},A.layout.visibility=this.visibility),He(A,(c,y)=>!(c===void 0||y==="layout"&&!Object.keys(c).length||y==="paint"&&!Object.keys(c).length))}_validate(A,c,y,w,R={}){return(!R||R.validate!==!1)&&Zh(this,A.call(Td,{key:c,layerType:this.type,objectKey:y,value:w,styleSpec:it,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const A in this.paint._values){const c=this.paint.get(A);if(c instanceof Kr&&OA(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const jf={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ed{constructor(A,c){this._structArray=A,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Lo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(A,c){return A._trim(),c&&(A.isTransferred=!0,c.push(A.arrayBuffer)),{length:A.length,arrayBuffer:A.arrayBuffer}}static deserialize(A){const c=Object.create(this.prototype);return c.arrayBuffer=A.arrayBuffer,c.length=A.length,c.capacity=A.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(A){this.reserve(A),this.length=A}reserve(A){if(A>this.capacity){this.capacity=Math.max(A,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ya(h,A=1){let c=0,y=0;return{members:h.map(w=>{const R=jf[w.type].BYTES_PER_ELEMENT,P=c=td(c,Math.max(A,R)),N=w.components||1;return y=Math.max(y,R),c+=R*N,{name:w.name,type:w.type,components:N,offset:P}}),size:td(c,Math.max(y,A)),alignment:A}}function td(h,A){return Math.ceil(h/A)*A}class _u extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c){const y=this.length;return this.resize(y+1),this.emplace(y,A,c)}emplace(A,c,y){const w=2*A;return this.int16[w+0]=c,this.int16[w+1]=y,A}}_u.prototype.bytesPerElement=4,ci("StructArrayLayout2i4",_u);class Rc extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y){const w=this.length;return this.resize(w+1),this.emplace(w,A,c,y)}emplace(A,c,y,w){const R=3*A;return this.int16[R+0]=c,this.int16[R+1]=y,this.int16[R+2]=w,A}}Rc.prototype.bytesPerElement=6,ci("StructArrayLayout3i6",Rc);class Js extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y,w){const R=this.length;return this.resize(R+1),this.emplace(R,A,c,y,w)}emplace(A,c,y,w,R){const P=4*A;return this.int16[P+0]=c,this.int16[P+1]=y,this.int16[P+2]=w,this.int16[P+3]=R,A}}Js.prototype.bytesPerElement=8,ci("StructArrayLayout4i8",Js);class os extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P){const N=this.length;return this.resize(N+1),this.emplace(N,A,c,y,w,R,P)}emplace(A,c,y,w,R,P,N){const H=6*A;return this.int16[H+0]=c,this.int16[H+1]=y,this.int16[H+2]=w,this.int16[H+3]=R,this.int16[H+4]=P,this.int16[H+5]=N,A}}os.prototype.bytesPerElement=12,ci("StructArrayLayout2i4i12",os);class hA extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P){const N=this.length;return this.resize(N+1),this.emplace(N,A,c,y,w,R,P)}emplace(A,c,y,w,R,P,N){const H=4*A,ie=8*A;return this.int16[H+0]=c,this.int16[H+1]=y,this.uint8[ie+4]=w,this.uint8[ie+5]=R,this.uint8[ie+6]=P,this.uint8[ie+7]=N,A}}hA.prototype.bytesPerElement=8,ci("StructArrayLayout2i4ub8",hA);class Pc extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A,c){const y=this.length;return this.resize(y+1),this.emplace(y,A,c)}emplace(A,c,y){const w=2*A;return this.float32[w+0]=c,this.float32[w+1]=y,A}}Pc.prototype.bytesPerElement=8,ci("StructArrayLayout2f8",Pc);class hc extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P,N,H,ie,ue){const ve=this.length;return this.resize(ve+1),this.emplace(ve,A,c,y,w,R,P,N,H,ie,ue)}emplace(A,c,y,w,R,P,N,H,ie,ue,ve){const Pe=10*A;return this.uint16[Pe+0]=c,this.uint16[Pe+1]=y,this.uint16[Pe+2]=w,this.uint16[Pe+3]=R,this.uint16[Pe+4]=P,this.uint16[Pe+5]=N,this.uint16[Pe+6]=H,this.uint16[Pe+7]=ie,this.uint16[Pe+8]=ue,this.uint16[Pe+9]=ve,A}}hc.prototype.bytesPerElement=20,ci("StructArrayLayout10ui20",hc);class dc extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P,N,H,ie,ue,ve,Pe){const Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,A,c,y,w,R,P,N,H,ie,ue,ve,Pe)}emplace(A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe){const qe=12*A;return this.int16[qe+0]=c,this.int16[qe+1]=y,this.int16[qe+2]=w,this.int16[qe+3]=R,this.uint16[qe+4]=P,this.uint16[qe+5]=N,this.uint16[qe+6]=H,this.uint16[qe+7]=ie,this.int16[qe+8]=ue,this.int16[qe+9]=ve,this.int16[qe+10]=Pe,this.int16[qe+11]=Qe,A}}dc.prototype.bytesPerElement=24,ci("StructArrayLayout4i4ui4i24",dc);class ql extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A,c,y){const w=this.length;return this.resize(w+1),this.emplace(w,A,c,y)}emplace(A,c,y,w){const R=3*A;return this.float32[R+0]=c,this.float32[R+1]=y,this.float32[R+2]=w,A}}ql.prototype.bytesPerElement=12,ci("StructArrayLayout3f12",ql);class nd extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(A){const c=this.length;return this.resize(c+1),this.emplace(c,A)}emplace(A,c){return this.uint32[1*A+0]=c,A}}nd.prototype.bytesPerElement=4,ci("StructArrayLayout1ul4",nd);class id extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P,N,H,ie){const ue=this.length;return this.resize(ue+1),this.emplace(ue,A,c,y,w,R,P,N,H,ie)}emplace(A,c,y,w,R,P,N,H,ie,ue){const ve=10*A,Pe=5*A;return this.int16[ve+0]=c,this.int16[ve+1]=y,this.int16[ve+2]=w,this.int16[ve+3]=R,this.int16[ve+4]=P,this.int16[ve+5]=N,this.uint32[Pe+3]=H,this.uint16[ve+8]=ie,this.uint16[ve+9]=ue,A}}id.prototype.bytesPerElement=20,ci("StructArrayLayout6i1ul2ui20",id);class kd extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P){const N=this.length;return this.resize(N+1),this.emplace(N,A,c,y,w,R,P)}emplace(A,c,y,w,R,P,N){const H=6*A;return this.int16[H+0]=c,this.int16[H+1]=y,this.int16[H+2]=w,this.int16[H+3]=R,this.int16[H+4]=P,this.int16[H+5]=N,A}}kd.prototype.bytesPerElement=12,ci("StructArrayLayout2i2i2i12",kd);class I extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R){const P=this.length;return this.resize(P+1),this.emplace(P,A,c,y,w,R)}emplace(A,c,y,w,R,P){const N=4*A,H=8*A;return this.float32[N+0]=c,this.float32[N+1]=y,this.float32[N+2]=w,this.int16[H+6]=R,this.int16[H+7]=P,A}}I.prototype.bytesPerElement=16,ci("StructArrayLayout2f1f2i16",I);class s extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P){const N=this.length;return this.resize(N+1),this.emplace(N,A,c,y,w,R,P)}emplace(A,c,y,w,R,P,N){const H=16*A,ie=4*A,ue=8*A;return this.uint8[H+0]=c,this.uint8[H+1]=y,this.float32[ie+1]=w,this.float32[ie+2]=R,this.int16[ue+6]=P,this.int16[ue+7]=N,A}}s.prototype.bytesPerElement=16,ci("StructArrayLayout2ub2f2i16",s);class f extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A,c,y){const w=this.length;return this.resize(w+1),this.emplace(w,A,c,y)}emplace(A,c,y,w){const R=3*A;return this.uint16[R+0]=c,this.uint16[R+1]=y,this.uint16[R+2]=w,A}}f.prototype.bytesPerElement=6,ci("StructArrayLayout3ui6",f);class _ extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt){const Qt=this.length;return this.resize(Qt+1),this.emplace(Qt,A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt)}emplace(A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt,Qt){const Dt=24*A,jt=12*A,ln=48*A;return this.int16[Dt+0]=c,this.int16[Dt+1]=y,this.uint16[Dt+2]=w,this.uint16[Dt+3]=R,this.uint32[jt+2]=P,this.uint32[jt+3]=N,this.uint32[jt+4]=H,this.uint16[Dt+10]=ie,this.uint16[Dt+11]=ue,this.uint16[Dt+12]=ve,this.float32[jt+7]=Pe,this.float32[jt+8]=Qe,this.uint8[ln+36]=qe,this.uint8[ln+37]=et,this.uint8[ln+38]=ut,this.uint32[jt+10]=Mt,this.int16[Dt+22]=Qt,A}}_.prototype.bytesPerElement=48,ci("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",_);class S extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt,Qt,Dt,jt,ln,Cn,Un,pi,ai,di,nr,Ai){const fi=this.length;return this.resize(fi+1),this.emplace(fi,A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt,Qt,Dt,jt,ln,Cn,Un,pi,ai,di,nr,Ai)}emplace(A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt,Qt,Dt,jt,ln,Cn,Un,pi,ai,di,nr,Ai,fi){const En=32*A,pr=16*A;return this.int16[En+0]=c,this.int16[En+1]=y,this.int16[En+2]=w,this.int16[En+3]=R,this.int16[En+4]=P,this.int16[En+5]=N,this.int16[En+6]=H,this.int16[En+7]=ie,this.uint16[En+8]=ue,this.uint16[En+9]=ve,this.uint16[En+10]=Pe,this.uint16[En+11]=Qe,this.uint16[En+12]=qe,this.uint16[En+13]=et,this.uint16[En+14]=ut,this.uint16[En+15]=Mt,this.uint16[En+16]=Qt,this.uint16[En+17]=Dt,this.uint16[En+18]=jt,this.uint16[En+19]=ln,this.uint16[En+20]=Cn,this.uint16[En+21]=Un,this.uint16[En+22]=pi,this.uint32[pr+12]=ai,this.float32[pr+13]=di,this.float32[pr+14]=nr,this.uint16[En+30]=Ai,this.uint16[En+31]=fi,A}}S.prototype.bytesPerElement=64,ci("StructArrayLayout8i15ui1ul2f2ui64",S);class k extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A){const c=this.length;return this.resize(c+1),this.emplace(c,A)}emplace(A,c){return this.float32[1*A+0]=c,A}}k.prototype.bytesPerElement=4,ci("StructArrayLayout1f4",k);class z extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A,c,y){const w=this.length;return this.resize(w+1),this.emplace(w,A,c,y)}emplace(A,c,y,w){const R=3*A;return this.uint16[6*A+0]=c,this.float32[R+1]=y,this.float32[R+2]=w,A}}z.prototype.bytesPerElement=12,ci("StructArrayLayout1ui2f12",z);class q extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A,c,y){const w=this.length;return this.resize(w+1),this.emplace(w,A,c,y)}emplace(A,c,y,w){const R=4*A;return this.uint32[2*A+0]=c,this.uint16[R+2]=y,this.uint16[R+3]=w,A}}q.prototype.bytesPerElement=8,ci("StructArrayLayout1ul2ui8",q);class X extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A,c){const y=this.length;return this.resize(y+1),this.emplace(y,A,c)}emplace(A,c,y){const w=2*A;return this.uint16[w+0]=c,this.uint16[w+1]=y,A}}X.prototype.bytesPerElement=4,ci("StructArrayLayout2ui4",X);class he extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(A){const c=this.length;return this.resize(c+1),this.emplace(c,A)}emplace(A,c){return this.uint16[1*A+0]=c,A}}he.prototype.bytesPerElement=2,ci("StructArrayLayout1ui2",he);class me extends Lo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(A,c,y,w){const R=this.length;return this.resize(R+1),this.emplace(R,A,c,y,w)}emplace(A,c,y,w,R){const P=4*A;return this.float32[P+0]=c,this.float32[P+1]=y,this.float32[P+2]=w,this.float32[P+3]=R,A}}me.prototype.bytesPerElement=16,ci("StructArrayLayout4f16",me);class Be extends ed{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new p(this.anchorPointX,this.anchorPointY)}}Be.prototype.size=20;class Me extends id{get(A){return new Be(this,A)}}ci("CollisionBoxArray",Me);class Ue extends ed{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(A){this._structArray.uint8[this._pos1+37]=A}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(A){this._structArray.uint8[this._pos1+38]=A}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(A){this._structArray.uint32[this._pos4+10]=A}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ue.prototype.size=48;class Xe extends _{get(A){return new Ue(this,A)}}ci("PlacedSymbolArray",Xe);class At extends ed{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(A){this._structArray.uint32[this._pos4+12]=A}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}At.prototype.size=64;class ct extends S{get(A){return new At(this,A)}}ci("SymbolInstanceArray",ct);class ft extends k{getoffsetX(A){return this.float32[1*A+0]}}ci("GlyphOffsetArray",ft);class xt extends Rc{getx(A){return this.int16[3*A+0]}gety(A){return this.int16[3*A+1]}gettileUnitDistanceFromAnchor(A){return this.int16[3*A+2]}}ci("SymbolLineVertexArray",xt);class yt extends ed{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}yt.prototype.size=12;class wt extends z{get(A){return new yt(this,A)}}ci("TextAnchorOffsetArray",wt);class Pt extends ed{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Pt.prototype.size=8;class Ft extends q{get(A){return new Pt(this,A)}}ci("FeatureIndexArray",Ft);class Bt extends _u{}class Yt extends _u{}class dn extends _u{}class Xt extends os{}class nn extends hA{}class An extends Pc{}class qn extends hc{}class Qn extends dc{}class Tn extends ql{}class xi extends nd{}class hr extends kd{}class _o extends s{}class ua extends f{}class Fo extends X{}const La=Ya([{name:"a_pos",components:2,type:"Int16"}],4),{members:ca}=La;class Or{constructor(A=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=A}prepareSegment(A,c,y,w){const R=this.segments[this.segments.length-1];return A>Or.MAX_VERTEX_ARRAY_LENGTH&&Ot(`Max vertices per segment is ${Or.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${A}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Or.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!R||R.vertexLength+A>Or.MAX_VERTEX_ARRAY_LENGTH||R.sortKey!==w?this.createNewSegment(c,y,w):R}createNewSegment(A,c,y){const w={vertexOffset:A.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0,vaos:{}};return y!==void 0&&(w.sortKey=y),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(w),w}getOrCreateLatestSegment(A,c,y){return this.prepareSegment(0,A,c,y)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const A of this.segments)for(const c in A.vaos)A.vaos[c].destroy()}static simpleSegment(A,c,y,w){return new Or([{vertexOffset:A,primitiveOffset:c,vertexLength:y,primitiveLength:w,vaos:{},sortKey:0}])}}function Yo(h,A){return 256*(h=St(Math.floor(h),0,255))+St(Math.floor(A),0,255)}Or.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ci("SegmentVector",Or);const as=Ya([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var qa,Is,Ts,qu={exports:{}},fc={exports:{}},Hl={exports:{}},Th=function(){if(Ts)return qu.exports;Ts=1;var h=(qa||(qa=1,fc.exports=function(c,y){var w,R,P,N,H,ie,ue,ve;for(R=c.length-(w=3&c.length),P=y,H=3432918353,ie=461845907,ve=0;ve<R;)ue=255&c.charCodeAt(ve)|(255&c.charCodeAt(++ve))<<8|(255&c.charCodeAt(++ve))<<16|(255&c.charCodeAt(++ve))<<24,++ve,P=27492+(65535&(N=5*(65535&(P=(P^=ue=(65535&(ue=(ue=(65535&ue)*H+(((ue>>>16)*H&65535)<<16)&4294967295)<<15|ue>>>17))*ie+(((ue>>>16)*ie&65535)<<16)&4294967295)<<13|P>>>19))+((5*(P>>>16)&65535)<<16)&4294967295))+((58964+(N>>>16)&65535)<<16);switch(ue=0,w){case 3:ue^=(255&c.charCodeAt(ve+2))<<16;case 2:ue^=(255&c.charCodeAt(ve+1))<<8;case 1:P^=ue=(65535&(ue=(ue=(65535&(ue^=255&c.charCodeAt(ve)))*H+(((ue>>>16)*H&65535)<<16)&4294967295)<<15|ue>>>17))*ie+(((ue>>>16)*ie&65535)<<16)&4294967295}return P^=c.length,P=2246822507*(65535&(P^=P>>>16))+((2246822507*(P>>>16)&65535)<<16)&4294967295,P=3266489909*(65535&(P^=P>>>13))+((3266489909*(P>>>16)&65535)<<16)&4294967295,(P^=P>>>16)>>>0}),fc.exports),A=(Is||(Is=1,Hl.exports=function(c,y){for(var w,R=c.length,P=y^R,N=0;R>=4;)w=1540483477*(65535&(w=255&c.charCodeAt(N)|(255&c.charCodeAt(++N))<<8|(255&c.charCodeAt(++N))<<16|(255&c.charCodeAt(++N))<<24))+((1540483477*(w>>>16)&65535)<<16),P=1540483477*(65535&P)+((1540483477*(P>>>16)&65535)<<16)^(w=1540483477*(65535&(w^=w>>>24))+((1540483477*(w>>>16)&65535)<<16)),R-=4,++N;switch(R){case 3:P^=(255&c.charCodeAt(N+2))<<16;case 2:P^=(255&c.charCodeAt(N+1))<<8;case 1:P=1540483477*(65535&(P^=255&c.charCodeAt(N)))+((1540483477*(P>>>16)&65535)<<16)}return P=1540483477*(65535&(P^=P>>>13))+((1540483477*(P>>>16)&65535)<<16),(P^=P>>>15)>>>0}),Hl.exports);return qu.exports=h,qu.exports.murmur3=h,qu.exports.murmur2=A,qu.exports}(),oh=C(Th);class Hu{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(A,c,y,w){this.ids.push(Kc(A)),this.positions.push(c,y,w)}getPositions(A){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=Kc(A);let y=0,w=this.ids.length-1;for(;y<w;){const P=y+w>>1;this.ids[P]>=c?w=P:y=P+1}const R=[];for(;this.ids[y]===c;)R.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return R}static serialize(A,c){const y=new Float64Array(A.ids),w=new Uint32Array(A.positions);return xl(y,w,0,y.length-1),c&&c.push(y.buffer,w.buffer),{ids:y,positions:w}}static deserialize(A){const c=new Hu;return c.ids=A.ids,c.positions=A.positions,c.indexed=!0,c}}function Kc(h){const A=+h;return!isNaN(A)&&A<=Number.MAX_SAFE_INTEGER?A:oh(String(h))}function xl(h,A,c,y){for(;c<y;){const w=h[c+y>>1];let R=c-1,P=y+1;for(;;){do R++;while(h[R]<w);do P--;while(h[P]>w);if(R>=P)break;Vu(h,R,P),Vu(A,3*R,3*P),Vu(A,3*R+1,3*P+1),Vu(A,3*R+2,3*P+2)}P-c<y-P?(xl(h,A,c,P),c=P+1):(xl(h,A,P+1,y),y=P)}}function Vu(h,A,c){const y=h[A];h[A]=h[c],h[c]=y}ci("FeaturePositionMap",Hu);class Ml{constructor(A,c){this.gl=A.gl,this.location=c}}class Uc extends Ml{constructor(A,c){super(A,c),this.current=0}set(A){this.current!==A&&(this.current=A,this.gl.uniform1f(this.location,A))}}class bo extends Ml{constructor(A,c){super(A,c),this.current=[0,0,0,0]}set(A){A[0]===this.current[0]&&A[1]===this.current[1]&&A[2]===this.current[2]&&A[3]===this.current[3]||(this.current=A,this.gl.uniform4f(this.location,A[0],A[1],A[2],A[3]))}}class ea extends Ml{constructor(A,c){super(A,c),this.current=Mr.transparent}set(A){A.r===this.current.r&&A.g===this.current.g&&A.b===this.current.b&&A.a===this.current.a||(this.current=A,this.gl.uniform4f(this.location,A.r,A.g,A.b,A.a))}}const dA=new Float32Array(16);function Cs(h){return[Yo(255*h.r,255*h.g),Yo(255*h.b,255*h.a)]}class bu{constructor(A,c,y){this.value=A,this.uniformNames=c.map(w=>`u_${w}`),this.type=y}setUniform(A,c,y){A.set(y.constantOr(this.value))}getBinding(A,c,y){return this.type==="color"?new ea(A,c):new Uc(A,c)}}class fA{constructor(A,c){this.uniformNames=c.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(A,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=A.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=A.tlbr}setUniform(A,c,y,w){const R=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;R&&A.set(R)}getBinding(A,c,y){return y.substr(0,9)==="u_pattern"?new bo(A,c):new Uc(A,c)}}class PA{constructor(A,c,y,w){this.expression=A,this.type=y,this.maxValue=0,this.paintVertexAttributes=c.map(R=>({name:`a_${R}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(A,c,y){const w=this.paintVertexArray.length,R=this.expression.evaluate(new Ko(0,y),c,{},y.canonical,[],y.formattedSection);this.paintVertexArray.resize(A),this._setPaintValue(w,A,R)}updatePaintArray(A,c,y,w,R){const P=this.expression.evaluate(new Ko(0,R),y,w);this._setPaintValue(A,c,P)}_setPaintValue(A,c,y){if(this.type==="color"){const w=Cs(y);for(let R=A;R<c;R++)this.paintVertexArray.emplace(R,w[0],w[1])}else{for(let w=A;w<c;w++)this.paintVertexArray.emplace(w,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Vl{constructor(A,c,y,w,R,P){this.expression=A,this.uniformNames=c.map(N=>`u_${N}_t`),this.type=y,this.useIntegerZoom=w,this.zoom=R,this.maxValue=0,this.paintVertexAttributes=c.map(N=>({name:`a_${N}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new P}populatePaintArray(A,c,y){const w=this.expression.evaluate(new Ko(this.zoom,y),c,{},y.canonical,[],y.formattedSection),R=this.expression.evaluate(new Ko(this.zoom+1,y),c,{},y.canonical,[],y.formattedSection),P=this.paintVertexArray.length;this.paintVertexArray.resize(A),this._setPaintValue(P,A,w,R)}updatePaintArray(A,c,y,w,R){const P=this.expression.evaluate(new Ko(this.zoom,R),y,w),N=this.expression.evaluate(new Ko(this.zoom+1,R),y,w);this._setPaintValue(A,c,P,N)}_setPaintValue(A,c,y,w){if(this.type==="color"){const R=Cs(y),P=Cs(w);for(let N=A;N<c;N++)this.paintVertexArray.emplace(N,R[0],R[1],P[0],P[1])}else{for(let R=A;R<c;R++)this.paintVertexArray.emplace(R,y,w);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(w))}}upload(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(A,c){const y=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,w=St(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);A.set(w)}getBinding(A,c,y){return new Uc(A,c)}}class Lc{constructor(A,c,y,w,R,P){this.expression=A,this.type=c,this.useIntegerZoom=y,this.zoom=w,this.layerId=P,this.zoomInPaintVertexArray=new R,this.zoomOutPaintVertexArray=new R}populatePaintArray(A,c,y){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(A),this.zoomOutPaintVertexArray.resize(A),this._setPaintValues(w,A,c.patterns&&c.patterns[this.layerId],y.imagePositions)}updatePaintArray(A,c,y,w,R){this._setPaintValues(A,c,y.patterns&&y.patterns[this.layerId],R.imagePositions)}_setPaintValues(A,c,y,w){if(!w||!y)return;const{min:R,mid:P,max:N}=y,H=w[R],ie=w[P],ue=w[N];if(H&&ie&&ue)for(let ve=A;ve<c;ve++)this.zoomInPaintVertexArray.emplace(ve,ie.tl[0],ie.tl[1],ie.br[0],ie.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],ie.pixelRatio,H.pixelRatio),this.zoomOutPaintVertexArray.emplace(ve,ie.tl[0],ie.tl[1],ie.br[0],ie.br[1],ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],ie.pixelRatio,ue.pixelRatio)}upload(A){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=A.createVertexBuffer(this.zoomInPaintVertexArray,as.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=A.createVertexBuffer(this.zoomOutPaintVertexArray,as.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class nu{constructor(A,c,y){this.binders={},this._buffers=[];const w=[];for(const R in A.paint._values){if(!y(R))continue;const P=A.paint.get(R);if(!(P instanceof Kr&&OA(P.property.specification)))continue;const N=xu(R,A.type),H=P.value,ie=P.property.specification.type,ue=P.property.useIntegerZoom,ve=P.property.specification["property-type"],Pe=ve==="cross-faded"||ve==="cross-faded-data-driven";if(H.kind==="constant")this.binders[R]=Pe?new fA(H.value,N):new bu(H.value,N,ie),w.push(`/u_${R}`);else if(H.kind==="source"||Pe){const Qe=Nf(R,ie,"source");this.binders[R]=Pe?new Lc(H,ie,ue,c,Qe,A.id):new PA(H,N,ie,Qe),w.push(`/a_${R}`)}else{const Qe=Nf(R,ie,"composite");this.binders[R]=new Vl(H,N,ie,ue,c,Qe),w.push(`/z_${R}`)}}this.cacheKey=w.sort().join("")}getMaxValue(A){const c=this.binders[A];return c instanceof PA||c instanceof Vl?c.maxValue:0}populatePaintArrays(A,c,y){for(const w in this.binders){const R=this.binders[w];(R instanceof PA||R instanceof Vl||R instanceof Lc)&&R.populatePaintArray(A,c,y)}}setConstantPatternPositions(A,c){for(const y in this.binders){const w=this.binders[y];w instanceof fA&&w.setConstantPatternPositions(A,c)}}updatePaintArrays(A,c,y,w,R){let P=!1;for(const N in A){const H=c.getPositions(N);for(const ie of H){const ue=y.feature(ie.index);for(const ve in this.binders){const Pe=this.binders[ve];if((Pe instanceof PA||Pe instanceof Vl||Pe instanceof Lc)&&Pe.expression.isStateDependent===!0){const Qe=w.paint.get(ve);Pe.expression=Qe.value,Pe.updatePaintArray(ie.start,ie.end,ue,A[N],R),P=!0}}}}return P}defines(){const A=[];for(const c in this.binders){const y=this.binders[c];(y instanceof bu||y instanceof fA)&&A.push(...y.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return A}getBinderAttributes(){const A=[];for(const c in this.binders){const y=this.binders[c];if(y instanceof PA||y instanceof Vl)for(let w=0;w<y.paintVertexAttributes.length;w++)A.push(y.paintVertexAttributes[w].name);else if(y instanceof Lc)for(let w=0;w<as.members.length;w++)A.push(as.members[w].name)}return A}getBinderUniforms(){const A=[];for(const c in this.binders){const y=this.binders[c];if(y instanceof bu||y instanceof fA||y instanceof Vl)for(const w of y.uniformNames)A.push(w)}return A}getPaintVertexBuffers(){return this._buffers}getUniforms(A,c){const y=[];for(const w in this.binders){const R=this.binders[w];if(R instanceof bu||R instanceof fA||R instanceof Vl){for(const P of R.uniformNames)if(c[P]){const N=R.getBinding(A,c[P],P);y.push({name:P,property:w,binding:N})}}}return y}setUniforms(A,c,y,w){for(const{name:R,property:P,binding:N}of c)this.binders[P].setUniform(N,w,y.get(P),R)}updatePaintBuffers(A){this._buffers=[];for(const c in this.binders){const y=this.binders[c];if(A&&y instanceof Lc){const w=A.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(y instanceof PA||y instanceof Vl)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(A){for(const c in this.binders){const y=this.binders[c];(y instanceof PA||y instanceof Vl||y instanceof Lc)&&y.upload(A)}this.updatePaintBuffers()}destroy(){for(const A in this.binders){const c=this.binders[A];(c instanceof PA||c instanceof Vl||c instanceof Lc)&&c.destroy()}}}class Ha{constructor(A,c,y=()=>!0){this.programConfigurations={};for(const w of A)this.programConfigurations[w.id]=new nu(w,c,y);this.needsUpload=!1,this._featureMap=new Hu,this._bufferOffset=0}populatePaintArrays(A,c,y,w){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(A,c,w);c.id!==void 0&&this._featureMap.add(c.id,y,this._bufferOffset,A),this._bufferOffset=A,this.needsUpload=!0}updatePaintArrays(A,c,y,w){for(const R of y)this.needsUpload=this.programConfigurations[R.id].updatePaintArrays(A,this._featureMap,c,R,w)||this.needsUpload}get(A){return this.programConfigurations[A]}upload(A){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(A);this.needsUpload=!1}}destroy(){for(const A in this.programConfigurations)this.programConfigurations[A].destroy()}}function xu(h,A){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[h]||[h.replace(`${A}-`,"").replace(/-/g,"_")]}function Nf(h,A,c){const y={color:{source:Pc,composite:me},number:{source:k,composite:Pc}},w=function(R){return{"line-pattern":{source:qn,composite:qn},"fill-pattern":{source:qn,composite:qn},"fill-extrusion-pattern":{source:qn,composite:qn}}[R]}(h);return w&&w[c]||y[A][c]}ci("ConstantBinder",bu),ci("CrossFadedConstantBinder",fA),ci("SourceExpressionBinder",PA),ci("CrossFadedCompositeBinder",Lc),ci("CompositeExpressionBinder",Vl),ci("ProgramConfiguration",nu,{omit:["_buffers"]}),ci("ProgramConfigurationSet",Ha);const Mu=Math.pow(2,14)-1,wu=-Mu-1;function Ba(h){const A=nt/h.extent,c=h.loadGeometry();for(let y=0;y<c.length;y++){const w=c[y];for(let R=0;R<w.length;R++){const P=w[R],N=Math.round(P.x*A),H=Math.round(P.y*A);P.x=St(N,wu,Mu),P.y=St(H,wu,Mu),(N<P.x||N>P.x+1||H<P.y||H>P.y+1)&&Ot("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function iu(h,A){return{type:h.type,id:h.id,properties:h.properties,geometry:A?Ba(h):[]}}const rd=-32768;function Gf(h,A,c,y,w){h.emplaceBack(rd+8*A+y,rd+8*c+w)}class sf{constructor(A){this.zoom=A.zoom,this.globalState=A.globalState,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(c=>c.id),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Yt,this.indexArray=new ua,this.segments=new Or,this.programConfigurations=new Ha(A.layers,A.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(A,c,y){const w=this.layers[0],R=[];let P=null,N=!1,H=w.type==="heatmap";if(w.type==="circle"){const ue=w;P=ue.layout.get("circle-sort-key"),N=!P.isConstant(),H=H||ue.paint.get("circle-pitch-alignment")==="map"}const ie=H?c.subdivisionGranularity.circle:1;for(const{feature:ue,id:ve,index:Pe,sourceLayerIndex:Qe}of A){const qe=this.layers[0]._featureFilter.needGeometry,et=iu(ue,qe);if(!this.layers[0]._featureFilter.filter(new Ko(this.zoom,{globalState:this.globalState}),et,y))continue;const ut=N?P.evaluate(et,{},y):void 0,Mt={id:ve,properties:ue.properties,type:ue.type,sourceLayerIndex:Qe,index:Pe,geometry:qe?et.geometry:Ba(ue),patterns:{},sortKey:ut};R.push(Mt)}N&&R.sort((ue,ve)=>ue.sortKey-ve.sortKey);for(const ue of R){const{geometry:ve,index:Pe,sourceLayerIndex:Qe}=ue,qe=A[Pe].feature;this.addFeature(ue,ve,Pe,y,ie),c.featureIndex.insert(qe,ve,Pe,Qe,this.index)}}update(A,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,c,this.stateDependentLayers,{imagePositions:y,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,ca),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(A,c,y,w,R=1){let P;switch(R){case 1:P=[0,7];break;case 3:P=[0,2,5,7];break;case 5:P=[0,1,3,4,6,7];break;case 7:P=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${R}; valid values are 1, 3, 5, 7.`)}const N=P.length;for(const H of c)for(const ie of H){const ue=ie.x,ve=ie.y;if(ue<0||ue>=nt||ve<0||ve>=nt)continue;const Pe=this.segments.prepareSegment(N*N,this.layoutVertexArray,this.indexArray,A.sortKey),Qe=Pe.vertexLength;for(let qe=0;qe<N;qe++)for(let et=0;et<N;et++)Gf(this.layoutVertexArray,ue,ve,P[et],P[qe]);for(let qe=0;qe<N-1;qe++)for(let et=0;et<N-1;et++){const ut=Qe+qe*N+et,Mt=Qe+(qe+1)*N+et;this.indexArray.emplaceBack(ut,Mt+1,ut+1),this.indexArray.emplaceBack(ut,Mt,Mt+1)}Pe.vertexLength+=N*N,Pe.primitiveLength+=(N-1)*(N-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,y,{imagePositions:{},canonical:w,globalState:this.globalState})}}function mm(h,A){for(let c=0;c<h.length;c++)if(kh(A,h[c]))return!0;for(let c=0;c<A.length;c++)if(kh(h,A[c]))return!0;return!!Qf(h,A)}function pc(h,A,c){return!!kh(h,A)||!!lf(A,h,c)}function od(h,A){if(h.length===1)return Op(A,h[0]);for(let c=0;c<A.length;c++){const y=A[c];for(let w=0;w<y.length;w++)if(kh(h,y[w]))return!0}for(let c=0;c<h.length;c++)if(Op(A,h[c]))return!0;for(let c=0;c<A.length;c++)if(Qf(h,A[c]))return!0;return!1}function Wf(h,A,c){if(h.length>1){if(Qf(h,A))return!0;for(let y=0;y<A.length;y++)if(lf(A[y],h,c))return!0}for(let y=0;y<h.length;y++)if(lf(h[y],A,c))return!0;return!1}function Qf(h,A){if(h.length===0||A.length===0)return!1;for(let c=0;c<h.length-1;c++){const y=h[c],w=h[c+1];for(let R=0;R<A.length-1;R++)if(Y0(y,w,A[R],A[R+1]))return!0}return!1}function Y0(h,A,c,y){return qt(h,c,y)!==qt(A,c,y)&&qt(h,A,c)!==qt(h,A,y)}function lf(h,A,c){const y=c*c;if(A.length===1)return h.distSqr(A[0])<y;for(let w=1;w<A.length;w++)if(ta(h,A[w-1],A[w])<y)return!0;return!1}function ta(h,A,c){const y=A.distSqr(c);if(y===0)return h.distSqr(A);const w=((h.x-A.x)*(c.x-A.x)+(h.y-A.y)*(c.y-A.y))/y;return h.distSqr(w<0?A:w>1?c:c.sub(A)._mult(w)._add(A))}function Op(h,A){let c,y,w,R=!1;for(let P=0;P<h.length;P++){c=h[P];for(let N=0,H=c.length-1;N<c.length;H=N++)y=c[N],w=c[H],y.y>A.y!=w.y>A.y&&A.x<(w.x-y.x)*(A.y-y.y)/(w.y-y.y)+y.x&&(R=!R)}return R}function kh(h,A){let c=!1;for(let y=0,w=h.length-1;y<h.length;w=y++){const R=h[y],P=h[w];R.y>A.y!=P.y>A.y&&A.x<(P.x-R.x)*(A.y-R.y)/(P.y-R.y)+R.x&&(c=!c)}return c}function Yf(h,A,c){const y=c[0],w=c[2];if(h.x<y.x&&A.x<y.x||h.x>w.x&&A.x>w.x||h.y<y.y&&A.y<y.y||h.y>w.y&&A.y>w.y)return!1;const R=qt(h,A,c[0]);return R!==qt(h,A,c[1])||R!==qt(h,A,c[2])||R!==qt(h,A,c[3])}function ru(h,A,c){const y=A.paint.get(h).value;return y.kind==="constant"?y.value:c.programConfigurations.get(A.id).getMaxValue(h)}function Dd(h){return Math.sqrt(h[0]*h[0]+h[1]*h[1])}function el(h,A,c,y,w){if(!A[0]&&!A[1])return h;const R=p.convert(A)._mult(w);c==="viewport"&&R._rotate(-y);const P=[];for(let N=0;N<h.length;N++)P.push(h[N].sub(R));return P}let ds,qf;ci("CircleBucket",sf,{omit:["layers"]});var Ip={get paint(){return qf=qf||new Aa({"circle-radius":new ki(it.paint_circle["circle-radius"]),"circle-color":new ki(it.paint_circle["circle-color"]),"circle-blur":new ki(it.paint_circle["circle-blur"]),"circle-opacity":new ki(it.paint_circle["circle-opacity"]),"circle-translate":new Ii(it.paint_circle["circle-translate"]),"circle-translate-anchor":new Ii(it.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ii(it.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ii(it.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ki(it.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ki(it.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ki(it.paint_circle["circle-stroke-opacity"])})},get layout(){return ds=ds||new Aa({"circle-sort-key":new ki(it.layout_circle["circle-sort-key"])})}};class Hf extends Yl{constructor(A){super(A,Ip)}createBucket(A){return new sf(A)}queryRadius(A){const c=A;return ru("circle-radius",this,c)+ru("circle-stroke-width",this,c)+Dd(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:A,feature:c,featureState:y,geometry:w,transform:R,pixelsToTileUnits:P,unwrappedTileID:N,getElevation:H}){const ie=el(A,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-R.bearingInRadians,P),ue=this.paint.get("circle-radius").evaluate(c,y)+this.paint.get("circle-stroke-width").evaluate(c,y),ve=this.paint.get("circle-pitch-alignment")==="map",Pe=ve?ie:function(qe,et,ut,Mt){return qe.map(Qt=>Af(Qt,et,ut,Mt))}(ie,R,N,H),Qe=ve?ue*P:ue;for(const qe of w)for(const et of qe){const ut=ve?et:Af(et,R,N,H);let Mt=Qe;const Qt=R.projectTileCoordinates(et.x,et.y,N,H).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Mt*=Qt/R.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Mt*=R.cameraToCenterDistance/Qt),pc(Pe,ut,Mt))return!0}return!1}}function Af(h,A,c,y){const w=A.projectTileCoordinates(h.x,h.y,c,y).point;return new p((.5*w.x+.5)*A.width,(.5*-w.y+.5)*A.height)}class Rd extends sf{}let mr;ci("HeatmapBucket",Rd,{omit:["layers"]});var uf={get paint(){return mr=mr||new Aa({"heatmap-radius":new ki(it.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ki(it.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ii(it.paint_heatmap["heatmap-intensity"]),"heatmap-color":new cA(it.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ii(it.paint_heatmap["heatmap-opacity"])})}};function na(h,{width:A,height:c},y,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==A*c*y)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${A*c*y}`)}else w=new Uint8Array(A*c*y);return h.width=A,h.height=c,h.data=w,h}function Dh(h,{width:A,height:c},y){if(A===h.width&&c===h.height)return;const w=na({},{width:A,height:c},y);gm(h,w,{x:0,y:0},{x:0,y:0},{width:Math.min(h.width,A),height:Math.min(h.height,c)},y),h.width=A,h.height=c,h.data=w.data}function gm(h,A,c,y,w,R){if(w.width===0||w.height===0)return A;if(w.width>h.width||w.height>h.height||c.x>h.width-w.width||c.y>h.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>A.width||w.height>A.height||y.x>A.width-w.width||y.y>A.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const P=h.data,N=A.data;if(P===N)throw new Error("srcData equals dstData, so image is already copied");for(let H=0;H<w.height;H++){const ie=((c.y+H)*h.width+c.x)*R,ue=((y.y+H)*A.width+y.x)*R;for(let ve=0;ve<w.width*R;ve++)N[ue+ve]=P[ie+ve]}return A}class $u{constructor(A,c){na(this,A,1,c)}resize(A){Dh(this,A,1)}clone(){return new $u({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(A,c,y,w,R){gm(A,c,y,w,R,1)}}class pA{constructor(A,c){na(this,A,4,c)}resize(A){Dh(this,A,4)}replace(A,c){c?this.data.set(A):this.data=A instanceof Uint8ClampedArray?new Uint8Array(A.buffer):A}clone(){return new pA({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(A,c,y,w,R){gm(A,c,y,w,R,4)}setPixel(A,c,y){const w=4*(A*this.width+c);this.data[w+0]=Math.round(255*y.r/y.a),this.data[w+1]=Math.round(255*y.g/y.a),this.data[w+2]=Math.round(255*y.b/y.a),this.data[w+3]=Math.round(255*y.a)}}function sl(h){const A={},c=h.resolution||256,y=h.clips?h.clips.length:1,w=h.image||new pA({width:c,height:y});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const R=(P,N,H)=>{A[h.evaluationKey]=H;const ie=h.expression.evaluate(A);w.setPixel(P/4/c,N/4,ie)};if(h.clips)for(let P=0,N=0;P<y;++P,N+=4*c)for(let H=0,ie=0;H<c;H++,ie+=4){const ue=H/(c-1),{start:ve,end:Pe}=h.clips[P];R(N,ie,ve*(1-ue)+Pe*ue)}else for(let P=0,N=0;P<c;P++,N+=4)R(0,N,P/(c-1));return w}ci("AlphaImage",$u),ci("RGBAImage",pA);const ym="big-fb";class Gs extends Yl{createBucket(A){return new Rd(A)}constructor(A){super(A,uf),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(A){A==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=sl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(ym)&&this.heatmapFbos.delete(ym)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Vf;var a0={get paint(){return Vf=Vf||new Aa({"hillshade-illumination-direction":new Ii(it.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Ii(it.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Ii(it.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ii(it.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ii(it.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ii(it.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ii(it.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Ii(it.paint_hillshade["hillshade-method"])})}};class s0 extends Yl{constructor(A){super(A,a0),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let A=this.paint.get("hillshade-illumination-direction").values,c=this.paint.get("hillshade-illumination-altitude").values,y=this.paint.get("hillshade-highlight-color").values,w=this.paint.get("hillshade-shadow-color").values;const R=Math.max(A.length,c.length,y.length,w.length);A=A.concat(Array(R-A.length).fill(A.at(-1))),c=c.concat(Array(R-c.length).fill(c.at(-1))),y=y.concat(Array(R-y.length).fill(y.at(-1))),w=w.concat(Array(R-w.length).fill(w.at(-1)));const P=c.map(Oi);return{directionRadians:A.map(Oi),altitudeRadians:P,shadowColor:w,highlightColor:y}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let cf;var d={get paint(){return cf=cf||new Aa({"color-relief-opacity":new Ii(it["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new cA(it["paint_color-relief"]["color-relief-color"])})}};class v{constructor(A,c,y,w){this.context=A,this.format=y,this.texture=A.gl.createTexture(),this.update(c,w)}update(A,c,y){const{width:w,height:R}=A,P=!(this.size&&this.size[0]===w&&this.size[1]===R||y),{context:N}=this,{gl:H}=N;if(this.useMipmap=!!(c&&c.useMipmap),H.bindTexture(H.TEXTURE_2D,this.texture),N.pixelStoreUnpackFlipY.set(!1),N.pixelStoreUnpack.set(1),N.pixelStoreUnpackPremultiplyAlpha.set(this.format===H.RGBA&&(!c||c.premultiply!==!1)),P)this.size=[w,R],A instanceof HTMLImageElement||A instanceof HTMLCanvasElement||A instanceof HTMLVideoElement||A instanceof ImageData||Jn(A)?H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,H.UNSIGNED_BYTE,A):H.texImage2D(H.TEXTURE_2D,0,this.format,w,R,0,this.format,H.UNSIGNED_BYTE,A.data);else{const{x:ie,y:ue}=y||{x:0,y:0};A instanceof HTMLImageElement||A instanceof HTMLCanvasElement||A instanceof HTMLVideoElement||A instanceof ImageData||Jn(A)?H.texSubImage2D(H.TEXTURE_2D,0,ie,ue,H.RGBA,H.UNSIGNED_BYTE,A):H.texSubImage2D(H.TEXTURE_2D,0,ie,ue,w,R,H.RGBA,H.UNSIGNED_BYTE,A.data)}this.useMipmap&&this.isSizePowerOfTwo()&&H.generateMipmap(H.TEXTURE_2D),N.pixelStoreUnpackFlipY.setDefault(),N.pixelStoreUnpack.setDefault(),N.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(A,c,y){const{context:w}=this,{gl:R}=w;R.bindTexture(R.TEXTURE_2D,this.texture),y!==R.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(y=R.LINEAR),A!==this.filter&&(R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,A),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,y||A),this.filter=A),c!==this.wrap&&(R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,c),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:A}=this.context;A.deleteTexture(this.texture),this.texture=null}}class B{constructor(A,c,y,w=1,R=1,P=1,N=0){if(this.uid=A,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void Ot(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const H=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=w,this.greenFactor=R,this.blueFactor=P,this.baseShift=N;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let ie=0;ie<H;ie++)this.data[this._idx(-1,ie)]=this.data[this._idx(0,ie)],this.data[this._idx(H,ie)]=this.data[this._idx(H-1,ie)],this.data[this._idx(ie,-1)]=this.data[this._idx(ie,0)],this.data[this._idx(ie,H)]=this.data[this._idx(ie,H-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(H,-1)]=this.data[this._idx(H-1,0)],this.data[this._idx(-1,H)]=this.data[this._idx(0,H-1)],this.data[this._idx(H,H)]=this.data[this._idx(H-1,H-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let ie=0;ie<H;ie++)for(let ue=0;ue<H;ue++){const ve=this.get(ie,ue);ve>this.max&&(this.max=ve),ve<this.min&&(this.min=ve)}}get(A,c){const y=new Uint8Array(this.data.buffer),w=4*this._idx(A,c);return this.unpack(y[w],y[w+1],y[w+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(A,c){if(A<-1||A>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(A+1)}unpack(A,c,y){return A*this.redFactor+c*this.greenFactor+y*this.blueFactor-this.baseShift}pack(A){return E(A,this.getUnpackVector())}getPixels(){return new pA({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(A,c,y){if(this.dim!==A.dim)throw new Error("dem dimension mismatch");let w=c*this.dim,R=c*this.dim+this.dim,P=y*this.dim,N=y*this.dim+this.dim;switch(c){case-1:w=R-1;break;case 1:R=w+1}switch(y){case-1:P=N-1;break;case 1:N=P+1}const H=-c*this.dim,ie=-y*this.dim;for(let ue=P;ue<N;ue++)for(let ve=w;ve<R;ve++)this.data[this._idx(ve,ue)]=A.data[this._idx(ve+H,ue+ie)]}}function E(h,A){const c=A[0],y=A[1],w=A[2],R=A[3],P=Math.min(c,y,w),N=Math.round((h+R)/P);return{r:Math.floor(N*P/c)%256,g:Math.floor(N*P/y)%256,b:Math.floor(N*P/w)%256}}ci("DEMData",B);class F extends Yl{constructor(A){super(A,d)}_createColorRamp(A){const c={elevationStops:[],colorStops:[]},y=this._transitionablePaint._values["color-relief-color"].value.expression;if(y instanceof wh&&y._styleExpression.expression instanceof Ua){this.colorRampExpression=y;const P=y._styleExpression.expression;c.elevationStops=P.labels,c.colorStops=[];for(const N of c.elevationStops)c.colorStops.push(P.evaluate({globals:{elevation:N}}))}if(c.elevationStops.length<1&&(c.elevationStops=[0],c.colorStops=[Mr.transparent]),c.elevationStops.length<2&&(c.elevationStops.push(c.elevationStops[0]+1),c.colorStops.push(c.colorStops[0])),c.elevationStops.length<=A)return c;const w={elevationStops:[],colorStops:[]},R=(c.elevationStops.length-1)/(A-1);for(let P=0;P<c.elevationStops.length-.5;P+=R)w.elevationStops.push(c.elevationStops[Math.round(P)]),w.colorStops.push(c.colorStops[Math.round(P)]);return Ot(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),w}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(A,c,y){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const w=this._createColorRamp(c),R=new pA({width:w.colorStops.length,height:1}),P=new pA({width:w.colorStops.length,height:1});for(let N=0;N<w.elevationStops.length;N++){const H=E(w.elevationStops[N],y);P.setPixel(0,N,new Mr(H.r/255,H.g/255,H.b/255,1)),R.setPixel(0,N,w.colorStops[N])}return this.colorRampTextures={elevationTexture:new v(A,P,A.gl.RGBA),colorTexture:new v(A,R,A.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const Z=Ya([{name:"a_pos",components:2,type:"Int16"}],4),{members:fe}=Z;function _e(h,A,c){const y=c.patternDependencies;let w=!1;for(const R of A){const P=R.paint.get(`${h}-pattern`);P.isConstant()||(w=!0);const N=P.constantOr(null);N&&(w=!0,y[N.to]=!0,y[N.from]=!0)}return w}function ke(h,A,c,y,w){const{zoom:R,globalState:P}=y,N=w.patternDependencies;for(const H of A){const ie=H.paint.get(`${h}-pattern`).value;if(ie.kind!=="constant"){let ue=ie.evaluate({zoom:R-1,globalState:P},c,{},w.availableImages),ve=ie.evaluate({zoom:R,globalState:P},c,{},w.availableImages),Pe=ie.evaluate({zoom:R+1,globalState:P},c,{},w.availableImages);ue=ue&&ue.name?ue.name:ue,ve=ve&&ve.name?ve.name:ve,Pe=Pe&&Pe.name?Pe.name:Pe,N[ue]=!0,N[ve]=!0,N[Pe]=!0,c.patterns[H.id]={min:ue,mid:ve,max:Pe}}}return c}function Le(h,A,c,y,w){let R;if(w===function(P,N,H,ie){let ue=0;for(let ve=N,Pe=H-ie;ve<H;ve+=ie)ue+=(P[Pe]-P[ve])*(P[ve+1]+P[Pe+1]),Pe=ve;return ue}(h,A,c,y)>0)for(let P=A;P<c;P+=y)R=$l(P/y|0,h[P],h[P+1],R);else for(let P=c-y;P>=A;P-=y)R=$l(P/y|0,h[P],h[P+1],R);return R&&ss(R,R.next)&&(ks(R),R=R.next),R}function vt(h,A){if(!h)return h;A||(A=h);let c,y=h;do if(c=!1,y.steiner||!ss(y,y.next)&&wr(y.prev,y,y.next)!==0)y=y.next;else{if(ks(y),y=A=y.prev,y===y.next)break;c=!0}while(c||y!==A);return A}function It(h,A,c,y,w,R,P){if(!h)return;!P&&R&&function(H,ie,ue,ve){let Pe=H;do Pe.z===0&&(Pe.z=gi(Pe.x,Pe.y,ie,ue,ve)),Pe.prevZ=Pe.prev,Pe.nextZ=Pe.next,Pe=Pe.next;while(Pe!==H);Pe.prevZ.nextZ=null,Pe.prevZ=null,function(Qe){let qe,et=1;do{let ut,Mt=Qe;Qe=null;let Qt=null;for(qe=0;Mt;){qe++;let Dt=Mt,jt=0;for(let Cn=0;Cn<et&&(jt++,Dt=Dt.nextZ,Dt);Cn++);let ln=et;for(;jt>0||ln>0&&Dt;)jt!==0&&(ln===0||!Dt||Mt.z<=Dt.z)?(ut=Mt,Mt=Mt.nextZ,jt--):(ut=Dt,Dt=Dt.nextZ,ln--),Qt?Qt.nextZ=ut:Qe=ut,ut.prevZ=Qt,Qt=ut;Mt=Dt}Qt.nextZ=null,et*=2}while(qe>1)}(Pe)}(h,y,w,R);let N=h;for(;h.prev!==h.next;){const H=h.prev,ie=h.next;if(R?Ht(h,y,w,R):Jt(h))A.push(H.i,h.i,ie.i),ks(h),h=ie.next,N=ie.next;else if((h=ie)===N){P?P===1?It(h=_n(vt(h),A),A,c,y,w,R,2):P===2&&Rn(h,A,c,y,w,R):It(vt(h),A,c,y,w,R,1);break}}}function Jt(h){const A=h.prev,c=h,y=h.next;if(wr(A,c,y)>=0)return!1;const w=A.x,R=c.x,P=y.x,N=A.y,H=c.y,ie=y.y,ue=Math.min(w,R,P),ve=Math.min(N,H,ie),Pe=Math.max(w,R,P),Qe=Math.max(N,H,ie);let qe=y.next;for(;qe!==A;){if(qe.x>=ue&&qe.x<=Pe&&qe.y>=ve&&qe.y<=Qe&&qi(w,N,R,H,P,ie,qe.x,qe.y)&&wr(qe.prev,qe,qe.next)>=0)return!1;qe=qe.next}return!0}function Ht(h,A,c,y){const w=h.prev,R=h,P=h.next;if(wr(w,R,P)>=0)return!1;const N=w.x,H=R.x,ie=P.x,ue=w.y,ve=R.y,Pe=P.y,Qe=Math.min(N,H,ie),qe=Math.min(ue,ve,Pe),et=Math.max(N,H,ie),ut=Math.max(ue,ve,Pe),Mt=gi(Qe,qe,A,c,y),Qt=gi(et,ut,A,c,y);let Dt=h.prevZ,jt=h.nextZ;for(;Dt&&Dt.z>=Mt&&jt&&jt.z<=Qt;){if(Dt.x>=Qe&&Dt.x<=et&&Dt.y>=qe&&Dt.y<=ut&&Dt!==w&&Dt!==P&&qi(N,ue,H,ve,ie,Pe,Dt.x,Dt.y)&&wr(Dt.prev,Dt,Dt.next)>=0||(Dt=Dt.prevZ,jt.x>=Qe&&jt.x<=et&&jt.y>=qe&&jt.y<=ut&&jt!==w&&jt!==P&&qi(N,ue,H,ve,ie,Pe,jt.x,jt.y)&&wr(jt.prev,jt,jt.next)>=0))return!1;jt=jt.nextZ}for(;Dt&&Dt.z>=Mt;){if(Dt.x>=Qe&&Dt.x<=et&&Dt.y>=qe&&Dt.y<=ut&&Dt!==w&&Dt!==P&&qi(N,ue,H,ve,ie,Pe,Dt.x,Dt.y)&&wr(Dt.prev,Dt,Dt.next)>=0)return!1;Dt=Dt.prevZ}for(;jt&&jt.z<=Qt;){if(jt.x>=Qe&&jt.x<=et&&jt.y>=qe&&jt.y<=ut&&jt!==w&&jt!==P&&qi(N,ue,H,ve,ie,Pe,jt.x,jt.y)&&wr(jt.prev,jt,jt.next)>=0)return!1;jt=jt.nextZ}return!0}function _n(h,A){let c=h;do{const y=c.prev,w=c.next.next;!ss(y,w)&&ha(y,c,c.next,w)&&bs(y,w)&&bs(w,y)&&(A.push(y.i,c.i,w.i),ks(c),ks(c.next),c=h=w),c=c.next}while(c!==h);return vt(c)}function Rn(h,A,c,y,w,R){let P=h;do{let N=P.next.next;for(;N!==P.prev;){if(P.i!==N.i&&eo(P,N)){let H=da(P,N);return P=vt(P,P.next),H=vt(H,H.next),It(P,A,c,y,w,R,0),void It(H,A,c,y,w,R,0)}N=N.next}P=P.next}while(P!==h)}function oi(h,A){let c=h.x-A.x;return c===0&&(c=h.y-A.y,c===0)&&(c=(h.next.y-h.y)/(h.next.x-h.x)-(A.next.y-A.y)/(A.next.x-A.x)),c}function mi(h,A){const c=function(w,R){let P=R;const N=w.x,H=w.y;let ie,ue=-1/0;if(ss(w,P))return P;do{if(ss(w,P.next))return P.next;if(H<=P.y&&H>=P.next.y&&P.next.y!==P.y){const et=P.x+(H-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(et<=N&&et>ue&&(ue=et,ie=P.x<P.next.x?P:P.next,et===N))return ie}P=P.next}while(P!==R);if(!ie)return null;const ve=ie,Pe=ie.x,Qe=ie.y;let qe=1/0;P=ie;do{if(N>=P.x&&P.x>=Pe&&N!==P.x&&sr(H<Qe?N:ue,H,Pe,Qe,H<Qe?ue:N,H,P.x,P.y)){const et=Math.abs(H-P.y)/(N-P.x);bs(P,w)&&(et<qe||et===qe&&(P.x>ie.x||P.x===ie.x&&Ci(ie,P)))&&(ie=P,qe=et)}P=P.next}while(P!==ve);return ie}(h,A);if(!c)return A;const y=da(c,h);return vt(y,y.next),vt(c,c.next)}function Ci(h,A){return wr(h.prev,h,A.prev)<0&&wr(A.next,h,h.next)<0}function gi(h,A,c,y,w){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=(h-c)*w|0)|h<<8))|h<<4))|h<<2))|h<<1))|(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=(A-y)*w|0)|A<<8))|A<<4))|A<<2))|A<<1))<<1}function Di(h){let A=h,c=h;do(A.x<c.x||A.x===c.x&&A.y<c.y)&&(c=A),A=A.next;while(A!==h);return c}function sr(h,A,c,y,w,R,P,N){return(w-P)*(A-N)>=(h-P)*(R-N)&&(h-P)*(y-N)>=(c-P)*(A-N)&&(c-P)*(R-N)>=(w-P)*(y-N)}function qi(h,A,c,y,w,R,P,N){return!(h===P&&A===N)&&sr(h,A,c,y,w,R,P,N)}function eo(h,A){return h.next.i!==A.i&&h.prev.i!==A.i&&!function(c,y){let w=c;do{if(w.i!==c.i&&w.next.i!==c.i&&w.i!==y.i&&w.next.i!==y.i&&ha(w,w.next,c,y))return!0;w=w.next}while(w!==c);return!1}(h,A)&&(bs(h,A)&&bs(A,h)&&function(c,y){let w=c,R=!1;const P=(c.x+y.x)/2,N=(c.y+y.y)/2;do w.y>N!=w.next.y>N&&w.next.y!==w.y&&P<(w.next.x-w.x)*(N-w.y)/(w.next.y-w.y)+w.x&&(R=!R),w=w.next;while(w!==c);return R}(h,A)&&(wr(h.prev,h,A.prev)||wr(h,A.prev,A))||ss(h,A)&&wr(h.prev,h,h.next)>0&&wr(A.prev,A,A.next)>0)}function wr(h,A,c){return(A.y-h.y)*(c.x-A.x)-(A.x-h.x)*(c.y-A.y)}function ss(h,A){return h.x===A.x&&h.y===A.y}function ha(h,A,c,y){const w=_s(wr(h,A,c)),R=_s(wr(h,A,y)),P=_s(wr(c,y,h)),N=_s(wr(c,y,A));return w!==R&&P!==N||!(w!==0||!Hr(h,c,A))||!(R!==0||!Hr(h,y,A))||!(P!==0||!Hr(c,h,y))||!(N!==0||!Hr(c,A,y))}function Hr(h,A,c){return A.x<=Math.max(h.x,c.x)&&A.x>=Math.min(h.x,c.x)&&A.y<=Math.max(h.y,c.y)&&A.y>=Math.min(h.y,c.y)}function _s(h){return h>0?1:h<0?-1:0}function bs(h,A){return wr(h.prev,h,h.next)<0?wr(h,A,h.next)>=0&&wr(h,h.prev,A)>=0:wr(h,A,h.prev)<0||wr(h,h.next,A)<0}function da(h,A){const c=Ws(h.i,h.x,h.y),y=Ws(A.i,A.x,A.y),w=h.next,R=A.prev;return h.next=A,A.prev=h,c.next=w,w.prev=c,y.next=c,c.prev=y,R.next=y,y.prev=R,y}function $l(h,A,c,y){const w=Ws(h,A,c);return y?(w.next=y.next,w.prev=y,y.next.prev=w,y.next=w):(w.prev=w,w.next=w),w}function ks(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function Ws(h,A,c){return{i:h,x:A,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Ir{constructor(A,c){if(c>A)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=A,this._minGranularity=c}getGranularityForZoomLevel(A){return Math.max(Math.floor(this._baseZoomGranularity/(1<<A)),this._minGranularity,1)}}class Oa{constructor(A){this.fill=A.fill,this.line=A.line,this.tile=A.tile,this.stencil=A.stencil,this.circle=A.circle}}Oa.noSubdivision=new Oa({fill:new Ir(0,0),line:new Ir(0,0),tile:new Ir(0,0),stencil:new Ir(0,0),circle:1}),ci("SubdivisionGranularityExpression",Ir),ci("SubdivisionGranularitySetting",Oa);const Zl=-32768,mc=32767;class mA{constructor(A,c){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=A,this._granularityCellSize=nt/A,this._canonical=c}_getKey(A,c){return(A+=32768)<<16|c+32768}_vertexToIndex(A,c){if(A<-32768||c<-32768||A>32767||c>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const y=0|Math.round(A),w=0|Math.round(c),R=this._getKey(y,w);if(this._vertexDictionary.has(R))return this._vertexDictionary.get(R);const P=this._vertexBuffer.length/2;return this._vertexDictionary.set(R,P),this._vertexBuffer.push(y,w),P}_subdivideTrianglesScanline(A){if(this._granularity<2)return function(w,R){const P=[];for(let N=0;N<R.length;N+=3){const H=R[N],ie=R[N+1],ue=R[N+2],ve=w[2*H],Pe=w[2*H+1];(w[2*ie]-ve)*(w[2*ue+1]-Pe)-(w[2*ie+1]-Pe)*(w[2*ue]-ve)>0?(P.push(H),P.push(ue),P.push(ie)):(P.push(H),P.push(ie),P.push(ue))}return P}(this._vertexBuffer,A);const c=[],y=A.length;for(let w=0;w<y;w+=3){const R=[A[w+0],A[w+1],A[w+2]],P=[this._vertexBuffer[2*A[w+0]+0],this._vertexBuffer[2*A[w+0]+1],this._vertexBuffer[2*A[w+1]+0],this._vertexBuffer[2*A[w+1]+1],this._vertexBuffer[2*A[w+2]+0],this._vertexBuffer[2*A[w+2]+1]];let N=1/0,H=1/0,ie=-1/0,ue=-1/0;for(let et=0;et<3;et++){const ut=P[2*et],Mt=P[2*et+1];N=Math.min(N,ut),ie=Math.max(ie,ut),H=Math.min(H,Mt),ue=Math.max(ue,Mt)}if(N===ie||H===ue)continue;const ve=Math.floor(N/this._granularityCellSize),Pe=Math.ceil(ie/this._granularityCellSize),Qe=Math.floor(H/this._granularityCellSize),qe=Math.ceil(ue/this._granularityCellSize);if(ve!==Pe||Qe!==qe)for(let et=Qe;et<qe;et++){const ut=this._scanlineGenerateVertexRingForCellRow(et,P,R);Su(this._vertexBuffer,ut,c)}else c.push(...R)}return c}_scanlineGenerateVertexRingForCellRow(A,c,y){const w=A*this._granularityCellSize,R=w+this._granularityCellSize,P=[];for(let N=0;N<3;N++){const H=c[2*N],ie=c[2*N+1],ue=c[2*(N+1)%6],ve=c[(2*(N+1)+1)%6],Pe=c[2*(N+2)%6],Qe=c[(2*(N+2)+1)%6],qe=ue-H,et=ve-ie,ut=qe===0,Mt=et===0,Qt=(w-ie)/et,Dt=(R-ie)/et,jt=Math.min(Qt,Dt),ln=Math.max(Qt,Dt);if(!Mt&&(jt>=1||ln<=0)||Mt&&(ie<w||ie>R)){ve>=w&&ve<=R&&P.push(y[(N+1)%3]);continue}!Mt&&jt>0&&P.push(this._vertexToIndex(H+qe*jt,ie+et*jt));const Cn=H+qe*Math.max(jt,0),Un=H+qe*Math.min(ln,1);ut||this._generateIntraEdgeVertices(P,H,ie,ue,ve,Cn,Un),!Mt&&ln<1&&P.push(this._vertexToIndex(H+qe*ln,ie+et*ln)),(Mt||ve>=w&&ve<=R)&&P.push(y[(N+1)%3]),!Mt&&(ve<=w||ve>=R)&&this._generateInterEdgeVertices(P,H,ie,ue,ve,Pe,Qe,Un,w,R)}return P}_generateIntraEdgeVertices(A,c,y,w,R,P,N){const H=w-c,ie=R-y,ue=ie===0,ve=ue?Math.min(c,w):Math.min(P,N),Pe=ue?Math.max(c,w):Math.max(P,N),Qe=Math.floor(ve/this._granularityCellSize)+1,qe=Math.ceil(Pe/this._granularityCellSize)-1;if(ue?c<w:P<N)for(let et=Qe;et<=qe;et++){const ut=et*this._granularityCellSize;A.push(this._vertexToIndex(ut,y+ie*(ut-c)/H))}else for(let et=qe;et>=Qe;et--){const ut=et*this._granularityCellSize;A.push(this._vertexToIndex(ut,y+ie*(ut-c)/H))}}_generateInterEdgeVertices(A,c,y,w,R,P,N,H,ie,ue){const ve=R-y,Pe=P-w,Qe=N-R,qe=(ie-R)/Qe,et=(ue-R)/Qe,ut=Math.min(qe,et),Mt=Math.max(qe,et),Qt=w+Pe*ut;let Dt=Math.floor(Math.min(Qt,H)/this._granularityCellSize)+1,jt=Math.ceil(Math.max(Qt,H)/this._granularityCellSize)-1,ln=H<Qt;const Cn=Qe===0;if(Cn&&(N===ie||N===ue))return;if(Cn||ut>=1||Mt<=0){const pi=y-N,ai=P+(c-P)*Math.min((ie-N)/pi,(ue-N)/pi);Dt=Math.floor(Math.min(ai,H)/this._granularityCellSize)+1,jt=Math.ceil(Math.max(ai,H)/this._granularityCellSize)-1,ln=H<ai}const Un=ve>0?ue:ie;if(ln)for(let pi=Dt;pi<=jt;pi++)A.push(this._vertexToIndex(pi*this._granularityCellSize,Un));else for(let pi=jt;pi>=Dt;pi--)A.push(this._vertexToIndex(pi*this._granularityCellSize,Un))}_generateOutline(A){const c=[];for(const y of A){const w=fs(y,this._granularity,!0),R=this._pointArrayToIndices(w),P=[];for(let N=1;N<R.length;N++)P.push(R[N-1]),P.push(R[N]);c.push(P)}return c}_handlePoles(A){let c=!1,y=!1;this._canonical&&(this._canonical.y===0&&(c=!0),this._canonical.y===(1<<this._canonical.z)-1&&(y=!0)),(c||y)&&this._fillPoles(A,c,y)}_ensureNoPoleVertices(){const A=this._vertexBuffer;for(let c=0;c<A.length;c+=2){const y=A[c+1];y===Zl&&(A[c+1]=-32767),y===mc&&(A[c+1]=32766)}}_generatePoleQuad(A,c,y,w,R,P){w>R!=(P===Zl)?(A.push(c),A.push(y),A.push(this._vertexToIndex(w,P)),A.push(y),A.push(this._vertexToIndex(R,P)),A.push(this._vertexToIndex(w,P))):(A.push(y),A.push(c),A.push(this._vertexToIndex(w,P)),A.push(this._vertexToIndex(R,P)),A.push(y),A.push(this._vertexToIndex(w,P)))}_fillPoles(A,c,y){const w=this._vertexBuffer,R=nt,P=A.length;for(let N=2;N<P;N+=3){const H=A[N-2],ie=A[N-1],ue=A[N],ve=w[2*H],Pe=w[2*H+1],Qe=w[2*ie],qe=w[2*ie+1],et=w[2*ue],ut=w[2*ue+1];c&&(Pe===0&&qe===0&&this._generatePoleQuad(A,H,ie,ve,Qe,Zl),qe===0&&ut===0&&this._generatePoleQuad(A,ie,ue,Qe,et,Zl),ut===0&&Pe===0&&this._generatePoleQuad(A,ue,H,et,ve,Zl)),y&&(Pe===R&&qe===R&&this._generatePoleQuad(A,H,ie,ve,Qe,mc),qe===R&&ut===R&&this._generatePoleQuad(A,ie,ue,Qe,et,mc),ut===R&&Pe===R&&this._generatePoleQuad(A,ue,H,et,ve,mc))}}_initializeVertices(A){for(let c=0;c<A.length;c+=2)this._vertexToIndex(A[c],A[c+1])}subdividePolygonInternal(A,c){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:y,holeIndices:w}=function(N){const H=[],ie=[];for(const ue of N)if(ue.length!==0){ue!==N[0]&&H.push(ie.length/2);for(let ve=0;ve<ue.length;ve++)ie.push(ue[ve].x),ie.push(ue[ve].y)}return{flattened:ie,holeIndices:H}}(A);let R;this._initializeVertices(y);try{const N=function(ie,ue,ve=2){const Pe=ue&&ue.length,Qe=Pe?ue[0]*ve:ie.length;let qe=Le(ie,0,Qe,ve,!0);const et=[];if(!qe||qe.next===qe.prev)return et;let ut,Mt,Qt;if(Pe&&(qe=function(Dt,jt,ln,Cn){const Un=[];for(let pi=0,ai=jt.length;pi<ai;pi++){const di=Le(Dt,jt[pi]*Cn,pi<ai-1?jt[pi+1]*Cn:Dt.length,Cn,!1);di===di.next&&(di.steiner=!0),Un.push(Di(di))}Un.sort(oi);for(let pi=0;pi<Un.length;pi++)ln=mi(Un[pi],ln);return ln}(ie,ue,qe,ve)),ie.length>80*ve){ut=ie[0],Mt=ie[1];let Dt=ut,jt=Mt;for(let ln=ve;ln<Qe;ln+=ve){const Cn=ie[ln],Un=ie[ln+1];Cn<ut&&(ut=Cn),Un<Mt&&(Mt=Un),Cn>Dt&&(Dt=Cn),Un>jt&&(jt=Un)}Qt=Math.max(Dt-ut,jt-Mt),Qt=Qt!==0?32767/Qt:0}return It(qe,et,ve,ut,Mt,Qt,0),et}(y,w),H=this._convertIndices(y,N);R=this._subdivideTrianglesScanline(H)}catch(N){console.error(N)}let P=[];return c&&(P=this._generateOutline(A)),this._ensureNoPoleVertices(),this._handlePoles(R),{verticesFlattened:this._vertexBuffer,indicesTriangles:R,indicesLineList:P}}_convertIndices(A,c){const y=[];for(let w=0;w<c.length;w++)y.push(this._vertexToIndex(A[2*c[w]],A[2*c[w]+1]));return y}_pointArrayToIndices(A){const c=[];for(let y=0;y<A.length;y++){const w=A[y];c.push(this._vertexToIndex(w.x,w.y))}return c}}function ah(h,A,c,y=!0){return new mA(c,A).subdividePolygonInternal(h,y)}function fs(h,A,c=!1){if(!h||h.length<1)return[];if(h.length<2)return[];const y=h[0],w=h[h.length-1],R=c&&(y.x!==w.x||y.y!==w.y);if(A<2)return R?[...h,h[0]]:[...h];const P=Math.floor(nt/A),N=[];N.push(new p(h[0].x,h[0].y));const H=h.length,ie=R?H:H-1;for(let ue=0;ue<ie;ue++){const ve=h[ue],Pe=ue<H-1?h[ue+1]:h[0],Qe=ve.x,qe=ve.y,et=Pe.x,ut=Pe.y,Mt=Qe!==et,Qt=qe!==ut;if(!Mt&&!Qt)continue;const Dt=et-Qe,jt=ut-qe,ln=Math.abs(Dt),Cn=Math.abs(jt);let Un=Qe,pi=qe;for(;;){const di=Dt>0?(Math.floor(Un/P)+1)*P:(Math.ceil(Un/P)-1)*P,nr=jt>0?(Math.floor(pi/P)+1)*P:(Math.ceil(pi/P)-1)*P,Ai=Math.abs(Un-di),fi=Math.abs(pi-nr),En=Math.abs(Un-et),pr=Math.abs(pi-ut),Br=Mt?Ai/ln:Number.POSITIVE_INFINITY,lr=Qt?fi/Cn:Number.POSITIVE_INFINITY;if((En<=Ai||!Mt)&&(pr<=fi||!Qt))break;if(Br<lr&&Mt||!Qt){Un=di,pi+=jt*Br;const Ui=new p(Un,Math.round(pi));N[N.length-1].x===Ui.x&&N[N.length-1].y===Ui.y||N.push(Ui)}else{Un+=Dt*lr,pi=nr;const Ui=new p(Math.round(Un),pi);N[N.length-1].x===Ui.x&&N[N.length-1].y===Ui.y||N.push(Ui)}}const ai=new p(et,ut);N[N.length-1].x===ai.x&&N[N.length-1].y===ai.y||N.push(ai)}return N}function Su(h,A,c){if(A.length===0)throw new Error("Subdivision vertex ring is empty.");let y=0,w=h[2*A[0]];for(let H=1;H<A.length;H++){const ie=h[2*A[H]];ie<w&&(w=ie,y=H)}const R=A.length;let P=y,N=(P+1)%R;for(;;){const H=P-1>=0?P-1:R-1,ie=(N+1)%R,ue=h[2*A[H]],ve=h[2*A[ie]],Pe=h[2*A[P]],Qe=h[2*A[P]+1],qe=h[2*A[N]+1];let et=!1;if(ue<ve)et=!0;else if(ue>ve)et=!1;else{const ut=qe-Qe,Mt=-(h[2*A[N]]-Pe),Qt=Qe<qe?1:-1;((ue-Pe)*ut+(h[2*A[H]+1]-Qe)*Mt)*Qt>((ve-Pe)*ut+(h[2*A[ie]+1]-Qe)*Mt)*Qt&&(et=!0)}if(et){const ut=A[H],Mt=A[P],Qt=A[N];ut!==Mt&&ut!==Qt&&Mt!==Qt&&c.push(Qt,Mt,ut),P--,P<0&&(P=R-1)}else{const ut=A[ie],Mt=A[P],Qt=A[N];ut!==Mt&&ut!==Qt&&Mt!==Qt&&c.push(Qt,Mt,ut),N++,N>=R&&(N=0)}if(H===ie)break}}function wl(h,A,c,y,w,R,P,N,H){const ie=w.length/2,ue=P&&N&&H;if(ie<Or.MAX_VERTEX_ARRAY_LENGTH){const ve=A.prepareSegment(ie,c,y),Pe=ve.vertexLength;for(let et=0;et<R.length;et+=3)y.emplaceBack(Pe+R[et],Pe+R[et+1],Pe+R[et+2]);let Qe,qe;ve.vertexLength+=ie,ve.primitiveLength+=R.length/3,ue&&(qe=P.prepareSegment(ie,c,N),Qe=qe.vertexLength,qe.vertexLength+=ie);for(let et=0;et<w.length;et+=2)h(w[et],w[et+1]);if(ue)for(let et=0;et<H.length;et++){const ut=H[et];for(let Mt=1;Mt<ut.length;Mt+=2)N.emplaceBack(Qe+ut[Mt-1],Qe+ut[Mt]);qe.primitiveLength+=ut.length/2}}else(function(ve,Pe,Qe,qe,et,ut){const Mt=[];for(let Cn=0;Cn<qe.length/2;Cn++)Mt.push(-1);const Qt={count:0};let Dt=0,jt=ve.getOrCreateLatestSegment(Pe,Qe),ln=jt.vertexLength;for(let Cn=2;Cn<et.length;Cn+=3){const Un=et[Cn-2],pi=et[Cn-1],ai=et[Cn];let di=Mt[Un]<Dt,nr=Mt[pi]<Dt,Ai=Mt[ai]<Dt;jt.vertexLength+((di?1:0)+(nr?1:0)+(Ai?1:0))>Or.MAX_VERTEX_ARRAY_LENGTH&&(jt=ve.createNewSegment(Pe,Qe),Dt=Qt.count,di=!0,nr=!0,Ai=!0,ln=0);const fi=gc(Mt,qe,ut,Qt,Un,di,jt),En=gc(Mt,qe,ut,Qt,pi,nr,jt),pr=gc(Mt,qe,ut,Qt,ai,Ai,jt);Qe.emplaceBack(ln+fi-Dt,ln+En-Dt,ln+pr-Dt),jt.primitiveLength++}})(A,c,y,w,R,h),ue&&function(ve,Pe,Qe,qe,et,ut){const Mt=[];for(let Cn=0;Cn<qe.length/2;Cn++)Mt.push(-1);const Qt={count:0};let Dt=0,jt=ve.getOrCreateLatestSegment(Pe,Qe),ln=jt.vertexLength;for(let Cn=0;Cn<et.length;Cn++){const Un=et[Cn];for(let pi=1;pi<et[Cn].length;pi+=2){const ai=Un[pi-1],di=Un[pi];let nr=Mt[ai]<Dt,Ai=Mt[di]<Dt;jt.vertexLength+((nr?1:0)+(Ai?1:0))>Or.MAX_VERTEX_ARRAY_LENGTH&&(jt=ve.createNewSegment(Pe,Qe),Dt=Qt.count,nr=!0,Ai=!0,ln=0);const fi=gc(Mt,qe,ut,Qt,ai,nr,jt),En=gc(Mt,qe,ut,Qt,di,Ai,jt);Qe.emplaceBack(ln+fi-Dt,ln+En-Dt),jt.primitiveLength++}}}(P,c,N,w,H,h),A.forceNewSegmentOnNextPrepare(),P?.forceNewSegmentOnNextPrepare()}function gc(h,A,c,y,w,R,P){if(R){const N=y.count;return c(A[2*w],A[2*w+1]),h[w]=y.count,y.count++,P.vertexLength++,N}return h[w]}class ll{constructor(A){this.zoom=A.zoom,this.globalState=A.globalState,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(c=>c.id),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new dn,this.indexArray=new ua,this.indexArray2=new Fo,this.programConfigurations=new Ha(A.layers,A.zoom),this.segments=new Or,this.segments2=new Or,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(A,c,y){this.hasPattern=_e("fill",this.layers,c);const w=this.layers[0].layout.get("fill-sort-key"),R=!w.isConstant(),P=[];for(const{feature:N,id:H,index:ie,sourceLayerIndex:ue}of A){const ve=this.layers[0]._featureFilter.needGeometry,Pe=iu(N,ve);if(!this.layers[0]._featureFilter.filter(new Ko(this.zoom,{globalState:this.globalState}),Pe,y))continue;const Qe=R?w.evaluate(Pe,{},y,c.availableImages):void 0,qe={id:H,properties:N.properties,type:N.type,sourceLayerIndex:ue,index:ie,geometry:ve?Pe.geometry:Ba(N),patterns:{},sortKey:Qe};P.push(qe)}R&&P.sort((N,H)=>N.sortKey-H.sortKey);for(const N of P){const{geometry:H,index:ie,sourceLayerIndex:ue}=N;if(this.hasPattern){const ve=ke("fill",this.layers,N,{zoom:this.zoom,globalState:this.globalState},c);this.patternFeatures.push(ve)}else this.addFeature(N,H,ie,y,{},c.subdivisionGranularity);c.featureIndex.insert(A[ie].feature,H,ie,ue,this.index)}}update(A,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,c,this.stateDependentLayers,{imagePositions:y,globalState:this.globalState})}addFeatures(A,c,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,c,y,A.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,fe),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.indexBuffer2=A.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(A),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(A,c,y,w,R,P){for(const N of Vc(c,500)){const H=ah(N,w,P.fill.getGranularityForZoomLevel(w.z)),ie=this.layoutVertexArray;wl((ue,ve)=>{ie.emplaceBack(ue,ve)},this.segments,this.layoutVertexArray,this.indexArray,H.verticesFlattened,H.indicesTriangles,this.segments2,this.indexArray2,H.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,y,{imagePositions:R,canonical:w,globalState:this.globalState})}}let gA,Zu;ci("FillBucket",ll,{omit:["layers","patternFeatures"]});var ad={get paint(){return Zu=Zu||new Aa({"fill-antialias":new Ii(it.paint_fill["fill-antialias"]),"fill-opacity":new ki(it.paint_fill["fill-opacity"]),"fill-color":new ki(it.paint_fill["fill-color"]),"fill-outline-color":new ki(it.paint_fill["fill-outline-color"]),"fill-translate":new Ii(it.paint_fill["fill-translate"]),"fill-translate-anchor":new Ii(it.paint_fill["fill-translate-anchor"]),"fill-pattern":new Dc(it.paint_fill["fill-pattern"])})},get layout(){return gA=gA||new Aa({"fill-sort-key":new ki(it.layout_fill["fill-sort-key"])})}};class hf extends Yl{constructor(A){super(A,ad)}recalculate(A,c){super.recalculate(A,c);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(A){return new ll(A)}queryRadius(){return Dd(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:A,geometry:c,transform:y,pixelsToTileUnits:w}){return od(el(A,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-y.bearingInRadians,w),c)}isTileClipped(){return!0}}const Wg=Ya([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Qg=Ya([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Pd}=Wg;class Tp{constructor(A,c,y,w,R){this.properties={},this.extent=y,this.type=0,this.id=void 0,this._pbf=A,this._geometry=-1,this._keys=w,this._values=R,A.readFields(vm,this,c)}loadGeometry(){const A=this._pbf;A.pos=this._geometry;const c=A.readVarint()+A.pos,y=[];let w,R=1,P=0,N=0,H=0;for(;A.pos<c;){if(P<=0){const ie=A.readVarint();R=7&ie,P=ie>>3}if(P--,R===1||R===2)N+=A.readSVarint(),H+=A.readSVarint(),R===1&&(w&&y.push(w),w=[]),w&&w.push(new p(N,H));else{if(R!==7)throw new Error(`unknown command ${R}`);w&&w.push(w[0].clone())}}return w&&y.push(w),y}bbox(){const A=this._pbf;A.pos=this._geometry;const c=A.readVarint()+A.pos;let y=1,w=0,R=0,P=0,N=1/0,H=-1/0,ie=1/0,ue=-1/0;for(;A.pos<c;){if(w<=0){const ve=A.readVarint();y=7&ve,w=ve>>3}if(w--,y===1||y===2)R+=A.readSVarint(),P+=A.readSVarint(),R<N&&(N=R),R>H&&(H=R),P<ie&&(ie=P),P>ue&&(ue=P);else if(y!==7)throw new Error(`unknown command ${y}`)}return[N,ie,H,ue]}toGeoJSON(A,c,y){const w=this.extent*Math.pow(2,y),R=this.extent*A,P=this.extent*c,N=this.loadGeometry();function H(Pe){return[360*(Pe.x+R)/w-180,360/Math.PI*Math.atan(Math.exp((1-2*(Pe.y+P)/w)*Math.PI))-90]}function ie(Pe){return Pe.map(H)}let ue;if(this.type===1){const Pe=[];for(const qe of N)Pe.push(qe[0]);const Qe=ie(Pe);ue=Pe.length===1?{type:"Point",coordinates:Qe[0]}:{type:"MultiPoint",coordinates:Qe}}else if(this.type===2){const Pe=N.map(ie);ue=Pe.length===1?{type:"LineString",coordinates:Pe[0]}:{type:"MultiLineString",coordinates:Pe}}else{if(this.type!==3)throw new Error("unknown feature type");{const Pe=function(qe){const et=qe.length;if(et<=1)return[qe];const ut=[];let Mt,Qt;for(let Dt=0;Dt<et;Dt++){const jt=l0(qe[Dt]);jt!==0&&(Qt===void 0&&(Qt=jt<0),Qt===jt<0?(Mt&&ut.push(Mt),Mt=[qe[Dt]]):Mt&&Mt.push(qe[Dt]))}return Mt&&ut.push(Mt),ut}(N),Qe=[];for(const qe of Pe)Qe.push(qe.map(ie));ue=Qe.length===1?{type:"Polygon",coordinates:Qe[0]}:{type:"MultiPolygon",coordinates:Qe}}}const ve={type:"Feature",geometry:ue,properties:this.properties};return this.id!=null&&(ve.id=this.id),ve}}function vm(h,A,c){h===1?A.id=c.readVarint():h===2?function(y,w){const R=y.readVarint()+y.pos;for(;y.pos<R;){const P=w._keys[y.readVarint()],N=w._values[y.readVarint()];w.properties[P]=N}}(c,A):h===3?A.type=c.readVarint():h===4&&(A._geometry=c.pos)}function l0(h){let A=0;for(let c,y,w=0,R=h.length,P=R-1;w<R;P=w++)c=h[w],y=h[P],A+=(y.x-c.x)*(c.y+y.y);return A}Tp.types=["Unknown","Point","LineString","Polygon"];class Eu{constructor(A,c){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(Cm,this,c),this.length=this._features.length}feature(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];const c=this._pbf.readVarint()+this._pbf.pos;return new Tp(this._pbf,c,this.extent,this._keys,this._values)}}function Cm(h,A,c){h===15?A.version=c.readVarint():h===1?A.name=c.readString():h===5?A.extent=c.readVarint():h===2?A._features.push(c.pos):h===3?A._keys.push(c.readString()):h===4&&A._values.push(function(y){let w=null;const R=y.readVarint()+y.pos;for(;y.pos<R;){const P=y.readVarint()>>3;w=P===1?y.readString():P===2?y.readFloat():P===3?y.readDouble():P===4?y.readVarint64():P===5?y.readVarint():P===6?y.readSVarint():P===7?y.readBoolean():null}if(w==null)throw new Error("unknown feature value");return w}(c))}class Yg{constructor(A,c){this.layers=A.readFields(ay,{},c)}}function ay(h,A,c){if(h===3){const y=new Eu(c,c.readVarint()+c.pos);y.length&&(A[y.name]=y)}}const $f=Math.pow(2,13);function _m(h,A,c,y,w,R,P,N){h.emplaceBack(A,c,2*Math.floor(y*$f)+P,w*$f*2,R*$f*2,Math.round(N))}class bm{constructor(A){this.zoom=A.zoom,this.globalState=A.globalState,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(c=>c.id),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Xt,this.centroidVertexArray=new Bt,this.indexArray=new ua,this.programConfigurations=new Ha(A.layers,A.zoom),this.segments=new Or,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(A,c,y){this.features=[],this.hasPattern=_e("fill-extrusion",this.layers,c);for(const{feature:w,id:R,index:P,sourceLayerIndex:N}of A){const H=this.layers[0]._featureFilter.needGeometry,ie=iu(w,H);if(!this.layers[0]._featureFilter.filter(new Ko(this.zoom,{globalState:this.globalState}),ie,y))continue;const ue={id:R,sourceLayerIndex:N,index:P,geometry:H?ie.geometry:Ba(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(ke("fill-extrusion",this.layers,ue,{zoom:this.zoom,globalState:this.globalState},c)):this.addFeature(ue,ue.geometry,P,y,{},c.subdivisionGranularity),c.featureIndex.insert(w,ue.geometry,P,N,this.index,!0)}}addFeatures(A,c,y){for(const w of this.features){const{geometry:R}=w;this.addFeature(w,R,w.index,c,y,A.subdivisionGranularity)}}update(A,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,c,this.stateDependentLayers,{imagePositions:y,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Pd),this.centroidVertexBuffer=A.createVertexBuffer(this.centroidVertexArray,Qg.members,!0),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(A,c,y,w,R,P){for(const N of Vc(c,500)){const H={x:0,y:0,sampleCount:0},ie=this.layoutVertexArray.length;this.processPolygon(H,w,A,N,P);const ue=this.layoutVertexArray.length-ie,ve=Math.floor(H.x/H.sampleCount),Pe=Math.floor(H.y/H.sampleCount);for(let Qe=0;Qe<ue;Qe++)this.centroidVertexArray.emplaceBack(ve,Pe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,y,{imagePositions:R,canonical:w,globalState:this.globalState})}processPolygon(A,c,y,w,R){if(w.length<1||q0(w[0]))return;for(const ve of w)ve.length!==0&&sy(A,ve);const P={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},N=R.fill.getGranularityForZoomLevel(c.z),H=Tp.types[y.type]==="Polygon";for(const ve of w){if(ve.length===0||q0(ve))continue;const Pe=fs(ve,N,H);this._generateSideFaces(Pe,P)}if(!H)return;const ie=ah(w,c,N,!1),ue=this.layoutVertexArray;wl((ve,Pe)=>{_m(ue,ve,Pe,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,ie.verticesFlattened,ie.indicesTriangles)}_generateSideFaces(A,c){let y=0;for(let w=1;w<A.length;w++){const R=A[w],P=A[w-1];if(rC(R,P))continue;c.segment.vertexLength+4>Or.MAX_VERTEX_ARRAY_LENGTH&&(c.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const N=R.sub(P)._perp()._unit(),H=P.dist(R);y+H>32768&&(y=0),_m(this.layoutVertexArray,R.x,R.y,N.x,N.y,0,0,y),_m(this.layoutVertexArray,R.x,R.y,N.x,N.y,0,1,y),y+=H,_m(this.layoutVertexArray,P.x,P.y,N.x,N.y,0,0,y),_m(this.layoutVertexArray,P.x,P.y,N.x,N.y,0,1,y);const ie=c.segment.vertexLength;this.indexArray.emplaceBack(ie,ie+2,ie+1),this.indexArray.emplaceBack(ie+1,ie+2,ie+3),c.segment.vertexLength+=4,c.segment.primitiveLength+=2}}}function sy(h,A){for(let c=0;c<A.length;c++){const y=A[c];c===A.length-1&&A[0].x===y.x&&A[0].y===y.y||(h.x+=y.x,h.y+=y.y,h.sampleCount++)}}function rC(h,A){return h.x===A.x&&(h.x<0||h.x>nt)||h.y===A.y&&(h.y<0||h.y>nt)}function q0(h){return h.every(A=>A.x<0)||h.every(A=>A.x>nt)||h.every(A=>A.y<0)||h.every(A=>A.y>nt)}let ls;ci("FillExtrusionBucket",bm,{omit:["layers","features"]});var Qs={get paint(){return ls=ls||new Aa({"fill-extrusion-opacity":new Ii(it["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ki(it["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ii(it["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ii(it["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Dc(it["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ki(it["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ki(it["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ii(it["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ia extends Yl{constructor(A){super(A,Qs)}createBucket(A){return new bm(A)}queryRadius(){return Dd(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:A,feature:c,featureState:y,geometry:w,transform:R,pixelsToTileUnits:P,pixelPosMatrix:N}){const H=el(A,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-R.bearingInRadians,P),ie=this.paint.get("fill-extrusion-height").evaluate(c,y),ue=this.paint.get("fill-extrusion-base").evaluate(c,y),ve=function(Qe,qe){const et=[];for(const ut of Qe){const Mt=[ut.x,ut.y,0,1];Ve(Mt,Mt,qe),et.push(new p(Mt[0]/Mt[3],Mt[1]/Mt[3]))}return et}(H,N),Pe=function(Qe,qe,et,ut){const Mt=[],Qt=[],Dt=ut[8]*qe,jt=ut[9]*qe,ln=ut[10]*qe,Cn=ut[11]*qe,Un=ut[8]*et,pi=ut[9]*et,ai=ut[10]*et,di=ut[11]*et;for(const nr of Qe){const Ai=[],fi=[];for(const En of nr){const pr=En.x,Br=En.y,lr=ut[0]*pr+ut[4]*Br+ut[12],Ui=ut[1]*pr+ut[5]*Br+ut[13],Wr=ut[2]*pr+ut[6]*Br+ut[14],za=ut[3]*pr+ut[7]*Br+ut[15],Ms=Wr+ln,Rl=za+Cn,Iu=lr+Un,Pl=Ui+pi,UA=Wr+ai,Ds=za+di,cl=new p((lr+Dt)/Rl,(Ui+jt)/Rl);cl.z=Ms/Rl,Ai.push(cl);const LA=new p(Iu/Ds,Pl/Ds);LA.z=UA/Ds,fi.push(LA)}Mt.push(Ai),Qt.push(fi)}return[Mt,Qt]}(w,ue,ie,N);return function(Qe,qe,et){let ut=1/0;od(et,qe)&&(ut=As(et,qe[0]));for(let Mt=0;Mt<qe.length;Mt++){const Qt=qe[Mt],Dt=Qe[Mt];for(let jt=0;jt<Qt.length-1;jt++){const ln=Qt[jt],Cn=[ln,Qt[jt+1],Dt[jt+1],Dt[jt],ln];mm(et,Cn)&&(ut=Math.min(ut,As(et,Cn)))}}return ut!==1/0&&ut}(Pe[0],Pe[1],ve)}}function qo(h,A){return h.x*A.x+h.y*A.y}function As(h,A){if(h.length===1){let c=0;const y=A[c++];let w;for(;!w||y.equals(w);)if(w=A[c++],!w)return 1/0;for(;c<A.length;c++){const R=A[c],P=h[0],N=w.sub(y),H=R.sub(y),ie=P.sub(y),ue=qo(N,N),ve=qo(N,H),Pe=qo(H,H),Qe=qo(ie,N),qe=qo(ie,H),et=ue*Pe-ve*ve,ut=(Pe*Qe-ve*qe)/et,Mt=(ue*qe-ve*Qe)/et,Qt=y.z*(1-ut-Mt)+w.z*ut+R.z*Mt;if(isFinite(Qt))return Qt}return 1/0}{let c=1/0;for(const y of A)c=Math.min(c,y.z);return c}}const sh=Ya([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Zf}=sh,xm=Ya([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:qg}=xm,df=Math.cos(Math.PI/180*37.5),Sl=Math.pow(2,14)/.5;class Kd{constructor(A){this.zoom=A.zoom,this.globalState=A.globalState,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(c=>c.id),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new nn,this.layoutVertexArray2=new An,this.indexArray=new ua,this.programConfigurations=new Ha(A.layers,A.zoom),this.segments=new Or,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(A,c,y){this.hasPattern=_e("line",this.layers,c);const w=this.layers[0].layout.get("line-sort-key"),R=!w.isConstant(),P=[];for(const{feature:N,id:H,index:ie,sourceLayerIndex:ue}of A){const ve=this.layers[0]._featureFilter.needGeometry,Pe=iu(N,ve);if(!this.layers[0]._featureFilter.filter(new Ko(this.zoom,{globalState:this.globalState}),Pe,y))continue;const Qe=R?w.evaluate(Pe,{},y):void 0,qe={id:H,properties:N.properties,type:N.type,sourceLayerIndex:ue,index:ie,geometry:ve?Pe.geometry:Ba(N),patterns:{},sortKey:Qe};P.push(qe)}R&&P.sort((N,H)=>N.sortKey-H.sortKey);for(const N of P){const{geometry:H,index:ie,sourceLayerIndex:ue}=N;if(this.hasPattern){const ve=ke("line",this.layers,N,{zoom:this.zoom,globalState:this.globalState},c);this.patternFeatures.push(ve)}else this.addFeature(N,H,ie,y,{},c.subdivisionGranularity);c.featureIndex.insert(A[ie].feature,H,ie,ue,this.index)}}update(A,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,c,this.stateDependentLayers,{imagePositions:y,globalState:this.globalState})}addFeatures(A,c,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,c,y,A.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(A){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=A.createVertexBuffer(this.layoutVertexArray2,qg)),this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Zf),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(A){if(A.properties&&Object.prototype.hasOwnProperty.call(A.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(A.properties,"mapbox_clip_end"))return{start:+A.properties.mapbox_clip_start,end:+A.properties.mapbox_clip_end}}addFeature(A,c,y,w,R,P){const N=this.layers[0].layout,H=N.get("line-join").evaluate(A,{}),ie=N.get("line-cap"),ue=N.get("line-miter-limit"),ve=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(A);for(const Pe of c)this.addLine(Pe,A,H,ie,ue,ve,w,P);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,y,{imagePositions:R,canonical:w,globalState:this.globalState})}addLine(A,c,y,w,R,P,N,H){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,A=fs(A,N?H.line.getGranularityForZoomLevel(N.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Dt=0;Dt<A.length-1;Dt++)this.totalDistance+=A[Dt].dist(A[Dt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ie=Tp.types[c.type]==="Polygon";let ue=A.length;for(;ue>=2&&A[ue-1].equals(A[ue-2]);)ue--;let ve=0;for(;ve<ue-1&&A[ve].equals(A[ve+1]);)ve++;if(ue<(ie?3:2))return;y==="bevel"&&(R=1.05);const Pe=this.overscaling<=16?122880/(512*this.overscaling):0,Qe=this.segments.prepareSegment(10*ue,this.layoutVertexArray,this.indexArray);let qe,et,ut,Mt,Qt;this.e1=this.e2=-1,ie&&(qe=A[ue-2],Qt=A[ve].sub(qe)._unit()._perp());for(let Dt=ve;Dt<ue;Dt++){if(ut=Dt===ue-1?ie?A[ve+1]:void 0:A[Dt+1],ut&&A[Dt].equals(ut))continue;Qt&&(Mt=Qt),qe&&(et=qe),qe=A[Dt],Qt=ut?ut.sub(qe)._unit()._perp():Mt,Mt=Mt||Qt;let jt=Mt.add(Qt);jt.x===0&&jt.y===0||jt._unit();const ln=Mt.x*Qt.x+Mt.y*Qt.y,Cn=jt.x*Qt.x+jt.y*Qt.y,Un=Cn!==0?1/Cn:1/0,pi=2*Math.sqrt(2-2*Cn),ai=Cn<df&&et&&ut,di=Mt.x*Qt.y-Mt.y*Qt.x>0;if(ai&&Dt>ve){const fi=qe.dist(et);if(fi>2*Pe){const En=qe.sub(qe.sub(et)._mult(Pe/fi)._round());this.updateDistance(et,En),this.addCurrentVertex(En,Mt,0,0,Qe),et=En}}const nr=et&&ut;let Ai=nr?y:ie?"butt":w;if(nr&&Ai==="round"&&(Un<P?Ai="miter":Un<=2&&(Ai="fakeround")),Ai==="miter"&&Un>R&&(Ai="bevel"),Ai==="bevel"&&(Un>2&&(Ai="flipbevel"),Un<R&&(Ai="miter")),et&&this.updateDistance(et,qe),Ai==="miter")jt._mult(Un),this.addCurrentVertex(qe,jt,0,0,Qe);else if(Ai==="flipbevel"){if(Un>100)jt=Qt.mult(-1);else{const fi=Un*Mt.add(Qt).mag()/Mt.sub(Qt).mag();jt._perp()._mult(fi*(di?-1:1))}this.addCurrentVertex(qe,jt,0,0,Qe),this.addCurrentVertex(qe,jt.mult(-1),0,0,Qe)}else if(Ai==="bevel"||Ai==="fakeround"){const fi=-Math.sqrt(Un*Un-1),En=di?fi:0,pr=di?0:fi;if(et&&this.addCurrentVertex(qe,Mt,En,pr,Qe),Ai==="fakeround"){const Br=Math.round(180*pi/Math.PI/20);for(let lr=1;lr<Br;lr++){let Ui=lr/Br;if(Ui!==.5){const za=Ui-.5;Ui+=Ui*za*(Ui-1)*((1.0904+ln*(ln*(3.55645-1.43519*ln)-3.2452))*za*za+(.848013+ln*(.215638*ln-1.06021)))}const Wr=Qt.sub(Mt)._mult(Ui)._add(Mt)._unit()._mult(di?-1:1);this.addHalfVertex(qe,Wr.x,Wr.y,!1,di,0,Qe)}}ut&&this.addCurrentVertex(qe,Qt,-En,-pr,Qe)}else if(Ai==="butt")this.addCurrentVertex(qe,jt,0,0,Qe);else if(Ai==="square"){const fi=et?1:-1;this.addCurrentVertex(qe,jt,fi,fi,Qe)}else Ai==="round"&&(et&&(this.addCurrentVertex(qe,Mt,0,0,Qe),this.addCurrentVertex(qe,Mt,1,1,Qe,!0)),ut&&(this.addCurrentVertex(qe,Qt,-1,-1,Qe,!0),this.addCurrentVertex(qe,Qt,0,0,Qe)));if(ai&&Dt<ue-1){const fi=qe.dist(ut);if(fi>2*Pe){const En=qe.add(ut.sub(qe)._mult(Pe/fi)._round());this.updateDistance(qe,En),this.addCurrentVertex(En,Qt,0,0,Qe),qe=En}}}}addCurrentVertex(A,c,y,w,R,P=!1){const N=c.y*w-c.x,H=-c.y-c.x*w;this.addHalfVertex(A,c.x+c.y*y,c.y-c.x*y,P,!1,y,R),this.addHalfVertex(A,N,H,P,!0,-w,R),this.distance>Sl/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(A,c,y,w,R,P))}addHalfVertex({x:A,y:c},y,w,R,P,N,H){const ie=.5*(this.lineClips?this.scaledDistance*(Sl-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((A<<1)+(R?1:0),(c<<1)+(P?1:0),Math.round(63*y)+128,Math.round(63*w)+128,1+(N===0?0:N<0?-1:1)|(63&ie)<<2,ie>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ue=H.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,ue,this.e2),H.primitiveLength++),P?this.e2=ue:this.e1=ue}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(A,c){this.distance+=A.dist(c),this.updateScaledDistance()}}let Xf,H0;ci("LineBucket",Kd,{omit:["layers","patternFeatures"]});var lh={get paint(){return H0=H0||new Aa({"line-opacity":new ki(it.paint_line["line-opacity"]),"line-color":new ki(it.paint_line["line-color"]),"line-translate":new Ii(it.paint_line["line-translate"]),"line-translate-anchor":new Ii(it.paint_line["line-translate-anchor"]),"line-width":new ki(it.paint_line["line-width"]),"line-gap-width":new ki(it.paint_line["line-gap-width"]),"line-offset":new ki(it.paint_line["line-offset"]),"line-blur":new ki(it.paint_line["line-blur"]),"line-dasharray":new RA(it.paint_line["line-dasharray"]),"line-pattern":new Dc(it.paint_line["line-pattern"]),"line-gradient":new cA(it.paint_line["line-gradient"])})},get layout(){return Xf=Xf||new Aa({"line-cap":new Ii(it.layout_line["line-cap"]),"line-join":new ki(it.layout_line["line-join"]),"line-miter-limit":new Ii(it.layout_line["line-miter-limit"]),"line-round-limit":new Ii(it.layout_line["line-round-limit"]),"line-sort-key":new ki(it.layout_line["line-sort-key"])})}};class Mm extends ki{possiblyEvaluate(A,c){return c=new Ko(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(A,c)}evaluate(A,c,y,w){return c=Fe({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(A,c,y,w)}}let Jf;class Fc extends Yl{constructor(A){super(A,lh),this.gradientVersion=0,Jf||(Jf=new Mm(lh.paint.properties["line-width"].specification),Jf.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(A){if(A==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof Nr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(A,c){super.recalculate(A,c),this.paint._values["line-floorwidth"]=Jf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,A)}createBucket(A){return new Kd(A)}queryRadius(A){const c=A,y=V0(ru("line-width",this,c),ru("line-gap-width",this,c)),w=ru("line-offset",this,c);return y/2+Math.abs(w)+Dd(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:A,feature:c,featureState:y,geometry:w,transform:R,pixelsToTileUnits:P}){const N=el(A,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-R.bearingInRadians,P),H=P/2*V0(this.paint.get("line-width").evaluate(c,y),this.paint.get("line-gap-width").evaluate(c,y)),ie=this.paint.get("line-offset").evaluate(c,y);return ie&&(w=function(ue,ve){const Pe=[];for(let Qe=0;Qe<ue.length;Qe++){const qe=ue[Qe],et=[];for(let ut=0;ut<qe.length;ut++){const Mt=qe[ut-1],Qt=qe[ut],Dt=qe[ut+1],jt=ut===0?new p(0,0):Qt.sub(Mt)._unit()._perp(),ln=ut===qe.length-1?new p(0,0):Dt.sub(Qt)._unit()._perp(),Cn=jt._add(ln)._unit(),Un=Cn.x*ln.x+Cn.y*ln.y;Un!==0&&Cn._mult(1/Un),et.push(Cn._mult(ve)._add(Qt))}Pe.push(et)}return Pe}(w,ie*P)),function(ue,ve,Pe){for(let Qe=0;Qe<ve.length;Qe++){const qe=ve[Qe];if(ue.length>=3){for(let et=0;et<qe.length;et++)if(kh(ue,qe[et]))return!0}if(Wf(ue,qe,Pe))return!0}return!1}(N,w,H)}isTileClipped(){return!0}}function V0(h,A){return A>0?A+2*h:h}const Hg=Ya([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),wm=Ya([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ya([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const A0=Ya([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Ya([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ff=Ya([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Bu=Ya([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ep(h,A,c){return h.sections.forEach(y=>{y.text=function(w,R,P){const N=R.layout.get("text-transform").evaluate(P,{});return N==="uppercase"?w=w.toLocaleUpperCase():N==="lowercase"&&(w=w.toLocaleLowerCase()),Wl.applyArabicShaping&&(w=Wl.applyArabicShaping(w)),w}(y.text,A,c)}),h}Ya([{name:"triangle",components:3,type:"Uint16"}]),Ya([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ya([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ya([{type:"Float32",name:"offsetX"}]),Ya([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ya([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Ud={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var tl=24;const u0=4294967296,$0=1/u0,Vg=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class tp{constructor(A=new Uint8Array(16)){this.buf=ArrayBuffer.isView(A)?A:new Uint8Array(A),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(A,c,y=this.length){for(;this.pos<y;){const w=this.readVarint(),R=w>>3,P=this.pos;this.type=7&w,A(R,c,this),this.pos===P&&this.skip(w)}return c}readMessage(A,c){return this.readFields(A,c,this.readVarint()+this.pos)}readFixed32(){const A=this.dataView.getUint32(this.pos,!0);return this.pos+=4,A}readSFixed32(){const A=this.dataView.getInt32(this.pos,!0);return this.pos+=4,A}readFixed64(){const A=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*u0;return this.pos+=8,A}readSFixed64(){const A=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*u0;return this.pos+=8,A}readFloat(){const A=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,A}readDouble(){const A=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,A}readVarint(A){const c=this.buf;let y,w;return w=c[this.pos++],y=127&w,w<128?y:(w=c[this.pos++],y|=(127&w)<<7,w<128?y:(w=c[this.pos++],y|=(127&w)<<14,w<128?y:(w=c[this.pos++],y|=(127&w)<<21,w<128?y:(w=c[this.pos],y|=(15&w)<<28,function(R,P,N){const H=N.buf;let ie,ue;if(ue=H[N.pos++],ie=(112&ue)>>4,ue<128||(ue=H[N.pos++],ie|=(127&ue)<<3,ue<128)||(ue=H[N.pos++],ie|=(127&ue)<<10,ue<128)||(ue=H[N.pos++],ie|=(127&ue)<<17,ue<128)||(ue=H[N.pos++],ie|=(127&ue)<<24,ue<128)||(ue=H[N.pos++],ie|=(1&ue)<<31,ue<128))return np(R,ie,P);throw new Error("Expected varint not more than 10 bytes")}(y,A,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const A=this.readVarint();return A%2==1?(A+1)/-2:A/2}readBoolean(){return!!this.readVarint()}readString(){const A=this.readVarint()+this.pos,c=this.pos;return this.pos=A,A-c>=12&&Vg?Vg.decode(this.buf.subarray(c,A)):function(y,w,R){let P="",N=w;for(;N<R;){const H=y[N];let ie,ue,ve,Pe=null,Qe=H>239?4:H>223?3:H>191?2:1;if(N+Qe>R)break;Qe===1?H<128&&(Pe=H):Qe===2?(ie=y[N+1],(192&ie)==128&&(Pe=(31&H)<<6|63&ie,Pe<=127&&(Pe=null))):Qe===3?(ie=y[N+1],ue=y[N+2],(192&ie)==128&&(192&ue)==128&&(Pe=(15&H)<<12|(63&ie)<<6|63&ue,(Pe<=2047||Pe>=55296&&Pe<=57343)&&(Pe=null))):Qe===4&&(ie=y[N+1],ue=y[N+2],ve=y[N+3],(192&ie)==128&&(192&ue)==128&&(192&ve)==128&&(Pe=(15&H)<<18|(63&ie)<<12|(63&ue)<<6|63&ve,(Pe<=65535||Pe>=1114112)&&(Pe=null))),Pe===null?(Pe=65533,Qe=1):Pe>65535&&(Pe-=65536,P+=String.fromCharCode(Pe>>>10&1023|55296),Pe=56320|1023&Pe),P+=String.fromCharCode(Pe),N+=Qe}return P}(this.buf,c,A)}readBytes(){const A=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,A);return this.pos=A,c}readPackedVarint(A=[],c){const y=this.readPackedEnd();for(;this.pos<y;)A.push(this.readVarint(c));return A}readPackedSVarint(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readSVarint());return A}readPackedBoolean(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readBoolean());return A}readPackedFloat(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readFloat());return A}readPackedDouble(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readDouble());return A}readPackedFixed32(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readFixed32());return A}readPackedSFixed32(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readSFixed32());return A}readPackedFixed64(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readFixed64());return A}readPackedSFixed64(A=[]){const c=this.readPackedEnd();for(;this.pos<c;)A.push(this.readSFixed64());return A}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(A){const c=7&A;if(c===0)for(;this.buf[this.pos++]>127;);else if(c===2)this.pos=this.readVarint()+this.pos;else if(c===5)this.pos+=4;else{if(c!==1)throw new Error(`Unimplemented type: ${c}`);this.pos+=8}}writeTag(A,c){this.writeVarint(A<<3|c)}realloc(A){let c=this.length||16;for(;c<this.pos+A;)c*=2;if(c!==this.length){const y=new Uint8Array(c);y.set(this.buf),this.buf=y,this.dataView=new DataView(y.buffer),this.length=c}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(A){this.realloc(4),this.dataView.setInt32(this.pos,A,!0),this.pos+=4}writeSFixed32(A){this.realloc(4),this.dataView.setInt32(this.pos,A,!0),this.pos+=4}writeFixed64(A){this.realloc(8),this.dataView.setInt32(this.pos,-1&A,!0),this.dataView.setInt32(this.pos+4,Math.floor(A*$0),!0),this.pos+=8}writeSFixed64(A){this.realloc(8),this.dataView.setInt32(this.pos,-1&A,!0),this.dataView.setInt32(this.pos+4,Math.floor(A*$0),!0),this.pos+=8}writeVarint(A){(A=+A||0)>268435455||A<0?function(c,y){let w,R;if(c>=0?(w=c%4294967296|0,R=c/4294967296|0):(w=~(-c%4294967296),R=~(-c/4294967296),4294967295^w?w=w+1|0:(w=0,R=R+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");y.realloc(10),function(P,N,H){H.buf[H.pos++]=127&P|128,P>>>=7,H.buf[H.pos++]=127&P|128,P>>>=7,H.buf[H.pos++]=127&P|128,P>>>=7,H.buf[H.pos++]=127&P|128,H.buf[H.pos]=127&(P>>>=7)}(w,0,y),function(P,N){const H=(7&P)<<4;N.buf[N.pos++]|=H|((P>>>=3)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P)))))}(R,y)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))}writeSVarint(A){this.writeVarint(A<0?2*-A-1:2*A)}writeBoolean(A){this.writeVarint(+A)}writeString(A){A=String(A),this.realloc(4*A.length),this.pos++;const c=this.pos;this.pos=function(w,R,P){for(let N,H,ie=0;ie<R.length;ie++){if(N=R.charCodeAt(ie),N>55295&&N<57344){if(!H){N>56319||ie+1===R.length?(w[P++]=239,w[P++]=191,w[P++]=189):H=N;continue}if(N<56320){w[P++]=239,w[P++]=191,w[P++]=189,H=N;continue}N=H-55296<<10|N-56320|65536,H=null}else H&&(w[P++]=239,w[P++]=191,w[P++]=189,H=null);N<128?w[P++]=N:(N<2048?w[P++]=N>>6|192:(N<65536?w[P++]=N>>12|224:(w[P++]=N>>18|240,w[P++]=N>>12&63|128),w[P++]=N>>6&63|128),w[P++]=63&N|128)}return P}(this.buf,A,this.pos);const y=this.pos-c;y>=128&&Ou(c,y,this),this.pos=c-1,this.writeVarint(y),this.pos+=y}writeFloat(A){this.realloc(4),this.dataView.setFloat32(this.pos,A,!0),this.pos+=4}writeDouble(A){this.realloc(8),this.dataView.setFloat64(this.pos,A,!0),this.pos+=8}writeBytes(A){const c=A.length;this.writeVarint(c),this.realloc(c);for(let y=0;y<c;y++)this.buf[this.pos++]=A[y]}writeRawMessage(A,c){this.pos++;const y=this.pos;A(c,this);const w=this.pos-y;w>=128&&Ou(y,w,this),this.pos=y-1,this.writeVarint(w),this.pos+=w}writeMessage(A,c,y){this.writeTag(A,2),this.writeRawMessage(c,y)}writePackedVarint(A,c){c.length&&this.writeMessage(A,ly,c)}writePackedSVarint(A,c){c.length&&this.writeMessage(A,Ah,c)}writePackedBoolean(A,c){c.length&&this.writeMessage(A,oC,c)}writePackedFloat(A,c){c.length&&this.writeMessage(A,Ay,c)}writePackedDouble(A,c){c.length&&this.writeMessage(A,uy,c)}writePackedFixed32(A,c){c.length&&this.writeMessage(A,ip,c)}writePackedSFixed32(A,c){c.length&&this.writeMessage(A,Z0,c)}writePackedFixed64(A,c){c.length&&this.writeMessage(A,$g,c)}writePackedSFixed64(A,c){c.length&&this.writeMessage(A,Sm,c)}writeBytesField(A,c){this.writeTag(A,2),this.writeBytes(c)}writeFixed32Field(A,c){this.writeTag(A,5),this.writeFixed32(c)}writeSFixed32Field(A,c){this.writeTag(A,5),this.writeSFixed32(c)}writeFixed64Field(A,c){this.writeTag(A,1),this.writeFixed64(c)}writeSFixed64Field(A,c){this.writeTag(A,1),this.writeSFixed64(c)}writeVarintField(A,c){this.writeTag(A,0),this.writeVarint(c)}writeSVarintField(A,c){this.writeTag(A,0),this.writeSVarint(c)}writeStringField(A,c){this.writeTag(A,2),this.writeString(c)}writeFloatField(A,c){this.writeTag(A,5),this.writeFloat(c)}writeDoubleField(A,c){this.writeTag(A,1),this.writeDouble(c)}writeBooleanField(A,c){this.writeVarintField(A,+c)}}function np(h,A,c){return c?4294967296*A+(h>>>0):4294967296*(A>>>0)+(h>>>0)}function Ou(h,A,c){const y=A<=16383?1:A<=2097151?2:A<=268435455?3:Math.floor(Math.log(A)/(7*Math.LN2));c.realloc(y);for(let w=c.pos-1;w>=h;w--)c.buf[w+y]=c.buf[w]}function ly(h,A){for(let c=0;c<h.length;c++)A.writeVarint(h[c])}function Ah(h,A){for(let c=0;c<h.length;c++)A.writeSVarint(h[c])}function Ay(h,A){for(let c=0;c<h.length;c++)A.writeFloat(h[c])}function uy(h,A){for(let c=0;c<h.length;c++)A.writeDouble(h[c])}function oC(h,A){for(let c=0;c<h.length;c++)A.writeBoolean(h[c])}function ip(h,A){for(let c=0;c<h.length;c++)A.writeFixed32(h[c])}function Z0(h,A){for(let c=0;c<h.length;c++)A.writeSFixed32(h[c])}function $g(h,A){for(let c=0;c<h.length;c++)A.writeFixed64(h[c])}function Sm(h,A){for(let c=0;c<h.length;c++)A.writeSFixed64(h[c])}function cy(h,A,c){h===1&&c.readMessage(hy,A)}function hy(h,A,c){if(h===3){const{id:y,bitmap:w,width:R,height:P,left:N,top:H,advance:ie}=c.readMessage(dy,{});A.push({id:y,bitmap:new $u({width:R+6,height:P+6},w),metrics:{width:R,height:P,left:N,top:H,advance:ie}})}}function dy(h,A,c){h===1?A.id=c.readVarint():h===2?A.bitmap=c.readBytes():h===3?A.width=c.readVarint():h===4?A.height=c.readVarint():h===5?A.left=c.readSVarint():h===6?A.top=c.readSVarint():h===7&&(A.advance=c.readVarint())}function X0(h){let A=0,c=0;for(const P of h)A+=P.w*P.h,c=Math.max(c,P.w);h.sort((P,N)=>N.h-P.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(A/.95)),c),h:1/0}];let w=0,R=0;for(const P of h)for(let N=y.length-1;N>=0;N--){const H=y[N];if(!(P.w>H.w||P.h>H.h)){if(P.x=H.x,P.y=H.y,R=Math.max(R,P.y+P.h),w=Math.max(w,P.x+P.w),P.w===H.w&&P.h===H.h){const ie=y.pop();ie&&N<y.length&&(y[N]=ie)}else P.h===H.h?(H.x+=P.w,H.w-=P.w):P.w===H.w?(H.y+=P.h,H.h-=P.h):(y.push({x:H.x+P.w,y:H.y,w:H.w-P.w,h:P.h}),H.y+=P.h,H.h-=P.h);break}}return{w,h:R,fill:A/(w*R)||0}}class c0{constructor(A,{pixelRatio:c,version:y,stretchX:w,stretchY:R,content:P,textFitWidth:N,textFitHeight:H}){this.paddedRect=A,this.pixelRatio=c,this.stretchX=w,this.stretchY=R,this.content=P,this.version=y,this.textFitWidth=N,this.textFitHeight=H}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class fy{constructor(A,c){const y={},w={};this.haveRenderCallbacks=[];const R=[];this.addImages(A,y,R),this.addImages(c,w,R);const{w:P,h:N}=X0(R),H=new pA({width:P||1,height:N||1});for(const ie in A){const ue=A[ie],ve=y[ie].paddedRect;pA.copy(ue.data,H,{x:0,y:0},{x:ve.x+1,y:ve.y+1},ue.data)}for(const ie in c){const ue=c[ie],ve=w[ie].paddedRect,Pe=ve.x+1,Qe=ve.y+1,qe=ue.data.width,et=ue.data.height;pA.copy(ue.data,H,{x:0,y:0},{x:Pe,y:Qe},ue.data),pA.copy(ue.data,H,{x:0,y:et-1},{x:Pe,y:Qe-1},{width:qe,height:1}),pA.copy(ue.data,H,{x:0,y:0},{x:Pe,y:Qe+et},{width:qe,height:1}),pA.copy(ue.data,H,{x:qe-1,y:0},{x:Pe-1,y:Qe},{width:1,height:et}),pA.copy(ue.data,H,{x:0,y:0},{x:Pe+qe,y:Qe},{width:1,height:et})}this.image=H,this.iconPositions=y,this.patternPositions=w}addImages(A,c,y){for(const w in A){const R=A[w],P={x:0,y:0,w:R.data.width+2,h:R.data.height+2};y.push(P),c[w]=new c0(P,R),R.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(A,c){A.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in A.updatedImages)this.patchUpdatedImage(this.iconPositions[y],A.getImage(y),c),this.patchUpdatedImage(this.patternPositions[y],A.getImage(y),c)}patchUpdatedImage(A,c,y){if(!A||!c||A.version===c.version)return;A.version=c.version;const[w,R]=A.tl;y.update(c.data,void 0,{x:w,y:R})}}var rp;ci("ImagePosition",c0),ci("ImageAtlas",fy),l.ao=void 0,(rp=l.ao||(l.ao={}))[rp.none=0]="none",rp[rp.horizontal=1]="horizontal",rp[rp.vertical=2]="vertical",rp[rp.horizontalOnly=3]="horizontalOnly";class Em{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(A,c,y){const w=new Em;return w.scale=A||1,w.fontStack=c,w.verticalAlign=y||"bottom",w}static forImage(A,c){const y=new Em;return y.imageName=A,y.verticalAlign=c||"bottom",y}}class op{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(A,c){const y=new op;for(let w=0;w<A.sections.length;w++){const R=A.sections[w];R.image?y.addImageSection(R):y.addTextSection(R,c)}return y}length(){return this.text.length}getSection(A){return this.sections[this.sectionIndex[A]]}getSectionIndex(A){return this.sectionIndex[A]}getCharCode(A){return this.text.charCodeAt(A)}verticalizePunctuation(){this.text=function(A){let c="";for(let y=0;y<A.length;y++){const w=A.charCodeAt(y+1)||null,R=A.charCodeAt(y-1)||null;c+=w&&rh(w)&&!Ud[A[y+1]]||R&&rh(R)&&!Ud[A[y-1]]||!Ud[A[y]]?A[y]:Ud[A[y]]}return c}(this.text)}trim(){let A=0;for(let y=0;y<this.text.length&&pf[this.text.charCodeAt(y)];y++)A++;let c=this.text.length;for(let y=this.text.length-1;y>=0&&y>=A&&pf[this.text.charCodeAt(y)];y--)c--;this.text=this.text.substring(A,c),this.sectionIndex=this.sectionIndex.slice(A,c)}substring(A,c){const y=new op;return y.text=this.text.substring(A,c),y.sectionIndex=this.sectionIndex.slice(A,c),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((A,c)=>Math.max(A,this.sections[c].scale),0)}getMaxImageSize(A){let c=0,y=0;for(let w=0;w<this.length();w++){const R=this.getSection(w);if(R.imageName){const P=A[R.imageName];if(!P)continue;const N=P.displaySize;c=Math.max(c,N[0]),y=Math.max(y,N[1])}}return{maxImageWidth:c,maxImageHeight:y}}addTextSection(A,c){this.text+=A.text,this.sections.push(Em.forText(A.scale,A.fontStack||c,A.verticalAlign));const y=this.sections.length-1;for(let w=0;w<A.text.length;++w)this.sectionIndex.push(y)}addImageSection(A){const c=A.image?A.image.name:"";if(c.length===0)return void Ot("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(Em.forImage(c,A.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Ot("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function h0(h,A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe){const et=op.fromFeature(h,w);let ut;ve===l.ao.vertical&&et.verticalizePunctuation();const{processBidirectionalText:Mt,processStyledBidirectionalText:Qt}=Wl;if(Mt&&et.sections.length===1){ut=[];const ln=Mt(et.toString(),Om(et,ie,R,A,y,Qe));for(const Cn of ln){const Un=new op;Un.text=Cn,Un.sections=et.sections;for(let pi=0;pi<Cn.length;pi++)Un.sectionIndex.push(0);ut.push(Un)}}else if(Qt){ut=[];const ln=Qt(et.text,et.sectionIndex,Om(et,ie,R,A,y,Qe));for(const Cn of ln){const Un=new op;Un.text=Cn[0],Un.sectionIndex=Cn[1],Un.sections=et.sections,ut.push(Un)}}else ut=function(ln,Cn){const Un=[],pi=ln.text;let ai=0;for(const di of Cn)Un.push(ln.substring(ai,di)),ai=di;return ai<pi.length&&Un.push(ln.substring(ai,pi.length)),Un}(et,Om(et,ie,R,A,y,Qe));const Dt=[],jt={positionedLines:Dt,text:et.toString(),top:ue[1],bottom:ue[1],left:ue[0],right:ue[0],writingMode:ve,iconsInText:!1,verticalizable:!1};return function(ln,Cn,Un,pi,ai,di,nr,Ai,fi,En,pr,Br){let lr=0,Ui=0,Wr=0,za=0;const Ms=Ai==="right"?1:Ai==="left"?0:.5,Rl=tl/Br;let Iu=0;for(const Ds of ai){Ds.trim();const cl=Ds.getMaxScale(),LA={positionedGlyphs:[],lineOffset:0};ln.positionedLines[Iu]=LA;const yA=LA.positionedGlyphs;let FA=0;if(!Ds.length()){Ui+=di,++Iu;continue}const jc=gy(pi,Ds,Rl);for(let au=0;au<Ds.length();au++){const hl=Ds.getSection(au),eA=Ds.getSectionIndex(au),dl=Ds.getCharCode(au),fl=e1(fi,pr,dl);let Va;if(hl.imageName){if(ln.iconsInText=!0,hl.scale=hl.scale*Rl,Va=yy(hl,fl,cl,jc,pi),!Va)continue;FA=Math.max(FA,Va.imageOffset)}else if(Va=aC(hl,dl,fl,jc,Cn,Un),!Va)continue;const{rect:Ph,metrics:Um,baselineOffset:Nc}=Va;yA.push({glyph:dl,imageName:hl.imageName,x:lr,y:Ui+Nc+-17,vertical:fl,scale:hl.scale,fontStack:hl.fontStack,sectionIndex:eA,metrics:Um,rect:Ph}),fl?(ln.verticalizable=!0,lr+=(hl.imageName?Um.advance:tl)*hl.scale+En):lr+=Um.advance*hl.scale+En}yA.length!==0&&(Wr=Math.max(lr-En,Wr),tg(yA,0,yA.length-1,Ms)),lr=0,LA.lineOffset=Math.max(FA,(cl-1)*tl);const vA=di*cl+FA;Ui+=vA,za=Math.max(vA,za),++Iu}const{horizontalAlign:Pl,verticalAlign:UA}=eg(nr);(function(Ds,cl,LA,yA,FA,jc,vA,au,hl){const eA=(cl-LA)*FA;let dl=0;dl=jc!==vA?-au*yA- -17:-yA*hl*vA+.5*vA;for(const fl of Ds)for(const Va of fl.positionedGlyphs)Va.x+=eA,Va.y+=dl})(ln.positionedLines,Ms,Pl,UA,Wr,za,di,Ui,ai.length),ln.top+=-UA*Ui,ln.bottom=ln.top+Ui,ln.left+=-Pl*Wr,ln.right=ln.left+Wr}(jt,A,c,y,ut,P,N,H,ve,ie,Pe,qe),!function(ln){for(const Cn of ln)if(Cn.positionedGlyphs.length!==0)return!1;return!0}(Dt)&&jt}const pf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},J0={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},py={40:!0};function Bm(h,A,c,y,w,R){if(A.imageName){const P=y[A.imageName];return P?P.displaySize[0]*A.scale*tl/R+w:0}{const P=c[A.fontStack],N=P&&P[h];return N?N.metrics.advance*A.scale+w:0}}function Zg(h,A,c,y){const w=Math.pow(h-A,2);return y?h<A?w/2:2*w:w+Math.abs(c)*c}function my(h,A,c){let y=0;return h===10&&(y-=1e4),c&&(y+=150),h!==40&&h!==65288||(y+=50),A!==41&&A!==65289||(y+=50),y}function Xg(h,A,c,y,w,R){let P=null,N=Zg(A,c,w,R);for(const H of y){const ie=Zg(A-H.x,c,w,R)+H.badness;ie<=N&&(P=H,N=ie)}return{index:h,x:A,priorBreak:P,badness:N}}function Jg(h){return h?Jg(h.priorBreak).concat(h.index):[]}function Om(h,A,c,y,w,R){if(!h)return[];const P=[],N=function(ve,Pe,Qe,qe,et,ut){let Mt=0;for(let Qt=0;Qt<ve.length();Qt++){const Dt=ve.getSection(Qt);Mt+=Bm(ve.getCharCode(Qt),Dt,qe,et,Pe,ut)}return Mt/Math.max(1,Math.ceil(Mt/Qe))}(h,A,c,y,w,R),H=h.text.indexOf("")>=0;let ie=0;for(let ve=0;ve<h.length();ve++){const Pe=h.getSection(ve),Qe=h.getCharCode(ve);if(pf[Qe]||(ie+=Bm(Qe,Pe,y,w,A,R)),ve<h.length()-1){const qe=!((ue=Qe)<11904)&&(!!io["CJK Compatibility Forms"](ue)||!!io["CJK Compatibility"](ue)||!!io["CJK Strokes"](ue)||!!io["CJK Symbols and Punctuation"](ue)||!!io["Enclosed CJK Letters and Months"](ue)||!!io["Halfwidth and Fullwidth Forms"](ue)||!!io["Ideographic Description Characters"](ue)||!!io["Vertical Forms"](ue)||Ih.test(String.fromCodePoint(ue)));(J0[Qe]||qe||Pe.imageName||ve!==h.length()-2&&py[h.getCharCode(ve+1)])&&P.push(Xg(ve+1,ie,N,P,my(Qe,h.getCharCode(ve+1),qe&&H),!1))}}var ue;return Jg(Xg(h.length(),ie,N,P,0,!0))}function eg(h){let A=.5,c=.5;switch(h){case"right":case"top-right":case"bottom-right":A=1;break;case"left":case"top-left":case"bottom-left":A=0}switch(h){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:A,verticalAlign:c}}function gy(h,A,c){const y=A.getMaxScale()*tl,{maxImageWidth:w,maxImageHeight:R}=A.getMaxImageSize(h),P=Math.max(y,R*c);return{verticalLineContentWidth:Math.max(y,w*c),horizontalLineContentHeight:P}}function xs(h){switch(h){case"top":return 0;case"center":return .5;default:return 1}}function e1(h,A,c){return!(h===l.ao.horizontal||!A&&!vu(c)||A&&(pf[c]||(y=c,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(y)))));var y}function aC(h,A,c,y,w,R){const P=R[h.fontStack],N=function(ie,ue,ve,Pe){if(ie&&ie.rect)return ie;const Qe=ue[ve.fontStack],qe=Qe&&Qe[Pe];return qe?{rect:null,metrics:qe.metrics}:null}(P&&P[A],w,h,A);if(N===null)return null;let H;if(c)H=y.verticalLineContentWidth-h.scale*tl;else{const ie=xs(h.verticalAlign);H=(y.horizontalLineContentHeight-h.scale*tl)*ie}return{rect:N.rect,metrics:N.metrics,baselineOffset:H}}function yy(h,A,c,y,w){const R=w[h.imageName];if(!R)return null;const P=R.paddedRect,N=R.displaySize,H={width:N[0],height:N[1],left:1,top:-3,advance:A?N[1]:N[0]};let ie;if(A)ie=y.verticalLineContentWidth-N[1]*h.scale;else{const ue=xs(h.verticalAlign);ie=(y.horizontalLineContentHeight-N[1]*h.scale)*ue}return{rect:P,metrics:H,baselineOffset:ie,imageOffset:(A?N[0]:N[1])*h.scale-tl*c}}function tg(h,A,c,y){if(y===0)return;const w=h[c],R=(h[c].x+w.metrics.advance*w.scale)*y;for(let P=A;P<=c;P++)h[P].x-=R}function sC(h,A,c){const{horizontalAlign:y,verticalAlign:w}=eg(c),R=A[0]-h.displaySize[0]*y,P=A[1]-h.displaySize[1]*w;return{image:h,top:P,bottom:P+h.displaySize[1],left:R,right:R+h.displaySize[0]}}function t1(h){var A,c;let y=h.left,w=h.top,R=h.right-y,P=h.bottom-w;const N=(A=h.image.textFitWidth)!==null&&A!==void 0?A:"stretchOrShrink",H=(c=h.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",ie=(h.image.content[2]-h.image.content[0])/(h.image.content[3]-h.image.content[1]);if(H==="proportional"){if(N==="stretchOnly"&&R/P<ie||N==="proportional"){const ue=Math.ceil(P*ie);y*=ue/R,R=ue}}else if(N==="proportional"&&H==="stretchOnly"&&ie!==0&&R/P>ie){const ue=Math.ceil(R/ie);w*=ue/P,P=ue}return{x1:y,y1:w,x2:y+R,y2:w+P}}function Im(h,A,c,y,w,R){const P=h.image;let N;if(P.content){const ut=P.content,Mt=P.pixelRatio||1;N=[ut[0]/Mt,ut[1]/Mt,P.displaySize[0]-ut[2]/Mt,P.displaySize[1]-ut[3]/Mt]}const H=A.left*R,ie=A.right*R;let ue,ve,Pe,Qe;c==="width"||c==="both"?(Qe=w[0]+H-y[3],ve=w[0]+ie+y[1]):(Qe=w[0]+(H+ie-P.displaySize[0])/2,ve=Qe+P.displaySize[0]);const qe=A.top*R,et=A.bottom*R;return c==="height"||c==="both"?(ue=w[1]+qe-y[0],Pe=w[1]+et+y[2]):(ue=w[1]+(qe+et-P.displaySize[1])/2,Pe=ue+P.displaySize[1]),{image:P,top:ue,right:ve,bottom:Pe,left:Qe,collisionPadding:N}}const Xu=128,sd=32640;function Tm(h,A){const{expression:c}=A;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Ko(h+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:w}=c;let R=0;for(;R<y.length&&y[R]<=h;)R++;R=Math.max(0,R-1);let P=R;for(;P<y.length&&y[P]<h+1;)P++;P=Math.min(y.length-1,P);const N=y[R],H=y[P];return c.kind==="composite"?{kind:"composite",minZoom:N,maxZoom:H,interpolationType:w}:{kind:"camera",minZoom:N,maxZoom:H,minSize:c.evaluate(new Ko(N)),maxSize:c.evaluate(new Ko(H)),interpolationType:w}}}function km(h,A,c){let y="never";const w=h.get(A);return w?y=w:h.get(c)&&(y="always"),y}const ap=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function uh(h,A,c,y,w,R,P,N,H,ie,ue,ve,Pe){const Qe=N?Math.min(sd,Math.round(N[0])):0,qe=N?Math.min(sd,Math.round(N[1])):0;h.emplaceBack(A,c,Math.round(32*y),Math.round(32*w),R,P,(Qe<<1)+(H?1:0),qe,16*ie,16*ue,256*ve,256*Pe)}function kp(h,A,c){h.emplaceBack(A.x,A.y,c),h.emplaceBack(A.x,A.y,c),h.emplaceBack(A.x,A.y,c),h.emplaceBack(A.x,A.y,c)}function lC(h){for(const A of h.sections)if(af(A.text))return!0;return!1}class Dp{constructor(A){this.layoutVertexArray=new Qn,this.indexArray=new ua,this.programConfigurations=A,this.segments=new Or,this.dynamicLayoutVertexArray=new Tn,this.opacityVertexArray=new xi,this.hasVisibleVertices=!1,this.placedSymbolArray=new Xe}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(A,c,y,w){this.isEmpty()||(y&&(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Hg.members),this.indexBuffer=A.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=A.createVertexBuffer(this.dynamicLayoutVertexArray,wm.members,!0),this.opacityVertexBuffer=A.createVertexBuffer(this.opacityVertexArray,ap,!0),this.opacityVertexBuffer.itemSize=1),(y||w)&&this.programConfigurations.upload(A))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ci("SymbolBuffers",Dp);class Rp{constructor(A,c,y){this.layoutVertexArray=new A,this.layoutAttributes=c,this.indexArray=new y,this.segments=new Or,this.collisionVertexArray=new _o}upload(A){this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=A.createVertexBuffer(this.collisionVertexArray,A0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}ci("CollisionBuffers",Rp);class Pp{constructor(A){this.collisionBoxArray=A.collisionBoxArray,this.zoom=A.zoom,this.globalState=A.globalState,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(P=>P.id),this.index=A.index,this.pixelRatio=A.pixelRatio,this.sourceLayerIndex=A.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Tm(this.zoom,c["text-size"]),this.iconSizeData=Tm(this.zoom,c["icon-size"]);const y=this.layers[0].layout,w=y.get("symbol-sort-key"),R=y.get("symbol-z-order");this.canOverlap=km(y,"text-overlap","text-allow-overlap")!=="never"||km(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=R!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(R==="viewport-y"||R==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(P=>l.ao[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=A.sourceID}createArrays(){this.text=new Dp(new Ha(this.layers,this.zoom,A=>/^text/.test(A))),this.icon=new Dp(new Ha(this.layers,this.zoom,A=>/^icon/.test(A))),this.glyphOffsetArray=new ft,this.lineVertexArray=new xt,this.symbolInstances=new ct,this.textAnchorOffsets=new wt}calculateGlyphDependencies(A,c,y,w,R){for(let P=0;P<A.length;P++)if(c[A.charCodeAt(P)]=!0,(y||w)&&R){const N=Ud[A.charAt(P)];N&&(c[N.charCodeAt(0)]=!0)}}populate(A,c,y){const w=this.layers[0],R=w.layout,P=R.get("text-font"),N=R.get("text-field"),H=R.get("icon-image"),ie=(N.value.kind!=="constant"||N.value.value instanceof Bo&&!N.value.value.isEmpty()||N.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),ue=H.value.kind!=="constant"||!!H.value.value||Object.keys(H.parameters).length>0,ve=R.get("symbol-sort-key");if(this.features=[],!ie&&!ue)return;const Pe=c.iconDependencies,Qe=c.glyphDependencies,qe=c.availableImages,et=new Ko(this.zoom,{globalState:this.globalState});for(const{feature:ut,id:Mt,index:Qt,sourceLayerIndex:Dt}of A){const jt=w._featureFilter.needGeometry,ln=iu(ut,jt);if(!w._featureFilter.filter(et,ln,y))continue;let Cn,Un;if(jt||(ln.geometry=Ba(ut)),ie){const ai=w.getValueAndResolveTokens("text-field",ln,y,qe),di=Bo.factory(ai),nr=this.hasRTLText=this.hasRTLText||lC(di);(!nr||Wl.getRTLTextPluginStatus()==="unavailable"||nr&&Wl.isParsed())&&(Cn=ep(di,w,ln))}if(ue){const ai=w.getValueAndResolveTokens("icon-image",ln,y,qe);Un=ai instanceof ns?ai:ns.fromString(ai)}if(!Cn&&!Un)continue;const pi=this.sortFeaturesByKey?ve.evaluate(ln,{},y):void 0;if(this.features.push({id:Mt,text:Cn,icon:Un,index:Qt,sourceLayerIndex:Dt,geometry:ln.geometry,properties:ut.properties,type:Tp.types[ut.type],sortKey:pi}),Un&&(Pe[Un.name]=!0),Cn){const ai=P.evaluate(ln,{},y).join(","),di=R.get("text-rotation-alignment")!=="viewport"&&R.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(l.ao.vertical)>=0;for(const nr of Cn.sections)if(nr.image)Pe[nr.image.name]=!0;else{const Ai=Gl(Cn.toString()),fi=nr.fontStack||ai,En=Qe[fi]=Qe[fi]||{};this.calculateGlyphDependencies(nr.text,En,di,this.allowVerticalPlacement,Ai)}}}R.get("symbol-placement")==="line"&&(this.features=function(ut){const Mt={},Qt={},Dt=[];let jt=0;function ln(ai){Dt.push(ut[ai]),jt++}function Cn(ai,di,nr){const Ai=Qt[ai];return delete Qt[ai],Qt[di]=Ai,Dt[Ai].geometry[0].pop(),Dt[Ai].geometry[0]=Dt[Ai].geometry[0].concat(nr[0]),Ai}function Un(ai,di,nr){const Ai=Mt[di];return delete Mt[di],Mt[ai]=Ai,Dt[Ai].geometry[0].shift(),Dt[Ai].geometry[0]=nr[0].concat(Dt[Ai].geometry[0]),Ai}function pi(ai,di,nr){const Ai=nr?di[0][di[0].length-1]:di[0][0];return`${ai}:${Ai.x}:${Ai.y}`}for(let ai=0;ai<ut.length;ai++){const di=ut[ai],nr=di.geometry,Ai=di.text?di.text.toString():null;if(!Ai){ln(ai);continue}const fi=pi(Ai,nr),En=pi(Ai,nr,!0);if(fi in Qt&&En in Mt&&Qt[fi]!==Mt[En]){const pr=Un(fi,En,nr),Br=Cn(fi,En,Dt[pr].geometry);delete Mt[fi],delete Qt[En],Qt[pi(Ai,Dt[Br].geometry,!0)]=Br,Dt[pr].geometry=null}else fi in Qt?Cn(fi,En,nr):En in Mt?Un(fi,En,nr):(ln(ai),Mt[fi]=jt-1,Qt[En]=jt-1)}return Dt.filter(ai=>ai.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ut,Mt)=>ut.sortKey-Mt.sortKey)}update(A,c,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(A,c,this.layers,{imagePositions:y,globalState:this.globalState}),this.icon.programConfigurations.updatePaintArrays(A,c,this.layers,{imagePositions:y,globalState:this.globalState}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(A){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(A),this.iconCollisionBox.upload(A)),this.text.upload(A,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(A,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(A,c){const y=this.lineVertexArray.length;if(A.segment!==void 0){let w=A.dist(c[A.segment+1]),R=A.dist(c[A.segment]);const P={};for(let N=A.segment+1;N<c.length;N++)P[N]={x:c[N].x,y:c[N].y,tileUnitDistanceFromAnchor:w},N<c.length-1&&(w+=c[N+1].dist(c[N]));for(let N=A.segment||0;N>=0;N--)P[N]={x:c[N].x,y:c[N].y,tileUnitDistanceFromAnchor:R},N>0&&(R+=c[N-1].dist(c[N]));for(let N=0;N<c.length;N++){const H=P[N];this.lineVertexArray.emplaceBack(H.x,H.y,H.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(A,c,y,w,R,P,N,H,ie,ue,ve,Pe){const Qe=A.indexArray,qe=A.layoutVertexArray,et=A.segments.prepareSegment(4*c.length,qe,Qe,this.canOverlap?P.sortKey:void 0),ut=this.glyphOffsetArray.length,Mt=et.vertexLength,Qt=this.allowVerticalPlacement&&N===l.ao.vertical?Math.PI/2:0,Dt=P.text&&P.text.sections;for(let jt=0;jt<c.length;jt++){const{tl:ln,tr:Cn,bl:Un,br:pi,tex:ai,pixelOffsetTL:di,pixelOffsetBR:nr,minFontScaleX:Ai,minFontScaleY:fi,glyphOffset:En,isSDF:pr,sectionIndex:Br}=c[jt],lr=et.vertexLength,Ui=En[1];uh(qe,H.x,H.y,ln.x,Ui+ln.y,ai.x,ai.y,y,pr,di.x,di.y,Ai,fi),uh(qe,H.x,H.y,Cn.x,Ui+Cn.y,ai.x+ai.w,ai.y,y,pr,nr.x,di.y,Ai,fi),uh(qe,H.x,H.y,Un.x,Ui+Un.y,ai.x,ai.y+ai.h,y,pr,di.x,nr.y,Ai,fi),uh(qe,H.x,H.y,pi.x,Ui+pi.y,ai.x+ai.w,ai.y+ai.h,y,pr,nr.x,nr.y,Ai,fi),kp(A.dynamicLayoutVertexArray,H,Qt),Qe.emplaceBack(lr,lr+2,lr+1),Qe.emplaceBack(lr+1,lr+2,lr+3),et.vertexLength+=4,et.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(En[0]),jt!==c.length-1&&Br===c[jt+1].sectionIndex||A.programConfigurations.populatePaintArrays(qe.length,P,P.index,{imagePositions:{},canonical:Pe,formattedSection:Dt&&Dt[Br],globalState:this.globalState})}A.placedSymbolArray.emplaceBack(H.x,H.y,ut,this.glyphOffsetArray.length-ut,Mt,ie,ue,H.segment,y?y[0]:0,y?y[1]:0,w[0],w[1],N,0,!1,0,ve)}_addCollisionDebugVertex(A,c,y,w,R,P){return c.emplaceBack(0,0),A.emplaceBack(y.x,y.y,w,R,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(A,c,y,w,R,P,N){const H=R.segments.prepareSegment(4,R.layoutVertexArray,R.indexArray),ie=H.vertexLength,ue=R.layoutVertexArray,ve=R.collisionVertexArray,Pe=N.anchorX,Qe=N.anchorY;this._addCollisionDebugVertex(ue,ve,P,Pe,Qe,new p(A,c)),this._addCollisionDebugVertex(ue,ve,P,Pe,Qe,new p(y,c)),this._addCollisionDebugVertex(ue,ve,P,Pe,Qe,new p(y,w)),this._addCollisionDebugVertex(ue,ve,P,Pe,Qe,new p(A,w)),H.vertexLength+=4;const qe=R.indexArray;qe.emplaceBack(ie,ie+1),qe.emplaceBack(ie+1,ie+2),qe.emplaceBack(ie+2,ie+3),qe.emplaceBack(ie+3,ie),H.primitiveLength+=4}addDebugCollisionBoxes(A,c,y,w){for(let R=A;R<c;R++){const P=this.collisionBoxArray.get(R);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,w?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Rp(hr,ff.members,Fo),this.iconCollisionBox=new Rp(hr,ff.members,Fo);for(let A=0;A<this.symbolInstances.length;A++){const c=this.symbolInstances.get(A);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(A,c,y,w,R,P,N,H,ie){const ue={};for(let ve=c;ve<y;ve++){const Pe=A.get(ve);ue.textBox={x1:Pe.x1,y1:Pe.y1,x2:Pe.x2,y2:Pe.y2,anchorPointX:Pe.anchorPointX,anchorPointY:Pe.anchorPointY},ue.textFeatureIndex=Pe.featureIndex;break}for(let ve=w;ve<R;ve++){const Pe=A.get(ve);ue.verticalTextBox={x1:Pe.x1,y1:Pe.y1,x2:Pe.x2,y2:Pe.y2,anchorPointX:Pe.anchorPointX,anchorPointY:Pe.anchorPointY},ue.verticalTextFeatureIndex=Pe.featureIndex;break}for(let ve=P;ve<N;ve++){const Pe=A.get(ve);ue.iconBox={x1:Pe.x1,y1:Pe.y1,x2:Pe.x2,y2:Pe.y2,anchorPointX:Pe.anchorPointX,anchorPointY:Pe.anchorPointY},ue.iconFeatureIndex=Pe.featureIndex;break}for(let ve=H;ve<ie;ve++){const Pe=A.get(ve);ue.verticalIconBox={x1:Pe.x1,y1:Pe.y1,x2:Pe.x2,y2:Pe.y2,anchorPointX:Pe.anchorPointX,anchorPointY:Pe.anchorPointY},ue.verticalIconFeatureIndex=Pe.featureIndex;break}return ue}deserializeCollisionBoxes(A){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const y=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(A,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(A,c){const y=A.placedSymbolArray.get(c),w=y.vertexStartIndex+4*y.numGlyphs;for(let R=y.vertexStartIndex;R<w;R+=4)A.indexArray.emplaceBack(R,R+2,R+1),A.indexArray.emplaceBack(R+1,R+2,R+3)}getSortedSymbolIndexes(A){if(this.sortedAngle===A&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(A),y=Math.cos(A),w=[],R=[],P=[];for(let N=0;N<this.symbolInstances.length;++N){P.push(N);const H=this.symbolInstances.get(N);w.push(0|Math.round(c*H.anchorX+y*H.anchorY)),R.push(H.featureIndex)}return P.sort((N,H)=>w[N]-w[H]||R[H]-R[N]),P}addToSortKeyRanges(A,c){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===c?y.symbolInstanceEnd=A+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:A,symbolInstanceEnd:A+1})}sortFeatures(A){if(this.sortFeaturesByY&&this.sortedAngle!==A&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(A),this.sortedAngle=A,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const y=this.symbolInstances.get(c);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((w,R,P)=>{w>=0&&P.indexOf(w)===R&&this.addIndicesForPlacedSymbol(this.text,w)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let n1,ng;ci("SymbolBucket",Pp,{omit:["layers","collisionBoxArray","features","compareText"]}),Pp.MAX_GLYPHS=65535,Pp.addDynamicAttributes=kp;var Dm={get paint(){return ng=ng||new Aa({"icon-opacity":new ki(it.paint_symbol["icon-opacity"]),"icon-color":new ki(it.paint_symbol["icon-color"]),"icon-halo-color":new ki(it.paint_symbol["icon-halo-color"]),"icon-halo-width":new ki(it.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ki(it.paint_symbol["icon-halo-blur"]),"icon-translate":new Ii(it.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ii(it.paint_symbol["icon-translate-anchor"]),"text-opacity":new ki(it.paint_symbol["text-opacity"]),"text-color":new ki(it.paint_symbol["text-color"],{runtimeType:Cr,getOverride:h=>h.textColor,hasOverride:h=>!!h.textColor}),"text-halo-color":new ki(it.paint_symbol["text-halo-color"]),"text-halo-width":new ki(it.paint_symbol["text-halo-width"]),"text-halo-blur":new ki(it.paint_symbol["text-halo-blur"]),"text-translate":new Ii(it.paint_symbol["text-translate"]),"text-translate-anchor":new Ii(it.paint_symbol["text-translate-anchor"])})},get layout(){return n1=n1||new Aa({"symbol-placement":new Ii(it.layout_symbol["symbol-placement"]),"symbol-spacing":new Ii(it.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ii(it.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ki(it.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ii(it.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ii(it.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Ii(it.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Ii(it.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ii(it.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ii(it.layout_symbol["icon-rotation-alignment"]),"icon-size":new ki(it.layout_symbol["icon-size"]),"icon-text-fit":new Ii(it.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ii(it.layout_symbol["icon-text-fit-padding"]),"icon-image":new ki(it.layout_symbol["icon-image"]),"icon-rotate":new ki(it.layout_symbol["icon-rotate"]),"icon-padding":new ki(it.layout_symbol["icon-padding"]),"icon-keep-upright":new Ii(it.layout_symbol["icon-keep-upright"]),"icon-offset":new ki(it.layout_symbol["icon-offset"]),"icon-anchor":new ki(it.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ii(it.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ii(it.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ii(it.layout_symbol["text-rotation-alignment"]),"text-field":new ki(it.layout_symbol["text-field"]),"text-font":new ki(it.layout_symbol["text-font"]),"text-size":new ki(it.layout_symbol["text-size"]),"text-max-width":new ki(it.layout_symbol["text-max-width"]),"text-line-height":new Ii(it.layout_symbol["text-line-height"]),"text-letter-spacing":new ki(it.layout_symbol["text-letter-spacing"]),"text-justify":new ki(it.layout_symbol["text-justify"]),"text-radial-offset":new ki(it.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ii(it.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new ki(it.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new ki(it.layout_symbol["text-anchor"]),"text-max-angle":new Ii(it.layout_symbol["text-max-angle"]),"text-writing-mode":new Ii(it.layout_symbol["text-writing-mode"]),"text-rotate":new ki(it.layout_symbol["text-rotate"]),"text-padding":new Ii(it.layout_symbol["text-padding"]),"text-keep-upright":new Ii(it.layout_symbol["text-keep-upright"]),"text-transform":new ki(it.layout_symbol["text-transform"]),"text-offset":new ki(it.layout_symbol["text-offset"]),"text-allow-overlap":new Ii(it.layout_symbol["text-allow-overlap"]),"text-overlap":new Ii(it.layout_symbol["text-overlap"]),"text-ignore-placement":new Ii(it.layout_symbol["text-ignore-placement"]),"text-optional":new Ii(it.layout_symbol["text-optional"])})}};class i1{constructor(A){if(A.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=A.property.overrides?A.property.overrides.runtimeType:ko,this.defaultValue=A}evaluate(A){if(A.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(A.formattedSection))return c.getOverride(A.formattedSection)}return A.feature&&A.featureState?this.defaultValue.evaluate(A.feature,A.featureState):this.defaultValue.property.specification.default}eachChild(A){this.defaultValue.isConstant()||A(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ci("FormatSectionOverride",i1,{omit:["defaultValue"]});class d0 extends Yl{constructor(A){super(A,Dm)}recalculate(A,c){if(super.recalculate(A,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const w=[];for(const R of y)w.indexOf(R)<0&&w.push(R);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(A,c,y,w){const R=this.layout.get(A).evaluate(c,{},y,w),P=this._unevaluatedLayout._values[A];return P.isDataDriven()||IA(P.value)||!R?R:function(N,H){return H.replace(/{([^{}]+)}/g,(ie,ue)=>N&&ue in N?String(N[ue]):"")}(c.properties,R)}createBucket(A){return new Pp(A)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const A of Dm.paint.overridableProperties){if(!d0.hasPaintOverride(this.layout,A))continue;const c=this.paint.get(A),y=new i1(c),w=new Zc(y,c.property.specification);let R=null;R=c.value.kind==="constant"||c.value.kind==="source"?new wh("source",w):new Vh("composite",w,c.value.zoomStops),this.paint._values[A]=new Kr(c.property,R,c.parameters)}}_handleOverridablePaintPropertyUpdate(A,c,y){return!(!this.layout||c.isDataDriven()||y.isDataDriven())&&d0.hasPaintOverride(this.layout,A)}static hasPaintOverride(A,c){const y=A.get("text-field"),w=Dm.paint.properties[c];let R=!1;const P=N=>{for(const H of N)if(w.overrides&&w.overrides.hasOverride(H))return void(R=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Bo)P(y.value.value.sections);else if(y.value.kind==="source"||y.value.kind==="composite"){const N=ie=>{R||(ie instanceof qr&&Xi(ie.value)===Pa?P(ie.value.sections):ie instanceof VA?P(ie.sections):ie.eachChild(N))},H=y.value;H._styleExpression&&N(H._styleExpression.expression)}return R}}let vy;var r1={get paint(){return vy=vy||new Aa({"background-color":new Ii(it.paint_background["background-color"]),"background-pattern":new RA(it.paint_background["background-pattern"]),"background-opacity":new Ii(it.paint_background["background-opacity"])})}};class o1 extends Yl{constructor(A){super(A,r1)}}let Cy;var AC={get paint(){return Cy=Cy||new Aa({"raster-opacity":new Ii(it.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ii(it.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ii(it.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ii(it.paint_raster["raster-brightness-max"]),"raster-saturation":new Ii(it.paint_raster["raster-saturation"]),"raster-contrast":new Ii(it.paint_raster["raster-contrast"]),"raster-resampling":new Ii(it.paint_raster["raster-resampling"]),"raster-fade-duration":new Ii(it.paint_raster["raster-fade-duration"])})}};class f0 extends Yl{constructor(A){super(A,AC)}}class uC extends Yl{constructor(A){super(A,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=A}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class _y{constructor(A){this._methodToThrottle=A,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const ra={once:!0},p0=63710088e-1;class Xl{constructor(A,c){if(isNaN(A)||isNaN(c))throw new Error(`Invalid LngLat object: (${A}, ${c})`);if(this.lng=+A,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Xl(Ut(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(A){const c=Math.PI/180,y=this.lat*c,w=A.lat*c,R=Math.sin(y)*Math.sin(w)+Math.cos(y)*Math.cos(w)*Math.cos((A.lng-this.lng)*c);return p0*Math.acos(Math.min(R,1))}static convert(A){if(A instanceof Xl)return A;if(Array.isArray(A)&&(A.length===2||A.length===3))return new Xl(Number(A[0]),Number(A[1]));if(!Array.isArray(A)&&typeof A=="object"&&A!==null)return new Xl(Number("lng"in A?A.lng:A.lon),Number(A.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ig=2*Math.PI*p0;function a1(h){return ig*Math.cos(h*Math.PI/180)}function Ld(h){return(180+h)/360}function Vr(h){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h*Math.PI/360)))/360}function m0(h,A){return h/a1(A)}function Jl(h){return 360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90}function El(h,A){return h*a1(Jl(A))}class g0{constructor(A,c,y=0){this.x=+A,this.y=+c,this.z=+y}static fromLngLat(A,c=0){const y=Xl.convert(A);return new g0(Ld(y.lng),Vr(y.lat),m0(c,y.lat))}toLngLat(){return new Xl(360*this.x-180,Jl(this.y))}toAltitude(){return El(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ig*(A=Jl(this.y),1/Math.cos(A*Math.PI/180));var A}}function mf(h,A,c){var y=2*Math.PI*6378137/256/Math.pow(2,c);return[h*y-2*Math.PI*6378137/2,A*y-2*Math.PI*6378137/2]}class rg{constructor(A,c,y){if(!function(w,R,P){return!(w<0||w>25||P<0||P>=Math.pow(2,w)||R<0||R>=Math.pow(2,w))}(A,c,y))throw new Error(`x=${c}, y=${y}, z=${A} outside of bounds. 0<=x<${Math.pow(2,A)}, 0<=y<${Math.pow(2,A)} 0<=z<=25 `);this.z=A,this.x=c,this.y=y,this.key=Ia(0,A,A,c,y)}equals(A){return this.z===A.z&&this.x===A.x&&this.y===A.y}url(A,c,y){const w=(P=this.y,N=this.z,H=mf(256*(R=this.x),256*(P=Math.pow(2,N)-P-1),N),ie=mf(256*(R+1),256*(P+1),N),H[0]+","+H[1]+","+ie[0]+","+ie[1]);var R,P,N,H,ie;const ue=function(ve,Pe,Qe){let qe,et="";for(let ut=ve;ut>0;ut--)qe=1<<ut-1,et+=(Pe&qe?1:0)+(Qe&qe?2:0);return et}(this.z,this.x,this.y);return A[(this.x+this.y)%A.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,ue).replace(/{bbox-epsg-3857}/g,w)}isChildOf(A){const c=this.z-A.z;return c>0&&A.x===this.x>>c&&A.y===this.y>>c}getTilePoint(A){const c=Math.pow(2,this.z);return new p((A.x*c-this.x)*nt,(A.y*c-this.y)*nt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class s1{constructor(A,c){this.wrap=A,this.canonical=c,this.key=Ia(A,c.z,c.z,c.x,c.y)}}class Ju{constructor(A,c,y,w,R){if(this.terrainRttPosMatrix32f=null,A<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${A}; z = ${y}`);this.overscaledZ=A,this.wrap=c,this.canonical=new rg(y,+w,+R),this.key=Ia(c,A,y,w,R)}clone(){return new Ju(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(A){return this.overscaledZ===A.overscaledZ&&this.wrap===A.wrap&&this.canonical.equals(A.canonical)}scaledTo(A){if(A>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${A}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-A;return A>this.canonical.z?new Ju(A,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ju(A,this.wrap,A,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(A,c){if(A>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${A}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-A;return A>this.canonical.z?Ia(this.wrap*+c,A,this.canonical.z,this.canonical.x,this.canonical.y):Ia(this.wrap*+c,A,A,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(A){if(A.wrap!==this.wrap)return!1;const c=this.canonical.z-A.canonical.z;return A.overscaledZ===0||A.overscaledZ<this.overscaledZ&&A.canonical.x===this.canonical.x>>c&&A.canonical.y===this.canonical.y>>c}children(A){if(this.overscaledZ>=A)return[new Ju(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,y=2*this.canonical.x,w=2*this.canonical.y;return[new Ju(c,this.wrap,c,y,w),new Ju(c,this.wrap,c,y+1,w),new Ju(c,this.wrap,c,y,w+1),new Ju(c,this.wrap,c,y+1,w+1)]}isLessThan(A){return this.wrap<A.wrap||!(this.wrap>A.wrap)&&(this.overscaledZ<A.overscaledZ||!(this.overscaledZ>A.overscaledZ)&&(this.canonical.x<A.canonical.x||!(this.canonical.x>A.canonical.x)&&this.canonical.y<A.canonical.y))}wrapped(){return new Ju(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(A){return new Ju(this.overscaledZ,A,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new s1(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(A){return this.canonical.getTilePoint(new g0(A.x-this.wrap,A.y))}}function Ia(h,A,c,y,w){(h*=2)<0&&(h=-1*h-1);const R=1<<c;return(R*R*h+R*w+y).toString(36)+c.toString(36)+A.toString(36)}function Kp(h,A){return A?h.properties[A]:h.id}ci("CanonicalTileID",rg),ci("OverscaledTileID",Ju,{omit:["terrainRttPosMatrix32f"]});class nl{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(A){return this.minX=Math.min(this.minX,A.x),this.minY=Math.min(this.minY,A.y),this.maxX=Math.max(this.maxX,A.x),this.maxY=Math.max(this.maxY,A.y),this}expandBy(A){return this.minX-=A,this.minY-=A,this.maxX+=A,this.maxY+=A,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(A){return this.expandBy(-A)}map(A){const c=new nl;return c.extend(A(new p(this.minX,this.minY))),c.extend(A(new p(this.maxX,this.minY))),c.extend(A(new p(this.minX,this.maxY))),c.extend(A(new p(this.maxX,this.maxY))),c}static fromPoints(A){const c=new nl;for(const y of A)c.extend(y);return c}contains(A){return A.x>=this.minX&&A.x<=this.maxX&&A.y>=this.minY&&A.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(A){return!this.empty()&&!A.empty()&&A.minX>=this.minX&&A.maxX<=this.maxX&&A.minY>=this.minY&&A.maxY<=this.maxY}intersects(A){return!this.empty()&&!A.empty()&&A.minX<=this.maxX&&A.maxX>=this.minX&&A.minY<=this.maxY&&A.maxY>=this.minY}}class by{constructor(A){this._stringToNumber={},this._numberToString=[];for(let c=0;c<A.length;c++){const y=A[c];this._stringToNumber[y]=c,this._numberToString[c]=y}}encode(A){return this._stringToNumber[A]}decode(A){if(A>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${A} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[A]}}class Rh{constructor(A,c,y,w,R){this.type="Feature",this._vectorTileFeature=A,A._z=c,A._x=y,A._y=w,this.properties=A.properties,this.id=R}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(A){this._geometry=A}toJSON(){const A={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(A[c]=this[c]);return A}}class y0{constructor(A,c){this.tileID=A,this.x=A.canonical.x,this.y=A.canonical.y,this.z=A.canonical.z,this.grid=new ba(nt,16,0),this.grid3D=new ba(nt,16,0),this.featureIndexArray=new Ft,this.promoteId=c}insert(A,c,y,w,R,P){const N=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,w,R);const H=P?this.grid3D:this.grid;for(let ie=0;ie<c.length;ie++){const ue=c[ie],ve=[1/0,1/0,-1/0,-1/0];for(let Pe=0;Pe<ue.length;Pe++){const Qe=ue[Pe];ve[0]=Math.min(ve[0],Qe.x),ve[1]=Math.min(ve[1],Qe.y),ve[2]=Math.max(ve[2],Qe.x),ve[3]=Math.max(ve[3],Qe.y)}ve[0]<nt&&ve[1]<nt&&ve[2]>=0&&ve[3]>=0&&H.insert(N,ve[0],ve[1],ve[2],ve[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Yg(new tp(this.rawTileData)).layers,this.sourceLayerCoder=new by(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(A,c,y,w){this.loadVTLayers();const R=A.params,P=nt/A.tileSize/A.scale,N=Ic(R.filter),H=A.queryGeometry,ie=A.queryPadding*P,ue=nl.fromPoints(H),ve=this.grid.query(ue.minX-ie,ue.minY-ie,ue.maxX+ie,ue.maxY+ie),Pe=nl.fromPoints(A.cameraQueryGeometry).expandBy(ie),Qe=this.grid3D.query(Pe.minX,Pe.minY,Pe.maxX,Pe.maxY,(ut,Mt,Qt,Dt)=>function(jt,ln,Cn,Un,pi){for(const di of jt)if(ln<=di.x&&Cn<=di.y&&Un>=di.x&&pi>=di.y)return!0;const ai=[new p(ln,Cn),new p(ln,pi),new p(Un,pi),new p(Un,Cn)];if(jt.length>2){for(const di of ai)if(kh(jt,di))return!0}for(let di=0;di<jt.length-1;di++)if(Yf(jt[di],jt[di+1],ai))return!0;return!1}(A.cameraQueryGeometry,ut-ie,Mt-ie,Qt+ie,Dt+ie));for(const ut of Qe)ve.push(ut);ve.sort(Al);const qe={};let et;for(let ut=0;ut<ve.length;ut++){const Mt=ve[ut];if(Mt===et)continue;et=Mt;const Qt=this.featureIndexArray.get(Mt);let Dt=null;this.loadMatchingFeature(qe,Qt.bucketIndex,Qt.sourceLayerIndex,Qt.featureIndex,N,R.layers,R.availableImages,c,y,w,(jt,ln,Cn)=>(Dt||(Dt=Ba(jt)),ln.queryIntersectsFeature({queryGeometry:H,feature:jt,featureState:Cn,geometry:Dt,zoom:this.z,transform:A.transform,pixelsToTileUnits:P,pixelPosMatrix:A.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:A.getElevation})))}return qe}loadMatchingFeature(A,c,y,w,R,P,N,H,ie,ue,ve){const Pe=this.bucketLayerIDs[c];if(P&&!Pe.some(ut=>P.has(ut)))return;const Qe=this.sourceLayerCoder.decode(y),qe=this.vtLayers[Qe].feature(w);if(R.needGeometry){const ut=iu(qe,!0);if(!R.filter(new Ko(this.tileID.overscaledZ),ut,this.tileID.canonical))return}else if(!R.filter(new Ko(this.tileID.overscaledZ),qe))return;const et=this.getId(qe,Qe);for(let ut=0;ut<Pe.length;ut++){const Mt=Pe[ut];if(P&&!P.has(Mt))continue;const Qt=H[Mt];if(!Qt)continue;let Dt={};et&&ue&&(Dt=ue.getState(Qt.sourceLayer||"_geojsonTileLayer",et));const jt=Fe({},ie[Mt]);jt.paint=sp(jt.paint,Qt.paint,qe,Dt,N),jt.layout=sp(jt.layout,Qt.layout,qe,Dt,N);const ln=!ve||ve(qe,Qt,Dt);if(!ln)continue;const Cn=new Rh(qe,this.z,this.x,this.y,et);Cn.layer=jt;let Un=A[Mt];Un===void 0&&(Un=A[Mt]=[]),Un.push({featureIndex:w,feature:Cn,intersectionZ:ln})}}lookupSymbolFeatures(A,c,y,w,R,P,N,H){const ie={};this.loadVTLayers();const ue=Ic(R);for(const ve of A)this.loadMatchingFeature(ie,y,w,ve,ue,P,N,H,c);return ie}hasLayer(A){for(const c of this.bucketLayerIDs)for(const y of c)if(A===y)return!0;return!1}getId(A,c){var y;let w=A.id;return this.promoteId&&(w=A.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof w=="boolean"&&(w=Number(w)),w===void 0&&(!((y=A.properties)===null||y===void 0)&&y.cluster)&&this.promoteId&&(w=Number(A.properties.cluster_id))),w}}function sp(h,A,c,y,w){return Re(h,(R,P)=>{const N=A instanceof Yu?A.get(P):null;return N&&N.evaluate?N.evaluate(c,y,w):N})}function Al(h,A){return A-h}function ul(h,A,c,y,w){const R=[];for(let P=0;P<h.length;P++){const N=h[P];let H;for(let ie=0;ie<N.length-1;ie++){let ue=N[ie],ve=N[ie+1];ue.x<A&&ve.x<A||(ue.x<A?ue=new p(A,ue.y+(A-ue.x)/(ve.x-ue.x)*(ve.y-ue.y))._round():ve.x<A&&(ve=new p(A,ue.y+(A-ue.x)/(ve.x-ue.x)*(ve.y-ue.y))._round()),ue.y<c&&ve.y<c||(ue.y<c?ue=new p(ue.x+(c-ue.y)/(ve.y-ue.y)*(ve.x-ue.x),c)._round():ve.y<c&&(ve=new p(ue.x+(c-ue.y)/(ve.y-ue.y)*(ve.x-ue.x),c)._round()),ue.x>=y&&ve.x>=y||(ue.x>=y?ue=new p(y,ue.y+(y-ue.x)/(ve.x-ue.x)*(ve.y-ue.y))._round():ve.x>=y&&(ve=new p(y,ue.y+(y-ue.x)/(ve.x-ue.x)*(ve.y-ue.y))._round()),ue.y>=w&&ve.y>=w||(ue.y>=w?ue=new p(ue.x+(w-ue.y)/(ve.y-ue.y)*(ve.x-ue.x),w)._round():ve.y>=w&&(ve=new p(ue.x+(w-ue.y)/(ve.y-ue.y)*(ve.x-ue.x),w)._round()),H&&ue.equals(H[H.length-1])||(H=[ue],R.push(H)),H.push(ve)))))}}return R}ci("FeatureIndex",y0,{omit:["rawTileData","sourceLayerCoder"]});class ld extends p{constructor(A,c,y,w){super(A,c),this.angle=y,w!==void 0&&(this.segment=w)}clone(){return new ld(this.x,this.y,this.angle,this.segment)}}function og(h,A,c,y,w){if(A.segment===void 0||c===0)return!0;let R=A,P=A.segment+1,N=0;for(;N>-c/2;){if(P--,P<0)return!1;N-=h[P].dist(R),R=h[P]}N+=h[P].dist(h[P+1]),P++;const H=[];let ie=0;for(;N<c/2;){const ue=h[P],ve=h[P+1];if(!ve)return!1;let Pe=h[P-1].angleTo(ue)-ue.angleTo(ve);for(Pe=Math.abs((Pe+3*Math.PI)%(2*Math.PI)-Math.PI),H.push({distance:N,angleDelta:Pe}),ie+=Pe;N-H[0].distance>y;)ie-=H.shift().angleDelta;if(ie>w)return!1;P++,N+=ue.dist(ve)}return!0}function xy(h){let A=0;for(let c=0;c<h.length-1;c++)A+=h[c].dist(h[c+1]);return A}function l1(h,A,c){return h?.6*A*c:0}function My(h,A){return Math.max(h?h.right-h.left:0,A?A.right-A.left:0)}function wy(h,A,c,y,w,R){const P=l1(c,w,R),N=My(c,y)*R;let H=0;const ie=xy(h)/2;for(let ue=0;ue<h.length-1;ue++){const ve=h[ue],Pe=h[ue+1],Qe=ve.dist(Pe);if(H+Qe>ie){const qe=(ie-H)/Qe,et=Ku.number(ve.x,Pe.x,qe),ut=Ku.number(ve.y,Pe.y,qe),Mt=new ld(et,ut,Pe.angleTo(ve),ue);return Mt._round(),!P||og(h,Mt,N,P,A)?Mt:void 0}H+=Qe}}function cC(h,A,c,y,w,R,P,N,H){const ie=l1(y,R,P),ue=My(y,w),ve=ue*P,Pe=h[0].x===0||h[0].x===H||h[0].y===0||h[0].y===H;return A-ve<A/4&&(A=ve+A/4),A1(h,Pe?A/2*N%A:(ue/2+2*R)*P*N%A,A,ie,c,ve,Pe,!1,H)}function A1(h,A,c,y,w,R,P,N,H){const ie=R/2,ue=xy(h);let ve=0,Pe=A-c,Qe=[];for(let qe=0;qe<h.length-1;qe++){const et=h[qe],ut=h[qe+1],Mt=et.dist(ut),Qt=ut.angleTo(et);for(;Pe+c<ve+Mt;){Pe+=c;const Dt=(Pe-ve)/Mt,jt=Ku.number(et.x,ut.x,Dt),ln=Ku.number(et.y,ut.y,Dt);if(jt>=0&&jt<H&&ln>=0&&ln<H&&Pe-ie>=0&&Pe+ie<=ue){const Cn=new ld(jt,ln,Qt,qe);Cn._round(),y&&!og(h,Cn,R,y,w)||Qe.push(Cn)}}ve+=Mt}return N||Qe.length||P||(Qe=A1(h,ve/2,c,y,w,R,P,!0,H)),Qe}function ch(h,A,c,y){const w=[],R=h.image,P=R.pixelRatio,N=R.paddedRect.w-2,H=R.paddedRect.h-2;let ie={x1:h.left,y1:h.top,x2:h.right,y2:h.bottom};const ue=R.stretchX||[[0,N]],ve=R.stretchY||[[0,H]],Pe=(En,pr)=>En+pr[1]-pr[0],Qe=ue.reduce(Pe,0),qe=ve.reduce(Pe,0),et=N-Qe,ut=H-qe;let Mt=0,Qt=Qe,Dt=0,jt=qe,ln=0,Cn=et,Un=0,pi=ut;if(R.content&&y){const En=R.content,pr=En[2]-En[0],Br=En[3]-En[1];(R.textFitWidth||R.textFitHeight)&&(ie=t1(h)),Mt=Up(ue,0,En[0]),Dt=Up(ve,0,En[1]),Qt=Up(ue,En[0],En[2]),jt=Up(ve,En[1],En[3]),ln=En[0]-Mt,Un=En[1]-Dt,Cn=pr-Qt,pi=Br-jt}const ai=ie.x1,di=ie.y1,nr=ie.x2-ai,Ai=ie.y2-di,fi=(En,pr,Br,lr)=>{const Ui=v0(En.stretch-Mt,Qt,nr,ai),Wr=Lp(En.fixed-ln,Cn,En.stretch,Qe),za=v0(pr.stretch-Dt,jt,Ai,di),Ms=Lp(pr.fixed-Un,pi,pr.stretch,qe),Rl=v0(Br.stretch-Mt,Qt,nr,ai),Iu=Lp(Br.fixed-ln,Cn,Br.stretch,Qe),Pl=v0(lr.stretch-Dt,jt,Ai,di),UA=Lp(lr.fixed-Un,pi,lr.stretch,qe),Ds=new p(Ui,za),cl=new p(Rl,za),LA=new p(Rl,Pl),yA=new p(Ui,Pl),FA=new p(Wr/P,Ms/P),jc=new p(Iu/P,UA/P),vA=A*Math.PI/180;if(vA){const eA=Math.sin(vA),dl=Math.cos(vA),fl=[dl,-eA,eA,dl];Ds._matMult(fl),cl._matMult(fl),yA._matMult(fl),LA._matMult(fl)}const au=En.stretch+En.fixed,hl=pr.stretch+pr.fixed;return{tl:Ds,tr:cl,bl:yA,br:LA,tex:{x:R.paddedRect.x+1+au,y:R.paddedRect.y+1+hl,w:Br.stretch+Br.fixed-au,h:lr.stretch+lr.fixed-hl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:FA,pixelOffsetBR:jc,minFontScaleX:Cn/P/nr,minFontScaleY:pi/P/Ai,isSDF:c}};if(y&&(R.stretchX||R.stretchY)){const En=ag(ue,et,Qe),pr=ag(ve,ut,qe);for(let Br=0;Br<En.length-1;Br++){const lr=En[Br],Ui=En[Br+1];for(let Wr=0;Wr<pr.length-1;Wr++)w.push(fi(lr,pr[Wr],Ui,pr[Wr+1]))}}else w.push(fi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:N+1},{fixed:0,stretch:H+1}));return w}function Up(h,A,c){let y=0;for(const w of h)y+=Math.max(A,Math.min(c,w[1]))-Math.max(A,Math.min(c,w[0]));return y}function ag(h,A,c){const y=[{fixed:-1,stretch:0}];for(const[w,R]of h){const P=y[y.length-1];y.push({fixed:w-P.stretch,stretch:P.stretch}),y.push({fixed:w-P.stretch,stretch:P.stretch+(R-w)})}return y.push({fixed:A+1,stretch:c}),y}function v0(h,A,c,y){return h/A*c+y}function Lp(h,A,c,y){return h-A*c/y}ci("Anchor",ld);class ou{constructor(A,c,y,w,R,P,N,H,ie,ue){var ve;if(this.boxStartIndex=A.length,ie){let Pe=P.top,Qe=P.bottom;const qe=P.collisionPadding;qe&&(Pe-=qe[1],Qe+=qe[3]);let et=Qe-Pe;et>0&&(et=Math.max(10,et),this.circleDiameter=et)}else{const Pe=!((ve=P.image)===null||ve===void 0)&&ve.content&&(P.image.textFitWidth||P.image.textFitHeight)?t1(P):{x1:P.left,y1:P.top,x2:P.right,y2:P.bottom};Pe.y1=Pe.y1*N-H[0],Pe.y2=Pe.y2*N+H[2],Pe.x1=Pe.x1*N-H[3],Pe.x2=Pe.x2*N+H[1];const Qe=P.collisionPadding;if(Qe&&(Pe.x1-=Qe[0]*N,Pe.y1-=Qe[1]*N,Pe.x2+=Qe[2]*N,Pe.y2+=Qe[3]*N),ue){const qe=new p(Pe.x1,Pe.y1),et=new p(Pe.x2,Pe.y1),ut=new p(Pe.x1,Pe.y2),Mt=new p(Pe.x2,Pe.y2),Qt=ue*Math.PI/180;qe._rotate(Qt),et._rotate(Qt),ut._rotate(Qt),Mt._rotate(Qt),Pe.x1=Math.min(qe.x,et.x,ut.x,Mt.x),Pe.x2=Math.max(qe.x,et.x,ut.x,Mt.x),Pe.y1=Math.min(qe.y,et.y,ut.y,Mt.y),Pe.y2=Math.max(qe.y,et.y,ut.y,Mt.y)}A.emplaceBack(c.x,c.y,Pe.x1,Pe.y1,Pe.x2,Pe.y2,y,w,R)}this.boxEndIndex=A.length}}class Rm{constructor(A=[],c=(y,w)=>y<w?-1:y>w?1:0){if(this.data=A,this.length=this.data.length,this.compare=c,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(A){this.data.push(A),this._up(this.length++)}pop(){if(this.length===0)return;const A=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),A}peek(){return this.data[0]}_up(A){const{data:c,compare:y}=this,w=c[A];for(;A>0;){const R=A-1>>1,P=c[R];if(y(w,P)>=0)break;c[A]=P,A=R}c[A]=w}_down(A){const{data:c,compare:y}=this,w=this.length>>1,R=c[A];for(;A<w;){let P=1+(A<<1);const N=P+1;if(N<this.length&&y(c[N],c[P])<0&&(P=N),y(c[P],R)>=0)break;c[A]=c[P],A=P}c[A]=R}}function Ad(h,A=1,c=!1){const y=nl.fromPoints(h[0]),w=Math.min(y.width(),y.height());let R=w/2;const P=new Rm([],u1),{minX:N,minY:H,maxX:ie,maxY:ue}=y;if(w===0)return new p(N,H);for(let Qe=N;Qe<ie;Qe+=w)for(let qe=H;qe<ue;qe+=w)P.push(new Fp(Qe+R,qe+R,R,h));let ve=function(Qe){let qe=0,et=0,ut=0;const Mt=Qe[0];for(let Qt=0,Dt=Mt.length,jt=Dt-1;Qt<Dt;jt=Qt++){const ln=Mt[Qt],Cn=Mt[jt],Un=ln.x*Cn.y-Cn.x*ln.y;et+=(ln.x+Cn.x)*Un,ut+=(ln.y+Cn.y)*Un,qe+=3*Un}return new Fp(et/qe,ut/qe,0,Qe)}(h),Pe=P.length;for(;P.length;){const Qe=P.pop();(Qe.d>ve.d||!ve.d)&&(ve=Qe,c&&console.log("found best %d after %d probes",Math.round(1e4*Qe.d)/1e4,Pe)),Qe.max-ve.d<=A||(R=Qe.h/2,P.push(new Fp(Qe.p.x-R,Qe.p.y-R,R,h)),P.push(new Fp(Qe.p.x+R,Qe.p.y-R,R,h)),P.push(new Fp(Qe.p.x-R,Qe.p.y+R,R,h)),P.push(new Fp(Qe.p.x+R,Qe.p.y+R,R,h)),Pe+=4)}return c&&(console.log(`num probes: ${Pe}`),console.log(`best distance: ${ve.d}`)),ve.p}function u1(h,A){return A.max-h.max}function Fp(h,A,c,y){this.p=new p(h,A),this.h=c,this.d=function(w,R){let P=!1,N=1/0;for(let H=0;H<R.length;H++){const ie=R[H];for(let ue=0,ve=ie.length,Pe=ve-1;ue<ve;Pe=ue++){const Qe=ie[ue],qe=ie[Pe];Qe.y>w.y!=qe.y>w.y&&w.x<(qe.x-Qe.x)*(w.y-Qe.y)/(qe.y-Qe.y)+Qe.x&&(P=!P),N=Math.min(N,ta(w,Qe,qe))}}return(P?1:-1)*Math.sqrt(N)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var KA;l.aE=void 0,(KA=l.aE||(l.aE={}))[KA.center=1]="center",KA[KA.left=2]="left",KA[KA.right=3]="right",KA[KA.top=4]="top",KA[KA.bottom=5]="bottom",KA[KA["top-left"]=6]="top-left",KA[KA["top-right"]=7]="top-right",KA[KA["bottom-left"]=8]="bottom-left",KA[KA["bottom-right"]=9]="bottom-right";const zp=Number.POSITIVE_INFINITY;function zc(h,A){return A[1]!==zp?function(c,y,w){let R=0,P=0;switch(y=Math.abs(y),w=Math.abs(w),c){case"top-right":case"top-left":case"top":P=w-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-w}switch(c){case"top-right":case"bottom-right":case"right":R=-y;break;case"top-left":case"bottom-left":case"left":R=y}return[R,P]}(h,A[0],A[1]):function(c,y){let w=0,R=0;y<0&&(y=0);const P=y/Math.SQRT2;switch(c){case"top-right":case"top-left":R=P-7;break;case"bottom-right":case"bottom-left":R=7-P;break;case"bottom":R=7-y;break;case"top":R=y-7}switch(c){case"top-right":case"bottom-right":w=-P;break;case"top-left":case"bottom-left":w=P;break;case"left":w=y;break;case"right":w=-y}return[w,R]}(h,A[0])}function ud(h,A,c){var y;const w=h.layout,R=(y=w.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(A,{},c);if(R){const N=R.values,H=[];for(let ie=0;ie<N.length;ie+=2){const ue=H[ie]=N[ie],ve=N[ie+1].map(Pe=>Pe*tl);ue.startsWith("top")?ve[1]-=7:ue.startsWith("bottom")&&(ve[1]+=7),H[ie+1]=ve}return new Ga(H)}const P=w.get("text-variable-anchor");if(P){let N;N=h._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(A,{},c)*tl,zp]:w.get("text-offset").evaluate(A,{},c).map(ie=>ie*tl);const H=[];for(const ie of P)H.push(ie,zc(ie,N));return new Ga(H)}return null}function oo(h){switch(h){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Fd(h,A,c,y,w,R,P,N,H,ie,ue,ve){let Pe=R.textMaxSize.evaluate(A,{});Pe===void 0&&(Pe=P);const Qe=h.layers[0].layout,qe=Qe.get("icon-offset").evaluate(A,{},ue),et=c1(c.horizontal),ut=P/24,Mt=h.tilePixelRatio*ut,Qt=h.tilePixelRatio*Pe/24,Dt=h.tilePixelRatio*N,jt=h.tilePixelRatio*Qe.get("symbol-spacing"),ln=Qe.get("text-padding")*h.tilePixelRatio,Cn=function(Br,lr,Ui,Wr=1){const za=Br.get("icon-padding").evaluate(lr,{},Ui),Ms=za&&za.values;return[Ms[0]*Wr,Ms[1]*Wr,Ms[2]*Wr,Ms[3]*Wr]}(Qe,A,ue,h.tilePixelRatio),Un=Qe.get("text-max-angle")/180*Math.PI,pi=Qe.get("text-rotation-alignment")!=="viewport"&&Qe.get("symbol-placement")!=="point",ai=Qe.get("icon-rotation-alignment")==="map"&&Qe.get("symbol-placement")!=="point",di=Qe.get("symbol-placement"),nr=jt/2,Ai=Qe.get("icon-text-fit");let fi;y&&Ai!=="none"&&(h.allowVerticalPlacement&&c.vertical&&(fi=Im(y,c.vertical,Ai,Qe.get("icon-text-fit-padding"),qe,ut)),et&&(y=Im(y,et,Ai,Qe.get("icon-text-fit-padding"),qe,ut)));const En=ue?ve.line.getGranularityForZoomLevel(ue.z):1,pr=(Br,lr)=>{lr.x<0||lr.x>=nt||lr.y<0||lr.y>=nt||function(Ui,Wr,za,Ms,Rl,Iu,Pl,UA,Ds,cl,LA,yA,FA,jc,vA,au,hl,eA,dl,fl,Va,Ph,Um,Nc,u){const m=Ui.addToLineVertexArray(Wr,za);let b,T,Q,se,Ge=0,ot=0,zt=0,hn=0,kn=-1,Nn=-1;const pn={};let fn=oh("");if(Ui.allowVerticalPlacement&&Ms.vertical){const yc=UA.layout.get("text-rotate").evaluate(Va,{},Nc)+90;Q=new ou(Ds,Wr,cl,LA,yA,Ms.vertical,FA,jc,vA,yc),Pl&&(se=new ou(Ds,Wr,cl,LA,yA,Pl,hl,eA,vA,yc))}if(Rl){const yc=UA.layout.get("icon-rotate").evaluate(Va,{}),dh=UA.layout.get("icon-text-fit")!=="none",Np=ch(Rl,yc,Um,dh),gf=Pl?ch(Pl,yc,Um,dh):void 0;T=new ou(Ds,Wr,cl,LA,yA,Rl,hl,eA,!1,yc),Ge=4*Np.length;const x0=Ui.iconSizeData;let Ap=null;x0.kind==="source"?(Ap=[Xu*UA.layout.get("icon-size").evaluate(Va,{})],Ap[0]>sd&&Ot(`${Ui.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):x0.kind==="composite"&&(Ap=[Xu*Ph.compositeIconSizes[0].evaluate(Va,{},Nc),Xu*Ph.compositeIconSizes[1].evaluate(Va,{},Nc)],(Ap[0]>sd||Ap[1]>sd)&&Ot(`${Ui.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Ui.addSymbols(Ui.icon,Np,Ap,fl,dl,Va,l.ao.none,Wr,m.lineStartIndex,m.lineLength,-1,Nc),kn=Ui.icon.placedSymbolArray.length-1,gf&&(ot=4*gf.length,Ui.addSymbols(Ui.icon,gf,Ap,fl,dl,Va,l.ao.vertical,Wr,m.lineStartIndex,m.lineLength,-1,Nc),Nn=Ui.icon.placedSymbolArray.length-1)}const Ur=Object.keys(Ms.horizontal);for(const yc of Ur){const dh=Ms.horizontal[yc];if(!b){fn=oh(dh.text);const gf=UA.layout.get("text-rotate").evaluate(Va,{},Nc);b=new ou(Ds,Wr,cl,LA,yA,dh,FA,jc,vA,gf)}const Np=dh.positionedLines.length===1;if(zt+=hh(Ui,Wr,dh,Iu,UA,vA,Va,au,m,Ms.vertical?l.ao.horizontal:l.ao.horizontalOnly,Np?Ur:[yc],pn,kn,Ph,Nc),Np)break}Ms.vertical&&(hn+=hh(Ui,Wr,Ms.vertical,Iu,UA,vA,Va,au,m,l.ao.vertical,["vertical"],pn,Nn,Ph,Nc));const Lr=b?b.boxStartIndex:Ui.collisionBoxArray.length,ws=b?b.boxEndIndex:Ui.collisionBoxArray.length,tn=Q?Q.boxStartIndex:Ui.collisionBoxArray.length,$t=Q?Q.boxEndIndex:Ui.collisionBoxArray.length,un=T?T.boxStartIndex:Ui.collisionBoxArray.length,Ln=T?T.boxEndIndex:Ui.collisionBoxArray.length,rr=se?se.boxStartIndex:Ui.collisionBoxArray.length,Ho=se?se.boxEndIndex:Ui.collisionBoxArray.length;let ir=-1;const Tr=(yc,dh)=>yc&&yc.circleDiameter?Math.max(yc.circleDiameter,dh):dh;ir=Tr(b,ir),ir=Tr(Q,ir),ir=Tr(T,ir),ir=Tr(se,ir);const zA=ir>-1?1:0;zA&&(ir*=u/tl),Ui.glyphOffsetArray.length>=Pp.MAX_GLYPHS&&Ot("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Va.sortKey!==void 0&&Ui.addToSortKeyRanges(Ui.symbolInstances.length,Va.sortKey);const Ta=ud(UA,Va,Nc),[lp,hC]=function(yc,dh){const Np=yc.length,gf=dh?.values;if(gf?.length>0)for(let x0=0;x0<gf.length;x0+=2){const Ap=gf[x0+1];yc.emplaceBack(l.aE[gf[x0]],Ap[0],Ap[1])}return[Np,yc.length]}(Ui.textAnchorOffsets,Ta);Ui.symbolInstances.emplaceBack(Wr.x,Wr.y,pn.right>=0?pn.right:-1,pn.center>=0?pn.center:-1,pn.left>=0?pn.left:-1,pn.vertical||-1,kn,Nn,fn,Lr,ws,tn,$t,un,Ln,rr,Ho,cl,zt,hn,Ge,ot,zA,0,FA,ir,lp,hC)}(h,lr,Br,c,y,w,fi,h.layers[0],h.collisionBoxArray,A.index,A.sourceLayerIndex,h.index,Mt,[ln,ln,ln,ln],pi,H,Dt,Cn,ai,qe,A,R,ie,ue,P)};if(di==="line")for(const Br of ul(A.geometry,0,0,nt,nt)){const lr=fs(Br,En),Ui=cC(lr,jt,Un,c.vertical||et,y,24,Qt,h.overscaling,nt);for(const Wr of Ui)et&&Pm(h,et.text,nr,Wr)||pr(lr,Wr)}else if(di==="line-center"){for(const Br of A.geometry)if(Br.length>1){const lr=fs(Br,En),Ui=wy(lr,Un,c.vertical||et,y,24,Qt);Ui&&pr(lr,Ui)}}else if(A.type==="Polygon")for(const Br of Vc(A.geometry,0)){const lr=Ad(Br,16);pr(fs(Br[0],En,!0),new ld(lr.x,lr.y,0))}else if(A.type==="LineString")for(const Br of A.geometry){const lr=fs(Br,En);pr(lr,new ld(lr[0].x,lr[0].y,0))}else if(A.type==="Point")for(const Br of A.geometry)for(const lr of Br)pr([lr],new ld(lr.x,lr.y,0))}function hh(h,A,c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe){const et=function(Qt,Dt,jt,ln,Cn,Un,pi,ai){const di=ln.layout.get("text-rotate").evaluate(Un,{})*Math.PI/180,nr=[];for(const Ai of Dt.positionedLines)for(const fi of Ai.positionedGlyphs){if(!fi.rect)continue;const En=fi.rect||{};let pr=4,Br=!0,lr=1,Ui=0;const Wr=(Cn||ai)&&fi.vertical,za=fi.metrics.advance*fi.scale/2;if(ai&&Dt.verticalizable&&(Ui=Ai.lineOffset/2-(fi.imageName?-(tl-fi.metrics.width*fi.scale)/2:(fi.scale-1)*tl)),fi.imageName){const eA=pi[fi.imageName];Br=eA.sdf,lr=eA.pixelRatio,pr=1/lr}const Ms=Cn?[fi.x+za,fi.y]:[0,0];let Rl=Cn?[0,0]:[fi.x+za+jt[0],fi.y+jt[1]-Ui],Iu=[0,0];Wr&&(Iu=Rl,Rl=[0,0]);const Pl=fi.metrics.isDoubleResolution?2:1,UA=(fi.metrics.left-pr)*fi.scale-za+Rl[0],Ds=(-fi.metrics.top-pr)*fi.scale+Rl[1],cl=UA+En.w/Pl*fi.scale/lr,LA=Ds+En.h/Pl*fi.scale/lr,yA=new p(UA,Ds),FA=new p(cl,Ds),jc=new p(UA,LA),vA=new p(cl,LA);if(Wr){const eA=new p(-za,za- -17),dl=-Math.PI/2,fl=12-za,Va=new p(22-fl,-(fi.imageName?fl:0)),Ph=new p(...Iu);yA._rotateAround(dl,eA)._add(Va)._add(Ph),FA._rotateAround(dl,eA)._add(Va)._add(Ph),jc._rotateAround(dl,eA)._add(Va)._add(Ph),vA._rotateAround(dl,eA)._add(Va)._add(Ph)}if(di){const eA=Math.sin(di),dl=Math.cos(di),fl=[dl,-eA,eA,dl];yA._matMult(fl),FA._matMult(fl),jc._matMult(fl),vA._matMult(fl)}const au=new p(0,0),hl=new p(0,0);nr.push({tl:yA,tr:FA,bl:jc,br:vA,tex:En,writingMode:Dt.writingMode,glyphOffset:Ms,sectionIndex:fi.sectionIndex,isSDF:Br,pixelOffsetTL:au,pixelOffsetBR:hl,minFontScaleX:0,minFontScaleY:0})}return nr}(0,c,N,w,R,P,y,h.allowVerticalPlacement),ut=h.textSizeData;let Mt=null;ut.kind==="source"?(Mt=[Xu*w.layout.get("text-size").evaluate(P,{})],Mt[0]>sd&&Ot(`${h.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ut.kind==="composite"&&(Mt=[Xu*Qe.compositeTextSizes[0].evaluate(P,{},qe),Xu*Qe.compositeTextSizes[1].evaluate(P,{},qe)],(Mt[0]>sd||Mt[1]>sd)&&Ot(`${h.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),h.addSymbols(h.text,et,Mt,N,R,P,ie,A,H.lineStartIndex,H.lineLength,Pe,qe);for(const Qt of ue)ve[Qt]=h.text.placedSymbolArray.length-1;return 4*et.length}function c1(h){for(const A in h)return h[A];return null}function Pm(h,A,c,y){const w=h.compareText;if(A in w){const R=w[A];for(let P=R.length-1;P>=0;P--)if(y.dist(R[P])<c)return!0}else w[A]=[];return w[A].push(y),!1}const Fa=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class h1{static from(A){if(!(A instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,y]=new Uint8Array(A,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const w=y>>4;if(w!==1)throw new Error(`Got v${w} data when expected v1.`);const R=Fa[15&y];if(!R)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(A,2,1),[N]=new Uint32Array(A,4,1);return new h1(N,P,R,A)}constructor(A,c=64,y=Float64Array,w){if(isNaN(A)||A<0)throw new Error(`Unpexpected numItems value: ${A}.`);this.numItems=+A,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=y,this.IndexArrayType=A<65536?Uint16Array:Uint32Array;const R=Fa.indexOf(this.ArrayType),P=2*A*this.ArrayType.BYTES_PER_ELEMENT,N=A*this.IndexArrayType.BYTES_PER_ELEMENT,H=(8-N%8)%8;if(R<0)throw new Error(`Unexpected typed array class: ${y}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,A),this.coords=new this.ArrayType(this.data,8+N+H,2*A),this._pos=2*A,this._finished=!0):(this.data=new ArrayBuffer(8+P+N+H),this.ids=new this.IndexArrayType(this.data,8,A),this.coords=new this.ArrayType(this.data,8+N+H,2*A),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+R]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=A)}add(A,c){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=A,this.coords[this._pos++]=c,y}finish(){const A=this._pos>>1;if(A!==this.numItems)throw new Error(`Added ${A} items when expected ${this.numItems}.`);return sg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(A,c,y,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:R,coords:P,nodeSize:N}=this,H=[0,R.length-1,0],ie=[];for(;H.length;){const ue=H.pop()||0,ve=H.pop()||0,Pe=H.pop()||0;if(ve-Pe<=N){for(let ut=Pe;ut<=ve;ut++){const Mt=P[2*ut],Qt=P[2*ut+1];Mt>=A&&Mt<=y&&Qt>=c&&Qt<=w&&ie.push(R[ut])}continue}const Qe=Pe+ve>>1,qe=P[2*Qe],et=P[2*Qe+1];qe>=A&&qe<=y&&et>=c&&et<=w&&ie.push(R[Qe]),(ue===0?A<=qe:c<=et)&&(H.push(Pe),H.push(Qe-1),H.push(1-ue)),(ue===0?y>=qe:w>=et)&&(H.push(Qe+1),H.push(ve),H.push(1-ue))}return ie}within(A,c,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:R,nodeSize:P}=this,N=[0,w.length-1,0],H=[],ie=y*y;for(;N.length;){const ue=N.pop()||0,ve=N.pop()||0,Pe=N.pop()||0;if(ve-Pe<=P){for(let ut=Pe;ut<=ve;ut++)Sy(R[2*ut],R[2*ut+1],A,c)<=ie&&H.push(w[ut]);continue}const Qe=Pe+ve>>1,qe=R[2*Qe],et=R[2*Qe+1];Sy(qe,et,A,c)<=ie&&H.push(w[Qe]),(ue===0?A-y<=qe:c-y<=et)&&(N.push(Pe),N.push(Qe-1),N.push(1-ue)),(ue===0?A+y>=qe:c+y>=et)&&(N.push(Qe+1),N.push(ve),N.push(1-ue))}return H}}function sg(h,A,c,y,w,R){if(w-y<=c)return;const P=y+w>>1;C0(h,A,P,y,w,R),sg(h,A,c,y,P-1,1-R),sg(h,A,c,P+1,w,1-R)}function C0(h,A,c,y,w,R){for(;w>y;){if(w-y>600){const ie=w-y+1,ue=c-y+1,ve=Math.log(ie),Pe=.5*Math.exp(2*ve/3),Qe=.5*Math.sqrt(ve*Pe*(ie-Pe)/ie)*(ue-ie/2<0?-1:1);C0(h,A,c,Math.max(y,Math.floor(c-ue*Pe/ie+Qe)),Math.min(w,Math.floor(c+(ie-ue)*Pe/ie+Qe)),R)}const P=A[2*c+R];let N=y,H=w;for(_0(h,A,y,c),A[2*w+R]>P&&_0(h,A,y,w);N<H;){for(_0(h,A,N,H),N++,H--;A[2*N+R]<P;)N++;for(;A[2*H+R]>P;)H--}A[2*y+R]===P?_0(h,A,y,H):(H++,_0(h,A,H,w)),H<=c&&(y=H+1),c<=H&&(w=H-1)}}function _0(h,A,c,y){d1(h,c,y),d1(A,2*c,2*y),d1(A,2*c+1,2*y+1)}function d1(h,A,c){const y=h[A];h[A]=h[c],h[c]=y}function Sy(h,A,c,y){const w=h-c,R=A-y;return w*w+R*R}var f1;l.cx=void 0,(f1=l.cx||(l.cx={})).create="create",f1.load="load",f1.fullLoad="fullLoad";let b0=null,zd=[];const jp=1e3/60,lg="loadTime",p1="fullLoadTime",Km={mark(h){performance.mark(h)},frame(h){const A=h;b0!=null&&zd.push(A-b0),b0=A},clearMetrics(){b0=null,zd=[],performance.clearMeasures(lg),performance.clearMeasures(p1);for(const h in l.cx)performance.clearMarks(l.cx[h])},getPerformanceMetrics(){performance.measure(lg,l.cx.create,l.cx.load),performance.measure(p1,l.cx.create,l.cx.fullLoad);const h=performance.getEntriesByName(lg)[0].duration,A=performance.getEntriesByName(p1)[0].duration,c=zd.length,y=1/(zd.reduce((R,P)=>R+P,0)/c/1e3),w=zd.filter(R=>R>jp).reduce((R,P)=>R+(P-jp)/jp,0);return{loadTime:h,fullLoadTime:A,fps:y,percentDroppedFrames:w/(c+w)*100,totalFrames:c}}};l.$=nt,l.A=oe,l.B=function([h,A,c]){return A+=90,A*=Math.PI/180,c*=Math.PI/180,{x:h*Math.cos(A)*Math.sin(c),y:h*Math.sin(A)*Math.sin(c),z:h*Math.cos(c)}},l.C=Ku,l.D=Ii,l.E=Tt,l.F=Ko,l.G=_l,l.H=function(h){if(on==null){const A=h.navigator?h.navigator.userAgent:null;on=!!h.safari||!(!A||!(/\b(iPad|iPhone|iPod)\b/.test(A)||A.match("Safari")&&!A.match("Chrome")))}return on},l.I=c0,l.J=class{constructor(h,A){this.target=h,this.mapId=A,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new _y(()=>this.process()),this.subscription=In(this.target,"message",c=>this.receive(c),!1),this.globalScope=Kt(self)?h:window}registerMessageHandler(h,A){this.messageHandlers[h]=A}sendAsync(h,A){return new Promise((c,y)=>{const w=Math.round(1e18*Math.random()).toString(36).substring(0,10),R=A?In(A.signal,"abort",()=>{R?.unsubscribe(),delete this.resolveRejects[w];const H={id:w,type:"<cancel>",origin:location.origin,targetMapId:h.targetMapId,sourceMapId:this.mapId};this.target.postMessage(H)},ra):null;this.resolveRejects[w]={resolve:H=>{R?.unsubscribe(),c(H)},reject:H=>{R?.unsubscribe(),y(H)}};const P=[],N=Object.assign(Object.assign({},h),{id:w,sourceMapId:this.mapId,origin:location.origin,data:kc(h.data,P)});this.target.postMessage(N,{transfer:P})})}receive(h){const A=h.data,c=A.id;if(!(A.origin!=="file://"&&location.origin!=="file://"&&A.origin!=="resource://android"&&location.origin!=="resource://android"&&A.origin!==location.origin||A.targetMapId&&this.mapId!==A.targetMapId)){if(A.type==="<cancel>"){delete this.tasks[c];const y=this.abortControllers[c];return delete this.abortControllers[c],void(y&&y.abort())}if(Kt(self)||A.mustQueue)return this.tasks[c]=A,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,A)}}process(){if(this.taskQueue.length===0)return;const h=this.taskQueue.shift(),A=this.tasks[h];delete this.tasks[h],this.taskQueue.length>0&&this.invoker.trigger(),A&&this.processTask(h,A)}processTask(h,A){return o(this,void 0,void 0,function*(){if(A.type==="<response>"){const w=this.resolveRejects[h];return delete this.resolveRejects[h],w?void(A.error?w.reject(yu(A.error)):w.resolve(yu(A.data))):void 0}if(!this.messageHandlers[A.type])return void this.completeTask(h,new Error(`Could not find a registered handler for ${A.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const c=yu(A.data),y=new AbortController;this.abortControllers[h]=y;try{const w=yield this.messageHandlers[A.type](A.sourceMapId,c,y);this.completeTask(h,null,w)}catch(w){this.completeTask(h,w)}})}completeTask(h,A,c){const y=[];delete this.abortControllers[h];const w={id:h,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:A?kc(A):null,data:kc(c,y)};this.target.postMessage(w,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},l.K=Te,l.L=function(){var h=new oe(16);return oe!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h},l.M=function(h,A,c){var y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et=c[0],ut=c[1],Mt=c[2];return A===h?(h[12]=A[0]*et+A[4]*ut+A[8]*Mt+A[12],h[13]=A[1]*et+A[5]*ut+A[9]*Mt+A[13],h[14]=A[2]*et+A[6]*ut+A[10]*Mt+A[14],h[15]=A[3]*et+A[7]*ut+A[11]*Mt+A[15]):(w=A[1],R=A[2],P=A[3],N=A[4],H=A[5],ie=A[6],ue=A[7],ve=A[8],Pe=A[9],Qe=A[10],qe=A[11],h[0]=y=A[0],h[1]=w,h[2]=R,h[3]=P,h[4]=N,h[5]=H,h[6]=ie,h[7]=ue,h[8]=ve,h[9]=Pe,h[10]=Qe,h[11]=qe,h[12]=y*et+N*ut+ve*Mt+A[12],h[13]=w*et+H*ut+Pe*Mt+A[13],h[14]=R*et+ie*ut+Qe*Mt+A[14],h[15]=P*et+ue*ut+qe*Mt+A[15]),h},l.N=function(h,A,c){var y=c[0],w=c[1],R=c[2];return h[0]=A[0]*y,h[1]=A[1]*y,h[2]=A[2]*y,h[3]=A[3]*y,h[4]=A[4]*w,h[5]=A[5]*w,h[6]=A[6]*w,h[7]=A[7]*w,h[8]=A[8]*R,h[9]=A[9]*R,h[10]=A[10]*R,h[11]=A[11]*R,h[12]=A[12],h[13]=A[13],h[14]=A[14],h[15]=A[15],h},l.O=function(h,A,c){var y=A[0],w=A[1],R=A[2],P=A[3],N=A[4],H=A[5],ie=A[6],ue=A[7],ve=A[8],Pe=A[9],Qe=A[10],qe=A[11],et=A[12],ut=A[13],Mt=A[14],Qt=A[15],Dt=c[0],jt=c[1],ln=c[2],Cn=c[3];return h[0]=Dt*y+jt*N+ln*ve+Cn*et,h[1]=Dt*w+jt*H+ln*Pe+Cn*ut,h[2]=Dt*R+jt*ie+ln*Qe+Cn*Mt,h[3]=Dt*P+jt*ue+ln*qe+Cn*Qt,h[4]=(Dt=c[4])*y+(jt=c[5])*N+(ln=c[6])*ve+(Cn=c[7])*et,h[5]=Dt*w+jt*H+ln*Pe+Cn*ut,h[6]=Dt*R+jt*ie+ln*Qe+Cn*Mt,h[7]=Dt*P+jt*ue+ln*qe+Cn*Qt,h[8]=(Dt=c[8])*y+(jt=c[9])*N+(ln=c[10])*ve+(Cn=c[11])*et,h[9]=Dt*w+jt*H+ln*Pe+Cn*ut,h[10]=Dt*R+jt*ie+ln*Qe+Cn*Mt,h[11]=Dt*P+jt*ue+ln*qe+Cn*Qt,h[12]=(Dt=c[12])*y+(jt=c[13])*N+(ln=c[14])*ve+(Cn=c[15])*et,h[13]=Dt*w+jt*H+ln*Pe+Cn*ut,h[14]=Dt*R+jt*ie+ln*Qe+Cn*Mt,h[15]=Dt*P+jt*ue+ln*qe+Cn*Qt,h},l.P=p,l.Q=function(h,A){const c={};for(let y=0;y<A.length;y++){const w=A[y];w in h&&(c[w]=h[w])}return c},l.R=pA,l.S=Xl,l.T=v,l.U=Vr,l.V=Ld,l.W=Y,l.X=te,l.Y=$n,l.Z=Ju,l._=o,l.a=le,l.a$=Se,l.a0=function(h,A){var c,y,w,R,P;if(!h)return A??{};if(!A)return h;let N=Object.assign({},h);if(A.removeAll&&(N={removeAll:!0}),A.remove){const H=new Set(A.remove);N.add&&(N.add=N.add.filter(ue=>!H.has(ue.id))),N.update&&(N.update=N.update.filter(ue=>!H.has(ue.id)));const ie=new Set(((c=h.add)!==null&&c!==void 0?c:[]).map(ue=>ue.id));A.remove=A.remove.filter(ue=>!ie.has(ue))}if(A.remove){const H=new Set(N.remove?N.remove.concat(A.remove):A.remove);N.remove=Array.from(H.values())}if(A.add){const H=N.add?N.add.concat(A.add):A.add,ie=new Map(H.map(ue=>[ue.id,ue]));N.add=Array.from(ie.values())}if(A.update){const H=new Map((y=N.update)===null||y===void 0?void 0:y.map(ie=>[ie.id,ie]));for(const ie of A.update){const ue=(w=H.get(ie.id))!==null&&w!==void 0?w:{id:ie.id};ie.newGeometry&&(ue.newGeometry=ie.newGeometry),ie.addOrUpdateProperties&&(ue.addOrUpdateProperties=((R=ue.addOrUpdateProperties)!==null&&R!==void 0?R:[]).concat(ie.addOrUpdateProperties)),ie.removeProperties&&(ue.removeProperties=((P=ue.removeProperties)!==null&&P!==void 0?P:[]).concat(ie.removeProperties)),ie.removeAllProperties&&(ue.removeAllProperties=!0),H.set(ie.id,ue)}N.update=Array.from(H.values())}return N.remove&&N.add&&(N.remove=N.remove.filter(H=>N.add.findIndex(ie=>ie.id===H)===-1)),N},l.a1=g0,l.a2=nl,l.a3=25,l.a4=rg,l.a5=h=>{const A=window.document.createElement("video");return A.muted=!0,new Promise(c=>{A.onloadstart=()=>{c(A)};for(const y of h){const w=window.document.createElement("source");De(y)||(A.crossOrigin="Anonymous"),w.src=y,A.appendChild(w)}})},l.a6=wn,l.a7=function(){return Ke++},l.a8=Me,l.a9=Pp,l.aA=function(h){let A=1/0,c=1/0,y=-1/0,w=-1/0;for(const R of h)A=Math.min(A,R.x),c=Math.min(c,R.y),y=Math.max(y,R.x),w=Math.max(w,R.y);return[A,c,y,w]},l.aB=tl,l.aC=be,l.aD=function(h,A,c,y,w=!1){if(!c[0]&&!c[1])return[0,0];const R=w?y==="map"?-h.bearingInRadians:0:y==="viewport"?h.bearingInRadians:0;if(R){const P=Math.sin(R),N=Math.cos(R);c=[c[0]*N-c[1]*P,c[0]*P+c[1]*N]}return[w?c[0]:be(A,c[0],h.zoom),w?c[1]:be(A,c[1],h.zoom)]},l.aF=km,l.aG=oo,l.aH=eg,l.aI=h1,l.aJ=Ya,l.aK=Oa,l.aL=Bt,l.aM=Or,l.aN=ua,l.aO=Ut,l.aP=ei,l.aQ=El,l.aR=ye,l.aS=ge,l.aT=function(h){var A=new oe(3);return A[0]=h[0],A[1]=h[1],A[2]=h[2],A},l.aU=function(h,A,c){return h[0]=A[0]-c[0],h[1]=A[1]-c[1],h[2]=A[2]-c[2],h},l.aV=function(h,A){var c=A[0],y=A[1],w=A[2],R=c*c+y*y+w*w;return R>0&&(R=1/Math.sqrt(R)),h[0]=A[0]*R,h[1]=A[1]*R,h[2]=A[2]*R,h},l.aW=we,l.aX=function(h,A){return h[0]*A[0]+h[1]*A[1]+h[2]*A[2]},l.aY=function(h,A,c){return h[0]=A[0]*c[0],h[1]=A[1]*c[1],h[2]=A[2]*c[2],h[3]=A[3]*c[3],h},l.aZ=G,l.a_=function(h,A,c){const y=A[0]*c[0]+A[1]*c[1]+A[2]*c[2];return y===0?null:(-(h[0]*c[0]+h[1]*c[1]+h[2]*c[2])-c[3])/y},l.aa=Ic,l.ab=iu,l.ac=Rh,l.ad=function(h){const A={};if(h.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,y,w,R)=>{const P=w||R;return A[y]=!P||P.toLowerCase(),""}),A["max-age"]){const c=parseInt(A["max-age"],10);isNaN(c)?delete A["max-age"]:A["max-age"]=c}return A},l.ae=Oi,l.af=function(h){return Math.pow(2,h)},l.ag=$,l.ah=St,l.ai=85.051129,l.aj=m0,l.ak=function(h){return Math.log(h)/Math.LN2},l.al=function(h){var A=h[0],c=h[1];return A*A+c*c},l.am=function(h,A){const c=[];for(const y in h)y in A||c.push(y);return c},l.an=function(h,A){let c=0,y=0;if(h.kind==="constant")y=h.layoutSize;else if(h.kind!=="source"){const{interpolationType:w,minZoom:R,maxZoom:P}=h,N=w?St(Ua.interpolationFactor(w,A,R,P),0,1):0;h.kind==="camera"?y=Ku.number(h.minSize,h.maxSize,N):c=N}return{uSizeT:c,uSize:y}},l.ap=function(h,{uSize:A,uSizeT:c},{lowerSize:y,upperSize:w}){return h.kind==="source"?y/Xu:h.kind==="composite"?Ku.number(y/Xu,w/Xu,c):A},l.aq=function(h,A){var c=A[0],y=A[1],w=A[2],R=A[3],P=A[4],N=A[5],H=A[6],ie=A[7],ue=A[8],ve=A[9],Pe=A[10],Qe=A[11],qe=A[12],et=A[13],ut=A[14],Mt=A[15],Qt=c*N-y*P,Dt=c*H-w*P,jt=c*ie-R*P,ln=y*H-w*N,Cn=y*ie-R*N,Un=w*ie-R*H,pi=ue*et-ve*qe,ai=ue*ut-Pe*qe,di=ue*Mt-Qe*qe,nr=ve*ut-Pe*et,Ai=ve*Mt-Qe*et,fi=Pe*Mt-Qe*ut,En=Qt*fi-Dt*Ai+jt*nr+ln*di-Cn*ai+Un*pi;return En?(h[0]=(N*fi-H*Ai+ie*nr)*(En=1/En),h[1]=(w*Ai-y*fi-R*nr)*En,h[2]=(et*Un-ut*Cn+Mt*ln)*En,h[3]=(Pe*Cn-ve*Un-Qe*ln)*En,h[4]=(H*di-P*fi-ie*ai)*En,h[5]=(c*fi-w*di+R*ai)*En,h[6]=(ut*jt-qe*Un-Mt*Dt)*En,h[7]=(ue*Un-Pe*jt+Qe*Dt)*En,h[8]=(P*Ai-N*di+ie*pi)*En,h[9]=(y*di-c*Ai-R*pi)*En,h[10]=(qe*Cn-et*jt+Mt*Qt)*En,h[11]=(ve*jt-ue*Cn-Qe*Qt)*En,h[12]=(N*ai-P*nr-H*pi)*En,h[13]=(c*nr-y*ai+w*pi)*En,h[14]=(et*Dt-qe*ln-ut*Qt)*En,h[15]=(ue*ln-ve*Dt+Pe*Qt)*En,h):null},l.ar=st,l.as=function(h){var A=h[0],c=h[1];return Math.sqrt(A*A+c*c)},l.at=function(h){return h[0]=0,h[1]=0,h},l.au=function(h,A,c){return h[0]=A[0]*c,h[1]=A[1]*c,h},l.av=kp,l.aw=Ve,l.ax=function(h,A,c,y){const w=A.y-h.y,R=A.x-h.x,P=y.y-c.y,N=y.x-c.x,H=P*R-N*w;if(H===0)return null;const ie=(N*(h.y-c.y)-P*(h.x-c.x))/H;return new p(h.x+ie*R,h.y+ie*w)},l.ay=ul,l.az=mm,l.b=Jn,l.b$=class extends I{},l.b0=function(h,A,c){return h[0]=A[0]*c,h[1]=A[1]*c,h[2]=A[2]*c,h[3]=A[3]*c,h},l.b1=function(h,A){return h[0]*A[0]+h[1]*A[1]+h[2]*A[2]+h[3]},l.b2=s1,l.b3=Ia,l.b4=function(h,A,c,y,w){var R=1/Math.tan(A/2);if(h[0]=R/c,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=R,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,w!=null&&w!==1/0){var P=1/(y-w);h[10]=(w+y)*P,h[14]=2*w*y*P}else h[10]=-1,h[14]=-2*y;return h},l.b5=function(h){var A=new oe(16);return A[0]=h[0],A[1]=h[1],A[2]=h[2],A[3]=h[3],A[4]=h[4],A[5]=h[5],A[6]=h[6],A[7]=h[7],A[8]=h[8],A[9]=h[9],A[10]=h[10],A[11]=h[11],A[12]=h[12],A[13]=h[13],A[14]=h[14],A[15]=h[15],A},l.b6=function(h,A,c){var y=Math.sin(c),w=Math.cos(c),R=A[0],P=A[1],N=A[2],H=A[3],ie=A[4],ue=A[5],ve=A[6],Pe=A[7];return A!==h&&(h[8]=A[8],h[9]=A[9],h[10]=A[10],h[11]=A[11],h[12]=A[12],h[13]=A[13],h[14]=A[14],h[15]=A[15]),h[0]=R*w+ie*y,h[1]=P*w+ue*y,h[2]=N*w+ve*y,h[3]=H*w+Pe*y,h[4]=ie*w-R*y,h[5]=ue*w-P*y,h[6]=ve*w-N*y,h[7]=Pe*w-H*y,h},l.b7=function(h,A,c){var y=Math.sin(c),w=Math.cos(c),R=A[4],P=A[5],N=A[6],H=A[7],ie=A[8],ue=A[9],ve=A[10],Pe=A[11];return A!==h&&(h[0]=A[0],h[1]=A[1],h[2]=A[2],h[3]=A[3],h[12]=A[12],h[13]=A[13],h[14]=A[14],h[15]=A[15]),h[4]=R*w+ie*y,h[5]=P*w+ue*y,h[6]=N*w+ve*y,h[7]=H*w+Pe*y,h[8]=ie*w-R*y,h[9]=ue*w-P*y,h[10]=ve*w-N*y,h[11]=Pe*w-H*y,h},l.b8=function(){const h=new Float32Array(16);return $(h),h},l.b9=function(){const h=new Float64Array(16);return $(h),h},l.bA=function(h,A){const c=Ne(h,360),y=Ne(A,360),w=y-c,R=y>c?w-360:w+360;return Math.abs(w)<Math.abs(R)?w:R},l.bB=function(h){return h[0]=0,h[1]=0,h[2]=0,h},l.bC=function(h,A,c,y){const w=Math.sqrt(h*h+A*A),R=Math.sqrt(c*c+y*y);h/=w,A/=w,c/=R,y/=R;const P=Math.acos(h*c+A*y);return-A*c+h*y>0?P:-P},l.bD=function(h,A){const c=Ne(h,2*Math.PI),y=Ne(A,2*Math.PI);return Math.min(Math.abs(c-y),Math.abs(c-y+2*Math.PI),Math.abs(c-y-2*Math.PI))},l.bE=function(){const h={},A=it.$version;for(const c in it.$root){const y=it.$root[c];if(y.required){let w=null;w=c==="version"?A:y.type==="array"?[]:{},w!=null&&(h[c]=w)}}return h},l.bF=of,l.bG=dt,l.bH=function h(A,c){if(Array.isArray(A)){if(!Array.isArray(c)||A.length!==c.length)return!1;for(let y=0;y<A.length;y++)if(!h(A[y],c[y]))return!1;return!0}if(typeof A=="object"&&A!==null&&c!==null){if(typeof c!="object"||Object.keys(A).length!==Object.keys(c).length)return!1;for(const y in A)if(!h(A[y],c[y]))return!1;return!0}return A===c},l.bI=function(h){h=h.slice();const A=Object.create(null);for(let c=0;c<h.length;c++)A[h[c].id]=h[c];for(let c=0;c<h.length;c++)"ref"in h[c]&&(h[c]=Dn(h[c],A[h[c].ref]));return h},l.bJ=function(h){if(h.type==="custom")return new uC(h);switch(h.type){case"background":return new o1(h);case"circle":return new Hf(h);case"color-relief":return new F(h);case"fill":return new hf(h);case"fill-extrusion":return new ia(h);case"heatmap":return new Gs(h);case"hillshade":return new s0(h);case"line":return new Fc(h);case"raster":return new f0(h);case"symbol":return new d0(h)}},l.bK=bt,l.bL=function(h,A){if(!h)return[{command:"setStyle",args:[A]}];let c=[];try{if(!Mn(h.version,A.version))return[{command:"setStyle",args:[A]}];Mn(h.center,A.center)||c.push({command:"setCenter",args:[A.center]}),Mn(h.state,A.state)||c.push({command:"setGlobalState",args:[A.state]}),Mn(h.centerAltitude,A.centerAltitude)||c.push({command:"setCenterAltitude",args:[A.centerAltitude]}),Mn(h.zoom,A.zoom)||c.push({command:"setZoom",args:[A.zoom]}),Mn(h.bearing,A.bearing)||c.push({command:"setBearing",args:[A.bearing]}),Mn(h.pitch,A.pitch)||c.push({command:"setPitch",args:[A.pitch]}),Mn(h.roll,A.roll)||c.push({command:"setRoll",args:[A.roll]}),Mn(h.sprite,A.sprite)||c.push({command:"setSprite",args:[A.sprite]}),Mn(h.glyphs,A.glyphs)||c.push({command:"setGlyphs",args:[A.glyphs]}),Mn(h.transition,A.transition)||c.push({command:"setTransition",args:[A.transition]}),Mn(h.light,A.light)||c.push({command:"setLight",args:[A.light]}),Mn(h.terrain,A.terrain)||c.push({command:"setTerrain",args:[A.terrain]}),Mn(h.sky,A.sky)||c.push({command:"setSky",args:[A.sky]}),Mn(h.projection,A.projection)||c.push({command:"setProjection",args:[A.projection]});const y={},w=[];(function(P,N,H,ie){let ue;for(ue in N=N||{},P=P||{})Object.prototype.hasOwnProperty.call(P,ue)&&(Object.prototype.hasOwnProperty.call(N,ue)||Hi(ue,H,ie));for(ue in N)Object.prototype.hasOwnProperty.call(N,ue)&&(Object.prototype.hasOwnProperty.call(P,ue)?Mn(P[ue],N[ue])||(P[ue].type==="geojson"&&N[ue].type==="geojson"&&Ei(P,N,ue)?ii(H,{command:"setGeoJSONSourceData",args:[ue,N[ue].data]}):tr(ue,N,H,ie)):Wn(ue,N,H))})(h.sources,A.sources,w,y);const R=[];h.layers&&h.layers.forEach(P=>{"source"in P&&y[P.source]?c.push({command:"removeLayer",args:[P.id]}):R.push(P)}),c=c.concat(w),function(P,N,H){N=N||[];const ie=(P=P||[]).map(ti),ue=N.map(ti),ve=P.reduce(Qi,{}),Pe=N.reduce(Qi,{}),Qe=ie.slice(),qe=Object.create(null);let et,ut,Mt,Qt,Dt;for(let jt=0,ln=0;jt<ie.length;jt++)et=ie[jt],Object.prototype.hasOwnProperty.call(Pe,et)?ln++:(ii(H,{command:"removeLayer",args:[et]}),Qe.splice(Qe.indexOf(et,ln),1));for(let jt=0,ln=0;jt<ue.length;jt++)et=ue[ue.length-1-jt],Qe[Qe.length-1-jt]!==et&&(Object.prototype.hasOwnProperty.call(ve,et)?(ii(H,{command:"removeLayer",args:[et]}),Qe.splice(Qe.lastIndexOf(et,Qe.length-ln),1)):ln++,Qt=Qe[Qe.length-jt],ii(H,{command:"addLayer",args:[Pe[et],Qt]}),Qe.splice(Qe.length-jt,0,et),qe[et]=!0);for(let jt=0;jt<ue.length;jt++)if(et=ue[jt],ut=ve[et],Mt=Pe[et],!qe[et]&&!Mn(ut,Mt))if(Mn(ut.source,Mt.source)&&Mn(ut["source-layer"],Mt["source-layer"])&&Mn(ut.type,Mt.type)){for(Dt in hi(ut.layout,Mt.layout,H,et,null,"setLayoutProperty"),hi(ut.paint,Mt.paint,H,et,null,"setPaintProperty"),Mn(ut.filter,Mt.filter)||ii(H,{command:"setFilter",args:[et,Mt.filter]}),Mn(ut.minzoom,Mt.minzoom)&&Mn(ut.maxzoom,Mt.maxzoom)||ii(H,{command:"setLayerZoomRange",args:[et,Mt.minzoom,Mt.maxzoom]}),ut)Object.prototype.hasOwnProperty.call(ut,Dt)&&Dt!=="layout"&&Dt!=="paint"&&Dt!=="filter"&&Dt!=="metadata"&&Dt!=="minzoom"&&Dt!=="maxzoom"&&(Dt.indexOf("paint.")===0?hi(ut[Dt],Mt[Dt],H,et,Dt.slice(6),"setPaintProperty"):Mn(ut[Dt],Mt[Dt])||ii(H,{command:"setLayerProperty",args:[et,Dt,Mt[Dt]]}));for(Dt in Mt)Object.prototype.hasOwnProperty.call(Mt,Dt)&&!Object.prototype.hasOwnProperty.call(ut,Dt)&&Dt!=="layout"&&Dt!=="paint"&&Dt!=="filter"&&Dt!=="metadata"&&Dt!=="minzoom"&&Dt!=="maxzoom"&&(Dt.indexOf("paint.")===0?hi(ut[Dt],Mt[Dt],H,et,Dt.slice(6),"setPaintProperty"):Mn(ut[Dt],Mt[Dt])||ii(H,{command:"setLayerProperty",args:[et,Dt,Mt[Dt]]}))}else ii(H,{command:"removeLayer",args:[et]}),Qt=Qe[Qe.lastIndexOf(et)+1],ii(H,{command:"addLayer",args:[Mt,Qt]})}(R,A.layers,c)}catch(y){console.warn("Unable to compute style diff:",y),c=[{command:"setStyle",args:[A]}]}return c},l.bM=function(h){const A=[],c=h.id;return c===void 0&&A.push({message:`layers.${c}: missing required property "id"`}),h.render===void 0&&A.push({message:`layers.${c}: missing required method "render"`}),h.renderingMode&&h.renderingMode!=="2d"&&h.renderingMode!=="3d"&&A.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),A},l.bN=Re,l.bO=He,l.bP=class extends Ml{constructor(h,A){super(h,A),this.current=0}set(h){this.current!==h&&(this.current=h,this.gl.uniform1i(this.location,h))}},l.bQ=ea,l.bR=class extends Ml{constructor(h,A){super(h,A),this.current=dA}set(h){if(h[12]!==this.current[12]||h[0]!==this.current[0])return this.current=h,void this.gl.uniformMatrix4fv(this.location,!1,h);for(let A=1;A<16;A++)if(h[A]!==this.current[A]){this.current=h,this.gl.uniformMatrix4fv(this.location,!1,h);break}}},l.bS=bo,l.bT=class extends Ml{constructor(h,A){super(h,A),this.current=[0,0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]||(this.current=h,this.gl.uniform3f(this.location,h[0],h[1],h[2]))}},l.bU=class extends Ml{constructor(h,A){super(h,A),this.current=[0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]||(this.current=h,this.gl.uniform2f(this.location,h[0],h[1]))}},l.bV=ne,l.bW=function(h,A){var c=Math.sin(A),y=Math.cos(A);return h[0]=y,h[1]=c,h[2]=0,h[3]=-c,h[4]=y,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},l.bX=function(h,A,c){var y=A[0],w=A[1],R=A[2];return h[0]=y*c[0]+w*c[3]+R*c[6],h[1]=y*c[1]+w*c[4]+R*c[7],h[2]=y*c[2]+w*c[5]+R*c[8],h},l.bY=function(h,A,c,y,w,R,P){var N=1/(A-c),H=1/(y-w),ie=1/(R-P);return h[0]=-2*N,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*H,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*ie,h[11]=0,h[12]=(A+c)*N,h[13]=(w+y)*H,h[14]=(P+R)*ie,h[15]=1,h},l.bZ=class extends Ml{constructor(h,A){super(h,A),this.current=new Array}set(h){if(h!=this.current){this.current=h;const A=new Float32Array(4*h.length);for(let c=0;c<h.length;c++)A[4*c]=h[c].r,A[4*c+1]=h[c].g,A[4*c+2]=h[c].b,A[4*c+3]=h[c].a;this.gl.uniform4fv(this.location,A)}}},l.b_=class extends Ml{constructor(h,A){super(h,A),this.current=new Array}set(h){if(h!=this.current){this.current=h;const A=new Float32Array(h);this.gl.uniform1fv(this.location,A)}}},l.ba=function(){return new Float64Array(16)},l.bb=function(h,A,c){const y=new Float64Array(4);return ze(y,h,A-90,c),y},l.bc=function(h,A,c,y){var w,R,P,N,H,ie=A[0],ue=A[1],ve=A[2],Pe=A[3],Qe=c[0],qe=c[1],et=c[2],ut=c[3];return(R=ie*Qe+ue*qe+ve*et+Pe*ut)<0&&(R=-R,Qe=-Qe,qe=-qe,et=-et,ut=-ut),1-R>J?(w=Math.acos(R),P=Math.sin(w),N=Math.sin((1-y)*w)/P,H=Math.sin(y*w)/P):(N=1-y,H=y),h[0]=N*ie+H*Qe,h[1]=N*ue+H*qe,h[2]=N*ve+H*et,h[3]=N*Pe+H*ut,h},l.bd=function(h){const A=new Float64Array(9);var c,y,w,R,P,N,H,ie,ue,ve,Pe,Qe,qe,et,ut,Mt,Qt,Dt;ve=(w=(y=h)[0])*(H=w+w),Pe=(R=y[1])*H,qe=(P=y[2])*H,et=P*(ie=R+R),Mt=(N=y[3])*H,Qt=N*ie,Dt=N*(ue=P+P),(c=A)[0]=1-(Qe=R*ie)-(ut=P*ue),c[3]=Pe-Dt,c[6]=qe+Qt,c[1]=Pe+Dt,c[4]=1-ve-ut,c[7]=et-Mt,c[2]=qe-Qt,c[5]=et+Mt,c[8]=1-ve-Qe;const jt=ei(-Math.asin(St(A[2],-1,1)));let ln,Cn;return Math.hypot(A[5],A[8])<.001?(ln=0,Cn=-ei(Math.atan2(A[3],A[4]))):(ln=ei(A[5]===0&&A[8]===0?0:Math.atan2(A[5],A[8])),Cn=ei(A[1]===0&&A[0]===0?0:Math.atan2(A[1],A[0]))),{roll:ln,pitch:jt+90,bearing:Cn}},l.be=function(h,A){return h.roll==A.roll&&h.pitch==A.pitch&&h.bearing==A.bearing},l.bf=Mr,l.bg=Uc,l.bh=Zl,l.bi=mc,l.bj=Ir,l.bk=tt,l.bl=lt,l.bm=Ca,l.bn=function(h,A,c,y,w){return tt(y,w,St((h-A)/(c-A),0,1))},l.bo=Ne,l.bp=function(){return new Float64Array(3)},l.bq=function(h,A,c,y){return h[0]=A[0]+c[0]*y,h[1]=A[1]+c[1]*y,h[2]=A[2]+c[2]*y,h},l.br=ze,l.bs=function(h,A,c){var y=c[0],w=c[1],R=c[2],P=c[3],N=A[0],H=A[1],ie=A[2],ue=w*ie-R*H,ve=R*N-y*ie,Pe=y*H-w*N;return h[0]=N+P*(ue+=ue)+w*(Pe+=Pe)-R*(ve+=ve),h[1]=H+P*ve+R*ue-y*Pe,h[2]=ie+P*Pe+y*ve-w*ue,h},l.bt=function(h,A,c){const y=(w=[h[0],h[1],h[2],A[0],A[1],A[2],c[0],c[1],c[2]])[0]*((ue=w[8])*(P=w[4])-(N=w[5])*(ie=w[7]))+w[1]*(-ue*(R=w[3])+N*(H=w[6]))+w[2]*(ie*R-P*H);var w,R,P,N,H,ie,ue;if(y===0)return null;const ve=we([],[A[0],A[1],A[2]],[c[0],c[1],c[2]]),Pe=we([],[c[0],c[1],c[2]],[h[0],h[1],h[2]]),Qe=we([],[h[0],h[1],h[2]],[A[0],A[1],A[2]]),qe=ye([],ve,-h[3]);return ge(qe,qe,ye([],Pe,-A[3])),ge(qe,qe,ye([],Qe,-c[3])),ye(qe,qe,1/y),qe},l.bu=p0,l.bv=function(){return new Float64Array(4)},l.bw=function(h,A,c,y){var w=[],R=[];return w[0]=A[0]-c[0],w[1]=A[1]-c[1],w[2]=A[2]-c[2],R[0]=w[0]*Math.cos(y)-w[1]*Math.sin(y),R[1]=w[0]*Math.sin(y)+w[1]*Math.cos(y),R[2]=w[2],h[0]=R[0]+c[0],h[1]=R[1]+c[1],h[2]=R[2]+c[2],h},l.bx=function(h,A,c,y){var w=[],R=[];return w[0]=A[0]-c[0],w[1]=A[1]-c[1],w[2]=A[2]-c[2],R[0]=w[0],R[1]=w[1]*Math.cos(y)-w[2]*Math.sin(y),R[2]=w[1]*Math.sin(y)+w[2]*Math.cos(y),h[0]=R[0]+c[0],h[1]=R[1]+c[1],h[2]=R[2]+c[2],h},l.by=function(h,A,c,y){var w=[],R=[];return w[0]=A[0]-c[0],w[1]=A[1]-c[1],w[2]=A[2]-c[2],R[0]=w[2]*Math.sin(y)+w[0]*Math.cos(y),R[1]=w[1],R[2]=w[2]*Math.cos(y)-w[0]*Math.sin(y),h[0]=R[0]+c[0],h[1]=R[1]+c[1],h[2]=R[2]+c[2],h},l.bz=function(h,A,c){var y=Math.sin(c),w=Math.cos(c),R=A[0],P=A[1],N=A[2],H=A[3],ie=A[8],ue=A[9],ve=A[10],Pe=A[11];return A!==h&&(h[4]=A[4],h[5]=A[5],h[6]=A[6],h[7]=A[7],h[12]=A[12],h[13]=A[13],h[14]=A[14],h[15]=A[15]),h[0]=R*w-ie*y,h[1]=P*w-ue*y,h[2]=N*w-ve*y,h[3]=H*w-Pe*y,h[8]=R*y+ie*w,h[9]=P*y+ue*w,h[10]=N*y+ve*w,h[11]=H*y+Pe*w,h},l.c=re,l.c0=Bu,l.c1=class extends f{},l.c2=ym,l.c3=function(h){return h<=1?1:Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))},l.c4=sl,l.c5=function(h,A,c){var y=A[0],w=A[1],R=A[2],P=c[3]*y+c[7]*w+c[11]*R+c[15];return h[0]=(c[0]*y+c[4]*w+c[8]*R+c[12])/(P=P||1),h[1]=(c[1]*y+c[5]*w+c[9]*R+c[13])/P,h[2]=(c[2]*y+c[6]*w+c[10]*R+c[14])/P,h},l.c6=class extends Js{},l.c7=class extends he{},l.c8=function(h,A){return h[0]===A[0]&&h[1]===A[1]&&h[2]===A[2]&&h[3]===A[3]&&h[4]===A[4]&&h[5]===A[5]&&h[6]===A[6]&&h[7]===A[7]&&h[8]===A[8]&&h[9]===A[9]&&h[10]===A[10]&&h[11]===A[11]&&h[12]===A[12]&&h[13]===A[13]&&h[14]===A[14]&&h[15]===A[15]},l.c9=function(h,A){var c=h[0],y=h[1],w=h[2],R=h[3],P=h[4],N=h[5],H=h[6],ie=h[7],ue=h[8],ve=h[9],Pe=h[10],Qe=h[11],qe=h[12],et=h[13],ut=h[14],Mt=h[15],Qt=A[0],Dt=A[1],jt=A[2],ln=A[3],Cn=A[4],Un=A[5],pi=A[6],ai=A[7],di=A[8],nr=A[9],Ai=A[10],fi=A[11],En=A[12],pr=A[13],Br=A[14],lr=A[15];return Math.abs(c-Qt)<=J*Math.max(1,Math.abs(c),Math.abs(Qt))&&Math.abs(y-Dt)<=J*Math.max(1,Math.abs(y),Math.abs(Dt))&&Math.abs(w-jt)<=J*Math.max(1,Math.abs(w),Math.abs(jt))&&Math.abs(R-ln)<=J*Math.max(1,Math.abs(R),Math.abs(ln))&&Math.abs(P-Cn)<=J*Math.max(1,Math.abs(P),Math.abs(Cn))&&Math.abs(N-Un)<=J*Math.max(1,Math.abs(N),Math.abs(Un))&&Math.abs(H-pi)<=J*Math.max(1,Math.abs(H),Math.abs(pi))&&Math.abs(ie-ai)<=J*Math.max(1,Math.abs(ie),Math.abs(ai))&&Math.abs(ue-di)<=J*Math.max(1,Math.abs(ue),Math.abs(di))&&Math.abs(ve-nr)<=J*Math.max(1,Math.abs(ve),Math.abs(nr))&&Math.abs(Pe-Ai)<=J*Math.max(1,Math.abs(Pe),Math.abs(Ai))&&Math.abs(Qe-fi)<=J*Math.max(1,Math.abs(Qe),Math.abs(fi))&&Math.abs(qe-En)<=J*Math.max(1,Math.abs(qe),Math.abs(En))&&Math.abs(et-pr)<=J*Math.max(1,Math.abs(et),Math.abs(pr))&&Math.abs(ut-Br)<=J*Math.max(1,Math.abs(ut),Math.abs(Br))&&Math.abs(Mt-lr)<=J*Math.max(1,Math.abs(Mt),Math.abs(lr))},l.cA=function(h,A){le.REGISTERED_PROTOCOLS[h]=A},l.cB=function(h){delete le.REGISTERED_PROTOCOLS[h]},l.cC=function(h,A){const c={};for(let w=0;w<h.length;w++){const R=A&&A[h[w].id]||gu(h[w]);A&&(A[h[w].id]=R);let P=c[R];P||(P=c[R]=[]),P.push(h[w])}const y=[];for(const w in c)y.push(c[w]);return y},l.cD=ci,l.cE=by,l.cF=y0,l.cG=fy,l.cH=function(h){h.bucket.createArrays(),h.bucket.tilePixelRatio=nt/(512*h.bucket.overscaling),h.bucket.compareText={},h.bucket.iconsNeedLinear=!1;const A=h.bucket.layers[0],c=A.layout,y=A._unevaluatedLayout._values,w={layoutIconSize:y["icon-size"].possiblyEvaluate(new Ko(h.bucket.zoom+1),h.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new Ko(h.bucket.zoom+1),h.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new Ko(18))};if(h.bucket.textSizeData.kind==="composite"){const{minZoom:ie,maxZoom:ue}=h.bucket.textSizeData;w.compositeTextSizes=[y["text-size"].possiblyEvaluate(new Ko(ie),h.canonical),y["text-size"].possiblyEvaluate(new Ko(ue),h.canonical)]}if(h.bucket.iconSizeData.kind==="composite"){const{minZoom:ie,maxZoom:ue}=h.bucket.iconSizeData;w.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new Ko(ie),h.canonical),y["icon-size"].possiblyEvaluate(new Ko(ue),h.canonical)]}const R=c.get("text-line-height")*tl,P=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",N=c.get("text-keep-upright"),H=c.get("text-size");for(const ie of h.bucket.features){const ue=c.get("text-font").evaluate(ie,{},h.canonical).join(","),ve=H.evaluate(ie,{},h.canonical),Pe=w.layoutTextSize.evaluate(ie,{},h.canonical),Qe=w.layoutIconSize.evaluate(ie,{},h.canonical),qe={horizontal:{},vertical:void 0},et=ie.text;let ut,Mt=[0,0];if(et){const jt=et.toString(),ln=c.get("text-letter-spacing").evaluate(ie,{},h.canonical)*tl,Cn=Oh(jt)?ln:0,Un=c.get("text-anchor").evaluate(ie,{},h.canonical),pi=ud(A,ie,h.canonical);if(!pi){const Ai=c.get("text-radial-offset").evaluate(ie,{},h.canonical);Mt=Ai?zc(Un,[Ai*tl,zp]):c.get("text-offset").evaluate(ie,{},h.canonical).map(fi=>fi*tl)}let ai=P?"center":c.get("text-justify").evaluate(ie,{},h.canonical);const di=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(ie,{},h.canonical)*tl:1/0,nr=()=>{h.bucket.allowVerticalPlacement&&Gl(jt)&&(qe.vertical=h0(et,h.glyphMap,h.glyphPositions,h.imagePositions,ue,di,R,Un,"left",Cn,Mt,l.ao.vertical,!0,Pe,ve))};if(!P&&pi){const Ai=new Set;if(ai==="auto")for(let En=0;En<pi.values.length;En+=2)Ai.add(oo(pi.values[En]));else Ai.add(ai);let fi=!1;for(const En of Ai)if(!qe.horizontal[En])if(fi)qe.horizontal[En]=qe.horizontal[0];else{const pr=h0(et,h.glyphMap,h.glyphPositions,h.imagePositions,ue,di,R,"center",En,Cn,Mt,l.ao.horizontal,!1,Pe,ve);pr&&(qe.horizontal[En]=pr,fi=pr.positionedLines.length===1)}nr()}else{ai==="auto"&&(ai=oo(Un));const Ai=h0(et,h.glyphMap,h.glyphPositions,h.imagePositions,ue,di,R,Un,ai,Cn,Mt,l.ao.horizontal,!1,Pe,ve);Ai&&(qe.horizontal[ai]=Ai),nr(),Gl(jt)&&P&&N&&(qe.vertical=h0(et,h.glyphMap,h.glyphPositions,h.imagePositions,ue,di,R,Un,ai,Cn,Mt,l.ao.vertical,!1,Pe,ve))}}let Qt=!1;if(ie.icon&&ie.icon.name){const jt=h.imageMap[ie.icon.name];jt&&(ut=sC(h.imagePositions[ie.icon.name],c.get("icon-offset").evaluate(ie,{},h.canonical),c.get("icon-anchor").evaluate(ie,{},h.canonical)),Qt=!!jt.sdf,h.bucket.sdfIcons===void 0?h.bucket.sdfIcons=Qt:h.bucket.sdfIcons!==Qt&&Ot("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(jt.pixelRatio!==h.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(h.bucket.iconsNeedLinear=!0))}const Dt=c1(qe.horizontal)||qe.vertical;h.bucket.iconsInText=!!Dt&&Dt.iconsInText,(Dt||ut)&&Fd(h.bucket,ie,qe,ut,h.imageMap,w,Pe,Qe,Mt,Qt,h.canonical,h.subdivisionGranularity)}h.showCollisionBoxes&&h.bucket.generateCollisionDebugBuffers()},l.cI=Kd,l.cJ=ll,l.cK=bm,l.cL=Yg,l.cM=tp,l.cN=class{constructor(h){this._marks={start:[h.url,"start"].join("#"),end:[h.url,"end"].join("#"),measure:h.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let h=performance.getEntriesByName(this._marks.measure);return h.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),h=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),h}},l.cO=function(h,A,c,y,w){return o(this,void 0,void 0,function*(){if(te())try{return yield $n(h,A,c,y,w)}catch{}return function(R,P,N,H,ie){const ue=R.width,ve=R.height;On&&Bn||(On=new OffscreenCanvas(ue,ve),Bn=On.getContext("2d",{willReadFrequently:!0})),On.width=ue,On.height=ve,Bn.drawImage(R,0,0,ue,ve);const Pe=Bn.getImageData(P,N,H,ie);return Bn.clearRect(0,0,ue,ve),Pe.data}(h,A,c,y,w)})},l.cP=B,l.cQ=C,l.cR=Eu,l.cS=Tp,l.cT=Fu,l.cU=function(h,A){const c=new Map;if(h!=null)if(h.type==="Feature")c.set(Kp(h,A),h);else for(const y of h.features)c.set(Kp(y,A),y);return c},l.cV=function(h,A){if(h==null)return!0;if(h.type==="Feature")return Kp(h,A)!=null;if(h.type==="FeatureCollection"){const c=new Set;for(const y of h.features){const w=Kp(y,A);if(w==null||c.has(w))return!1;c.add(w)}return!0}return!1},l.cW=function(h,A,c){var y,w,R,P;if(A.removeAll&&h.clear(),A.remove)for(const N of A.remove)h.delete(N);if(A.add)for(const N of A.add){const H=Kp(N,c);H!=null&&h.set(H,N)}if(A.update)for(const N of A.update){let H=h.get(N.id);if(H==null)continue;const ie=!N.removeAllProperties&&(((y=N.removeProperties)===null||y===void 0?void 0:y.length)>0||((w=N.addOrUpdateProperties)===null||w===void 0?void 0:w.length)>0);if((N.newGeometry||N.removeAllProperties||ie)&&(H=Object.assign({},H),h.set(N.id,H),ie&&(H.properties=Object.assign({},H.properties))),N.newGeometry&&(H.geometry=N.newGeometry),N.removeAllProperties)H.properties={};else if(((R=N.removeProperties)===null||R===void 0?void 0:R.length)>0)for(const ue of N.removeProperties)Object.prototype.hasOwnProperty.call(H.properties,ue)&&delete H.properties[ue];if(((P=N.addOrUpdateProperties)===null||P===void 0?void 0:P.length)>0)for(const{key:ue,value:ve}of N.addOrUpdateProperties)H.properties[ue]=ve}},l.cX=Wl,l.ca=function(h,A){return h[0]=A[0],h[1]=A[1],h[2]=A[2],h[3]=A[3],h[4]=A[4],h[5]=A[5],h[6]=A[6],h[7]=A[7],h[8]=A[8],h[9]=A[9],h[10]=A[10],h[11]=A[11],h[12]=A[12],h[13]=A[13],h[14]=A[14],h[15]=A[15],h},l.cb=h=>h.type==="symbol",l.cc=h=>h.type==="circle",l.cd=h=>h.type==="heatmap",l.ce=h=>h.type==="line",l.cf=h=>h.type==="fill",l.cg=h=>h.type==="fill-extrusion",l.ch=h=>h.type==="hillshade",l.ci=h=>h.type==="color-relief",l.cj=h=>h.type==="raster",l.ck=h=>h.type==="background",l.cl=h=>h.type==="custom",l.cm=kt,l.cn=function(h,A,c){const y=Ct(A.x-c.x,A.y-c.y),w=Ct(h.x-c.x,h.y-c.y);var R,P;return ei(Math.atan2(y[0]*w[1]-y[1]*w[0],(R=y)[0]*(P=w)[0]+R[1]*P[1]))},l.co=gt,l.cp=function(h,A){return je[A]&&(h instanceof MouseEvent||h instanceof WheelEvent)},l.cq=function(h,A){return Kn[A]&&"touches"in h},l.cr=function(h){return Kn[h]||je[h]},l.cs=function(h,A,c){var y=A[0],w=A[1];return h[0]=c[0]*y+c[4]*w+c[12],h[1]=c[1]*y+c[5]*w+c[13],h},l.ct=function(h,A){const{x:c,y}=g0.fromLngLat(A);return!(h<0||h>25||y<0||y>=1||c<0||c>=1)},l.cu=function(h,A){return h[0]=A[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=A[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=A[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h},l.cv=class extends Rc{},l.cw=Km,l.cy=function(h){return h.message===de},l.cz=We,l.d=De,l.e=Fe,l.f=h=>o(void 0,void 0,void 0,function*(){if(h.byteLength===0)return createImageBitmap(new ImageData(1,1));const A=new Blob([new Uint8Array(h)],{type:"image/png"});try{return createImageBitmap(A)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),l.g=pe,l.h=h=>new Promise((A,c)=>{const y=new Image;y.onload=()=>{A(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=Wt})},y.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const w=new Blob([new Uint8Array(h)],{type:"image/png"});y.src=h.byteLength?URL.createObjectURL(w):Wt}),l.i=Kt,l.j=(h,A)=>Ye(Fe(h,{type:"json"}),A),l.k=ht,l.l=mt,l.m=Ye,l.n=(h,A)=>Ye(Fe(h,{type:"arrayBuffer"}),A),l.o=function(h){return new tp(h).readFields(cy,[])},l.p=X0,l.q=$u,l.r=Aa,l.s=In,l.t=zf,l.u=io,l.v=it,l.w=Ot,l.x=rf,l.y=Zh,l.z=Td}),r("worker",["./shared"],function(l){class o{constructor(le){this.keyCache={},le&&this.replace(le)}replace(le){this._layerConfigs={},this._layers={},this.update(le,[])}update(le,pe){for(const We of le){this._layerConfigs[We.id]=We;const dt=this._layers[We.id]=l.bJ(We);dt._featureFilter=l.aa(dt.filter),this.keyCache[We.id]&&delete this.keyCache[We.id]}for(const We of pe)delete this.keyCache[We],delete this._layerConfigs[We],delete this._layers[We];this.familiesBySource={};const Te=l.cC(Object.values(this._layerConfigs),this.keyCache);for(const We of Te){const dt=We.map(ht=>this._layers[ht.id]),Ye=dt[0];if(Ye.visibility==="none")continue;const De=Ye.source||"";let Ze=this.familiesBySource[De];Ze||(Ze=this.familiesBySource[De]={});const g=Ye.sourceLayer||"_geojsonTileLayer";let mt=Ze[g];mt||(mt=Ze[g]=[]),mt.push(dt)}}}class p{constructor(le){const pe={},Te=[];for(const De in le){const Ze=le[De],g=pe[De]={};for(const mt in Ze){const ht=Ze[+mt];if(!ht||ht.bitmap.width===0||ht.bitmap.height===0)continue;const Tt={x:0,y:0,w:ht.bitmap.width+2,h:ht.bitmap.height+2};Te.push(Tt),g[mt]={rect:Tt,metrics:ht.metrics}}}const{w:We,h:dt}=l.p(Te),Ye=new l.q({width:We||1,height:dt||1});for(const De in le){const Ze=le[De];for(const g in Ze){const mt=Ze[+g];if(!mt||mt.bitmap.width===0||mt.bitmap.height===0)continue;const ht=pe[De][g].rect;l.q.copy(mt.bitmap,Ye,{x:0,y:0},{x:ht.x+1,y:ht.y+1},mt.bitmap)}}this.image=Ye,this.positions=pe}}l.cD("GlyphAtlas",p);class C{constructor(le){this.tileID=new l.Z(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.uid=le.uid,this.zoom=le.zoom,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=le.showCollisionBoxes,this.collectResourceTiming=!!le.collectResourceTiming,this.returnDependencies=!!le.returnDependencies,this.promoteId=le.promoteId,this.inFlightDependencies=[],this.globalState=le.globalState}parse(le,pe,Te,We,dt){return l._(this,void 0,void 0,function*(){this.status="parsing",this.data=le,this.collisionBoxArray=new l.a8;const Ye=new l.cE(Object.keys(le.layers).sort()),De=new l.cF(this.tileID,this.promoteId);De.bucketLayerIDs=[];const Ze={},g={featureIndex:De,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Te,subdivisionGranularity:dt},mt=pe.familiesBySource[this.source];for(const hi in mt){const ti=le.layers[hi];if(!ti)continue;ti.version===1&&l.w(`Vector tile source "${this.source}" layer "${hi}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Qi=Ye.encode(hi),wn=[];for(let uo=0;uo<ti.length;uo++){const Vi=ti.feature(uo),ya=De.getId(Vi,hi);wn.push({feature:Vi,id:ya,index:uo,sourceLayerIndex:Qi})}for(const uo of mt[hi]){const Vi=uo[0];Vi.source!==this.source&&l.w(`layer.source = ${Vi.source} does not equal this.source = ${this.source}`),Vi.minzoom&&this.zoom<Math.floor(Vi.minzoom)||Vi.maxzoom&&this.zoom>=Vi.maxzoom||Vi.visibility!=="none"&&(M(uo,this.zoom,Te,this.globalState),(Ze[Vi.id]=Vi.createBucket({index:De.bucketLayerIDs.length,layers:uo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Qi,sourceID:this.source,globalState:this.globalState})).populate(wn,g,this.tileID.canonical),De.bucketLayerIDs.push(uo.map(ya=>ya.id)))}}const ht=l.bN(g.glyphDependencies,hi=>Object.keys(hi).map(Number));this.inFlightDependencies.forEach(hi=>hi?.abort()),this.inFlightDependencies=[];let Tt=Promise.resolve({});if(Object.keys(ht).length){const hi=new AbortController;this.inFlightDependencies.push(hi),Tt=We.sendAsync({type:"GG",data:{stacks:ht,source:this.source,tileID:this.tileID,type:"glyphs"}},hi)}const it=Object.keys(g.iconDependencies);let en=Promise.resolve({});if(it.length){const hi=new AbortController;this.inFlightDependencies.push(hi),en=We.sendAsync({type:"GI",data:{icons:it,source:this.source,tileID:this.tileID,type:"icons"}},hi)}const Dn=Object.keys(g.patternDependencies);let Mn=Promise.resolve({});if(Dn.length){const hi=new AbortController;this.inFlightDependencies.push(hi),Mn=We.sendAsync({type:"GI",data:{icons:Dn,source:this.source,tileID:this.tileID,type:"patterns"}},hi)}const[ii,Wn,Hi]=yield Promise.all([Tt,en,Mn]),tr=new p(ii),Ei=new l.cG(Wn,Hi);for(const hi in Ze){const ti=Ze[hi];ti instanceof l.a9?(M(ti.layers,this.zoom,Te,this.globalState),l.cH({bucket:ti,glyphMap:ii,glyphPositions:tr.positions,imageMap:Wn,imagePositions:Ei.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:g.subdivisionGranularity})):ti.hasPattern&&(ti instanceof l.cI||ti instanceof l.cJ||ti instanceof l.cK)&&(M(ti.layers,this.zoom,Te,this.globalState),ti.addFeatures(g,this.tileID.canonical,Ei.patternPositions))}return this.status="done",{buckets:Object.values(Ze).filter(hi=>!hi.isEmpty()),featureIndex:De,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:tr.image,imageAtlas:Ei,glyphMap:this.returnDependencies?ii:null,iconMap:this.returnDependencies?Wn:null,glyphPositions:this.returnDependencies?tr.positions:null}})}}function M(re,le,pe,Te){const We=new l.F(le);for(const dt of re)dt.setGlobalState(Te),dt.recalculate(We,pe)}class O{constructor(le,pe,Te){this.actor=le,this.layerIndex=pe,this.availableImages=Te,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(le,pe){return l._(this,void 0,void 0,function*(){const Te=yield l.n(le.request,pe);try{return{vectorTile:new l.cL(new l.cM(Te.data)),rawData:Te.data,cacheControl:Te.cacheControl,expires:Te.expires}}catch(We){const dt=new Uint8Array(Te.data);let Ye=`Unable to parse the tile at ${le.request.url}, `;throw Ye+=dt[0]===31&&dt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${We.message}`,new Error(Ye)}})}loadTile(le){return l._(this,void 0,void 0,function*(){const pe=le.uid,Te=!!(le&&le.request&&le.request.collectResourceTiming)&&new l.cN(le.request),We=new C(le);this.loading[pe]=We;const dt=new AbortController;We.abort=dt;try{const Ye=yield this.loadVectorTile(le,dt);if(delete this.loading[pe],!Ye)return null;const De=Ye.rawData,Ze={};Ye.expires&&(Ze.expires=Ye.expires),Ye.cacheControl&&(Ze.cacheControl=Ye.cacheControl);const g={};if(Te){const ht=Te.finish();ht&&(g.resourceTiming=JSON.parse(JSON.stringify(ht)))}We.vectorTile=Ye.vectorTile;const mt=We.parse(Ye.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);this.loaded[pe]=We,this.fetching[pe]={rawTileData:De,cacheControl:Ze,resourceTiming:g};try{const ht=yield mt;return l.e({rawTileData:De.slice(0)},ht,Ze,g)}finally{delete this.fetching[pe]}}catch(Ye){throw delete this.loading[pe],We.status="done",this.loaded[pe]=We,Ye}})}reloadTile(le){return l._(this,void 0,void 0,function*(){const pe=le.uid;if(!this.loaded||!this.loaded[pe])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Te=this.loaded[pe];if(Te.showCollisionBoxes=le.showCollisionBoxes,Te.globalState=le.globalState,Te.status==="parsing"){const We=yield Te.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);let dt;if(this.fetching[pe]){const{rawTileData:Ye,cacheControl:De,resourceTiming:Ze}=this.fetching[pe];delete this.fetching[pe],dt=l.e({rawTileData:Ye.slice(0)},We,De,Ze)}else dt=We;return dt}if(Te.status==="done"&&Te.vectorTile)return Te.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity)})}abortTile(le){return l._(this,void 0,void 0,function*(){const pe=this.loading,Te=le.uid;pe&&pe[Te]&&pe[Te].abort&&(pe[Te].abort.abort(),delete pe[Te])})}removeTile(le){return l._(this,void 0,void 0,function*(){this.loaded&&this.loaded[le.uid]&&delete this.loaded[le.uid]})}}class U{constructor(){this.loaded={}}loadTile(le){return l._(this,void 0,void 0,function*(){const{uid:pe,encoding:Te,rawImageData:We,redFactor:dt,greenFactor:Ye,blueFactor:De,baseShift:Ze}=le,g=We.width+2,mt=We.height+2,ht=l.b(We)?new l.R({width:g,height:mt},yield l.cO(We,-1,-1,g,mt)):We,Tt=new l.cP(pe,ht,Te,dt,Ye,De,Ze);return this.loaded=this.loaded||{},this.loaded[pe]=Tt,Tt})}removeTile(le){const pe=this.loaded,Te=le.uid;pe&&pe[Te]&&delete pe[Te]}}var K,j,W=function(){if(j)return K;function re(pe,Te){if(pe.length!==0){le(pe[0],Te);for(var We=1;We<pe.length;We++)le(pe[We],!Te)}}function le(pe,Te){for(var We=0,dt=0,Ye=0,De=pe.length,Ze=De-1;Ye<De;Ze=Ye++){var g=(pe[Ye][0]-pe[Ze][0])*(pe[Ze][1]+pe[Ye][1]),mt=We+g;dt+=Math.abs(We)>=Math.abs(g)?We-mt+g:g-mt+We,We=mt}We+dt>=0!=!!Te&&pe.reverse()}return j=1,K=function pe(Te,We){var dt,Ye=Te&&Te.type;if(Ye==="FeatureCollection")for(dt=0;dt<Te.features.length;dt++)pe(Te.features[dt],We);else if(Ye==="GeometryCollection")for(dt=0;dt<Te.geometries.length;dt++)pe(Te.geometries[dt],We);else if(Ye==="Feature")pe(Te.geometry,We);else if(Ye==="Polygon")re(Te.coordinates,We);else if(Ye==="MultiPolygon")for(dt=0;dt<Te.coordinates.length;dt++)re(Te.coordinates[dt],We);return Te}}(),Y=l.cQ(W);class te extends l.cS{constructor(le,pe){super(new l.cM,0,pe,[],[]),this.feature=le,this.type=le.type,this.properties=le.tags?le.tags:{},"id"in le&&(typeof le.id=="string"?this.id=parseInt(le.id,10):typeof le.id!="number"||isNaN(le.id)||(this.id=le.id))}loadGeometry(){const le=[],pe=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const Te of pe){const We=[];for(const dt of Te)We.push(new l.P(dt[0],dt[1]));le.push(We)}return le}}class J extends l.cR{constructor(le,pe){super(new l.cM),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=pe?pe.version:1,this.extent=pe?pe.extent:4096,this.length=le.length,this.features=le}feature(le){return new te(this.features[le],this.extent)}}function oe(re,le){le.writeVarintField(15,re.version||1),le.writeStringField(1,re.name||""),le.writeVarintField(5,re.extent||4096);const pe={keys:[],values:[],keycache:{},valuecache:{}};for(let dt=0;dt<re.length;dt++)pe.feature=re.feature(dt),le.writeMessage(2,ne,pe);const Te=pe.keys;for(const dt of Te)le.writeStringField(3,dt);const We=pe.values;for(const dt of We)le.writeMessage(4,ge,dt)}function ne(re,le){if(!re.feature)return;const pe=re.feature;pe.id!==void 0&&le.writeVarintField(1,pe.id),le.writeMessage(2,$,re),le.writeVarintField(3,pe.type),le.writeMessage(4,ce,pe)}function $(re,le){for(const pe in re.feature?.properties){let Te=re.feature.properties[pe],We=re.keycache[pe];if(Te===null)continue;We===void 0&&(re.keys.push(pe),We=re.keys.length-1,re.keycache[pe]=We),le.writeVarint(We),typeof Te!="string"&&typeof Te!="boolean"&&typeof Te!="number"&&(Te=JSON.stringify(Te));const dt=typeof Te+":"+Te;let Ye=re.valuecache[dt];Ye===void 0&&(re.values.push(Te),Ye=re.values.length-1,re.valuecache[dt]=Ye),le.writeVarint(Ye)}}function ae(re,le){return(le<<3)+(7&re)}function G(re){return re<<1^re>>31}function ce(re,le){const pe=re.loadGeometry(),Te=re.type;let We=0,dt=0;for(const Ye of pe){let De=1;Te===1&&(De=Ye.length),le.writeVarint(ae(1,De));const Ze=Te===3?Ye.length-1:Ye.length;for(let g=0;g<Ze;g++){g===1&&Te!==1&&le.writeVarint(ae(2,Ze-1));const mt=Ye[g].x-We,ht=Ye[g].y-dt;le.writeVarint(G(mt)),le.writeVarint(G(ht)),We+=mt,dt+=ht}re.type===3&&le.writeVarint(ae(7,1))}}function ge(re,le){const pe=typeof re;pe==="string"?le.writeStringField(1,re):pe==="boolean"?le.writeBooleanField(7,re):pe==="number"&&(re%1!=0?le.writeDoubleField(3,re):re<0?le.writeSVarintField(6,re):le.writeVarintField(5,re))}const ye={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:re=>re},we=Math.fround||(Ie=new Float32Array(1),re=>(Ie[0]=+re,Ie[0]));var Ie;class Se{constructor(le){this.options=Object.assign(Object.create(ye),le),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(le){const{log:pe,minZoom:Te,maxZoom:We}=this.options;pe&&console.time("total time");const dt=`prepare ${le.length} points`;pe&&console.time(dt),this.points=le;const Ye=[];for(let Ze=0;Ze<le.length;Ze++){const g=le[Ze];if(!g.geometry)continue;const[mt,ht]=g.geometry.coordinates,Tt=we(ze(mt)),it=we(st(ht));Ye.push(Tt,it,1/0,Ze,-1,1),this.options.reduce&&Ye.push(0)}let De=this.trees[We+1]=this._createTree(Ye);pe&&console.timeEnd(dt);for(let Ze=We;Ze>=Te;Ze--){const g=+Date.now();De=this.trees[Ze]=this._createTree(this._cluster(De,Ze)),pe&&console.log("z%d: %d clusters in %dms",Ze,De.numItems,+Date.now()-g)}return pe&&console.timeEnd("total time"),this}getClusters(le,pe){let Te=((le[0]+180)%360+360)%360-180;const We=Math.max(-90,Math.min(90,le[1]));let dt=le[2]===180?180:((le[2]+180)%360+360)%360-180;const Ye=Math.max(-90,Math.min(90,le[3]));if(le[2]-le[0]>=360)Te=-180,dt=180;else if(Te>dt){const ht=this.getClusters([Te,We,180,Ye],pe),Tt=this.getClusters([-180,We,dt,Ye],pe);return ht.concat(Tt)}const De=this.trees[this._limitZoom(pe)],Ze=De.range(ze(Te),st(Ye),ze(dt),st(We)),g=De.data,mt=[];for(const ht of Ze){const Tt=this.stride*ht;mt.push(g[Tt+5]>1?Ve(g,Tt,this.clusterProps):this.points[g[Tt+3]])}return mt}getChildren(le){const pe=this._getOriginId(le),Te=this._getOriginZoom(le),We="No cluster with the specified id.",dt=this.trees[Te];if(!dt)throw new Error(We);const Ye=dt.data;if(pe*this.stride>=Ye.length)throw new Error(We);const De=this.options.radius/(this.options.extent*Math.pow(2,Te-1)),Ze=dt.within(Ye[pe*this.stride],Ye[pe*this.stride+1],De),g=[];for(const mt of Ze){const ht=mt*this.stride;Ye[ht+4]===le&&g.push(Ye[ht+5]>1?Ve(Ye,ht,this.clusterProps):this.points[Ye[ht+3]])}if(g.length===0)throw new Error(We);return g}getLeaves(le,pe,Te){const We=[];return this._appendLeaves(We,le,pe=pe||10,Te=Te||0,0),We}getTile(le,pe,Te){const We=this.trees[this._limitZoom(le)],dt=Math.pow(2,le),{extent:Ye,radius:De}=this.options,Ze=De/Ye,g=(Te-Ze)/dt,mt=(Te+1+Ze)/dt,ht={features:[]};return this._addTileFeatures(We.range((pe-Ze)/dt,g,(pe+1+Ze)/dt,mt),We.data,pe,Te,dt,ht),pe===0&&this._addTileFeatures(We.range(1-Ze/dt,g,1,mt),We.data,dt,Te,dt,ht),pe===dt-1&&this._addTileFeatures(We.range(0,g,Ze/dt,mt),We.data,-1,Te,dt,ht),ht.features.length?ht:null}getClusterExpansionZoom(le){let pe=this._getOriginZoom(le)-1;for(;pe<=this.options.maxZoom;){const Te=this.getChildren(le);if(pe++,Te.length!==1)break;le=Te[0].properties.cluster_id}return pe}_appendLeaves(le,pe,Te,We,dt){const Ye=this.getChildren(pe);for(const De of Ye){const Ze=De.properties;if(Ze&&Ze.cluster?dt+Ze.point_count<=We?dt+=Ze.point_count:dt=this._appendLeaves(le,Ze.cluster_id,Te,We,dt):dt<We?dt++:le.push(De),le.length===Te)break}return dt}_createTree(le){const pe=new l.aI(le.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Te=0;Te<le.length;Te+=this.stride)pe.add(le[Te],le[Te+1]);return pe.finish(),pe.data=le,pe}_addTileFeatures(le,pe,Te,We,dt,Ye){for(const De of le){const Ze=De*this.stride,g=pe[Ze+5]>1;let mt,ht,Tt;if(g)mt=xe(pe,Ze,this.clusterProps),ht=pe[Ze],Tt=pe[Ze+1];else{const Dn=this.points[pe[Ze+3]];mt=Dn.properties;const[Mn,ii]=Dn.geometry.coordinates;ht=ze(Mn),Tt=st(ii)}const it={type:1,geometry:[[Math.round(this.options.extent*(ht*dt-Te)),Math.round(this.options.extent*(Tt*dt-We))]],tags:mt};let en;en=g||this.options.generateId?pe[Ze+3]:this.points[pe[Ze+3]].id,en!==void 0&&(it.id=en),Ye.features.push(it)}}_limitZoom(le){return Math.max(this.options.minZoom,Math.min(Math.floor(+le),this.options.maxZoom+1))}_cluster(le,pe){const{radius:Te,extent:We,reduce:dt,minPoints:Ye}=this.options,De=Te/(We*Math.pow(2,pe)),Ze=le.data,g=[],mt=this.stride;for(let ht=0;ht<Ze.length;ht+=mt){if(Ze[ht+2]<=pe)continue;Ze[ht+2]=pe;const Tt=Ze[ht],it=Ze[ht+1],en=le.within(Ze[ht],Ze[ht+1],De),Dn=Ze[ht+5];let Mn=Dn;for(const ii of en){const Wn=ii*mt;Ze[Wn+2]>pe&&(Mn+=Ze[Wn+5])}if(Mn>Dn&&Mn>=Ye){let ii,Wn=Tt*Dn,Hi=it*Dn,tr=-1;const Ei=(ht/mt<<5)+(pe+1)+this.points.length;for(const hi of en){const ti=hi*mt;if(Ze[ti+2]<=pe)continue;Ze[ti+2]=pe;const Qi=Ze[ti+5];Wn+=Ze[ti]*Qi,Hi+=Ze[ti+1]*Qi,Ze[ti+4]=Ei,dt&&(ii||(ii=this._map(Ze,ht,!0),tr=this.clusterProps.length,this.clusterProps.push(ii)),dt(ii,this._map(Ze,ti)))}Ze[ht+4]=Ei,g.push(Wn/Mn,Hi/Mn,1/0,Ei,-1,Mn),dt&&g.push(tr)}else{for(let ii=0;ii<mt;ii++)g.push(Ze[ht+ii]);if(Mn>1)for(const ii of en){const Wn=ii*mt;if(!(Ze[Wn+2]<=pe)){Ze[Wn+2]=pe;for(let Hi=0;Hi<mt;Hi++)g.push(Ze[Wn+Hi])}}}}return g}_getOriginId(le){return le-this.points.length>>5}_getOriginZoom(le){return(le-this.points.length)%32}_map(le,pe,Te){if(le[pe+5]>1){const Ye=this.clusterProps[le[pe+6]];return Te?Object.assign({},Ye):Ye}const We=this.points[le[pe+3]].properties,dt=this.options.map(We);return Te&&dt===We?Object.assign({},dt):dt}}function Ve(re,le,pe){return{type:"Feature",id:re[le+3],properties:xe(re,le,pe),geometry:{type:"Point",coordinates:[(Te=re[le],360*(Te-.5)),Ct(re[le+1])]}};var Te}function xe(re,le,pe){const Te=re[le+5],We=Te>=1e4?`${Math.round(Te/1e3)}k`:Te>=1e3?Math.round(Te/100)/10+"k":Te,dt=re[le+6],Ye=dt===-1?{}:Object.assign({},pe[dt]);return Object.assign(Ye,{cluster:!0,cluster_id:re[le+3],point_count:Te,point_count_abbreviated:We})}function ze(re){return re/360+.5}function st(re){const le=Math.sin(re*Math.PI/180),pe=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return pe<0?0:pe>1?1:pe}function Ct(re){const le=(180-360*re)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function nt(re,le,pe,Te){let We=Te;const dt=le+(pe-le>>1);let Ye,De=pe-le;const Ze=re[le],g=re[le+1],mt=re[pe],ht=re[pe+1];for(let Tt=le+3;Tt<pe;Tt+=3){const it=be(re[Tt],re[Tt+1],Ze,g,mt,ht);if(it>We)Ye=Tt,We=it;else if(it===We){const en=Math.abs(Tt-dt);en<De&&(Ye=Tt,De=en)}}We>Te&&(Ye-le>3&&nt(re,le,Ye,Te),re[Ye+2]=We,pe-Ye>3&&nt(re,Ye,pe,Te))}function be(re,le,pe,Te,We,dt){let Ye=We-pe,De=dt-Te;if(Ye!==0||De!==0){const Ze=((re-pe)*Ye+(le-Te)*De)/(Ye*Ye+De*De);Ze>1?(pe=We,Te=dt):Ze>0&&(pe+=Ye*Ze,Te+=De*Ze)}return Ye=re-pe,De=le-Te,Ye*Ye+De*De}function Ne(re,le,pe,Te){const We={id:re??null,type:le,geometry:pe,tags:Te,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(le==="Point"||le==="MultiPoint"||le==="LineString")tt(We,pe);else if(le==="Polygon")tt(We,pe[0]);else if(le==="MultiLineString")for(const dt of pe)tt(We,dt);else if(le==="MultiPolygon")for(const dt of pe)tt(We,dt[0]);return We}function tt(re,le){for(let pe=0;pe<le.length;pe+=3)re.minX=Math.min(re.minX,le[pe]),re.minY=Math.min(re.minY,le[pe+1]),re.maxX=Math.max(re.maxX,le[pe]),re.maxY=Math.max(re.maxY,le[pe+1])}function lt(re,le,pe,Te){if(!le.geometry)return;const We=le.geometry.coordinates;if(We&&We.length===0)return;const dt=le.geometry.type,Ye=Math.pow(pe.tolerance/((1<<pe.maxZoom)*pe.extent),2);let De=[],Ze=le.id;if(pe.promoteId?Ze=le.properties[pe.promoteId]:pe.generateId&&(Ze=Te||0),dt==="Point")kt(We,De);else if(dt==="MultiPoint")for(const g of We)kt(g,De);else if(dt==="LineString")gt(We,De,Ye,!1);else if(dt==="MultiLineString"){if(pe.lineMetrics){for(const g of We)De=[],gt(g,De,Ye,!1),re.push(Ne(Ze,"LineString",De,le.properties));return}St(We,De,Ye,!1)}else if(dt==="Polygon")St(We,De,Ye,!0);else{if(dt!=="MultiPolygon"){if(dt==="GeometryCollection"){for(const g of le.geometry.geometries)lt(re,{id:Ze,geometry:g,properties:le.properties},pe,Te);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const g of We){const mt=[];St(g,mt,Ye,!0),De.push(mt)}}re.push(Ne(Ze,dt,De,le.properties))}function kt(re,le){le.push(Ut(re[0]),Fe(re[1]),0)}function gt(re,le,pe,Te){let We,dt,Ye=0;for(let Ze=0;Ze<re.length;Ze++){const g=Ut(re[Ze][0]),mt=Fe(re[Ze][1]);le.push(g,mt,0),Ze>0&&(Ye+=Te?(We*mt-g*dt)/2:Math.sqrt(Math.pow(g-We,2)+Math.pow(mt-dt,2))),We=g,dt=mt}const De=le.length-3;le[2]=1,nt(le,0,De,pe),le[De+2]=1,le.size=Math.abs(Ye),le.start=0,le.end=le.size}function St(re,le,pe,Te){for(let We=0;We<re.length;We++){const dt=[];gt(re[We],dt,pe,Te),le.push(dt)}}function Ut(re){return re/360+.5}function Fe(re){const le=Math.sin(re*Math.PI/180),pe=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return pe<0?0:pe>1?1:pe}function Ke(re,le,pe,Te,We,dt,Ye,De){if(Te/=le,dt>=(pe/=le)&&Ye<Te)return re;if(Ye<pe||dt>=Te)return null;const Ze=[];for(const g of re){const mt=g.geometry;let ht=g.type;const Tt=We===0?g.minX:g.minY,it=We===0?g.maxX:g.maxY;if(Tt>=pe&&it<Te){Ze.push(g);continue}if(it<pe||Tt>=Te)continue;let en=[];if(ht==="Point"||ht==="MultiPoint")Re(mt,en,pe,Te,We);else if(ht==="LineString")He(mt,en,pe,Te,We,!1,De.lineMetrics);else if(ht==="MultiLineString")_t(mt,en,pe,Te,We,!1);else if(ht==="Polygon")_t(mt,en,pe,Te,We,!0);else if(ht==="MultiPolygon")for(const Dn of mt){const Mn=[];_t(Dn,Mn,pe,Te,We,!0),Mn.length&&en.push(Mn)}if(en.length){if(De.lineMetrics&&ht==="LineString"){for(const Dn of en)Ze.push(Ne(g.id,ht,Dn,g.tags));continue}ht!=="LineString"&&ht!=="MultiLineString"||(en.length===1?(ht="LineString",en=en[0]):ht="MultiLineString"),ht!=="Point"&&ht!=="MultiPoint"||(ht=en.length===3?"Point":"MultiPoint"),Ze.push(Ne(g.id,ht,en,g.tags))}}return Ze.length?Ze:null}function Re(re,le,pe,Te,We){for(let dt=0;dt<re.length;dt+=3){const Ye=re[dt+We];Ye>=pe&&Ye<=Te&&Ot(le,re[dt],re[dt+1],re[dt+2])}}function He(re,le,pe,Te,We,dt,Ye){let De=bt(re);const Ze=We===0?qt:Kt;let g,mt,ht=re.start;for(let Mn=0;Mn<re.length-3;Mn+=3){const ii=re[Mn],Wn=re[Mn+1],Hi=re[Mn+2],tr=re[Mn+3],Ei=re[Mn+4],hi=We===0?ii:Wn,ti=We===0?tr:Ei;let Qi=!1;Ye&&(g=Math.sqrt(Math.pow(ii-tr,2)+Math.pow(Wn-Ei,2))),hi<pe?ti>pe&&(mt=Ze(De,ii,Wn,tr,Ei,pe),Ye&&(De.start=ht+g*mt)):hi>Te?ti<Te&&(mt=Ze(De,ii,Wn,tr,Ei,Te),Ye&&(De.start=ht+g*mt)):Ot(De,ii,Wn,Hi),ti<pe&&hi>=pe&&(mt=Ze(De,ii,Wn,tr,Ei,pe),Qi=!0),ti>Te&&hi<=Te&&(mt=Ze(De,ii,Wn,tr,Ei,Te),Qi=!0),!dt&&Qi&&(Ye&&(De.end=ht+g*mt),le.push(De),De=bt(re)),Ye&&(ht+=g)}let Tt=re.length-3;const it=re[Tt],en=re[Tt+1],Dn=We===0?it:en;Dn>=pe&&Dn<=Te&&Ot(De,it,en,re[Tt+2]),Tt=De.length-3,dt&&Tt>=3&&(De[Tt]!==De[0]||De[Tt+1]!==De[1])&&Ot(De,De[0],De[1],De[2]),De.length&&le.push(De)}function bt(re){const le=[];return le.size=re.size,le.start=re.start,le.end=re.end,le}function _t(re,le,pe,Te,We,dt){for(const Ye of re)He(Ye,le,pe,Te,We,dt,!1)}function Ot(re,le,pe,Te){re.push(le,pe,Te)}function qt(re,le,pe,Te,We,dt){const Ye=(dt-le)/(Te-le);return Ot(re,dt,pe+(We-pe)*Ye,1),Ye}function Kt(re,le,pe,Te,We,dt){const Ye=(dt-pe)/(We-pe);return Ot(re,le+(Te-le)*Ye,dt,1),Ye}function on(re,le){const pe=[];for(let Te=0;Te<re.length;Te++){const We=re[Te],dt=We.type;let Ye;if(dt==="Point"||dt==="MultiPoint"||dt==="LineString")Ye=Jn(We.geometry,le);else if(dt==="MultiLineString"||dt==="Polygon"){Ye=[];for(const De of We.geometry)Ye.push(Jn(De,le))}else if(dt==="MultiPolygon"){Ye=[];for(const De of We.geometry){const Ze=[];for(const g of De)Ze.push(Jn(g,le));Ye.push(Ze)}}pe.push(Ne(We.id,dt,Ye,We.tags))}return pe}function Jn(re,le){const pe=[];pe.size=re.size,re.start!==void 0&&(pe.start=re.start,pe.end=re.end);for(let Te=0;Te<re.length;Te+=3)pe.push(re[Te]+le,re[Te+1],re[Te+2]);return pe}function Wt(re,le){if(re.transformed)return re;const pe=1<<re.z,Te=re.x,We=re.y;for(const dt of re.features){const Ye=dt.geometry,De=dt.type;if(dt.geometry=[],De===1)for(let Ze=0;Ze<Ye.length;Ze+=2)dt.geometry.push($n(Ye[Ze],Ye[Ze+1],le,pe,Te,We));else for(let Ze=0;Ze<Ye.length;Ze++){const g=[];for(let mt=0;mt<Ye[Ze].length;mt+=2)g.push($n(Ye[Ze][mt],Ye[Ze][mt+1],le,pe,Te,We));dt.geometry.push(g)}}return re.transformed=!0,re}function $n(re,le,pe,Te,We,dt){return[Math.round(pe*(re*Te-We)),Math.round(pe*(le*Te-dt))]}function On(re,le,pe,Te,We){const dt=le===We.maxZoom?0:We.tolerance/((1<<le)*We.extent),Ye={features:[],numPoints:0,numSimplified:0,numFeatures:re.length,source:null,x:pe,y:Te,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const De of re)Bn(Ye,De,dt,We);return Ye}function Bn(re,le,pe,Te){const We=le.geometry,dt=le.type,Ye=[];if(re.minX=Math.min(re.minX,le.minX),re.minY=Math.min(re.minY,le.minY),re.maxX=Math.max(re.maxX,le.maxX),re.maxY=Math.max(re.maxY,le.maxY),dt==="Point"||dt==="MultiPoint")for(let De=0;De<We.length;De+=3)Ye.push(We[De],We[De+1]),re.numPoints++,re.numSimplified++;else if(dt==="LineString")In(Ye,We,re,pe,!1,!1);else if(dt==="MultiLineString"||dt==="Polygon")for(let De=0;De<We.length;De++)In(Ye,We[De],re,pe,dt==="Polygon",De===0);else if(dt==="MultiPolygon")for(let De=0;De<We.length;De++){const Ze=We[De];for(let g=0;g<Ze.length;g++)In(Ye,Ze[g],re,pe,!0,g===0)}if(Ye.length){let De=le.tags||null;if(dt==="LineString"&&Te.lineMetrics){De={};for(const g in le.tags)De[g]=le.tags[g];De.mapbox_clip_start=We.start/We.size,De.mapbox_clip_end=We.end/We.size}const Ze={geometry:Ye,type:dt==="Polygon"||dt==="MultiPolygon"?3:dt==="LineString"||dt==="MultiLineString"?2:1,tags:De};le.id!==null&&(Ze.id=le.id),re.features.push(Ze)}}function In(re,le,pe,Te,We,dt){const Ye=Te*Te;if(Te>0&&le.size<(We?Ye:Te))return void(pe.numPoints+=le.length/3);const De=[];for(let Ze=0;Ze<le.length;Ze+=3)(Te===0||le[Ze+2]>Ye)&&(pe.numSimplified++,De.push(le[Ze],le[Ze+1])),pe.numPoints++;We&&function(Ze,g){let mt=0;for(let ht=0,Tt=Ze.length,it=Tt-2;ht<Tt;it=ht,ht+=2)mt+=(Ze[ht]-Ze[it])*(Ze[ht+1]+Ze[it+1]);if(mt>0===g)for(let ht=0,Tt=Ze.length;ht<Tt/2;ht+=2){const it=Ze[ht],en=Ze[ht+1];Ze[ht]=Ze[Tt-2-ht],Ze[ht+1]=Ze[Tt-1-ht],Ze[Tt-2-ht]=it,Ze[Tt-1-ht]=en}}(De,dt),re.push(De)}const Oi={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ei{constructor(le,pe){const Te=(pe=this.options=function(dt,Ye){for(const De in Ye)dt[De]=Ye[De];return dt}(Object.create(Oi),pe)).debug;if(Te&&console.time("preprocess data"),pe.maxZoom<0||pe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(pe.promoteId&&pe.generateId)throw new Error("promoteId and generateId cannot be used together.");let We=function(dt,Ye){const De=[];if(dt.type==="FeatureCollection")for(let Ze=0;Ze<dt.features.length;Ze++)lt(De,dt.features[Ze],Ye,Ze);else lt(De,dt.type==="Feature"?dt:{geometry:dt},Ye);return De}(le,pe);this.tiles={},this.tileCoords=[],Te&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",pe.indexMaxZoom,pe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),We=function(dt,Ye){const De=Ye.buffer/Ye.extent;let Ze=dt;const g=Ke(dt,1,-1-De,De,0,-1,2,Ye),mt=Ke(dt,1,1-De,2+De,0,-1,2,Ye);return(g||mt)&&(Ze=Ke(dt,1,-De,1+De,0,-1,2,Ye)||[],g&&(Ze=on(g,1).concat(Ze)),mt&&(Ze=Ze.concat(on(mt,-1)))),Ze}(We,pe),We.length&&this.splitTile(We,0,0,0),Te&&(We.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(le,pe,Te,We,dt,Ye,De){const Ze=[le,pe,Te,We],g=this.options,mt=g.debug;for(;Ze.length;){We=Ze.pop(),Te=Ze.pop(),pe=Ze.pop(),le=Ze.pop();const ht=1<<pe,Tt=Kn(pe,Te,We);let it=this.tiles[Tt];if(!it&&(mt>1&&console.time("creation"),it=this.tiles[Tt]=On(le,pe,Te,We,g),this.tileCoords.push({z:pe,x:Te,y:We}),mt)){mt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",pe,Te,We,it.numFeatures,it.numPoints,it.numSimplified),console.timeEnd("creation"));const Qi=`z${pe}`;this.stats[Qi]=(this.stats[Qi]||0)+1,this.total++}if(it.source=le,dt==null){if(pe===g.indexMaxZoom||it.numPoints<=g.indexMaxPoints)continue}else{if(pe===g.maxZoom||pe===dt)continue;if(dt!=null){const Qi=dt-pe;if(Te!==Ye>>Qi||We!==De>>Qi)continue}}if(it.source=null,le.length===0)continue;mt>1&&console.time("clipping");const en=.5*g.buffer/g.extent,Dn=.5-en,Mn=.5+en,ii=1+en;let Wn=null,Hi=null,tr=null,Ei=null,hi=Ke(le,ht,Te-en,Te+Mn,0,it.minX,it.maxX,g),ti=Ke(le,ht,Te+Dn,Te+ii,0,it.minX,it.maxX,g);le=null,hi&&(Wn=Ke(hi,ht,We-en,We+Mn,1,it.minY,it.maxY,g),Hi=Ke(hi,ht,We+Dn,We+ii,1,it.minY,it.maxY,g),hi=null),ti&&(tr=Ke(ti,ht,We-en,We+Mn,1,it.minY,it.maxY,g),Ei=Ke(ti,ht,We+Dn,We+ii,1,it.minY,it.maxY,g),ti=null),mt>1&&console.timeEnd("clipping"),Ze.push(Wn||[],pe+1,2*Te,2*We),Ze.push(Hi||[],pe+1,2*Te,2*We+1),Ze.push(tr||[],pe+1,2*Te+1,2*We),Ze.push(Ei||[],pe+1,2*Te+1,2*We+1)}}getTile(le,pe,Te){le=+le,pe=+pe,Te=+Te;const We=this.options,{extent:dt,debug:Ye}=We;if(le<0||le>24)return null;const De=1<<le,Ze=Kn(le,pe=pe+De&De-1,Te);if(this.tiles[Ze])return Wt(this.tiles[Ze],dt);Ye>1&&console.log("drilling down to z%d-%d-%d",le,pe,Te);let g,mt=le,ht=pe,Tt=Te;for(;!g&&mt>0;)mt--,ht>>=1,Tt>>=1,g=this.tiles[Kn(mt,ht,Tt)];return g&&g.source?(Ye>1&&(console.log("found parent tile z%d-%d-%d",mt,ht,Tt),console.time("drilling down")),this.splitTile(g.source,mt,ht,Tt,le,pe,Te),Ye>1&&console.timeEnd("drilling down"),this.tiles[Ze]?Wt(this.tiles[Ze],dt):null):null}}function Kn(re,le,pe){return 32*((1<<re)*pe+le)+re}class je extends O{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(le,pe){return l._(this,void 0,void 0,function*(){const Te=le.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const We=this._geoJSONIndex.getTile(Te.z,Te.x,Te.y);if(!We)return null;const dt=new J(We.features,{version:2,extent:l.$});let Ye=function(De){const Ze=new l.cM;return function(g,mt){for(const ht in g.layers)mt.writeMessage(3,oe,g.layers[ht])}(De,Ze),Ze.finish()}(dt);return Ye.byteOffset===0&&Ye.byteLength===Ye.buffer.byteLength||(Ye=new Uint8Array(Ye)),{vectorTile:dt,rawData:Ye.buffer}})}loadData(le){return l._(this,void 0,void 0,function*(){var pe;(pe=this._pendingRequest)===null||pe===void 0||pe.abort();const Te=!!(le&&le.request&&le.request.collectResourceTiming)&&new l.cN(le.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(le,this._pendingRequest);const We=yield this._pendingData;this._geoJSONIndex=le.cluster?new Se(function({superclusterOptions:Ye,clusterProperties:De}){if(!De||!Ye)return Ye;const Ze={},g={},mt={accumulated:null,zoom:0},ht={properties:null},Tt=Object.keys(De);for(const it of Tt){const[en,Dn]=De[it],Mn=l.cT(Dn),ii=l.cT(typeof en=="string"?[en,["accumulated"],["get",it]]:en);Ze[it]=Mn.value,g[it]=ii.value}return Ye.map=it=>{ht.properties=it;const en={};for(const Dn of Tt)en[Dn]=Ze[Dn].evaluate(mt,ht);return en},Ye.reduce=(it,en)=>{ht.properties=en;for(const Dn of Tt)mt.accumulated=it[Dn],it[Dn]=g[Dn].evaluate(mt,ht)},Ye}(le)).load(We.features):function(Ye,De){return new ei(Ye,De)}(We,le.geojsonVtOptions),this.loaded={};const dt={data:We};if(Te){const Ye=Te.finish();Ye&&(dt.resourceTiming={},dt.resourceTiming[le.source]=JSON.parse(JSON.stringify(Ye)))}return dt}catch(We){if(delete this._pendingRequest,l.cy(We))return{abandoned:!0};throw We}})}getData(){return l._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(le){const pe=this.loaded;return pe&&pe[le.uid]?super.reloadTile(le):this.loadTile(le)}loadAndProcessGeoJSON(le,pe){return l._(this,void 0,void 0,function*(){let Te=yield this.loadGeoJSON(le,pe);if(delete this._pendingRequest,typeof Te!="object")throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(Y(Te,!0),le.filter){const We=l.cT(le.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(We.result==="error")throw new Error(We.value.map(Ye=>`${Ye.key}: ${Ye.message}`).join(", "));Te={type:"FeatureCollection",features:Te.features.filter(Ye=>We.value.evaluate({zoom:0},Ye))}}return Te})}loadGeoJSON(le,pe){return l._(this,void 0,void 0,function*(){const{promoteId:Te}=le;if(le.request){const We=yield l.j(le.request,pe);return this._dataUpdateable=l.cV(We.data,Te)?l.cU(We.data,Te):void 0,We.data}if(typeof le.data=="string")try{const We=JSON.parse(le.data);return this._dataUpdateable=l.cV(We,Te)?l.cU(We,Te):void 0,We}catch{throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`)}if(!le.dataDiff)throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${le.source}`);return l.cW(this._dataUpdateable,le.dataDiff,Te),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(le){return l._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(le){return this._geoJSONIndex.getClusterExpansionZoom(le.clusterId)}getClusterChildren(le){return this._geoJSONIndex.getChildren(le.clusterId)}getClusterLeaves(le){return this._geoJSONIndex.getLeaves(le.clusterId,le.limit,le.offset)}}class de{constructor(le){this.self=le,this.actor=new l.J(le),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(pe,Te)=>{if(this.externalWorkerSourceTypes[pe])throw new Error(`Worker source with name "${pe}" already registered.`);this.externalWorkerSourceTypes[pe]=Te},this.self.addProtocol=l.cA,this.self.removeProtocol=l.cB,this.self.registerRTLTextPlugin=pe=>{l.cX.setMethods(pe)},this.actor.registerMessageHandler("LDT",(pe,Te)=>this._getDEMWorkerSource(pe,Te.source).loadTile(Te)),this.actor.registerMessageHandler("RDT",(pe,Te)=>l._(this,void 0,void 0,function*(){this._getDEMWorkerSource(pe,Te.source).removeTile(Te)})),this.actor.registerMessageHandler("GCEZ",(pe,Te)=>l._(this,void 0,void 0,function*(){return this._getWorkerSource(pe,Te.type,Te.source).getClusterExpansionZoom(Te)})),this.actor.registerMessageHandler("GCC",(pe,Te)=>l._(this,void 0,void 0,function*(){return this._getWorkerSource(pe,Te.type,Te.source).getClusterChildren(Te)})),this.actor.registerMessageHandler("GCL",(pe,Te)=>l._(this,void 0,void 0,function*(){return this._getWorkerSource(pe,Te.type,Te.source).getClusterLeaves(Te)})),this.actor.registerMessageHandler("LD",(pe,Te)=>this._getWorkerSource(pe,Te.type,Te.source).loadData(Te)),this.actor.registerMessageHandler("GD",(pe,Te)=>this._getWorkerSource(pe,Te.type,Te.source).getData()),this.actor.registerMessageHandler("LT",(pe,Te)=>this._getWorkerSource(pe,Te.type,Te.source).loadTile(Te)),this.actor.registerMessageHandler("RT",(pe,Te)=>this._getWorkerSource(pe,Te.type,Te.source).reloadTile(Te)),this.actor.registerMessageHandler("AT",(pe,Te)=>this._getWorkerSource(pe,Te.type,Te.source).abortTile(Te)),this.actor.registerMessageHandler("RMT",(pe,Te)=>this._getWorkerSource(pe,Te.type,Te.source).removeTile(Te)),this.actor.registerMessageHandler("RS",(pe,Te)=>l._(this,void 0,void 0,function*(){if(!this.workerSources[pe]||!this.workerSources[pe][Te.type]||!this.workerSources[pe][Te.type][Te.source])return;const We=this.workerSources[pe][Te.type][Te.source];delete this.workerSources[pe][Te.type][Te.source],We.removeSource!==void 0&&We.removeSource(Te)})),this.actor.registerMessageHandler("RM",pe=>l._(this,void 0,void 0,function*(){delete this.layerIndexes[pe],delete this.availableImages[pe],delete this.workerSources[pe],delete this.demWorkerSources[pe]})),this.actor.registerMessageHandler("SR",(pe,Te)=>l._(this,void 0,void 0,function*(){this.referrer=Te})),this.actor.registerMessageHandler("SRPS",(pe,Te)=>this._syncRTLPluginState(pe,Te)),this.actor.registerMessageHandler("IS",(pe,Te)=>l._(this,void 0,void 0,function*(){this.self.importScripts(Te)})),this.actor.registerMessageHandler("SI",(pe,Te)=>this._setImages(pe,Te)),this.actor.registerMessageHandler("UL",(pe,Te)=>l._(this,void 0,void 0,function*(){this._getLayerIndex(pe).update(Te.layers,Te.removedIds)})),this.actor.registerMessageHandler("SL",(pe,Te)=>l._(this,void 0,void 0,function*(){this._getLayerIndex(pe).replace(Te)}))}_setImages(le,pe){return l._(this,void 0,void 0,function*(){this.availableImages[le]=pe;for(const Te in this.workerSources[le]){const We=this.workerSources[le][Te];for(const dt in We)We[dt].availableImages=pe}})}_syncRTLPluginState(le,pe){return l._(this,void 0,void 0,function*(){return yield l.cX.syncState(pe,this.self.importScripts)})}_getAvailableImages(le){let pe=this.availableImages[le];return pe||(pe=[]),pe}_getLayerIndex(le){let pe=this.layerIndexes[le];return pe||(pe=this.layerIndexes[le]=new o),pe}_getWorkerSource(le,pe,Te){if(this.workerSources[le]||(this.workerSources[le]={}),this.workerSources[le][pe]||(this.workerSources[le][pe]={}),!this.workerSources[le][pe][Te]){const We={sendAsync:(dt,Ye)=>(dt.targetMapId=le,this.actor.sendAsync(dt,Ye))};switch(pe){case"vector":this.workerSources[le][pe][Te]=new O(We,this._getLayerIndex(le),this._getAvailableImages(le));break;case"geojson":this.workerSources[le][pe][Te]=new je(We,this._getLayerIndex(le),this._getAvailableImages(le));break;default:this.workerSources[le][pe][Te]=new this.externalWorkerSourceTypes[pe](We,this._getLayerIndex(le),this._getAvailableImages(le))}}return this.workerSources[le][pe][Te]}_getDEMWorkerSource(le,pe){return this.demWorkerSources[le]||(this.demWorkerSources[le]={}),this.demWorkerSources[le][pe]||(this.demWorkerSources[le][pe]=new U),this.demWorkerSources[le][pe]}}return l.i(self)&&(self.worker=new de(self)),de}),r("index",["exports","./shared"],function(l,o){var p="5.7.1";function C(){var I=new o.A(4);return o.A!=Float32Array&&(I[1]=0,I[2]=0),I[0]=1,I[3]=1,I}let M,O;const U={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(I,s,f){const _=requestAnimationFrame(k=>{S(),s(k)}),{unsubscribe:S}=o.s(I.signal,"abort",()=>{S(),cancelAnimationFrame(_),f(o.c())},!1)},frameAsync(I){return new Promise((s,f)=>{this.frame(I,s,f)})},getImageData(I,s=0){return this.getImageCanvasContext(I).getImageData(-s,-s,I.width+2*s,I.height+2*s)},getImageCanvasContext(I){const s=window.document.createElement("canvas"),f=s.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return s.width=I.width,s.height=I.height,f.drawImage(I,0,0,I.width,I.height),f},resolveURL:I=>(M||(M=document.createElement("a")),M.href=I,M.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(O==null&&(O=matchMedia("(prefers-reduced-motion: reduce)")),O.matches)}};class K{static testProp(s){if(!K.docStyle)return s[0];for(let f=0;f<s.length;f++)if(s[f]in K.docStyle)return s[f];return s[0]}static create(s,f,_){const S=window.document.createElement(s);return f!==void 0&&(S.className=f),_&&_.appendChild(S),S}static createNS(s,f){return window.document.createElementNS(s,f)}static disableDrag(){K.docStyle&&K.selectProp&&(K.userSelect=K.docStyle[K.selectProp],K.docStyle[K.selectProp]="none")}static enableDrag(){K.docStyle&&K.selectProp&&(K.docStyle[K.selectProp]=K.userSelect)}static setTransform(s,f){s.style[K.transformProp]=f}static addEventListener(s,f,_,S={}){s.addEventListener(f,_,"passive"in S?S:S.capture)}static removeEventListener(s,f,_,S={}){s.removeEventListener(f,_,"passive"in S?S:S.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",K.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",K.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",K.suppressClickInternal,!0)},0)}static getScale(s){const f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}static getPoint(s,f,_){const S=f.boundingClientRect;return new o.P((_.clientX-S.left)/f.x-s.clientLeft,(_.clientY-S.top)/f.y-s.clientTop)}static mousePos(s,f){const _=K.getScale(s);return K.getPoint(s,_,f)}static touchPos(s,f){const _=[],S=K.getScale(s);for(let k=0;k<f.length;k++)_.push(K.getPoint(s,S,f[k]));return _}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}static sanitize(s){const f=new DOMParser().parseFromString(s,"text/html").body||document.createElement("body"),_=f.querySelectorAll("script");for(const S of _)S.remove();return K.clean(f),f.innerHTML}static isPossiblyDangerous(s,f){const _=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(s)||!_.includes("javascript:")&&!_.includes("data:"))||!!s.startsWith("on")||void 0}static clean(s){const f=s.children;for(const _ of f)K.removeAttributes(_),K.clean(_)}static removeAttributes(s){for(const{name:f,value:_}of s.attributes)K.isPossiblyDangerous(f,_)&&s.removeAttribute(f)}}K.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,K.selectProp=K.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),K.transformProp=K.testProp(["transform","WebkitTransform"]);const j={supported:!1,testSupport:function(I){!te&&Y&&(J?oe(I):W=I)}};let W,Y,te=!1,J=!1;function oe(I){const s=I.createTexture();I.bindTexture(I.TEXTURE_2D,s);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,Y),I.isContextLost())return;j.supported=!0}catch{}I.deleteTexture(s),te=!0}var ne;typeof document<"u"&&(Y=document.createElement("img"),Y.onload=()=>{W&&oe(W),W=null,J=!0},Y.onerror=()=>{te=!0,W=null},Y.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(I){let s,f,_,S;I.resetRequestQueue=()=>{s=[],f=0,_=0,S={}},I.addThrottleControl=X=>{const he=_++;return S[he]=X,he},I.removeThrottleControl=X=>{delete S[X],z()},I.getImage=(X,he,me=!0)=>new Promise((Be,Me)=>{j.supported&&(X.headers||(X.headers={}),X.headers.accept="image/webp,*/*"),o.e(X,{type:"image"}),s.push({abortController:he,requestParameters:X,supportImageRefresh:me,state:"queued",onError:Ue=>{Me(Ue)},onSuccess:Ue=>{Be(Ue)}}),z()});const k=X=>o._(this,void 0,void 0,function*(){X.state="running";const{requestParameters:he,supportImageRefresh:me,onError:Be,onSuccess:Me,abortController:Ue}=X,Xe=me===!1&&!o.i(self)&&!o.g(he.url)&&(!he.headers||Object.keys(he.headers).reduce((ft,xt)=>ft&&xt==="accept",!0));f++;const At=Xe?q(he,Ue):o.m(he,Ue);try{const ft=yield At;delete X.abortController,X.state="completed",ft.data instanceof HTMLImageElement||o.b(ft.data)?Me(ft):ft.data&&Me({data:yield(ct=ft.data,typeof createImageBitmap=="function"?o.f(ct):o.h(ct)),cacheControl:ft.cacheControl,expires:ft.expires})}catch(ft){delete X.abortController,Be(ft)}finally{f--,z()}var ct}),z=()=>{const X=(()=>{for(const he of Object.keys(S))if(S[he]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let he=f;he<X&&s.length>0;he++){const me=s.shift();me.abortController.signal.aborted?he--:k(me)}},q=(X,he)=>new Promise((me,Be)=>{const Me=new Image,Ue=X.url,Xe=X.credentials;Xe&&Xe==="include"?Me.crossOrigin="use-credentials":(Xe&&Xe==="same-origin"||!o.d(Ue))&&(Me.crossOrigin="anonymous"),he.signal.addEventListener("abort",()=>{Me.src="",Be(o.c())}),Me.fetchPriority="high",Me.onload=()=>{Me.onerror=Me.onload=null,me({data:Me})},Me.onerror=()=>{Me.onerror=Me.onload=null,he.signal.aborted||Be(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Me.src=Ue})}(ne||(ne={})),ne.resetRequestQueue();class ${constructor(s){this._transformRequestFn=s??null}transformRequest(s,f){return this._transformRequestFn&&this._transformRequestFn(s,f)||{url:s}}setTransformRequest(s){this._transformRequestFn=s}}function ae(I){const s=[];if(typeof I=="string")s.push({id:"default",url:I});else if(I&&I.length>0){const f=[];for(const{id:_,url:S}of I){const k=`${_}${S}`;f.indexOf(k)===-1&&(f.push(k),s.push({id:_,url:S}))}}return s}function G(I,s,f){try{const _=new URL(I);return _.pathname+=`${s}${f}`,_.toString()}catch{throw new Error(`Invalid sprite URL "${I}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function ce(I){const{userImage:s}=I;return!!(s&&s.render&&s.render())&&(I.data.replace(new Uint8Array(s.data.buffer)),!0)}class ge extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:f,promiseResolve:_}of this.requestors)_(this._getImagesForIds(f));this.requestors=[]}}getImage(s){const f=this.images[s];if(f&&!f.data&&f.spriteData){const _=f.spriteData;f.data=new o.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),f.spriteData=null}return f}addImage(s,f){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,f)&&(this.images[s]=f)}_validate(s,f){let _=!0;const S=f.data||f.spriteData;return this._validateStretch(f.stretchX,S&&S.width)||(this.fire(new o.k(new Error(`Image "${s}" has invalid "stretchX" value`))),_=!1),this._validateStretch(f.stretchY,S&&S.height)||(this.fire(new o.k(new Error(`Image "${s}" has invalid "stretchY" value`))),_=!1),this._validateContent(f.content,f)||(this.fire(new o.k(new Error(`Image "${s}" has invalid "content" value`))),_=!1),_}_validateStretch(s,f){if(!s)return!0;let _=0;for(const S of s){if(S[0]<_||S[1]<S[0]||f<S[1])return!1;_=S[1]}return!0}_validateContent(s,f){if(!s)return!0;if(s.length!==4)return!1;const _=f.spriteData,S=_&&_.width||f.data.width,k=_&&_.height||f.data.height;return!(s[0]<0||S<s[0]||s[1]<0||k<s[1]||s[2]<0||S<s[2]||s[3]<0||k<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,f,_=!0){const S=this.getImage(s);if(_&&(S.data.width!==f.data.width||S.data.height!==f.data.height))throw new Error(`size mismatch between old image (${S.data.width}x${S.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=S.version+1,this.images[s]=f,this.updatedImages[s]=!0}removeImage(s){const f=this.images[s];delete this.images[s],delete this.patterns[s],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s){return new Promise((f,_)=>{let S=!0;if(!this.isLoaded())for(const k of s)this.images[k]||(S=!1);this.isLoaded()||S?f(this._getImagesForIds(s)):this.requestors.push({ids:s,promiseResolve:f})})}_getImagesForIds(s){const f={};for(const _ of s){let S=this.getImage(_);S||(this.fire(new o.l("styleimagemissing",{id:_})),S=this.getImage(_)),S?f[_]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,textFitWidth:S.textFitWidth,textFitHeight:S.textFitHeight,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:o.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){const{width:s,height:f}=this.atlasImage;return{width:s,height:f}}getPattern(s){const f=this.patterns[s],_=this.getImage(s);if(!_)return null;if(f&&f.position.version===_.version)return f.position;if(f)f.position.version=_.version;else{const S={w:_.data.width+2,h:_.data.height+2,x:0,y:0},k=new o.I(S,_);this.patterns[s]={bin:S,position:k}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const f=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.T(s,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const k in this.patterns)s.push(this.patterns[k].bin);const{w:f,h:_}=o.p(s),S=this.atlasImage;S.resize({width:f||1,height:_||1});for(const k in this.patterns){const{bin:z}=this.patterns[k],q=z.x+1,X=z.y+1,he=this.getImage(k).data,me=he.width,Be=he.height;o.R.copy(he,S,{x:0,y:0},{x:q,y:X},{width:me,height:Be}),o.R.copy(he,S,{x:0,y:Be-1},{x:q,y:X-1},{width:me,height:1}),o.R.copy(he,S,{x:0,y:0},{x:q,y:X+Be},{width:me,height:1}),o.R.copy(he,S,{x:me-1,y:0},{x:q-1,y:X},{width:1,height:Be}),o.R.copy(he,S,{x:0,y:0},{x:q+me,y:X},{width:1,height:Be})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const f of s){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const _=this.getImage(f);_||o.w(`Image with ID: "${f}" was not found`),ce(_)&&this.updateImage(f,_)}}}const ye=1e20;function we(I,s,f,_,S,k,z,q,X){for(let he=s;he<s+_;he++)Ie(I,f*k+he,k,S,z,q,X);for(let he=f;he<f+S;he++)Ie(I,he*k+s,1,_,z,q,X)}function Ie(I,s,f,_,S,k,z){k[0]=0,z[0]=-ye,z[1]=ye,S[0]=I[s];for(let q=1,X=0,he=0;q<_;q++){S[q]=I[s+q*f];const me=q*q;do{const Be=k[X];he=(S[q]-S[Be]+me-Be*Be)/(q-Be)/2}while(he<=z[X]&&--X>-1);X++,k[X]=q,z[X]=he,z[X+1]=ye}for(let q=0,X=0;q<_;q++){for(;z[X+1]<q;)X++;const he=k[X],me=q-he;I[s+q*f]=S[he]+me*me}}class Se{constructor(s,f,_){this.requestManager=s,this.localIdeographFontFamily=f,this.entries={},this.lang=_}setURL(s){this.url=s}getGlyphs(s){return o._(this,void 0,void 0,function*(){const f=[];for(const k in s)for(const z of s[k])f.push(this._getAndCacheGlyphsPromise(k,z));const _=yield Promise.all(f),S={};for(const{stack:k,id:z,glyph:q}of _)S[k]||(S[k]={}),S[k][z]=q&&{id:q.id,bitmap:q.bitmap.clone(),metrics:q.metrics};return S})}_getAndCacheGlyphsPromise(s,f){return o._(this,void 0,void 0,function*(){let _=this.entries[s];_||(_=this.entries[s]={glyphs:{},requests:{},ranges:{}});let S=_.glyphs[f];if(S!==void 0)return{stack:s,id:f,glyph:S};if(S=this._tinySDF(_,s,f),S)return _.glyphs[f]=S,{stack:s,id:f,glyph:S};const k=Math.floor(f/256);if(256*k>65535)throw new Error("glyphs > 65535 not supported");if(_.ranges[k])return{stack:s,id:f,glyph:S};if(!this.url)throw new Error("glyphsUrl is not set");if(!_.requests[k]){const q=Se.loadGlyphRange(s,k,this.url,this.requestManager);_.requests[k]=q}const z=yield _.requests[k];for(const q in z)this._doesCharSupportLocalGlyph(+q)||(_.glyphs[+q]=z[+q]);return _.ranges[k]=!0,{stack:s,id:f,glyph:z[f]||null}})}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(s))||o.u["CJK Unified Ideographs"](s)||o.u["Hangul Syllables"](s)||o.u.Hiragana(s)||o.u.Katakana(s)||o.u["CJK Symbols and Punctuation"](s)||o.u["Halfwidth and Fullwidth Forms"](s))}_tinySDF(s,f,_){const S=this.localIdeographFontFamily;if(!S||!this._doesCharSupportLocalGlyph(_))return;let k=s.tinySDF;if(!k){let q="400";/bold/i.test(f)?q="900":/medium/i.test(f)?q="500":/light/i.test(f)&&(q="200"),k=s.tinySDF=new Se.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,lang:this.lang,fontFamily:S,fontWeight:q})}const z=k.draw(String.fromCharCode(_));return{id:_,bitmap:new o.q({width:z.width||60,height:z.height||60},z.data),metrics:{width:z.glyphWidth/2||24,height:z.glyphHeight/2||24,left:z.glyphLeft/2+.5||0,top:z.glyphTop/2-27.5||-8,advance:z.glyphAdvance/2||24,isDoubleResolution:!0}}}}Se.loadGlyphRange=function(I,s,f,_){return o._(this,void 0,void 0,function*(){const S=256*s,k=S+255,z=_.transformRequest(f.replace("{fontstack}",I).replace("{range}",`${S}-${k}`),"Glyphs"),q=yield o.n(z,new AbortController);if(!q||!q.data)throw new Error(`Could not load glyph range. range: ${s}, ${S}-${k}`);const X={};for(const he of o.o(q.data))X[he.id]=he;return X})},Se.TinySDF=class{constructor({fontSize:I=24,buffer:s=3,radius:f=8,cutoff:_=.25,fontFamily:S="sans-serif",fontWeight:k="normal",fontStyle:z="normal",lang:q=null}={}){this.buffer=s,this.cutoff=_,this.radius=f,this.lang=q;const X=this.size=I+4*s,he=this._createCanvas(X),me=this.ctx=he.getContext("2d",{willReadFrequently:!0});me.font=`${z} ${k} ${I}px ${S}`,me.textBaseline="alphabetic",me.textAlign="left",me.fillStyle="black",this.gridOuter=new Float64Array(X*X),this.gridInner=new Float64Array(X*X),this.f=new Float64Array(X),this.z=new Float64Array(X+1),this.v=new Uint16Array(X)}_createCanvas(I){const s=document.createElement("canvas");return s.width=s.height=I,s}draw(I){const{width:s,actualBoundingBoxAscent:f,actualBoundingBoxDescent:_,actualBoundingBoxLeft:S,actualBoundingBoxRight:k}=this.ctx.measureText(I),z=Math.ceil(f),q=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(k-S))),X=Math.min(this.size-this.buffer,z+Math.ceil(_)),he=q+2*this.buffer,me=X+2*this.buffer,Be=Math.max(he*me,0),Me=new Uint8ClampedArray(Be),Ue={data:Me,width:he,height:me,glyphWidth:q,glyphHeight:X,glyphTop:z,glyphLeft:0,glyphAdvance:s};if(q===0||X===0)return Ue;const{ctx:Xe,buffer:At,gridInner:ct,gridOuter:ft}=this;this.lang&&(Xe.lang=this.lang),Xe.clearRect(At,At,q,X),Xe.fillText(I,At,At+z);const xt=Xe.getImageData(At,At,q,X);ft.fill(ye,0,Be),ct.fill(0,0,Be);for(let yt=0;yt<X;yt++)for(let wt=0;wt<q;wt++){const Pt=xt.data[4*(yt*q+wt)+3]/255;if(Pt===0)continue;const Ft=(yt+At)*he+wt+At;if(Pt===1)ft[Ft]=0,ct[Ft]=ye;else{const Bt=.5-Pt;ft[Ft]=Bt>0?Bt*Bt:0,ct[Ft]=Bt<0?Bt*Bt:0}}we(ft,0,0,he,me,he,this.f,this.v,this.z),we(ct,At,At,q,X,he,this.f,this.v,this.z);for(let yt=0;yt<Be;yt++){const wt=Math.sqrt(ft[yt])-Math.sqrt(ct[yt]);Me[yt]=Math.round(255-255*(wt/this.radius+this.cutoff))}return Ue}};class Ve{constructor(){this.specification=o.v.light.position}possiblyEvaluate(s,f){return o.B(s.expression.evaluate(f))}interpolate(s,f,_){return{x:o.C.number(s.x,f.x,_),y:o.C.number(s.y,f.y,_),z:o.C.number(s.z,f.z,_)}}}let xe;class ze extends o.E{constructor(s){super(),xe=xe||new o.r({anchor:new o.D(o.v.light.anchor),position:new Ve,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.t(xe),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,f={}){if(!this._validate(o.x,s,f))for(const _ in s){const S=s[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),S):this._transitionable.setValue(_,S)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,f,_){return(!_||_.validate!==!1)&&o.y(this,s.call(o.z,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}const st=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class Ct extends o.E{constructor(s){super(),this._transitionable=new o.t(st),this.setSky(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.F(0))}setSky(s,f={}){if(!this._validate(o.G,s,f)){s||(s={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const _ in s){const S=s[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),S):this._transitionable.setValue(_,S)}}}getSky(){return this._transitionable.serialize()}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,f,_={}){return _?.validate!==!1&&o.y(this,s.call(o.z,o.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(s){return s<60?0:s<70?(s-60)/10:1}}class nt{constructor(s,f){this.width=s,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,f){const _=s.join(",")+String(f);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(s,f)),this.dashEntry[_]}getDashRanges(s,f,_){const S=[];let k=s.length%2==1?-s[s.length-1]*_:0,z=s[0]*_,q=!0;S.push({left:k,right:z,isDash:q,zeroLength:s[0]===0});let X=s[0];for(let he=1;he<s.length;he++){q=!q;const me=s[he];k=X*_,X+=me,z=X*_,S.push({left:k,right:z,isDash:q,zeroLength:me===0})}return S}addRoundDash(s,f,_){const S=f/2;for(let k=-_;k<=_;k++){const z=this.width*(this.nextRow+_+k);let q=0,X=s[q];for(let he=0;he<this.width;he++){he/X.right>1&&(X=s[++q]);const me=Math.abs(he-X.left),Be=Math.abs(he-X.right),Me=Math.min(me,Be);let Ue;const Xe=k/_*(S+1);if(X.isDash){const At=S-Math.abs(Xe);Ue=Math.sqrt(Me*Me+At*At)}else Ue=S-Math.sqrt(Me*Me+Xe*Xe);this.data[z+he]=Math.max(0,Math.min(255,Ue+128))}}}addRegularDash(s){for(let q=s.length-1;q>=0;--q){const X=s[q],he=s[q+1];X.zeroLength?s.splice(q,1):he&&he.isDash===X.isDash&&(he.left=X.left,s.splice(q,1))}const f=s[0],_=s[s.length-1];f.isDash===_.isDash&&(f.left=_.left-this.width,_.right=f.right+this.width);const S=this.width*this.nextRow;let k=0,z=s[k];for(let q=0;q<this.width;q++){q/z.right>1&&(z=s[++k]);const X=Math.abs(q-z.left),he=Math.abs(q-z.right),me=Math.min(X,he);this.data[S+q]=Math.max(0,Math.min(255,(z.isDash?me:-me)+128))}}addDash(s,f){const _=f?7:0,S=2*_+1;if(this.nextRow+S>this.height)return o.w("LineAtlas out of space"),null;let k=0;for(let q=0;q<s.length;q++)k+=s[q];if(k!==0){const q=this.width/k,X=this.getDashRanges(s,this.width,q);f?this.addRoundDash(X,q,_):this.addRegularDash(X)}const z={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:k};return this.nextRow+=S,this.dirty=!0,z}bind(s){const f=s.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}const be="maplibre_preloaded_worker_pool";class Ne{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<Ne.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[be]}numActive(){return Object.keys(this.active).length}}const tt=Math.floor(U.hardwareConcurrency/2);let lt,kt;function gt(){return lt||(lt=new Ne),lt}Ne.workerCount=o.H(globalThis)?Math.max(Math.min(tt,3),1):1;class St{constructor(s,f){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=f;const _=this.workerPool.acquire(f);for(let S=0;S<_.length;S++){const k=new o.J(_[S],f);k.name=`Worker ${S}`,this.actors.push(k)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,f){const _=[];for(const S of this.actors)_.push(S.sendAsync({type:s,data:f}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],s&&this.workerPool.release(this.id)}registerMessageHandler(s,f){for(const _ of this.actors)_.registerMessageHandler(s,f)}}function Ut(){return kt||(kt=new St(gt(),o.K),kt.registerMessageHandler("GR",(I,s,f)=>o.m(s,f))),kt}function Fe(I,s){const f=o.L();return o.M(f,f,[1,1,0]),o.N(f,f,[.5*I.width,.5*I.height,1]),I.calculatePosMatrix?o.O(f,f,I.calculatePosMatrix(s.toUnwrapped())):f}function Ke(I,s,f,_,S,k,z){var q;const X=function(Me,Ue,Xe){if(Me)for(const At of Me){const ct=Ue[At];if(ct&&ct.source===Xe&&ct.type==="fill-extrusion")return!0}else for(const At in Ue){const ct=Ue[At];if(ct.source===Xe&&ct.type==="fill-extrusion")return!0}return!1}((q=S?.layers)!==null&&q!==void 0?q:null,s,I.id),he=k.maxPitchScaleFactor(),me=I.tilesIn(_,he,X);me.sort(Re);const Be=[];for(const Me of me)Be.push({wrappedTileID:Me.tileID.wrapped().key,queryResults:Me.tile.queryRenderedFeatures(s,f,I._state,Me.queryGeometry,Me.cameraQueryGeometry,Me.scale,S,k,he,Fe(I.transform,Me.tileID),z?(Ue,Xe)=>z(Me.tileID,Ue,Xe):void 0)});return function(Me,Ue){for(const Xe in Me)for(const At of Me[Xe])He(At,Ue);return Me}(function(Me){const Ue={},Xe={};for(const At of Me){const ct=At.queryResults,ft=At.wrappedTileID,xt=Xe[ft]=Xe[ft]||{};for(const yt in ct){const wt=ct[yt],Pt=xt[yt]=xt[yt]||{},Ft=Ue[yt]=Ue[yt]||[];for(const Bt of wt)Pt[Bt.featureIndex]||(Pt[Bt.featureIndex]=!0,Ft.push(Bt))}}return Ue}(Be),I)}function Re(I,s){const f=I.tileID,_=s.tileID;return f.overscaledZ-_.overscaledZ||f.canonical.y-_.canonical.y||f.wrap-_.wrap||f.canonical.x-_.canonical.x}function He(I,s){const f=I.feature,_=s.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=_}function bt(I,s,f){return o._(this,void 0,void 0,function*(){let _=I;if(I.url?_=(yield o.j(s.transformRequest(I.url,"Source"),f)).data:yield U.frameAsync(f),!_)return null;const S=o.Q(o.e(_,I),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(S.vectorLayerIds=_.vector_layers.map(k=>k.id)),S})}class _t{constructor(s,f){s&&(f?this.setSouthWest(s).setNorthEast(f):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof o.S?new o.S(s.lng,s.lat):o.S.convert(s),this}setSouthWest(s){return this._sw=s instanceof o.S?new o.S(s.lng,s.lat):o.S.convert(s),this}extend(s){const f=this._sw,_=this._ne;let S,k;if(s instanceof o.S)S=s,k=s;else{if(!(s instanceof _t))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(_t.convert(s)):this.extend(o.S.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(o.S.convert(s)):this;if(S=s._sw,k=s._ne,!S||!k)return this}return f||_?(f.lng=Math.min(S.lng,f.lng),f.lat=Math.min(S.lat,f.lat),_.lng=Math.max(k.lng,_.lng),_.lat=Math.max(k.lat,_.lat)):(this._sw=new o.S(S.lng,S.lat),this._ne=new o.S(k.lng,k.lat)),this}getCenter(){return new o.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.S(this.getWest(),this.getNorth())}getSouthEast(){return new o.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:f,lat:_}=o.S.convert(s);let S=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&S}static convert(s){return s instanceof _t?s:s&&new _t(s)}static fromLngLat(s,f=0){const _=360*f/40075017,S=_/Math.cos(Math.PI/180*s.lat);return new _t(new o.S(s.lng-S,s.lat-_),new o.S(s.lng+S,s.lat+_))}adjustAntiMeridian(){const s=new o.S(this._sw.lng,this._sw.lat),f=new o.S(this._ne.lng,this._ne.lat);return new _t(s,s.lng>f.lng?new o.S(f.lng+360,f.lat):f)}}class Ot{constructor(s,f,_){this.bounds=_t.convert(this.validateBounds(s)),this.minzoom=f||0,this.maxzoom=_||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const f=Math.pow(2,s.z),_=Math.floor(o.V(this.bounds.getWest())*f),S=Math.floor(o.U(this.bounds.getNorth())*f),k=Math.ceil(o.V(this.bounds.getEast())*f),z=Math.ceil(o.U(this.bounds.getSouth())*f);return s.x>=_&&s.x<k&&s.y>=S&&s.y<z}}class qt extends o.E{constructor(s,f,_,S){if(super(),this.id=s,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.Q(f,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const s=yield bt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),s&&(o.e(this,s),s.bounds&&(this.tileBounds=new Ot(s.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new o.k(s))}})}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.abort(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(s){return o._(this,void 0,void 0,function*(){const f=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(f,"Tile"),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};_.request.collectResourceTiming=this._collectResourceTiming;let S="RT";if(s.actor&&s.state!=="expired"){if(s.state==="loading")return new Promise((k,z)=>{s.reloadPromise={resolve:k,reject:z}})}else s.actor=this.dispatcher.getActor(),S="LT";s.abortController=new AbortController;try{const k=yield s.actor.sendAsync({type:S,data:_},s.abortController);if(delete s.abortController,s.aborted)return;this._afterTileLoadWorkerResponse(s,k)}catch(k){if(delete s.abortController,s.aborted)return;if(k&&k.status!==404)throw k;this._afterTileLoadWorkerResponse(s,null)}})}_afterTileLoadWorkerResponse(s,f){if(f&&f.resourceTiming&&(s.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&s.setExpiryData(f),s.loadVectorData(f,this.map.painter),s.reloadPromise){const _=s.reloadPromise;s.reloadPromise=null,this.loadTile(s).then(_.resolve).catch(_.reject)}}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.actor&&(yield s.actor.sendAsync({type:"AT",data:{uid:s.uid,type:this.type,source:this.id}}))})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.unloadVectorData(),s.actor&&(yield s.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Kt extends o.E{constructor(s,f,_,S){super(),this.id=s,this.dispatcher=_,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},f),o.e(this,o.Q(f,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(s=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const f=yield bt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(o.e(this,f),f.bounds&&(this.tileBounds=new Ot(f.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:s})))}catch(f){this._tileJSONRequest=null,this.fire(new o.k(f))}})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),s(),this.load(!0)}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}serialize(){return o.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s){return o._(this,void 0,void 0,function*(){const f=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.abortController=new AbortController;try{const _=yield ne.getImage(this.map._requestManager.transformRequest(f,"Tile"),s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&s.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const S=this.map.painter.context,k=S.gl,z=_.data;s.texture=this.map.painter.getTileTexture(z.width),s.texture?s.texture.update(z,{useMipmap:!0}):(s.texture=new o.T(S,z,k.RGBA,{useMipmap:!0}),s.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST)),s.state="loaded"}}catch(_){if(delete s.abortController,s.aborted)s.state="unloaded";else if(_)throw s.state="errored",_}})}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController)})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.texture&&this.map.painter.saveTileTexture(s.texture)})}hasTransition(){return!1}}class on extends Kt{constructor(s,f,_,S){super(s,f,_,S),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(s){return o._(this,void 0,void 0,function*(){const f=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(f,"Tile");s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.abortController=new AbortController;try{const S=yield ne.getImage(_,s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(S&&S.data){const k=S.data;this.map._refreshExpiredTiles&&(S.cacheControl||S.expires)&&s.setExpiryData({cacheControl:S.cacheControl,expires:S.expires});const z=o.b(k)&&o.W()?k:yield this.readImageNow(k),q={type:this.type,uid:s.uid,source:this.id,rawImageData:z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!s.actor||s.state==="expired"){s.actor=this.dispatcher.getActor();const X=yield s.actor.sendAsync({type:"LDT",data:q});s.dem=X,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded"}}}catch(S){if(delete s.abortController,s.aborted)s.state="unloaded";else if(S)throw s.state="errored",S}})}readImageNow(s){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.X()){const f=s.width+2,_=s.height+2;try{return new o.R({width:f,height:_},yield o.Y(s,-1,-1,f,_))}catch{}}return U.getImageData(s,1)})}_getNeighboringTiles(s){const f=s.canonical,_=Math.pow(2,f.z),S=(f.x-1+_)%_,k=f.x===0?s.wrap-1:s.wrap,z=(f.x+1+_)%_,q=f.x+1===_?s.wrap+1:s.wrap,X={};return X[new o.Z(s.overscaledZ,k,f.z,S,f.y).key]={backfilled:!1},X[new o.Z(s.overscaledZ,q,f.z,z,f.y).key]={backfilled:!1},f.y>0&&(X[new o.Z(s.overscaledZ,k,f.z,S,f.y-1).key]={backfilled:!1},X[new o.Z(s.overscaledZ,s.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},X[new o.Z(s.overscaledZ,q,f.z,z,f.y-1).key]={backfilled:!1}),f.y+1<_&&(X[new o.Z(s.overscaledZ,k,f.z,S,f.y+1).key]={backfilled:!1},X[new o.Z(s.overscaledZ,s.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},X[new o.Z(s.overscaledZ,q,f.z,z,f.y+1).key]={backfilled:!1}),X}unloadTile(s){return o._(this,void 0,void 0,function*(){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&(yield s.actor.sendAsync({type:"RDT",data:{type:this.type,uid:s.uid,source:this.id}}))})}}class Jn extends o.E{constructor(s,f,_,S){super(),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:f.data},this.actor=_.getActor(),this.setEventedParent(S),this._data=f.data,this._options=o.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:o.$,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(f.clusterMaxZoom),minPoints:Math.max(2,f.clusterMinPoints||2),extent:o.$,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(s){return s*(o.$/this.tileSize)}_getClusterMaxZoom(s){const f=s?Math.round(s):this.maxzoom-1;return Number.isInteger(s)||s===void 0||o.w(`Integer expected for option 'clusterMaxZoom': provided value "${s}" rounded to "${f}"`),f}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._pendingWorkerUpdate={data:s},this._updateWorkerData(),this}updateData(s){return this._pendingWorkerUpdate.diff=o.a0(this._pendingWorkerUpdate.diff,s),this._updateWorkerData(),this}getData(){return o._(this,void 0,void 0,function*(){const s=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:s})})}getCoordinatesFromGeometry(s){return s.type==="GeometryCollection"?s.geometries.map(f=>f.coordinates).flat(1/0):s.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){const s=new _t,f=yield this.getData();let _;switch(f.type){case"FeatureCollection":_=f.features.map(S=>this.getCoordinatesFromGeometry(S.geometry)).flat(1/0);break;case"Feature":_=this.getCoordinatesFromGeometry(f.geometry);break;default:_=this.getCoordinatesFromGeometry(f)}if(_.length==0)return s;for(let S=0;S<_.length-1;S+=2)s.extend([_[S],_[S+1]]);return s})}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(s.clusterRadius)),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(s.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(s){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:s,source:this.id}})}getClusterChildren(s){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:s,source:this.id}})}getClusterLeaves(s,f,_){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:s,limit:f,offset:_}})}_updateWorkerData(){return o._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;const{data:s,diff:f}=this._pendingWorkerUpdate;if(!s&&!f)return void o.w(`No data or diff provided to GeoJSONSource ${this.id}.`);const _=o.e({type:this.type},this.workerOptions);s?(typeof s=="string"?(_.request=this.map._requestManager.transformRequest(U.resolveURL(s),"Source"),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(s),this._pendingWorkerUpdate.data=void 0):f&&(_.dataDiff=f,this._pendingWorkerUpdate.diff=void 0),this._isUpdatingWorker=!0,this.fire(new o.l("dataloading",{dataType:"source"}));try{const S=yield this.actor.sendAsync({type:"LD",data:_});if(this._isUpdatingWorker=!1,this._removed||S.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));this._data=S.data;let k=null;S.resourceTiming&&S.resourceTiming[this.id]&&(k=S.resourceTiming[this.id].slice(0));const z={dataType:"source"};this._collectResourceTiming&&k&&k.length>0&&o.e(z,{resourceTiming:k}),this.fire(new o.l("data",Object.assign(Object.assign({},z),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},z),{sourceDataType:"content"})))}catch(S){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(S))}finally{(this._pendingWorkerUpdate.data||this._pendingWorkerUpdate.diff)&&this._updateWorkerData()}})}loaded(){return!this._isUpdatingWorker&&this._pendingWorkerUpdate.data===void 0&&this._pendingWorkerUpdate.diff===void 0}loadTile(s){return o._(this,void 0,void 0,function*(){const f=s.actor?"RT":"LT";s.actor=this.actor;const _={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};s.abortController=new AbortController;const S=yield this.actor.sendAsync({type:f,data:_},s.abortController);delete s.abortController,s.unloadVectorData(),s.aborted||s.loadVectorData(S,this.map.painter,f==="RT")})}abortTile(s){return o._(this,void 0,void 0,function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.aborted=!0})}unloadTile(s){return o._(this,void 0,void 0,function*(){s.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Wt extends o.E{constructor(s,f,_,S){super(),this.flippedWindingOrder=!1,this.id=s,this.dispatcher=_,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=f}load(s){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const f=yield ne.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,s&&(this.coordinates=s),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,this.fire(new o.k(f))}})}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=s.url,this.load(s.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(s){this.coordinates=s;const f=s.map(o.a1.fromLngLat);var _;return this.tileID=function(S){const k=o.a2.fromPoints(S),z=k.width(),q=k.height(),X=Math.max(z,q),he=Math.max(0,Math.floor(-Math.log(X)/Math.LN2)),me=Math.pow(2,he);return new o.a4(he,Math.floor((k.minX+k.maxX)/2*me),Math.floor((k.minY+k.maxY)/2*me))}(f),this.terrainTileRanges=this._getOverlappingTileRanges(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map(S=>this.tileID.getTilePoint(S)._round()),this.flippedWindingOrder=((_=this.tileCoords)[1].x-_[0].x)*(_[2].y-_[0].y)-(_[1].y-_[0].y)*(_[2].x-_[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const s=this.map.painter.context,f=s.gl;this.texture||(this.texture=new o.T(s,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let _=!1;for(const S in this.tiles){const k=this.tiles[S];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,_=!0)}_&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(s){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={}):s.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(s){const{minX:f,minY:_,maxX:S,maxY:k}=o.a2.fromPoints(s),z={};for(let q=0;q<=o.a3;q++){const X=Math.pow(2,q),he=Math.floor(f*X),me=Math.floor(_*X),Be=Math.floor(S*X),Me=Math.floor(k*X);z[q]={minTileX:he,minTileY:me,maxTileX:Be,maxTileY:Me}}return z}}class $n extends Wt{constructor(s,f,_,S){super(s,f,_,S),this.roundZoom=!0,this.type="video",this.options=f}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;const s=this.options;this.urls=[];for(const f of s.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{const f=yield o.a5(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new o.k(f))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const f=this.video.seekable;s<f.start(0)||s>f.end(0)?this.fire(new o.k(new o.a6(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const s=this.map.painter.context,f=s.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new o.T(s,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let _=!1;for(const S in this.tiles){const k=this.tiles[S];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,_=!0)}_&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class On extends Wt{constructor(s,f,_,S){super(s,f,_,S),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(k=>!Array.isArray(k)||k.length!==2||k.some(z=>typeof z!="number"))||this.fire(new o.k(new o.a6(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.k(new o.a6(`sources.${s}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new o.k(new o.a6(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a6(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.k(new o.a6(`sources.${s}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,_=f.gl;this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.T(f,this.canvas,_.RGBA,{premultiply:!0});let S=!1;for(const k in this.tiles){const z=this.tiles[k];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,S=!0)}S&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const Bn={},In=I=>{switch(I){case"geojson":return Jn;case"image":return Wt;case"raster":return Kt;case"raster-dem":return on;case"vector":return qt;case"video":return $n;case"canvas":return On}return Bn[I]},Oi="RTLPluginLoaded";class ei extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ut()}_syncState(s){return this.status=s,this.dispatcher.broadcast("SRPS",{pluginStatus:s,pluginURL:this.url}).catch(f=>{throw this.status="error",f})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(s){return o._(this,arguments,void 0,function*(f,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=U.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(Oi))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Kn=null;function je(){return Kn||(Kn=new ei),Kn}class de{constructor(s,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=o.a7(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){const f=s+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,f,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(S,k){const z={};if(!k)return z;for(const q of S){const X=q.layerIds.map(he=>k.getLayer(he)).filter(Boolean);if(X.length!==0){q.layers=X,q.stateDependentLayerIds&&(q.stateDependentLayers=q.stateDependentLayerIds.map(he=>X.filter(me=>me.id===he)[0]));for(const he of X)z[he.id]=q}}return z}(s.buckets,f?.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const k=this.buckets[S];if(k instanceof o.a9){if(this.hasSymbolBuckets=!0,!_)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const k=this.buckets[S];if(k instanceof o.a9&&k.hasRTLText){this.hasRTLText=!0,je().lazyLoad();break}}this.queryPadding=0;for(const S in this.buckets){const k=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(S).queryRadius(k))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new o.a8}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const _ in this.buckets){const S=this.buckets[_];S.uploadPending()&&S.upload(s)}const f=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new o.T(s,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new o.T(s,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,f,_,S,k,z,q,X,he,me,Be){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:S,cameraQueryGeometry:k,scale:z,tileSize:this.tileSize,pixelPosMatrix:me,transform:X,params:q,queryPadding:this.queryPadding*he,getElevation:Be},s,f,_):{}}querySourceFeatures(s,f){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const S=_.loadVTLayers(),k=f&&f.sourceLayer?f.sourceLayer:"",z=S._geojsonTileLayer||S[k];if(!z)return;const q=o.aa(f&&f.filter),{z:X,x:he,y:me}=this.tileID.canonical,Be={z:X,x:he,y:me};for(let Me=0;Me<z.length;Me++){const Ue=z.feature(Me);if(q.needGeometry){const ct=o.ab(Ue,!0);if(!q.filter(new o.F(this.tileID.overscaledZ),ct,this.tileID.canonical))continue}else if(!q.filter(new o.F(this.tileID.overscaledZ),Ue))continue;const Xe=_.getId(Ue,k),At=new o.ac(Ue,X,he,me,Xe);At.tile=Be,s.push(At)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const f=this.expirationTime;if(s.cacheControl){const _=o.ad(s.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const _=Date.now();let S=!1;if(this.expirationTime>_)S=!1;else if(f)if(this.expirationTime<f)S=!0;else{const k=this.expirationTime-f;k?this.expirationTime=_+Math.max(k,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const S in this.buckets){if(!f.style.hasLayer(S))continue;const k=this.buckets[S],z=k.layers[0].sourceLayer||"_geojsonTileLayer",q=_[z],X=s[z];if(!q||!X||Object.keys(X).length===0)continue;k.update(X,q,this.imageAtlas&&this.imageAtlas.patternPositions||{});const he=f&&f.style&&f.style.getLayer(S);he&&(this.queryPadding=Math.max(this.queryPadding,he.queryRadius(k)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<U.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=U.now()+s}setDependencies(s,f){const _={};for(const S of f)_[S]=!0;this.dependencies[s]=_}hasDependency(s,f){for(const _ of s){const S=this.dependencies[_];if(S){for(const k of f)if(S[k])return!0}}return!1}}class re{constructor(s,f){this.max=s,this.onRemove=f,this.reset()}reset(){for(const s in this.data)for(const f of this.data[s])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(s,f,_){const S=s.wrapped().key;this.data[S]===void 0&&(this.data[S]=[]);const k={value:f,timeout:void 0};if(_!==void 0&&(k.timeout=setTimeout(()=>{this.remove(s,k)},_)),this.data[S].push(k),this.order.push(S),this.order.length>this.max){const z=this._getAndRemoveByKey(this.order[0]);z&&this.onRemove(z)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const f=this.data[s].shift();return f.timeout&&clearTimeout(f.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),f.value}getByKey(s){const f=this.data[s];return f?f[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,f){if(!this.has(s))return this;const _=s.wrapped().key,S=f===void 0?0:this.data[_].indexOf(f),k=this.data[_][S];return this.data[_].splice(S,1),k.timeout&&clearTimeout(k.timeout),this.data[_].length===0&&delete this.data[_],this.onRemove(k.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(s){const f=[];for(const _ in this.data)for(const S of this.data[_])s(S.value)||f.push(S);for(const _ of f)this.remove(_.value.tileID,_)}}class le{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,f,_){const S=String(f);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][S]=this.stateChanges[s][S]||{},o.e(this.stateChanges[s][S],_),this.deletedStates[s]===null){this.deletedStates[s]={};for(const k in this.state[s])k!==S&&(this.deletedStates[s][k]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][S]===null){this.deletedStates[s][S]={};for(const k in this.state[s][S])_[k]||(this.deletedStates[s][S][k]=null)}else for(const k in _)this.deletedStates[s]&&this.deletedStates[s][S]&&this.deletedStates[s][S][k]===null&&delete this.deletedStates[s][S][k]}removeFeatureState(s,f,_){if(this.deletedStates[s]===null)return;const S=String(f);if(this.deletedStates[s]=this.deletedStates[s]||{},_&&f!==void 0)this.deletedStates[s][S]!==null&&(this.deletedStates[s][S]=this.deletedStates[s][S]||{},this.deletedStates[s][S][_]=null);else if(f!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][S])for(_ in this.deletedStates[s][S]={},this.stateChanges[s][S])this.deletedStates[s][S][_]=null;else this.deletedStates[s][S]=null;else this.deletedStates[s]=null}getState(s,f){const _=String(f),S=o.e({},(this.state[s]||{})[_],(this.stateChanges[s]||{})[_]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){const k=this.deletedStates[s][f];if(k===null)return{};for(const z in k)delete S[z]}return S}initializeTileState(s,f){s.setFeatureState(this.state,f)}coalesceChanges(s,f){const _={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const k={};for(const z in this.stateChanges[S])this.state[S][z]||(this.state[S][z]={}),o.e(this.state[S][z],this.stateChanges[S][z]),k[z]=this.state[S][z];_[S]=k}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const k={};if(this.deletedStates[S]===null)for(const z in this.state[S])k[z]={},this.state[S][z]={};else for(const z in this.deletedStates[S]){if(this.deletedStates[S][z]===null)this.state[S][z]={};else for(const q of Object.keys(this.deletedStates[S][z]))delete this.state[S][z][q];k[z]=this.state[S][z]}_[S]=_[S]||{},o.e(_[S],k)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const S in s)s[S].setFeatureState(_,f)}}const pe=89.25;function Te(I,s){const f=o.ah(s.lat,-o.ai,o.ai);return new o.P(o.V(s.lng)*I,o.U(f)*I)}function We(I,s){return new o.a1(s.x/I,s.y/I).toLngLat()}function dt(I){return I.cameraToCenterDistance*Math.min(.85*Math.tan(o.ae(90-I.pitch)),Math.tan(o.ae(pe-I.pitch)))}function Ye(I,s){const f=I.canonical,_=s/o.af(f.z),S=f.x+Math.pow(2,f.z)*I.wrap,k=o.ag(new Float64Array(16));return o.M(k,k,[S*_,f.y*_,0]),o.N(k,k,[_/o.$,_/o.$,1]),k}function De(I,s,f,_,S){const k=o.a1.fromLngLat(I,s),z=S*o.aj(1,I.lat),q=z*Math.cos(o.ae(f)),X=Math.sqrt(z*z-q*q),he=X*Math.sin(o.ae(-_)),me=X*Math.cos(o.ae(-_));return new o.a1(k.x+he,k.y+me,k.z+q)}function Ze(I,s,f){const _=s.intersectsFrustum(I);if(!f||_===0)return _;const S=s.intersectsPlane(f);return S===0?0:_===2&&S===2?2:1}function g(I,s,f){let _=0;const S=(f-s)/10;for(let k=0;k<10;k++)_+=S*Math.pow(Math.cos(s+(k+.5)/10*(f-s)),I);return _}function mt(I,s){return function(f,_,S,k,z){const q=2*((I-1)/o.ak(Math.cos(o.ae(pe-z))/Math.cos(o.ae(pe)))-1),X=Math.acos(S/k),he=2*g(q-1,0,o.ae(z/2)),me=Math.min(o.ae(pe),X+o.ae(z/2)),Be=g(q-1,Math.min(me,X-o.ae(z/2)),me),Me=Math.atan(_/S),Ue=Math.hypot(_,S);let Xe=f;return Xe+=o.ak(k/Ue/Math.max(.5,Math.cos(o.ae(z/2)))),Xe+=q*o.ak(Math.cos(Me))/2,Xe-=o.ak(Math.max(1,Be/he/s))/2,Xe}}const ht=mt(9.314,3);function Tt(I,s){const f=(s.roundZoom?Math.round:Math.floor)(I.zoom+o.ak(I.tileSize/s.tileSize));return Math.max(0,f)}function it(I,s){const f=I.getCameraFrustum(),_=I.getClippingPlane(),S=I.screenPointToMercatorCoordinate(I.getCameraPoint()),k=o.a1.fromLngLat(I.center,I.elevation);S.z=k.z+Math.cos(I.pitchInRadians)*I.cameraToCenterDistance/I.worldSize;const z=I.getCoveringTilesDetailsProvider(),q=z.allowVariableZoom(I,s),X=Tt(I,s),he=s.minzoom||0,me=s.maxzoom!==void 0?s.maxzoom:I.maxZoom,Be=Math.min(Math.max(0,X),me),Me=Math.pow(2,Be),Ue=[Me*S.x,Me*S.y,0],Xe=[Me*k.x,Me*k.y,0],At=Math.hypot(k.x-S.x,k.y-S.y),ct=Math.abs(k.z-S.z),ft=Math.hypot(At,ct),xt=Pt=>({zoom:0,x:0,y:0,wrap:Pt,fullyVisible:!1}),yt=[],wt=[];if(I.renderWorldCopies&&z.allowWorldCopies())for(let Pt=1;Pt<=3;Pt++)yt.push(xt(-Pt)),yt.push(xt(Pt));for(yt.push(xt(0));yt.length>0;){const Pt=yt.pop(),Ft=Pt.x,Bt=Pt.y;let Yt=Pt.fullyVisible;const dn={x:Ft,y:Bt,z:Pt.zoom},Xt=z.getTileBoundingVolume(dn,Pt.wrap,I.elevation,s);if(!Yt){const Qn=Ze(f,Xt,_);if(Qn===0)continue;Yt=Qn===2}const nn=z.distanceToTile2d(S.x,S.y,dn,Xt);let An=X;q&&(An=(s.calculateTileZoom||ht)(I.zoom+o.ak(I.tileSize/s.tileSize),nn,ct,ft,I.fov)),An=(s.roundZoom?Math.round:Math.floor)(An),An=Math.max(0,An);const qn=Math.min(An,me);if(Pt.wrap=z.getWrap(k,dn,Pt.wrap),Pt.zoom>=qn){if(Pt.zoom<he)continue;const Qn=Be-Pt.zoom,Tn=Ue[0]-.5-(Ft<<Qn),xi=Ue[1]-.5-(Bt<<Qn),hr=s.reparseOverscaled?Math.max(Pt.zoom,An):Pt.zoom;wt.push({tileID:new o.Z(Pt.zoom===me?hr:Pt.zoom,Pt.wrap,Pt.zoom,Ft,Bt),distanceSq:o.al([Xe[0]-.5-Ft,Xe[1]-.5-Bt]),tileDistanceToCamera:Math.sqrt(Tn*Tn+xi*xi)})}else for(let Qn=0;Qn<4;Qn++)yt.push({zoom:Pt.zoom+1,x:(Ft<<1)+Qn%2,y:(Bt<<1)+(Qn>>1),wrap:Pt.wrap,fullyVisible:Yt})}return wt.sort((Pt,Ft)=>Pt.distanceSq-Ft.distanceSq).map(Pt=>Pt.tileID)}const en=o.a2.fromPoints([new o.P(0,0),new o.P(o.$,o.$)]);class Dn extends o.E{constructor(s,f,_){super(),this.id=s,this.dispatcher=_,this.on("data",S=>this._dataHandler(S)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((S,k,z,q)=>{const X=new(In(k.type))(S,k,z,q);if(X.id!==S)throw new Error(`Expected Source id to be ${S} instead of ${X.id}`);return X})(s,f,_,this),this._tiles={},this._cache=new re(0,S=>this._unloadTile(S)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new le,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s in this._tiles){const f=this._tiles[s];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,f,_){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(s),this._tileLoaded(s,f,_)}catch(S){s.state="errored",S.status!==404?this._source.fire(new o.k(S,{tile:s})):this.update(this.transform,this.terrain)}})}_unloadTile(s){this._source.unloadTile&&this._source.unloadTile(s)}_abortTile(s){this._source.abortTile&&this._source.abortTile(s),this._source.fire(new o.l("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const _=this._tiles[f];_.upload(s),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(s=>s.tileID).sort(Mn).map(s=>s.key)}getRenderableIds(s){const f=[];for(const _ in this._tiles)this._isIdRenderable(_,s)&&f.push(this._tiles[_]);return s?f.sort((_,S)=>{const k=_.tileID,z=S.tileID,q=new o.P(k.canonical.x,k.canonical.y)._rotate(-this.transform.bearingInRadians),X=new o.P(z.canonical.x,z.canonical.y)._rotate(-this.transform.bearingInRadians);return k.overscaledZ-z.overscaledZ||X.y-q.y||X.x-q.x}).map(_=>_.tileID.key):f.map(_=>_.tileID).sort(Mn).map(_=>_.key)}hasRenderableParent(s){const f=this.findLoadedParent(s,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(s,f){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(f||!this._tiles[s].holdingForFade())}reload(s){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const f in this._tiles)s?this._reloadTile(f,"expired"):this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")}}_reloadTile(s,f){return o._(this,void 0,void 0,function*(){const _=this._tiles[s];_&&(_.state!=="loading"&&(_.state=f),yield this._loadTile(_,s,f))})}_tileLoaded(s,f,_){s.timeAdded=U.now(),_==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(f,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){const f=this.getRenderableIds();for(let S=0;S<f.length;S++){const k=f[S];if(s.neighboringTiles&&s.neighboringTiles[k]){const z=this.getTileByID(k);_(s,z),_(z,s)}}function _(S,k){S.needsHillshadePrepare=!0,S.needsTerrainPrepare=!0;let z=k.tileID.canonical.x-S.tileID.canonical.x;const q=k.tileID.canonical.y-S.tileID.canonical.y,X=Math.pow(2,S.tileID.canonical.z),he=k.tileID.key;z===0&&q===0||Math.abs(q)>1||(Math.abs(z)>1&&(Math.abs(z+X)===1?z+=X:Math.abs(z-X)===1&&(z-=X)),k.dem&&S.dem&&(S.dem.backfillBorder(k.dem,z,q),S.neighboringTiles&&S.neighboringTiles[he]&&(S.neighboringTiles[he].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,f,_,S){for(const k in this._tiles){let z=this._tiles[k];if(S[k]||!z.hasData()||z.tileID.overscaledZ<=f||z.tileID.overscaledZ>_)continue;let q=z.tileID;for(;z&&z.tileID.overscaledZ>f+1;){const he=z.tileID.scaledTo(z.tileID.overscaledZ-1);z=this._tiles[he.key],z&&z.hasData()&&(q=he)}let X=q;for(;X.overscaledZ>f;)if(X=X.scaledTo(X.overscaledZ-1),s[X.key]||s[X.canonical.key]){S[q.key]=q;break}}}findLoadedParent(s,f){if(s.key in this._loadedParentTiles){const _=this._loadedParentTiles[s.key];return _&&_.tileID.overscaledZ>=f?_:null}for(let _=s.overscaledZ-1;_>=f;_--){const S=s.scaledTo(_),k=this._getLoadedTile(S);if(k)return k}}findLoadedSibling(s){return this._getLoadedTile(s)}_getLoadedTile(s){const f=this._tiles[s.key];return f&&f.hasData()?f:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){const f=Math.ceil(s.width/this._source.tileSize)+1,_=Math.ceil(s.height/this._source.tileSize)+1,S=Math.floor(f*_*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),k=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(k)}handleWrapJump(s){const f=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,f){const _={};for(const S in this._tiles){const k=this._tiles[S];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+f),_[k.tileID.key]=k}this._tiles=_;for(const S in this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(const S in this._tiles)this._setTileReloadTimer(S,this._tiles[S])}}_updateCoveredAndRetainedTiles(s,f,_,S,k,z){const q={},X={},he=Object.keys(s),me=U.now();for(const Be of he){const Me=s[Be],Ue=this._tiles[Be];if(!Ue||Ue.fadeEndTime!==0&&Ue.fadeEndTime<=me)continue;const Xe=this.findLoadedParent(Me,f),At=this.findLoadedSibling(Me),ct=Xe||At||null;ct&&(this._addTile(ct.tileID),q[ct.tileID.key]=ct.tileID),X[Be]=Me}this._retainLoadedChildren(X,S,_,s);for(const Be in q)s[Be]||(this._coveredTiles[Be]=!0,s[Be]=q[Be]);if(z){const Be={},Me={};for(const Ue of k)this._tiles[Ue.key].hasData()?Be[Ue.key]=Ue:Me[Ue.key]=Ue;for(const Ue in Me){const Xe=Me[Ue].children(this._source.maxzoom);this._tiles[Xe[0].key]&&this._tiles[Xe[1].key]&&this._tiles[Xe[2].key]&&this._tiles[Xe[3].key]&&(Be[Xe[0].key]=s[Xe[0].key]=Xe[0],Be[Xe[1].key]=s[Xe[1].key]=Xe[1],Be[Xe[2].key]=s[Xe[2].key]=Xe[2],Be[Xe[3].key]=s[Xe[3].key]=Xe[3],delete Me[Ue])}for(const Ue in Me){const Xe=Me[Ue],At=this.findLoadedParent(Xe,this._source.minzoom),ct=this.findLoadedSibling(Xe),ft=At||ct||null;if(ft){Be[ft.tileID.key]=s[ft.tileID.key]=ft.tileID;for(const xt in Be)Be[xt].isChildOf(ft.tileID)&&delete Be[xt]}}for(const Ue in this._tiles)Be[Ue]||(this._coveredTiles[Ue]=!0)}}update(s,f){if(!this._sourceLoaded||this._paused)return;let _;this.transform=s,this.terrain=f,this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(me=>new o.Z(me.canonical.z,me.wrap,me.canonical.z,me.canonical.x,me.canonical.y)):(_=it(s,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(_=_.filter(me=>this._source.hasTile(me)))):_=[];const S=Tt(s,this._source),k=Math.max(S-Dn.maxOverzooming,this._source.minzoom),z=Math.max(S+Dn.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const me={};for(const Be of _)if(Be.canonical.z>this._source.minzoom){const Me=Be.scaledTo(Be.canonical.z-1);me[Me.key]=Me;const Ue=Be.scaledTo(Math.max(this._source.minzoom,Math.min(Be.canonical.z,5)));me[Ue.key]=Ue}_=_.concat(Object.values(me))}const q=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,q&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const X=this._updateRetainedTiles(_,S);ii(this._source.type)&&this._updateCoveredAndRetainedTiles(X,k,z,S,_,f);for(const me in X)this._tiles[me].clearFadeHold();const he=o.am(this._tiles,X);for(const me of he){const Be=this._tiles[me];Be.hasSymbolBuckets&&!Be.holdingForFade()?Be.setHoldDuration(this.map._fadeDuration):Be.hasSymbolBuckets&&!Be.symbolFadeFinished()||this._removeTile(me)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,f){var _;const S={},k={},z=Math.max(f-Dn.maxOverzooming,this._source.minzoom),q=Math.max(f+Dn.maxUnderzooming,this._source.minzoom),X={};for(const he of s){const me=this._addTile(he);S[he.key]=he,me.hasData()||f<this._source.maxzoom&&(X[he.key]=he)}this._retainLoadedChildren(X,f,q,S);for(const he of s){let me=this._tiles[he.key];if(me.hasData())continue;if(f+1>this._source.maxzoom){const Me=he.children(this._source.maxzoom)[0],Ue=this.getTile(Me);if(Ue&&Ue.hasData()){S[Me.key]=Me;continue}}else{const Me=he.children(this._source.maxzoom);if(S[Me[0].key]&&S[Me[1].key]&&S[Me[2].key]&&S[Me[3].key])continue}let Be=me.wasRequested();for(let Me=he.overscaledZ-1;Me>=z;--Me){const Ue=he.scaledTo(Me);if(k[Ue.key])break;if(k[Ue.key]=!0,me=this.getTile(Ue),!me&&Be&&(me=this._addTile(Ue)),me){const Xe=me.hasData();if((Xe||!(!((_=this.map)===null||_===void 0)&&_.cancelPendingTileRequestsWhileZooming)||Be)&&(S[Ue.key]=Ue),Be=me.wasRequested(),Xe)break}}}return S}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const f=[];let _,S=this._tiles[s].tileID;for(;S.overscaledZ>0;){if(S.key in this._loadedParentTiles){_=this._loadedParentTiles[S.key];break}f.push(S.key);const k=S.scaledTo(S.overscaledZ-1);if(_=this._getLoadedTile(k),_)break;S=k}for(const k of f)this._loadedParentTiles[k]=_}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const s in this._tiles){const f=this._tiles[s].tileID,_=this._getLoadedTile(f);this._loadedSiblingTiles[f.key]=_}}_addTile(s){let f=this._tiles[s.key];if(f)return f;f=this._cache.getAndRemove(s),f&&(this._setTileReloadTimer(s.key,f),f.tileID=s,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,f)));const _=f;return f||(f=new de(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(f,s.key,f.state)),f.uses++,this._tiles[s.key]=f,_||this._source.fire(new o.l("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(s,f){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const _=f.getExpiryTimeout();_&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},_))}refreshTiles(s){for(const f in this._tiles)(this._isIdRenderable(f)||this._tiles[f].state=="errored")&&s.some(_=>_.equals(this._tiles[f].tileID.canonical))&&this._reloadTile(f,"expired")}_removeTile(s){const f=this._tiles[s];f&&(f.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(s){const f=s.sourceDataType;s.dataType==="source"&&f==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&s.dataType==="source"&&f==="content"&&(this.reload(s.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,f,_){const S=[],k=this.transform;if(!k)return S;const z=k.getCoveringTilesDetailsProvider().allowWorldCopies(),q=_?k.getCameraQueryGeometry(s):s,X=Ue=>k.screenPointToMercatorCoordinate(Ue,this.terrain),he=this.transformBbox(s,X,!z),me=this.transformBbox(q,X,!z),Be=this.getIds(),Me=o.a2.fromPoints(me);for(let Ue=0;Ue<Be.length;Ue++){const Xe=this._tiles[Be[Ue]];if(Xe.holdingForFade())continue;const At=z?[Xe.tileID]:[Xe.tileID.unwrapTo(-1),Xe.tileID.unwrapTo(0)],ct=Math.pow(2,k.zoom-Xe.tileID.overscaledZ),ft=f*Xe.queryPadding*o.$/Xe.tileSize/ct;for(const xt of At){const yt=Me.map(wt=>xt.getTilePoint(new o.a1(wt.x,wt.y)));if(yt.expandBy(ft),yt.intersects(en)){const wt=he.map(Ft=>xt.getTilePoint(Ft)),Pt=me.map(Ft=>xt.getTilePoint(Ft));S.push({tile:Xe,tileID:z?xt:xt.unwrapTo(0),queryGeometry:wt,cameraQueryGeometry:Pt,scale:ct})}}}return S}transformBbox(s,f,_){let S=s.map(f);if(_){const k=o.a2.fromPoints(s);k.shrinkBy(.001*Math.min(k.width(),k.height()));const z=k.map(f);o.a2.fromPoints(S).covers(z)||(S=S.map(q=>q.x>.5?new o.a1(q.x-1,q.y,q.z):q))}return S}getVisibleCoordinates(s){const f=this.getRenderableIds(s).map(_=>this._tiles[_].tileID);return this.transform&&this.transform.populateCache(f),f}hasTransition(){if(this._source.hasTransition())return!0;if(ii(this._source.type)){const s=U.now();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=s)return!0}return!1}setFeatureState(s,f,_){this._state.updateState(s=s||"_geojsonTileLayer",f,_)}removeFeatureState(s,f,_){this._state.removeFeatureState(s=s||"_geojsonTileLayer",f,_)}getFeatureState(s,f){return this._state.getState(s=s||"_geojsonTileLayer",f)}setDependencies(s,f,_){const S=this._tiles[s];S&&S.setDependencies(f,_)}reloadTilesForDependencies(s,f){for(const _ in this._tiles)this._tiles[_].hasDependency(s,f)&&this._reloadTile(_,"reloading");this._cache.filter(_=>!_.hasDependency(s,f))}}function Mn(I,s){const f=Math.abs(2*I.wrap)-+(I.wrap<0),_=Math.abs(2*s.wrap)-+(s.wrap<0);return I.overscaledZ-s.overscaledZ||_-f||s.canonical.y-I.canonical.y||s.canonical.x-I.canonical.x}function ii(I){return I==="raster"||I==="image"||I==="video"}Dn.maxOverzooming=10,Dn.maxUnderzooming=3;class Wn{constructor(s,f){this.reset(s,f)}reset(s,f){this.points=s||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=o.ah(s,0,1);let f=1,_=this._distances[f];const S=s*this.paddedLength+this.padding;for(;_<S&&f<this._distances.length;)_=this._distances[++f];const k=f-1,z=this._distances[k],q=_-z,X=q>0?(S-z)/q:0;return this.points[k].mult(1-X).add(this.points[f].mult(X))}}function Hi(I,s){let f=!0;return I==="always"||I!=="never"&&s!=="never"||(f=!1),f}class tr{constructor(s,f,_){const S=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(s/_),this.yCellCount=Math.ceil(f/_);for(let z=0;z<this.xCellCount*this.yCellCount;z++)S.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=f,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,f,_,S,k){this._forEachCell(f,_,S,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(f),this.bboxes.push(_),this.bboxes.push(S),this.bboxes.push(k)}insertCircle(s,f,_,S){this._forEachCell(f-S,_-S,f+S,_+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(f),this.circles.push(_),this.circles.push(S)}_insertBoxCell(s,f,_,S,k,z){this.boxCells[k].push(z)}_insertCircleCell(s,f,_,S,k,z){this.circleCells[k].push(z)}_query(s,f,_,S,k,z,q){if(_<0||s>this.width||S<0||f>this.height)return[];const X=[];if(s<=0&&f<=0&&this.width<=_&&this.height<=S){if(k)return[{key:null,x1:s,y1:f,x2:_,y2:S}];for(let he=0;he<this.boxKeys.length;he++)X.push({key:this.boxKeys[he],x1:this.bboxes[4*he],y1:this.bboxes[4*he+1],x2:this.bboxes[4*he+2],y2:this.bboxes[4*he+3]});for(let he=0;he<this.circleKeys.length;he++){const me=this.circles[3*he],Be=this.circles[3*he+1],Me=this.circles[3*he+2];X.push({key:this.circleKeys[he],x1:me-Me,y1:Be-Me,x2:me+Me,y2:Be+Me})}}else this._forEachCell(s,f,_,S,this._queryCell,X,{hitTest:k,overlapMode:z,seenUids:{box:{},circle:{}}},q);return X}query(s,f,_,S){return this._query(s,f,_,S,!1,null)}hitTest(s,f,_,S,k,z){return this._query(s,f,_,S,!0,k,z).length>0}hitTestCircle(s,f,_,S,k){const z=s-_,q=s+_,X=f-_,he=f+_;if(q<0||z>this.width||he<0||X>this.height)return!1;const me=[];return this._forEachCell(z,X,q,he,this._queryCellCircle,me,{hitTest:!0,overlapMode:S,circle:{x:s,y:f,radius:_},seenUids:{box:{},circle:{}}},k),me.length>0}_queryCell(s,f,_,S,k,z,q,X){const{seenUids:he,hitTest:me,overlapMode:Be}=q,Me=this.boxCells[k];if(Me!==null){const Xe=this.bboxes;for(const At of Me)if(!he.box[At]){he.box[At]=!0;const ct=4*At,ft=this.boxKeys[At];if(s<=Xe[ct+2]&&f<=Xe[ct+3]&&_>=Xe[ct+0]&&S>=Xe[ct+1]&&(!X||X(ft))&&(!me||!Hi(Be,ft.overlapMode))&&(z.push({key:ft,x1:Xe[ct],y1:Xe[ct+1],x2:Xe[ct+2],y2:Xe[ct+3]}),me))return!0}}const Ue=this.circleCells[k];if(Ue!==null){const Xe=this.circles;for(const At of Ue)if(!he.circle[At]){he.circle[At]=!0;const ct=3*At,ft=this.circleKeys[At];if(this._circleAndRectCollide(Xe[ct],Xe[ct+1],Xe[ct+2],s,f,_,S)&&(!X||X(ft))&&(!me||!Hi(Be,ft.overlapMode))){const xt=Xe[ct],yt=Xe[ct+1],wt=Xe[ct+2];if(z.push({key:ft,x1:xt-wt,y1:yt-wt,x2:xt+wt,y2:yt+wt}),me)return!0}}}return!1}_queryCellCircle(s,f,_,S,k,z,q,X){const{circle:he,seenUids:me,overlapMode:Be}=q,Me=this.boxCells[k];if(Me!==null){const Xe=this.bboxes;for(const At of Me)if(!me.box[At]){me.box[At]=!0;const ct=4*At,ft=this.boxKeys[At];if(this._circleAndRectCollide(he.x,he.y,he.radius,Xe[ct+0],Xe[ct+1],Xe[ct+2],Xe[ct+3])&&(!X||X(ft))&&!Hi(Be,ft.overlapMode))return z.push(!0),!0}}const Ue=this.circleCells[k];if(Ue!==null){const Xe=this.circles;for(const At of Ue)if(!me.circle[At]){me.circle[At]=!0;const ct=3*At,ft=this.circleKeys[At];if(this._circlesCollide(Xe[ct],Xe[ct+1],Xe[ct+2],he.x,he.y,he.radius)&&(!X||X(ft))&&!Hi(Be,ft.overlapMode))return z.push(!0),!0}}}_forEachCell(s,f,_,S,k,z,q,X){const he=this._convertToXCellCoord(s),me=this._convertToYCellCoord(f),Be=this._convertToXCellCoord(_),Me=this._convertToYCellCoord(S);for(let Ue=he;Ue<=Be;Ue++)for(let Xe=me;Xe<=Me;Xe++)if(k.call(this,s,f,_,S,this.xCellCount*Xe+Ue,z,q,X))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,f,_,S,k,z){const q=S-s,X=k-f,he=_+z;return he*he>q*q+X*X}_circleAndRectCollide(s,f,_,S,k,z,q){const X=(z-S)/2,he=Math.abs(s-(S+X));if(he>X+_)return!1;const me=(q-k)/2,Be=Math.abs(f-(k+me));if(Be>me+_)return!1;if(he<=X||Be<=me)return!0;const Me=he-X,Ue=Be-me;return Me*Me+Ue*Ue<=_*_}}function Ei(I,s,f){const _=o.L();if(!I){const{vecSouth:Be,vecEast:Me}=ti(s),Ue=C();Ue[0]=Me[0],Ue[1]=Me[1],Ue[2]=Be[0],Ue[3]=Be[1],S=Ue,(me=(z=(k=Ue)[0])*(he=k[3])-(X=k[2])*(q=k[1]))&&(S[0]=he*(me=1/me),S[1]=-q*me,S[2]=-X*me,S[3]=z*me),_[0]=Ue[0],_[1]=Ue[1],_[4]=Ue[2],_[5]=Ue[3]}var S,k,z,q,X,he,me;return o.N(_,_,[1/f,1/f,1]),_}function hi(I,s,f,_){if(I){const S=o.L();if(!s){const{vecSouth:k,vecEast:z}=ti(f);S[0]=z[0],S[1]=z[1],S[4]=k[0],S[5]=k[1]}return o.N(S,S,[_,_,1]),S}return f.pixelsToClipSpaceMatrix}function ti(I){const s=Math.cos(I.rollInRadians),f=Math.sin(I.rollInRadians),_=Math.cos(I.pitchInRadians),S=Math.cos(I.bearingInRadians),k=Math.sin(I.bearingInRadians),z=o.ar();z[0]=-S*_*f-k*s,z[1]=-k*_*f+S*s;const q=o.as(z);q<1e-9?o.at(z):o.au(z,z,1/q);const X=o.ar();X[0]=S*_*s-k*f,X[1]=k*_*s+S*f;const he=o.as(X);return he<1e-9?o.at(X):o.au(X,X,1/he),{vecEast:X,vecSouth:z}}function Qi(I,s,f,_){let S;_?(S=[I,s,_(I,s),1],o.aw(S,S,f)):(S=[I,s,0,1],Tl(S,S,f));const k=S[3];return{point:new o.P(S[0]/k,S[1]/k),signedDistanceFromCamera:k,isOccluded:!1}}function wn(I,s){return .5+I/s*.5}function uo(I,s){return I.x>=-s[0]&&I.x<=s[0]&&I.y>=-s[1]&&I.y<=s[1]}function Vi(I,s,f,_,S,k,z,q,X,he,me,Be,Me){const Ue=f?I.textSizeData:I.iconSizeData,Xe=o.an(Ue,s.transform.zoom),At=[256/s.width*2+1,256/s.height*2+1],ct=f?I.text.dynamicLayoutVertexArray:I.icon.dynamicLayoutVertexArray;ct.clear();const ft=I.lineVertexArray,xt=f?I.text.placedSymbolArray:I.icon.placedSymbolArray,yt=s.transform.width/s.transform.height;let wt=!1;for(let Pt=0;Pt<xt.length;Pt++){const Ft=xt.get(Pt);if(Ft.hidden||Ft.writingMode===o.ao.vertical&&!wt){ts(Ft.numGlyphs,ct);continue}wt=!1;const Bt=new o.P(Ft.anchorX,Ft.anchorY),Yt={getElevation:Me,pitchedLabelPlaneMatrix:_,lineVertexArray:ft,pitchWithMap:k,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:s.transform,tileAnchorPoint:Bt,unwrappedTileID:X,width:he,height:me,translation:Be},dn=kr(Ft.anchorX,Ft.anchorY,Yt);if(!uo(dn.point,At)){ts(Ft.numGlyphs,ct);continue}const Xt=wn(s.transform.cameraToCenterDistance,dn.signedDistanceFromCamera),nn=o.ap(Ue,Xe,Ft),An=k?nn*s.transform.getPitchedTextCorrection(Ft.anchorX,Ft.anchorY,X)/Xt:nn*Xt,qn=Zn({projectionContext:Yt,pitchedLabelPlaneMatrixInverse:S,symbol:Ft,fontSize:An,flip:!1,keepUpright:z,glyphOffsetArray:I.glyphOffsetArray,dynamicLayoutVertexArray:ct,aspectRatio:yt,rotateToLine:q});wt=qn.useVertical,(qn.notEnoughRoom||wt||qn.needsFlipping&&Zn({projectionContext:Yt,pitchedLabelPlaneMatrixInverse:S,symbol:Ft,fontSize:An,flip:!0,keepUpright:z,glyphOffsetArray:I.glyphOffsetArray,dynamicLayoutVertexArray:ct,aspectRatio:yt,rotateToLine:q}).notEnoughRoom)&&ts(Ft.numGlyphs,ct)}f?I.text.dynamicLayoutVertexBuffer.updateData(ct):I.icon.dynamicLayoutVertexBuffer.updateData(ct)}function ya(I,s,f,_,S,k,z,q){const X=k.glyphStartIndex+k.numGlyphs,he=k.lineStartIndex,me=k.lineStartIndex+k.lineLength,Be=s.getoffsetX(k.glyphStartIndex),Me=s.getoffsetX(X-1),Ue=Pa(I*Be,f,_,S,k.segment,he,me,q,z);if(!Ue)return null;const Xe=Pa(I*Me,f,_,S,k.segment,he,me,q,z);return Xe?q.projectionCache.anyProjectionOccluded?null:{first:Ue,last:Xe}:null}function ko(I,s,f,_){return I===o.ao.horizontal&&Math.abs(f.y-s.y)>Math.abs(f.x-s.x)*_?{useVertical:!0}:(I===o.ao.vertical?s.y<f.y:s.x>f.x)?{needsFlipping:!0}:null}function Zn(I){const{projectionContext:s,pitchedLabelPlaneMatrixInverse:f,symbol:_,fontSize:S,flip:k,keepUpright:z,glyphOffsetArray:q,dynamicLayoutVertexArray:X,aspectRatio:he,rotateToLine:me}=I,Be=S/24,Me=_.lineOffsetX*Be,Ue=_.lineOffsetY*Be;let Xe;if(_.numGlyphs>1){const At=_.glyphStartIndex+_.numGlyphs,ct=_.lineStartIndex,ft=_.lineStartIndex+_.lineLength,xt=ya(Be,q,Me,Ue,k,_,me,s);if(!xt)return{notEnoughRoom:!0};const yt=ja(xt.first.point.x,xt.first.point.y,s,f),wt=ja(xt.last.point.x,xt.last.point.y,s,f);if(z&&!k){const Pt=ko(_.writingMode,yt,wt,he);if(Pt)return Pt}Xe=[xt.first];for(let Pt=_.glyphStartIndex+1;Pt<At-1;Pt++){const Ft=Pa(Be*q.getoffsetX(Pt),Me,Ue,k,_.segment,ct,ft,s,me);if(!Ft)return{notEnoughRoom:!0};Xe.push(Ft)}Xe.push(xt.last)}else{if(z&&!k){const ct=Cr(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,ft=_.lineStartIndex+_.segment+1,xt=new o.P(s.lineVertexArray.getx(ft),s.lineVertexArray.gety(ft)),yt=Cr(xt.x,xt.y,s),wt=yt.signedDistanceFromCamera>0?yt.point:Ar(s.tileAnchorPoint,xt,ct,1,s),Pt=ja(ct.x,ct.y,s,f),Ft=ja(wt.x,wt.y,s,f),Bt=ko(_.writingMode,Pt,Ft,he);if(Bt)return Bt}const At=Pa(Be*q.getoffsetX(_.glyphStartIndex),Me,Ue,k,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,s,me);if(!At||s.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Xe=[At]}for(const At of Xe)o.av(X,At.point,At.angle);return{}}function Ar(I,s,f,_,S){const k=I.add(I.sub(s)._unit()),z=Cr(k.x,k.y,S).point,q=f.sub(z);return f.add(q._mult(_/q.mag()))}function zi(I,s,f){const _=s.projectionCache;if(_.projections[I])return _.projections[I];const S=new o.P(s.lineVertexArray.getx(I),s.lineVertexArray.gety(I)),k=Cr(S.x,S.y,s);if(k.signedDistanceFromCamera>0)return _.projections[I]=k.point,_.anyProjectionOccluded=_.anyProjectionOccluded||k.isOccluded,k.point;const z=I-f.direction;return Ar(f.distanceFromAnchor===0?s.tileAnchorPoint:new o.P(s.lineVertexArray.getx(z),s.lineVertexArray.gety(z)),S,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,s)}function Cr(I,s,f){const _=I+f.translation[0],S=s+f.translation[1];let k;return f.pitchWithMap?(k=Qi(_,S,f.pitchedLabelPlaneMatrix,f.getElevation),k.isOccluded=!1):(k=f.transform.projectTileCoordinates(_,S,f.unwrappedTileID,f.getElevation),k.point.x=(.5*k.point.x+.5)*f.width,k.point.y=(.5*-k.point.y+.5)*f.height),k}function ja(I,s,f,_){if(f.pitchWithMap){const S=[I,s,0,1];return o.aw(S,S,_),f.transform.projectTileCoordinates(S[0]/S[3],S[1]/S[3],f.unwrappedTileID,f.getElevation).point}return{x:I/f.width*2-1,y:1-s/f.height*2}}function kr(I,s,f){return f.transform.projectTileCoordinates(I,s,f.unwrappedTileID,f.getElevation)}function ji(I,s,f){return I._unit()._perp()._mult(s*f)}function yl(I,s,f,_,S,k,z,q,X){if(q.projectionCache.offsets[I])return q.projectionCache.offsets[I];const he=f.add(s);if(I+X.direction<_||I+X.direction>=S)return q.projectionCache.offsets[I]=he,he;const me=zi(I+X.direction,q,X),Be=ji(me.sub(f),z,X.direction),Me=f.add(Be),Ue=me.add(Be);return q.projectionCache.offsets[I]=o.ax(k,he,Me,Ue)||he,q.projectionCache.offsets[I]}function Pa(I,s,f,_,S,k,z,q,X){const he=_?I-s:I+s;let me=he>0?1:-1,Be=0;_&&(me*=-1,Be=Math.PI),me<0&&(Be+=Math.PI);let Me,Ue=me>0?k+S:k+S+1;q.projectionCache.cachedAnchorPoint?Me=q.projectionCache.cachedAnchorPoint:(Me=Cr(q.tileAnchorPoint.x,q.tileAnchorPoint.y,q).point,q.projectionCache.cachedAnchorPoint=Me);let Xe,At,ct=Me,ft=Me,xt=0,yt=0;const wt=Math.abs(he),Pt=[];let Ft;for(;xt+yt<=wt;){if(Ue+=me,Ue<k||Ue>=z)return null;xt+=yt,ft=ct,At=Xe;const dn={absOffsetX:wt,direction:me,distanceFromAnchor:xt,previousVertex:ft};if(ct=zi(Ue,q,dn),f===0)Pt.push(ft),Ft=ct.sub(ft);else{let Xt;const nn=ct.sub(ft);Xt=nn.mag()===0?ji(zi(Ue+me,q,dn).sub(ct),f,me):ji(nn,f,me),At||(At=ft.add(Xt)),Xe=yl(Ue,Xt,ct,k,z,At,f,q,dn),Pt.push(At),Ft=Xe.sub(At)}yt=Ft.mag()}const Bt=Ft._mult((wt-xt)/yt)._add(At||ft),Yt=Be+Math.atan2(ct.y-ft.y,ct.x-ft.x);return Pt.push(Bt),{point:Bt,angle:X?Yt:0,path:Pt}}const So=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ts(I,s){for(let f=0;f<I;f++){const _=s.length;s.resize(_+4),s.float32.set(So,3*_)}}function Tl(I,s,f){const _=s[0],S=s[1];return I[0]=f[0]*_+f[4]*S+f[12],I[1]=f[1]*_+f[5]*S+f[13],I[3]=f[3]*_+f[7]*S+f[15],I}const co=100;class QA{constructor(s,f=new tr(s.width+200,s.height+200,25),_=new tr(s.width+200,s.height+200,25)){this.transform=s,this.grid=f,this.ignoredGrid=_,this.pitchFactor=Math.cos(s.pitch*Math.PI/180)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+co,this.screenBottomBoundary=s.height+co,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,f,_,S,k,z,q,X,he,me,Be,Me){const Ue=this.projectAndGetPerspectiveRatio(s.anchorPointX+X[0],s.anchorPointY+X[1],k,me,Me),Xe=_*Ue.perspectiveRatio;let At;if(z||q)At=this._projectCollisionBox(s,Xe,S,k,z,q,X,Ue,me,Be,Me);else{const Ft=Ue.x+(Be?Be.x*Xe:0),Bt=Ue.y+(Be?Be.y*Xe:0);At={allPointsOccluded:!1,box:[Ft+s.x1*Xe,Bt+s.y1*Xe,Ft+s.x2*Xe,Bt+s.y2*Xe]}}const[ct,ft,xt,yt]=At.box,wt=z?At.allPointsOccluded:Ue.isOccluded;let Pt=wt;return Pt||(Pt=Ue.perspectiveRatio<this.perspectiveRatioCutoff),Pt||(Pt=!this.isInsideGrid(ct,ft,xt,yt)),Pt||f!=="always"&&this.grid.hitTest(ct,ft,xt,yt,f,he)?{box:[ct,ft,xt,yt],placeable:!1,offscreen:!1,occluded:wt}:{box:[ct,ft,xt,yt],placeable:!0,offscreen:this.isOffscreen(ct,ft,xt,yt),occluded:wt}}placeCollisionCircles(s,f,_,S,k,z,q,X,he,me,Be,Me,Ue,Xe){const At=[],ct=new o.P(f.anchorX,f.anchorY),ft=this.getPerspectiveRatio(ct.x,ct.y,z,Xe),xt=(he?k*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,z)/ft:k*ft)/o.aB,yt={getElevation:Xe,pitchedLabelPlaneMatrix:q,lineVertexArray:_,pitchWithMap:he,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ct,unwrappedTileID:z,width:this.transform.width,height:this.transform.height,translation:Ue},wt=ya(xt,S,f.lineOffsetX*xt,f.lineOffsetY*xt,!1,f,!1,yt);let Pt=!1,Ft=!1,Bt=!0;if(wt){const Yt=.5*Be*ft+Me,dn=new o.P(-100,-100),Xt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),nn=new Wn,An=wt.first,qn=wt.last;let Qn=[];for(let hr=An.path.length-1;hr>=1;hr--)Qn.push(An.path[hr]);for(let hr=1;hr<qn.path.length;hr++)Qn.push(qn.path[hr]);const Tn=2.5*Yt;if(he){const hr=this.projectPathToScreenSpace(Qn,yt);Qn=hr.some(_o=>_o.signedDistanceFromCamera<=0)?[]:hr.map(_o=>_o.point)}let xi=[];if(Qn.length>0){const hr=Qn[0].clone(),_o=Qn[0].clone();for(let ua=1;ua<Qn.length;ua++)hr.x=Math.min(hr.x,Qn[ua].x),hr.y=Math.min(hr.y,Qn[ua].y),_o.x=Math.max(_o.x,Qn[ua].x),_o.y=Math.max(_o.y,Qn[ua].y);xi=hr.x>=dn.x&&_o.x<=Xt.x&&hr.y>=dn.y&&_o.y<=Xt.y?[Qn]:_o.x<dn.x||hr.x>Xt.x||_o.y<dn.y||hr.y>Xt.y?[]:o.ay([Qn],dn.x,dn.y,Xt.x,Xt.y)}for(const hr of xi){nn.reset(hr,.25*Yt);let _o=0;_o=nn.length<=.5*Yt?1:Math.ceil(nn.paddedLength/Tn)+1;for(let ua=0;ua<_o;ua++){const Fo=ua/Math.max(_o-1,1),La=nn.lerp(Fo),ca=La.x+co,Or=La.y+co;At.push(ca,Or,Yt,0);const Yo=ca-Yt,as=Or-Yt,qa=ca+Yt,Is=Or+Yt;if(Bt=Bt&&this.isOffscreen(Yo,as,qa,Is),Ft=Ft||this.isInsideGrid(Yo,as,qa,Is),s!=="always"&&this.grid.hitTestCircle(ca,Or,Yt,s,me)&&(Pt=!0,!X))return{circles:[],offscreen:!1,collisionDetected:Pt}}}}return{circles:!X&&Pt||!Ft||ft<this.perspectiveRatioCutoff?[]:At,offscreen:Bt,collisionDetected:Pt}}projectPathToScreenSpace(s,f){const _=function(S,k){const z=o.L();return o.aq(z,k.pitchedLabelPlaneMatrix),S.map(q=>{const X=Qi(q.x,q.y,z,k.getElevation),he=k.transform.projectTileCoordinates(X.point.x,X.point.y,k.unwrappedTileID,k.getElevation);return he.point.x=(.5*he.point.x+.5)*k.width,he.point.y=(.5*-he.point.y+.5)*k.height,he})}(s,f);return function(S){let k=0,z=0,q=0,X=0;for(let he=0;he<S.length;he++)S[he].isOccluded?(q=he+1,X=0):(X++,X>z&&(z=X,k=q));return S.slice(k,k+z)}(_)}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[],_=new o.a2;for(const Be of s){const Me=new o.P(Be.x+co,Be.y+co);_.extend(Me),f.push(Me)}const{minX:S,minY:k,maxX:z,maxY:q}=_,X=this.grid.query(S,k,z,q).concat(this.ignoredGrid.query(S,k,z,q)),he={},me={};for(const Be of X){const Me=Be.key;if(he[Me.bucketInstanceId]===void 0&&(he[Me.bucketInstanceId]={}),he[Me.bucketInstanceId][Me.featureIndex])continue;const Ue=[new o.P(Be.x1,Be.y1),new o.P(Be.x2,Be.y1),new o.P(Be.x2,Be.y2),new o.P(Be.x1,Be.y2)];o.az(f,Ue)&&(he[Me.bucketInstanceId][Me.featureIndex]=!0,me[Me.bucketInstanceId]===void 0&&(me[Me.bucketInstanceId]=[]),me[Me.bucketInstanceId].push(Me.featureIndex))}return me}insertCollisionBox(s,f,_,S,k,z){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:S,featureIndex:k,collisionGroupID:z,overlapMode:f},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,f,_,S,k,z){const q=_?this.ignoredGrid:this.grid,X={bucketInstanceId:S,featureIndex:k,collisionGroupID:z,overlapMode:f};for(let he=0;he<s.length;he+=4)q.insertCircle(X,s[he],s[he+1],s[he+2])}projectAndGetPerspectiveRatio(s,f,_,S,k){if(k){let z;S?(z=[s,f,S(s,f),1],o.aw(z,z,k)):(z=[s,f,0,1],Tl(z,z,k));const q=z[3];return{x:(z[0]/q+1)/2*this.transform.width+co,y:(-z[1]/q+1)/2*this.transform.height+co,perspectiveRatio:.5+this.transform.cameraToCenterDistance/q*.5,isOccluded:!1,signedDistanceFromCamera:q}}{const z=this.transform.projectTileCoordinates(s,f,_,S);return{x:(z.point.x+1)/2*this.transform.width+co,y:(1-z.point.y)/2*this.transform.height+co,perspectiveRatio:.5+this.transform.cameraToCenterDistance/z.signedDistanceFromCamera*.5,isOccluded:z.isOccluded,signedDistanceFromCamera:z.signedDistanceFromCamera}}}getPerspectiveRatio(s,f,_,S){const k=this.transform.projectTileCoordinates(s,f,_,S);return .5+this.transform.cameraToCenterDistance/k.signedDistanceFromCamera*.5}isOffscreen(s,f,_,S){return _<co||s>=this.screenRightBoundary||S<co||f>this.screenBottomBoundary}isInsideGrid(s,f,_,S){return _>=0&&s<this.gridRightBoundary&&S>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const s=o.ag([]);return o.M(s,s,[-100,-100,0]),s}_projectCollisionBox(s,f,_,S,k,z,q,X,he,me,Be){let Me=1,Ue=0,Xe=0,At=1;const ct=s.anchorPointX+q[0],ft=s.anchorPointY+q[1];if(z&&!k){const Qn=this.projectAndGetPerspectiveRatio(ct+1,ft,S,he,Be),Tn=Qn.x-X.x,xi=Math.atan((Qn.y-X.y)/Tn)+(Tn<0?Math.PI:0),hr=Math.sin(xi),_o=Math.cos(xi);Me=_o,Ue=hr,Xe=-hr,At=_o}else if(!z&&k){const Qn=ti(this.transform);Me=Qn.vecEast[0],Ue=Qn.vecEast[1],Xe=Qn.vecSouth[0],At=Qn.vecSouth[1]}let xt=X.x,yt=X.y,wt=f;k&&(xt=ct,yt=ft,wt=Math.pow(2,-(this.transform.zoom-_.overscaledZ)),wt*=this.transform.getPitchedTextCorrection(ct,ft,S),me||(wt*=o.ah(.5+X.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),me&&(xt+=Me*me.x*wt+Xe*me.y*wt,yt+=Ue*me.x*wt+At*me.y*wt);const Pt=s.x1*wt,Ft=s.x2*wt,Bt=(Pt+Ft)/2,Yt=s.y1*wt,dn=s.y2*wt,Xt=(Yt+dn)/2,nn=[{offsetX:Pt,offsetY:Yt},{offsetX:Bt,offsetY:Yt},{offsetX:Ft,offsetY:Yt},{offsetX:Ft,offsetY:Xt},{offsetX:Ft,offsetY:dn},{offsetX:Bt,offsetY:dn},{offsetX:Pt,offsetY:dn},{offsetX:Pt,offsetY:Xt}];let An=[];for(const{offsetX:Qn,offsetY:Tn}of nn)An.push(new o.P(xt+Me*Qn+Xe*Tn,yt+Ue*Qn+At*Tn));let qn=!1;if(k){const Qn=An.map(Tn=>this.projectAndGetPerspectiveRatio(Tn.x,Tn.y,S,he,Be));qn=Qn.some(Tn=>!Tn.isOccluded),An=Qn.map(Tn=>new o.P(Tn.x,Tn.y))}else qn=!0;return{box:o.aA(An),allPointsOccluded:!qn}}}class Ka{constructor(s,f,_,S){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?f:-f))):S&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class $i{constructor(s,f,_,S,k){this.text=new Ka(s?s.text:null,f,_,k),this.icon=new Ka(s?s.icon:null,f,S,k)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Mi{constructor(s,f,_){this.text=s,this.icon=f,this.skipFade=_}}class cs{constructor(s,f,_,S,k){this.bucketInstanceId=s,this.featureIndex=f,this.sourceLayerIndex=_,this.bucketIndex=S,this.tileID=k}}class Sa{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const f=++this.maxGroupID;this.collisionGroups[s]={ID:f,predicate:_=>_.collisionGroupID===f}}return this.collisionGroups[s]}}function Zo(I,s,f,_,S){const{horizontalAlign:k,verticalAlign:z}=o.aH(I);return new o.P(-(k-.5)*s+_[0]*S,-(z-.5)*f+_[1]*S)}class $e{constructor(s,f,_,S,k){this.transform=s.clone(),this.terrain=f,this.collisionIndex=new QA(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Sa(S),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(s){const f=this.terrain;return f?(_,S)=>f.getElevation(s,_,S):null}getBucketParts(s,f,_,S){const k=_.getBucket(f),z=_.latestFeatureIndex;if(!k||!z||f.id!==k.layerIds[0])return;const q=_.collisionBoxArray,X=k.layers[0].layout,he=k.layers[0].paint,me=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),Be=_.tileSize/o.$,Me=_.tileID.toUnwrapped(),Ue=X.get("text-rotation-alignment")==="map",Xe=o.aC(_,1,this.transform.zoom),At=o.aD(this.collisionIndex.transform,_,he.get("text-translate"),he.get("text-translate-anchor")),ct=o.aD(this.collisionIndex.transform,_,he.get("icon-translate"),he.get("icon-translate-anchor")),ft=Ei(Ue,this.transform,Xe);this.retainedQueryData[k.bucketInstanceId]=new cs(k.bucketInstanceId,z,k.sourceLayerIndex,k.index,_.tileID);const xt={bucket:k,layout:X,translationText:At,translationIcon:ct,unwrappedTileID:Me,pitchedLabelPlaneMatrix:ft,scale:me,textPixelRatio:Be,holdingForFade:_.holdingForFade(),collisionBoxArray:q,partiallyEvaluatedTextSize:o.an(k.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(S)for(const yt of k.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:Pt,symbolInstanceEnd:Ft}=yt;s.push({sortKey:wt,symbolInstanceStart:Pt,symbolInstanceEnd:Ft,parameters:xt})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:xt})}attemptAnchorPlacement(s,f,_,S,k,z,q,X,he,me,Be,Me,Ue,Xe,At,ct,ft,xt,yt,wt){const Pt=o.aE[s.textAnchor],Ft=[s.textOffset0,s.textOffset1],Bt=Zo(Pt,_,S,Ft,k),Yt=this.collisionIndex.placeCollisionBox(f,Me,X,he,me,q,z,ct,Be.predicate,yt,Bt,wt);if((!xt||this.collisionIndex.placeCollisionBox(xt,Me,X,he,me,q,z,ft,Be.predicate,yt,Bt,wt).placeable)&&Yt.placeable){let dn;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ue.crossTileID]&&this.prevPlacement.placements[Ue.crossTileID]&&this.prevPlacement.placements[Ue.crossTileID].text&&(dn=this.prevPlacement.variableOffsets[Ue.crossTileID].anchor),Ue.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ue.crossTileID]={textOffset:Ft,width:_,height:S,anchor:Pt,textBoxScale:k,prevAnchor:dn},this.markUsedJustification(Xe,Pt,Ue,At),Xe.allowVerticalPlacement&&(this.markUsedOrientation(Xe,At,Ue),this.placedOrientations[Ue.crossTileID]=At),{shift:Bt,placedGlyphBoxes:Yt}}}placeLayerBucketPart(s,f,_){const{bucket:S,layout:k,translationText:z,translationIcon:q,unwrappedTileID:X,pitchedLabelPlaneMatrix:he,textPixelRatio:me,holdingForFade:Be,collisionBoxArray:Me,partiallyEvaluatedTextSize:Ue,collisionGroup:Xe}=s.parameters,At=k.get("text-optional"),ct=k.get("icon-optional"),ft=o.aF(k,"text-overlap","text-allow-overlap"),xt=ft==="always",yt=o.aF(k,"icon-overlap","icon-allow-overlap"),wt=yt==="always",Pt=k.get("text-rotation-alignment")==="map",Ft=k.get("text-pitch-alignment")==="map",Bt=k.get("icon-text-fit")!=="none",Yt=k.get("symbol-z-order")==="viewport-y",dn=xt&&(wt||!S.hasIconData()||ct),Xt=wt&&(xt||!S.hasTextData()||At);!S.collisionArrays&&Me&&S.deserializeCollisionBoxes(Me);const nn=this.retainedQueryData[S.bucketInstanceId].tileID,An=this._getTerrainElevationFunc(nn),qn=this.transform.getFastPathSimpleProjectionMatrix(nn),Qn=(Tn,xi,hr)=>{var _o,ua;if(f[Tn.crossTileID])return;if(Be)return void(this.placements[Tn.crossTileID]=new Mi(!1,!1,!1));let Fo=!1,La=!1,ca=!0,Or=null,Yo={box:null,placeable:!1,offscreen:null,occluded:!1},as={placeable:!1},qa=null,Is=null,Ts=null,qu=0,fc=0,Hl=0;xi.textFeatureIndex?qu=xi.textFeatureIndex:Tn.useRuntimeCollisionCircles&&(qu=Tn.featureIndex),xi.verticalTextFeatureIndex&&(fc=xi.verticalTextFeatureIndex);const Th=xi.textBox;if(Th){const xl=bo=>{let ea=o.ao.horizontal;if(S.allowVerticalPlacement&&!bo&&this.prevPlacement){const dA=this.prevPlacement.placedOrientations[Tn.crossTileID];dA&&(this.placedOrientations[Tn.crossTileID]=dA,ea=dA,this.markUsedOrientation(S,ea,Tn))}return ea},Vu=(bo,ea)=>{if(S.allowVerticalPlacement&&Tn.numVerticalGlyphVertices>0&&xi.verticalTextBox){for(const dA of S.writingModes)if(dA===o.ao.vertical?(Yo=ea(),as=Yo):Yo=bo(),Yo&&Yo.placeable)break}else Yo=bo()},Ml=Tn.textAnchorOffsetStartIndex,Uc=Tn.textAnchorOffsetEndIndex;if(Uc===Ml){const bo=(ea,dA)=>{const Cs=this.collisionIndex.placeCollisionBox(ea,ft,me,nn,X,Ft,Pt,z,Xe.predicate,An,void 0,qn);return Cs&&Cs.placeable&&(this.markUsedOrientation(S,dA,Tn),this.placedOrientations[Tn.crossTileID]=dA),Cs};Vu(()=>bo(Th,o.ao.horizontal),()=>{const ea=xi.verticalTextBox;return S.allowVerticalPlacement&&Tn.numVerticalGlyphVertices>0&&ea?bo(ea,o.ao.vertical):{box:null,offscreen:null}}),xl(Yo&&Yo.placeable)}else{let bo=o.aE[(ua=(_o=this.prevPlacement)===null||_o===void 0?void 0:_o.variableOffsets[Tn.crossTileID])===null||ua===void 0?void 0:ua.anchor];const ea=(Cs,bu,fA)=>{const PA=Cs.x2-Cs.x1,Vl=Cs.y2-Cs.y1,Lc=Tn.textBoxScale,nu=Bt&&yt==="never"?bu:null;let Ha=null,xu=ft==="never"?1:2,Nf="never";bo&&xu++;for(let Mu=0;Mu<xu;Mu++){for(let wu=Ml;wu<Uc;wu++){const Ba=S.textAnchorOffsets.get(wu);if(bo&&Ba.textAnchor!==bo)continue;const iu=this.attemptAnchorPlacement(Ba,Cs,PA,Vl,Lc,Pt,Ft,me,nn,X,Xe,Nf,Tn,S,fA,z,q,nu,An);if(iu&&(Ha=iu.placedGlyphBoxes,Ha&&Ha.placeable))return Fo=!0,Or=iu.shift,Ha}bo?bo=null:Nf=ft}return _&&!Ha&&(Ha={box:this.collisionIndex.placeCollisionBox(Th,"always",me,nn,X,Ft,Pt,z,Xe.predicate,An,void 0,qn).box,offscreen:!1,placeable:!1,occluded:!1}),Ha};Vu(()=>ea(Th,xi.iconBox,o.ao.horizontal),()=>{const Cs=xi.verticalTextBox;return S.allowVerticalPlacement&&(!Yo||!Yo.placeable)&&Tn.numVerticalGlyphVertices>0&&Cs?ea(Cs,xi.verticalIconBox,o.ao.vertical):{box:null,occluded:!0,offscreen:null}}),Yo&&(Fo=Yo.placeable,ca=Yo.offscreen);const dA=xl(Yo&&Yo.placeable);if(!Fo&&this.prevPlacement){const Cs=this.prevPlacement.variableOffsets[Tn.crossTileID];Cs&&(this.variableOffsets[Tn.crossTileID]=Cs,this.markUsedJustification(S,Cs.anchor,Tn,dA))}}}if(qa=Yo,Fo=qa&&qa.placeable,ca=qa&&qa.offscreen,Tn.useRuntimeCollisionCircles){const xl=S.text.placedSymbolArray.get(Tn.centerJustifiedTextSymbolIndex),Vu=o.ap(S.textSizeData,Ue,xl),Ml=k.get("text-padding");Is=this.collisionIndex.placeCollisionCircles(ft,xl,S.lineVertexArray,S.glyphOffsetArray,Vu,X,he,_,Ft,Xe.predicate,Tn.collisionCircleDiameter,Ml,z,An),Is.circles.length&&Is.collisionDetected&&!_&&o.w("Collisions detected, but collision boxes are not shown"),Fo=xt||Is.circles.length>0&&!Is.collisionDetected,ca=ca&&Is.offscreen}if(xi.iconFeatureIndex&&(Hl=xi.iconFeatureIndex),xi.iconBox){const xl=Vu=>this.collisionIndex.placeCollisionBox(Vu,yt,me,nn,X,Ft,Pt,q,Xe.predicate,An,Bt&&Or?Or:void 0,qn);as&&as.placeable&&xi.verticalIconBox?(Ts=xl(xi.verticalIconBox),La=Ts.placeable):(Ts=xl(xi.iconBox),La=Ts.placeable),ca=ca&&Ts.offscreen}const oh=At||Tn.numHorizontalGlyphVertices===0&&Tn.numVerticalGlyphVertices===0,Hu=ct||Tn.numIconVertices===0;oh||Hu?Hu?oh||(La=La&&Fo):Fo=La&&Fo:La=Fo=La&&Fo;const Kc=La&&Ts.placeable;if(Fo&&qa.placeable&&this.collisionIndex.insertCollisionBox(qa.box,ft,k.get("text-ignore-placement"),S.bucketInstanceId,as&&as.placeable&&fc?fc:qu,Xe.ID),Kc&&this.collisionIndex.insertCollisionBox(Ts.box,yt,k.get("icon-ignore-placement"),S.bucketInstanceId,Hl,Xe.ID),Is&&Fo&&this.collisionIndex.insertCollisionCircles(Is.circles,ft,k.get("text-ignore-placement"),S.bucketInstanceId,qu,Xe.ID),_&&this.storeCollisionData(S.bucketInstanceId,hr,xi,qa,Ts,Is),Tn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(S.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Tn.crossTileID]=new Mi((Fo||dn)&&!qa?.occluded,(La||Xt)&&!Ts?.occluded,ca||S.justReloaded),f[Tn.crossTileID]=!0};if(Yt){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Tn=S.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let xi=Tn.length-1;xi>=0;--xi){const hr=Tn[xi];Qn(S.symbolInstances.get(hr),S.collisionArrays[hr],hr)}}else for(let Tn=s.symbolInstanceStart;Tn<s.symbolInstanceEnd;Tn++)Qn(S.symbolInstances.get(Tn),S.collisionArrays[Tn],Tn);S.justReloaded=!1}storeCollisionData(s,f,_,S,k,z){if(_.textBox||_.iconBox){let q,X;this.collisionBoxArrays.has(s)?q=this.collisionBoxArrays.get(s):(q=new Map,this.collisionBoxArrays.set(s,q)),q.has(f)?X=q.get(f):(X={text:null,icon:null},q.set(f,X)),_.textBox&&(X.text=S.box),_.iconBox&&(X.icon=k.box)}if(z){let q=this.collisionCircleArrays[s];q===void 0&&(q=this.collisionCircleArrays[s]=[]);for(let X=0;X<z.circles.length;X+=4)q.push(z.circles[X+0]-co),q.push(z.circles[X+1]-co),q.push(z.circles[X+2]),q.push(z.collisionDetected?1:0)}}markUsedJustification(s,f,_,S){let k;k=S===o.ao.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[o.aG(f)];const z=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const q of z)q>=0&&(s.text.placedSymbolArray.get(q).crossTileID=k>=0&&q!==k?0:_.crossTileID)}markUsedOrientation(s,f,_){const S=f===o.ao.horizontal||f===o.ao.horizontalOnly?f:0,k=f===o.ao.vertical?f:0,z=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const q of z)s.text.placedSymbolArray.get(q).placedOrientation=S;_.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let _=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const S=f?f.symbolFadeChange(s):1,k=f?f.opacities:{},z=f?f.variableOffsets:{},q=f?f.placedOrientations:{};for(const X in this.placements){const he=this.placements[X],me=k[X];me?(this.opacities[X]=new $i(me,S,he.text,he.icon),_=_||he.text!==me.text.placed||he.icon!==me.icon.placed):(this.opacities[X]=new $i(null,S,he.text,he.icon,he.skipFade),_=_||he.text||he.icon)}for(const X in k){const he=k[X];if(!this.opacities[X]){const me=new $i(he,S,!1,!1);me.isHidden()||(this.opacities[X]=me,_=_||he.text.placed||he.icon.placed)}}for(const X in z)this.variableOffsets[X]||!this.opacities[X]||this.opacities[X].isHidden()||(this.variableOffsets[X]=z[X]);for(const X in q)this.placedOrientations[X]||!this.opacities[X]||this.opacities[X].isHidden()||(this.placedOrientations[X]=q[X]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:s)}updateLayerOpacities(s,f){const _={};for(const S of f){const k=S.getBucket(s);k&&S.latestFeatureIndex&&s.id===k.layerIds[0]&&this.updateBucketOpacities(k,S.tileID,_,S.collisionBoxArray)}}updateBucketOpacities(s,f,_,S){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const k=s.layers[0],z=k.layout,q=new $i(null,0,!1,!1,!0),X=z.get("text-allow-overlap"),he=z.get("icon-allow-overlap"),me=k._unevaluatedLayout.hasValue("text-variable-anchor")||k._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Be=z.get("text-rotation-alignment")==="map",Me=z.get("text-pitch-alignment")==="map",Ue=z.get("icon-text-fit")!=="none",Xe=new $i(null,0,X&&(he||!s.hasIconData()||z.get("icon-optional")),he&&(X||!s.hasTextData()||z.get("text-optional")),!0);!s.collisionArrays&&S&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(S);const At=(ft,xt,yt)=>{for(let wt=0;wt<xt/4;wt++)ft.opacityVertexArray.emplaceBack(yt);ft.hasVisibleVertices=ft.hasVisibleVertices||yt!==YA},ct=this.collisionBoxArrays.get(s.bucketInstanceId);for(let ft=0;ft<s.symbolInstances.length;ft++){const xt=s.symbolInstances.get(ft),{numHorizontalGlyphVertices:yt,numVerticalGlyphVertices:wt,crossTileID:Pt}=xt;let Ft=this.opacities[Pt];_[Pt]?Ft=q:Ft||(Ft=Xe,this.opacities[Pt]=Ft),_[Pt]=!0;const Bt=xt.numIconVertices>0,Yt=this.placedOrientations[xt.crossTileID],dn=Yt===o.ao.vertical,Xt=Yt===o.ao.horizontal||Yt===o.ao.horizontalOnly;if(yt>0||wt>0){const An=zs(Ft.text);At(s.text,yt,dn?YA:An),At(s.text,wt,Xt?YA:An);const qn=Ft.text.isHidden();[xt.rightJustifiedTextSymbolIndex,xt.centerJustifiedTextSymbolIndex,xt.leftJustifiedTextSymbolIndex].forEach(xi=>{xi>=0&&(s.text.placedSymbolArray.get(xi).hidden=qn||dn?1:0)}),xt.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(xt.verticalPlacedTextSymbolIndex).hidden=qn||Xt?1:0);const Qn=this.variableOffsets[xt.crossTileID];Qn&&this.markUsedJustification(s,Qn.anchor,xt,Yt);const Tn=this.placedOrientations[xt.crossTileID];Tn&&(this.markUsedJustification(s,"left",xt,Tn),this.markUsedOrientation(s,Tn,xt))}if(Bt){const An=zs(Ft.icon),qn=!(Ue&&xt.verticalPlacedIconSymbolIndex&&dn);xt.placedIconSymbolIndex>=0&&(At(s.icon,xt.numIconVertices,qn?An:YA),s.icon.placedSymbolArray.get(xt.placedIconSymbolIndex).hidden=Ft.icon.isHidden()),xt.verticalPlacedIconSymbolIndex>=0&&(At(s.icon,xt.numVerticalIconVertices,qn?YA:An),s.icon.placedSymbolArray.get(xt.verticalPlacedIconSymbolIndex).hidden=Ft.icon.isHidden())}const nn=ct&&ct.has(ft)?ct.get(ft):{text:null,icon:null};if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const An=s.collisionArrays[ft];if(An){let qn=new o.P(0,0);if(An.textBox||An.verticalTextBox){let Qn=!0;if(me){const Tn=this.variableOffsets[Pt];Tn?(qn=Zo(Tn.anchor,Tn.width,Tn.height,Tn.textOffset,Tn.textBoxScale),Be&&qn._rotate(Me?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Qn=!1}if(An.textBox||An.verticalTextBox){let Tn;An.textBox&&(Tn=dn),An.verticalTextBox&&(Tn=Xt),Et(s.textCollisionBox.collisionVertexArray,Ft.text.placed,!Qn||Tn,nn.text,qn.x,qn.y)}}if(An.iconBox||An.verticalIconBox){const Qn=!!(!Xt&&An.verticalIconBox);let Tn;An.iconBox&&(Tn=Qn),An.verticalIconBox&&(Tn=!Qn),Et(s.iconCollisionBox.collisionVertexArray,Ft.icon.placed,Tn,nn.icon,Ue?qn.x:0,Ue?qn.y:0)}}}}if(s.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);s.bucketInstanceId in this.collisionCircleArrays&&(s.collisionCircleArray=this.collisionCircleArrays[s.bucketInstanceId],delete this.collisionCircleArrays[s.bucketInstanceId])}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,f){const _=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*_>s}setStale(){this.stale=!0}}function Et(I,s,f,_,S,k){_&&_.length!==0||(_=[0,0,0,0]);const z=_[0]-co,q=_[1]-co,X=_[2]-co,he=_[3]-co;I.emplaceBack(s?1:0,f?1:0,S||0,k||0,z,q),I.emplaceBack(s?1:0,f?1:0,S||0,k||0,X,q),I.emplaceBack(s?1:0,f?1:0,S||0,k||0,X,he),I.emplaceBack(s?1:0,f?1:0,S||0,k||0,z,he)}const xn=Math.pow(2,25),Gn=Math.pow(2,24),rn=Math.pow(2,17),si=Math.pow(2,16),to=Math.pow(2,9),Eo=Math.pow(2,8),hs=Math.pow(2,1);function zs(I){if(I.opacity===0&&!I.placed)return 0;if(I.opacity===1&&I.placed)return 4294967295;const s=I.placed?1:0,f=Math.floor(127*I.opacity);return f*xn+s*Gn+f*rn+s*si+f*to+s*Eo+f*hs+s}const YA=0;class Yi{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,f,_,S,k){const z=this._bucketParts;for(;this._currentTileIndex<s.length;)if(f.getBucketParts(z,S,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,z.sort((q,X)=>q.sortKey-X.sortKey));this._currentPartIndex<z.length;)if(f.placeLayerBucketPart(z[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,k())return!0;return!1}}class Pu{constructor(s,f,_,S,k,z,q,X){this.placement=new $e(s,f,z,q,X),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=S,this._showCollisionBoxes=k,this._done=!1}isDone(){return this._done}continuePlacement(s,f,_){const S=U.now(),k=()=>!this._forceFullPlacement&&U.now()-S>2;for(;this._currentPlacementIndex>=0;){const z=f[s[this._currentPlacementIndex]],q=this.placement.collisionIndex.transform.zoom;if(z.type==="symbol"&&(!z.minzoom||z.minzoom<=q)&&(!z.maxzoom||z.maxzoom>q)){if(this._inProgressLayer||(this._inProgressLayer=new Yi(z)),this._inProgressLayer.continuePlacement(_[z.source],this.placement,this._showCollisionBoxes,z,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const bA=512/o.$/2;class vl{constructor(s,f,_){this.tileID=s,this.bucketInstanceId=_,this._symbolsByKey={};const S=new Map;for(let k=0;k<f.length;k++){const z=f.get(k),q=z.key,X=S.get(q);X?X.push(z):S.set(q,[z])}for(const[k,z]of S){const q={positions:z.map(X=>({x:Math.floor(X.anchorX*bA),y:Math.floor(X.anchorY*bA)})),crossTileIDs:z.map(X=>X.crossTileID)};if(q.positions.length>128){const X=new o.aI(q.positions.length,16,Uint16Array);for(const{x:he,y:me}of q.positions)X.add(he,me);X.finish(),delete q.positions,q.index=X}this._symbolsByKey[k]=q}}getScaledCoordinates(s,f){const{x:_,y:S,z:k}=this.tileID.canonical,{x:z,y:q,z:X}=f.canonical,he=bA/Math.pow(2,X-k),me=(q*o.$+s.anchorY)*he,Be=S*o.$*bA;return{x:Math.floor((z*o.$+s.anchorX)*he-_*o.$*bA),y:Math.floor(me-Be)}}findMatches(s,f,_){const S=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let k=0;k<s.length;k++){const z=s.get(k);if(z.crossTileID)continue;const q=this._symbolsByKey[z.key];if(!q)continue;const X=this.getScaledCoordinates(z,f);if(q.index){const he=q.index.range(X.x-S,X.y-S,X.x+S,X.y+S).sort();for(const me of he){const Be=q.crossTileIDs[me];if(!_[Be]){_[Be]=!0,z.crossTileID=Be;break}}}else if(q.positions)for(let he=0;he<q.positions.length;he++){const me=q.positions[he],Be=q.crossTileIDs[he];if(Math.abs(me.x-X.x)<=S&&Math.abs(me.y-X.y)<=S&&!_[Be]){_[Be]=!0,z.crossTileID=Be;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:s})=>s)}}class Es{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Mc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const f=Math.round((s-this.lng)/360);if(f!==0)for(const _ in this.indexes){const S=this.indexes[_],k={};for(const z in S){const q=S[z];q.tileID=q.tileID.unwrapTo(q.tileID.wrap+f),k[q.tileID.key]=q}this.indexes[_]=k}this.lng=s}addBucket(s,f,_){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let k=0;k<f.symbolInstances.length;k++)f.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const S=this.usedCrossTileIDs[s.overscaledZ];for(const k in this.indexes){const z=this.indexes[k];if(Number(k)>s.overscaledZ)for(const q in z){const X=z[q];X.tileID.isChildOf(s)&&X.findMatches(f.symbolInstances,s,S)}else{const q=z[s.scaledTo(Number(k)).key];q&&q.findMatches(f.symbolInstances,s,S)}}for(let k=0;k<f.symbolInstances.length;k++){const z=f.symbolInstances.get(k);z.crossTileID||(z.crossTileID=_.generate(),S[z.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new vl(s,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(s,f){for(const _ of f.getCrossTileIDsLists())for(const S of _)delete this.usedCrossTileIDs[s][S]}removeStaleBuckets(s){let f=!1;for(const _ in this.indexes){const S=this.indexes[_];for(const k in S)s[S[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,S[k]),delete S[k],f=!0)}return f}}class Hs{constructor(){this.layerIndexes={},this.crossTileIDs=new Es,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,f,_){let S=this.layerIndexes[s.id];S===void 0&&(S=this.layerIndexes[s.id]=new Mc);let k=!1;const z={};S.handleWrapJump(_);for(const q of f){const X=q.getBucket(s);X&&s.id===X.layerIds[0]&&(X.bucketInstanceId||(X.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(q.tileID,X,this.crossTileIDs)&&(k=!0),z[X.bucketInstanceId]=!0)}return S.removeStaleBuckets(z)&&(k=!0),k}pruneUnusedLayers(s){const f={};s.forEach(_=>{f[_]=!0});for(const _ in this.layerIndexes)f[_]||delete this.layerIndexes[_]}}var Xo="void main() {fragColor=vec4(1.0);}";const Do={prelude:fr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:fr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:fr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:fr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:fr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:fr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:fr(Xo,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:fr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:fr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:fr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:fr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:fr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:fr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:fr(Xo,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:fr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:fr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:fr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:fr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:fr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:fr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:fr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:fr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:fr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:fr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:fr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:fr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:fr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:fr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:fr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:fr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:fr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:fr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:fr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:fr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:fr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:fr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function fr(I,s){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=s.match(/in ([\w]+) ([\w]+)/g),S=I.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),z=k?k.concat(S):S,q={};return{fragmentSource:I=I.replace(f,(X,he,me,Be,Me)=>(q[Me]=!0,he==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
in ${me} ${Be} ${Me};
#else
uniform ${me} ${Be} u_${Me};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Me}
    ${me} ${Be} ${Me} = u_${Me};
#endif
`)),vertexSource:s=s.replace(f,(X,he,me,Be,Me)=>{const Ue=Be==="float"?"vec2":"vec4",Xe=Me.match(/color/)?"color":Ue;return q[Me]?he==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
in ${me} ${Ue} a_${Me};
out ${me} ${Be} ${Me};
#else
uniform ${me} ${Be} u_${Me};
#endif
`:Xe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = a_${Me};
#else
    ${me} ${Be} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = unpack_mix_${Xe}(a_${Me}, u_${Me}_t);
#else
    ${me} ${Be} ${Me} = u_${Me};
#endif
`:he==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
in ${me} ${Ue} a_${Me};
#else
uniform ${me} ${Be} u_${Me};
#endif
`:Xe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${me} ${Be} ${Me} = a_${Me};
#else
    ${me} ${Be} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${me} ${Be} ${Me} = unpack_mix_${Xe}(a_${Me}, u_${Me}_t);
#else
    ${me} ${Be} ${Me} = u_${Me};
#endif
`}),staticAttributes:_,staticUniforms:z}}class Ul{constructor(s,f,_){this.vertexBuffer=s,this.indexBuffer=f,this.segments=_}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var va=o.aJ([{name:"a_pos",type:"Int16",components:2}]);const Ll="#define PROJECTION_MERCATOR",xA="mercator";class Mr{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return xA}get shaderDefine(){return Ll}get shaderPreludeCode(){return Do.projectionMercator}get vertexShaderPreludeCode(){return Do.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aK.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(s){}getMeshFromTileID(s,f,_,S,k){if(this._cachedMesh)return this._cachedMesh;const z=new o.aL;z.emplaceBack(0,0),z.emplaceBack(o.$,0),z.emplaceBack(0,o.$),z.emplaceBack(o.$,o.$);const q=s.createVertexBuffer(z,va.members),X=o.aM.simpleSegment(0,0,4,2),he=new o.aN;he.emplaceBack(1,0,2),he.emplaceBack(1,2,3);const me=s.createIndexBuffer(he);return this._cachedMesh=new Ul(q,me,X),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(s){}}class rA{constructor(s=0,f=0,_=0,S=0){if(isNaN(s)||s<0||isNaN(f)||f<0||isNaN(_)||_<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=f,this.left=_,this.right=S}interpolate(s,f,_){return f.top!=null&&s.top!=null&&(this.top=o.C.number(s.top,f.top,_)),f.bottom!=null&&s.bottom!=null&&(this.bottom=o.C.number(s.bottom,f.bottom,_)),f.left!=null&&s.left!=null&&(this.left=o.C.number(s.left,f.left,_)),f.right!=null&&s.right!=null&&(this.right=o.C.number(s.right,f.right,_)),this}getCenter(s,f){const _=o.ah((this.left+s-this.right)/2,0,s),S=o.ah((this.top+f-this.bottom)/2,0,f);return new o.P(_,S)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new rA(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function hu(I,s){if(!I.renderWorldCopies||I.lngRange)return;const f=s.lng-I.center.lng;s.lng+=f>180?-360:f<-180?360:0}function No(I){return Math.max(0,Math.floor(I))}class Bo{constructor(s,f,_,S,k,z){this._callbacks=s,this._tileSize=512,this._renderWorldCopies=z===void 0||!!z,this._minZoom=f||0,this._maxZoom=_||22,this._minPitch=S??0,this._maxPitch=k??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=No(this._zoom),this._scale=o.af(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new rA,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(s,f,_){this._latRange=s.latRange,this._lngRange=s.lngRange,this._width=s.width,this._height=s.height,this._center=s.center,this._elevation=s.elevation,this._minElevationForCurrentTile=s.minElevationForCurrentTile,this._zoom=s.zoom,this._tileZoom=No(this._zoom),this._scale=o.af(this._zoom),this._bearingInRadians=s.bearingInRadians,this._fovInRadians=s.fovInRadians,this._pitchInRadians=s.pitchInRadians,this._rollInRadians=s.rollInRadians,this._unmodified=s.unmodified,this._edgeInsets=new rA(s.padding.top,s.padding.bottom,s.padding.left,s.padding.right),this._minZoom=s.minZoom,this._maxZoom=s.maxZoom,this._minPitch=s.minPitch,this._maxPitch=s.maxPitch,this._renderWorldCopies=s.renderWorldCopies,this._cameraToCenterDistance=s.cameraToCenterDistance,this._nearZ=s.nearZ,this._farZ=s.farZ,this._autoCalculateNearFarZ=!_&&s.autoCalculateNearFarZ,f&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(s){this._minElevationForCurrentTile=s}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(s){this._minZoom!==s&&(this._minZoom=s,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(s){this._minPitch!==s&&(this._minPitch=s,this.setPitch(Math.max(this.pitch,s)))}get maxPitch(){return this._maxPitch}setMaxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.setPitch(Math.min(this.pitch,s)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(s){const f=o.aO(s,-180,180)*Math.PI/180;var _,S,k,z,q,X,he,me,Be;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=C(),_=this._rotationMatrix,k=-this._bearingInRadians,z=(S=this._rotationMatrix)[0],q=S[1],X=S[2],he=S[3],me=Math.sin(k),Be=Math.cos(k),_[0]=z*Be+X*me,_[1]=q*Be+he*me,_[2]=z*-me+X*Be,_[3]=q*-me+he*Be)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(s){const f=o.ah(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(s){const f=s/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aP(this._fovInRadians)}setFov(s){s=o.ah(s,.1,150),this.fov!==s&&(this._unmodified=!1,this._fovInRadians=o.ae(s),this._calcMatrices())}get zoom(){return this._zoom}setZoom(s){const f=this.getConstrained(this._center,s).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=o.af(f),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(s,f){this._autoCalculateNearFarZ=!1,this._nearZ=s,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,f,_){this._unmodified=!1,this._edgeInsets.interpolate(s,f,_),this._constrain(),this._calcMatrices()}resize(s,f,_=!0){this._width=s,this._height=f,_&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new _t([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(s){s?(this._lngRange=[s.getWest(),s.getEast()],this._latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-o.ai,o.ai])}getConstrained(s,f){return this._callbacks.getConstrained(s,f)}getCameraQueryGeometry(s,f){if(f.length===1)return[f[0],s];{const{minX:_,minY:S,maxX:k,maxY:z}=o.a2.fromPoints(f).extend(s);return[new o.P(_,S),new o.P(k,S),new o.P(k,z),new o.P(_,z),new o.P(_,S)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const s=this._unmodified,{center:f,zoom:_}=this.getConstrained(this.center,this.zoom);this.setCenter(f),this.setZoom(_),this._unmodified=s,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let s=o.ag(new Float64Array(16));o.N(s,s,[this._width/2,-this._height/2,1]),o.M(s,s,[1,-1,0]),this._clipSpaceToPixelsMatrix=s,s=o.ag(new Float64Array(16)),o.N(s,s,[1,-1,1]),o.M(s,s,[-1,-1,0]),o.N(s,s,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=s,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(s,f,_,S){const k=_!==void 0?_:this.bearing,z=S=S!==void 0?S:this.pitch,q=o.a1.fromLngLat(s,f),X=-Math.cos(o.ae(z)),he=Math.sin(o.ae(z)),me=he*Math.sin(o.ae(k)),Be=-he*Math.cos(o.ae(k));let Me=this.elevation;const Ue=f-Me;let Xe;X*Ue>=0||Math.abs(X)<.1?(Xe=1e4,Me=f+Xe*X):Xe=-Ue/X;let At,ct,ft=o.aQ(1,q.y),xt=0;do{if(xt+=1,xt>10)break;ct=Xe/ft,At=new o.a1(q.x+me*ct,q.y+Be*ct),ft=1/At.meterInMercatorCoordinateUnits()}while(Math.abs(Xe-ct*ft)>1e-12);return{center:At.toLngLat(),elevation:Me,zoom:o.ak(this.height/2/Math.tan(this.fovInRadians/2)/ct/this.tileSize)}}recalculateZoomAndCenter(s){if(this.elevation-s==0)return;const f=o.aj(1,this.center.lat)*this.worldSize,_=this.cameraToCenterDistance/f,S=o.a1.fromLngLat(this.center,this.elevation),k=De(this.center,this.elevation,this.pitch,this.bearing,_);this._elevation=s;const z=this.calculateCenterFromCameraLngLatAlt(k.toLngLat(),o.aQ(k.z,S.y),this.bearing,this.pitch);this._elevation=z.elevation,this._center=z.center,this.setZoom(z.zoom)}getCameraPoint(){const s=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(s*Math.sin(this.rollInRadians),s*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const s=o.aj(1,this.center.lat)*this.worldSize;return De(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/s).toLngLat()}getMercatorTileCoordinates(s){if(!s)return[0,0,1,1];const f=s.canonical.z>=0?1<<s.canonical.z:Math.pow(2,s.canonical.z);return[s.canonical.x/f,s.canonical.y/f,1/f/o.$,1/f/o.$]}}class Na{constructor(s,f){this.min=s,this.max=f,this.center=o.aR([],o.aS([],this.min,this.max),.5)}quadrant(s){const f=[s%2==0,s<2],_=o.aT(this.min),S=o.aT(this.max);for(let k=0;k<f.length;k++)_[k]=f[k]?this.min[k]:this.center[k],S[k]=f[k]?this.center[k]:this.max[k];return S[2]=this.max[2],new Na(_,S)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersectsFrustum(s){let f=!0;for(let _=0;_<s.planes.length;_++){const S=this.intersectsPlane(s.planes[_]);if(S===0)return 0;S===1&&(f=!1)}return f?2:s.aabb.min[0]>this.max[0]||s.aabb.min[1]>this.max[1]||s.aabb.min[2]>this.max[2]||s.aabb.max[0]<this.min[0]||s.aabb.max[1]<this.min[1]||s.aabb.max[2]<this.min[2]?0:1}intersectsPlane(s){let f=s[3],_=s[3];for(let S=0;S<3;S++)s[S]>0?(f+=s[S]*this.min[S],_+=s[S]*this.max[S]):(_+=s[S]*this.min[S],f+=s[S]*this.max[S]);return f>=0?2:_<0?0:1}}class Ea{distanceToTile2d(s,f,_,S){const k=S.distanceX([s,f]),z=S.distanceY([s,f]);return Math.hypot(k,z)}getWrap(s,f,_){return _}getTileBoundingVolume(s,f,_,S){var k,z;let q=0,X=0;if(S?.terrain){const me=new o.Z(s.z,f,s.z,s.x,s.y),Be=S.terrain.getMinMaxElevation(me);q=(k=Be.minElevation)!==null&&k!==void 0?k:Math.min(0,_),X=(z=Be.maxElevation)!==null&&z!==void 0?z:Math.max(0,_)}const he=1<<s.z;return new Na([f+s.x/he,s.y/he,q],[f+(s.x+1)/he,(s.y+1)/he,X])}allowVariableZoom(s,f){const _=s.fov*(Math.abs(Math.cos(s.rollInRadians))*s.height+Math.abs(Math.sin(s.rollInRadians))*s.width)/s.height,S=o.ah(78.5-_/2,0,60);return!!f.terrain||s.pitch>S}allowWorldCopies(){return!0}prepareNextFrame(){}}class sa{constructor(s,f,_){this.points=s,this.planes=f,this.aabb=_}static fromInvProjectionMatrix(s,f=1,_=0,S,k){const z=k?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],q=Math.pow(2,_),X=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Me=>function(Ue,Xe,At,ct){const ft=o.aw([],Ue,Xe),xt=1/ft[3]/At*ct;return o.aY(ft,ft,[xt,xt,1/ft[3],xt])}(Me,s,f,q));S&&function(Me,Ue,Xe,At){const ct=At?4:0,ft=At?0:4;let xt=0;const yt=[],wt=[];for(let Bt=0;Bt<4;Bt++){const Yt=o.aU([],Me[Bt+ft],Me[Bt+ct]),dn=o.aZ(Yt);o.aR(Yt,Yt,1/dn),yt.push(dn),wt.push(Yt)}for(let Bt=0;Bt<4;Bt++){const Yt=o.a_(Me[Bt+ct],wt[Bt],Xe);xt=Yt!==null&&Yt>=0?Math.max(xt,Yt):Math.max(xt,yt[Bt])}const Pt=function(Bt,Yt){const dn=o.aU([],Bt[Yt[0]],Bt[Yt[1]]),Xt=o.aU([],Bt[Yt[2]],Bt[Yt[1]]),nn=[0,0,0,0];return o.aV(nn,o.aW([],dn,Xt)),nn[3]=-o.aX(nn,Bt[Yt[0]]),nn}(Me,Ue),Ft=function(Bt,Yt){const dn=o.a$(Bt),Xt=o.b0([],Bt,1/dn),nn=o.aU([],Yt,o.aR([],Xt,o.aX(Yt,Xt))),An=o.a$(nn);if(An>0){const qn=Math.sqrt(1-Xt[3]*Xt[3]),Qn=o.aR([],Xt,-Xt[3]),Tn=o.aS([],Qn,o.aR([],nn,qn/An));return o.b1(Yt,Tn)}return null}(Xe,Pt);if(Ft!==null){const Bt=Ft/o.aX(wt[0],Pt);xt=Math.min(xt,Bt)}for(let Bt=0;Bt<4;Bt++){const Yt=Math.min(xt,yt[Bt]);Me[Bt+ft]=[Me[Bt+ct][0]+wt[Bt][0]*Yt,Me[Bt+ct][1]+wt[Bt][1]*Yt,Me[Bt+ct][2]+wt[Bt][2]*Yt,1]}}(X,z[0],S,k);const he=z.map(Me=>{const Ue=o.aU([],X[Me[0]],X[Me[1]]),Xe=o.aU([],X[Me[2]],X[Me[1]]),At=o.aV([],o.aW([],Ue,Xe)),ct=-o.aX(At,X[Me[1]]);return At.concat(ct)}),me=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],Be=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Me of X)for(let Ue=0;Ue<3;Ue++)me[Ue]=Math.min(me[Ue],Me[Ue]),Be[Ue]=Math.max(Be[Ue],Me[Ue]);return new sa(X,he,new Na(me,Be))}}class Rr{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,f,_){return this._helper.interpolatePadding(s,f,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,f,_=!0){this._helper.resize(s,f,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,f){this._helper.overrideNearFarZ(s,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s,f){}constructor(s,f,_,S,k){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Bo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(z,q)=>this.getConstrained(z,q)},s,f,_,S,k),this._coveringTilesDetailsProvider=new Ea}clone(){const s=new Rr;return s.apply(this),s}apply(s,f,_){this._helper.apply(s,f,_)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(s){const f=[new o.b2(0,s)];if(this._helper._renderWorldCopies){const _=this.screenPointToMercatorCoordinate(new o.P(0,0)),S=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),k=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),z=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),q=Math.floor(Math.min(_.x,S.x,k.x,z.x)),X=Math.floor(Math.max(_.x,S.x,k.x,z.x)),he=1;for(let me=q-he;me<=X+he;me++)me!==0&&f.push(new o.b2(me,s))}return f}getCameraFrustum(){return sa.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){const f=this.screenPointToLocation(this.centerPoint,s),_=s?s.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(_)}setLocationAtPoint(s,f){const _=o.aj(this.elevation,this.center.lat),S=this.screenPointToMercatorCoordinateAtZ(f,_),k=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,_),z=o.a1.fromLngLat(s),q=new o.a1(z.x-(S.x-k.x),z.y-(S.y-k.y));this.setCenter(q?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(s,f){return f?this.coordinatePoint(o.a1.fromLngLat(s),f.getElevationForLngLatZoom(s,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.a1.fromLngLat(s))}screenPointToLocation(s,f){var _;return(_=this.screenPointToMercatorCoordinate(s,f))===null||_===void 0?void 0:_.toLngLat()}screenPointToMercatorCoordinate(s,f){if(f){const _=f.pointCoordinate(s);if(_!=null)return _}return this.screenPointToMercatorCoordinateAtZ(s)}screenPointToMercatorCoordinateAtZ(s,f){const _=f||0,S=[s.x,s.y,0,1],k=[s.x,s.y,1,1];o.aw(S,S,this._pixelMatrixInverse),o.aw(k,k,this._pixelMatrixInverse);const z=S[3],q=k[3],X=S[1]/z,he=k[1]/q,me=S[2]/z,Be=k[2]/q,Me=me===Be?0:(_-me)/(Be-me);return new o.a1(o.C.number(S[0]/z,k[0]/q,Me)/this.worldSize,o.C.number(X,he,Me)/this.worldSize,_)}coordinatePoint(s,f=0,_=this._pixelMatrix){const S=[s.x*this.worldSize,s.y*this.worldSize,f,1];return o.aw(S,S,_),new o.P(S[0]/S[3],S[1]/S[3])}getBounds(){const s=Math.max(0,this._helper._height/2-dt(this));return new _t().extend(this.screenPointToLocation(new o.P(0,s))).extend(this.screenPointToLocation(new o.P(this._helper._width,s))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(s,f){return f?f.pointCoordinate(s)!=null:s.y>this.height/2-dt(this)}calculatePosMatrix(s,f=!1,_){var S;const k=(S=s.key)!==null&&S!==void 0?S:o.b3(s.wrap,s.canonical.z,s.canonical.z,s.canonical.x,s.canonical.y),z=f?this._alignedPosMatrixCache:this._posMatrixCache;if(z.has(k)){const he=z.get(k);return _?he.f32:he.f64}const q=Ye(s,this.worldSize);o.O(q,f?this._alignedProjMatrix:this._viewProjMatrix,q);const X={f64:q,f32:new Float32Array(q)};return z.set(k,X),_?X.f32:X.f64}calculateFogMatrix(s){const f=s.key,_=this._fogMatrixCacheF32;if(_.has(f))return _.get(f);const S=Ye(s,this.worldSize);return o.O(S,this._fogMatrix,S),_.set(f,new Float32Array(S)),_.get(f)}getConstrained(s,f){f=o.ah(+f,this.minZoom,this.maxZoom);const _={center:new o.S(s.lng,s.lat),zoom:f};let S=this._helper._lngRange;if(!this._helper._renderWorldCopies&&S===null){const yt=179.9999999999;S=[-yt,yt]}const k=this.tileSize*o.af(_.zoom);let z=0,q=k,X=0,he=k,me=0,Be=0;const{x:Me,y:Ue}=this.size;if(this._helper._latRange){const yt=this._helper._latRange;z=o.U(yt[1])*k,q=o.U(yt[0])*k,q-z<Ue&&(me=Ue/(q-z))}S&&(X=o.aO(o.V(S[0])*k,0,k),he=o.aO(o.V(S[1])*k,0,k),he<X&&(he+=k),he-X<Me&&(Be=Me/(he-X)));const{x:Xe,y:At}=Te(k,s);let ct,ft;const xt=Math.max(Be||0,me||0);if(xt){const yt=new o.P(Be?(he+X)/2:Xe,me?(q+z)/2:At);return _.center=We(k,yt).wrap(),_.zoom+=o.ak(xt),_}if(this._helper._latRange){const yt=Ue/2;At-yt<z&&(ft=z+yt),At+yt>q&&(ft=q-yt)}if(S){const yt=(X+he)/2;let wt=Xe;this._helper._renderWorldCopies&&(wt=o.aO(Xe,yt-k/2,yt+k/2));const Pt=Me/2;wt-Pt<X&&(ct=X+Pt),wt+Pt>he&&(ct=he-Pt)}if(ct!==void 0||ft!==void 0){const yt=new o.P(ct??Xe,ft??At);_.center=We(k,yt).wrap()}return _}calculateCenterFromCameraLngLatAlt(s,f,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(s,f,_,S)}_calculateNearFarZIfNeeded(s,f,_){if(!this._helper.autoCalculateNearFarZ)return;const S=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),k=s-S*this._helper._pixelPerMeter/Math.cos(f),z=S<0?k:s,q=Math.PI/2+this.pitchInRadians,X=o.ae(this.fov)*(Math.abs(Math.cos(o.ae(this.roll)))*this.height+Math.abs(Math.sin(o.ae(this.roll)))*this.width)/this.height*(.5+_.y/this.height),he=Math.sin(X)*z/Math.sin(o.ah(Math.PI-q-X,.01,Math.PI-.01)),me=dt(this),Be=Math.atan(me/this._helper.cameraToCenterDistance),Me=o.ae(.75),Ue=Be>Me?2*Be*(.5+_.y/(2*me)):Me,Xe=Math.sin(Ue)*z/Math.sin(o.ah(Math.PI-q-Ue,.01,Math.PI-.01)),At=Math.min(he,Xe);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*At+z),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const s=this.centerOffset,f=Te(this.worldSize,this.center),_=f.x,S=f.y;this._helper._pixelPerMeter=o.aj(1,this.center.lat)*this.worldSize;const k=o.ae(Math.min(this.pitch,pe)),z=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(k));let q;this._calculateNearFarZIfNeeded(z,k,s),q=new Float64Array(16),o.b4(q,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.aq(this._invProjMatrix,q),q[8]=2*-s.x/this._helper._width,q[9]=2*s.y/this._helper._height,this._projectionMatrix=o.b5(q),o.N(q,q,[1,-1,1]),o.M(q,q,[0,0,-this._helper.cameraToCenterDistance]),o.b6(q,q,-this.rollInRadians),o.b7(q,q,this.pitchInRadians),o.b6(q,q,-this.bearingInRadians),o.M(q,q,[-_,-S,0]),this._mercatorMatrix=o.N([],q,[this.worldSize,this.worldSize,this.worldSize]),o.N(q,q,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,q),o.M(q,q,[0,0,-this.elevation]),this._viewProjMatrix=q,this._invViewProjMatrix=o.aq([],q);const X=[0,0,-1,1];o.aw(X,X,this._invViewProjMatrix),this._cameraPosition=[X[0]/X[3],X[1]/X[3],X[2]/X[3]],this._fogMatrix=new Float64Array(16),o.b4(this._fogMatrix,this.fovInRadians,this.width/this.height,z,this._helper._farZ),this._fogMatrix[8]=2*-s.x/this.width,this._fogMatrix[9]=2*s.y/this.height,o.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b6(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.b7(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.b6(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.M(this._fogMatrix,this._fogMatrix,[-_,-S,0]),o.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,q);const he=this._helper._width%2/2,me=this._helper._height%2/2,Be=Math.cos(this.bearingInRadians),Me=Math.sin(-this.bearingInRadians),Ue=_-Math.round(_)+Be*he+Me*me,Xe=S-Math.round(S)+Be*me+Me*he,At=new Float64Array(q);if(o.M(At,At,[Ue>.5?Ue-1:Ue,Xe>.5?Xe-1:Xe,0]),this._alignedProjMatrix=At,q=o.aq(new Float64Array(16),this._pixelMatrix),!q)throw new Error("failed to invert matrix");this._pixelMatrixInverse=q,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const s=this.screenPointToMercatorCoordinate(new o.P(0,0)),f=[s.x*this.worldSize,s.y*this.worldSize,0,1];return o.aw(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const s=o.aj(1,this.center.lat)*this.worldSize;return De(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/s).toLngLat()}lngLatToCameraDepth(s,f){const _=o.a1.fromLngLat(s),S=[_.x*this.worldSize,_.y*this.worldSize,f,1];return o.aw(S,S,this._viewProjMatrix),S[2]/S[3]}getProjectionData(s){const{overscaledTileID:f,aligned:_,applyTerrainMatrix:S}=s,k=this._helper.getMercatorTileCoordinates(f),z=f?this.calculatePosMatrix(f,_,!0):null;let q;return q=f&&f.terrainRttPosMatrix32f&&S?f.terrainRttPosMatrix32f:z||o.b8(),{mainMatrix:q,tileMercatorCoords:k,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:q}}isLocationOccluded(s){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(s,f,_){return 1}transformLightDirection(s){return o.aT(s)}getRayDirectionFromPixel(s){throw new Error("Not implemented.")}projectTileCoordinates(s,f,_,S){const k=this.calculatePosMatrix(_);let z;S?(z=[s,f,S(s,f),1],o.aw(z,z,k)):(z=[s,f,0,1],Tl(z,z,k));const q=z[3];return{point:new o.P(z[0]/q,z[1]/q),signedDistanceFromCamera:q,isOccluded:!1}}populateCache(s){for(const f of s)this.calculatePosMatrix(f)}getMatrixForModel(s,f){const _=o.a1.fromLngLat(s,f),S=_.meterInMercatorCoordinateUnits(),k=o.b9();return o.M(k,k,[_.x,_.y,_.z]),o.b6(k,k,Math.PI),o.b7(k,k,Math.PI/2),o.N(k,k,[-S,S,S]),k}getProjectionDataForCustomLayer(s=!0){const f=new o.Z(0,0,0,0,0),_=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:s}),S=Ye(f,this.worldSize);o.O(S,this._viewProjMatrix,S),_.tileMercatorCoords=[0,0,1,1];const k=[o.$,o.$,this.worldSize/this._helper.pixelsPerMeter],z=o.ba();return o.N(z,S,k),_.fallbackMatrix=z,_.mainMatrix=z,_}getFastPathSimpleProjectionMatrix(s){return this.calculatePosMatrix(s)}}function oA(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Ga(I){if(I.useSlerp)if(I.k<1){const s=o.bb(I.startEulerAngles.roll,I.startEulerAngles.pitch,I.startEulerAngles.bearing),f=o.bb(I.endEulerAngles.roll,I.endEulerAngles.pitch,I.endEulerAngles.bearing),_=new Float64Array(4);o.bc(_,s,f,I.k);const S=o.bd(_);I.tr.setRoll(S.roll),I.tr.setPitch(S.pitch),I.tr.setBearing(S.bearing)}else I.tr.setRoll(I.endEulerAngles.roll),I.tr.setPitch(I.endEulerAngles.pitch),I.tr.setBearing(I.endEulerAngles.bearing);else I.tr.setRoll(o.C.number(I.startEulerAngles.roll,I.endEulerAngles.roll,I.k)),I.tr.setPitch(o.C.number(I.startEulerAngles.pitch,I.endEulerAngles.pitch,I.k)),I.tr.setBearing(o.C.number(I.startEulerAngles.bearing,I.endEulerAngles.bearing,I.k))}function ns(I,s,f,_,S){const k=S.padding,z=Te(S.worldSize,f.getNorthWest()),q=Te(S.worldSize,f.getNorthEast()),X=Te(S.worldSize,f.getSouthEast()),he=Te(S.worldSize,f.getSouthWest()),me=o.ae(-_),Be=z.rotate(me),Me=q.rotate(me),Ue=X.rotate(me),Xe=he.rotate(me),At=new o.P(Math.max(Be.x,Me.x,Xe.x,Ue.x),Math.max(Be.y,Me.y,Xe.y,Ue.y)),ct=new o.P(Math.min(Be.x,Me.x,Xe.x,Ue.x),Math.min(Be.y,Me.y,Xe.y,Ue.y)),ft=At.sub(ct),xt=(S.width-(k.left+k.right+s.left+s.right))/ft.x,yt=(S.height-(k.top+k.bottom+s.top+s.bottom))/ft.y;if(yt<0||xt<0)return void oA();const wt=Math.min(o.ak(S.scale*Math.min(xt,yt)),I.maxZoom),Pt=o.P.convert(I.offset),Ft=new o.P((s.left-s.right)/2,(s.top-s.bottom)/2).rotate(o.ae(_)),Bt=Pt.add(Ft).mult(S.scale/o.af(wt));return{center:We(S.worldSize,z.add(X).div(2).sub(Bt)),zoom:wt,bearing:_}}class Ca{get useGlobeControls(){return!1}handlePanInertia(s,f){const _=s.mag(),S=Math.abs(dt(f));return{easingOffset:s.mult(Math.min(.75*S/_,1)),easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(s,f){s.bearingDelta&&f.setBearing(f.bearing+s.bearingDelta),s.pitchDelta&&f.setPitch(f.pitch+s.pitchDelta),s.rollDelta&&f.setRoll(f.roll+s.rollDelta),s.zoomDelta&&f.setZoom(f.zoom+s.zoomDelta)}handleMapControlsPan(s,f,_){s.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(_,s.around)}cameraForBoxAndBearing(s,f,_,S,k){return ns(s,f,_,S,k)}handleJumpToCenterZoom(s,f){s.zoom!==(f.zoom!==void 0?+f.zoom:s.zoom)&&s.setZoom(+f.zoom),f.center!==void 0&&s.setCenter(o.S.convert(f.center))}handleEaseTo(s,f){const _=s.zoom,S=s.padding,k={roll:s.roll,pitch:s.pitch,bearing:s.bearing},z={roll:f.roll===void 0?s.roll:f.roll,pitch:f.pitch===void 0?s.pitch:f.pitch,bearing:f.bearing===void 0?s.bearing:f.bearing},q=f.zoom!==void 0,X=!s.isPaddingEqual(f.padding);let he=!1;const me=q?+f.zoom:s.zoom;let Be=s.centerPoint.add(f.offsetAsPoint);const Me=s.screenPointToLocation(Be),{center:Ue,zoom:Xe}=s.getConstrained(o.S.convert(f.center||Me),me??_);hu(s,Ue);const At=Te(s.worldSize,Me),ct=Te(s.worldSize,Ue).sub(At),ft=o.af(Xe-_);return he=Xe!==_,{easeFunc:xt=>{if(he&&s.setZoom(o.C.number(_,Xe,xt)),o.be(k,z)||Ga({startEulerAngles:k,endEulerAngles:z,tr:s,k:xt,useSlerp:k.roll!=z.roll}),X&&(s.interpolatePadding(S,f.padding,xt),Be=s.centerPoint.add(f.offsetAsPoint)),f.around)s.setLocationAtPoint(f.around,f.aroundPoint);else{const yt=o.af(s.zoom-_),wt=Xe>_?Math.min(2,ft):Math.max(.5,ft),Pt=Math.pow(wt,1-xt),Ft=We(s.worldSize,At.add(ct.mult(xt*Pt)).mult(yt));s.setLocationAtPoint(s.renderWorldCopies?Ft.wrap():Ft,Be)}},isZooming:he,elevationCenter:Ue}}handleFlyTo(s,f){const _=f.zoom!==void 0,S=s.zoom,k=s.getConstrained(o.S.convert(f.center||f.locationAtOffset),_?+f.zoom:S),z=k.center,q=k.zoom;hu(s,z);const X=Te(s.worldSize,f.locationAtOffset),he=Te(s.worldSize,z).sub(X),me=he.mag(),Be=o.af(q-S);let Me;if(f.minZoom!==void 0){const Ue=Math.min(+f.minZoom,S,q),Xe=s.getConstrained(z,Ue).zoom;Me=o.af(Xe-S)}return{easeFunc:(Ue,Xe,At,ct)=>{s.setZoom(Ue===1?q:S+o.ak(Xe));const ft=Ue===1?z:We(s.worldSize,X.add(he.mult(At)).mult(Xe));s.setLocationAtPoint(s.renderWorldCopies?ft.wrap():ft,ct)},scaleOfZoom:Be,targetCenter:z,scaleOfMinZoom:Me,pixelPathLength:me}}}class Pr{constructor(s,f,_){this.blendFunction=s,this.blendColor=f,this.mask=_}}Pr.Replace=[1,0],Pr.disabled=new Pr(Pr.Replace,o.bf.transparent,[!1,!1,!1,!1]),Pr.unblended=new Pr(Pr.Replace,o.bf.transparent,[!0,!0,!0,!0]),Pr.alphaBlended=new Pr([1,771],o.bf.transparent,[!0,!0,!0,!0]);const Cl=2305;class Xi{constructor(s,f,_){this.enable=s,this.mode=f,this.frontFace=_}}Xi.disabled=new Xi(!1,1029,Cl),Xi.backCCW=new Xi(!0,1029,Cl),Xi.frontCCW=new Xi(!0,1028,Cl);class wi{constructor(s,f,_){this.func=s,this.mask=f,this.range=_}}wi.ReadOnly=!1,wi.ReadWrite=!0,wi.disabled=new wi(519,wi.ReadOnly,[0,1]);const qr=7680;class ee{constructor(s,f,_,S,k,z){this.test=s,this.ref=f,this.mask=_,this.fail=S,this.depthFail=k,this.pass=z}}ee.disabled=new ee({func:519,mask:0},0,0,qr,qr,qr);const Oe=new WeakMap;function at(I){var s;if(Oe.has(I))return Oe.get(I);{const f=(s=I.getParameter(I.VERSION))===null||s===void 0?void 0:s.startsWith("WebGL 2.0");return Oe.set(I,f),f}}class Gt{get awaitingQuery(){return!!this._readbackQueue}constructor(s){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=s;const f=s.context,_=f.gl;this._texFormat=_.RGBA,this._texType=_.UNSIGNED_BYTE;const S=new o.aL;S.emplaceBack(-1,-1),S.emplaceBack(2,-1),S.emplaceBack(-1,2);const k=new o.aN;k.emplaceBack(0,1,2),this._fullscreenTriangle=new Ul(f.createVertexBuffer(S,va.members),f.createIndexBuffer(k),o.aM.simpleSegment(0,0,S.length,k.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(_.TEXTURE1);const z=_.createTexture();_.bindTexture(_.TEXTURE_2D,z),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texImage2D(_.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(z),at(_)&&(this._pbo=_.createBuffer(),_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.bufferData(_.PIXEL_PACK_BUFFER,4,_.STREAM_READ),_.bindBuffer(_.PIXEL_PACK_BUFFER,null))}destroy(){const s=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),s.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(s,f){const _=this._updateCount;return this._readbackQueue?_>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():_>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(s,f),this._updateCount++,this._measuredError}_bindFramebuffer(){const s=this._cachedRenderContext.context,f=s.gl;s.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),s.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(s,f){const _=this._cachedRenderContext.context,S=_.gl;if(this._bindFramebuffer(),_.viewport.set([0,0,this._texWidth,this._texHeight]),_.clear({color:o.bf.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(_,S.TRIANGLES,wi.disabled,ee.disabled,Pr.unblended,Xi.disabled,((k,z)=>({u_input:k,u_output_expected:z}))(s,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&at(S)){S.bindBuffer(S.PIXEL_PACK_BUFFER,this._pbo),S.readBuffer(S.COLOR_ATTACHMENT0),S.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),S.bindBuffer(S.PIXEL_PACK_BUFFER,null);const k=S.fenceSync(S.SYNC_GPU_COMMANDS_COMPLETE,0);S.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:k}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const s=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&at(s)){const f=s.clientWaitSync(this._readbackQueue.sync,0,0);if(f===s.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===s.TIMEOUT_EXPIRED)return;s.bindBuffer(s.PIXEL_PACK_BUFFER,this._pbo),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),s.bindBuffer(s.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),s.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Gt._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(s){let f=0;return f+=s[0]/256,f+=s[1]/65536,f+=s[2]/16777216,s[3]<127&&(f=-f),f/128}}const Si=o.$/128;function Xn(I,s){const f=I.granularity!==void 0?Math.max(I.granularity,1):1,_=f+(I.generateBorders?2:0),S=f+(I.extendToNorthPole||I.generateBorders?1:0)+(I.extendToSouthPole||I.generateBorders?1:0),k=_+1,z=S+1,q=I.generateBorders?-1:0,X=I.generateBorders||I.extendToNorthPole?-1:0,he=f+(I.generateBorders?1:0),me=f+(I.generateBorders||I.extendToSouthPole?1:0),Be=k*z,Me=_*S*6,Ue=k*z>65536;if(Ue&&s==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Xe=Ue||s==="32bit",At=new Int16Array(2*Be);let ct=0;for(let yt=X;yt<=me;yt++)for(let wt=q;wt<=he;wt++){let Pt=wt/f*o.$;wt===-1&&(Pt=-Si),wt===f+1&&(Pt=o.$+Si);let Ft=yt/f*o.$;yt===-1&&(Ft=I.extendToNorthPole?o.bh:-Si),yt===f+1&&(Ft=I.extendToSouthPole?o.bi:o.$+Si),At[ct++]=Pt,At[ct++]=Ft}const ft=Xe?new Uint32Array(Me):new Uint16Array(Me);let xt=0;for(let yt=0;yt<S;yt++)for(let wt=0;wt<_;wt++){const Pt=wt+1+yt*k,Ft=wt+(yt+1)*k,Bt=wt+1+(yt+1)*k;ft[xt++]=wt+yt*k,ft[xt++]=Ft,ft[xt++]=Pt,ft[xt++]=Pt,ft[xt++]=Ft,ft[xt++]=Bt}return{vertices:At.buffer.slice(0),indices:ft.buffer.slice(0),uses32bitIndices:Xe}}const Zi=new o.aK({fill:new o.bj(128,2),line:new o.bj(512,0),tile:new o.bj(128,32),stencil:new o.bj(128,1),circle:3});class ar{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Do.projectionGlobe}get vertexShaderPreludeCode(){return Do.projectionMercator.vertexSource}get subdivisionGranularity(){return Zi}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(s){this._errorMeasurement||(this._errorMeasurement=new Gt(s));const f=o.U(this._errorQueryLatitudeDegrees),_=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,S=this._errorMeasurement.updateErrorLoop(f,_),k=U.now();S!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=S,this._errorMeasurementLastChangeTime=k);const z=Math.min(Math.max((k-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bk(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bl(z))}_getMeshKey(s){return`${s.granularity.toString(36)}_${s.generateBorders?"b":""}${s.extendToNorthPole?"n":""}${s.extendToSouthPole?"s":""}`}getMeshFromTileID(s,f,_,S,k){const z=(k==="stencil"?Zi.stencil:Zi.tile).getGranularityForZoomLevel(f.z);return this._getMesh(s,{granularity:z,generateBorders:_,extendToNorthPole:f.y===0&&S,extendToSouthPole:f.y===(1<<f.z)-1&&S})}_getMesh(s,f){const _=this._getMeshKey(f);if(_ in this._tileMeshCache)return this._tileMeshCache[_];const S=function(k,z){const q=Xn(z,"16bit"),X=o.aL.deserialize({arrayBuffer:q.vertices,length:q.vertices.byteLength/2/2}),he=o.aN.deserialize({arrayBuffer:q.indices,length:q.indices.byteLength/2/3});return new Ul(k.createVertexBuffer(X,va.members),k.createIndexBuffer(he),o.aM.simpleSegment(0,0,X.length,he.length))}(s,f);return this._tileMeshCache[_]=S,S}recalculate(s){}hasTransition(){const s=U.now();let f=!1;return f=f||(s-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(s){this._errorQueryLatitudeDegrees=s}}const Ri=new o.r({type:new o.D(o.v.projection.type)});class Ji extends o.E{constructor(s){super(),this._transitionable=new o.t(Ri),this.setProjection(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.F(0)),this._mercatorProjection=new Mr,this._verticalPerspectiveProjection=new ar}get transitionState(){const s=this.properties.get("type");if(typeof s=="string"&&s==="mercator")return 0;if(typeof s=="string"&&s==="vertical-perspective")return 1;if(s instanceof o.bm){if(s.from==="vertical-perspective"&&s.to==="mercator")return 1-s.transition;if(s.from==="mercator"&&s.to==="vertical-perspective")return s.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(s){this._mercatorProjection.updateGPUdependent(s),this._verticalPerspectiveProjection.updateGPUdependent(s)}getMeshFromTileID(s,f,_,S,k){return this.currentProjection.getMeshFromTileID(s,f,_,S,k)}setProjection(s){this._transitionable.setValue("type",s?.type||"mercator")}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}setErrorQueryLatitudeDegrees(s){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(s),this._mercatorProjection.setErrorQueryLatitudeDegrees(s)}}function no(I){const s=gr(I.worldSize,I.center.lat);return 2*Math.PI*s}function ho(I,s,f,_,S){const k=1/(1<<S),z=s/o.$*k+_*k,q=o.bo((I/o.$*k+f*k)*Math.PI*2+Math.PI,2*Math.PI),X=2*Math.atan(Math.exp(Math.PI-z*Math.PI*2))-.5*Math.PI,he=Math.cos(X),me=new Float64Array(3);return me[0]=Math.sin(q)*he,me[1]=Math.sin(X),me[2]=Math.cos(q)*he,me}function cr(I){return function(s,f){const _=Math.cos(f),S=new Float64Array(3);return S[0]=Math.sin(s)*_,S[1]=Math.sin(f),S[2]=Math.cos(s)*_,S}(I.lng*Math.PI/180,I.lat*Math.PI/180)}function gr(I,s){return I/(2*Math.PI)/Math.cos(s*Math.PI/180)}function fo(I){const s=Math.asin(I[1])/Math.PI*180,f=Math.sqrt(I[0]*I[0]+I[2]*I[2]);if(f>1e-6){const _=I[0]/f,S=Math.acos(I[2]/f),k=(_>0?S:-S)/Math.PI*180;return new o.S(o.aO(k,-180,180),s)}return new o.S(0,s)}function Go(I){return Math.cos(I*Math.PI/180)}function Nr(I,s){const f=Go(I),_=Go(s);return o.ak(_/f)}function Vs(I,s){const f=I.rotate(s.bearingInRadians),_=s.zoom+Nr(s.center.lat,0),S=o.bk(1/Go(s.center.lat),1/Go(Math.min(Math.abs(s.center.lat),60)),o.bn(_,7,3,0,1)),k=360/no({worldSize:s.worldSize,center:{lat:s.center.lat}});return new o.S(s.center.lng-f.x*k*S,o.ah(s.center.lat+f.y*k,-o.ai,o.ai))}function Fl(I){const s=.5*I,f=Math.sin(s),_=Math.cos(s);return Math.log(f+_)-Math.log(_-f)}function qA(I,s,f,_){const S=I.lat+f*_;if(Math.abs(f)>1){const k=(Math.sign(I.lat+f)!==Math.sign(I.lat)?-Math.abs(I.lat):Math.abs(I.lat))*Math.PI/180,z=Math.abs(I.lat+f)*Math.PI/180,q=Fl(k+_*(z-k)),X=Fl(k),he=Fl(z);return new o.S(I.lng+s*((q-X)/(he-X)),S)}return new o.S(I.lng+s*_,S)}class gs{constructor(s){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=s}swapBuffers(){if(!this._hadAnyChanges)return;const s=this._cachePrevious;this._cachePrevious=this._cache,this._cache=s,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(s,f,_,S){const k=`${s.z}_${s.x}_${s.y}_${S?.terrain?"t":""}`,z=this._cache.get(k);if(z)return z;const q=this._cachePrevious.get(k);if(q)return this._cache.set(k,q),q;const X=this._boundingVolumeFactory(s,f,_,S);return this._cache.set(k,X),this._hadAnyChanges=!0,X}}class yd{constructor(s,f,_,S){this.min=_,this.max=S,this.points=s,this.planes=f}static fromAabb(s,f){const _=[];for(let S=0;S<8;S++)_.push([1&~S?s[0]:f[0],(S>>1&1)==1?f[1]:s[1],(S>>2&1)==1?f[2]:s[2]]);return new yd(_,[[-1,0,0,f[0]],[1,0,0,-s[0]],[0,-1,0,f[1]],[0,1,0,-s[1]],[0,0,-1,f[2]],[0,0,1,-s[2]]],s,f)}static fromCenterSizeAngles(s,f,_){const S=o.br([],_[0],_[1],_[2]),k=o.bs([],[f[0],0,0],S),z=o.bs([],[0,f[1],0],S),q=o.bs([],[0,0,f[2]],S),X=[...s],he=[...s];for(let Be=0;Be<8;Be++)for(let Me=0;Me<3;Me++){const Ue=s[Me]+k[Me]*(1&~Be?-1:1)+z[Me]*((Be>>1&1)==1?1:-1)+q[Me]*((Be>>2&1)==1?1:-1);X[Me]=Math.min(X[Me],Ue),he[Me]=Math.max(he[Me],Ue)}const me=[];for(let Be=0;Be<8;Be++){const Me=[...s];o.aS(Me,Me,o.aR([],k,1&~Be?-1:1)),o.aS(Me,Me,o.aR([],z,(Be>>1&1)==1?1:-1)),o.aS(Me,Me,o.aR([],q,(Be>>2&1)==1?1:-1)),me.push(Me)}return new yd(me,[[...k,-o.aX(k,me[0])],[...z,-o.aX(z,me[0])],[...q,-o.aX(q,me[0])],[-k[0],-k[1],-k[2],-o.aX(k,me[7])],[-z[0],-z[1],-z[2],-o.aX(z,me[7])],[-q[0],-q[1],-q[2],-o.aX(q,me[7])]],X,he)}intersectsFrustum(s){let f=!0;const _=this.points.length,S=this.planes.length,k=s.planes.length,z=s.points.length;for(let q=0;q<k;q++){const X=s.planes[q];let he=0;for(let me=0;me<_;me++){const Be=this.points[me];X[0]*Be[0]+X[1]*Be[1]+X[2]*Be[2]+X[3]>=0&&he++}if(he===0)return 0;he<_&&(f=!1)}if(f)return 2;for(let q=0;q<S;q++){const X=this.planes[q];let he=0;for(let me=0;me<z;me++){const Be=s.points[me];X[0]*Be[0]+X[1]*Be[1]+X[2]*Be[2]+X[3]>=0&&he++}if(he===0)return 0}return 1}intersectsPlane(s){const f=this.points.length;let _=0;for(let S=0;S<f;S++){const k=this.points[S];s[0]*k[0]+s[1]*k[1]+s[2]*k[2]+s[3]>=0&&_++}return _===f?2:_===0?0:1}}function Ua(I,s,f){const _=I-s;return _<0?-_:Math.max(0,_-f)}function vd(I,s,f,_,S){const k=I-f;let z;return z=k<0?Math.min(-k,1+k-S):k>1?Math.min(Math.max(k-S,0),1-k):0,Math.max(z,Ua(s,_,S))}class Ku{constructor(){this._boundingVolumeCache=new gs(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(s,f,_,S){const k=1<<_.z,z=1/k,q=_.x/k,X=_.y/k;let he=2;return he=Math.min(he,vd(s,f,q,X,z)),he=Math.min(he,vd(s,f,q+.5,-X-z,z)),he=Math.min(he,vd(s,f,q+.5,2-X-z,z)),he}getWrap(s,f,_){const S=1<<f.z,k=1/S,z=f.x/S,q=Ua(s.x,z,k),X=Ua(s.x,z-1,k),he=Ua(s.x,z+1,k),me=Math.min(q,X,he);return me===he?1:me===X?-1:0}allowVariableZoom(s,f){return Tt(s,f)>4}allowWorldCopies(){return!1}getTileBoundingVolume(s,f,_,S){return this._boundingVolumeCache.getTileBoundingVolume(s,f,_,S)}_computeTileBoundingVolume(s,f,_,S){var k,z;let q=0,X=0;if(S?.terrain){const he=new o.Z(s.z,f,s.z,s.x,s.y),me=S.terrain.getMinMaxElevation(he);q=(k=me.minElevation)!==null&&k!==void 0?k:Math.min(0,_),X=(z=me.maxElevation)!==null&&z!==void 0?z:Math.max(0,_)}if(q/=o.bu,X/=o.bu,q+=1,X+=1,s.z<=0)return yd.fromAabb([-X,-X,-X],[X,X,X]);if(s.z===1)return yd.fromAabb([s.x===0?-X:0,s.y===0?0:-X,-X],[s.x===0?0:X,s.y===0?X:0,X]);{const he=[ho(0,0,s.x,s.y,s.z),ho(o.$,0,s.x,s.y,s.z),ho(o.$,o.$,s.x,s.y,s.z),ho(0,o.$,s.x,s.y,s.z)],me=[];for(const nn of he)me.push(o.aR([],nn,X));if(X!==q)for(const nn of he)me.push(o.aR([],nn,q));s.y===0&&me.push([0,1,0]),s.y===(1<<s.z)-1&&me.push([0,-1,0]);const Be=[1,1,1],Me=[-1,-1,-1];for(const nn of me)for(let An=0;An<3;An++)Be[An]=Math.min(Be[An],nn[An]),Me[An]=Math.max(Me[An],nn[An]);const Ue=ho(o.$/2,o.$/2,s.x,s.y,s.z),Xe=o.aW([],[0,1,0],Ue);o.aV(Xe,Xe);const At=o.aW([],Ue,Xe);o.aV(At,At);const ct=o.aW([],he[2],he[1]);o.aV(ct,ct);const ft=o.aW([],he[0],he[3]);o.aV(ft,ft),me.push(o.aR([],Ue,X)),s.y>=(1<<s.z)/2&&me.push(o.aR([],ho(o.$/2,0,s.x,s.y,s.z),X)),s.y<(1<<s.z)/2&&me.push(o.aR([],ho(o.$/2,o.$,s.x,s.y,s.z),X));const xt=HA(Ue,me),yt=HA(At,me),wt=[-Ue[0],-Ue[1],-Ue[2],xt.max],Pt=[Ue[0],Ue[1],Ue[2],-xt.min],Ft=[-At[0],-At[1],-At[2],yt.max],Bt=[At[0],At[1],At[2],-yt.min],Yt=[...ct,0],dn=[...ft,0],Xt=[];return s.y===0?Xt.push(o.bt(dn,Yt,wt),o.bt(dn,Yt,Pt)):Xt.push(o.bt(Ft,Yt,wt),o.bt(Ft,Yt,Pt),o.bt(Ft,dn,wt),o.bt(Ft,dn,Pt)),s.y===(1<<s.z)-1?Xt.push(o.bt(dn,Yt,wt),o.bt(dn,Yt,Pt)):Xt.push(o.bt(Bt,Yt,wt),o.bt(Bt,Yt,Pt),o.bt(Bt,dn,wt),o.bt(Bt,dn,Pt)),new yd(Xt,[wt,Pt,Ft,Bt,Yt,dn],Be,Me)}}}function HA(I,s){let f=1/0,_=-1/0;for(const S of s){const k=o.aX(I,S);f=Math.min(f,k),_=Math.max(_,k)}return{min:f,max:_}}class yh{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,f,_){return this._helper.interpolatePadding(s,f,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,f){this._helper.resize(s,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,f){this._helper.overrideNearFarZ(s,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s){}constructor(){this._cachedClippingPlane=o.bv(),this._projectionMatrix=o.b9(),this._globeViewProjMatrix32f=o.b8(),this._globeViewProjMatrixNoCorrection=o.b9(),this._globeViewProjMatrixNoCorrectionInverted=o.b9(),this._globeProjMatrixInverted=o.b9(),this._cameraPosition=o.bp(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Bo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(s,f)=>this.getConstrained(s,f)}),this._coveringTilesDetailsProvider=new Ku}clone(){const s=new yh;return s.apply(this),s}apply(s,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(s)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const s=o.bp();return s[0]=this._cameraPosition[0],s[1]=this._cameraPosition[1],s[2]=this._cameraPosition[2],s}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(s){const{overscaledTileID:f,applyGlobeMatrix:_}=s,S=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:S,clippingPlane:this._cachedClippingPlane,projectionTransition:_?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(s){const f=this.pitchInRadians,_=this.cameraToCenterDistance/s,S=Math.sin(f)*_,k=Math.cos(f)*_+1,z=1/Math.sqrt(S*S+k*k)*1;let q=-S,X=k;const he=Math.sqrt(q*q+X*X);q/=he,X/=he;const me=[0,q,X];o.bw(me,me,[0,0,0],-this.bearingInRadians),o.bx(me,me,[0,0,0],-1*this.center.lat*Math.PI/180),o.by(me,me,[0,0,0],this.center.lng*Math.PI/180);const Be=1/o.aZ(me);return o.aR(me,me,Be),[...me,-z*Be]}isLocationOccluded(s){return!this.isSurfacePointVisible(cr(s))}transformLightDirection(s){const f=this._helper._center.lng*Math.PI/180,_=this._helper._center.lat*Math.PI/180,S=Math.cos(_),k=[Math.sin(f)*S,Math.sin(_),Math.cos(f)*S],z=[k[2],0,-k[0]],q=[0,0,0];o.aW(q,z,k),o.aV(z,z),o.aV(q,q);const X=[0,0,0];return o.aV(X,[z[0]*s[0]+q[0]*s[1]+k[0]*s[2],z[1]*s[0]+q[1]*s[1]+k[1]*s[2],z[2]*s[0]+q[2]*s[1]+k[2]*s[2]]),X}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(s,f,_){const S=function(q,X,he){const me=1/(1<<he.z);return new o.a1(q/o.$*me+he.x*me,X/o.$*me+he.y*me)}(s,f,_.canonical),k=(z=S.y,[o.bo(S.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-z*Math.PI*2))-.5*Math.PI]);var z;return this.getCircleRadiusCorrection()/Math.cos(k[1])}projectTileCoordinates(s,f,_,S){const k=_.canonical,z=ho(s,f,k.x,k.y,k.z),q=1+(S?S(s,f):0)/o.bu,X=[z[0]*q,z[1]*q,z[2]*q,1];o.aw(X,X,this._globeViewProjMatrixNoCorrection);const he=this._cachedClippingPlane,me=he[0]*z[0]+he[1]*z[1]+he[2]*z[2]+he[3]<0;return{point:new o.P(X[0]/X[3],X[1]/X[3]),signedDistanceFromCamera:X[3],isOccluded:me}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const s=gr(this.worldSize,this.center.lat),f=o.ba(),_=o.ba();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*s),o.b4(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const S=this.centerOffset;f[8]=2*-S.x/this._helper._width,f[9]=2*S.y/this._helper._height,this._projectionMatrix=o.b5(f),this._globeProjMatrixInverted=o.ba(),o.aq(this._globeProjMatrixInverted,f),o.M(f,f,[0,0,-this.cameraToCenterDistance]),o.b6(f,f,this.rollInRadians),o.b7(f,f,-this.pitchInRadians),o.b6(f,f,this.bearingInRadians),o.M(f,f,[0,0,-s]);const k=o.bp();k[0]=s,k[1]=s,k[2]=s,o.b7(_,f,this.center.lat*Math.PI/180),o.bz(_,_,-this.center.lng*Math.PI/180),o.N(_,_,k),this._globeViewProjMatrixNoCorrection=_,o.b7(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bz(f,f,-this.center.lng*Math.PI/180),o.N(f,f,k),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=o.ba(),o.aq(this._globeViewProjMatrixNoCorrectionInverted,_);const z=o.bp();this._cameraPosition=o.bp(),this._cameraPosition[2]=this.cameraToCenterDistance/s,o.bw(this._cameraPosition,this._cameraPosition,z,-this.rollInRadians),o.bx(this._cameraPosition,this._cameraPosition,z,this.pitchInRadians),o.bw(this._cameraPosition,this._cameraPosition,z,-this.bearingInRadians),o.aS(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bx(this._cameraPosition,this._cameraPosition,z,-this.center.lat*Math.PI/180),o.by(this._cameraPosition,this._cameraPosition,z,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(s);const q=o.b5(this._globeViewProjMatrixNoCorrectionInverted);o.N(q,q,[1,1,-1]),this._cachedFrustum=sa.fromInvProjectionMatrix(q,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(s){o.w("calculateFogMatrix is not supported on globe projection.");const f=o.ba();return o.ag(f),f}getVisibleUnwrappedCoordinates(s){return[new o.b2(0,s)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){s&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,f){if(!this._globeViewProjMatrixNoCorrection)return 1;const _=cr(s);o.aR(_,_,1+f/o.bu);const S=o.bv();return o.aw(S,[_[0],_[1],_[2],1],this._globeViewProjMatrixNoCorrection),S[2]/S[3]}populateCache(s){}getBounds(){const s=.5*this.width,f=.5*this.height,_=[new o.P(0,0),new o.P(s,0),new o.P(this.width,0),new o.P(this.width,f),new o.P(this.width,this.height),new o.P(s,this.height),new o.P(0,this.height),new o.P(0,f)],S=[];for(const Be of _)S.push(this.unprojectScreenPoint(Be));let k=0,z=0,q=0,X=0;const he=this.center;for(const Be of S){const Me=o.bA(he.lng,Be.lng),Ue=o.bA(he.lat,Be.lat);Me<z&&(z=Me),Me>k&&(k=Me),Ue<X&&(X=Ue),Ue>q&&(q=Ue)}const me=[he.lng+z,he.lat+X,he.lng+k,he.lat+q];return this.isSurfacePointOnScreen([0,1,0])&&(me[3]=90,me[0]=-180,me[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(me[1]=-90,me[0]=-180,me[2]=180),new _t(me)}getConstrained(s,f){const _=o.ah(s.lat,-o.ai,o.ai),S=o.ah(+f,this.minZoom+Nr(0,_),this.maxZoom);return{center:new o.S(s.lng,_),zoom:S}}calculateCenterFromCameraLngLatAlt(s,f,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(s,f,_,S)}setLocationAtPoint(s,f){const _=cr(this.unprojectScreenPoint(f)),S=cr(s),k=o.bp();o.bB(k);const z=o.bp();o.by(z,_,k,-this.center.lng*Math.PI/180),o.bx(z,z,k,this.center.lat*Math.PI/180);const q=S[0]*S[0]+S[2]*S[2],X=z[0]*z[0];if(q<X)return;const he=Math.sqrt(q-X),me=-he,Be=o.bC(S[0],S[2],z[0],he),Me=o.bC(S[0],S[2],z[0],me),Ue=o.bp();o.by(Ue,S,k,-Be);const Xe=o.bC(Ue[1],Ue[2],z[1],z[2]),At=o.bp();o.by(At,S,k,-Me);const ct=o.bC(At[1],At[2],z[1],z[2]),ft=.5*Math.PI,xt=Xe>=-ft&&Xe<=ft,yt=ct>=-ft&&ct<=ft;let wt,Pt;if(xt&&yt){const dn=this.center.lng*Math.PI/180,Xt=this.center.lat*Math.PI/180;o.bD(Be,dn)+o.bD(Xe,Xt)<o.bD(Me,dn)+o.bD(ct,Xt)?(wt=Be,Pt=Xe):(wt=Me,Pt=ct)}else if(xt)wt=Be,Pt=Xe;else{if(!yt)return;wt=Me,Pt=ct}const Ft=wt/Math.PI*180,Bt=Pt/Math.PI*180,Yt=this.center.lat;this.setCenter(new o.S(Ft,o.ah(Bt,-90,90))),this.setZoom(this.zoom+Nr(Yt,this.center.lat))}locationToScreenPoint(s,f){const _=cr(s);if(f){const S=f.getElevationForLngLatZoom(s,this._helper._tileZoom);o.aR(_,_,1+S/o.bu)}return this._projectSurfacePointToScreen(_)}_projectSurfacePointToScreen(s){const f=o.bv();return o.aw(f,[...s,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new o.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(s,f){if(f){const _=f.pointCoordinate(s);if(_)return _}return o.a1.fromLngLat(this.unprojectScreenPoint(s))}screenPointToLocation(s,f){var _;return(_=this.screenPointToMercatorCoordinate(s,f))===null||_===void 0?void 0:_.toLngLat()}isPointOnMapSurface(s,f){const _=this._cameraPosition,S=this.getRayDirectionFromPixel(s);return!!this.rayPlanetIntersection(_,S)}getRayDirectionFromPixel(s){const f=o.bv();f[0]=s.x/this.width*2-1,f[1]=-1*(s.y/this.height*2-1),f[2]=1,f[3]=1,o.aw(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];const _=o.bp();_[0]=f[0]-this._cameraPosition[0],_[1]=f[1]-this._cameraPosition[1],_[2]=f[2]-this._cameraPosition[2];const S=o.bp();return o.aV(S,_),S}isSurfacePointVisible(s){const f=this._cachedClippingPlane;return f[0]*s[0]+f[1]*s[1]+f[2]*s[2]+f[3]>=0}isSurfacePointOnScreen(s){if(!this.isSurfacePointVisible(s))return!1;const f=o.bv();return o.aw(f,[...s,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(s,f){const _=o.aX(s,f),S=o.bp(),k=o.bp();o.aR(k,f,_),o.aU(S,s,k);const z=1-o.aX(S,S);if(z<0)return null;const q=o.aX(s,s)-1,X=-_+(_<0?1:-1)*Math.sqrt(z),he=q/X,me=X;return{tMin:Math.min(he,me),tMax:Math.max(he,me)}}unprojectScreenPoint(s){const f=this._cameraPosition,_=this.getRayDirectionFromPixel(s),S=this.rayPlanetIntersection(f,_);if(S){const me=o.bp();o.aS(me,f,[_[0]*S.tMin,_[1]*S.tMin,_[2]*S.tMin]);const Be=o.bp();return o.aV(Be,me),fo(Be)}const k=this._cachedClippingPlane,z=k[0]*_[0]+k[1]*_[1]+k[2]*_[2],q=-o.b1(k,f)/z,X=o.bp();if(q>0)o.aS(X,f,[_[0]*q,_[1]*q,_[2]*q]);else{const me=o.bp();o.aS(me,f,[2*_[0],2*_[1],2*_[2]]);const Be=o.b1(this._cachedClippingPlane,me);o.aU(X,me,[this._cachedClippingPlane[0]*Be,this._cachedClippingPlane[1]*Be,this._cachedClippingPlane[2]*Be])}const he=function(me){const Be=o.bp();return Be[0]=me[0]*-me[3],Be[1]=me[1]*-me[3],Be[2]=me[2]*-me[3],{center:Be,radius:Math.sqrt(1-me[3]*me[3])}}(k);return fo(function(me,Be,Me){const Ue=o.bp();o.aU(Ue,Me,me);const Xe=o.bp();return o.bq(Xe,me,Ue,Be/o.a$(Ue)),Xe}(he.center,he.radius,X))}getMatrixForModel(s,f){const _=o.S.convert(s),S=1/o.bu,k=o.b9();return o.bz(k,k,_.lng/180*Math.PI),o.b7(k,k,-_.lat/180*Math.PI),o.M(k,k,[0,0,1+f/o.bu]),o.b7(k,k,.5*Math.PI),o.N(k,k,[S,S,S]),k}getProjectionDataForCustomLayer(s=!0){const f=this.getProjectionData({overscaledTileID:new o.Z(0,0,0,0,0),applyGlobeMatrix:s});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(s){}}class Nh{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,f,_){return this._helper.interpolatePadding(s,f,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,f,_=!0){this._helper.resize(s,f,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,f){this._helper.overrideNearFarZ(s,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(s,f){this._globeness=s,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Bo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(s,f)=>this.getConstrained(s,f)}),this._globeness=1,this._mercatorTransform=new Rr,this._verticalPerspectiveTransform=new yh}clone(){const s=new Nh;return s._globeness=this._globeness,s._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,s.apply(this),s}apply(s){this._helper.apply(s),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(s){const f=this._mercatorTransform.getProjectionData(s),_=this._verticalPerspectiveTransform.getProjectionData(s);return{mainMatrix:this.isGlobeRendering?_.mainMatrix:f.mainMatrix,clippingPlane:_.clippingPlane,tileMercatorCoords:_.tileMercatorCoords,projectionTransition:s.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(s){return this.currentTransform.isLocationOccluded(s)}transformLightDirection(s){return this.currentTransform.transformLightDirection(s)}getPixelScale(){return o.bk(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bk(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(s,f,_){const S=this._mercatorTransform.getPitchedTextCorrection(s,f,_),k=this._verticalPerspectiveTransform.getPitchedTextCorrection(s,f,_);return o.bk(S,k,this._globeness)}projectTileCoordinates(s,f,_,S){return this.currentTransform.projectTileCoordinates(s,f,_,S)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(s){return this.currentTransform.calculateFogMatrix(s)}getVisibleUnwrappedCoordinates(s){return this.currentTransform.getVisibleUnwrappedCoordinates(s)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(s){this._mercatorTransform.recalculateZoomAndCenter(s),this._verticalPerspectiveTransform.recalculateZoomAndCenter(s)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,f){return this.currentTransform.lngLatToCameraDepth(s,f)}populateCache(s){this._mercatorTransform.populateCache(s),this._verticalPerspectiveTransform.populateCache(s)}getBounds(){return this.currentTransform.getBounds()}getConstrained(s,f){return this.currentTransform.getConstrained(s,f)}calculateCenterFromCameraLngLatAlt(s,f,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(s,f,_,S)}setLocationAtPoint(s,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(s,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(s,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(s,f){return this.currentTransform.locationToScreenPoint(s,f)}screenPointToMercatorCoordinate(s,f){return this.currentTransform.screenPointToMercatorCoordinate(s,f)}screenPointToLocation(s,f){return this.currentTransform.screenPointToLocation(s,f)}isPointOnMapSurface(s,f){return this.currentTransform.isPointOnMapSurface(s,f)}getRayDirectionFromPixel(s){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(s)}getMatrixForModel(s,f){return this.currentTransform.getMatrixForModel(s,f)}getProjectionDataForCustomLayer(s=!0){const f=this._mercatorTransform.getProjectionDataForCustomLayer(s);if(!this.isGlobeRendering)return f;const _=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(s);return _.fallbackMatrix=f.mainMatrix,_}getFastPathSimpleProjectionMatrix(s){return this.currentTransform.getFastPathSimpleProjectionMatrix(s)}}class mo{get useGlobeControls(){return!0}handlePanInertia(s,f){const _=Vs(s,f);return Math.abs(_.lng-f.center.lng)>180&&(_.lng=f.center.lng+179.5*Math.sign(_.lng-f.center.lng)),{easingCenter:_,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(s,f){const _=s.around,S=f.screenPointToLocation(_);s.bearingDelta&&f.setBearing(f.bearing+s.bearingDelta),s.pitchDelta&&f.setPitch(f.pitch+s.pitchDelta),s.rollDelta&&f.setRoll(f.roll+s.rollDelta);const k=f.zoom;s.zoomDelta&&f.setZoom(f.zoom+s.zoomDelta);const z=f.zoom-k;if(z===0)return;const q=o.bA(f.center.lng,S.lng),X=q/(Math.abs(q/180)+1),he=o.bA(f.center.lat,S.lat),me=f.getRayDirectionFromPixel(_),Be=f.cameraPosition,Me=-1*o.aX(Be,me),Ue=o.bp();o.aS(Ue,Be,[me[0]*Me,me[1]*Me,me[2]*Me]);const Xe=o.aZ(Ue)-1,At=Math.exp(.5*-Math.max(Xe-.3,0)),ct=gr(f.worldSize,f.center.lat)/Math.min(f.width,f.height),ft=o.bn(ct,.9,.5,1,.25),xt=(1-o.af(-z))*Math.min(At,ft),yt=f.center.lat,wt=f.zoom,Pt=new o.S(f.center.lng+X*xt,o.ah(f.center.lat+he*xt,-o.ai,o.ai));f.setLocationAtPoint(S,_);const Ft=f.center,Bt=o.bn(Math.abs(q),45,85,0,1),Yt=o.bn(ct,.75,.35,0,1),dn=Math.pow(Math.max(Bt,Yt),.25),Xt=o.bA(Ft.lng,Pt.lng),nn=o.bA(Ft.lat,Pt.lat);f.setCenter(new o.S(Ft.lng+Xt*dn,Ft.lat+nn*dn).wrap()),f.setZoom(wt+Nr(yt,f.center.lat))}handleMapControlsPan(s,f,_){if(!s.panDelta)return;const S=f.center.lat,k=f.zoom;f.setCenter(Vs(s.panDelta,f).wrap()),f.setZoom(k+Nr(S,f.center.lat))}cameraForBoxAndBearing(s,f,_,S,k){const z=ns(s,f,_,S,k),q=f.left/k.width*2-1,X=(k.width-f.right)/k.width*2-1,he=f.top/k.height*-2+1,me=(k.height-f.bottom)/k.height*-2+1,Be=o.bA(_.getWest(),_.getEast())<0,Me=Be?_.getEast():_.getWest(),Ue=Be?_.getWest():_.getEast(),Xe=Math.max(_.getNorth(),_.getSouth()),At=Math.min(_.getNorth(),_.getSouth()),ct=Me+.5*o.bA(Me,Ue),ft=Xe+.5*o.bA(Xe,At),xt=k.clone();xt.setCenter(z.center),xt.setBearing(z.bearing),xt.setPitch(0),xt.setRoll(0),xt.setZoom(z.zoom);const yt=xt.modelViewProjectionMatrix,wt=[cr(_.getNorthWest()),cr(_.getNorthEast()),cr(_.getSouthWest()),cr(_.getSouthEast()),cr(new o.S(Ue,ft)),cr(new o.S(Me,ft)),cr(new o.S(ct,Xe)),cr(new o.S(ct,At))],Pt=cr(z.center);let Ft=Number.POSITIVE_INFINITY;for(const Bt of wt)q<0&&(Ft=mo.getLesserNonNegativeNonNull(Ft,mo.solveVectorScale(Bt,Pt,yt,"x",q))),X>0&&(Ft=mo.getLesserNonNegativeNonNull(Ft,mo.solveVectorScale(Bt,Pt,yt,"x",X))),he>0&&(Ft=mo.getLesserNonNegativeNonNull(Ft,mo.solveVectorScale(Bt,Pt,yt,"y",he))),me<0&&(Ft=mo.getLesserNonNegativeNonNull(Ft,mo.solveVectorScale(Bt,Pt,yt,"y",me)));if(Number.isFinite(Ft)&&Ft!==0)return z.zoom=xt.zoom+o.ak(Ft),z;oA()}handleJumpToCenterZoom(s,f){const _=s.center.lat,S=s.getConstrained(f.center?o.S.convert(f.center):s.center,s.zoom).center;s.setCenter(S.wrap());const k=f.zoom!==void 0?+f.zoom:s.zoom+Nr(_,S.lat);s.zoom!==k&&s.setZoom(k)}handleEaseTo(s,f){const _=s.zoom,S=s.center,k=s.padding,z={roll:s.roll,pitch:s.pitch,bearing:s.bearing},q={roll:f.roll===void 0?s.roll:f.roll,pitch:f.pitch===void 0?s.pitch:f.pitch,bearing:f.bearing===void 0?s.bearing:f.bearing},X=f.zoom!==void 0,he=!s.isPaddingEqual(f.padding);let me=!1;const Be=f.center?o.S.convert(f.center):S,Me=s.getConstrained(Be,_).center;hu(s,Me);const Ue=s.clone();Ue.setCenter(Me),Ue.setZoom(X?+f.zoom:_+Nr(S.lat,Be.lat)),Ue.setBearing(f.bearing);const Xe=new o.P(o.ah(s.centerPoint.x+f.offsetAsPoint.x,0,s.width),o.ah(s.centerPoint.y+f.offsetAsPoint.y,0,s.height));Ue.setLocationAtPoint(Me,Xe);const At=(f.offset&&f.offsetAsPoint.mag())>0?Ue.center:Me,ct=X?+f.zoom:_+Nr(S.lat,At.lat),ft=_+Nr(S.lat,0),xt=ct+Nr(At.lat,0),yt=o.bA(S.lng,At.lng),wt=o.bA(S.lat,At.lat),Pt=o.af(xt-ft);return me=ct!==_,{easeFunc:Ft=>{if(o.be(z,q)||Ga({startEulerAngles:z,endEulerAngles:q,tr:s,k:Ft,useSlerp:z.roll!=q.roll}),he&&s.interpolatePadding(k,f.padding,Ft),f.around)o.w("Easing around a point is not supported under globe projection."),s.setLocationAtPoint(f.around,f.aroundPoint);else{const Bt=xt>ft?Math.min(2,Pt):Math.max(.5,Pt),Yt=Math.pow(Bt,1-Ft),dn=qA(S,yt,wt,Ft*Yt);s.setCenter(dn.wrap())}if(me){const Bt=o.C.number(ft,xt,Ft)+Nr(0,s.center.lat);s.setZoom(Bt)}},isZooming:me,elevationCenter:At}}handleFlyTo(s,f){const _=f.zoom!==void 0,S=s.center,k=s.zoom,z=s.padding,q=!s.isPaddingEqual(f.padding),X=s.getConstrained(o.S.convert(f.center||f.locationAtOffset),k).center,he=_?+f.zoom:s.zoom+Nr(s.center.lat,X.lat),me=s.clone();me.setCenter(X),me.setZoom(he),me.setBearing(f.bearing);const Be=new o.P(o.ah(s.centerPoint.x+f.offsetAsPoint.x,0,s.width),o.ah(s.centerPoint.y+f.offsetAsPoint.y,0,s.height));me.setLocationAtPoint(X,Be);const Me=me.center;hu(s,Me);const Ue=function(wt,Pt,Ft){const Bt=cr(Pt),Yt=cr(Ft),dn=o.aX(Bt,Yt),Xt=Math.acos(dn),nn=no(wt);return Xt/(2*Math.PI)*nn}(s,S,Me),Xe=k+Nr(S.lat,0),At=he+Nr(Me.lat,0),ct=o.af(At-Xe);let ft;if(typeof f.minZoom=="number"){const wt=+f.minZoom+Nr(Me.lat,0),Pt=Math.min(wt,Xe,At)+Nr(0,Me.lat),Ft=s.getConstrained(Me,Pt).zoom+Nr(Me.lat,0);ft=o.af(Ft-Xe)}const xt=o.bA(S.lng,Me.lng),yt=o.bA(S.lat,Me.lat);return{easeFunc:(wt,Pt,Ft,Bt)=>{const Yt=qA(S,xt,yt,Ft);q&&s.interpolatePadding(z,f.padding,wt);const dn=wt===1?Me:Yt;s.setCenter(dn.wrap());const Xt=Xe+o.ak(Pt);s.setZoom(wt===1?he:Xt+Nr(0,dn.lat))},scaleOfZoom:ct,targetCenter:Me,scaleOfMinZoom:ft,pixelPathLength:Ue}}static solveVectorScale(s,f,_,S,k){const z=S==="x"?[_[0],_[4],_[8],_[12]]:[_[1],_[5],_[9],_[13]],q=[_[3],_[7],_[11],_[15]],X=s[0]*z[0]+s[1]*z[1]+s[2]*z[2],he=s[0]*q[0]+s[1]*q[1]+s[2]*q[2],me=f[0]*z[0]+f[1]*z[1]+f[2]*z[2],Be=f[0]*q[0]+f[1]*q[1]+f[2]*q[2];return me+k*he===X+k*Be||q[3]*(X-me)+z[3]*(Be-he)+X*Be==me*he?null:(me+z[3]-k*Be-k*q[3])/(me-X-k*Be+k*he)}static getLesserNonNegativeNonNull(s,f){return f!==null&&f>=0&&f<s?f:s}}class oc{constructor(s){this._globe=s,this._mercatorCameraHelper=new Ca,this._verticalPerspectiveCameraHelper=new mo}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(s,f){return this.currentHelper.handlePanInertia(s,f)}handleMapControlsRollPitchBearingZoom(s,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(s,f)}handleMapControlsPan(s,f,_){this.currentHelper.handleMapControlsPan(s,f,_)}cameraForBoxAndBearing(s,f,_,S,k){return this.currentHelper.cameraForBoxAndBearing(s,f,_,S,k)}handleJumpToCenterZoom(s,f){this.currentHelper.handleJumpToCenterZoom(s,f)}handleEaseTo(s,f){return this.currentHelper.handleEaseTo(s,f)}handleFlyTo(s,f){return this.currentHelper.handleFlyTo(s,f)}}const Cd=(I,s)=>o.y(I,s&&s.filter(f=>f.identifier!=="source.canvas")),fm=o.bE();class vh extends o.E{constructor(s,f={}){var _,S;super(),this._rtlPluginLoaded=()=>{for(const z in this.sourceCaches){const q=this.sourceCaches[z].getSource().type;q!=="vector"&&q!=="geojson"||this.sourceCaches[z].reload()}},this.map=s,this.dispatcher=new St(gt(),s._getMapId()),this.dispatcher.registerMessageHandler("GG",(z,q)=>this.getGlyphs(z,q)),this.dispatcher.registerMessageHandler("GI",(z,q)=>this.getImages(z,q)),this.imageManager=new ge,this.imageManager.setEventedParent(this);const k=((_=s._container)===null||_===void 0?void 0:_.lang)||typeof document<"u"&&((S=document.documentElement)===null||S===void 0?void 0:S.lang)||void 0;this.glyphManager=new Se(s._requestManager,f.localIdeographFontFamily,k),this.lineAtlas=new nt(256,512),this.crossTileSymbolIndex=new Hs,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bF,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",o.bG()),je().on(Oi,this._rtlPluginLoaded),this.on("data",z=>{if(z.dataType!=="source"||z.sourceDataType!=="metadata")return;const q=this.sourceCaches[z.sourceId];if(!q)return;const X=q.getSource();if(X&&X.vectorLayerIds)for(const he in this._layers){const me=this._layers[he];me.source===X.id&&this._validateLayer(me)}})}setGlobalStateProperty(s,f){var _,S,k;this._checkLoaded();const z=f===null?(k=(S=(_=this.stylesheet.state)===null||_===void 0?void 0:_[s])===null||S===void 0?void 0:S.default)!==null&&k!==void 0?k:null:f;if(o.bH(z,this._globalState[s]))return this;this._globalState[s]=z,this._applyGlobalStateChanges([s])}getGlobalState(){return this._globalState}setGlobalState(s){this._checkLoaded();const f=[];for(const _ in s)!o.bH(this._globalState[_],s[_].default)&&(f.push(_),this._globalState[_]=s[_].default);this._applyGlobalStateChanges(f)}_applyGlobalStateChanges(s){if(s.length===0)return;const f=new Set;for(const _ in this._layers){const S=this._layers[_],k=S.getLayoutAffectingGlobalStateRefs(),z=S.getPaintAffectingGlobalStateRefs();for(const q of s)if(k.has(q)&&f.add(S.source),z.has(q))for(const{name:X,value:he}of z.get(q))this._updatePaintProperty(S,X,he)}for(const _ in this.sourceCaches)f.has(_)&&(this._reloadSource(_),this._changed=!0)}loadURL(s,f={},_){this.fire(new o.l("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const S=this.map._requestManager.transformRequest(s,"Style");this._loadStyleRequest=new AbortController;const k=this._loadStyleRequest;o.j(S,this._loadStyleRequest).then(z=>{this._loadStyleRequest=null,this._load(z.data,f,_)}).catch(z=>{this._loadStyleRequest=null,z&&!k.signal.aborted&&this.fire(new o.k(z))})}loadJSON(s,f={},_){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,U.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(s,f,_)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(fm,{validate:!1})}_load(s,f,_){var S,k;let z=f.transformStyle?f.transformStyle(_,s):s;if(!f.validate||!Cd(this,o.z(z))){z=Object.assign({},z),this._loaded=!0,this.stylesheet=z;for(const q in z.sources)this.addSource(q,z.sources[q],{validate:!1});z.sprite?this._loadSprite(z.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(z.glyphs),this._createLayers(),this.light=new ze(this.stylesheet.light),this._setProjectionInternal(((S=this.stylesheet.projection)===null||S===void 0?void 0:S.type)||"mercator"),this.sky=new Ct(this.stylesheet.sky),this.map.setTerrain((k=this.stylesheet.terrain)!==null&&k!==void 0?k:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){var s;const f=o.bI(this.stylesheet.layers);this.dispatcher.broadcast("SL",f),this._order=f.map(_=>_.id),this._layers={},this.setGlobalState((s=this.stylesheet.state)!==null&&s!==void 0?s:null),this._serializedLayers=null;for(const _ of f){const S=o.bJ(_);S.setEventedParent(this,{layer:{id:_.id}}),S.setGlobalState(this._globalState),this._layers[_.id]=S}}_loadSprite(s,f=!1,_=void 0){let S;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(k,z,q,X){return o._(this,void 0,void 0,function*(){const he=ae(k),me=q>1?"@2x":"",Be={},Me={};for(const{id:Ue,url:Xe}of he){const At=z.transformRequest(G(Xe,me,".json"),"SpriteJSON");Be[Ue]=o.j(At,X);const ct=z.transformRequest(G(Xe,me,".png"),"SpriteImage");Me[Ue]=ne.getImage(ct,X)}return yield Promise.all([...Object.values(Be),...Object.values(Me)]),function(Ue,Xe){return o._(this,void 0,void 0,function*(){const At={};for(const ct in Ue){At[ct]={};const ft=U.getImageCanvasContext((yield Xe[ct]).data),xt=(yield Ue[ct]).data;for(const yt in xt){const{width:wt,height:Pt,x:Ft,y:Bt,sdf:Yt,pixelRatio:dn,stretchX:Xt,stretchY:nn,content:An,textFitWidth:qn,textFitHeight:Qn}=xt[yt];At[ct][yt]={data:null,pixelRatio:dn,sdf:Yt,stretchX:Xt,stretchY:nn,content:An,textFitWidth:qn,textFitHeight:Qn,spriteData:{width:wt,height:Pt,x:Ft,y:Bt,context:ft}}}}return At})}(Be,Me)})}(s,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(k=>{if(this._spriteRequest=null,k)for(const z in k){this._spritesImagesIds[z]=[];const q=this._spritesImagesIds[z]?this._spritesImagesIds[z].filter(X=>!(X in k)):[];for(const X of q)this.imageManager.removeImage(X),this._changedImages[X]=!0;for(const X in k[z]){const he=z==="default"?X:`${z}:${X}`;this._spritesImagesIds[z].push(he),he in this.imageManager.images?this.imageManager.updateImage(he,k[z][X],!1):this.imageManager.addImage(he,k[z][X]),f&&(this._changedImages[he]=!0)}}}).catch(k=>{this._spriteRequest=null,S=k,this.fire(new o.k(S))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),_&&_(S)})}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(s){const f=this.sourceCaches[s.source];if(!f)return;const _=s.sourceLayer;if(!_)return;const S=f.getSource();(S.type==="geojson"||S.vectorLayerIds&&S.vectorLayerIds.indexOf(_)===-1)&&this.fire(new o.k(new Error(`Source layer "${_}" does not exist on source "${S.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s,f=!1){const _=this._serializedAllLayers();if(!s||s.length===0)return Object.values(f?o.bK(_):_);const S=[];for(const k of s)if(_[k]){const z=f?o.bK(_[k]):_[k];S.push(z)}return S}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const f=Object.keys(this._layers);for(const _ of f){const S=this._layers[_];S.type!=="custom"&&(s[_]=S.serialize())}return s}hasTransitions(){var s,f,_;if(!((s=this.light)===null||s===void 0)&&s.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((_=this.projection)===null||_===void 0)&&_.hasTransition())return!0;for(const S in this.sourceCaches)if(this.sourceCaches[S].hasTransition())return!0;for(const S in this._layers)if(this._layers[S].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const f=this._changed;if(f){const S=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(S.length||k.length)&&this._updateWorkerLayers(S,k);for(const z in this._updatedSources){const q=this._updatedSources[z];if(q==="reload")this._reloadSource(z);else{if(q!=="clear")throw new Error(`Invalid action ${q}`);this._clearSource(z)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const z in this._updatedPaintProps)this._layers[z].updateTransitions(s);this.light.updateTransitions(s),this.sky.updateTransitions(s),this._resetUpdates()}const _={};for(const S in this.sourceCaches){const k=this.sourceCaches[S];_[S]=k.used,k.used=!1}for(const S of this._order){const k=this._layers[S];k.recalculate(s,this._availableImages),!k.isHidden(s.zoom)&&k.source&&(this.sourceCaches[k.source].used=!0)}for(const S in _){const k=this.sourceCaches[S];!!_[S]!=!!k.used&&k.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:S}))}this.light.recalculate(s),this.sky.recalculate(s),this.projection.recalculate(s),this.z=s.zoom,f&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(s,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,f={}){var _;this._checkLoaded();const S=this.serialize();if(s=f.transformStyle?f.transformStyle(S,s):s,((_=f.validate)===null||_===void 0||_)&&Cd(this,o.z(s)))return!1;(s=o.bK(s)).layers=o.bI(s.layers);const k=o.bL(S,s),z=this._getOperationsToPerform(k);if(z.unimplemented.length>0)throw new Error(`Unimplemented: ${z.unimplemented.join(", ")}.`);if(z.operations.length===0)return!1;for(const q of z.operations)q();return this.stylesheet=s,this._serializedLayers=null,!0}_getOperationsToPerform(s){const f=[],_=[];for(const S of s)switch(S.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push(()=>this.addLayer.apply(this,S.args));break;case"removeLayer":f.push(()=>this.removeLayer.apply(this,S.args));break;case"setPaintProperty":f.push(()=>this.setPaintProperty.apply(this,S.args));break;case"setLayoutProperty":f.push(()=>this.setLayoutProperty.apply(this,S.args));break;case"setFilter":f.push(()=>this.setFilter.apply(this,S.args));break;case"addSource":f.push(()=>this.addSource.apply(this,S.args));break;case"removeSource":f.push(()=>this.removeSource.apply(this,S.args));break;case"setLayerZoomRange":f.push(()=>this.setLayerZoomRange.apply(this,S.args));break;case"setLight":f.push(()=>this.setLight.apply(this,S.args));break;case"setGeoJSONSourceData":f.push(()=>this.setGeoJSONSourceData.apply(this,S.args));break;case"setGlyphs":f.push(()=>this.setGlyphs.apply(this,S.args));break;case"setSprite":f.push(()=>this.setSprite.apply(this,S.args));break;case"setTerrain":f.push(()=>this.map.setTerrain.apply(this,S.args));break;case"setSky":f.push(()=>this.setSky.apply(this,S.args));break;case"setProjection":this.setProjection.apply(this,S.args);break;case"setGlobalState":f.push(()=>this.setGlobalState.apply(this,S.args));break;case"setTransition":f.push(()=>{});break;default:_.push(S.command)}return{operations:f,unimplemented:_}}addImage(s,f){if(this.getImage(s))return this.fire(new o.k(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,f),this._afterImageUpdated(s)}updateImage(s,f){this.imageManager.updateImage(s,f)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new o.k(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,f,_={}){if(this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(o.z.source,`sources.${s}`,f,null,_))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const S=this.sourceCaches[s]=new Dn(s,f,this.dispatcher);S.style=this,S.setEventedParent(this,()=>({isSourceLoaded:S.loaded(),source:S.serialize(),sourceId:s})),S.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===s)return this.fire(new o.k(new Error(`Source "${s}" cannot be removed while layer "${_}" is using it.`)));const f=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],f.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,f){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error(`There is no source with this ID=${s}`);const _=this.sourceCaches[s].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(f),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,f,_={}){this._checkLoaded();const S=s.id;if(this.getLayer(S))return void this.fire(new o.k(new Error(`Layer "${S}" already exists on this map.`)));let k;if(s.type==="custom"){if(Cd(this,o.bM(s)))return;k=o.bJ(s)}else{if("source"in s&&typeof s.source=="object"&&(this.addSource(S,s.source),s=o.bK(s),s=o.e(s,{source:S})),this._validate(o.z.layer,`layers.${S}`,s,{arrayIndex:-1},_))return;k=o.bJ(s),this._validateLayer(k),k.setEventedParent(this,{layer:{id:S}})}const z=f?this._order.indexOf(f):this._order.length;if(f&&z===-1)this.fire(new o.k(new Error(`Cannot add layer "${S}" before non-existing layer "${f}".`)));else{if(this._order.splice(z,0,S),this._layerOrderChanged=!0,this._layers[S]=k,this._removedLayers[S]&&k.source&&k.type!=="custom"){const q=this._removedLayers[S];delete this._removedLayers[S],q.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",this.sourceCaches[k.source].pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map)}}moveLayer(s,f){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new o.k(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===f)return;const _=this._order.indexOf(s);this._order.splice(_,1);const S=f?this._order.indexOf(f):this._order.length;f&&S===-1?this.fire(new o.k(new Error(`Cannot move layer "${s}" before non-existing layer "${f}".`))):(this._order.splice(S,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const f=this._layers[s];if(!f)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${s}".`)));f.setEventedParent(null);const _=this._order.indexOf(s);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=f,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],f.onRemove&&f.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,f,_){this._checkLoaded();const S=this.getLayer(s);S?S.minzoom===f&&S.maxzoom===_||(f!=null&&(S.minzoom=f),_!=null&&(S.maxzoom=_),this._updateLayer(S)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,f,_={}){this._checkLoaded();const S=this.getLayer(s);if(S){if(!o.bH(S.filter,f))return f==null?(S.setFilter(void 0),void this._updateLayer(S)):void(this._validate(o.z.filter,`layers.${S.id}.filter`,f,null,_)||(S.setFilter(o.bK(f)),this._updateLayer(S)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return o.bK(this.getLayer(s).filter)}setLayoutProperty(s,f,_,S={}){this._checkLoaded();const k=this.getLayer(s);k?o.bH(k.getLayoutProperty(f),_)||(k.setLayoutProperty(f,_,S),this._updateLayer(k)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,f){const _=this.getLayer(s);if(_)return _.getLayoutProperty(f);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,f,_,S={}){this._checkLoaded();const k=this.getLayer(s);k?o.bH(k.getPaintProperty(f),_)||this._updatePaintProperty(k,f,_,S):this.fire(new o.k(new Error(`Cannot style non-existing layer "${s}".`)))}_updatePaintProperty(s,f,_,S={}){s.setPaintProperty(f,_,S)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[s.id]=!0,this._serializedLayers=null}getPaintProperty(s,f){return this.getLayer(s).getPaintProperty(f)}setFeatureState(s,f){this._checkLoaded();const _=s.source,S=s.sourceLayer,k=this.sourceCaches[_];if(k===void 0)return void this.fire(new o.k(new Error(`The source '${_}' does not exist in the map's style.`)));const z=k.getSource().type;z==="geojson"&&S?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):z!=="vector"||S?(s.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),k.setFeatureState(S,s.id,f)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,f){this._checkLoaded();const _=s.source,S=this.sourceCaches[_];if(S===void 0)return void this.fire(new o.k(new Error(`The source '${_}' does not exist in the map's style.`)));const k=S.getSource().type,z=k==="vector"?s.sourceLayer:void 0;k!=="vector"||z?f&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):S.removeFeatureState(z,s.id,f):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const f=s.source,_=s.sourceLayer,S=this.sourceCaches[f];if(S!==void 0)return S.getSource().type!=="vector"||_?(s.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),S.getFeatureState(_,s.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=o.bN(this.sourceCaches,k=>k.serialize()),f=this._serializeByIds(this._order,!0),_=this.map.getTerrain()||void 0,S=this.stylesheet;return o.bO({version:S.version,name:S.name,metadata:S.metadata,light:S.light,sky:S.sky,center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,sprite:S.sprite,glyphs:S.glyphs,transition:S.transition,projection:S.projection,sources:s,layers:f,terrain:_},k=>k!==void 0)}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const f=z=>this._layers[z].type==="fill-extrusion",_={},S=[];for(let z=this._order.length-1;z>=0;z--){const q=this._order[z];if(f(q)){_[q]=z;for(const X of s){const he=X[q];if(he)for(const me of he)S.push(me)}}}S.sort((z,q)=>q.intersectionZ-z.intersectionZ);const k=[];for(let z=this._order.length-1;z>=0;z--){const q=this._order[z];if(f(q))for(let X=S.length-1;X>=0;X--){const he=S[X].feature;if(_[he.layer.id]<z)break;k.push(he),S.pop()}else for(const X of s){const he=X[q];if(he)for(const me of he)k.push(me.feature)}}return k}queryRenderedFeatures(s,f,_){f&&f.filter&&this._validate(o.z.filter,"queryRenderedFeatures.filter",f.filter,null,f);const S={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const he of f.layers){const me=this._layers[he];if(!me)return this.fire(new o.k(new Error(`The layer '${he}' does not exist in the map's style and cannot be queried for features.`))),[];S[me.source]=!0}}const k=[];f.availableImages=this._availableImages;const z=this._serializedAllLayers(),q=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,X=Object.assign(Object.assign({},f),{layers:q});for(const he in this.sourceCaches)f.layers&&!S[he]||k.push(Ke(this.sourceCaches[he],this._layers,z,s,X,_,this.map.terrain?(me,Be,Me)=>this.map.terrain.getElevation(me,Be,Me):void 0));return this.placement&&k.push(function(he,me,Be,Me,Ue,Xe,At){const ct={},ft=Xe.queryRenderedSymbols(Me),xt=[];for(const yt of Object.keys(ft).map(Number))xt.push(At[yt]);xt.sort(Re);for(const yt of xt){const wt=yt.featureIndex.lookupSymbolFeatures(ft[yt.bucketInstanceId],me,yt.bucketIndex,yt.sourceLayerIndex,Ue.filter,Ue.layers,Ue.availableImages,he);for(const Pt in wt){const Ft=ct[Pt]=ct[Pt]||[],Bt=wt[Pt];Bt.sort((Yt,dn)=>{const Xt=yt.featureSortOrder;if(Xt){const nn=Xt.indexOf(Yt.featureIndex);return Xt.indexOf(dn.featureIndex)-nn}return dn.featureIndex-Yt.featureIndex});for(const Yt of Bt)Ft.push(Yt)}}return function(yt,wt,Pt){for(const Ft in yt)for(const Bt of yt[Ft])He(Bt,Pt[wt[Ft].source]);return yt}(ct,he,Be)}(this._layers,z,this.sourceCaches,s,X,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(s,f){f&&f.filter&&this._validate(o.z.filter,"querySourceFeatures.filter",f.filter,null,f);const _=this.sourceCaches[s];return _?function(S,k){const z=S.getRenderableIds().map(he=>S.getTileByID(he)),q=[],X={};for(let he=0;he<z.length;he++){const me=z[he],Be=me.tileID.canonical.key;X[Be]||(X[Be]=!0,me.querySourceFeatures(q,k))}return q}(_,f):[]}getLight(){return this.light.getLight()}setLight(s,f={}){this._checkLoaded();const _=this.light.getLight();let S=!1;for(const z in s)if(!o.bH(s[z],_[z])){S=!0;break}if(!S)return;const k={now:U.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,f),this.light.updateTransitions(k)}getProjection(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.projection}setProjection(s){if(this._checkLoaded(),this.projection){if(this.projection.name===s.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=s,this._setProjectionInternal(s.type)}getSky(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.sky}setSky(s,f={}){this._checkLoaded();const _=this.getSky();let S=!1;if(!s&&!_)return;if(s&&!_)S=!0;else if(!s&&_)S=!0;else for(const z in s)if(!o.bH(s[z],_[z])){S=!0;break}if(!S)return;const k={now:U.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=s,this.sky.setSky(s,f),this.sky.updateTransitions(k)}_setProjectionInternal(s){const f=function(_){if(Array.isArray(_)){const S=new Ji({type:_});return{projection:S,transform:new Nh,cameraHelper:new oc(S)}}switch(_){case"mercator":return{projection:new Mr,transform:new Rr,cameraHelper:new Ca};case"globe":{const S=new Ji({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:S,transform:new Nh,cameraHelper:new oc(S)}}case"vertical-perspective":return{projection:new ar,transform:new yh,cameraHelper:new mo};default:return o.w(`Unknown projection name: ${_}. Falling back to mercator projection.`),{projection:new Mr,transform:new Rr,cameraHelper:new Ca}}}(s);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(const _ in this.sourceCaches)this.sourceCaches[_].reload()}_validate(s,f,_,S,k={}){return(!k||k.validate!==!1)&&Cd(this,s.call(o.z,o.e({key:f,style:this.serialize(),value:_,styleSpec:o.v},S)))}_remove(s=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),je().off(Oi,this._rtlPluginLoaded);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const _=this.sourceCaches[f];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),s&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(const f in this.sourceCaches)this.sourceCaches[f].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,f,_,S,k=!1){let z=!1,q=!1;const X={};for(const he of this._order){const me=this._layers[he];if(me.type!=="symbol")continue;if(!X[me.source]){const Me=this.sourceCaches[me.source];X[me.source]=Me.getRenderableIds(!0).map(Ue=>Me.getTileByID(Ue)).sort((Ue,Xe)=>Xe.tileID.overscaledZ-Ue.tileID.overscaledZ||(Ue.tileID.isLessThan(Xe.tileID)?-1:1))}const Be=this.crossTileSymbolIndex.addLayer(me,X[me.source],s.center.lng);z=z||Be}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((k=k||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(U.now(),s.zoom))&&(this.pauseablePlacement=new Pu(s,this.map.terrain,this._order,k,f,_,S,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,X),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(U.now()),q=!0),z&&this.pauseablePlacement.placement.setStale()),q||z)for(const he of this._order){const me=this._layers[he];me.type==="symbol"&&this.placement.updateLayerOpacities(me,X[me.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(U.now())}_releaseSymbolFadeTiles(){for(const s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,f){return o._(this,void 0,void 0,function*(){const _=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();const S=this.sourceCaches[f.source];return S&&S.setDependencies(f.tileID.key,f.type,f.icons),_})}getGlyphs(s,f){return o._(this,void 0,void 0,function*(){const _=yield this.glyphManager.getGlyphs(f.stacks),S=this.sourceCaches[f.source];return S&&S.setDependencies(f.tileID.key,f.type,[""]),_})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,f={}){this._checkLoaded(),s&&this._validate(o.z.glyphs,"glyphs",s,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,f,_={},S){this._checkLoaded();const k=[{id:s,url:f}],z=[...ae(this.stylesheet.sprite),...k];this._validate(o.z.sprite,"sprite",z,null,_)||(this.stylesheet.sprite=z,this._loadSprite(k,!0,S))}removeSprite(s){this._checkLoaded();const f=ae(this.stylesheet.sprite);if(f.find(_=>_.id===s)){if(this._spritesImagesIds[s])for(const _ of this._spritesImagesIds[s])this.imageManager.removeImage(_),this._changedImages[_]=!0;f.splice(f.findIndex(_=>_.id===s),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return ae(this.stylesheet.sprite)}setSprite(s,f={},_){this._checkLoaded(),s&&this._validate(o.z.sprite,"sprite",s,null,f)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,_):(this._unloadSprite(),_&&_(null)))}}var _d=o.aJ([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class o0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,f,_,S,k,z,q,X,he){this.context=s;let me=this.boundPaintVertexBuffers.length!==S.length;for(let Be=0;!me&&Be<S.length;Be++)this.boundPaintVertexBuffers[Be]!==S[Be]&&(me=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==_||me||this.boundIndexBuffer!==k||this.boundVertexOffset!==z||this.boundDynamicVertexBuffer!==q||this.boundDynamicVertexBuffer2!==X||this.boundDynamicVertexBuffer3!==he?this.freshBind(f,_,S,k,z,q,X,he):(s.bindVertexArray.set(this.vao),q&&q.bind(),k&&k.dynamicDraw&&k.bind(),X&&X.bind(),he&&he.bind())}freshBind(s,f,_,S,k,z,q,X){const he=s.numAttributes,me=this.context,Be=me.gl;this.vao&&this.destroy(),this.vao=me.createVertexArray(),me.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=S,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=z,this.boundDynamicVertexBuffer2=q,this.boundDynamicVertexBuffer3=X,f.enableAttributes(Be,s);for(const Me of _)Me.enableAttributes(Be,s);z&&z.enableAttributes(Be,s),q&&q.enableAttributes(Be,s),X&&X.enableAttributes(Be,s),f.bind(),f.setVertexAttribPointers(Be,s,k);for(const Me of _)Me.bind(),Me.setVertexAttribPointers(Be,s,k);z&&(z.bind(),z.setVertexAttribPointers(Be,s,k)),S&&S.bind(),q&&(q.bind(),q.setVertexAttribPointers(Be,s,k)),X&&(X.bind(),X.setVertexAttribPointers(Be,s,k)),me.currentNumAttributes=he}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Df=(I,s,f,_,S)=>({u_texture:0,u_ele_delta:I,u_fog_matrix:s,u_fog_color:f?f.properties.get("fog-color"):o.bf.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:S?0:f?f.calculateFogBlendOpacity(_):0,u_horizon_color:f?f.properties.get("horizon-color"):o.bf.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:S?1:0}),Rf={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function VA(I){const s=[];for(let f=0;f<I.length;f++){if(I[f]===null)continue;const _=I[f].split(" ");s.push(_.pop())}return s}class is{constructor(s,f,_,S,k,z,q,X,he=[]){const me=s.gl;this.program=me.createProgram();const Be=VA(f.staticAttributes),Me=_?_.getBinderAttributes():[],Ue=Be.concat(Me),Xe=Do.prelude.staticUniforms?VA(Do.prelude.staticUniforms):[],At=q.staticUniforms?VA(q.staticUniforms):[],ct=f.staticUniforms?VA(f.staticUniforms):[],ft=_?_.getBinderUniforms():[],xt=Xe.concat(At).concat(ct).concat(ft),yt=[];for(const Xt of xt)yt.indexOf(Xt)<0&&yt.push(Xt);const wt=_?_.defines():[];at(me)&&wt.unshift("#version 300 es"),k&&wt.push("#define OVERDRAW_INSPECTOR;"),z&&wt.push("#define TERRAIN3D;"),X&&wt.push(X),he&&wt.push(...he);let Pt=wt.concat(Do.prelude.fragmentSource,q.fragmentSource,f.fragmentSource).join(`
`),Ft=wt.concat(Do.prelude.vertexSource,q.vertexSource,f.vertexSource).join(`
`);at(me)||(Pt=function(Xt){return Xt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Pt),Ft=function(Xt){return Xt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Ft));const Bt=me.createShader(me.FRAGMENT_SHADER);if(me.isContextLost())return void(this.failedToCreate=!0);if(me.shaderSource(Bt,Pt),me.compileShader(Bt),!me.getShaderParameter(Bt,me.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${me.getShaderInfoLog(Bt)}`);me.attachShader(this.program,Bt);const Yt=me.createShader(me.VERTEX_SHADER);if(me.isContextLost())return void(this.failedToCreate=!0);if(me.shaderSource(Yt,Ft),me.compileShader(Yt),!me.getShaderParameter(Yt,me.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${me.getShaderInfoLog(Yt)}`);me.attachShader(this.program,Yt),this.attributes={};const dn={};this.numAttributes=Ue.length;for(let Xt=0;Xt<this.numAttributes;Xt++)Ue[Xt]&&(me.bindAttribLocation(this.program,Xt,Ue[Xt]),this.attributes[Ue[Xt]]=Xt);if(me.linkProgram(this.program),!me.getProgramParameter(this.program,me.LINK_STATUS))throw new Error(`Program failed to link: ${me.getProgramInfoLog(this.program)}`);me.deleteShader(Yt),me.deleteShader(Bt);for(let Xt=0;Xt<yt.length;Xt++){const nn=yt[Xt];if(nn&&!dn[nn]){const An=me.getUniformLocation(this.program,nn);An&&(dn[nn]=An)}}this.fixedUniforms=S(s,dn),this.terrainUniforms=((Xt,nn)=>({u_depth:new o.bP(Xt,nn.u_depth),u_terrain:new o.bP(Xt,nn.u_terrain),u_terrain_dim:new o.bg(Xt,nn.u_terrain_dim),u_terrain_matrix:new o.bR(Xt,nn.u_terrain_matrix),u_terrain_unpack:new o.bS(Xt,nn.u_terrain_unpack),u_terrain_exaggeration:new o.bg(Xt,nn.u_terrain_exaggeration)}))(s,dn),this.projectionUniforms=((Xt,nn)=>({u_projection_matrix:new o.bR(Xt,nn.u_projection_matrix),u_projection_tile_mercator_coords:new o.bS(Xt,nn.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bS(Xt,nn.u_projection_clipping_plane),u_projection_transition:new o.bg(Xt,nn.u_projection_transition),u_projection_fallback_matrix:new o.bR(Xt,nn.u_projection_fallback_matrix)}))(s,dn),this.binderUniforms=_?_.getUniforms(s,dn):[]}draw(s,f,_,S,k,z,q,X,he,me,Be,Me,Ue,Xe,At,ct,ft,xt,yt){const wt=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(_),s.setStencilMode(S),s.setColorMode(k),s.setCullFace(z),X){s.activeTexture.set(wt.TEXTURE2),wt.bindTexture(wt.TEXTURE_2D,X.depthTexture),s.activeTexture.set(wt.TEXTURE3),wt.bindTexture(wt.TEXTURE_2D,X.texture);for(const Ft in this.terrainUniforms)this.terrainUniforms[Ft].set(X[Ft])}if(he)for(const Ft in he)this.projectionUniforms[Rf[Ft]].set(he[Ft]);if(q)for(const Ft in this.fixedUniforms)this.fixedUniforms[Ft].set(q[Ft]);ct&&ct.setUniforms(s,this.binderUniforms,Xe,{zoom:At});let Pt=0;switch(f){case wt.LINES:Pt=2;break;case wt.TRIANGLES:Pt=3;break;case wt.LINE_STRIP:Pt=1}for(const Ft of Ue.get()){const Bt=Ft.vaos||(Ft.vaos={});(Bt[me]||(Bt[me]=new o0)).bind(s,this,Be,ct?ct.getPaintVertexBuffers():[],Me,Ft.vertexOffset,ft,xt,yt),wt.drawElements(f,Ft.primitiveLength*Pt,wt.UNSIGNED_SHORT,Ft.primitiveOffset*Pt*2)}}}function bd(I,s,f){const _=1/o.aC(f,1,s.transform.tileZoom),S=Math.pow(2,f.tileID.overscaledZ),k=f.tileSize*Math.pow(2,s.transform.tileZoom)/S,z=k*(f.tileID.canonical.x+f.tileID.wrap*S),q=k*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[_,I.fromScale,I.toScale],u_fade:I.t,u_pixel_coord_upper:[z>>16,q>>16],u_pixel_coord_lower:[65535&z,65535&q]}}const zl=(I,s,f,_)=>{const S=I.style.light,k=S.properties.get("position"),z=[k.x,k.y,k.z],q=o.bV();S.properties.get("anchor")==="viewport"&&o.bW(q,I.transform.bearingInRadians),o.bX(z,z,q);const X=I.transform.transformLightDirection(z),he=S.properties.get("color");return{u_lightpos:z,u_lightpos_globe:X,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[he.r,he.g,he.b],u_vertical_gradient:+s,u_opacity:f,u_fill_translate:_}},xd=(I,s,f,_,S,k,z)=>o.e(zl(I,s,f,_),bd(k,I,z),{u_height_factor:-Math.pow(2,S.overscaledZ)/z.tileSize/8}),Gh=(I,s,f,_)=>o.e(bd(s,I,f),{u_fill_translate:_}),Hc=(I,s)=>({u_world:I,u_fill_translate:s}),Wh=(I,s,f,_,S)=>o.e(Gh(I,s,f,S),{u_world:_}),Pf=(I,s,f,_,S)=>{const k=I.transform;let z,q,X=0;if(f.paint.get("circle-pitch-alignment")==="map"){const he=o.aC(s,1,k.zoom);z=!0,q=[he,he],X=he/(o.$*Math.pow(2,s.tileID.overscaledZ))*2*Math.PI*S}else z=!1,q=k.pixelsToGLUnits;return{u_camera_to_center_distance:k.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+z,u_device_pixel_ratio:I.pixelRatio,u_extrude_scale:q,u_globe_extrude_scale:X,u_translate:_}},Ch=I=>({u_pixel_extrude_scale:[1/I.width,1/I.height]}),_h=I=>({u_viewport_size:[I.width,I.height]}),Qh=(I,s=1)=>({u_color:I,u_overlay:0,u_overlay_scale:s}),Kf=(I,s,f,_)=>{const S=o.aC(I,1,s)/(o.$*Math.pow(2,I.tileID.overscaledZ))*2*Math.PI*_;return{u_extrude_scale:o.aC(I,1,s),u_intensity:f,u_globe_extrude_scale:S}},aA=(I,s,f,_)=>{const S=o.L();o.bY(S,0,I.width,I.height,0,0,1);const k=I.context.gl;return{u_matrix:S,u_world:[k.drawingBufferWidth,k.drawingBufferHeight],u_image:f,u_color_ramp:_,u_opacity:s.paint.get("heatmap-opacity")}},Uf=(I,s,f)=>{const _=f.paint.get("hillshade-accent-color");let S;switch(f.paint.get("hillshade-method")){case"basic":S=4;break;case"combined":S=1;break;case"igor":S=2;break;case"multidirectional":S=3;break;default:S=0}const k=f.getIlluminationProperties();for(let z=0;z<k.directionRadians.length;z++)f.paint.get("hillshade-illumination-anchor")==="viewport"&&(k.directionRadians[z]+=I.transform.bearingInRadians);return{u_image:0,u_latrange:sA(0,s.tileID),u_exaggeration:f.paint.get("hillshade-exaggeration"),u_altitudes:k.altitudeRadians,u_azimuths:k.directionRadians,u_accent:_,u_method:S,u_highlights:k.highlightColor,u_shadows:k.shadowColor}},ac=(I,s)=>{const f=s.stride,_=o.L();return o.bY(_,0,o.$,-o.$,0,0,1),o.M(_,_,[0,-o.$,0]),{u_matrix:_,u_image:1,u_dimension:[f,f],u_zoom:I.overscaledZ,u_unpack:s.getUnpackVector()}};function sA(I,s){const f=Math.pow(2,s.canonical.z),_=s.canonical.y;return[new o.a1(0,_/f).toLngLat().lat,new o.a1(0,(_+1)/f).toLngLat().lat]}const wc=(I,s,f=0)=>({u_image:0,u_unpack:s.getUnpackVector(),u_dimension:[s.stride,s.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:f,u_opacity:I.paint.get("color-relief-opacity")}),Md=(I,s,f,_)=>{const S=I.transform;return{u_translation:Sc(I,s,f),u_ratio:_/o.aC(s,1,S.zoom),u_device_pixel_ratio:I.pixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},wd=(I,s,f,_,S)=>o.e(Md(I,s,f,_),{u_image:0,u_image_height:S}),Uu=(I,s,f,_,S)=>{const k=I.transform,z=Yh(s,k);return{u_translation:Sc(I,s,f),u_texsize:s.imageAtlasTexture.size,u_ratio:_/o.aC(s,1,k.zoom),u_device_pixel_ratio:I.pixelRatio,u_image:0,u_scale:[z,S.fromScale,S.toScale],u_fade:S.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},$A=(I,s,f,_,S,k)=>{const z=I.lineAtlas,q=Yh(s,I.transform),X=f.layout.get("line-cap")==="round",he=z.getDash(S.from,X),me=z.getDash(S.to,X),Be=he.width*k.fromScale,Me=me.width*k.toScale;return o.e(Md(I,s,f,_),{u_patternscale_a:[q/Be,-he.height/2],u_patternscale_b:[q/Me,-me.height/2],u_sdfgamma:z.width/(256*Math.min(Be,Me)*I.pixelRatio)/2,u_image:0,u_tex_y_a:he.y,u_tex_y_b:me.y,u_mix:k.t})};function Yh(I,s){return 1/o.aC(I,1,s.tileZoom)}function Sc(I,s,f){return o.aD(I.transform,s,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const qh=(I,s,f,_,S)=>{return{u_tl_parent:I,u_scale_parent:s,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(z=_.paint.get("raster-saturation"),z>0?1-1/(1.001-z):-z),u_contrast_factor:(k=_.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:pm(_.paint.get("raster-hue-rotate")),u_coords_top:[S[0].x,S[0].y,S[1].x,S[1].y],u_coords_bottom:[S[3].x,S[3].y,S[2].x,S[2].y]};var k,z};function pm(I){I*=Math.PI/180;const s=Math.sin(I),f=Math.cos(I);return[(2*f+1)/3,(-Math.sqrt(3)*s-f+1)/3,(Math.sqrt(3)*s-f+1)/3]}const Vc=(I,s,f,_,S,k,z,q,X,he,me,Be,Me)=>{const Ue=z.transform;return{u_is_size_zoom_constant:+(I==="constant"||I==="source"),u_is_size_feature_constant:+(I==="constant"||I==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:Ue.cameraToCenterDistance,u_pitch:Ue.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:Ue.width/Ue.height,u_fade_change:z.options.fadeDuration?z.symbolFadeChange:1,u_label_plane_matrix:q,u_coord_matrix:X,u_is_text:+me,u_pitch_with_map:+_,u_is_along_line:S,u_is_variable_anchor:k,u_texsize:Be,u_texture:0,u_translation:he,u_pitched_scale:Me}},Zd=(I,s,f,_,S,k,z,q,X,he,me,Be,Me,Ue)=>{const Xe=z.transform;return o.e(Vc(I,s,f,_,S,k,z,q,X,he,me,Be,Ue),{u_gamma_scale:_?Math.cos(Xe.pitch*Math.PI/180)*Xe.cameraToCenterDistance:1,u_device_pixel_ratio:z.pixelRatio,u_is_halo:1})},du=(I,s,f,_,S,k,z,q,X,he,me,Be,Me)=>o.e(Zd(I,s,f,_,S,k,z,q,X,he,!0,me,0,Me),{u_texsize_icon:Be,u_texture_icon:1}),ZA=(I,s)=>({u_opacity:I,u_color:s}),wp=(I,s,f,_,S)=>o.e(function(k,z,q,X){const he=q.imageManager.getPattern(k.from.toString()),me=q.imageManager.getPattern(k.to.toString()),{width:Be,height:Me}=q.imageManager.getPixelSize(),Ue=Math.pow(2,X.tileID.overscaledZ),Xe=X.tileSize*Math.pow(2,q.transform.tileZoom)/Ue,At=Xe*(X.tileID.canonical.x+X.tileID.wrap*Ue),ct=Xe*X.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:he.tl,u_pattern_br_a:he.br,u_pattern_tl_b:me.tl,u_pattern_br_b:me.br,u_texsize:[Be,Me],u_mix:z.t,u_pattern_size_a:he.displaySize,u_pattern_size_b:me.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/o.aC(X,1,q.transform.tileZoom),u_pixel_coord_upper:[At>>16,ct>>16],u_pixel_coord_lower:[65535&At,65535&ct]}}(f,S,s,_),{u_opacity:I}),Lf=(I,s)=>{},MA={fillExtrusion:(I,s)=>({u_lightpos:new o.bT(I,s.u_lightpos),u_lightpos_globe:new o.bT(I,s.u_lightpos_globe),u_lightintensity:new o.bg(I,s.u_lightintensity),u_lightcolor:new o.bT(I,s.u_lightcolor),u_vertical_gradient:new o.bg(I,s.u_vertical_gradient),u_opacity:new o.bg(I,s.u_opacity),u_fill_translate:new o.bU(I,s.u_fill_translate)}),fillExtrusionPattern:(I,s)=>({u_lightpos:new o.bT(I,s.u_lightpos),u_lightpos_globe:new o.bT(I,s.u_lightpos_globe),u_lightintensity:new o.bg(I,s.u_lightintensity),u_lightcolor:new o.bT(I,s.u_lightcolor),u_vertical_gradient:new o.bg(I,s.u_vertical_gradient),u_height_factor:new o.bg(I,s.u_height_factor),u_opacity:new o.bg(I,s.u_opacity),u_fill_translate:new o.bU(I,s.u_fill_translate),u_image:new o.bP(I,s.u_image),u_texsize:new o.bU(I,s.u_texsize),u_pixel_coord_upper:new o.bU(I,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(I,s.u_pixel_coord_lower),u_scale:new o.bT(I,s.u_scale),u_fade:new o.bg(I,s.u_fade)}),fill:(I,s)=>({u_fill_translate:new o.bU(I,s.u_fill_translate)}),fillPattern:(I,s)=>({u_image:new o.bP(I,s.u_image),u_texsize:new o.bU(I,s.u_texsize),u_pixel_coord_upper:new o.bU(I,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(I,s.u_pixel_coord_lower),u_scale:new o.bT(I,s.u_scale),u_fade:new o.bg(I,s.u_fade),u_fill_translate:new o.bU(I,s.u_fill_translate)}),fillOutline:(I,s)=>({u_world:new o.bU(I,s.u_world),u_fill_translate:new o.bU(I,s.u_fill_translate)}),fillOutlinePattern:(I,s)=>({u_world:new o.bU(I,s.u_world),u_image:new o.bP(I,s.u_image),u_texsize:new o.bU(I,s.u_texsize),u_pixel_coord_upper:new o.bU(I,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(I,s.u_pixel_coord_lower),u_scale:new o.bT(I,s.u_scale),u_fade:new o.bg(I,s.u_fade),u_fill_translate:new o.bU(I,s.u_fill_translate)}),circle:(I,s)=>({u_camera_to_center_distance:new o.bg(I,s.u_camera_to_center_distance),u_scale_with_map:new o.bP(I,s.u_scale_with_map),u_pitch_with_map:new o.bP(I,s.u_pitch_with_map),u_extrude_scale:new o.bU(I,s.u_extrude_scale),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_globe_extrude_scale:new o.bg(I,s.u_globe_extrude_scale),u_translate:new o.bU(I,s.u_translate)}),collisionBox:(I,s)=>({u_pixel_extrude_scale:new o.bU(I,s.u_pixel_extrude_scale)}),collisionCircle:(I,s)=>({u_viewport_size:new o.bU(I,s.u_viewport_size)}),debug:(I,s)=>({u_color:new o.bQ(I,s.u_color),u_overlay:new o.bP(I,s.u_overlay),u_overlay_scale:new o.bg(I,s.u_overlay_scale)}),depth:Lf,clippingMask:Lf,heatmap:(I,s)=>({u_extrude_scale:new o.bg(I,s.u_extrude_scale),u_intensity:new o.bg(I,s.u_intensity),u_globe_extrude_scale:new o.bg(I,s.u_globe_extrude_scale)}),heatmapTexture:(I,s)=>({u_matrix:new o.bR(I,s.u_matrix),u_world:new o.bU(I,s.u_world),u_image:new o.bP(I,s.u_image),u_color_ramp:new o.bP(I,s.u_color_ramp),u_opacity:new o.bg(I,s.u_opacity)}),hillshade:(I,s)=>({u_image:new o.bP(I,s.u_image),u_latrange:new o.bU(I,s.u_latrange),u_exaggeration:new o.bg(I,s.u_exaggeration),u_altitudes:new o.b_(I,s.u_altitudes),u_azimuths:new o.b_(I,s.u_azimuths),u_accent:new o.bQ(I,s.u_accent),u_method:new o.bP(I,s.u_method),u_shadows:new o.bZ(I,s.u_shadows),u_highlights:new o.bZ(I,s.u_highlights)}),hillshadePrepare:(I,s)=>({u_matrix:new o.bR(I,s.u_matrix),u_image:new o.bP(I,s.u_image),u_dimension:new o.bU(I,s.u_dimension),u_zoom:new o.bg(I,s.u_zoom),u_unpack:new o.bS(I,s.u_unpack)}),colorRelief:(I,s)=>({u_image:new o.bP(I,s.u_image),u_unpack:new o.bS(I,s.u_unpack),u_dimension:new o.bU(I,s.u_dimension),u_elevation_stops:new o.bP(I,s.u_elevation_stops),u_color_stops:new o.bP(I,s.u_color_stops),u_color_ramp_size:new o.bP(I,s.u_color_ramp_size),u_opacity:new o.bg(I,s.u_opacity)}),line:(I,s)=>({u_translation:new o.bU(I,s.u_translation),u_ratio:new o.bg(I,s.u_ratio),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_units_to_pixels:new o.bU(I,s.u_units_to_pixels)}),lineGradient:(I,s)=>({u_translation:new o.bU(I,s.u_translation),u_ratio:new o.bg(I,s.u_ratio),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_units_to_pixels:new o.bU(I,s.u_units_to_pixels),u_image:new o.bP(I,s.u_image),u_image_height:new o.bg(I,s.u_image_height)}),linePattern:(I,s)=>({u_translation:new o.bU(I,s.u_translation),u_texsize:new o.bU(I,s.u_texsize),u_ratio:new o.bg(I,s.u_ratio),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_image:new o.bP(I,s.u_image),u_units_to_pixels:new o.bU(I,s.u_units_to_pixels),u_scale:new o.bT(I,s.u_scale),u_fade:new o.bg(I,s.u_fade)}),lineSDF:(I,s)=>({u_translation:new o.bU(I,s.u_translation),u_ratio:new o.bg(I,s.u_ratio),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_units_to_pixels:new o.bU(I,s.u_units_to_pixels),u_patternscale_a:new o.bU(I,s.u_patternscale_a),u_patternscale_b:new o.bU(I,s.u_patternscale_b),u_sdfgamma:new o.bg(I,s.u_sdfgamma),u_image:new o.bP(I,s.u_image),u_tex_y_a:new o.bg(I,s.u_tex_y_a),u_tex_y_b:new o.bg(I,s.u_tex_y_b),u_mix:new o.bg(I,s.u_mix)}),raster:(I,s)=>({u_tl_parent:new o.bU(I,s.u_tl_parent),u_scale_parent:new o.bg(I,s.u_scale_parent),u_buffer_scale:new o.bg(I,s.u_buffer_scale),u_fade_t:new o.bg(I,s.u_fade_t),u_opacity:new o.bg(I,s.u_opacity),u_image0:new o.bP(I,s.u_image0),u_image1:new o.bP(I,s.u_image1),u_brightness_low:new o.bg(I,s.u_brightness_low),u_brightness_high:new o.bg(I,s.u_brightness_high),u_saturation_factor:new o.bg(I,s.u_saturation_factor),u_contrast_factor:new o.bg(I,s.u_contrast_factor),u_spin_weights:new o.bT(I,s.u_spin_weights),u_coords_top:new o.bS(I,s.u_coords_top),u_coords_bottom:new o.bS(I,s.u_coords_bottom)}),symbolIcon:(I,s)=>({u_is_size_zoom_constant:new o.bP(I,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(I,s.u_is_size_feature_constant),u_size_t:new o.bg(I,s.u_size_t),u_size:new o.bg(I,s.u_size),u_camera_to_center_distance:new o.bg(I,s.u_camera_to_center_distance),u_pitch:new o.bg(I,s.u_pitch),u_rotate_symbol:new o.bP(I,s.u_rotate_symbol),u_aspect_ratio:new o.bg(I,s.u_aspect_ratio),u_fade_change:new o.bg(I,s.u_fade_change),u_label_plane_matrix:new o.bR(I,s.u_label_plane_matrix),u_coord_matrix:new o.bR(I,s.u_coord_matrix),u_is_text:new o.bP(I,s.u_is_text),u_pitch_with_map:new o.bP(I,s.u_pitch_with_map),u_is_along_line:new o.bP(I,s.u_is_along_line),u_is_variable_anchor:new o.bP(I,s.u_is_variable_anchor),u_texsize:new o.bU(I,s.u_texsize),u_texture:new o.bP(I,s.u_texture),u_translation:new o.bU(I,s.u_translation),u_pitched_scale:new o.bg(I,s.u_pitched_scale)}),symbolSDF:(I,s)=>({u_is_size_zoom_constant:new o.bP(I,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(I,s.u_is_size_feature_constant),u_size_t:new o.bg(I,s.u_size_t),u_size:new o.bg(I,s.u_size),u_camera_to_center_distance:new o.bg(I,s.u_camera_to_center_distance),u_pitch:new o.bg(I,s.u_pitch),u_rotate_symbol:new o.bP(I,s.u_rotate_symbol),u_aspect_ratio:new o.bg(I,s.u_aspect_ratio),u_fade_change:new o.bg(I,s.u_fade_change),u_label_plane_matrix:new o.bR(I,s.u_label_plane_matrix),u_coord_matrix:new o.bR(I,s.u_coord_matrix),u_is_text:new o.bP(I,s.u_is_text),u_pitch_with_map:new o.bP(I,s.u_pitch_with_map),u_is_along_line:new o.bP(I,s.u_is_along_line),u_is_variable_anchor:new o.bP(I,s.u_is_variable_anchor),u_texsize:new o.bU(I,s.u_texsize),u_texture:new o.bP(I,s.u_texture),u_gamma_scale:new o.bg(I,s.u_gamma_scale),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_is_halo:new o.bP(I,s.u_is_halo),u_translation:new o.bU(I,s.u_translation),u_pitched_scale:new o.bg(I,s.u_pitched_scale)}),symbolTextAndIcon:(I,s)=>({u_is_size_zoom_constant:new o.bP(I,s.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(I,s.u_is_size_feature_constant),u_size_t:new o.bg(I,s.u_size_t),u_size:new o.bg(I,s.u_size),u_camera_to_center_distance:new o.bg(I,s.u_camera_to_center_distance),u_pitch:new o.bg(I,s.u_pitch),u_rotate_symbol:new o.bP(I,s.u_rotate_symbol),u_aspect_ratio:new o.bg(I,s.u_aspect_ratio),u_fade_change:new o.bg(I,s.u_fade_change),u_label_plane_matrix:new o.bR(I,s.u_label_plane_matrix),u_coord_matrix:new o.bR(I,s.u_coord_matrix),u_is_text:new o.bP(I,s.u_is_text),u_pitch_with_map:new o.bP(I,s.u_pitch_with_map),u_is_along_line:new o.bP(I,s.u_is_along_line),u_is_variable_anchor:new o.bP(I,s.u_is_variable_anchor),u_texsize:new o.bU(I,s.u_texsize),u_texsize_icon:new o.bU(I,s.u_texsize_icon),u_texture:new o.bP(I,s.u_texture),u_texture_icon:new o.bP(I,s.u_texture_icon),u_gamma_scale:new o.bg(I,s.u_gamma_scale),u_device_pixel_ratio:new o.bg(I,s.u_device_pixel_ratio),u_is_halo:new o.bP(I,s.u_is_halo),u_translation:new o.bU(I,s.u_translation),u_pitched_scale:new o.bg(I,s.u_pitched_scale)}),background:(I,s)=>({u_opacity:new o.bg(I,s.u_opacity),u_color:new o.bQ(I,s.u_color)}),backgroundPattern:(I,s)=>({u_opacity:new o.bg(I,s.u_opacity),u_image:new o.bP(I,s.u_image),u_pattern_tl_a:new o.bU(I,s.u_pattern_tl_a),u_pattern_br_a:new o.bU(I,s.u_pattern_br_a),u_pattern_tl_b:new o.bU(I,s.u_pattern_tl_b),u_pattern_br_b:new o.bU(I,s.u_pattern_br_b),u_texsize:new o.bU(I,s.u_texsize),u_mix:new o.bg(I,s.u_mix),u_pattern_size_a:new o.bU(I,s.u_pattern_size_a),u_pattern_size_b:new o.bU(I,s.u_pattern_size_b),u_scale_a:new o.bg(I,s.u_scale_a),u_scale_b:new o.bg(I,s.u_scale_b),u_pixel_coord_upper:new o.bU(I,s.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(I,s.u_pixel_coord_lower),u_tile_units_to_pixels:new o.bg(I,s.u_tile_units_to_pixels)}),terrain:(I,s)=>({u_texture:new o.bP(I,s.u_texture),u_ele_delta:new o.bg(I,s.u_ele_delta),u_fog_matrix:new o.bR(I,s.u_fog_matrix),u_fog_color:new o.bQ(I,s.u_fog_color),u_fog_ground_blend:new o.bg(I,s.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.bg(I,s.u_fog_ground_blend_opacity),u_horizon_color:new o.bQ(I,s.u_horizon_color),u_horizon_fog_blend:new o.bg(I,s.u_horizon_fog_blend),u_is_globe_mode:new o.bg(I,s.u_is_globe_mode)}),terrainDepth:(I,s)=>({u_ele_delta:new o.bg(I,s.u_ele_delta)}),terrainCoords:(I,s)=>({u_texture:new o.bP(I,s.u_texture),u_terrain_coords_id:new o.bg(I,s.u_terrain_coords_id),u_ele_delta:new o.bg(I,s.u_ele_delta)}),projectionErrorMeasurement:(I,s)=>({u_input:new o.bg(I,s.u_input),u_output_expected:new o.bg(I,s.u_output_expected)}),atmosphere:(I,s)=>({u_sun_pos:new o.bT(I,s.u_sun_pos),u_atmosphere_blend:new o.bg(I,s.u_atmosphere_blend),u_globe_position:new o.bT(I,s.u_globe_position),u_globe_radius:new o.bg(I,s.u_globe_radius),u_inv_proj_matrix:new o.bR(I,s.u_inv_proj_matrix)}),sky:(I,s)=>({u_sky_color:new o.bQ(I,s.u_sky_color),u_horizon_color:new o.bQ(I,s.u_horizon_color),u_horizon:new o.bU(I,s.u_horizon),u_horizon_normal:new o.bU(I,s.u_horizon_normal),u_sky_horizon_blend:new o.bg(I,s.u_sky_horizon_blend),u_sky_blend:new o.bg(I,s.u_sky_blend)})};class sc{constructor(s,f,_){this.context=s;const S=s.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const wA={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Lu{constructor(s,f,_,S){this.length=f.length,this.attributes=_,this.itemSize=f.bytesPerElement,this.dynamicDraw=S,this.context=s;const k=s.gl;this.buffer=k.createBuffer(),s.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,f){for(let _=0;_<this.attributes.length;_++){const S=f.attributes[this.attributes[_].name];S!==void 0&&s.enableVertexAttribArray(S)}}setVertexAttribPointers(s,f,_){for(let S=0;S<this.attributes.length;S++){const k=this.attributes[S],z=f.attributes[k.name];z!==void 0&&s.vertexAttribPointer(z,k.components,s[wA[k.type]],!1,this.itemSize,k.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Oo{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class bh extends Oo{getDefault(){return o.bf.transparent}set(s){const f=this.current;(s.r!==f.r||s.g!==f.g||s.b!==f.b||s.a!==f.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Sd extends Oo{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class Sp extends Oo{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class Ec extends Oo{getDefault(){return[!0,!0,!0,!0]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||s[3]!==f[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class jl extends Oo{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class Zt extends Oo{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class Sn extends Oo{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const f=this.current;(s.func!==f.func||s.ref!==f.ref||s.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class vn extends Oo{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class Ti extends Oo{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=s,this.dirty=!1}}class Er extends Oo{getDefault(){return[0,1]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class Io extends Oo{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=s,this.dirty=!1}}class $s extends Oo{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class Ro extends Oo{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.BLEND):f.disable(f.BLEND),this.current=s,this.dirty=!1}}class $c extends Oo{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class Xd extends Oo{getDefault(){return o.bf.transparent}set(s){const f=this.current;(s.r!==f.r||s.g!==f.g||s.b!==f.b||s.a!==f.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class lA extends Oo{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class Ed extends Oo{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=s,this.dirty=!1}}class fu extends Oo{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class SA extends Oo{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class EA extends Oo{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class kl extends Oo{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class Wo extends Oo{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||s[3]!==f[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class pu extends Oo{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class Hh extends Oo{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Wa extends Oo{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class Zs extends Oo{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class Bs extends Oo{getDefault(){return null}set(s){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class XA extends Oo{getDefault(){return null}set(s){var f;if(s===this.current&&!this.dirty)return;const _=this.gl;at(_)?_.bindVertexArray(s):(f=_.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class Nl extends Oo{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class BA extends Oo{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class lc extends Oo{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class OA extends Oo{constructor(s,f){super(s),this.context=s,this.parent=f}getDefault(){return null}}class Bc extends OA{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class xh extends OA{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Dr extends OA{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}const Ac="Framebuffer is not complete";class JA{constructor(s,f,_,S,k){this.context=s,this.width=f,this.height=_;const z=s.gl,q=this.framebuffer=z.createFramebuffer();if(this.colorAttachment=new Bc(s,q),S)this.depthAttachment=k?new Dr(s,q):new xh(s,q);else if(k)throw new Error("Stencil cannot be set without depth");if(z.checkFramebufferStatus(z.FRAMEBUFFER)!==z.FRAMEBUFFER_COMPLETE)throw new Error(Ac)}destroy(){const s=this.context.gl,f=this.colorAttachment.get();if(f&&s.deleteTexture(f),this.depthAttachment){const _=this.depthAttachment.get();_&&s.deleteRenderbuffer(_)}s.deleteFramebuffer(this.framebuffer)}}class Oc{constructor(s){var f,_;if(this.gl=s,this.clearColor=new bh(this),this.clearDepth=new Sd(this),this.clearStencil=new Sp(this),this.colorMask=new Ec(this),this.depthMask=new jl(this),this.stencilMask=new Zt(this),this.stencilFunc=new Sn(this),this.stencilOp=new vn(this),this.stencilTest=new Ti(this),this.depthRange=new Er(this),this.depthTest=new Io(this),this.depthFunc=new $s(this),this.blend=new Ro(this),this.blendFunc=new $c(this),this.blendColor=new Xd(this),this.blendEquation=new lA(this),this.cullFace=new Ed(this),this.cullFaceSide=new fu(this),this.frontFace=new SA(this),this.program=new EA(this),this.activeTexture=new kl(this),this.viewport=new Wo(this),this.bindFramebuffer=new pu(this),this.bindRenderbuffer=new Hh(this),this.bindTexture=new Wa(this),this.bindVertexBuffer=new Zs(this),this.bindElementBuffer=new Bs(this),this.bindVertexArray=new XA(this),this.pixelStoreUnpack=new Nl(this),this.pixelStoreUnpackPremultiplyAlpha=new BA(this),this.pixelStoreUnpackFlipY=new lc(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),at(s)){this.HALF_FLOAT=s.HALF_FLOAT;const S=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=s.RGBA16F)!==null&&f!==void 0?f:S?.RGBA16F_EXT,this.RGB16F=(_=s.RGB16F)!==null&&_!==void 0?_:S?.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const S=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=S?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,f){return new sc(this,s,f)}createVertexBuffer(s,f,_){return new Lu(this,s,f,_)}createRenderbuffer(s,f,_){const S=this.gl,k=S.createRenderbuffer();return this.bindRenderbuffer.set(k),S.renderbufferStorage(S.RENDERBUFFER,s,f,_),this.bindRenderbuffer.set(null),k}createFramebuffer(s,f,_,S){return new JA(this,s,f,_,S)}clear({color:s,depth:f,stencil:_}){const S=this.gl;let k=0;s&&(k|=S.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(k|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),_!==void 0&&(k|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),S.clear(k)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){o.bH(s.blendFunction,Pr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return at(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var f;return at(this.gl)?this.gl.deleteVertexArray(s):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}let Os;function Mh(I,s,f,_,S){const k=I.context,z=I.transform,q=k.gl,X=I.useProgram("collisionBox"),he=[];let me=0,Be=0;for(let ft=0;ft<_.length;ft++){const xt=_[ft],yt=s.getTile(xt).getBucket(f);if(!yt)continue;const wt=S?yt.textCollisionBox:yt.iconCollisionBox,Pt=yt.collisionCircleArray;Pt.length>0&&(he.push({circleArray:Pt,circleOffset:Be,coord:xt}),me+=Pt.length/4,Be=me),wt&&X.draw(k,q.LINES,wi.disabled,ee.disabled,I.colorModeForRenderPass(),Xi.disabled,Ch(I.transform),I.style.map.terrain&&I.style.map.terrain.getTerrainData(xt),z.getProjectionData({overscaledTileID:xt,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,null,I.transform.zoom,null,null,wt.collisionVertexBuffer)}if(!S||!he.length)return;const Me=I.useProgram("collisionCircle"),Ue=new o.b$;Ue.resize(4*me),Ue._trim();let Xe=0;for(const ft of he)for(let xt=0;xt<ft.circleArray.length/4;xt++){const yt=4*xt,wt=ft.circleArray[yt+0],Pt=ft.circleArray[yt+1],Ft=ft.circleArray[yt+2],Bt=ft.circleArray[yt+3];Ue.emplace(Xe++,wt,Pt,Ft,Bt,0),Ue.emplace(Xe++,wt,Pt,Ft,Bt,1),Ue.emplace(Xe++,wt,Pt,Ft,Bt,2),Ue.emplace(Xe++,wt,Pt,Ft,Bt,3)}(!Os||Os.length<2*me)&&(Os=function(ft){const xt=2*ft,yt=new o.c1;yt.resize(xt),yt._trim();for(let wt=0;wt<xt;wt++){const Pt=6*wt;yt.uint16[Pt+0]=4*wt+0,yt.uint16[Pt+1]=4*wt+1,yt.uint16[Pt+2]=4*wt+2,yt.uint16[Pt+3]=4*wt+2,yt.uint16[Pt+4]=4*wt+3,yt.uint16[Pt+5]=4*wt+0}return yt}(me));const At=k.createIndexBuffer(Os,!0),ct=k.createVertexBuffer(Ue,o.c0.members,!0);for(const ft of he){const xt=_h(I.transform);Me.draw(k,q.TRIANGLES,wi.disabled,ee.disabled,I.colorModeForRenderPass(),Xi.disabled,xt,I.style.map.terrain&&I.style.map.terrain.getTerrainData(ft.coord),null,f.id,ct,At,o.aM.simpleSegment(0,2*ft.circleOffset,ft.circleArray.length,ft.circleArray.length/2),null,I.transform.zoom,null,null,null)}ct.destroy(),At.destroy()}const Bd=o.ag(new Float32Array(16));function mu(I,s,f,_,S,k){const{horizontalAlign:z,verticalAlign:q}=o.aH(I);return new o.P((-(z-.5)*s/S+_[0])*k,(-(q-.5)*f/S+_[1])*k)}function Od(I,s,f,_,S,k){const z=s.tileAnchorPoint.add(new o.P(s.translation[0],s.translation[1]));if(s.pitchWithMap){let q=_.mult(k);f||(q=q.rotate(-S));const X=z.add(q);return Qi(X.x,X.y,s.pitchedLabelPlaneMatrix,s.getElevation).point}if(f){const q=Cr(s.tileAnchorPoint.x+1,s.tileAnchorPoint.y,s).point.sub(I),X=Math.atan(q.y/q.x)+(q.x<0?Math.PI:0);return I.add(_.rotate(X))}return I.add(_)}function Zc(I,s,f,_,S,k,z,q,X,he,me,Be){const Me=I.text.placedSymbolArray,Ue=I.text.dynamicLayoutVertexArray,Xe=I.icon.dynamicLayoutVertexArray,At={};Ue.clear();for(let ct=0;ct<Me.length;ct++){const ft=Me.get(ct),xt=ft.hidden||!ft.crossTileID||I.allowVerticalPlacement&&!ft.placedOrientation?null:_[ft.crossTileID];if(xt){const yt=new o.P(ft.anchorX,ft.anchorY),wt={getElevation:Be,width:S.width,height:S.height,pitchedLabelPlaneMatrix:k,pitchWithMap:f,transform:S,tileAnchorPoint:yt,translation:he,unwrappedTileID:me},Pt=f?kr(yt.x,yt.y,wt):Cr(yt.x,yt.y,wt),Ft=wn(S.cameraToCenterDistance,Pt.signedDistanceFromCamera);let Bt=o.ap(I.textSizeData,q,ft)*Ft/o.aB;f&&(Bt*=I.tilePixelRatio/z);const{width:Yt,height:dn,anchor:Xt,textOffset:nn,textBoxScale:An}=xt,qn=mu(Xt,Yt,dn,nn,An,Bt),Qn=S.getPitchedTextCorrection(yt.x+he[0],yt.y+he[1],me),Tn=Od(Pt.point,wt,s,qn,-S.bearingInRadians,Qn),xi=I.allowVerticalPlacement&&ft.placedOrientation===o.ao.vertical?Math.PI/2:0;for(let hr=0;hr<ft.numGlyphs;hr++)o.av(Ue,Tn,xi);X&&ft.associatedIconIndex>=0&&(At[ft.associatedIconIndex]={shiftedAnchor:Tn,angle:xi})}else ts(ft.numGlyphs,Ue)}if(X){Xe.clear();const ct=I.icon.placedSymbolArray;for(let ft=0;ft<ct.length;ft++){const xt=ct.get(ft);if(xt.hidden)ts(xt.numGlyphs,Xe);else{const yt=At[ft];if(yt)for(let wt=0;wt<xt.numGlyphs;wt++)o.av(Xe,yt.shiftedAnchor,yt.angle);else ts(xt.numGlyphs,Xe)}}I.icon.dynamicLayoutVertexBuffer.updateData(Xe)}I.text.dynamicLayoutVertexBuffer.updateData(Ue)}function IA(I,s,f){return f.iconsInText&&s?"symbolTextAndIcon":I?"symbolSDF":"symbolIcon"}function Fu(I,s,f,_,S,k,z,q,X,he,me,Be,Me){const Ue=I.context,Xe=Ue.gl,At=I.transform,ct=q==="map",ft=X==="map",xt=q!=="viewport"&&f.layout.get("symbol-placement")!=="point",yt=ct&&!ft&&!xt,wt=!f.layout.get("symbol-sort-key").isConstant();let Pt=!1;const Ft=I.getDepthModeForSublayer(0,wi.ReadOnly),Bt=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Yt=[],dn=At.getCircleRadiusCorrection();for(const Xt of _){const nn=s.getTile(Xt),An=nn.getBucket(f);if(!An)continue;const qn=S?An.text:An.icon;if(!qn||!qn.segments.get().length||!qn.hasVisibleVertices)continue;const Qn=qn.programConfigurations.get(f.id),Tn=S||An.sdfIcons,xi=S?An.textSizeData:An.iconSizeData,hr=ft||At.pitch!==0,_o=I.useProgram(IA(Tn,S,An),Qn),ua=o.an(xi,At.zoom),Fo=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Xt);let La,ca,Or,Yo,as=[0,0],qa=null;if(S)ca=nn.glyphAtlasTexture,Or=Xe.LINEAR,La=nn.glyphAtlasTexture.size,An.iconsInText&&(as=nn.imageAtlasTexture.size,qa=nn.imageAtlasTexture,Yo=hr||I.options.rotating||I.options.zooming||xi.kind==="composite"||xi.kind==="camera"?Xe.LINEAR:Xe.NEAREST);else{const bo=f.layout.get("icon-size").constantOr(0)!==1||An.iconsNeedLinear;ca=nn.imageAtlasTexture,Or=Tn||I.options.rotating||I.options.zooming||bo||hr?Xe.LINEAR:Xe.NEAREST,La=nn.imageAtlasTexture.size}const Is=o.aC(nn,1,I.transform.zoom),Ts=Ei(ct,I.transform,Is),qu=o.L();o.aq(qu,Ts);const fc=hi(ft,ct,I.transform,Is),Hl=o.aD(At,nn,k,z),Th=At.getProjectionData({overscaledTileID:Xt,applyGlobeMatrix:!Me,applyTerrainMatrix:!0}),oh=Bt&&An.hasTextData(),Hu=f.layout.get("icon-text-fit")!=="none"&&oh&&An.hasIconData();if(xt){const bo=I.style.map.terrain?(dA,Cs)=>I.style.map.terrain.getElevation(Xt,dA,Cs):null,ea=f.layout.get("text-rotation-alignment")==="map";Vi(An,I,S,Ts,qu,ft,he,ea,Xt.toUnwrapped(),At.width,At.height,Hl,bo)}const Kc=S&&Bt||Hu,xl=xt||Kc?Bd:ft?Ts:I.transform.clipSpaceToPixelsMatrix,Vu=Tn&&f.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ml;Ml=Tn?An.iconsInText?du(xi.kind,ua,yt,ft,xt,Kc,I,xl,fc,Hl,La,as,dn):Zd(xi.kind,ua,yt,ft,xt,Kc,I,xl,fc,Hl,S,La,0,dn):Vc(xi.kind,ua,yt,ft,xt,Kc,I,xl,fc,Hl,S,La,dn);const Uc={program:_o,buffers:qn,uniformValues:Ml,projectionData:Th,atlasTexture:ca,atlasTextureIcon:qa,atlasInterpolation:Or,atlasInterpolationIcon:Yo,isSDF:Tn,hasHalo:Vu};if(wt&&An.canOverlap){Pt=!0;const bo=qn.segments.get();for(const ea of bo)Yt.push({segments:new o.aM([ea]),sortKey:ea.sortKey,state:Uc,terrainData:Fo})}else Yt.push({segments:qn.segments,sortKey:0,state:Uc,terrainData:Fo})}Pt&&Yt.sort((Xt,nn)=>Xt.sortKey-nn.sortKey);for(const Xt of Yt){const nn=Xt.state;if(Ue.activeTexture.set(Xe.TEXTURE0),nn.atlasTexture.bind(nn.atlasInterpolation,Xe.CLAMP_TO_EDGE),nn.atlasTextureIcon&&(Ue.activeTexture.set(Xe.TEXTURE1),nn.atlasTextureIcon&&nn.atlasTextureIcon.bind(nn.atlasInterpolationIcon,Xe.CLAMP_TO_EDGE)),nn.isSDF){const An=nn.uniformValues;nn.hasHalo&&(An.u_is_halo=1,wh(nn.buffers,Xt.segments,f,I,nn.program,Ft,me,Be,An,nn.projectionData,Xt.terrainData)),An.u_is_halo=0}wh(nn.buffers,Xt.segments,f,I,nn.program,Ft,me,Be,nn.uniformValues,nn.projectionData,Xt.terrainData)}}function wh(I,s,f,_,S,k,z,q,X,he,me){const Be=_.context;S.draw(Be,Be.gl.TRIANGLES,k,z,q,Xi.backCCW,X,me,he,f.id,I.layoutVertexBuffer,I.indexBuffer,s,f.paint,_.transform.zoom,I.programConfigurations.get(f.id),I.dynamicLayoutVertexBuffer,I.opacityVertexBuffer)}function Vh(I,s,f,_,S){const k=I.context,z=k.gl,q=ee.disabled,X=new Pr([z.ONE,z.ONE],o.bf.transparent,[!0,!0,!0,!0]),he=s.getBucket(f);if(!he)return;const me=_.key;let Be=f.heatmapFbos.get(me);Be||(Be=Dl(k,s.tileSize,s.tileSize),f.heatmapFbos.set(me,Be)),k.bindFramebuffer.set(Be.framebuffer),k.viewport.set([0,0,s.tileSize,s.tileSize]),k.clear({color:o.bf.transparent});const Me=he.programConfigurations.get(f.id),Ue=I.useProgram("heatmap",Me,!S),Xe=I.transform.getProjectionData({overscaledTileID:s.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),At=I.style.map.terrain.getTerrainData(_);Ue.draw(k,z.TRIANGLES,wi.disabled,q,X,Xi.disabled,Kf(s,I.transform.zoom,f.paint.get("heatmap-intensity"),1),At,Xe,f.id,he.layoutVertexBuffer,he.indexBuffer,he.segments,f.paint,I.transform.zoom,Me)}function TA(I,s,f,_,S){const k=I.context,z=k.gl,q=I.transform;k.setColorMode(I.colorModeForRenderPass());const X=Qo(k,s),he=f.key,me=s.heatmapFbos.get(he);if(!me)return;k.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,me.colorAttachment.get()),k.activeTexture.set(z.TEXTURE1),X.bind(z.LINEAR,z.CLAMP_TO_EDGE);const Be=q.getProjectionData({overscaledTileID:f,applyTerrainMatrix:S,applyGlobeMatrix:!_});I.useProgram("heatmapTexture").draw(k,z.TRIANGLES,wi.disabled,ee.disabled,I.colorModeForRenderPass(),Xi.disabled,aA(I,s,0,1),null,Be,s.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments,s.paint,q.zoom),me.destroy(),s.heatmapFbos.delete(he)}function Dl(I,s,f){var _,S;const k=I.gl,z=k.createTexture();k.bindTexture(k.TEXTURE_2D,z),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR);const q=(_=I.HALF_FLOAT)!==null&&_!==void 0?_:k.UNSIGNED_BYTE,X=(S=I.RGBA16F)!==null&&S!==void 0?S:k.RGBA;k.texImage2D(k.TEXTURE_2D,0,X,s,f,0,k.RGBA,q,null);const he=I.createFramebuffer(s,f,!1,!1);return he.colorAttachment.set(z),he}function Qo(I,s){return s.colorRampTexture||(s.colorRampTexture=new o.T(I,s.colorRamp,I.gl.RGBA)),s.colorRampTexture}function la(I,s,f,_,S){if(!f||!_||!_.imageAtlas)return;const k=_.imageAtlas.patternPositions;let z=k[f.to.toString()],q=k[f.from.toString()];if(!z&&q&&(z=q),!q&&z&&(q=z),!z||!q){const X=S.getPaintProperty(s);z=k[X],q=k[X]}z&&q&&I.setConstantPatternPositions(z,q)}function zu(I,s,f,_,S,k,z,q){const X=I.context.gl,he="fill-pattern",me=f.paint.get(he),Be=me&&me.constantOr(1),Me=f.getCrossfadeParameters();let Ue,Xe,At,ct,ft;const xt=I.transform,yt=f.paint.get("fill-translate"),wt=f.paint.get("fill-translate-anchor");z?(Xe=Be&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ue=X.LINES):(Xe=Be?"fillPattern":"fill",Ue=X.TRIANGLES);const Pt=me.constantOr(null);for(const Ft of _){const Bt=s.getTile(Ft);if(Be&&!Bt.patternsLoaded())continue;const Yt=Bt.getBucket(f);if(!Yt)continue;const dn=Yt.programConfigurations.get(f.id),Xt=I.useProgram(Xe,dn),nn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ft);Be&&(I.context.activeTexture.set(X.TEXTURE0),Bt.imageAtlasTexture.bind(X.LINEAR,X.CLAMP_TO_EDGE),dn.updatePaintBuffers(Me)),la(dn,he,Pt,Bt,f);const An=xt.getProjectionData({overscaledTileID:Ft,applyGlobeMatrix:!q,applyTerrainMatrix:!0}),qn=o.aD(xt,Bt,yt,wt);if(z){ct=Yt.indexBuffer2,ft=Yt.segments2;const Tn=[X.drawingBufferWidth,X.drawingBufferHeight];At=Xe==="fillOutlinePattern"&&Be?Wh(I,Me,Bt,Tn,qn):Hc(Tn,qn)}else ct=Yt.indexBuffer,ft=Yt.segments,At=Be?Gh(I,Me,Bt,qn):{u_fill_translate:qn};const Qn=I.stencilModeForClipping(Ft);Xt.draw(I.context,Ue,S,Qn,k,Xi.backCCW,At,nn,An,f.id,Yt.layoutVertexBuffer,ct,ft,f.paint,I.transform.zoom,dn)}}function ju(I,s,f,_,S,k,z,q){const X=I.context,he=X.gl,me="fill-extrusion-pattern",Be=f.paint.get(me),Me=Be.constantOr(1),Ue=f.getCrossfadeParameters(),Xe=f.paint.get("fill-extrusion-opacity"),At=Be.constantOr(null),ct=I.transform;for(const ft of _){const xt=s.getTile(ft),yt=xt.getBucket(f);if(!yt)continue;const wt=I.style.map.terrain&&I.style.map.terrain.getTerrainData(ft),Pt=yt.programConfigurations.get(f.id),Ft=I.useProgram(Me?"fillExtrusionPattern":"fillExtrusion",Pt);Me&&(I.context.activeTexture.set(he.TEXTURE0),xt.imageAtlasTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE),Pt.updatePaintBuffers(Ue));const Bt=ct.getProjectionData({overscaledTileID:ft,applyGlobeMatrix:!q,applyTerrainMatrix:!0});la(Pt,me,At,xt,f);const Yt=o.aD(ct,xt,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),dn=f.paint.get("fill-extrusion-vertical-gradient"),Xt=Me?xd(I,dn,Xe,Yt,ft,Ue,xt):zl(I,dn,Xe,Yt);Ft.draw(X,X.gl.TRIANGLES,S,k,z,Xi.backCCW,Xt,wt,Bt,f.id,yt.layoutVertexBuffer,yt.indexBuffer,yt.segments,f.paint,I.transform.zoom,Pt,I.style.map.terrain&&yt.centroidVertexBuffer)}}function Ic(I,s,f,_,S,k,z,q,X){var he;const me=I.style.projection,Be=I.context,Me=I.transform,Ue=Be.gl,Xe=[`#define NUM_ILLUMINATION_SOURCES ${f.paint.get("hillshade-highlight-color").values.length}`],At=I.useProgram("hillshade",null,!1,Xe),ct=!I.options.moving;for(const ft of _){const xt=s.getTile(ft),yt=xt.fbo;if(!yt)continue;const wt=me.getMeshFromTileID(Be,ft.canonical,q,!0,"raster"),Pt=(he=I.style.map.terrain)===null||he===void 0?void 0:he.getTerrainData(ft);Be.activeTexture.set(Ue.TEXTURE0),Ue.bindTexture(Ue.TEXTURE_2D,yt.colorAttachment.get());const Ft=Me.getProjectionData({overscaledTileID:ft,aligned:ct,applyGlobeMatrix:!X,applyTerrainMatrix:!0});At.draw(Be,Ue.TRIANGLES,k,S[ft.overscaledZ],z,Xi.backCCW,Uf(I,xt,f),Pt,Ft,f.id,wt.vertexBuffer,wt.indexBuffer,wt.segments)}}function Xc(I,s,f,_,S,k,z,q,X){var he;const me=I.style.projection,Be=I.context,Me=I.transform,Ue=Be.gl,Xe=I.useProgram("colorRelief"),At=!I.options.moving;let ct=!0,ft=0;for(const xt of _){const yt=s.getTile(xt),wt=yt.dem;if(ct){const Xt=Ue.getParameter(Ue.MAX_TEXTURE_SIZE),{elevationTexture:nn,colorTexture:An}=f.getColorRampTextures(Be,Xt,wt.getUnpackVector());Be.activeTexture.set(Ue.TEXTURE1),nn.bind(Ue.NEAREST,Ue.CLAMP_TO_EDGE),Be.activeTexture.set(Ue.TEXTURE4),An.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE),ct=!1,ft=nn.size[0]}if(!wt||!wt.data)continue;const Pt=wt.stride,Ft=wt.getPixels();if(Be.activeTexture.set(Ue.TEXTURE0),Be.pixelStoreUnpackPremultiplyAlpha.set(!1),yt.demTexture=yt.demTexture||I.getTileTexture(Pt),yt.demTexture){const Xt=yt.demTexture;Xt.update(Ft,{premultiply:!1}),Xt.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE)}else yt.demTexture=new o.T(Be,Ft,Ue.RGBA,{premultiply:!1}),yt.demTexture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE);const Bt=me.getMeshFromTileID(Be,xt.canonical,q,!0,"raster"),Yt=(he=I.style.map.terrain)===null||he===void 0?void 0:he.getTerrainData(xt),dn=Me.getProjectionData({overscaledTileID:xt,aligned:At,applyGlobeMatrix:!X,applyTerrainMatrix:!0});Xe.draw(Be,Ue.TRIANGLES,k,S[xt.overscaledZ],z,Xi.backCCW,wc(f,yt.dem,ft),Yt,dn,f.id,Bt.vertexBuffer,Bt.indexBuffer,Bt.segments)}}const Jc=[new o.P(0,0),new o.P(o.$,0),new o.P(o.$,o.$),new o.P(0,o.$)];function _a(I,s,f,_,S,k,z,q,X=!1,he=!1){const me=_[_.length-1].overscaledZ,Be=I.context,Me=Be.gl,Ue=I.useProgram("raster"),Xe=I.transform,At=I.style.projection,ct=I.colorModeForRenderPass(),ft=!I.options.moving;for(const xt of _){const yt=I.getDepthModeForSublayer(xt.overscaledZ-me,f.paint.get("raster-opacity")===1?wi.ReadWrite:wi.ReadOnly,Me.LESS),wt=s.getTile(xt);wt.registerFadeDuration(f.paint.get("raster-fade-duration"));const Pt=s.findLoadedParent(xt,0),Ft=s.findLoadedSibling(xt),Bt=xa(wt,Pt||Ft||null,s,f,I.transform,I.style.map.terrain);let Yt,dn;const Xt=f.paint.get("raster-resampling")==="nearest"?Me.NEAREST:Me.LINEAR;Be.activeTexture.set(Me.TEXTURE0),wt.texture.bind(Xt,Me.CLAMP_TO_EDGE,Me.LINEAR_MIPMAP_NEAREST),Be.activeTexture.set(Me.TEXTURE1),Pt?(Pt.texture.bind(Xt,Me.CLAMP_TO_EDGE,Me.LINEAR_MIPMAP_NEAREST),Yt=Math.pow(2,Pt.tileID.overscaledZ-wt.tileID.overscaledZ),dn=[wt.tileID.canonical.x*Yt%1,wt.tileID.canonical.y*Yt%1]):wt.texture.bind(Xt,Me.CLAMP_TO_EDGE,Me.LINEAR_MIPMAP_NEAREST),wt.texture.useMipmap&&Be.extTextureFilterAnisotropic&&I.transform.pitch>20&&Me.texParameterf(Me.TEXTURE_2D,Be.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Be.extTextureFilterAnisotropicMax);const nn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(xt),An=Xe.getProjectionData({overscaledTileID:xt,aligned:ft,applyGlobeMatrix:!he,applyTerrainMatrix:!0}),qn=qh(dn||[0,0],Yt||1,Bt,f,q),Qn=At.getMeshFromTileID(Be,xt.canonical,k,z,"raster");Ue.draw(Be,Me.TRIANGLES,yt,S?S[xt.overscaledZ]:ee.disabled,ct,X?Xi.frontCCW:Xi.backCCW,qn,nn,An,f.id,Qn.vertexBuffer,Qn.indexBuffer,Qn.segments)}}function xa(I,s,f,_,S,k){const z=_.paint.get("raster-fade-duration");if(!k&&z>0){const q=U.now(),X=(q-I.timeAdded)/z,he=s?(q-s.timeAdded)/z:-1,me=f.getSource(),Be=Tt(S,{tileSize:me.tileSize,roundZoom:me.roundZoom}),Me=!s||Math.abs(s.tileID.overscaledZ-Be)>Math.abs(I.tileID.overscaledZ-Be),Ue=Me&&I.refreshedUponExpiration?1:o.ah(Me?X:1-he,0,1);return I.refreshedUponExpiration&&X>=1&&(I.refreshedUponExpiration=!1),s?{opacity:1,mix:1-Ue}:{opacity:Ue,mix:0}}return{opacity:1,mix:0}}const Xr=new o.bf(1,0,0,1),AA=new o.bf(0,1,0,1),js=new o.bf(0,0,1,1),eh=new o.bf(1,0,1,1),gu=new o.bf(0,1,1,1);function Jd(I,s,f,_){ol(I,0,s+f/2,I.transform.width,f,_)}function ys(I,s,f,_){ol(I,s-f/2,0,f,I.transform.height,_)}function ol(I,s,f,_,S,k){const z=I.context,q=z.gl;q.enable(q.SCISSOR_TEST),q.scissor(s*I.pixelRatio,f*I.pixelRatio,_*I.pixelRatio,S*I.pixelRatio),z.clear({color:k}),q.disable(q.SCISSOR_TEST)}function Ns(I,s,f){const _=I.context,S=_.gl,k=I.useProgram("debug"),z=wi.disabled,q=ee.disabled,X=I.colorModeForRenderPass(),he="$debug",me=I.style.map.terrain&&I.style.map.terrain.getTerrainData(f);_.activeTexture.set(S.TEXTURE0);const Be=s.getTileByID(f.key).latestRawTileData,Me=Math.floor((Be&&Be.byteLength||0)/1024),Ue=s.getTile(f).tileSize,Xe=512/Math.min(Ue,512)*(f.overscaledZ/I.transform.zoom)*.5;let At=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(At+=` => ${f.overscaledZ}`),function(ft,xt){ft.initDebugOverlayCanvas();const yt=ft.debugOverlayCanvas,wt=ft.context.gl,Pt=ft.debugOverlayCanvas.getContext("2d");Pt.clearRect(0,0,yt.width,yt.height),Pt.shadowColor="white",Pt.shadowBlur=2,Pt.lineWidth=1.5,Pt.strokeStyle="white",Pt.textBaseline="top",Pt.font="bold 36px Open Sans, sans-serif",Pt.fillText(xt,5,5),Pt.strokeText(xt,5,5),ft.debugOverlayTexture.update(yt),ft.debugOverlayTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE)}(I,`${At} ${Me}kB`);const ct=I.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});k.draw(_,S.TRIANGLES,z,q,Pr.alphaBlended,Xi.disabled,Qh(o.bf.transparent,Xe),null,ct,he,I.debugBuffer,I.quadTriangleIndexBuffer,I.debugSegments),k.draw(_,S.LINE_STRIP,z,q,X,Xi.disabled,Qh(o.bf.red),me,ct,he,I.debugBuffer,I.tileBorderIndexBuffer,I.debugSegments)}function ef(I,s,f,_){const{isRenderingGlobe:S}=_,k=I.context,z=k.gl,q=I.transform,X=I.colorModeForRenderPass(),he=I.getDepthModeFor3D(),me=I.useProgram("terrain");k.bindFramebuffer.set(null),k.viewport.set([0,0,I.width,I.height]);for(const Be of f){const Me=s.getTerrainMesh(Be.tileID),Ue=I.renderToTexture.getTexture(Be),Xe=s.getTerrainData(Be.tileID);k.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,Ue.texture);const At=s.getMeshFrameDelta(q.zoom),ct=q.calculateFogMatrix(Be.tileID.toUnwrapped()),ft=Df(At,ct,I.style.sky,q.pitch,S),xt=q.getProjectionData({overscaledTileID:Be.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});me.draw(k,z.TRIANGLES,he,ee.disabled,X,Xi.backCCW,ft,Xe,xt,"terrain",Me.vertexBuffer,Me.indexBuffer,Me.segments)}}function Nu(I,s){if(!s.mesh){const f=new o.aL;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);const _=new o.aN;_.emplaceBack(0,1,2),_.emplaceBack(0,2,3),s.mesh=new Ul(I.createVertexBuffer(f,va.members),I.createIndexBuffer(_),o.aM.simpleSegment(0,0,f.length,_.length))}return s.mesh}class Sh{constructor(s,f){this.context=new Oc(s),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ag(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Dn.maxUnderzooming+Dn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Hs}resize(s,f,_){if(this.width=Math.floor(s*_),this.height=Math.floor(f*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const S of this.style._order)this.style._layers[S].resize()}setup(){const s=this.context,f=new o.aL;f.emplaceBack(0,0),f.emplaceBack(o.$,0),f.emplaceBack(0,o.$),f.emplaceBack(o.$,o.$),this.tileExtentBuffer=s.createVertexBuffer(f,va.members),this.tileExtentSegments=o.aM.simpleSegment(0,0,4,2);const _=new o.aL;_.emplaceBack(0,0),_.emplaceBack(o.$,0),_.emplaceBack(0,o.$),_.emplaceBack(o.$,o.$),this.debugBuffer=s.createVertexBuffer(_,va.members),this.debugSegments=o.aM.simpleSegment(0,0,4,5);const S=new o.c6;S.emplaceBack(0,0,0,0),S.emplaceBack(o.$,0,o.$,0),S.emplaceBack(0,o.$,0,o.$),S.emplaceBack(o.$,o.$,o.$,o.$),this.rasterBoundsBuffer=s.createVertexBuffer(S,_d.members),this.rasterBoundsSegments=o.aM.simpleSegment(0,0,4,2);const k=new o.aL;k.emplaceBack(0,0),k.emplaceBack(o.$,0),k.emplaceBack(0,o.$),k.emplaceBack(o.$,o.$),this.rasterBoundsBufferPosOnly=s.createVertexBuffer(k,va.members),this.rasterBoundsSegmentsPosOnly=o.aM.simpleSegment(0,0,4,5);const z=new o.aL;z.emplaceBack(0,0),z.emplaceBack(1,0),z.emplaceBack(0,1),z.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(z,va.members),this.viewportSegments=o.aM.simpleSegment(0,0,4,2);const q=new o.c7;q.emplaceBack(0),q.emplaceBack(1),q.emplaceBack(3),q.emplaceBack(2),q.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(q);const X=new o.aN;X.emplaceBack(1,0,2),X.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(X);const he=this.context.gl;this.stencilClearMode=new ee({func:he.ALWAYS,mask:0},0,255,he.ZERO,he.ZERO,he.ZERO),this.tileExtentMesh=new Ul(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const s=this.context,f=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=o.L();o.bY(_,0,this.width,this.height,0,0,1),o.N(_,_,[f.drawingBufferWidth,f.drawingBufferHeight,0]);const S={mainMatrix:_,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_};this.useProgram("clippingMask",null,!0).draw(s,f.TRIANGLES,wi.disabled,this.stencilClearMode,Pr.disabled,Xi.disabled,null,null,S,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,f,_){if(this.currentStencilSource===s.source||!s.isTileClipped()||!f||!f.length)return;this.currentStencilSource=s.source,this.nextStencilID+f.length>256&&this.clearStencil();const S=this.context;S.setColorMode(Pr.disabled),S.setDepthMode(wi.disabled);const k={};for(const z of f)k[z.key]=this.nextStencilID++;this._renderTileMasks(k,f,_,!0),this._renderTileMasks(k,f,_,!1),this._tileClippingMaskIDs=k}_renderTileMasks(s,f,_,S){const k=this.context,z=k.gl,q=this.style.projection,X=this.transform,he=this.useProgram("clippingMask");for(const me of f){const Be=s[me.key],Me=this.style.map.terrain&&this.style.map.terrain.getTerrainData(me),Ue=q.getMeshFromTileID(this.context,me.canonical,S,!0,"stencil"),Xe=X.getProjectionData({overscaledTileID:me,applyGlobeMatrix:!_,applyTerrainMatrix:!0});he.draw(k,z.TRIANGLES,wi.disabled,new ee({func:z.ALWAYS,mask:0},Be,255,z.KEEP,z.KEEP,z.REPLACE),Pr.disabled,_?Xi.disabled:Xi.backCCW,null,Me,Xe,"$clipping",Ue.vertexBuffer,Ue.indexBuffer,Ue.segments)}}_renderTilesDepthBuffer(){const s=this.context,f=s.gl,_=this.style.projection,S=this.transform,k=this.useProgram("depth"),z=this.getDepthModeFor3D(),q=it(S,{tileSize:S.tileSize});for(const X of q){const he=this.style.map.terrain&&this.style.map.terrain.getTerrainData(X),me=_.getMeshFromTileID(this.context,X.canonical,!0,!0,"raster"),Be=S.getProjectionData({overscaledTileID:X,applyGlobeMatrix:!0,applyTerrainMatrix:!0});k.draw(s,f.TRIANGLES,z,ee.disabled,Pr.disabled,Xi.backCCW,null,he,Be,"$clipping",me.vertexBuffer,me.indexBuffer,me.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,f=this.context.gl;return new ee({func:f.NOTEQUAL,mask:255},s,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(s){const f=this.context.gl;return new ee({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(s){const f=this.context.gl,_=s.sort((z,q)=>q.overscaledZ-z.overscaledZ),S=_[_.length-1].overscaledZ,k=_[0].overscaledZ-S+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const z={};for(let q=0;q<k;q++)z[q+S]=new ee({func:f.GEQUAL,mask:255},q+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=k,[z,_]}return[{[S]:ee.disabled},_]}stencilConfigForOverlapTwoPass(s){const f=this.context.gl,_=s.sort((z,q)=>q.overscaledZ-z.overscaledZ),S=_[_.length-1].overscaledZ,k=_[0].overscaledZ-S+1;if(this.clearStencil(),k>1){const z={},q={};for(let X=0;X<k;X++)z[X+S]=new ee({func:f.GREATER,mask:255},k+1+X,255,f.KEEP,f.KEEP,f.REPLACE),q[X+S]=new ee({func:f.GREATER,mask:255},1+X,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*k+1,[z,q,_]}return this.nextStencilID=3,[{[S]:new ee({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[S]:new ee({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},_]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new Pr([s.CONSTANT_COLOR,s.ONE],new o.bf(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Pr.unblended:Pr.alphaBlended}getDepthModeForSublayer(s,f,_){if(!this.opaquePassEnabledForLayer())return wi.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new wi(_||this.context.gl.LEQUAL,f,[S,S])}getDepthModeFor3D(){return new wi(this.context.gl.LEQUAL,wi.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,f){var _,S;this.style=s,this.options=f,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(U.now()),this.imageManager.beginFrame();const k=this.style._order,z=this.style.sourceCaches,q={},X={},he={},me={isRenderingToTexture:!1,isRenderingGlobe:((_=s.projection)===null||_===void 0?void 0:_.transitionState)>0};for(const Me in z){const Ue=z[Me];Ue.used&&Ue.prepare(this.context),q[Me]=Ue.getVisibleCoordinates(!1),X[Me]=q[Me].slice().reverse(),he[Me]=Ue.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Me=0;Me<k.length;Me++)if(this.style._layers[k[Me]].is3D()){this.opaquePassCutoff=Me;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Me of k){const Ue=this.style._layers[Me];if(!Ue.hasOffscreenPass()||Ue.isHidden(this.transform.zoom))continue;const Xe=X[Ue.source];(Ue.type==="custom"||Xe.length)&&this.renderLayer(this,z[Ue.source],Ue,Xe,me)}if((S=this.style.projection)===null||S===void 0||S.updateGPUdependent({context:this.context,useProgram:Me=>this.useProgram(Me)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?o.bf.black:o.bf.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(Me,Ue){const Xe=Me.context,At=Xe.gl,ct=((Ft,Bt,Yt)=>{const dn=Math.cos(Bt.rollInRadians),Xt=Math.sin(Bt.rollInRadians),nn=dt(Bt),An=Bt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Ft.properties.get("sky-color"),u_horizon_color:Ft.properties.get("horizon-color"),u_horizon:[(Bt.width/2-nn*Xt)*Yt,(Bt.height/2+nn*dn)*Yt],u_horizon_normal:[-Xt,dn],u_sky_horizon_blend:Ft.properties.get("sky-horizon-blend")*Bt.height/2*Yt,u_sky_blend:An}})(Ue,Me.style.map.transform,Me.pixelRatio),ft=new wi(At.LEQUAL,wi.ReadWrite,[0,1]),xt=ee.disabled,yt=Me.colorModeForRenderPass(),wt=Me.useProgram("sky"),Pt=Nu(Xe,Ue);wt.draw(Xe,At.TRIANGLES,ft,xt,yt,Xi.disabled,ct,null,void 0,"sky",Pt.vertexBuffer,Pt.indexBuffer,Pt.segments)}(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=k.length-1;this.currentLayer>=0;this.currentLayer--){const Me=this.style._layers[k[this.currentLayer]],Ue=z[Me.source],Xe=q[Me.source];this._renderTileClippingMasks(Me,Xe,!1),this.renderLayer(this,Ue,Me,Xe,me)}this.renderPass="translucent";let Be=!1;for(this.currentLayer=0;this.currentLayer<k.length;this.currentLayer++){const Me=this.style._layers[k[this.currentLayer]],Ue=z[Me.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Me,me))continue;this.opaquePassEnabledForLayer()||Be||(Be=!0,me.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Xe=(Me.type==="symbol"?he:X)[Me.source];this._renderTileClippingMasks(Me,q[Me.source],!!this.renderToTexture),this.renderLayer(this,Ue,Me,Xe,me)}if(me.isRenderingGlobe&&function(Me,Ue,Xe){const At=Me.context,ct=At.gl,ft=Me.useProgram("atmosphere"),xt=new wi(ct.LEQUAL,wi.ReadOnly,[0,1]),yt=Me.transform,wt=function(An,qn){const Qn=An.properties.get("position"),Tn=[-Qn.x,-Qn.y,-Qn.z],xi=o.ag(new Float64Array(16));return An.properties.get("anchor")==="map"&&(o.b6(xi,xi,qn.rollInRadians),o.b7(xi,xi,-qn.pitchInRadians),o.b6(xi,xi,qn.bearingInRadians),o.b7(xi,xi,qn.center.lat*Math.PI/180),o.bz(xi,xi,-qn.center.lng*Math.PI/180)),o.c5(Tn,Tn,xi),Tn}(Xe,Me.transform),Pt=yt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ft=Ue.properties.get("atmosphere-blend")*Pt.projectionTransition;if(Ft===0)return;const Bt=gr(yt.worldSize,yt.center.lat),Yt=yt.inverseProjectionMatrix,dn=new Float64Array(4);dn[3]=1,o.aw(dn,dn,yt.modelViewProjectionMatrix),dn[0]/=dn[3],dn[1]/=dn[3],dn[2]/=dn[3],dn[3]=1,o.aw(dn,dn,Yt),dn[0]/=dn[3],dn[1]/=dn[3],dn[2]/=dn[3],dn[3]=1;const Xt=((An,qn,Qn,Tn,xi)=>({u_sun_pos:An,u_atmosphere_blend:qn,u_globe_position:Qn,u_globe_radius:Tn,u_inv_proj_matrix:xi}))(wt,Ft,[dn[0],dn[1],dn[2]],Bt,Yt),nn=Nu(At,Ue);ft.draw(At,ct.TRIANGLES,xt,ee.disabled,Pr.alphaBlended,Xi.disabled,Xt,null,null,"atmosphere",nn.vertexBuffer,nn.indexBuffer,nn.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Me=function(Ue,Xe){let At=null;const ct=Object.values(Ue._layers).flatMap(wt=>wt.source&&!wt.isHidden(Xe)?[Ue.sourceCaches[wt.source]]:[]),ft=ct.filter(wt=>wt.getSource().type==="vector"),xt=ct.filter(wt=>wt.getSource().type!=="vector"),yt=wt=>{(!At||At.getSource().maxzoom<wt.getSource().maxzoom)&&(At=wt)};return ft.forEach(wt=>yt(wt)),At||xt.forEach(wt=>yt(wt)),At}(this.style,this.transform.zoom);Me&&function(Ue,Xe,At){for(let ct=0;ct<At.length;ct++)Ns(Ue,Xe,At[ct])}(this,Me,Me.getVisibleCoordinates())}this.options.showPadding&&function(Me){const Ue=Me.transform.padding;Jd(Me,Me.transform.height-(Ue.top||0),3,Xr),Jd(Me,Ue.bottom||0,3,AA),ys(Me,Ue.left||0,3,js),ys(Me,Me.transform.width-(Ue.right||0),3,eh);const Xe=Me.transform.centerPoint;(function(At,ct,ft,xt){ol(At,ct-1,ft-10,2,20,xt),ol(At,ct-10,ft-1,20,2,xt)})(Me,Xe.x,Me.transform.height-Xe.y,gu)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(s){if(!this.style||!this.style.map||!this.style.map.terrain)return;const f=this.terrainFacilitator.matrix,_=this.transform.modelViewProjectionMatrix;let S=this.terrainFacilitator.dirty;S||(S=s?!o.c8(f,_):!o.c9(f,_)),S||(S=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),S&&(o.ca(f,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(k,z){const q=k.context,X=q.gl,he=k.transform,me=Pr.unblended,Be=new wi(X.LEQUAL,wi.ReadWrite,[0,1]),Me=z.sourceCache.getRenderableTiles(),Ue=k.useProgram("terrainDepth");q.bindFramebuffer.set(z.getFramebuffer("depth").framebuffer),q.viewport.set([0,0,k.width/devicePixelRatio,k.height/devicePixelRatio]),q.clear({color:o.bf.transparent,depth:1});for(const Xe of Me){const At=z.getTerrainMesh(Xe.tileID),ct=z.getTerrainData(Xe.tileID),ft=he.getProjectionData({overscaledTileID:Xe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),xt={u_ele_delta:z.getMeshFrameDelta(he.zoom)};Ue.draw(q,X.TRIANGLES,Be,ee.disabled,me,Xi.backCCW,xt,ct,ft,"terrain",At.vertexBuffer,At.indexBuffer,At.segments)}q.bindFramebuffer.set(null),q.viewport.set([0,0,k.width,k.height])}(this,this.style.map.terrain),function(k,z){const q=k.context,X=q.gl,he=k.transform,me=Pr.unblended,Be=new wi(X.LEQUAL,wi.ReadWrite,[0,1]),Me=z.getCoordsTexture(),Ue=z.sourceCache.getRenderableTiles(),Xe=k.useProgram("terrainCoords");q.bindFramebuffer.set(z.getFramebuffer("coords").framebuffer),q.viewport.set([0,0,k.width/devicePixelRatio,k.height/devicePixelRatio]),q.clear({color:o.bf.transparent,depth:1}),z.coordsIndex=[];for(const At of Ue){const ct=z.getTerrainMesh(At.tileID),ft=z.getTerrainData(At.tileID);q.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,Me.texture);const xt={u_terrain_coords_id:(255-z.coordsIndex.length)/255,u_texture:0,u_ele_delta:z.getMeshFrameDelta(he.zoom)},yt=he.getProjectionData({overscaledTileID:At.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Xe.draw(q,X.TRIANGLES,Be,ee.disabled,me,Xi.backCCW,xt,ft,yt,"terrain",ct.vertexBuffer,ct.indexBuffer,ct.segments),z.coordsIndex.push(At.tileID.key)}q.bindFramebuffer.set(null),q.viewport.set([0,0,k.width,k.height])}(this,this.style.map.terrain))}renderLayer(s,f,_,S,k){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(S||[]).length)&&(this.id=_.id,o.cb(_)?function(z,q,X,he,me,Be){if(z.renderPass!=="translucent")return;const{isRenderingToTexture:Me}=Be,Ue=ee.disabled,Xe=z.colorModeForRenderPass();(X._unevaluatedLayout.hasValue("text-variable-anchor")||X._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(At,ct,ft,xt,yt,wt,Pt,Ft,Bt){const Yt=ct.transform,dn=ct.style.map.terrain,Xt=yt==="map",nn=wt==="map";for(const An of At){const qn=xt.getTile(An),Qn=qn.getBucket(ft);if(!Qn||!Qn.text||!Qn.text.segments.get().length)continue;const Tn=o.an(Qn.textSizeData,Yt.zoom),xi=o.aC(qn,1,ct.transform.zoom),hr=Ei(Xt,ct.transform,xi),_o=ft.layout.get("icon-text-fit")!=="none"&&Qn.hasIconData();if(Tn){const ua=Math.pow(2,Yt.zoom-qn.tileID.overscaledZ),Fo=dn?(La,ca)=>dn.getElevation(An,La,ca):null;Zc(Qn,Xt,nn,Bt,Yt,hr,ua,Tn,_o,o.aD(Yt,qn,Pt,Ft),An.toUnwrapped(),Fo)}}}(he,z,X,q,X.layout.get("text-rotation-alignment"),X.layout.get("text-pitch-alignment"),X.paint.get("text-translate"),X.paint.get("text-translate-anchor"),me),X.paint.get("icon-opacity").constantOr(1)!==0&&Fu(z,q,X,he,!1,X.paint.get("icon-translate"),X.paint.get("icon-translate-anchor"),X.layout.get("icon-rotation-alignment"),X.layout.get("icon-pitch-alignment"),X.layout.get("icon-keep-upright"),Ue,Xe,Me),X.paint.get("text-opacity").constantOr(1)!==0&&Fu(z,q,X,he,!0,X.paint.get("text-translate"),X.paint.get("text-translate-anchor"),X.layout.get("text-rotation-alignment"),X.layout.get("text-pitch-alignment"),X.layout.get("text-keep-upright"),Ue,Xe,Me),q.map.showCollisionBoxes&&(Mh(z,q,X,he,!0),Mh(z,q,X,he,!1))}(s,f,_,S,this.style.placement.variableOffsets,k):o.cc(_)?function(z,q,X,he,me){if(z.renderPass!=="translucent")return;const{isRenderingToTexture:Be}=me,Me=X.paint.get("circle-opacity"),Ue=X.paint.get("circle-stroke-width"),Xe=X.paint.get("circle-stroke-opacity"),At=!X.layout.get("circle-sort-key").isConstant();if(Me.constantOr(1)===0&&(Ue.constantOr(1)===0||Xe.constantOr(1)===0))return;const ct=z.context,ft=ct.gl,xt=z.transform,yt=z.getDepthModeForSublayer(0,wi.ReadOnly),wt=ee.disabled,Pt=z.colorModeForRenderPass(),Ft=[],Bt=xt.getCircleRadiusCorrection();for(let Yt=0;Yt<he.length;Yt++){const dn=he[Yt],Xt=q.getTile(dn),nn=Xt.getBucket(X);if(!nn)continue;const An=X.paint.get("circle-translate"),qn=X.paint.get("circle-translate-anchor"),Qn=o.aD(xt,Xt,An,qn),Tn=nn.programConfigurations.get(X.id),xi=z.useProgram("circle",Tn),hr=nn.layoutVertexBuffer,_o=nn.indexBuffer,ua=z.style.map.terrain&&z.style.map.terrain.getTerrainData(dn),Fo={programConfiguration:Tn,program:xi,layoutVertexBuffer:hr,indexBuffer:_o,uniformValues:Pf(z,Xt,X,Qn,Bt),terrainData:ua,projectionData:xt.getProjectionData({overscaledTileID:dn,applyGlobeMatrix:!Be,applyTerrainMatrix:!0})};if(At){const La=nn.segments.get();for(const ca of La)Ft.push({segments:new o.aM([ca]),sortKey:ca.sortKey,state:Fo})}else Ft.push({segments:nn.segments,sortKey:0,state:Fo})}At&&Ft.sort((Yt,dn)=>Yt.sortKey-dn.sortKey);for(const Yt of Ft){const{programConfiguration:dn,program:Xt,layoutVertexBuffer:nn,indexBuffer:An,uniformValues:qn,terrainData:Qn,projectionData:Tn}=Yt.state;Xt.draw(ct,ft.TRIANGLES,yt,wt,Pt,Xi.backCCW,qn,Qn,Tn,X.id,nn,An,Yt.segments,X.paint,z.transform.zoom,dn)}}(s,f,_,S,k):o.cd(_)?function(z,q,X,he,me){if(X.paint.get("heatmap-opacity")===0)return;const Be=z.context,{isRenderingToTexture:Me,isRenderingGlobe:Ue}=me;if(z.style.map.terrain){for(const Xe of he){const At=q.getTile(Xe);q.hasRenderableParent(Xe)||(z.renderPass==="offscreen"?Vh(z,At,X,Xe,Ue):z.renderPass==="translucent"&&TA(z,X,Xe,Me,Ue))}Be.viewport.set([0,0,z.width,z.height])}else z.renderPass==="offscreen"?function(Xe,At,ct,ft){const xt=Xe.context,yt=xt.gl,wt=Xe.transform,Pt=ee.disabled,Ft=new Pr([yt.ONE,yt.ONE],o.bf.transparent,[!0,!0,!0,!0]);(function(Bt,Yt,dn){const Xt=Bt.gl;Bt.activeTexture.set(Xt.TEXTURE1),Bt.viewport.set([0,0,Yt.width/4,Yt.height/4]);let nn=dn.heatmapFbos.get(o.c2);nn?(Xt.bindTexture(Xt.TEXTURE_2D,nn.colorAttachment.get()),Bt.bindFramebuffer.set(nn.framebuffer)):(nn=Dl(Bt,Yt.width/4,Yt.height/4),dn.heatmapFbos.set(o.c2,nn))})(xt,Xe,ct),xt.clear({color:o.bf.transparent});for(let Bt=0;Bt<ft.length;Bt++){const Yt=ft[Bt];if(At.hasRenderableParent(Yt))continue;const dn=At.getTile(Yt),Xt=dn.getBucket(ct);if(!Xt)continue;const nn=Xt.programConfigurations.get(ct.id),An=Xe.useProgram("heatmap",nn),qn=wt.getProjectionData({overscaledTileID:Yt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Qn=wt.getCircleRadiusCorrection();An.draw(xt,yt.TRIANGLES,wi.disabled,Pt,Ft,Xi.backCCW,Kf(dn,wt.zoom,ct.paint.get("heatmap-intensity"),Qn),null,qn,ct.id,Xt.layoutVertexBuffer,Xt.indexBuffer,Xt.segments,ct.paint,wt.zoom,nn)}xt.viewport.set([0,0,Xe.width,Xe.height])}(z,q,X,he):z.renderPass==="translucent"&&function(Xe,At){const ct=Xe.context,ft=ct.gl;ct.setColorMode(Xe.colorModeForRenderPass());const xt=At.heatmapFbos.get(o.c2);xt&&(ct.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,xt.colorAttachment.get()),ct.activeTexture.set(ft.TEXTURE1),Qo(ct,At).bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Xe.useProgram("heatmapTexture").draw(ct,ft.TRIANGLES,wi.disabled,ee.disabled,Xe.colorModeForRenderPass(),Xi.disabled,aA(Xe,At,0,1),null,null,At.id,Xe.viewportBuffer,Xe.quadTriangleIndexBuffer,Xe.viewportSegments,At.paint,Xe.transform.zoom))}(z,X)}(s,f,_,S,k):o.ce(_)?function(z,q,X,he,me){if(z.renderPass!=="translucent")return;const{isRenderingToTexture:Be}=me,Me=X.paint.get("line-opacity"),Ue=X.paint.get("line-width");if(Me.constantOr(1)===0||Ue.constantOr(1)===0)return;const Xe=z.getDepthModeForSublayer(0,wi.ReadOnly),At=z.colorModeForRenderPass(),ct=X.paint.get("line-dasharray"),ft=X.paint.get("line-pattern"),xt=ft.constantOr(1),yt=X.paint.get("line-gradient"),wt=X.getCrossfadeParameters(),Pt=xt?"linePattern":ct?"lineSDF":yt?"lineGradient":"line",Ft=z.context,Bt=Ft.gl,Yt=z.transform;let dn=!0;for(const Xt of he){const nn=q.getTile(Xt);if(xt&&!nn.patternsLoaded())continue;const An=nn.getBucket(X);if(!An)continue;const qn=An.programConfigurations.get(X.id),Qn=z.context.program.get(),Tn=z.useProgram(Pt,qn),xi=dn||Tn.program!==Qn,hr=z.style.map.terrain&&z.style.map.terrain.getTerrainData(Xt),_o=ft.constantOr(null);if(_o&&nn.imageAtlas){const Or=nn.imageAtlas,Yo=Or.patternPositions[_o.to.toString()],as=Or.patternPositions[_o.from.toString()];Yo&&as&&qn.setConstantPatternPositions(Yo,as)}const ua=Yt.getProjectionData({overscaledTileID:Xt,applyGlobeMatrix:!Be,applyTerrainMatrix:!0}),Fo=Yt.getPixelScale(),La=xt?Uu(z,nn,X,Fo,wt):ct?$A(z,nn,X,Fo,ct,wt):yt?wd(z,nn,X,Fo,An.lineClipsArray.length):Md(z,nn,X,Fo);if(xt)Ft.activeTexture.set(Bt.TEXTURE0),nn.imageAtlasTexture.bind(Bt.LINEAR,Bt.CLAMP_TO_EDGE),qn.updatePaintBuffers(wt);else if(ct&&(xi||z.lineAtlas.dirty))Ft.activeTexture.set(Bt.TEXTURE0),z.lineAtlas.bind(Ft);else if(yt){const Or=An.gradients[X.id];let Yo=Or.texture;if(X.gradientVersion!==Or.version){let as=256;if(X.stepInterpolant){const qa=q.getSource().maxzoom,Is=Xt.canonical.z===qa?Math.ceil(1<<z.transform.maxZoom-Xt.canonical.z):1;as=o.ah(o.c3(An.maxLineLength/o.$*1024*Is),256,Ft.maxTextureSize)}Or.gradient=o.c4({expression:X.gradientExpression(),evaluationKey:"lineProgress",resolution:as,image:Or.gradient||void 0,clips:An.lineClipsArray}),Or.texture?Or.texture.update(Or.gradient):Or.texture=new o.T(Ft,Or.gradient,Bt.RGBA),Or.version=X.gradientVersion,Yo=Or.texture}Ft.activeTexture.set(Bt.TEXTURE0),Yo.bind(X.stepInterpolant?Bt.NEAREST:Bt.LINEAR,Bt.CLAMP_TO_EDGE)}const ca=z.stencilModeForClipping(Xt);Tn.draw(Ft,Bt.TRIANGLES,Xe,ca,At,Xi.disabled,La,hr,ua,X.id,An.layoutVertexBuffer,An.indexBuffer,An.segments,X.paint,z.transform.zoom,qn,An.layoutVertexBuffer2),dn=!1}}(s,f,_,S,k):o.cf(_)?function(z,q,X,he,me){const Be=X.paint.get("fill-color"),Me=X.paint.get("fill-opacity");if(Me.constantOr(1)===0)return;const{isRenderingToTexture:Ue}=me,Xe=z.colorModeForRenderPass(),At=X.paint.get("fill-pattern"),ct=z.opaquePassEnabledForLayer()&&!At.constantOr(1)&&Be.constantOr(o.bf.transparent).a===1&&Me.constantOr(0)===1?"opaque":"translucent";if(z.renderPass===ct){const ft=z.getDepthModeForSublayer(1,z.renderPass==="opaque"?wi.ReadWrite:wi.ReadOnly);zu(z,q,X,he,ft,Xe,!1,Ue)}if(z.renderPass==="translucent"&&X.paint.get("fill-antialias")){const ft=z.getDepthModeForSublayer(X.getPaintProperty("fill-outline-color")?2:0,wi.ReadOnly);zu(z,q,X,he,ft,Xe,!0,Ue)}}(s,f,_,S,k):o.cg(_)?function(z,q,X,he,me){const Be=X.paint.get("fill-extrusion-opacity");if(Be===0)return;const{isRenderingToTexture:Me}=me;if(z.renderPass==="translucent"){const Ue=new wi(z.context.gl.LEQUAL,wi.ReadWrite,z.depthRangeFor3D);if(Be!==1||X.paint.get("fill-extrusion-pattern").constantOr(1))ju(z,q,X,he,Ue,ee.disabled,Pr.disabled,Me),ju(z,q,X,he,Ue,z.stencilModeFor3D(),z.colorModeForRenderPass(),Me);else{const Xe=z.colorModeForRenderPass();ju(z,q,X,he,Ue,ee.disabled,Xe,Me)}}}(s,f,_,S,k):o.ch(_)?function(z,q,X,he,me){if(z.renderPass!=="offscreen"&&z.renderPass!=="translucent")return;const{isRenderingToTexture:Be}=me,Me=z.context,Ue=z.style.projection.useSubdivision,Xe=z.getDepthModeForSublayer(0,wi.ReadOnly),At=z.colorModeForRenderPass();if(z.renderPass==="offscreen")(function(ct,ft,xt,yt,wt,Pt,Ft){const Bt=ct.context,Yt=Bt.gl;for(const dn of xt){const Xt=ft.getTile(dn),nn=Xt.dem;if(!nn||!nn.data||!Xt.needsHillshadePrepare)continue;const An=nn.dim,qn=nn.stride,Qn=nn.getPixels();if(Bt.activeTexture.set(Yt.TEXTURE1),Bt.pixelStoreUnpackPremultiplyAlpha.set(!1),Xt.demTexture=Xt.demTexture||ct.getTileTexture(qn),Xt.demTexture){const xi=Xt.demTexture;xi.update(Qn,{premultiply:!1}),xi.bind(Yt.NEAREST,Yt.CLAMP_TO_EDGE)}else Xt.demTexture=new o.T(Bt,Qn,Yt.RGBA,{premultiply:!1}),Xt.demTexture.bind(Yt.NEAREST,Yt.CLAMP_TO_EDGE);Bt.activeTexture.set(Yt.TEXTURE0);let Tn=Xt.fbo;if(!Tn){const xi=new o.T(Bt,{width:An,height:An,data:null},Yt.RGBA);xi.bind(Yt.LINEAR,Yt.CLAMP_TO_EDGE),Tn=Xt.fbo=Bt.createFramebuffer(An,An,!0,!1),Tn.colorAttachment.set(xi.texture)}Bt.bindFramebuffer.set(Tn.framebuffer),Bt.viewport.set([0,0,An,An]),ct.useProgram("hillshadePrepare").draw(Bt,Yt.TRIANGLES,wt,Pt,Ft,Xi.disabled,ac(Xt.tileID,nn),null,null,yt.id,ct.rasterBoundsBuffer,ct.quadTriangleIndexBuffer,ct.rasterBoundsSegments),Xt.needsHillshadePrepare=!1}})(z,q,he,X,Xe,ee.disabled,At),Me.viewport.set([0,0,z.width,z.height]);else if(z.renderPass==="translucent")if(Ue){const[ct,ft,xt]=z.stencilConfigForOverlapTwoPass(he);Ic(z,q,X,xt,ct,Xe,At,!1,Be),Ic(z,q,X,xt,ft,Xe,At,!0,Be)}else{const[ct,ft]=z.getStencilConfigForOverlapAndUpdateStencilID(he);Ic(z,q,X,ft,ct,Xe,At,!1,Be)}}(s,f,_,S,k):o.ci(_)?function(z,q,X,he,me){if(z.renderPass!=="translucent"||!he.length)return;const{isRenderingToTexture:Be}=me,Me=z.style.projection.useSubdivision,Ue=z.getDepthModeForSublayer(0,wi.ReadOnly),Xe=z.colorModeForRenderPass();if(Me){const[At,ct,ft]=z.stencilConfigForOverlapTwoPass(he);Xc(z,q,X,ft,At,Ue,Xe,!1,Be),Xc(z,q,X,ft,ct,Ue,Xe,!0,Be)}else{const[At,ct]=z.getStencilConfigForOverlapAndUpdateStencilID(he);Xc(z,q,X,ct,At,Ue,Xe,!1,Be)}}(s,f,_,S,k):o.cj(_)?function(z,q,X,he,me){if(z.renderPass!=="translucent"||X.paint.get("raster-opacity")===0||!he.length)return;const{isRenderingToTexture:Be}=me,Me=q.getSource(),Ue=z.style.projection.useSubdivision;if(Me instanceof Wt)_a(z,q,X,he,null,!1,!1,Me.tileCoords,Me.flippedWindingOrder,Be);else if(Ue){const[Xe,At,ct]=z.stencilConfigForOverlapTwoPass(he);_a(z,q,X,ct,Xe,!1,!0,Jc,!1,Be),_a(z,q,X,ct,At,!0,!0,Jc,!1,Be)}else{const[Xe,At]=z.getStencilConfigForOverlapAndUpdateStencilID(he);_a(z,q,X,At,Xe,!1,!0,Jc,!1,Be)}}(s,f,_,S,k):o.ck(_)?function(z,q,X,he,me){const Be=X.paint.get("background-color"),Me=X.paint.get("background-opacity");if(Me===0)return;const{isRenderingToTexture:Ue}=me,Xe=z.context,At=Xe.gl,ct=z.style.projection,ft=z.transform,xt=ft.tileSize,yt=X.paint.get("background-pattern");if(z.isPatternMissing(yt))return;const wt=!yt&&Be.a===1&&Me===1&&z.opaquePassEnabledForLayer()?"opaque":"translucent";if(z.renderPass!==wt)return;const Pt=ee.disabled,Ft=z.getDepthModeForSublayer(0,wt==="opaque"?wi.ReadWrite:wi.ReadOnly),Bt=z.colorModeForRenderPass(),Yt=z.useProgram(yt?"backgroundPattern":"background"),dn=he||it(ft,{tileSize:xt,terrain:z.style.map.terrain});yt&&(Xe.activeTexture.set(At.TEXTURE0),z.imageManager.bind(z.context));const Xt=X.getCrossfadeParameters();for(const nn of dn){const An=ft.getProjectionData({overscaledTileID:nn,applyGlobeMatrix:!Ue,applyTerrainMatrix:!0}),qn=yt?wp(Me,z,yt,{tileID:nn,tileSize:xt},Xt):ZA(Me,Be),Qn=z.style.map.terrain&&z.style.map.terrain.getTerrainData(nn),Tn=ct.getMeshFromTileID(Xe,nn.canonical,!1,!0,"raster");Yt.draw(Xe,At.TRIANGLES,Ft,Pt,Bt,Xi.backCCW,qn,Qn,An,X.id,Tn.vertexBuffer,Tn.indexBuffer,Tn.segments)}}(s,0,_,S,k):o.cl(_)&&function(z,q,X,he){const{isRenderingGlobe:me}=he,Be=z.context,Me=X.implementation,Ue=z.style.projection,Xe=z.transform,At=Xe.getProjectionDataForCustomLayer(me),ct={farZ:Xe.farZ,nearZ:Xe.nearZ,fov:Xe.fov*Math.PI/180,modelViewProjectionMatrix:Xe.modelViewProjectionMatrix,projectionMatrix:Xe.projectionMatrix,shaderData:{variantName:Ue.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Ue.shaderPreludeCode.vertexSource}`,define:Ue.shaderDefine},defaultProjectionData:At},ft=Me.renderingMode?Me.renderingMode:"2d";if(z.renderPass==="offscreen"){const xt=Me.prerender;xt&&(z.setCustomLayerDefaults(),Be.setColorMode(z.colorModeForRenderPass()),xt.call(Me,Be.gl,ct),Be.setDirty(),z.setBaseState())}else if(z.renderPass==="translucent"){z.setCustomLayerDefaults(),Be.setColorMode(z.colorModeForRenderPass()),Be.setStencilMode(ee.disabled);const xt=ft==="3d"?z.getDepthModeFor3D():z.getDepthModeForSublayer(0,wi.ReadOnly);Be.setDepthMode(xt),Me.render(Be.gl,ct),Be.setDirty(),z.setBaseState(),Be.bindFramebuffer.set(null)}}(s,0,_,k))}saveTileTexture(s){const f=this._tileTextures[s.size[0]];f?f.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const f=this._tileTextures[s];return f&&f.length>0?f.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const f=this.imageManager.getPattern(s.from.toString()),_=this.imageManager.getPattern(s.to.toString());return!f||!_}useProgram(s,f,_=!1,S=[]){this.cache=this.cache||{};const k=!!this.style.map.terrain,z=this.style.projection,q=_?Do.projectionMercator:z.shaderPreludeCode,X=_?Ll:z.shaderDefine,he=s+(f?f.cacheKey:"")+`/${_?xA:z.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(k?"/terrain":"")+(S?`/${S.join("/")}`:"");return this.cache[he]||(this.cache[he]=new is(this.context,Do[s],f,MA[s],this._showOverdrawInspector,k,q,X,S)),this.cache[he]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:f}=this.context.gl;return this.width!==s||this.height!==f}}function eu(I,s){let f,_=!1,S=null,k=null;const z=()=>{S=null,_&&(I.apply(k,f),S=setTimeout(z,s),_=!1)};return(...q)=>(_=!0,k=this,f=q,S||z(),S)}class rt{constructor(s){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let _;return f.split("&").map(S=>S.split("=")).forEach(S=>{S[0]===this._hashName&&(_=S)}),(_&&_[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(!this._isValidHash(f))return!1;const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:_,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{const f=this._getCurrentHash();if(f.length===0)return;const _=f.join("/");let S=_;S.split("&").length>0&&(S=S.split("&")[0]),this._hashName&&(S=`${this._hashName}=${_}`);let k=window.location.hash.replace(S,"");k.startsWith("#&")?k=k.slice(0,1)+k.slice(2):k==="#"&&(k="");let z=window.location.href.replace(/(#.+)?$/,k);z=z.replace("&&","&"),window.history.replaceState(window.history.state,null,z)},this._updateHash=eu(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(s){const f=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,S=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,S),z=Math.round(f.lng*k)/k,q=Math.round(f.lat*k)/k,X=this._map.getBearing(),he=this._map.getPitch();let me="";if(me+=s?`/${z}/${q}/${_}`:`${_}/${q}/${z}`,(X||he)&&(me+="/"+Math.round(10*X)/10),he&&(me+=`/${Math.round(he)}`),this._hashName){const Be=this._hashName;let Me=!1;const Ue=window.location.hash.slice(1).split("&").map(Xe=>{const At=Xe.split("=")[0];return At===Be?(Me=!0,`${At}=${me}`):Xe}).filter(Xe=>Xe);return Me||Ue.push(`${Be}=${me}`),`#${Ue.join("&")}`}return`#${me}`}_isValidHash(s){if(s.length<3||s.some(isNaN))return!1;try{new o.S(+s[2],+s[1])}catch{return!1}const f=+s[0],_=+(s[3]||0),S=+(s[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&_>=-180&&_<=180&&S>=this._map.getMinPitch()&&S<=this._map.getMaxPitch()}}const Xs={linearity:.3,easing:o.cm(0,0,.3,1)},Qa=o.e({deceleration:2500,maxSpeed:1400},Xs),Jo=o.e({deceleration:20,maxSpeed:1400},Xs),yr=o.e({deceleration:1e3,maxSpeed:360},Xs),vs=o.e({deceleration:1e3,maxSpeed:90},Xs),th=o.e({deceleration:1e3,maxSpeed:360},Xs);class Eh{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:U.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,f=U.now();for(;s.length>0&&f-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)f.zoom+=k.zoomDelta||0,f.bearing+=k.bearingDelta||0,f.pitch+=k.pitchDelta||0,f.roll+=k.rollDelta||0,k.panDelta&&f.pan._add(k.panDelta),k.around&&(f.around=k.around),k.pinchAround&&(f.pinchAround=k.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(f.pan.mag()){const k=nh(f.pan.mag(),_,o.e({},Qa,s||{})),z=f.pan.mult(k.amount/f.pan.mag()),q=this._map.cameraHelper.handlePanInertia(z,this._map.transform);S.center=q.easingCenter,S.offset=q.easingOffset,Po(S,k)}if(f.zoom){const k=nh(f.zoom,_,Jo);S.zoom=this._map.transform.zoom+k.amount,Po(S,k)}if(f.bearing){const k=nh(f.bearing,_,yr);S.bearing=this._map.transform.bearing+o.ah(k.amount,-179,179),Po(S,k)}if(f.pitch){const k=nh(f.pitch,_,vs);S.pitch=this._map.transform.pitch+k.amount,Po(S,k)}if(f.roll){const k=nh(f.roll,_,th);S.roll=this._map.transform.roll+o.ah(k.amount,-179,179),Po(S,k)}if(S.zoom||S.bearing){const k=f.pinchAround===void 0?f.around:f.pinchAround;S.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),o.e(S,{noMoveStart:!0})}}function Po(I,s){(!I.duration||I.duration<s.duration)&&(I.duration=s.duration,I.easing=s.easing)}function nh(I,s,f){const{maxSpeed:_,linearity:S,deceleration:k}=f,z=o.ah(I*S/(s/1e3),-_,_),q=Math.abs(z)/(k*S);return{easing:f.easing,duration:1e3*q,amount:z*(q/2)}}class kA extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,_,S={}){_=_ instanceof MouseEvent?_:new MouseEvent(s,_);const k=K.mousePos(f.getCanvas(),_),z=f.unproject(k);super(s,o.e({point:k,lngLat:z,originalEvent:_},S)),this._defaultPrevented=!1,this.target=f}}class Id extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,_){const S=s==="touchend"?_.changedTouches:_.touches,k=K.touchPos(f.getCanvasContainer(),S),z=k.map(X=>f.unproject(X)),q=k.reduce((X,he,me,Be)=>X.add(he.div(Be.length)),new o.P(0,0));super(s,{points:k,point:q,lngLats:z,lngLat:f.unproject(q),originalEvent:_}),this._defaultPrevented=!1}}class tf extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,_){super(s,{originalEvent:_}),this._defaultPrevented=!1}}class Ep{constructor(s,f){this._map=s,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new tf(s.type,this._map,s))}mousedown(s,f){return this._mousedownPos=f,this._firePreventable(new kA(s.type,this._map,s))}mouseup(s){this._map.fire(new kA(s.type,this._map,s))}click(s,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new kA(s.type,this._map,s))}dblclick(s){return this._firePreventable(new kA(s.type,this._map,s))}mouseover(s){this._map.fire(new kA(s.type,this._map,s))}mouseout(s){this._map.fire(new kA(s.type,this._map,s))}touchstart(s){return this._firePreventable(new Id(s.type,this._map,s))}touchmove(s){this._map.fire(new Id(s.type,this._map,s))}touchend(s){this._map.fire(new Id(s.type,this._map,s))}touchcancel(s){this._map.fire(new Id(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ma{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new kA(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new kA("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new kA(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Bh{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.screenPointToLocation(o.P.convert(s),this._map.terrain)}}class ih{constructor(s,f){this._map=s,this._tr=new Bh(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,f){this.isEnabled()&&s.shiftKey&&s.button===0&&(K.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(s,f){if(!this._active)return;const _=f;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=_,this._box||(this._box=K.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const k=Math.min(S.x,_.x),z=Math.max(S.x,_.x),q=Math.min(S.y,_.y),X=Math.max(S.y,_.y);K.setTransform(this._box,`translate(${k}px,${q}px)`),this._box.style.width=z-k+"px",this._box.style.height=X-q+"px"}mouseupWindow(s,f){if(!this._active||s.button!==0)return;const _=this._startPos,S=f;if(this.reset(),K.suppressClick(),_.x!==S.x||_.y!==S.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:s})),{cameraAnimation:k=>k.fitScreenCoordinates(_,S,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(K.remove(this._box),this._box=null),K.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,f){return this._map.fire(new o.l(s,{originalEvent:f}))}}function Gu(I,s){if(I.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${I.length}, points ${s.length}`);const f={};for(let _=0;_<I.length;_++)f[I[_].identifier]=s[_];return f}class nf{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,f,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),_.length===this.numTouches&&(this.centroid=function(S){const k=new o.P(0,0);for(const z of S)k._add(z);return k.div(S.length)}(f),this.touches=Gu(_,f)))}touchmove(s,f,_){if(this.aborted||!this.centroid)return;const S=Gu(_,f);for(const k in this.touches){const z=S[k];(!z||z.dist(this.touches[k])>30)&&(this.aborted=!0)}}touchend(s,f,_){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class al{constructor(s){this.singleTap=new nf(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,f,_){this.singleTap.touchstart(s,f,_)}touchmove(s,f,_){this.singleTap.touchmove(s,f,_)}touchend(s,f,_){const S=this.singleTap.touchend(s,f,_);if(S){const k=s.timeStamp-this.lastTime<500,z=!this.lastTap||this.lastTap.dist(S)<30;if(k&&z||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class rs{constructor(s){this._tr=new Bh(s),this._zoomIn=new al({numTouches:1,numTaps:2}),this._zoomOut=new al({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,f,_){this._zoomIn.touchstart(s,f,_),this._zoomOut.touchstart(s,f,_)}touchmove(s,f,_){this._zoomIn.touchmove(s,f,_),this._zoomOut.touchmove(s,f,_)}touchend(s,f,_){const S=this._zoomIn.touchend(s,f,_),k=this._zoomOut.touchend(s,f,_),z=this._tr;return S?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:q=>q.easeTo({duration:300,zoom:z.zoom+1,around:z.unproject(S)},{originalEvent:s})}):k?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:q=>q.easeTo({duration:300,zoom:z.zoom-1,around:z.unproject(k)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $h{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const f=this._moveFunction(...s);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(s,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,f){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const S=Array.isArray(f)?f[0]:f;return!this._moved&&S.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=S,this._move(_,S))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&K.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const uA=0,Td=2,rf={[uA]:1,[Td]:2};class _l{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const f=K.mouseButton(s);this._eventButton=f}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!function(f,_){const S=rf[_];return f.buttons===void 0||(f.buttons&S)!==S}(s,this._eventButton)}isValidEndEvent(s){return K.mouseButton(s)===this._eventButton}}class Tc{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}class Ff{constructor(s=new _l({checkCorrectEvent:()=>!0}),f=new Tc){this.mouseMoveStateManager=s,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(s,f,_){return s instanceof MouseEvent?f(s):typeof TouchEvent<"u"&&s instanceof TouchEvent?_(s):void 0}startMove(s){this._executeRelevantHandler(s,f=>this.mouseMoveStateManager.startMove(f),f=>this.oneFingerTouchMoveStateManager.startMove(f))}endMove(s){this._executeRelevantHandler(s,f=>this.mouseMoveStateManager.endMove(f),f=>this.oneFingerTouchMoveStateManager.endMove(f))}isValidStartEvent(s){return this._executeRelevantHandler(s,f=>this.mouseMoveStateManager.isValidStartEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f))}isValidMoveEvent(s){return this._executeRelevantHandler(s,f=>this.mouseMoveStateManager.isValidMoveEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f))}isValidEndEvent(s){return this._executeRelevantHandler(s,f=>this.mouseMoveStateManager.isValidEndEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f))}}const Zh=I=>{I.mousedown=I.dragStart,I.mousemoveWindow=I.dragMove,I.mouseup=I.dragEnd,I.contextmenu=s=>{s.preventDefault()}};class ba{constructor(s,f){this._clickTolerance=s.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(s){return s<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(s,f,_){return this._calculateTransform(s,f,_)}touchmove(s,f,_){if(this._active){if(!this._shouldBePrevented(_.length))return s.preventDefault(),this._calculateTransform(s,f,_);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",s)}}touchend(s,f,_){this._calculateTransform(s,f,_),this._active&&this._shouldBePrevented(_.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,f,_){_.length>0&&(this._active=!0);const S=Gu(_,f),k=new o.P(0,0),z=new o.P(0,0);let q=0;for(const he in S){const me=S[he],Be=this._touches[he];Be&&(k._add(me),z._add(me.sub(Be)),q++,S[he]=me)}if(this._touches=S,this._shouldBePrevented(q)||!z.mag())return;const X=z.div(q);return this._sum._add(X),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(q),panDelta:X}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Jr{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,f,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([f[0],f[1]]))}touchmove(s,f,_){if(!this._firstTwoTouches)return;s.preventDefault();const[S,k]=this._firstTwoTouches,z=ci(_,f,S),q=ci(_,f,k);if(!z||!q)return;const X=this._aroundCenter?null:z.add(q).div(2);return this._move([z,q],X,s)}touchend(s,f,_){if(!this._firstTwoTouches)return;const[S,k]=this._firstTwoTouches,z=ci(_,f,S),q=ci(_,f,k);z&&q||(this._active&&K.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ci(I,s,f){for(let _=0;_<I.length;_++)if(I[_].identifier===f)return s[_]}function Wu(I,s){return Math.log(I/s)/Math.LN2}class Qu extends Jr{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,f){const _=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(Wu(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Wu(this._distance,_),pinchAround:f}}}function Xh(I,s){return 180*I.angleWith(s)/Math.PI}class kc extends Jr{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,f,_){const S=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Xh(this._vector,S),pinchAround:f}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const f=25/(Math.PI*this._minDiameter)*360,_=Xh(s,this._startVector);return Math.abs(_)<f}}function yu(I){return Math.abs(I.y)>Math.abs(I.x)}class of extends Jr{constructor(s){super(),this._currentTouchCount=0,this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,f,_){super.touchstart(s,f,_),this._currentTouchCount=_.length}_start(s){this._lastPoints=s,yu(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,f,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const S=s[0].sub(this._lastPoints[0]),k=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(S,k,_.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(S.y+k.y)/2*-.5}):void 0}gestureBeginsVertically(s,f,_){if(this._valid!==void 0)return this._valid;const S=s.mag()>=2,k=f.mag()>=2;if(!S&&!k)return;if(!S||!k)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const z=s.y>0==f.y>0;return yu(s)&&yu(f)&&z}}const io={panStep:100,bearingStep:15,pitchStep:10};class Gl{constructor(s){this._tr=new Bh(s);const f=io;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let f=0,_=0,S=0,k=0,z=0;switch(s.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:s.shiftKey?_=-1:(s.preventDefault(),k=-1);break;case 39:s.shiftKey?_=1:(s.preventDefault(),k=1);break;case 38:s.shiftKey?S=1:(s.preventDefault(),z=-1);break;case 40:s.shiftKey?S=-1:(s.preventDefault(),z=1);break;default:return}return this._rotationDisabled&&(_=0,S=0),{cameraAnimation:q=>{const X=this._tr;q.easeTo({duration:300,easeId:"keyboardHandler",easing:Oh,zoom:f?Math.round(X.zoom)+f*(s.shiftKey?2:1):X.zoom,bearing:X.bearing+_*this._bearingStep,pitch:X.pitch+S*this._pitchStep,offset:[-k*this._panStep,-z*this._panStep],center:X.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Oh(I){return I*(2-I)}const uc=4.000244140625,DA=1/450;class cc{constructor(s,f){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=s,this._tr=new Bh(s),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=DA}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(s){return!!this._map.cooperativeGestures.isEnabled()&&!(s.ctrlKey||this._map.cooperativeGestures.isBypassed(s))}wheel(s){if(!this.isEnabled())return;if(this._shouldBePrevented(s))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",s);let f=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const _=U.now(),S=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,f!==0&&f%uc==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(S*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),s.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=s,this._delta-=f,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=K.mousePos(this._map.getCanvas(),s),_=this._tr;this._aroundPoint=this._aroundCenter?_.transform.locationToScreenPoint(o.S.convert(_.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const q=s.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=q),typeof this._targetZoom=="number"&&(this._targetZoom+=q)}if(this._delta!==0){const q=this._type==="wheel"&&Math.abs(this._delta)>uc?this._wheelZoomRate:this._defaultZoomRate;let X=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&X!==0&&(X=1/X);const he=typeof this._targetZoom!="number"?s.scale:o.af(this._targetZoom);this._targetZoom=s.getConstrained(s.getCameraLngLat(),o.ak(he*X)).zoom,this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom!="number"?s.zoom:this._targetZoom,_=this._startZoom,S=this._easing;let k,z=!1;if(this._type==="wheel"&&_&&S){const q=U.now()-this._lastWheelEventTime,X=Math.min((q+5)/200,1),he=S(X);k=o.C.number(_,f,he),X<1?this._frameId||(this._frameId=!0):z=!0}else k=f,z=!0;return this._active=!0,z&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=k,{noInertia:!0,needsRenderFrame:!z,zoomDelta:k-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let f=o.co;if(this._prevEase){const _=this._prevEase,S=(U.now()-_.start)/_.duration,k=_.easing(S+.01)-_.easing(S),z=.27/Math.sqrt(k*k+1e-4)*.01,q=Math.sqrt(.0729-z*z);f=o.cm(z,q,.25,1)}return this._prevEase={start:U.now(),duration:s,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ih{constructor(s,f){this._clickZoom=s,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class vu{constructor(s){this._tr=new Bh(s),this.reset()}reset(){this._active=!1}dblclick(s,f){return s.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rh{constructor(){this._tap=new al({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,f,_){if(!this._swipePoint)if(this._tapTime){const S=f[0],k=s.timeStamp-this._tapTime<500,z=this._tapPoint.dist(S)<30;k&&z?_.length>0&&(this._swipePoint=S,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(s,f,_)}touchmove(s,f,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const S=f[0],k=S.y-this._swipePoint.y;return this._swipePoint=S,s.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(s,f,_)}touchend(s,f,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const S=this._tap.touchend(s,f,_);S&&(this._tapTime=s.timeStamp,this._tapPoint=S)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class tu{constructor(s,f,_){this._el=s,this._mousePan=f,this._touchPan=_}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class bl{constructor(s,f,_,S){this._pitchWithRotate=s.pitchWithRotate,this._rollEnabled=s.rollEnabled,this._mouseRotate=f,this._mousePitch=_,this._mouseRoll=S}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Bp{constructor(s,f,_,S){this._el=s,this._touchZoom=f,this._touchRotate=_,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class af{constructor(s,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=s,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const s=this._map.getCanvasContainer();s.classList.add("maplibregl-cooperative-gestures"),this._container=K.create("div","maplibregl-cooperative-gesture-screen",s);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),S=document.createElement("div");S.className="maplibregl-desktop-message",S.textContent=f,this._container.appendChild(S);const k=document.createElement("div");k.className="maplibregl-mobile-message",k.textContent=_,this._container.appendChild(k),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(K.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(s){return s[this._bypassKey]}notifyGestureBlocked(s,f){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:s,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Wl=I=>I.zoom||I.drag||I.roll||I.pitch||I.rotate;class Ko extends o.l{}function Ql(I){return I.panDelta&&I.panDelta.mag()||I.zoomDelta||I.bearingDelta||I.pitchDelta||I.rollDelta}class Jh{constructor(s,f){this.handleWindowEvent=S=>{this.handleEvent(S,`${S.type}Window`)},this.handleEvent=(S,k)=>{if(S.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const z=S.type==="renderFrame"?void 0:S,q={needsRenderFrame:!1},X={},he={};for(const{handlerName:Me,handler:Ue,allowed:Xe}of this._handlers){if(!Ue.isEnabled())continue;let At;if(this._blockedByActive(he,Xe,Me))Ue.reset();else if(Ue[k||S.type]){if(o.cp(S,k||S.type)){const ct=K.mousePos(this._map.getCanvas(),S);At=Ue[k||S.type](S,ct)}else if(o.cq(S,k||S.type)){const ct=this._getMapTouches(S.touches),ft=K.touchPos(this._map.getCanvas(),ct);At=Ue[k||S.type](S,ft,ct)}else o.cr(k||S.type)||(At=Ue[k||S.type](S));this.mergeHandlerResult(q,X,At,Me,z),At&&At.needsRenderFrame&&this._triggerRenderFrame()}(At||Ue.isActive())&&(he[Me]=Ue)}const me={};for(const Me in this._previousActiveHandlers)he[Me]||(me[Me]=z);this._previousActiveHandlers=he,(Object.keys(me).length||Ql(q))&&(this._changes.push([q,X,me]),this._triggerRenderFrame()),(Object.keys(he).length||Ql(q))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Be}=q;Be&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Be(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Eh(s),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[S,k,z]of this._listeners)K.addEventListener(S,k,S===document?this.handleWindowEvent:this.handleEvent,z)}destroy(){for(const[s,f,_]of this._listeners)K.removeEventListener(s,f,s===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(s){const f=this._map,_=f.getCanvasContainer();this._add("mapEvent",new Ep(f,s));const S=f.boxZoom=new ih(f,s);this._add("boxZoom",S),s.interactive&&s.boxZoom&&S.enable();const k=f.cooperativeGestures=new af(f,s.cooperativeGestures);this._add("cooperativeGestures",k),s.cooperativeGestures&&k.enable();const z=new rs(f),q=new vu(f);f.doubleClickZoom=new Ih(q,z),this._add("tapZoom",z),this._add("clickZoom",q),s.interactive&&s.doubleClickZoom&&f.doubleClickZoom.enable();const X=new rh;this._add("tapDragZoom",X);const he=f.touchPitch=new of(f);this._add("touchPitch",he),s.interactive&&s.touchPitch&&f.touchPitch.enable(s.touchPitch);const me=()=>f.project(f.getCenter()),Be=function({enable:wt,clickTolerance:Pt,aroundCenter:Ft=!0,minPixelCenterThreshold:Bt=100,rotateDegreesPerPixelMoved:Yt=.8},dn){const Xt=new _l({checkCorrectEvent:nn=>K.mouseButton(nn)===0&&nn.ctrlKey||K.mouseButton(nn)===2&&!nn.ctrlKey});return new $h({clickTolerance:Pt,move:(nn,An)=>{const qn=dn();if(Ft&&Math.abs(qn.y-nn.y)>Bt)return{bearingDelta:o.cn(new o.P(nn.x,An.y),An,qn)};let Qn=(An.x-nn.x)*Yt;return Ft&&An.y<qn.y&&(Qn=-Qn),{bearingDelta:Qn}},moveStateManager:Xt,enable:wt,assignEvents:Zh})}(s,me),Me=function({enable:wt,clickTolerance:Pt,pitchDegreesPerPixelMoved:Ft=-.5}){const Bt=new _l({checkCorrectEvent:Yt=>K.mouseButton(Yt)===0&&Yt.ctrlKey||K.mouseButton(Yt)===2});return new $h({clickTolerance:Pt,move:(Yt,dn)=>({pitchDelta:(dn.y-Yt.y)*Ft}),moveStateManager:Bt,enable:wt,assignEvents:Zh})}(s),Ue=function({enable:wt,clickTolerance:Pt,rollDegreesPerPixelMoved:Ft=.3},Bt){const Yt=new _l({checkCorrectEvent:dn=>K.mouseButton(dn)===2&&dn.ctrlKey});return new $h({clickTolerance:Pt,move:(dn,Xt)=>{const nn=Bt();let An=(Xt.x-dn.x)*Ft;return Xt.y<nn.y&&(An=-An),{rollDelta:An}},moveStateManager:Yt,enable:wt,assignEvents:Zh})}(s,me);f.dragRotate=new bl(s,Be,Me,Ue),this._add("mouseRotate",Be,["mousePitch"]),this._add("mousePitch",Me,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Ue,["mousePitch"]),s.interactive&&s.dragRotate&&f.dragRotate.enable();const Xe=function({enable:wt,clickTolerance:Pt}){const Ft=new _l({checkCorrectEvent:Bt=>K.mouseButton(Bt)===0&&!Bt.ctrlKey});return new $h({clickTolerance:Pt,move:(Bt,Yt)=>({around:Yt,panDelta:Yt.sub(Bt)}),activateOnStart:!0,moveStateManager:Ft,enable:wt,assignEvents:Zh})}(s),At=new ba(s,f);f.dragPan=new tu(_,Xe,At),this._add("mousePan",Xe),this._add("touchPan",At,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&f.dragPan.enable(s.dragPan);const ct=new kc,ft=new Qu;f.touchZoomRotate=new Bp(_,ft,ct,X),this._add("touchRotate",ct,["touchPan","touchZoom"]),this._add("touchZoom",ft,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&f.touchZoomRotate.enable(s.touchZoomRotate);const xt=f.scrollZoom=new cc(f,()=>this._triggerRenderFrame());this._add("scrollZoom",xt,["mousePan"]),s.interactive&&s.scrollZoom&&f.scrollZoom.enable(s.scrollZoom);const yt=f.keyboard=new Gl(f);this._add("keyboard",yt),s.interactive&&s.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new Ma(f))}_add(s,f,_){this._handlers.push({handlerName:s,handler:f,allowed:_}),this._handlersById[s]=f}stop(s){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Wl(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,f,_){for(const S in s)if(S!==_&&(!f||f.indexOf(S)<0))return!0;return!1}_getMapTouches(s){const f=[];for(const _ of s)this._el.contains(_.target)&&f.push(_);return f}mergeHandlerResult(s,f,_,S,k){if(!_)return;o.e(s,_);const z={handlerName:S,originalEvent:_.originalEvent||k};_.zoomDelta!==void 0&&(f.zoom=z),_.panDelta!==void 0&&(f.drag=z),_.rollDelta!==void 0&&(f.roll=z),_.pitchDelta!==void 0&&(f.pitch=z),_.bearingDelta!==void 0&&(f.rotate=z)}_applyChanges(){const s={},f={},_={};for(const[S,k,z]of this._changes)S.panDelta&&(s.panDelta=(s.panDelta||new o.P(0,0))._add(S.panDelta)),S.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+S.pitchDelta),S.rollDelta&&(s.rollDelta=(s.rollDelta||0)+S.rollDelta),S.around!==void 0&&(s.around=S.around),S.pinchAround!==void 0&&(s.pinchAround=S.pinchAround),S.noInertia&&(s.noInertia=S.noInertia),o.e(f,k),o.e(_,z);this._updateMapTransform(s,f,_),this._changes=[]}_updateMapTransform(s,f,_){const S=this._map,k=S._getTransformForUpdate(),z=S.terrain;if(!(Ql(s)||z&&this._terrainMovement))return this._fireEvents(f,_,!0);S._stop(!0);let{panDelta:q,zoomDelta:X,bearingDelta:he,pitchDelta:me,rollDelta:Be,around:Me,pinchAround:Ue}=s;Ue!==void 0&&(Me=Ue),Me=Me||S.transform.centerPoint,z&&!k.isPointOnMapSurface(Me)&&(Me=k.centerPoint);const Xe={panDelta:q,zoomDelta:X,rollDelta:Be,pitchDelta:me,bearingDelta:he,around:Me};this._map.cameraHelper.useGlobeControls&&!k.isPointOnMapSurface(Me)&&(Me=k.centerPoint);const At=Me.distSqr(k.centerPoint)<.01?k.center:k.screenPointToLocation(q?Me.sub(q):Me);z?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Xe,k),this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?k.setCenter(k.screenPointToLocation(k.centerPoint.sub(q))):this._map.cameraHelper.handleMapControlsPan(Xe,k,At):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Xe,k,At))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Xe,k),this._map.cameraHelper.handleMapControlsPan(Xe,k,At)),S._applyUpdatedTransform(k),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(f,_,!0)}_fireEvents(s,f,_){const S=Wl(this._eventsInProgress),k=Wl(s),z={};for(const Be in s){const{originalEvent:Me}=s[Be];this._eventsInProgress[Be]||(z[`${Be}start`]=Me),this._eventsInProgress[Be]=s[Be]}!S&&k&&this._fireEvent("movestart",k.originalEvent);for(const Be in z)this._fireEvent(Be,z[Be]);k&&this._fireEvent("move",k.originalEvent);for(const Be in s){const{originalEvent:Me}=s[Be];this._fireEvent(Be,Me)}const q={};let X;for(const Be in this._eventsInProgress){const{handlerName:Me,originalEvent:Ue}=this._eventsInProgress[Be];this._handlersById[Me].isActive()||(delete this._eventsInProgress[Be],X=f[Me]||Ue,q[`${Be}end`]=X)}for(const Be in q)this._fireEvent(Be,q[Be]);const he=Wl(this._eventsInProgress),me=(S||k)&&!he;if(me&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Be=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Be.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Be)}if(_&&me){this._updatingCamera=!0;const Be=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Me=Ue=>Ue!==0&&-this._bearingSnap<Ue&&Ue<this._bearingSnap;!Be||!Be.essential&&U.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:X})),Me(this._map.getBearing())&&this._map.resetNorth()):(Me(Be.bearing||this._map.getBearing())&&(Be.bearing=0),Be.freezeElevation=!0,this._map.easeTo(Be,{originalEvent:X})),this._updatingCamera=!1}}_fireEvent(s,f){this._map.fire(new o.l(s,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{delete this._frameId,this.handleEvent(new Ko("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class zf extends o.E{constructor(s,f,_){super(),this._renderFrameCallback=()=>{const S=Math.min((U.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(S)),S<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=_.bearingSnap,this.cameraHelper=f,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(s,f){s.apply(this.transform),this.transform=s,this.cameraHelper=f}getCenter(){return new o.S(this.transform.center.lng,this.transform.center.lat)}setCenter(s,f){return this.jumpTo({center:s},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(s,f){return this.jumpTo({elevation:s},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(s){this._centerClampedToGround=s}panBy(s,f,_){return s=o.P.convert(s).mult(-1),this.panTo(this.transform.center,o.e({offset:s},f),_)}panTo(s,f,_){return this.easeTo(o.e({center:s},f),_)}getZoom(){return this.transform.zoom}setZoom(s,f){return this.jumpTo({zoom:s},f),this}zoomTo(s,f,_){return this.easeTo(o.e({zoom:s},f),_)}zoomIn(s,f){return this.zoomTo(this.getZoom()+1,s,f),this}zoomOut(s,f){return this.zoomTo(this.getZoom()-1,s,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(s,f){return s!=this.transform.fov&&(this.transform.setFov(s),this.fire(new o.l("movestart",f)).fire(new o.l("move",f)).fire(new o.l("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(s,f){return this.jumpTo({bearing:s},f),this}getPadding(){return this.transform.padding}setPadding(s,f){return this.jumpTo({padding:s},f),this}rotateTo(s,f,_){return this.easeTo(o.e({bearing:s},f),_)}resetNorth(s,f){return this.rotateTo(0,o.e({duration:1e3},s),f),this}resetNorthPitch(s,f){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},s),f),this}snapToNorth(s,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,f):this}getPitch(){return this.transform.pitch}setPitch(s,f){return this.jumpTo({pitch:s},f),this}getRoll(){return this.transform.roll}setRoll(s,f){return this.jumpTo({roll:s},f),this}cameraForBounds(s,f){s=_t.convert(s).adjustAntiMeridian();const _=f&&f.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),_,f)}_cameraForBoxAndBearing(s,f,_,S){const k={top:0,bottom:0,right:0,left:0};if(typeof(S=o.e({padding:k,offset:[0,0],maxZoom:this.transform.maxZoom},S)).padding=="number"){const he=S.padding;S.padding={top:he,bottom:he,right:he,left:he}}const z=o.e(k,S.padding);S.padding=z;const q=this.transform,X=new _t(s,f);return this.cameraHelper.cameraForBoxAndBearing(S,z,X,_,q)}fitBounds(s,f,_){return this._fitInternal(this.cameraForBounds(s,f),f,_)}fitScreenCoordinates(s,f,_,S,k){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(s)),this.transform.screenPointToLocation(o.P.convert(f)),_,S),S,k)}_fitInternal(s,f,_){return s?(delete(f=o.e(s,f)).padding,f.linear?this.easeTo(f,_):this.flyTo(f,_)):this}jumpTo(s,f){this.stop();const _=this._getTransformForUpdate();let S=!1,k=!1,z=!1;const q=_.zoom;this.cameraHelper.handleJumpToCenterZoom(_,s);const X=_.zoom!==q;return"elevation"in s&&_.elevation!==+s.elevation&&_.setElevation(+s.elevation),"bearing"in s&&_.bearing!==+s.bearing&&(S=!0,_.setBearing(+s.bearing)),"pitch"in s&&_.pitch!==+s.pitch&&(k=!0,_.setPitch(+s.pitch)),"roll"in s&&_.roll!==+s.roll&&(z=!0,_.setRoll(+s.roll)),s.padding==null||_.isPaddingEqual(s.padding)||_.setPadding(s.padding),this._applyUpdatedTransform(_),this.fire(new o.l("movestart",f)).fire(new o.l("move",f)),X&&this.fire(new o.l("zoomstart",f)).fire(new o.l("zoom",f)).fire(new o.l("zoomend",f)),S&&this.fire(new o.l("rotatestart",f)).fire(new o.l("rotate",f)).fire(new o.l("rotateend",f)),k&&this.fire(new o.l("pitchstart",f)).fire(new o.l("pitch",f)).fire(new o.l("pitchend",f)),z&&this.fire(new o.l("rollstart",f)).fire(new o.l("roll",f)).fire(new o.l("rollend",f)),this.fire(new o.l("moveend",f))}calculateCameraOptionsFromTo(s,f,_,S=0){const k=o.a1.fromLngLat(s,f),z=o.a1.fromLngLat(_,S),q=z.x-k.x,X=z.y-k.y,he=z.z-k.z,me=Math.hypot(q,X,he);if(me===0)throw new Error("Can't calculate camera options with same From and To");const Be=Math.hypot(q,X),Me=o.ak(this.transform.cameraToCenterDistance/me/this.transform.tileSize),Ue=180*Math.atan2(q,-X)/Math.PI;let Xe=180*Math.acos(Be/me)/Math.PI;return Xe=he<0?90-Xe:90+Xe,{center:z.toLngLat(),elevation:S,zoom:Me,pitch:Xe,bearing:Ue}}calculateCameraOptionsFromCameraLngLatAltRotation(s,f,_,S,k){const z=this.transform.calculateCenterFromCameraLngLatAlt(s,f,_,S);return{center:z.center,elevation:z.elevation,zoom:z.zoom,bearing:_,pitch:S,roll:k}}easeTo(s,f){this._stop(!1,s.easeId),((s=o.e({offset:[0,0],duration:500,easing:o.co},s)).animate===!1||!s.essential&&U.prefersReducedMotion)&&(s.duration=0);const _=this._getTransformForUpdate(),S=this.getBearing(),k=_.pitch,z=_.roll,q="bearing"in s?this._normalizeBearing(s.bearing,S):S,X="pitch"in s?+s.pitch:k,he="roll"in s?this._normalizeBearing(s.roll,z):z,me="padding"in s?s.padding:_.padding,Be=o.P.convert(s.offset);let Me,Ue;s.around&&(Me=o.S.convert(s.around),Ue=_.locationToScreenPoint(Me));const Xe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},At=this.cameraHelper.handleEaseTo(_,{bearing:q,pitch:X,roll:he,padding:me,around:Me,aroundPoint:Ue,offsetAsPoint:Be,offset:s.offset,zoom:s.zoom,center:s.center});return this._rotating=this._rotating||S!==q,this._pitching=this._pitching||X!==k,this._rolling=this._rolling||he!==z,this._padding=!_.isPaddingEqual(me),this._zooming=this._zooming||At.isZooming,this._easeId=s.easeId,this._prepareEase(f,s.noMoveStart,Xe),this.terrain&&this._prepareElevation(At.elevationCenter),this._ease(ct=>{At.easeFunc(ct),this.terrain&&!s.freezeElevation&&this._updateElevation(ct),this._applyUpdatedTransform(_),this._fireMoveEvents(f)},ct=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(f,ct)},s),this}_prepareEase(s,f,_={}){this._moving=!0,f||_.moving||this.fire(new o.l("movestart",s)),this._zooming&&!_.zooming&&this.fire(new o.l("zoomstart",s)),this._rotating&&!_.rotating&&this.fire(new o.l("rotatestart",s)),this._pitching&&!_.pitching&&this.fire(new o.l("pitchstart",s)),this._rolling&&!_.rolling&&this.fire(new o.l("rollstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&f!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(_-(f-(_*s+this._elevationStart))/(1-s)),this._elevationTarget=f}this.transform.setElevation(o.C.number(this._elevationStart,this._elevationTarget,s))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(s){if(!this.terrain&&s.elevation>=0&&s.pitch<=90)return{};const f=s.getCameraLngLat(),_=s.getCameraAltitude(),S=this.terrain?this.terrain.getElevationForLngLatZoom(f,s.zoom):0;if(_<S){const k=this.calculateCameraOptionsFromTo(f,S,s.center,s.elevation);return{pitch:k.pitch,zoom:k.zoom}}return{}}_applyUpdatedTransform(s){const f=[];if(f.push(S=>this._elevateCameraIfInsideTerrain(S)),this.transformCameraUpdate&&f.push(S=>this.transformCameraUpdate(S)),!f.length)return;const _=s.clone();for(const S of f){const k=_.clone(),{center:z,zoom:q,roll:X,pitch:he,bearing:me,elevation:Be}=S(k);z&&k.setCenter(z),Be!==void 0&&k.setElevation(Be),q!==void 0&&k.setZoom(q),X!==void 0&&k.setRoll(X),he!==void 0&&k.setPitch(he),me!==void 0&&k.setBearing(me),_.apply(k)}this.transform.apply(_)}_fireMoveEvents(s){this.fire(new o.l("move",s)),this._zooming&&this.fire(new o.l("zoom",s)),this._rotating&&this.fire(new o.l("rotate",s)),this._pitching&&this.fire(new o.l("pitch",s)),this._rolling&&this.fire(new o.l("roll",s))}_afterEase(s,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const _=this._zooming,S=this._rotating,k=this._pitching,z=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,_&&this.fire(new o.l("zoomend",s)),S&&this.fire(new o.l("rotateend",s)),k&&this.fire(new o.l("pitchend",s)),z&&this.fire(new o.l("rollend",s)),this.fire(new o.l("moveend",s))}flyTo(s,f){if(!s.essential&&U.prefersReducedMotion){const An=o.Q(s,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(An,f)}this.stop(),s=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.co},s);const _=this._getTransformForUpdate(),S=_.bearing,k=_.pitch,z=_.roll,q=_.padding,X="bearing"in s?this._normalizeBearing(s.bearing,S):S,he="pitch"in s?+s.pitch:k,me="roll"in s?this._normalizeBearing(s.roll,z):z,Be="padding"in s?s.padding:_.padding,Me=o.P.convert(s.offset);let Ue=_.centerPoint.add(Me);const Xe=_.screenPointToLocation(Ue),At=this.cameraHelper.handleFlyTo(_,{bearing:X,pitch:he,roll:me,padding:Be,locationAtOffset:Xe,offsetAsPoint:Me,center:s.center,minZoom:s.minZoom,zoom:s.zoom});let ct=s.curve;const ft=Math.max(_.width,_.height),xt=ft/At.scaleOfZoom,yt=At.pixelPathLength;typeof At.scaleOfMinZoom=="number"&&(ct=Math.sqrt(ft/At.scaleOfMinZoom/yt*2));const wt=ct*ct;function Pt(An){const qn=(xt*xt-ft*ft+(An?-1:1)*wt*wt*yt*yt)/(2*(An?xt:ft)*wt*yt);return Math.log(Math.sqrt(qn*qn+1)-qn)}function Ft(An){return(Math.exp(An)-Math.exp(-An))/2}function Bt(An){return(Math.exp(An)+Math.exp(-An))/2}const Yt=Pt(!1);let dn=function(An){return Bt(Yt)/Bt(Yt+ct*An)},Xt=function(An){return ft*((Bt(Yt)*(Ft(qn=Yt+ct*An)/Bt(qn))-Ft(Yt))/wt)/yt;var qn},nn=(Pt(!0)-Yt)/ct;if(Math.abs(yt)<2e-6||!isFinite(nn)){if(Math.abs(ft-xt)<1e-6)return this.easeTo(s,f);const An=xt<ft?-1:1;nn=Math.abs(Math.log(xt/ft))/ct,Xt=()=>0,dn=qn=>Math.exp(An*ct*qn)}return s.duration="duration"in s?+s.duration:1e3*nn/("screenSpeed"in s?+s.screenSpeed/ct:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=S!==X,this._pitching=he!==k,this._rolling=me!==z,this._padding=!_.isPaddingEqual(Be),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(At.targetCenter),this._ease(An=>{const qn=An*nn,Qn=1/dn(qn),Tn=Xt(qn);this._rotating&&_.setBearing(o.C.number(S,X,An)),this._pitching&&_.setPitch(o.C.number(k,he,An)),this._rolling&&_.setRoll(o.C.number(z,me,An)),this._padding&&(_.interpolatePadding(q,Be,An),Ue=_.centerPoint.add(Me)),At.easeFunc(An,Qn,Tn,Ue),this.terrain&&!s.freezeElevation&&this._updateElevation(An),this._applyUpdatedTransform(_),this._fireMoveEvents(f)},()=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(f)},s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,f){var _;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const S=this._onEaseEnd;delete this._onEaseEnd,S.call(this,f)}return s||(_=this.handlers)===null||_===void 0||_.stop(!1),this}_ease(s,f,_){_.animate===!1||_.duration===0?(s(1),f()):(this._easeStart=U.now(),this._easeOptions=_,this._onEaseFrame=s,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,f){s=o.aO(s,-180,180);const _=Math.abs(s-f);return Math.abs(s-360-f)<_&&(s-=360),Math.abs(s+360-f)<_&&(s+=360),s}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(o.S.convert(s),this.transform.tileZoom):null}}const Cu={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ro{constructor(s=Cu){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options.compact,this._container=K.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=K.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=K.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){K.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,f){const _=this._map._getUIString(`AttributionControl.${f}`);s.title=_,s.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(S=>typeof S!="string"?"":S)):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const f=this._map.style.sourceCaches;for(const S in f){const k=f[S];if(k.used||k.usedForTerrain){const z=k.getSource();z.attribution&&s.indexOf(z.attribution)<0&&s.push(z.attribution)}}s=s.filter(S=>String(S).trim()),s.sort((S,k)=>S.length-k.length),s=s.filter((S,k)=>{for(let z=k+1;z<s.length;z++)if(s[z].indexOf(S)>=0)return!1;return!0});const _=s.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,s.length?(this._innerContainer.innerHTML=K.sanitize(_),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Uo{constructor(s={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const _=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=K.create("div","maplibregl-ctrl");const f=K.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){K.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Kr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const f=++this._id;return this._queue.push({callback:s,id:f,cancelled:!1}),f}remove(s){const f=this._currentlyRunning,_=f?this._queue.concat(f):this._queue;for(const S of _)if(S.id===s)return void(S.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const _ of f)if(!_.cancelled&&(_.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Yu=o.aJ([{name:"a_pos3d",type:"Int16",components:3}]);class Ii extends o.E{constructor(s){super(),this._lastTilesetChange=U.now(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=s._source.tileSize*2**this.deltaZoom,s.usedForTerrain=!0,s.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,f){this.sourceCache.update(s,f),this._renderableTilesKeys=[];const _={};for(const S of it(s,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))_[S.key]=!0,this._renderableTilesKeys.push(S.key),this._tiles[S.key]||(S.terrainRttPosMatrix32f=new Float64Array(16),o.bY(S.terrainRttPosMatrix32f,0,o.$,o.$,0,0,1),this._tiles[S.key]=new de(S,this.tileSize),this._lastTilesetChange=U.now());for(const S in this._tiles)_[S]||delete this._tiles[S]}freeRtt(s){for(const f in this._tiles){const _=this._tiles[f];(!s||_.tileID.equals(s)||_.tileID.isChildOf(s)||s.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(s=>this.getTileByID(s))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s,f){return f?this._getTerrainCoordsForTileRanges(s,f):this._getTerrainCoordsForRegularTile(s)}_getTerrainCoordsForRegularTile(s){const f={};for(const _ of this._renderableTilesKeys){const S=this._tiles[_].tileID,k=s.clone(),z=o.ba();if(S.canonical.equals(s.canonical))o.bY(z,0,o.$,o.$,0,0,1);else if(S.canonical.isChildOf(s.canonical)){const q=S.canonical.z-s.canonical.z,X=S.canonical.x-(S.canonical.x>>q<<q),he=S.canonical.y-(S.canonical.y>>q<<q),me=o.$>>q;o.bY(z,0,me,me,0,0,1),o.M(z,z,[-X*me,-he*me,0])}else{if(!s.canonical.isChildOf(S.canonical))continue;{const q=s.canonical.z-S.canonical.z,X=s.canonical.x-(s.canonical.x>>q<<q),he=s.canonical.y-(s.canonical.y>>q<<q),me=o.$>>q;o.bY(z,0,o.$,o.$,0,0,1),o.M(z,z,[X*me,he*me,0]),o.N(z,z,[1/2**q,1/2**q,0])}}k.terrainRttPosMatrix32f=new Float32Array(z),f[_]=k}return f}_getTerrainCoordsForTileRanges(s,f){const _={};for(const S of this._renderableTilesKeys){const k=this._tiles[S].tileID;if(!this._isWithinTileRanges(k,f))continue;const z=s.clone(),q=o.ba();if(k.canonical.z===s.canonical.z){const X=s.canonical.x-k.canonical.x,he=s.canonical.y-k.canonical.y;o.bY(q,0,o.$,o.$,0,0,1),o.M(q,q,[X*o.$,he*o.$,0])}else if(k.canonical.z>s.canonical.z){const X=k.canonical.z-s.canonical.z,he=k.canonical.x-(k.canonical.x>>X<<X),me=k.canonical.y-(k.canonical.y>>X<<X),Be=s.canonical.x-(k.canonical.x>>X),Me=s.canonical.y-(k.canonical.y>>X),Ue=o.$>>X;o.bY(q,0,Ue,Ue,0,0,1),o.M(q,q,[-he*Ue+Be*o.$,-me*Ue+Me*o.$,0])}else{const X=s.canonical.z-k.canonical.z,he=s.canonical.x-(s.canonical.x>>X<<X),me=s.canonical.y-(s.canonical.y>>X<<X),Be=(s.canonical.x>>X)-k.canonical.x,Me=(s.canonical.y>>X)-k.canonical.y,Ue=o.$<<X;o.bY(q,0,Ue,Ue,0,0,1),o.M(q,q,[he*o.$+Be*Ue,me*o.$+Me*Ue,0])}z.terrainRttPosMatrix32f=new Float32Array(q),_[S]=z}return _}getSourceTile(s,f){const _=this.sourceCache._source;let S=s.overscaledZ-this.deltaZoom;if(S>_.maxzoom&&(S=_.maxzoom),S<_.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(S).key);let k=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!k||!k.dem)&&f)for(;S>=_.minzoom&&(!k||!k.dem);)k=this.sourceCache.getTileByID(s.scaledTo(S--).key);return k}anyTilesAfterTime(s=Date.now()){return this._lastTilesetChange>=s}_isWithinTileRanges(s,f){return f[s.canonical.z]&&s.canonical.x>=f[s.canonical.z].minTileX&&s.canonical.x<=f[s.canonical.z].maxTileX&&s.canonical.y>=f[s.canonical.z].minTileY&&s.canonical.y<=f[s.canonical.z].maxTileY}}class ki{constructor(s,f,_){this._meshCache={},this.painter=s,this.sourceCache=new Ii(f),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,f,_,S=o.$){var k;if(!(f>=0&&f<S&&_>=0&&_<S))return 0;const z=this.getTerrainData(s),q=(k=z.tile)===null||k===void 0?void 0:k.dem;if(!q)return 0;const X=o.cs([],[f/S*o.$,_/S*o.$],z.u_terrain_matrix),he=[X[0]*q.dim,X[1]*q.dim],me=Math.floor(he[0]),Be=Math.floor(he[1]),Me=he[0]-me,Ue=he[1]-Be;return q.get(me,Be)*(1-Me)*(1-Ue)+q.get(me+1,Be)*Me*(1-Ue)+q.get(me,Be+1)*(1-Me)*Ue+q.get(me+1,Be+1)*Me*Ue}getElevationForLngLatZoom(s,f){if(!o.ct(f,s.wrap()))return 0;const{tileID:_,mercatorX:S,mercatorY:k}=this._getOverscaledTileIDFromLngLatZoom(s,f);return this.getElevation(_,S%o.$,k%o.$,o.$)}getElevation(s,f,_,S=o.$){return this.getDEMElevation(s,f,_,S)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const S=this.painter.context,k=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new o.T(S,k,S.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new o.T(S,new o.R({width:1,height:1}),S.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ag([])}const f=this.sourceCache.getSourceTile(s,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const S=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new o.T(S,f.dem.getPixels(),S.gl.RGBA,{premultiply:!1}),f.demTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const _=f&&f+f.tileID.key+s.key;if(_&&!this._demMatrixCache[_]){const S=this.sourceCache.sourceCache._source.maxzoom;let k=s.canonical.z-f.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=S?k=s.canonical.z-S:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const z=s.canonical.x-(s.canonical.x>>k<<k),q=s.canonical.y-(s.canonical.y>>k<<k),X=o.cu(new Float64Array(16),[1/(o.$<<k),1/(o.$<<k),0]);o.M(X,X,[z*o.$,q*o.$,0]),this._demMatrixCache[s.key]={matrix:X,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(s){const f=this.painter,_=f.width/devicePixelRatio,S=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===S||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new o.T(f.context,{width:_,height:S,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new o.T(f.context,{width:_,height:S,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(_,S,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,_,S))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let k=0,z=0;k<this._coordsTextureSize;k++)for(let q=0;q<this._coordsTextureSize;q++,z+=4)f[z+0]=255&q,f[z+1]=255&k,f[z+2]=q>>8<<4|k>>8,f[z+3]=0;const _=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),S=new o.T(s,_,s.gl.RGBA,{premultiply:!1});return S.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=S,S}pointCoordinate(s){this.painter.maybeDrawDepthAndCoords(!0);const f=new Uint8Array(4),_=this.painter.context,S=_.gl,k=Math.round(s.x*this.painter.pixelRatio/devicePixelRatio),z=Math.round(s.y*this.painter.pixelRatio/devicePixelRatio),q=Math.round(this.painter.height/devicePixelRatio);_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),S.readPixels(k,q-z-1,1,1,S.RGBA,S.UNSIGNED_BYTE,f),_.bindFramebuffer.set(null);const X=f[0]+(f[2]>>4<<8),he=f[1]+((15&f[2])<<8),me=this.coordsIndex[255-f[3]],Be=me&&this.sourceCache.getTileByID(me);if(!Be)return null;const Me=this._coordsTextureSize,Ue=(1<<Be.tileID.canonical.z)*Me;return new o.a1((Be.tileID.canonical.x*Me+X)/Ue+Be.tileID.wrap,(Be.tileID.canonical.y*Me+he)/Ue,this.getElevation(Be.tileID,X,he,Me))}depthAtPoint(s){const f=new Uint8Array(4),_=this.painter.context,S=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),S.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,S.RGBA,S.UNSIGNED_BYTE,f),_.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(s){var f;const _=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,S=_&&s.canonical.y===0,k=_&&s.canonical.y===(1<<s.canonical.z)-1,z=`m_${S?"n":""}_${k?"s":""}`;if(this._meshCache[z])return this._meshCache[z];const q=this.painter.context,X=new o.cv,he=new o.aN,me=this.meshSize,Be=o.$/me,Me=me*me;for(let Bt=0;Bt<=me;Bt++)for(let Yt=0;Yt<=me;Yt++)X.emplaceBack(Yt*Be,Bt*Be,0);for(let Bt=0;Bt<Me;Bt+=me+1)for(let Yt=0;Yt<me;Yt++)he.emplaceBack(Yt+Bt,me+Yt+Bt+1,me+Yt+Bt+2),he.emplaceBack(Yt+Bt,me+Yt+Bt+2,Yt+Bt+1);const Ue=X.length,Xe=Ue+(me+1),At=(me+1)*me,ct=S?o.bh:0,ft=S?0:1,xt=k?o.bi:o.$,yt=k?0:1;for(let Bt=0;Bt<=me;Bt++)X.emplaceBack(Bt*Be,ct,ft);for(let Bt=0;Bt<=me;Bt++)X.emplaceBack(Bt*Be,xt,yt);for(let Bt=0;Bt<me;Bt++)he.emplaceBack(At+Bt,Xe+Bt,Xe+Bt+1),he.emplaceBack(At+Bt,Xe+Bt+1,At+Bt+1),he.emplaceBack(0+Bt,Ue+Bt+1,Ue+Bt),he.emplaceBack(0+Bt,0+Bt+1,Ue+Bt+1);const wt=X.length,Pt=wt+2*(me+1);for(const Bt of[0,1])for(let Yt=0;Yt<=me;Yt++)for(const dn of[0,1])X.emplaceBack(Bt*o.$,Yt*Be,dn);for(let Bt=0;Bt<2*me;Bt+=2)he.emplaceBack(wt+Bt,wt+Bt+1,wt+Bt+3),he.emplaceBack(wt+Bt,wt+Bt+3,wt+Bt+2),he.emplaceBack(Pt+Bt,Pt+Bt+3,Pt+Bt+1),he.emplaceBack(Pt+Bt,Pt+Bt+2,Pt+Bt+3);const Ft=new Ul(q.createVertexBuffer(X,Yu.members),q.createIndexBuffer(he),o.aM.simpleSegment(0,0,X.length,he.length));return this._meshCache[z]=Ft,Ft}getMeshFrameDelta(s){return 2*Math.PI*o.bu/Math.pow(2,Math.max(s,0))/5}getMinTileElevationForLngLatZoom(s,f){var _;const{tileID:S}=this._getOverscaledTileIDFromLngLatZoom(s,f);return(_=this.getMinMaxElevation(S).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(s){const f=this.getTerrainData(s).tile,_={minElevation:null,maxElevation:null};return f&&f.dem&&(_.minElevation=f.dem.min*this.exaggeration,_.maxElevation=f.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(s,f){const _=o.a1.fromLngLat(s.wrap()),S=(1<<f)*o.$,k=_.x*S,z=_.y*S,q=Math.floor(k/o.$),X=Math.floor(z/o.$);return{tileID:new o.Z(f,0,f,q,X),mercatorX:k,mercatorY:z}}}class Dc{constructor(s,f,_){this._context=s,this._size=f,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new o.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(_.texture),{id:s,fbo:f,texture:_,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>s.id!==f),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(s=>!s.inUse)===!1}}const RA={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class cA{constructor(s,f){this.painter=s,this.terrain=f,this.pool=new Dc(s.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter(_=>!s._layers[_].isHidden(f)),this._coordsAscending={};for(const _ in s.sourceCaches){this._coordsAscending[_]={};const S=s.sourceCaches[_].getVisibleCoordinates(),k=s.sourceCaches[_].getSource(),z=k instanceof Wt?k.terrainTileRanges:null;for(const q of S){const X=this.terrain.sourceCache.getTerrainCoords(q,z);for(const he in X)this._coordsAscending[_][he]||(this._coordsAscending[_][he]=[]),this._coordsAscending[_][he].push(X[he])}}this._coordsAscendingStr={};for(const _ of s._order){const S=s._layers[_],k=S.source;if(RA[S.type]&&!this._coordsAscendingStr[k]){this._coordsAscendingStr[k]={};for(const z in this._coordsAscending[k])this._coordsAscendingStr[k][z]=this._coordsAscending[k][z].map(q=>q.key).sort().join()}}for(const _ of this._renderableTiles)for(const S in this._coordsAscendingStr){const k=this._coordsAscendingStr[S][_.tileID.key];k&&k!==_.rttCoords[S]&&(_.rtt=[])}}renderLayer(s,f){if(s.isHidden(this.painter.transform.zoom))return!1;const _=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),S=s.type,k=this.painter,z=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(RA[S]&&(this._prevType&&RA[this._prevType]||this._stacks.push([]),this._prevType=S,this._stacks[this._stacks.length-1].push(s.id),!z))return!0;if(RA[this._prevType]||RA[S]&&z){this._prevType=S;const q=this._stacks.length-1,X=this._stacks[q]||[];for(const he of this._renderableTiles){if(this.pool.isFull()&&(ef(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(he),he.rtt[q]){const Be=this.pool.getObjectForId(he.rtt[q].id);if(Be.stamp===he.rtt[q].stamp){this.pool.useObject(Be);continue}}const me=this.pool.getOrCreateFreeObject();this.pool.useObject(me),this.pool.stampObject(me),he.rtt[q]={id:me.id,stamp:me.stamp},k.context.bindFramebuffer.set(me.fbo.framebuffer),k.context.clear({color:o.bf.transparent,stencil:0}),k.currentStencilSource=void 0;for(let Be=0;Be<X.length;Be++){const Me=k.style._layers[X[Be]],Ue=Me.source?this._coordsAscending[Me.source][he.tileID.key]:[he.tileID];k.context.viewport.set([0,0,me.fbo.width,me.fbo.height]),k._renderTileClippingMasks(Me,Ue,!0),k.renderLayer(k,k.style.sourceCaches[Me.source],Me,Ue,_),Me.source&&(he.rttCoords[Me.source]=this._coordsAscendingStr[Me.source][he.tileID.key])}}return ef(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects(),RA[S]}return!1}}const Aa={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},go=p,Yl={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Cu,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},jf={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class ed{constructor(s,f,_=!1){this.mousedown=k=>{this.startMove(k,K.mousePos(this.element,k)),K.addEventListener(window,"mousemove",this.mousemove),K.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=k=>{this.move(k,K.mousePos(this.element,k))},this.mouseup=k=>{this._rotatePitchHandler.dragEnd(k),this.offTemp()},this.touchstart=k=>{k.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=K.touchPos(this.element,k.targetTouches)[0],this.startMove(k,this._startPos),K.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),K.addEventListener(window,"touchend",this.touchend))},this.touchmove=k=>{k.targetTouches.length!==1?this.reset():(this._lastPos=K.touchPos(this.element,k.targetTouches)[0],this.move(k,this._lastPos))},this.touchend=k=>{k.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;const S=new Ff;this._rotatePitchHandler=new $h({clickTolerance:3,move:(k,z)=>{const q=f.getBoundingClientRect(),X=new o.P((q.bottom-q.top)/2,(q.right-q.left)/2);return{bearingDelta:o.cn(new o.P(k.x,z.y),z,X),pitchDelta:_?-.5*(z.y-k.y):void 0}},moveStateManager:S,enable:!0,assignEvents:()=>{}}),this.map=s,K.addEventListener(f,"mousedown",this.mousedown),K.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),K.addEventListener(f,"touchcancel",this.reset)}startMove(s,f){this._rotatePitchHandler.dragStart(s,f),K.disableDrag()}move(s,f){const _=this.map,{bearingDelta:S,pitchDelta:k}=this._rotatePitchHandler.dragMove(s,f)||{};S&&_.setBearing(_.getBearing()+S),k&&_.setPitch(_.getPitch()+k)}off(){const s=this.element;K.removeEventListener(s,"mousedown",this.mousedown),K.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),K.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),K.removeEventListener(window,"touchend",this.touchend),K.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){K.enableDrag(),K.removeEventListener(window,"mousemove",this.mousemove),K.removeEventListener(window,"mouseup",this.mouseup),K.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),K.removeEventListener(window,"touchend",this.touchend)}}let Lo;function Ya(I,s,f,_=!1){if(_||!f.getCoveringTilesDetailsProvider().allowWorldCopies())return I?.wrap();const S=new o.S(I.lng,I.lat);if(I=new o.S(I.lng,I.lat),s){const k=new o.S(I.lng-360,I.lat),z=new o.S(I.lng+360,I.lat),q=f.locationToScreenPoint(I).distSqr(s);f.locationToScreenPoint(k).distSqr(s)<q?I=k:f.locationToScreenPoint(z).distSqr(s)<q&&(I=z)}for(;Math.abs(I.lng-f.center.lng)>180;){const k=f.locationToScreenPoint(I);if(k.x>=0&&k.y>=0&&k.x<=f.width&&k.y<=f.height)break;I.lng>f.center.lng?I.lng-=360:I.lng+=360}return I.lng!==S.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(I))?I:S}const td={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function _u(I,s,f){const _=I.classList;for(const S in td)_.remove(`maplibregl-${f}-anchor-${S}`);_.add(`maplibregl-${f}-anchor-${s}`)}class Rc extends o.E{constructor(s){if(super(),this._onKeyPress=f=>{const _=f.code,S=f.charCode||f.keyCode;_!=="Space"&&_!=="Enter"&&S!==32&&S!==13||this.togglePopup()},this._onMapClick=f=>{const _=f.originalEvent.target,S=this._element;this._popup&&(_===S||S.contains(_))&&this.togglePopup()},this._update=f=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();(f?.type==="terrain"||f?.type==="render"&&!_)&&this._map.once("render",this._update),this._lngLat=Ya(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let S="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?S=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(S=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let k="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?k="rotateX(0deg)":this._pitchAlignment==="map"&&(k=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),K.setTransform(this._element,`${td[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${k} ${S}`),U.frameAsync(new AbortController).then(()=>{this._updateOpacity(f&&f.type==="moveend")}).catch(()=>{})},this._onMove=f=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._subpixelPositioning=s&&s.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,this.setOpacity(s?.opacity,s?.opacityWhenCovered),s&&s.element)this._element=s.element,this._offset=o.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=K.create("div");const f=K.createNS("http://www.w3.org/2000/svg","svg"),_=41,S=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${_}px`),f.setAttributeNS(null,"width",`${S}px`),f.setAttributeNS(null,"viewBox",`0 0 ${S} ${_}`);const k=K.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"stroke","none"),k.setAttributeNS(null,"stroke-width","1"),k.setAttributeNS(null,"fill","none"),k.setAttributeNS(null,"fill-rule","evenodd");const z=K.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill-rule","nonzero");const q=K.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"transform","translate(3.0, 29.0)"),q.setAttributeNS(null,"fill","#000000");const X=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ft of X){const xt=K.createNS("http://www.w3.org/2000/svg","ellipse");xt.setAttributeNS(null,"opacity","0.04"),xt.setAttributeNS(null,"cx","10.5"),xt.setAttributeNS(null,"cy","5.80029008"),xt.setAttributeNS(null,"rx",ft.rx),xt.setAttributeNS(null,"ry",ft.ry),q.appendChild(xt)}const he=K.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"fill",this._color);const me=K.createNS("http://www.w3.org/2000/svg","path");me.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),he.appendChild(me);const Be=K.createNS("http://www.w3.org/2000/svg","g");Be.setAttributeNS(null,"opacity","0.25"),Be.setAttributeNS(null,"fill","#000000");const Me=K.createNS("http://www.w3.org/2000/svg","path");Me.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Be.appendChild(Me);const Ue=K.createNS("http://www.w3.org/2000/svg","g");Ue.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ue.setAttributeNS(null,"fill","#FFFFFF");const Xe=K.createNS("http://www.w3.org/2000/svg","g");Xe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const At=K.createNS("http://www.w3.org/2000/svg","circle");At.setAttributeNS(null,"fill","#000000"),At.setAttributeNS(null,"opacity","0.25"),At.setAttributeNS(null,"cx","5.5"),At.setAttributeNS(null,"cy","5.5"),At.setAttributeNS(null,"r","5.4999962");const ct=K.createNS("http://www.w3.org/2000/svg","circle");ct.setAttributeNS(null,"fill","#FFFFFF"),ct.setAttributeNS(null,"cx","5.5"),ct.setAttributeNS(null,"cy","5.5"),ct.setAttributeNS(null,"r","5.4999962"),Xe.appendChild(At),Xe.appendChild(ct),z.appendChild(q),z.appendChild(he),z.appendChild(Be),z.appendChild(Ue),z.appendChild(Xe),f.appendChild(z),f.setAttributeNS(null,"height",_*this._scale+"px"),f.setAttributeNS(null,"width",S*this._scale+"px"),this._element.appendChild(f),this._offset=o.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),_u(this._element,this._anchor,"marker"),s&&s.className)for(const f of s.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(s){return this.remove(),this._map=s,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",s._getUIString("Marker.Title")),s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),s.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),K.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=o.S.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const S=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(38.1-13.5+S)],"bottom-right":[-S,-1*(38.1-13.5+S)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(s){return this._subpixelPositioning=s,this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:s?(s.isOpen()?s.remove():(s.setLngLat(this._lngLat),s.addTo(this._map)),this):this}_updateOpacity(s=!1){var f,_;const S=(f=this._map)===null||f===void 0?void 0:f.terrain,k=this._map.transform.isLocationOccluded(this._lngLat);if(!S||k){const Ue=k?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Ue&&(this._element.style.opacity=Ue))}if(s)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const z=this._map,q=z.terrain.depthAtPoint(this._pos),X=z.terrain.getElevationForLngLatZoom(this._lngLat,z.transform.tileZoom);if(z.transform.lngLatToCameraDepth(this._lngLat,X)-q<.006)return void(this._element.style.opacity=this._opacity);const he=-this._offset.y/z.transform.pixelsPerMeter,me=Math.sin(z.getPitch()*Math.PI/180)*he,Be=z.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),Me=z.transform.lngLatToCameraDepth(this._lngLat,X+me)-Be>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&Me&&this._popup.remove(),this._element.style.opacity=Me?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(s){return this._offset=o.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(s,f){return(this._opacity===void 0||s===void 0&&f===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),s!==void 0&&(this._opacity=s),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}const Js={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let os=0,hA=!1;const Pc={maxWidth:100,unit:"metric"};function hc(I,s,f){const _=f&&f.maxWidth||100,S=I._container.clientHeight/2,k=I._container.clientWidth/2,z=I.unproject([k-_/2,S]),q=I.unproject([k+_/2,S]),X=Math.round(I.project(q).x-I.project(z).x),he=Math.min(_,X,I._container.clientWidth),me=z.distanceTo(q);if(f&&f.unit==="imperial"){const Be=3.2808*me;Be>5280?dc(s,he,Be/5280,I._getUIString("ScaleControl.Miles")):dc(s,he,Be,I._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?dc(s,he,me/1852,I._getUIString("ScaleControl.NauticalMiles")):me>=1e3?dc(s,he,me/1e3,I._getUIString("ScaleControl.Kilometers")):dc(s,he,me,I._getUIString("ScaleControl.Meters"))}function dc(I,s,f,_){const S=function(k){const z=Math.pow(10,`${Math.floor(k)}`.length-1);let q=k/z;return q=q>=10?10:q>=5?5:q>=3?3:q>=2?2:q>=1?1:function(X){const he=Math.pow(10,Math.ceil(-Math.log(X)/Math.LN10));return Math.round(X*he)/he}(q),z*q}(f);I.style.width=s*(S/f)+"px",I.innerHTML=`${S}&nbsp;${_}`}const ql={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},nd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function id(I){if(I){if(typeof I=="number"){const s=Math.round(Math.abs(I)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,I),"top-left":new o.P(s,s),"top-right":new o.P(-s,s),bottom:new o.P(0,-I),"bottom-left":new o.P(s,-s),"bottom-right":new o.P(-s,-s),left:new o.P(I,0),right:new o.P(-I,0)}}if(I instanceof o.P||Array.isArray(I)){const s=o.P.convert(I);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:o.P.convert(I.center||[0,0]),top:o.P.convert(I.top||[0,0]),"top-left":o.P.convert(I["top-left"]||[0,0]),"top-right":o.P.convert(I["top-right"]||[0,0]),bottom:o.P.convert(I.bottom||[0,0]),"bottom-left":o.P.convert(I["bottom-left"]||[0,0]),"bottom-right":o.P.convert(I["bottom-right"]||[0,0]),left:o.P.convert(I.left||[0,0]),right:o.P.convert(I.right||[0,0])}}return id(new o.P(0,0))}const kd=p;l.AJAXError=o.cz,l.Event=o.l,l.Evented=o.E,l.LngLat=o.S,l.MercatorCoordinate=o.a1,l.Point=o.P,l.addProtocol=o.cA,l.config=o.a,l.removeProtocol=o.cB,l.AttributionControl=ro,l.BoxZoomHandler=ih,l.CanvasSource=On,l.CooperativeGesturesHandler=af,l.DoubleClickZoomHandler=Ih,l.DragPanHandler=tu,l.DragRotateHandler=bl,l.EdgeInsets=rA,l.FullscreenControl=class extends o.E{constructor(I={}){super(),this._onFullscreenChange=()=>{var s;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((s=f?.shadowRoot)===null||s===void 0)&&s.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,I&&I.container&&(I.container instanceof HTMLElement?this._container=I.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(I){return this._map=I,this._container||(this._container=this._map.getContainer()),this._controlContainer=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){K.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const I=this._fullscreenButton=K.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);K.create("span","maplibregl-ctrl-icon",I).setAttribute("aria-hidden","true"),I.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const I=this._getTitle();this._fullscreenButton.setAttribute("aria-label",I),this._fullscreenButton.title=I}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},l.GeoJSONSource=Jn,l.GeolocateControl=class extends o.E{constructor(I){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",s)),this._finish()}},this._updateCamera=s=>{const f=new o.S(s.coords.longitude,s.coords.latitude),_=s.coords.accuracy,S=this._map.getBearing(),k=o.e({bearing:S},this.options.fitBoundsOptions),z=_t.fromLngLat(f,_);this._map.fitBounds(z,k,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const f=new o.S(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=s.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=s=>{if(this._map){if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&hA)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",s=>s.preventDefault()),this._geolocateButton=K.create("button","maplibregl-ctrl-geolocate",this._container),K.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=s=>{if(this._map){if(s===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=K.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Rc({element:this._dotElement}),this._circleElement=K.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Rc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{const _=f?.[0]instanceof ResizeObserverEntry;f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||_||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},Js,I)}onAdd(I){return this._map=I,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(s=!1){if(Lo!==void 0&&!s)return Lo;if(window.navigator.permissions===void 0)return Lo=!!window.navigator.geolocation,Lo;try{Lo=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Lo=!!window.navigator.geolocation}return Lo})}().then(s=>this._finishSetupUI(s)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),K.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,os=0,hA=!1}_isOutOfMapMaxBounds(I){const s=this._map.getMaxBounds(),f=I.coords;return s&&(f.longitude<s.getWest()||f.longitude>s.getEast()||f.latitude<s.getSouth()||f.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const I=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&I))return;const s=this._map.project(I),f=this._map.unproject([s.x+100,s.y]),_=I.distanceTo(f)/100,S=2*this._accuracy/_;this._circleElement.style.width=`${S.toFixed(2)}px`,this._circleElement.style.height=`${S.toFixed(2)}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":os--,hA=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let I;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),os++,os>1?(I={maximumAge:6e5,timeout:0},hA=!0):(I=this.options.positionOptions,hA=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,I)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},l.GlobeControl=class{constructor(){this._toggleProjection=()=>{var I;const s=(I=this._map.getProjection())===null||I===void 0?void 0:I.type;this._map.setProjection(s!=="mercator"&&s?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var I;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((I=this._map.getProjection())===null||I===void 0?void 0:I.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(I){return this._map=I,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=K.create("button","maplibregl-ctrl-globe",this._container),K.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){K.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},l.Hash=rt,l.ImageSource=Wt,l.KeyboardHandler=Gl,l.LngLatBounds=_t,l.LogoControl=Uo,l.Map=class extends zf{constructor(I){var s,f;o.cw.mark(o.cx.create);const _=Object.assign(Object.assign(Object.assign({},Yl),I),{canvasContextAttributes:Object.assign(Object.assign({},Yl.canvasContextAttributes),I.canvasContextAttributes)});if(_.minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const S=new Rr,k=new Ca;if(_.minZoom!==void 0&&S.setMinZoom(_.minZoom),_.maxZoom!==void 0&&S.setMaxZoom(_.maxZoom),_.minPitch!==void 0&&S.setMinPitch(_.minPitch),_.maxPitch!==void 0&&S.setMaxPitch(_.maxPitch),_.renderWorldCopies!==void 0&&S.setRenderWorldCopies(_.renderWorldCopies),super(S,k,{bearingSnap:_.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Kr,this._controls=[],this._mapId=o.a7(),this._contextLost=q=>{q.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:q}))},this._contextRestored=q=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:q}))},this._onMapScroll=q=>{if(q.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},_.canvasContextAttributes),this._trackResize=_.trackResize===!0,this._bearingSnap=_.bearingSnap,this._centerClampedToGround=_.centerClampedToGround,this._refreshExpiredTiles=_.refreshExpiredTiles===!0,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions===!0,this._collectResourceTiming=_.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Aa),_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=_.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=ne.addThrottleControl(()=>this.isMoving()),this._requestManager=new $(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let q=!1;const X=eu(he=>{this._trackResize&&!this._removed&&(this.resize(he),this.redraw())},50);this._resizeObserver=new ResizeObserver(he=>{q?X(he):q=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Jh(this,_),this._hash=_.hash&&new rt(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,elevation:_.elevation,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,roll:_.roll}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,o.e({},_.fitBoundsOptions,{duration:0}))));const z=typeof _.style=="string"||((f=(s=_.style)===null||s===void 0?void 0:s.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,z),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new ro(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new Uo,_.logoPosition),this.on("style.load",()=>{if(z||this._resizeTransform(),this.transform.unmodified){const q=o.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(q)}}),this.on("data",q=>{this._update(q.dataType==="style"),this.fire(new o.l(`${q.dataType}data`,q))}),this.on("dataloading",q=>{this.fire(new o.l(`${q.dataType}dataloading`,q))}),this.on("dataabort",q=>{this.fire(new o.l("sourcedataabort",q))})}_getMapId(){return this._mapId}setGlobalStateProperty(I,s){return this.style.setGlobalStateProperty(I,s),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(I,s){if(s===void 0&&(s=I.getDefaultPosition?I.getDefaultPosition():"top-right"),!I||!I.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=I.onAdd(this);this._controls.push(I);const _=this._controlPositions[s];return s.indexOf("bottom")!==-1?_.insertBefore(f,_.firstChild):_.appendChild(f),this}removeControl(I){if(!I||!I.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(I);return s>-1&&this._controls.splice(s,1),I.onRemove(this),this}hasControl(I){return this._controls.indexOf(I)>-1}coveringTiles(I){return it(this.transform,I)}calculateCameraOptionsFromTo(I,s,f,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(I,s,f,_)}resize(I,s=!0){const[f,_]=this._containerDimensions(),S=this._getClampedPixelRatio(f,_);if(this._resizeCanvas(f,_,S),this.painter.resize(f,_,S),this.painter.overLimit()){const z=this.painter.context.gl;this._maxCanvasSize=[z.drawingBufferWidth,z.drawingBufferHeight];const q=this._getClampedPixelRatio(f,_);this._resizeCanvas(f,_,q),this.painter.resize(f,_,q)}this._resizeTransform(s);const k=!this._moving;return k&&(this.stop(),this.fire(new o.l("movestart",I)).fire(new o.l("move",I))),this.fire(new o.l("resize",I)),k&&this.fire(new o.l("moveend",I)),this}_resizeTransform(I=!0){var s;const[f,_]=this._containerDimensions();this.transform.resize(f,_,I),(s=this._requestedCameraState)===null||s===void 0||s.resize(f,_,I)}_getClampedPixelRatio(I,s){const{0:f,1:_}=this._maxCanvasSize,S=this.getPixelRatio(),k=I*S,z=s*S;return Math.min(k>f?f/k:1,z>_?_/z:1)*S}getPixelRatio(){var I;return(I=this._overridePixelRatio)!==null&&I!==void 0?I:devicePixelRatio}setPixelRatio(I){this._overridePixelRatio=I,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(I){return this.transform.setMaxBounds(_t.convert(I)),this._update()}setMinZoom(I){if((I=I??-2)>=-2&&I<=this.transform.maxZoom)return this.transform.setMinZoom(I),this._update(),this.getZoom()<I&&this.setZoom(I),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(I){if((I=I??22)>=this.transform.minZoom)return this.transform.setMaxZoom(I),this._update(),this.getZoom()>I&&this.setZoom(I),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(I){if((I=I??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(I>=0&&I<=this.transform.maxPitch)return this.transform.setMinPitch(I),this._update(),this.getPitch()<I&&this.setPitch(I),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(I){if((I=I??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(I>=this.transform.minPitch)return this.transform.setMaxPitch(I),this._update(),this.getPitch()>I&&this.setPitch(I),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(I){return this.transform.setRenderWorldCopies(I),this._update()}project(I){return this.transform.locationToScreenPoint(o.S.convert(I),this.style&&this.terrain)}unproject(I){return this.transform.screenPointToLocation(o.P.convert(I),this.terrain)}isMoving(){var I;return this._moving||((I=this.handlers)===null||I===void 0?void 0:I.isMoving())}isZooming(){var I;return this._zooming||((I=this.handlers)===null||I===void 0?void 0:I.isZooming())}isRotating(){var I;return this._rotating||((I=this.handlers)===null||I===void 0?void 0:I.isRotating())}_createDelegatedListener(I,s,f){if(I==="mouseenter"||I==="mouseover"){let _=!1;return{layers:s,listener:f,delegates:{mousemove:k=>{const z=s.filter(X=>this.getLayer(X)),q=z.length!==0?this.queryRenderedFeatures(k.point,{layers:z}):[];q.length?_||(_=!0,f.call(this,new kA(I,this,k.originalEvent,{features:q}))):_=!1},mouseout:()=>{_=!1}}}}if(I==="mouseleave"||I==="mouseout"){let _=!1;return{layers:s,listener:f,delegates:{mousemove:z=>{const q=s.filter(X=>this.getLayer(X));(q.length!==0?this.queryRenderedFeatures(z.point,{layers:q}):[]).length?_=!0:_&&(_=!1,f.call(this,new kA(I,this,z.originalEvent)))},mouseout:z=>{_&&(_=!1,f.call(this,new kA(I,this,z.originalEvent)))}}}}{const _=S=>{const k=s.filter(q=>this.getLayer(q)),z=k.length!==0?this.queryRenderedFeatures(S.point,{layers:k}):[];z.length&&(S.features=z,f.call(this,S),delete S.features)};return{layers:s,listener:f,delegates:{[I]:_}}}}_saveDelegatedListener(I,s){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[I]=this._delegatedListeners[I]||[],this._delegatedListeners[I].push(s)}_removeDelegatedListener(I,s,f){if(!this._delegatedListeners||!this._delegatedListeners[I])return;const _=this._delegatedListeners[I];for(let S=0;S<_.length;S++){const k=_[S];if(k.listener===f&&k.layers.length===s.length&&k.layers.every(z=>s.includes(z))){for(const z in k.delegates)this.off(z,k.delegates[z]);return void _.splice(S,1)}}}on(I,s,f){if(f===void 0)return super.on(I,s);const _=typeof s=="string"?[s]:s,S=this._createDelegatedListener(I,_,f);this._saveDelegatedListener(I,S);for(const k in S.delegates)this.on(k,S.delegates[k]);return{unsubscribe:()=>{this._removeDelegatedListener(I,_,f)}}}once(I,s,f){if(f===void 0)return super.once(I,s);const _=typeof s=="string"?[s]:s,S=this._createDelegatedListener(I,_,f);for(const k in S.delegates){const z=S.delegates[k];S.delegates[k]=(...q)=>{this._removeDelegatedListener(I,_,f),z(...q)}}this._saveDelegatedListener(I,S);for(const k in S.delegates)this.once(k,S.delegates[k]);return this}off(I,s,f){return f===void 0?super.off(I,s):(this._removeDelegatedListener(I,typeof s=="string"?[s]:s,f),this)}queryRenderedFeatures(I,s){if(!this.style)return[];let f;const _=I instanceof o.P||Array.isArray(I),S=_?I:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(_?{}:I)||{},S instanceof o.P||typeof S[0]=="number")f=[o.P.convert(S)];else{const k=o.P.convert(S[0]),z=o.P.convert(S[1]);f=[k,new o.P(z.x,k.y),z,new o.P(k.x,z.y),k]}return this.style.queryRenderedFeatures(f,s,this.transform)}querySourceFeatures(I,s){return this.style.querySourceFeatures(I,s)}setStyle(I,s){return(s=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&I?(this._diffStyle(I,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(I,s))}setTransformRequest(I){return this._requestManager.setTransformRequest(I),this}_getUIString(I){const s=this._locale[I];if(s==null)throw new Error(`Missing UI string '${I}'`);return s}_updateStyle(I,s){var f,_;if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(I,s));const S=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!I)),I?(this.style=new vh(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof I=="string"?this.style.loadURL(I,s,S):this.style.loadJSON(I,s,S),this):((_=(f=this.style)===null||f===void 0?void 0:f.projection)===null||_===void 0||_.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new vh(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(I,s){if(typeof I=="string"){const f=this._requestManager.transformRequest(I,"Style");o.j(f,new AbortController).then(_=>{this._updateDiff(_.data,s)}).catch(_=>{_&&this.fire(new o.k(_))})}else typeof I=="object"&&this._updateDiff(I,s)}_updateDiff(I,s){try{this.style.setState(I,s)&&this._update(!0)}catch(f){o.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(I,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(I,s){return this._lazyInitEmptyStyle(),this.style.addSource(I,s),this._update(!0)}isSourceLoaded(I){const s=this.style&&this.style.sourceCaches[I];if(s!==void 0)return s.loaded();this.fire(new o.k(new Error(`There is no source with ID '${I}'`)))}setTerrain(I){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),I){const s=this.style.sourceCaches[I.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${I.source}`);this.terrain===null&&s.reload();for(const f in this.style._layers){const _=this.style._layers[f];_.type==="hillshade"&&_.source===I.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),_.type==="color-relief"&&_.source===I.source&&o.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ki(this.painter,s,I),this.painter.renderToTexture=new cA(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{var _;f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==I.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((_=f.source)===null||_===void 0?void 0:_.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:I})),this}getTerrain(){var I,s;return(s=(I=this.terrain)===null||I===void 0?void 0:I.options)!==null&&s!==void 0?s:null}areTilesLoaded(){const I=this.style&&this.style.sourceCaches;for(const s in I){const f=I[s]._tiles;for(const _ in f){const S=f[_];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0}removeSource(I){return this.style.removeSource(I),this._update(!0)}getSource(I){return this.style.getSource(I)}setSourceTileLodParams(I,s,f){if(f){const _=this.getSource(f);if(!_)throw new Error(`There is no source with ID "${f}", cannot set LOD parameters`);_.calculateTileZoom=mt(Math.max(1,I),Math.max(1,s))}else for(const _ in this.style.sourceCaches)this.style.sourceCaches[_].getSource().calculateTileZoom=mt(Math.max(1,I),Math.max(1,s));return this._update(!0),this}refreshTiles(I,s){const f=this.style.sourceCaches[I];if(!f)throw new Error(`There is no source cache with ID "${I}", cannot refresh tile`);s===void 0?f.reload(!0):f.refreshTiles(s.map(_=>new o.a4(_.z,_.x,_.y)))}addImage(I,s,f={}){const{pixelRatio:_=1,sdf:S=!1,stretchX:k,stretchY:z,content:q,textFitWidth:X,textFitHeight:he}=f;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||o.b(s))){if(s.width===void 0||s.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:me,height:Be,data:Me}=s,Ue=s;return this.style.addImage(I,{data:new o.R({width:me,height:Be},new Uint8Array(Me)),pixelRatio:_,stretchX:k,stretchY:z,content:q,textFitWidth:X,textFitHeight:he,sdf:S,version:0,userImage:Ue}),Ue.onAdd&&Ue.onAdd(this,I),this}}{const{width:me,height:Be,data:Me}=U.getImageData(s);this.style.addImage(I,{data:new o.R({width:me,height:Be},Me),pixelRatio:_,stretchX:k,stretchY:z,content:q,textFitWidth:X,textFitHeight:he,sdf:S,version:0})}}updateImage(I,s){const f=this.style.getImage(I);if(!f)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=s instanceof HTMLImageElement||o.b(s)?U.getImageData(s):s,{width:S,height:k,data:z}=_;if(S===void 0||k===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==f.data.width||k!==f.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const q=!(s instanceof HTMLImageElement||o.b(s));return f.data.replace(z,q),this.style.updateImage(I,f),this}getImage(I){return this.style.getImage(I)}hasImage(I){return I?!!this.style.getImage(I):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(I){this.style.removeImage(I)}loadImage(I){return ne.getImage(this._requestManager.transformRequest(I,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(I,s){return this._lazyInitEmptyStyle(),this.style.addLayer(I,s),this._update(!0)}moveLayer(I,s){return this.style.moveLayer(I,s),this._update(!0)}removeLayer(I){return this.style.removeLayer(I),this._update(!0)}getLayer(I){return this.style.getLayer(I)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(I,s,f){return this.style.setLayerZoomRange(I,s,f),this._update(!0)}setFilter(I,s,f={}){return this.style.setFilter(I,s,f),this._update(!0)}getFilter(I){return this.style.getFilter(I)}setPaintProperty(I,s,f,_={}){return this.style.setPaintProperty(I,s,f,_),this._update(!0)}getPaintProperty(I,s){return this.style.getPaintProperty(I,s)}setLayoutProperty(I,s,f,_={}){return this.style.setLayoutProperty(I,s,f,_),this._update(!0)}getLayoutProperty(I,s){return this.style.getLayoutProperty(I,s)}setGlyphs(I,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(I,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(I,s,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(I,s,f,_=>{_||this._update(!0)}),this}removeSprite(I){return this._lazyInitEmptyStyle(),this.style.removeSprite(I),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(I,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(I,s,f=>{f||this._update(!0)}),this}setLight(I,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(I,s),this._update(!0)}getLight(){return this.style.getLight()}setSky(I,s={}){return this._lazyInitEmptyStyle(),this.style.setSky(I,s),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(I,s){return this.style.setFeatureState(I,s),this._update()}removeFeatureState(I,s){return this.style.removeFeatureState(I,s),this._update()}getFeatureState(I){return this.style.getFeatureState(I)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let I=0,s=0;return this._container&&(I=this._container.clientWidth||400,s=this._container.clientHeight||300),[I,s]}_setupContainer(){const I=this._container;I.classList.add("maplibregl-map");const s=this._canvasContainer=K.create("div","maplibregl-canvas-container",I);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=K.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),_=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],_);const S=this._controlContainer=K.create("div","maplibregl-control-container",I),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(z=>{k[z]=K.create("div",`maplibregl-ctrl-${z} `,S)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(I,s,f){this._canvas.width=Math.floor(f*I),this._canvas.height=Math.floor(f*s),this._canvas.style.width=`${I}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const I=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let s=null;this._canvas.addEventListener("webglcontextcreationerror",_=>{s={requestedAttributes:I},_&&(s.statusMessage=_.statusMessage,s.type=_.type)},{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,I):this._canvas.getContext("webgl2",I)||this._canvas.getContext("webgl",I),!f){const _="Failed to initialize WebGL";throw s?(s.message=_,new Error(JSON.stringify(s))):new Error(_)}this.painter=new Sh(f,this.transform),j.testSupport(f)}migrateProjection(I,s){super.migrateProjection(I,s),this.painter.transform=I,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(I){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||I,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(I){return this._update(),this._renderTaskQueue.add(I)}_cancelRenderFrame(I){this._renderTaskQueue.remove(I)}_render(I){var s,f,_,S,k;const z=this._idleTriggered?this._fadeDuration:0,q=((s=this.style.projection)===null||s===void 0?void 0:s.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(I),this._removed)return;let X=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Be=this.transform.zoom,Me=U.now();this.style.zoomHistory.update(Be,Me);const Ue=new o.F(Be,{now:Me,fadeDuration:z,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),Xe=Ue.crossFadingFactor();Xe===1&&Xe===this._crossFadingFactor||(X=!0,this._crossFadingFactor=Xe),this.style.update(Ue)}const he=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==q;(_=this.style.projection)===null||_===void 0||_.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((S=this.style.projection)===null||S===void 0?void 0:S.transitionState,(k=this.style.projection)===null||k===void 0?void 0:k.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||he)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,z,this._crossSourceCollisions,he),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:z,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cw.mark(o.cx.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||X)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const me=this._sourcesDirty||this._styleDirty||this._placementDirty;return me||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||me||(this._fullyLoaded=!0,o.cw.mark(o.cx.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var I;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ne.removeThrottleControl(this._imageQueueHandle),(I=this._resizeObserver)===null||I===void 0||I.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s?.loseContext&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),K.remove(this._canvasContainer),K.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cw.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,U.frame(this._frameRequest,I=>{o.cw.frame(I),this._frameRequest=null;try{this._render(I)}catch(s){if(!o.cy(s)&&!function(f){return f.message===Ac}(s))throw s}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(I){this._showTileBoundaries!==I&&(this._showTileBoundaries=I,this._update())}get showPadding(){return!!this._showPadding}set showPadding(I){this._showPadding!==I&&(this._showPadding=I,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(I){this._showCollisionBoxes!==I&&(this._showCollisionBoxes=I,I?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(I){this._showOverdrawInspector!==I&&(this._showOverdrawInspector=I,this._update())}get repaint(){return!!this._repaint}set repaint(I){this._repaint!==I&&(this._repaint=I,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(I){this._vertices=I,this._update()}get version(){return go}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(I){return this._lazyInitEmptyStyle(),this.style.setProjection(I),this._update(!0)}},l.MapMouseEvent=kA,l.MapTouchEvent=Id,l.MapWheelEvent=tf,l.Marker=Rc,l.NavigationControl=class{constructor(I){this._updateZoomButtons=()=>{const s=this._map.getZoom(),f=s===this._map.getMaxZoom(),_=s===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(s,f)=>{const _=this._map._getUIString(`NavigationControl.${f}`);s.title=_,s.setAttribute("aria-label",_)},this.options=o.e({},jf,I),this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",s=>this._map.zoomIn({},{originalEvent:s})),K.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",s=>this._map.zoomOut({},{originalEvent:s})),K.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})}),this._compassIcon=K.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(I){return this._map=I,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ed(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){K.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(I,s){const f=K.create("button",I,this._container);return f.type="button",f.addEventListener("click",s),f}},l.Popup=class extends o.E{constructor(I){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&K.remove(this._content),this._container&&(K.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=K.create("div","maplibregl-popup",this._map.getContainer()),this._tip=K.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const z of this.options.className.split(" "))this._container.classList.add(z);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Ya(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!s)return;const f=this._flatPos=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&s?s:this._map.transform.locationToScreenPoint(this._lngLat));let _=this.options.anchor;const S=id(this.options.offset);if(!_){const z=this._container.offsetWidth,q=this._container.offsetHeight;let X;X=f.y+S.bottom.y<q?["top"]:f.y>this._map.transform.height-q?["bottom"]:[],f.x<z/2?X.push("left"):f.x>this._map.transform.width-z/2&&X.push("right"),_=X.length===0?"bottom":X.join("-")}let k=f.add(S[_]);this.options.subpixelPositioning||(k=k.round()),K.setTransform(this._container,`${td[_]} translate(${k.x}px,${k.y}px)`),_u(this._container,_,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(ql),I)}addTo(I){return this._map&&this.remove(),this._map=I,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(I){return this._lngLat=o.S.convert(I),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(I){return this.setDOMContent(document.createTextNode(I))}setHTML(I){const s=document.createDocumentFragment(),f=document.createElement("body");let _;for(f.innerHTML=I;_=f.firstChild,_;)s.appendChild(_);return this.setDOMContent(s)}getMaxWidth(){var I;return(I=this._container)===null||I===void 0?void 0:I.style.maxWidth}setMaxWidth(I){return this.options.maxWidth=I,this._update(),this}setDOMContent(I){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=K.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(I),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(I){return this._container&&this._container.classList.add(I),this}removeClassName(I){return this._container&&this._container.classList.remove(I),this}setOffset(I){return this.options.offset=I,this._update(),this}toggleClassName(I){if(this._container)return this._container.classList.toggle(I)}setSubpixelPositioning(I){this.options.subpixelPositioning=I}_createCloseButton(){this.options.closeButton&&(this._closeButton=K.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const I=this._container.querySelector(nd);I&&I.focus()}},l.RasterDEMTileSource=on,l.RasterTileSource=Kt,l.ScaleControl=class{constructor(I){this._onMove=()=>{hc(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,hc(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Pc),I)}getDefaultPosition(){return"bottom-left"}onAdd(I){return this._map=I,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-scale",I.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){K.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},l.ScrollZoomHandler=cc,l.Style=vh,l.TerrainControl=class{constructor(I){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=I}onAdd(I){return this._map=I,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=K.create("button","maplibregl-ctrl-terrain",this._container),K.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){K.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},l.TwoFingersTouchPitchHandler=of,l.TwoFingersTouchRotateHandler=kc,l.TwoFingersTouchZoomHandler=Qu,l.TwoFingersTouchZoomRotateHandler=Bp,l.VectorTileSource=qt,l.VideoSource=$n,l.addSourceType=(I,s)=>o._(void 0,void 0,void 0,function*(){if(In(I))throw new Error(`A source type called "${I}" already exists.`);((f,_)=>{Bn[f]=_})(I,s)}),l.clearPrewarmedResources=function(){const I=lt;I&&(I.isPreloaded()&&I.numActive()===1?(I.release(be),lt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},l.createTileMesh=Xn,l.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},l.getRTLTextPluginStatus=function(){return je().getRTLTextPluginStatus()},l.getVersion=function(){return kd},l.getWorkerCount=function(){return Ne.workerCount},l.getWorkerUrl=function(){return o.a.WORKER_URL},l.importScriptInWorkers=function(I){return Ut().broadcast("IS",I)},l.prewarm=function(){gt().acquire(be)},l.setMaxParallelImageRequests=function(I){o.a.MAX_PARALLEL_IMAGE_REQUESTS=I},l.setRTLTextPlugin=function(I,s){return je().setRTLTextPlugin(I,s)},l.setWorkerCount=function(I){Ne.workerCount=I},l.setWorkerUrl=function(I){o.a.WORKER_URL=I}});var a=t;return a})}(Mx)),Mx.exports}var o$=r$();const sv=cu(o$);var zb=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function tF(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kC={exports:{}};kC.exports;var EI;function a$(){return EI||(EI=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=1,a=2,l=9007199254740991,o="[object Arguments]",p="[object Array]",C="[object AsyncFunction]",M="[object Boolean]",O="[object Date]",U="[object Error]",K="[object Function]",j="[object GeneratorFunction]",W="[object Map]",Y="[object Number]",te="[object Null]",J="[object Object]",oe="[object Promise]",ne="[object Proxy]",$="[object RegExp]",ae="[object Set]",G="[object String]",ce="[object Symbol]",ge="[object Undefined]",ye="[object WeakMap]",we="[object ArrayBuffer]",Ie="[object DataView]",Se="[object Float32Array]",Ve="[object Float64Array]",xe="[object Int8Array]",ze="[object Int16Array]",st="[object Int32Array]",Ct="[object Uint8Array]",nt="[object Uint8ClampedArray]",be="[object Uint16Array]",Ne="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,lt=/^\[object .+?Constructor\]$/,kt=/^(?:0|[1-9]\d*)$/,gt={};gt[Se]=gt[Ve]=gt[xe]=gt[ze]=gt[st]=gt[Ct]=gt[nt]=gt[be]=gt[Ne]=!0,gt[o]=gt[p]=gt[we]=gt[M]=gt[Ie]=gt[O]=gt[U]=gt[K]=gt[W]=gt[Y]=gt[J]=gt[$]=gt[ae]=gt[G]=gt[ye]=!1;var St=typeof zb=="object"&&zb&&zb.Object===Object&&zb,Ut=typeof self=="object"&&self&&self.Object===Object&&self,Fe=St||Ut||Function("return this")(),Ke=e&&!e.nodeType&&e,Re=Ke&&!0&&n&&!n.nodeType&&n,He=Re&&Re.exports===Ke,bt=He&&St.process,_t=function(){try{return bt&&bt.binding&&bt.binding("util")}catch{}}(),Ot=_t&&_t.isTypedArray;function qt(ee,Oe){for(var at=-1,Gt=ee==null?0:ee.length,Si=0,Xn=[];++at<Gt;){var Zi=ee[at];Oe(Zi,at,ee)&&(Xn[Si++]=Zi)}return Xn}function Kt(ee,Oe){for(var at=-1,Gt=Oe.length,Si=ee.length;++at<Gt;)ee[Si+at]=Oe[at];return ee}function on(ee,Oe){for(var at=-1,Gt=ee==null?0:ee.length;++at<Gt;)if(Oe(ee[at],at,ee))return!0;return!1}function Jn(ee,Oe){for(var at=-1,Gt=Array(ee);++at<ee;)Gt[at]=Oe(at);return Gt}function Wt(ee){return function(Oe){return ee(Oe)}}function $n(ee,Oe){return ee.has(Oe)}function On(ee,Oe){return ee?.[Oe]}function Bn(ee){var Oe=-1,at=Array(ee.size);return ee.forEach(function(Gt,Si){at[++Oe]=[Si,Gt]}),at}function In(ee,Oe){return function(at){return ee(Oe(at))}}function Oi(ee){var Oe=-1,at=Array(ee.size);return ee.forEach(function(Gt){at[++Oe]=Gt}),at}var ei=Array.prototype,Kn=Function.prototype,je=Object.prototype,de=Fe["__core-js_shared__"],re=Kn.toString,le=je.hasOwnProperty,pe=function(){var ee=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),Te=je.toString,We=RegExp("^"+re.call(le).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=He?Fe.Buffer:void 0,Ye=Fe.Symbol,De=Fe.Uint8Array,Ze=je.propertyIsEnumerable,g=ei.splice,mt=Ye?Ye.toStringTag:void 0,ht=Object.getOwnPropertySymbols,Tt=dt?dt.isBuffer:void 0,it=In(Object.keys,Object),en=Do(Fe,"DataView"),Dn=Do(Fe,"Map"),Mn=Do(Fe,"Promise"),ii=Do(Fe,"Set"),Wn=Do(Fe,"WeakMap"),Hi=Do(Object,"create"),tr=No(en),Ei=No(Dn),hi=No(Mn),ti=No(ii),Qi=No(Wn),wn=Ye?Ye.prototype:void 0,uo=wn?wn.valueOf:void 0;function Vi(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ya(){this.__data__=Hi?Hi(null):{},this.size=0}function ko(ee){var Oe=this.has(ee)&&delete this.__data__[ee];return this.size-=Oe?1:0,Oe}function Zn(ee){var Oe=this.__data__;if(Hi){var at=Oe[ee];return at===i?void 0:at}return le.call(Oe,ee)?Oe[ee]:void 0}function Ar(ee){var Oe=this.__data__;return Hi?Oe[ee]!==void 0:le.call(Oe,ee)}function zi(ee,Oe){var at=this.__data__;return this.size+=this.has(ee)?0:1,at[ee]=Hi&&Oe===void 0?i:Oe,this}Vi.prototype.clear=ya,Vi.prototype.delete=ko,Vi.prototype.get=Zn,Vi.prototype.has=Ar,Vi.prototype.set=zi;function Cr(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ja(){this.__data__=[],this.size=0}function kr(ee){var Oe=this.__data__,at=si(Oe,ee);if(at<0)return!1;var Gt=Oe.length-1;return at==Gt?Oe.pop():g.call(Oe,at,1),--this.size,!0}function ji(ee){var Oe=this.__data__,at=si(Oe,ee);return at<0?void 0:Oe[at][1]}function yl(ee){return si(this.__data__,ee)>-1}function Pa(ee,Oe){var at=this.__data__,Gt=si(at,ee);return Gt<0?(++this.size,at.push([ee,Oe])):at[Gt][1]=Oe,this}Cr.prototype.clear=ja,Cr.prototype.delete=kr,Cr.prototype.get=ji,Cr.prototype.has=yl,Cr.prototype.set=Pa;function So(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ts(){this.size=0,this.__data__={hash:new Vi,map:new(Dn||Cr),string:new Vi}}function Tl(ee){var Oe=Xo(this,ee).delete(ee);return this.size-=Oe?1:0,Oe}function co(ee){return Xo(this,ee).get(ee)}function QA(ee){return Xo(this,ee).has(ee)}function Ka(ee,Oe){var at=Xo(this,ee),Gt=at.size;return at.set(ee,Oe),this.size+=at.size==Gt?0:1,this}So.prototype.clear=ts,So.prototype.delete=Tl,So.prototype.get=co,So.prototype.has=QA,So.prototype.set=Ka;function $i(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.__data__=new So;++Oe<at;)this.add(ee[Oe])}function Mi(ee){return this.__data__.set(ee,i),this}function cs(ee){return this.__data__.has(ee)}$i.prototype.add=$i.prototype.push=Mi,$i.prototype.has=cs;function Sa(ee){var Oe=this.__data__=new Cr(ee);this.size=Oe.size}function Zo(){this.__data__=new Cr,this.size=0}function $e(ee){var Oe=this.__data__,at=Oe.delete(ee);return this.size=Oe.size,at}function Et(ee){return this.__data__.get(ee)}function xn(ee){return this.__data__.has(ee)}function Gn(ee,Oe){var at=this.__data__;if(at instanceof Cr){var Gt=at.__data__;if(!Dn||Gt.length<t-1)return Gt.push([ee,Oe]),this.size=++at.size,this;at=this.__data__=new So(Gt)}return at.set(ee,Oe),this.size=at.size,this}Sa.prototype.clear=Zo,Sa.prototype.delete=$e,Sa.prototype.get=Et,Sa.prototype.has=xn,Sa.prototype.set=Gn;function rn(ee,Oe){var at=Ea(ee),Gt=!at&&Na(ee),Si=!at&&!Gt&&Rr(ee),Xn=!at&&!Gt&&!Si&&Cl(ee),Zi=at||Gt||Si||Xn,ar=Zi?Jn(ee.length,String):[],Ri=ar.length;for(var Ji in ee)le.call(ee,Ji)&&!(Zi&&(Ji=="length"||Si&&(Ji=="offset"||Ji=="parent")||Xn&&(Ji=="buffer"||Ji=="byteLength"||Ji=="byteOffset")||Ll(Ji,Ri)))&&ar.push(Ji);return ar}function si(ee,Oe){for(var at=ee.length;at--;)if(Bo(ee[at][0],Oe))return at;return-1}function to(ee,Oe,at){var Gt=Oe(ee);return Ea(ee)?Gt:Kt(Gt,at(ee))}function Eo(ee){return ee==null?ee===void 0?ge:te:mt&&mt in Object(ee)?fr(ee):hu(ee)}function hs(ee){return Pr(ee)&&Eo(ee)==o}function zs(ee,Oe,at,Gt,Si){return ee===Oe?!0:ee==null||Oe==null||!Pr(ee)&&!Pr(Oe)?ee!==ee&&Oe!==Oe:YA(ee,Oe,at,Gt,zs,Si)}function YA(ee,Oe,at,Gt,Si,Xn){var Zi=Ea(ee),ar=Ea(Oe),Ri=Zi?p:va(ee),Ji=ar?p:va(Oe);Ri=Ri==o?J:Ri,Ji=Ji==o?J:Ji;var no=Ri==J,ho=Ji==J,cr=Ri==Ji;if(cr&&Rr(ee)){if(!Rr(Oe))return!1;Zi=!0,no=!1}if(cr&&!no)return Xn||(Xn=new Sa),Zi||Cl(ee)?vl(ee,Oe,at,Gt,Si,Xn):Es(ee,Oe,Ri,at,Gt,Si,Xn);if(!(at&r)){var gr=no&&le.call(ee,"__wrapped__"),fo=ho&&le.call(Oe,"__wrapped__");if(gr||fo){var Go=gr?ee.value():ee,Nr=fo?Oe.value():Oe;return Xn||(Xn=new Sa),Si(Go,Nr,at,Gt,Xn)}}return cr?(Xn||(Xn=new Sa),Mc(ee,Oe,at,Gt,Si,Xn)):!1}function Yi(ee){if(!Ca(ee)||Mr(ee))return!1;var Oe=Ga(ee)?We:lt;return Oe.test(No(ee))}function Pu(ee){return Pr(ee)&&ns(ee.length)&&!!gt[Eo(ee)]}function bA(ee){if(!rA(ee))return it(ee);var Oe=[];for(var at in Object(ee))le.call(ee,at)&&at!="constructor"&&Oe.push(at);return Oe}function vl(ee,Oe,at,Gt,Si,Xn){var Zi=at&r,ar=ee.length,Ri=Oe.length;if(ar!=Ri&&!(Zi&&Ri>ar))return!1;var Ji=Xn.get(ee);if(Ji&&Xn.get(Oe))return Ji==Oe;var no=-1,ho=!0,cr=at&a?new $i:void 0;for(Xn.set(ee,Oe),Xn.set(Oe,ee);++no<ar;){var gr=ee[no],fo=Oe[no];if(Gt)var Go=Zi?Gt(fo,gr,no,Oe,ee,Xn):Gt(gr,fo,no,ee,Oe,Xn);if(Go!==void 0){if(Go)continue;ho=!1;break}if(cr){if(!on(Oe,function(Nr,Vs){if(!$n(cr,Vs)&&(gr===Nr||Si(gr,Nr,at,Gt,Xn)))return cr.push(Vs)})){ho=!1;break}}else if(!(gr===fo||Si(gr,fo,at,Gt,Xn))){ho=!1;break}}return Xn.delete(ee),Xn.delete(Oe),ho}function Es(ee,Oe,at,Gt,Si,Xn,Zi){switch(at){case Ie:if(ee.byteLength!=Oe.byteLength||ee.byteOffset!=Oe.byteOffset)return!1;ee=ee.buffer,Oe=Oe.buffer;case we:return!(ee.byteLength!=Oe.byteLength||!Xn(new De(ee),new De(Oe)));case M:case O:case Y:return Bo(+ee,+Oe);case U:return ee.name==Oe.name&&ee.message==Oe.message;case $:case G:return ee==Oe+"";case W:var ar=Bn;case ae:var Ri=Gt&r;if(ar||(ar=Oi),ee.size!=Oe.size&&!Ri)return!1;var Ji=Zi.get(ee);if(Ji)return Ji==Oe;Gt|=a,Zi.set(ee,Oe);var no=vl(ar(ee),ar(Oe),Gt,Si,Xn,Zi);return Zi.delete(ee),no;case ce:if(uo)return uo.call(ee)==uo.call(Oe)}return!1}function Mc(ee,Oe,at,Gt,Si,Xn){var Zi=at&r,ar=Hs(ee),Ri=ar.length,Ji=Hs(Oe),no=Ji.length;if(Ri!=no&&!Zi)return!1;for(var ho=Ri;ho--;){var cr=ar[ho];if(!(Zi?cr in Oe:le.call(Oe,cr)))return!1}var gr=Xn.get(ee);if(gr&&Xn.get(Oe))return gr==Oe;var fo=!0;Xn.set(ee,Oe),Xn.set(Oe,ee);for(var Go=Zi;++ho<Ri;){cr=ar[ho];var Nr=ee[cr],Vs=Oe[cr];if(Gt)var Fl=Zi?Gt(Vs,Nr,cr,Oe,ee,Xn):Gt(Nr,Vs,cr,ee,Oe,Xn);if(!(Fl===void 0?Nr===Vs||Si(Nr,Vs,at,Gt,Xn):Fl)){fo=!1;break}Go||(Go=cr=="constructor")}if(fo&&!Go){var qA=ee.constructor,gs=Oe.constructor;qA!=gs&&"constructor"in ee&&"constructor"in Oe&&!(typeof qA=="function"&&qA instanceof qA&&typeof gs=="function"&&gs instanceof gs)&&(fo=!1)}return Xn.delete(ee),Xn.delete(Oe),fo}function Hs(ee){return to(ee,Xi,Ul)}function Xo(ee,Oe){var at=ee.__data__;return xA(Oe)?at[typeof Oe=="string"?"string":"hash"]:at.map}function Do(ee,Oe){var at=On(ee,Oe);return Yi(at)?at:void 0}function fr(ee){var Oe=le.call(ee,mt),at=ee[mt];try{ee[mt]=void 0;var Gt=!0}catch{}var Si=Te.call(ee);return Gt&&(Oe?ee[mt]=at:delete ee[mt]),Si}var Ul=ht?function(ee){return ee==null?[]:(ee=Object(ee),qt(ht(ee),function(Oe){return Ze.call(ee,Oe)}))}:wi,va=Eo;(en&&va(new en(new ArrayBuffer(1)))!=Ie||Dn&&va(new Dn)!=W||Mn&&va(Mn.resolve())!=oe||ii&&va(new ii)!=ae||Wn&&va(new Wn)!=ye)&&(va=function(ee){var Oe=Eo(ee),at=Oe==J?ee.constructor:void 0,Gt=at?No(at):"";if(Gt)switch(Gt){case tr:return Ie;case Ei:return W;case hi:return oe;case ti:return ae;case Qi:return ye}return Oe});function Ll(ee,Oe){return Oe=Oe??l,!!Oe&&(typeof ee=="number"||kt.test(ee))&&ee>-1&&ee%1==0&&ee<Oe}function xA(ee){var Oe=typeof ee;return Oe=="string"||Oe=="number"||Oe=="symbol"||Oe=="boolean"?ee!=="__proto__":ee===null}function Mr(ee){return!!pe&&pe in ee}function rA(ee){var Oe=ee&&ee.constructor,at=typeof Oe=="function"&&Oe.prototype||je;return ee===at}function hu(ee){return Te.call(ee)}function No(ee){if(ee!=null){try{return re.call(ee)}catch{}try{return ee+""}catch{}}return""}function Bo(ee,Oe){return ee===Oe||ee!==ee&&Oe!==Oe}var Na=hs(function(){return arguments}())?hs:function(ee){return Pr(ee)&&le.call(ee,"callee")&&!Ze.call(ee,"callee")},Ea=Array.isArray;function sa(ee){return ee!=null&&ns(ee.length)&&!Ga(ee)}var Rr=Tt||qr;function oA(ee,Oe){return zs(ee,Oe)}function Ga(ee){if(!Ca(ee))return!1;var Oe=Eo(ee);return Oe==K||Oe==j||Oe==C||Oe==ne}function ns(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=l}function Ca(ee){var Oe=typeof ee;return ee!=null&&(Oe=="object"||Oe=="function")}function Pr(ee){return ee!=null&&typeof ee=="object"}var Cl=Ot?Wt(Ot):Pu;function Xi(ee){return sa(ee)?rn(ee):bA(ee)}function wi(){return[]}function qr(){return!1}n.exports=oA}(kC,kC.exports)),kC.exports}var s$=a$(),l$=tF(s$);function E6(n,e,t){const i={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(i["source-layer"]=t),i}function B6(n,e,t,i){const r={id:[t,i,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return i&&(r["source-layer"]=i),r}function O6(n,e,t){const i={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(i["source-layer"]=t),i}function A$(n,e){const t=[],i=[],r=[];function a(l){return{circle:e(l,.8),line:e(l,.6),polygon:e(l,.3),polygonOutline:e(l,.6),default:e(l,1)}}return Object.keys(n).forEach(l=>{const o=n[l];if(!o||o.length===0){const p=a(l);i.push(E6(p.circle,l)),r.push(O6(p.line,l)),t.push(B6(p.polygon,p.polygonOutline,l))}else o.forEach(p=>{const C=a(p);i.push(E6(C.circle,l,p)),r.push(O6(C.line,l,p)),t.push(B6(C.polygon,C.polygonOutline,l,p))})}),t.concat(r).concat(i)}function u$(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const i={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},r={};return Object.keys(n.sources).forEach(a=>{const l=n.sources[a];(l.type==="vector"||l.type==="geojson")&&(r[a]=l)}),Object.assign(n,{layers:[i].concat(e),sources:r})}var BI={polygonLayer:B6,lineLayer:O6,circleLayer:E6,generateInspectStyle:u$,generateColoredLayers:A$};class c${constructor(e){e=Object.assign({show:!0,onToggle(){}},e),this._btn=this.createButton(),this._btn.onclick=e.onToggle,this.elem=this.createContainer(this._btn,e.show)}createButton(){const e=document.createElement("button");return e.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",e.type="button",e.title="Toggle Inspect",e.setAttribute("aria-label","Toggle Inspect"),e}createContainer(e,t){const i=document.createElement("div");return i.className="maplibregl-ctrl maplibregl-ctrl-group",i.appendChild(e),t||(i.style.display="none"),i}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function h$(n){return typeof n>"u"||n===null?n:n instanceof Date?n.toLocaleString():typeof n=="object"||typeof n=="number"||typeof n=="string"?n.toString():n}function O4(n,e){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${n}</div><div class="maplibregl-inspect_property-value">${h$(e)}</div></div>`}function d$(n){return`<div class="maplibregl-inspect_layer">${n}</div>`}function f$(n){const e=d$(n.layer["source-layer"]||n.layer.source),t=O4("$id",n.id),i=O4("$type",n.geometry.type),r=Object.keys(n.properties).map(a=>O4(a,n.properties[a]));return[e,t,i].concat(r).join("")}function p$(n){return n.map(e=>`<div class="maplibregl-inspect_feature">${f$(e)}</div>`).join("")}function m$(n){return`<div class="maplibregl-inspect_popup">${p$(n)}</div>`}var DC={exports:{}},g$=DC.exports,OI;function y$(){return OI||(OI=1,function(n,e){(function(t,i){{var r=i();n.exports&&(e=n.exports=r),e.randomColor=r}})(g$,function(){var t=null,i={};te();var r=[],a=function(G){if(G=G||{},G.seed!==void 0&&G.seed!==null&&G.seed===parseInt(G.seed,10))t=G.seed;else if(typeof G.seed=="string")t=$(G.seed);else{if(G.seed!==void 0&&G.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var ce,ge,ye;if(G.count!==null&&G.count!==void 0){for(var we=G.count,Ie=[],Se=0;Se<G.count;Se++)r.push(!1);for(G.count=null;we>Ie.length;){var Ve=a(G);t!==null&&(G.seed=t),Ie.push(Ve)}return G.count=we,Ie}return ce=l(G),ge=o(ce,G),ye=p(ce,ge,G),C([ce,ge,ye],G)};function l(G){if(r.length>0){var ce=ae(G.hue),ge=j(ce),ye=(ce[1]-ce[0])/r.length,we=parseInt((ge-ce[0])/ye);r[we]===!0?we=(we+2)%r.length:r[we]=!0;var Ie=(ce[0]+we*ye)%359,Se=(ce[0]+(we+1)*ye)%359;return ce=[Ie,Se],ge=j(ce),ge<0&&(ge=360+ge),ge}else{var ce=O(G.hue);return ge=j(ce),ge<0&&(ge=360+ge),ge}}function o(G,ce){if(ce.hue==="monochrome")return 0;if(ce.luminosity==="random")return j([0,100]);var ge=U(G),ye=ge[0],we=ge[1];switch(ce.luminosity){case"bright":ye=55;break;case"dark":ye=we-10;break;case"light":we=55;break}return j([ye,we])}function p(G,ce,ge){var ye=M(G,ce),we=100;switch(ge.luminosity){case"dark":we=ye+20;break;case"light":ye=(we+ye)/2;break;case"random":ye=0,we=100;break}return j([ye,we])}function C(G,ce){switch(ce.format){case"hsvArray":return G;case"hslArray":return ne(G);case"hsl":var ge=ne(G);return"hsl("+ge[0]+", "+ge[1]+"%, "+ge[2]+"%)";case"hsla":var ye=ne(G),Se=ce.alpha||Math.random();return"hsla("+ye[0]+", "+ye[1]+"%, "+ye[2]+"%, "+Se+")";case"rgbArray":return J(G);case"rgb":var we=J(G);return"rgb("+we.join(", ")+")";case"rgba":var Ie=J(G),Se=ce.alpha||Math.random();return"rgba("+Ie.join(", ")+", "+Se+")";default:return W(G)}}function M(G,ce){for(var ge=K(G).lowerBounds,ye=0;ye<ge.length-1;ye++){var we=ge[ye][0],Ie=ge[ye][1],Se=ge[ye+1][0],Ve=ge[ye+1][1];if(ce>=we&&ce<=Se){var xe=(Ve-Ie)/(Se-we),ze=Ie-xe*we;return xe*ce+ze}}return 0}function O(G){if(typeof parseInt(G)=="number"){var ce=parseInt(G);if(ce<360&&ce>0)return[ce,ce]}if(typeof G=="string"){if(i[G]){var ge=i[G];if(ge.hueRange)return ge.hueRange}else if(G.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ye=oe(G)[0];return[ye,ye]}}return[0,360]}function U(G){return K(G).saturationRange}function K(G){G>=334&&G<=360&&(G-=360);for(var ce in i){var ge=i[ce];if(ge.hueRange&&G>=ge.hueRange[0]&&G<=ge.hueRange[1])return i[ce]}return"Color not found"}function j(G){if(t===null){var ce=.618033988749895,ge=Math.random();return ge+=ce,ge%=1,Math.floor(G[0]+ge*(G[1]+1-G[0]))}else{var ye=G[1]||1,we=G[0]||0;t=(t*9301+49297)%233280;var Ie=t/233280;return Math.floor(we+Ie*(ye-we))}}function W(G){var ce=J(G);function ge(we){var Ie=we.toString(16);return Ie.length==1?"0"+Ie:Ie}var ye="#"+ge(ce[0])+ge(ce[1])+ge(ce[2]);return ye}function Y(G,ce,ge){var ye=ge[0][0],we=ge[ge.length-1][0],Ie=ge[ge.length-1][1],Se=ge[0][1];i[G]={hueRange:ce,lowerBounds:ge,saturationRange:[ye,we],brightnessRange:[Ie,Se]}}function te(){Y("monochrome",null,[[0,0],[100,0]]),Y("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),Y("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),Y("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),Y("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),Y("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),Y("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),Y("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function J(G){var ce=G[0];ce===0&&(ce=1),ce===360&&(ce=359),ce=ce/360;var ge=G[1]/100,ye=G[2]/100,we=Math.floor(ce*6),Ie=ce*6-we,Se=ye*(1-ge),Ve=ye*(1-Ie*ge),xe=ye*(1-(1-Ie)*ge),ze=256,st=256,Ct=256;switch(we){case 0:ze=ye,st=xe,Ct=Se;break;case 1:ze=Ve,st=ye,Ct=Se;break;case 2:ze=Se,st=ye,Ct=xe;break;case 3:ze=Se,st=Ve,Ct=ye;break;case 4:ze=xe,st=Se,Ct=ye;break;case 5:ze=ye,st=Se,Ct=Ve;break}var nt=[Math.floor(ze*255),Math.floor(st*255),Math.floor(Ct*255)];return nt}function oe(G){G=G.replace(/^#/,""),G=G.length===3?G.replace(/(.)/g,"$1$1"):G;var ce=parseInt(G.substr(0,2),16)/255,ge=parseInt(G.substr(2,2),16)/255,ye=parseInt(G.substr(4,2),16)/255,we=Math.max(ce,ge,ye),Ie=we-Math.min(ce,ge,ye),Se=we?Ie/we:0;switch(we){case ce:return[60*((ge-ye)/Ie%6)||0,Se,we];case ge:return[60*((ye-ce)/Ie+2)||0,Se,we];case ye:return[60*((ce-ge)/Ie+4)||0,Se,we]}}function ne(G){var ce=G[0],ge=G[1]/100,ye=G[2]/100,we=(2-ge)*ye;return[ce,Math.round(ge*ye/(we<1?we:2-we)*1e4)/100,we/2*100]}function $(G){for(var ce=0,ge=0;ge!==G.length&&!(ce>=Number.MAX_SAFE_INTEGER);ge++)ce+=G.charCodeAt(ge);return ce}function ae(G){if(isNaN(G)){if(typeof G=="string"){if(i[G]){var ge=i[G];if(ge.hueRange)return ge.hueRange}else if(G.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ye=oe(G)[0];return K(ye).hueRange}}}else{var ce=parseInt(G);if(ce<360&&ce>0)return K(G).hueRange}return[0,360]}return a})}(DC,DC.exports)),DC.exports}var v$=y$(),C$=tF(v$);function _$(n,e){let t="bright",i;return/water|ocean|lake|sea|river/.test(n)&&(i="blue"),/state|country|place/.test(n)&&(i="pink"),/road|highway|transport|streets/.test(n)&&(i="orange"),/contour|building|earth/.test(n)&&(i="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(i="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(i="green"),`rgba(${C$({luminosity:t,hue:i,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}var b$={brightColor:_$};function x$(n){return n.metadata&&n.metadata["maplibregl-inspect:inspect"]}function M$(n){return Object.assign(n,{metadata:Object.assign({},n.metadata,{"maplibregl-inspect:inspect":!0})})}class lO{constructor(e){if(this._onSourceChange=i=>{if(i.sourceDataType==="visibility"||!i.isSourceLoaded)return;const r=Object.assign({},this.sources);this._setSourcesFromMap(),!l$(r,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const i=this._map.getStyle();x$(i)||(this._originalStyle=i)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=i=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||i.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;i.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||i.type==="mousemove"&&!this.options.showMapPopupOnHover)return;i.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let r;this.options.selectThreshold===0?r=i.point:r=[[i.point.x-this.options.selectThreshold,i.point.y+this.options.selectThreshold],[i.point.x+this.options.selectThreshold,i.point.y-this.options.selectThreshold]];const a=this._map.queryRenderedFeatures(r,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=a.length?"pointer":"",!a.length)this._popup.remove();else{this._popup.setLngLat(i.lngLat);const l=this.options.renderPopup(a);typeof l=="string"?this._popup.setHTML(l):this._popup.setDOMContent(l),this._popup.addTo(this._map)}}},!(this instanceof lO))throw new Error("MaplibreInspect needs to be called with the new keyword");let t=null;window.maplibregl?t=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):e.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:b$.brightColor,buildInspectStyle:BI.generateInspectStyle,renderPopup:m$,popup:t,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new c$({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const e=BI.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(M$(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const e=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(t=>{const i=this._map.style.sourceCaches[t]||{_source:{}},r=i._source.vectorLayerIds;r?this.sources[t]=r:i._source.type==="geojson"&&(this.sources[t]=[])}),Object.keys(this.sources).forEach(t=>{e.indexOf(t)===-1&&delete this.sources[t]})}setOriginalStyle(e){this._originalStyle=e,this._setSourcesFromMap()}onAdd(e){return this._map=e,Object.keys(this.sources).length===0&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),e.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0}}var RC={exports:{}},w$=RC.exports,II;function S$(){return II||(II=1,function(n,e){(function(t,i){{var r=i();n&&n.exports&&(e=n.exports=r),e.randomColor=r}})(w$,function(){var t=null,i={};te();var r=[],a=function(G){if(G=G||{},G.seed!==void 0&&G.seed!==null&&G.seed===parseInt(G.seed,10))t=G.seed;else if(typeof G.seed=="string")t=$(G.seed);else{if(G.seed!==void 0&&G.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var ce,ge,ye;if(G.count!==null&&G.count!==void 0){for(var we=G.count,Ie=[],Se=0;Se<G.count;Se++)r.push(!1);for(G.count=null;we>Ie.length;){var Ve=a(G);t!==null&&(G.seed=t),Ie.push(Ve)}return G.count=we,Ie}return ce=l(G),ge=o(ce,G),ye=p(ce,ge,G),C([ce,ge,ye],G)};function l(G){if(r.length>0){var ce=ae(G.hue),ge=j(ce),ye=(ce[1]-ce[0])/r.length,we=parseInt((ge-ce[0])/ye);r[we]===!0?we=(we+2)%r.length:r[we]=!0;var Ie=(ce[0]+we*ye)%359,Se=(ce[0]+(we+1)*ye)%359;return ce=[Ie,Se],ge=j(ce),ge<0&&(ge=360+ge),ge}else{var ce=O(G.hue);return ge=j(ce),ge<0&&(ge=360+ge),ge}}function o(G,ce){if(ce.hue==="monochrome")return 0;if(ce.luminosity==="random")return j([0,100]);var ge=U(G),ye=ge[0],we=ge[1];switch(ce.luminosity){case"bright":ye=55;break;case"dark":ye=we-10;break;case"light":we=55;break}return j([ye,we])}function p(G,ce,ge){var ye=M(G,ce),we=100;switch(ge.luminosity){case"dark":we=ye+20;break;case"light":ye=(we+ye)/2;break;case"random":ye=0,we=100;break}return j([ye,we])}function C(G,ce){switch(ce.format){case"hsvArray":return G;case"hslArray":return ne(G);case"hsl":var ge=ne(G);return"hsl("+ge[0]+", "+ge[1]+"%, "+ge[2]+"%)";case"hsla":var ye=ne(G),Se=ce.alpha||Math.random();return"hsla("+ye[0]+", "+ye[1]+"%, "+ye[2]+"%, "+Se+")";case"rgbArray":return J(G);case"rgb":var we=J(G);return"rgb("+we.join(", ")+")";case"rgba":var Ie=J(G),Se=ce.alpha||Math.random();return"rgba("+Ie.join(", ")+", "+Se+")";default:return W(G)}}function M(G,ce){for(var ge=K(G).lowerBounds,ye=0;ye<ge.length-1;ye++){var we=ge[ye][0],Ie=ge[ye][1],Se=ge[ye+1][0],Ve=ge[ye+1][1];if(ce>=we&&ce<=Se){var xe=(Ve-Ie)/(Se-we),ze=Ie-xe*we;return xe*ce+ze}}return 0}function O(G){if(typeof parseInt(G)=="number"){var ce=parseInt(G);if(ce<360&&ce>0)return[ce,ce]}if(typeof G=="string"){if(i[G]){var ge=i[G];if(ge.hueRange)return ge.hueRange}else if(G.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ye=oe(G)[0];return[ye,ye]}}return[0,360]}function U(G){return K(G).saturationRange}function K(G){G>=334&&G<=360&&(G-=360);for(var ce in i){var ge=i[ce];if(ge.hueRange&&G>=ge.hueRange[0]&&G<=ge.hueRange[1])return i[ce]}return"Color not found"}function j(G){if(t===null){var ce=.618033988749895,ge=Math.random();return ge+=ce,ge%=1,Math.floor(G[0]+ge*(G[1]+1-G[0]))}else{var ye=G[1]||1,we=G[0]||0;t=(t*9301+49297)%233280;var Ie=t/233280;return Math.floor(we+Ie*(ye-we))}}function W(G){var ce=J(G);function ge(we){var Ie=we.toString(16);return Ie.length==1?"0"+Ie:Ie}var ye="#"+ge(ce[0])+ge(ce[1])+ge(ce[2]);return ye}function Y(G,ce,ge){var ye=ge[0][0],we=ge[ge.length-1][0],Ie=ge[ge.length-1][1],Se=ge[0][1];i[G]={hueRange:ce,lowerBounds:ge,saturationRange:[ye,we],brightnessRange:[Ie,Se]}}function te(){Y("monochrome",null,[[0,0],[100,0]]),Y("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),Y("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),Y("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),Y("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),Y("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),Y("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),Y("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function J(G){var ce=G[0];ce===0&&(ce=1),ce===360&&(ce=359),ce=ce/360;var ge=G[1]/100,ye=G[2]/100,we=Math.floor(ce*6),Ie=ce*6-we,Se=ye*(1-ge),Ve=ye*(1-Ie*ge),xe=ye*(1-(1-Ie)*ge),ze=256,st=256,Ct=256;switch(we){case 0:ze=ye,st=xe,Ct=Se;break;case 1:ze=Ve,st=ye,Ct=Se;break;case 2:ze=Se,st=ye,Ct=xe;break;case 3:ze=Se,st=Ve,Ct=ye;break;case 4:ze=xe,st=Se,Ct=ye;break;case 5:ze=ye,st=Se,Ct=Ve;break}var nt=[Math.floor(ze*255),Math.floor(st*255),Math.floor(Ct*255)];return nt}function oe(G){G=G.replace(/^#/,""),G=G.length===3?G.replace(/(.)/g,"$1$1"):G;var ce=parseInt(G.substr(0,2),16)/255,ge=parseInt(G.substr(2,2),16)/255,ye=parseInt(G.substr(4,2),16)/255,we=Math.max(ce,ge,ye),Ie=we-Math.min(ce,ge,ye),Se=we?Ie/we:0;switch(we){case ce:return[60*((ge-ye)/Ie%6)||0,Se,we];case ge:return[60*((ye-ce)/Ie+2)||0,Se,we];case ye:return[60*((ce-ge)/Ie+4)||0,Se,we]}}function ne(G){var ce=G[0],ge=G[1]/100,ye=G[2]/100,we=(2-ge)*ye;return[ce,Math.round(ge*ye/(we<1?we:2-we)*1e4)/100,we/2*100]}function $(G){for(var ce=0,ge=0;ge!==G.length&&!(ce>=Number.MAX_SAFE_INTEGER);ge++)ce+=G.charCodeAt(ge);return ce}function ae(G){if(isNaN(G)){if(typeof G=="string"){if(i[G]){var ge=i[G];if(ge.hueRange)return ge.hueRange}else if(G.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ye=oe(G)[0];return K(ye).hueRange}}}else{var ce=parseInt(G);if(ce<360&&ce>0)return K(G).hueRange}return[0,360]}return a})}(RC,RC.exports)),RC.exports}var E$=S$();const B$=cu(E$);function O$(n,e){let t="bright",i;return/water|ocean|lake|sea|river/.test(n)&&(i="blue"),/state|country|place/.test(n)&&(i="pink"),/road|highway|transport|streets/.test(n)&&(i="orange"),/contour|building|earth/.test(n)&&(i="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(i="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(i="green"),`rgba(${B$({luminosity:t,hue:i,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}const nF={brightColor:O$};function I$(n){return Ra({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"},child:[]}]})(n)}function T$(n){return Ra({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.48 1.48 0 0 1 0-2.098z"},child:[]}]})(n)}function k$(n){return Ra({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(n)}function Z1(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function D$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(n)}function R$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(n)}function P$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function K$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function U$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}function L$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(n)}function F$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(n)}function z$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(n)}function j$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(n)}function iF(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function N$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}function I6(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(n)}function G$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(n)}function W$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"7.2",cy:"14.4",r:"3.2"},child:[]},{tag:"circle",attr:{cx:"14.8",cy:"18",r:"2"},child:[]},{tag:"circle",attr:{cx:"15.2",cy:"8.8",r:"4.8"},child:[]}]})(n)}function TI(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(n)}function Q$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(n)}function kI(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(n)}function Y$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(n)}function q$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(n)}function H$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(n)}function V$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(n)}function $$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"},child:[]}]})(n)}function rF(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(n)}function oF(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(n)}function Z$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function X$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}function J$(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(n)}function eZ(n){return Ra({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(n)}function tZ(n){return Ra({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m344 280 88-88m-200 24 64 64M80 320l104-104"},child:[]},{tag:"circle",attr:{cx:"456",cy:"168",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"320",cy:"304",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"208",cy:"192",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"56",cy:"344",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(n)}function nZ(n){return Ra({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M467.3 168.1c-1.8 0-3.5.3-5.1 1l-177.6 92.1h-.1c-7.6 4.7-12.5 12.5-12.5 21.4v185.9c0 6.4 5.6 11.5 12.7 11.5 2.2 0 4.3-.5 6.1-1.4.2-.1.4-.2.5-.3L466 385.6l.3-.1c8.2-4.5 13.7-12.7 13.7-22.1V179.6c0-6.4-5.7-11.5-12.7-11.5zM454.3 118.5L272.6 36.8S261.9 32 256 32c-5.9 0-16.5 4.8-16.5 4.8L57.6 118.5s-8 3.3-8 9.5c0 6.6 8.3 11.5 8.3 11.5l185.5 97.8c3.8 1.7 8.1 2.6 12.6 2.6 4.6 0 8.9-1 12.7-2.7l185.4-97.9s7.5-4 7.5-11.5c.1-6.3-7.3-9.3-7.3-9.3zM227.5 261.2L49.8 169c-1.5-.6-3.3-1-5.1-1-7 0-12.7 5.1-12.7 11.5v183.8c0 9.4 5.5 17.6 13.7 22.1l.2.1 174.7 92.7c1.9 1.1 4.2 1.7 6.6 1.7 7 0 12.7-5.2 12.7-11.5V282.6c.1-8.9-4.9-16.8-12.4-21.4z"},child:[]}]})(n)}function iZ(n){return Ra({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"},child:[]}]})(n)}function pl(){var n="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",e="0b6460c942a48f834d2809c818afa5c72625023a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:7,column:18},end:{line:33,column:1}},1:{start:{line:8,column:20},end:{line:8,column:42}},2:{start:{line:9,column:2},end:{line:32,column:3}},3:{start:{line:11,column:6},end:{line:11,column:61}},4:{start:{line:13,column:6},end:{line:13,column:60}},5:{start:{line:15,column:6},end:{line:15,column:62}},6:{start:{line:17,column:6},end:{line:17,column:63}},7:{start:{line:19,column:6},end:{line:19,column:66}},8:{start:{line:21,column:6},end:{line:21,column:66}},9:{start:{line:23,column:6},end:{line:23,column:59}},10:{start:{line:25,column:6},end:{line:25,column:71}},11:{start:{line:27,column:6},end:{line:27,column:66}},12:{start:{line:29,column:6},end:{line:29,column:61}},13:{start:{line:31,column:6},end:{line:31,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:29},end:{line:33,column:1}},line:7}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:32,column:3}},type:"switch",locations:[{start:{line:10,column:4},end:{line:11,column:61}},{start:{line:12,column:4},end:{line:13,column:60}},{start:{line:14,column:4},end:{line:15,column:62}},{start:{line:16,column:4},end:{line:17,column:63}},{start:{line:18,column:4},end:{line:19,column:66}},{start:{line:20,column:4},end:{line:21,column:66}},{start:{line:22,column:4},end:{line:23,column:59}},{start:{line:24,column:4},end:{line:25,column:71}},{start:{line:26,column:4},end:{line:27,column:66}},{start:{line:28,column:4},end:{line:29,column:61}},{start:{line:30,column:4},end:{line:31,column:67}}],line:9}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAkBkC;AAflC,SAAS,QAAQ,eAAe,iBAAiB;AACjD,SAAS,eAAe,UAAU,eAAe,SAAS,sBAAsB;AAChF,SAAS,0BAA0B;AACnC,SAAS,gBAAgB;AACzB,SAAS,kBAAkB;AAQ3B,MAAM,YAAsC,CAAC,UAAU;AACrD,QAAM,YAAY,EAAE,OAAO,MAAM,MAAM;AACvC,UAAO,MAAM,MAAM;AAAA,IACjB,KAAK;AAAkB,aAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,IACvD,KAAK;AAAU,aAAO,oBAAC,WAAS,GAAG,WAAW;AAAA,IAC9C,KAAK;AAAa,aAAO,oBAAC,aAAW,GAAG,WAAW;AAAA,IACnD,KAAK;AAAgB,aAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,IACvD,KAAK;AAAW,aAAO,oBAAC,iBAAe,GAAG,WAAW;AAAA,IACrD,KAAK;AAAQ,aAAO,oBAAC,iBAAe,GAAG,WAAW;AAAA,IAClD,KAAK;AAAc,aAAO,oBAAC,UAAQ,GAAG,WAAW;AAAA,IACjD,KAAK;AAAQ,aAAO,oBAAC,sBAAoB,GAAG,WAAW;AAAA,IACvD,KAAK;AAAU,aAAO,oBAAC,iBAAe,GAAG,WAAW;AAAA,IACpD,KAAK;AAAU,aAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,IAC/C;AAAS,aAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,EACjD;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0b6460c942a48f834d2809c818afa5c72625023a"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return pl=function(){return l},l}pl();pl().s[0]++;const aF=n=>{pl().f[0]++;const e=(pl().s[1]++,{style:n.style});switch(pl().s[2]++,n.type){case"fill-extrusion":return pl().b[0][0]++,pl().s[3]++,Ae.jsx(nZ,{...e});case"raster":return pl().b[0][1]++,pl().s[4]++,Ae.jsx(q$,{...e});case"hillshade":return pl().b[0][2]++,pl().s[5]++,Ae.jsx(k$,{...e});case"color-relief":return pl().b[0][3]++,pl().s[6]++,Ae.jsx(iZ,{...e});case"heatmap":return pl().b[0][4]++,pl().s[7]++,Ae.jsx(W$,{...e});case"fill":return pl().b[0][5]++,pl().s[8]++,Ae.jsx(T$,{...e});case"background":return pl().b[0][6]++,pl().s[9]++,Ae.jsx(I$,{...e});case"line":return pl().b[0][7]++,pl().s[10]++,Ae.jsx(tZ,{...e});case"symbol":return pl().b[0][8]++,pl().s[11]++,Ae.jsx(V$,{...e});case"circle":return pl().b[0][9]++,pl().s[12]++,Ae.jsx(Y$,{...e});default:return pl().b[0][10]++,pl().s[13]++,Ae.jsx(J$,{...e})}};function er(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",e="6d83428b3c695d7740365dc3cc3e42bdf4d49028",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:152}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCAA+B,eAAY,uBAAsB,KAAI,OACxF,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6d83428b3c695d7740365dc3cc3e42bdf4d49028"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return er=function(){return l},l}er();function rZ(n){er().f[0]++;const e=(er().s[0]++,{}),t=(er().s[1]++,{});return er().s[2]++,n.forEach(i=>{er().f[1]++;const r=(er().s[3]++,i.layer["source-layer"]);if(er().s[4]++,Object.prototype.hasOwnProperty.call(t,i.layer.id)){er().b[0][0]++,er().s[5]++,t[i.layer.id]++;const a=(er().s[6]++,e[r].find(l=>(er().f[2]++,er().s[7]++,l.layer.id===i.layer.id)));er().s[8]++,a.counter=t[i.layer.id]}else er().b[0][1]++,er().s[9]++,e[r]=(er().b[1][0]++,e[r]||(er().b[1][1]++,[])),er().s[10]++,e[r].push(i),er().s[11]++,t[i.layer.id]=1}),er().s[12]++,e}class sF extends ni.Component{_getFeatureColor(e,t){if(er().f[3]++,er().s[13]++,e.layer.paint)er().b[2][1]++;else{er().b[2][0]++,er().s[14]++;return}er().s[15]++;try{const i=(er().s[16]++,e.layer.paint);return er().s[17]++,er().b[4][0]++,"text-color"in i&&(er().b[4][1]++,i["text-color"])?(er().b[3][0]++,er().s[18]++,String(i["text-color"])):(er().b[3][1]++,er().s[19]++,er().b[6][0]++,"fill-color"in i&&(er().b[6][1]++,i["fill-color"])?(er().b[5][0]++,er().s[20]++,String(i["fill-color"])):(er().b[5][1]++,er().s[21]++,er().b[8][0]++,"line-color"in i&&(er().b[8][1]++,i["line-color"])?(er().b[7][0]++,er().s[22]++,String(i["line-color"])):(er().b[7][1]++,er().s[23]++,er().b[10][0]++,"fill-extrusion-color"in i&&(er().b[10][1]++,i["fill-extrusion-color"])?(er().b[9][0]++,er().s[24]++,String(i["fill-extrusion-color"])):(er().b[9][1]++,er().s[25]++,"black"))))}catch(i){return er().s[26]++,console.warn("Unable to get feature color, error:",i),er().s[27]++,"black"}}render(){er().f[4]++;const e=(er().s[28]++,rZ(this.props.features)),t=(er().s[29]++,Object.keys(e).map(i=>{er().f[5]++;const r=(er().s[30]++,e[i].map((a,l)=>{er().f[6]++;const o=(er().s[31]++,this._getFeatureColor(a,this.props.zoom));return er().s[32]++,Ae.jsxs("div",{className:"maputnik-popup-layer",children:[Ae.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:o}}),Ae.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{er().f[7]++,er().s[33]++,this.props.onLayerSelect(a.layer.id)},children:[(er().b[11][0]++,a.layer.type&&(er().b[11][1]++,Ae.jsx(aF,{type:a.layer.type,style:{width:14,height:14,paddingRight:3}}))),a.layer.id,(er().b[12][0]++,a.counter&&(er().b[12][1]++,Ae.jsxs("span",{children:["  ",a.counter]})))]})]},l)}));return er().s[34]++,Ae.jsxs("div",{children:[Ae.jsx("div",{className:"maputnik-popup-layer-id",children:i}),r]},i)}));return er().s[35]++,Ae.jsx("div",{className:"maputnik-feature-layer-popup","data-wd-key":"feature-layer-popup",dir:"ltr",children:t})}}function Zr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",e="1e4c480681bcaba84c2c41960b73ded2066b54bc",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:4,column:67}},1:{start:{line:4,column:54},end:{line:4,column:67}},2:{start:{line:5,column:2},end:{line:5,column:59}},3:{start:{line:5,column:29},end:{line:5,column:59}},4:{start:{line:6,column:2},end:{line:6,column:115}},5:{start:{line:6,column:91},end:{line:6,column:115}},6:{start:{line:7,column:2},end:{line:7,column:15}},7:{start:{line:10,column:2},end:{line:13,column:12}},8:{start:{line:16,column:2},end:{line:32,column:12}},9:{start:{line:29,column:23},end:{line:29,column:55}},10:{start:{line:30,column:6},end:{line:30,column:74}},11:{start:{line:35,column:25},end:{line:35,column:27}},12:{start:{line:36,column:2},end:{line:49,column:5}},13:{start:{line:37,column:25},end:{line:39,column:6}},14:{start:{line:38,column:6},end:{line:38,column:156}},15:{start:{line:40,column:4},end:{line:48,column:5}},16:{start:{line:41,column:6},end:{line:41,column:35}},17:{start:{line:43,column:6},end:{line:47,column:7}},18:{start:{line:44,column:8},end:{line:44,column:58}},19:{start:{line:46,column:8},end:{line:46,column:60}},20:{start:{line:50,column:2},end:{line:50,column:24}},21:{start:{line:54,column:21},end:{line:54,column:66}},22:{start:{line:55,column:4},end:{line:55,column:303}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:8,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:9,column:9},end:{line:9,column:31}},loc:{start:{line:9,column:44},end:{line:14,column:1}},line:9},2:{name:"renderFeature",decl:{start:{line:15,column:9},end:{line:15,column:22}},loc:{start:{line:15,column:37},end:{line:33,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:28,column:40},end:{line:28,column:41}},loc:{start:{line:28,column:58},end:{line:31,column:5}},line:28},4:{name:"removeDuplicatedFeatures",decl:{start:{line:34,column:9},end:{line:34,column:33}},loc:{start:{line:34,column:44},end:{line:51,column:1}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:36,column:19},end:{line:36,column:20}},loc:{start:{line:36,column:32},end:{line:49,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:37,column:50},end:{line:37,column:51}},loc:{start:{line:37,column:64},end:{line:39,column:5}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:56,column:3}},line:53}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:4,column:67}},type:"if",locations:[{start:{line:4,column:2},end:{line:4,column:67}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:5,column:2},end:{line:5,column:59}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:59}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},3:{loc:{start:{line:6,column:2},end:{line:6,column:115}},type:"if",locations:[{start:{line:6,column:2},end:{line:6,column:115}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},4:{loc:{start:{line:6,column:6},end:{line:6,column:89}},type:"binary-expr",locations:[{start:{line:6,column:6},end:{line:6,column:31}},{start:{line:6,column:35},end:{line:6,column:60}},{start:{line:6,column:64},end:{line:6,column:89}}],line:6},5:{loc:{start:{line:21,column:6},end:{line:24,column:10}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:32}},{start:{line:21,column:52},end:{line:24,column:10}}],line:21},6:{loc:{start:{line:38,column:13},end:{line:38,column:155}},type:"binary-expr",locations:[{start:{line:38,column:13},end:{line:38,column:77}},{start:{line:38,column:81},end:{line:38,column:155}}],line:38},7:{loc:{start:{line:40,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:48,column:5}},{start:{line:42,column:11},end:{line:48,column:5}}],line:40},8:{loc:{start:{line:43,column:6},end:{line:47,column:7}},type:"if",locations:[{start:{line:43,column:6},end:{line:47,column:7}},{start:{line:45,column:13},end:{line:47,column:7}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU,KAAM,QAAO;AAC3D,MAAI,iBAAiB,KAAM,QAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU,SAAU,QAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,OAAO,aAAa,QAAQ,EAAE,CAAC;AAAA,IACtD,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCAAkC,KAAI,OAAM,eAAY,0BAC5E,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e4c480681bcaba84c2c41960b73ded2066b54bc"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Zr=function(){return l},l}Zr();function DI(n){return Zr().f[0]++,Zr().s[0]++,Zr().b[1][0]++,typeof n>"u"||(Zr().b[1][1]++,n===null)?(Zr().b[0][0]++,Zr().s[1]++,n):(Zr().b[0][1]++,Zr().s[2]++,n instanceof Date?(Zr().b[2][0]++,Zr().s[3]++,n.toLocaleString()):(Zr().b[2][1]++,Zr().s[4]++,Zr().b[4][0]++,typeof n=="object"||(Zr().b[4][1]++,typeof n=="number")||(Zr().b[4][2]++,typeof n=="string")?(Zr().b[3][0]++,Zr().s[5]++,n.toString()):(Zr().b[3][1]++,Zr().s[6]++,n)))}function I4(n,e){return Zr().f[1]++,Zr().s[7]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{className:"maputnik-popup-table-cell",children:n}),Ae.jsx("td",{className:"maputnik-popup-table-cell",children:e})]},n)}function oZ(n,e){return Zr().f[2]++,Zr().s[8]++,Ae.jsxs(ni.Fragment,{children:[Ae.jsx("tr",{children:Ae.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[n.layer.source,": ",n.layer["source-layer"],(Zr().b[5][0]++,n.inspectModeCounter&&(Zr().b[5][1]++,Ae.jsxs("span",{children:["  ",n.inspectModeCounter]})))]})}),I4("$type",n.geometry.type),I4("$id",DI(n.id)),Object.keys(n.properties).map(t=>{Zr().f[3]++;const i=(Zr().s[9]++,n.properties[t]);return Zr().s[10]++,I4(t,DI(i))})]},e)}function aZ(n){Zr().f[4]++;const e=(Zr().s[11]++,[]);return Zr().s[12]++,n.forEach(t=>{Zr().f[5]++;const i=(Zr().s[13]++,e.findIndex(r=>(Zr().f[6]++,Zr().s[14]++,Zr().b[6][0]++,t.layer["source-layer"]===r.layer["source-layer"]&&(Zr().b[6][1]++,JSON.stringify(t.properties)===JSON.stringify(r.properties)))));Zr().s[15]++,i===-1?(Zr().b[7][0]++,Zr().s[16]++,e.push(t)):(Zr().b[7][1]++,Zr().s[17]++,"inspectModeCounter"in e[i]?(Zr().b[8][0]++,Zr().s[18]++,e[i].inspectModeCounter++):(Zr().b[8][1]++,Zr().s[19]++,e[i].inspectModeCounter=2))}),Zr().s[20]++,e}class sZ extends ni.Component{render(){Zr().f[7]++;const e=(Zr().s[21]++,aZ(this.props.features));return Zr().s[22]++,Ae.jsx("div",{className:"maputnik-feature-property-popup",dir:"ltr","data-wd-key":"feature-property-popup",children:Ae.jsx("table",{className:"maputnik-popup-table",children:Ae.jsx("tbody",{children:e.map(oZ)})})})}}const n_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},lF=Object.create(null);for(const n in n_)Object.hasOwn(n_,n)&&(lF[n_[n]]=n);const xc={to:{},get:{}};xc.get=function(n){const e=n.slice(0,3).toLowerCase();let t,i;switch(e){case"hsl":{t=xc.get.hsl(n),i="hsl";break}case"hwb":{t=xc.get.hwb(n),i="hwb";break}default:{t=xc.get.rgb(n),i="rgb";break}}return t?{model:i,value:t}:null};xc.get.rgb=function(n){if(!n)return null;const e=/^#([a-f\d]{3,4})$/i,t=/^#([a-f\d]{6})([a-f\d]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,a=/^(\w+)$/;let l=[0,0,0,1],o,p,C;if(o=n.match(t)){for(C=o[2],o=o[1],p=0;p<3;p++){const M=p*2;l[p]=Number.parseInt(o.slice(M,M+2),16)}C&&(l[3]=Number.parseInt(C,16)/255)}else if(o=n.match(e)){for(o=o[1],C=o[3],p=0;p<3;p++)l[p]=Number.parseInt(o[p]+o[p],16);C&&(l[3]=Number.parseInt(C+C,16)/255)}else if(o=n.match(i)){for(p=0;p<3;p++)l[p]=Number.parseInt(o[p+1],10);o[4]&&(l[3]=o[5]?Number.parseFloat(o[4])*.01:Number.parseFloat(o[4]))}else if(o=n.match(r)){for(p=0;p<3;p++)l[p]=Math.round(Number.parseFloat(o[p+1])*2.55);o[4]&&(l[3]=o[5]?Number.parseFloat(o[4])*.01:Number.parseFloat(o[4]))}else return(o=n.match(a))?o[1]==="transparent"?[0,0,0,0]:Object.hasOwn(n_,o[1])?(l=n_[o[1]],l[3]=1,l):null:null;for(p=0;p<3;p++)l[p]=Pg(l[p],0,255);return l[3]=Pg(l[3],0,1),l};xc.get.hsl=function(n){if(!n)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){const i=Number.parseFloat(t[4]),r=(Number.parseFloat(t[1])%360+360)%360,a=Pg(Number.parseFloat(t[2]),0,100),l=Pg(Number.parseFloat(t[3]),0,100),o=Pg(Number.isNaN(i)?1:i,0,1);return[r,a,l,o]}return null};xc.get.hwb=function(n){if(!n)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){const i=Number.parseFloat(t[4]),r=(Number.parseFloat(t[1])%360+360)%360,a=Pg(Number.parseFloat(t[2]),0,100),l=Pg(Number.parseFloat(t[3]),0,100),o=Pg(Number.isNaN(i)?1:i,0,1);return[r,a,l,o]}return null};xc.to.hex=function(...n){return"#"+jb(n[0])+jb(n[1])+jb(n[2])+(n[3]<1?jb(Math.round(n[3]*255)):"")};xc.to.rgb=function(...n){return n.length<4||n[3]===1?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"};xc.to.rgb.percent=function(...n){const e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),i=Math.round(n[2]/255*100);return n.length<4||n[3]===1?"rgb("+e+"%, "+t+"%, "+i+"%)":"rgba("+e+"%, "+t+"%, "+i+"%, "+n[3]+")"};xc.to.hsl=function(...n){return n.length<4||n[3]===1?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"};xc.to.hwb=function(...n){let e="";return n.length>=4&&n[3]!==1&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"};xc.to.keyword=function(...n){return lF[n.slice(0,3)]};function Pg(n,e,t){return Math.min(Math.max(e,n),t)}function jb(n){const e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}const M_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},AF={};for(const n of Object.keys(M_))AF[M_[n]]=n;const ur={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},D0=(6/29)**3;for(const n of Object.keys(ur)){if(!("channels"in ur[n]))throw new Error("missing channels property: "+n);if(!("labels"in ur[n]))throw new Error("missing channel labels property: "+n);if(ur[n].labels.length!==ur[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=ur[n];delete ur[n].channels,delete ur[n].labels,Object.defineProperty(ur[n],"channels",{value:e}),Object.defineProperty(ur[n],"labels",{value:t})}ur.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),a=Math.max(e,t,i),l=a-r;let o,p;switch(a){case r:{o=0;break}case e:{o=(t-i)/l;break}case t:{o=2+(i-e)/l;break}case i:{o=4+(e-t)/l;break}}o=Math.min(o*60,360),o<0&&(o+=360);const C=(r+a)/2;return a===r?p=0:C<=.5?p=l/(a+r):p=l/(2-a-r),[o,p*100,C*100]};ur.rgb.hsv=function(n){let e,t,i,r,a;const l=n[0]/255,o=n[1]/255,p=n[2]/255,C=Math.max(l,o,p),M=C-Math.min(l,o,p),O=function(U){return(C-U)/6/M+1/2};if(M===0)r=0,a=0;else{switch(a=M/C,e=O(l),t=O(o),i=O(p),C){case l:{r=i-t;break}case o:{r=1/3+e-i;break}case p:{r=2/3+t-e;break}}r<0?r+=1:r>1&&(r-=1)}return[r*360,a*100,C*100]};ur.rgb.hwb=function(n){const e=n[0],t=n[1];let i=n[2];const r=ur.rgb.hsl(n)[0],a=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[r,a*100,i*100]};ur.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(1-e,1-t,1-i),a=(1-e-r)/(1-r)||0,l=(1-t-r)/(1-r)||0,o=(1-i-r)/(1-r)||0;return[a*100,l*100,o*100,r*100]};function lZ(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}ur.rgb.keyword=function(n){const e=AF[n];if(e)return e;let t=Number.POSITIVE_INFINITY,i;for(const r of Object.keys(M_)){const a=M_[r],l=lZ(n,a);l<t&&(t=l,i=r)}return i};ur.keyword.rgb=function(n){return M_[n]};ur.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const r=e*.4124564+t*.3575761+i*.1804375,a=e*.2126729+t*.7151522+i*.072175,l=e*.0193339+t*.119192+i*.9503041;return[r*100,a*100,l*100]};ur.rgb.lab=function(n){const e=ur.rgb.xyz(n);let t=e[0],i=e[1],r=e[2];t/=95.047,i/=100,r/=108.883,t=t>D0?t**(1/3):7.787*t+16/116,i=i>D0?i**(1/3):7.787*i+16/116,r=r>D0?r**(1/3):7.787*r+16/116;const a=116*i-16,l=500*(t-i),o=200*(i-r);return[a,l,o]};ur.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;let r,a;if(t===0)return a=i*255,[a,a,a];const l=i<.5?i*(1+t):i+t-i*t,o=2*i-l,p=[0,0,0];for(let C=0;C<3;C++)r=e+1/3*-(C-1),r<0&&r++,r>1&&r--,6*r<1?a=o+(l-o)*6*r:2*r<1?a=l:3*r<2?a=o+(l-o)*(2/3-r)*6:a=o,p[C]=a*255;return p};ur.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,i=n[2]/100,r=t;const a=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,r*=a<=1?a:2-a;const l=(i+t)/2,o=i===0?2*r/(a+r):2*t/(i+t);return[e,o*100,l*100]};ur.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let i=n[2]/100;const r=Math.floor(e)%6,a=e-Math.floor(e),l=255*i*(1-t),o=255*i*(1-t*a),p=255*i*(1-t*(1-a));switch(i*=255,r){case 0:return[i,p,l];case 1:return[o,i,l];case 2:return[l,i,p];case 3:return[l,o,i];case 4:return[p,l,i];case 5:return[i,l,o]}};ur.hsv.hsl=function(n){const e=n[0],t=n[1]/100,i=n[2]/100,r=Math.max(i,.01);let a,l;l=(2-t)*i;const o=(2-t)*r;return a=t*r,a/=o<=1?o:2-o,a=a||0,l/=2,[e,a*100,l*100]};ur.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,i=n[2]/100;const r=t+i;let a;r>1&&(t/=r,i/=r);const l=Math.floor(6*e),o=1-i;a=6*e-l,(l&1)!==0&&(a=1-a);const p=t+a*(o-t);let C,M,O;switch(l){default:case 6:case 0:{C=o,M=p,O=t;break}case 1:{C=p,M=o,O=t;break}case 2:{C=t,M=o,O=p;break}case 3:{C=t,M=p,O=o;break}case 4:{C=p,M=t,O=o;break}case 5:{C=o,M=t,O=p;break}}return[C*255,M*255,O*255]};ur.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,r=n[3]/100,a=1-Math.min(1,e*(1-r)+r),l=1-Math.min(1,t*(1-r)+r),o=1-Math.min(1,i*(1-r)+r);return[a*255,l*255,o*255]};ur.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100;let r,a,l;return r=e*3.2404542+t*-1.5371385+i*-.4985314,a=e*-.969266+t*1.8760108+i*.041556,l=e*.0556434+t*-.2040259+i*1.0572252,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),l=Math.min(Math.max(0,l),1),[r*255,a*255,l*255]};ur.xyz.lab=function(n){let e=n[0],t=n[1],i=n[2];e/=95.047,t/=100,i/=108.883,e=e>D0?e**(1/3):7.787*e+16/116,t=t>D0?t**(1/3):7.787*t+16/116,i=i>D0?i**(1/3):7.787*i+16/116;const r=116*t-16,a=500*(e-t),l=200*(t-i);return[r,a,l]};ur.lab.xyz=function(n){const e=n[0],t=n[1],i=n[2];let r,a,l;a=(e+16)/116,r=t/500+a,l=a-i/200;const o=a**3,p=r**3,C=l**3;return a=o>D0?o:(a-16/116)/7.787,r=p>D0?p:(r-16/116)/7.787,l=C>D0?C:(l-16/116)/7.787,r*=95.047,a*=100,l*=108.883,[r,a,l]};ur.lab.lch=function(n){const e=n[0],t=n[1],i=n[2];let r;r=Math.atan2(i,t)*360/2/Math.PI,r<0&&(r+=360);const l=Math.sqrt(t*t+i*i);return[e,l,r]};ur.lch.lab=function(n){const e=n[0],t=n[1],r=n[2]/360*2*Math.PI,a=t*Math.cos(r),l=t*Math.sin(r);return[e,a,l]};ur.rgb.ansi16=function(n,e=null){const[t,i,r]=n;let a=e===null?ur.rgb.hsv(n)[2]:e;if(a=Math.round(a/50),a===0)return 30;let l=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(t/255));return a===2&&(l+=60),l};ur.hsv.ansi16=function(n){return ur.rgb.ansi16(ur.hsv.rgb(n),n[2])};ur.rgb.ansi256=function(n){const e=n[0],t=n[1],i=n[2];return e>>4===t>>4&&t>>4===i>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)};ur.ansi16.rgb=function(n){n=n[0];let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(Math.trunc(n>50)+1)*.5,i=(e&1)*t*255,r=(e>>1&1)*t*255,a=(e>>2&1)*t*255;return[i,r,a]};ur.ansi256.rgb=function(n){if(n=n[0],n>=232){const a=(n-232)*10+8;return[a,a,a]}n-=16;let e;const t=Math.floor(n/36)/5*255,i=Math.floor((e=n%36)/6)/5*255,r=e%6/5*255;return[t,i,r]};ur.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};ur.hex.rgb=function(n){const e=n.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=[...t].map(o=>o+o).join(""));const i=Number.parseInt(t,16),r=i>>16&255,a=i>>8&255,l=i&255;return[r,a,l]};ur.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.max(Math.max(e,t),i),a=Math.min(Math.min(e,t),i),l=r-a;let o;const p=l<1?a/(1-l):0;return l<=0?o=0:r===e?o=(t-i)/l%6:r===t?o=2+(i-e)/l:o=4+(e-t)/l,o/=6,o%=1,[o*360,l*100,p*100]};ur.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=t<.5?2*e*t:2*e*(1-t);let r=0;return i<1&&(r=(t-.5*i)/(1-i)),[n[0],i*100,r*100]};ur.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=e*t;let r=0;return i<1&&(r=(t-i)/(1-i)),[n[0],i*100,r*100]};ur.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;if(t===0)return[i*255,i*255,i*255];const r=[0,0,0],a=e%1*6,l=a%1,o=1-l;let p=0;switch(Math.floor(a)){case 0:{r[0]=1,r[1]=l,r[2]=0;break}case 1:{r[0]=o,r[1]=1,r[2]=0;break}case 2:{r[0]=0,r[1]=1,r[2]=l;break}case 3:{r[0]=0,r[1]=o,r[2]=1;break}case 4:{r[0]=l,r[1]=0,r[2]=1;break}default:r[0]=1,r[1]=0,r[2]=o}return p=(1-t)*i,[(t*r[0]+p)*255,(t*r[1]+p)*255,(t*r[2]+p)*255]};ur.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);let r=0;return i>0&&(r=e/i),[n[0],r*100,i*100]};ur.hcg.hsl=function(n){const e=n[1]/100,i=n[2]/100*(1-e)+.5*e;let r=0;return i>0&&i<.5?r=e/(2*i):i>=.5&&i<1&&(r=e/(2*(1-i))),[n[0],r*100,i*100]};ur.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);return[n[0],(i-e)*100,(1-i)*100]};ur.hwb.hcg=function(n){const e=n[1]/100,i=1-n[2]/100,r=i-e;let a=0;return r<1&&(a=(i-r)/(1-r)),[n[0],r*100,a*100]};ur.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};ur.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};ur.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};ur.gray.hsl=function(n){return[0,0,n[0]]};ur.gray.hsv=ur.gray.hsl;ur.gray.hwb=function(n){return[0,100,n[0]]};ur.gray.cmyk=function(n){return[0,0,0,n[0]]};ur.gray.lab=function(n){return[n[0],0,0]};ur.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(i.length)+i};ur.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};function AZ(){const n={},e=Object.keys(ur);for(let{length:t}=e,i=0;i<t;i++)n[e[i]]={distance:-1,parent:null};return n}function uZ(n){const e=AZ(),t=[n];for(e[n].distance=0;t.length>0;){const i=t.pop(),r=Object.keys(ur[i]);for(let{length:a}=r,l=0;l<a;l++){const o=r[l],p=e[o];p.distance===-1&&(p.distance=e[i].distance+1,p.parent=i,t.unshift(o))}}return e}function cZ(n,e){return function(t){return e(n(t))}}function hZ(n,e){const t=[e[n].parent,n];let i=ur[e[n].parent][n],r=e[n].parent;for(;e[r].parent;)t.unshift(e[r].parent),i=cZ(ur[e[r].parent][r],i),r=e[r].parent;return i.conversion=t,i}function dZ(n){const e=uZ(n),t={},i=Object.keys(e);for(let{length:r}=i,a=0;a<r;a++){const l=i[a];e[l].parent!==null&&(t[l]=hZ(l,e))}return t}const qc={},fZ=Object.keys(ur);function pZ(n){const e=function(...t){const i=t[0];return i==null?i:(i.length>1&&(t=i),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function mZ(n){const e=function(...t){const i=t[0];if(i==null)return i;i.length>1&&(t=i);const r=n(t);if(typeof r=="object")for(let{length:a}=r,l=0;l<a;l++)r[l]=Math.round(r[l]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}for(const n of fZ){qc[n]={},Object.defineProperty(qc[n],"channels",{value:ur[n].channels}),Object.defineProperty(qc[n],"labels",{value:ur[n].labels});const e=dZ(n),t=Object.keys(e);for(const i of t){const r=e[i];qc[n][i]=mZ(r),qc[n][i].raw=pZ(r)}}const uF=["keyword","gray","hex"],T6={};for(const n of Object.keys(qc))T6[[...qc[n].labels].sort().join("")]=n;const k6={};function tc(n,e){if(!(this instanceof tc))return new tc(n,e);if(e&&e in uF&&(e=null),e&&!(e in qc))throw new Error("Unknown model: "+e);let t,i;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof tc)this.model=n.model,this.color=[...n.color],this.valpha=n.valpha;else if(typeof n=="string"){const r=xc.get(n);if(r===null)throw new Error("Unable to parse color from string: "+n);this.model=r.model,i=qc[this.model].channels,this.color=r.value.slice(0,i),this.valpha=typeof r.value[i]=="number"?r.value[i]:1}else if(n.length>0){this.model=e||"rgb",i=qc[this.model].channels;const r=Array.prototype.slice.call(n,0,i);this.color=D6(r,i),this.valpha=typeof n[i]=="number"?n[i]:1}else if(typeof n=="number")this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;const r=Object.keys(n);"alpha"in n&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);const a=r.sort().join("");if(!(a in T6))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=T6[a];const{labels:l}=qc[this.model],o=[];for(t=0;t<l.length;t++)o.push(n[l[t]]);this.color=D6(o)}if(k6[this.model])for(i=qc[this.model].channels,t=0;t<i;t++){const r=k6[this.model][t];r&&(this.color[t]=r(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}tc.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(n){let e=this.model in xc.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);const t=e.valpha===1?e.color:[...e.color,this.valpha];return xc.to[e.model](...t)},percentString(n){const e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:[...e.color,this.valpha];return xc.to.rgb.percent(...t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const n={},{channels:e}=qc[this.model],{labels:t}=qc[this.model];for(let i=0;i<e;i++)n[t[i]]=this.color[i];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray(){const n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject(){const n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round(n){return n=Math.max(n||0,0),new tc([...this.color.map(yZ(n)),this.valpha],this.model)},alpha(n){return n!==void 0?new tc([...this.color,Math.max(0,Math.min(1,n))],this.model):this.valpha},red:su("rgb",0,vc(255)),green:su("rgb",1,vc(255)),blue:su("rgb",2,vc(255)),hue:su(["hsl","hsv","hsl","hwb","hcg"],0,n=>(n%360+360)%360),saturationl:su("hsl",1,vc(100)),lightness:su("hsl",2,vc(100)),saturationv:su("hsv",1,vc(100)),value:su("hsv",2,vc(100)),chroma:su("hcg",1,vc(100)),gray:su("hcg",2,vc(100)),white:su("hwb",1,vc(100)),wblack:su("hwb",2,vc(100)),cyan:su("cmyk",0,vc(100)),magenta:su("cmyk",1,vc(100)),yellow:su("cmyk",2,vc(100)),black:su("cmyk",3,vc(100)),x:su("xyz",0,vc(95.047)),y:su("xyz",1,vc(100)),z:su("xyz",2,vc(108.833)),l:su("lab",0,vc(100)),a:su("lab",1),b:su("lab",2),keyword(n){return n!==void 0?new tc(n):qc[this.model].keyword(this.color)},hex(n){return n!==void 0?new tc(n):xc.to.hex(...this.rgb().round().color)},hexa(n){if(n!==void 0)return new tc(n);const e=this.rgb().round().color;let t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),xc.to.hex(...e)+t},rgbNumber(){const n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity(){const n=this.rgb().color,e=[];for(const[t,i]of n.entries()){const r=i/255;e[t]=r<=.04045?r/12.92:((r+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(n){const e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level(n){const e=this.contrast(n);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const n=this.rgb().color;return(n[0]*2126+n[1]*7152+n[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const n=this.rgb();for(let e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten(n){const e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken(n){const e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate(n){const e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate(n){const e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten(n){const e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken(n){const e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale(){const n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return tc.rgb(e,e,e)},fade(n){return this.alpha(this.valpha-this.valpha*n)},opaquer(n){return this.alpha(this.valpha+this.valpha*n)},rotate(n){const e=this.hsl();let t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);const t=n.rgb(),i=this.rgb(),r=e===void 0?.5:e,a=2*r-1,l=t.alpha()-i.alpha(),o=((a*l===-1?a:(a+l)/(1+a*l))+1)/2,p=1-o;return tc.rgb(o*t.red()+p*i.red(),o*t.green()+p*i.green(),o*t.blue()+p*i.blue(),t.alpha()*r+i.alpha()*(1-r))}};for(const n of Object.keys(qc)){if(uF.includes(n))continue;const{channels:e}=qc[n];tc.prototype[n]=function(...t){return this.model===n?new tc(this):t.length>0?new tc(t,n):new tc([...vZ(qc[this.model][n].raw(this.color)),this.valpha],n)},tc[n]=function(...t){let i=t[0];return typeof i=="number"&&(i=D6(t,e)),new tc(i,n)}}function gZ(n,e){return Number(n.toFixed(e))}function yZ(n){return function(e){return gZ(e,n)}}function su(n,e,t){n=Array.isArray(n)?n:[n];for(const i of n)(k6[i]||=[])[e]=t;return n=n[0],function(i){let r;return i!==void 0?(t&&(i=t(i)),r=this[n](),r.color[e]=i,r):(r=this[n]().color[e],t&&(r=t(r)),r)}}function vc(n){return function(e){return Math.max(0,Math.min(n,e))}}function vZ(n){return Array.isArray(n)?n:[n]}function D6(n,e){for(let t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}function ps(){var n="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",e="9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:8,column:4},end:{line:8,column:20}},4:{start:{line:9,column:4},end:{line:9,column:52}},5:{start:{line:10,column:4},end:{line:10,column:93}},6:{start:{line:11,column:4},end:{line:11,column:70}},7:{start:{line:12,column:4},end:{line:12,column:27}},8:{start:{line:13,column:4},end:{line:13,column:29}},9:{start:{line:14,column:4},end:{line:14,column:27}},10:{start:{line:17,column:4},end:{line:17,column:60}},11:{start:{line:20,column:4},end:{line:22,column:6}},12:{start:{line:23,column:4},end:{line:23,column:57}},13:{start:{line:24,column:4},end:{line:24,column:27}},14:{start:{line:27,column:4},end:{line:27,column:57}},15:{start:{line:27,column:33},end:{line:27,column:55}},16:{start:{line:28,column:4},end:{line:28,column:57}},17:{start:{line:28,column:33},end:{line:28,column:55}},18:{start:{line:29,column:4},end:{line:29,column:58}},19:{start:{line:29,column:34},end:{line:29,column:56}},20:{start:{line:32,column:4},end:{line:32,column:60}},21:{start:{line:33,column:4},end:{line:33,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:16},end:{line:6,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:13},end:{line:15,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:20},end:{line:18,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:18},end:{line:25,column:3}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:22},end:{line:30,column:3}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:27,column:27},end:{line:27,column:28}},loc:{start:{line:27,column:33},end:{line:27,column:55}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:28,column:27},end:{line:28,column:28}},loc:{start:{line:28,column:33},end:{line:28,column:55}},line:28},7:{name:"(anonymous_7)",decl:{start:{line:29,column:28},end:{line:29,column:29}},loc:{start:{line:29,column:34},end:{line:29,column:56}},line:29},8:{name:"(anonymous_8)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:13},end:{line:34,column:3}},line:31}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,cAAc;AAAA,EAAC;AAAA,EAEf,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,SAAS,OAAO;AACrB,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,SAAS,OAAe;AACtB,SAAK,WAAY,YAAY;AAAA,QACzB,KAAK;AAAA;AAET,SAAK,UAAU,KAAK,WAAY,cAAc,MAAM;AACpD,SAAK,gBAAgB;AAAA,EACvB;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return ps=function(){return l},l}ps();class CZ{_map=(ps().s[0]++,void 0);_container=(ps().s[1]++,void 0);_textEl=(ps().s[2]++,null);constructor(){ps().f[0]++}onAdd(e){return ps().f[1]++,ps().s[3]++,this._map=e,ps().s[4]++,this._container=document.createElement("div"),ps().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",ps().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),ps().s[7]++,this.setLabel("Zoom:"),ps().s[8]++,this.addEventListeners(),ps().s[9]++,this._container}updateZoomLevel(){ps().f[2]++,ps().s[10]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}setLabel(e){ps().f[3]++,ps().s[11]++,this._container.innerHTML=`
      ${e} <span></span>
    `,ps().s[12]++,this._textEl=this._container.querySelector("span"),ps().s[13]++,this.updateZoomLevel()}addEventListeners(){ps().f[4]++,ps().s[14]++,this._map.on("render",()=>(ps().f[5]++,ps().s[15]++,this.updateZoomLevel())),ps().s[16]++,this._map.on("zoomIn",()=>(ps().f[6]++,ps().s[17]++,this.updateZoomLevel())),ps().s[18]++,this._map.on("zoomOut",()=>(ps().f[7]++,ps().s[19]++,this.updateZoomLevel()))}onRemove(){ps().f[8]++,ps().s[20]++,this._container.parentNode.removeChild(this._container),ps().s[21]++,this._map=void 0}}function R6(n,e,t){const i={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(i["source-layer"]=t),i}function P6(n,e,t,i){const r={id:[t,i,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return i&&(r["source-layer"]=i),r}function K6(n,e,t){const i={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(i["source-layer"]=t),i}function _Z(n,e){const t=[],i=[],r=[];function a(l){return{circle:e(l,.8),line:e(l,.6),polygon:e(l,.3),polygonOutline:e(l,.6),default:e(l,1)}}return Object.keys(n).forEach(l=>{const o=n[l];if(!o||o.length===0){const p=a(l);i.push(R6(p.circle,l)),r.push(K6(p.line,l)),t.push(P6(p.polygon,p.polygonOutline,l))}else o.forEach(p=>{const C=a(p);i.push(R6(C.circle,l,p)),r.push(K6(C.line,l,p)),t.push(P6(C.polygon,C.polygonOutline,l,p))})}),t.concat(r).concat(i)}function bZ(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const i={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},r={};return Object.keys(n.sources).forEach(a=>{const l=n.sources[a];(l.type==="vector"||l.type==="geojson")&&(r[a]=l)}),Object.assign(n,{layers:[i].concat(e),sources:r})}const T4={polygonLayer:P6,lineLayer:K6,circleLayer:R6,generateInspectStyle:bZ,generateColoredLayers:_Z};function vo(){var n="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",e="aec0f701e803624fae461cc89b5fc887ff556587",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:18,column:84}},10:{start:{line:18,column:72},end:{line:18,column:84}},11:{start:{line:19,column:24},end:{line:19,column:51}},12:{start:{line:20,column:16},end:{line:20,column:52}},13:{start:{line:21,column:2},end:{line:23,column:3}},14:{start:{line:22,column:4},end:{line:22,column:104}},15:{start:{line:24,column:2},end:{line:26,column:3}},16:{start:{line:25,column:4},end:{line:25,column:96}},17:{start:{line:27,column:2},end:{line:29,column:3}},18:{start:{line:28,column:4},end:{line:28,column:94}},19:{start:{line:30,column:2},end:{line:30,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:31,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:18,column:84}},type:"if",locations:[{start:{line:18,column:2},end:{line:18,column:84}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:19,column:24},end:{line:19,column:51}},type:"binary-expr",locations:[{start:{line:19,column:24},end:{line:19,column:45}},{start:{line:19,column:49},end:{line:19,column:51}}],line:19},6:{loc:{start:{line:21,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:23,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},7:{loc:{start:{line:21,column:6},end:{line:21,column:62}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:27}},{start:{line:21,column:31},end:{line:21,column:62}}],line:21},8:{loc:{start:{line:24,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:24,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},9:{loc:{start:{line:24,column:6},end:{line:24,column:56}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:29}},{start:{line:24,column:33},end:{line:24,column:56}}],line:24},10:{loc:{start:{line:27,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:27,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS,SAAU,QAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aec0f701e803624fae461cc89b5fc887ff556587"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return vo=function(){return l},l}vo();function k4(n,e){return vo().f[0]++,vo().s[0]++,n.type==="circle"?(vo().b[0][0]++,vo().s[1]++,n.paint["circle-radius"]=3):(vo().b[0][1]++,vo().s[2]++,n.type==="line"?(vo().b[1][0]++,vo().s[3]++,n.paint["line-width"]=2):vo().b[1][1]++),vo().s[4]++,"filter"in e?(vo().b[2][0]++,vo().s[5]++,n.filter=e.filter):(vo().b[2][1]++,vo().s[6]++,delete n.filter),vo().s[7]++,n.id=n.id+"_highlight",vo().s[8]++,n}function xZ(n){if(vo().f[1]++,vo().s[9]++,vo().b[4][0]++,!n||(vo().b[4][1]++,n.type==="background")||(vo().b[4][2]++,n.type==="raster"))return vo().b[3][0]++,vo().s[10]++,null;vo().b[3][1]++;const e=(vo().s[11]++,vo().b[5][0]++,n["source-layer"]||(vo().b[5][1]++,"")),t=(vo().s[12]++,nF.brightColor(e,1));return vo().s[13]++,vo().b[7][0]++,n.type==="fill"||(vo().b[7][1]++,n.type==="fill-extrusion")?(vo().b[6][0]++,vo().s[14]++,k4(T4.polygonLayer(t,t,n.source,n["source-layer"]),n)):(vo().b[6][1]++,vo().s[15]++,vo().b[9][0]++,n.type==="symbol"||(vo().b[9][1]++,n.type==="circle")?(vo().b[8][0]++,vo().s[16]++,k4(T4.circleLayer(t,n.source,n["source-layer"]),n)):(vo().b[8][1]++,vo().s[17]++,n.type==="line"?(vo().b[10][0]++,vo().s[18]++,k4(T4.lineLayer(t,n.source,n["source-layer"]),n)):(vo().b[10][1]++,vo().s[19]++,null)))}function AO(){var n="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",e="a9dc98f82c73787713de0672aff7a601bfeb069d",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return AO=function(){return l},l}AO();AO().s[0]++;sv.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);function D4(n,e,t,i){function r(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function o(M){try{C(i.next(M))}catch(O){l(O)}}function p(M){try{C(i.throw(M))}catch(O){l(O)}}function C(M){M.done?a(M.value):r(M.value).then(o,p)}C((i=i.apply(n,e||[])).next())})}var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function t2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var R4,RI;function cF(){if(RI)return R4;RI=1,R4=e;var n=Object.prototype.hasOwnProperty;function e(){for(var t={},i=0;i<arguments.length;i++){var r=arguments[i];for(var a in r)n.call(r,a)&&(t[a]=r[a])}return t}return R4}var P4={exports:{}},PI;function MZ(){return PI||(PI=1,function(n,e){(function(){var t={};n.exports=t,t.simpleFilter=function(i,r){return r.filter(function(a){return t.test(i,a)})},t.test=function(i,r){return t.match(i,r)!==null},t.match=function(i,r,a){a=a||{};var l=0,o=[],p=r.length,C=0,M=0,O=a.pre||"",U=a.post||"",K=a.caseSensitive&&r||r.toLowerCase(),j;i=a.caseSensitive&&i||i.toLowerCase();for(var W=0;W<p;W++)j=r[W],K[W]===i[l]?(j=O+j+U,l+=1,M+=1+M):M=0,C+=M,o[o.length]=j;return l===i.length?(C=K===i?1/0:C,{rendered:o.join(""),score:C}):null},t.filter=function(i,r,a){return!r||r.length===0?[]:typeof i!="string"?r:(a=a||{},r.reduce(function(l,o,p,C){var M=o;a.extract&&(M=a.extract(o));var O=t.match(i,M,a);return O!=null&&(l[l.length]={string:O.rendered,score:O.score,index:p,original:o}),l},[]).sort(function(l,o){var p=o.score-l.score;return p||l.index-o.index}))}})()}(P4)),P4.exports}var K4,KI;function wZ(){if(KI)return K4;KI=1;var n=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};return n.prototype.show=function(){this.element.style.display="block"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.add=function(e){this.items.push(e)},n.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0},n.prototype.isEmpty=function(){return!this.items.length},n.prototype.isVisible=function(){return this.element.style.display==="block"},n.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()},n.prototype.drawItem=function(e,t){var i=document.createElement("li"),r=document.createElement("a");t&&(i.className+=" active"),r.innerHTML=e.string,i.appendChild(r),this.element.appendChild(i),i.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),i.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))},n.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},n.prototype.move=function(e){this.active=e,this.draw()},n.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)},n.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)},n.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},K4=n,K4}var U4,UI;function SZ(){if(UI)return U4;UI=1;var n=cF(),e=MZ(),t=wZ(),i=function(r,a,l){return l=l||{},this.options=n({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},l),this.el=r,this.data=a||[],this.list=new t(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(o){this.handleKeyUp(o.keyCode,o)}).bind(this),!1),this.el.addEventListener("keydown",(function(o){this.handleKeyDown(o)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(o){this.handlePaste(o)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};return i.prototype.handleKeyUp=function(r,a){if(!(r===40||r===38||r===27||r===9)){if(r===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),a.stopPropagation());return}this.handleInputChange(this.el.value)}},i.prototype.handleKeyDown=function(r){switch(r.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&r.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}},i.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},i.prototype.handlePaste=function(r){if(r.clipboardData)this.handleInputChange(r.clipboardData.getData("Text"));else{var a=this;setTimeout(function(){a.handleInputChange(r.target.value)},100)}},i.prototype.handleInputChange=function(r){if(this.query=this.normalize(r),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(a){for(var l=0;l<a.length&&(this.list.add(a[l]),l!==this.options.limit-1);l++);this.list.draw()}).bind(this))},i.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},i.prototype.update=function(r){this.data=r,this.handleKeyUp()},i.prototype.clear=function(){this.data=[],this.list.clear()},i.prototype.normalize=function(r){return r=r.toLowerCase(),r},i.prototype.match=function(r,a){return r.indexOf(a)>-1},i.prototype.value=function(r){if(this.selected=r,this.el.value=this.getItemValue(r||{place_name:this.query}),document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent("change",!0,!1),this.el.dispatchEvent(a)}else this.el.fireEvent("onchange")},i.prototype.getCandidates=function(r){var a={pre:"<strong>",post:"</strong>",extract:(function(o){return this.getItemValue(o)}).bind(this)},l;this.options.filter?(l=e.filter(this.query,this.data,a),l=l.map((function(o){return{original:o.original,string:this.render(o.original,o.string)}}).bind(this))):l=this.data.map((function(o){var p=this.render(o);return{original:o,string:p}}).bind(this)),r(l)},i.prototype.getItemValue=function(r){return r},i.prototype.render=function(r,a){if(a)return a;for(var l=r.original?this.getItemValue(r.original):this.getItemValue(r),o=this.normalize(l),p=o.lastIndexOf(this.query);p>-1;){var C=p+this.query.length;l=l.slice(0,p)+"<strong>"+l.slice(p,C)+"</strong>"+l.slice(C),p=o.slice(0,p).lastIndexOf(this.query)}return l},i.prototype.renderError=function(r){this.list.drawError(r)},U4=i,U4}var L4,LI;function EZ(){if(LI)return L4;LI=1;var n=SZ();return L4=n,typeof window<"u"&&(window.Suggestions=n),L4}var BZ=EZ(),OZ=t2(BZ),wx={exports:{}},IZ=wx.exports,FI;function TZ(){return FI||(FI=1,function(n){(function(e,t,i){n.exports?n.exports=i():e[t]=i()})(IZ,"subtag",function(){var e="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function i(p){return p.match(t)||[]}function r(p){return i(p).filter(function(C,M){return C&&M})}function a(p){return p=i(p),{language:p[1]||e,extlang:p[2]||e,script:p[3]||e,region:p[4]||e}}function l(p,C,M){Object.defineProperty(p,C,{value:M,enumerable:!0})}function o(p,C,M){function O(U){return i(U)[p]||e}l(O,"pattern",C),l(a,M,O)}return o(1,/^[a-zA-Z]{2,3}$/,"language"),o(2,/^[a-zA-Z]{3}$/,"extlang"),o(3,/^[a-zA-Z]{4}$/,"script"),o(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),l(a,"split",r),a})}(wx)),wx.exports}var kZ=TZ(),DZ=t2(kZ),F4,zI;function RZ(){if(zI)return F4;zI=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt,p=typeof Nb=="object"&&Nb&&Nb.Object===Object&&Nb,C=typeof self=="object"&&self&&self.Object===Object&&self,M=p||C||Function("return this")(),O=Object.prototype,U=O.toString,K=Math.max,j=Math.min,W=function(){return M.Date.now()};function Y($,ae,G){var ce,ge,ye,we,Ie,Se,Ve=0,xe=!1,ze=!1,st=!0;if(typeof $!="function")throw new TypeError(n);ae=ne(ae)||0,te(G)&&(xe=!!G.leading,ze="maxWait"in G,ye=ze?K(ne(G.maxWait)||0,ae):ye,st="trailing"in G?!!G.trailing:st);function Ct(Ut){var Fe=ce,Ke=ge;return ce=ge=void 0,Ve=Ut,we=$.apply(Ke,Fe),we}function nt(Ut){return Ve=Ut,Ie=setTimeout(tt,ae),xe?Ct(Ut):we}function be(Ut){var Fe=Ut-Se,Ke=Ut-Ve,Re=ae-Fe;return ze?j(Re,ye-Ke):Re}function Ne(Ut){var Fe=Ut-Se,Ke=Ut-Ve;return Se===void 0||Fe>=ae||Fe<0||ze&&Ke>=ye}function tt(){var Ut=W();if(Ne(Ut))return lt(Ut);Ie=setTimeout(tt,be(Ut))}function lt(Ut){return Ie=void 0,st&&ce?Ct(Ut):(ce=ge=void 0,we)}function kt(){Ie!==void 0&&clearTimeout(Ie),Ve=0,ce=Se=ge=Ie=void 0}function gt(){return Ie===void 0?we:lt(W())}function St(){var Ut=W(),Fe=Ne(Ut);if(ce=arguments,ge=this,Se=Ut,Fe){if(Ie===void 0)return nt(Se);if(ze)return Ie=setTimeout(tt,ae),Ct(Se)}return Ie===void 0&&(Ie=setTimeout(tt,ae)),we}return St.cancel=kt,St.flush=gt,St}function te($){var ae=typeof $;return!!$&&(ae=="object"||ae=="function")}function J($){return!!$&&typeof $=="object"}function oe($){return typeof $=="symbol"||J($)&&U.call($)==t}function ne($){if(typeof $=="number")return $;if(oe($))return e;if(te($)){var ae=typeof $.valueOf=="function"?$.valueOf():$;$=te(ae)?ae+"":ae}if(typeof $!="string")return $===0?$:+$;$=$.replace(i,"");var G=a.test($);return G||l.test($)?o($.slice(2),G?2:8):r.test($)?e:+$}return F4=Y,F4}var PZ=RZ(),KZ=t2(PZ),UZ=cF(),Qp=t2(UZ),Gb={exports:{}},jI;function LZ(){if(jI)return Gb.exports;jI=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function($,ae,G){return Function.prototype.apply.call($,ae,G)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:t=function($){return Object.getOwnPropertyNames($)};function i(ne){console&&console.warn&&console.warn(ne)}var r=Number.isNaN||function($){return $!==$};function a(){a.init.call(this)}Gb.exports=a,Gb.exports.once=te,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function o(ne){if(typeof ne!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ne)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(ne){if(typeof ne!="number"||ne<0||r(ne))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ne+".");l=ne}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||r($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function p(ne){return ne._maxListeners===void 0?a.defaultMaxListeners:ne._maxListeners}a.prototype.getMaxListeners=function(){return p(this)},a.prototype.emit=function($){for(var ae=[],G=1;G<arguments.length;G++)ae.push(arguments[G]);var ce=$==="error",ge=this._events;if(ge!==void 0)ce=ce&&ge.error===void 0;else if(!ce)return!1;if(ce){var ye;if(ae.length>0&&(ye=ae[0]),ye instanceof Error)throw ye;var we=new Error("Unhandled error."+(ye?" ("+ye.message+")":""));throw we.context=ye,we}var Ie=ge[$];if(Ie===void 0)return!1;if(typeof Ie=="function")e(Ie,this,ae);else for(var Se=Ie.length,Ve=j(Ie,Se),G=0;G<Se;++G)e(Ve[G],this,ae);return!0};function C(ne,$,ae,G){var ce,ge,ye;if(o(ae),ge=ne._events,ge===void 0?(ge=ne._events=Object.create(null),ne._eventsCount=0):(ge.newListener!==void 0&&(ne.emit("newListener",$,ae.listener?ae.listener:ae),ge=ne._events),ye=ge[$]),ye===void 0)ye=ge[$]=ae,++ne._eventsCount;else if(typeof ye=="function"?ye=ge[$]=G?[ae,ye]:[ye,ae]:G?ye.unshift(ae):ye.push(ae),ce=p(ne),ce>0&&ye.length>ce&&!ye.warned){ye.warned=!0;var we=new Error("Possible EventEmitter memory leak detected. "+ye.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");we.name="MaxListenersExceededWarning",we.emitter=ne,we.type=$,we.count=ye.length,i(we)}return ne}a.prototype.addListener=function($,ae){return C(this,$,ae,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function($,ae){return C(this,$,ae,!0)};function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(ne,$,ae){var G={fired:!1,wrapFn:void 0,target:ne,type:$,listener:ae},ce=M.bind(G);return ce.listener=ae,G.wrapFn=ce,ce}a.prototype.once=function($,ae){return o(ae),this.on($,O(this,$,ae)),this},a.prototype.prependOnceListener=function($,ae){return o(ae),this.prependListener($,O(this,$,ae)),this},a.prototype.removeListener=function($,ae){var G,ce,ge,ye,we;if(o(ae),ce=this._events,ce===void 0)return this;if(G=ce[$],G===void 0)return this;if(G===ae||G.listener===ae)--this._eventsCount===0?this._events=Object.create(null):(delete ce[$],ce.removeListener&&this.emit("removeListener",$,G.listener||ae));else if(typeof G!="function"){for(ge=-1,ye=G.length-1;ye>=0;ye--)if(G[ye]===ae||G[ye].listener===ae){we=G[ye].listener,ge=ye;break}if(ge<0)return this;ge===0?G.shift():W(G,ge),G.length===1&&(ce[$]=G[0]),ce.removeListener!==void 0&&this.emit("removeListener",$,we||ae)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function($){var ae,G,ce;if(G=this._events,G===void 0)return this;if(G.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):G[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete G[$]),this;if(arguments.length===0){var ge=Object.keys(G),ye;for(ce=0;ce<ge.length;++ce)ye=ge[ce],ye!=="removeListener"&&this.removeAllListeners(ye);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ae=G[$],typeof ae=="function")this.removeListener($,ae);else if(ae!==void 0)for(ce=ae.length-1;ce>=0;ce--)this.removeListener($,ae[ce]);return this};function U(ne,$,ae){var G=ne._events;if(G===void 0)return[];var ce=G[$];return ce===void 0?[]:typeof ce=="function"?ae?[ce.listener||ce]:[ce]:ae?Y(ce):j(ce,ce.length)}a.prototype.listeners=function($){return U(this,$,!0)},a.prototype.rawListeners=function($){return U(this,$,!1)},a.listenerCount=function(ne,$){return typeof ne.listenerCount=="function"?ne.listenerCount($):K.call(ne,$)},a.prototype.listenerCount=K;function K(ne){var $=this._events;if($!==void 0){var ae=$[ne];if(typeof ae=="function")return 1;if(ae!==void 0)return ae.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function j(ne,$){for(var ae=new Array($),G=0;G<$;++G)ae[G]=ne[G];return ae}function W(ne,$){for(;$+1<ne.length;$++)ne[$]=ne[$+1];ne.pop()}function Y(ne){for(var $=new Array(ne.length),ae=0;ae<$.length;++ae)$[ae]=ne[ae].listener||ne[ae];return $}function te(ne,$){return new Promise(function(ae,G){function ce(ye){ne.removeListener($,ge),G(ye)}function ge(){typeof ne.removeListener=="function"&&ne.removeListener("error",ce),ae([].slice.call(arguments))}oe(ne,$,ge,{once:!0}),$!=="error"&&J(ne,ce,{once:!0})})}function J(ne,$,ae){typeof ne.on=="function"&&oe(ne,"error",$,ae)}function oe(ne,$,ae,G){if(typeof ne.on=="function")G.once?ne.once($,ae):ne.on($,ae);else if(typeof ne.addEventListener=="function")ne.addEventListener($,function ce(ge){G.once&&ne.removeEventListener($,ce),ae(ge)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ne)}return Gb.exports}var FZ=LZ();const NI={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},zZ={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:"",es:"Buscar"},jZ={en:"No results found",de:"Keine Ergebnisse gefunden",es:"No hay resultados"},NZ={en:"There was an error reaching the server",de:"Verbindung fehlgeschlagen",es:"Error al conectarse al servidor"};var yC={placeholder:zZ,errorNoResults:jZ,errorConnectionFailed:NZ};const GZ=/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/;class WZ{constructor(e,t){this.options={zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:void 0,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,proximityMinZoom:9,getItemValue:i=>i.text!==void 0?i.text:i.place_name,render:function(i){if(!i.geometry){const a=i.text,l=a.toLowerCase().indexOf(this.query.toLowerCase()),o=this.query.length,p=a.substring(0,l),C=a.substring(l,l+o),M=a.substring(l+o);return'<div class="maplibregl-ctrl-geocoder--suggestion"><svg class="maplibregl-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="maplibregl-ctrl-geocoder--suggestion-info"><div class="maplibregl-ctrl-geocoder--suggestion-title">'+p+'<span class="maplibregl-ctrl-geocoder--suggestion-match">'+C+"</span>"+M+"</div></div></div>"}const r=i.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--result"><svg class="maplibregl-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="maplibregl-ctrl-geocoder--result-title">'+r[0]+'</div><div class="maplibregl-ctrl-geocoder--result-address">'+r.splice(1,r.length).join(",")+"</div></div></div>"},popupRender:i=>{const r=i.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--suggestion popup-suggestion"><div class="maplibregl-ctrl-geocoder--suggestion-title popup-suggestion-title">'+r[0]+'</div><div class="maplibregl-ctrl-geocoder--suggestion-address popup-suggestion-address">'+r.splice(1,r.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},this._eventEmitter=new FZ.EventEmitter,this.options=Qp({},this.options,t),this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}addTo(e){function t(i,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const a=i.onAdd();r.appendChild(a)}if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const i=document.querySelectorAll(e);if(i.length===0)throw new Error("Element "+e+"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,i[0])}else if("addControl"in e)e.addControl(this);else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")}onAdd(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);const t=this.container=document.createElement("div");t.className="maplibregl-ctrl-geocoder maplibregl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";const i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",KZ(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);const r=document.createElement("div");r.classList.add("maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("type","button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="maplibregl-ctrl-geocoder--button";const a=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(a),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(i),t.appendChild(this._inputEl),t.appendChild(r),this._typeahead=new OZ(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.container.addEventListener("click",()=>{this._typeahead.update(this._typeahead.data)}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t}createIcon(e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttribute("class","maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width","18"),i.setAttribute("height","18"),"innerHTML"in i)i.innerHTML=t;else{const r=document.createElement("div");r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";const a=r.firstChild,l=a.firstChild;i.appendChild(l)}return i}onRemove(){return this.container.remove(),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this}_onPaste(e){const t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)}_onKeyDown(e){if(e.keyCode===27&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();const a=this._inputEl.value;if(!a)return this.fresh=!0,e.keyCode!==9&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[9,27,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(a);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(a,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}a.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(a)}}_showButton(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")}_hideButton(){this._typeahead.selected&&(this._clearEl.style.display="none")}_onBlur(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()}_onChange(){const e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){let t;if(this._removeResultMarkers(),e.properties&&NI[e.properties.short_code])t=Qp({},this.options.flyTo),this._map&&this._map.fitBounds(NI[e.properties.short_code].bbox,t);else if(e.bbox){const i=e.bbox;t=Qp({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],t)}else{const i={zoom:this.options.zoom};t=Qp({},i,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}}_getConfigForRequest(){return["bbox","limit","proximity","countries","types","language","reverseMode"].reduce((i,r)=>(this.options[r]&&(["countries","types","language"].indexOf(r)>-1?i[r]=this.options[r].split(/[\s,]+/):i[r]=this.options[r],r==="proximity"&&this.options[r]&&typeof this.options[r].longitude=="number"&&typeof this.options[r].latitude=="number"&&(i[r]=[this.options[r].longitude,this.options[r].latitude])),i),{})}_geocode(e){return D4(this,arguments,void 0,function*(t,i=!1,r=!1){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});const a=this._getConfigForRequest(),l=this._createGeocodeRequest(a,t,i,r),o=this.options.localGeocoder?this.options.localGeocoder(t)||[]:[];try{const p=yield l;yield this._handleGeocodeResponse(p,a,t,i,o)}catch(p){this._handleGeocodeErrorResponse(p,o)}return l})}_createGeocodeRequest(e,t,i,r){return this.options.localGeocoderOnly?Promise.resolve({}):this.options.reverseGeocode&&GZ.test(t)?this._createReverseGeocodeRequest(t,e):(e.query=t,this.geocoderApi.getSuggestions?i?this.geocoderApi.searchByPlaceId&&r?this.geocoderApi.searchByPlaceId(e):this.geocoderApi.forwardGeocode(e):this.geocoderApi.getSuggestions(e):this.geocoderApi.forwardGeocode(e))}_createReverseGeocodeRequest(e,t){const i=e.split(/[\s(,)?]+/).map(r=>parseFloat(r)).reverse();return t.query=i,t.limit=1,"proximity"in t&&delete t.proximity,this.geocoderApi.reverseGeocode(t)}_handleGeocodeResponse(e,t,i,r,a){return D4(this,void 0,void 0,function*(){this._loadingEl.style.display="none";let l={};e?l=e:l={type:"FeatureCollection",features:[]},l.config=t,this.fresh&&(this.fresh=!1),l.features=l.features?a.concat(l.features):a;const o=this.options.externalGeocoder?this.options.externalGeocoder(i,l.features,t)||Promise.resolve([]):Promise.resolve([]);try{const C=yield o;l.features=l.features?C.concat(l.features):C}catch{}this.options.filter&&l.features.length&&(l.features=l.features.filter(this.options.filter));let p=[];"suggestions"in l?p=l.suggestions:"place"in l?p=[l.place]:p=l.features,p.length?(this._clearEl.style.display="block",this._typeahead.update(p),(!this.options.showResultsWhileTyping||r)&&this.options.showResultMarkers&&(l.features.length>0||"place"in l)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",l)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",l))})}_handleGeocodeErrorResponse(e,t){this._loadingEl.style.display="none",t.length&&this.options.localGeocoder?(this._clearEl.style.display="block",this._typeahead.update(t)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:t}),this._eventEmitter.emit("error",{error:e})}_clear(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0}clear(e){this._clear(e),this._inputEl.focus()}_clearOnBlur(e){e.relatedTarget&&this._clear(e)}_onQueryResult(e){if(!("features"in e)||!e.features.length)return;const t=e.features[0];this._typeahead.selected=t,this._inputEl.value=t.place_name,this._onChange()}_updateProximity(){if(this._map)if(this._map.getZoom()>this.options.proximityMinZoom){const e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)}_collapse(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("maplibregl-ctrl-geocoder--collapsed")}_unCollapse(){this.container.classList.remove("maplibregl-ctrl-geocoder--collapsed")}query(e){return D4(this,void 0,void 0,function*(){const t=yield this._geocode(e);this._onQueryResult(t)})}_renderError(){const e=`<div class='maplibre-gl-geocoder--error'>${this._localize("errorConnectionFailed")}</div>`;this._renderMessage(e)}_renderNoResults(){const e=`<div class='maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>
        ${this._localize("errorNoResults")}</div>`;this._renderMessage(e)}_renderMessage(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)}_localize(e){const t=DZ.language(this.options.language.split(",")[0]);return this.options.language&&yC?.[e][t]?yC[e][t]:yC[e].en}_fitBoundsForMarkers(){if(this._typeahead.data.length<1)return;const e=this._typeahead.data.filter(t=>typeof t!="string").slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){const i=Qp({},{padding:100},this.options.flyTo),r=new this._maplibregl.LngLatBounds;for(const a of e)r.extend(a.geometry.coordinates);this._map.fitBounds(r,i)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}setInput(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this}setProximity(e){return this.options.proximity=e,this}getProximity(){return this.options.proximity}setRenderFunction(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this}getRenderFunction(){return this._typeahead.render}setLanguage(e){return this.options.language=e||this.options.language||navigator.language,this}getLanguage(){return this.options.language}getZoom(){return this.options.zoom}setZoom(e){return this.options.zoom=e,this}getFlyTo(){return this.options.flyTo}setFlyTo(e){return this.options.flyTo=e,this}getPlaceholder(){return this.options.placeholder}setPlaceholder(e){return this.placeholder=e||this.options.placeholder||this._localize("placeholder"),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this}getBbox(){return this.options.bbox}setBbox(e){return this.options.bbox=e,this}getCountries(){return this.options.countries}setCountries(e){return this.options.countries=e,this}getTypes(){return this.options.types}setTypes(e){return this.options.types=e,this}getMinLength(){return this.options.minLength}setMinLength(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this}getLimit(){return this.options.limit}setLimit(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this}getFilter(){return this.options.filter}setFilter(e){return this.options.filter=e,this}setGeocoderApi(e){return this.geocoderApi=e,this}getGeocoderApi(){return this.geocoderApi}_handleMarker(e){if(!this._map)return;this._removeMarker();const i=Qp({},{color:"#4668F2"},this.options.marker);this.mapMarker=new this._maplibregl.Marker(i);let r;if(this.options.popup){const l=Qp({},{},this.options.popup);r=new this._maplibregl.Popup(l).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)),this}_removeMarker(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)}_handleResultMarkers(e){if(!this._map)return;this._removeResultMarkers();let i=Qp({},{color:"#4668F2"},this.options.showResultMarkers);for(const r of e){let a;if(this.options.showResultMarkers){this.options.showResultMarkers&&this.options.showResultMarkers.element&&(a=this.options.showResultMarkers.element.cloneNode(!0),i=Qp(i,{element:a}));const l=new this._maplibregl.Marker(Qp({},i,{element:a}));let o;if(this.options.popup){const C=Qp({},{},this.options.popup);o=new this._maplibregl.Popup(C).setHTML(this.options.popupRender(r))}r.center?(l.setLngLat(r.center).addTo(this._map),this.options.popup&&l.setPopup(o)):r.geometry&&r.geometry.type&&r.geometry.type==="Point"&&r.geometry.coordinates&&(l.setLngLat(r.geometry.coordinates).addTo(this._map),this.options.popup&&l.setPopup(o)),this.resultMarkers.push(l)}}return this}_removeResultMarkers(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])}on(e,t){return this._eventEmitter.on(e,t),this}once(e){return new Promise(t=>{this._eventEmitter.once(e,t)})}off(e,t){return this._eventEmitter.removeListener(e,t),this}}function bn(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",e="1655c5d10102378b1e2627d777374c6f3c3f21a7",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:21,column:26},end:{line:27,column:3}},1:{start:{line:28,column:16},end:{line:28,column:55}},2:{start:{line:29,column:2},end:{line:31,column:3}},3:{start:{line:30,column:4},end:{line:30,column:30}},4:{start:{line:32,column:18},end:{line:32,column:20}},5:{start:{line:33,column:2},end:{line:38,column:5}},6:{start:{line:34,column:19},end:{line:34,column:53}},7:{start:{line:35,column:4},end:{line:37,column:5}},8:{start:{line:36,column:6},end:{line:36,column:33}},9:{start:{line:39,column:23},end:{line:43,column:3}},10:{start:{line:44,column:2},end:{line:44,column:22}},11:{start:{line:47,column:24},end:{line:57,column:3}},12:{start:{line:58,column:14},end:{line:58,column:18}},13:{start:{line:60,column:4},end:{line:60,column:17}},14:{start:{line:61,column:4},end:{line:66,column:6}},15:{start:{line:67,column:4},end:{line:69,column:7}},16:{start:{line:68,column:6},end:{line:68,column:25}},17:{start:{line:72,column:17},end:{line:72,column:22}},18:{start:{line:73,column:4},end:{line:76,column:5}},19:{start:{line:74,column:6},end:{line:74,column:132}},20:{start:{line:77,column:4},end:{line:77,column:18}},21:{start:{line:80,column:16},end:{line:80,column:30}},22:{start:{line:81,column:28},end:{line:81,column:79}},23:{start:{line:82,column:4},end:{line:87,column:5}},24:{start:{line:83,column:6},end:{line:83,column:52}},25:{start:{line:84,column:6},end:{line:84,column:70}},26:{start:{line:85,column:6},end:{line:85,column:70}},27:{start:{line:86,column:6},end:{line:86,column:76}},28:{start:{line:88,column:4},end:{line:90,column:5}},29:{start:{line:89,column:6},end:{line:89,column:43}},30:{start:{line:91,column:4},end:{line:96,column:5}},31:{start:{line:92,column:6},end:{line:92,column:59}},32:{start:{line:93,column:6},end:{line:95,column:14}},33:{start:{line:94,column:8},end:{line:94,column:36}},34:{start:{line:99,column:20},end:{line:108,column:5}},35:{start:{line:109,column:21},end:{line:109,column:53}},36:{start:{line:110,column:4},end:{line:110,column:53}},37:{start:{line:111,column:16},end:{line:111,column:43}},38:{start:{line:112,column:26},end:{line:116,column:5}},39:{start:{line:113,column:21},end:{line:113,column:36}},40:{start:{line:114,column:19},end:{line:114,column:32}},41:{start:{line:115,column:6},end:{line:115,column:44}},42:{start:{line:117,column:4},end:{line:117,column:20}},43:{start:{line:118,column:4},end:{line:118,column:56}},44:{start:{line:119,column:4},end:{line:119,column:56}},45:{start:{line:120,column:4},end:{line:120,column:62}},46:{start:{line:121,column:21},end:{line:121,column:43}},47:{start:{line:122,column:24},end:{line:122,column:41}},48:{start:{line:123,column:4},end:{line:123,column:45}},49:{start:{line:124,column:16},end:{line:124,column:74}},50:{start:{line:125,column:4},end:{line:125,column:37}},51:{start:{line:126,column:20},end:{line:126,column:49}},52:{start:{line:127,column:17},end:{line:127,column:36}},53:{start:{line:128,column:25},end:{line:130,column:6}},54:{start:{line:131,column:20},end:{line:162,column:6}},55:{start:{line:139,column:8},end:{line:139,column:82}},56:{start:{line:141,column:62},end:{line:141,column:141}},57:{start:{line:143,column:8},end:{line:160,column:9}},58:{start:{line:144,column:10},end:{line:146,column:13}},59:{start:{line:145,column:12},end:{line:145,column:94}},60:{start:{line:147,column:10},end:{line:147,column:25}},61:{start:{line:149,column:10},end:{line:158,column:13}},62:{start:{line:150,column:12},end:{line:157,column:15}},63:{start:{line:159,column:10},end:{line:159,column:25}},64:{start:{line:163,column:4},end:{line:163,column:28}},65:{start:{line:164,column:4},end:{line:172,column:7}},66:{start:{line:165,column:6},end:{line:171,column:9}},67:{start:{line:173,column:4},end:{line:178,column:7}},68:{start:{line:174,column:6},end:{line:174,column:40}},69:{start:{line:174,column:33},end:{line:174,column:40}},70:{start:{line:175,column:6},end:{line:177,column:9}},71:{start:{line:179,column:4},end:{line:181,column:7}},72:{start:{line:180,column:6},end:{line:180,column:30}},73:{start:{line:182,column:4},end:{line:186,column:7}},74:{start:{line:183,column:6},end:{line:185,column:9}},75:{start:{line:187,column:4},end:{line:187,column:37}},76:{start:{line:188,column:4},end:{line:188,column:37}},77:{start:{line:190,column:22},end:{line:193,column:3}},78:{start:{line:191,column:18},end:{line:191,column:82}},79:{start:{line:191,column:66},end:{line:191,column:81}},80:{start:{line:192,column:4},end:{line:192,column:36}},81:{start:{line:195,column:27},end:{line:228,column:5}},82:{start:{line:197,column:25},end:{line:197,column:27}},83:{start:{line:198,column:8},end:{line:223,column:9}},84:{start:{line:199,column:26},end:{line:199,column:138}},85:{start:{line:200,column:27},end:{line:200,column:47}},86:{start:{line:201,column:26},end:{line:201,column:47}},87:{start:{line:202,column:10},end:{line:220,column:11}},88:{start:{line:203,column:27},end:{line:206,column:13}},89:{start:{line:207,column:26},end:{line:218,column:13}},90:{start:{line:219,column:12},end:{line:219,column:33}},91:{start:{line:222,column:10},end:{line:222,column:69}},92:{start:{line:224,column:8},end:{line:226,column:10}},93:{start:{line:229,column:21},end:{line:232,column:6}},94:{start:{line:233,column:4},end:{line:233,column:41}},95:{start:{line:234,column:4},end:{line:234,column:20}},96:{start:{line:237,column:14},end:{line:237,column:26}},97:{start:{line:238,column:4},end:{line:238,column:53}},98:{start:{line:239,column:4},end:{line:239,column:49}},99:{start:{line:240,column:4},end:{line:251,column:6}},100:{start:{line:247,column:10},end:{line:247,column:29}},101:{start:{line:254,column:22},end:{line:254,column:62}}},fnMap:{0:{name:"buildInspectStyle",decl:{start:{line:20,column:9},end:{line:20,column:26}},loc:{start:{line:20,column:78},end:{line:45,column:1}},line:20},1:{name:"(anonymous_1)",decl:{start:{line:33,column:48},end:{line:33,column:49}},loc:{start:{line:33,column:62},end:{line:38,column:3}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:48,column:17},end:{line:48,column:18}},loc:{start:{line:48,column:23},end:{line:49,column:5}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:50,column:18},end:{line:50,column:19}},loc:{start:{line:50,column:24},end:{line:51,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:52,column:19},end:{line:52,column:20}},loc:{start:{line:52,column:25},end:{line:53,column:5}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:20},end:{line:55,column:5}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:21},end:{line:70,column:3}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:67,column:34},end:{line:67,column:35}},loc:{start:{line:67,column:40},end:{line:69,column:5}},line:67},8:{name:"(anonymous_8)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:46},end:{line:78,column:3}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:79,column:2},end:{line:79,column:3}},loc:{start:{line:79,column:23},end:{line:97,column:3}},line:79},10:{name:"(anonymous_10)",decl:{start:{line:93,column:17},end:{line:93,column:18}},loc:{start:{line:93,column:23},end:{line:95,column:7}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:22},end:{line:189,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:112,column:26},end:{line:112,column:27}},loc:{start:{line:112,column:32},end:{line:116,column:5}},line:112},13:{name:"(anonymous_13)",decl:{start:{line:138,column:24},end:{line:138,column:25}},loc:{start:{line:138,column:44},end:{line:140,column:7}},line:138},14:{name:"(anonymous_14)",decl:{start:{line:141,column:25},end:{line:141,column:26}},loc:{start:{line:141,column:62},end:{line:141,column:141}},line:141},15:{name:"(anonymous_15)",decl:{start:{line:142,column:19},end:{line:142,column:20}},loc:{start:{line:142,column:33},end:{line:161,column:7}},line:142},16:{name:"(anonymous_16)",decl:{start:{line:144,column:36},end:{line:144,column:37}},loc:{start:{line:144,column:42},end:{line:146,column:11}},line:144},17:{name:"(anonymous_17)",decl:{start:{line:149,column:36},end:{line:149,column:37}},loc:{start:{line:149,column:42},end:{line:158,column:11}},line:149},18:{name:"(anonymous_18)",decl:{start:{line:164,column:25},end:{line:164,column:26}},loc:{start:{line:164,column:31},end:{line:172,column:5}},line:164},19:{name:"(anonymous_19)",decl:{start:{line:173,column:19},end:{line:173,column:20}},loc:{start:{line:173,column:26},end:{line:178,column:5}},line:173},20:{name:"(anonymous_20)",decl:{start:{line:179,column:20},end:{line:179,column:21}},loc:{start:{line:179,column:27},end:{line:181,column:5}},line:179},21:{name:"(anonymous_21)",decl:{start:{line:182,column:19},end:{line:182,column:20}},loc:{start:{line:182,column:27},end:{line:186,column:5}},line:182},22:{name:"(anonymous_22)",decl:{start:{line:190,column:22},end:{line:190,column:23}},loc:{start:{line:190,column:30},end:{line:193,column:3}},line:190},23:{name:"(anonymous_23)",decl:{start:{line:191,column:55},end:{line:191,column:56}},loc:{start:{line:191,column:66},end:{line:191,column:81}},line:191},24:{name:"(anonymous_24)",decl:{start:{line:194,column:2},end:{line:194,column:3}},loc:{start:{line:194,column:20},end:{line:235,column:3}},line:194},25:{name:"(anonymous_25)",decl:{start:{line:196,column:22},end:{line:196,column:23}},loc:{start:{line:196,column:40},end:{line:227,column:7}},line:196},26:{name:"(anonymous_26)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:11},end:{line:252,column:3}},line:236},27:{name:"(anonymous_27)",decl:{start:{line:246,column:13},end:{line:246,column:14}},loc:{start:{line:246,column:20},end:{line:248,column:9}},line:246}},branchMap:{0:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},1:{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},2:{loc:{start:{line:35,column:8},end:{line:35,column:64}},type:"binary-expr",locations:[{start:{line:35,column:8},end:{line:35,column:32}},{start:{line:35,column:36},end:{line:35,column:64}}],line:35},3:{loc:{start:{line:74,column:15},end:{line:74,column:131}},type:"binary-expr",locations:[{start:{line:74,column:15},end:{line:74,column:71}},{start:{line:74,column:75},end:{line:74,column:131}}],line:74},4:{loc:{start:{line:82,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:82,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:82},5:{loc:{start:{line:88,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:90,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},6:{loc:{start:{line:88,column:8},end:{line:88,column:98}},type:"binary-expr",locations:[{start:{line:88,column:8},end:{line:88,column:26}},{start:{line:88,column:30},end:{line:88,column:98}}],line:88},7:{loc:{start:{line:91,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:91},8:{loc:{start:{line:91,column:8},end:{line:91,column:59}},type:"binary-expr",locations:[{start:{line:91,column:8},end:{line:91,column:26}},{start:{line:91,column:30},end:{line:91,column:59}}],line:91},9:{loc:{start:{line:143,column:8},end:{line:160,column:9}},type:"if",locations:[{start:{line:143,column:8},end:{line:160,column:9}},{start:{line:148,column:15},end:{line:160,column:9}}],line:143},10:{loc:{start:{line:174,column:6},end:{line:174,column:40}},type:"if",locations:[{start:{line:174,column:6},end:{line:174,column:40}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AA8LwB;AA9LxB,OAAO,WAAW;AAClB,SAAQ,kBAAiB;AACzB,OAAO,gBAAsI;AAC7I,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAAgE;AACvE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAAgC,6BAA6B;AAC7D,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,sBAAoF;AAC3F,OAAO;AACP,SAAS,uBAA6C;AACtD,OAAO,aAAa;AACpB,SAAS,gBAAgB;AAEzB,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAyBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA,MACV,aAAa;AAAA,IACf;AACA,YAAQ,GAAG,mBAAmB,MAAM;AAClC,WAAK,YAAY;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAGA,sBAAsB,WAAuC,WAA+B;AAC1F,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,IAAI;AAAA,IAEZ;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EAEF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,UAAM,WAAW,IAAI,SAAS,EAAC,UAAU,KAAI,CAAC;AAC9C,eAAW,YAAY,WAAU,SAAS,IAAI;AAC9C,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,UAAM,WAAW,KAAK,aAAa,GAAG;AAEtC,UAAM,cAAc,IAAI,YAAY;AACpC,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,UAAM,OAAO,WAAW,OAAO;AAE/B,UAAM,eAAe,IAAI,WAAW,MAAM;AAAA,MACxC,cAAc;AAAA,IAChB,CAAC;AAED,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO;AAAA,MACP,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,uBAAa,KAAK,QAAQ,MAAM;AAC9B,iBAAK,OAAO,oBAAC,qCAAkC,UAAoB,CAAE;AAAA,UACvE,CAAC;AACD,iBAAO;AAAA,QACT,OAAO;AACL,uBAAa,KAAK,QAAQ,MAAM;AAC9B,iBAAK,OAAO;AAAA,cAAC;AAAA;AAAA,gBACX;AAAA,gBACA,eAAe,KAAK;AAAA,gBACpB,MAAM,KAAK,MAAM;AAAA;AAAA,YACnB,CAAG;AAAA,UACL,CAAC;AACD,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa,OAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAAsC;AAC3D,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB;AAAA,MACpD,aAAa,KAAK,MAAM,EAAE,QAAQ;AAAA,MAClC,YAAY;AAAA,IACd,CAAC;AACD,QAAI,WAAW,UAAU,UAAU;AACnC,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,SAAK,MAAM,UAAU,eAAe,EAAE,QAAQ,CAAC;AAC/C,SAAK,MAAM,aAAa,SAAS,EAAE,OAAO,CAAC;AAC3C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAY,EAAE,UAAU;AAAA,QACxB,KAAK,OAAK;AAAC,eAAK,YAAY;AAAA,QAAE;AAAA,QAC9B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1655c5d10102378b1e2627d777374c6f3c3f21a7"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return bn=function(){return l},l}bn();function QZ(n,e,t){bn().f[0]++;const i=(bn().s[0]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),r=(bn().s[1]++,xZ(t));bn().s[2]++,r?(bn().b[0][0]++,bn().s[3]++,e.push(r)):bn().b[0][1]++;const a=(bn().s[4]++,{});bn().s[5]++,Object.keys(n.sources).forEach(o=>{bn().f[1]++;const p=(bn().s[6]++,n.sources[o]);bn().s[7]++,bn().b[2][0]++,p.type!=="raster"&&(bn().b[2][1]++,p.type!=="raster-dem")?(bn().b[1][0]++,bn().s[8]++,a[o]=p):bn().b[1][1]++});const l=(bn().s[9]++,{...n,sources:a,layers:[i].concat(e)});return bn().s[10]++,l}class YZ extends ni.Component{static defaultProps=(bn().s[11]++,{onMapLoaded:()=>{bn().f[2]++},onDataChange:()=>{bn().f[3]++},onLayerSelect:()=>{bn().f[4]++},onChange:()=>{bn().f[5]++},options:{}});container=(bn().s[12]++,null);constructor(e){bn().f[6]++,bn().s[13]++,super(e),bn().s[14]++,this.state={map:null,inspect:null,geocoder:null,zoomControl:null},bn().s[15]++,gh.on("languageChanged",()=>{bn().f[7]++,bn().s[16]++,this.forceUpdate()})}shouldComponentUpdate(e,t){bn().f[8]++;let i=(bn().s[17]++,!1);bn().s[18]++;try{bn().s[19]++,i=(bn().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(e)||(bn().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(t)))}catch{}return bn().s[20]++,i}componentDidUpdate(){bn().f[9]++;const e=(bn().s[21]++,this.state.map),t=(bn().s[22]++,this.props.replaceAccessTokens(this.props.mapStyle));bn().s[23]++,e?(bn().b[4][0]++,bn().s[24]++,e.setStyle(t,{diff:!0}),bn().s[25]++,e.showTileBoundaries=this.props.options?.showTileBoundaries,bn().s[26]++,e.showCollisionBoxes=this.props.options?.showCollisionBoxes,bn().s[27]++,e.showOverdrawInspector=this.props.options?.showOverdrawInspector):bn().b[4][1]++,bn().s[28]++,bn().b[6][0]++,this.state.inspect&&(bn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(bn().b[5][0]++,bn().s[29]++,this.state.inspect.toggleInspector()):bn().b[5][1]++,bn().s[30]++,bn().b[8][0]++,this.state.inspect&&(bn().b[8][1]++,this.props.inspectModeEnabled)?(bn().b[7][0]++,bn().s[31]++,this.state.inspect.setOriginalStyle(t),bn().s[32]++,setTimeout(()=>{bn().f[10]++,bn().s[33]++,this.state.inspect.render()},500)):bn().b[7][1]++}componentDidMount(){bn().f[11]++;const e=(bn().s[34]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1}),t=(bn().s[35]++,new AY({metadata:!0}));bn().s[36]++,sv.addProtocol("pmtiles",t.tile);const i=(bn().s[37]++,new sv.Map(e));bn().s[38]++;const r=()=>{bn().f[12]++;const U=(bn().s[39]++,i.getCenter()),K=(bn().s[40]++,i.getZoom());bn().s[41]++,this.props.onChange({center:U,zoom:K})};bn().s[42]++,r(),bn().s[43]++,i.showTileBoundaries=e.showTileBoundaries,bn().s[44]++,i.showCollisionBoxes=e.showCollisionBoxes,bn().s[45]++,i.showOverdrawInspector=e.showOverdrawInspector;const a=(bn().s[46]++,this.initGeocoder(i)),l=(bn().s[47]++,new CZ);bn().s[48]++,i.addControl(l,"top-right");const o=(bn().s[49]++,new sv.NavigationControl({visualizePitch:!0}));bn().s[50]++,i.addControl(o,"top-right");const p=(bn().s[51]++,document.createElement("div")),C=(bn().s[52]++,PU.createRoot(p)),M=(bn().s[53]++,new sv.Popup({closeOnClick:!1})),O=(bn().s[54]++,new lO({popup:M,showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(U,K)=>(bn().f[13]++,bn().s[55]++,tc(nF.brightColor(U,K)).desaturate(.5).string()),buildInspectStyle:(U,K)=>(bn().f[14]++,bn().s[56]++,QZ(U,K,this.props.highlightedLayer)),renderPopup:U=>(bn().f[15]++,bn().s[57]++,this.props.inspectModeEnabled?(bn().b[9][0]++,bn().s[58]++,M.once("open",()=>{bn().f[16]++,bn().s[59]++,C.render(Ae.jsx(sZ,{features:U}))}),bn().s[60]++,p):(bn().b[9][1]++,bn().s[61]++,M.once("open",()=>{bn().f[17]++,bn().s[62]++,C.render(Ae.jsx(sF,{features:U,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}))}),bn().s[63]++,p))}));bn().s[64]++,i.addControl(O),bn().s[65]++,i.on("style.load",()=>{bn().f[18]++,bn().s[66]++,this.setState({map:i,inspect:O,geocoder:a,zoomControl:l,zoom:i.getZoom()})}),bn().s[67]++,i.on("data",U=>{if(bn().f[19]++,bn().s[68]++,U.dataType!=="tile"){bn().b[10][0]++,bn().s[69]++;return}else bn().b[10][1]++;bn().s[70]++,this.props.onDataChange({map:this.state.map})}),bn().s[71]++,i.on("error",U=>{bn().f[20]++,bn().s[72]++,console.log("ERROR",U)}),bn().s[73]++,i.on("zoom",U=>{bn().f[21]++,bn().s[74]++,this.setState({zoom:i.getZoom()})}),bn().s[75]++,i.on("dragend",r),bn().s[76]++,i.on("zoomend",r)}onLayerSelectById=(bn().s[77]++,e=>{bn().f[22]++;const t=(bn().s[78]++,this.props.mapStyle.layers.findIndex(i=>(bn().f[23]++,bn().s[79]++,i.id===e)));bn().s[80]++,this.props.onLayerSelect(t)});initGeocoder(e){bn().f[24]++;const t=(bn().s[81]++,{forwardGeocode:async r=>{bn().f[25]++;const a=(bn().s[82]++,[]);bn().s[83]++;try{const l=(bn().s[84]++,`https://nominatim.openstreetmap.org/search?q=${r.query}&format=geojson&polygon_geojson=1&addressdetails=1`),o=(bn().s[85]++,await fetch(l)),p=(bn().s[86]++,await o.json());bn().s[87]++;for(const C of p.features){const M=(bn().s[88]++,[C.bbox[0]+(C.bbox[2]-C.bbox[0])/2,C.bbox[1]+(C.bbox[3]-C.bbox[1])/2]),O=(bn().s[89]++,{type:"Feature",geometry:{type:"Point",coordinates:M},place_name:C.properties.display_name,properties:C.properties,text:C.properties.display_name,place_type:["place"],center:M});bn().s[90]++,a.push(O)}}catch(l){bn().s[91]++,console.error(`Failed to forwardGeocode with error: ${l}`)}return bn().s[92]++,{features:a}}}),i=(bn().s[93]++,new WZ(t,{placeholder:this.props.t("Search"),maplibregl:sv}));return bn().s[94]++,e.addControl(i,"top-left"),bn().s[95]++,i}render(){bn().f[26]++;const e=(bn().s[96]++,this.props.t);return bn().s[97]++,this.state.geocoder?.setPlaceholder(e("Search")),bn().s[98]++,this.state.zoomControl?.setLabel(e("Zoom:")),bn().s[99]++,Ae.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":e("Map view"),ref:t=>{bn().f[27]++,bn().s[100]++,this.container=t},"data-wd-key":"maplibre:map"})}}const qZ=(bn().s[101]++,es()(YZ));var GI={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},vC=" ",WI=/(italic|oblique)$/i,QI={};function U6(n,e,t){var i=QI[n];if(!i){Array.isArray(n)||(n=[n]);for(var r=400,a="normal",l=[],o,p,C=0,M=n.length;C<M;++C){var O=n[C],U=O.split(" "),K=U[U.length-1].toLowerCase();K=="normal"||K=="italic"||K=="oblique"?(a=p?a:K,p=!0,U.pop(),K=U[U.length-1].toLowerCase()):WI.test(K)&&(K=K.replace(WI,""),a=p?a:U[U.length-1].replace(K,""),p=!0);for(var j in GI){var W=U.length>1?U[U.length-2].toLowerCase():"";if(K==j||K==j.replace("-","")||W+"-"+K==j){r=o?r:GI[j],U.pop(),W&&j.startsWith(W)&&U.pop();break}}!o&&typeof K=="number"&&(r=K,o=!0);var Y=U.join(vC).replace("Klokantech Noto Sans","Noto Sans").replace("DIN Pro","Barlow").replace("Arial Unicode MS","Arial");Y.indexOf(vC)!==-1&&(Y='"'+Y+'"'),l.push(Y)}i=QI[n]=[a,r,l]}return i[0]+vC+i[1]+vC+e+"px"+(t?"/"+t:"")+vC+i[2]}const Wd={ADD:"add",REMOVE:"remove"},Dv={PROPERTYCHANGE:"propertychange"},po={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Ab{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function HZ(n,e,t){let i,r;t=t||Zm;let a=0,l=n.length,o=!1;for(;a<l;)i=a+(l-a>>1),r=+t(n[i],e),r<0?a=i+1:(l=i,o=!r);return o?a:~a}function Zm(n,e){return n>e?1:n<e?-1:0}function VZ(n,e){return n<e?1:n>e?-1:0}function n2(n,e,t){if(n[0]<=e)return 0;const i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const a=n[r];if(a===e)return r;if(a<e)return t(e,n[r-1],a)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function $Z(n,e,t){for(;e<t;){const i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Xm(n,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function Gg(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function ZZ(n,e,t){const i=e||Zm;return n.every(function(r,a){if(a===0)return!0;const l=i(n[a-1],r);return!(l>0||l===0)})}function w_(){return!0}function i2(){return!1}function S_(){}function hF(n){let e,t,i;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==i||!Gg(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function Rv(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function ub(n){for(const e in n)delete n[e]}function jg(n){let e;for(e in n)return!1;return!e}class um{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class cb extends Ab{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const a=t?new um(e):e;a.target||(a.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});i in l||(l[i]=0,o[i]=0),++l[i];let p;for(let C=0,M=r.length;C<M;++C)if("handleEvent"in r[C]?p=r[C].handleEvent(a):p=r[C].call(this,a),p===!1||a.propagationStopped){p=!1;break}if(--l[i]===0){let C=o[i];for(delete o[i];C--;)this.removeEventListener(i,S_);delete l[i]}return p}disposeInternal(){this.listeners_&&ub(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=S_,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function Ja(n,e,t,i,r){if(r){const l=t;t=function(o){return n.removeEventListener(e,t),l.call(i??this,o)}}else i&&i!==n&&(t=t.bind(i));const a={target:n,type:e,listener:t};return n.addEventListener(e,t),a}function Zx(n,e,t,i){return Ja(n,e,t,i,!0)}function Ol(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),ub(n))}class hb extends cb{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(po.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=Ja(this,e[a],t);return r}return Ja(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let a=0;a<r;++a)i[a]=Zx(this,e[a],t)}else i=Zx(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)XZ(i);else if(Array.isArray(e))for(let r=0,a=e.length;r<a;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}hb.prototype.on;hb.prototype.once;hb.prototype.un;function XZ(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Ol(n[e]);else Ol(n)}function Co(){throw new Error("Unimplemented abstract method.")}let JZ=0;function To(n){return n.ol_uid||(n.ol_uid=String(++JZ))}class YI extends um{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class cm extends hb{constructor(e){super(),this.on,this.once,this.un,To(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new YI(i,e,t)),i=Dv.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new YI(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const a=r[e];r[e]=t,a!==t&&this.notify(e,a)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],jg(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const qI={LENGTH:"length"};class Wb extends um{constructor(e,t,i){super(e),this.element=t,this.index=i}}class Wm extends cm{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(qI.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Wb(Wd.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Wb(Wd.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Wb(Wd.REMOVE,r,e)),this.dispatchEvent(new Wb(Wd.ADD,t,e))}updateLength_(){this.set(qI.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}}class lv extends um{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class yg extends lv{constructor(e,t,i,r,a,l){super(e,t,a),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const lu={SINGLECLICK:"singleclick",CLICK:po.CLICK,DBLCLICK:po.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Q1=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",eX=Q1.includes("safari")&&!Q1.includes("chrom");eX&&(Q1.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Q1));const tX=Q1.includes("webkit")&&!Q1.includes("edge"),dF=Q1.includes("macintosh"),nX=typeof devicePixelRatio<"u"?devicePixelRatio:1,uO=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,fF=typeof Image<"u"&&Image.prototype.decode,iX=typeof createImageBitmap=="function",pF=function(){let n=!1;try{const e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}(),L6={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class rX extends cb{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Ja(i,L6.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ja(i,L6.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(po.TOUCHMOVE,this.boundHandleTouchMove_,pF?{passive:!1}:!1)}emulateClick_(e){let t=new yg(lu.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new yg(lu.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new yg(lu.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==lu.POINTERUP||t.type==lu.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==lu.POINTERDOWN||t.type==lu.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new yg(lu.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ol),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new yg(lu.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ja(i,lu.POINTERMOVE,this.handlePointerMove_,this),Ja(i,lu.POINTERUP,this.handlePointerUp_,this),Ja(this.element_,lu.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ja(this.element_.getRootNode(),lu.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new yg(lu.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new yg(lu.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ol(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(po.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ol(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ol),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const I0={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Lh={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Pi={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ss(n,e){if(!n)throw new Error(e)}const Xx=1/0;class oX{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ub(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Ss(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Xx?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,a=t[e],l=i[e],o=e;for(;e<r>>1;){const p=this.getLeftChildIndex_(e),C=this.getRightChildIndex_(e),M=C<r&&i[C]<i[p]?C:p;t[e]=t[M],i[e]=i[M],e=M}t[e]=a,i[e]=l,this.siftDown_(o,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,a=i[t],l=r[t];for(;t>e;){const o=this.getParentIndex_(t);if(r[o]>l)i[t]=i[o],r[t]=r[o],t=o;else break}i[t]=a,r[t]=l}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const a=t.length;let l,o,p;for(o=0;o<a;++o)l=t[o],p=e(l),p==Xx?delete this.queuedElements_[this.keyFunction_(l)]:(i[r]=p,t[r++]=l);t.length=r,i.length=r,this.heapify_()}}class mF extends oX{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(po.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===Pi.LOADED||i===Pi.ERROR||i===Pi.EMPTY){i!==Pi.ERROR&&t.removeEventListener(po.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const r=this.dequeue()[0],a=r.getKey();r.getState()===Pi.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,r.load())}}}function aX(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return Xx;const a=n.viewState.center,l=i[0]-a[0],o=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(l*l+o*o)/r}const CA={ANIMATING:0,INTERACTING:1},Yp={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function GA(n,e,t){return Math.min(Math.max(n,e),t)}function sX(n,e,t,i,r,a){const l=r-t,o=a-i;if(l!==0||o!==0){const p=((n-t)*l+(e-i)*o)/(l*l+o*o);p>1?(t=r,i=a):p>0&&(t+=l*p,i+=o*p)}return L1(n,e,t,i)}function L1(n,e,t,i){const r=t-n,a=i-e;return r*r+a*a}function lX(n){const e=n.length;for(let i=0;i<e;i++){let r=i,a=Math.abs(n[i][i]);for(let o=i+1;o<e;o++){const p=Math.abs(n[o][i]);p>a&&(a=p,r=o)}if(a===0)return null;const l=n[r];n[r]=n[i],n[i]=l;for(let o=i+1;o<e;o++){const p=-n[o][i]/n[i][i];for(let C=i;C<e+1;C++)i==C?n[o][C]=0:n[o][C]+=p*n[i][C]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function HI(n){return n*180/Math.PI}function Kg(n){return n*Math.PI/180}function F1(n,e){const t=n%e;return t*e<0?t+e:t}function _f(n,e,t){return n+t*(e-n)}function r2(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}function Qb(n,e){return Math.floor(r2(n,e))}function Eg(n,e){return Math.ceil(r2(n,e))}function F6(n,e,t){if(n>=e&&n<t)return n;const i=t-e;return((n-e)%i+i)%i+e}function VI(n,e,t){return function(i,r,a,l,o){if(!i)return;if(!r&&!e)return i;const p=e?0:a[0]*r,C=e?0:a[1]*r,M=o?o[0]:0,O=o?o[1]:0;let U=n[0]+p/2+M,K=n[2]-p/2+M,j=n[1]+C/2+O,W=n[3]-C/2+O;U>K&&(U=(K+U)/2,K=U),j>W&&(j=(W+j)/2,W=j);let Y=GA(i[0],U,K),te=GA(i[1],j,W);if(l&&t&&r){const J=30*r;Y+=-J*Math.log(1+Math.max(0,U-i[0])/J)+J*Math.log(1+Math.max(0,i[0]-K)/J),te+=-J*Math.log(1+Math.max(0,j-i[1])/J)+J*Math.log(1+Math.max(0,i[1]-W)/J)}return[Y,te]}}function AX(n){return n}const Wc={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function z6(n){const e=xp();for(let t=0,i=n.length;t<i;++t)i_(e,n[t]);return e}function uX(n,e,t){const i=Math.min.apply(null,n),r=Math.min.apply(null,e),a=Math.max.apply(null,n),l=Math.max.apply(null,e);return U0(i,r,a,l,t)}function Ug(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function gF(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function X1(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Y1(n,e){return cO(n,e[0],e[1])}function Qm(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function cO(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function j6(n,e){const t=n[0],i=n[1],r=n[2],a=n[3],l=e[0],o=e[1];let p=Wc.UNKNOWN;return l<t?p=p|Wc.LEFT:l>r&&(p=p|Wc.RIGHT),o<i?p=p|Wc.BELOW:o>a&&(p=p|Wc.ABOVE),p===Wc.UNKNOWN&&(p=Wc.INTERSECTING),p}function xp(){return[1/0,1/0,-1/0,-1/0]}function U0(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function Hv(n){return U0(1/0,1/0,-1/0,-1/0,n)}function yF(n,e){const t=n[0],i=n[1];return U0(t,i,t,i,e)}function hO(n,e,t,i,r){const a=Hv(r);return CF(a,n,e,t,i)}function L0(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function vF(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function i_(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function CF(n,e,t,i,r){for(;t<i;t+=r)cX(n,e[t],e[t+1]);return n}function cX(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function _F(n,e){let t;return t=e(o2(n)),t||(t=e(a2(n)),t)||(t=e(s2(n)),t)||(t=e(N0(n)),t)?t:!1}function N6(n){let e=0;return J1(n)||(e=us(n)*rc(n)),e}function o2(n){return[n[0],n[1]]}function a2(n){return[n[2],n[1]]}function If(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function hX(n,e){let t;if(e==="bottom-left")t=o2(n);else if(e==="bottom-right")t=a2(n);else if(e==="top-left")t=N0(n);else if(e==="top-right")t=s2(n);else throw new Error("Invalid corner");return t}function Jx(n,e,t,i,r){const[a,l,o,p,C,M,O,U]=bF(n,e,t,i);return U0(Math.min(a,o,C,O),Math.min(l,p,M,U),Math.max(a,o,C,O),Math.max(l,p,M,U),r)}function bF(n,e,t,i){const r=e*i[0]/2,a=e*i[1]/2,l=Math.cos(t),o=Math.sin(t),p=r*l,C=r*o,M=a*l,O=a*o,U=n[0],K=n[1];return[U-p+O,K-C-M,U-p-O,K-C+M,U+p-O,K+C+M,U+p+O,K+C-M,U-p+O,K-C-M]}function rc(n){return n[3]-n[1]}function rm(n,e,t){const i=t||xp();return uu(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):Hv(i),i}function N0(n){return[n[0],n[3]]}function s2(n){return[n[2],n[3]]}function us(n){return n[2]-n[0]}function uu(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function J1(n){return n[2]<n[0]||n[3]<n[1]}function dX(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function fX(n,e,t){let i=!1;const r=j6(n,e),a=j6(n,t);if(r===Wc.INTERSECTING||a===Wc.INTERSECTING)i=!0;else{const l=n[0],o=n[1],p=n[2],C=n[3],M=e[0],O=e[1],U=t[0],K=t[1],j=(K-O)/(U-M);let W,Y;a&Wc.ABOVE&&!(r&Wc.ABOVE)&&(W=U-(K-C)/j,i=W>=l&&W<=p),!i&&a&Wc.RIGHT&&!(r&Wc.RIGHT)&&(Y=K-(U-p)*j,i=Y>=o&&Y<=C),!i&&a&Wc.BELOW&&!(r&Wc.BELOW)&&(W=U-(K-o)/j,i=W>=l&&W<=p),!i&&a&Wc.LEFT&&!(r&Wc.LEFT)&&(Y=K-(U-l)*j,i=Y>=o&&Y<=C)}return i}function pX(n,e,t,i){if(J1(n))return Hv(t);let r=[];r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]],e(r,r,2);const a=[],l=[];for(let o=0,p=r.length;o<p;o+=2)a.push(r[o]),l.push(r[o+1]);return uX(a,l,t)}function xF(n,e){const t=e.getExtent(),i=If(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const r=us(t),l=Math.floor((i[0]-t[0])/r)*r;n[0]-=l,n[2]-=l}return n}function MF(n,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];xF(n,e);const r=us(i);if(us(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}function mX(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function e3(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function dO(n,e){const t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,a=n[1]*t+n[0]*i;return n[0]=r,n[1]=a,n}function gX(n,e){return n[0]*=e,n[1]*=e,n}function yX(n,e){const t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i}function vX(n,e){return Math.sqrt(yX(n,e))}function fO(n,e){if(e.canWrapX()){const t=us(e.getExtent()),i=CX(n,e,t);i&&(n[0]-=i*t)}return n}function CX(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||us(i),r=Math.floor((n[0]-i[0])/t)),r}function wF(n){return Math.pow(n,3)}function Vv(n){return 1-wF(1-n)}function _X(n){return 3*n*n-2*n*n*n}function bX(n){return n}const xX=63710088e-1;function $I(n,e,t){t=t||xX;const i=Kg(n[1]),r=Kg(e[1]),a=(r-i)/2,l=Kg(e[0]-n[0])/2,o=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function SF(...n){console.warn(...n)}const Ng={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class l2{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ng[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const db=6378137,dv=Math.PI*db,MX=[-dv,-dv,dv,dv],wX=[-180,-85,180,85],Yb=db*Math.log(Math.tan(Math.PI/2));class Ty extends l2{constructor(e){super({code:e,units:"m",extent:MX,global:!0,worldExtent:wX,getPointResolution:function(t,i){return t/Math.cosh(i[1]/db)}})}}const ZI=[new Ty("EPSG:3857"),new Ty("EPSG:102100"),new Ty("EPSG:102113"),new Ty("EPSG:900913"),new Ty("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ty("http://www.opengis.net/gml/srs/epsg.xml#3857")];function SX(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let a=0;a<r;a+=i){e[a]=dv*n[a]/180;let l=db*Math.log(Math.tan(Math.PI*(+n[a+1]+90)/360));l>Yb?l=Yb:l<-Yb&&(l=-Yb),e[a+1]=l}return e}function EX(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let a=0;a<r;a+=i)e[a]=180*n[a]/dv,e[a+1]=360*Math.atan(Math.exp(n[a+1]/db))/Math.PI-90;return e}const BX=6378137,XI=[-180,-90,180,90],OX=Math.PI*BX/180;class g1 extends l2{constructor(e,t){super({code:e,units:"degrees",extent:XI,axisOrientation:t,global:!0,metersPerUnit:OX,worldExtent:XI})}}const JI=[new g1("CRS:84"),new g1("EPSG:4326","neu"),new g1("urn:ogc:def:crs:OGC:1.3:CRS84"),new g1("urn:ogc:def:crs:OGC:2:84"),new g1("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new g1("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new g1("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let G6={};function IX(n){return G6[n]||G6[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function TX(n,e){G6[n]=e}let Cv={};function E_(n,e,t){const i=n.getCode(),r=e.getCode();i in Cv||(Cv[i]={}),Cv[i][r]=t}function z4(n,e){return n in Cv&&e in Cv[n]?Cv[n][e]:null}const t3=.9996,bp=.00669438,A2=bp*bp,u2=A2*bp,O1=bp/(1-bp),e9=Math.sqrt(1-bp),Pv=(1-e9)/(1+e9),EF=Pv*Pv,pO=EF*Pv,mO=pO*Pv,BF=mO*Pv,OF=1-bp/4-3*A2/64-5*u2/256,kX=3*bp/8+3*A2/32+45*u2/1024,DX=15*A2/256+45*u2/1024,RX=35*u2/3072,PX=3/2*Pv-27/32*pO+269/512*BF,KX=21/16*EF-55/32*mO,UX=151/96*pO-417/128*BF,LX=1097/512*mO,n3=6378137;function FX(n,e,t){const i=n-5e5,l=(t.north?e:e-1e7)/t3/(n3*OF),o=l+PX*Math.sin(2*l)+KX*Math.sin(4*l)+UX*Math.sin(6*l)+LX*Math.sin(8*l),p=Math.sin(o),C=p*p,M=Math.cos(o),O=p/M,U=O*O,K=U*U,j=1-bp*C,W=Math.sqrt(1-bp*C),Y=n3/W,te=(1-bp)/j,J=O1*M**2,oe=J*J,ne=i/(Y*t3),$=ne*ne,ae=$*ne,G=ae*ne,ce=G*ne,ge=ce*ne,ye=o-O/te*($/2-G/24*(5+3*U+10*J-4*oe-9*O1))+ge/720*(61+90*U+298*J+45*K-252*O1-3*oe);let we=(ne-ae/6*(1+2*U+J)+ce/120*(5-2*J+28*U-3*oe+8*O1+24*K))/M;return we=F6(we+Kg(IF(t.number)),-Math.PI,Math.PI),[HI(we),HI(ye)]}const t9=-80,n9=84,zX=-180,jX=180;function NX(n,e,t){n=F6(n,zX,jX),e<t9?e=t9:e>n9&&(e=n9);const i=Kg(e),r=Math.sin(i),a=Math.cos(i),l=r/a,o=l*l,p=o*o,C=Kg(n),M=IF(t.number),O=Kg(M),U=n3/Math.sqrt(1-bp*r**2),K=O1*a**2,j=a*F6(C-O,-Math.PI,Math.PI),W=j*j,Y=W*j,te=Y*j,J=te*j,oe=J*j,ne=n3*(OF*i-kX*Math.sin(2*i)+DX*Math.sin(4*i)-RX*Math.sin(6*i)),$=t3*U*(j+Y/6*(1-o+K)+J/120*(5-18*o+p+72*K-58*O1))+5e5;let ae=t3*(ne+U*l*(W/2+te/24*(5-o+9*K+4*K**2)+oe/720*(61-58*o+p+600*K-330*O1)));return t.north||(ae+=1e7),[$,ae]}function IF(n){return(n-1)*6-180+3}const GX=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function TF(n){let e=0;for(const r of GX){const a=n.match(r);if(a){e=parseInt(a[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function i9(n,e){return function(t,i,r,a){const l=t.length;r=r>1?r:2,a=a??r,i||(r>2?i=t.slice():i=new Array(l));for(let o=0;o<l;o+=a){const p=t[o],C=t[o+1],M=n(p,C,e);i[o]=M[0],i[o+1]=M[1]}return i}}function WX(n){return TF(n)?new l2({code:n,units:"m"}):null}function QX(n){const e=TF(n.getCode());return e?{forward:i9(NX,e),inverse:i9(FX,e)}:null}const YX=[QX],qX=[WX];let W6=!0;function kF(n){W6=!1}function gO(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function Q6(n){TX(n.getCode(),n),E_(n,n,gO)}function HX(n){n.forEach(Q6)}function qs(n){if(typeof n!="string")return n;const e=IX(n);if(e)return e;for(const t of qX){const i=t(n);if(i)return i}return null}function Y6(n,e,t,i){n=qs(n);let r;const a=n.getPointResolutionFunc();if(a){if(r=a(e,t),i&&i!==n.getUnits()){const l=n.getMetersPerUnit();l&&(r=r*l/Ng[i])}}else{const l=n.getUnits();if(l=="degrees"&&!i||i=="degrees")r=e;else{const o=fb(n,qs("EPSG:4326"));if(!o&&l!=="degrees")r=e*n.getMetersPerUnit();else{let C=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];C=o(C,C,2);const M=$I(C.slice(0,2),C.slice(2,4)),O=$I(C.slice(4,6),C.slice(6,8));r=(M+O)/2}const p=i?Ng[i]:n.getMetersPerUnit();p!==void 0&&(r/=p)}}return r}function r9(n){HX(n),n.forEach(function(e){n.forEach(function(t){e!==t&&E_(e,t,gO)})})}function VX(n,e,t,i){n.forEach(function(r){e.forEach(function(a){E_(r,a,t),E_(a,r,i)})})}function yO(n,e){return n?typeof n=="string"?qs(n):n:qs(e)}function $X(n){return function(e,t,i,r){const a=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(a);for(let l=0;l<a;l+=r){const o=n(e.slice(l,l+i)),p=o.length;for(let C=0,M=r;C<M;++C)t[l+C]=C>=p?e[l+C]:o[C]}return t}}function q6(n,e){return kF(),c2(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function j4(n,e){const t=c2(n,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=F1(i+180,360)-180),t}function Lg(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||fb(n,e)===gO)&&t}function fb(n,e){const t=n.getCode(),i=e.getCode();let r=z4(t,i);if(r)return r;let a=null,l=null;for(const p of YX)a||(a=p(n)),l||(l=p(e));if(!a&&!l)return null;const o="EPSG:4326";if(l)if(a)r=N4(a.inverse,l.forward);else{const p=z4(t,o);p&&(r=N4(p,l.forward))}else{const p=z4(o,i);p&&(r=N4(a.inverse,p))}return r&&(Q6(n),Q6(e),E_(n,e,r)),r}function N4(n,e){return function(t,i,r,a){return i=n(t,i,r,a),e(i,i,r,a)}}function B_(n,e){const t=qs(n),i=qs(e);return fb(t,i)}function c2(n,e,t){const i=B_(e,t);if(!i){const r=qs(e).getCode(),a=qs(t).getCode();throw new Error(`No transform available between ${r} and ${a}`)}return i(n,void 0,n.length)}let ZX=null;function XX(){return ZX}function H6(n,e){return n}function O0(n,e){return W6&&!e3(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(W6=!1,SF("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function vO(n,e){return n}function Ym(n,e){return n}function JX(){r9(ZI),r9(JI),VX(JI,ZI,SX,EX)}JX();const DF=new Array(6);function Hd(){return[1,0,0,1,0,0]}function o9(n){return _O(n,1,0,0,1,0,0)}function CO(n,e){const t=n[0],i=n[1],r=n[2],a=n[3],l=n[4],o=n[5],p=e[0],C=e[1],M=e[2],O=e[3],U=e[4],K=e[5];return n[0]=t*p+r*C,n[1]=i*p+a*C,n[2]=t*M+r*O,n[3]=i*M+a*O,n[4]=t*U+r*K+l,n[5]=i*U+a*K+o,n}function _O(n,e,t,i,r,a,l){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=a,n[5]=l,n}function eJ(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function nc(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function G4(n,e,t){return CO(n,_O(DF,e,0,0,t,0,0))}function tJ(n,e,t){return CO(n,_O(DF,1,0,0,1,e,t))}function e0(n,e,t,i,r,a,l,o){const p=Math.sin(a),C=Math.cos(a);return n[0]=i*C,n[1]=r*p,n[2]=-i*p,n[3]=r*C,n[4]=l*i*C-o*i*p+e,n[5]=l*r*p+o*r*C+t,n}function RF(n,e){const t=nJ(e);Ss(t!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],a=e[2],l=e[3],o=e[4],p=e[5];return n[0]=l/t,n[1]=-r/t,n[2]=-a/t,n[3]=i/t,n[4]=(a*p-l*o)/t,n[5]=-(i*p-r*o)/t,n}function nJ(n){return n[0]*n[3]-n[1]*n[2]}const iJ=[1e5,1e5,1e5,1e5,2,2];function rJ(n){return"matrix("+n.join(", ")+")"}function a9(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function oJ(n,e){const t=a9(n),i=a9(e);for(let r=0;r<6;++r)if(Math.round((t[r]-i[r])*iJ[r])!==0)return!1;return!0}function Fg(n,e,t,i,r,a,l){a=a||[],l=l||2;let o=0;for(let p=e;p<t;p+=i){const C=n[p],M=n[p+1];a[o++]=r[0]*C+r[2]*M+r[4],a[o++]=r[1]*C+r[3]*M+r[5];for(let O=2;O<l;O++)a[o++]=n[p+O]}return a&&a.length!=o&&(a.length=o),a}function PF(n,e,t,i,r,a,l){l=l||[];const o=Math.cos(r),p=Math.sin(r),C=a[0],M=a[1];let O=0;for(let U=e;U<t;U+=i){const K=n[U]-C,j=n[U+1]-M;l[O++]=C+K*o-j*p,l[O++]=M+K*p+j*o;for(let W=U+2;W<U+i;++W)l[O++]=n[W]}return l&&l.length!=O&&(l.length=O),l}function aJ(n,e,t,i,r,a,l,o){o=o||[];const p=l[0],C=l[1];let M=0;for(let O=e;O<t;O+=i){const U=n[O]-p,K=n[O+1]-C;o[M++]=p+r*U,o[M++]=C+a*K;for(let j=O+2;j<O+i;++j)o[M++]=n[j]}return o&&o.length!=M&&(o.length=M),o}function sJ(n,e,t,i,r,a,l){l=l||[];let o=0;for(let p=e;p<t;p+=i){l[o++]=n[p]+r,l[o++]=n[p+1]+a;for(let C=p+2;C<p+i;++C)l[o++]=n[C]}return l&&l.length!=o&&(l.length=o),l}const s9=Hd(),lJ=[NaN,NaN];class KF extends cm{constructor(){super(),this.extent_=xp(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=hF((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Co()}closestPointXY(e,t,i,r){return Co()}containsXY(e,t){return this.closestPointXY(e,t,lJ,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Co()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Hv(t),this.extentRevision_=this.getRevision()}return dX(this.extent_,e)}rotate(e,t){Co()}scale(e,t,i){Co()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Co()}getType(){return Co()}applyTransform(e){Co()}intersectsExtent(e){return Co()}translate(e,t){Co()}transform(e,t){const i=qs(e),r=i.getUnits()=="tile-pixels"?function(a,l,o){const p=i.getExtent(),C=i.getWorldExtent(),M=rc(C)/rc(p);e0(s9,C[0],C[3],M,-M,0,0,0);const O=Fg(a,0,a.length,o,s9,l),U=B_(i,t);return U?U(O,O,o):O}:B_(i,t);return this.applyTransform(r),this}}class ey extends KF{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return hO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Co()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=l9(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Co()}setLayout(e,t,i){let r;if(e)r=l9(e);else{for(let a=0;a<i;++a){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=ty(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();PF(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=If(this.getExtent()));const r=this.getFlatCoordinates();if(r){const a=this.getStride();aJ(r,0,r.length,a,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();sJ(i,0,i.length,r,e,t,i),this.changed()}}}function ty(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function l9(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function AJ(n,e,t){const i=n.getFlatCoordinates();if(!i)return null;const r=n.getStride();return Fg(i,0,i.length,r,e,t)}function UF(n,e,t,i){let r=0;const a=n[t-i],l=n[t-i+1];let o=0,p=0;for(;e<t;e+=i){const C=n[e]-a,M=n[e+1]-l;r+=p*C-o*M,o=C,p=M}return r/2}function LF(n,e,t,i){let r=0;for(let a=0,l=t.length;a<l;++a){const o=t[a];r+=UF(n,e,o,i),e=o}return r}function uJ(n,e,t,i){let r=0;for(let a=0,l=t.length;a<l;++a){const o=t[a];r+=LF(n,e,o,i),e=o[o.length-1]}return r}function A9(n,e,t,i,r,a,l){const o=n[e],p=n[e+1],C=n[t]-o,M=n[t+1]-p;let O;if(C===0&&M===0)O=e;else{const U=((r-o)*C+(a-p)*M)/(C*C+M*M);if(U>1)O=t;else if(U>0){for(let K=0;K<i;++K)l[K]=_f(n[e+K],n[t+K],U);l.length=i;return}else O=e}for(let U=0;U<i;++U)l[U]=n[O+U];l.length=i}function bO(n,e,t,i,r){let a=n[e],l=n[e+1];for(e+=i;e<t;e+=i){const o=n[e],p=n[e+1],C=L1(a,l,o,p);C>r&&(r=C),a=o,l=p}return r}function xO(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const o=t[a];r=bO(n,e,o,i,r),e=o}return r}function cJ(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const o=t[a];r=xO(n,e,o,i,r),e=o[o.length-1]}return r}function MO(n,e,t,i,r,a,l,o,p,C,M){if(e==t)return C;let O,U;if(r===0){if(U=L1(l,o,n[e],n[e+1]),U<C){for(O=0;O<i;++O)p[O]=n[e+O];return p.length=i,U}return C}M=M||[NaN,NaN];let K=e+i;for(;K<t;)if(A9(n,K-i,K,i,l,o,M),U=L1(l,o,M[0],M[1]),U<C){for(C=U,O=0;O<i;++O)p[O]=M[O];p.length=i,K+=i}else K+=i*Math.max((Math.sqrt(U)-Math.sqrt(C))/r|0,1);if(a&&(A9(n,t-i,e,i,l,o,M),U=L1(l,o,M[0],M[1]),U<C)){for(C=U,O=0;O<i;++O)p[O]=M[O];p.length=i}return C}function wO(n,e,t,i,r,a,l,o,p,C,M){M=M||[NaN,NaN];for(let O=0,U=t.length;O<U;++O){const K=t[O];C=MO(n,e,K,i,r,a,l,o,p,C,M),e=K}return C}function hJ(n,e,t,i,r,a,l,o,p,C,M){M=M||[NaN,NaN];for(let O=0,U=t.length;O<U;++O){const K=t[O];C=wO(n,e,K,i,r,a,l,o,p,C,M),e=K[K.length-1]}return C}function dJ(n,e,t,i){for(let r=0,a=t.length;r<a;++r)n[e++]=t[r];return e}function h2(n,e,t,i){for(let r=0,a=t.length;r<a;++r){const l=t[r];for(let o=0;o<i;++o)n[e++]=l[o]}return e}function pb(n,e,t,i,r){r=r||[];let a=0;for(let l=0,o=t.length;l<o;++l){const p=h2(n,e,t[l],i);r[a++]=p,e=p}return r.length=a,r}function FF(n,e,t,i,r){r=r||[];let a=0;for(let l=0,o=t.length;l<o;++l){const p=pb(n,e,t[l],i,r[a]);p.length===0&&(p[0]=e),r[a++]=p,e=p[p.length-1]}return r.length=a,r}function Bg(n,e,t,i,r){r=r!==void 0?r:[];let a=0;for(let l=e;l<t;l+=i)r[a++]=n.slice(l,l+i);return r.length=a,r}function O_(n,e,t,i,r){r=r!==void 0?r:[];let a=0;for(let l=0,o=t.length;l<o;++l){const p=t[l];r[a++]=Bg(n,e,p,i,r[a]),e=p}return r.length=a,r}function V6(n,e,t,i,r){r=r!==void 0?r:[];let a=0;for(let l=0,o=t.length;l<o;++l){const p=t[l];r[a++]=p.length===1&&p[0]===e?[]:O_(n,e,p,i,r[a]),e=p[p.length-1]}return r.length=a,r}function d2(n,e,t,i,r,a,l){const o=(t-e)/i;if(o<3){for(;e<t;e+=i)a[l++]=n[e],a[l++]=n[e+1];return l}const p=new Array(o);p[0]=1,p[o-1]=1;const C=[e,t-i];let M=0;for(;C.length>0;){const O=C.pop(),U=C.pop();let K=0;const j=n[U],W=n[U+1],Y=n[O],te=n[O+1];for(let J=U+i;J<O;J+=i){const oe=n[J],ne=n[J+1],$=sX(oe,ne,j,W,Y,te);$>K&&(M=J,K=$)}K>r&&(p[(M-e)/i]=1,U+i<M&&C.push(U,M),M+i<O&&C.push(M,O))}for(let O=0;O<o;++O)p[O]&&(a[l++]=n[e+O*i],a[l++]=n[e+O*i+1]);return l}function zF(n,e,t,i,r,a,l,o){for(let p=0,C=t.length;p<C;++p){const M=t[p];l=d2(n,e,M,i,r,a,l),o.push(l),e=M}return l}function x1(n,e){return e*Math.round(n/e)}function fJ(n,e,t,i,r,a,l){if(e==t)return l;let o=x1(n[e],r),p=x1(n[e+1],r);e+=i,a[l++]=o,a[l++]=p;let C,M;do if(C=x1(n[e],r),M=x1(n[e+1],r),e+=i,e==t)return a[l++]=C,a[l++]=M,l;while(C==o&&M==p);for(;e<t;){const O=x1(n[e],r),U=x1(n[e+1],r);if(e+=i,O==C&&U==M)continue;const K=C-o,j=M-p,W=O-o,Y=U-p;if(K*Y==j*W&&(K<0&&W<K||K==W||K>0&&W>K)&&(j<0&&Y<j||j==Y||j>0&&Y>j)){C=O,M=U;continue}a[l++]=C,a[l++]=M,o=C,p=M,C=O,M=U}return a[l++]=C,a[l++]=M,l}function SO(n,e,t,i,r,a,l,o){for(let p=0,C=t.length;p<C;++p){const M=t[p];l=fJ(n,e,M,i,r,a,l),o.push(l),e=M}return l}function pJ(n,e,t,i,r,a,l,o){for(let p=0,C=t.length;p<C;++p){const M=t[p],O=[];l=SO(n,e,M,i,r,a,l,O),o.push(O),e=M[M.length-1]}return l}class I_ extends ey{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new I_(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<X1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),MO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return UF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Bg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=d2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new I_(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h2(this.flatCoordinates,0,e,this.stride),this.changed()}}class q1 extends ey{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new q1(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const a=this.flatCoordinates,l=L1(e,t,a[0],a[1]);if(l<r){const o=this.stride;for(let p=0;p<o;++p)i[p]=a[p];return i.length=o,l}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return yF(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return cO(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dJ(this.flatCoordinates,0,e,this.stride),this.changed()}}function mJ(n,e,t,i,r){return!_F(r,function(l){return!I1(n,e,t,i,l[0],l[1])})}function I1(n,e,t,i,r,a){let l=0,o=n[t-i],p=n[t-i+1];for(;e<t;e+=i){const C=n[e],M=n[e+1];p<=a?M>a&&(C-o)*(a-p)-(r-o)*(M-p)>0&&l++:M<=a&&(C-o)*(a-p)-(r-o)*(M-p)<0&&l--,o=C,p=M}return l!==0}function EO(n,e,t,i,r,a){if(t.length===0||!I1(n,e,t[0],i,r,a))return!1;for(let l=1,o=t.length;l<o;++l)if(I1(n,t[l-1],t[l],i,r,a))return!1;return!0}function gJ(n,e,t,i,r,a){if(t.length===0)return!1;for(let l=0,o=t.length;l<o;++l){const p=t[l];if(EO(n,e,p,i,r,a))return!0;e=p[p.length-1]}return!1}function BO(n,e,t,i,r,a,l){let o,p,C,M,O,U,K;const j=r[a+1],W=[];for(let J=0,oe=t.length;J<oe;++J){const ne=t[J];for(M=n[ne-i],U=n[ne-i+1],o=e;o<ne;o+=i)O=n[o],K=n[o+1],(j<=U&&K<=j||U<=j&&j<=K)&&(C=(j-U)/(K-U)*(O-M)+M,W.push(C)),M=O,U=K}let Y=NaN,te=-1/0;for(W.sort(Zm),M=W[0],o=1,p=W.length;o<p;++o){O=W[o];const J=Math.abs(O-M);J>te&&(C=(M+O)/2,EO(n,e,t,i,C,j)&&(Y=C,te=J)),M=O}return isNaN(Y)&&(Y=r[a]),l?(l.push(Y,j,te),l):[Y,j,te]}function jF(n,e,t,i,r){let a=[];for(let l=0,o=t.length;l<o;++l){const p=t[l];a=BO(n,e,p,i,r,2*l,a),e=p[p.length-1]}return a}function NF(n,e,t,i,r){let a;for(e+=i;e<t;e+=i)if(a=r(n.slice(e-i,e),n.slice(e,e+i)),a)return a;return!1}function f2(n,e,t,i,r,a){return a=a??CF(xp(),n,e,t,i),uu(r,a)?a[0]>=r[0]&&a[2]<=r[2]||a[1]>=r[1]&&a[3]<=r[3]?!0:NF(n,e,t,i,function(l,o){return fX(r,l,o)}):!1}function yJ(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){if(f2(n,e,t[a],i,r))return!0;e=t[a]}return!1}function GF(n,e,t,i,r){return!!(f2(n,e,t,i,r)||I1(n,e,t,i,r[0],r[1])||I1(n,e,t,i,r[0],r[3])||I1(n,e,t,i,r[2],r[1])||I1(n,e,t,i,r[2],r[3]))}function WF(n,e,t,i,r){if(!GF(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let a=1,l=t.length;a<l;++a)if(mJ(n,t[a-1],t[a],i,r)&&!f2(n,t[a-1],t[a],i,r))return!1;return!0}function vJ(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const o=t[a];if(WF(n,e,o,i,r))return!0;e=o[o.length-1]}return!1}function CJ(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const a=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=a}e+=i,t-=i}}function OO(n,e,t,i){let r=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){const o=n[e],p=n[e+1];r+=(o-a)*(p+l),a=o,l=p}return r===0?void 0:r>0}function IO(n,e,t,i,r){r=r!==void 0?r:!1;for(let a=0,l=t.length;a<l;++a){const o=t[a],p=OO(n,e,o,i);if(a===0){if(r&&p||!r&&!p)return!1}else if(r&&!p||!r&&p)return!1;e=o}return!0}function QF(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a){const o=t[a];if(!IO(n,e,o,i,r))return!1;o.length&&(e=o[o.length-1])}return!0}function i3(n,e,t,i,r){r=r!==void 0?r:!1;for(let a=0,l=t.length;a<l;++a){const o=t[a],p=OO(n,e,o,i);(a===0?r&&p||!r&&!p:r&&!p||!r&&p)&&CJ(n,e,o,i),e=o}return e}function $6(n,e,t,i,r){for(let a=0,l=t.length;a<l;++a)e=i3(n,e,t[a],i,r);return e}function YF(n,e){const t=[];let i=0,r=0,a;for(let l=0,o=e.length;l<o;++l){const p=e[l],C=OO(n,i,p,2);if(a===void 0&&(a=C),C===a)t.push(e.slice(r,l+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=l+1,i=p}return t}class F0 extends ey{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Xm(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new F0(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<X1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xO(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),wO(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return EO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return LF(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),i3(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,O_(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=If(this.getExtent());this.flatInteriorPoint_=BO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new q1(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new I_(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let a=0;for(let l=0,o=i.length;l<o;++l){const p=i[l],C=new I_(t.slice(a,p),e);r.push(C),a=p}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;IO(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=i3(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=SO(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new F0(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return WF(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=pb(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function u9(n){if(J1(n))throw new Error("Cannot create polygon from empty extent");const e=n[0],t=n[1],i=n[2],r=n[3],a=[e,t,e,r,i,r,i,t,e,t];return new F0(a,"XY",[a.length])}function TO(n,e,t,i){const r=us(e)/t[0],a=rc(e)/t[1];return i?Math.min(n,Math.max(r,a)):Math.min(n,Math.min(r,a))}function kO(n,e,t){let i=Math.min(n,e);const r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),GA(i,t/2,e*2)}function _J(n,e,t,i){return e=e!==void 0?e:!0,function(r,a,l,o){if(r!==void 0){const p=n[0],C=n[n.length-1],M=t?TO(p,t,l,i):p;if(o)return e?kO(r,M,C):GA(r,C,M);const O=Math.min(M,r),U=Math.floor(n2(n,O,a));return n[U]>M&&U<n.length-1?n[U+1]:n[U]}}}function bJ(n,e,t,i,r,a){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(l,o,p,C){if(l!==void 0){const M=r?TO(e,r,p,a):e;if(C)return i?kO(l,M,t):GA(l,t,M);const O=1e-9,U=Math.ceil(Math.log(e/M)/Math.log(n)-O),K=-o*(.5-O)+.5,j=Math.min(M,l),W=Math.floor(Math.log(e/j)/Math.log(n)+K),Y=Math.max(U,W),te=e/Math.pow(n,Y);return GA(te,t,M)}}}function c9(n,e,t,i,r){return t=t!==void 0?t:!0,function(a,l,o,p){if(a!==void 0){const C=i?TO(n,i,o,r):n;return!t||!p?GA(a,e,C):kO(a,C,e)}}}function DO(n){if(n!==void 0)return 0}function h9(n){if(n!==void 0)return n}function xJ(n){const e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function MJ(n){const e=Kg(5);return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}const qF=42,RO=256,W4=0;class Jp extends cm{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=yO(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&kF(),e.center&&(e.center=O0(e.center,this.projection_)),e.extent&&(e.extent=Ym(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const o in Yp)delete t[o];this.setProperties(t,!0);const i=SJ(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=wJ(e),a=i.constraint,l=EJ(e);this.constraints_={center:r,resolution:a,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const a=this.getResolution(),l=a/2*(r[3]-t[3]+t[1]-r[1]),o=a/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+l,i[1]-o])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=O0(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=O0(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const M=arguments[r];M.center&&this.setCenterInternal(M.center),M.zoom!==void 0?this.setZoom(M.zoom):M.resolution&&this.setResolution(M.resolution),M.rotation!==void 0&&this.setRotation(M.rotation)}if(r===t){i&&qb(i,!0);return}let a=Date.now(),l=this.targetCenter_.slice(),o=this.targetResolution_,p=this.targetRotation_;const C=[];for(;r<t;++r){const M=arguments[r],O={start:a,complete:!1,anchor:M.anchor,duration:M.duration!==void 0?M.duration:1e3,easing:M.easing||_X,callback:i};if(M.center&&(O.sourceCenter=l,O.targetCenter=M.center.slice(),l=O.targetCenter),M.zoom!==void 0?(O.sourceResolution=o,O.targetResolution=this.getResolutionForZoom(M.zoom),o=O.targetResolution):M.resolution&&(O.sourceResolution=o,O.targetResolution=M.resolution,o=O.targetResolution),M.rotation!==void 0){O.sourceRotation=p;const U=F1(M.rotation-p+Math.PI,2*Math.PI)-Math.PI;O.targetRotation=p+U,p=O.targetRotation}BJ(O)?O.complete=!0:a+=O.duration,C.push(O)}this.animations_.push(C),this.setHint(CA.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[CA.ANIMATING]>0}getInteracting(){return this.hints_[CA.INTERACTING]>0}cancelAnimations(){this.setHint(CA.ANIMATING,-this.hints_[CA.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&qb(r[0].callback,!1),!e)for(let a=0,l=r.length;a<l;++a){const o=r[a];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let a=!0;for(let l=0,o=r.length;l<o;++l){const p=r[l];if(p.complete)continue;const C=e-p.start;let M=p.duration>0?C/p.duration:1;M>=1?(p.complete=!0,M=1):a=!1;const O=p.easing(M);if(p.sourceCenter){const U=p.sourceCenter[0],K=p.sourceCenter[1],j=p.targetCenter[0],W=p.targetCenter[1];this.nextCenter_=p.targetCenter;const Y=U+O*(j-U),te=K+O*(W-K);this.targetCenter_=[Y,te]}if(p.sourceResolution&&p.targetResolution){const U=O===1?p.targetResolution:p.sourceResolution+O*(p.targetResolution-p.sourceResolution);if(p.anchor){const K=this.getViewportSize_(this.getRotation()),j=this.constraints_.resolution(U,0,K,!0);this.targetCenter_=this.calculateCenterZoom(j,p.anchor)}this.nextResolution_=p.targetResolution,this.targetResolution_=U,this.applyTargetState_(!0)}if(p.sourceRotation!==void 0&&p.targetRotation!==void 0){const U=O===1?F1(p.targetRotation+Math.PI,2*Math.PI)-Math.PI:p.sourceRotation+O*(p.targetRotation-p.sourceRotation);if(p.anchor){const K=this.constraints_.rotation(U,!0);this.targetCenter_=this.calculateCenterRotate(K,p.anchor)}this.nextRotation_=p.targetRotation,this.targetRotation_=U}if(this.applyTargetState_(!0),t=!0,!p.complete)break}if(a){this.animations_[i]=null,this.setHint(CA.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=r[0].callback;l&&qb(l,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],dO(i,e-this.getRotation()),mX(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),a=this.getResolution();if(r!==void 0&&a!==void 0){const l=t[0]-e*(t[0]-r[0])/a,o=t[1]-e*(t[1]-r[1])/a;i=[l,o]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&H6(e,this.getProjection())}getCenterInternal(){return this.get(Yp.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return vO(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Ss(t,"The view center is not defined");const i=this.getResolution();Ss(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ss(r!==void 0,"The view rotation is not defined"),Jx(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Yp.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Ym(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=us(e)/t[0],r=rc(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(a){return t/Math.pow(e,a*r)}}getRotation(){return this.get(Yp.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,a=Math.log(i/r)/t;return function(l){return Math.log(i/l)/t/a}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const a=this.padding_;if(a){const l=this.getViewportSizeMinusPadding_();r=Q4(r,this.getViewportSize_(),[l[0]/2+a[3],l[1]/2+a[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){const a=n2(this.resolutions_,e,1);t=a,i=this.resolutions_[a],a==this.resolutions_.length-1?r=2:r=i/this.resolutions_[a+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const t=GA(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,GA(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Ss(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ss(!J1(e),"Cannot fit empty extent provided as `geometry`");const r=Ym(e,this.getProjection());i=u9(r)}else if(e.getType()==="Circle"){const r=Ym(e.getExtent(),this.getProjection());i=u9(r),i.rotate(this.getRotation(),If(r))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),a=e.getFlatCoordinates(),l=e.getStride();let o=1/0,p=1/0,C=-1/0,M=-1/0;for(let O=0,U=a.length;O<U;O+=l){const K=a[O]*i-a[O+1]*r,j=a[O]*r+a[O+1]*i;o=Math.min(o,K),p=Math.min(p,j),C=Math.max(C,K),M=Math.max(M,j)}return[o,p,C,M]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],a=t.nearest!==void 0?t.nearest:!1;let l;t.minResolution!==void 0?l=t.minResolution:t.maxZoom!==void 0?l=this.getResolutionForZoom(t.maxZoom):l=0;const o=this.rotatedExtentForGeometry(e);let p=this.getResolutionForExtentInternal(o,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);p=isNaN(p)?l:Math.max(p,l),p=this.getConstrainedResolution(p,a?0:1);const C=this.getRotation(),M=Math.sin(C),O=Math.cos(C),U=If(o);U[0]+=(r[1]-r[3])/2*p,U[1]+=(r[0]-r[2])/2*p;const K=U[0]*O-U[1]*M,j=U[1]*O+U[0]*M,W=this.getConstrainedCenter([K,j],p),Y=t.callback?t.callback:S_;t.duration!==void 0?this.animateInternal({resolution:p,center:W,duration:t.duration,easing:t.easing},Y):(this.targetResolution_=p,this.targetCenter_=W,this.applyTargetState_(!1,!0),qb(Y,!0))}centerOn(e,t,i){this.centerOnInternal(O0(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Q4(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let a;const l=this.padding_;if(l&&e){const o=this.getViewportSizeMinusPadding_(-i),p=Q4(e,r,[o[0]/2+l[3],o[1]/2+l[0]],t,i);a=[e[0]-p[0],e[1]-p[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=H6(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&O0(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(a,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=O0(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&O0(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,0,a,i),o=this.constraints_.center(this.targetCenter_,l,a,i,this.calculateCenterShift(this.targetCenter_,l,r,a));this.get(Yp.ROTATION)!==r&&this.set(Yp.ROTATION,r),this.get(Yp.RESOLUTION)!==l&&(this.set(Yp.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(Yp.CENTER)||!e3(this.get(Yp.CENTER),o))&&this.set(Yp.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const r=t||0,a=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(a),o=this.constraints_.resolution(this.targetResolution_,r,l),p=this.constraints_.center(this.targetCenter_,o,l,!1,this.calculateCenterShift(this.targetCenter_,o,a,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=a,this.targetCenter_=p,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==a||!this.getCenterInternal()||!e3(this.getCenterInternal(),p))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:p,resolution:o,duration:e,easing:Vv,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(CA.INTERACTING,1)}endInteraction(e,t,i){i=i&&O0(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(CA.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function qb(n,e){setTimeout(function(){n(e)},0)}function wJ(n){if(n.extent!==void 0){const t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return VI(n.extent,n.constrainOnlyCenter,t)}const e=yO(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,VI(t,!1,!1)}return AX}function SJ(n){let e,t,i,l=n.minZoom!==void 0?n.minZoom:W4,o=n.maxZoom!==void 0?n.maxZoom:28;const p=n.zoomFactor!==void 0?n.zoomFactor:2,C=n.multiWorld!==void 0?n.multiWorld:!1,M=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,O=n.showFullExtent!==void 0?n.showFullExtent:!1,U=yO(n.projection,"EPSG:3857"),K=U.getExtent();let j=n.constrainOnlyCenter,W=n.extent;if(!C&&!W&&U.isGlobal()&&(j=!1,W=K),n.resolutions!==void 0){const Y=n.resolutions;t=Y[l],i=Y[o]!==void 0?Y[o]:Y[Y.length-1],n.constrainResolution?e=_J(Y,M,!j&&W,O):e=c9(t,i,M,!j&&W,O)}else{const te=(K?Math.max(us(K),rc(K)):360*Ng.degrees/U.getMetersPerUnit())/RO/Math.pow(2,W4),J=te/Math.pow(2,28-W4);t=n.maxResolution,t!==void 0?l=0:t=te/Math.pow(p,l),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(p,o):i=te/Math.pow(p,o):i=J),o=l+Math.floor(Math.log(t/i)/Math.log(p)),i=t/Math.pow(p,o-l),n.constrainResolution?e=bJ(p,t,i,M,!j&&W,O):e=c9(t,i,M,!j&&W,O)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:l,zoomFactor:p}}function EJ(n){if(n.enableRotation!==void 0?n.enableRotation:!0){const t=n.constrainRotation;return t===void 0||t===!0?MJ():t===!1?h9:typeof t=="number"?xJ(t):h9}return DO}function BJ(n){return!(n.sourceCenter&&n.targetCenter&&!e3(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Q4(n,e,t,i,r){const a=Math.cos(-r);let l=Math.sin(-r),o=n[0]*a-n[1]*l,p=n[1]*a+n[0]*l;o+=(e[0]/2-t[0])*i,p+=(t[1]-e[1]/2)*i,l=-l;const C=o*a-p*l,M=p*a+o*l;return[C,M]}const Hb="ol-hidden",OJ="ol-selectable",p2="ol-unselectable",PO="ol-control",d9="ol-collapsed",IJ=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),f9=["style","variant","weight","size","lineHeight","family"],Z6={normal:400,bold:700},X6=function(n){const e=n.match(IJ);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=f9.length;i<r;++i){const a=e[i+1];a!==void 0&&(t[f9[i]]=typeof a=="string"?a.trim():a)}return isNaN(Number(t.weight))&&t.weight in Z6&&(t.weight=Z6[t.weight]),t.families=t.family.split(/,\s?/).map(i=>i.trim().replace(/^['"]|['"]$/g,"")),t};function WA(n,e,t,i){let r;return t&&t.length?r=t.shift():uO?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}let Y4;function r3(){return Y4||(Y4=WA(1,1)),Y4}function mb(n){const e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function TJ(n){let e=n.offsetWidth;const t=getComputedStyle(n);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function kJ(n){let e=n.offsetHeight;const t=getComputedStyle(n);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function p9(n,e){const t=e.parentNode;t&&t.replaceChild(n,e)}function HF(n){for(;n.lastChild;)n.lastChild.remove()}function DJ(n,e){const t=n.childNodes;for(let i=0;;++i){const r=t[i],a=e[i];if(!r&&!a)break;if(r!==a){if(!r){n.appendChild(a);continue}if(!a){n.removeChild(r),--i;continue}n.insertBefore(a,r)}}}class KO extends cm{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Ol(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==S_&&this.listenerKeys.push(Ja(e,I0.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class RJ extends KO{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",a=e.collapseLabel!==void 0?e.collapseLabel:"",l=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=l):this.collapseLabel_=a;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=r):this.label_=o;const p=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(p),this.toggleButton_.addEventListener(po.CLICK,this.handleClick_.bind(this),!1);const C=t+" "+p2+" "+PO+(this.collapsed_&&this.collapsible_?" "+d9:"")+(this.collapsible_?"":" ol-uncollapsible"),M=this.element;M.className=C,M.appendChild(this.toggleButton_),M.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(a=>a.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>Rv(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Gg(t,this.renderedAttributions_)){HF(this.ulElement_);for(let r=0,a=t.length;r<a;++r){const l=document.createElement("li");l.innerHTML=t[r],this.ulElement_.appendChild(l)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(d9),this.collapsed_?p9(this.collapseLabel_,this.label_):p9(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class PJ extends KO{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const a=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=t+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(this.label_),l.addEventListener(po.CLICK,this.handleClick_.bind(this),!1);const o=t+" "+p2+" "+PO,p=this.element;p.className=o,p.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Hb)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Vv}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const a=this.element.classList.contains(Hb);!a&&i===0?this.element.classList.add(Hb):a&&i!==0&&this.element.classList.remove(Hb)}this.label_.style.transform=r}this.rotation_=i}}class KJ extends KO{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",a=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",p=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",C=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",M=document.createElement("button");M.className=r,M.setAttribute("type","button"),M.title=p,M.appendChild(typeof l=="string"?document.createTextNode(l):l),M.addEventListener(po.CLICK,this.handleClick_.bind(this,i),!1);const O=document.createElement("button");O.className=a,O.setAttribute("type","button"),O.title=C,O.appendChild(typeof o=="string"?document.createTextNode(o):o),O.addEventListener(po.CLICK,this.handleClick_.bind(this,-i),!1);const U=t+" "+p2+" "+PO,K=this.element;K.className=U,K.appendChild(M),K.appendChild(O),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const a=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Vv})):i.setZoom(a)}}}function UJ(n){n=n||{};const e=new Wm;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new KJ(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new PJ(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new RJ(n.attributionOptions)),e}class LJ{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const a=this.points_[t]-this.points_[i],l=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(l,a),this.initialVelocity_=Math.sqrt(a*a+l*l)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const m9={ACTIVE:"active"};class gb extends cm{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(m9.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(m9.ACTIVE,e)}setMap(e){this.map_=e}}function FJ(n,e,t){const i=n.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:bX,center:n.getConstrainedCenter(r)})}}function UO(n,e,t,i){const r=n.getZoom();if(r===void 0)return;const a=n.getConstrainedZoom(r+e),l=n.getResolutionForZoom(a);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:l,anchor:t,duration:i!==void 0?i:250,easing:Vv})}class zJ extends gb{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==lu.DBLCLICK){const i=e.originalEvent,r=e.map,a=e.coordinate,l=i.shiftKey?-this.delta_:this.delta_,o=r.getView();UO(o,l,a,this.duration_),i.preventDefault(),t=!0}return!t}}function J6(n){const e=arguments;return function(t){let i=!0;for(let r=0,a=e.length;r<a&&(i=i&&e[r](t),!!i);++r);return i}}const jJ=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},NJ=function(n){const e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},VF=function(n){const e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?NJ(n):!0},GJ=w_,$F=function(n){const e=n.originalEvent;return"pointerId"in e&&e.button==0&&!(tX&&dF&&e.ctrlKey)},ZF=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},WJ=function(n){const e=n.originalEvent;return dF?e.metaKey:e.ctrlKey},QJ=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},XF=function(n){const e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},q4=function(n){const e=n.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},YJ=function(n){const e=n.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class yb extends gb{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==lu.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==lu.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==lu.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==lu.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function LO(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}class qJ extends yb{constructor(e){super({stopDown:i2}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:J6(ZF,YJ);this.condition_=e.onFocusOnly?J6(VF,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(LO(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const a=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=e.map.getView();gX(a,o.getResolution()),dO(a,o.getRotation()),o.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),l=i.getCenterInternal(),o=t.getPixelFromCoordinateInternal(l),p=t.getCoordinateFromPixelInternal([o[0]-r*Math.cos(a),o[1]-r*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(p),duration:500,easing:Vv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class HJ extends yb{constructor(e){e=e||{},super({stopDown:i2}),this.condition_=e.condition?e.condition:jJ,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!q4(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===DO)return;const r=t.getSize(),a=e.pixel,l=Math.atan2(r[1]/2-a[1],a[0]-r[0]/2);if(this.lastAngle_!==void 0){const o=l-this.lastAngle_;i.adjustRotationInternal(-o)}this.lastAngle_=l}handleUpEvent(e){return q4(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return q4(e)&&$F(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class VJ extends Ab{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new F0([r])}getGeometry(){return this.geometry_}}const ky={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class CC extends um{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class $J extends yb{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new VJ(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??$F,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],a=i[1]-t[1];return r*r+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new CC(ky.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new CC(t?ky.BOXEND:ky.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new CC(ky.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new CC(ky.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new CC(ky.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class ZJ extends $J{constructor(e){e=e||{};const t=e.condition?e.condition:QJ;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const a=i.rotatedExtentForGeometry(r),l=i.getResolutionForExtentInternal(a),o=i.getResolution()/l;r=r.clone(),r.scale(o*o)}i.fitInternal(r,{duration:this.duration_,easing:Vv})}}const y1={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class XJ extends gb{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return ZF(t)&&XF(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==po.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==y1.DOWN||r==y1.LEFT||r==y1.RIGHT||r==y1.UP)){const l=e.map.getView(),o=l.getResolution()*this.pixelDelta_;let p=0,C=0;r==y1.DOWN?C=-o:r==y1.LEFT?p=-o:r==y1.RIGHT?p=o:C=o;const M=[p,C];dO(M,l.getRotation()),FJ(l,M,this.duration_),i.preventDefault(),t=!0}}return!t}}class JJ extends gb{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!WJ(t)&&XF(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==po.KEYDOWN||e.type==po.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const a=e.map,l=r==="+"?this.delta_:-this.delta_,o=a.getView();UO(o,l,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const eee=40,tee=300;class nee extends gb{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:GJ;this.condition_=e.onFocusOnly?J6(VF,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==po.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let a=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:a*=eee;break;case WheelEvent.DOM_DELTA_PAGE:a*=tee;break}if(a===0)return!1;this.lastDelta_=a;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const o=i.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=l,!1;this.totalDelta_+=a;const p=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),p),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-GA(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),UO(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class iee extends yb{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=i2),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],a=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const p=a-this.lastAngle_;this.rotationDelta_+=p,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=p}this.lastAngle_=a;const l=e.map,o=l.getView();o.getConstraints().rotation!==DO&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(LO(this.targetPointers))),this.rotating_&&(l.render(),o.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class ree extends yb{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=i2),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],a=i.clientX-r.clientX,l=i.clientY-r.clientY,o=Math.sqrt(a*a+l*l);this.lastDistance_!==void 0&&(t=this.lastDistance_/o),this.lastDistance_=o;const p=e.map,C=p.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=p.getCoordinateFromPixelInternal(p.getEventPixel(LO(this.targetPointers))),p.render(),C.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function oee(n){n=n||{};const e=new Wm,t=new LJ(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new HJ),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new zJ({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new qJ({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new iee),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new ree({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new XJ),e.push(new JJ({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new nee({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new ZJ({duration:n.zoomDuration})),e}const il={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class JF extends cm{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[il.OPACITY]=e.opacity!==void 0?e.opacity:1,Ss(typeof t[il.OPACITY]=="number","Layer opacity must be a number"),t[il.VISIBLE]=e.visible!==void 0?e.visible:!0,t[il.Z_INDEX]=e.zIndex,t[il.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[il.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[il.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[il.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=GA(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Co()}getLayerStatesArray(e){return Co()}getExtent(){return this.get(il.EXTENT)}getMaxResolution(){return this.get(il.MAX_RESOLUTION)}getMinResolution(){return this.get(il.MIN_RESOLUTION)}getMinZoom(){return this.get(il.MIN_ZOOM)}getMaxZoom(){return this.get(il.MAX_ZOOM)}getOpacity(){return this.get(il.OPACITY)}getSourceState(){return Co()}getVisible(){return this.get(il.VISIBLE)}getZIndex(){return this.get(il.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(il.EXTENT,e)}setMaxResolution(e){this.set(il.MAX_RESOLUTION,e)}setMinResolution(e){this.set(il.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(il.MAX_ZOOM,e)}setMinZoom(e){this.set(il.MIN_ZOOM,e)}setOpacity(e){Ss(typeof e=="number","Layer opacity must be a number"),this.set(il.OPACITY,e)}setVisible(e){this.set(il.VISIBLE,e)}setZIndex(e){this.set(il.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Cg extends um{constructor(e,t){super(e),this.layer=t}}const H4={LAYERS:"layers"};class $v extends JF{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(H4.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Wm(i.slice(),{unique:!0}):Ss(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Wm(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ol),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ja(e,Wd.ADD,this.handleLayersAdd_,this),Ja(e,Wd.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Ol);ub(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const a=t[i];this.registerLayerListeners_(a),this.dispatchEvent(new Cg("addlayer",a))}this.changed()}registerLayerListeners_(e){const t=[Ja(e,Dv.PROPERTYCHANGE,this.handleLayerChange_,this),Ja(e,po.CHANGE,this.handleLayerChange_,this)];e instanceof $v&&t.push(Ja(e,"addlayer",this.handleLayerGroupAdd_,this),Ja(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[To(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Cg("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Cg("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Cg("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=To(t);this.listenerKeys_[i].forEach(Ol),delete this.listenerKeys_[i],this.dispatchEvent(new Cg("removelayer",t)),this.changed()}getLayers(){return this.get(H4.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,a=i.length;r<a;++r)this.dispatchEvent(new Cg("removelayer",i[r]))}this.set(H4.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(t)});const r=this.getLayerState();let a=r.zIndex;!e&&r.zIndex===void 0&&(a=0);for(let l=i,o=t.length;l<o;l++){const p=t[l];p.opacity*=r.opacity,p.visible=p.visible&&r.visible,p.maxResolution=Math.min(p.maxResolution,r.maxResolution),p.minResolution=Math.max(p.minResolution,r.minResolution),p.minZoom=Math.max(p.minZoom,r.minZoom),p.maxZoom=Math.min(p.maxZoom,r.maxZoom),r.extent!==void 0&&(p.extent!==void 0?p.extent=rm(p.extent,r.extent):p.extent=r.extent),p.zIndex===void 0&&(p.zIndex=a)}return t}getSourceState(){return"ready"}}const yp={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Zv extends JF{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(il.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(il.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ol(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ja(e,po.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Jp?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(l=>l.layer===this),!r)return!1}else r=this.getLayerState();const a=this.getExtent();return FO(r,t.viewState)&&(!a||uu(a,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];const i=e instanceof Jp?e.getViewStateAndExtent():e;let r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(il.MAP,e)}getMapInternal(){return this.get(il.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ol(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ol(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ja(e,yp.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ja(this,po.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Ss(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(il.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function FO(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}function ez(n,e,t=0,i=n.length-1,r=aee){for(;i>t;){if(i-t>600){const p=i-t+1,C=e-t+1,M=Math.log(p),O=.5*Math.exp(2*M/3),U=.5*Math.sqrt(M*O*(p-O)/p)*(C-p/2<0?-1:1),K=Math.max(t,Math.floor(e-C*O/p+U)),j=Math.min(i,Math.floor(e+(p-C)*O/p+U));ez(n,e,K,j,r)}const a=n[e];let l=t,o=i;for(_C(n,t,e),r(n[i],a)>0&&_C(n,t,i);l<o;){for(_C(n,l,o),l++,o--;r(n[l],a)<0;)l++;for(;r(n[o],a)>0;)o--}r(n[t],a)===0?_C(n,t,o):(o++,_C(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}}function _C(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function aee(n,e){return n<e?-1:n>e?1:0}let tz=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!$b(e,t))return i;const r=this.toBBox,a=[];for(;t;){for(let l=0;l<t.children.length;l++){const o=t.children[l],p=t.leaf?r(o):o;$b(e,p)&&(t.leaf?i.push(o):$4(e,p)?this._all(o,i):a.push(o))}t=a.pop()}return i}collides(e){let t=this.data;if(!$b(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const a=t.children[r],l=t.leaf?this.toBBox(a):a;if($b(e,l)){if(t.leaf||$4(e,l))return!0;i.push(a)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Av([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),a=[],l=[];let o,p,C;for(;i||a.length;){if(i||(i=a.pop(),p=a[a.length-1],o=l.pop(),C=!0),i.leaf){const M=see(e,i.children,t);if(M!==-1)return i.children.splice(M,1),a.push(i),this._condense(a),this}!C&&!i.leaf&&$4(i,r)?(a.push(i),l.push(o),o=0,p=i,i=i.children[0]):p?(o++,i=p.children[o],C=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const a=i-t+1;let l=this._maxEntries,o;if(a<=l)return o=Av(e.slice(t,i+1)),Dy(o,this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(l)),l=Math.ceil(a/Math.pow(l,r-1))),o=Av([]),o.leaf=!1,o.height=r;const p=Math.ceil(a/l),C=p*Math.ceil(Math.sqrt(l));g9(e,t,i,C,this.compareMinX);for(let M=t;M<=i;M+=C){const O=Math.min(M+C-1,i);g9(e,M,O,p,this.compareMinY);for(let U=M;U<=O;U+=p){const K=Math.min(U+p-1,O);o.children.push(this._build(e,U,K,r-1))}}return Dy(o,this.toBBox),o}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let a=1/0,l=1/0,o;for(let p=0;p<t.children.length;p++){const C=t.children[p],M=V4(C),O=uee(e,C)-M;O<l?(l=O,a=M<a?M:a,o=C):O===l&&M<a&&(a=M,o=C)}t=o||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),a=[],l=this._chooseSubtree(r,this.data,t,a);for(l.children.push(e),KC(l,r);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(r,a,t)}_split(e,t){const i=e[t],r=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,r);const l=this._chooseSplitIndex(i,a,r),o=Av(i.children.splice(l,i.children.length-l));o.height=i.height,o.leaf=i.leaf,Dy(i,this.toBBox),Dy(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)}_splitRoot(e,t){this.data=Av([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Dy(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,a=1/0,l=1/0;for(let o=t;o<=i-t;o++){const p=PC(e,0,o,this.toBBox),C=PC(e,o,i,this.toBBox),M=cee(p,C),O=V4(p)+V4(C);M<a?(a=M,r=o,l=O<l?O:l):M===a&&O<l&&(l=O,r=o)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:lee,a=e.leaf?this.compareMinY:Aee,l=this._allDistMargin(e,t,i,r),o=this._allDistMargin(e,t,i,a);l<o&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const a=this.toBBox,l=PC(e,0,t,a),o=PC(e,i-t,i,a);let p=Vb(l)+Vb(o);for(let C=t;C<i-t;C++){const M=e.children[C];KC(l,e.leaf?a(M):M),p+=Vb(l)}for(let C=i-t-1;C>=t;C--){const M=e.children[C];KC(o,e.leaf?a(M):M),p+=Vb(o)}return p}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)KC(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Dy(e[t],this.toBBox)}};function see(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Dy(n,e){PC(n,0,n.children.length,e,n)}function PC(n,e,t,i,r){r||(r=Av(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let a=e;a<t;a++){const l=n.children[a];KC(r,n.leaf?i(l):l)}return r}function KC(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function lee(n,e){return n.minX-e.minX}function Aee(n,e){return n.minY-e.minY}function V4(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Vb(n){return n.maxX-n.minX+(n.maxY-n.minY)}function uee(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function cee(n,e){const t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),a=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,a-i)}function $4(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function $b(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Av(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g9(n,e,t,i,r){const a=[e,t];for(;a.length;){if(t=a.pop(),e=a.pop(),t-e<=i)continue;const l=e+Math.ceil((t-e)/i/2)*i;ez(n,l,e,t,r),a.push(e,l,l,t)}}const zO=[NaN,NaN,NaN,0];let Z4;function hee(){return Z4||(Z4=WA(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Z4}const dee=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,fee=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,pee=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,mee=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Zb(n,e){return n.endsWith("%")?Number(n.substring(0,n.length-1))/e:Number(n)}function r_(n){throw new Error('failed to parse "'+n+'" as color')}function nz(n){if(n.toLowerCase().startsWith("rgb")){const a=n.match(fee)||n.match(dee)||n.match(pee);if(a){const l=a[4],o=100/255;return[GA(Zb(a[1],o)+.5|0,0,255),GA(Zb(a[2],o)+.5|0,0,255),GA(Zb(a[3],o)+.5|0,0,255),l!==void 0?GA(Zb(l,100),0,1):1]}r_(n)}if(n.startsWith("#")){if(mee.test(n)){const a=n.substring(1),l=a.length<=4?1:2,o=[0,0,0,255];for(let p=0,C=a.length;p<C;p+=l){let M=parseInt(a.substring(p,p+l),16);l===1&&(M+=M<<4),o[p/l]=M}return o[3]=o[3]/255,o}r_(n)}const e=hee();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=n,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=n,e.fillStyle===t&&r_(n));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return nz(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=r2(r[3]/255,3),r}function gee(n){return typeof n=="string"?n:NO(n)}const yee=1024,bC={};let X4=0;function vee(n){if(n.length===4)return n;const e=n.slice();return e[3]=1,e}function J4(n){return n>.0031308?Math.pow(n,1/2.4)*269.025-14.025:n*3294.6}function e5(n){return n>.2068965?Math.pow(n,3):(n-4/29)*(108/841)}function t5(n){return n>10.314724?Math.pow((n+14.025)/269.025,2.4):n/3294.6}function n5(n){return n>.0088564?Math.pow(n,1/3):n/(108/841)+4/29}function y9(n){const e=t5(n[0]),t=t5(n[1]),i=t5(n[2]),r=n5(e*.222488403+t*.716873169+i*.06060791),a=500*(n5(e*.452247074+t*.399439023+i*.148375274)-r),l=200*(r-n5(e*.016863605+t*.117638439+i*.865350722)),o=Math.atan2(l,a)*(180/Math.PI);return[116*r-16,Math.sqrt(a*a+l*l),o<0?o+360:o,n[3]]}function Cee(n){const e=(n[0]+16)/116,t=n[1],i=n[2]*Math.PI/180,r=e5(e),a=e5(e+t/500*Math.cos(i)),l=e5(e-t/200*Math.sin(i)),o=J4(a*3.021973625-r*1.617392459-l*.404875592),p=J4(a*-.943766287+r*1.916279586+l*.027607165),C=J4(a*.069407491-r*.22898585+l*1.159737864);return[GA(o+.5|0,0,255),GA(p+.5|0,0,255),GA(C+.5|0,0,255),n[3]]}function jO(n){if(n==="none")return zO;if(bC.hasOwnProperty(n))return bC[n];if(X4>=yee){let t=0;for(const i in bC)(t++&3)===0&&(delete bC[i],--X4)}const e=nz(n);e.length!==4&&r_(n);for(const t of e)isNaN(t)&&r_(n);return bC[n]=e,++X4,e}function Kv(n){return Array.isArray(n)?n:jO(n)}function NO(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);const r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function v9(n){return n[0]>0&&n[1]>0}function _ee(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function jh(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}let ny=0;const fd=1<<ny++,Za=1<<ny++,Qd=1<<ny++,em=1<<ny++,H1=1<<ny++,UC=1<<ny++,Xb=Math.pow(2,ny)-1,GO={[fd]:"boolean",[Za]:"number",[Qd]:"string",[em]:"color",[H1]:"number[]",[UC]:"size"},bee=Object.keys(GO).map(Number).sort(Zm);function xee(n){return n in GO}function LC(n){const e=[];for(const t of bee)FC(n,t)&&e.push(GO[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function FC(n,e){return(n&e)===e}function cg(n,e){return n===e}class Cc{constructor(e,t){if(!xee(e))throw new Error(`literal expressions must have a specific type, got ${LC(e)}`);this.type=e,this.value=t}}class Mee{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function iz(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function mh(n,e,t){switch(typeof n){case"boolean":{if(cg(e,Qd))return new Cc(Qd,n?"true":"false");if(!FC(e,fd))throw new Error(`got a boolean, but expected ${LC(e)}`);return new Cc(fd,n)}case"number":{if(cg(e,UC))return new Cc(UC,jh(n));if(cg(e,fd))return new Cc(fd,!!n);if(cg(e,Qd))return new Cc(Qd,n.toString());if(!FC(e,Za))throw new Error(`got a number, but expected ${LC(e)}`);return new Cc(Za,n)}case"string":{if(cg(e,em))return new Cc(em,jO(n));if(cg(e,fd))return new Cc(fd,!!n);if(!FC(e,Qd))throw new Error(`got a string, but expected ${LC(e)}`);return new Cc(Qd,n)}}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return Pee(n,e,t);for(const i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(cg(e,UC)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new Cc(UC,n)}if(cg(e,em)){if(n.length===3)return new Cc(em,[...n,1]);if(n.length===4)return new Cc(em,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!FC(e,H1))throw new Error(`got an array of numbers, but expected ${LC(e)}`);return new Cc(H1,n)}const Fn={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},wee={[Fn.Get]:yo(aa(1,1/0),C9),[Fn.Var]:yo(aa(1,1),See),[Fn.Has]:yo(aa(1,1/0),C9),[Fn.Id]:yo(Eee,Ry),[Fn.Concat]:yo(aa(2,1/0),Rs(Qd)),[Fn.GeometryType]:yo(Bee,Ry),[Fn.LineMetric]:yo(Ry),[Fn.Resolution]:yo(i5,Ry),[Fn.Zoom]:yo(i5,Ry),[Fn.Time]:yo(i5,Ry),[Fn.Any]:yo(aa(2,1/0),Rs(fd)),[Fn.All]:yo(aa(2,1/0),Rs(fd)),[Fn.Not]:yo(aa(1,1),Rs(fd)),[Fn.Equal]:yo(aa(2,2),Rs(Xb)),[Fn.NotEqual]:yo(aa(2,2),Rs(Xb)),[Fn.GreaterThan]:yo(aa(2,2),Rs(Za)),[Fn.GreaterThanOrEqualTo]:yo(aa(2,2),Rs(Za)),[Fn.LessThan]:yo(aa(2,2),Rs(Za)),[Fn.LessThanOrEqualTo]:yo(aa(2,2),Rs(Za)),[Fn.Multiply]:yo(aa(2,1/0),_9),[Fn.Coalesce]:yo(aa(2,1/0),_9),[Fn.Divide]:yo(aa(2,2),Rs(Za)),[Fn.Add]:yo(aa(2,1/0),Rs(Za)),[Fn.Subtract]:yo(aa(2,2),Rs(Za)),[Fn.Clamp]:yo(aa(3,3),Rs(Za)),[Fn.Mod]:yo(aa(2,2),Rs(Za)),[Fn.Pow]:yo(aa(2,2),Rs(Za)),[Fn.Abs]:yo(aa(1,1),Rs(Za)),[Fn.Floor]:yo(aa(1,1),Rs(Za)),[Fn.Ceil]:yo(aa(1,1),Rs(Za)),[Fn.Round]:yo(aa(1,1),Rs(Za)),[Fn.Sin]:yo(aa(1,1),Rs(Za)),[Fn.Cos]:yo(aa(1,1),Rs(Za)),[Fn.Atan]:yo(aa(1,2),Rs(Za)),[Fn.Sqrt]:yo(aa(1,1),Rs(Za)),[Fn.Match]:yo(aa(4,1/0),b9,Iee),[Fn.Between]:yo(aa(3,3),Rs(Za)),[Fn.Interpolate]:yo(aa(6,1/0),b9,Tee),[Fn.Case]:yo(aa(3,1/0),Oee,kee),[Fn.In]:yo(aa(2,2),Dee),[Fn.Number]:yo(aa(1,1/0),Rs(Xb)),[Fn.String]:yo(aa(1,1/0),Rs(Xb)),[Fn.Array]:yo(aa(1,1/0),Rs(Za)),[Fn.Color]:yo(aa(1,4),Rs(Za)),[Fn.Band]:yo(aa(1,3),Rs(Za)),[Fn.Palette]:yo(aa(2,2),Ree),[Fn.ToString]:yo(aa(1,1),Rs(fd|Za|Qd|em))};function C9(n,e,t){const i=n.length-1,r=new Array(i);for(let a=0;a<i;++a){const l=n[a+1];switch(typeof l){case"number":{r[a]=new Cc(Za,l);break}case"string":{r[a]=new Cc(Qd,l);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${l}`)}a===0&&t.properties.add(String(l))}return r}function See(n,e,t){const i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new Cc(Qd,i)]}function Eee(n,e,t){t.featureId=!0}function Bee(n,e,t){t.geometryType=!0}function i5(n,e,t){t.mapState=!0}function Ry(n,e,t){const i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function aa(n,e){return function(t,i,r){const a=t[0],l=t.length-1;if(n===e){if(l!==n){const o=n===1?"":"s";throw new Error(`expected ${n} argument${o} for ${a}, got ${l}`)}}else if(l<n||l>e){const o=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${o} arguments for ${a}, got ${l}`)}}}function _9(n,e,t){const i=n.length-1,r=new Array(i);for(let a=0;a<i;++a){const l=mh(n[a+1],e,t);r[a]=l}return r}function Rs(n){return function(e,t,i){const r=e.length-1,a=new Array(r);for(let l=0;l<r;++l){const o=mh(e[l+1],n,i);a[l]=o}return a}}function Oee(n,e,t){const i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function b9(n,e,t){const i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function Iee(n,e,t){const i=n.length-1,r=Qd|Za|fd,a=mh(n[1],r,t),l=mh(n[n.length-1],e,t),o=new Array(i-2);for(let p=0;p<i-2;p+=2){try{const C=mh(n[p+2],a.type,t);o[p]=C}catch(C){throw new Error(`failed to parse argument ${p+1} of match expression: ${C.message}`)}try{const C=mh(n[p+3],l.type,t);o[p+1]=C}catch(C){throw new Error(`failed to parse argument ${p+2} of match expression: ${C.message}`)}}return[a,...o,l]}function Tee(n,e,t){const i=n[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const p=i[1];if(typeof p!="number"||p<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(p)} instead`);r=p;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const a=new Cc(Za,r);let l;try{l=mh(n[2],Za,t)}catch(p){throw new Error(`failed to parse argument 1 in interpolate expression: ${p.message}`)}const o=new Array(n.length-3);for(let p=0;p<o.length;p+=2){try{const C=mh(n[p+3],Za,t);o[p]=C}catch(C){throw new Error(`failed to parse argument ${p+2} for interpolate expression: ${C.message}`)}try{const C=mh(n[p+4],e,t);o[p+1]=C}catch(C){throw new Error(`failed to parse argument ${p+3} for interpolate expression: ${C.message}`)}}return[a,l,...o]}function kee(n,e,t){const i=mh(n[n.length-1],e,t),r=new Array(n.length-1);for(let a=0;a<r.length-1;a+=2){try{const l=mh(n[a+1],fd,t);r[a]=l}catch(l){throw new Error(`failed to parse argument ${a} of case expression: ${l.message}`)}try{const l=mh(n[a+2],i.type,t);r[a+1]=l}catch(l){throw new Error(`failed to parse argument ${a+1} of case expression: ${l.message}`)}}return r[r.length-1]=i,r}function Dee(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=Qd}else r=Za;const a=new Array(i.length);for(let o=0;o<a.length;o++)try{const p=mh(i[o],r,t);a[o]=p}catch(p){throw new Error(`failed to parse haystack item ${o} for "in" expression: ${p.message}`)}return[mh(n[1],r,t),...a]}function Ree(n,e,t){let i;try{i=mh(n[1],Za,t)}catch(l){throw new Error(`failed to parse first argument in palette expression: ${l.message}`)}const r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const a=new Array(r.length);for(let l=0;l<a.length;l++){let o;try{o=mh(r[l],em,t)}catch(p){throw new Error(`failed to parse color at index ${l} in palette expression: ${p.message}`)}if(!(o instanceof Cc))throw new Error(`the palette color at index ${l} must be a literal value`);a[l]=o}return[i,...a]}function yo(...n){return function(e,t,i){const r=e[0];let a;for(let l=0;l<n.length;l++){const o=n[l](e,t,i);if(l==n.length-1){if(!o)throw new Error("expected last argument validator to return the parsed args");a=o}}return new Mee(t,r,...a)}}function Pee(n,e,t){const i=n[0],r=wee[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function rz(n){if(!n)return"";const e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return rz(n.getGeometries()[0]);default:return""}}function oz(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function G0(n,e,t){const i=mh(n,e,t);return om(i)}function om(n,e){if(n instanceof Cc){if(n.type===em&&typeof n.value=="string"){const i=jO(n.value);return function(){return i}}return function(){return n.value}}const t=n.operator;switch(t){case Fn.Number:case Fn.String:case Fn.Coalesce:return Kee(n);case Fn.Get:case Fn.Var:case Fn.Has:return Uee(n);case Fn.Id:return i=>i.featureId;case Fn.GeometryType:return i=>i.geometryType;case Fn.Concat:{const i=n.args.map(r=>om(r));return r=>"".concat(...i.map(a=>a(r).toString()))}case Fn.Resolution:return i=>i.resolution;case Fn.Any:case Fn.All:case Fn.Between:case Fn.In:case Fn.Not:return Fee(n);case Fn.Equal:case Fn.NotEqual:case Fn.LessThan:case Fn.LessThanOrEqualTo:case Fn.GreaterThan:case Fn.GreaterThanOrEqualTo:return Lee(n);case Fn.Multiply:case Fn.Divide:case Fn.Add:case Fn.Subtract:case Fn.Clamp:case Fn.Mod:case Fn.Pow:case Fn.Abs:case Fn.Floor:case Fn.Ceil:case Fn.Round:case Fn.Sin:case Fn.Cos:case Fn.Atan:case Fn.Sqrt:return zee(n);case Fn.Case:return jee(n);case Fn.Match:return Nee(n);case Fn.Interpolate:return Gee(n);case Fn.ToString:return Wee(n);default:throw new Error(`Unsupported operator ${t}`)}}function Kee(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=om(n.args[a]);switch(t){case Fn.Coalesce:return a=>{for(let l=0;l<i;++l){const o=r[l](a);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case Fn.Number:case Fn.String:return a=>{for(let l=0;l<i;++l){const o=r[l](a);if(typeof o===t)return o}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Uee(n,e){const i=n.args[0].value;switch(n.operator){case Fn.Get:return r=>{const a=n.args;let l=r.properties[i];for(let o=1,p=a.length;o<p;++o){const M=a[o].value;l=l[M]}return l};case Fn.Var:return r=>r.variables[i];case Fn.Has:return r=>{const a=n.args;if(!(i in r.properties))return!1;let l=r.properties[i];for(let o=1,p=a.length;o<p;++o){const M=a[o].value;if(!l||!Object.hasOwn(l,M))return!1;l=l[M]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function Lee(n,e){const t=n.operator,i=om(n.args[0]),r=om(n.args[1]);switch(t){case Fn.Equal:return a=>i(a)===r(a);case Fn.NotEqual:return a=>i(a)!==r(a);case Fn.LessThan:return a=>i(a)<r(a);case Fn.LessThanOrEqualTo:return a=>i(a)<=r(a);case Fn.GreaterThan:return a=>i(a)>r(a);case Fn.GreaterThanOrEqualTo:return a=>i(a)>=r(a);default:throw new Error(`Unsupported comparison operator ${t}`)}}function Fee(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=om(n.args[a]);switch(t){case Fn.Any:return a=>{for(let l=0;l<i;++l)if(r[l](a))return!0;return!1};case Fn.All:return a=>{for(let l=0;l<i;++l)if(!r[l](a))return!1;return!0};case Fn.Between:return a=>{const l=r[0](a),o=r[1](a),p=r[2](a);return l>=o&&l<=p};case Fn.In:return a=>{const l=r[0](a);for(let o=1;o<i;++o)if(l===r[o](a))return!0;return!1};case Fn.Not:return a=>!r[0](a);default:throw new Error(`Unsupported logical operator ${t}`)}}function zee(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=om(n.args[a]);switch(t){case Fn.Multiply:return a=>{let l=1;for(let o=0;o<i;++o)l*=r[o](a);return l};case Fn.Divide:return a=>r[0](a)/r[1](a);case Fn.Add:return a=>{let l=0;for(let o=0;o<i;++o)l+=r[o](a);return l};case Fn.Subtract:return a=>r[0](a)-r[1](a);case Fn.Clamp:return a=>{const l=r[0](a),o=r[1](a);if(l<o)return o;const p=r[2](a);return l>p?p:l};case Fn.Mod:return a=>r[0](a)%r[1](a);case Fn.Pow:return a=>Math.pow(r[0](a),r[1](a));case Fn.Abs:return a=>Math.abs(r[0](a));case Fn.Floor:return a=>Math.floor(r[0](a));case Fn.Ceil:return a=>Math.ceil(r[0](a));case Fn.Round:return a=>Math.round(r[0](a));case Fn.Sin:return a=>Math.sin(r[0](a));case Fn.Cos:return a=>Math.cos(r[0](a));case Fn.Atan:return i===2?a=>Math.atan2(r[0](a),r[1](a)):a=>Math.atan(r[0](a));case Fn.Sqrt:return a=>Math.sqrt(r[0](a));default:throw new Error(`Unsupported numeric operator ${t}`)}}function jee(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=om(n.args[r]);return r=>{for(let a=0;a<t-1;a+=2)if(i[a](r))return i[a+1](r);return i[t-1](r)}}function Nee(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=om(n.args[r]);return r=>{const a=i[0](r);for(let l=1;l<t-1;l+=2)if(a===i[l](r))return i[l+1](r);return i[t-1](r)}}function Gee(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=om(n.args[r]);return r=>{const a=i[0](r),l=i[1](r);let o,p;for(let C=2;C<t;C+=2){const M=i[C](r);let O=i[C+1](r);const U=Array.isArray(O);if(U&&(O=vee(O)),M>=l)return C===2?O:U?Qee(a,l,o,p,M,O):zC(a,l,o,p,M,O);o=M,p=O}return p}}function Wee(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let a=0;a<i;++a)r[a]=om(n.args[a]);switch(t){case Fn.ToString:return a=>{const l=r[0](a);return n.args[0].type===em?NO(l):l.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function zC(n,e,t,i,r,a){const l=r-t;if(l===0)return i;const o=e-t,p=n===1?o/l:(Math.pow(n,o)-1)/(Math.pow(n,l)-1);return i+p*(a-i)}function Qee(n,e,t,i,r,a){if(r-t===0)return i;const o=y9(i),p=y9(a);let C=p[2]-o[2];C>180?C-=360:C<-180&&(C+=360);const M=[zC(n,e,t,o[0],r,p[0]),zC(n,e,t,o[1],r,p[1]),o[2]+zC(n,e,t,0,r,C),zC(n,e,t,i[3],r,a[3])];return Cee(M)}const dr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class WO extends cb{constructor(e,t,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=t,this.state=typeof r=="function"?dr.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(po.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==dr.IDLE&&this.loader){this.state=dr.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;Rv(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||iX&&i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=dr.LOADED}).catch(i=>{this.state=dr.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function Yee(n,e,t){const i=n;let r=!0,a=!1,l=!1;const o=[Zx(i,po.LOAD,function(){l=!0,a||e()})];return i.src&&fF?(a=!0,i.decode().then(function(){r&&e()}).catch(function(p){r&&(l?e():t())})):o.push(Zx(i,po.ERROR,t)),function(){r=!1,o.forEach(Ol)}}function qee(n,e){return new Promise((t,i)=>{function r(){l(),t(n)}function a(){l(),i(new Error("Image load error"))}function l(){n.removeEventListener("load",r),n.removeEventListener("error",a)}n.addEventListener("load",r),n.addEventListener("error",a)})}function Hee(n,e){return e&&(n.src=e),n.src&&fF?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):qee(n)}class Vee{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const r=r5(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){const r=r5(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,a){const l=r5(e,t,i),o=l in this.cache_;this.cache_[l]=r,a&&(r.getImageState()===dr.IDLE&&r.load(),r.getImageState()===dr.LOADING?r.ready().then(()=>{this.patternCache_[l]=r3().createPattern(r.getImage(1),"repeat")}):this.patternCache_[l]=r3().createPattern(r.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function r5(n,e,t){const i=t?Kv(t):"null";return e+":"+n+":"+i}const vp=new Vee;let xC=null;class az extends cb{constructor(e,t,i,r,a){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=a,this.imageState_=r===void 0?dr.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===dr.LOADED){xC||(xC=WA(1,1,void 0,{willReadFrequently:!0})),xC.drawImage(this.image_,0,0);try{xC.getImageData(0,0,1,1),this.tainted_=!1}catch{xC=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(po.CHANGE)}handleImageError_(){this.imageState_=dr.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=dr.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=WA(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===dr.IDLE){this.image_||this.initializeImage_(),this.imageState_=dr.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Hee(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==dr.LOADED)return;const t=this.image_,i=WA(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=gee(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===dr.LOADED||this.imageState_===dr.ERROR)e();else{const t=()=>{(this.imageState_===dr.LOADED||this.imageState_===dr.ERROR)&&(this.removeEventListener(po.CHANGE,t),e())};this.addEventListener(po.CHANGE,t)}})),this.ready_}}function QO(n,e,t,i,r,a){let l=e===void 0?void 0:vp.get(e,t,r);return l||(l=new az(n,n&&"src"in n?n.src||void 0:e,t,i,r),vp.set(e,t,r,l,a)),a&&l&&!vp.getPattern(e,t,r)&&vp.set(e,t,r,l,a),l}function qm(n){return n?Array.isArray(n)?NO(n):typeof n=="object"&&"src"in n?$ee(n):n:null}function $ee(n){if(!n.offset||!n.size)return vp.getPattern(n.src,"anonymous",n.color);const e=n.src+":"+n.offset,t=vp.getPattern(e,void 0,n.color);if(t)return t;const i=vp.get(n.src,"anonymous",null);if(i.getImageState()!==dr.LOADED)return null;const r=WA(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),QO(r.canvas,e,void 0,dr.LOADED,n.color,!0),vp.getPattern(e,void 0,n.color)}const sz="10px sans-serif",Yd="#000",Uv="round",R0=[],P0=0,Lv="round",T_=10,k_="#000",D_="center",o3="middle",T1=[0,0,0,0],R_=1,w1=new cm;let MC=null,x9;const eB={},Zee=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function Xee(n,e,t){return`${n} ${e} 16px "${t}"`}const Jee=function(){let e,t;async function i(a){await t.ready;const l=await t.load(a);if(l.length===0)return!1;const o=X6(a),p=o.families[0].toLowerCase(),C=o.weight;return l.some(M=>{const O=M.family.replace(/^['"]|['"]$/g,"").toLowerCase(),U=Z6[M.weight]||M.weight;return O===p&&M.style===o.style&&U==C})}async function r(){await t.ready;let a=!0;const l=w1.getProperties(),o=Object.keys(l).filter(p=>l[p]<100);for(let p=o.length-1;p>=0;--p){const C=o[p];let M=l[C];M<100&&(await i(C)?(ub(eB),w1.set(C,100)):(M+=10,w1.set(C,M,!0),M<100&&(a=!1)))}e=void 0,a||(e=setTimeout(r,100))}return async function(a){t||(t=uO?self.fonts:document.fonts);const l=X6(a);if(!l)return;const o=l.families;let p=!1;for(const C of o){if(Zee.has(C))continue;const M=Xee(l.style,l.weight,C);w1.get(M)===void 0&&(w1.set(M,0,!0),p=!0)}p&&(clearTimeout(e),e=setTimeout(r,100))}}(),ete=function(){let n;return function(e){let t=eB[e];if(t==null){if(uO){const i=X6(e),r=lz(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);eB[e]=t}return t}}();function lz(n,e){return MC||(MC=WA(1,1)),n!=x9&&(MC.font=n,x9=MC.font),MC.measureText(e)}function Az(n,e){return lz(n,e).width}function M9(n,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((r,a)=>Math.max(r,Az(n,a)),0);return t[e]=i,i}function tte(n,e){const t=[],i=[],r=[];let a=0,l=0,o=0,p=0;for(let C=0,M=e.length;C<=M;C+=2){const O=e[C];if(O===`
`||C===M){a=Math.max(a,l),r.push(l),l=0,o+=p,p=0;continue}const U=e[C+1]||n.font,K=Az(U,O);t.push(K),l+=K;const j=ete(U);i.push(j),p=Math.max(p,j)}return{width:a,height:o,widths:t,heights:i,lineWidths:r}}function nte(n,e,t,i,r,a,l,o,p,C,M){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=O=>O.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(p,C),n.scale(M[0],M[1]),ite(i,n)):M[0]<0||M[1]<0?(n.translate(p,C),n.scale(M[0],M[1]),n.drawImage(i,r,a,l,o,0,0,l,o)):n.drawImage(i,r,a,l,o,p,C,l*M[0],o*M[1]),n.restore()}function ite(n,e){const t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class m2{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=jh(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new m2({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Co()}getImage(e){return Co()}getHitDetectionImage(){return Co()}getPixelRatio(e){return 1}getImageState(){return Co()}getImageSize(){return Co()}getOrigin(){return Co()}getSize(){return Co()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=jh(e)}listenImageChange(e){Co()}load(){Co()}unlistenImageChange(e){Co()}ready(){return Promise.resolve()}}class g2 extends m2{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?dr.LOADING:dr.LOADED,this.imageState_===dr.LOADING&&this.ready().then(()=>this.imageState_=dr.LOADED),this.render()}clone(){const e=this.getScale(),t=new g2({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=vp.get(i,null,null)?.getImage(1);if(!r){const a=this.renderOptions_,l=Math.ceil(a.size*e),o=WA(l,l);this.draw_(a,o,e),r=o.canvas,vp.set(i,null,null,new az(r,void 0,null,dr.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,a=this.radius2_===void 0?r:this.radius2_;if(r<a){const ae=r;r=a,a=ae}const l=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/l,p=a*Math.sin(o),C=Math.sqrt(a*a-p*p),M=r-C,O=Math.sqrt(p*p+M*M),U=O/p;if(e==="miter"&&U<=i)return U*t;const K=t/2/U,j=t/2*(M/O),Y=Math.sqrt((r+K)*(r+K)+j*j)-r;if(this.radius2_===void 0||e==="bevel")return Y*2;const te=r*Math.sin(o),J=Math.sqrt(r*r-te*te),oe=a-J,$=Math.sqrt(te*te+oe*oe)/te;if($<=i){const ae=$*t/2-a-r;return 2*Math.max(Y,ae)}return Y*2}createRenderOptions(){let e=Uv,t=Lv,i=0,r=null,a=0,l,o=0;this.stroke_&&(l=qm(this.stroke_.getColor()??k_),o=this.stroke_.getWidth()??R_,r=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??Lv,e=this.stroke_.getLineCap()??Uv,i=this.stroke_.getMiterLimit()??T_);const p=this.calculateLineJoinSize_(t,o,i),C=Math.max(this.radius,this.radius2_||0),M=Math.ceil(2*C+p);return{strokeStyle:l,strokeWidth:o,size:M,lineCap:e,lineDash:r,lineDashOffset:a,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=Yd),t.fillStyle=qm(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Kv(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=WA(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const a=this.angle_-Math.PI/2,l=2*Math.PI/t;for(let o=0;o<t;o++){const p=a+o*l,C=o%2===0?i:r;e.lineTo(C*Math.cos(p),C*Math.sin(p))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Yd,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class vb extends g2{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new vb({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class k0{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new k0({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=QO(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===dr.IDLE&&t.load(),t.getImageState()===dr.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?To(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Kv(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function w9(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}class Fv extends m2{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,a=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:a,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const l=e.img!==void 0?e.img:null;let o=e.src;Ss(!(o!==void 0&&l),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&l&&(o=l.src||To(l)),Ss(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),Ss(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let p;if(e.src!==void 0?p=dr.IDLE:l!==void 0&&("complete"in l?l.complete?p=l.src?dr.LOADED:dr.IDLE:p=dr.LOADING:p=dr.LOADED),this.color_=e.color!==void 0?Kv(e.color):null,this.iconImage_=QO(l,o,this.crossOrigin_,p,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let C,M;if(e.size)[C,M]=e.size;else{const O=this.getImage(1);if(O.width&&O.height)C=O.width,M=O.height;else if(O instanceof HTMLImageElement){this.initialOptions_=e;const U=()=>{if(this.unlistenImageChange(U),!this.initialOptions_)return;const K=this.iconImage_.getSize();this.setScale(w9(K[0],K[1],e.width,e.height))};this.listenImageChange(U);return}}C!==void 0&&this.setScale(w9(C,M,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Fv({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==dr.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==dr.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(po.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(po.CHANGE,e)}ready(){return this.iconImage_.ready()}}class Og{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Og({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class bf{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=S9,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new bf({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=S9,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function rte(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Ss(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}let o5=null;function uz(n,e){if(!o5){const t=new k0({color:"rgba(255,255,255,0.4)"}),i=new Og({color:"#3399CC",width:1.25});o5=[new bf({image:new vb({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return o5}function S9(n){return n.getGeometry()}const ote="#333";class y2{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=jh(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new k0({color:ote}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new y2({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=jh(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function ate(n){return!0}function ste(n){const e=iz(),t=lte(n,e),i=oz();return function(r,a){if(i.properties=r.getPropertiesInternal(),i.resolution=a,e.featureId){const l=r.getId();l!==void 0?i.featureId=l:i.featureId=null}return e.geometryType&&(i.geometryType=rz(r.getGeometry())),t(i)}}function E9(n){const e=iz(),t=n.length,i=new Array(t);for(let l=0;l<t;++l)i[l]=tB(n[l],e);const r=oz(),a=new Array(t);return function(l,o){if(r.properties=l.getPropertiesInternal(),r.resolution=o,e.featureId){const C=l.getId();C!==void 0?r.featureId=C:r.featureId=null}let p=0;for(let C=0;C<t;++C){const M=i[C](r);M&&(a[p]=M,p+=1)}return a.length=p,a}}function lte(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r){const a=n[r],l="filter"in a?G0(a.filter,fd,e):ate;let o;if(Array.isArray(a.style)){const p=a.style.length;o=new Array(p);for(let C=0;C<p;++C)o[C]=tB(a.style[C],e)}else o=[tB(a.style,e)];i[r]={filter:l,styles:o}}return function(r){const a=[];let l=!1;for(let o=0;o<t;++o){const p=i[o].filter;if(p(r)&&!(n[o].else&&l)){l=!0;for(const C of i[o].styles){const M=C(r);M&&a.push(M)}}}return a}}function tB(n,e){const t=P_(n,"",e),i=K_(n,"",e),r=Ate(n,e),a=ute(n,e),l=qd(n,"z-index",e);if(!t&&!i&&!r&&!a&&!jg(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));const o=new bf;return function(p){let C=!0;if(t){const M=t(p);M&&(C=!1),o.setFill(M)}if(i){const M=i(p);M&&(C=!1),o.setStroke(M)}if(r){const M=r(p);M&&(C=!1),o.setText(M)}if(a){const M=a(p);M&&(C=!1),o.setImage(M)}return l&&o.setZIndex(l(p)),C?null:o}}function P_(n,e,t){let i;if(e+"fill-pattern-src"in n)i=fte(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return a=>null;i=YO(n,e+"fill-color",t)}if(!i)return null;const r=new k0;return function(a){const l=i(a);return l===zO?null:(r.setColor(l),r)}}function K_(n,e,t){const i=qd(n,e+"stroke-width",t),r=YO(n,e+"stroke-color",t);if(!i&&!r)return null;const a=T0(n,e+"stroke-line-cap",t),l=T0(n,e+"stroke-line-join",t),o=cz(n,e+"stroke-line-dash",t),p=qd(n,e+"stroke-line-dash-offset",t),C=qd(n,e+"stroke-miter-limit",t),M=new Og;return function(O){if(r){const U=r(O);if(U===zO)return null;M.setColor(U)}if(i&&M.setWidth(i(O)),a){const U=a(O);if(U!=="butt"&&U!=="round"&&U!=="square")throw new Error("Expected butt, round, or square line cap");M.setLineCap(U)}if(l){const U=l(O);if(U!=="bevel"&&U!=="round"&&U!=="miter")throw new Error("Expected bevel, round, or miter line join");M.setLineJoin(U)}return o&&M.setLineDash(o(O)),p&&M.setLineDashOffset(p(O)),C&&M.setMiterLimit(C(O)),M}}function Ate(n,e){const t="text-",i=T0(n,t+"value",e);if(!i)return null;const r=P_(n,t,e),a=P_(n,t+"background-",e),l=K_(n,t,e),o=K_(n,t+"background-",e),p=T0(n,t+"font",e),C=qd(n,t+"max-angle",e),M=qd(n,t+"offset-x",e),O=qd(n,t+"offset-y",e),U=_v(n,t+"overflow",e),K=T0(n,t+"placement",e),j=qd(n,t+"repeat",e),W=v2(n,t+"scale",e),Y=_v(n,t+"rotate-with-view",e),te=qd(n,t+"rotation",e),J=T0(n,t+"align",e),oe=T0(n,t+"justify",e),ne=T0(n,t+"baseline",e),$=_v(n,t+"keep-upright",e),ae=cz(n,t+"padding",e),G=C2(n,t+"declutter-mode"),ce=new y2({declutterMode:G});return function(ge){if(ce.setText(i(ge)),r&&ce.setFill(r(ge)),a&&ce.setBackgroundFill(a(ge)),l&&ce.setStroke(l(ge)),o&&ce.setBackgroundStroke(o(ge)),p&&ce.setFont(p(ge)),C&&ce.setMaxAngle(C(ge)),M&&ce.setOffsetX(M(ge)),O&&ce.setOffsetY(O(ge)),U&&ce.setOverflow(U(ge)),K){const ye=K(ge);if(ye!=="point"&&ye!=="line")throw new Error("Expected point or line for text-placement");ce.setPlacement(ye)}if(j&&ce.setRepeat(j(ge)),W&&ce.setScale(W(ge)),Y&&ce.setRotateWithView(Y(ge)),te&&ce.setRotation(te(ge)),J){const ye=J(ge);if(ye!=="left"&&ye!=="center"&&ye!=="right"&&ye!=="end"&&ye!=="start")throw new Error("Expected left, right, center, start, or end for text-align");ce.setTextAlign(ye)}if(oe){const ye=oe(ge);if(ye!=="left"&&ye!=="right"&&ye!=="center")throw new Error("Expected left, right, or center for text-justify");ce.setJustify(ye)}if(ne){const ye=ne(ge);if(ye!=="bottom"&&ye!=="top"&&ye!=="middle"&&ye!=="alphabetic"&&ye!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");ce.setTextBaseline(ye)}return ae&&ce.setPadding(ae(ge)),$&&ce.setKeepUpright($(ge)),ce}}function ute(n,e){return"icon-src"in n?cte(n,e):"shape-points"in n?hte(n,e):"circle-radius"in n?dte(n,e):null}function cte(n,e){const t="icon-",i=t+"src",r=hz(n[i],i),a=a3(n,t+"anchor",e),l=v2(n,t+"scale",e),o=qd(n,t+"opacity",e),p=a3(n,t+"displacement",e),C=qd(n,t+"rotation",e),M=_v(n,t+"rotate-with-view",e),O=O9(n,t+"anchor-origin"),U=I9(n,t+"anchor-x-units"),K=I9(n,t+"anchor-y-units"),j=yte(n,t+"color"),W=mte(n,t+"cross-origin"),Y=gte(n,t+"offset"),te=O9(n,t+"offset-origin"),J=s3(n,t+"width"),oe=s3(n,t+"height"),ne=pte(n,t+"size"),$=C2(n,t+"declutter-mode"),ae=new Fv({src:r,anchorOrigin:O,anchorXUnits:U,anchorYUnits:K,color:j,crossOrigin:W,offset:Y,offsetOrigin:te,height:oe,width:J,size:ne,declutterMode:$});return function(G){return o&&ae.setOpacity(o(G)),p&&ae.setDisplacement(p(G)),C&&ae.setRotation(C(G)),M&&ae.setRotateWithView(M(G)),l&&ae.setScale(l(G)),a&&ae.setAnchor(a(G)),ae}}function hte(n,e){const t="shape-",i=t+"points",r=t+"radius",a=nB(n[i],i),l=nB(n[r],r),o=P_(n,t,e),p=K_(n,t,e),C=v2(n,t+"scale",e),M=a3(n,t+"displacement",e),O=qd(n,t+"rotation",e),U=_v(n,t+"rotate-with-view",e),K=s3(n,t+"radius2"),j=s3(n,t+"angle"),W=C2(n,t+"declutter-mode"),Y=new g2({points:a,radius:l,radius2:K,angle:j,declutterMode:W});return function(te){return o&&Y.setFill(o(te)),p&&Y.setStroke(p(te)),M&&Y.setDisplacement(M(te)),O&&Y.setRotation(O(te)),U&&Y.setRotateWithView(U(te)),C&&Y.setScale(C(te)),Y}}function dte(n,e){const t="circle-",i=P_(n,t,e),r=K_(n,t,e),a=qd(n,t+"radius",e),l=v2(n,t+"scale",e),o=a3(n,t+"displacement",e),p=qd(n,t+"rotation",e),C=_v(n,t+"rotate-with-view",e),M=C2(n,t+"declutter-mode"),O=new vb({radius:5,declutterMode:M});return function(U){return a&&O.setRadius(a(U)),i&&O.setFill(i(U)),r&&O.setStroke(r(U)),o&&O.setDisplacement(o(U)),p&&O.setRotation(p(U)),C&&O.setRotateWithView(C(U)),l&&O.setScale(l(U)),O}}function qd(n,e,t){if(!(e in n))return;const i=G0(n[e],Za,t);return function(r){return nB(i(r),e)}}function T0(n,e,t){if(!(e in n))return null;const i=G0(n[e],Qd,t);return function(r){return hz(i(r),e)}}function fte(n,e,t){const i=T0(n,e+"pattern-src",t),r=B9(n,e+"pattern-offset",t),a=B9(n,e+"pattern-size",t),l=YO(n,e+"color",t);return function(o){return{src:i(o),offset:r&&r(o),size:a&&a(o),color:l&&l(o)}}}function _v(n,e,t){if(!(e in n))return null;const i=G0(n[e],fd,t);return function(r){const a=i(r);if(typeof a!="boolean")throw new Error(`Expected a boolean for ${e}`);return a}}function YO(n,e,t){if(!(e in n))return null;const i=G0(n[e],em,t);return function(r){return dz(i(r),e)}}function cz(n,e,t){if(!(e in n))return null;const i=G0(n[e],H1,t);return function(r){return Cb(i(r),e)}}function a3(n,e,t){if(!(e in n))return null;const i=G0(n[e],H1,t);return function(r){const a=Cb(i(r),e);if(a.length!==2)throw new Error(`Expected two numbers for ${e}`);return a}}function B9(n,e,t){if(!(e in n))return null;const i=G0(n[e],H1,t);return function(r){return fz(i(r),e)}}function v2(n,e,t){if(!(e in n))return null;const i=G0(n[e],H1|Za,t);return function(r){return vte(i(r),e)}}function s3(n,e){const t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function pte(n,e){const t=n[e];if(t!==void 0){if(typeof t=="number")return jh(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function mte(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function O9(n,e){const t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function I9(n,e){const t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function gte(n,e){const t=n[e];if(t!==void 0)return Cb(t,e)}function C2(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function yte(n,e){const t=n[e];if(t!==void 0)return dz(t,e)}function Cb(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);const t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function hz(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function nB(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function dz(n,e){if(typeof n=="string")return n;const t=Cb(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function fz(n,e){const t=Cb(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function vte(n,e){return typeof n=="number"?n:fz(n,e)}const T9={RENDER_ORDER:"renderOrder"};class qO extends Zv{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(T9.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new tz(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(T9.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?uz:e;const t=Cte(e);this.styleFunction_=e===null?void 0:rte(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function Cte(n){if(n===void 0)return uz;if(!n)return null;if(typeof n=="function"||n instanceof bf)return n;if(!Array.isArray(n))return E9([n]);if(n.length===0)return[];const e=n.length,t=n[0];if(t instanceof bf){const r=new Array(e);for(let a=0;a<e;++a){const l=n[a];if(!(l instanceof bf))throw new Error("Expected a list of style instances");r[a]=l}return r}if("style"in t){const r=new Array(e);for(let a=0;a<e;++a){const l=n[a];if(!("style"in l))throw new Error("Expected a list of rules with a style property");r[a]=l}return ste(r)}return E9(n)}class pz extends um{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}}class _te extends Ab{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Co()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;e0(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),RF(r,i)}forEachFeatureAtCoordinate(e,t,i,r,a,l,o,p){let C;const M=t.viewState;function O(ne,$,ae,G){return a.call(l,$,ne?ae:null,G)}const U=M.projection,K=fO(e.slice(),U),j=[[0,0]];if(U.canWrapX()&&r){const ne=U.getExtent(),$=us(ne);j.push([-$,0],[$,0])}const W=t.layerStatesArray,Y=W.length,te=[],J=[];for(let ne=0;ne<j.length;ne++)for(let $=Y-1;$>=0;--$){const ae=W[$],G=ae.layer;if(G.hasRenderer()&&FO(ae,M)&&o.call(p,G)){const ce=G.getRenderer(),ge=G.getSource();if(ce&&ge){const ye=ge.getWrapX()?K:e,we=O.bind(null,ae.managed);J[0]=ye[0]+j[ne][0],J[1]=ye[1]+j[ne][1],C=ce.forEachFeatureAtCoordinate(J,t,i,we,te)}if(C)return C}}if(te.length===0)return;const oe=1/te.length;return te.forEach((ne,$)=>ne.distanceSq+=$*oe),te.sort((ne,$)=>ne.distanceSq-$.distanceSq),te.some(ne=>C=ne.callback(ne.feature,ne.layer,ne.geometry)),C}hasFeatureAtCoordinate(e,t,i,r,a,l){return this.forEachFeatureAtCoordinate(e,t,i,r,w_,this,a,l)!==void 0}getMap(){return this.map_}renderFrame(e){Co()}scheduleExpireIconCache(e){vp.canExpireCache()&&e.postRenderFunctions.push(bte)}}function bte(n,e){vp.expire()}class xte extends _te{constructor(e){super(e),this.fontChangeListenerKey_=Ja(w1,Dv.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=p2+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new pz(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Ol(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(yp.PRECOMPOSE,e);const t=e.layerStatesArray.sort((o,p)=>o.zIndex-p.zIndex);t.some(o=>o.layer instanceof qO&&o.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const a=[];let l=null;for(let o=0,p=t.length;o<p;++o){const C=t[o];e.layerIndex=o;const M=C.layer,O=M.getSourceState();if(!FO(C,r)||O!="ready"&&O!="undefined"){M.unrender();continue}const U=M.render(e,l);U&&(U!==l&&(this.children_.push(U),l=U),a.push(C))}this.declutter(e,a),DJ(this.element_,this.children_),this.dispatchRenderEvent(yp.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const r=t[i],a=r.layer;a.getDeclutter()&&a.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}}function mz(n){if(n instanceof Zv){n.setMapInternal(null);return}n instanceof $v&&n.getLayers().forEach(mz)}function gz(n,e){if(n instanceof Zv){n.setMapInternal(e);return}if(n instanceof $v){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)gz(t[i],e)}}let _2=class extends cm{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=Mte(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:nX,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Hd(),this.pixelToCoordinateTransform_=Hd(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||UJ(),this.interactions=t.interactions||oee({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new mF(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Lh.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Lh.VIEW,this.handleViewChanged_),this.addChangeListener(Lh.SIZE,this.handleSizeChanged_),this.addChangeListener(Lh.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Jp)&&e.view.then(function(r){i.setView(new Jp(r))}),this.controls.addEventListener(Wd.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Wd.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Wd.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Wd.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Wd.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Wd.REMOVE,r=>{const a=r.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){gz(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const a=i.hitTolerance!==void 0?i.hitTolerance:0,l=i.layerFilter!==void 0?i.layerFilter:w_,o=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,a,o,t,null,l,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(r){r instanceof $v?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:w_,a=t.hitTolerance!==void 0?t.hitTolerance:0,l=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,l,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),a=i.width/r[0],l=i.height/r[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-i.left)/a,(o.clientY-i.top)/l]}getTarget(){return this.get(Lh.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return H6(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?nc(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Lh.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Wm){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const a=r.layer.getRenderer();if(a&&!a.ready)return!0;const l=r.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const t=O0(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?nc(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Lh.SIZE)}getView(){return this.get(Lh.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return aX(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;const i=new yg(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===L6.POINTERDOWN||i===po.WHEEL||i===po.KEYDOWN){const r=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():r,l=t.target,o=a instanceof ShadowRoot?a.host===l?a.host.ownerDocument:a:a===r?r.documentElement:a;if(this.overlayContainerStopEvent_.contains(l)||!o.contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let a=r.length-1;a>=0;a--){const l=r[a];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,a=r;if(e){const l=e.viewHints;if(l[CA.ANIMATING]||l[CA.INTERACTING]){const o=Date.now()-e.time>8;r=o?0:8,a=o?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,a))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(yp.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(yp.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new lv(I0.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new lv(I0.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,a=i.length;r<a;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Ol(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(po.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(po.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new xte(this)),this.mapBrowserEventHandler_=new rX(this,this.moveTolerance_);for(const a in lu)this.mapBrowserEventHandler_.addEventListener(lu[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(po.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(po.WHEEL,this.boundHandleBrowserEvent_,pF?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const a=t.getRootNode();i=a instanceof ShadowRoot?a.host:t}this.targetChangeHandlerKeys_=[Ja(i,po.KEYDOWN,this.handleBrowserEvent,this),Ja(i,po.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ol(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ol(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ja(e,Dv.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ja(e,po.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ol),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Cg("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ja(e,Dv.PROPERTYCHANGE,this.render,this),Ja(e,po.CHANGE,this.render,this),Ja(e,"addlayer",this.handleLayerAdd_,this),Ja(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){mz(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let a=null;if(t!==void 0&&v9(t)&&i&&i.isDef()){const l=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Jx(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:l,wantedTiles:{},mapId:To(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const p=isNaN(o.nextRotation)?o.rotation:o.nextRotation;a.nextExtent=Jx(o.nextCenter,o.nextResolution,p,t)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r&&(!this.previousExtent_||!J1(this.previousExtent_)&&!L0(a.extent,this.previousExtent_))&&(this.dispatchEvent(new lv(I0.MOVESTART,this,r)),this.previousExtent_=Hv(this.previousExtent_)),this.previousExtent_&&!a.viewHints[CA.ANIMATING]&&!a.viewHints[CA.INTERACTING]&&!L0(a.extent,this.previousExtent_)&&(this.dispatchEvent(new lv(I0.MOVEEND,this,a)),gF(a.extent,this.previousExtent_))),this.dispatchEvent(new lv(I0.POSTRENDER,this,a)),this.renderComplete_=(this.hasListener(I0.LOADSTART)||this.hasListener(I0.LOADEND)||this.hasListener(yp.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Cg("removelayer",t)),this.set(Lh.LAYERGROUP,e)}setSize(e){this.set(Lh.SIZE,e)}setTarget(e){this.set(Lh.TARGET,e)}setView(e){if(!e||e instanceof Jp){this.set(Lh.VIEW,e);return}this.set(Lh.VIEW,new Jp);const t=this;e.then(function(i){t.setView(new Jp(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),a=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),l=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(a)&&!isNaN(l)&&(t=[Math.max(0,a),Math.max(0,l)],!v9(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&SF("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Gg(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function Mte(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new $v({layers:n.layers});t[Lh.LAYERGROUP]=i,t[Lh.TARGET]=n.target,t[Lh.VIEW]=n.view instanceof Jp?n.view:new Jp;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new Wm(n.controls.slice()):(Ss(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let a;n.interactions!==void 0&&(Array.isArray(n.interactions)?a=new Wm(n.interactions.slice()):(Ss(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),a=n.interactions));let l;return n.overlays!==void 0?Array.isArray(n.overlays)?l=new Wm(n.overlays.slice()):(Ss(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=n.overlays):l=new Wm,{controls:r,interactions:a,keyboardEventTarget:e,overlays:l,values:t}}class b2 extends cm{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new b2(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Ol(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ja(e,po.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?wte(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function wte(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Ss(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}function yz(n,e,t,i){const r=[];let a=xp();for(let l=0,o=t.length;l<o;++l){const p=t[l];a=hO(n,e,p[0],i),r.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=p[p.length-1]}return r}function l3(n,e,t,i,r,a,l){let o,p;const C=(t-e)/i;if(C===1)o=e;else if(C===2)o=e,p=r;else if(C!==0){let M=n[e],O=n[e+1],U=0;const K=[0];for(let Y=e+i;Y<t;Y+=i){const te=n[Y],J=n[Y+1];U+=Math.sqrt((te-M)*(te-M)+(J-O)*(J-O)),K.push(U),M=te,O=J}const j=r*U,W=HZ(K,j);W<0?(p=(j-K[-W-2])/(K[-W-1]-K[-W-2]),o=e+(-W-2)*i):o=e+W*i}l=l>1?l:2,a=a||new Array(l);for(let M=0;M<l;++M)a[M]=o===void 0?NaN:p===void 0?n[o+M]:_f(n[o+M],n[o+i+M],p);return a}function iB(n,e,t,i,r,a){if(t==e)return null;let l;if(r<n[e+i-1])return a?(l=n.slice(e,e+i),l[i-1]=r,l):null;if(n[t-1]<r)return a?(l=n.slice(t-i,t),l[i-1]=r,l):null;if(r==n[e+i-1])return n.slice(e,e+i);let o=e/i,p=t/i;for(;o<p;){const U=o+p>>1;r<n[(U+1)*i-1]?p=U:o=U+1}const C=n[o*i-1];if(r==C)return n.slice((o-1)*i,(o-1)*i+i);const M=n[(o+1)*i-1],O=(r-C)/(M-C);l=[];for(let U=0;U<i-1;++U)l.push(_f(n[(o-1)*i+U],n[o*i+U],O));return l.push(r),l}function Ste(n,e,t,i,r,a,l){if(l)return iB(n,e,t[t.length-1],i,r,a);let o;if(r<n[i-1])return a?(o=n.slice(0,i),o[i-1]=r,o):null;if(n[n.length-1]<r)return a?(o=n.slice(n.length-i),o[i-1]=r,o):null;for(let p=0,C=t.length;p<C;++p){const M=t[p];if(e!=M){if(r<n[e+i-1])return null;if(r<=n[M-1])return iB(n,e,M,i,r,!1);e=M}}return null}class A3 extends KF{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Ol),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(Ja(e[t],po.CHANGE,this.changed,this))}clone(){const e=new A3(a5(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<X1(this.getExtent(),e,t))return r;const a=this.geometries_;for(let l=0,o=a.length;l<o;++l)r=a[l].closestPointXY(e,t,i,r);return r}containsXY(e,t){const i=this.geometries_;for(let r=0,a=i.length;r<a;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){Hv(e);const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)vF(e,t[i].getExtent());return e}getGeometries(){return a5(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let r=!1;for(let a=0,l=i.length;a<l;++a){const o=i[a],p=o.getSimplifiedGeometry(e);t.push(p),p!==o&&(r=!0)}return r?new A3(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let r=0,a=i.length;r<a;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=If(this.getExtent()));const r=this.geometries_;for(let a=0,l=r.length;a<l;++a)r[a].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(a5(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let r=0,a=i.length;r<a;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function a5(n){return n.map(e=>e.clone())}function HO(n,e,t,i){let r=n[e],a=n[e+1],l=0;for(let o=e+i;o<t;o+=i){const p=n[o],C=n[o+1];l+=Math.sqrt((p-r)*(p-r)+(C-a)*(C-a)),r=p,a=C}return l}class V1 extends ey{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){Xm(this.flatCoordinates,e),this.changed()}clone(){const e=new V1(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<X1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),MO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return NF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,iB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Bg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return l3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return HO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=d2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new V1(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return f2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h2(this.flatCoordinates,0,e,this.stride),this.changed()}}class U_ extends ey{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const r=e,a=[],l=[];for(let p=0,C=r.length;p<C;++p){const M=r[p];Xm(a,M.getFlatCoordinates()),l.push(a.length)}const o=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(o,a),this.ends_=l}}appendLineString(e){Xm(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new U_(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<X1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xO(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),wO(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,Ste(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return O_(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new V1(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[];let a=0;for(let l=0,o=t.length;l<o;++l){const p=t[l],C=new V1(e.slice(a,p),i);r.push(C),a=p}return r}getLength(){const e=this.ends_;let t=0,i=0;for(let r=0,a=e.length;r<a;++r)i+=HO(this.flatCoordinates,t,e[r],this.stride),t=e[r];return i}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const r=this.ends_,a=this.stride;for(let l=0,o=r.length;l<o;++l){const p=r[l],C=l3(t,i,p,a,.5);Xm(e,C),i=p}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=zF(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new U_(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return yJ(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=pb(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class _b extends ey{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Xm(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new _b(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<X1(this.getExtent(),e,t))return r;const a=this.flatCoordinates,l=this.stride;for(let o=0,p=a.length;o<p;o+=l){const C=L1(e,t,a[o],a[o+1]);if(C<r){r=C;for(let M=0;M<l;++M)i[M]=a[o+M];i.length=l}}return r}getCoordinates(){return Bg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new q1(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let a=0,l=e.length;a<l;a+=i){const o=new q1(e.slice(a,a+i),t);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let r=0,a=t.length;r<a;r+=i){const l=t[r],o=t[r+1];if(cO(e,l,o))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h2(this.flatCoordinates,0,e,this.stride),this.changed()}}class L_ extends ey{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,a=[],l=[];for(let o=0,p=r.length;o<p;++o){const C=r[o],M=a.length,O=C.getEnds();for(let U=0,K=O.length;U<K;++U)O[U]+=M;Xm(a,C.getFlatCoordinates()),l.push(O)}t=r.length===0?this.getLayout():r[0].getLayout(),e=a,i=l}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Xm(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,a=t.length;r<a;++r)t[r]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const i=new L_(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<X1(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(cJ(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),hJ(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return gJ(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return uJ(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),$6(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,V6(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=yz(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=jF(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new _b(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;QF(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=$6(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=pJ(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new L_(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const a=this.endss_[e-1];t=a[a.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(t!==0)for(let a=0,l=i.length;a<l;++a)i[a]-=t;return new F0(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[];let a=0;for(let l=0,o=i.length;l<o;++l){const p=i[l].slice(),C=p[p.length-1];if(a!==0)for(let O=0,U=p.length;O<U;++O)p[O]-=a;const M=new F0(t.slice(a,C),e,p);r.push(M),a=C}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return vJ(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=FF(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const k9=Hd();class zh{constructor(e,t,i,r,a,l){this.styleFunction,this.extent_,this.id_=l,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=a,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?yF(this.flatCoordinates_):hO(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=If(this.getExtent());this.flatInteriorPoints_=BO(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=YF(this.flatCoordinates_,this.ends_),t=yz(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=jF(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=l3(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let r=0,a=i.length;r<a;++r){const l=i[r],o=l3(e,t,l,2,.5);Xm(this.flatMidpoints_,o),t=l}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=qs(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const r=rc(i)/rc(t);e0(k9,i[0],i[3],r,-r,0,0,0),Fg(this.flatCoordinates_,0,this.flatCoordinates_.length,2,k9,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new zh(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=hF((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=d2(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=zF(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=SO(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new zh(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}zh.prototype.getFlatCoordinates=zh.prototype.getOrientedFlatCoordinates;class vz{drawCustom(e,t,i,r,a){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class Ete extends vz{constructor(e,t,i,r,a,l,o){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?r2(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=a,this.squaredTolerance_=l,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Hd()}drawImages_(e,t,i,r){if(!this.image_)return;const a=Fg(e,t,i,r,this.transform_,this.pixelCoordinates_),l=this.context_,o=this.tmpLocalTransform_,p=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=p*this.imageOpacity_);let C=this.imageRotation_;this.transformRotation_===0&&(C-=this.viewRotation_),this.imageRotateWithView_&&(C+=this.viewRotation_);for(let M=0,O=a.length;M<O;M+=2){const U=a[M]-this.imageAnchorX_,K=a[M+1]-this.imageAnchorY_;if(C!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const j=U+this.imageAnchorX_,W=K+this.imageAnchorY_;e0(o,j,W,1,1,C,-j,-W),l.save(),l.transform.apply(l,o),l.translate(j,W),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.restore()}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,U,K,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=p)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const a=Fg(e,t,i,r,this.transform_,this.pixelCoordinates_),l=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);t<i;t+=r){const p=a[t]+this.textOffsetX_,C=a[t+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(l.save(),l.translate(p-this.textOffsetX_,C-this.textOffsetY_),l.rotate(o),l.translate(this.textOffsetX_,this.textOffsetY_),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.restore()):(this.textStrokeState_&&l.strokeText(this.text_,p,C),this.textFillState_&&l.fillText(this.text_,p,C))}}moveToLineTo_(e,t,i,r,a){const l=this.context_,o=Fg(e,t,i,r,this.transform_,this.pixelCoordinates_);l.moveTo(o[0],o[1]);let p=o.length;a&&(p-=2);for(let C=2;C<p;C+=2)l.lineTo(o[C],o[C+1]);return a&&l.closePath(),i}drawRings_(e,t,i,r){for(let a=0,l=i.length;a<l;++a)t=this.moveToLineTo_(e,t,i[a],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!uu(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=AJ(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],a=Math.sqrt(i*i+r*r),l=this.context_;l.beginPath(),l.arc(t[0],t[1],a,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!uu(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(uu(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let a=0;const l=e.getEnds(),o=e.getStride();i.beginPath();for(let p=0,C=l.length;p<C;++p)a=this.moveToLineTo_(r,a,l[p],o,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!uu(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!uu(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const a=e.getEndss(),l=e.getStride();t.beginPath();for(let o=0,p=a.length;o<p;++o){const C=a[o];r=this.drawRings_(i,r,C,l)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Gg(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:D_;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:qm(i||Yd)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),r=t.getLineCap(),a=t.getLineDash(),l=t.getLineDashOffset(),o=t.getLineJoin(),p=t.getWidth(),C=t.getMiterLimit(),M=a||R0;this.strokeState_={lineCap:r!==void 0?r:Uv,lineDash:this.pixelRatio_===1?M:M.map(O=>O*this.pixelRatio_),lineDashOffset:(l||P0)*this.pixelRatio_,lineJoin:o!==void 0?o:Lv,lineWidth:(p!==void 0?p:R_)*this.pixelRatio_,miterLimit:C!==void 0?C:T_,strokeStyle:qm(i||k_)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),a=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const l=e.getScaleArray();this.imageScale_=[l[0]*this.pixelRatio_/i,l[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const K=t.getColor();this.textFillState_={fillStyle:qm(K||Yd)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const K=i.getColor(),j=i.getLineCap(),W=i.getLineDash(),Y=i.getLineDashOffset(),te=i.getLineJoin(),J=i.getWidth(),oe=i.getMiterLimit();this.textStrokeState_={lineCap:j!==void 0?j:Uv,lineDash:W||R0,lineDashOffset:Y||P0,lineJoin:te!==void 0?te:Lv,lineWidth:J!==void 0?J:R_,miterLimit:oe!==void 0?oe:T_,strokeStyle:qm(K||k_)}}const r=e.getFont(),a=e.getOffsetX(),l=e.getOffsetY(),o=e.getRotateWithView(),p=e.getRotation(),C=e.getScaleArray(),M=e.getText(),O=e.getTextAlign(),U=e.getTextBaseline();this.textState_={font:r!==void 0?r:sz,textAlign:O!==void 0?O:D_,textBaseline:U!==void 0?U:o3},this.text_=M!==void 0?Array.isArray(M)?M.reduce((K,j,W)=>K+=W%2?" ":j,""):M:"",this.textOffsetX_=a!==void 0?this.pixelRatio_*a:0,this.textOffsetY_=l!==void 0?this.pixelRatio_*l:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=p!==void 0?p:0,this.textScale_=[this.pixelRatio_*C[0],this.pixelRatio_*C[1]]}}}const Bte=.5,Cz={Point:Kte,LineString:Dte,Polygon:Lte,MultiPoint:Ute,MultiLineString:Rte,MultiPolygon:Pte,GeometryCollection:kte,Circle:Ite};function Ote(n,e){return parseInt(To(n),10)-parseInt(To(e),10)}function rB(n,e){const t=_z(n,e);return t*t}function _z(n,e){return Bte*n/e}function Ite(n,e,t,i,r){const a=t.getFill(),l=t.getStroke();if(a||l){const p=n.getBuilder(t.getZIndex(),"Circle");p.setFillStrokeStyle(a,l),p.drawCircle(e,i,r)}const o=t.getText();if(o&&o.getText()){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(o),p.drawText(e,i)}}function u3(n,e,t,i,r,a,l,o){const p=[],C=t.getImage();if(C){let U=!0;const K=C.getImageState();K==dr.LOADED||K==dr.ERROR?U=!1:K==dr.IDLE&&C.load(),U&&p.push(C.ready())}const M=t.getFill();M&&M.loading()&&p.push(M.ready());const O=p.length>0;return O&&Promise.all(p).then(()=>r(null)),Tte(n,e,t,i,a,l,o),O}function Tte(n,e,t,i,r,a,l){const o=t.getGeometryFunction()(e);if(!o)return;const p=o.simplifyTransformed(i,r);if(t.getRenderer())bz(n,p,t,e,l);else{const M=Cz[p.getType()];M(n,p,t,e,l,a)}}function bz(n,e,t,i,r){if(e.getType()=="GeometryCollection"){const l=e.getGeometries();for(let o=0,p=l.length;o<p;++o)bz(n,l[o],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function kte(n,e,t,i,r,a){const l=e.getGeometriesArray();let o,p;for(o=0,p=l.length;o<p;++o){const C=Cz[l[o].getType()];C(n,l[o],t,i,r,a)}}function Dte(n,e,t,i,r){const a=t.getStroke();if(a){const o=n.getBuilder(t.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(e,i,r)}const l=t.getText();if(l&&l.getText()){const o=n.getBuilder(t.getZIndex(),"Text");o.setTextStyle(l),o.drawText(e,i,r)}}function Rte(n,e,t,i,r){const a=t.getStroke();if(a){const o=n.getBuilder(t.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(e,i,r)}const l=t.getText();if(l&&l.getText()){const o=n.getBuilder(t.getZIndex(),"Text");o.setTextStyle(l),o.drawText(e,i,r)}}function Pte(n,e,t,i,r){const a=t.getFill(),l=t.getStroke();if(l||a){const p=n.getBuilder(t.getZIndex(),"Polygon");p.setFillStrokeStyle(a,l),p.drawMultiPolygon(e,i,r)}const o=t.getText();if(o&&o.getText()){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(o),p.drawText(e,i,r)}}function Kte(n,e,t,i,r,a){const l=t.getImage(),o=t.getText(),p=o&&o.getText(),C=a&&l&&p?{}:void 0;if(l){if(l.getImageState()!=dr.LOADED)return;const M=n.getBuilder(t.getZIndex(),"Image");M.setImageStyle(l,C),M.drawPoint(e,i,r)}if(p){const M=n.getBuilder(t.getZIndex(),"Text");M.setTextStyle(o,C),M.drawText(e,i,r)}}function Ute(n,e,t,i,r,a){const l=t.getImage(),o=l&&l.getOpacity()!==0,p=t.getText(),C=p&&p.getText(),M=a&&o&&C?{}:void 0;if(o){if(l.getImageState()!=dr.LOADED)return;const O=n.getBuilder(t.getZIndex(),"Image");O.setImageStyle(l,M),O.drawMultiPoint(e,i,r)}if(C){const O=n.getBuilder(t.getZIndex(),"Text");O.setTextStyle(p,M),O.drawText(e,i,r)}}function Lte(n,e,t,i,r){const a=t.getFill(),l=t.getStroke();if(a||l){const p=n.getBuilder(t.getZIndex(),"Polygon");p.setFillStrokeStyle(a,l),p.drawPolygon(e,i,r)}const o=t.getText();if(o&&o.getText()){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(o),p.drawText(e,i,r)}}let Fte=!1;function xz(n,e,t,i,r,a,l){const o=new XMLHttpRequest;o.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=Fte,o.onload=function(p){if(!o.status||o.status>=200&&o.status<300){const C=e.getType();try{let M;C=="text"||C=="json"?M=o.responseText:C=="xml"?M=o.responseXML||o.responseText:C=="arraybuffer"&&(M=o.response),M?a(e.readFeatures(M,{extent:t,featureProjection:r}),e.readProjection(M)):l()}catch{l()}}else l()},o.onerror=l,o.send()}function D9(n,e){return function(t,i,r,a,l){xz(n,e,t,i,r,(o,p)=>{this.addFeatures(o),a!==void 0&&a(o)},()=>{this.changed(),l!==void 0&&l()})}}function zte(n,e){return[[-1/0,-1/0,1/0,1/0]]}function jte(n,e){return[n]}class R9{constructor(e){this.rbush_=new tz(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[To(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,a=t.length;r<a;r++){const l=e[r],o=t[r],p={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:o};i[r]=p,this.items_[To(o)]=p}this.rbush_.load(i)}remove(e){const t=To(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[To(t)],r=[i.minX,i.minY,i.maxX,i.maxY];L0(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,a=e.length;r<a;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return jg(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return U0(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Xv extends cm{constructor(e){super(),this.projection=qs(e.projection),this.attributions_=P9(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=P9(e),this.changed()}setState(e){this.state_=e,this.changed()}}function P9(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}const up={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class hg extends um{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class Sx extends Xv{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=S_,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Ss(this.format_,"`format` must be set when `url` is set"),this.loader_=D9(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:zte;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new R9:null,this.loadedExtentsRtree_=new R9,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new Wm(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=To(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new hg(up.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof zh||(this.featureChangeKeys_[e]=[Ja(t,po.CHANGE,this.handleFeatureChange_,this),Ja(t,Dv.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof zh){const a=this.idIndex_[r];a instanceof zh?Array.isArray(a)?a.push(t):this.idIndex_[r]=[a,t]:i=!1}else i=!1}return i&&(Ss(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let a=0,l=e.length;a<l;a++){const o=e[a],p=To(o);this.addToIndex_(p,o)&&i.push(o)}for(let a=0,l=i.length;a<l;a++){const o=i[a],p=To(o);this.setupChangeEvents_(p,o);const C=o.getGeometry();if(C){const M=C.getExtent();t.push(M),r.push(o)}else this.nullGeometryFeatures_[p]=o}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(up.ADDFEATURE))for(let a=0,l=i.length;a<l;a++)this.dispatchEvent(new hg(up.ADDFEATURE,i[a]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(up.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(up.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Wd.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Wd.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Ol);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new hg(up.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const a=r.getGeometry();if(a instanceof zh||a.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof zh||r.intersectsExtent(e)){const a=t(i);if(a)return a}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),jg(this.nullGeometryFeatures_)||Xm(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=MF(e,t);return[].concat(...r.map(a=>this.featuresRtree_.getInExtent(a)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let a=null;const l=[NaN,NaN];let o=1/0;const p=[-1/0,-1/0,1/0,1/0];return t=t||w_,this.featuresRtree_.forEachInExtent(p,function(C){if(t(C)){const M=C.getGeometry(),O=o;if(o=M instanceof zh?0:M.closestPointXY(i,r,l,o),o<O){a=C;const U=Math.sqrt(o);p[0]=i-U,p[1]=r-U,p[2]=i+U,p[3]=r+U}}}),a}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=To(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const l=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(l,t)):this.featuresRtree_&&this.featuresRtree_.update(l,t)}const a=t.getId();if(a!==void 0){const l=a.toString();this.idIndex_[l]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[l]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new hg(up.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:To(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&jg(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,a=this.strategy_(e,t,i);for(let l=0,o=a.length;l<o;++l){const p=a[l];r.forEachInExtent(p,function(M){return Qm(M.extent,p)})||(++this.loadingExtentsCount_,this.dispatchEvent(new hg(up.FEATURESLOADSTART)),this.loader_.call(this,p,t,i,M=>{--this.loadingExtentsCount_,this.dispatchEvent(new hg(up.FEATURESLOADEND,void 0,M))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new hg(up.FEATURESLOADERROR))}),r.insert(p,{extent:p.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(L0(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=To(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Ol),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const a=r.toString(),l=this.idIndex_[a];l===e?delete this.idIndex_[a]:Array.isArray(l)&&(l.splice(l.indexOf(e),1),l.length===1&&(this.idIndex_[a]=l[0]))}return delete this.uidIndex_[t],this.hasListener(up.REMOVEFEATURE)&&this.dispatchEvent(new hg(up.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Ss(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(D9(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const Yr={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Jb=[Yr.FILL],Ig=[Yr.STROKE],k1=[Yr.BEGIN_PATH],K9=[Yr.CLOSE_PATH];class bb extends vz{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,a=this.coordinates;let l=a.length;for(let o=0,p=e.length;o<p;o+=t)r[0]=e[o],r[1]=e[o+1],Y1(i,r)&&(a[l++]=r[0],a[l++]=r[1]);return l}appendFlatLineCoordinates(e,t,i,r,a,l){const o=this.coordinates;let p=o.length;const C=this.getBufferedMaxExtent();l&&(t+=r);let M=e[t],O=e[t+1];const U=this.tmpCoordinate_;let K=!0,j,W,Y;for(j=t+r;j<i;j+=r)U[0]=e[j],U[1]=e[j+1],Y=j6(C,U),Y!==W?(K&&(o[p++]=M,o[p++]=O,K=!1),o[p++]=U[0],o[p++]=U[1]):Y===Wc.INTERSECTING?(o[p++]=U[0],o[p++]=U[1],K=!1):K=!0,M=U[0],O=U[1],W=Y;return(a&&K||j===t+r)&&(o[p++]=M,o[p++]=O),p}drawCustomCoordinates_(e,t,i,r,a){for(let l=0,o=i.length;l<o;++l){const p=i[l],C=this.appendFlatLineCoordinates(e,t,p,r,!1,!1);a.push(C),t=p}return t}drawCustom(e,t,i,r,a){this.beginGeometry(e,t,a);const l=e.getType(),o=e.getStride(),p=this.coordinates.length;let C,M,O,U,K;switch(l){case"MultiPolygon":C=e.getOrientedFlatCoordinates(),U=[];const j=e.getEndss();K=0;for(let W=0,Y=j.length;W<Y;++W){const te=[];K=this.drawCustomCoordinates_(C,K,j[W],o,te),U.push(te)}this.instructions.push([Yr.CUSTOM,p,U,e,i,V6,a]),this.hitDetectionInstructions.push([Yr.CUSTOM,p,U,e,r||i,V6,a]);break;case"Polygon":case"MultiLineString":O=[],C=l=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),K=this.drawCustomCoordinates_(C,0,e.getEnds(),o,O),this.instructions.push([Yr.CUSTOM,p,O,e,i,O_,a]),this.hitDetectionInstructions.push([Yr.CUSTOM,p,O,e,r||i,O_,a]);break;case"LineString":case"Circle":C=e.getFlatCoordinates(),M=this.appendFlatLineCoordinates(C,0,C.length,o,!1,!1),this.instructions.push([Yr.CUSTOM,p,M,e,i,Bg,a]),this.hitDetectionInstructions.push([Yr.CUSTOM,p,M,e,r||i,Bg,a]);break;case"MultiPoint":C=e.getFlatCoordinates(),M=this.appendFlatPointCoordinates(C,o),M>p&&(this.instructions.push([Yr.CUSTOM,p,M,e,i,Bg,a]),this.hitDetectionInstructions.push([Yr.CUSTOM,p,M,e,r||i,Bg,a]));break;case"Point":C=e.getFlatCoordinates(),this.coordinates.push(C[0],C[1]),M=this.coordinates.length,this.instructions.push([Yr.CUSTOM,p,M,e,i,void 0,a]),this.hitDetectionInstructions.push([Yr.CUSTOM,p,M,e,r||i,void 0,a]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[Yr.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Yr.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let r,a,l=-1;for(t=0;t<i;++t)r=e[t],a=r[0],a==Yr.END_GEOMETRY?l=t:a==Yr.BEGIN_GEOMETRY&&(r[2]=t,$Z(this.hitDetectionInstructions,l,t),l=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=qm(i||Yd)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=qm(i||k_);const r=e.getLineCap();t.lineCap=r!==void 0?r:Uv;const a=e.getLineDash();t.lineDash=a?a.slice():R0;const l=e.getLineDashOffset();t.lineDashOffset=l||P0;const o=e.getLineJoin();t.lineJoin=o!==void 0?o:Lv;const p=e.getWidth();t.lineWidth=p!==void 0?p:R_;const C=e.getMiterLimit();t.miterLimit=C!==void 0?C:T_,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[Yr.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Yr.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,a=e.lineDash,l=e.lineDashOffset,o=e.lineJoin,p=e.lineWidth,C=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||a!=e.currentLineDash&&!Gg(e.currentLineDash,a)||e.currentLineDashOffset!=l||e.currentLineJoin!=o||e.currentLineWidth!=p||e.currentMiterLimit!=C)&&(t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=a,e.currentLineDashOffset=l,e.currentLineJoin=o,e.currentLineWidth=p,e.currentMiterLimit=C)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Yr.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=gF(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Ug(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Nte extends bb{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Y1(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length,o=this.appendFlatPointCoordinates(r,a);this.instructions.push([Yr.DRAW_IMAGE,l,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Yr.DRAW_IMAGE,l,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),a=[];for(let p=0,C=r.length;p<C;p+=e.getStride())(!this.maxExtent||Y1(this.maxExtent,r.slice(p,p+2)))&&a.push(r[p],r[p+1]);const l=this.coordinates.length,o=this.appendFlatPointCoordinates(a,2);this.instructions.push([Yr.DRAW_IMAGE,l,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Yr.DRAW_IMAGE,l,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),a=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class Gte extends bb{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const a=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),o=[Yr.MOVE_TO_LINE_TO,a,l];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(e,t,i){const r=this.state,a=r.strokeStyle,l=r.lineWidth;if(a===void 0||l===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([Yr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,R0,P0],k1);const o=e.getFlatCoordinates(),p=e.getStride();this.drawFlatCoordinates_(o,0,o.length,p),this.hitDetectionInstructions.push(Ig),this.endGeometry(t)}drawMultiLineString(e,t,i){const r=this.state,a=r.strokeStyle,l=r.lineWidth;if(a===void 0||l===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([Yr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,R0,P0],k1);const o=e.getEnds(),p=e.getFlatCoordinates(),C=e.getStride();let M=0;for(let O=0,U=o.length;O<U;++O)M=this.drawFlatCoordinates_(p,M,o[O],C);this.hitDetectionInstructions.push(Ig),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Ig),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ig),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(k1)}}class U9 extends bb{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const a=this.state,l=a.fillStyle!==void 0,o=a.strokeStyle!==void 0,p=i.length;this.instructions.push(k1),this.hitDetectionInstructions.push(k1);for(let C=0;C<p;++C){const M=i[C],O=this.coordinates.length,U=this.appendFlatLineCoordinates(e,t,M,r,!0,!o),K=[Yr.MOVE_TO_LINE_TO,O,U];this.instructions.push(K),this.hitDetectionInstructions.push(K),o&&(this.instructions.push(K9),this.hitDetectionInstructions.push(K9)),t=M}return l&&(this.instructions.push(Jb),this.hitDetectionInstructions.push(Jb)),o&&(this.instructions.push(Ig),this.hitDetectionInstructions.push(Ig)),t}drawCircle(e,t,i){const r=this.state,a=r.fillStyle,l=r.strokeStyle;if(a===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Yr.SET_FILL_STYLE,Yd]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Yr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,R0,P0]);const o=e.getFlatCoordinates(),p=e.getStride(),C=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,p,!1,!1);const M=[Yr.CIRCLE,C];this.instructions.push(k1,M),this.hitDetectionInstructions.push(k1,M),r.fillStyle!==void 0&&(this.instructions.push(Jb),this.hitDetectionInstructions.push(Jb)),r.strokeStyle!==void 0&&(this.instructions.push(Ig),this.hitDetectionInstructions.push(Ig)),this.endGeometry(t)}drawPolygon(e,t,i){const r=this.state,a=r.fillStyle,l=r.strokeStyle;if(a===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Yr.SET_FILL_STYLE,Yd]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Yr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,R0,P0]);const o=e.getEnds(),p=e.getOrientedFlatCoordinates(),C=e.getStride();this.drawFlatCoordinatess_(p,0,o,C),this.endGeometry(t)}drawMultiPolygon(e,t,i){const r=this.state,a=r.fillStyle,l=r.strokeStyle;if(a===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Yr.SET_FILL_STYLE,Yd]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Yr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,R0,P0]);const o=e.getEndss(),p=e.getOrientedFlatCoordinates(),C=e.getStride();let M=0;for(let O=0,U=o.length;O<U;++O)M=this.drawFlatCoordinatess_(p,M,o[O],C);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=x1(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function Wte(n,e,t,i,r){const a=[];let l=t,o=0,p=e.slice(t,2);for(;o<n&&l+r<i;){const[C,M]=p.slice(-2),O=e[l+r],U=e[l+r+1],K=Math.sqrt((O-C)*(O-C)+(U-M)*(U-M));if(o+=K,o>=n){const j=(n-o+K)/K,W=_f(C,O,j),Y=_f(M,U,j);p.push(W,Y),a.push(p),p=[W,Y],o==n&&(l+=r),o=0}else if(o<n)p.push(e[l+r],e[l+r+1]),l+=r;else{const j=K-o,W=_f(C,O,j/K),Y=_f(M,U,j/K);p.push(W,Y),a.push(p),p=[W,Y],o=0,l+=r}}return o>0&&a.push(p),a}function Qte(n,e,t,i,r){let a=t,l=t,o=0,p=0,C=t,M,O,U,K,j,W,Y,te,J,oe;for(O=t;O<i;O+=r){const ne=e[O],$=e[O+1];j!==void 0&&(J=ne-j,oe=$-W,K=Math.sqrt(J*J+oe*oe),Y!==void 0&&(p+=U,M=Math.acos((Y*J+te*oe)/(U*K)),M>n&&(p>o&&(o=p,a=C,l=O),p=0,C=O-r)),U=K,Y=J,te=oe),j=ne,W=$}return p+=K,p>o?[C,O]:[a,l]}const c3={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Yte extends bb{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Yd]={fillStyle:Yd},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const r=this.textFillState_,a=this.textStrokeState_,l=this.textState_;if(this.text_===""||!l||!r&&!a)return;const o=this.coordinates;let p=o.length;const C=e.getType();let M=null,O=e.getStride();if(l.placement==="line"&&(C=="LineString"||C=="MultiLineString"||C=="Polygon"||C=="MultiPolygon")){if(!uu(this.maxExtent,e.getExtent()))return;let U;if(M=e.getFlatCoordinates(),C=="LineString")U=[M.length];else if(C=="MultiLineString")U=e.getEnds();else if(C=="Polygon")U=e.getEnds().slice(0,1);else if(C=="MultiPolygon"){const Y=e.getEndss();U=[];for(let te=0,J=Y.length;te<J;++te)U.push(Y[te][0])}this.beginGeometry(e,t,i);const K=l.repeat,j=K?void 0:l.textAlign;let W=0;for(let Y=0,te=U.length;Y<te;++Y){let J;K?J=Wte(K*this.resolution,M,W,U[Y],O):J=[M.slice(W,U[Y])];for(let oe=0,ne=J.length;oe<ne;++oe){const $=J[oe];let ae=0,G=$.length;if(j==null){const ge=Qte(l.maxAngle,$,0,$.length,2);ae=ge[0],G=ge[1]}for(let ge=ae;ge<G;ge+=O)o.push($[ge],$[ge+1]);const ce=o.length;W=U[Y],this.drawChars_(p,ce),p=ce}}this.endGeometry(t)}else{let U=l.overflow?null:[];switch(C){case"Point":case"MultiPoint":M=e.getFlatCoordinates();break;case"LineString":M=e.getFlatMidpoint();break;case"Circle":M=e.getCenter();break;case"MultiLineString":M=e.getFlatMidpoints(),O=2;break;case"Polygon":M=e.getFlatInteriorPoint(),l.overflow||U.push(M[2]/this.resolution),O=3;break;case"MultiPolygon":const ne=e.getFlatInteriorPoints();M=[];for(let $=0,ae=ne.length;$<ae;$+=3)l.overflow||U.push(ne[$+2]/this.resolution),M.push(ne[$],ne[$+1]);if(M.length===0)return;O=2;break}const K=this.appendFlatPointCoordinates(M,O);if(K===p)return;if(U&&(K-p)/2!==M.length/O){let ne=p/2;U=U.filter(($,ae)=>{const G=o[(ne+ae)*2]===M[ae*O]&&o[(ne+ae)*2+1]===M[ae*O+1];return G||--ne,G})}this.saveTextStates_();const j=l.backgroundFill?this.createFill(this.fillStyleToState(l.backgroundFill)):null,W=l.backgroundStroke?this.createStroke(this.strokeStyleToState(l.backgroundStroke)):null;this.beginGeometry(e,t,i);let Y=l.padding;if(Y!=T1&&(l.scale[0]<0||l.scale[1]<0)){let ne=l.padding[0],$=l.padding[1],ae=l.padding[2],G=l.padding[3];l.scale[0]<0&&($=-$,G=-G),l.scale[1]<0&&(ne=-ne,ae=-ae),Y=[ne,$,ae,G]}const te=this.pixelRatio;this.instructions.push([Yr.DRAW_IMAGE,p,K,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,Y==T1?T1:Y.map(function(ne){return ne*te}),j,W,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,U]);const J=1/te,oe=j?j.slice(0):null;oe&&(oe[1]=Yd),this.hitDetectionInstructions.push([Yr.DRAW_IMAGE,p,K,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[J,J],NaN,this.declutterMode_,this.declutterImageWithText_,Y,oe,W,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Yd:this.fillKey_,this.textOffsetX_,this.textOffsetY_,U]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const a=this.textKey_;a in this.textStates||(this.textStates[a]={font:t.font,textAlign:t.textAlign||D_,justify:t.justify,textBaseline:t.textBaseline||o3,scale:t.scale});const l=this.fillKey_;i&&(l in this.fillStates||(this.fillStates[l]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,a=this.strokeKey_,l=this.textKey_,o=this.fillKey_;this.saveTextStates_();const p=this.pixelRatio,C=c3[r.textBaseline],M=this.textOffsetY_*p,O=this.text_,U=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Yr.DRAW_CHARS,e,t,C,r.overflow,o,r.maxAngle,p,M,a,U*p,O,l,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([Yr.DRAW_CHARS,e,t,C,r.overflow,o&&Yd,r.maxAngle,p,M,a,U*p,O,l,1/p,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,a;if(!e)this.text_="";else{const l=e.getFill();l?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=qm(l.getColor()||Yd)):(r=null,this.textFillState_=r);const o=e.getStroke();if(!o)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);const W=o.getLineDash(),Y=o.getLineDashOffset(),te=o.getWidth(),J=o.getMiterLimit();a.lineCap=o.getLineCap()||Uv,a.lineDash=W?W.slice():R0,a.lineDashOffset=Y===void 0?P0:Y,a.lineJoin=o.getLineJoin()||Lv,a.lineWidth=te===void 0?R_:te,a.miterLimit=J===void 0?T_:J,a.strokeStyle=qm(o.getColor()||k_)}i=this.textState_;const p=e.getFont()||sz;Jee(p);const C=e.getScaleArray();i.overflow=e.getOverflow(),i.font=p,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||o3,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||T1,i.scale=C===void 0?[1,1]:C;const M=e.getOffsetX(),O=e.getOffsetY(),U=e.getRotateWithView(),K=e.getKeepUpright(),j=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=M===void 0?0:M,this.textOffsetY_=O===void 0?0:O,this.textRotateWithView_=U===void 0?!1:U,this.textKeepUpright_=K===void 0?!0:K,this.textRotation_=j===void 0?0:j,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:To(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+To(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const qte={Circle:U9,Default:bb,Image:Nte,LineString:Gte,Polygon:U9,Text:Yte};class Mz{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const a=i[r].finish();e[t][r]=a}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let a=r[t];if(a===void 0){const l=qte[t];a=new l(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=a}return a}}function Hte(n,e,t,i,r,a,l,o,p,C,M,O,U=!0){let K=n[e],j=n[e+1],W=0,Y=0,te=0,J=0;function oe(){W=K,Y=j,e+=i,K=n[e],j=n[e+1],J+=te,te=Math.sqrt((K-W)*(K-W)+(j-Y)*(j-Y))}do oe();while(e<t-i&&J+te<a);let ne=te===0?0:(a-J)/te;const $=_f(W,K,ne),ae=_f(Y,j,ne),G=e-i,ce=J,ge=a+o*p(C,r,M);for(;e<t-i&&J+te<ge;)oe();ne=te===0?0:(ge-J)/te;const ye=_f(W,K,ne),we=_f(Y,j,ne);let Ie=!1;if(U)if(O){const st=[$,ae,ye,we];PF(st,0,4,2,O,st,st),Ie=st[0]>st[2]}else Ie=$>ye;const Se=Math.PI,Ve=[],xe=G+i===e;e=G,te=0,J=ce,K=n[e],j=n[e+1];let ze;if(xe){oe(),ze=Math.atan2(j-Y,K-W),Ie&&(ze+=ze>0?-Se:Se);const st=(ye+$)/2,Ct=(we+ae)/2;return Ve[0]=[st,Ct,(ge-a)/2,ze,r],Ve}r=r.replace(/\n/g," ");for(let st=0,Ct=r.length;st<Ct;){oe();let nt=Math.atan2(j-Y,K-W);if(Ie&&(nt+=nt>0?-Se:Se),ze!==void 0){let gt=nt-ze;if(gt+=gt>Se?-2*Se:gt<-Se?2*Se:0,Math.abs(gt)>l)return null}ze=nt;const be=st;let Ne=0;for(;st<Ct;++st){const gt=Ie?Ct-st-1:st,St=o*p(C,r[gt],M);if(e+i<t&&J+te<a+Ne+St/2)break;Ne+=St}if(st===be)continue;const tt=Ie?r.substring(Ct-be,Ct-st):r.substring(be,st);ne=te===0?0:(a+Ne/2-J)/te;const lt=_f(W,K,ne),kt=_f(Y,j,ne);Ve.push([lt,kt,Ne/2,nt,tt]),a+=Ne}return Ve}class VO{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(r3(),{get:(e,t)=>{if(typeof r3()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,i)=>(this.push_(t,i),!0)})}push_(...e){const t=this.instructions_,i=this.zIndex+this.offset_;t[i]||(t[i]=[]),t[i].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){const a=t[i];if(typeof a=="function"){a(e);continue}const l=t[++i];if(typeof e[a]=="function")e[a](...l);else{if(typeof l=="function"){e[a]=l(e);continue}e[a]=l}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Py=xp(),dg=[],w0=[],S0=[],fg=[];function L9(n){return n[3].declutterBox}const F9=new RegExp("[-----]");function s5(n,e){return e==="start"?e=F9.test(n)?"right":"left":e==="end"&&(e=F9.test(n)?"left":"right"),c3[e]}function Vte(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}function $te(n,e,t){return t%2===0&&(n+=e),n}class Zte{constructor(e,t,i,r,a){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Hd(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=a?new VO:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){const a=e+t+i+r;if(this.labels_[a])return this.labels_[a];const l=r?this.strokeStates[r]:null,o=i?this.fillStates[i]:null,p=this.textStates[t],C=this.pixelRatio,M=[p.scale[0]*C,p.scale[1]*C],O=p.justify?c3[p.justify]:s5(Array.isArray(e)?e[0]:e,p.textAlign||D_),U=r&&l.lineWidth?l.lineWidth:0,K=Array.isArray(e)?e:String(e).split(`
`).reduce(Vte,[]),{width:j,height:W,widths:Y,heights:te,lineWidths:J}=tte(p,K),oe=j+U,ne=[],$=(oe+2)*M[0],ae=(W+U)*M[1],G={width:$<0?Math.floor($):Math.ceil($),height:ae<0?Math.floor(ae):Math.ceil(ae),contextInstructions:ne};(M[0]!=1||M[1]!=1)&&ne.push("scale",M),r&&(ne.push("strokeStyle",l.strokeStyle),ne.push("lineWidth",U),ne.push("lineCap",l.lineCap),ne.push("lineJoin",l.lineJoin),ne.push("miterLimit",l.miterLimit),ne.push("setLineDash",[l.lineDash]),ne.push("lineDashOffset",l.lineDashOffset)),i&&ne.push("fillStyle",o.fillStyle),ne.push("textBaseline","middle"),ne.push("textAlign","center");const ce=.5-O;let ge=O*oe+ce*U;const ye=[],we=[];let Ie=0,Se=0,Ve=0,xe=0,ze;for(let st=0,Ct=K.length;st<Ct;st+=2){const nt=K[st];if(nt===`
`){Se+=Ie,Ie=0,ge=O*oe+ce*U,++xe;continue}const be=K[st+1]||p.font;be!==ze&&(r&&ye.push("font",be),i&&we.push("font",be),ze=be),Ie=Math.max(Ie,te[Ve]);const Ne=[nt,ge+ce*Y[Ve]+O*(Y[Ve]-J[xe]),.5*(U+Ie)+Se];ge+=Y[Ve],r&&ye.push("strokeText",Ne),i&&we.push("fillText",Ne),++Ve}return Array.prototype.push.apply(ne,ye),Array.prototype.push.apply(ne,we),this.labels_[a]=G,G}replayTextBackground_(e,t,i,r,a,l,o){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,a),e.lineTo.apply(e,t),l&&(this.alignAndScaleFill_=l[2],e.fillStyle=l[1],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,a,l,o,p,C,M,O,U,K,j,W,Y){o*=U[0],p*=U[1];let te=i-o,J=r-p;const oe=a+C>e?e-C:a,ne=l+M>t?t-M:l,$=j[3]+oe*U[0]+j[1],ae=j[0]+ne*U[1]+j[2],G=te-j[3],ce=J-j[0];(W||O!==0)&&(dg[0]=G,fg[0]=G,dg[1]=ce,w0[1]=ce,w0[0]=G+$,S0[0]=w0[0],S0[1]=ce+ae,fg[1]=S0[1]);let ge;return O!==0?(ge=e0(Hd(),i,r,1,1,O,-i,-r),nc(ge,dg),nc(ge,w0),nc(ge,S0),nc(ge,fg),U0(Math.min(dg[0],w0[0],S0[0],fg[0]),Math.min(dg[1],w0[1],S0[1],fg[1]),Math.max(dg[0],w0[0],S0[0],fg[0]),Math.max(dg[1],w0[1],S0[1],fg[1]),Py)):U0(Math.min(G,G+$),Math.min(ce,ce+ae),Math.max(G,G+$),Math.max(ce,ce+ae),Py),K&&(te=Math.round(te),J=Math.round(J)),{drawImageX:te,drawImageY:J,drawImageW:oe,drawImageH:ne,originX:C,originY:M,declutterBox:{minX:Py[0],minY:Py[1],maxX:Py[2],maxY:Py[3],value:Y},canvasTransform:ge,scale:U}}replayImageOrLabel_(e,t,i,r,a,l,o){const p=!!(l||o),C=r.declutterBox,M=o?o[2]*r.scale[0]/2:0;return C.minX-M<=t[0]&&C.maxX+M>=0&&C.minY-M<=t[1]&&C.maxY+M>=0&&(p&&this.replayTextBackground_(e,dg,w0,S0,fg,l,o),nte(e,r.canvasTransform,a,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=nc(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,r){const a=this.textStates[t],l=this.createLabel(e,t,r,i),o=this.strokeStates[i],p=this.pixelRatio,C=s5(Array.isArray(e)?e[0]:e,a.textAlign||D_),M=c3[a.textBaseline||o3],O=o&&o.lineWidth?o.lineWidth:0,U=l.width/p-2*a.scale[0],K=C*U+2*(.5-C)*O,j=M*l.height/p+2*(.5-M)*O;return{label:l,anchorX:K,anchorY:j}}execute_(e,t,i,r,a,l,o,p){const C=this.zIndexContext_;let M;this.pixelCoordinates_&&Gg(i,this.renderedTransform_)?M=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),M=Fg(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),eJ(this.renderedTransform_,i));let O=0;const U=r.length;let K=0,j,W,Y,te,J,oe,ne,$,ae,G,ce,ge,ye,we=0,Ie=0;const Se=this.coordinateCache_,Ve=this.viewRotation_,xe=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,ze={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ve},st=this.instructions!=r||this.overlaps?0:200;let Ct,nt,be,Ne;for(;O<U;){const tt=r[O];switch(tt[0]){case Yr.BEGIN_GEOMETRY:Ct=tt[1],Ne=tt[3],Ct.getGeometry()?o!==void 0&&!uu(o,Ne.getExtent())?O=tt[2]+1:++O:O=tt[2],C&&(C.zIndex=tt[4]);break;case Yr.BEGIN_PATH:we>st&&(this.fill_(e),we=0),Ie>st&&(e.stroke(),Ie=0),!we&&!Ie&&(e.beginPath(),J=NaN,oe=NaN),++O;break;case Yr.CIRCLE:K=tt[1];const kt=M[K],gt=M[K+1],St=M[K+2],Ut=M[K+3],Fe=St-kt,Ke=Ut-gt,Re=Math.sqrt(Fe*Fe+Ke*Ke);e.moveTo(kt+Re,gt),e.arc(kt,gt,Re,0,2*Math.PI,!0),++O;break;case Yr.CLOSE_PATH:e.closePath(),++O;break;case Yr.CUSTOM:K=tt[1],j=tt[2];const He=tt[3],bt=tt[4],_t=tt[5];ze.geometry=He,ze.feature=Ct,O in Se||(Se[O]=[]);const Ot=Se[O];_t?_t(M,K,j,2,Ot):(Ot[0]=M[K],Ot[1]=M[K+1],Ot.length=2),C&&(C.zIndex=tt[6]),bt(Ot,ze),++O;break;case Yr.DRAW_IMAGE:K=tt[1],j=tt[2],ae=tt[3],W=tt[4],Y=tt[5];let qt=tt[6];const Kt=tt[7],on=tt[8],Jn=tt[9],Wt=tt[10];let $n=tt[11];const On=tt[12];let Bn=tt[13];te=tt[14]||"declutter";const In=tt[15];if(!ae&&tt.length>=20){G=tt[19],ce=tt[20],ge=tt[21],ye=tt[22];const Mn=this.drawLabelWithPointPlacement_(G,ce,ge,ye);ae=Mn.label,tt[3]=ae;const ii=tt[23];W=(Mn.anchorX-ii)*this.pixelRatio,tt[4]=W;const Wn=tt[24];Y=(Mn.anchorY-Wn)*this.pixelRatio,tt[5]=Y,qt=ae.height,tt[6]=qt,Bn=ae.width,tt[13]=Bn}let Oi;tt.length>25&&(Oi=tt[25]);let ei,Kn,je;tt.length>17?(ei=tt[16],Kn=tt[17],je=tt[18]):(ei=T1,Kn=null,je=null),Wt&&xe?$n+=Ve:!Wt&&!xe&&($n-=Ve);let de=0;for(;K<j;K+=2){if(Oi&&Oi[de++]<Bn/this.pixelRatio)continue;const Mn=this.calculateImageOrLabelDimensions_(ae.width,ae.height,M[K],M[K+1],Bn,qt,W,Y,on,Jn,$n,On,a,ei,!!Kn||!!je,Ct),ii=[e,t,ae,Mn,Kt,Kn,je];if(p){let Wn,Hi,tr;if(In){const ti=j-K;if(!In[ti]){In[ti]={args:ii,declutterMode:te};continue}const Qi=In[ti];Wn=Qi.args,Hi=Qi.declutterMode,delete In[ti],tr=L9(Wn)}let Ei,hi;if(Wn&&(Hi!=="declutter"||!p.collides(tr))&&(Ei=!0),(te!=="declutter"||!p.collides(Mn.declutterBox))&&(hi=!0),Hi==="declutter"&&te==="declutter"){const ti=Ei&&hi;Ei=ti,hi=ti}Ei&&(Hi!=="none"&&p.insert(tr),this.replayImageOrLabel_.apply(this,Wn)),hi&&(te!=="none"&&p.insert(Mn.declutterBox),this.replayImageOrLabel_.apply(this,ii))}else this.replayImageOrLabel_.apply(this,ii)}++O;break;case Yr.DRAW_CHARS:const re=tt[1],le=tt[2],pe=tt[3],Te=tt[4];ye=tt[5];const We=tt[6],dt=tt[7],Ye=tt[8];ge=tt[9];const De=tt[10];G=tt[11],Array.isArray(G)&&(G=G.reduce($te,"")),ce=tt[12];const Ze=[tt[13],tt[13]];te=tt[14]||"declutter";const g=tt[15],mt=this.textStates[ce],ht=mt.font,Tt=[mt.scale[0]*dt,mt.scale[1]*dt];let it;ht in this.widths_?it=this.widths_[ht]:(it={},this.widths_[ht]=it);const en=HO(M,re,le,2),Dn=Math.abs(Tt[0])*M9(ht,G,it);if(Te||Dn<=en){const Mn=this.textStates[ce].textAlign,ii=(en-Dn)*s5(G,Mn),Wn=Hte(M,re,le,2,G,ii,We,Math.abs(Tt[0]),M9,ht,it,xe?0:this.viewRotation_,g);e:if(Wn){const Hi=[];let tr,Ei,hi,ti,Qi;if(ge)for(tr=0,Ei=Wn.length;tr<Ei;++tr){Qi=Wn[tr],hi=Qi[4],ti=this.createLabel(hi,ce,"",ge),W=Qi[2]+(Tt[0]<0?-De:De),Y=pe*ti.height+(.5-pe)*2*De*Tt[1]/Tt[0]-Ye;const wn=this.calculateImageOrLabelDimensions_(ti.width,ti.height,Qi[0],Qi[1],ti.width,ti.height,W,Y,0,0,Qi[3],Ze,!1,T1,!1,Ct);if(p&&te==="declutter"&&p.collides(wn.declutterBox))break e;Hi.push([e,t,ti,wn,1,null,null])}if(ye)for(tr=0,Ei=Wn.length;tr<Ei;++tr){Qi=Wn[tr],hi=Qi[4],ti=this.createLabel(hi,ce,ye,""),W=Qi[2],Y=pe*ti.height-Ye;const wn=this.calculateImageOrLabelDimensions_(ti.width,ti.height,Qi[0],Qi[1],ti.width,ti.height,W,Y,0,0,Qi[3],Ze,!1,T1,!1,Ct);if(p&&te==="declutter"&&p.collides(wn.declutterBox))break e;Hi.push([e,t,ti,wn,1,null,null])}p&&te!=="none"&&p.load(Hi.map(L9));for(let wn=0,uo=Hi.length;wn<uo;++wn)this.replayImageOrLabel_.apply(this,Hi[wn])}}++O;break;case Yr.END_GEOMETRY:if(l!==void 0){Ct=tt[1];const Mn=l(Ct,Ne,te);if(Mn)return Mn}++O;break;case Yr.FILL:st?we++:this.fill_(e),++O;break;case Yr.MOVE_TO_LINE_TO:for(K=tt[1],j=tt[2],nt=M[K],be=M[K+1],e.moveTo(nt,be),J=nt+.5|0,oe=be+.5|0,K+=2;K<j;K+=2)nt=M[K],be=M[K+1],ne=nt+.5|0,$=be+.5|0,(K==j-2||ne!==J||$!==oe)&&(e.lineTo(nt,be),J=ne,oe=$);++O;break;case Yr.SET_FILL_STYLE:this.alignAndScaleFill_=tt[2],we&&(this.fill_(e),we=0,Ie&&(e.stroke(),Ie=0)),e.fillStyle=tt[1],++O;break;case Yr.SET_STROKE_STYLE:Ie&&(e.stroke(),Ie=0),this.setStrokeStyle_(e,tt),++O;break;case Yr.STROKE:st?Ie++:e.stroke(),++O;break;default:++O;break}}we&&this.fill_(e),Ie&&e.stroke()}execute(e,t,i,r,a,l){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,a,void 0,void 0,l)}executeHitDetection(e,t,i,r,a){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,a)}}const S1=["Polygon","Circle","LineString","Image","Text","Default"],h3=["Image","Text"],Xte=S1.filter(n=>!h3.includes(n));class wz{constructor(e,t,i,r,a,l,o){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=l,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Hd(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(a,o)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const a=e[i];for(const l in a){const o=a[l];r[l]=new Zte(this.resolution_,this.pixelRatio_,this.overlaps_,o,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,a=e.length;r<a;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,a,l){r=Math.round(r);const o=r*2+1,p=e0(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),C=!this.hitDetectionContext_;C&&(this.hitDetectionContext_=WA(o,o));const M=this.hitDetectionContext_;M.canvas.width!==o||M.canvas.height!==o?(M.canvas.width=o,M.canvas.height=o):C||M.clearRect(0,0,o,o);let O;this.renderBuffer_!==void 0&&(O=xp(),i_(O,e),Ug(O,t*(this.renderBuffer_+r),O));const U=Jte(r);let K;function j($,ae,G){const ce=M.getImageData(0,0,o,o).data;for(let ge=0,ye=U.length;ge<ye;ge++)if(ce[U[ge]]>0){if(!l||G==="none"||K!=="Image"&&K!=="Text"||l.includes($)){const we=(U[ge]-3)/4,Ie=r-we%o,Se=r-(we/o|0),Ve=a($,ae,Ie*Ie+Se*Se);if(Ve)return Ve}M.clearRect(0,0,o,o);break}}const W=Object.keys(this.executorsByZIndex_).map(Number);W.sort(Zm);let Y,te,J,oe,ne;for(Y=W.length-1;Y>=0;--Y){const $=W[Y].toString();for(J=this.executorsByZIndex_[$],te=S1.length-1;te>=0;--te)if(K=S1[te],oe=J[K],oe!==void 0&&(ne=oe.executeHitDetection(M,p,i,j,O),ne))return ne}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],a=t[2],l=t[3],o=[i,r,i,l,a,l,a,r];return Fg(o,0,8,2,e,o),o}isEmpty(){return jg(this.executorsByZIndex_)}execute(e,t,i,r,a,l,o){const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(o?VZ:Zm),l=l||S1;const C=S1.length;for(let M=0,O=p.length;M<O;++M){const U=p[M].toString(),K=this.executorsByZIndex_[U];for(let j=0,W=l.length;j<W;++j){const Y=l[j],te=K[Y];if(te!==void 0){const J=o===null?void 0:te.getZIndexContext(),oe=J?J.getContext():e,ne=this.maxExtent_&&Y!=="Image"&&Y!=="Text";if(ne&&(oe.save(),this.clip(oe,i)),!J||Y==="Text"||Y==="Image"?te.execute(oe,t,i,r,a,o):J.pushFunction($=>te.execute($,t,i,r,a,o)),ne&&oe.restore(),J){J.offset();const $=p[M]*C+S1.indexOf(Y);this.deferredZIndexContexts_[$]||(this.deferredZIndexContexts_[$]=[]),this.deferredZIndexContexts_[$].push(J)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Zm);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(a=>{a.draw(this.renderedContext_),a.clear()}),e[t[i]].length=0}}const l5={};function Jte(n){if(l5[n]!==void 0)return l5[n];const e=n*2+1,t=n*n,i=new Array(t+1);for(let a=0;a<=n;++a)for(let l=0;l<=n;++l){const o=a*a+l*l;if(o>t)break;let p=i[o];p||(p=[],i[o]=p),p.push(((n+a)*e+(n+l))*4+3),a>0&&p.push(((n-a)*e+(n+l))*4+3),l>0&&(p.push(((n+a)*e+(n-l))*4+3),a>0&&p.push(((n-a)*e+(n-l))*4+3))}const r=[];for(let a=0,l=i.length;a<l;++a)i[a]&&r.push(...i[a]);return l5[n]=r,r}const Sf=.5;function Sz(n,e,t,i,r,a,l,o,p){const C=p?vO(r):r,M=n[0]*Sf,O=n[1]*Sf,U=WA(M,O);U.imageSmoothingEnabled=!1;const K=U.canvas,j=new Ete(U,Sf,r,null,l,o,p?fb(XX(),p):null),W=t.length,Y=Math.floor((256*256*256-1)/W),te={};for(let oe=1;oe<=W;++oe){const ne=t[oe-1],$=ne.getStyleFunction()||i;if(!$)continue;let ae=$(ne,a);if(!ae)continue;Array.isArray(ae)||(ae=[ae]);const ce=(oe*Y).toString(16).padStart(7,"#00000");for(let ge=0,ye=ae.length;ge<ye;++ge){const we=ae[ge],Ie=we.getGeometryFunction()(ne);if(!Ie||!uu(C,Ie.getExtent()))continue;const Se=we.clone(),Ve=Se.getFill();Ve&&Ve.setColor(ce);const xe=Se.getStroke();xe&&(xe.setColor(ce),xe.setLineDash(null)),Se.setText(void 0);const ze=we.getImage();if(ze){const be=ze.getImageSize();if(!be)continue;const Ne=WA(be[0],be[1],void 0,{alpha:!1}),tt=Ne.canvas;Ne.fillStyle=ce,Ne.fillRect(0,0,tt.width,tt.height),Se.setImage(new Fv({img:tt,anchor:ze.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ze.getOrigin(),opacity:1,size:ze.getSize(),scale:ze.getScale(),rotation:ze.getRotation(),rotateWithView:ze.getRotateWithView()}))}const st=Se.getZIndex()||0;let Ct=te[st];Ct||(Ct={},te[st]=Ct,Ct.Polygon=[],Ct.Circle=[],Ct.LineString=[],Ct.Point=[]);const nt=Ie.getType();if(nt==="GeometryCollection"){const be=Ie.getGeometriesArrayRecursive();for(let Ne=0,tt=be.length;Ne<tt;++Ne){const lt=be[Ne];Ct[lt.getType().replace("Multi","")].push(lt,Se)}}else Ct[nt.replace("Multi","")].push(Ie,Se)}}const J=Object.keys(te).map(Number).sort(Zm);for(let oe=0,ne=J.length;oe<ne;++oe){const $=te[J[oe]];for(const ae in $){const G=$[ae];for(let ce=0,ge=G.length;ce<ge;ce+=2){j.setStyle(G[ce+1]);for(let ye=0,we=e.length;ye<we;++ye)j.setTransform(e[ye]),j.drawGeometry(G[ce])}}}return U.getImageData(0,0,K.width,K.height)}function Ez(n,e,t){const i=[];if(t){const r=Math.floor(Math.round(n[0])*Sf),a=Math.floor(Math.round(n[1])*Sf),l=(GA(r,0,t.width-1)+GA(a,0,t.height-1)*t.width)*4,o=t.data[l],p=t.data[l+1],M=t.data[l+2]+256*(p+256*o),O=Math.floor((256*256*256-1)/e.length);M&&M%O===0&&i.push(e[M/O-1])}return i}const ene=5;class tne extends hb{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=ene}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Co()}getData(e){return null}prepareFrame(e){return Co()}renderFrame(e,t){return Co()}forEachFeatureAtCoordinate(e,t,i,r,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===dr.LOADED||t.getState()===dr.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=dr.LOADED&&t!=dr.ERROR&&e.addEventListener(po.CHANGE,this.boundHandleImageChange_),t==dr.IDLE&&(e.load(),t=e.getState()),t==dr.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const z9=[];let uv=null;function nne(){uv=WA(1,1,void 0,{willReadFrequently:!0})}class $O extends tne{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Hd(),this.pixelTransform=Hd(),this.inversePixelTransform=Hd(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){uv||nne(),uv.clearRect(0,0,1,1);let r;try{uv.drawImage(e,t,i,1,1,0,0,1,1),r=uv.getImageData(0,0,1,1).data}catch{return uv=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let a,l;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Gg(Kv(e.style.backgroundColor),Kv(i)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(l=o.getContext("2d"))}if(l&&oJ(l.canvas.style.transform,t)?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=r;let o=a.style;o.position="absolute",o.width="100%",o.height="100%",l=WA();const p=l.canvas;a.appendChild(p),o=p.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=a,this.context=l}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=N0(i),a=s2(i),l=a2(i),o=o2(i);nc(t.coordinateToPixelTransform,r),nc(t.coordinateToPixelTransform,a),nc(t.coordinateToPixelTransform,l),nc(t.coordinateToPixelTransform,o);const p=this.inversePixelTransform;nc(p,r),nc(p,a),nc(p,l),nc(p,o),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,t){const i=e.extent,r=e.viewState.resolution,a=e.viewState.rotation,l=e.pixelRatio,o=Math.round(us(i)/r*l),p=Math.round(rc(i)/r*l);e0(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,a,-o/2,-p/2),RF(this.inversePixelTransform,this.pixelTransform);const C=rJ(this.pixelTransform);if(this.useContainer(t,C,this.getBackground(e)),!this.containerReused){const M=this.context.canvas;M.width!=o||M.height!=p?(M.width=o,M.height=p):this.context.clearRect(0,0,o,p),C!==M.style.transform&&(M.style.transform=C)}}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const a=new pz(e,this.inversePixelTransform,i,t);r.dispatchEvent(a)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(yp.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(yp.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new VO),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(yp.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(yp.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,a,l,o){const p=a/2,C=l/2,M=r/t,O=-M,U=-e[0]+o,K=-e[1];return e0(this.tempTransform,p,C,M,O,-i,U,K)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class ine extends $O{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=xp(),this.wrappedRenderedExtent_=xp(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,a=t.viewState,l=a.center,o=a.resolution,p=a.projection,C=a.rotation,M=p.getExtent(),O=this.getLayer().getSource(),U=this.getLayer().getDeclutter(),K=t.pixelRatio,j=t.viewHints,W=!(j[CA.ANIMATING]||j[CA.INTERACTING]),Y=this.context,te=Math.round(us(r)/o*K),J=Math.round(rc(r)/o*K),oe=O.getWrapX()&&p.canWrapX(),ne=oe?us(M):null,$=oe?Math.ceil((r[2]-M[2])/ne)+1:1;let ae=oe?Math.floor((r[0]-M[0])/ne):0;do{let G=this.getRenderTransform(l,o,0,K,te,J,ae*ne);t.declutter&&(G=G.slice(0)),e.execute(Y,[Y.canvas.width,Y.canvas.height],G,C,W,i===void 0?S1:i?h3:Xte,i?U&&t.declutter[U]:void 0)}while(++ae<$)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=WA(this.context.canvas.width,this.context.canvas.height,z9))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,mb(this.context),z9.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,t);const a=this.context,l=this.replayGroup_;let o=l&&!l.isEmpty();if(!o&&!(this.getLayer().hasListener(yp.PRERENDER)||this.getLayer().hasListener(yp.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(a,e),r.projection,this.clipped_=!1,o&&i.extent&&this.clipping){const p=Ym(i.extent);o=uu(p,e.extent),this.clipped_=o&&!Qm(p,e.extent),this.clipped_&&this.clipUnrotated(a,e,p)}return o&&this.renderWorlds(l,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&a.restore(),this.postRender(a,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,a=this.renderedResolution_,l=this.renderedRotation_,o=this.renderedProjection_,p=this.wrappedRenderedExtent_,C=this.getLayer(),M=[],O=i[0]*Sf,U=i[1]*Sf;M.push(this.getRenderTransform(r,a,l,Sf,O,U,0).slice());const K=C.getSource(),j=o.getExtent();if(K.getWrapX()&&o.canWrapX()&&!Qm(j,p)){let W=p[0];const Y=us(j);let te=0,J;for(;W<j[0];)--te,J=Y*te,M.push(this.getRenderTransform(r,a,l,Sf,O,U,J).slice()),W+=Y;for(te=0,W=p[2];W>j[2];)++te,J=Y*te,M.push(this.getRenderTransform(r,a,l,Sf,O,U,J).slice()),W-=Y}this.hitDetectionImageData_=Sz(i,M,this.renderedFeatures_,C.getStyleFunction(),p,a,l,rB(a,this.renderedPixelRatio_),null)}t(Ez(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,a){if(!this.replayGroup_)return;const l=t.viewState.resolution,o=t.viewState.rotation,p=this.getLayer(),C={},M=function(U,K,j){const W=To(U),Y=C[W];if(Y){if(Y!==!0&&j<Y.distanceSq){if(j===0)return C[W]=!0,a.splice(a.lastIndexOf(Y),1),r(U,p,K);Y.geometry=K,Y.distanceSq=j}}else{if(j===0)return C[W]=!0,r(U,p,K);a.push(C[W]={feature:U,layer:p,geometry:K,distanceSq:j,callback:r})}},O=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,l,o,i,M,O?t.declutter?.[O]?.all().map(U=>U.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[CA.ANIMATING],a=e.viewHints[CA.INTERACTING],l=t.getUpdateWhileAnimating(),o=t.getUpdateWhileInteracting();if(this.ready&&!l&&r||!o&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const p=e.extent,C=e.viewState,M=C.projection,O=C.resolution,U=e.pixelRatio,K=t.getRevision(),j=t.getRenderBuffer();let W=t.getRenderOrder();W===void 0&&(W=Ote);const Y=C.center.slice(),te=Ug(p,j*O),J=te.slice(),oe=[te.slice()],ne=M.getExtent();if(i.getWrapX()&&M.canWrapX()&&!Qm(ne,e.extent)){const Ve=us(ne),xe=Math.max(us(te)/2,Ve);te[0]=ne[0]-xe,te[2]=ne[2]+xe,fO(Y,M);const ze=xF(oe[0],M);ze[0]<ne[0]&&ze[2]<ne[2]?oe.push([ze[0]+Ve,ze[1],ze[2]+Ve,ze[3]]):ze[0]>ne[0]&&ze[2]>ne[2]&&oe.push([ze[0]-Ve,ze[1],ze[2]-Ve,ze[3]])}if(this.ready&&this.renderedResolution_==O&&this.renderedRevision_==K&&this.renderedRenderOrder_==W&&this.renderedFrameDeclutter_===!!e.declutter&&Qm(this.wrappedRenderedExtent_,te))return Gg(this.renderedExtent_,J)||(this.hitDetectionImageData_=null,this.renderedExtent_=J),this.renderedCenter_=Y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const $=new Mz(_z(O,U),te,O,U);let ae;for(let Ve=0,xe=oe.length;Ve<xe;++Ve)i.loadFeatures(oe[Ve],O,M);const G=rB(O,U);let ce=!0;const ge=(Ve,xe)=>{let ze;const st=Ve.getStyleFunction()||t.getStyleFunction();if(st&&(ze=st(Ve,O)),ze){const Ct=this.renderFeature(Ve,G,ze,$,ae,this.getLayer().getDeclutter(),xe);ce=ce&&!Ct}},ye=vO(te),we=i.getFeaturesInExtent(ye);W&&we.sort(W);for(let Ve=0,xe=we.length;Ve<xe;++Ve)ge(we[Ve],Ve);this.renderedFeatures_=we,this.ready=ce;const Ie=$.finish(),Se=new wz(te,O,U,i.getOverlaps(),Ie,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=O,this.renderedRevision_=K,this.renderedRenderOrder_=W,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=J,this.wrappedRenderedExtent_=te,this.renderedCenter_=Y,this.renderedProjection_=M,this.renderedPixelRatio_=U,this.replayGroup_=Se,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,a,l,o){if(!i)return!1;let p=!1;if(Array.isArray(i))for(let C=0,M=i.length;C<M;++C)p=u3(r,e,i[C],t,this.boundHandleStyleImageChange_,a,l,o)||p;else p=u3(r,e,i,t,this.boundHandleStyleImageChange_,a,l,o);return p}}class ZO extends qO{constructor(e){super(e)}createRenderer(){return new ine(this)}}class rne extends WO{constructor(e,t,i,r,a){const l=a!==void 0?dr.IDLE:dr.LOADED;super(e,t,i,l),this.loader_=a!==void 0?a:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=dr.ERROR):this.state=dr.LOADED,this.changed()}load(){this.state==dr.IDLE&&(this.state=dr.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class xb extends cb{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(po.CHANGE)}release(){this.setState(Pi.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Pi.EMPTY){if(this.state!==Pi.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Co()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=t-i+1e3/60;return r>=this.transition_?1:wF(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class Bz extends xb{constructor(e,t,i,r,a,l){super(e,t,l),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Pi.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Pi.ERROR,this.unlistenImage_(),this.image_=one(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Pi.LOADED:this.state=Pi.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Pi.ERROR&&(this.state=Pi.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Pi.IDLE&&(this.state=Pi.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Yee(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function one(){const n=WA(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}const Uh={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class ane extends cm{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+OJ,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Uh.ELEMENT,this.handleElementChanged),this.addChangeListener(Uh.MAP,this.handleMapChanged),this.addChangeListener(Uh.OFFSET,this.handleOffsetChanged),this.addChangeListener(Uh.POSITION,this.handlePositionChanged),this.addChangeListener(Uh.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Uh.ELEMENT)}getId(){return this.id}getMap(){return this.get(Uh.MAP)||null}getOffset(){return this.get(Uh.OFFSET)}getPosition(){return this.get(Uh.POSITION)}getPositioning(){return this.get(Uh.POSITIONING)}handleElementChanged(){HF(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Ol(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Ja(e,I0.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Uh.ELEMENT,e)}setMap(e){this.set(Uh.MAP,e)}setOffset(e){this.set(Uh.OFFSET,e)}setPosition(e){this.set(Uh.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Uh.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),a=this.getRect(r,[TJ(r),kJ(r)]);e=e||{};const l=e.margin===void 0?20:e.margin;if(!Qm(i,a)){const o=a[0]-i[0],p=i[2]-a[2],C=a[1]-i[1],M=i[3]-a[3],O=[0,0];if(o<0?O[0]=o-l:p<0&&(O[0]=Math.abs(p)+l),C<0?O[1]=C-l:M<0&&(O[1]=Math.abs(M)+l),O[0]!==0||O[1]!==0){const U=t.getView().getCenterInternal(),K=t.getPixelFromCoordinateInternal(U);if(!K)return;const j=[K[0]+O[0],K[1]+O[1]],W=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(j),duration:W.duration,easing:W.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,a=i.top+window.pageYOffset;return[r,a,r+t[0],a+t[1]]}setPositioning(e){this.set(Uh.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,t){const i=this.element.style,r=this.getOffset(),a=this.getPositioning();this.setVisible(!0);const l=`${e[0]+r[0]}px`,o=`${e[1]+r[1]}px`;let p="0%",C="0%";a=="bottom-right"||a=="center-right"||a=="top-right"?p="-100%":(a=="bottom-center"||a=="center-center"||a=="top-center")&&(p="-50%"),a=="bottom-left"||a=="bottom-center"||a=="bottom-right"?C="-100%":(a=="center-left"||a=="center-center"||a=="center-right")&&(C="-50%");const M=`translate(${p}, ${C}) translate(${l}, ${o})`;this.rendered.transform_!=M&&(this.rendered.transform_=M,i.transform=M)}getOptions(){return this.options}}class XO{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Ky(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new XO(n,e,t,i)}const j9=[];class sne extends xb{constructor(e,t,i,r,a){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=a,this.wrappedTileCoord=i}getContext(){return this.context_||(this.context_=WA(1,1,j9)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=To(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(mb(this.context_),j9.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}let Oz=class extends xb{constructor(e,t,i,r,a,l){super(e,t,l),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=a,this.url_=i,this.key=i}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==Pi.IDLE&&(this.setState(Pi.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(Pi.ERROR)}setFeatures(e){this.features_=e,this.setState(Pi.LOADED)}setLoader(e){this.loader_=e}};const Iz="https://api.mapbox.com";function JO(n){const e="mapbox://";return n.indexOf(e)!==0?"":n.slice(e.length)}function lne(n,e,t){if(typeof n=="string")return[{id:"default",url:N9(n,e,t)}];for(const i of n)i.url=N9(i.url,e,t);return n}function N9(n,e,t){const i=JO(n);if(!i)return decodeURI(new URL(n,t).href);const r="sprites/";if(i.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${n}`);const a=i.slice(r.length);return`${Iz}/styles/v1/${a}/sprite?access_token=${e}`}function d3(n,e){const t=JO(n);if(!t)return decodeURI(new URL(n,location.href).href);const i="styles/";if(t.indexOf(i)!==0)throw new Error(`unexpected style url: ${n}`);const r=t.slice(i.length);return`${Iz}/styles/v1/${r}?&access_token=${e}`}const Ane=["a","b","c","d"];function Ex(n,e,t,i){const r=new URL(n,i||location.href),a=JO(n);if(!a)return e?(r.searchParams.has(t)||r.searchParams.set(t,e),[decodeURI(r.href)]):[decodeURI(r.href)];if(a==="mapbox.satellite"){const l=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${a}/{z}/{x}/{y}${l}.webp?access_token=${e}`]}return Ane.map(l=>`https://${l}.tiles.mapbox.com/v4/${a}/{z}/{x}/{y}.vector.pbf?access_token=${e}`)}const tm=Object.freeze({}),G9={},W9={};let une=0;function e8(n){return n.id||(n.id=une++),n.id}function cne(n,e){return e8(n)+"."+To(e)}function Tz(n){let e=G9[n.id];return e||(e={},G9[e8(n)]=e),e}function hne(n){let e=W9[n.id];return e||(e={},W9[e8(n)]=e),e}function A5(n){return n*Math.PI/180}const Jm=function(){const n=[];for(let e=78271.51696402048;n.length<=24;e/=2)n.push(e);return n}();function x2(n,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(n,e);const t=document.createElement("canvas");return t.width=n,t.height=e,t}function t8(n,e){let t=0;const i=e.length;for(;t<i;++t)if(e[t]<n&&t+1<i){const a=e[t]/e[t+1];return t+Math.log(e[t]/n)/Math.log(a)}return i-1}function jC(n,e){const t=Math.floor(n),i=Math.pow(2,n-t);return e[t]/i}const Uy={};function zv(n,e,t={},i){if(e in Uy)return i&&(i.url=Uy[e][0].url),Uy[e][1];const r=t.transformRequest&&t.transformRequest(e,n)||e,a=function(p){return delete Uy[e],Promise.reject(new Error("Error fetching source "+e))},l=function(p){return delete Uy[e],p.ok?p.json():Promise.reject(new Error("Error fetching source "+e))},o=Rv(()=>r).then(p=>p instanceof Response?(i&&(i.url=p.url),l(p)):(p instanceof Request||(p=new Request(p)),p.headers.get("Accept")||p.headers.set("Accept","application/json"),i&&(i.url=p.url),fetch(p).then(l).catch(a))).catch(a);return Uy[e]=[r,o],o}function kz(n,e){if(typeof n=="string")if(n.trim().startsWith("{"))try{const t=JSON.parse(n);return Promise.resolve(t)}catch(t){return Promise.reject(t)}else return n=d3(n,e.accessToken),zv("Style",n,e);else return Promise.resolve(n)}const Q9={};function Dz(n,e,t={}){const i=[e,JSON.stringify(n)].toString();let r=Q9[i];if(!r||t.transformRequest){let a;t.transformRequest&&(a=(o,p)=>{const C=t.transformRequest&&t.transformRequest(p,"Tiles")||p;if(o instanceof Oz)o.setLoader((M,O,U)=>{const K=function(j){j.arrayBuffer().then(W=>{const te=o.getFormat().readFeatures(W,{extent:M,featureProjection:U});o.setFeatures(te)})};Rv(()=>C).then(j=>{if(j instanceof Response)return K(j);fetch(j).then(K).catch(W=>o.setState(Pi.ERROR))}).catch(j=>o.setState(Pi.ERROR))});else{const M=o.getImage();Rv(()=>C).then(O=>{if(typeof O=="string"){M.src=O;return}const U=K=>K.blob().then(j=>{const W=URL.createObjectURL(j);M.addEventListener("load",()=>URL.revokeObjectURL(W)),M.addEventListener("error",()=>URL.revokeObjectURL(W)),M.src=W});if(O instanceof Response)return U(O);fetch(O).then(U).catch(K=>o.setState(Pi.ERROR))}).catch(O=>o.setState(Pi.ERROR))}});const l=n.url;if(l&&!n.tiles){const o=Ex(l,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(l.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},n,{url:void 0,tiles:o}),tileLoadFunction:a});else{const p={};r=zv("Source",o[0],t,p).then(function(C){return C.tiles=C.tiles.map(function(M){return C.scheme==="tms"&&(M=M.replace("{y}","{-y}")),Ex(M,t.accessToken,t.accessTokenParam||"access_token",p.url)[0]}),Promise.resolve({tileJson:C,tileLoadFunction:a})})}}else n.tiles?(n=Object.assign({},n,{tiles:n.tiles.map(function(o){return n.scheme==="tms"&&(o=o.replace("{y}","{-y}")),Ex(o,t.accessToken,t.accessTokenParam||"access_token",e||location.href)[0]})}),r=Promise.resolve({tileJson:Object.assign({},n),tileLoadFunction:a})):r=Promise.reject(new Error("source has no `tiles` nor `url`"));Q9[i]=r}return r}function Y9(n,e,t,i){const r=[2*t*e.pixelRatio+e.width,2*t*e.pixelRatio+e.height],a=x2(r[0],r[1]),l=a.getContext("2d");l.drawImage(n,e.x,e.y,e.width,e.height,t*e.pixelRatio,t*e.pixelRatio,e.width,e.height);const o=l.getImageData(0,0,r[0],r[1]);l.globalCompositeOperation="destination-over",l.fillStyle=`rgba(${i.r*255},${i.g*255},${i.b*255},${i.a})`;const p=o.data;for(let C=0,M=o.width;C<M;++C)for(let O=0,U=o.height;O<U;++O){const K=(O*M+C)*4;p[K+3]>0&&l.arc(C,O,t*e.pixelRatio,0,2*Math.PI)}return l.fill(),a}function dne(n,e,t){const i=Math.max(0,Math.min(1,(t-n)/(e-n)));return i*i*(3-2*i)}function q9(n,e,t){const i=x2(e.width,e.height),r=i.getContext("2d");r.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),l=a.data;for(let o=0,p=a.width;o<p;++o)for(let C=0,M=a.height;C<M;++C){const O=(C*p+o)*4,U=l[O+3]/255,K=.75,j=.1,W=dne(K-j,K+j,U);W>0?(l[O+0]=Math.round(255*t.r*W),l[O+1]=Math.round(255*t.g*W),l[O+2]=Math.round(255*t.b*W),l[O+3]=Math.round(255*W)):l[O+3]=0}return r.putImageData(a,0,0),i}const fne=Array(256).join("");function oB(n,e){if(e>=.05){let t="";const i=n.split(`
`),r=fne.slice(0,Math.round(e/.1));for(let a=0,l=i.length;a<l;++a)a>0&&(t+=`
`),t+=i[a].split("").join(r);return t}return n}let u5;function Rz(){return u5||(u5=x2(1,1).getContext("2d")),u5}function v1(n,e){return Rz().measureText(n).width+(n.length-1)*e}const f3={};w1.on("propertychange",()=>{for(const n in f3)delete f3[n]});function aB(n,e,t,i){if(n.indexOf(`
`)!==-1){const l=n.split(`
`),o=[];for(let p=0,C=l.length;p<C;++p)o.push(aB(l[p],e,t,i));return o.join(`
`)}const r=t+","+e+","+n+","+i;let a=f3[r];if(!a){const l=n.split(" ");if(l.length>1){const o=Rz();o.font=e;const C=o.measureText("M").width*t;let M="";const O=[];for(let U=0,K=l.length;U<K;++U){const j=l[U],W=M+(M?" ":"")+j;v1(W,i)<=C?M=W:(M&&O.push(M),M=j)}M&&O.push(M);for(let U=0,K=O.length;U<K&&K>1;++U){const j=O[U];if(v1(j,i)<C*.35){const W=U>0?v1(O[U-1],i):1/0,Y=U<K-1?v1(O[U+1],i):1/0;O.splice(U,1),K-=1,W<Y?(O[U-1]+=" "+j,U-=1):O[U]=j+" "+O[U]}}for(let U=0,K=O.length-1;U<K;++U){const j=O[U],W=O[U+1];if(v1(j,i)>C*.7&&v1(W,i)<C*.6){const Y=j.split(" "),te=Y.pop();v1(te,i)<C*.2&&(O[U]=Y.join(" "),O[U+1]=te+" "+W),K-=1}}a=O.join(`
`)}else a=n;a=oB(a,i),f3[r]=a}return a}const pne=["Arial","Courier New","Times New Roman","Verdana","sans-serif","serif","monospace","cursive","fantasy"],H9={};function mne(n,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){let t;for(let i=0,r=n.length;i<r;++i){const a=n[i];if(a in H9)continue;H9[a]=!0;const o=U6(a,16).split(" ");t||(t=[]),t.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}return t&&(async()=>{await document.fonts.ready;for(let i=0,r=t.length;i<r;++i){const a=t[i],l=a[0];if(pne.includes(l))continue;const o=a[1],p=a[2];if(!(await document.fonts.load(`${p} ${o} 16px "${l}"`)).some(M=>M.family.replace(/^['"]|['"]$/g,"").toLowerCase()===l.toLowerCase()&&M.weight==o&&M.style===p)){const M=e.replace("{font-family}",l.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",l.replace(/ /g,"+")).replace("{fontweight}",o).replace("{-fontstyle}",p.replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",p);if(!document.querySelector('link[href="'+M+'"]')){const O=document.createElement("link");O.href=M,O.rel="stylesheet",document.head.appendChild(O)}}}})(),n}const gne={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},yne={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},vne=function(n,e){const t=Z3(n,e);if(t.result==="error")throw new Error(t.value.map(i=>`${i.key}: ${i.message}`).join(", "));return t.value},Of={zoom:0,distanceFromCenter:0};Ef.register(q3,{...Ef.definitions,pitch:[{kind:"number"},[],n=>Of.pitch||90],"distance-from-center":[{kind:"number"},[],n=>Of.distanceFromCenter||0]});let ex,c5;function br(n,e,t,i,r,a){const l=n.id;r||(r={},console.warn("No functionCache provided to getValue()")),r[l]||(r[l]={});const o=r[l];if(!o[t]){let p=(n[e]||tm)[t];const C=wf[`${e}_${n.type}`][t];p===void 0&&(p=C.default);let M=qv(p);if(!M&&Yv(p)&&(p=tO(p,C),M=!0),M){const O=vne(p,C);o[t]=O.evaluate.bind(O)}else C.type=="color"&&(p=rl.parse(p)),o[t]=function(){return p}}return o[t](Of,i,a)}function V9(n,e,t,i){return br(n,"layout",`${t}-allow-overlap`,e,i)?br(n,"layout",`${t}-ignore-placement`,e,i)?"none":"obstacle":"declutter"}function Cne(n,e,t,i){if(i||console.warn("No filterCache provided to evaluateFilter()"),!(n in i))try{i[n]=RH(e).filter}catch(r){console.warn("Filter will evaluate to false: "+r.message),i[n]=function(){return!1}}return i[n](Of,t)}function vg(n,e){if(n){if(n.a===0||e===0)return;const t=n.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(n.r*255/t)+","+Math.round(n.g*255/t)+","+Math.round(n.b*255/t)+","+t*e+")"}return n}const _ne=/\{[^{}}]*\}/g;function h5(n,e){return n.replace(_ne,function(t){return e[t.slice(1,-1)]||""})}function $9(n,e){let t=n.split(":")[0];return t===n&&(t="default"),e[t]}const bne={};function xne(n,e,t,i=Jm,r=void 0,a=void 0,l=void 0,o=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");bne[cne(e,n)]=Array.from(arguments);const p={};(typeof a=="string"||a instanceof Request||a instanceof Response||a instanceof Promise)&&(a={default:a});for(const $ in a){const ae=a[$];Rv(()=>ae).then(async G=>{let ce;if(typeof Image<"u"){const ge=new Image;if(typeof G=="string")ge.crossOrigin="anonymous",ge.src=G;else{let ye;G instanceof Request?ye=await fetch(G):G instanceof Response&&(ye=G);const we=await ye.blob();ce=URL.createObjectURL(we),ge.src=ce}ge.addEventListener("load",function ye(){ge.removeEventListener("load",ye),p[$]={image:ge,size:[ge.width,ge.height]},n.changed(),ce&&URL.revokeObjectURL(ce)}),ge.addEventListener("error",function ye(){URL.revokeObjectURL(ce),ge.removeEventListener("error",ye)})}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const ge=self;ge.postMessage({action:"loadImage",src:G}),ge.addEventListener("message",function(we){we.data.action==="imageLoaded"&&we.data.src===G&&(p[$]={image:we.data.image,size:[we.data.image.width,we.data.image.height]})})}})}const C=KB(e.layers),M={},O=[],U={},K={},j=Tz(e),W=hne(e);let Y;for(let $=0,ae=C.length;$<ae;++$){const G=C[$],ce=G.id;if(typeof t=="string"&&G.source==t||Array.isArray(t)&&t.indexOf(ce)!==-1){const ge=G["source-layer"];if(Y){if(G.source!==Y)throw new Error(`Layer "${ce}" does not use source "${Y}`)}else{Y=G.source;const we=e.sources[Y];if(!we)throw new Error(`Source "${Y}" is not defined`);const Ie=we.type;if(Ie!=="vector"&&Ie!=="geojson")throw new Error(`Source "${Y}" is not of type "vector" or "geojson", but "${Ie}"`)}let ye=M[ge];ye||(ye=[],M[ge]=ye),ye.push({layer:G,index:$}),O.push(ce)}}const te=new Og,J=new k0,oe=[],ne=function($,ae,G){const ce=n.getSource?.()?.format_?.layerName_??"mvt:layer",ge=$.getProperties(),ye=M[ge[ce]];if(!ye)return;let we=i.indexOf(ae);we==-1&&(we=t8(ae,i)),Of.zoom=we,Of.distanceFromCenter=0;const Ie=$.getGeometry(),Se=gne[Ie.getType()],Ve=n.get("map");if(Ve&&Ve instanceof _2&&Se===1){const Ct=Ve.getSize();if(Ct){const nt=Ve.getView().getCenter(),be=If(Ie.getExtent());Of.distanceFromCenter=vX(nt,be)/ae/Ct[1]}}const xe={id:$.getId(),properties:ge,type:Se},ze=n.get("mapbox-featurestate")[$.getId()];let st=-1;for(let Ct=0,nt=ye.length;Ct<nt;++Ct){const be=ye[Ct],Ne=be.layer,tt=Ne.id;if(G!==void 0&&G!==tt)continue;const lt=Ne.layout||tm,kt=Ne.paint||tm;if(lt.visibility==="none"||"minzoom"in Ne&&we<Ne.minzoom||"maxzoom"in Ne&&we>=Ne.maxzoom)continue;const gt=Ne.filter;if(!gt||Cne(tt,gt,xe,W)){let St,Ut,Fe,Ke,Re,He;const bt=be.index;if(Se==3&&(Ne.type=="fill"||Ne.type=="fill-extrusion"))if(Ut=br(Ne,"paint",Ne.type+"-opacity",xe,j,ze),Ne.type+"-pattern"in kt){const ei=br(Ne,"paint",Ne.type+"-pattern",xe,j,ze);if(ei){const Kn=typeof ei=="string"?h5(ei,ge):ei.toString(),je=$9(Kn,p);if(r&&r[Kn]&&je){++st,He=oe[st],(!He||!He.getFill()||He.getStroke()||He.getText())&&(He=new bf({fill:new k0}),oe[st]=He),Fe=He.getFill(),He.setZIndex(bt);const de=Kn+"."+Ut;let re=K[de];if(!re){const le=r[Kn],pe=x2(le.width,le.height),Te=pe.getContext("2d");Te.globalAlpha=Ut,Te.drawImage(je.image,le.x,le.y,le.width,le.height,0,0,le.width,le.height),re=Te.createPattern(pe,"repeat"),K[de]=re}Fe.setColor(re)}}}else St=vg(br(Ne,"paint",Ne.type+"-color",xe,j,ze),Ut),Ne.type+"-outline-color"in kt&&(Re=vg(br(Ne,"paint",Ne.type+"-outline-color",xe,j,ze),Ut)),Re||(Re=St),(St||Re)&&(++st,He=oe[st],(!He||St&&!He.getFill()||!St&&He.getFill()||Re&&!He.getStroke()||!Re&&He.getStroke()||He.getText())&&(He=new bf({fill:St?new k0:void 0,stroke:Re?new Og:void 0}),oe[st]=He),St&&(Fe=He.getFill(),Fe.setColor(St)),Re&&(Ke=He.getStroke(),Ke.setColor(Re),Ke.setWidth(.5)),He.setZIndex(bt));if(Se!=1&&Ne.type=="line"){"line-pattern"in kt?St=void 0:St=vg(br(Ne,"paint","line-color",xe,j,ze),br(Ne,"paint","line-opacity",xe,j,ze));const ei=br(Ne,"paint","line-width",xe,j,ze);St&&ei>0&&(++st,He=oe[st],(!He||!He.getStroke()||He.getFill()||He.getText())&&(He=new bf({stroke:new Og}),oe[st]=He),Ke=He.getStroke(),Ke.setLineCap(br(Ne,"layout","line-cap",xe,j,ze)),Ke.setLineJoin(br(Ne,"layout","line-join",xe,j,ze)),Ke.setMiterLimit(br(Ne,"layout","line-miter-limit",xe,j,ze)),Ke.setColor(St),Ke.setWidth(ei),Ke.setLineDash(kt["line-dasharray"]?br(Ne,"paint","line-dasharray",xe,j,ze).map(function(Kn){return Kn*ei}):null),He.setZIndex(bt))}let _t=!1,Ot=null,qt=0,Kt,on,Jn;if((Se==1||Se==2)&&"icon-image"in lt){const ei=br(Ne,"layout","icon-image",xe,j,ze);if(ei){Kt=typeof ei=="string"?h5(ei,ge):ei.toString();let Kn;const je=o?o(n,Kt):void 0,de=$9(Kt,p);if(r&&r[Kt]&&de||je){const re=br(Ne,"layout","icon-rotation-alignment",xe,j,ze);if(Se==2){const le=$.getGeometry();if(le.getFlatMidpoint||le.getFlatMidpoints){const pe=le.getExtent();if(Math.sqrt(Math.max(Math.pow((pe[2]-pe[0])/ae,2),Math.pow((pe[3]-pe[1])/ae,2)))>150){const We=le.getType()==="MultiLineString"?le.getFlatMidpoints():le.getFlatMidpoint();if(c5||(ex=[NaN,NaN],c5=new zh("Point",ex,[],2,{},void 0)),Kn=c5,ex[0]=We[0],ex[1]=We[1],br(Ne,"layout","symbol-placement",xe,j,ze)==="line"&&re==="map"){const Ye=le.getStride(),De=le.getFlatCoordinates();for(let Ze=0,g=De.length-Ye;Ze<g;Ze+=Ye){const mt=De[Ze],ht=De[Ze+1],Tt=De[Ze+Ye],it=De[Ze+Ye+1],en=Math.min(mt,Tt),Dn=Math.max(mt,Tt),Mn=We[0],ii=We[1],Wn=(it-ht)*(Mn-mt)-(Tt-mt)*(ii-ht);if(Math.abs(Wn)<.001&&Mn<=Dn&&Mn>=en){qt=Math.atan2(ht-it,Tt-mt);break}}}}}}if(Se!==2||Kn){const le=br(Ne,"layout","icon-size",xe,j,ze),pe=kt["icon-color"]!==void 0?br(Ne,"paint","icon-color",xe,j,ze):null;if(!pe||pe.a!==0){const Te=br(Ne,"paint","icon-halo-color",xe,j,ze),We=br(Ne,"paint","icon-halo-width",xe,j,ze);let dt=`${Kt}.${le}.${We}.${Te}`;if(pe!==null&&(dt+=`.${pe}`),on=U[dt],!on){const Ye=V9(Ne,xe,"icon",j);let De;"icon-offset"in lt&&(De=br(Ne,"layout","icon-offset",xe,j,ze).slice(0),De[0]*=le,De[1]*=-le);let Ze=pe?[pe.r*255,pe.g*255,pe.b*255,pe.a]:void 0;if(je){const g={color:Ze,rotateWithView:re==="map",displacement:De,declutterMode:Ye,scale:le};typeof je=="string"?g.src=je:(g.img=je,g.imgSize=[je.width,je.height]),on=new Fv(g)}else{const g=r[Kt];let mt,ht,Tt;if(We)g.sdf?(mt=Y9(q9(de.image,g,pe||[0,0,0,1]),{x:0,y:0,width:g.width,height:g.height,pixelRatio:g.pixelRatio},We,Te),Ze=void 0):mt=Y9(de.image,g,We,Te);else{if(g.sdf&&!de.unSDFed){const it=q9(de.image,{x:0,y:0,width:de.size[0],height:de.size[1]},{r:1,g:1,b:1});de.image=it,de.unSDFed=!0}mt=de.image,ht=[g.width,g.height],Tt=[g.x,g.y]}on=new Fv({color:Ze,img:mt,imgSize:de.size,size:ht,offset:Tt,rotateWithView:re==="map",scale:le/g.pixelRatio,displacement:De,declutterMode:Ye})}U[dt]=on}}on&&(++st,He=oe[st],(!He||!He.getImage()||He.getFill()||He.getStroke())&&(He=new bf,oe[st]=He),He.setGeometry(Kn),on.setRotation(qt+A5(br(Ne,"layout","icon-rotate",xe,j,ze))),on.setOpacity(br(Ne,"paint","icon-opacity",xe,j,ze)),on.setAnchor(yne[br(Ne,"layout","icon-anchor",xe,j,ze)]),He.setImage(on),Ot=He.getText(),He.setText(void 0),He.setZIndex(bt),_t=!0,Jn=!1)}else Jn=!0}}}if(Se==1&&Ne.type==="circle"){++st,He=oe[st],(!He||!He.getImage()||He.getFill()||He.getStroke())&&(He=new bf,oe[st]=He);const ei="circle-radius"in kt?br(Ne,"paint","circle-radius",xe,j,ze):5,Kn=vg(br(Ne,"paint","circle-stroke-color",xe,j,ze),br(Ne,"paint","circle-stroke-opacity",xe,j,ze)),je=br(Ne,"paint","circle-translate",xe,j,ze),de=vg(br(Ne,"paint","circle-color",xe,j,ze),br(Ne,"paint","circle-opacity",xe,j,ze)),re=br(Ne,"paint","circle-stroke-width",xe,j,ze),le=ei+"."+Kn+"."+de+"."+re+"."+je[0]+"."+je[1];on=U[le],on||(on=new vb({radius:ei,displacement:[je[0],-je[1]],stroke:Kn&&re>0?new Og({width:re,color:Kn}):void 0,fill:de?new k0({color:de}):void 0,declutterMode:"none"}),U[le]=on),He.setImage(on),Ot=He.getText(),He.setText(void 0),He.setGeometry(void 0),He.setZIndex(bt),_t=!0}let Wt,$n,On,Bn,In,Oi;if("text-field"in lt){Bn=Math.round(br(Ne,"layout","text-size",xe,j,ze));const ei=br(Ne,"layout","text-font",xe,j,ze);On=br(Ne,"layout","text-line-height",xe,j,ze),$n=U6(l?l(ei,e.metadata?e.metadata["ol:webfonts"]:void 0):ei,Bn,On),$n.includes("sans-serif")||($n+=",sans-serif"),In=br(Ne,"layout","text-letter-spacing",xe,j,ze),Oi=br(Ne,"layout","text-max-width",xe,j,ze);const Kn=br(Ne,"layout","text-field",xe,j,ze);typeof Kn=="object"&&Kn.sections?Kn.sections.length===1?Wt=Kn.toString():Wt=Kn.sections.reduce((je,de,re)=>{const le=de.fontStack?de.fontStack.split(","):ei,pe=U6(l?l(le):le,Bn*(de.scale||1),On);let Te=de.text;if(Te===`
`)return je.push(`
`,""),je;if(Se==2)return je.push(oB(Te,In),pe),je;Te=aB(Te,pe,Oi,In).split(`
`);for(let We=0,dt=Te.length;We<dt;++We)We>0&&je.push(`
`,""),je.push(Te[We],pe);return je},[]):Wt=h5(Kn,ge).trim(),Ut=br(Ne,"paint","text-opacity",xe,j,ze)}if(Wt&&Ut&&!Jn){_t||(++st,He=oe[st],(!He||!He.getText()||He.getFill()||He.getStroke())&&(He=new bf,oe[st]=He),He.setImage(void 0),He.setGeometry(void 0));const ei=V9(Ne,xe,"text",j);He.getText()||He.setText(Ot),Ot=He.getText(),(!Ot||"getDeclutterMode"in Ot&&Ot.getDeclutterMode()!==ei)&&(Ot=new y2({padding:[2,2,2,2],declutterMode:ei}),He.setText(Ot));const Kn=br(Ne,"layout","text-transform",xe,j,ze);Kn=="uppercase"?Wt=Array.isArray(Wt)?Wt.map((Tt,it)=>it%2?Tt:Tt.toUpperCase()):Wt.toUpperCase():Kn=="lowercase"&&(Wt=Array.isArray(Wt)?Wt.map((Tt,it)=>it%2?Tt:Tt.toLowerCase()):Wt.toLowerCase());const je=Array.isArray(Wt)?Wt:Se==2?oB(Wt,In):aB(Wt,$n,Oi,In);if(Ot.setText(je),Ot.setFont($n),Ot.setRotation(A5(br(Ne,"layout","text-rotate",xe,j,ze))),typeof Ot.setKeepUpright=="function"){const Tt=br(Ne,"layout","text-keep-upright",xe,j,ze);Ot.setKeepUpright(Tt)}const de=br(Ne,"layout","text-anchor",xe,j,ze),re=_t||Se==1?"point":br(Ne,"layout","symbol-placement",xe,j,ze);let le;if(re==="line-center"?(Ot.setPlacement("line"),le="center"):Ot.setPlacement(re),re==="line"&&typeof Ot.setRepeat=="function"){const Tt=br(Ne,"layout","symbol-spacing",xe,j,ze);Ot.setRepeat(Tt*2)}Ot.setOverflow(re==="point");let pe=br(Ne,"paint","text-halo-width",xe,j,ze);const Te=br(Ne,"layout","text-offset",xe,j,ze),We=br(Ne,"paint","text-translate",xe,j,ze);let dt=0,Ye=0;if(re=="point"){le="center",de.indexOf("left")!==-1?(le="left",Ye=pe):de.indexOf("right")!==-1&&(le="right",Ye=-pe);const Tt=br(Ne,"layout","text-rotation-alignment",xe,j,ze);Ot.setRotateWithView(Tt=="map")}else Ot.setMaxAngle(A5(br(Ne,"layout","text-max-angle",xe,j,ze))*Wt.length/je.length),Ot.setRotateWithView(!1);Ot.setTextAlign(le);let De="middle";de.indexOf("bottom")==0?(De="bottom",dt=-pe-.5*(On-1)*Bn):de.indexOf("top")==0&&(De="top",dt=pe+.5*(On-1)*Bn),Ot.setTextBaseline(De);const Ze=br(Ne,"layout","text-justify",xe,j,ze);Ot.setJustify(Ze==="auto"?void 0:Ze),Ot.setOffsetX(Te[0]*Bn+Ye+We[0]),Ot.setOffsetY(Te[1]*Bn+dt+We[1]),J.setColor(vg(br(Ne,"paint","text-color",xe,j,ze),Ut)),Ot.setFill(J);const g=vg(br(Ne,"paint","text-halo-color",xe,j,ze),Ut);if(g&&pe>0){te.setColor(g),pe*=2;const Tt=.5*Bn;te.setWidth(pe<=Tt?pe:Tt),Ot.setStroke(te)}else Ot.setStroke(void 0);const mt=br(Ne,"layout","text-padding",xe,j,ze),ht=Ot.getPadding();mt!==ht[0]&&(ht[0]=mt,ht[1]=mt,ht[2]=mt,ht[3]=mt),He.setZIndex(bt)}}}if(st>-1)return oe.length=st+1,oe};return n.setStyle(ne),n.set("mapbox-layers",O),n.set("mapbox-source",Y),n.set("mapbox-featurestate",n.get("mapbox-featurestate")||{}),ne}class Pz{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=b2,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?qs(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=qs(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Co()}readFeature(e,t){return Co()}readFeatures(e,t){return Co()}readGeometry(e,t){return Co()}readProjection(e){return Co()}writeFeature(e,t){return Co()}writeFeatures(e,t){return Co()}writeGeometry(e,t){return Co()}}function M2(n,e,t){const i=t?qs(t.featureProjection):null,r=t?qs(t.dataProjection):null;let a=n;if(i&&r&&!Lg(i,r)){e&&(a=n.clone());const l=e?i:r,o=e?r:i;l.getUnits()==="tile-pixels"?a.transform(l,o):a.applyTransform(B_(l,o))}if(e&&t&&t.decimals!==void 0){const l=Math.pow(10,t.decimals),o=function(p){for(let C=0,M=p.length;C<M;++C)p[C]=Math.round(p[C]*l)/l;return p};a===n&&(a=n.clone()),a.applyTransform(o)}return a}const Mne={Point:q1,LineString:V1,Polygon:F0,MultiPoint:_b,MultiLineString:U_,MultiPolygon:L_};function wne(n,e,t){return Array.isArray(e[0])?(QF(n,0,e,t)||(n=n.slice(),$6(n,0,e,t)),n):(IO(n,0,e,t)||(n=n.slice(),i3(n,0,e,t)),n)}function Kz(n,e){const t=n.geometry;if(!t)return[];if(Array.isArray(t))return t.map(a=>Kz({...n,geometry:a})).flat();const i=t.type==="MultiPolygon"?"Polygon":t.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=t.layout.length;return M2(new zh(i,i==="Polygon"?wne(t.flatCoordinates,t.ends,r):t.flatCoordinates,t.ends?.flat(),r,n.properties||{},n.id).enableSimplifyTransformed(),!1,e)}function n8(n,e){if(!n)return null;if(Array.isArray(n)){const i=n.map(r=>n8(r,e));return new A3(i)}const t=Mne[n.type];return M2(new t(n.flatCoordinates,n.layout||"XY",n.ends),!1,e)}class Sne extends Pz{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(tx(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(tx(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Co()}readFeaturesFromObject(e,t){return Co()}readGeometry(e,t){return this.readGeometryFromObject(tx(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Co()}readProjection(e){return this.readProjectionFromObject(tx(e))}readProjectionFromObject(e){return Co()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Co()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Co()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Co()}}function tx(n){if(typeof n=="string"){const e=JSON.parse(n);return e||null}return n!==null?n:null}class Z9 extends Sne{constructor(e){e=e||{},super(),this.dataProjection=qs(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=qs(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=i8(i.geometry);if(this.featureClass===zh)return Kz({geometry:r,id:i.id,properties:i.properties},t);const a=new b2;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&a.setGeometryName(i.geometry_name),a.setGeometry(n8(r,t)),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a}readFeaturesFromObject(e,t){const i=e;let r=null;if(i.type==="FeatureCollection"){const a=e;r=[];const l=a.features;for(let o=0,p=l.length;o<p;++o){const C=this.readFeatureFromObject(l[o],t);C&&r.push(C)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return Ene(e,t)}readProjectionFromObject(e){const t=e.crs;let i;if(t)if(t.type=="name")i=qs(t.properties.name);else if(t.type==="EPSG")i=qs("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const a=e.getProperties(),l=e.getGeometry();return l&&(i.geometry=sB(l,t),delete a[e.getGeometryName()]),jg(a)||(i.properties=a),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let r=0,a=e.length;r<a;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return sB(e,this.adaptOptions(t))}}function i8(n,e){if(!n)return null;let t;switch(n.type){case"Point":{t=One(n);break}case"LineString":{t=Ine(n);break}case"Polygon":{t=Rne(n);break}case"MultiPoint":{t=kne(n);break}case"MultiLineString":{t=Tne(n);break}case"MultiPolygon":{t=Dne(n);break}case"GeometryCollection":{t=Bne(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return t}function Ene(n,e){const t=i8(n);return n8(t,e)}function Bne(n,e){return n.geometries.map(function(i){return i8(i)})}function One(n){const e=n.coordinates;return{type:"Point",flatCoordinates:e,layout:ty(e.length)}}function Ine(n){const e=n.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:ty(e[0]?.length||2)}}function Tne(n){const e=n.coordinates,t=e[0]?.[0]?.length||2,i=[],r=pb(i,0,e,t);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:ty(t)}}function kne(n){const e=n.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:ty(e[0]?.length||2)}}function Dne(n){const e=n.coordinates,t=[],i=e[0]?.[0]?.[0].length||2,r=FF(t,0,e,i);return{type:"MultiPolygon",flatCoordinates:t,ends:r,layout:ty(i)}}function Rne(n){const e=n.coordinates,t=[],i=e[0]?.[0]?.length,r=pb(t,0,e,i);return{type:"Polygon",flatCoordinates:t,ends:r,layout:ty(i)}}function sB(n,e){n=M2(n,!0,e);const t=n.getType();let i;switch(t){case"Point":{i=zne(n);break}case"LineString":{i=Kne(n);break}case"Polygon":{i=jne(n,e);break}case"MultiPoint":{i=Lne(n);break}case"MultiLineString":{i=Une(n);break}case"MultiPolygon":{i=Fne(n,e);break}case"GeometryCollection":{i=Pne(n,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function Pne(n,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(i){return sB(i,e)})}}function Kne(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function Une(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function Lne(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function Fne(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function zne(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function jne(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}const lB=65536*65536,X9=1/lB,Nne=12,J9=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),d5=0,nx=1,wC=2,ix=5;class Gne{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,i=this.length){for(;this.pos<i;){const r=this.readVarint(),a=r>>3,l=this.pos;this.type=r&7,e(a,t,this),this.pos===l&&this.skip(r)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*lB;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*lB;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let i,r;return r=t[this.pos++],i=r&127,r<128||(r=t[this.pos++],i|=(r&127)<<7,r<128)||(r=t[this.pos++],i|=(r&127)<<14,r<128)||(r=t[this.pos++],i|=(r&127)<<21,r<128)?i:(r=t[this.pos],i|=(r&15)<<28,Wne(i,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=Nne&&J9?J9.decode(this.buf.subarray(t,e)):iie(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const i=this.readPackedEnd();for(;this.pos<i;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===wC?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===d5)for(;this.buf[this.pos++]>127;);else if(t===wC)this.pos=this.readVarint()+this.pos;else if(t===ix)this.pos+=4;else if(t===nx)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.dataView=new DataView(i.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*X9),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*X9),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){Qne(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=rie(this.buf,e,this.pos);const i=this.pos-t;i>=128&&eT(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let i=0;i<t;i++)this.buf[this.pos++]=e[i]}writeRawMessage(e,t){this.pos++;const i=this.pos;e(t,this);const r=this.pos-i;r>=128&&eT(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,i){this.writeTag(e,wC),this.writeRawMessage(t,i)}writePackedVarint(e,t){t.length&&this.writeMessage(e,Hne,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,Vne,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,Xne,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,$ne,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Zne,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,Jne,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,eie,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,tie,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,nie,t)}writeBytesField(e,t){this.writeTag(e,wC),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,ix),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,ix),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,nx),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,nx),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,d5),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,d5),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,wC),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,ix),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,nx),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Wne(n,e,t){const i=t.buf;let r,a;if(a=i[t.pos++],r=(a&112)>>4,a<128||(a=i[t.pos++],r|=(a&127)<<3,a<128)||(a=i[t.pos++],r|=(a&127)<<10,a<128)||(a=i[t.pos++],r|=(a&127)<<17,a<128)||(a=i[t.pos++],r|=(a&127)<<24,a<128)||(a=i[t.pos++],r|=(a&1)<<31,a<128))return Ly(n,r,e);throw new Error("Expected varint not more than 10 bytes")}function Ly(n,e,t){return t?e*4294967296+(n>>>0):(e>>>0)*4294967296+(n>>>0)}function Qne(n,e){let t,i;if(n>=0?(t=n%4294967296|0,i=n/4294967296|0):(t=~(-n%4294967296),i=~(-n/4294967296),t^4294967295?t=t+1|0:(t=0,i=i+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Yne(t,i,e),qne(i,e)}function Yne(n,e,t){t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos]=n&127}function qne(n,e){const t=(n&7)<<4;e.buf[e.pos++]|=t|((n>>>=3)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127)))))}function eT(n,e,t){const i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(i);for(let r=t.pos-1;r>=n;r--)t.buf[r+i]=t.buf[r]}function Hne(n,e){for(let t=0;t<n.length;t++)e.writeVarint(n[t])}function Vne(n,e){for(let t=0;t<n.length;t++)e.writeSVarint(n[t])}function $ne(n,e){for(let t=0;t<n.length;t++)e.writeFloat(n[t])}function Zne(n,e){for(let t=0;t<n.length;t++)e.writeDouble(n[t])}function Xne(n,e){for(let t=0;t<n.length;t++)e.writeBoolean(n[t])}function Jne(n,e){for(let t=0;t<n.length;t++)e.writeFixed32(n[t])}function eie(n,e){for(let t=0;t<n.length;t++)e.writeSFixed32(n[t])}function tie(n,e){for(let t=0;t<n.length;t++)e.writeFixed64(n[t])}function nie(n,e){for(let t=0;t<n.length;t++)e.writeSFixed64(n[t])}function iie(n,e,t){let i="",r=e;for(;r<t;){const a=n[r];let l=null,o=a>239?4:a>223?3:a>191?2:1;if(r+o>t)break;let p,C,M;o===1?a<128&&(l=a):o===2?(p=n[r+1],(p&192)===128&&(l=(a&31)<<6|p&63,l<=127&&(l=null))):o===3?(p=n[r+1],C=n[r+2],(p&192)===128&&(C&192)===128&&(l=(a&15)<<12|(p&63)<<6|C&63,(l<=2047||l>=55296&&l<=57343)&&(l=null))):o===4&&(p=n[r+1],C=n[r+2],M=n[r+3],(p&192)===128&&(C&192)===128&&(M&192)===128&&(l=(a&15)<<18|(p&63)<<12|(C&63)<<6|M&63,(l<=65535||l>=1114112)&&(l=null))),l===null?(l=65533,o=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|l&1023),i+=String.fromCharCode(l),r+=o}return i}function rie(n,e,t){for(let i=0,r,a;i<e.length;i++){if(r=e.charCodeAt(i),r>55295&&r<57344)if(a)if(r<56320){n[t++]=239,n[t++]=191,n[t++]=189,a=r;continue}else r=a-55296<<10|r-56320|65536,a=null;else{r>56319||i+1===e.length?(n[t++]=239,n[t++]=191,n[t++]=189):a=r;continue}else a&&(n[t++]=239,n[t++]=191,n[t++]=189,a=null);r<128?n[t++]=r:(r<2048?n[t++]=r>>6|192:(r<65536?n[t++]=r>>12|224:(n[t++]=r>>18|240,n[t++]=r>>12&63|128),n[t++]=r>>6&63|128),n[t++]=r&63|128)}return t}class Uz extends Pz{constructor(e){super(),e=e||{},this.dataProjection=new l2({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:zh,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,i,r){e.pos=t.geometry;const a=e.readVarint()+e.pos;let l=1,o=0,p=0,C=0,M=0,O=0;for(;e.pos<a;){if(!o){const U=e.readVarint();l=U&7,o=U>>3}if(o--,l===1||l===2)p+=e.readSVarint(),C+=e.readSVarint(),l===1&&M>O&&(r.push(M),O=M),i.push(p,C),M+=2;else if(l===7)M>O&&(i.push(i[O],i[O+1]),M+=2);else throw new Error("Invalid command found in the PBF")}M>O&&(r.push(M),O=M)}createFeature_(e,t,i){const r=t.type;if(r===0)return null;let a;const l=t.properties;let o;this.idProperty_?(o=l[this.idProperty_],delete l[this.idProperty_]):o=t.id,l[this.layerName_]=t.layer.name;const p=[],C=[];this.readRawGeometry_(e,t,p,C);const M=Aie(r,C.length);if(this.featureClass===zh)a=new this.featureClass(M,p,C,2,l,o),a.transform(i.dataProjection);else{let O;if(M=="Polygon"){const j=YF(p,C);O=j.length>1?new L_(p,"XY",j):new F0(p,"XY",C)}else O=M==="Point"?new q1(p,"XY"):M==="LineString"?new V1(p,"XY"):M==="MultiPoint"?new _b(p,"XY"):M==="MultiLineString"?new U_(p,"XY",C):null;const U=this.featureClass;a=new U,this.geometryName_&&a.setGeometryName(this.geometryName_);const K=M2(O,!1,i);a.setGeometry(K),o!==void 0&&a.setId(o),a.setProperties(l,!0)}return a}getType(){return"arraybuffer"}readFeatures(e,t){const i=this.layers_;t=this.adaptOptions(t);const r=qs(t.dataProjection);r.setWorldExtent(t.extent),t.dataProjection=r;const a=new Gne(e),l=a.readFields(oie,{}),o=[];for(const p in l){if(i&&!i.includes(p))continue;const C=l[p],M=C?[0,0,C.extent,C.extent]:null;r.setExtent(M);for(let O=0,U=C.length;O<U;++O){const K=lie(a,C,O),j=this.createFeature_(a,K,t);j!==null&&o.push(j)}}return o}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function oie(n,e,t){if(n===3){const i={keys:[],values:[],features:[]},r=t.readVarint()+t.pos;t.readFields(aie,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function aie(n,e,t){if(n===15)e.version=t.readVarint();else if(n===1)e.name=t.readString();else if(n===5)e.extent=t.readVarint();else if(n===2)e.features.push(t.pos);else if(n===3)e.keys.push(t.readString());else if(n===4){let i=null;const r=t.readVarint()+t.pos;for(;t.pos<r;)n=t.readVarint()>>3,i=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;e.values.push(i)}}function sie(n,e,t){if(n==1)e.id=t.readVarint();else if(n==2){const i=t.readVarint()+t.pos;for(;t.pos<i;){const r=e.layer.keys[t.readVarint()],a=e.layer.values[t.readVarint()];e.properties[r]=a}}else n==3?e.type=t.readVarint():n==4&&(e.geometry=t.pos)}function lie(n,e,t){n.pos=e.features[t];const i=n.readVarint()+n.pos,r={layer:e,type:0,properties:{}};return n.readFields(sie,r,i),r}function Aie(n,e){let t;return n===1?t=e===1?"Point":"MultiPoint":n===2?t=e===1?"LineString":"MultiLineString":n===3&&(t="Polygon"),t}class uie extends $O{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,a=r.resolution,l=this.getLayer().getSource(),o=e.viewHints;let p=e.extent;if(t.extent!==void 0&&(p=rm(p,Ym(t.extent,r.projection))),!o[CA.ANIMATING]&&!o[CA.INTERACTING]&&!J1(p))if(l){const C=r.projection,M=l.getImage(p,a,i,C);M&&(this.loadImage(M)?this.image=M:M.getState()===dr.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=nc(t.pixelToCoordinateTransform,e.slice()),a=i.getExtent();if(a&&!Y1(a,r))return null;const l=this.image.getExtent(),o=this.image.getImage(),p=us(l),C=Math.floor(o.width*((r[0]-l[0])/p));if(C<0||C>=o.width)return null;const M=rc(l),O=Math.floor(o.height*((l[3]-r[1])/M));return O<0||O>=o.height?null:this.getImageData(o,C,O)}renderFrame(e,t){const i=this.image,r=i.getExtent(),a=i.getResolution(),[l,o]=Array.isArray(a)?a:[a,a],p=i.getPixelRatio(),C=e.layerStatesArray[e.layerIndex],M=e.pixelRatio,O=e.viewState,U=O.center,K=O.resolution,j=M*l/(K*p),W=M*o/(K*p);this.prepareContainer(e,t);const Y=this.context.canvas.width,te=this.context.canvas.height,J=this.getRenderContext(e);let oe=!1,ne=!0;if(C.extent){const ge=Ym(C.extent,O.projection);ne=uu(ge,e.extent),oe=ne&&!Qm(ge,e.extent),oe&&this.clipUnrotated(J,e,ge)}const $=i.getImage(),ae=e0(this.tempTransform,Y/2,te/2,j,W,0,p*(r[0]-U[0])/l,p*(U[1]-r[3])/o);this.renderedResolution=o*M/p;const G=$.width*ae[0],ce=$.height*ae[3];if(this.getLayer().getSource().getInterpolate()||(J.imageSmoothingEnabled=!1),this.preRender(J,e),ne&&G>=.5&&ce>=.5){const ge=ae[4],ye=ae[5],we=C.opacity;we!==1&&(J.save(),J.globalAlpha=we),J.drawImage($,0,0,+$.width,+$.height,ge,ye,G,ce),we!==1&&J.restore()}return this.postRender(this.context,e),oe&&J.restore(),J.imageSmoothingEnabled=!0,this.container}}class cie extends Zv{constructor(e){e=e||{},super(e)}}class Lz extends cie{constructor(e){super(e)}createRenderer(){return new uie(this)}getData(e){return super.getData(e)}}function AB(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}const hie=new Error("disposed"),die=[256,256];class tT extends xb{constructor(e){const t=Pi.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=AB(this.data_);return e?[e.width,e.height]:die}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Pi.IDLE&&this.state!==Pi.ERROR)return;this.state=Pi.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=Pi.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=Pi.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(hie),this.controller_=null),super.disposeInternal()}}let f5;const bv=[];function nT(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function p5(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function fie(){if(f5===void 0){const n=WA(6,6,bv);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",nT(n,4,5,4,0),nT(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;f5=p5(e,0)||p5(e,4)||p5(e,8),mb(n),bv.push(n.canvas)}return f5}function uB(n,e,t,i){const r=c2(t,e,n);let a=Y6(e,i,t);const l=e.getMetersPerUnit();l!==void 0&&(a*=l);const o=n.getMetersPerUnit();o!==void 0&&(a/=o);const p=n.getExtent();if(!p||Y1(p,r)){const C=Y6(n,a,r)/a;isFinite(C)&&C>0&&(a/=C)}return a}function pie(n,e,t,i){const r=If(t);let a=uB(n,e,r,i);return(!isFinite(a)||a<=0)&&_F(t,function(l){return a=uB(n,e,l,i),isFinite(a)&&a>0}),a}function Fz(n,e,t,i,r,a,l,o,p,C,M,O,U,K){const j=WA(Math.round(t*n),Math.round(t*e),bv);if(O||(j.imageSmoothingEnabled=!1),p.length===0)return j.canvas;j.scale(t,t);function W($){return Math.round($*t)/t}j.globalCompositeOperation="lighter";const Y=xp();p.forEach(function($,ae,G){vF(Y,$.extent)});let te;const J=t/i,oe=(O?1:1+Math.pow(2,-24))/J;(!U||p.length!==1||C!==0)&&(te=WA(Math.round(us(Y)*J),Math.round(rc(Y)*J),bv),O||(te.imageSmoothingEnabled=!1),p.forEach(function($,ae,G){if($.image.width>0&&$.image.height>0){if($.clipExtent){te.save();const Ie=($.clipExtent[0]-Y[0])*J,Se=-($.clipExtent[3]-Y[3])*J,Ve=us($.clipExtent)*J,xe=rc($.clipExtent)*J;te.rect(O?Ie:Math.round(Ie),O?Se:Math.round(Se),O?Ve:Math.round(Ie+Ve)-Math.round(Ie),O?xe:Math.round(Se+xe)-Math.round(Se)),te.clip()}const ce=($.extent[0]-Y[0])*J,ge=-($.extent[3]-Y[3])*J,ye=us($.extent)*J,we=rc($.extent)*J;te.drawImage($.image,C,C,$.image.width-2*C,$.image.height-2*C,O?ce:Math.round(ce),O?ge:Math.round(ge),O?ye:Math.round(ce+ye)-Math.round(ce),O?we:Math.round(ge+we)-Math.round(ge)),$.clipExtent&&te.restore()}}));const ne=N0(l);return o.getTriangles().forEach(function($,ae,G){const ce=$.source,ge=$.target;let ye=ce[0][0],we=ce[0][1],Ie=ce[1][0],Se=ce[1][1],Ve=ce[2][0],xe=ce[2][1];const ze=W((ge[0][0]-ne[0])/a),st=W(-(ge[0][1]-ne[1])/a),Ct=W((ge[1][0]-ne[0])/a),nt=W(-(ge[1][1]-ne[1])/a),be=W((ge[2][0]-ne[0])/a),Ne=W(-(ge[2][1]-ne[1])/a),tt=ye,lt=we;ye=0,we=0,Ie-=tt,Se-=lt,Ve-=tt,xe-=lt;const kt=[[Ie,Se,0,0,Ct-ze],[Ve,xe,0,0,be-ze],[0,0,Ie,Se,nt-st],[0,0,Ve,xe,Ne-st]],gt=lX(kt);if(!gt)return;if(j.save(),j.beginPath(),fie()||!O){j.moveTo(Ct,nt);const Ut=4,Fe=ze-Ct,Ke=st-nt;for(let Re=0;Re<Ut;Re++)j.lineTo(Ct+W((Re+1)*Fe/Ut),nt+W(Re*Ke/(Ut-1))),Re!=Ut-1&&j.lineTo(Ct+W((Re+1)*Fe/Ut),nt+W((Re+1)*Ke/(Ut-1)));j.lineTo(be,Ne)}else j.moveTo(Ct,nt),j.lineTo(ze,st),j.lineTo(be,Ne);j.clip(),j.transform(gt[0],gt[2],gt[1],gt[3],ze,st),j.translate(Y[0]-tt,Y[3]-lt);let St;if(te)St=te.canvas,j.scale(oe,-oe);else{const Ut=p[0],Fe=Ut.extent;St=Ut.image,j.scale(us(Fe)/St.width,-rc(Fe)/St.height)}j.drawImage(St,0,0),j.restore()}),te&&(mb(te),bv.push(te.canvas)),M&&(j.save(),j.globalCompositeOperation="source-over",j.strokeStyle="black",j.lineWidth=1,o.getTriangles().forEach(function($,ae,G){const ce=$.target,ge=(ce[0][0]-ne[0])/a,ye=-(ce[0][1]-ne[1])/a,we=(ce[1][0]-ne[0])/a,Ie=-(ce[1][1]-ne[1])/a,Se=(ce[2][0]-ne[0])/a,Ve=-(ce[2][1]-ne[1])/a;j.beginPath(),j.moveTo(we,Ie),j.lineTo(ge,ye),j.lineTo(Se,Ve),j.closePath(),j.stroke()}),j.restore()),j.canvas}const mie=10,iT=.25;class zz{constructor(e,t,i,r,a,l,o){this.sourceProj_=e,this.targetProj_=t;let p={};const C=o?$X(oe=>nc(o,c2(oe,this.targetProj_,this.sourceProj_))):B_(this.targetProj_,this.sourceProj_);this.transformInv_=function(oe){const ne=oe[0]+"/"+oe[1];return p[ne]||(p[ne]=C(oe)),p[ne]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&us(r)>=us(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?us(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?us(this.targetProj_.getExtent()):null;const M=N0(i),O=s2(i),U=a2(i),K=o2(i),j=this.transformInv_(M),W=this.transformInv_(O),Y=this.transformInv_(U),te=this.transformInv_(K),J=mie+(l?Math.max(0,Math.ceil(Math.log2(N6(i)/(l*l*256*256)))):0);if(this.addQuad_(M,O,U,K,j,W,Y,te,J),this.wrapsXInSource_){let oe=1/0;this.triangles_.forEach(function(ne,$,ae){oe=Math.min(oe,ne.source[0][0],ne.source[1][0],ne.source[2][0])}),this.triangles_.forEach(ne=>{if(Math.max(ne.source[0][0],ne.source[1][0],ne.source[2][0])-oe>this.sourceWorldWidth_/2){const $=[[ne.source[0][0],ne.source[0][1]],[ne.source[1][0],ne.source[1][1]],[ne.source[2][0],ne.source[2][1]]];$[0][0]-oe>this.sourceWorldWidth_/2&&($[0][0]-=this.sourceWorldWidth_),$[1][0]-oe>this.sourceWorldWidth_/2&&($[1][0]-=this.sourceWorldWidth_),$[2][0]-oe>this.sourceWorldWidth_/2&&($[2][0]-=this.sourceWorldWidth_);const ae=Math.min($[0][0],$[1][0],$[2][0]);Math.max($[0][0],$[1][0],$[2][0])-ae<this.sourceWorldWidth_/2&&(ne.source=$)}})}p={}}addTriangle_(e,t,i,r,a,l){this.triangles_.push({source:[r,a,l],target:[e,t,i]})}addQuad_(e,t,i,r,a,l,o,p,C){const M=z6([a,l,o,p]),O=this.sourceWorldWidth_?us(M)/this.sourceWorldWidth_:null,U=this.sourceWorldWidth_,K=this.sourceProj_.canWrapX()&&O>.5&&O<1;let j=!1;if(C>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const Y=z6([e,t,i,r]);j=us(Y)/this.targetWorldWidth_>iT||j}!K&&this.sourceProj_.isGlobal()&&O&&(j=O>iT||j)}if(!j&&this.maxSourceExtent_&&isFinite(M[0])&&isFinite(M[1])&&isFinite(M[2])&&isFinite(M[3])&&!uu(M,this.maxSourceExtent_))return;let W=0;if(!j&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(p[0])||!isFinite(p[1]))){if(C>0)j=!0;else if(W=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(p[0])||!isFinite(p[1])?1:0),W!=1&&W!=2&&W!=4&&W!=8)return}if(C>0){if(!j){const Y=[(e[0]+i[0])/2,(e[1]+i[1])/2],te=this.transformInv_(Y);let J;K?J=(F1(a[0],U)+F1(o[0],U))/2-F1(te[0],U):J=(a[0]+o[0])/2-te[0];const oe=(a[1]+o[1])/2-te[1];j=J*J+oe*oe>this.errorThresholdSquared_}if(j){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const Y=[(t[0]+i[0])/2,(t[1]+i[1])/2],te=this.transformInv_(Y),J=[(r[0]+e[0])/2,(r[1]+e[1])/2],oe=this.transformInv_(J);this.addQuad_(e,t,Y,J,a,l,te,oe,C-1),this.addQuad_(J,Y,i,r,oe,te,o,p,C-1)}else{const Y=[(e[0]+t[0])/2,(e[1]+t[1])/2],te=this.transformInv_(Y),J=[(i[0]+r[0])/2,(i[1]+r[1])/2],oe=this.transformInv_(J);this.addQuad_(e,Y,J,r,a,te,oe,p,C-1),this.addQuad_(Y,t,i,J,te,l,o,oe,C-1)}return}}if(K){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(W&11)==0&&this.addTriangle_(e,i,r,a,o,p),(W&14)==0&&this.addTriangle_(e,i,t,a,o,l),W&&((W&13)==0&&this.addTriangle_(t,r,e,l,p,a),(W&7)==0&&this.addTriangle_(t,r,i,l,p,o))}calculateSourceExtent(){const e=xp();return this.triangles_.forEach(function(t,i,r){const a=t.source;i_(e,a[0]),i_(e,a[1]),i_(e,a[2])}),e}getTriangles(){return this.triangles_}}const jz=.5;class Nz extends xb{constructor(e,t,i,r,a,l,o,p,C,M,O,U){super(a,Pi.IDLE,U),this.renderEdges_=O!==void 0?O:!1,this.pixelRatio_=o,this.gutter_=p,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=l||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const K=r.getTileCoordExtent(this.wrappedTileCoord_),j=this.targetTileGrid_.getExtent();let W=this.sourceTileGrid_.getExtent();const Y=j?rm(K,j):K;if(N6(Y)===0){this.state=Pi.EMPTY;return}const te=e.getExtent();te&&(W?W=rm(W,te):W=te);const J=r.getResolution(this.wrappedTileCoord_[0]),oe=pie(e,i,Y,J);if(!isFinite(oe)||oe<=0){this.state=Pi.EMPTY;return}const ne=M!==void 0?M:jz;if(this.triangulation_=new zz(e,i,Y,W,oe*ne,J),this.triangulation_.getTriangles().length===0){this.state=Pi.EMPTY;return}this.sourceZ_=t.getZForResolution(oe);let $=this.triangulation_.calculateSourceExtent();if(W&&(e.canWrapX()?($[1]=GA($[1],W[1],W[3]),$[3]=GA($[3],W[1],W[3])):$=rm($,W)),!N6($))this.state=Pi.EMPTY;else{let ae=0,G=0;e.canWrapX()&&(ae=us(te),G=Math.floor(($[0]-te[0])/ae)),MF($.slice(),e,!0).forEach(ge=>{const ye=t.getTileRangeForExtentAndZ(ge,this.sourceZ_);for(let we=ye.minX;we<=ye.maxX;we++)for(let Ie=ye.minY;Ie<=ye.maxY;Ie++){const Se=C(this.sourceZ_,we,Ie,o);if(Se){const Ve=G*ae;this.sourceTiles_.push({tile:Se,offset:Ve})}}++G}),this.sourceTiles_.length===0&&(this.state=Pi.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const i=t.tile;if(i&&i.getState()==Pi.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const a=this.clipExtent_?.slice();a&&(a[0]+=t.offset,a[2]+=t.offset),e.push({extent:r,clipExtent:a,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Pi.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],l=this.targetTileGrid_.getResolution(t),o=this.sourceTileGrid_.getResolution(this.sourceZ_),p=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Fz(r,a,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),l,p,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Pi.LOADED}this.changed()}load(){if(this.state==Pi.IDLE){this.state=Pi.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==Pi.IDLE||i==Pi.LOADING){e++;const r=Ja(t,po.CHANGE,a=>{const l=t.getState();(l==Pi.LOADED||l==Pi.ERROR||l==Pi.EMPTY)&&(Ol(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==Pi.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ol),this.sourcesListenerKeys_=null}release(){this.canvas_&&(mb(this.canvas_.getContext("2d")),bv.push(this.canvas_),this.canvas_=null),super.release()}}class gie{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Ab&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Ss(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Ss(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Ss(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function p3(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function yie(n,e,t){return n+"/"+e+"/"+t}function vie(n){return Cie(n[0],n[1],n[2])}function Cie(n,e,t){return(e<<n)+t}function _ie(n,e){const t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const a=e.getFullTileRange(t);return a?a.containsXY(i,r):!0}function m5(n,e,t,i,r){return`${To(n)},${e},${yie(t,i,r)}`}function g5(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;const i=n[t],r=i.has(e);return r||i.add(e),!r}function bie(n,e,t){const i=n[t];return i?i.delete(e):!1}function rT(n,e){const t=n.layerStatesArray[n.layerIndex];t.extent&&(e=rm(e,Ym(t.extent,n.viewState.projection)));const i=t.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=rm(e,r))}return e}class Gz extends $O{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=xp(),this.tempTileRange_=new XO(0,0,0,0),this.tempTileCoord_=p3(0,0,0);const i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new gie(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){const a=this.tileCache_,o=this.getLayer().getSource(),p=m5(o,o.getKey(),e,t,i);let C;if(a.containsKey(p))C=a.get(p);else{if(C=o.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!C)return null;a.set(p,C)}return C}getTile(e,t,i,r){const a=this.getOrCreateTile(e,t,i,r);return a||null}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=nc(t.pixelToCoordinateTransform,e.slice()),a=i.getExtent();if(a&&!Y1(a,r))return null;const l=t.viewState,o=i.getRenderSource(),p=o.getTileGridForProjection(l.projection),C=o.getTilePixelRatio(t.pixelRatio);for(let M=p.getZForResolution(l.resolution);M>=p.getMinZoom();--M){const O=p.getTileCoordForCoordAndZ(r,M),U=this.getTile(M,O[1],O[2],t);if(!U||U.getState()!==Pi.LOADED)continue;const K=p.getOrigin(M),j=jh(p.getTileSize(M)),W=p.getResolution(M);let Y;if(U instanceof Bz||U instanceof Nz)Y=U.getImage();else if(U instanceof tT){if(Y=AB(U.getData()),!Y)continue}else continue;const te=Math.floor(C*((r[0]-K[0])/W-O[1]*j[0])),J=Math.floor(C*((K[1]-r[1])/W-O[2]*j[1])),oe=Math.round(C*o.getGutterForProjection(l.projection));return this.getImageData(Y,te+oe,J+oe)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const i=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==i&&(this.renderedSourceRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=i,!0}enqueueTiles(e,t,i,r,a){const l=e.viewState,o=this.getLayer(),p=o.getRenderSource(),C=p.getTileGridForProjection(l.projection),M=To(p);M in e.wantedTiles||(e.wantedTiles[M]={});const O=e.wantedTiles[M],U=o.getMapInternal(),K=Math.max(i-a,C.getMinZoom(),C.getZForResolution(Math.min(o.getMaxResolution(),U?U.getView().getResolutionForZoom(Math.max(o.getMinZoom(),0)):C.getResolution(0)),p.zDirection)),j=l.rotation,W=j?bF(l.center,l.resolution,j,e.size):void 0;for(let Y=i;Y>=K;--Y){const te=C.getTileRangeForExtentAndZ(t,Y,this.tempTileRange_),J=C.getResolution(Y);for(let oe=te.minX;oe<=te.maxX;++oe)for(let ne=te.minY;ne<=te.maxY;++ne){if(j&&!C.tileCoordIntersectsViewport([Y,oe,ne],W))continue;const $=this.getTile(Y,oe,ne,e);if(!$||!g5(r,$,Y))continue;const G=$.getKey();if(O[G]=!0,$.getState()===Pi.IDLE&&!e.tileQueue.isKeyQueued(G)){const ce=p3(Y,oe,ne,this.tempTileCoord_);e.tileQueue.enqueue([$,M,C.getTileCoordCenter(ce),J])}}}}findStaleTile_(e,t){const i=this.tileCache_,r=e[0],a=e[1],l=e[2],o=this.getStaleKeys();for(let p=0;p<o.length;++p){const C=m5(this.getLayer().getSource(),o[p],r,a,l);if(i.containsKey(C)){const M=i.peek(C);if(M.getState()===Pi.LOADED)return M.endTransition(To(this)),g5(t,M,r),!0}}return!1}findAltTiles_(e,t,i,r){const a=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!a)return!1;let l=!0;const o=this.tileCache_,p=this.getLayer().getRenderSource(),C=p.getKey();for(let M=a.minX;M<=a.maxX;++M)for(let O=a.minY;O<=a.maxY;++O){const U=m5(p,C,i,M,O);let K=!1;if(o.containsKey(U)){const j=o.peek(U);j.getState()===Pi.LOADED&&(g5(r,j,i),K=!0)}K||(l=!1)}return l}renderFrame(e,t){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,a=r.projection,l=r.resolution,o=r.center,p=e.pixelRatio,C=this.getLayer(),M=C.getSource(),O=M.getTileGridForProjection(a),U=O.getZForResolution(l,M.zDirection),K=O.getResolution(U),j=M.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==j&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=j):this.renderedSourceKey_=j;let W=e.extent;const Y=M.getTilePixelRatio(p);this.prepareContainer(e,t);const te=this.context.canvas.width,J=this.context.canvas.height,oe=i.extent&&Ym(i.extent);oe&&(W=rm(W,Ym(i.extent)));const ne=K*te/2/Y,$=K*J/2/Y,ae=[o[0]-ne,o[1]-$,o[0]+ne,o[1]+$],G={};this.renderedTiles.length=0;const ce=C.getPreload();if(e.nextExtent){const Ct=O.getZForResolution(r.nextResolution,M.zDirection),nt=rT(e,e.nextExtent);this.enqueueTiles(e,nt,Ct,G,ce)}const ge=rT(e,W);if(this.enqueueTiles(e,ge,U,G,0),ce>0&&setTimeout(()=>{this.enqueueTiles(e,ge,U-1,G,ce-1)},0),!(U in G))return this.container;const ye=To(this),we=e.time;for(const Ct of G[U]){const nt=Ct.getState();if(nt===Pi.EMPTY)continue;const be=Ct.tileCoord;if(nt===Pi.LOADED&&Ct.getAlpha(ye,we)===1){Ct.endTransition(ye);continue}if(nt!==Pi.ERROR&&(this.renderComplete=!1),this.findStaleTile_(be,G)){bie(G,Ct,U),e.animate=!0;continue}if(this.findAltTiles_(O,be,U+1,G))continue;const lt=O.getMinZoom();for(let kt=U-1;kt>=lt&&!this.findAltTiles_(O,be,kt,G);--kt);}const Ie=K/l*p/Y,Se=this.getRenderContext(e);e0(this.tempTransform,te/2,J/2,Ie,Ie,0,-te/2,-J/2),i.extent&&this.clipUnrotated(Se,e,oe),M.getInterpolate()||(Se.imageSmoothingEnabled=!1),this.preRender(Se,e);const Ve=Object.keys(G).map(Number);Ve.sort(Zm);let xe;const ze=[],st=[];for(let Ct=Ve.length-1;Ct>=0;--Ct){const nt=Ve[Ct],be=M.getTilePixelSize(nt,p,a),tt=O.getResolution(nt)/K,lt=be[0]*tt*Ie,kt=be[1]*tt*Ie,gt=O.getTileCoordForCoordAndZ(N0(ae),nt),St=O.getTileCoordExtent(gt),Ut=nc(this.tempTransform,[Y*(St[0]-ae[0])/K,Y*(ae[3]-St[3])/K]),Fe=Y*M.getGutterForProjection(a);for(const Ke of G[nt]){if(Ke.getState()!==Pi.LOADED)continue;const Re=Ke.tileCoord,He=gt[1]-Re[1],bt=Math.round(Ut[0]-(He-1)*lt),_t=gt[2]-Re[2],Ot=Math.round(Ut[1]-(_t-1)*kt),qt=Math.round(Ut[0]-He*lt),Kt=Math.round(Ut[1]-_t*kt),on=bt-qt,Jn=Ot-Kt,Wt=Ve.length===1;let $n=!1;xe=[qt,Kt,qt+on,Kt,qt+on,Kt+Jn,qt,Kt+Jn];for(let On=0,Bn=ze.length;On<Bn;++On)if(!Wt&&nt<st[On]){const In=ze[On];uu([qt,Kt,qt+on,Kt+Jn],[In[0],In[3],In[4],In[7]])&&($n||(Se.save(),$n=!0),Se.beginPath(),Se.moveTo(xe[0],xe[1]),Se.lineTo(xe[2],xe[3]),Se.lineTo(xe[4],xe[5]),Se.lineTo(xe[6],xe[7]),Se.moveTo(In[6],In[7]),Se.lineTo(In[4],In[5]),Se.lineTo(In[2],In[3]),Se.lineTo(In[0],In[1]),Se.clip())}ze.push(xe),st.push(nt),this.drawTile(Ke,e,qt,Kt,on,Jn,Fe,Wt),$n&&Se.restore(),this.renderedTiles.unshift(Ke),this.updateUsedTiles(e.usedTiles,M,Ke)}}if(this.renderedResolution=K,this.extentChanged=!this.renderedExtent_||!L0(this.renderedExtent_,ae),this.renderedExtent_=ae,this.renderedPixelRatio=p,this.postRender(this.context,e),i.extent&&Se.restore(),Se.imageSmoothingEnabled=!0,this.renderComplete){const Ct=(nt,be)=>{const Ne=To(M),tt=be.wantedTiles[Ne],lt=tt?Object.keys(tt).length:0;this.updateCacheSize(lt),this.tileCache_.expireCache()};e.postRenderFunctions.push(Ct)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,a,l,o,p){let C;if(e instanceof tT){if(C=AB(e.getData()),!C)throw new Error("Rendering array data is not yet supported")}else C=this.getTileImage(e);if(!C)return;const M=this.getRenderContext(t),O=To(this),U=t.layerStatesArray[t.layerIndex],K=U.opacity*(p?e.getAlpha(O,t.time):1),j=K!==M.globalAlpha;j&&(M.save(),M.globalAlpha=K),M.drawImage(C,o,o,C.width-2*o,C.height-2*o,i,r,a,l),j&&M.restore(),K!==U.opacity?t.animate=!0:p&&e.endTransition(O)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){const r=To(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}}const Tg={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class xie extends Zv{constructor(e){e=e||{};const t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Tg.PRELOAD)}setPreload(e){this.set(Tg.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Tg.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Tg.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Wz extends xie{constructor(e){super(e)}createRenderer(){return new Gz(this,{cacheSize:this.getCacheSize()})}}const Mie={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},oT={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class wie extends Gz{constructor(e,t){super(e,t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=Hd(),this.tileClipContexts_=null}drawTile(e,t,i,r,a,l,o,p){this.updateExecutorGroup_(e,t.pixelRatio,t.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super.drawTile(e,t,i,r,a,l,o,p)}getTile(e,t,i,r){const a=this.getOrCreateTile(e,t,i,r);if(!a)return null;const o=r.viewState.resolution,p=r.viewHints;return(!(p[CA.ANIMATING]||p[CA.INTERACTING])||!a.wantedResolution)&&(a.wantedResolution=o),a}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,i){const r=this.getLayer(),a=r.getRevision(),l=r.getRenderOrder()||null,o=e.wantedResolution,p=e.getReplayState(r);if(!p.dirty&&p.renderedResolution===o&&p.renderedRevision==a&&p.renderedRenderOrder==l)return;const C=r.getSource(),M=!!r.getDeclutter(),O=C.getTileGrid(),K=C.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),j=C.getSourceTiles(t,i,e),W=To(r);delete e.hitDetectionImageData[W],e.executorGroups[W]=[],p.dirty=!1;for(let Y=0,te=j.length;Y<te;++Y){const J=j[Y];if(J.getState()!=Pi.LOADED)continue;const oe=J.tileCoord,ne=O.getTileCoordExtent(oe),$=rm(K,ne),ae=Ug($,r.getRenderBuffer()*o,this.tempExtent),G=L0(ne,$)?null:ae,ce=new Mz(0,$,o,t),ge=rB(o,t),ye=function(xe,ze){let st;const Ct=xe.getStyleFunction()||r.getStyleFunction();if(Ct&&(st=Ct(xe,o)),st){const nt=this.renderFeature(xe,ge,st,ce,M,ze);p.dirty=p.dirty||nt}},we=J.getFeatures();l&&l!==p.renderedRenderOrder&&we.sort(l);for(let xe=0,ze=we.length;xe<ze;++xe){const st=we[xe];(!G||uu(G,st.getGeometry().getExtent()))&&ye.call(this,st,xe)}const Ie=ce.finish(),Se=r.getRenderMode()!=="vector"&&M&&j.length===1?null:$,Ve=new wz(Se,o,t,C.getOverlaps(),Ie,r.getRenderBuffer(),!0);e.executorGroups[W].push(Ve)}p.renderedRevision=a,p.renderedRenderOrder=l,p.renderedResolution=o}forEachFeatureAtCoordinate(e,t,i,r,a){const l=t.viewState.resolution,o=t.viewState.rotation;i=i??0;const p=this.getLayer(),M=p.getSource().getTileGridForProjection(t.viewState.projection),O=z6([e]);Ug(O,l*i,O);const U={},K=function(oe,ne,$){let ae=oe.getId();ae===void 0&&(ae=To(oe));const G=U[ae];if(G){if(G!==!0&&$<G.distanceSq){if($===0)return U[ae]=!0,a.splice(a.lastIndexOf(G),1),r(oe,p,ne);G.geometry=ne,G.distanceSq=$}}else{if($===0)return U[ae]=!0,r(oe,p,ne);a.push(U[ae]={feature:oe,layer:p,geometry:ne,distanceSq:$,callback:r})}},j=this.renderedTiles,W=To(p),Y=p.getDeclutter(),te=Y?t.declutter?.[Y]?.all().map(oe=>oe.value):null;let J;e:for(let oe=0,ne=j.length;oe<ne;++oe){const $=j[oe],ae=M.getTileCoordExtent($.wrappedTileCoord);if(!uu(ae,O))continue;const G=$.executorGroups[W];for(let ce=0,ge=G.length;ce<ge;++ce)if(J=G[ce].forEachFeatureAtCoordinate(e,l,o,i,K,te),J)break e}return J}getFeatures(e){return this.renderedTiles.length===0?Promise.resolve([]):new Promise((t,i)=>{const r=this.getLayer(),a=r.getSource(),l=this.renderedProjection,o=l.getExtent(),p=this.renderedResolution,C=a.getTileGridForProjection(l),M=nc(this.renderedPixelToCoordinateTransform_,e.slice()),O=C.getTileCoordForCoordAndResolution(M,p).toString(),U=this.renderedTiles.find(oe=>oe.tileCoord.toString()===O&&oe.getState()===Pi.LOADED);if(!U||U.loadingSourceTiles>0){t([]);return}a.getWrapX()&&l.canWrapX()&&!Qm(o,C.getTileCoordExtent(U.tileCoord))&&fO(M,l);const K=To(r),j=C.getTileCoordExtent(U.wrappedTileCoord),W=N0(j),Y=[(M[0]-W[0])/p,(W[1]-M[1])/p],te=U.getSourceTiles().reduce((oe,ne)=>oe.concat(ne.getFeatures()),[]);let J=U.hitDetectionImageData[K];if(!J){const oe=jh(C.getTileSize(C.getZForResolution(p,a.zDirection))),ne=this.renderedRotation_,$=[this.getRenderTransform(C.getTileCoordCenter(U.wrappedTileCoord),p,0,Sf,oe[0]*Sf,oe[1]*Sf,0)];J=Sz(oe,$,te,r.getStyleFunction(),C.getTileCoordExtent(U.wrappedTileCoord),U.getReplayState(r).renderedResolution,ne),U.hitDetectionImageData[K]=J}t(Ez(Y,te,J))})}getFeaturesInExtent(e){const t=[],i=this.getTileCache();if(i.getCount()===0)return t;const a=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),l=a.getZForResolution(this.renderedResolution),o={};return i.forEach(p=>{if(p.tileCoord[0]!==l||p.getState()!==Pi.LOADED)return;const C=p.getSourceTiles();for(let M=0,O=C.length;M<O;++M){const U=C[M],K=U.getKey();if(K in o)continue;o[K]=!0;const j=U.tileCoord;if(uu(e,a.getTileCoordExtent(j))){const W=U.getFeatures();if(W)for(let Y=0,te=W.length;Y<te;++Y){const J=W[Y],oe=J.getGeometry();uu(e,oe.getExtent())&&t.push(J)}}}}),t}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const i=this.context,r=i.globalAlpha;i.globalAlpha=t.opacity;const a=e.viewHints,l=!(a[CA.ANIMATING]||a[CA.INTERACTING]),o=[this.context.canvas.width,this.context.canvas.height],p=this.getLayer().getDeclutter(),C=p?e.declutter?.[p]:void 0,M=To(this.getLayer()),O=this.renderedTiles;for(let U=0,K=O.length;U<K;++U){const j=O[U],W=j.executorGroups[M];if(W)for(let Y=W.length-1;Y>=0;--Y)W[Y].execute(this.context,o,this.getTileRenderTransform(j,e),e.viewState.rotation,l,h3,C)}i.globalAlpha=r}renderDeferredInternal(e){const t=this.renderedTiles,i=To(this.getLayer()),r=t.reduce((p,C,M)=>(C.executorGroups[i].forEach(O=>p.push({executorGroup:O,index:M})),p),[]),a=r.map(({executorGroup:p})=>p.getDeferredZIndexContexts()),l={};for(let p=0,C=r.length;p<C;++p){const M=r[p].executorGroup.getDeferredZIndexContexts();for(const O in M)l[O]=!0}Object.keys(l).map(Number).sort(Zm).forEach(p=>{a.forEach((C,M)=>{C[p]&&(C[p].forEach(O=>{const{executorGroup:U,index:K}=r[M],j=U.getRenderedContext(),W=j.globalAlpha;j.globalAlpha=this.renderedOpacity_;const Y=this.tileClipContexts_[K];Y&&Y.draw(j),O.draw(j),Y&&j.restore(),j.globalAlpha=W,O.clear()}),C[p].length=0)})})}getTileRenderTransform(e,t){const i=t.pixelRatio,r=t.viewState,a=r.center,l=r.resolution,o=r.rotation,p=t.size,C=Math.round(p[0]*i),M=Math.round(p[1]*i),U=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),K=e.tileCoord,j=U.getTileCoordExtent(e.wrappedTileCoord),W=U.getTileCoordExtent(K,this.tempExtent)[0]-j[0];return CO(G4(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(a,l,o,i,C,M,W))}postRender(e,t){const i=t.viewHints,r=!(i[CA.ANIMATING]||i[CA.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation,this.renderedOpacity_=t.layerStatesArray[t.layerIndex].opacity;const a=this.getLayer(),l=a.getRenderMode(),o=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const p=a.getDeclutter(),C=p?oT[l].filter($=>!h3.includes($)):oT[l],M=t.viewState,O=M.rotation,U=a.getSource(),j=U.getTileGridForProjection(M.projection).getZForResolution(M.resolution,U.zDirection),W=this.renderedTiles,Y=[],te=[],J=[],oe=To(a);let ne=!0;for(let $=W.length-1;$>=0;--$){const ae=W[$];ne=ne&&!ae.getReplayState(a).dirty;const G=ae.executorGroups[oe].filter(Ve=>Ve.hasExecutors(C));if(G.length===0)continue;const ce=this.getTileRenderTransform(ae,t),ge=ae.tileCoord[0];let ye=!1;const we=G[0].getClipCoords(ce);let Ie=e,Se;if(we){Se=new VO,Ie=Se.getContext();for(let Ve=0,xe=Y.length;Ve<xe;++Ve)if(j!==ge&&ge<te[Ve]){const ze=Y[Ve];uu([we[0],we[3],we[4],we[7]],[ze[0],ze[3],ze[4],ze[7]])&&(ye||(Ie.save(),ye=!0),Ie.beginPath(),Ie.moveTo(we[0],we[1]),Ie.lineTo(we[2],we[3]),Ie.lineTo(we[4],we[5]),Ie.lineTo(we[6],we[7]),Ie.moveTo(ze[6],ze[7]),Ie.lineTo(ze[4],ze[5]),Ie.lineTo(ze[2],ze[3]),Ie.lineTo(ze[0],ze[1]),Ie.clip())}Y.push(we),te.push(ge)}for(let Ve=0,xe=G.length;Ve<xe;++Ve)G[Ve].execute(e,[e.canvas.width,e.canvas.height],ce,O,r,C,t.declutter?.[p]);ye&&(Ie===e?Ie.restore():J[$]=Se)}e.globalAlpha=o,this.ready=ne,this.tileClipContexts_=J,t.declutter||this.renderDeferredInternal(t),super.postRender(e,t)}renderFeature(e,t,i,r,a,l){if(!i)return!1;let o=!1;if(Array.isArray(i))for(let p=0,C=i.length;p<C;++p)o=u3(r,e,i[p],t,this.boundHandleStyleImageChange_,void 0,a,l)||o;else o=u3(r,e,i,t,this.boundHandleStyleImageChange_,void 0,a,l);return o}tileImageNeedsRender_(e){const t=this.getLayer();if(t.getRenderMode()==="vector")return!1;const i=e.getReplayState(t),r=t.getRevision(),a=e.wantedResolution;return i.renderedTileResolution!==a||i.renderedTileRevision!==r}renderTileImage_(e,t){const i=this.getLayer(),r=e.getReplayState(i),a=i.getRevision(),l=e.executorGroups[To(i)];r.renderedTileRevision=a;const o=e.wrappedTileCoord,p=o[0],C=i.getSource();let M=t.pixelRatio;const U=t.viewState.projection,K=C.getTileGridForProjection(U),j=K.getResolution(e.tileCoord[0]),W=t.pixelRatio/e.wantedResolution*j,Y=K.getResolution(p),te=e.getContext();M=Math.round(Math.max(M,W/M));const J=C.getTilePixelSize(p,M,U);te.canvas.width=J[0],te.canvas.height=J[1];const oe=M/W;if(oe!==1){const G=o9(this.tmpTransform_);G4(G,oe,oe),te.setTransform.apply(te,G)}const ne=K.getTileCoordExtent(o,this.tempExtent),$=W/Y,ae=o9(this.tmpTransform_);G4(ae,$,-$),tJ(ae,-ne[0],-ne[3]);for(let G=0,ce=l.length;G<ce;++G)l[G].execute(te,[te.canvas.width*oe,te.canvas.height*oe],ae,0,!0,Mie[i.getRenderMode()],null);r.renderedTileResolution=e.wantedResolution}}class o_ extends qO{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload;const i=e.cacheSize===void 0?0:e.cacheSize;delete e.cacheSize,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i;const r=e.renderMode||"hybrid";Ss(r=="hybrid"||r=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new wie(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Tg.PRELOAD)}getUseInterimTilesOnError(){return this.get(Tg.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Tg.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Tg.USE_INTERIM_TILES_ON_ERROR,e)}}function cB(n){return Array.isArray(n)?Math.min(...n):n}class Sie extends WO{constructor(e,t,i,r,a,l,o){let p=e.getExtent();p&&e.canWrapX()&&(p=p.slice(),p[0]=-1/0,p[2]=1/0);let C=t.getExtent();C&&t.canWrapX()&&(C=C.slice(),C[0]=-1/0,C[2]=1/0);const M=C?rm(i,C):i,O=If(M),U=uB(e,t,O,r),K=jz,j=new zz(e,t,M,p,U*K,r),W=j.calculateSourceExtent(),Y=J1(W)?null:l(W,U,a),te=Y?dr.IDLE:dr.EMPTY,J=Y?Y.getPixelRatio():1;super(i,r,J,te),this.targetProj_=t,this.maxSourceExtent_=p,this.triangulation_=j,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=Y,this.sourcePixelRatio_=J,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==dr.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==dr.LOADED){const t=us(this.targetExtent_)/this.targetResolution_,i=rc(this.targetExtent_)/this.targetResolution_;this.canvas_=Fz(t,i,this.sourcePixelRatio_,cB(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==dr.IDLE){this.state=dr.LOADING,this.changed();const e=this.sourceImage_.getState();e==dr.LOADED||e==dr.ERROR?this.reproject_():(this.sourceListenerKey_=Ja(this.sourceImage_,po.CHANGE,t=>{const i=this.sourceImage_.getState();(i==dr.LOADED||i==dr.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Ol(this.sourceListenerKey_),this.sourceListenerKey_=null}}const rx=4,y5={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class Eie extends um{constructor(e,t){super(e),this.image=t}}class Qz extends Xv{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=n2(t,e,0);e=t[i]}return e}getImage(e,t,i,r){const a=this.getProjection();if(!a||!r||Lg(a,r))return a&&(r=a),this.getImageInternal(e,t,i,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Lg(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&L0(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Sie(a,r,e,t,i,(l,o,p)=>this.getImageInternal(l,o,p,a),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,r){if(this.loader){const a=Bie(e,t,i,1),l=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&Qm(this.wantedExtent_,a)||Qm(this.image.getExtent(),a))&&(this.wantedResolution_&&cB(this.wantedResolution_)===l||cB(this.image.getResolution())===l)))return this.image;this.wantedProjection_=r,this.wantedExtent_=a,this.wantedResolution_=l,this.image=new WO(a,l,i,this.loader),this.image.addEventListener(po.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case dr.LOADING:this.loading=!0,i=y5.IMAGELOADSTART;break;case dr.LOADED:this.loading=!1,i=y5.IMAGELOADEND;break;case dr.ERROR:this.loading=!1,i=y5.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new Eie(i,t))}}function Bie(n,e,t,i){const r=e/t,a=If(n),l=Eg(us(n)/r,rx),o=Eg(rc(n)/r,rx),p=Eg((i-1)*l/2,rx),C=l+2*p,M=Eg((i-1)*o/2,rx),O=o+2*M;return Jx(a,r,0,[C,O])}const Fy=[0,0,0],pg=5;class w2{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ss(ZZ(this.resolutions_,(r,a)=>a-r),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,a=this.resolutions_.length-1;r<a;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ss(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=N0(i)),Ss(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ss(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:RO,Ss(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,a)=>{const l=new XO(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const o=this.getTileRangeForExtentAndZ(i,a);l.minX=Math.max(o.minX,l.minX),l.maxX=Math.min(o.maxX,l.maxX),l.minY=Math.max(o.minY,l.minY),l.maxY=Math.min(o.maxY,l.maxY)}return l}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let a=r.minX,l=r.maxX;a<=l;++a)for(let o=r.minY,p=r.maxY;o<=p;++o)i([t,a,o])}forEachTileCoordParentTileRange(e,t,i,r){let a,l,o,p=null,C=e[0]-1;for(this.zoomFactor_===2?(l=e[1],o=e[2]):p=this.getTileCoordExtent(e,r);C>=this.minZoom;){if(l!==void 0&&o!==void 0?(l=Math.floor(l/2),o=Math.floor(o/2),a=Ky(l,l,o,o,i)):a=this.getTileRangeForExtentAndZ(p,C,i),t(C,a))return!0;--C}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,l=e[2]*2;return Ky(a,a+1,l,l+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],a=e[1],l=e[2];if(t===r)return Ky(a,l,a,l,i);if(this.zoomFactor_){const p=Math.pow(this.zoomFactor_,t-r),C=Math.floor(a*p),M=Math.floor(l*p);if(t<r)return Ky(C,C,M,M,i);const O=Math.floor(p*(a+1))-1,U=Math.floor(p*(l+1))-1;return Ky(C,O,M,U,i)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Fy);const r=Fy[1],a=Fy[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Fy);const l=Fy[1],o=Fy[2];return Ky(r,l,a,o,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=jh(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),a=jh(this.getTileSize(e[0]),this.tmpSize_),l=i[0]+e[1]*a[0]*r,o=i[1]-(e[2]+1)*a[1]*r,p=l+a[0]*r,C=o+a[1]*r;return U0(l,o,p,C,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,a){const l=this.getZForResolution(i),o=i/this.getResolution(l),p=this.getOrigin(l),C=jh(this.getTileSize(l),this.tmpSize_);let M=o*(e-p[0])/i/C[0],O=o*(p[1]-t)/i/C[1];return r?(M=Eg(M,pg)-1,O=Eg(O,pg)-1):(M=Qb(M,pg),O=Qb(O,pg)),p3(l,M,O,a)}getTileCoordForXYAndZ_(e,t,i,r,a){const l=this.getOrigin(i),o=this.getResolution(i),p=jh(this.getTileSize(i),this.tmpSize_);let C=(e-l[0])/o/p[0],M=(l[1]-t)/o/p[1];return r?(C=Eg(C,pg)-1,M=Eg(M,pg)-1):(C=Qb(C,pg),M=Qb(M,pg)),p3(i,C,M,a)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=n2(this.resolutions_,e,t||0);return GA(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return GF(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function Yz(n){let e=n.getDefaultTileGrid();return e||(e=Tie(n),n.setDefaultTileGrid(e)),e}function Oie(n,e,t){const i=e[0],r=n.getTileCoordCenter(e),a=S2(t);if(!Y1(a,r)){const l=us(a),o=Math.ceil((a[0]-r[0])/l);return r[0]+=l*o,n.getTileCoordForCoordAndZ(r,i)}return e}function Iie(n,e,t,i){i=i!==void 0?i:"top-left";const r=qz(n,e,t);return new w2({extent:n,origin:hX(n,i),resolutions:r,tileSize:t})}function r8(n){const e=n||{},t=e.extent||qs("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:qz(t,e.maxZoom,e.tileSize,e.maxResolution)};return new w2(i)}function qz(n,e,t,i){e=e!==void 0?e:qF,t=jh(t!==void 0?t:RO);const r=rc(n),a=us(n);i=i>0?i:Math.max(a/t[0],r/t[1]);const l=e+1,o=new Array(l);for(let p=0;p<l;++p)o[p]=i/Math.pow(2,p);return o}function Tie(n,e,t,i){const r=S2(n);return Iie(r,e,t,i)}function S2(n){n=qs(n);let e=n.getExtent();if(!e){const t=180*Ng.degrees/n.getMetersPerUnit();e=U0(-t,-t,t,t)}return e}class Hz extends Xv{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&jh(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||To(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,a){return Co()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Yz(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),a=this.getTilePixelRatio(t),l=jh(r.getTileSize(e),this.tmpSize);return a==1?l:_ee(l,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=Oie(r,e,i)),_ie(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class kie extends um{constructor(e,t){super(e),this.tile=t}}function Vz(n){return function(e){const t=e.buffers,i=e.meta,r=e.imageOps,a=e.width,l=e.height,o=t.length,p=t[0].byteLength;if(r){const U=new Array(o);for(let j=0;j<o;++j)U[j]=new ImageData(new Uint8ClampedArray(t[j]),a,l);return n(U,i).data.buffer}const C=new Uint8ClampedArray(p),M=new Array(o),O=new Array(o);for(let U=0;U<o;++U)M[U]=new Uint8ClampedArray(t[U]),O[U]=[0,0,0,0];for(let U=0;U<p;U+=4){for(let j=0;j<o;++j){const W=M[j];O[j][0]=W[U],O[j][1]=W[U+1],O[j][2]=W[U+2],O[j][3]=W[U+3]}const K=n(O,i);C[U]=K[0],C[U+1]=K[1],C[U+2]=K[2],C[U+3]=K[3]}return C.buffer}}function Die(n,e){const i=Object.keys(n.lib||{}).map(function(a){return"const "+a+" = "+n.lib[a].toString()+";"}).concat(["const __minion__ = ("+Vz.toString()+")(",n.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(i.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(i,{type:"text/javascript"})));return r.addEventListener("message",e),r}function Rie(n,e){const t=Vz(n.operation);let i=!1;return{postMessage:function(r){setTimeout(function(){i||e({data:{buffer:t(r),meta:r.meta}})},0)},terminate:function(){i=!0}}}class Pie extends Ab{constructor(e){super(),this.imageOps_=!!e.imageOps;let t;e.threads===0?t=0:this.imageOps_?t=1:t=e.threads||1;const i=new Array(t);if(t)for(let r=0;r<t;++r)i[r]=Die(e,this.onWorkerMessage_.bind(this,r));else i[0]=Rie(e,this.onWorkerMessage_.bind(this,0));this.workers_=i,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,i){this.enqueue_({inputs:e,meta:t,callback:i}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,i=e.inputs[0].height,r=e.inputs.map(function(p){return p.data.buffer}),a=this.workers_.length;if(this.running_=a,a===1){this.workers_[0].postMessage({buffers:r,meta:e.meta,imageOps:this.imageOps_,width:t,height:i},r);return}const l=e.inputs[0].data.length,o=4*Math.ceil(l/4/a);for(let p=0;p<a;++p){const C=p*o,M=[];for(let O=0,U=r.length;O<U;++O)M.push(r[O].slice(C,C+o));this.workers_[p].postMessage({buffers:M,meta:e.meta,imageOps:this.imageOps_,width:t,height:i},M)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let i,r;if(t===1)i=new Uint8ClampedArray(this.dataLookup_[0].buffer),r=this.dataLookup_[0].meta;else{const a=e.inputs[0].data.length;i=new Uint8ClampedArray(a),r=new Array(t);const l=4*Math.ceil(a/4/t);for(let o=0;o<t;++o){const p=this.dataLookup_[o].buffer,C=o*l;i.set(new Uint8ClampedArray(p),C),r[o]=this.dataLookup_[o].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(i,e.inputs[0].width,e.inputs[0].height),r),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const aT={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class sT extends um{constructor(e,t,i){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=i}}class $z extends Qz{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=Lie(e.sources);const t=this.changed.bind(this);for(let i=0,r=this.layers_.length;i<r;++i)this.layers_[i].addEventListener(po.CHANGE,t);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new mF(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Hd(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:Uie(this.layers_),pixelRatio:1,pixelToCoordinateTransform:Hd(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:To(this),renderTargets:{}},this.setAttributions(function(i){const r=[];for(let a=0,l=e.sources.length;a<l;++a){const o=e.sources[a],p=o instanceof Xv?o:o.getSource();if(!p)continue;const C=p.getAttributions()?.(i);typeof C=="string"?r.push(C):C!==void 0&&r.push(...C)}return r}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new Pie({operation:e,imageOps:this.operationType_==="image",queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,i){const r=Object.assign({},this.frameState_);r.viewState=Object.assign({},r.viewState);const a=If(e);r.size[0]=Math.ceil(us(e)/t),r.size[1]=Math.ceil(rc(e)/t),r.extent=[a[0]-r.size[0]*t/2,a[1]-r.size[1]*t/2,a[0]+r.size[0]*t/2,a[1]+r.size[1]*t/2],r.time=Date.now();const l=r.viewState;return l.center=a,l.projection=i,l.resolution=t,r}allSourcesReady_(){let e=!0,t;for(let i=0,r=this.layers_.length;i<r;++i)if(t=this.layers_[i].getSource(),!t||t.getState()!=="ready"){e=!1;break}return e}getImage(e,t,i,r){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const a=this.updateFrameState_(e,t,r);if(this.requestedFrameState_=a,this.renderedImageCanvas_){const l=this.renderedImageCanvas_.getResolution(),o=this.renderedImageCanvas_.getExtent();(t!==l||!L0(a.extent,o))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),a.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,i=new Array(t);for(let a=0;a<t;++a){e.layerIndex=a,e.renderTargets={};const l=Kie(this.layers_[a],e);if(l)i[a]=l;else return}const r={};this.dispatchEvent(new sT(aT.BEFOREOPERATIONS,e,r)),this.processor_.process(i,r,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,i,r){if(t||!i)return;const a=e.extent,l=e.viewState.resolution;if(l!==this.requestedFrameState_.viewState.resolution||!L0(a,this.requestedFrameState_.extent))return;let o;if(this.renderedImageCanvas_)o=this.renderedImageCanvas_.getImage().getContext("2d");else{const p=Math.round(us(a)/l),C=Math.round(rc(a)/l);o=WA(p,C),this.renderedImageCanvas_=new rne(a,l,1,o.canvas)}o.putImageData(i,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new sT(aT.AFTEROPERATIONS,e,r))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let i=0,r=this.layers_.length;i<r&&(t=this.layers_[i].getSource().getResolutions(e),!t);++i);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}$z.prototype.dispose;let C1=null;function Kie(n,e){const t=n.getRenderer();if(!t)throw new Error("Unsupported layer type: "+n);if(!t.prepareFrame(e))return null;const i=e.size[0],r=e.size[1];if(i===0||r===0)return null;const a=t.renderFrame(e,null);let l;if(a instanceof HTMLCanvasElement)l=a;else{if(a&&(l=a.firstElementChild),!(l instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+l);if(l.width===i&&l.height===r)return l.getContext("2d").getImageData(0,0,i,r)}if(!C1)C1=WA(i,r,void 0,{willReadFrequently:!0});else{const o=C1.canvas;o.width!==i||o.height!==r?C1=WA(i,r,void 0,{willReadFrequently:!0}):C1.clearRect(0,0,i,r)}return C1.drawImage(l,0,0,i,r),C1.getImageData(0,0,i,r)}function Uie(n){return n.map(function(e){return e.getLayerState()})}function Lie(n){const e=n.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=Fie(n[i]);return t}function Fie(n){let e;return n instanceof Xv?n instanceof Hz?e=new Wz({source:n}):n instanceof Qz&&(e=new Lz({source:n})):e=n,e}function zie(n,e,t,i){const r=document.createElement("script"),a="olc_"+To(e);function l(){delete window[a],r.parentNode.removeChild(r)}r.async=!0,r.src=n+(n.includes("?")?"&":"?")+"callback="+a;const o=setTimeout(function(){l(),t&&t()},1e4);window[a]=function(p){clearTimeout(o),l(),e(p)},document.head.appendChild(r)}const jie=/\{z\}/g,Nie=/\{x\}/g,Gie=/\{y\}/g,Wie=/\{-y\}/g;function Qie(n,e,t,i,r){return n.replace(jie,e.toString()).replace(Nie,t.toString()).replace(Gie,i.toString()).replace(Wie,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function Yie(n){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(n);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let a;for(a=i;a<=r;++a)e.push(n.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function qie(n,e){return function(t,i,r){if(!t)return;let a;const l=t[0];if(e){const o=e.getFullTileRange(l);o&&(a=o.getHeight()-1)}return Qie(n,l,t[1],t[2],a)}}function Zz(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=qie(n[r],e);return Hie(i)}function Hie(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;const r=vie(e),a=F1(r,n.length);return n[a](e,t,i)}}const v5={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class E2 extends Hz{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===E2.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=To(t),r=t.getState();let a;r==Pi.LOADING?(this.tileLoadingKeys_[i]=!0,a=v5.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=r==Pi.ERROR?v5.TILELOADERROR:r==Pi.LOADED?v5.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new kie(a,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=Yie(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Zz(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}}class Vie extends E2{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:$ie,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Bz,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Lg(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Lg(t,e)))return this.tileGrid;const i=To(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Yz(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,a,l){const o=[e,t,i],p=this.getTileCoordForTileUrlFunction(o,a),C=p?this.tileUrlFunction(p,r,a):void 0,M=new this.tileClass(o,C!==void 0?Pi.IDLE:Pi.EMPTY,C!==void 0?C:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return M.key=l,M.addEventListener(po.CHANGE,this.handleTileChange.bind(this)),M}getTile(e,t,i,r,a){const l=this.getProjection();if(!l||!a||Lg(l,a))return this.getTileInternal(e,t,i,r,l||a);const o=[e,t,i],p=this.getKey(),C=this.getTileGridForProjection(l),M=this.getTileGridForProjection(a),O=this.getTileCoordForTileUrlFunction(o,a),U=new Nz(l,C,a,M,o,O,this.getTilePixelRatio(r),this.getGutter(),(K,j,W,Y)=>this.getTileInternal(K,j,W,Y,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return U.key=p,U}getTileInternal(e,t,i,r,a){const l=this.getKey();return this.createTile_(e,t,i,r,a,l)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const i=qs(e);if(i){const r=To(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}}function $ie(n,e){n.getImage().src=e}class Xz extends Vie{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:qs("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)zie(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let i;try{i=JSON.parse(t.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=qs("EPSG:4326"),i=this.getProjection();let r;if(e.bounds!==void 0){const C=fb(t,i);r=pX(e.bounds,C)}const a=S2(i),l=e.minzoom||0,o=e.maxzoom||22,p=r8({extent:a,maxZoom:o,minZoom:l,tileSize:this.tileSize_});if(this.tileGrid=p,this.tileUrlFunction=Zz(e.tiles,p),e.attribution&&!this.getAttributions()){const C=r!==void 0?r:a;this.setAttributions(function(M){return uu(C,M.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class o8 extends E2{constructor(e){const t=e.projection||"EPSG:3857",i=e.extent||S2(t),r=e.tileGrid||r8({extent:i,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Jz,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:Oz,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,i){if(i.getState()===Pi.IDLE){i.setState(Pi.LOADING);const r=i.wrappedTileCoord,a=this.getTileGridForProjection(t),l=a.getTileCoordExtent(r),o=r[0],p=a.getResolution(o);Ug(l,-p,l);const C=this.tileGrid,M=C.getExtent();M&&rm(l,M,l);const O=C.getZForResolution(p,this.zDirection);C.forEachTileCoord(l,O,U=>{const K=this.tileUrlFunction(U,e,t);this.sourceTiles_[K]||(this.sourceTiles_[K]=new this.tileClass(U,K?Pi.IDLE:Pi.EMPTY,K,this.format_,this.tileLoadFunction));const j=this.sourceTiles_[K];i.sourceTiles.push(j),this.tileKeysBySourceTileUrl_[K]||(this.tileKeysBySourceTileUrl_[K]=[]),this.tileKeysBySourceTileUrl_[K].push(i.getKey());const W=j.getState();if(W<Pi.LOADED){const Y=te=>{this.handleTileChange(te);const J=j.getState();if(J===Pi.LOADED||J===Pi.ERROR){const oe=j.getKey();oe in i.errorTileKeys?j.getState()===Pi.LOADED&&delete i.errorTileKeys[oe]:i.loadingSourceTiles--,J===Pi.ERROR?i.errorTileKeys[oe]=!0:j.removeEventListener(po.CHANGE,Y),i.loadingSourceTiles===0&&i.setState(jg(i.errorTileKeys)?Pi.LOADED:Pi.ERROR)}};j.addEventListener(po.CHANGE,Y),i.loadingSourceTiles++}W===Pi.IDLE&&(j.extent=C.getTileCoordExtent(U),j.projection=t,j.resolution=C.getResolution(U[0]),j.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(U=>U.getState()===Pi.ERROR)?Pi.ERROR:Pi.LOADED)}return i.sourceTiles}removeSourceTiles(e){const t=e.getKey(),i=e.sourceTiles;for(let r=0,a=i.length;r<a;++r){const l=i[r].getTileUrl();if(!this.tileKeysBySourceTileUrl_[l])return;const o=this.tileKeysBySourceTileUrl_[l].indexOf(t);o!==-1&&(this.tileKeysBySourceTileUrl_[l].splice(o,1),this.tileKeysBySourceTileUrl_[l].length===0&&(delete this.tileKeysBySourceTileUrl_[l],delete this.sourceTiles_[l]))}}getTile(e,t,i,r,a){const l=[e,t,i];let o=this.getTileCoordForTileUrlFunction(l,a);const p=this.getTileGrid().getExtent(),C=this.getTileGridForProjection(a);if(o&&p){const U=C.getTileCoordExtent(o);Ug(U,-C.getResolution(e),U),uu(p,U)||(o=null)}let M=!0;if(o!==null){const U=this.tileGrid,K=C.getResolution(e),j=U.getZForResolution(K,1),W=C.getTileCoordExtent(o);Ug(W,-K,W),U.forEachTileCoord(W,j,Y=>{M=M&&!this.tileUrlFunction(Y,r,a)})}const O=new sne(l,M?Pi.EMPTY:Pi.IDLE,o,this.getSourceTiles.bind(this,r,a),this.removeSourceTiles.bind(this));return O.key=this.getKey(),O}getTileGridForProjection(e){const t=e.getCode();let i=this.tileGrids_[t];if(!i){const r=this.getProjection();Ss(r===null||Lg(r,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection.");const a=this.tileGrid,l=a.getResolutions().slice(),o=l.map(function(M,O){return a.getOrigin(O)}),p=l.map(function(M,O){return a.getTileSize(O)}),C=qF+1;for(let M=l.length;M<C;++M)l.push(l[M-1]/2),o.push(o[M-1]),p.push(p[M-1]);i=new w2({extent:a.getExtent(),origins:o,resolutions:l,tileSizes:p}),this.tileGrids_[t]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),a=jh(r.getTileSize(e),this.tmpSize);return[Math.round(a[0]*t),Math.round(a[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function Jz(n,e){n.setLoader(function(t,i,r){xz(e,n.getFormat(),t,i,r,n.onLoad.bind(n),n.onError.bind(n))})}function Zie(n,e){const t=n[0],i=t.width,r=t.height,a=t.data,l=new Uint8ClampedArray(a.length),o=e.resolution*2,p=i-1,C=r-1,M=[0,0,0,0],O=2*Math.PI,U=Math.PI/2,K=Math.PI*e.sunEl/180,j=Math.PI*e.sunAz/180,W=Math.cos(K),Y=Math.sin(K),te=e.highlightColor,J=e.shadowColor,oe=e.accentColor,ne=e.encoding;let $,ae,G,ce,ge,ye,we,Ie,Se,Ve,xe,ze,st,Ct,nt,be,Ne,tt,lt,kt,gt,St;function Ut(Fe,Ke="mapbox"){if(Ke==="mapbox")return(Fe[0]*256*256+Fe[1]*256+Fe[2])*.1-1e4;if(Ke==="terrarium")return Fe[0]*256+Fe[1]+Fe[2]/256-32768}for(ae=0;ae<=C;++ae)for(ge=ae===0?0:ae-1,ye=ae===C?C:ae+1,$=0;$<=p;++$)G=$===0?0:$-1,ce=$===p?p:$+1,we=(ae*i+G)*4,M[0]=a[we],M[1]=a[we+1],M[2]=a[we+2],M[3]=a[we+3],Ie=e.vert*Ut(M,ne),we=(ae*i+ce)*4,M[0]=a[we],M[1]=a[we+1],M[2]=a[we+2],M[3]=a[we+3],Se=e.vert*Ut(M,ne),Ve=(Se-Ie)/o,we=(ge*i+$)*4,M[0]=a[we],M[1]=a[we+1],M[2]=a[we+2],M[3]=a[we+3],Ie=e.vert*Ut(M,ne),we=(ye*i+$)*4,M[0]=a[we],M[1]=a[we+1],M[2]=a[we+2],M[3]=a[we+3],Se=e.vert*Ut(M,ne),xe=(Se-Ie)/o,st=Math.atan2(xe,-Ve),st<0?st=U-st:st>U?st=O-st+U:st=U-st,ze=Math.atan(Math.sqrt(Ve*Ve+xe*xe)),St=Y*Math.cos(ze)+W*Math.sin(ze)*Math.cos(j-st),Ct=Math.cos(ze),nt=255*St,lt=Math.min(Math.max(2*e.sunEl,0),1),kt=1.875-e.opacity*1.75,gt=e.opacity!==.5?U*((Math.pow(kt,ze)-1)/(Math.pow(kt,U)-1)):ze,Ne={r:(1-Ct)*oe.r*lt*255,g:(1-Ct)*oe.g*lt*255,b:(1-Ct)*oe.b*lt*255,a:(1-Ct)*oe.a*lt*255},be=Math.abs(((st+j)/Math.PI+.5)%2-1),tt={r:(te.r*(1-be)+J.r*be)*nt,g:(te.g*(1-be)+J.g*be)*nt,b:(te.b*(1-be)+J.b*be)*nt,a:(te.a*(1-be)+J.a*be)*nt},we=(ae*i+$)*4,l[we]=Ne.r*(1-be)+tt.r,l[we+1]=Ne.g*(1-be)+tt.g,l[we+2]=Ne.b*(1-be)+tt.b,l[we+3]=a[we+3]*e.opacity*lt*Math.sin(gt);return new ImageData(l,i,r)}function Xie(n,e=512){return n.getExtent()?r8({extent:n.getExtent(),tileSize:e,maxZoom:22}).getResolutions():Jm}function ej(n,e){return e.accessToken||(e=Object.assign({},e),new URL(n).searchParams.forEach((i,r)=>{e.accessToken=i,e.accessTokenParam=r})),e}function Jie(n,e,t="",i={},r=void 0){let a,l,o,p,C=!0;return typeof t!="string"&&!Array.isArray(t)?(o=t,p=o.source||o.layers,i=o):p=t,typeof i=="string"?(a=i,o={}):(a=i.styleUrl,o=i),o.updateSource===!1&&(C=!1),r||(r=o.resolutions),!a&&typeof e=="string"&&!e.trim().startsWith("{")&&(a=e),a&&(a=a.startsWith("data:")?location.href:d3(a,o.accessToken),o=ej(a,o)),new Promise(function(M,O){kz(e,o).then(function(U){if(U.version!=8)return O(new Error("glStyle version 8 required."));if(!(n instanceof ZO||n instanceof o_))return O(new Error("Can only apply to VectorLayer or VectorTileLayer"));const K=n instanceof o_?"vector":"geojson";if(p?Array.isArray(p)?l=U.layers.find(function(ne){return ne.id===p[0]}).source:l=p:(l=U.layers.find(function(ne){return ne.source&&U.sources[ne.source].type===K}).source,p=l),!l)return O(new Error(`No ${K} source found in the glStyle.`));function j(){if(!C)return Promise.resolve();if(n instanceof o_)return ij(U.sources[l],a,o).then(function(G){const ce=n.getSource();ce?G!==ce&&(ce.setTileUrlFunction(G.getTileUrlFunction()),typeof ce.setUrls=="function"&&typeof G.getUrls=="function"&&ce.setUrls(G.getUrls()),ce.format_||(ce.format_=G.format_),ce.getAttributions()||ce.setAttributions(G.getAttributions()),ce.getTileLoadFunction()===Jz&&ce.setTileLoadFunction(G.getTileLoadFunction()),Lg(ce.getProjection(),G.getProjection())&&(ce.tileGrid=G.getTileGrid())):n.setSource(G);const ge=n.getSource().getTileGrid();!isFinite(n.getMaxResolution())&&!isFinite(n.getMinZoom())&&ge.getMinZoom()>0&&n.setMaxResolution(jC(Math.max(0,ge.getMinZoom()-1e-12),ge.getResolutions()))});const ne=U.sources[l];let $=n.getSource();(!$||$.get("mapbox-source")!==ne)&&($=aj(ne,a,o));const ae=n.getSource();return ae?$!==ae&&(ae.getAttributions()||ae.setAttributions($.getAttributions()),ae.format_||(ae.format_=$.getFormat()),ae.url_=$.getUrl()):n.setSource($),Promise.resolve()}let W,Y;const te={},J={};function oe(){if(!Y&&(!U.sprite||te)){if(o.projection&&!r){const G=qs(o.projection).getUnits();G!=="m"&&(r=Jm.map(ce=>ce/Ng[G]))}let ne;const $=n.getSource();$ instanceof o8&&$.format_ instanceof Uz&&(ne=$.format_.layerName_),Y=xne(n,U,p,r,te,J,(ae,G=o.webfonts)=>mne(ae,G),o.getImage,ne),n.getStyle()?j().then(M).catch(O):O(new Error(`Nothing to show for source [${l}]`))}else Y?(n.setStyle(Y),j().then(M).catch(O)):O(new Error("Something went wrong trying to apply style."))}if(U.sprite){const ne=lne(U.sprite,o.accessToken,a||location.href);W=window.devicePixelRatio>=1.5?.5:1;const $=W==.5?"@2x":"";Promise.all(ne.map(function(ae){const G=new URL(ae.url);let ce=G.origin+G.pathname+$+".json"+G.search;return new Promise(function(ge,ye){zv("Sprite",ce,o).then(ge).catch(function(we){ce=G.origin+G.pathname+".json"+G.search,zv("Sprite",ce,o).then(ge).catch(ye)})}).then(function(ge){ge===void 0&&O(new Error("No sprites found."));let ye;if(ye=G.origin+G.pathname+$+".png"+G.search,o.transformRequest){const we=o.transformRequest(ye,"SpriteImage")||ye;(we instanceof Request||we instanceof Promise)&&(ye=we)}J[ae.id]=ye;for(const we in ge){const Ie=ae.id=="default"?we:`${ae.id}:${we}`;te[Ie]=ge[we]}}).catch(function(ge){O(new Error(`Sprites cannot be loaded: ${ce}: ${ge.message}`))})})).then(oe).catch(O)}else oe()}).catch(O)})}function tj(n,e){let t;return n.some(function(i){if(i.id==e)return t=i.source,!0}),t}function ere(n,e){const t=n.bounds;if(t){const i=q6([t[0],t[1]],e),r=q6([t[2],t[3]],e);return[i[0],i[1],r[0],r[1]]}return qs(e).getExtent()}function nj(n,e,t){const i=new Xz({tileJSON:e,tileSize:n.tileSize||e.tileSize||512}),r=i.getTileJSON(),a=i.getTileGrid(),l=qs(t.projection||"EPSG:3857"),o=ere(r,l),p=l.getExtent(),C=r.minzoom||0,M=r.maxzoom||22,O={attributions:i.getAttributions(),projection:l,tileGrid:new w2({origin:p?N0(p):a.getOrigin(0),extent:o||a.getExtent(),minZoom:C,resolutions:Xie(l,e.tileSize).slice(0,M+1),tileSize:a.getTileSize(0)})};return Array.isArray(r.tiles)?O.urls=r.tiles:O.url=r.tiles,O}function tre(n,e,t,i){const r={id:n.id,type:n.type},a=n.layout||{},l=n.paint||{};r.paint=l,Of.zoom=t8(e,t.resolutions||Jm),Of.distanceFromCenter=0;let o;const p=br(r,"paint","background-color",tm,i);return l["background-opacity"]!==void 0&&(o=br(r,"paint","background-opacity",tm,i)),a.visibility=="none"?void 0:vg(p,o)}function nre(n,e,t){const i=document.createElement("div");return i.className="ol-mapbox-style-background",i.style.position="absolute",i.style.width="100%",i.style.height="100%",new Zv({source:new Xv({}),render(r){const a=tre(n,r.viewState.resolution,e,t);return i.style.backgroundColor=a,i}})}function ij(n,e,t){return new Promise(function(i,r){Dz(n,e,t).then(function({tileJson:a,tileLoadFunction:l}){const o=nj(n,a,t);o.tileLoadFunction=l,o.format=new Uz({layerName:"mvt:layer"});const p=new o8(o);p.set("mapbox-source",n),i(p)}).catch(r)})}function ire(n,e,t){const i=new o_({declutter:!0,visible:!1});return ij(n,e,t).then(function(r){i.setSource(r)}).catch(function(r){i.setSource(void 0)}),i}function rj(n){return`{bbox-${(n?n.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function rre(n,e,t){return new Promise(function(i,r){Dz(n,e,t).then(function({tileJson:a,tileLoadFunction:l}){const o=new Xz({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:a});o.tileGrid=nj(n,a,t).tileGrid,t.projection&&(o.projection=qs(t.projection));const p=o.getTileUrlFunction();l&&o.setTileLoadFunction(l),o.setTileUrlFunction(function(C,M,O){const U=rj(O);let K=p(C,M,O);if(K.indexOf(U)!=-1){const j=o.getTileGrid().getTileCoordExtent(C);K=K.replace(U,j.toString())}return K}),o.set("mapbox-source",n),i(o)}).catch(function(a){r(a)})})}function oj(n,e,t){const i=new Wz;return rre(n,e,t).then(function(r){i.setSource(r)}).catch(function(){i.setSource(void 0)}),i}function ore(n,e,t){const i=oj(n,e,t);return new Lz({source:new $z({operationType:"image",operation:Zie,sources:[i]})})}function aj(n,e,t){const i=t.projection?new Z9({dataProjection:t.projection}):new Z9,r=n.data,a={};if(typeof r=="string"){const[o]=Ex(r,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const C=(O,U,K)=>{const j=rj(K);return o.replace(j,`${O.join(",")}`)},M=new Sx({attributions:n.attribution,format:i,loader:(O,U,K,j,W)=>{const Y=typeof C=="function"?C(O,U,K):C;zv("GeoJSON",Y,t).then(te=>{const J=M.getFormat().readFeatures(te,{featureProjection:K});M.addFeatures(J),j(J)}).catch(te=>{M.removeLoadedExtent(O),W()})},strategy:jte});return M.set("mapbox-source",n),M}const p=new Sx({attributions:n.attribution,format:i,url:o,loader:(C,M,O,U,K)=>{zv("GeoJSON",o,t).then(j=>{const W=p.getFormat().readFeatures(j,{featureProjection:O});p.addFeatures(W),U(W)}).catch(j=>{p.removeLoadedExtent(C),K()})}});return p}a.features=i.readFeatures(r,{featureProjection:"EPSG:3857"});const l=new Sx(Object.assign({attributions:n.attribution,format:i},a));return l.set("mapbox-source",n),l}function are(n,e,t){return new ZO({declutter:!0,source:aj(n,e,t),visible:!1})}function sre(n,e,t){let i=null;return function(r){n.paint&&"raster-opacity"in n.paint&&r.frameState.viewState.zoom!==i&&(i=r.frameState.viewState.zoom,delete t[n.id],lre(n,e,i,t))}}function lre(n,e,t,i){Of.zoom=t,Of.distanceFromCenter=0;const r=br(n,"paint","raster-opacity",tm,i);e.setOpacity(r)}function Are(n,e){function t(){const i=e.get("mapbox-style");if(!i)return;const r=KB(i.layers),a=n.get("mapbox-layers"),l=r.filter(function(o){return a.includes(o.id)}).some(function(o){return!o.layout||!o.layout.visibility||o.layout.visibility==="visible"});n.get("visible")!==l&&n.setVisible(l)}n.on("change",t),t()}function ure(n,e,t,i){const r=Tz(n),a=n.layers,l=t.type,o=t.source||tj(a,t.ref),p=n.sources[o];let C;if(l=="background")C=nre(t,i,r);else if(p.type=="vector")C=ire(p,e,i);else if(p.type=="raster")C=oj(p,e,i),C.setVisible(t.layout?t.layout.visibility!=="none":!0),C.on("prerender",sre(t,C,r));else if(p.type=="geojson")C=are(p,e,i);else if(p.type=="raster-dem"&&t.type=="hillshade"){const O=ore(p,e,i);C=O,O.getSource().on("beforeoperations",function(U){const K=U.data;K.resolution=Y6(i.projection||"EPSG:3857",U.resolution,If(U.extent),"m"),Of.zoom=t8(U.resolution,i.resolutions||Jm),Of.distanceFromCenter=0,K.encoding=p.encoding,K.vert=5*br(t,"paint","hillshade-exaggeration",tm,r),K.sunAz=br(t,"paint","hillshade-illumination-direction",tm,r),K.sunEl=35,K.opacity=.3,K.highlightColor=br(t,"paint","hillshade-highlight-color",tm,r),K.shadowColor=br(t,"paint","hillshade-shadow-color",tm,r),K.accentColor=br(t,"paint","hillshade-accent-color",tm,r)}),C.setVisible(t.layout?t.layout.visibility!=="none":!0)}const M=o;return C&&C.set("mapbox-source",M),C}function lT(n,e,t,i){const r=[];let a=null;if(e instanceof _2){if(a=e.getView(),!a.isDef()&&!a.getRotation()&&!a.getResolutions()){const O=i.projection?qs(i.projection):a.getProjection();a=new Jp(Object.assign(a.getProperties(),{maxResolution:Jm[0]/Ng[O.getUnits()],projection:i.projection||a.getProjection()})),e.setView(a)}"center"in n&&!a.getCenter()&&a.setCenter(q6(n.center,a.getProjection())),"zoom"in n&&a.getZoom()===void 0&&a.setResolution(Jm[0]/Ng[a.getProjection().getUnits()]/Math.pow(2,n.zoom)),(!a.getCenter()||a.getZoom()===void 0)&&a.fit(a.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",n),e.set("mapbox-metadata",{styleUrl:t,options:i});const l=n.layers;let o=[],p,C,M;for(let O=0,U=l.length;O<U;++O){const K=l[O],j=K.type;if(j=="heatmap"){console.debug(`layers[${O}].type "${j}" not supported`);continue}else M=K.source||tj(l,K.ref),(!M||M!=C)&&(o.length&&(r.push(AT(p,o,n,t,e,i)),o=[]),p=ure(n,t,K,i),p instanceof ZO||p instanceof o_||(o=[]),C=p.get("mapbox-source")),o.push(K.id)}return r.push(AT(p,o,n,t,e,i)),Promise.all(r)}function cre(n,e,t={}){let i,r;if(typeof n=="string"||n instanceof HTMLElement?r=new _2({target:n}):r=n,typeof e=="string"){const a=e.startsWith("data:")?location.href:d3(e,t.accessToken);t=ej(a,t),i=new Promise(function(l,o){kz(e,t).then(function(p){lT(p,r,a,t).then(function(){l(r)}).catch(o)}).catch(function(p){o(new Error(`Could not load ${e}: ${p.message}`))})})}else i=new Promise(function(a,l){lT(e,r,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:d3(t.styleUrl,t.accessToken),t).then(function(){a(r)}).catch(l)});return i}function AT(n,e,t,i,r,a={}){let l=24,o=0;const p=t.layers;for(let C=0,M=p.length;C<M;++C){const O=p[C];e.indexOf(O.id)!==-1&&(l=Math.min("minzoom"in O?O.minzoom:0,l),o=Math.max("maxzoom"in O?O.maxzoom:24,o))}return new Promise(function(C,M){const O=function(){const K=n.getSource();if(!K||K.getState()==="error"){M(new Error("Error accessing data for source "+n.get("mapbox-source")));return}if("getTileGrid"in K){const j=K.getTileGrid();if(j){const W=j.getMinZoom();(l>0||W>0)&&n.setMaxResolution(Math.min(jC(Math.max(0,l-1e-12),Jm),jC(Math.max(0,W-1e-12),j.getResolutions()))),o<24&&n.setMinResolution(jC(o,Jm))}}else l>0&&n.setMaxResolution(jC(Math.max(0,l-1e-12),Jm));K instanceof Sx||K instanceof o8?Jie(n,t,e,Object.assign({styleUrl:i},a)).then(function(){Are(n,r),C()}).catch(M):C()};n.set("mapbox-layers",e);const U=r.getLayers();U.getArray().indexOf(n)===-1&&U.push(n),n.getSource()?O():n.once("change:source",O)})}function or(){var n="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",e="5f4719fc476214e7aff32d9043337b9c97544cf9",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:11,column:2},end:{line:15,column:3}},1:{start:{line:12,column:4},end:{line:12,column:16}},2:{start:{line:14,column:4},end:{line:14,column:149}},3:{start:{line:14,column:103},end:{line:14,column:133}},4:{start:{line:18,column:24},end:{line:25,column:3}},5:{start:{line:28,column:14},end:{line:28,column:18}},6:{start:{line:30,column:19},end:{line:30,column:23}},7:{start:{line:32,column:4},end:{line:32,column:17}},8:{start:{line:33,column:4},end:{line:38,column:6}},9:{start:{line:39,column:4},end:{line:39,column:67}},10:{start:{line:42,column:4},end:{line:42,column:26}},11:{start:{line:42,column:19},end:{line:42,column:26}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:61,column:7}},17:{start:{line:62,column:16},end:{line:69,column:6}},18:{start:{line:70,column:4},end:{line:78,column:7}},19:{start:{line:71,column:21},end:{line:71,column:45}},20:{start:{line:72,column:6},end:{line:77,column:9}},21:{start:{line:79,column:22},end:{line:89,column:5}},22:{start:{line:80,column:19},end:{line:80,column:42}},23:{start:{line:81,column:21},end:{line:81,column:56}},24:{start:{line:82,column:6},end:{line:88,column:9}},25:{start:{line:90,column:4},end:{line:90,column:16}},26:{start:{line:91,column:4},end:{line:91,column:33}},27:{start:{line:92,column:4},end:{line:102,column:7}},28:{start:{line:93,column:21},end:{line:93,column:56}},29:{start:{line:94,column:6},end:{line:101,column:9}},30:{start:{line:103,column:4},end:{line:103,column:19}},31:{start:{line:104,column:4},end:{line:106,column:6}},32:{start:{line:108,column:17},end:{line:111,column:3}},33:{start:{line:109,column:4},end:{line:109,column:20}},34:{start:{line:110,column:4},end:{line:110,column:37}},35:{start:{line:113,column:14},end:{line:113,column:26}},36:{start:{line:114,column:4},end:{line:185,column:9}},37:{start:{line:119,column:12},end:{line:119,column:36}},38:{start:{line:176,column:12},end:{line:176,column:31}},39:{start:{line:188,column:22},end:{line:188,column:62}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:10,column:9},end:{line:10,column:21}},loc:{start:{line:10,column:30},end:{line:16,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:14,column:92},end:{line:14,column:93}},loc:{start:{line:14,column:103},end:{line:14,column:133}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:20,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:21,column:18},end:{line:21,column:19}},loc:{start:{line:21,column:24},end:{line:22,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:19},end:{line:23,column:20}},loc:{start:{line:23,column:25},end:{line:24,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:21},end:{line:40,column:3}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:28},end:{line:45,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:107,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:70,column:26},end:{line:70,column:27}},loc:{start:{line:70,column:35},end:{line:78,column:5}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:79,column:22},end:{line:79,column:23}},loc:{start:{line:79,column:28},end:{line:89,column:5}},line:79},11:{name:"(anonymous_11)",decl:{start:{line:92,column:25},end:{line:92,column:26}},loc:{start:{line:92,column:33},end:{line:102,column:5}},line:92},12:{name:"(anonymous_12)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:24},end:{line:111,column:3}},line:108},13:{name:"(anonymous_13)",decl:{start:{line:112,column:2},end:{line:112,column:3}},loc:{start:{line:112,column:11},end:{line:186,column:3}},line:112},14:{name:"(anonymous_14)",decl:{start:{line:118,column:15},end:{line:118,column:16}},loc:{start:{line:118,column:22},end:{line:120,column:11}},line:118},15:{name:"(anonymous_15)",decl:{start:{line:175,column:15},end:{line:175,column:16}},loc:{start:{line:175,column:22},end:{line:177,column:11}},line:175}},branchMap:{0:{loc:{start:{line:11,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:11,column:2},end:{line:15,column:3}},{start:{line:13,column:9},end:{line:15,column:3}}],line:11},1:{loc:{start:{line:11,column:6},end:{line:11,column:34}},type:"binary-expr",locations:[{start:{line:11,column:6},end:{line:11,column:13}},{start:{line:11,column:17},end:{line:11,column:34}}],line:11},2:{loc:{start:{line:42,column:4},end:{line:42,column:26}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:136,column:26},end:{line:136,column:59}},type:"binary-expr",locations:[{start:{line:136,column:26},end:{line:136,column:53}},{start:{line:136,column:57},end:{line:136,column:59}}],line:136},5:{loc:{start:{line:148,column:6},end:{line:170,column:10}},type:"binary-expr",locations:[{start:{line:148,column:6},end:{line:148,column:29}},{start:{line:148,column:49},end:{line:170,column:10}}],line:148}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAoBW,cAyIL,YAzIK;AApBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAEtD,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK,IAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAAuC;AACxD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,QACP,WAAW;AAAA,UACT,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK;AAAC,iBAAK,iBAAiB;AAAA,UAAE;AAAA,UACnC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAY,EAAE,aAAa;AAAA,gBAC5B;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBACZ;AAAA,UAAE,OAAO;AAAA,QAAE;AAAA,QAAE,KAAK,MAAM;AAAA,SAC3B;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,WAAW;AAAA,YAAE;AAAA,aAAC;AAAA,UACxB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK;AAAC,iBAAK,YAAY;AAAA,UAAE;AAAA,UAC9B,MAAK;AAAA,UACL,cAAY,EAAE,UAAU;AAAA,UACxB,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f4719fc476214e7aff32d9043337b9c97544cf9"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return or=function(){return l},l}or();function uT(n){return or().f[0]++,or().s[0]++,or().b[1][0]++,!n||(or().b[1][1]++,n.length<2)?(or().b[0][0]++,or().s[1]++,null):(or().b[0][1]++,or().s[2]++,Ae.jsx("span",{className:"maputnik-coords",children:n.map(e=>(or().f[1]++,or().s[3]++,String(e).padStart(7,""))).join(", ")}))}class hre extends ni.Component{static defaultProps=(or().s[4]++,{onMapLoaded:()=>{or().f[2]++},onDataChange:()=>{or().f[3]++},onLayerSelect:()=>{or().f[4]++}});updateStyle;map;container=(or().s[5]++,null);overlay;popupContainer=(or().s[6]++,null);constructor(e){or().f[5]++,or().s[7]++,super(e),or().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},or().s[9]++,this.updateStyle=nb.throttle(this._updateStyle.bind(this),200)}_updateStyle(e){if(or().f[6]++,or().s[10]++,this.map)or().b[2][1]++;else{or().b[2][0]++,or().s[11]++;return}or().s[12]++,this.map.getLayers().clear(),or().s[13]++,cre(this.map,e)}componentDidUpdate(e){or().f[7]++,or().s[14]++,this.props.mapStyle!==e.mapStyle?(or().b[3][0]++,or().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):or().b[3][1]++}componentDidMount(){or().f[8]++,or().s[16]++,this.overlay=new ane({element:this.popupContainer,autoPan:{animation:{duration:250}}});const e=(or().s[17]++,new _2({target:this.container,overlays:[this.overlay],view:new Jp({zoom:1,center:[180,-90]})}));or().s[18]++,e.on("pointermove",i=>{or().f[9]++;const r=(or().s[19]++,j4(i.coordinate));or().s[20]++,this.setState({cursor:[r[0].toFixed(2),r[1].toFixed(2)]})}),or().s[21]++;const t=()=>{or().f[10]++;const i=(or().s[22]++,e.getView().getZoom()),r=(or().s[23]++,j4(e.getView().getCenter()));or().s[24]++,this.props.onChange({zoom:i,center:{lng:r[0],lat:r[1]}})};or().s[25]++,t(),or().s[26]++,e.on("moveend",t),or().s[27]++,e.on("postrender",i=>{or().f[11]++;const r=(or().s[28]++,j4(e.getView().getCenter()));or().s[29]++,this.setState({center:[r[0].toFixed(2),r[1].toFixed(2)],rotation:e.getView().getRotation().toFixed(2),zoom:e.getView().getZoom().toFixed(2)})}),or().s[30]++,this.map=e,or().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}closeOverlay=(or().s[32]++,e=>{or().f[12]++,or().s[33]++,e.target.blur(),or().s[34]++,this.overlay.setPosition(void 0)});render(){or().f[13]++;const e=(or().s[35]++,this.props.t);return or().s[36]++,Ae.jsxs("div",{className:"maputnik-ol-container",children:[Ae.jsxs("div",{ref:t=>{or().f[14]++,or().s[37]++,this.popupContainer=t},style:{background:"black"},className:"maputnik-popup",children:[Ae.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":e("Close popup"),children:""}),Ae.jsx(sF,{features:(or().b[4][0]++,this.state.selectedFeatures||(or().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),Ae.jsxs("div",{className:"maputnik-ol-zoom",children:[e("Zoom:")," ",this.state.zoom]}),(or().b[5][0]++,this.props.debugToolbox&&(or().b[5][1]++,Ae.jsxs("div",{className:"maputnik-ol-debug",children:[Ae.jsxs("div",{children:[Ae.jsxs("label",{children:[e("cursor:")," "]}),Ae.jsx("span",{children:uT(this.state.cursor)})]}),Ae.jsxs("div",{children:[Ae.jsxs("label",{children:[e("center:")," "]}),Ae.jsx("span",{children:uT(this.state.center)})]}),Ae.jsxs("div",{children:[Ae.jsxs("label",{children:[e("rotation:")," "]}),Ae.jsx("span",{children:this.state.rotation})]})]}))),Ae.jsx("div",{className:"maputnik-ol",ref:t=>{or().f[15]++,or().s[38]++,this.container=t},role:"region","aria-label":e("Map view"),style:{...this.props.style}})]})}}const dre=(or().s[39]++,es()(hre));var C5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var cT;function fre(){return cT||(cT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(a=r(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var o in a)e.call(a,o)&&a[o]&&(l=r(l,o));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(C5)),C5.exports}var pre=fre();const t0=cu(pre);var NC=I3();function mre(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Nt.useMemo(()=>i=>{e.forEach(r=>r(i))},e)}const B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jv(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function a8(n){return"nodeType"in n}function $d(n){var e,t;return n?Jv(n)?n:a8(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function s8(n){const{Document:e}=$d(n);return n instanceof e}function Mb(n){return Jv(n)?!1:n instanceof $d(n).HTMLElement}function sj(n){return n instanceof $d(n).SVGElement}function eC(n){return n?Jv(n)?n.document:a8(n)?s8(n)?n:Mb(n)||sj(n)?n.ownerDocument:document:document:document}const n0=B2?Nt.useLayoutEffect:Nt.useEffect;function l8(n){const e=Nt.useRef(n);return n0(()=>{e.current=n}),Nt.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function gre(){const n=Nt.useRef(null),e=Nt.useCallback((i,r)=>{n.current=setInterval(i,r)},[]),t=Nt.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function F_(n,e){e===void 0&&(e=[n]);const t=Nt.useRef(n);return n0(()=>{t.current!==n&&(t.current=n)},e),t}function wb(n,e){const t=Nt.useRef();return Nt.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function m3(n){const e=l8(n),t=Nt.useRef(null),i=Nt.useCallback(r=>{r!==t.current&&e?.(r,t.current),t.current=r},[]);return[t,i]}function hB(n){const e=Nt.useRef();return Nt.useEffect(()=>{e.current=n},[n]),e.current}let _5={};function Sb(n,e){return Nt.useMemo(()=>{if(e)return e;const t=_5[n]==null?0:_5[n]+1;return _5[n]=t,n+"-"+t},[n,e])}function lj(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return i.reduce((a,l)=>{const o=Object.entries(l);for(const[p,C]of o){const M=a[p];M!=null&&(a[p]=M+n*C)}return a},{...e})}}const xv=lj(1),g3=lj(-1);function yre(n){return"clientX"in n&&"clientY"in n}function A8(n){if(!n)return!1;const{KeyboardEvent:e}=$d(n.target);return e&&n instanceof e}function vre(n){if(!n)return!1;const{TouchEvent:e}=$d(n.target);return e&&n instanceof e}function dB(n){if(vre(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return yre(n)?{x:n.clientX,y:n.clientY}:null}const z_=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[z_.Translate.toString(n),z_.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),hT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cre(n){return n.matches(hT)?n:n.querySelector(hT)}const _re={display:"none"};function bre(n){let{id:e,value:t}=n;return ni.createElement("div",{id:e,style:_re},t)}function xre(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ni.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},t)}function Mre(){const[n,e]=Nt.useState("");return{announce:Nt.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const Aj=Nt.createContext(null);function wre(n){const e=Nt.useContext(Aj);Nt.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Sre(){const[n]=Nt.useState(()=>new Set),e=Nt.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[Nt.useCallback(i=>{let{type:r,event:a}=i;n.forEach(l=>{var o;return(o=l[r])==null?void 0:o.call(l,a)})},[n]),e]}const Ere={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Bre={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ore(n){let{announcements:e=Bre,container:t,hiddenTextDescribedById:i,screenReaderInstructions:r=Ere}=n;const{announce:a,announcement:l}=Mre(),o=Sb("DndLiveRegion"),[p,C]=Nt.useState(!1);if(Nt.useEffect(()=>{C(!0)},[]),wre(Nt.useMemo(()=>({onDragStart(O){let{active:U}=O;a(e.onDragStart({active:U}))},onDragMove(O){let{active:U,over:K}=O;e.onDragMove&&a(e.onDragMove({active:U,over:K}))},onDragOver(O){let{active:U,over:K}=O;a(e.onDragOver({active:U,over:K}))},onDragEnd(O){let{active:U,over:K}=O;a(e.onDragEnd({active:U,over:K}))},onDragCancel(O){let{active:U,over:K}=O;a(e.onDragCancel({active:U,over:K}))}}),[a,e])),!p)return null;const M=ni.createElement(ni.Fragment,null,ni.createElement(bre,{id:i,value:r.draggable}),ni.createElement(xre,{id:o,announcement:l}));return t?NC.createPortal(M,t):M}var bc;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(bc||(bc={}));function y3(){}function Ire(n,e){return Nt.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Tre(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Nt.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const am=Object.freeze({x:0,y:0});function kre(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Dre(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function Rre(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function Pre(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function dT(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Kre=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=dT(e,e.left,e.top),a=[];for(const l of i){const{id:o}=l,p=t.get(o);if(p){const C=kre(dT(p),r);a.push({id:o,data:{droppableContainer:l,value:C}})}}return a.sort(Dre)};function Ure(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),l=r-i,o=a-t;if(i<r&&t<a){const p=e.width*e.height,C=n.width*n.height,M=l*o,O=M/(p+C-M);return Number(O.toFixed(4))}return 0}const Lre=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=[];for(const a of i){const{id:l}=a,o=t.get(l);if(o){const p=Ure(o,e);p>0&&r.push({id:l,data:{droppableContainer:a,value:p}})}}return r.sort(Rre)};function Fre(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function uj(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:am}function zre(n){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return r.reduce((l,o)=>({...l,top:l.top+n*o.y,bottom:l.bottom+n*o.y,left:l.left+n*o.x,right:l.right+n*o.x}),{...t})}}const jre=zre(1);function Nre(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Gre(n,e,t){const i=Nre(e);if(!i)return n;const{scaleX:r,scaleY:a,x:l,y:o}=i,p=n.left-l-(1-r)*parseFloat(t),C=n.top-o-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),M=r?n.width/r:n.width,O=a?n.height/a:n.height;return{width:M,height:O,top:C,right:p+M,bottom:C+O,left:p}}const Wre={ignoreTransform:!1};function tC(n,e){e===void 0&&(e=Wre);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:C,transformOrigin:M}=$d(n).getComputedStyle(n);C&&(t=Gre(t,C,M))}const{top:i,left:r,width:a,height:l,bottom:o,right:p}=t;return{top:i,left:r,width:a,height:l,bottom:o,right:p}}function fT(n){return tC(n,{ignoreTransform:!0})}function Qre(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Yre(n,e){return e===void 0&&(e=$d(n).getComputedStyle(n)),e.position==="fixed"}function qre(n,e){e===void 0&&(e=$d(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const a=e[r];return typeof a=="string"?t.test(a):!1})}function u8(n,e){const t=[];function i(r){if(e!=null&&t.length>=e||!r)return t;if(s8(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!Mb(r)||sj(r)||t.includes(r))return t;const a=$d(n).getComputedStyle(r);return r!==n&&qre(r,a)&&t.push(r),Yre(r,a)?t:i(r.parentNode)}return n?i(n):t}function cj(n){const[e]=u8(n,1);return e??null}function b5(n){return!B2||!n?null:Jv(n)?n:a8(n)?s8(n)||n===eC(n).scrollingElement?window:Mb(n)?n:null:null}function hj(n){return Jv(n)?n.scrollX:n.scrollLeft}function dj(n){return Jv(n)?n.scrollY:n.scrollTop}function fB(n){return{x:hj(n),y:dj(n)}}var Qc;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Qc||(Qc={}));function fj(n){return!B2||!n?!1:n===document.scrollingElement}function pj(n){const e={x:0,y:0},t=fj(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},r=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,l=n.scrollTop>=i.y,o=n.scrollLeft>=i.x;return{isTop:r,isLeft:a,isBottom:l,isRight:o,maxScroll:i,minScroll:e}}const Hre={x:.2,y:.2};function Vre(n,e,t,i,r){let{top:a,left:l,right:o,bottom:p}=t;i===void 0&&(i=10),r===void 0&&(r=Hre);const{isTop:C,isBottom:M,isLeft:O,isRight:U}=pj(n),K={x:0,y:0},j={x:0,y:0},W={height:e.height*r.y,width:e.width*r.x};return!C&&a<=e.top+W.height?(K.y=Qc.Backward,j.y=i*Math.abs((e.top+W.height-a)/W.height)):!M&&p>=e.bottom-W.height&&(K.y=Qc.Forward,j.y=i*Math.abs((e.bottom-W.height-p)/W.height)),!U&&o>=e.right-W.width?(K.x=Qc.Forward,j.x=i*Math.abs((e.right-W.width-o)/W.width)):!O&&l<=e.left+W.width&&(K.x=Qc.Backward,j.x=i*Math.abs((e.left+W.width-l)/W.width)),{direction:K,speed:j}}function $re(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:t,right:i,bottom:r}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:r,width:n.clientWidth,height:n.clientHeight}}function mj(n){return n.reduce((e,t)=>xv(e,fB(t)),am)}function Zre(n){return n.reduce((e,t)=>e+hj(t),0)}function Xre(n){return n.reduce((e,t)=>e+dj(t),0)}function Jre(n,e){if(e===void 0&&(e=tC),!n)return;const{top:t,left:i,bottom:r,right:a}=e(n);cj(n)&&(r<=0||a<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const eoe=[["x",["left","right"],Zre],["y",["top","bottom"],Xre]];class c8{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=u8(t),r=mj(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,o]of eoe)for(const p of l)Object.defineProperty(this,p,{get:()=>{const C=o(i),M=r[a]-C;return this.rect[p]+M},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class a_{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var r;(r=this.target)==null||r.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function toe(n){const{EventTarget:e}=$d(n);return n instanceof e?n:eC(n)}function x5(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var pp;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(pp||(pp={}));function pT(n){n.preventDefault()}function noe(n){n.stopPropagation()}var Us;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Us||(Us={}));const gj={start:[Us.Space,Us.Enter],cancel:[Us.Esc],end:[Us.Space,Us.Enter,Us.Tab]},ioe=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Us.Right:return{...t,x:t.x+25};case Us.Left:return{...t,x:t.x-25};case Us.Down:return{...t,y:t.y+25};case Us.Up:return{...t,y:t.y-25}}};class yj{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new a_(eC(t)),this.windowListeners=new a_($d(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pp.Resize,this.handleCancel),this.windowListeners.add(pp.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pp.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&Jre(i),t(am)}handleKeyDown(e){if(A8(e)){const{active:t,context:i,options:r}=this.props,{keyboardCodes:a=gj,coordinateGetter:l=ioe,scrollBehavior:o="smooth"}=r,{code:p}=e;if(a.end.includes(p)){this.handleEnd(e);return}if(a.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:C}=i.current,M=C?{x:C.left,y:C.top}:am;this.referenceCoordinates||(this.referenceCoordinates=M);const O=l(e,{active:t,context:i.current,currentCoordinates:M});if(O){const U=g3(O,M),K={x:0,y:0},{scrollableAncestors:j}=i.current;for(const W of j){const Y=e.code,{isTop:te,isRight:J,isLeft:oe,isBottom:ne,maxScroll:$,minScroll:ae}=pj(W),G=$re(W),ce={x:Math.min(Y===Us.Right?G.right-G.width/2:G.right,Math.max(Y===Us.Right?G.left:G.left+G.width/2,O.x)),y:Math.min(Y===Us.Down?G.bottom-G.height/2:G.bottom,Math.max(Y===Us.Down?G.top:G.top+G.height/2,O.y))},ge=Y===Us.Right&&!J||Y===Us.Left&&!oe,ye=Y===Us.Down&&!ne||Y===Us.Up&&!te;if(ge&&ce.x!==O.x){const we=W.scrollLeft+U.x,Ie=Y===Us.Right&&we<=$.x||Y===Us.Left&&we>=ae.x;if(Ie&&!U.y){W.scrollTo({left:we,behavior:o});return}Ie?K.x=W.scrollLeft-we:K.x=Y===Us.Right?W.scrollLeft-$.x:W.scrollLeft-ae.x,K.x&&W.scrollBy({left:-K.x,behavior:o});break}else if(ye&&ce.y!==O.y){const we=W.scrollTop+U.y,Ie=Y===Us.Down&&we<=$.y||Y===Us.Up&&we>=ae.y;if(Ie&&!U.x){W.scrollTo({top:we,behavior:o});return}Ie?K.y=W.scrollTop-we:K.y=Y===Us.Down?W.scrollTop-$.y:W.scrollTop-ae.y,K.y&&W.scrollBy({top:-K.y,behavior:o});break}}this.handleMove(e,xv(g3(O,this.referenceCoordinates),K))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yj.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=gj,onActivation:r}=e,{active:a}=t;const{code:l}=n.nativeEvent;if(i.start.includes(l)){const o=a.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function mT(n){return!!(n&&"distance"in n)}function gT(n){return!!(n&&"delay"in n)}class h8{constructor(e,t,i){var r;i===void 0&&(i=toe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:l}=a;this.props=e,this.events=t,this.document=eC(l),this.documentListeners=new a_(this.document),this.listeners=new a_(i),this.windowListeners=new a_($d(l)),this.initialCoordinates=(r=dB(a))!=null?r:am,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(pp.Resize,this.handleCancel),this.windowListeners.add(pp.DragStart,pT),this.windowListeners.add(pp.VisibilityChange,this.handleCancel),this.windowListeners.add(pp.ContextMenu,pT),this.documentListeners.add(pp.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gT(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(mT(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(pp.Click,noe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pp.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:r,props:a}=this,{onMove:l,options:{activationConstraint:o}}=a;if(!r)return;const p=(t=dB(e))!=null?t:am,C=g3(r,p);if(!i&&o){if(mT(o)){if(o.tolerance!=null&&x5(C,o.tolerance))return this.handleCancel();if(x5(C,o.distance))return this.handleStart()}if(gT(o)&&x5(C,o.tolerance))return this.handleCancel();this.handlePending(o,C);return}e.cancelable&&e.preventDefault(),l(p)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Us.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const roe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class d8 extends h8{constructor(e){const{event:t}=e,i=eC(t.target);super(e,roe,i)}}d8.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const ooe={move:{name:"mousemove"},end:{name:"mouseup"}};var pB;(function(n){n[n.RightClick=2]="RightClick"})(pB||(pB={}));class aoe extends h8{constructor(e){super(e,ooe,eC(e.event.target))}}aoe.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===pB.RightClick?!1:(i?.({event:t}),!0)}}];const M5={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class soe extends h8{constructor(e){super(e,M5)}static setup(){return window.addEventListener(M5.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(M5.move.name,e)};function e(){}}}soe.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:r}=t;return r.length>1?!1:(i?.({event:t}),!0)}}];var s_;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(s_||(s_={}));var v3;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(v3||(v3={}));function loe(n){let{acceleration:e,activator:t=s_.Pointer,canScroll:i,draggingRect:r,enabled:a,interval:l=5,order:o=v3.TreeOrder,pointerCoordinates:p,scrollableAncestors:C,scrollableAncestorRects:M,delta:O,threshold:U}=n;const K=uoe({delta:O,disabled:!a}),[j,W]=gre(),Y=Nt.useRef({x:0,y:0}),te=Nt.useRef({x:0,y:0}),J=Nt.useMemo(()=>{switch(t){case s_.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case s_.DraggableRect:return r}},[t,r,p]),oe=Nt.useRef(null),ne=Nt.useCallback(()=>{const ae=oe.current;if(!ae)return;const G=Y.current.x*te.current.x,ce=Y.current.y*te.current.y;ae.scrollBy(G,ce)},[]),$=Nt.useMemo(()=>o===v3.TreeOrder?[...C].reverse():C,[o,C]);Nt.useEffect(()=>{if(!a||!C.length||!J){W();return}for(const ae of $){if(i?.(ae)===!1)continue;const G=C.indexOf(ae),ce=M[G];if(!ce)continue;const{direction:ge,speed:ye}=Vre(ae,ce,J,e,U);for(const we of["x","y"])K[we][ge[we]]||(ye[we]=0,ge[we]=0);if(ye.x>0||ye.y>0){W(),oe.current=ae,j(ne,l),Y.current=ye,te.current=ge;return}}Y.current={x:0,y:0},te.current={x:0,y:0},W()},[e,ne,i,W,a,l,JSON.stringify(J),JSON.stringify(K),j,C,$,M,JSON.stringify(U)])}const Aoe={x:{[Qc.Backward]:!1,[Qc.Forward]:!1},y:{[Qc.Backward]:!1,[Qc.Forward]:!1}};function uoe(n){let{delta:e,disabled:t}=n;const i=hB(e);return wb(r=>{if(t||!i||!r)return Aoe;const a={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Qc.Backward]:r.x[Qc.Backward]||a.x===-1,[Qc.Forward]:r.x[Qc.Forward]||a.x===1},y:{[Qc.Backward]:r.y[Qc.Backward]||a.y===-1,[Qc.Forward]:r.y[Qc.Forward]||a.y===1}}},[t,e,i])}function coe(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return wb(r=>{var a;return e==null?null:(a=i??r)!=null?a:null},[i,e])}function hoe(n,e){return Nt.useMemo(()=>n.reduce((t,i)=>{const{sensor:r}=i,a=r.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,i)}));return[...t,...a]},[]),[n,e])}var j_;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(j_||(j_={}));var mB;(function(n){n.Optimized="optimized"})(mB||(mB={}));const yT=new Map;function doe(n,e){let{dragging:t,dependencies:i,config:r}=e;const[a,l]=Nt.useState(null),{frequency:o,measure:p,strategy:C}=r,M=Nt.useRef(n),O=Y(),U=F_(O),K=Nt.useCallback(function(te){te===void 0&&(te=[]),!U.current&&l(J=>J===null?te:J.concat(te.filter(oe=>!J.includes(oe))))},[U]),j=Nt.useRef(null),W=wb(te=>{if(O&&!t)return yT;if(!te||te===yT||M.current!==n||a!=null){const J=new Map;for(let oe of n){if(!oe)continue;if(a&&a.length>0&&!a.includes(oe.id)&&oe.rect.current){J.set(oe.id,oe.rect.current);continue}const ne=oe.node.current,$=ne?new c8(p(ne),ne):null;oe.rect.current=$,$&&J.set(oe.id,$)}return J}return te},[n,a,t,O,p]);return Nt.useEffect(()=>{M.current=n},[n]),Nt.useEffect(()=>{O||K()},[t,O]),Nt.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),Nt.useEffect(()=>{O||typeof o!="number"||j.current!==null||(j.current=setTimeout(()=>{K(),j.current=null},o))},[o,O,K,...i]),{droppableRects:W,measureDroppableContainers:K,measuringScheduled:a!=null};function Y(){switch(C){case j_.Always:return!1;case j_.BeforeDragging:return t;default:return!t}}}function vj(n,e){return wb(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function foe(n,e){return vj(n,e)}function poe(n){let{callback:e,disabled:t}=n;const i=l8(e),r=Nt.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(i)},[i,t]);return Nt.useEffect(()=>()=>r?.disconnect(),[r]),r}function O2(n){let{callback:e,disabled:t}=n;const i=l8(e),r=Nt.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(i)},[t]);return Nt.useEffect(()=>()=>r?.disconnect(),[r]),r}function moe(n){return new c8(tC(n),n)}function vT(n,e,t){e===void 0&&(e=moe);const[i,r]=Nt.useState(null);function a(){r(p=>{if(!n)return null;if(n.isConnected===!1){var C;return(C=p??t)!=null?C:null}const M=e(n);return JSON.stringify(p)===JSON.stringify(M)?p:M})}const l=poe({callback(p){if(n)for(const C of p){const{type:M,target:O}=C;if(M==="childList"&&O instanceof HTMLElement&&O.contains(n)){a();break}}}}),o=O2({callback:a});return n0(()=>{a(),n?(o?.observe(n),l?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),l?.disconnect())},[n]),i}function goe(n){const e=vj(n);return uj(n,e)}const CT=[];function yoe(n){const e=Nt.useRef(n),t=wb(i=>n?i&&i!==CT&&n&&e.current&&n.parentNode===e.current.parentNode?i:u8(n):CT,[n]);return Nt.useEffect(()=>{e.current=n},[n]),t}function voe(n){const[e,t]=Nt.useState(null),i=Nt.useRef(n),r=Nt.useCallback(a=>{const l=b5(a.target);l&&t(o=>o?(o.set(l,fB(l)),new Map(o)):null)},[]);return Nt.useEffect(()=>{const a=i.current;if(n!==a){l(a);const o=n.map(p=>{const C=b5(p);return C?(C.addEventListener("scroll",r,{passive:!0}),[C,fB(C)]):null}).filter(p=>p!=null);t(o.length?new Map(o):null),i.current=n}return()=>{l(n),l(a)};function l(o){o.forEach(p=>{const C=b5(p);C?.removeEventListener("scroll",r)})}},[r,n]),Nt.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,l)=>xv(a,l),am):mj(n):am,[n,e])}function _T(n,e){e===void 0&&(e=[]);const t=Nt.useRef(null);return Nt.useEffect(()=>{t.current=null},e),Nt.useEffect(()=>{const i=n!==am;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?g3(n,t.current):am}function Coe(n){Nt.useEffect(()=>{if(!B2)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function _oe(n,e){return Nt.useMemo(()=>n.reduce((t,i)=>{let{eventName:r,handler:a}=i;return t[r]=l=>{a(l,e)},t},{}),[n,e])}function Cj(n){return Nt.useMemo(()=>n?Qre(n):null,[n])}const bT=[];function boe(n,e){e===void 0&&(e=tC);const[t]=n,i=Cj(t?$d(t):null),[r,a]=Nt.useState(bT);function l(){a(()=>n.length?n.map(p=>fj(p)?i:new c8(e(p),p)):bT)}const o=O2({callback:l});return n0(()=>{o?.disconnect(),l(),n.forEach(p=>o?.observe(p))},[n]),r}function xoe(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Mb(e)?e:n}function Moe(n){let{measure:e}=n;const[t,i]=Nt.useState(null),r=Nt.useCallback(C=>{for(const{target:M}of C)if(Mb(M)){i(O=>{const U=e(M);return O?{...O,width:U.width,height:U.height}:U});break}},[e]),a=O2({callback:r}),l=Nt.useCallback(C=>{const M=xoe(C);a?.disconnect(),M&&a?.observe(M),i(M?e(M):null)},[e,a]),[o,p]=m3(l);return Nt.useMemo(()=>({nodeRef:o,rect:t,setRef:p}),[t,o,p])}const woe=[{sensor:d8,options:{}},{sensor:yj,options:{}}],Soe={current:{}},Bx={draggable:{measure:fT},droppable:{measure:fT,strategy:j_.WhileDragging,frequency:mB.Optimized},dragOverlay:{measure:tC}};class l_ extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const Eoe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new l_,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:y3},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bx,measureDroppableContainers:y3,windowRect:null,measuringScheduled:!1},Boe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:y3,draggableNodes:new Map,over:null,measureDroppableContainers:y3},I2=Nt.createContext(Boe),_j=Nt.createContext(Eoe);function Ooe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new l_}}}function Ioe(n,e){switch(e.type){case bc.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case bc.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case bc.DragEnd:case bc.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case bc.RegisterDroppable:{const{element:t}=e,{id:i}=t,r=new l_(n.droppable.containers);return r.set(i,t),{...n,droppable:{...n.droppable,containers:r}}}case bc.SetDroppableDisabled:{const{id:t,key:i,disabled:r}=e,a=n.droppable.containers.get(t);if(!a||i!==a.key)return n;const l=new l_(n.droppable.containers);return l.set(t,{...a,disabled:r}),{...n,droppable:{...n.droppable,containers:l}}}case bc.UnregisterDroppable:{const{id:t,key:i}=e,r=n.droppable.containers.get(t);if(!r||i!==r.key)return n;const a=new l_(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function Toe(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:r}=Nt.useContext(I2),a=hB(i),l=hB(t?.id);return Nt.useEffect(()=>{if(!e&&!i&&a&&l!=null){if(!A8(a)||document.activeElement===a.target)return;const o=r.get(l);if(!o)return;const{activatorNode:p,node:C}=o;if(!p.current&&!C.current)return;requestAnimationFrame(()=>{for(const M of[p.current,C.current]){if(!M)continue;const O=Cre(M);if(O){O.focus();break}}})}},[i,e,r,l,a]),null}function koe(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((r,a)=>a({transform:r,...i}),t):t}function Doe(n){return Nt.useMemo(()=>({draggable:{...Bx.draggable,...n?.draggable},droppable:{...Bx.droppable,...n?.droppable},dragOverlay:{...Bx.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function Roe(n){let{activeNode:e,measure:t,initialRect:i,config:r=!0}=n;const a=Nt.useRef(!1),{x:l,y:o}=typeof r=="boolean"?{x:r,y:r}:r;n0(()=>{if(!l&&!o||!e){a.current=!1;return}if(a.current||!i)return;const C=e?.node.current;if(!C||C.isConnected===!1)return;const M=t(C),O=uj(M,i);if(l||(O.x=0),o||(O.y=0),a.current=!0,Math.abs(O.x)>0||Math.abs(O.y)>0){const U=cj(C);U&&U.scrollBy({top:O.y,left:O.x})}},[e,l,o,i,t])}const bj=Nt.createContext({...am,scaleX:1,scaleY:1});var _g;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(_g||(_g={}));const Poe=Nt.memo(function(e){var t,i,r,a;let{id:l,accessibility:o,autoScroll:p=!0,children:C,sensors:M=woe,collisionDetection:O=Lre,measuring:U,modifiers:K,...j}=e;const W=Nt.useReducer(Ioe,void 0,Ooe),[Y,te]=W,[J,oe]=Sre(),[ne,$]=Nt.useState(_g.Uninitialized),ae=ne===_g.Initialized,{draggable:{active:G,nodes:ce,translate:ge},droppable:{containers:ye}}=Y,we=G!=null?ce.get(G):null,Ie=Nt.useRef({initial:null,translated:null}),Se=Nt.useMemo(()=>{var it;return G!=null?{id:G,data:(it=we?.data)!=null?it:Soe,rect:Ie}:null},[G,we]),Ve=Nt.useRef(null),[xe,ze]=Nt.useState(null),[st,Ct]=Nt.useState(null),nt=F_(j,Object.values(j)),be=Sb("DndDescribedBy",l),Ne=Nt.useMemo(()=>ye.getEnabled(),[ye]),tt=Doe(U),{droppableRects:lt,measureDroppableContainers:kt,measuringScheduled:gt}=doe(Ne,{dragging:ae,dependencies:[ge.x,ge.y],config:tt.droppable}),St=coe(ce,G),Ut=Nt.useMemo(()=>st?dB(st):null,[st]),Fe=Tt(),Ke=foe(St,tt.draggable.measure);Roe({activeNode:G!=null?ce.get(G):null,config:Fe.layoutShiftCompensation,initialRect:Ke,measure:tt.draggable.measure});const Re=vT(St,tt.draggable.measure,Ke),He=vT(St?St.parentElement:null),bt=Nt.useRef({activatorEvent:null,active:null,activeNode:St,collisionRect:null,collisions:null,droppableRects:lt,draggableNodes:ce,draggingNode:null,draggingNodeRect:null,droppableContainers:ye,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_t=ye.getNodeFor((t=bt.current.over)==null?void 0:t.id),Ot=Moe({measure:tt.dragOverlay.measure}),qt=(i=Ot.nodeRef.current)!=null?i:St,Kt=ae?(r=Ot.rect)!=null?r:Re:null,on=!!(Ot.nodeRef.current&&Ot.rect),Jn=goe(on?null:Re),Wt=Cj(qt?$d(qt):null),$n=yoe(ae?_t??St:null),On=boe($n),Bn=koe(K,{transform:{x:ge.x-Jn.x,y:ge.y-Jn.y,scaleX:1,scaleY:1},activatorEvent:st,active:Se,activeNodeRect:Re,containerNodeRect:He,draggingNodeRect:Kt,over:bt.current.over,overlayNodeRect:Ot.rect,scrollableAncestors:$n,scrollableAncestorRects:On,windowRect:Wt}),In=Ut?xv(Ut,ge):null,Oi=voe($n),ei=_T(Oi),Kn=_T(Oi,[Re]),je=xv(Bn,ei),de=Kt?jre(Kt,Bn):null,re=Se&&de?O({active:Se,collisionRect:de,droppableRects:lt,droppableContainers:Ne,pointerCoordinates:In}):null,le=Pre(re,"id"),[pe,Te]=Nt.useState(null),We=on?Bn:xv(Bn,Kn),dt=Fre(We,(a=pe?.rect)!=null?a:null,Re),Ye=Nt.useRef(null),De=Nt.useCallback((it,en)=>{let{sensor:Dn,options:Mn}=en;if(Ve.current==null)return;const ii=ce.get(Ve.current);if(!ii)return;const Wn=it.nativeEvent,Hi=new Dn({active:Ve.current,activeNode:ii,event:Wn,options:Mn,context:bt,onAbort(Ei){if(!ce.get(Ei))return;const{onDragAbort:ti}=nt.current,Qi={id:Ei};ti?.(Qi),J({type:"onDragAbort",event:Qi})},onPending(Ei,hi,ti,Qi){if(!ce.get(Ei))return;const{onDragPending:uo}=nt.current,Vi={id:Ei,constraint:hi,initialCoordinates:ti,offset:Qi};uo?.(Vi),J({type:"onDragPending",event:Vi})},onStart(Ei){const hi=Ve.current;if(hi==null)return;const ti=ce.get(hi);if(!ti)return;const{onDragStart:Qi}=nt.current,wn={activatorEvent:Wn,active:{id:hi,data:ti.data,rect:Ie}};NC.unstable_batchedUpdates(()=>{Qi?.(wn),$(_g.Initializing),te({type:bc.DragStart,initialCoordinates:Ei,active:hi}),J({type:"onDragStart",event:wn}),ze(Ye.current),Ct(Wn)})},onMove(Ei){te({type:bc.DragMove,coordinates:Ei})},onEnd:tr(bc.DragEnd),onCancel:tr(bc.DragCancel)});Ye.current=Hi;function tr(Ei){return async function(){const{active:ti,collisions:Qi,over:wn,scrollAdjustedTranslate:uo}=bt.current;let Vi=null;if(ti&&uo){const{cancelDrop:ya}=nt.current;Vi={activatorEvent:Wn,active:ti,collisions:Qi,delta:uo,over:wn},Ei===bc.DragEnd&&typeof ya=="function"&&await Promise.resolve(ya(Vi))&&(Ei=bc.DragCancel)}Ve.current=null,NC.unstable_batchedUpdates(()=>{te({type:Ei}),$(_g.Uninitialized),Te(null),ze(null),Ct(null),Ye.current=null;const ya=Ei===bc.DragEnd?"onDragEnd":"onDragCancel";if(Vi){const ko=nt.current[ya];ko?.(Vi),J({type:ya,event:Vi})}})}}},[ce]),Ze=Nt.useCallback((it,en)=>(Dn,Mn)=>{const ii=Dn.nativeEvent,Wn=ce.get(Mn);if(Ve.current!==null||!Wn||ii.dndKit||ii.defaultPrevented)return;const Hi={active:Wn};it(Dn,en.options,Hi)===!0&&(ii.dndKit={capturedBy:en.sensor},Ve.current=Mn,De(Dn,en))},[ce,De]),g=hoe(M,Ze);Coe(M),n0(()=>{Re&&ne===_g.Initializing&&$(_g.Initialized)},[Re,ne]),Nt.useEffect(()=>{const{onDragMove:it}=nt.current,{active:en,activatorEvent:Dn,collisions:Mn,over:ii}=bt.current;if(!en||!Dn)return;const Wn={active:en,activatorEvent:Dn,collisions:Mn,delta:{x:je.x,y:je.y},over:ii};NC.unstable_batchedUpdates(()=>{it?.(Wn),J({type:"onDragMove",event:Wn})})},[je.x,je.y]),Nt.useEffect(()=>{const{active:it,activatorEvent:en,collisions:Dn,droppableContainers:Mn,scrollAdjustedTranslate:ii}=bt.current;if(!it||Ve.current==null||!en||!ii)return;const{onDragOver:Wn}=nt.current,Hi=Mn.get(le),tr=Hi&&Hi.rect.current?{id:Hi.id,rect:Hi.rect.current,data:Hi.data,disabled:Hi.disabled}:null,Ei={active:it,activatorEvent:en,collisions:Dn,delta:{x:ii.x,y:ii.y},over:tr};NC.unstable_batchedUpdates(()=>{Te(tr),Wn?.(Ei),J({type:"onDragOver",event:Ei})})},[le]),n0(()=>{bt.current={activatorEvent:st,active:Se,activeNode:St,collisionRect:de,collisions:re,droppableRects:lt,draggableNodes:ce,draggingNode:qt,draggingNodeRect:Kt,droppableContainers:ye,over:pe,scrollableAncestors:$n,scrollAdjustedTranslate:je},Ie.current={initial:Kt,translated:de}},[Se,St,re,de,ce,qt,Kt,lt,ye,pe,$n,je]),loe({...Fe,delta:ge,draggingRect:de,pointerCoordinates:In,scrollableAncestors:$n,scrollableAncestorRects:On});const mt=Nt.useMemo(()=>({active:Se,activeNode:St,activeNodeRect:Re,activatorEvent:st,collisions:re,containerNodeRect:He,dragOverlay:Ot,draggableNodes:ce,droppableContainers:ye,droppableRects:lt,over:pe,measureDroppableContainers:kt,scrollableAncestors:$n,scrollableAncestorRects:On,measuringConfiguration:tt,measuringScheduled:gt,windowRect:Wt}),[Se,St,Re,st,re,He,Ot,ce,ye,lt,pe,kt,$n,On,tt,gt,Wt]),ht=Nt.useMemo(()=>({activatorEvent:st,activators:g,active:Se,activeNodeRect:Re,ariaDescribedById:{draggable:be},dispatch:te,draggableNodes:ce,over:pe,measureDroppableContainers:kt}),[st,g,Se,Re,te,be,ce,pe,kt]);return ni.createElement(Aj.Provider,{value:oe},ni.createElement(I2.Provider,{value:ht},ni.createElement(_j.Provider,{value:mt},ni.createElement(bj.Provider,{value:dt},C)),ni.createElement(Toe,{disabled:o?.restoreFocus===!1})),ni.createElement(Ore,{...o,hiddenTextDescribedById:be}));function Tt(){const it=xe?.autoScrollEnabled===!1,en=typeof p=="object"?p.enabled===!1:p===!1,Dn=ae&&!it&&!en;return typeof p=="object"?{...p,enabled:Dn}:{enabled:Dn}}}),Koe=Nt.createContext(null),xT="button",Uoe="Draggable";function Loe(n){let{id:e,data:t,disabled:i=!1,attributes:r}=n;const a=Sb(Uoe),{activators:l,activatorEvent:o,active:p,activeNodeRect:C,ariaDescribedById:M,draggableNodes:O,over:U}=Nt.useContext(I2),{role:K=xT,roleDescription:j="draggable",tabIndex:W=0}=r??{},Y=p?.id===e,te=Nt.useContext(Y?bj:Koe),[J,oe]=m3(),[ne,$]=m3(),ae=_oe(l,e),G=F_(t);n0(()=>(O.set(e,{id:e,key:a,node:J,activatorNode:ne,data:G}),()=>{const ge=O.get(e);ge&&ge.key===a&&O.delete(e)}),[O,e]);const ce=Nt.useMemo(()=>({role:K,tabIndex:W,"aria-disabled":i,"aria-pressed":Y&&K===xT?!0:void 0,"aria-roledescription":j,"aria-describedby":M.draggable}),[i,K,W,Y,j,M.draggable]);return{active:p,activatorEvent:o,activeNodeRect:C,attributes:ce,isDragging:Y,listeners:i?void 0:ae,node:J,over:U,setNodeRef:oe,setActivatorNodeRef:$,transform:te}}function Foe(){return Nt.useContext(_j)}const zoe="Droppable",joe={timeout:25};function Noe(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:r}=n;const a=Sb(zoe),{active:l,dispatch:o,over:p,measureDroppableContainers:C}=Nt.useContext(I2),M=Nt.useRef({disabled:t}),O=Nt.useRef(!1),U=Nt.useRef(null),K=Nt.useRef(null),{disabled:j,updateMeasurementsFor:W,timeout:Y}={...joe,...r},te=F_(W??i),J=Nt.useCallback(()=>{if(!O.current){O.current=!0;return}K.current!=null&&clearTimeout(K.current),K.current=setTimeout(()=>{C(Array.isArray(te.current)?te.current:[te.current]),K.current=null},Y)},[Y]),oe=O2({callback:J,disabled:j||!l}),ne=Nt.useCallback((ce,ge)=>{oe&&(ge&&(oe.unobserve(ge),O.current=!1),ce&&oe.observe(ce))},[oe]),[$,ae]=m3(ne),G=F_(e);return Nt.useEffect(()=>{!oe||!$.current||(oe.disconnect(),O.current=!1,oe.observe($.current))},[$,oe]),Nt.useEffect(()=>(o({type:bc.RegisterDroppable,element:{id:i,key:a,disabled:t,node:$,rect:U,data:G}}),()=>o({type:bc.UnregisterDroppable,key:a,id:i})),[i]),Nt.useEffect(()=>{t!==M.current.disabled&&(o({type:bc.SetDroppableDisabled,id:i,key:a,disabled:t}),M.current.disabled=t)},[i,a,t,o]),{active:l,rect:U,isOver:p?.id===i,node:$,over:p,setNodeRef:ae}}function xj(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function Goe(n,e){return n.reduce((t,i,r)=>{const a=e.get(i);return a&&(t[r]=a),t},Array(n.length))}function ox(n){return n!==null&&n>=0}function Woe(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Qoe(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const Mj=n=>{let{rects:e,activeIndex:t,overIndex:i,index:r}=n;const a=xj(e,i,t),l=e[r],o=a[r];return!o||!l?null:{x:o.left-l.left,y:o.top-l.top,scaleX:o.width/l.width,scaleY:o.height/l.height}},ax={scaleX:1,scaleY:1},Yoe=n=>{var e;let{activeIndex:t,activeNodeRect:i,index:r,rects:a,overIndex:l}=n;const o=(e=a[t])!=null?e:i;if(!o)return null;if(r===t){const C=a[l];return C?{x:0,y:t<l?C.top+C.height-(o.top+o.height):C.top-o.top,...ax}:null}const p=qoe(a,r,t);return r>t&&r<=l?{x:0,y:-o.height-p,...ax}:r<t&&r>=l?{x:0,y:o.height+p,...ax}:{x:0,y:0,...ax}};function qoe(n,e,t){const i=n[e],r=n[e-1],a=n[e+1];return i?t<e?r?i.top-(r.top+r.height):a?a.top-(i.top+i.height):0:a?a.top-(i.top+i.height):r?i.top-(r.top+r.height):0:0}const wj="Sortable",Sj=ni.createContext({activeIndex:-1,containerId:wj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mj,disabled:{draggable:!1,droppable:!1}});function Hoe(n){let{children:e,id:t,items:i,strategy:r=Mj,disabled:a=!1}=n;const{active:l,dragOverlay:o,droppableRects:p,over:C,measureDroppableContainers:M}=Foe(),O=Sb(wj,t),U=o.rect!==null,K=Nt.useMemo(()=>i.map(ae=>typeof ae=="object"&&"id"in ae?ae.id:ae),[i]),j=l!=null,W=l?K.indexOf(l.id):-1,Y=C?K.indexOf(C.id):-1,te=Nt.useRef(K),J=!Woe(K,te.current),oe=Y!==-1&&W===-1||J,ne=Qoe(a);n0(()=>{J&&j&&M(K)},[J,K,j,M]),Nt.useEffect(()=>{te.current=K},[K]);const $=Nt.useMemo(()=>({activeIndex:W,containerId:O,disabled:ne,disableTransforms:oe,items:K,overIndex:Y,useDragOverlay:U,sortedRects:Goe(K,p),strategy:r}),[W,O,ne.draggable,ne.droppable,oe,K,Y,p,U,r]);return ni.createElement(Sj.Provider,{value:$},e)}const Voe=n=>{let{id:e,items:t,activeIndex:i,overIndex:r}=n;return xj(t,i,r).indexOf(e)},$oe=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:r,items:a,newIndex:l,previousItems:o,previousContainerId:p,transition:C}=n;return!C||!i||o!==a&&r===l?!1:t?!0:l!==r&&e===p},Zoe={duration:200,easing:"ease"},Ej="transform",Xoe=z_.Transition.toString({property:Ej,duration:0,easing:"linear"}),Joe={roleDescription:"sortable"};function eae(n){let{disabled:e,index:t,node:i,rect:r}=n;const[a,l]=Nt.useState(null),o=Nt.useRef(t);return n0(()=>{if(!e&&t!==o.current&&i.current){const p=r.current;if(p){const C=tC(i.current,{ignoreTransform:!0}),M={x:p.left-C.left,y:p.top-C.top,scaleX:p.width/C.width,scaleY:p.height/C.height};(M.x||M.y)&&l(M)}}t!==o.current&&(o.current=t)},[e,t,i,r]),Nt.useEffect(()=>{a&&l(null)},[a]),a}function tae(n){let{animateLayoutChanges:e=$oe,attributes:t,disabled:i,data:r,getNewIndex:a=Voe,id:l,strategy:o,resizeObserverConfig:p,transition:C=Zoe}=n;const{items:M,containerId:O,activeIndex:U,disabled:K,disableTransforms:j,sortedRects:W,overIndex:Y,useDragOverlay:te,strategy:J}=Nt.useContext(Sj),oe=nae(i,K),ne=M.indexOf(l),$=Nt.useMemo(()=>({sortable:{containerId:O,index:ne,items:M},...r}),[O,r,ne,M]),ae=Nt.useMemo(()=>M.slice(M.indexOf(l)),[M,l]),{rect:G,node:ce,isOver:ge,setNodeRef:ye}=Noe({id:l,data:$,disabled:oe.droppable,resizeObserverConfig:{updateMeasurementsFor:ae,...p}}),{active:we,activatorEvent:Ie,activeNodeRect:Se,attributes:Ve,setNodeRef:xe,listeners:ze,isDragging:st,over:Ct,setActivatorNodeRef:nt,transform:be}=Loe({id:l,data:$,attributes:{...Joe,...t},disabled:oe.draggable}),Ne=mre(ye,xe),tt=!!we,lt=tt&&!j&&ox(U)&&ox(Y),kt=!te&&st,gt=kt&&lt?be:null,Ut=lt?gt??(o??J)({rects:W,activeNodeRect:Se,activeIndex:U,overIndex:Y,index:ne}):null,Fe=ox(U)&&ox(Y)?a({id:l,items:M,activeIndex:U,overIndex:Y}):ne,Ke=we?.id,Re=Nt.useRef({activeId:Ke,items:M,newIndex:Fe,containerId:O}),He=M!==Re.current.items,bt=e({active:we,containerId:O,isDragging:st,isSorting:tt,id:l,index:ne,items:M,newIndex:Re.current.newIndex,previousItems:Re.current.items,previousContainerId:Re.current.containerId,transition:C,wasDragging:Re.current.activeId!=null}),_t=eae({disabled:!bt,index:ne,node:ce,rect:G});return Nt.useEffect(()=>{tt&&Re.current.newIndex!==Fe&&(Re.current.newIndex=Fe),O!==Re.current.containerId&&(Re.current.containerId=O),M!==Re.current.items&&(Re.current.items=M)},[tt,Fe,O,M]),Nt.useEffect(()=>{if(Ke===Re.current.activeId)return;if(Ke!=null&&Re.current.activeId==null){Re.current.activeId=Ke;return}const qt=setTimeout(()=>{Re.current.activeId=Ke},50);return()=>clearTimeout(qt)},[Ke]),{active:we,activeIndex:U,attributes:Ve,data:$,rect:G,index:ne,newIndex:Fe,items:M,isOver:ge,isSorting:tt,isDragging:st,listeners:ze,node:ce,overIndex:Y,over:Ct,setNodeRef:Ne,setActivatorNodeRef:nt,setDroppableNodeRef:ye,setDraggableNodeRef:xe,transform:_t??Ut,transition:Ot()};function Ot(){if(_t||He&&Re.current.newIndex===ne)return Xoe;if(!(kt&&!A8(Ie)||!C)&&(tt||bt))return z_.Transition.toString({...C,property:Ej})}}function nae(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(i=n?.droppable)!=null?i:e.droppable}}Us.Down,Us.Right,Us.Up,Us.Left;function E1(){var n="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",e="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return E1=function(){return l},l}E1();class iae extends ni.Component{render(){E1().f[0]++;const e=(E1().s[0]++,{width:20,height:20,...this.props.style});return E1().s[1]++,this.props.isCollapsed?(E1().b[0][0]++,Ae.jsx(oF,{style:e})):(E1().b[0][1]++,Ae.jsx(rF,{style:e}))}}function fv(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",e="b04bfec534013c327fd210571832bbd2813a944a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return fv=function(){return l},l}fv();class rae extends ni.Component{render(){return fv().f[0]++,fv().s[0]++,Ae.jsx("li",{className:"maputnik-layer-list-group",children:Ae.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:e=>(fv().f[1]++,fv().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[Ae.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(iae,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function vr(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",e="65a9cb0d1a08cfab21a14c1632991e31e3063aa8",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:9,column:23},end:{line:22,column:1}},1:{start:{line:10,column:44},end:{line:10,column:49}},2:{start:{line:11,column:2},end:{line:21,column:7}},3:{start:{line:25,column:4},end:{line:34,column:5}},4:{start:{line:27,column:8},end:{line:27,column:54}},5:{start:{line:29,column:8},end:{line:29,column:53}},6:{start:{line:31,column:8},end:{line:31,column:56}},7:{start:{line:33,column:8},end:{line:33,column:49}},8:{start:{line:37,column:51},end:{line:37,column:61}},9:{start:{line:38,column:25},end:{line:38,column:27}},10:{start:{line:39,column:4},end:{line:44,column:5}},11:{start:{line:40,column:6},end:{line:40,column:76}},12:{start:{line:41,column:6},end:{line:43,column:7}},13:{start:{line:42,column:8},end:{line:42,column:103}},14:{start:{line:45,column:4},end:{line:56,column:6}},15:{start:{line:59,column:22},end:{line:145,column:2}},16:{start:{line:69,column:6},end:{line:69,column:11}},17:{start:{line:77,column:6},end:{line:77,column:40}},18:{start:{line:78,column:16},end:{line:82,column:3}},19:{start:{line:83,column:27},end:{line:83,column:69}},20:{start:{line:84,column:20},end:{line:84,column:23}},21:{start:{line:85,column:2},end:{line:144,column:7}},22:{start:{line:89,column:8},end:{line:89,column:25}},23:{start:{line:90,column:8},end:{line:92,column:9}},24:{start:{line:91,column:10},end:{line:91,column:35}},25:{start:{line:96,column:23},end:{line:96,column:60}},26:{start:{line:120,column:29},end:{line:120,column:61}},27:{start:{line:129,column:29},end:{line:129,column:58}},28:{start:{line:139,column:29},end:{line:139,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:23},end:{line:9,column:24}},loc:{start:{line:9,column:34},end:{line:22,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:15},end:{line:35,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:57,column:3}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:59,column:39},end:{line:59,column:40}},loc:{start:{line:59,column:55},end:{line:145,column:1}},line:59},4:{name:"(anonymous_4)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:24},end:{line:64,column:5}},line:63},5:{name:"(anonymous_5)",decl:{start:{line:65,column:21},end:{line:65,column:22}},loc:{start:{line:65,column:27},end:{line:66,column:5}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:67,column:30},end:{line:67,column:31}},loc:{start:{line:67,column:36},end:{line:68,column:5}},line:67},7:{name:"(anonymous_7)",decl:{start:{line:88,column:11},end:{line:88,column:12}},loc:{start:{line:88,column:21},end:{line:93,column:7}},line:88},8:{name:"(anonymous_8)",decl:{start:{line:96,column:15},end:{line:96,column:16}},loc:{start:{line:96,column:23},end:{line:96,column:60}},line:96},9:{name:"(anonymous_9)",decl:{start:{line:120,column:21},end:{line:120,column:22}},loc:{start:{line:120,column:29},end:{line:120,column:61}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:129,column:21},end:{line:129,column:22}},loc:{start:{line:129,column:29},end:{line:129,column:58}},line:129},11:{name:"(anonymous_11)",decl:{start:{line:139,column:21},end:{line:139,column:22}},loc:{start:{line:139,column:29},end:{line:139,column:70}},line:139}},branchMap:{0:{loc:{start:{line:25,column:4},end:{line:34,column:5}},type:"switch",locations:[{start:{line:26,column:6},end:{line:27,column:54}},{start:{line:28,column:6},end:{line:29,column:53}},{start:{line:30,column:6},end:{line:31,column:56}},{start:{line:32,column:6},end:{line:33,column:49}}],line:25},1:{loc:{start:{line:39,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:44,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},2:{loc:{start:{line:41,column:6},end:{line:43,column:7}},type:"if",locations:[{start:{line:41,column:6},end:{line:43,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:61,column:4},end:{line:61,column:22}},type:"default-arg",locations:[{start:{line:61,column:17},end:{line:61,column:22}}],line:61},4:{loc:{start:{line:62,column:4},end:{line:62,column:26}},type:"default-arg",locations:[{start:{line:62,column:17},end:{line:62,column:26}}],line:62},5:{loc:{start:{line:63,column:4},end:{line:64,column:5}},type:"default-arg",locations:[{start:{line:63,column:18},end:{line:64,column:5}}],line:63},6:{loc:{start:{line:65,column:4},end:{line:66,column:5}},type:"default-arg",locations:[{start:{line:65,column:21},end:{line:66,column:5}}],line:65},7:{loc:{start:{line:67,column:4},end:{line:68,column:5}},type:"default-arg",locations:[{start:{line:67,column:30},end:{line:68,column:5}}],line:67},8:{loc:{start:{line:81,column:13},end:{line:81,column:33}},type:"cond-expr",locations:[{start:{line:81,column:26},end:{line:81,column:29}},{start:{line:81,column:32},end:{line:81,column:33}}],line:81},9:{loc:{start:{line:83,column:27},end:{line:83,column:69}},type:"cond-expr",locations:[{start:{line:83,column:54},end:{line:83,column:60}},{start:{line:83,column:63},end:{line:83,column:69}}],line:83},10:{loc:{start:{line:90,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:92,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0],4:[0],5:[0],6:[0],7:[0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAmBS,SACL,KADK;AAnBT,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AACrE,SAAS,mBAAmB;AAC5B,SAAQ,mBAAkB;AAC1B,SAAQ,WAAU;AAElB,OAAO,eAAe;AAUtB,MAAM,iBAAgD,CAAC,UAAU;AAC/D,QAAM,EAAC,gBAAgB,cAAa,IAAI;AACxC,SAAO,qBAAC,SAAI,WAAU,mCAAmC,GAAG,gBAAiB,GAAG,eAC9E;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA,QACZ,OAAO,EAAE,OAAO,OAAO,QAAQ,OAAO,eAAe,SAAS;AAAA;AAAA,IAChE;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF;AAUA,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MACxB,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAClC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,gBAAgB,MAAM,WAA8C,CAAC,OAAO,QAAQ;AACxF,QAAM;AAAA,IACJ,aAAa;AAAA,IACb,aAAa;AAAA,IACb,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,0BAA0B,MAAM;AAAA,IAAC;AAAA,EACnC,IAAI;AAEJ,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,YAAY,EAAC,IAAI,MAAM,QAAO,CAAC;AAEnC,QAAM,QAAQ;AAAA,IACZ,WAAW,IAAI,UAAU,SAAS,SAAS;AAAA,IAC3C;AAAA,IACA,SAAS,aAAa,MAAM;AAAA,EAC9B;AAEA,QAAM,mBAAmB,eAAe,YAAY,SAAS;AAG7D,QAAM,YAAY;AAElB,SAAO,oBAAC,YAAY,UAAZ,EAAqB,OAAO,EAAC,MAAM,OAAM,GAC/C;AAAA,IAAC;AAAA;AAAA,MACC,KAAK,CAAC,SAAS;AACb,mBAAW,IAAI;AACf,YAAI,WAAW;AACb,oBAAU,UAAU;AAAA,QACtB;AAAA,MACF;AAAA,MACA;AAAA,MACA,IAAI,MAAM;AAAA,MACV,SAAS,QAAM,MAAM,cAAc,MAAM,UAAU;AAAA,MACnD,eAAa,qBAAqB,MAAM;AAAA,MACxC,WAAW,WAAW;AAAA,QACpB,4BAA4B;AAAA,QAC5B,qCAAqC;AAAA,QACrC,CAAC,MAAM,SAAU,GAAG;AAAA,MACtB,CAAC;AAAA,MACD;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,MAAM;AAAA,YACf,WAAW,MAAM;AAAA,YACjB,gBAAgB;AAAA,YAChB,eAAe;AAAA;AAAA,QACjB;AAAA,QACA,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,QAC5B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,qBAAqB,MAAM,UAAQ;AAAA,YAC1C,QAAQ;AAAA,YACR,gBAAe;AAAA,YACf,SAAS,QAAM,eAAgB,MAAM,UAAU;AAAA;AAAA,QACjD;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,qBAAqB,MAAM,UAAQ;AAAA,YAC1C,QAAQ;AAAA,YACR,gBAAe;AAAA,YACf,SAAS,QAAM,YAAa,MAAM,UAAU;AAAA;AAAA,QAC9C;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,qBAAmB,MAAM,UAAQ;AAAA,YACxC,QAAQ;AAAA,YACR,gBAAe;AAAA,YACf,oBAAoB;AAAA,YACpB,SAAS,QAAM,wBAAyB,MAAM,UAAU;AAAA;AAAA,QAC1D;AAAA;AAAA;AAAA,EACF,GACF;AACF,CAAC;AAED,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"65a9cb0d1a08cfab21a14c1632991e31e3063aa8"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return vr=function(){return l},l}vr();vr().s[0]++;const oae=n=>{vr().f[0]++;const{dragAttributes:e,dragListeners:t}=(vr().s[1]++,n);return vr().s[2]++,Ae.jsxs("div",{className:"maputnik-layer-list-item-handle",...e,...t,children:[Ae.jsx(aF,{className:"layer-handle__icon",type:n.layerType,style:{width:"1em",height:"1em",verticalAlign:"middle"}}),Ae.jsx("button",{className:"maputnik-layer-list-item-id",children:n.layerId})]})};class w5 extends ni.Component{renderIcon(){switch(vr().f[1]++,vr().s[3]++,this.props.action){case"duplicate":return vr().b[0][0]++,vr().s[4]++,Ae.jsx(N$,{});case"show":return vr().b[0][1]++,vr().s[5]++,Ae.jsx(j$,{});case"hide":return vr().b[0][2]++,vr().s[6]++,Ae.jsx(z$,{});case"delete":return vr().b[0][3]++,vr().s[7]++,Ae.jsx(Z1,{})}}render(){vr().f[2]++;const{classBlockName:e,classBlockModifier:t}=(vr().s[8]++,this.props);let i=(vr().s[9]++,"");return vr().s[10]++,e?(vr().b[1][0]++,vr().s[11]++,i=`maputnik-layer-list-icon-action__${e}`,vr().s[12]++,t?(vr().b[2][0]++,vr().s[13]++,i+=` maputnik-layer-list-icon-action__${e}--${t}`):vr().b[2][1]++):vr().b[1][1]++,vr().s[14]++,Ae.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${i}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}const aae=(vr().s[15]++,ni.forwardRef((n,e)=>{vr().f[3]++;const{isSelected:t=(vr().b[3][0]++,!1),visibility:i=(vr().b[4][0]++,"visible"),onLayerCopy:r=(vr().b[5][0]++,()=>{vr().f[4]++}),onLayerDestroy:a=(vr().b[6][0]++,()=>{vr().f[5]++}),onLayerVisibilityToggle:l=(vr().b[7][0]++,()=>{vr().f[6]++})}=(vr().s[16]++,n),{attributes:o,listeners:p,setNodeRef:C,transform:M,transition:O,isDragging:U}=(vr().s[17]++,tae({id:n.layerId})),K=(vr().s[18]++,{transform:z_.Transform.toString(M),transition:O,opacity:U?(vr().b[8][0]++,.5):(vr().b[8][1]++,1)}),j=(vr().s[19]++,i==="visible"?(vr().b[9][0]++,"show"):(vr().b[9][1]++,"hide")),W=(vr().s[20]++,e);return vr().s[21]++,Ae.jsx(Bv.Provider,{value:{size:"14px"},children:Ae.jsxs("li",{ref:Y=>{vr().f[7]++,vr().s[22]++,C(Y),vr().s[23]++,W?(vr().b[10][0]++,vr().s[24]++,W.current=Y):vr().b[10][1]++},style:K,id:n.id,onClick:Y=>(vr().f[8]++,vr().s[25]++,n.onLayerSelect(n.layerIndex)),"data-wd-key":"layer-list-item:"+n.layerId,className:t0({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":t,[n.className]:!0}),children:[Ae.jsx(oae,{layerId:n.layerId,layerType:n.layerType,dragAttributes:o,dragListeners:p}),Ae.jsx("span",{style:{flexGrow:1}}),Ae.jsx(w5,{wdKey:"layer-list-item:"+n.layerId+":delete",action:"delete",classBlockName:"delete",onClick:Y=>(vr().f[9]++,vr().s[26]++,a(n.layerIndex))}),Ae.jsx(w5,{wdKey:"layer-list-item:"+n.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:Y=>(vr().f[10]++,vr().s[27]++,r(n.layerIndex))}),Ae.jsx(w5,{wdKey:"layer-list-item:"+n.layerId+":toggle-visibility",action:j,classBlockName:"visibility",classBlockModifier:j,onClick:Y=>(vr().f[11]++,vr().s[28]++,l(n.layerIndex))})]})})}));function C3(){var n="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",e="522bfc6b8aacbfd03b55d947af2897dc69beb570",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return C3=function(){return l},l}C3();class Fs extends ni.Component{render(){return C3().f[0]++,C3().s[0]++,Ae.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:t0("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}var S5={exports:{}},E5,MT;function sae(){if(MT)return E5;MT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return E5=n,E5}var B5,wT;function lae(){if(wT)return B5;wT=1;var n=sae();function e(){}function t(){}return t.resetWarningCache=e,B5=function(){function i(l,o,p,C,M,O){if(O!==n){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},B5}var ST;function W0(){return ST||(ST=1,S5.exports=lae()()),S5.exports}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Bj=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],_3=Bj.join(","),Oj=typeof Element>"u",$1=Oj?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,b3=!Oj&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},x3=function n(e,t){var i;t===void 0&&(t=!0);var r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),a=r===""||r==="true",l=a||t&&e&&n(e.parentNode);return l},Aae=function(e){var t,i=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return i===""||i==="true"},Ij=function(e,t,i){if(x3(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(_3));return t&&$1.call(e,_3)&&r.unshift(e),r=r.filter(i),r},Tj=function n(e,t,i){for(var r=[],a=Array.from(e);a.length;){var l=a.shift();if(!x3(l,!1))if(l.tagName==="SLOT"){var o=l.assignedElements(),p=o.length?o:l.children,C=n(p,!0,i);i.flatten?r.push.apply(r,C):r.push({scopeParent:l,candidates:C})}else{var M=$1.call(l,_3);M&&i.filter(l)&&(t||!e.includes(l))&&r.push(l);var O=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),U=!x3(O,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(O&&U){var K=n(O===!0?l.children:O.children,!0,i);i.flatten?r.push.apply(r,K):r.push({scopeParent:l,candidates:K})}else a.unshift.apply(a,l.children)}}return r},kj=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bg=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Aae(e))&&!kj(e)?0:e.tabIndex},uae=function(e,t){var i=bg(e);return i<0&&t&&!kj(e)?0:i},cae=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Dj=function(e){return e.tagName==="INPUT"},hae=function(e){return Dj(e)&&e.type==="hidden"},dae=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return t},fae=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},pae=function(e){if(!e.name)return!0;var t=e.form||b3(e),i=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=fae(r,e.form);return!a||a===e},mae=function(e){return Dj(e)&&e.type==="radio"},gae=function(e){return mae(e)&&!pae(e)},yae=function(e){var t,i=e&&b3(e),r=(t=i)===null||t===void 0?void 0:t.host,a=!1;if(i&&i!==e){var l,o,p;for(a=!!((l=r)!==null&&l!==void 0&&(o=l.ownerDocument)!==null&&o!==void 0&&o.contains(r)||e!=null&&(p=e.ownerDocument)!==null&&p!==void 0&&p.contains(e));!a&&r;){var C,M,O;i=b3(r),r=(C=i)===null||C===void 0?void 0:C.host,a=!!((M=r)!==null&&M!==void 0&&(O=M.ownerDocument)!==null&&O!==void 0&&O.contains(r))}}return a},ET=function(e){var t=e.getBoundingClientRect(),i=t.width,r=t.height;return i===0&&r===0},vae=function(e,t){var i=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=$1.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if($1.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var o=e;e;){var p=e.parentElement,C=b3(e);if(p&&!p.shadowRoot&&r(p)===!0)return ET(e);e.assignedSlot?e=e.assignedSlot:!p&&C!==e.ownerDocument?e=C.host:e=p}e=o}if(yae(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return ET(e);return!1},Cae=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var i=0;i<t.children.length;i++){var r=t.children.item(i);if(r.tagName==="LEGEND")return $1.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},M3=function(e,t){return!(t.disabled||x3(t)||hae(t)||vae(t,e)||dae(t)||Cae(t))},gB=function(e,t){return!(gae(t)||bg(t)<0||!M3(e,t))},_ae=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},bae=function n(e){var t=[],i=[];return e.forEach(function(r,a){var l=!!r.scopeParent,o=l?r.scopeParent:r,p=uae(o,l),C=l?n(r.candidates):o;p===0?l?t.push.apply(t,C):t.push(o):i.push({documentOrder:a,tabIndex:p,item:r,isScope:l,content:C})}),i.sort(cae).reduce(function(r,a){return a.isScope?r.push.apply(r,a.content):r.push(a.content),r},[]).concat(t)},Rj=function(e,t){t=t||{};var i;return t.getShadowRoot?i=Tj([e],t.includeContainer,{filter:gB.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:_ae}):i=Ij(e,t.includeContainer,gB.bind(null,t)),bae(i)},Pj=function(e,t){t=t||{};var i;return t.getShadowRoot?i=Tj([e],t.includeContainer,{filter:M3.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):i=Ij(e,t.includeContainer,M3.bind(null,t)),i},M1=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return $1.call(e,_3)===!1?!1:gB(t,e)},xae=Bj.concat("iframe").join(","),Ox=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return $1.call(e,xae)===!1?!1:M3(t,e)};const Mae=Object.freeze(Object.defineProperty({__proto__:null,focusable:Pj,getTabIndex:bg,isFocusable:Ox,isTabbable:M1,tabbable:Rj},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function BT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function OT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(t),!0).forEach(function(i){wae(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wae(n,e,t){return e=Eae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sae(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Eae(n){var e=Sae(n,"string");return typeof e=="symbol"?e:String(e)}var IT={activateTrap:function(e,t){if(e.length>0){var i=e[e.length-1];i!==t&&i.pause()}var r=e.indexOf(t);r===-1||e.splice(r,1),e.push(t)},deactivateTrap:function(e,t){var i=e.indexOf(t);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},Bae=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Oae=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},A_=function(e){return e?.key==="Tab"||e?.keyCode===9},Iae=function(e){return A_(e)&&!e.shiftKey},Tae=function(e){return A_(e)&&e.shiftKey},TT=function(e){return setTimeout(e,0)},kT=function(e,t){var i=-1;return e.every(function(r,a){return t(r)?(i=a,!1):!0}),i},SC=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,i):e},sx=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},kae=[],Dae=function(e,t){var i=t?.document||document,r=t?.trapStack||kae,a=OT({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Iae,isKeyBackward:Tae},t),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,p=function(Ie,Se,Ve){return Ie&&Ie[Se]!==void 0?Ie[Se]:a[Ve||Se]},C=function(Ie,Se){var Ve=typeof Se?.composedPath=="function"?Se.composedPath():void 0;return l.containerGroups.findIndex(function(xe){var ze=xe.container,st=xe.tabbableNodes;return ze.contains(Ie)||Ve?.includes(ze)||st.find(function(Ct){return Ct===Ie})})},M=function(Ie){var Se=a[Ie];if(typeof Se=="function"){for(var Ve=arguments.length,xe=new Array(Ve>1?Ve-1:0),ze=1;ze<Ve;ze++)xe[ze-1]=arguments[ze];Se=Se.apply(void 0,xe)}if(Se===!0&&(Se=void 0),!Se){if(Se===void 0||Se===!1)return Se;throw new Error("`".concat(Ie,"` was specified but was not a node, or did not return a node"))}var st=Se;if(typeof Se=="string"&&(st=i.querySelector(Se),!st))throw new Error("`".concat(Ie,"` as selector refers to no known node"));return st},O=function(){var Ie=M("initialFocus");if(Ie===!1)return!1;if(Ie===void 0||!Ox(Ie,a.tabbableOptions))if(C(i.activeElement)>=0)Ie=i.activeElement;else{var Se=l.tabbableGroups[0],Ve=Se&&Se.firstTabbableNode;Ie=Ve||M("fallbackFocus")}if(!Ie)throw new Error("Your focus-trap needs to have at least one focusable element");return Ie},U=function(){if(l.containerGroups=l.containers.map(function(Ie){var Se=Rj(Ie,a.tabbableOptions),Ve=Pj(Ie,a.tabbableOptions),xe=Se.length>0?Se[0]:void 0,ze=Se.length>0?Se[Se.length-1]:void 0,st=Ve.find(function(be){return M1(be)}),Ct=Ve.slice().reverse().find(function(be){return M1(be)}),nt=!!Se.find(function(be){return bg(be)>0});return{container:Ie,tabbableNodes:Se,focusableNodes:Ve,posTabIndexesFound:nt,firstTabbableNode:xe,lastTabbableNode:ze,firstDomTabbableNode:st,lastDomTabbableNode:Ct,nextTabbableNode:function(Ne){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,lt=Se.indexOf(Ne);return lt<0?tt?Ve.slice(Ve.indexOf(Ne)+1).find(function(kt){return M1(kt)}):Ve.slice(0,Ve.indexOf(Ne)).reverse().find(function(kt){return M1(kt)}):Se[lt+(tt?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(Ie){return Ie.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!M("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(Ie){return Ie.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},K=function we(Ie){var Se=Ie.activeElement;if(Se)return Se.shadowRoot&&Se.shadowRoot.activeElement!==null?we(Se.shadowRoot):Se},j=function we(Ie){if(Ie!==!1&&Ie!==K(document)){if(!Ie||!Ie.focus){we(O());return}Ie.focus({preventScroll:!!a.preventScroll}),l.mostRecentlyFocusedNode=Ie,Bae(Ie)&&Ie.select()}},W=function(Ie){var Se=M("setReturnFocus",Ie);return Se||(Se===!1?!1:Ie)},Y=function(Ie){var Se=Ie.target,Ve=Ie.event,xe=Ie.isBackward,ze=xe===void 0?!1:xe;Se=Se||sx(Ve),U();var st=null;if(l.tabbableGroups.length>0){var Ct=C(Se,Ve),nt=Ct>=0?l.containerGroups[Ct]:void 0;if(Ct<0)ze?st=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:st=l.tabbableGroups[0].firstTabbableNode;else if(ze){var be=kT(l.tabbableGroups,function(St){var Ut=St.firstTabbableNode;return Se===Ut});if(be<0&&(nt.container===Se||Ox(Se,a.tabbableOptions)&&!M1(Se,a.tabbableOptions)&&!nt.nextTabbableNode(Se,!1))&&(be=Ct),be>=0){var Ne=be===0?l.tabbableGroups.length-1:be-1,tt=l.tabbableGroups[Ne];st=bg(Se)>=0?tt.lastTabbableNode:tt.lastDomTabbableNode}else A_(Ve)||(st=nt.nextTabbableNode(Se,!1))}else{var lt=kT(l.tabbableGroups,function(St){var Ut=St.lastTabbableNode;return Se===Ut});if(lt<0&&(nt.container===Se||Ox(Se,a.tabbableOptions)&&!M1(Se,a.tabbableOptions)&&!nt.nextTabbableNode(Se))&&(lt=Ct),lt>=0){var kt=lt===l.tabbableGroups.length-1?0:lt+1,gt=l.tabbableGroups[kt];st=bg(Se)>=0?gt.firstTabbableNode:gt.firstDomTabbableNode}else A_(Ve)||(st=nt.nextTabbableNode(Se))}}else st=M("fallbackFocus");return st},te=function(Ie){var Se=sx(Ie);if(!(C(Se,Ie)>=0)){if(SC(a.clickOutsideDeactivates,Ie)){o.deactivate({returnFocus:a.returnFocusOnDeactivate});return}SC(a.allowOutsideClick,Ie)||Ie.preventDefault()}},J=function(Ie){var Se=sx(Ie),Ve=C(Se,Ie)>=0;if(Ve||Se instanceof Document)Ve&&(l.mostRecentlyFocusedNode=Se);else{Ie.stopImmediatePropagation();var xe,ze=!0;if(l.mostRecentlyFocusedNode)if(bg(l.mostRecentlyFocusedNode)>0){var st=C(l.mostRecentlyFocusedNode),Ct=l.containerGroups[st].tabbableNodes;if(Ct.length>0){var nt=Ct.findIndex(function(be){return be===l.mostRecentlyFocusedNode});nt>=0&&(a.isKeyForward(l.recentNavEvent)?nt+1<Ct.length&&(xe=Ct[nt+1],ze=!1):nt-1>=0&&(xe=Ct[nt-1],ze=!1))}}else l.containerGroups.some(function(be){return be.tabbableNodes.some(function(Ne){return bg(Ne)>0})})||(ze=!1);else ze=!1;ze&&(xe=Y({target:l.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(l.recentNavEvent)})),j(xe||l.mostRecentlyFocusedNode||O())}l.recentNavEvent=void 0},oe=function(Ie){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=Ie;var Ve=Y({event:Ie,isBackward:Se});Ve&&(A_(Ie)&&Ie.preventDefault(),j(Ve))},ne=function(Ie){if(Oae(Ie)&&SC(a.escapeDeactivates,Ie)!==!1){Ie.preventDefault(),o.deactivate();return}(a.isKeyForward(Ie)||a.isKeyBackward(Ie))&&oe(Ie,a.isKeyBackward(Ie))},$=function(Ie){var Se=sx(Ie);C(Se,Ie)>=0||SC(a.clickOutsideDeactivates,Ie)||SC(a.allowOutsideClick,Ie)||(Ie.preventDefault(),Ie.stopImmediatePropagation())},ae=function(){if(l.active)return IT.activateTrap(r,o),l.delayInitialFocusTimer=a.delayInitialFocus?TT(function(){j(O())}):j(O()),i.addEventListener("focusin",J,!0),i.addEventListener("mousedown",te,{capture:!0,passive:!1}),i.addEventListener("touchstart",te,{capture:!0,passive:!1}),i.addEventListener("click",$,{capture:!0,passive:!1}),i.addEventListener("keydown",ne,{capture:!0,passive:!1}),o},G=function(){if(l.active)return i.removeEventListener("focusin",J,!0),i.removeEventListener("mousedown",te,!0),i.removeEventListener("touchstart",te,!0),i.removeEventListener("click",$,!0),i.removeEventListener("keydown",ne,!0),o},ce=function(Ie){var Se=Ie.some(function(Ve){var xe=Array.from(Ve.removedNodes);return xe.some(function(ze){return ze===l.mostRecentlyFocusedNode})});Se&&j(O())},ge=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ce):void 0,ye=function(){ge&&(ge.disconnect(),l.active&&!l.paused&&l.containers.map(function(Ie){ge.observe(Ie,{subtree:!0,childList:!0})}))};return o={get active(){return l.active},get paused(){return l.paused},activate:function(Ie){if(l.active)return this;var Se=p(Ie,"onActivate"),Ve=p(Ie,"onPostActivate"),xe=p(Ie,"checkCanFocusTrap");xe||U(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,Se?.();var ze=function(){xe&&U(),ae(),ye(),Ve?.()};return xe?(xe(l.containers.concat()).then(ze,ze),this):(ze(),this)},deactivate:function(Ie){if(!l.active)return this;var Se=OT({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},Ie);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,G(),l.active=!1,l.paused=!1,ye(),IT.deactivateTrap(r,o);var Ve=p(Se,"onDeactivate"),xe=p(Se,"onPostDeactivate"),ze=p(Se,"checkCanReturnFocus"),st=p(Se,"returnFocus","returnFocusOnDeactivate");Ve?.();var Ct=function(){TT(function(){st&&j(W(l.nodeFocusedBeforeActivation)),xe?.()})};return st&&ze?(ze(W(l.nodeFocusedBeforeActivation)).then(Ct,Ct),this):(Ct(),this)},pause:function(Ie){if(l.paused||!l.active)return this;var Se=p(Ie,"onPause"),Ve=p(Ie,"onPostPause");return l.paused=!0,Se?.(),G(),ye(),Ve?.(),this},unpause:function(Ie){if(!l.paused||!l.active)return this;var Se=p(Ie,"onUnpause"),Ve=p(Ie,"onPostUnpause");return l.paused=!1,Se?.(),U(),ae(),ye(),Ve?.(),this},updateContainerElements:function(Ie){var Se=[].concat(Ie).filter(Boolean);return l.containers=Se.map(function(Ve){return typeof Ve=="string"?i.querySelector(Ve):Ve}),l.active&&U(),ye(),this}},o.updateContainerElements(e),o};const Rae=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Dae},Symbol.toStringTag,{value:"Module"})),Pae=OB(Rae),Kae=OB(Mae);var O5,DT;function Uae(){if(DT)return O5;DT=1;function n(ae){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},n(ae)}function e(ae,G){if(!(ae instanceof G))throw new TypeError("Cannot call a class as a function")}function t(ae,G){for(var ce=0;ce<G.length;ce++){var ge=G[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ae,U(ge.key),ge)}}function i(ae,G,ce){return G&&t(ae.prototype,G),Object.defineProperty(ae,"prototype",{writable:!1}),ae}function r(ae,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(G&&G.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),Object.defineProperty(ae,"prototype",{writable:!1}),G&&a(ae,G)}function a(ae,G){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ge,ye){return ge.__proto__=ye,ge},a(ae,G)}function l(ae){var G=C();return function(){var ge=M(ae),ye;if(G){var we=M(this).constructor;ye=Reflect.construct(ge,arguments,we)}else ye=ge.apply(this,arguments);return o(this,ye)}}function o(ae,G){if(G&&(n(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(ae)}function p(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(ae){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ce){return ce.__proto__||Object.getPrototypeOf(ce)},M(ae)}function O(ae,G,ce){return G=U(G),G in ae?Object.defineProperty(ae,G,{value:ce,enumerable:!0,configurable:!0,writable:!0}):ae[G]=ce,ae}function U(ae){var G=K(ae,"string");return n(G)==="symbol"?G:String(G)}function K(ae,G){if(n(ae)!=="object"||ae===null)return ae;var ce=ae[Symbol.toPrimitive];if(ce!==void 0){var ge=ce.call(ae,G);if(n(ge)!=="object")return ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(ae)}var j=Il(),W=W0(),Y=Pae,te=Y.createFocusTrap,J=Kae,oe=J.isFocusable,ne=function(ae){r(ce,ae);var G=l(ce);function ce(ge){var ye;e(this,ce),ye=G.call(this,ge),O(p(ye),"getNodeForOption",function(Se){var Ve,xe=(Ve=this.internalOptions[Se])!==null&&Ve!==void 0?Ve:this.originalOptions[Se];if(typeof xe=="function"){for(var ze=arguments.length,st=new Array(ze>1?ze-1:0),Ct=1;Ct<ze;Ct++)st[Ct-1]=arguments[Ct];xe=xe.apply(void 0,st)}if(xe===!0&&(xe=void 0),!xe){if(xe===void 0||xe===!1)return xe;throw new Error("`".concat(Se,"` was specified but was not a node, or did not return a node"))}var nt=xe;if(typeof xe=="string"){var be;if(nt=(be=this.getDocument())===null||be===void 0?void 0:be.querySelector(xe),!nt)throw new Error("`".concat(Se,"` as selector refers to no known node"))}return nt}),ye.handleDeactivate=ye.handleDeactivate.bind(p(ye)),ye.handlePostDeactivate=ye.handlePostDeactivate.bind(p(ye)),ye.handleClickOutsideDeactivates=ye.handleClickOutsideDeactivates.bind(p(ye)),ye.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:ye.handleDeactivate,onPostDeactivate:ye.handlePostDeactivate,clickOutsideDeactivates:ye.handleClickOutsideDeactivates},ye.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var we=ge.focusTrapOptions;for(var Ie in we)if(Object.prototype.hasOwnProperty.call(we,Ie)){if(Ie==="returnFocusOnDeactivate"||Ie==="onDeactivate"||Ie==="onPostDeactivate"||Ie==="checkCanReturnFocus"||Ie==="clickOutsideDeactivates"){ye.originalOptions[Ie]=we[Ie];continue}ye.internalOptions[Ie]=we[Ie]}return ye.outsideClick=null,ye.focusTrapElements=ge.containerElements||[],ye.updatePreviousElement(),ye}return i(ce,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var ye=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return ye||(ye===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var ye=this.getDocument();ye&&(this.previouslyFocusedElement=ye.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(ye){var we=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,ye):this.originalOptions.clickOutsideDeactivates;return we&&(this.outsideClick={target:ye.target,allowDeactivation:we}),we}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var ye=this,we=function(){var Se=ye.getReturnFocusNode(),Ve=!!(ye.originalOptions.returnFocusOnDeactivate&&Se!==null&&Se!==void 0&&Se.focus&&(!ye.outsideClick||ye.outsideClick.allowDeactivation&&!oe(ye.outsideClick.target,ye.internalOptions.tabbableOptions))),xe=ye.internalOptions.preventScroll,ze=xe===void 0?!1:xe;Ve&&Se.focus({preventScroll:ze}),ye.originalOptions.onPostDeactivate&&ye.originalOptions.onPostDeactivate.call(null),ye.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(we,we):we()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var ye=this.focusTrapElements.some(Boolean);ye&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(ye){if(this.focusTrap){ye.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var we=!ye.active&&this.props.active,Ie=ye.active&&!this.props.active,Se=!ye.paused&&this.props.paused,Ve=ye.paused&&!this.props.paused;if(we&&(this.updatePreviousElement(),this.focusTrap.activate()),Ie){this.deactivateTrap();return}Se&&this.focusTrap.pause(),Ve&&this.focusTrap.unpause()}else ye.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var ye=this,we=this.props.children?j.Children.only(this.props.children):void 0;if(we){if(we.type&&we.type===j.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var Ie=function(xe){var ze=ye.props.containerElements;we&&(typeof we.ref=="function"?we.ref(xe):we.ref&&(we.ref.current=xe)),ye.focusTrapElements=ze||[xe]},Se=j.cloneElement(we,{ref:Ie});return Se}return null}}]),ce}(j.Component),$=typeof Element>"u"?Function:Element;return ne.propTypes={active:W.bool,paused:W.bool,focusTrapOptions:W.shape({document:W.object,onActivate:W.func,onPostActivate:W.func,checkCanFocusTrap:W.func,onPause:W.func,onPostPause:W.func,onUnpause:W.func,onPostUnpause:W.func,onDeactivate:W.func,onPostDeactivate:W.func,checkCanReturnFocus:W.func,initialFocus:W.oneOfType([W.instanceOf($),W.string,W.bool,W.func]),fallbackFocus:W.oneOfType([W.instanceOf($),W.string,W.func]),escapeDeactivates:W.oneOfType([W.bool,W.func]),clickOutsideDeactivates:W.oneOfType([W.bool,W.func]),returnFocusOnDeactivate:W.bool,setReturnFocus:W.oneOfType([W.instanceOf($),W.string,W.bool,W.func]),allowOutsideClick:W.oneOfType([W.bool,W.func]),preventScroll:W.bool,tabbableOptions:W.shape({displayCheck:W.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:W.oneOfType([W.bool,W.func])}),trapStack:W.array,isKeyForward:W.func,isKeyBackward:W.func}),containerElements:W.arrayOf(W.instanceOf($)),children:W.oneOfType([W.element,W.instanceOf($)])},ne.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:te},O5=ne,O5}var I5={exports:{}},RT;function Lae(){return RT||(RT=1,function(n){(function(e){var t=!1,i,r;function a(){if(typeof i<"u")return i;var O=document.documentElement,U=document.createElement("div");return U.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),O.appendChild(U),i=U.offsetWidth-U.clientWidth,O.removeChild(U),i}function l(){return document.documentElement.scrollHeight>window.innerHeight}function o(O){if(!(typeof document>"u"||t)){var U=document.documentElement;r=window.pageYOffset,l()?U.style.width="calc(100% - "+a()+"px)":U.style.width="100%",U.style.position="fixed",U.style.top=-r+"px",U.style.overflow="hidden",t=!0}}function p(){if(!(typeof document>"u"||!t)){var O=document.documentElement;O.style.width="",O.style.position="",O.style.top="",O.style.overflow="",window.scroll(0,r),t=!1}}function C(){if(t){p();return}o()}var M={on:o,off:p,toggle:C};n.exports=M})()}(I5)),I5.exports}var T5,PT;function Fae(){if(PT)return T5;PT=1;function n(oe){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},n(oe)}function e(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")}function t(oe,ne){for(var $=0;$<ne.length;$++){var ae=ne[$];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(oe,ae.key,ae)}}function i(oe,ne,$){return ne&&t(oe.prototype,ne),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function r(oe,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(ne&&ne.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),Object.defineProperty(oe,"prototype",{writable:!1}),ne&&a(oe,ne)}function a(oe,ne){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,G){return ae.__proto__=G,ae},a(oe,ne)}function l(oe){var ne=C();return function(){var ae=M(oe),G;if(ne){var ce=M(this).constructor;G=Reflect.construct(ae,arguments,ce)}else G=ae.apply(this,arguments);return o(this,G)}}function o(oe,ne){if(ne&&(n(ne)==="object"||typeof ne=="function"))return ne;if(ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(oe)}function p(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(oe){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},M(oe)}function O(oe,ne,$){return ne in oe?Object.defineProperty(oe,ne,{value:$,enumerable:!0,configurable:!0,writable:!0}):oe[ne]=$,oe}var U=Il(),K=I3(),j=Uae(),W=Lae(),Y=function(oe){r($,oe);var ne=l($);function $(ae){var G;if(e(this,$),G=ne.call(this,ae),O(p(G),"getApplicationNode",function(){return G.props.getApplicationNode?G.props.getApplicationNode():G.props.applicationNode}),O(p(G),"checkUnderlayClick",function(ce){G.dialogNode&&G.dialogNode.contains(ce.target)||ce.pageX>ce.target.ownerDocument.documentElement.offsetWidth||ce.pageY>ce.target.ownerDocument.documentElement.offsetHeight||G.exit(ce)}),O(p(G),"checkDocumentKeyDown",function(ce){G.props.escapeExits&&(ce.key==="Escape"||ce.key==="Esc"||ce.keyCode===27)&&G.exit(ce)}),O(p(G),"exit",function(ce){G.props.onExit&&G.props.onExit(ce)}),!ae.titleText&&!ae.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return G}return i($,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var G=this.getApplicationNode();setTimeout(function(){G&&G.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&W.on()}},{key:"componentDidUpdate",value:function(G){G.scrollDisabled&&!this.props.scrollDisabled?W.off():!G.scrollDisabled&&this.props.scrollDisabled&&W.on(),this.props.escapeExits&&!G.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&G.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&W.off();var G=this.getApplicationNode();G&&G.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var G=this;setTimeout(function(){document.addEventListener("keydown",G.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var G=this;setTimeout(function(){document.removeEventListener("keydown",G.checkDocumentKeyDown)})}},{key:"render",value:function(){var G=this.props,ce={};if(G.includeDefaultStyles&&(ce={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},G.underlayColor&&(ce.background=G.underlayColor),G.underlayClickExits&&(ce.cursor="pointer")),G.underlayStyle)for(var ge in G.underlayStyle)G.underlayStyle.hasOwnProperty(ge)&&(ce[ge]=G.underlayStyle[ge]);var ye={className:G.underlayClass,style:ce};G.underlayClickExits&&(ye.onMouseDown=this.checkUnderlayClick);for(var we in this.props.underlayProps)ye[we]=this.props.underlayProps[we];var Ie={};G.includeDefaultStyles&&(Ie={display:"inline-block",height:"100%",verticalAlign:"middle"});var Se={key:"a",style:Ie},Ve={};if(G.includeDefaultStyles&&(Ve={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:G.focusDialog?0:null},G.verticallyCenter&&(Ve.verticalAlign="middle",Ve.top=0)),G.dialogStyle)for(var xe in G.dialogStyle)G.dialogStyle.hasOwnProperty(xe)&&(Ve[xe]=G.dialogStyle[xe]);var ze={key:"b",ref:(function(be){this.dialogNode=be}).bind(this),role:G.alert?"alertdialog":"dialog",id:G.dialogId,className:G.dialogClass,style:Ve};G.titleId?ze["aria-labelledby"]=G.titleId:G.titleText&&(ze["aria-label"]=G.titleText),G.focusDialog&&(ze.tabIndex="-1");for(var st in G)/^(data-|aria-)/.test(st)&&(ze[st]=G[st]);var Ct=[U.createElement("div",ze,G.children)];G.verticallyCenter&&Ct.unshift(U.createElement("div",Se));var nt=G.focusTrapOptions||{};return(G.focusDialog||G.initialFocus)&&(nt.initialFocus=G.focusDialog?"#".concat(this.props.dialogId):G.initialFocus),nt.escapeDeactivates=G.escapeExits,U.createElement(j,{focusTrapOptions:nt,paused:G.focusTrapPaused},U.createElement("div",ye,Ct))}}]),$}(U.Component);O(Y,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function te(oe,ne){if(!window.document)return function(){return null};ne=ne||{};var $=function(ae){r(ce,ae);var G=l(ce);function ce(){var ge;e(this,ce);for(var ye=arguments.length,we=new Array(ye),Ie=0;Ie<ye;Ie++)we[Ie]=arguments[Ie];return ge=G.call.apply(G,[this].concat(we)),O(p(ge),"container",null),ge}return i(ce,[{key:"componentDidMount",value:function(){ne.renderTo?this.container=typeof ne.renderTo=="string"?document.querySelector(ne.renderTo):ne.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){ne.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:K.createPortal(U.createElement(oe,this.props,this.props.children),this.container)}}]),ce}(U.Component);return O($,"defaultProps",{mounted:!0}),$}var J=te(Y);return J.renderTo=function(oe){return te(Y,{renderTo:oe})},T5=J,T5}var zae=Fae();const jae=cu(zae);function ec(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/Modal.tsx",e="b56a3b702e6eec99855202d1cfe05d2ba4d6a2ce",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/Modal.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:12},end:{line:19,column:3}},2:{start:{line:13,column:4},end:{line:15,column:5}},3:{start:{line:14,column:6},end:{line:14,column:36}},4:{start:{line:16,column:4},end:{line:18,column:10}},5:{start:{line:17,column:6},end:{line:17,column:32}},6:{start:{line:21,column:14},end:{line:21,column:26}},7:{start:{line:22,column:4},end:{line:60,column:5}},8:{start:{line:23,column:6},end:{line:57,column:8}},9:{start:{line:59,column:6},end:{line:59,column:19}},10:{start:{line:63,column:14},end:{line:63,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:12},end:{line:12,column:13}},loc:{start:{line:12,column:18},end:{line:19,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:15},end:{line:16,column:16}},loc:{start:{line:16,column:21},end:{line:18,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:61,column:3}},line:20}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:13},1:{loc:{start:{line:22,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:60,column:5}},{start:{line:58,column:11},end:{line:60,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/Modal.tsx"],names:[],mappings:"AA8CU,SACE,KADF;AA9CV,OAAO,WAAuC;AAC9C,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,SAA+B,uBAAuB;AAYtD,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa;AAAA,IAC1B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAC/B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UACb,aAAY;AAAA,UAEZ;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,kBAAiB;AAAA,kBACjC;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAO,EAAE,aAAa;AAAA,sBACtB,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;AAEA,MAAM,QAAQ,gBAAgB,EAAE,aAAa;AAC7C,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b56a3b702e6eec99855202d1cfe05d2ba4d6a2ce"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return ec=function(){return l},l}ec();class Nae extends ni.Component{static defaultProps=(ec().s[0]++,{underlayClickExits:!0});onClose=(ec().s[1]++,()=>{ec().f[0]++,ec().s[2]++,document.activeElement?(ec().b[0][0]++,ec().s[3]++,document.activeElement.blur()):ec().b[0][1]++,ec().s[4]++,setTimeout(()=>{ec().f[1]++,ec().s[5]++,this.props.onOpenToggle()},0)});render(){ec().f[2]++;const e=(ec().s[6]++,this.props.t);return ec().s[7]++,this.props.isOpen?(ec().b[1][0]++,ec().s[8]++,Ae.jsx(jae,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,dialogClass:"maputnik-modal-container",children:Ae.jsxs("div",{className:t0("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[Ae.jsxs("header",{className:"maputnik-modal-header",children:[Ae.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx("button",{className:"maputnik-modal-header-toggle",title:e("Close modal"),onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:Ae.jsx(Z$,{})})]}),Ae.jsx("div",{className:"maputnik-modal-scroller",children:Ae.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(ec().b[1][1]++,ec().s[9]++,!1)}}const Q0=(ec().s[10]++,es()(Nae));function ms(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",e="227136badbf4464e3a73e0852e3bc3d4b9112a08",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:4,column:22},end:{line:33,column:1}},1:{start:{line:5,column:26},end:{line:5,column:47}},2:{start:{line:6,column:22},end:{line:11,column:3}},3:{start:{line:7,column:4},end:{line:7,column:19}},4:{start:{line:8,column:4},end:{line:10,column:5}},5:{start:{line:9,column:6},end:{line:9,column:31}},6:{start:{line:12,column:31},end:{line:12,column:36}},7:{start:{line:13,column:18},end:{line:13,column:33}},8:{start:{line:14,column:2},end:{line:31,column:3}},9:{start:{line:15,column:4},end:{line:28,column:12}},10:{start:{line:23,column:25},end:{line:23,column:43}},11:{start:{line:29,column:9},end:{line:31,column:3}},12:{start:{line:30,column:4},end:{line:30,column:172}},13:{start:{line:32,column:2},end:{line:32,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:22},end:{line:4,column:23}},loc:{start:{line:4,column:33},end:{line:33,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:6,column:22},end:{line:6,column:23}},loc:{start:{line:6,column:33},end:{line:11,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:23,column:19},end:{line:23,column:20}},loc:{start:{line:23,column:25},end:{line:23,column:43}},line:23}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:10,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:10,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:13,column:18},end:{line:13,column:33}},type:"binary-expr",locations:[{start:{line:13,column:18},end:{line:13,column:27}},{start:{line:13,column:31},end:{line:13,column:33}}],line:13},2:{loc:{start:{line:14,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:31,column:3}},{start:{line:29,column:9},end:{line:31,column:3}}],line:14},3:{loc:{start:{line:21,column:24},end:{line:21,column:93}},type:"cond-expr",locations:[{start:{line:21,column:31},end:{line:21,column:61}},{start:{line:21,column:64},end:{line:21,column:93}}],line:21},4:{loc:{start:{line:22,column:65},end:{line:22,column:89}},type:"cond-expr",locations:[{start:{line:22,column:72},end:{line:22,column:78}},{start:{line:22,column:81},end:{line:22,column:89}}],line:22},5:{loc:{start:{line:25,column:20},end:{line:25,column:107}},type:"cond-expr",locations:[{start:{line:25,column:43},end:{line:25,column:66}},{start:{line:25,column:85},end:{line:25,column:107}}],line:25},6:{loc:{start:{line:29,column:9},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AA4BQ,SASY,KATZ;AA5BR,OAAO,WAAyB;AAChC,SAAQ,eAAe,sBAAqB;AAW5C,MAAM,gBAA8C,CAAC,UAAU;AAC7D,QAAM,CAAC,MAAM,OAAO,IAAI,MAAM,SAAS,KAAK;AAE5C,QAAM,cAAc,CAAC,UAAmB;AACtC,YAAQ,KAAK;AACb,QAAI,MAAM,aAAa;AACrB,YAAM,YAAY,KAAK;AAAA,IACzB;AAAA,EACF;AAEA,QAAM,EAAE,OAAO,UAAU,IAAI;AAC7B,QAAM,EAAE,IAAI,IAAI,aAAa,CAAC;AAE9B,MAAI,KAAK;AACP,WACE,oBAAC,WAAM,WAAU,wBACf,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,MACA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,OAAO,iCAAiC;AAAA,UACpD,WAAW,4CAA4C,OAAO,SAAS,QAAQ;AAAA,UAC/E,SAAS,MAAM,YAAY,CAAC,IAAI;AAAA,UAChC,eAAa,sBAAsB;AAAA,UAElC,iBAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,MAC9C;AAAA,OACF,GACF;AAAA,EAEJ,WAAW,OAAO;AAChB,WACE,oBAAC,WAAM,WAAU,wBACf,8BAAC,SAAI,WAAU,uBAAuB,iBAAM,GAC9C;AAAA,EAEJ;AACA,SAAO,oBAAC,SAAI;AACd;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"227136badbf4464e3a73e0852e3bc3d4b9112a08"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return ms=function(){return l},l}ms();ms().s[0]++;const f8=n=>{ms().f[0]++;const[e,t]=(ms().s[1]++,ni.useState(!1));ms().s[2]++;const i=o=>{ms().f[1]++,ms().s[3]++,t(o),ms().s[4]++,n.onToggleDoc?(ms().b[0][0]++,ms().s[5]++,n.onToggleDoc(o)):ms().b[0][1]++},{label:r,fieldSpec:a}=(ms().s[6]++,n),{doc:l}=(ms().s[7]++,ms().b[1][0]++,a||(ms().b[1][1]++,{}));return ms().s[8]++,l?(ms().b[2][0]++,ms().s[9]++,Ae.jsx("label",{className:"maputnik-doc-wrapper",children:Ae.jsxs("div",{className:"maputnik-doc-target",children:[r,"",Ae.jsx("button",{"aria-label":e?(ms().b[3][0]++,"close property documentation"):(ms().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${e?(ms().b[4][0]++,"open"):(ms().b[4][1]++,"closed")}`,onClick:()=>(ms().f[2]++,ms().s[10]++,i(!e)),"data-wd-key":"field-doc-button-"+r,children:e?(ms().b[5][0]++,Ae.jsx(P$,{})):(ms().b[5][1]++,Ae.jsx(K$,{}))})]})})):(ms().b[2][1]++,ms().s[11]++,r?(ms().b[6][0]++,ms().s[12]++,Ae.jsx("label",{className:"maputnik-doc-wrapper",children:Ae.jsx("div",{className:"maputnik-doc-target",children:r})})):(ms().b[6][1]++,ms().s[13]++,Ae.jsx("div",{})))};function pa(){var n="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",e="472d654e2d37dceaa27dedf73e7bd1229233651a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:7,column:1}},1:{start:{line:10,column:26},end:{line:10,column:36}},2:{start:{line:11,column:52},end:{line:11,column:61}},3:{start:{line:12,column:23},end:{line:12,column:47}},4:{start:{line:13,column:25},end:{line:15,column:26}},5:{start:{line:16,column:28},end:{line:22,column:5}},6:{start:{line:17,column:27},end:{line:17,column:46}},7:{start:{line:18,column:6},end:{line:20,column:7}},8:{start:{line:19,column:8},end:{line:19,column:148}},9:{start:{line:21,column:6},end:{line:21,column:19}},10:{start:{line:23,column:4},end:{line:54,column:9}},11:{start:{line:27,column:10},end:{line:30,column:20}},12:{start:{line:37,column:12},end:{line:37,column:75}},13:{start:{line:41,column:10},end:{line:50,column:20}},14:{start:{line:44,column:14},end:{line:48,column:15}},15:{start:{line:45,column:16},end:{line:45,column:98}},16:{start:{line:47,column:16},end:{line:47,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:55,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:16,column:28},end:{line:16,column:29}},loc:{start:{line:16,column:39},end:{line:22,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:26,column:119},end:{line:26,column:120}},loc:{start:{line:26,column:137},end:{line:31,column:9}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:36,column:37},end:{line:36,column:38}},loc:{start:{line:36,column:49},end:{line:38,column:11}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:40,column:80},end:{line:40,column:81}},loc:{start:{line:40,column:103},end:{line:51,column:9}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:37},end:{line:43,column:38}},loc:{start:{line:43,column:44},end:{line:49,column:13}},line:43}},branchMap:{0:{loc:{start:{line:13,column:25},end:{line:15,column:26}},type:"binary-expr",locations:[{start:{line:13,column:25},end:{line:13,column:33}},{start:{line:15,column:4},end:{line:15,column:26}}],line:13},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:24,column:6},end:{line:32,column:10}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:9}},{start:{line:24,column:29},end:{line:32,column:10}}],line:24},3:{loc:{start:{line:26,column:8},end:{line:31,column:13}},type:"binary-expr",locations:[{start:{line:26,column:8},end:{line:26,column:20}},{start:{line:26,column:40},end:{line:31,column:13}}],line:26},4:{loc:{start:{line:33,column:6},end:{line:52,column:13}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:16}},{start:{line:33,column:36},end:{line:52,column:13}}],line:33},5:{loc:{start:{line:44,column:14},end:{line:48,column:15}},type:"if",locations:[{start:{line:44,column:14},end:{line:48,column:15}},{start:{line:46,column:21},end:{line:48,column:15}}],line:44},6:{loc:{start:{line:53,column:6},end:{line:53,column:215}},type:"binary-expr",locations:[{start:{line:53,column:6},end:{line:53,column:12}},{start:{line:53,column:16},end:{line:53,column:30}},{start:{line:53,column:50},end:{line:53,column:215}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAyCe,SAMT,UANS,KAcK,YAdL;AAzCf,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AACP;AAkBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,QAAQ,QAAQ,eAAc,IAAI;AAC9C,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,UAAM,kBAAkB,CAAC,UAAkB;AACzC,YAAM,eAAe,MAAM,YAAY;AACvC,UAAI,aAAa,WAAW,UAAU,GAAG;AACvC,eAAO,oBAAC,OAAE,MAAM,cAAc,QAAO,UAAS,KAAI,cAAc,gBAAM,aAAa,MAAM,GAAG,EAAE,IAAI,GAAE;AAAA,MACtG;AACA,aAAO;AAAA,IACT;AAEA,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,0BAAgB,WAAW,CAAyB,CAAC,KAAzD,CAA2D;AAAA,cAC7E,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,MAED,UAAU,kBACT,oBAAC,SAAI,WAAU,uBACb,8BAAC,OAAE,MAAM,QAAS,QAAO,UAAS,KAAI,cAAc,0BAAe,GACrE;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"472d654e2d37dceaa27dedf73e7bd1229233651a"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return pa=function(){return l},l}pa();const KT=(pa().s[0]++,{js:"JS",android:"Android",ios:"iOS"});class T2 extends ni.Component{render(){pa().f[0]++;const{fieldSpec:e}=(pa().s[1]++,this.props),{doc:t,values:i,docUrl:r,docUrlLinkText:a}=(pa().s[2]++,e),l=(pa().s[3]++,e["sdk-support"]),o=(pa().s[4]++,pa().b[0][0]++,!!i&&(pa().b[0][1]++,!Array.isArray(i)));pa().s[5]++;const p=C=>{pa().f[1]++;const M=(pa().s[6]++,C.toLowerCase());return pa().s[7]++,M.startsWith("https://")?(pa().b[1][0]++,pa().s[8]++,Ae.jsx("a",{href:M,target:"_blank",rel:"noreferrer",children:"#"+M.split("/").pop()})):(pa().b[1][1]++,pa().s[9]++,C)};return pa().s[10]++,Ae.jsxs(Ae.Fragment,{children:[(pa().b[2][0]++,t&&(pa().b[2][1]++,Ae.jsxs("div",{className:"SpecDoc",children:[Ae.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:t}),(pa().b[3][0]++,o&&(pa().b[3][1]++,Ae.jsx("ul",{className:"SpecDoc__values",children:Object.entries(i).map(([C,M])=>(pa().f[2]++,pa().s[11]++,Ae.jsxs("li",{children:[Ae.jsx("code",{children:JSON.stringify(C)}),Ae.jsx("div",{children:M.doc})]},C)))})))]}))),(pa().b[4][0]++,l&&(pa().b[4][1]++,Ae.jsx("div",{className:"SpecDoc__sdk-support",children:Ae.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[Ae.jsx("thead",{children:Ae.jsxs("tr",{children:[Ae.jsx("th",{}),Object.values(KT).map(C=>(pa().f[3]++,pa().s[12]++,Ae.jsx("th",{children:C},C)))]})}),Ae.jsx("tbody",{children:Object.entries(l).map(([C,M])=>(pa().f[4]++,pa().s[13]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:C}),Object.keys(KT).map(O=>(pa().f[5]++,pa().s[14]++,Object.prototype.hasOwnProperty.call(M,O)?(pa().b[5][0]++,pa().s[15]++,Ae.jsx("td",{children:p(M[O])},O)):(pa().b[5][1]++,pa().s[16]++,Ae.jsx("td",{children:"no"},O))))]},C)))})]})}))),(pa().b[6][0]++,r&&(pa().b[6][1]++,a)&&(pa().b[6][2]++,Ae.jsx("div",{className:"SpecDoc__learn-more",children:Ae.jsx("a",{href:r,target:"_blank",rel:"noreferrer",children:a})})))]})}}function zo(){var n="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",e="ddb687d19b77c1726746c1eecb8e7c7a69772621",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:40,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:39,column:5}},14:{start:{line:38,column:6},end:{line:38,column:29}},15:{start:{line:42,column:4},end:{line:77,column:6}},16:{start:{line:65,column:12},end:{line:65,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:40,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:78,column:3}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:64,column:87},end:{line:64,column:88}},loc:{start:{line:64,column:95},end:{line:66,column:11}},line:64}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},5:{loc:{start:{line:54,column:10},end:{line:61,column:14}},type:"binary-expr",locations:[{start:{line:54,column:10},end:{line:54,column:30}},{start:{line:54,column:50},end:{line:61,column:14}}],line:54},6:{loc:{start:{line:62,column:10},end:{line:62,column:134}},type:"binary-expr",locations:[{start:{line:62,column:10},end:{line:62,column:31}},{start:{line:62,column:51},end:{line:62,column:134}}],line:62},7:{loc:{start:{line:67,column:10},end:{line:74,column:11}},type:"binary-expr",locations:[{start:{line:67,column:10},end:{line:67,column:30}},{start:{line:67,column:50},end:{line:74,column:11}}],line:67},8:{loc:{start:{line:71,column:32},end:{line:71,column:64}},type:"cond-expr",locations:[{start:{line:71,column:53},end:{line:71,column:55}},{start:{line:71,column:58},end:{line:71,column:64}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AA+DW,SAWD,KAXC;AA/DX,OAAO,WAA0D;AACjE,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAkBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,QAAI,MAAM,YAAY,OAAO,aAAa,KAAK;AAC7C,YAAM,eAAe;AAAA,IACvB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM;AAAC,iBAAK,WAAW;AAAA,UAAG,GAC1E,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ddb687d19b77c1726746c1eecb8e7c7a69772621"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return zo=function(){return l},l}zo();class Ls extends ni.Component{_blockEl=(zo().s[0]++,null);constructor(e){zo().f[0]++,zo().s[1]++,super(e),zo().s[2]++,this.state={showDoc:!1}}onChange(e){zo().f[1]++;const t=(zo().s[3]++,e.target.value);if(zo().s[4]++,this.props.onChange)return zo().b[0][0]++,zo().s[5]++,this.props.onChange(t===""?(zo().b[1][0]++,void 0):(zo().b[1][1]++,t));zo().b[0][1]++}onToggleDoc=(zo().s[6]++,e=>{zo().f[2]++,zo().s[7]++,this.setState({showDoc:e})});onLabelClick=(zo().s[8]++,e=>{zo().f[3]++;const t=(zo().s[9]++,e.nativeEvent.target),i=(zo().s[10]++,this._blockEl?.contains(t));zo().s[11]++,zo().b[3][0]++,e.nativeEvent.target.nodeName!=="INPUT"&&(zo().b[3][1]++,!i)?(zo().b[2][0]++,zo().s[12]++,e.stopPropagation()):zo().b[2][1]++,zo().s[13]++,e.nativeEvent.target.nodeName!=="A"?(zo().b[4][0]++,zo().s[14]++,e.preventDefault()):zo().b[4][1]++});render(){return zo().f[4]++,zo().s[15]++,Ae.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:t0({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(zo().b[5][0]++,this.props.fieldSpec&&(zo().b[5][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:Ae.jsx(f8,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(zo().b[6][0]++,!this.props.fieldSpec&&(zo().b[6][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),Ae.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),Ae.jsx("div",{className:"maputnik-input-block-content",ref:e=>{zo().f[5]++,zo().s[16]++,this._blockEl=e},children:this.props.children}),(zo().b[7][0]++,this.props.fieldSpec&&(zo().b[7][1]++,Ae.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(zo().b[8][0]++,""):(zo().b[8][1]++,"none")},children:Ae.jsx(T2,{fieldSpec:this.props.fieldSpec})})))]})}}function fh(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",e="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return fh=function(){return l},l}fh();class iy extends ni.Component{render(){fh().f[0]++;let e=(fh().s[0]++,this.props.options);return fh().s[1]++,fh().b[1][0]++,e.length>0&&(fh().b[1][1]++,!Array.isArray(e[0]))?(fh().b[0][0]++,fh().s[2]++,e=e.map(t=>(fh().f[1]++,fh().s[3]++,[t,t]))):fh().b[0][1]++,fh().s[4]++,Ae.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:t=>(fh().f[2]++,fh().s[5]++,this.props.onChange(t.target.value)),"aria-label":this.props["aria-label"],children:e.map(([t,i])=>(fh().f[3]++,fh().s[6]++,Ae.jsx("option",{value:t,children:i},t)))})}}function Fr(){var n="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",e="ffe977722e3215b5f6718c464b93680839810a41",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:70,column:7}},14:{start:{line:51,column:8},end:{line:56,column:11}},15:{start:{line:55,column:10},end:{line:55,column:71}},16:{start:{line:55,column:34},end:{line:55,column:71}},17:{start:{line:59,column:8},end:{line:62,column:9}},18:{start:{line:60,column:10},end:{line:60,column:44}},19:{start:{line:61,column:10},end:{line:61,column:73}},20:{start:{line:61,column:35},end:{line:61,column:73}},21:{start:{line:65,column:8},end:{line:67,column:9}},22:{start:{line:66,column:10},end:{line:66,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:71,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:57,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:56,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:58,column:14},end:{line:58,column:15}},loc:{start:{line:58,column:20},end:{line:63,column:7}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:64,column:17},end:{line:64,column:18}},loc:{start:{line:64,column:24},end:{line:68,column:7}},line:64}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:55,column:71}},type:"if",locations:[{start:{line:55,column:10},end:{line:55,column:71}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:59,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},8:{loc:{start:{line:61,column:10},end:{line:61,column:73}},type:"if",locations:[{start:{line:61,column:10},end:{line:61,column:73}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},9:{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},10:{loc:{start:{line:65,column:12},end:{line:65,column:51}},type:"binary-expr",locations:[{start:{line:65,column:12},end:{line:65,column:28}},{start:{line:65,column:32},end:{line:65,column:51}}],line:65}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ffe977722e3215b5f6718c464b93680839810a41"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Fr=function(){return l},l}Fr();class sm extends ni.Component{static defaultProps=(Fr().s[0]++,{onInput:()=>{Fr().f[0]++}});constructor(e){Fr().f[1]++,Fr().s[1]++,super(e),Fr().s[2]++,this.state={editing:!1,value:(Fr().b[0][0]++,e.value||(Fr().b[0][1]++,""))}}static getDerivedStateFromProps(e,t){if(Fr().f[2]++,Fr().s[3]++,t.editing)Fr().b[1][1]++;else return Fr().b[1][0]++,Fr().s[4]++,{value:e.value};return Fr().s[5]++,{}}render(){Fr().f[3]++;let e,t;return Fr().s[6]++,this.props.multi?(Fr().b[2][0]++,Fr().s[7]++,e="textarea",Fr().s[8]++,t=["maputnik-string","maputnik-string--multi"]):(Fr().b[2][1]++,Fr().s[9]++,e="input",Fr().s[10]++,t=["maputnik-string"]),Fr().s[11]++,this.props.disabled?(Fr().b[3][0]++,Fr().s[12]++,t.push("maputnik-string--disabled")):Fr().b[3][1]++,Fr().s[13]++,ni.createElement(e,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(Fr().b[4][0]++,this.props.spellCheck):(Fr().b[4][1]++,e!=="input"),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,value:this.state.value===void 0?(Fr().b[5][0]++,""):(Fr().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:i=>{Fr().f[4]++,Fr().s[14]++,this.setState({editing:!0,value:i.target.value},()=>{Fr().f[5]++,Fr().s[15]++,this.props.onInput?(Fr().b[6][0]++,Fr().s[16]++,this.props.onInput(this.state.value)):Fr().b[6][1]++})},onBlur:()=>{Fr().f[6]++,Fr().s[17]++,this.state.value!==this.props.value?(Fr().b[7][0]++,Fr().s[18]++,this.setState({editing:!1}),Fr().s[19]++,this.props.onChange?(Fr().b[8][0]++,Fr().s[20]++,this.props.onChange(this.state.value)):Fr().b[8][1]++):Fr().b[7][1]++},onKeyDown:i=>{Fr().f[7]++,Fr().s[21]++,Fr().b[10][0]++,i.keyCode===13&&(Fr().b[10][1]++,this.props.onChange)?(Fr().b[9][0]++,Fr().s[22]++,this.props.onChange(this.state.value)):Fr().b[9][1]++},required:this.props.required})}}function Fh(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",e="599a12b14a1057b6bb554b629d0d81238d4af16c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:26},end:{line:38,column:1}},1:{start:{line:16,column:22},end:{line:16,column:110}},2:{start:{line:16,column:73},end:{line:16,column:109}},3:{start:{line:17,column:2},end:{line:37,column:4}},4:{start:{line:39,column:18},end:{line:39,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:26},end:{line:8,column:27}},loc:{start:{line:15,column:6},end:{line:38,column:1}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:16,column:66},end:{line:16,column:67}},loc:{start:{line:16,column:73},end:{line:16,column:109}},line:16}},branchMap:{0:{loc:{start:{line:14,column:2},end:{line:14,column:18}},type:"default-arg",locations:[{start:{line:14,column:13},end:{line:14,column:18}}],line:14},1:{loc:{start:{line:16,column:34},end:{line:16,column:60}},type:"binary-expr",locations:[{start:{line:16,column:34},end:{line:16,column:54}},{start:{line:16,column:58},end:{line:16,column:60}}],line:16},2:{loc:{start:{line:25,column:8},end:{line:25,column:79}},type:"binary-expr",locations:[{start:{line:25,column:8},end:{line:25,column:16}},{start:{line:25,column:36},end:{line:25,column:79}}],line:25},3:{loc:{start:{line:26,column:8},end:{line:34,column:9}},type:"binary-expr",locations:[{start:{line:26,column:8},end:{line:26,column:17}},{start:{line:26,column:37},end:{line:34,column:9}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AA0BI,SAKI,KALJ;AAzBJ,SAAQ,UAAS;AACjB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AACtD,SAAS,iBAAiB;AAU1B,MAAM,oBAAsD,CAAC;AAAA,EAC3D;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,WAAW;AACb,MAAM;AACJ,QAAM,cAAkC,OAAO,KAAK,GAAG,MAAM,KAAK,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,UAAU,EAAE,QAAQ,MAAM,GAAG,CAAC,CAAC,CAAC;AAC7H,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAO,EAAE,MAAM;AAAA,MAAG,WAAW,GAAG,MAAM;AAAA,MAC3C,eAAa;AAAA,MACb;AAAA,MAEC;AAAA,oBACC,oBAAC,eAAY,OAAc,UAAU,MAAM;AAAA,QAE5C,CAAC,YACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS;AAAA,YACT;AAAA,YACA;AAAA,YACA,eAAa,QAAQ;AAAA;AAAA,QACvB;AAAA;AAAA;AAAA,EAEJ;AAEJ;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"599a12b14a1057b6bb554b629d0d81238d4af16c"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Fh=function(){return l},l}Fh();Fh().s[0]++;const Gae=({t:n,value:e,wdKey:t,onChange:i,error:r,disabled:a=(Fh().b[0][0]++,!1)})=>{Fh().f[0]++;const l=(Fh().s[1]++,Object.keys((Fh().b[1][0]++,wf.layer.type.values||(Fh().b[1][1]++,{}))).map(o=>(Fh().f[1]++,Fh().s[2]++,[o,nb.startCase(o.replace(/-/g," "))])));return Fh().s[3]++,Ae.jsxs(Ls,{label:n("Type"),fieldSpec:wf.layer.type,"data-wd-key":t,error:r,children:[(Fh().b[2][0]++,a&&(Fh().b[2][1]++,Ae.jsx(sm,{value:e,disabled:!0}))),(Fh().b[3][0]++,!a&&(Fh().b[3][1]++,Ae.jsx(iy,{options:l,onChange:i,value:e,"data-wd-key":t+".select"})))]})},Kj=(Fh().s[4]++,es()(Gae));function N_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",e="faa51332e301a2db02ecf3d9679788ae744c6d26",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:5,column:16},end:{line:23,column:1}},1:{start:{line:6,column:2},end:{line:22,column:4}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:16},end:{line:5,column:17}},loc:{start:{line:5,column:27},end:{line:23,column:1}},line:5}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAkBM;AAjBN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,MAAM,UAAkC,CAAC,UAAU;AACjD,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAM;AAAA,MAAK,WAAW,OAAO,MAAM;AAAA,MACxC,eAAa,MAAM;AAAA,MACnB,OAAO,MAAM;AAAA,MAEb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,MAAM;AAAA,UACb,SAAS,MAAM;AAAA,UACf,eAAa,MAAM,QAAQ;AAAA;AAAA,MAC7B;AAAA;AAAA,EACF;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"faa51332e301a2db02ecf3d9679788ae744c6d26"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return N_=function(){return l},l}N_();N_().s[0]++;const Uj=n=>(N_().f[0]++,N_().s[1]++,Ae.jsx(Ls,{label:"ID",fieldSpec:$o.layer.id,"data-wd-key":n.wdKey,error:n.error,children:Ae.jsx(sm,{value:n.value,onInput:n.onChange,"data-wd-key":n.wdKey+".input"})}));function lx(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function jA(){return jA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jA.apply(null,arguments)}var Wae=W0();const $r=cu(Wae);var k5={exports:{}},Ys={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function Qae(){if(UT)return Ys;UT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),o=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function W(Y){if(typeof Y=="object"&&Y!==null){var te=Y.$$typeof;switch(te){case n:switch(Y=Y.type,Y){case t:case r:case i:case C:case M:return Y;default:switch(Y=Y&&Y.$$typeof,Y){case o:case l:case p:case U:case O:case a:return Y;default:return te}}case e:return te}}}return Ys.ContextConsumer=l,Ys.ContextProvider=a,Ys.Element=n,Ys.ForwardRef=p,Ys.Fragment=t,Ys.Lazy=U,Ys.Memo=O,Ys.Portal=e,Ys.Profiler=r,Ys.StrictMode=i,Ys.Suspense=C,Ys.SuspenseList=M,Ys.isAsyncMode=function(){return!1},Ys.isConcurrentMode=function(){return!1},Ys.isContextConsumer=function(Y){return W(Y)===l},Ys.isContextProvider=function(Y){return W(Y)===a},Ys.isElement=function(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n},Ys.isForwardRef=function(Y){return W(Y)===p},Ys.isFragment=function(Y){return W(Y)===t},Ys.isLazy=function(Y){return W(Y)===U},Ys.isMemo=function(Y){return W(Y)===O},Ys.isPortal=function(Y){return W(Y)===e},Ys.isProfiler=function(Y){return W(Y)===r},Ys.isStrictMode=function(Y){return W(Y)===i},Ys.isSuspense=function(Y){return W(Y)===C},Ys.isSuspenseList=function(Y){return W(Y)===M},Ys.isValidElementType=function(Y){return typeof Y=="string"||typeof Y=="function"||Y===t||Y===r||Y===i||Y===C||Y===M||Y===K||typeof Y=="object"&&Y!==null&&(Y.$$typeof===U||Y.$$typeof===O||Y.$$typeof===a||Y.$$typeof===l||Y.$$typeof===p||Y.$$typeof===j||Y.getModuleId!==void 0)},Ys.typeOf=W,Ys}var LT;function Yae(){return LT||(LT=1,k5.exports=Qae()),k5.exports}Yae();const FT=n=>typeof n=="object"&&n!=null&&n.nodeType===1,zT=(n,e)=>(!e||n!=="hidden")&&n!=="visible"&&n!=="clip",Ax=(n,e)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){const t=getComputedStyle(n,null);return zT(t.overflowY,e)||zT(t.overflowX,e)||(i=>{const r=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(n)}return!1},ux=(n,e,t,i,r,a,l,o)=>a<n&&l>e||a>n&&l<e?0:a<=n&&o<=t||l>=e&&o>=t?a-n-i:l>e&&o<t||a<n&&o>t?l-e+r:0,qae=n=>{const e=n.parentElement;return e??(n.getRootNode().host||null)},Hae=(n,e)=>{var t,i,r,a;if(typeof document>"u")return[];const{inline:l,boundary:o,skipOverflowHiddenElements:p}=e,C=typeof o=="function"?o:Se=>Se!==o;if(!FT(n))throw new TypeError("Invalid target");const M=document.scrollingElement||document.documentElement,O=[];let U=n;for(;FT(U)&&C(U);){if(U=qae(U),U===M){O.push(U);break}U!=null&&U===document.body&&Ax(U)&&!Ax(document.documentElement)||U!=null&&Ax(U,p)&&O.push(U)}const K=(i=(t=window.visualViewport)==null?void 0:t.width)!=null?i:innerWidth,j=(a=(r=window.visualViewport)==null?void 0:r.height)!=null?a:innerHeight,{scrollX:W,scrollY:Y}=window,{height:te,width:J,top:oe,right:ne,bottom:$,left:ae}=n.getBoundingClientRect(),{top:G,right:ce,left:ge}=(Se=>{const Ve=window.getComputedStyle(Se);return{top:parseFloat(Ve.scrollMarginTop)||0,right:parseFloat(Ve.scrollMarginRight)||0,bottom:parseFloat(Ve.scrollMarginBottom)||0,left:parseFloat(Ve.scrollMarginLeft)||0}})(n);let ye=oe-G,we=l==="center"?ae+J/2-ge+ce:l==="end"?ne+ce:ae-ge;const Ie=[];for(let Se=0;Se<O.length;Se++){const Ve=O[Se],{height:xe,width:ze,top:st,right:Ct,bottom:nt,left:be}=Ve.getBoundingClientRect();if(oe>=0&&ae>=0&&$<=j&&ne<=K&&(Ve===M&&!Ax(Ve)||oe>=st&&$<=nt&&ae>=be&&ne<=Ct))return Ie;const Ne=getComputedStyle(Ve),tt=parseInt(Ne.borderLeftWidth,10),lt=parseInt(Ne.borderTopWidth,10),kt=parseInt(Ne.borderRightWidth,10),gt=parseInt(Ne.borderBottomWidth,10);let St=0,Ut=0;const Fe="offsetWidth"in Ve?Ve.offsetWidth-Ve.clientWidth-tt-kt:0,Ke="offsetHeight"in Ve?Ve.offsetHeight-Ve.clientHeight-lt-gt:0,Re="offsetWidth"in Ve?Ve.offsetWidth===0?0:ze/Ve.offsetWidth:0,He="offsetHeight"in Ve?Ve.offsetHeight===0?0:xe/Ve.offsetHeight:0;if(M===Ve)St=ux(Y,Y+j,j,lt,gt,Y+ye,Y+ye+te,te),Ut=l==="start"?we:l==="center"?we-K/2:l==="end"?we-K:ux(W,W+K,K,tt,kt,W+we,W+we+J,J),St=Math.max(0,St+Y),Ut=Math.max(0,Ut+W);else{St=ux(st,nt,xe,lt,gt+Ke,ye,ye+te,te),Ut=l==="start"?we-be-tt:l==="center"?we-(be+ze/2)+Fe/2:l==="end"?we-Ct+kt+Fe:ux(be,Ct,ze,tt,kt+Fe,we,we+J,J);const{scrollLeft:bt,scrollTop:_t}=Ve;St=He===0?0:Math.max(0,Math.min(_t+St/He,Ve.scrollHeight-xe/He+Ke)),Ut=Re===0?0:Math.max(0,Math.min(bt+Ut/Re,Ve.scrollWidth-ze/Re+Fe)),ye+=_t-St,we+=bt-Ut}Ie.push({el:Ve,top:St,left:Ut})}return Ie};var jv=function(){return jv=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},jv.apply(this,arguments)};var Vae=0;function Lj(){}function $ae(n,e){if(n){var t=Hae(n,{boundary:e});t.forEach(function(i){var r=i.el,a=i.top,l=i.left;r.scrollTop=a,r.scrollLeft=l})}}function jT(n,e,t){var i=n===e||e instanceof t.Node&&n.contains&&n.contains(e);return i}function Fj(n,e){var t;function i(){t&&clearTimeout(t)}function r(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];i(),t=setTimeout(function(){t=null,n.apply(void 0,l)},e)}return r.cancel=i,r}function E0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return e.some(function(o){return o&&o.apply(void 0,[i].concat(a)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function cx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){e.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Zae(){return String(Vae++)}function yB(n,e){return!n||!e?n:Object.keys(n).reduce(function(t,i){return t[i]=zj(e,i)?e[i]:n[i],t},{})}function zj(n,e){return n[e]!==void 0}function Xae(n){var e=n.key,t=n.keyCode;return t>=37&&t<=40&&e.indexOf("Arrow")!==0?"Arrow"+e:e}function hx(n,e,t,i,r){var a=t.length;if(a===0)return-1;var l=a-1;(typeof n!="number"||n<0||n>l)&&(n=e>0?-1:l+1);var o=n+e;o<0?o=l:o>l&&(o=0);var p=w3(o,e<0,t,i,r);return p===-1?n>=a?-1:n:p}function w3(n,e,t,i,r){r===void 0&&(r=!1);var a=t.length;if(e){for(var l=n;l>=0;l--)if(!i(t[l],l))return l}else for(var o=n;o<a;o++)if(!i(t[o],o))return o;return r?w3(e?a-1:0,e,t,i):-1}function NT(n,e,t,i){return i===void 0&&(i=!0),t&&e.some(function(r){return r&&(jT(r,n,t)||i&&jT(r,t.document.activeElement,t))})}var Jae=Fj(function(n){jj(n).textContent=""},500);function jj(n){var e=n.getElementById("a11y-status-message");return e||(e=n.createElement("div"),e.setAttribute("id","a11y-status-message"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-relevant","additions text"),Object.assign(e.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),n.body.appendChild(e),e)}function ese(n,e){if(!(!n||!e)){var t=jj(e);t.textContent=n,Jae(e)}}function tse(n){var e=n?.getElementById("a11y-status-message");e&&e.remove()}var Nj={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function nse(n,e,t){var i=n.props,r=n.type,a={};Object.keys(e).forEach(function(l){ise(l,n,e,t),t[l]!==e[l]&&(a[l]=t[l])}),i.onStateChange&&Object.keys(a).length&&i.onStateChange(jA({type:r},a))}function ise(n,e,t,i){var r=e.props,a=e.type,l="on"+p8(n)+"Change";r[l]&&i[n]!==void 0&&i[n]!==t[n]&&r[l](jA({type:a},i))}function rse(n,e){return e.changes}var GT=Fj(function(n,e){ese(n,e)},200),ose=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Nt.useLayoutEffect:Nt.useEffect,ase="useId"in ni?function(e){var t=e.id,i=e.labelId,r=e.menuId,a=e.getItemId,l=e.toggleButtonId,o=e.inputId,p="downshift-"+ni.useId();t||(t=p);var C=Nt.useRef({labelId:i||t+"-label",menuId:r||t+"-menu",getItemId:a||function(M){return t+"-item-"+M},toggleButtonId:l||t+"-toggle-button",inputId:o||t+"-input"});return C.current}:function(e){var t=e.id,i=t===void 0?"downshift-"+Zae():t,r=e.labelId,a=e.menuId,l=e.getItemId,o=e.toggleButtonId,p=e.inputId,C=Nt.useRef({labelId:r||i+"-label",menuId:a||i+"-menu",getItemId:l||function(M){return i+"-item-"+M},toggleButtonId:o||i+"-toggle-button",inputId:p||i+"-input"});return C.current};function sse(n,e,t,i){var r,a;if(n===void 0){if(e===void 0)throw new Error(i);r=t[e],a=e}else a=e===void 0?t.indexOf(n):e,r=n;return[r,a]}function p8(n){return""+n.slice(0,1).toUpperCase()+n.slice(1)}function Gj(n){var e=Nt.useRef(n);return e.current=n,e}function lse(n,e,t,i){var r=Nt.useRef(),a=Nt.useRef(),l=Nt.useCallback(function(K,j){a.current=j,K=yB(K,j.props);var W=n(K,j),Y=j.props.stateReducer(K,jA({},j,{changes:W}));return Y},[n]),o=Nt.useReducer(l,e,t),p=o[0],C=o[1],M=Gj(e),O=Nt.useCallback(function(K){return C(jA({props:M.current},K))},[M]),U=a.current;return Nt.useEffect(function(){var K=yB(r.current,U?.props),j=U&&r.current&&!i(K,p);j&&nse(U,K,p),r.current=p},[p,U,i]),[p,O]}var u_={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:rse,scrollIntoView:$ae,environment:typeof window>"u"?void 0:window};function zg(n,e,t){t===void 0&&(t=Nj);var i=n["default"+p8(e)];return i!==void 0?i:t[e]}function c_(n,e,t){t===void 0&&(t=Nj);var i=n[e];if(i!==void 0)return i;var r=n["initial"+p8(e)];return r!==void 0?r:zg(n,e,t)}function Ase(n){var e=c_(n,"selectedItem"),t=c_(n,"isOpen"),i=pse(n),r=c_(n,"inputValue");return{highlightedIndex:i<0&&e&&t?n.items.findIndex(function(a){return n.itemToKey(a)===n.itemToKey(e)}):i,isOpen:t,selectedItem:e,inputValue:r}}function h_(n,e,t){var i=n.items,r=n.initialHighlightedIndex,a=n.defaultHighlightedIndex,l=n.isItemDisabled,o=n.itemToKey,p=e.selectedItem,C=e.highlightedIndex;return i.length===0?-1:r!==void 0&&C===r&&!l(i[r],r)?r:a!==void 0&&!l(i[a],a)?a:p?i.findIndex(function(M){return o(p)===o(M)}):t<0&&!l(i[i.length-1],i.length-1)?i.length-1:t>0&&!l(i[0],0)?0:-1}function use(n,e,t){var i=Nt.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return Nt.useEffect(function(){if(!n)return Lj;var r=t.map(function(M){return M.current});function a(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function l(M){i.current.isMouseDown=!1,NT(M.target,r,n)||e()}function o(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function p(){i.current.isTouchMove=!0}function C(M){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!NT(M.target,r,n,!1)&&e()}return n.addEventListener("mousedown",a),n.addEventListener("mouseup",l),n.addEventListener("touchstart",o),n.addEventListener("touchmove",p),n.addEventListener("touchend",C),function(){n.removeEventListener("mousedown",a),n.removeEventListener("mouseup",l),n.removeEventListener("touchstart",o),n.removeEventListener("touchmove",p),n.removeEventListener("touchend",C)}},[t,n,e]),i.current}var cse=function(){return Lj};function hse(n,e,t,i){i===void 0&&(i={});var r=i.document,a=m8();Nt.useEffect(function(){if(!(!n||a||!r)){var l=n(e);GT(l,r)}},t),Nt.useEffect(function(){return function(){GT.cancel(),tse(r)}},[r])}function dse(n){var e=n.highlightedIndex,t=n.isOpen,i=n.itemRefs,r=n.getItemNodeFromIndex,a=n.menuElement,l=n.scrollIntoView,o=Nt.useRef(!0);return ose(function(){e<0||!t||!Object.keys(i.current).length||(o.current===!1?o.current=!0:l(r(e),a))},[e]),o}function WT(n,e,t){var i;t===void 0&&(t=!0);var r=((i=n.items)==null?void 0:i.length)&&e>=0;return jA({isOpen:!1,highlightedIndex:-1},r&&jA({selectedItem:n.items[e],isOpen:zg(n,"isOpen"),highlightedIndex:zg(n,"highlightedIndex")},t&&{inputValue:n.itemToString(n.items[e])}))}function fse(n,e){return n.isOpen===e.isOpen&&n.inputValue===e.inputValue&&n.highlightedIndex===e.highlightedIndex&&n.selectedItem===e.selectedItem}function m8(){var n=ni.useRef(!0);return ni.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]),n.current}function vB(n){var e=zg(n,"highlightedIndex");return e>-1&&n.isItemDisabled(n.items[e],e)?-1:e}function pse(n){var e=c_(n,"highlightedIndex");return e>-1&&n.isItemDisabled(n.items[e],e)?-1:e}var Ix={environment:$r.shape({addEventListener:$r.func.isRequired,removeEventListener:$r.func.isRequired,document:$r.shape({createElement:$r.func.isRequired,getElementById:$r.func.isRequired,activeElement:$r.any.isRequired,body:$r.any.isRequired}).isRequired,Node:$r.func.isRequired}),itemToString:$r.func,itemToKey:$r.func,stateReducer:$r.func},Wj=jA({},Ix,{getA11yStatusMessage:$r.func,highlightedIndex:$r.number,defaultHighlightedIndex:$r.number,initialHighlightedIndex:$r.number,isOpen:$r.bool,defaultIsOpen:$r.bool,initialIsOpen:$r.bool,selectedItem:$r.any,initialSelectedItem:$r.any,defaultSelectedItem:$r.any,id:$r.string,labelId:$r.string,menuId:$r.string,getItemId:$r.func,toggleButtonId:$r.string,onSelectedItemChange:$r.func,onHighlightedIndexChange:$r.func,onStateChange:$r.func,onIsOpenChange:$r.func,scrollIntoView:$r.func});function mse(n,e,t){var i=e.type,r=e.props,a;switch(i){case t.ItemMouseMove:a={highlightedIndex:e.disabled?-1:e.index};break;case t.MenuMouseLeave:a={highlightedIndex:-1};break;case t.ToggleButtonClick:case t.FunctionToggleMenu:a={isOpen:!n.isOpen,highlightedIndex:n.isOpen?-1:h_(r,n,0)};break;case t.FunctionOpenMenu:a={isOpen:!0,highlightedIndex:h_(r,n,0)};break;case t.FunctionCloseMenu:a={isOpen:!1};break;case t.FunctionSetHighlightedIndex:a={highlightedIndex:r.isItemDisabled(r.items[e.highlightedIndex],e.highlightedIndex)?-1:e.highlightedIndex};break;case t.FunctionSetInputValue:a={inputValue:e.inputValue};break;case t.FunctionReset:a={highlightedIndex:vB(r),isOpen:zg(r,"isOpen"),selectedItem:zg(r,"selectedItem"),inputValue:zg(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return jA({},n,a)}jv(jv({},Wj),{items:$r.array.isRequired,isItemDisabled:$r.func});jv(jv({},u_),{isItemDisabled:function(){return!1}});var g8=0,y8=1,v8=2,C8=3,_8=4,b8=5,x8=6,M8=7,w8=8,S3=9,S8=10,Qj=11,Yj=12,E8=13,qj=14,Hj=15,Vj=16,$j=17,Zj=18,B8=19,Xj=20,Jj=21,O8=22,eN=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:O8,FunctionCloseMenu:$j,FunctionOpenMenu:Vj,FunctionReset:Jj,FunctionSelectItem:B8,FunctionSetHighlightedIndex:Zj,FunctionSetInputValue:Xj,FunctionToggleMenu:Hj,InputBlur:S3,InputChange:w8,InputClick:S8,InputKeyDownArrowDown:g8,InputKeyDownArrowUp:y8,InputKeyDownEnd:_8,InputKeyDownEnter:M8,InputKeyDownEscape:v8,InputKeyDownHome:C8,InputKeyDownPageDown:x8,InputKeyDownPageUp:b8,ItemClick:E8,ItemMouseMove:Yj,MenuMouseLeave:Qj,ToggleButtonClick:qj});function gse(n){var e=Ase(n),t=e.selectedItem,i=e.inputValue;return i===""&&t&&n.defaultInputValue===void 0&&n.initialInputValue===void 0&&n.inputValue===void 0&&(i=n.itemToString(t)),jA({},e,{inputValue:i})}jA({},Wj,{items:$r.array.isRequired,isItemDisabled:$r.func,inputValue:$r.string,defaultInputValue:$r.string,initialInputValue:$r.string,inputId:$r.string,onInputValueChange:$r.func});function yse(n,e,t,i){var r=Nt.useRef(),a=lse(n,e,t,i),l=a[0],o=a[1],p=m8();return Nt.useEffect(function(){if(zj(e,"selectedItem")){if(!p){var C=e.itemToKey(e.selectedItem)!==e.itemToKey(r.current);C&&o({type:O8,inputValue:e.itemToString(e.selectedItem)})}r.current=l.selectedItem===r.current?e.selectedItem:l.selectedItem}},[l.selectedItem,e.selectedItem]),[yB(l,e),o]}var vse=jA({},u_,{isItemDisabled:function(){return!1}});function Cse(n,e){var t,i=e.type,r=e.props,a=e.altKey,l;switch(i){case E8:l={isOpen:zg(r,"isOpen"),highlightedIndex:vB(r),selectedItem:r.items[e.index],inputValue:r.itemToString(r.items[e.index])};break;case g8:n.isOpen?l={highlightedIndex:hx(n.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:l={highlightedIndex:a&&n.selectedItem==null?-1:h_(r,n,1),isOpen:r.items.length>=0};break;case y8:n.isOpen?a?l=WT(r,n.highlightedIndex):l={highlightedIndex:hx(n.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:l={highlightedIndex:h_(r,n,-1),isOpen:r.items.length>=0};break;case M8:l=WT(r,n.highlightedIndex);break;case v8:l=jA({isOpen:!1,highlightedIndex:-1},!n.isOpen&&{selectedItem:null,inputValue:""});break;case b8:l={highlightedIndex:hx(n.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case x8:l={highlightedIndex:hx(n.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case C8:l={highlightedIndex:w3(0,!1,r.items,r.isItemDisabled)};break;case _8:l={highlightedIndex:w3(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case S3:l=jA({isOpen:!1,highlightedIndex:-1},n.highlightedIndex>=0&&((t=r.items)==null?void 0:t.length)&&e.selectItem&&{selectedItem:r.items[n.highlightedIndex],inputValue:r.itemToString(r.items[n.highlightedIndex])});break;case w8:l={isOpen:!0,highlightedIndex:vB(r),inputValue:e.inputValue};break;case S8:l={isOpen:!n.isOpen,highlightedIndex:n.isOpen?-1:h_(r,n,0)};break;case B8:l={selectedItem:e.selectedItem,inputValue:r.itemToString(e.selectedItem)};break;case O8:l={inputValue:e.inputValue};break;default:return mse(n,e,eN)}return jA({},n,l)}var _se=["onMouseLeave","refKey","ref"],bse=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],xse=["onClick","onPress","refKey","ref"],Mse=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];CB.stateChangeTypes=eN;function CB(n){n===void 0&&(n={});var e=jA({},vse,n),t=e.items,i=e.scrollIntoView,r=e.environment,a=e.getA11yStatusMessage,l=yse(Cse,e,gse,fse),o=l[0],p=l[1],C=o.isOpen,M=o.highlightedIndex,O=o.selectedItem,U=o.inputValue,K=Nt.useRef(null),j=Nt.useRef({}),W=Nt.useRef(null),Y=Nt.useRef(null),te=m8(),J=ase(e),oe=Nt.useRef(),ne=Gj({state:o,props:e}),$=Nt.useCallback(function(tt){return j.current[J.getItemId(tt)]},[J]);hse(a,o,[C,M,O,U],r);var ae=dse({menuElement:K.current,highlightedIndex:M,isOpen:C,itemRefs:j,scrollIntoView:i,getItemNodeFromIndex:$});Nt.useEffect(function(){var tt=c_(e,"isOpen");tt&&W.current&&W.current.focus()},[]),Nt.useEffect(function(){te||(oe.current=t.length)});var G=use(r,Nt.useCallback(function(){ne.current.state.isOpen&&p({type:S3,selectItem:!1})},[p,ne]),Nt.useMemo(function(){return[K,Y,W]},[K.current,Y.current,W.current])),ce=cse();Nt.useEffect(function(){C||(j.current={})},[C]),Nt.useEffect(function(){var tt;!C||!(r!=null&&r.document)||!(W!=null&&(tt=W.current)!=null&&tt.focus)||r.document.activeElement!==W.current&&W.current.focus()},[C,r]);var ge=Nt.useMemo(function(){return{ArrowDown:function(lt){lt.preventDefault(),p({type:g8,altKey:lt.altKey})},ArrowUp:function(lt){lt.preventDefault(),p({type:y8,altKey:lt.altKey})},Home:function(lt){ne.current.state.isOpen&&(lt.preventDefault(),p({type:C8}))},End:function(lt){ne.current.state.isOpen&&(lt.preventDefault(),p({type:_8}))},Escape:function(lt){var kt=ne.current.state;(kt.isOpen||kt.inputValue||kt.selectedItem||kt.highlightedIndex>-1)&&(lt.preventDefault(),p({type:v8}))},Enter:function(lt){var kt=ne.current.state;!kt.isOpen||lt.which===229||(lt.preventDefault(),p({type:M8}))},PageUp:function(lt){ne.current.state.isOpen&&(lt.preventDefault(),p({type:b8}))},PageDown:function(lt){ne.current.state.isOpen&&(lt.preventDefault(),p({type:x8}))}}},[p,ne]),ye=Nt.useCallback(function(tt){return jA({id:J.labelId,htmlFor:J.inputId},tt)},[J]),we=Nt.useCallback(function(tt,lt){var kt,gt=tt===void 0?{}:tt,St=gt.onMouseLeave,Ut=gt.refKey,Fe=Ut===void 0?"ref":Ut,Ke=gt.ref,Re=lx(gt,_se),He=lt===void 0?{}:lt;return He.suppressRefError,jA((kt={},kt[Fe]=cx(Ke,function(bt){K.current=bt}),kt.id=J.menuId,kt.role="listbox",kt["aria-labelledby"]=Re&&Re["aria-label"]?void 0:""+J.labelId,kt.onMouseLeave=E0(St,function(){p({type:Qj})}),kt),Re)},[p,ce,J]),Ie=Nt.useCallback(function(tt){var lt,kt,gt=tt===void 0?{}:tt,St=gt.item,Ut=gt.index,Fe=gt.refKey,Ke=Fe===void 0?"ref":Fe,Re=gt.ref,He=gt.onMouseMove,bt=gt.onMouseDown,_t=gt.onClick;gt.onPress;var Ot=gt.disabled,qt=lx(gt,bse);Ot!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var Kt=ne.current,on=Kt.props,Jn=Kt.state,Wt=sse(St,Ut,on.items,"Pass either item or index to getItemProps!"),$n=Wt[0],On=Wt[1],Bn=on.isItemDisabled($n,On),In="onClick",Oi=_t,ei=function(){G.isTouchEnd||On===Jn.highlightedIndex||(ae.current=!1,p({type:Yj,index:On,disabled:Bn}))},Kn=function(){p({type:E8,index:On})},je=function(re){return re.preventDefault()};return jA((lt={},lt[Ke]=cx(Re,function(de){de&&(j.current[J.getItemId(On)]=de)}),lt["aria-disabled"]=Bn,lt["aria-selected"]=On===Jn.highlightedIndex,lt.id=J.getItemId(On),lt.role="option",lt),!Bn&&(kt={},kt[In]=E0(Oi,Kn),kt),{onMouseMove:E0(He,ei),onMouseDown:E0(bt,je)},qt)},[p,J,ne,G,ae]),Se=Nt.useCallback(function(tt){var lt,kt=tt===void 0?{}:tt,gt=kt.onClick;kt.onPress;var St=kt.refKey,Ut=St===void 0?"ref":St,Fe=kt.ref,Ke=lx(kt,xse),Re=ne.current.state,He=function(){p({type:qj})};return jA((lt={},lt[Ut]=cx(Fe,function(bt){Y.current=bt}),lt["aria-controls"]=J.menuId,lt["aria-expanded"]=Re.isOpen,lt.id=J.toggleButtonId,lt.tabIndex=-1,lt),!Ke.disabled&&jA({},{onClick:E0(gt,He)}),Ke)},[p,ne,J]),Ve=Nt.useCallback(function(tt,lt){var kt,gt=tt===void 0?{}:tt,St=gt.onKeyDown,Ut=gt.onChange,Fe=gt.onInput,Ke=gt.onBlur;gt.onChangeText;var Re=gt.onClick,He=gt.refKey,bt=He===void 0?"ref":He,_t=gt.ref,Ot=lx(gt,Mse),qt=lt===void 0?{}:lt;qt.suppressRefError;var Kt=ne.current.state,on=function(ei){var Kn=Xae(ei);Kn&&ge[Kn]&&ge[Kn](ei)},Jn=function(ei){p({type:w8,inputValue:ei.target.value})},Wt=function(ei){if(r!=null&&r.document&&Kt.isOpen&&!G.isMouseDown){var Kn=ei.relatedTarget===null&&r.document.activeElement!==r.document.body;p({type:S3,selectItem:!Kn})}},$n=function(){p({type:S8})},On="onChange",Bn={};if(!Ot.disabled){var In;Bn=(In={},In[On]=E0(Ut,Fe,Jn),In.onKeyDown=E0(St,on),In.onBlur=E0(Ke,Wt),In.onClick=E0(Re,$n),In)}return jA((kt={},kt[bt]=cx(_t,function(Oi){W.current=Oi}),kt["aria-activedescendant"]=Kt.isOpen&&Kt.highlightedIndex>-1?J.getItemId(Kt.highlightedIndex):"",kt["aria-autocomplete"]="list",kt["aria-controls"]=J.menuId,kt["aria-expanded"]=Kt.isOpen,kt["aria-labelledby"]=Ot&&Ot["aria-label"]?void 0:J.labelId,kt.autoComplete="off",kt.id=J.inputId,kt.role="combobox",kt.value=Kt.inputValue,kt),Bn,Ot)},[p,J,r,ge,ne,G,ce]),xe=Nt.useCallback(function(){p({type:Hj})},[p]),ze=Nt.useCallback(function(){p({type:$j})},[p]),st=Nt.useCallback(function(){p({type:Vj})},[p]),Ct=Nt.useCallback(function(tt){p({type:Zj,highlightedIndex:tt})},[p]),nt=Nt.useCallback(function(tt){p({type:B8,selectedItem:tt})},[p]),be=Nt.useCallback(function(tt){p({type:Xj,inputValue:tt})},[p]),Ne=Nt.useCallback(function(){p({type:Jj})},[p]);return{getItemProps:Ie,getLabelProps:ye,getMenuProps:we,getInputProps:Ve,getToggleButtonProps:Se,toggleMenu:xe,openMenu:st,closeMenu:ze,setHighlightedIndex:Ct,setInputValue:be,selectItem:nt,reset:Ne,highlightedIndex:M,isOpen:C,selectedItem:O,inputValue:U}}Ix.stateReducer,Ix.itemToKey,Ix.environment,$r.array,$r.array,$r.array,$r.func,$r.number,$r.number,$r.number,$r.func,$r.func,$r.string,$r.string;u_.itemToKey,u_.stateReducer,u_.environment;function Li(){var n="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",e="73020a5a2032027cc342d42db613082f6da43a81",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:13,column:28},end:{line:13,column:55}},2:{start:{line:14,column:18},end:{line:14,column:36}},3:{start:{line:15,column:36},end:{line:15,column:62}},4:{start:{line:16,column:24},end:{line:19,column:22}},5:{start:{line:17,column:15},end:{line:17,column:34}},6:{start:{line:18,column:4},end:{line:18,column:72}},7:{start:{line:18,column:36},end:{line:18,column:70}},8:{start:{line:20,column:24},end:{line:25,column:8}},9:{start:{line:21,column:4},end:{line:24,column:5}},10:{start:{line:22,column:20},end:{line:22,column:84}},11:{start:{line:23,column:6},end:{line:23,column:48}},12:{start:{line:33,column:6},end:{line:55,column:4}},13:{start:{line:36,column:28},end:{line:36,column:47}},14:{start:{line:38,column:6},end:{line:40,column:7}},15:{start:{line:39,column:8},end:{line:39,column:51}},16:{start:{line:41,column:6},end:{line:41,column:28}},17:{start:{line:44,column:16},end:{line:44,column:51}},18:{start:{line:45,column:6},end:{line:45,column:18}},19:{start:{line:46,column:6},end:{line:46,column:56}},20:{start:{line:49,column:6},end:{line:53,column:7}},21:{start:{line:50,column:8},end:{line:50,column:20}},22:{start:{line:51,column:8},end:{line:51,column:40}},23:{start:{line:52,column:8},end:{line:52,column:19}},24:{start:{line:56,column:2},end:{line:60,column:30}},25:{start:{line:57,column:4},end:{line:59,column:5}},26:{start:{line:58,column:6},end:{line:58,column:22}},27:{start:{line:61,column:2},end:{line:64,column:22}},28:{start:{line:62,column:4},end:{line:62,column:53}},29:{start:{line:63,column:4},end:{line:63,column:69}},30:{start:{line:63,column:17},end:{line:63,column:68}},31:{start:{line:65,column:2},end:{line:67,column:14}},32:{start:{line:66,column:4},end:{line:66,column:26}},33:{start:{line:68,column:2},end:{line:103,column:7}},34:{start:{line:76,column:25},end:{line:76,column:35}},35:{start:{line:87,column:79},end:{line:100,column:9}}},fnMap:{0:{name:"InputAutocomplete",decl:{start:{line:6,column:24},end:{line:6,column:41}},loc:{start:{line:12,column:3},end:{line:104,column:1}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:9,column:13},end:{line:9,column:14}},loc:{start:{line:9,column:19},end:{line:10,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:16,column:38},end:{line:16,column:39}},loc:{start:{line:16,column:44},end:{line:19,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:18,column:26},end:{line:18,column:27}},loc:{start:{line:18,column:36},end:{line:18,column:70}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:42},end:{line:20,column:43}},loc:{start:{line:20,column:48},end:{line:25,column:3}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:36,column:18},end:{line:36,column:19}},loc:{start:{line:36,column:28},end:{line:36,column:47}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:37,column:18},end:{line:37,column:19}},loc:{start:{line:37,column:38},end:{line:42,column:5}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:43,column:26},end:{line:43,column:27}},loc:{start:{line:43,column:48},end:{line:47,column:5}},line:43},8:{name:"(anonymous_8)",decl:{start:{line:48,column:24},end:{line:48,column:25}},loc:{start:{line:48,column:47},end:{line:54,column:5}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:56,column:18},end:{line:56,column:19}},loc:{start:{line:56,column:24},end:{line:60,column:3}},line:56},10:{name:"(anonymous_10)",decl:{start:{line:61,column:18},end:{line:61,column:19}},loc:{start:{line:61,column:24},end:{line:64,column:3}},line:61},11:{name:"(anonymous_11)",decl:{start:{line:63,column:11},end:{line:63,column:12}},loc:{start:{line:63,column:17},end:{line:63,column:68}},line:63},12:{name:"(anonymous_12)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:3}},line:65},13:{name:"(anonymous_13)",decl:{start:{line:76,column:19},end:{line:76,column:20}},loc:{start:{line:76,column:25},end:{line:76,column:35}},line:76},14:{name:"(anonymous_14)",decl:{start:{line:87,column:46},end:{line:87,column:47}},loc:{start:{line:87,column:79},end:{line:100,column:9}},line:87}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:14}},type:"default-arg",locations:[{start:{line:8,column:12},end:{line:8,column:14}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:10,column:3}},type:"default-arg",locations:[{start:{line:9,column:13},end:{line:10,column:3}}],line:9},2:{loc:{start:{line:13,column:43},end:{line:13,column:54}},type:"binary-expr",locations:[{start:{line:13,column:43},end:{line:13,column:48}},{start:{line:13,column:52},end:{line:13,column:54}}],line:13},3:{loc:{start:{line:21,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:28},end:{line:36,column:47}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:42}},{start:{line:36,column:45},end:{line:36,column:47}}],line:36},5:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},6:{loc:{start:{line:44,column:16},end:{line:44,column:51}},type:"cond-expr",locations:[{start:{line:44,column:31},end:{line:44,column:46}},{start:{line:44,column:49},end:{line:44,column:51}}],line:44},7:{loc:{start:{line:46,column:15},end:{line:46,column:54}},type:"cond-expr",locations:[{start:{line:46,column:30},end:{line:46,column:45}},{start:{line:46,column:48},end:{line:46,column:54}}],line:46},8:{loc:{start:{line:49,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:49,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},9:{loc:{start:{line:51,column:17},end:{line:51,column:38}},type:"cond-expr",locations:[{start:{line:51,column:28},end:{line:51,column:34}},{start:{line:51,column:37},end:{line:51,column:38}}],line:51},10:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},11:{loc:{start:{line:66,column:13},end:{line:66,column:24}},type:"binary-expr",locations:[{start:{line:66,column:13},end:{line:66,column:18}},{start:{line:66,column:22},end:{line:66,column:24}}],line:66},12:{loc:{start:{line:87,column:18},end:{line:100,column:10}},type:"binary-expr",locations:[{start:{line:87,column:18},end:{line:87,column:24}},{start:{line:87,column:28},end:{line:100,column:10}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAkFI,SACE,KADF;AAlFJ,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,mBAAkB;AAE1B,MAAM,aAAa;AASnB,wBAAwB,kBAAkB;AAAA,EACxC;AAAA,EACA,UAAU,CAAC;AAAA,EACX,WAAW,MAAM;AAAA,EAAC;AAAA,EAClB,cAAc;AAChB,GAA2B;AACzB,QAAM,CAAC,OAAO,QAAQ,IAAI,MAAM,SAAS,SAAS,EAAE;AACpD,QAAM,UAAU,MAAM,OAAuB,IAAI;AACjD,QAAM,CAAC,WAAW,YAAY,IAAI,MAAM,SAAS,UAAU;AAE3D,QAAM,gBAAgB,MAAM,QAAQ,MAAM;AACxC,UAAM,KAAK,MAAM,YAAY;AAC7B,WAAO,QAAQ,OAAO,CAAC,SAAS,KAAK,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC;AAAA,EACpE,GAAG,CAAC,SAAS,KAAK,CAAC;AAEnB,QAAM,gBAAgB,MAAM,YAAY,MAAM;AAC5C,QAAI,QAAQ,SAAS;AACnB,YAAM,QAAQ,OAAO,cAAc,QAAQ,QAAQ,sBAAsB,EAAE;AAC3E,mBAAa,KAAK,IAAI,OAAO,UAAU,CAAC;AAAA,IAC1C;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,YAAY;AAAA,IACd,OAAO;AAAA,IACP,YAAY;AAAA,IACZ,cAAc,CAAC,SAAU,OAAO,KAAK,CAAC,IAAI;AAAA,IAC1C,cAAc,CAAC,QAAQ,WAAW;AAChC,UAAI,OAAO,SAAS,YAAY,iBAAiB,YAAY;AAC3D,eAAO,EAAC,GAAG,OAAO,SAAS,QAAQ,KAAI;AAAA,MACzC;AACA,aAAO,OAAO;AAAA,IAChB;AAAA,IACA,sBAAsB,CAAC,EAAC,aAAY,MAAM;AACxC,YAAM,IAAI,eAAe,aAAa,CAAC,IAAI;AAC3C,eAAS,CAAC;AACV,eAAS,eAAe,aAAa,CAAC,IAAI,MAAS;AAAA,IACrD;AAAA,IACA,oBAAoB,CAAC,EAAC,YAAY,EAAC,MAAM;AACvC,UAAI,OAAO,MAAM,UAAU;AACzB,iBAAS,CAAC;AACV,iBAAS,MAAM,KAAK,SAAY,CAAC;AACjC,iBAAS;AAAA,MACX;AAAA,IACF;AAAA,EACF,CAAC;AAED,QAAM,UAAU,MAAM;AACpB,QAAI,QAAQ;AACV,oBAAc;AAAA,IAChB;AAAA,EACF,GAAG,CAAC,QAAQ,aAAa,CAAC;AAE1B,QAAM,UAAU,MAAM;AACpB,WAAO,iBAAiB,UAAU,aAAa;AAC/C,WAAO,MAAM,OAAO,oBAAoB,UAAU,aAAa;AAAA,EACjE,GAAG,CAAC,aAAa,CAAC;AAElB,QAAM,UAAU,MAAM;AACpB,aAAS,SAAS,EAAE;AAAA,EACtB,GAAG,CAAC,KAAK,CAAC;AAEV,SACE,qBAAC,SAAI,WAAU,yBACb;AAAA;AAAA,MAAC;AAAA;AAAA,QACE,GAAG,cAAc;AAAA,UAChB,cAAc;AAAA,UACd,WAAW;AAAA,UACX,YAAY;AAAA,UACZ,SAAS,MAAM,SAAS;AAAA,QAC1B,CAAC;AAAA;AAAA,IACH;AAAA,IACA;AAAA,MAAC;AAAA;AAAA,QACE,GAAG,aAAa,CAAC,GAAG,EAAC,kBAAkB,KAAI,CAAC;AAAA,QAC7C,KAAK;AAAA,QACL,OAAO,EAAC,UAAU,SAAS,UAAU,QAAQ,WAAW,QAAQ,IAAG;AAAA,QACnE,WAAU;AAAA,QAET,oBACC,cAAc,IAAI,CAAC,MAAM,UACvB;AAAA,UAAC;AAAA;AAAA,YAEE,GAAG,aAAa;AAAA,cACf;AAAA,cACA;AAAA,cACA,WAAW,WAAW,mCAAmC;AAAA,gBACvD,4CAA4C,qBAAqB;AAAA,cACnE,CAAC;AAAA,YACH,CAAC;AAAA,YAEA,eAAK,CAAC;AAAA;AAAA,UATF,KAAK,CAAC;AAAA,QAUb,CACD;AAAA;AAAA,IACL;AAAA,KACF;AAEJ;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"73020a5a2032027cc342d42db613082f6da43a81"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Li=function(){return l},l}Li();const QT=(Li().s[0]++,140);function Eb({value:n,options:e=(Li().b[0][0]++,[]),onChange:t=(Li().b[1][0]++,()=>{Li().f[1]++}),"aria-label":i}){Li().f[0]++;const[r,a]=(Li().s[1]++,ni.useState((Li().b[2][0]++,n||(Li().b[2][1]++,"")))),l=(Li().s[2]++,ni.useRef(null)),[o,p]=(Li().s[3]++,ni.useState(QT)),C=(Li().s[4]++,ni.useMemo(()=>{Li().f[2]++;const te=(Li().s[5]++,r.toLowerCase());return Li().s[6]++,e.filter(J=>(Li().f[3]++,Li().s[7]++,J[0].toLowerCase().includes(te)))},[e,r])),M=(Li().s[8]++,ni.useCallback(()=>{if(Li().f[4]++,Li().s[9]++,l.current){Li().b[3][0]++;const te=(Li().s[10]++,window.innerHeight-l.current.getBoundingClientRect().top);Li().s[11]++,p(Math.min(te,QT))}else Li().b[3][1]++},[])),{isOpen:O,getMenuProps:U,getInputProps:K,getItemProps:j,highlightedIndex:W,openMenu:Y}=(Li().s[12]++,CB({items:C,inputValue:r,itemToString:te=>(Li().f[5]++,Li().s[13]++,te?(Li().b[4][0]++,te[0]):(Li().b[4][1]++,"")),stateReducer:(te,J)=>(Li().f[6]++,Li().s[14]++,J.type===CB.stateChangeTypes.InputClick?(Li().b[5][0]++,Li().s[15]++,{...J.changes,isOpen:!0}):(Li().b[5][1]++,Li().s[16]++,J.changes)),onSelectedItemChange:({selectedItem:te})=>{Li().f[7]++;const J=(Li().s[17]++,te?(Li().b[6][0]++,te[0]):(Li().b[6][1]++,""));Li().s[18]++,a(J),Li().s[19]++,t(te?(Li().b[7][0]++,te[0]):(Li().b[7][1]++,void 0))},onInputValueChange:({inputValue:te})=>{Li().f[8]++,Li().s[20]++,typeof te=="string"?(Li().b[8][0]++,Li().s[21]++,a(te),Li().s[22]++,t(te===""?(Li().b[9][0]++,void 0):(Li().b[9][1]++,te)),Li().s[23]++,Y()):Li().b[8][1]++}}));return Li().s[24]++,ni.useEffect(()=>{Li().f[9]++,Li().s[25]++,O?(Li().b[10][0]++,Li().s[26]++,M()):Li().b[10][1]++},[O,M]),Li().s[27]++,ni.useEffect(()=>(Li().f[10]++,Li().s[28]++,window.addEventListener("resize",M),Li().s[29]++,()=>(Li().f[11]++,Li().s[30]++,window.removeEventListener("resize",M))),[M]),Li().s[31]++,ni.useEffect(()=>{Li().f[12]++,Li().s[32]++,a((Li().b[11][0]++,n||(Li().b[11][1]++,"")))},[n]),Li().s[33]++,Ae.jsxs("div",{className:"maputnik-autocomplete",children:[Ae.jsx("input",{...K({"aria-label":i,className:"maputnik-string",spellCheck:!1,onFocus:()=>(Li().f[13]++,Li().s[34]++,Y())})}),Ae.jsx("div",{...U({},{suppressRefError:!0}),ref:l,style:{position:"fixed",overflow:"auto",maxHeight:o,zIndex:998},className:"maputnik-autocomplete-menu",children:(Li().b[12][0]++,O&&(Li().b[12][1]++,C.map((te,J)=>(Li().f[14]++,Li().s[35]++,Ae.jsx("div",{...j({item:te,index:J,className:t0("maputnik-autocomplete-menu-item",{"maputnik-autocomplete-menu-item-selected":W===J})}),children:te[1]},te[0])))))})]})}function Hp(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",e="787db584cc9becf4089365283e16f9ba747f4840",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:6,column:28},end:{line:32,column:1}},1:{start:{line:15,column:2},end:{line:31,column:4}},2:{start:{line:27,column:43},end:{line:27,column:53}},3:{start:{line:33,column:20},end:{line:33,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:28},end:{line:6,column:29}},loc:{start:{line:14,column:6},end:{line:32,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:8,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:27,column:34},end:{line:27,column:35}},loc:{start:{line:27,column:43},end:{line:27,column:53}},line:27}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:8,column:3}},type:"default-arg",locations:[{start:{line:7,column:13},end:{line:8,column:3}}],line:7},1:{loc:{start:{line:9,column:2},end:{line:9,column:16}},type:"default-arg",locations:[{start:{line:9,column:14},end:{line:9,column:16}}],line:9}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA8BM;AA5BN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA+B,uBAAuB;AAUtD,MAAM,sBAA0D,CAAC;AAAA,EAC/D,WAAW,MAAM;AAAA,EAAC;AAAA,EAClB,YAAY,CAAC;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,QAAQ;AAAA,MACjB,WAAW,OAAO,MAAM;AAAA,MACxB;AAAA,MACA,eAAa;AAAA,MAEb;AAAA,QAAC;AAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA,SAAS,WAAW,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,MAC7C;AAAA;AAAA,EACF;AAEJ;AAGA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"787db584cc9becf4089365283e16f9ba747f4840"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Hp=function(){return l},l}Hp();Hp().s[0]++;const wse=({onChange:n=(Hp().b[0][0]++,()=>{Hp().f[1]++}),sourceIds:e=(Hp().b[1][0]++,[]),wdKey:t,value:i,error:r,t:a})=>(Hp().f[0]++,Hp().s[1]++,Ae.jsx(Ls,{label:a("Source"),fieldSpec:$o.layer.source,error:r,"data-wd-key":t,children:Ae.jsx(Eb,{value:i,onChange:n,options:e?.map(l=>(Hp().f[2]++,Hp().s[2]++,[l,l]))})})),tN=(Hp().s[3]++,es()(wse));function Vp(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",e="61cb059654b456e27f782356448ebd0362f3cb6a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:6,column:33},end:{line:31,column:1}},1:{start:{line:14,column:2},end:{line:30,column:4}},2:{start:{line:26,column:46},end:{line:26,column:52}},3:{start:{line:32,column:25},end:{line:32,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:33},end:{line:6,column:34}},loc:{start:{line:13,column:6},end:{line:31,column:1}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:8,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:26,column:39},end:{line:26,column:40}},loc:{start:{line:26,column:46},end:{line:26,column:52}},line:26}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:8,column:3}},type:"default-arg",locations:[{start:{line:7,column:13},end:{line:8,column:3}}],line:7},1:{loc:{start:{line:9,column:2},end:{line:9,column:21}},type:"default-arg",locations:[{start:{line:9,column:19},end:{line:9,column:21}}],line:9}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA1BN,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA+B,uBAAuB;AAStD,MAAM,2BAAoE,CAAC;AAAA,EACzE,WAAW,MAAM;AAAA,EAAC;AAAA,EAClB,iBAAiB,CAAC;AAAA,EAClB;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,cAAc;AAAA,MACvB,WAAW,OAAO,MAAM,cAAc;AAAA,MACtC,eAAY;AAAA,MACZ;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA,SAAS,gBAAgB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,MAC5C;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61cb059654b456e27f782356448ebd0362f3cb6a"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Vp=function(){return l},l}Vp();Vp().s[0]++;const Sse=({onChange:n=(Vp().b[0][0]++,()=>{Vp().f[1]++}),sourceLayerIds:e=(Vp().b[1][0]++,[]),value:t,error:i,t:r})=>(Vp().f[0]++,Vp().s[1]++,Ae.jsx(Ls,{label:r("Source Layer"),fieldSpec:Xa.layer["source-layer"],"data-wd-key":"layer-source-layer",error:i,children:Ae.jsx(Eb,{value:t,onChange:n,options:e?.map(a=>(Vp().f[2]++,Vp().s[2]++,[a,a]))})})),nN=(Vp().s[3]++,es()(Sse));function I8(){var n="/home/runner/work/maputnik/maputnik/src/libs/non-source-layers.ts",e="674dcf7f1706a4f312a810bdf5e5997ddaf065e0",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/non-source-layers.ts",statementMap:{0:{start:{line:1,column:33},end:{line:1,column:97}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/non-source-layers.ts"],names:[],mappings:"AAAO,aAAM,oBAAoB,CAAC,cAAc,UAAU,aAAa,WAAW,cAAc;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"674dcf7f1706a4f312a810bdf5e5997ddaf065e0"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return I8=function(){return l},l}I8();const _B=(I8().s[0]++,["background","raster","hillshade","heatmap","color-relief"]);function zn(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalAdd.tsx",e="90da8e5ee6bdbe488a5f45bfae015ac94b0d70a9",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalAdd.tsx",statementMap:{0:{start:{line:12,column:13},end:{line:33,column:3}},1:{start:{line:13,column:4},end:{line:16,column:5}},2:{start:{line:13,column:38},end:{line:13,column:60}},3:{start:{line:14,column:6},end:{line:14,column:72}},4:{start:{line:15,column:6},end:{line:15,column:13}},5:{start:{line:17,column:26},end:{line:17,column:52}},6:{start:{line:18,column:18},end:{line:21,column:5}},7:{start:{line:22,column:4},end:{line:27,column:5}},8:{start:{line:23,column:6},end:{line:23,column:39}},9:{start:{line:24,column:6},end:{line:26,column:7}},10:{start:{line:25,column:8},end:{line:25,column:59}},11:{start:{line:28,column:4},end:{line:28,column:30}},12:{start:{line:29,column:4},end:{line:32,column:7}},13:{start:{line:30,column:6},end:{line:30,column:47}},14:{start:{line:31,column:6},end:{line:31,column:32}},15:{start:{line:35,column:4},end:{line:35,column:17}},16:{start:{line:36,column:18},end:{line:40,column:5}},17:{start:{line:41,column:4},end:{line:47,column:5}},18:{start:{line:42,column:6},end:{line:42,column:56}},19:{start:{line:43,column:27},end:{line:43,column:72}},20:{start:{line:44,column:6},end:{line:46,column:7}},21:{start:{line:45,column:8},end:{line:45,column:48}},22:{start:{line:48,column:4},end:{line:48,column:23}},23:{start:{line:51,column:20},end:{line:51,column:34}},24:{start:{line:52,column:20},end:{line:52,column:35}},25:{start:{line:53,column:32},end:{line:53,column:56}},26:{start:{line:54,column:32},end:{line:54,column:56}},27:{start:{line:55,column:4},end:{line:62,column:5}},28:{start:{line:59,column:6},end:{line:61,column:9}},29:{start:{line:65,column:22},end:{line:65,column:54}},30:{start:{line:66,column:4},end:{line:66,column:34}},31:{start:{line:69,column:4},end:{line:86,column:5}},32:{start:{line:71,column:8},end:{line:71,column:18}},33:{start:{line:74,column:8},end:{line:74,column:113}},34:{start:{line:74,column:69},end:{line:74,column:92}},35:{start:{line:74,column:110},end:{line:74,column:111}},36:{start:{line:76,column:8},end:{line:76,column:109}},37:{start:{line:76,column:69},end:{line:76,column:88}},38:{start:{line:76,column:106},end:{line:76,column:107}},39:{start:{line:83,column:8},end:{line:83,column:133}},40:{start:{line:83,column:69},end:{line:83,column:112}},41:{start:{line:83,column:130},end:{line:83,column:131}},42:{start:{line:85,column:8},end:{line:85,column:18}},43:{start:{line:89,column:14},end:{line:89,column:26}},44:{start:{line:90,column:20},end:{line:90,column:52}},45:{start:{line:91,column:19},end:{line:91,column:61}},46:{start:{line:93,column:4},end:{line:106,column:5}},47:{start:{line:94,column:6},end:{line:105,column:11}},48:{start:{line:100,column:27},end:{line:100,column:57}},49:{start:{line:107,column:4},end:{line:165,column:6}},50:{start:{line:124,column:18},end:{line:124,column:56}},51:{start:{line:133,column:33},end:{line:133,column:59}},52:{start:{line:142,column:33},end:{line:142,column:61}},53:{start:{line:150,column:33},end:{line:150,column:69}},54:{start:{line:168,column:17},end:{line:168,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:33,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:38},end:{line:13,column:60}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:29,column:35},end:{line:29,column:36}},loc:{start:{line:29,column:41},end:{line:32,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:21},end:{line:49,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:44},end:{line:63,column:3}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:29},end:{line:67,column:3}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:19},end:{line:87,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:74,column:57},end:{line:74,column:58}},loc:{start:{line:74,column:69},end:{line:74,column:92}},line:74},8:{name:"(anonymous_8)",decl:{start:{line:74,column:98},end:{line:74,column:99}},loc:{start:{line:74,column:110},end:{line:74,column:111}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:57},end:{line:76,column:58}},loc:{start:{line:76,column:69},end:{line:76,column:88}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:76,column:94},end:{line:76,column:95}},loc:{start:{line:76,column:106},end:{line:76,column:107}},line:76},11:{name:"(anonymous_11)",decl:{start:{line:83,column:57},end:{line:83,column:58}},loc:{start:{line:83,column:69},end:{line:83,column:112}},line:83},12:{name:"(anonymous_12)",decl:{start:{line:83,column:118},end:{line:83,column:119}},loc:{start:{line:83,column:130},end:{line:83,column:131}},line:83},13:{name:"(anonymous_13)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:11},end:{line:166,column:3}},line:88},14:{name:"(anonymous_14)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:100,column:57}},line:100},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:33},end:{line:125,column:17}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:133,column:26},end:{line:133,column:27}},loc:{start:{line:133,column:33},end:{line:133,column:59}},line:133},17:{name:"(anonymous_17)",decl:{start:{line:142,column:26},end:{line:142,column:27}},loc:{start:{line:142,column:33},end:{line:142,column:61}},line:142},18:{name:"(anonymous_18)",decl:{start:{line:150,column:26},end:{line:150,column:27}},loc:{start:{line:150,column:33},end:{line:150,column:69}},line:150}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:16,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:13},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},2:{loc:{start:{line:24,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:24,column:6},end:{line:26,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},3:{loc:{start:{line:24,column:10},end:{line:24,column:84}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:54}},{start:{line:24,column:58},end:{line:24,column:84}}],line:24},4:{loc:{start:{line:41,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:47,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},5:{loc:{start:{line:43,column:27},end:{line:43,column:72}},type:"binary-expr",locations:[{start:{line:43,column:27},end:{line:43,column:66}},{start:{line:43,column:70},end:{line:43,column:72}}],line:43},6:{loc:{start:{line:44,column:6},end:{line:46,column:7}},type:"if",locations:[{start:{line:44,column:6},end:{line:46,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},7:{loc:{start:{line:55,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:62,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:57,column:6},end:{line:57,column:160}},type:"binary-expr",locations:[{start:{line:57,column:6},end:{line:57,column:25}},{start:{line:57,column:29},end:{line:57,column:52}},{start:{line:57,column:56},end:{line:57,column:106}},{start:{line:57,column:110},end:{line:57,column:160}}],line:57},9:{loc:{start:{line:65,column:22},end:{line:65,column:54}},type:"binary-expr",locations:[{start:{line:65,column:22},end:{line:65,column:48}},{start:{line:65,column:52},end:{line:65,column:54}}],line:65},10:{loc:{start:{line:66,column:11},end:{line:66,column:33}},type:"binary-expr",locations:[{start:{line:66,column:11},end:{line:66,column:27}},{start:{line:66,column:31},end:{line:66,column:33}}],line:66},11:{loc:{start:{line:69,column:4},end:{line:86,column:5}},type:"switch",locations:[{start:{line:70,column:6},end:{line:71,column:18}},{start:{line:72,column:6},end:{line:72,column:23}},{start:{line:73,column:6},end:{line:74,column:113}},{start:{line:75,column:6},end:{line:76,column:109}},{start:{line:77,column:6},end:{line:77,column:21}},{start:{line:78,column:6},end:{line:78,column:20}},{start:{line:79,column:6},end:{line:79,column:18}},{start:{line:80,column:6},end:{line:80,column:28}},{start:{line:81,column:6},end:{line:81,column:18}},{start:{line:82,column:6},end:{line:83,column:133}},{start:{line:84,column:6},end:{line:85,column:18}}],line:69},12:{loc:{start:{line:83,column:69},end:{line:83,column:112}},type:"binary-expr",locations:[{start:{line:83,column:69},end:{line:83,column:88}},{start:{line:83,column:92},end:{line:83,column:112}}],line:83},13:{loc:{start:{line:93,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:106,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},14:{loc:{start:{line:136,column:12},end:{line:144,column:13}},type:"binary-expr",locations:[{start:{line:136,column:12},end:{line:136,column:44}},{start:{line:136,column:64},end:{line:144,column:13}}],line:136},15:{loc:{start:{line:145,column:12},end:{line:152,column:13}},type:"binary-expr",locations:[{start:{line:145,column:12},end:{line:145,column:56}},{start:{line:145,column:76},end:{line:152,column:13}}],line:145}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0,0],9:[0,0],10:[0,0],11:[0,0,0,0,0,0,0,0,0,0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalAdd.tsx"],names:[],mappings:"AAqIQ,SAEE,KAFF;AArIR,OAAO,WAAW;AAClB,SAA+B,uBAAuB;AAGtD,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB;AAmBlC,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,WAAW,MAAM;AACf,QAAI,KAAK,MAAM,OAAO,KAAK,OAAK,EAAE,OAAO,KAAK,MAAM,EAAE,GAAG;AACvD,WAAK,SAAS,EAAE,OAAO,KAAK,MAAM,EAAE,yBAAyB,EAAE,CAAC;AAChE;AAAA,IACF;AAEA,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,CAAC,kBAAkB,SAAS,KAAK,MAAM,IAAI,KAAK,KAAK,MAAM,cAAc,GAAG;AAC7E,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAC9C,SAAK,SAAS,EAAE,OAAO,KAAK,GAAG,MAAM;AACnC,WAAK,MAAM,eAAe,aAAa;AACvC,WAAK,MAAM,aAAa;AAAA,IAC1B,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,OAA8B;AACxC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,MACJ,OAAO;AAAA,IACT;AAEA,QAAG,OAAO,KAAK,MAAM,OAAO,EAAE,SAAS,GAAG;AACxC,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,eAAe,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAE,UAAU,CAAC;AACjE,UAAI,aAAa,SAAS,GAAG;AAC3B,cAAM,cAAc,IAAI,aAAa,CAAC;AAAA,MACxC;AAAA,IACF;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAAmC,WAA0B;AAE9E,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAkC;AAE3C,YAAO,MAAM;AAAA,MACX,KAAK;AACH,eAAO,CAAC;AAAA,MACV,KAAK;AAAA,MACL,KAAK;AACH,eAAO,OAAO,QAAQ,KAAK,MAAM,OAAO,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,YAAY,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAAA,MACzG,KAAK;AACH,eAAO,OAAO,QAAQ,KAAK,MAAM,OAAO,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,QAAQ,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAAA,MACrG,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,eAAO,OAAO,QAAQ,KAAK,MAAM,OAAO,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,YAAY,EAAE,SAAS,SAAS,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAAA,MAC7H;AACE,eAAO,CAAC;AAAA,IACZ;AAAA,EACF;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AACzD,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO;AACpB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ;AAAA,UAAC;AAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK,CAAC;AAAA,YAC5C,WAAU;AAAA,YACX;AAAA;AAAA,QAED;AAAA,SACF;AAAA,IAEJ;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QACpB,eAAY;AAAA,QACZ,WAAU;AAAA,QAET;AAAA;AAAA,UACD,qBAAC,SAAI,WAAU,sBACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM;AAAA,gBAClB,OAAM;AAAA,gBACN,UAAU,CAAC,MAAc;AACvB,uBAAK,SAAS,EAAE,IAAI,GAAG,OAAO,KAAK,CAAC;AAAA,gBACtC;AAAA;AAAA,YACF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM;AAAA,gBAClB,OAAM;AAAA,gBACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,YACxE;AAAA,YACC,KAAK,MAAM,SAAS,gBACvB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,OAAM;AAAA,gBACN,OAAO,KAAK,MAAM;AAAA,gBAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,YACtD;AAAA,YAEG,CAAC,kBAAkB,SAAS,KAAK,MAAM,IAAI,KAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,gBAAgB;AAAA,gBAChB,OAAO,KAAK,MAAM,cAAc;AAAA,gBAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,YAC9D;AAAA,YAEE;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,eAAY;AAAA,gBAEX,YAAE,WAAW;AAAA;AAAA,YAChB;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90da8e5ee6bdbe488a5f45bfae015ac94b0d70a9"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return zn=function(){return l},l}zn();class Ese extends ni.Component{addLayer=(zn().s[0]++,()=>{if(zn().f[0]++,zn().s[1]++,this.props.layers.some(i=>(zn().f[1]++,zn().s[2]++,i.id===this.state.id))){zn().b[0][0]++,zn().s[3]++,this.setState({error:this.props.t("Layer ID already exists")}),zn().s[4]++;return}else zn().b[0][1]++;const e=(zn().s[5]++,this.props.layers.slice(0)),t=(zn().s[6]++,{id:this.state.id,type:this.state.type});zn().s[7]++,this.state.type!=="background"?(zn().b[1][0]++,zn().s[8]++,t.source=this.state.source,zn().s[9]++,zn().b[3][0]++,!_B.includes(this.state.type)&&(zn().b[3][1]++,this.state["source-layer"])?(zn().b[2][0]++,zn().s[10]++,t["source-layer"]=this.state["source-layer"]):zn().b[2][1]++):zn().b[1][1]++,zn().s[11]++,e.push(t),zn().s[12]++,this.setState({error:null},()=>{zn().f[2]++,zn().s[13]++,this.props.onLayersChange(e),zn().s[14]++,this.props.onOpenToggle()})});constructor(e){zn().f[3]++,zn().s[15]++,super(e);const t=(zn().s[16]++,{type:"fill",id:"",error:null});if(zn().s[17]++,Object.keys(e.sources).length>0){zn().b[4][0]++,zn().s[18]++,t.source=Object.keys(this.props.sources)[0];const i=(zn().s[19]++,zn().b[5][0]++,this.props.sources[t.source].layers||(zn().b[5][1]++,[]));zn().s[20]++,i.length>0?(zn().b[6][0]++,zn().s[21]++,t["source-layer"]=i[0]):zn().b[6][1]++}else zn().b[4][1]++;zn().s[22]++,this.state=t}componentDidUpdate(e,t){zn().f[4]++;const i=(zn().s[23]++,t.type),r=(zn().s[24]++,this.state.type),a=(zn().s[25]++,this.getSources(i)),l=(zn().s[26]++,this.getSources(r));zn().s[27]++,zn().b[8][0]++,i!==r&&(zn().b[8][1]++,t.source!=="")&&(zn().b[8][2]++,a.indexOf(t.source)>-1)&&(zn().b[8][3]++,l.indexOf(this.state.source)<0)?(zn().b[7][0]++,zn().s[28]++,this.setState({source:""})):zn().b[7][1]++}getLayersForSource(e){zn().f[5]++;const t=(zn().s[29]++,zn().b[9][0]++,this.props.sources[e]||(zn().b[9][1]++,{}));return zn().s[30]++,zn().b[10][0]++,t.layers||(zn().b[10][1]++,[])}getSources(e){switch(zn().f[6]++,zn().s[31]++,e){case"background":return zn().b[11][0]++,zn().s[32]++,[];case"hillshade":zn().b[11][1]++;case"color-relief":return zn().b[11][2]++,zn().s[33]++,Object.entries(this.props.sources).filter(([t,i])=>(zn().f[7]++,zn().s[34]++,i.type==="raster-dem")).map(([t,i])=>(zn().f[8]++,zn().s[35]++,t));case"raster":return zn().b[11][3]++,zn().s[36]++,Object.entries(this.props.sources).filter(([t,i])=>(zn().f[9]++,zn().s[37]++,i.type==="raster")).map(([t,i])=>(zn().f[10]++,zn().s[38]++,t));case"heatmap":zn().b[11][4]++;case"circle":zn().b[11][5]++;case"fill":zn().b[11][6]++;case"fill-extrusion":zn().b[11][7]++;case"line":zn().b[11][8]++;case"symbol":return zn().b[11][9]++,zn().s[39]++,Object.entries(this.props.sources).filter(([t,i])=>(zn().f[11]++,zn().s[40]++,zn().b[12][0]++,i.type==="vector"||(zn().b[12][1]++,i.type==="geojson"))).map(([t,i])=>(zn().f[12]++,zn().s[41]++,t));default:return zn().b[11][10]++,zn().s[42]++,[]}}render(){zn().f[13]++;const e=(zn().s[43]++,this.props.t),t=(zn().s[44]++,this.getSources(this.state.type)),i=(zn().s[45]++,this.getLayersForSource(this.state.source));let r;return zn().s[46]++,this.state.error?(zn().b[13][0]++,zn().s[47]++,r=Ae.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,Ae.jsx("a",{href:"#",onClick:()=>(zn().f[14]++,zn().s[48]++,this.setState({error:null})),className:"maputnik-modal-error-close",children:""})]})):zn().b[13][1]++,zn().s[49]++,Ae.jsxs(Q0,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Add Layer"),"data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:[r,Ae.jsxs("div",{className:"maputnik-add-layer",children:[Ae.jsx(Uj,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:a=>{zn().f[15]++,zn().s[50]++,this.setState({id:a,error:null})}}),Ae.jsx(Kj,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:a=>(zn().f[16]++,zn().s[51]++,this.setState({type:a}))}),(zn().b[14][0]++,this.state.type!=="background"&&(zn().b[14][1]++,Ae.jsx(tN,{sourceIds:t,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:a=>(zn().f[17]++,zn().s[52]++,this.setState({source:a}))}))),(zn().b[15][0]++,!_B.includes(this.state.type)&&(zn().b[15][1]++,Ae.jsx(nN,{sourceLayerIds:i,value:this.state["source-layer"],onChange:a=>(zn().f[18]++,zn().s[53]++,this.setState({"source-layer":a}))}))),Ae.jsx(Fs,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:e("Add Layer")})]})]})}}const Bse=(zn().s[54]++,es()(Ese));function D1(){var n="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",e="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return D1=function(){return l},l}D1();let YT=(D1().s[0]++,0);function Nv(n=(D1().b[0][0]++,"")){return D1().f[0]++,D1().s[1]++,YT++,D1().s[2]++,n+YT}function Gr(){var n="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",e="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Gr=function(){return l},l}Gr();function Ose(n,e){Gr().f[0]++;const t=(Gr().s[0]++,{...n.paint});Gr().s[1]++,Object.keys(t).forEach(r=>{Gr().f[1]++,Gr().s[2]++,r in Xa["paint_"+e]?Gr().b[0][1]++:(Gr().b[0][0]++,Gr().s[3]++,delete t[r])});const i=(Gr().s[4]++,{...n.layout});return Gr().s[5]++,Object.keys(i).forEach(r=>{Gr().f[2]++,Gr().s[6]++,r in Xa["layout_"+e]?Gr().b[1][1]++:(Gr().b[1][0]++,Gr().s[7]++,delete i[r])}),Gr().s[8]++,{...n,paint:t,layout:i,type:e}}function Ise(n,e,t,i){if(Gr().f[3]++,Gr().s[9]++,i===void 0)if(Gr().b[2][0]++,Gr().s[10]++,e){Gr().b[3][0]++;const r=(Gr().s[11]++,{...n,[e]:{...n[e]}});return Gr().s[12]++,delete r[e][t],Gr().s[13]++,Object.keys(r[e]).length<1?(Gr().b[4][0]++,Gr().s[14]++,delete r[e]):Gr().b[4][1]++,Gr().s[15]++,r}else{Gr().b[3][1]++;const r=(Gr().s[16]++,{...n});return Gr().s[17]++,delete r[t],Gr().s[18]++,r}else return Gr().b[2][1]++,Gr().s[19]++,e?(Gr().b[5][0]++,Gr().s[20]++,{...n,[e]:{...n[e],[t]:i}}):(Gr().b[5][1]++,Gr().s[21]++,{...n,[t]:i})}function pv(n){return Gr().f[4]++,Gr().s[22]++,n.replace(" ","-").replace("_","-").split("-")[0]}function Tse(n,e){Gr().f[5]++;const t=(Gr().s[23]++,pv(n[e].id));let i=(Gr().s[24]++,e);Gr().s[25]++;for(let r=(Gr().s[26]++,e);r>0;r--){const a=(Gr().s[27]++,pv(n[r-1].id));if(Gr().s[28]++,a===t)Gr().b[6][0]++,Gr().s[29]++,i=r-1;else return Gr().b[6][1]++,Gr().s[30]++,i}return Gr().s[31]++,i}function an(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",e="f68294db07afb93676beed55b7a9de47e3a7c779",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:23,column:24},end:{line:26,column:3}},1:{start:{line:30,column:4},end:{line:30,column:17}},2:{start:{line:31,column:4},end:{line:31,column:45}},3:{start:{line:32,column:4},end:{line:32,column:48}},4:{start:{line:33,column:4},end:{line:42,column:6}},5:{start:{line:45,column:4},end:{line:54,column:7}},6:{start:{line:56,column:17},end:{line:73,column:3}},7:{start:{line:57,column:14},end:{line:57,column:15}},8:{start:{line:58,column:22},end:{line:58,column:24}},9:{start:{line:59,column:4},end:{line:68,column:7}},10:{start:{line:60,column:26},end:{line:60,column:51}},11:{start:{line:61,column:24},end:{line:61,column:52}},12:{start:{line:62,column:6},end:{line:64,column:7}},13:{start:{line:63,column:8},end:{line:63,column:63}},14:{start:{line:65,column:6},end:{line:67,column:9}},15:{start:{line:66,column:8},end:{line:66,column:17}},16:{start:{line:69,column:4},end:{line:72,column:7}},17:{start:{line:75,column:19},end:{line:75,column:21}},18:{start:{line:76,column:41},end:{line:76,column:50}},19:{start:{line:77,column:4},end:{line:94,column:5}},20:{start:{line:77,column:17},end:{line:77,column:18}},21:{start:{line:78,column:24},end:{line:78,column:44}},22:{start:{line:79,column:28},end:{line:79,column:52}},23:{start:{line:80,column:6},end:{line:83,column:8}},24:{start:{line:84,column:20},end:{line:87,column:7}},25:{start:{line:88,column:6},end:{line:93,column:7}},26:{start:{line:89,column:26},end:{line:89,column:51}},27:{start:{line:90,column:8},end:{line:90,column:30}},28:{start:{line:92,column:8},end:{line:92,column:29}},29:{start:{line:95,column:4},end:{line:95,column:18}},30:{start:{line:98,column:22},end:{line:98,column:50}},31:{start:{line:99,column:22},end:{line:99,column:55}},32:{start:{line:100,column:4},end:{line:104,column:5}},33:{start:{line:101,column:6},end:{line:101,column:68}},34:{start:{line:103,column:6},end:{line:103,column:35}},35:{start:{line:105,column:4},end:{line:107,column:7}},36:{start:{line:110,column:22},end:{line:110,column:78}},37:{start:{line:111,column:4},end:{line:111,column:51}},38:{start:{line:114,column:4},end:{line:116,column:5}},39:{start:{line:115,column:6},end:{line:115,column:18}},40:{start:{line:118,column:18},end:{line:120,column:7}},41:{start:{line:121,column:6},end:{line:125,column:7}},42:{start:{line:122,column:8},end:{line:124,column:10}},43:{start:{line:126,column:6},end:{line:126,column:17}},44:{start:{line:128,column:24},end:{line:131,column:5}},45:{start:{line:133,column:18},end:{line:135,column:7}},46:{start:{line:136,column:6},end:{line:136,column:27}},47:{start:{line:137,column:6},end:{line:137,column:17}},48:{start:{line:139,column:23},end:{line:142,column:5}},49:{start:{line:143,column:25},end:{line:143,column:53}},50:{start:{line:144,column:4},end:{line:144,column:24}},51:{start:{line:147,column:4},end:{line:163,column:5}},52:{start:{line:148,column:31},end:{line:148,column:59}},53:{start:{line:149,column:6},end:{line:162,column:7}},54:{start:{line:150,column:23},end:{line:150,column:44}},55:{start:{line:151,column:24},end:{line:154,column:9}},56:{start:{line:155,column:25},end:{line:160,column:19}},57:{start:{line:156,column:10},end:{line:156,column:37}},58:{start:{line:157,column:10},end:{line:159,column:11}},59:{start:{line:158,column:12},end:{line:158,column:36}},60:{start:{line:161,column:8},end:{line:161,column:33}},61:{start:{line:166,column:22},end:{line:166,column:24}},62:{start:{line:167,column:14},end:{line:167,column:15}},63:{start:{line:168,column:26},end:{line:168,column:46}},64:{start:{line:169,column:4},end:{line:219,column:7}},65:{start:{line:170,column:26},end:{line:170,column:51}},66:{start:{line:171,column:6},end:{line:184,column:7}},67:{start:{line:172,column:36},end:{line:182,column:9}},68:{start:{line:176,column:47},end:{line:176,column:52}},69:{start:{line:183,column:8},end:{line:183,column:28}},70:{start:{line:185,column:6},end:{line:218,column:9}},71:{start:{line:186,column:25},end:{line:186,column:72}},72:{start:{line:187,column:27},end:{line:189,column:10}},73:{start:{line:188,column:10},end:{line:188,column:97}},74:{start:{line:190,column:32},end:{line:190,column:34}},75:{start:{line:191,column:8},end:{line:193,column:9}},76:{start:{line:192,column:10},end:{line:192,column:53}},77:{start:{line:194,column:41},end:{line:215,column:9}},78:{start:{line:216,column:8},end:{line:216,column:33}},79:{start:{line:217,column:8},end:{line:217,column:17}},80:{start:{line:220,column:14},end:{line:220,column:26}},81:{start:{line:221,column:4},end:{line:274,column:6}},82:{start:{line:277,column:27},end:{line:277,column:72}},83:{start:{line:278,column:18},end:{line:291,column:1}},84:{start:{line:279,column:18},end:{line:279,column:97}},85:{start:{line:280,column:24},end:{line:288,column:3}},86:{start:{line:281,column:29},end:{line:281,column:34}},87:{start:{line:282,column:4},end:{line:282,column:22}},88:{start:{line:282,column:15},end:{line:282,column:22}},89:{start:{line:283,column:21},end:{line:283,column:78}},90:{start:{line:283,column:55},end:{line:283,column:77}},91:{start:{line:284,column:21},end:{line:284,column:76}},92:{start:{line:284,column:55},end:{line:284,column:75}},93:{start:{line:285,column:4},end:{line:287,column:5}},94:{start:{line:286,column:6},end:{line:286,column:48}},95:{start:{line:289,column:19},end:{line:289,column:56}},96:{start:{line:289,column:47},end:{line:289,column:55}},97:{start:{line:290,column:2},end:{line:290,column:288}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},1:{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:21},end:{line:43,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:25},end:{line:55,column:3}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:56,column:17},end:{line:56,column:18}},loc:{start:{line:56,column:23},end:{line:73,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:59,column:33},end:{line:59,column:34}},loc:{start:{line:59,column:45},end:{line:68,column:5}},line:59},5:{name:"(anonymous_5)",decl:{start:{line:65,column:21},end:{line:65,column:22}},loc:{start:{line:65,column:33},end:{line:67,column:7}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:18},end:{line:96,column:3}},line:74},7:{name:"(anonymous_7)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:37},end:{line:108,column:3}},line:97},8:{name:"(anonymous_8)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:32},end:{line:112,column:3}},line:109},9:{name:"(anonymous_9)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:46},end:{line:145,column:3}},line:113},10:{name:"getRequiredProps",decl:{start:{line:117,column:13},end:{line:117,column:29}},loc:{start:{line:117,column:37},end:{line:127,column:5}},line:117},11:{name:"withoutLayers",decl:{start:{line:132,column:13},end:{line:132,column:26}},loc:{start:{line:132,column:34},end:{line:138,column:5}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:146,column:2},end:{line:146,column:3}},loc:{start:{line:146,column:32},end:{line:164,column:3}},line:146},13:{name:"(anonymous_13)",decl:{start:{line:155,column:50},end:{line:155,column:51}},loc:{start:{line:155,column:63},end:{line:160,column:9}},line:155},14:{name:"(anonymous_14)",decl:{start:{line:165,column:2},end:{line:165,column:3}},loc:{start:{line:165,column:11},end:{line:275,column:3}},line:165},15:{name:"(anonymous_15)",decl:{start:{line:169,column:26},end:{line:169,column:27}},loc:{start:{line:169,column:38},end:{line:219,column:5}},line:169},16:{name:"(anonymous_16)",decl:{start:{line:176,column:40},end:{line:176,column:41}},loc:{start:{line:176,column:47},end:{line:176,column:52}},line:176},17:{name:"(anonymous_17)",decl:{start:{line:185,column:21},end:{line:185,column:22}},loc:{start:{line:185,column:44},end:{line:218,column:7}},line:185},18:{name:"(anonymous_18)",decl:{start:{line:187,column:50},end:{line:187,column:51}},loc:{start:{line:187,column:61},end:{line:189,column:9}},line:187},19:{name:"(anonymous_19)",decl:{start:{line:278,column:18},end:{line:278,column:19}},loc:{start:{line:278,column:29},end:{line:291,column:1}},line:278},20:{name:"(anonymous_20)",decl:{start:{line:280,column:24},end:{line:280,column:25}},loc:{start:{line:280,column:35},end:{line:288,column:3}},line:280},21:{name:"(anonymous_21)",decl:{start:{line:283,column:44},end:{line:283,column:45}},loc:{start:{line:283,column:55},end:{line:283,column:77}},line:283},22:{name:"(anonymous_22)",decl:{start:{line:284,column:44},end:{line:284,column:45}},loc:{start:{line:284,column:55},end:{line:284,column:75}},line:284},23:{name:"(anonymous_23)",decl:{start:{line:289,column:36},end:{line:289,column:37}},loc:{start:{line:289,column:47},end:{line:289,column:55}},line:289}},branchMap:{0:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},1:{loc:{start:{line:82,column:8},end:{line:82,column:79}},type:"cond-expr",locations:[{start:{line:82,column:41},end:{line:82,column:75}},{start:{line:82,column:78},end:{line:82,column:79}}],line:82},2:{loc:{start:{line:88,column:6},end:{line:93,column:7}},type:"if",locations:[{start:{line:88,column:6},end:{line:93,column:7}},{start:{line:91,column:13},end:{line:93,column:7}}],line:88},3:{loc:{start:{line:88,column:10},end:{line:88,column:81}},type:"binary-expr",locations:[{start:{line:88,column:10},end:{line:88,column:23}},{start:{line:88,column:27},end:{line:88,column:81}}],line:88},4:{loc:{start:{line:100,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:100,column:4},end:{line:104,column:5}},{start:{line:102,column:11},end:{line:104,column:5}}],line:100},5:{loc:{start:{line:111,column:11},end:{line:111,column:50}},type:"cond-expr",locations:[{start:{line:111,column:34},end:{line:111,column:38}},{start:{line:111,column:41},end:{line:111,column:50}}],line:111},6:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},7:{loc:{start:{line:121,column:6},end:{line:125,column:7}},type:"if",locations:[{start:{line:121,column:6},end:{line:125,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:121},8:{loc:{start:{line:143,column:27},end:{line:143,column:52}},type:"binary-expr",locations:[{start:{line:143,column:27},end:{line:143,column:38}},{start:{line:143,column:42},end:{line:143,column:52}}],line:143},9:{loc:{start:{line:147,column:4},end:{line:163,column:5}},type:"if",locations:[{start:{line:147,column:4},end:{line:163,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},10:{loc:{start:{line:149,column:6},end:{line:162,column:7}},type:"if",locations:[{start:{line:149,column:6},end:{line:162,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:149},11:{loc:{start:{line:149,column:10},end:{line:149,column:51}},type:"binary-expr",locations:[{start:{line:149,column:10},end:{line:149,column:26}},{start:{line:149,column:30},end:{line:149,column:51}}],line:149},12:{loc:{start:{line:157,column:10},end:{line:159,column:11}},type:"if",locations:[{start:{line:157,column:10},end:{line:159,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157},13:{loc:{start:{line:157,column:14},end:{line:157,column:68}},type:"binary-expr",locations:[{start:{line:157,column:14},end:{line:157,column:32}},{start:{line:157,column:36},end:{line:157,column:68}}],line:157},14:{loc:{start:{line:171,column:6},end:{line:184,column:7}},type:"if",locations:[{start:{line:171,column:6},end:{line:184,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:171},15:{loc:{start:{line:178,column:22},end:{line:178,column:98}},type:"binary-expr",locations:[{start:{line:178,column:22},end:{line:178,column:57}},{start:{line:178,column:61},end:{line:178,column:98}}],line:178},16:{loc:{start:{line:188,column:17},end:{line:188,column:96}},type:"binary-expr",locations:[{start:{line:188,column:17},end:{line:188,column:29}},{start:{line:188,column:33},end:{line:188,column:62}},{start:{line:188,column:66},end:{line:188,column:96}}],line:188},17:{loc:{start:{line:191,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:193,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:191},18:{loc:{start:{line:198,column:52},end:{line:198,column:153}},type:"binary-expr",locations:[{start:{line:198,column:52},end:{line:198,column:69}},{start:{line:198,column:73},end:{line:198,column:112}},{start:{line:198,column:116},end:{line:198,column:153}}],line:198},19:{loc:{start:{line:199,column:53},end:{line:199,column:105}},type:"binary-expr",locations:[{start:{line:199,column:53},end:{line:199,column:84}},{start:{line:199,column:88},end:{line:199,column:105}}],line:199},20:{loc:{start:{line:206,column:25},end:{line:206,column:43}},type:"binary-expr",locations:[{start:{line:206,column:25},end:{line:206,column:37}},{start:{line:206,column:41},end:{line:206,column:43}}],line:206},21:{loc:{start:{line:251,column:26},end:{line:251,column:96}},type:"cond-expr",locations:[{start:{line:251,column:69},end:{line:251,column:82}},{start:{line:251,column:85},end:{line:251,column:96}}],line:251},22:{loc:{start:{line:282,column:4},end:{line:282,column:22}},type:"if",locations:[{start:{line:282,column:4},end:{line:282,column:22}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:282},23:{loc:{start:{line:285,column:4},end:{line:287,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:287,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},24:{loc:{start:{line:285,column:8},end:{line:285,column:67}},type:"binary-expr",locations:[{start:{line:285,column:8},end:{line:285,column:23}},{start:{line:285,column:27},end:{line:285,column:42}},{start:{line:285,column:46},end:{line:285,column:67}}],line:285}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AA+NoB,cAoEd,YApEc;AA/NpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AACnB;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OAEK;AACP;AAAA,EACE;AAAA,EACA;AAAA,OACK;AAEP,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAGrB,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AACrD,SAA+B,uBAAuB;AAwBtD,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YAED,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,UAAM,IAAI,KAAK,MAAM;AAErB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAY;AAAA,QACZ,MAAK;AAAA,QACL,cAAY,EAAE,aAAa;AAAA,QAC3B,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAoC,YAAE,QAAQ,GAAE;AAAA,YAChE,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OACnC,EAAE,UAAU,IAEZ,EAAE,QAAQ;AAAA;AAAA,YAEd,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACT,YAAE,WAAW;AAAA;AAAA,YAChB,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAY,EAAE,aAAa;AAAA,cAE3B,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AAMvE,MAAM,YAAsC,CAAC,UAAU;AACrD,QAAM,UAAU,WAAW,UAAU,eAAe,EAAE,sBAAsB,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;AAE9F,QAAM,gBAAgB,CAAC,UAAwB;AAC7C,UAAM,EAAC,QAAQ,KAAI,IAAI;AACvB,QAAI,CAAC,KAAM;AAEX,UAAM,WAAW,MAAM,OAAO,UAAU,WAAS,MAAM,OAAO,OAAO,EAAE;AACvE,UAAM,WAAW,MAAM,OAAO,UAAU,WAAS,MAAM,OAAO,KAAK,EAAE;AAErE,QAAI,aAAa,MAAM,aAAa,MAAM,aAAa,UAAU;AAC/D,YAAM,YAAY,EAAC,UAAU,SAAQ,CAAC;AAAA,IACxC;AAAA,EACF;AAEA,QAAM,WAAW,MAAM,OAAO,IAAI,WAAS,MAAM,EAAE;AAEnD,SACE,oBAAC,cAAW,SAAkB,oBAAoB,eAAe,WAAW,eAC1E,8BAAC,mBAAgB,OAAO,UAAU,UAAU,6BAC1C,8BAAC,sBAAoB,GAAG,OAAO,GACjC,GACF;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f68294db07afb93676beed55b7a9de47e3a7c779"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return an=function(){return l},l}an();class kse extends ni.Component{static defaultProps=(an().s[0]++,{onLayerSelect:()=>{an().f[0]++}});selectedItemRef;scrollContainerRef;constructor(e){an().f[1]++,an().s[1]++,super(e),an().s[2]++,this.selectedItemRef=ni.createRef(),an().s[3]++,this.scrollContainerRef=ni.createRef(),an().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+Nv()},isOpen:{add:!1}}}toggleModal(e){an().f[2]++,an().s[5]++,this.setState({keys:{...this.state.keys,[e]:+Nv()},isOpen:{...this.state.isOpen,[e]:!this.state.isOpen[e]}})}toggleLayers=(an().s[6]++,()=>{an().f[3]++;let e=(an().s[7]++,0);const t=(an().s[8]++,{});an().s[9]++,this.groupedLayers().forEach(i=>{an().f[4]++;const r=(an().s[10]++,pv(i[0].id)),a=(an().s[11]++,[r,e].join("-"));an().s[12]++,i.length>1?(an().b[0][0]++,an().s[13]++,t[a]=this.state.areAllGroupsExpanded):an().b[0][1]++,an().s[14]++,i.forEach(l=>{an().f[5]++,an().s[15]++,e+=1})}),an().s[16]++,this.setState({collapsedGroups:t,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})});groupedLayers(){an().f[6]++;const e=(an().s[17]++,[]),t=(an().s[18]++,new Map);an().s[19]++;for(let i=(an().s[20]++,0);i<this.props.layers.length;i++){const r=(an().s[21]++,this.props.layers[i]),a=(an().s[22]++,this.props.layers[i-1]);an().s[23]++,t.set(r.id,t.has(r.id)?(an().b[1][0]++,t.get(r.id)+1):(an().b[1][1]++,0));const l=(an().s[24]++,{...r,key:`layers-list-${r.id}-${t.get(r.id)}`});if(an().s[25]++,an().b[3][0]++,a&&(an().b[3][1]++,pv(a.id)==pv(l.id))){an().b[2][0]++;const o=(an().s[26]++,e[e.length-1]);an().s[27]++,o.push(l)}else an().b[2][1]++,an().s[28]++,e.push([l])}return an().s[29]++,e}toggleLayerGroup(e,t){an().f[7]++;const i=(an().s[30]++,[e,t].join("-")),r=(an().s[31]++,{...this.state.collapsedGroups});an().s[32]++,i in this.state.collapsedGroups?(an().b[4][0]++,an().s[33]++,r[i]=!this.state.collapsedGroups[i]):(an().b[4][1]++,an().s[34]++,r[i]=!1),an().s[35]++,this.setState({collapsedGroups:r})}isCollapsed(e,t){an().f[8]++;const i=(an().s[36]++,this.state.collapsedGroups[[e,t].join("-")]);return an().s[37]++,i===void 0?(an().b[5][0]++,!0):(an().b[5][1]++,i)}shouldComponentUpdate(e,t){if(an().f[9]++,an().s[38]++,this.state!==t)return an().b[6][0]++,an().s[39]++,!0;an().b[6][1]++;function i(p){an().f[10]++;const C=(an().s[40]++,{id:p.id});return an().s[41]++,p.layout?(an().b[7][0]++,an().s[42]++,C.layout={visibility:p.layout.visibility}):an().b[7][1]++,an().s[43]++,C}const r=(an().s[44]++,c6.isEqual(e.layers.map(i),this.props.layers.map(i)));function a(p){an().f[11]++;const C=(an().s[45]++,{...p});return an().s[46]++,delete C.layers,an().s[47]++,C}const l=(an().s[48]++,c6.isEqual(a(this.props),a(e))),o=(an().s[49]++,an().b[8][0]++,!(r&&(an().b[8][1]++,l)));return an().s[50]++,o}componentDidUpdate(e){if(an().f[12]++,an().s[51]++,e.selectedLayerIndex!==this.props.selectedLayerIndex){an().b[9][0]++;const t=(an().s[52]++,this.selectedItemRef.current);if(an().s[53]++,an().b[11][0]++,t&&(an().b[11][1]++,t.node)){an().b[10][0]++;const i=(an().s[54]++,t.node),r=(an().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),a=(an().s[56]++,new IntersectionObserver(l=>{an().f[13]++,an().s[57]++,a.unobserve(i),an().s[58]++,an().b[13][0]++,l.length>0&&(an().b[13][1]++,l[0].intersectionRatio<1)?(an().b[12][0]++,an().s[59]++,i.scrollIntoView()):an().b[12][1]++},r));an().s[60]++,a.observe(i)}else an().b[10][1]++}else an().b[9][1]++}render(){an().f[14]++;const e=(an().s[61]++,[]);let t=(an().s[62]++,0);const i=(an().s[63]++,this.groupedLayers());an().s[64]++,i.forEach(a=>{an().f[15]++;const l=(an().s[65]++,pv(a[0].id));if(an().s[66]++,a.length>1){an().b[14][0]++;const o=(an().s[67]++,Ae.jsx(rae,{"data-wd-key":[l,t].join("-"),"aria-controls":a.map(p=>(an().f[16]++,an().s[68]++,p.key)).join(" "),title:l,isActive:(an().b[15][0]++,!this.isCollapsed(l,t)||(an().b[15][1]++,t===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,l,t)},`group-${l}-${t}`));an().s[69]++,e.push(o)}else an().b[14][1]++;an().s[70]++,a.forEach((o,p)=>{an().f[17]++;const C=(an().s[71]++,Tse(this.props.layers,t)),M=(an().s[72]++,this.props.errors.find(K=>(an().f[18]++,an().s[73]++,an().b[16][0]++,K.parsed&&(an().b[16][1]++,K.parsed.type==="layer")&&(an().b[16][2]++,K.parsed.data.index==t)))),O=(an().s[74]++,{});an().s[75]++,t===this.props.selectedLayerIndex?(an().b[17][0]++,an().s[76]++,O.ref=this.selectedItemRef):an().b[17][1]++;const U=(an().s[77]++,Ae.jsx(aae,{className:t0({"maputnik-layer-list-item-collapsed":(an().b[18][0]++,a.length>1&&(an().b[18][1]++,this.isCollapsed(l,C))&&(an().b[18][2]++,t!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(an().b[19][0]++,p==a.length-1&&(an().b[19][1]++,a.length>1)),"maputnik-layer-list-item--error":!!M}),id:o.key,layerId:o.id,layerIndex:t,layerType:o.type,visibility:(an().b[20][0]++,o.layout||(an().b[20][1]++,{})).visibility,isSelected:t===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:this.props.onLayerDestroy?.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...O},o.key));an().s[78]++,e.push(U),an().s[79]++,t+=1})});const r=(an().s[80]++,this.props.t);return an().s[81]++,Ae.jsxs("section",{className:"maputnik-layer-list","data-wd-key":"layer-list",role:"complementary","aria-label":r("Layers list"),ref:this.scrollContainerRef,children:[Ae.jsx(Bse,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),Ae.jsxs("header",{className:"maputnik-layer-list-header",children:[Ae.jsx("span",{className:"maputnik-layer-list-header-title",children:r("Layers")}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx("div",{className:"maputnik-default-property",children:Ae.jsx("div",{className:"maputnik-multibutton",children:Ae.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(an().b[21][0]++,r("Collapse")):(an().b[21][1]++,r("Expand"))})})}),Ae.jsx("div",{className:"maputnik-default-property",children:Ae.jsx("div",{className:"maputnik-multibutton",children:Ae.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:r("Add Layer")})})})]}),Ae.jsx("div",{role:"navigation","aria-label":r("Layers list"),children:Ae.jsx("ul",{className:"maputnik-layer-list-container",children:e})})]})}}const Dse=(an().s[82]++,es()(kse));an().s[83]++;const Rse=n=>{an().f[19]++;const e=(an().s[84]++,Tre(Ire(d8,{activationConstraint:{distance:5}})));an().s[85]++;const t=r=>{an().f[20]++;const{active:a,over:l}=(an().s[86]++,r);if(an().s[87]++,l)an().b[22][1]++;else{an().b[22][0]++,an().s[88]++;return}const o=(an().s[89]++,n.layers.findIndex(C=>(an().f[21]++,an().s[90]++,C.id===a.id))),p=(an().s[91]++,n.layers.findIndex(C=>(an().f[22]++,an().s[92]++,C.id===l.id)));an().s[93]++,an().b[24][0]++,o!==-1&&(an().b[24][1]++,p!==-1)&&(an().b[24][2]++,o!==p)?(an().b[23][0]++,an().s[94]++,n.onMoveLayer({oldIndex:o,newIndex:p})):an().b[23][1]++},i=(an().s[95]++,n.layers.map(r=>(an().f[23]++,an().s[96]++,r.id)));return an().s[97]++,Ae.jsx(Poe,{sensors:e,collisionDetection:Kre,onDragEnd:t,children:Ae.jsx(Hoe,{items:i,strategy:Yoe,children:Ae.jsx(Dse,{...n})})})};var D5,qT;function iN(){if(qT)return D5;qT=1;var n={},e="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function t(l,o){n[l]=o}function i(l){delete n[l]}function r(l,o){var p=n[l];if(!p)throw new Error("Cannot open "+e);p.openMenu(o)}function a(l,o){var p=n[l];if(!p)throw new Error("Cannot close "+e);p.closeMenu(o)}return D5={registerManager:t,unregisterManager:i,openMenu:r,closeMenu:a},D5}var R5,HT;function Pse(){if(HT)return R5;HT=1;function n(r){r=r||{};var a=r.keybindings||{};this._settings={keybindings:{next:a.next||{keyCode:40},prev:a.prev||{keyCode:38},first:a.first,last:a.last},wrap:r.wrap,stringSearch:r.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var l,o;for(l in this._settings.keybindings)o=this._settings.keybindings[l],o&&[].concat(o).forEach((function(p){p.metaKey=p.metaKey||!1,p.ctrlKey=p.ctrlKey||!1,p.altKey=p.altKey||!1,p.shiftKey=p.shiftKey||!1,this._keybindingsLookup.push({action:l,eventMatcher:p})}).bind(this));this._searchString="",this._members=[],r.members&&this.setMembers(r.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}n.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this},n.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this},n.prototype._handleKeydownEvent=function(r){var a=this._getActiveElementIndex();if(a!==-1){var l=!1;this._keybindingsLookup.forEach((function(o){if(e(o.eventMatcher,r))switch(l=!0,r.preventDefault(),o.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),l||this._handleUnboundKey(r)}},n.prototype.moveFocusForward=function(){var r=this._getActiveElementIndex(),a;return r<this._members.length-1?a=r+1:this._settings.wrap?a=0:a=r,this.focusNodeAtIndex(a),a},n.prototype.moveFocusBack=function(){var r=this._getActiveElementIndex(),a;return r>0?a=r-1:this._settings.wrap?a=this._members.length-1:a=r,this.focusNodeAtIndex(a),a},n.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)},n.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)},n.prototype._handleUnboundKey=function(r){if(this._settings.stringSearch){if(this._searchString!==""&&(r.key===" "||r.keyCode===32))return r.preventDefault(),-1;if(!t(r.keyCode)||r.ctrlKey||r.metaKey||r.altKey)return-1;r.preventDefault(),this._addToSearchString(String.fromCharCode(r.keyCode)),this._runStringSearch()}},n.prototype._clearSearchString=function(){this._searchString=""},n.prototype._addToSearchString=function(r){this._searchString+=r.toLowerCase()},n.prototype._startSearchStringRefreshTimer=function(){var r=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){r._clearSearchString()},this._settings.stringSearchDelay)},n.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)},n.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)},n.prototype.moveFocusByString=function(r){for(var a,l=0,o=this._members.length;l<o;l++)if(a=this._members[l],!!a.text&&a.text.indexOf(r)===0)return i(a.node)},n.prototype._findIndexOfNode=function(r){for(var a=0,l=this._members.length;a<l;a++)if(this._members[a].node===r)return a;return-1},n.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)},n.prototype.focusNodeAtIndex=function(r){var a=this._members[r];return a&&i(a.node),this},n.prototype.addMember=function(r,a){var l=r.node||r,o=r.text||l.getAttribute("data-focus-group-text")||l.textContent||"";this._checkNode(l);var p=o.replace(/[\W_]/g,"").toLowerCase(),C={node:l,text:p};return a!=null?this._members.splice(a,0,C):this._members.push(C),this},n.prototype.removeMember=function(r){var a=typeof r=="number"?r:this._findIndexOfNode(r);if(a!==-1)return this._members.splice(a,1),this},n.prototype.clearMembers=function(){return this._members=[],this},n.prototype.setMembers=function(r){this.clearMembers();for(var a=0,l=r.length;a<l;a++)this.addMember(r[a]);return this},n.prototype.getMembers=function(){return this._members},n.prototype._checkNode=function(r){if(!r.nodeType||r.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return r};function e(r,a){for(var l in r)if(a[l]!==void 0&&r[l]!==a[l])return!1;return!0}function t(r){return r>=65&&r<=90}function i(r){!r||!r.focus||(r.focus(),r.tagName.toLowerCase()==="input"&&r.select())}return R5=function(a){return new n(a)},R5}var P5,VT;function Kse(){if(VT)return P5;VT=1;var n=Pse(),e=iN(),t={wrap:!0,stringSearch:!0},i={init:function(p){this.updateOptions(p),this.handleBlur=r.bind(this),this.handleSelection=a.bind(this),this.handleMenuKey=l.bind(this),this.focusGroup=n(t),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(p){var C=this.options;this.options=p||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&e.registerManager(this.options.id,this),C&&C.id&&C.id!==this.options.id&&e.unregisterManager(this.options.id,this)},focusItem:function(p){this.focusGroup.focusNodeAtIndex(p)},addItem:function(p){this.focusGroup.addMember(p)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(p){this.focusGroup._handleUnboundKey(p)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(p){if(!this.isOpen&&(p=p||{},p.focusMenu===void 0&&(p.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),p.focusMenu)){var C=this;this.moveFocusTimer=setTimeout(function(){C.focusItem(0)},0)}},closeMenu:function(p){this.isOpen&&(p=p||{},this.isOpen=!1,this.update(),p.focusButton&&this.button.ref.current.focus())},toggleMenu:function(p,C){p=p||{},C=C||{},this.isOpen?this.closeMenu(p):this.openMenu(C)}};function r(){var o=this;o.blurTimer=setTimeout(function(){if(o.button){var p=o.button.ref.current;if(p){var C=p.ownerDocument.activeElement;if(!(p&&C===p)){var M=o.menu.ref.current;if(M===C){o.focusItem(0);return}M&&M.contains(C)||o.isOpen&&o.closeMenu({focusButton:!1})}}}},0)}function a(o,p){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(o,p)}function l(o){if(this.isOpen)switch(o.key){case"Escape":o.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":o.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":o.preventDefault(),this.focusGroup.moveFocusToLast();break}}return P5=function(o){var p=Object.create(i);return p.init(o),p},P5}var K5,$T;function k2(){if($T)return K5;$T=1;var n=Il(),e=n.createContext();return K5=e,K5}var U5,ZT;function D2(){if(ZT)return U5;ZT=1;var n=W0();return U5={refType:n.oneOfType([n.func,n.shape({current:n.elementType})])},U5}var L5,XT;function R2(){return XT||(XT=1,L5=function(n,e,t){t=t||{};for(var i in e)e.hasOwnProperty(i)&&(t[i]||(n[i]=e[i]))}),L5}var F5,JT;function Use(){if(JT)return F5;JT=1;function n(K,j){if(!(K instanceof j))throw new TypeError("Cannot call a class as a function")}function e(K,j){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:K}function t(K,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);K.prototype=Object.create(j&&j.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(K,j):K.__proto__=j)}var i=Il(),r=W0(),a=Kse(),l=k2(),o=D2(),p=o.refType,C=R2(),M={children:r.node.isRequired,forwardedRef:p,onMenuToggle:r.func,onSelection:r.func,closeOnSelection:r.bool,closeOnBlur:r.bool,tag:r.string},O=function(j){return{onMenuToggle:j.onMenuToggle,onSelection:j.onSelection,closeOnSelection:j.closeOnSelection,closeOnBlur:j.closeOnBlur,id:j.id}},U=function(K){t(j,K);function j(W){n(this,j);var Y=e(this,K.call(this,W));return Y.manager=a(O(W)),Y}return j.prototype.componentDidUpdate=function(){this.manager.updateOptions(O(this.props))},j.prototype.render=function(){var Y={};return C(Y,this.props,M),i.createElement(l.Provider,{value:this.manager},i.createElement(this.props.tag,Y,this.props.children))},j}(i.Component);return U.propTypes=M,U.defaultProps={tag:"div"},F5=i.forwardRef(function(K,j){var W={forwardedRef:j};return C(W,K,{children:M.children,forwardedRef:M.forwardedRef}),C(W,{forwardedRef:j}),i.createElement(U,W,K.children)}),F5}var z5,ek;function Lse(){if(ek)return z5;ek=1;function n(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")}function e(U,K){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:U}function t(U,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);U.prototype=Object.create(K&&K.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(U,K):U.__proto__=K)}var i=Il(),r=W0(),a=k2(),l=D2(),o=l.refType,p=R2(),C={ambManager:r.object.isRequired,children:r.node.isRequired,disabled:r.bool,forwardedRef:o,tag:r.string},M=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},O=function(U){t(K,U);function K(){var j,W,Y;n(this,K);for(var te=arguments.length,J=Array(te),oe=0;oe<te;oe++)J[oe]=arguments[oe];return Y=(j=(W=e(this,U.call.apply(U,[this].concat(J))),W),W.ref=i.createRef(),W.handleKeyDown=function(ne){if(!W.props.disabled){var $=W.props.ambManager;switch(ne.key){case"ArrowDown":ne.preventDefault(),$.isOpen?$.focusItem(0):$.openMenu();break;case"Enter":case" ":ne.preventDefault(),$.toggleMenu();break;case"Escape":$.handleMenuKey(ne);break;default:$.handleButtonNonArrowKey(ne)}}},W.handleClick=function(){W.props.disabled||W.props.ambManager.toggleMenu({},{focusMenu:!1})},W.setRef=function(ne){W.ref.current=ne,typeof W.props.forwardedRef=="function"?W.props.forwardedRef(ne):W.props.forwardedRef&&(W.props.forwardedRef.current=ne)},j),e(W,Y)}return K.prototype.componentDidMount=function(){this.props.ambManager.button=this},K.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},K.prototype.render=function(){var W=this.props,Y=this.props.ambManager,te={role:"button",tabIndex:W.disabled?"":"0","aria-haspopup":!0,"aria-expanded":Y.isOpen,"aria-disabled":W.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},J={};return p(J,C),M().indexOf(W.tag)>=0&&delete J.disabled,Y.options.closeOnBlur&&(te.onBlur=Y.handleBlur),p(te,W,J),p(te,{ref:this.setRef}),i.createElement(W.tag,te,W.children)},K}(i.Component);return O.propTypes=C,O.defaultProps={tag:"span"},z5=i.forwardRef(function(U,K){return i.createElement(a.Consumer,null,function(j){var W={ambManager:j,forwardedRef:K};return p(W,U,{ambManager:C.ambManager,children:C.children,forwardedRef:C.forwardedRef}),i.createElement(O,W,U.children)})}),z5}var j5,tk;function Fse(){return tk||(tk=1,j5=function(e,t,i){var r=0,a=0,l=!1,o=!1,p=!1;e.addEventListener("click",C,i),e.addEventListener("touchstart",M,i);function C(Y){p||t(Y)}function M(Y){p=!0,!l&&(l=!0,e.addEventListener("touchmove",O,i),e.addEventListener("touchend",U,i),e.addEventListener("touchcancel",K,i),o=!1,r=Y.touches[0].clientX,a=Y.touches[0].clientY)}function O(Y){o||Math.abs(Y.touches[0].clientX-r)<=10&&Math.abs(Y.touches[0].clientY-a)<=10||(o=!0)}function U(Y){l=!1,j(),o||t(Y)}function K(){l=!1,o=!1,r=0,a=0}function j(){e.removeEventListener("touchmove",O,i),e.removeEventListener("touchend",U,i),e.removeEventListener("touchcancel",K,i)}function W(){e.removeEventListener("click",C,i),e.removeEventListener("touchstart",M,i),j()}return{remove:W}}),j5}var N5,nk;function zse(){if(nk)return N5;nk=1;function n(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")}function e(U,K){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:U}function t(U,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);U.prototype=Object.create(K&&K.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(U,K):U.__proto__=K)}var i=Il(),r=W0(),a=Fse(),l=k2(),o=D2(),p=o.refType,C=R2(),M={ambManager:r.object.isRequired,children:r.oneOfType([r.func,r.node]).isRequired,forwardedRef:p,tag:r.string},O=function(U){t(K,U);function K(){var j,W,Y;n(this,K);for(var te=arguments.length,J=Array(te),oe=0;oe<te;oe++)J[oe]=arguments[oe];return Y=(j=(W=e(this,U.call.apply(U,[this].concat(J))),W),W.ref=i.createRef(),W.addTapListener=function(){var ne=W.ref.current;if(ne){var $=ne.ownerDocument;$&&(W.tapListener=a($.documentElement,W.handleTap))}},W.handleTap=function(ne){W.ref.current.contains(ne.target)||W.props.ambManager.button.ref.current.contains(ne.target)||W.props.ambManager.closeMenu()},W.setRef=function(ne){W.ref.current=ne,typeof W.props.forwardedRef=="function"?W.props.forwardedRef(ne):W.props.forwardedRef&&(W.props.forwardedRef.current=ne)},j),e(W,Y)}return K.prototype.componentDidMount=function(){this.props.ambManager.menu=this},K.prototype.componentDidUpdate=function(){var W=this.props.ambManager;W.options.closeOnBlur&&(W.isOpen&&!this.tapListener?this.addTapListener():!W.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),W.isOpen||W.clearItems())},K.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},K.prototype.render=function(){var W=this.props,Y=this.props.ambManager,te=function(){return typeof W.children=="function"?W.children({isOpen:Y.isOpen}):Y.isOpen?W.children:!1}();if(!te)return!1;var J={onKeyDown:Y.handleMenuKey,role:"menu",tabIndex:-1};return Y.options.closeOnBlur&&(J.onBlur=Y.handleBlur),C(J,W,M),C(J,{ref:this.setRef}),i.createElement(W.tag,J,te)},K}(i.Component);return O.propTypes=M,O.defaultProps={tag:"div"},N5=i.forwardRef(function(U,K){return i.createElement(l.Consumer,null,function(j){var W={ambManager:j,forwardedRef:K};return C(W,U,{ambManager:M.ambManager,children:M.children,forwardedRef:M.forwardedRef}),i.createElement(O,W,U.children)})}),N5}var G5,ik;function jse(){if(ik)return G5;ik=1;function n(O,U){if(!(O instanceof U))throw new TypeError("Cannot call a class as a function")}function e(O,U){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:O}function t(O,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);O.prototype=Object.create(U&&U.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(O,U):O.__proto__=U)}var i=Il(),r=W0(),a=k2(),l=D2(),o=l.refType,p=R2(),C={ambManager:r.object.isRequired,children:r.node.isRequired,forwardedRef:o,tag:r.string,text:r.string,value:r.any},M=function(O){t(U,O);function U(){var K,j,W;n(this,U);for(var Y=arguments.length,te=Array(Y),J=0;J<Y;J++)te[J]=arguments[J];return W=(K=(j=e(this,O.call.apply(O,[this].concat(te))),j),j.ref=i.createRef(),j.handleKeyDown=function(oe){oe.key!=="Enter"&&oe.key!==" "||j.props.tag==="a"&&j.props.href||(oe.preventDefault(),j.selectItem(oe))},j.selectItem=function(oe){var ne=typeof j.props.value<"u"?j.props.value:j.props.children;j.props.ambManager.handleSelection(ne,oe)},j.setRef=function(oe){j.ref.current=oe,typeof j.props.forwardedRef=="function"?j.props.forwardedRef(oe):j.props.forwardedRef&&(j.props.forwardedRef.current=oe)},K),e(j,W)}return U.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},U.prototype.render=function(){var j={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return p(j,this.props,C),i.createElement(this.props.tag,j,this.props.children)},U}(i.Component);return M.propTypes=C,M.defaultProps={tag:"div"},G5=i.forwardRef(function(O,U){return i.createElement(a.Consumer,null,function(K){var j={ambManager:K,forwardedRef:U};return p(j,O,{ambManager:C.ambManager,children:C.children,forwardedRef:C.forwardedRef}),i.createElement(M,j,O.children)})}),G5}var W5,rk;function Nse(){if(rk)return W5;rk=1;var n=iN();return W5={Wrapper:Use(),Button:Lse(),Menu:zse(),MenuItem:jse(),openMenu:n.openMenu,closeMenu:n.closeMenu},W5}var dx=Nse();function ok(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(t),!0).forEach(function(i){nA(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ok(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function P2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function K2(n,e,t){return e&&ak(n.prototype,e),t&&ak(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function nA(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i0(){return i0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},i0.apply(this,arguments)}function T8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xB(n,e)}function E3(n){return E3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E3(n)}function xB(n,e){return xB=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},xB(n,e)}function Gse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wse(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function U2(n,e){if(n==null)return{};var t=Wse(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function $p(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qse(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $p(n)}function k8(n){var e=Gse();return function(){var i=E3(n),r;if(e){var a=E3(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return Qse(this,r)}}function Yse(n,e){return Vse(n)||Zse(n,e)||rN(n,e)||Jse()}function qse(n){return Hse(n)||$se(n)||rN(n)||Xse()}function Hse(n){if(Array.isArray(n))return MB(n)}function Vse(n){if(Array.isArray(n))return n}function $se(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Zse(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,l,o;try{for(t=t.call(n);!(r=(l=t.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(p){a=!0,o=p}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw o}}return i}}function rN(n,e){if(n){if(typeof n=="string")return MB(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MB(n,e)}}function MB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ele=K2(function n(e){var t=this,i=e.expanded,r=i===void 0?[]:i,a=e.allowMultipleExpanded,l=a===void 0?!1:a,o=e.allowZeroExpanded,p=o===void 0?!1:o;P2(this,n),nA(this,"expanded",void 0),nA(this,"allowMultipleExpanded",void 0),nA(this,"allowZeroExpanded",void 0),nA(this,"toggleExpanded",function(C){if(t.isItemDisabled(C))return t;var M=t.isItemExpanded(C);return M?t.augment({expanded:t.expanded.filter(function(O){return O!==C})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(qse(t.expanded),[C]):[C]})}),nA(this,"isItemDisabled",function(C){var M=t.isItemExpanded(C),O=t.expanded.length===1;return!!(M&&!t.allowZeroExpanded&&O)}),nA(this,"isItemExpanded",function(C){return t.expanded.indexOf(C)!==-1}),nA(this,"getPanelAttributes",function(C,M){var O=M??t.isItemExpanded(C);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!O:void 0,"aria-labelledby":t.getButtonId(C),id:t.getPanelId(C),hidden:O?void 0:!0}}),nA(this,"getHeadingAttributes",function(){return{role:"heading"}}),nA(this,"getButtonAttributes",function(C,M){var O=M??t.isItemExpanded(C),U=t.isItemDisabled(C);return{id:t.getButtonId(C),"aria-disabled":U,"aria-expanded":O,"aria-controls":t.getPanelId(C),role:"button",tabIndex:0}}),nA(this,"getPanelId",function(C){return"accordion__panel-".concat(C)}),nA(this,"getButtonId",function(C){return"accordion__heading-".concat(C)}),nA(this,"augment",function(C){return new n(bB({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},C))}),this.expanded=r,this.allowMultipleExpanded=l,this.allowZeroExpanded=p}),oN=Nt.createContext(null),aN=function(n){T8(t,n);var e=k8(t);function t(){var i;P2(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a)),nA($p(i),"state",new ele({expanded:i.props.preExpanded,allowMultipleExpanded:i.props.allowMultipleExpanded,allowZeroExpanded:i.props.allowZeroExpanded})),nA($p(i),"toggleExpanded",function(o){i.setState(function(p){return p.toggleExpanded(o)},function(){i.props.onChange&&i.props.onChange(i.state.expanded)})}),nA($p(i),"isItemDisabled",function(o){return i.state.isItemDisabled(o)}),nA($p(i),"isItemExpanded",function(o){return i.state.isItemExpanded(o)}),nA($p(i),"getPanelAttributes",function(o,p){return i.state.getPanelAttributes(o,p)}),nA($p(i),"getHeadingAttributes",function(){return i.state.getHeadingAttributes()}),nA($p(i),"getButtonAttributes",function(o,p){return i.state.getButtonAttributes(o,p)}),i}return K2(t,[{key:"render",value:function(){var r=this.state,a=r.allowZeroExpanded,l=r.allowMultipleExpanded;return Nt.createElement(oN.Provider,{value:{allowMultipleExpanded:l,allowZeroExpanded:a,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(Nt.PureComponent);nA(aN,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var sN=function(n){T8(t,n);var e=k8(t);function t(){var i;P2(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a)),nA($p(i),"renderChildren",function(o){return o?i.props.children(o):null}),i}return K2(t,[{key:"render",value:function(){return Nt.createElement(oN.Consumer,null,this.renderChildren)}}]),t}(Nt.PureComponent),tle=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],nle=function(e){var t=e.className,i=t===void 0?"accordion":t,r=e.allowMultipleExpanded,a=e.allowZeroExpanded,l=e.onChange,o=e.preExpanded,p=U2(e,tle);return Nt.createElement(aN,{preExpanded:o,allowMultipleExpanded:r,allowZeroExpanded:a,onChange:l},Nt.createElement("div",i0({"data-accordion-component":"Accordion",className:i},p)))},wB;(function(n){n.Accordion="Accordion",n.AccordionItem="AccordionItem",n.AccordionItemButton="AccordionItemButton",n.AccordionItemHeading="AccordionItemHeading",n.AccordionItemPanel="AccordionItemPanel"})(wB||(wB={}));var lN=wB,Q5=0;function ile(){var n=Q5;return Q5=Q5+1,"raa-".concat(n)}var rle=Nt.useId||ile,ole=/[\u0009\u000a\u000c\u000d\u0020]/g;function G_(n){return n===""||ole.test(n)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(n,'", ASCII whitespaces are forbidden')),!1):!0}var AN=Nt.createContext(null),ale=function(e){var t=e.children,i=e.uuid,r=e.accordionContext,a=e.dangerouslySetExpanded,l=function(){r.toggleExpanded(i)},o=function(C){var M=a??C.isItemExpanded(i),O=C.isItemDisabled(i),U=C.getPanelAttributes(i,a),K=C.getHeadingAttributes(i),j=C.getButtonAttributes(i,a);return Nt.createElement(AN.Provider,{value:{uuid:i,expanded:M,disabled:O,toggleExpanded:l,panelAttributes:U,headingAttributes:K,buttonAttributes:j}},t)};return Nt.createElement(sN,null,o)},sle=function(e){return Nt.createElement(sN,null,function(t){return Nt.createElement(ale,i0({},e,{accordionContext:t}))})},L2=function(e){var t=e.children,i=function(a){return a?t(a):null};return Nt.createElement(AN.Consumer,null,i)},lle=["uuid","dangerouslySetExpanded","className","activeClassName"],uN=function(e){var t=e.uuid,i=e.dangerouslySetExpanded,r=e.className,a=r===void 0?"accordion__item":r,l=e.activeClassName,o=U2(e,lle),p=Nt.useState(rle()),C=Yse(p,1),M=C[0],O=t??M,U=function(j){var W=j.expanded,Y=W&&l?l:a;return Nt.createElement("div",i0({"data-accordion-component":"AccordionItem",className:Y},o))};return G_(O.toString()),o.id&&G_(o.id),Nt.createElement(sle,{uuid:O,dangerouslySetExpanded:i},Nt.createElement(L2,null,U))};uN.displayName=lN.AccordionItem;function cN(n){return n&&(n.matches('[data-accordion-component="Accordion"]')?n:cN(n.parentElement))}function F2(n){var e=cN(n);return e&&Array.from(e.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Ale(n){var e=F2(n)||[],t=e[0];t&&t.focus()}function ule(n){var e=F2(n)||[],t=e[e.length-1];t&&t.focus()}function cle(n){var e=F2(n)||[],t=e.indexOf(n);if(t!==-1){var i=e[t+1];i&&i.focus()}}function hle(n){var e=F2(n)||[],t=e.indexOf(n);if(t!==-1){var i=e[t-1];i&&i.focus()}}var B0={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},dle=["toggleExpanded","className"],fle=function(e){var t=e.toggleExpanded,i=e.className,r=i===void 0?"accordion__button":i,a=U2(e,dle),l=function(p){var C=p.key;if((C===B0.ENTER||C===B0.SPACE||C===B0.SPACE_DEPRECATED)&&(p.preventDefault(),t()),p.target instanceof HTMLElement)switch(C){case B0.HOME:{p.preventDefault(),Ale(p.target);break}case B0.END:{p.preventDefault(),ule(p.target);break}case B0.LEFT:case B0.UP:{p.preventDefault(),hle(p.target);break}case B0.RIGHT:case B0.DOWN:{p.preventDefault(),cle(p.target);break}}};return a.id&&G_(a.id),Nt.createElement("div",i0({className:r},a,{role:"button",tabIndex:0,onClick:t,onKeyDown:l,"data-accordion-component":"AccordionItemButton"}))},ple=function(e){return Nt.createElement(L2,null,function(t){var i=t.toggleExpanded,r=t.buttonAttributes;return Nt.createElement(fle,i0({toggleExpanded:i},e,r))})},mle={className:"accordion__heading","aria-level":3},gle=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,hN=function(n){T8(t,n);var e=k8(t);function t(){var i;P2(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a)),nA($p(i),"ref",void 0),nA($p(i),"setRef",function(o){i.ref=o}),i}return K2(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return Nt.createElement("div",i0({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(r){if(r===void 0)throw new Error("ref is undefined");if(!(r.childElementCount===1&&r.firstElementChild&&r.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(gle)}}]),t}(Nt.PureComponent);nA(hN,"defaultProps",mle);var dN=function(e){return Nt.createElement(L2,null,function(t){var i=t.headingAttributes;return e.id&&G_(e.id),Nt.createElement(hN,i0({},e,i))})};dN.displayName=lN.AccordionItemHeading;var yle=["className","region","id"],vle=function(e){var t=e.className,i=t===void 0?"accordion__panel":t,r=e.region,a=e.id,l=U2(e,yle),o=function(C){var M=C.panelAttributes;a&&G_(a);var O=bB(bB({},M),{},{"aria-labelledby":r?M["aria-labelledby"]:void 0});return Nt.createElement("div",i0({"data-accordion-component":"AccordionItemPanel",className:i},l,O,{role:r?"region":void 0}))};return Nt.createElement(L2,null,o)},Tx={exports:{}},Cle=Tx.exports,sk;function z2(){return sk||(sk=1,function(n,e){(function(t,i){n.exports=i()})(Cle,function(){var t=navigator.userAgent,i=navigator.platform,r=/gecko\/\d/i.test(t),a=/MSIE \d/.test(t),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),p=a||l||o,C=p&&(a?document.documentMode||6:+(o||l)[1]),M=!o&&/WebKit\//.test(t),O=M&&/Qt\/\d+\.\d+/.test(t),U=!o&&/Chrome\/(\d+)/.exec(t),K=U&&+U[1],j=/Opera\//.test(t),W=/Apple Computer/.test(navigator.vendor),Y=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),te=/PhantomJS/.test(t),J=W&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),oe=/Android/.test(t),ne=J||oe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),$=J||/Mac/.test(i),ae=/\bCrOS\b/.test(t),G=/win/i.test(i),ce=j&&t.match(/Version\/(\d*\.\d*)/);ce&&(ce=Number(ce[1])),ce&&ce>=15&&(j=!1,M=!0);var ge=$&&(O||j&&(ce==null||ce<12.11)),ye=r||p&&C>=9;function we(d){return new RegExp("(^|\\s)"+d+"(?:$|\\s)\\s*")}var Ie=function(d,v){var B=d.className,E=we(v).exec(B);if(E){var F=B.slice(E.index+E[0].length);d.className=B.slice(0,E.index)+(F?E[1]+F:"")}};function Se(d){for(var v=d.childNodes.length;v>0;--v)d.removeChild(d.firstChild);return d}function Ve(d,v){return Se(d).appendChild(v)}function xe(d,v,B,E){var F=document.createElement(d);if(B&&(F.className=B),E&&(F.style.cssText=E),typeof v=="string")F.appendChild(document.createTextNode(v));else if(v)for(var Z=0;Z<v.length;++Z)F.appendChild(v[Z]);return F}function ze(d,v,B,E){var F=xe(d,v,B,E);return F.setAttribute("role","presentation"),F}var st;document.createRange?st=function(d,v,B,E){var F=document.createRange();return F.setEnd(E||d,B),F.setStart(d,v),F}:st=function(d,v,B){var E=document.body.createTextRange();try{E.moveToElementText(d.parentNode)}catch{return E}return E.collapse(!0),E.moveEnd("character",B),E.moveStart("character",v),E};function Ct(d,v){if(v.nodeType==3&&(v=v.parentNode),d.contains)return d.contains(v);do if(v.nodeType==11&&(v=v.host),v==d)return!0;while(v=v.parentNode)}function nt(d){var v=d.ownerDocument||d,B;try{B=d.activeElement}catch{B=v.body||null}for(;B&&B.shadowRoot&&B.shadowRoot.activeElement;)B=B.shadowRoot.activeElement;return B}function be(d,v){var B=d.className;we(v).test(B)||(d.className+=(B?" ":"")+v)}function Ne(d,v){for(var B=d.split(" "),E=0;E<B.length;E++)B[E]&&!we(B[E]).test(v)&&(v+=" "+B[E]);return v}var tt=function(d){d.select()};J?tt=function(d){d.selectionStart=0,d.selectionEnd=d.value.length}:p&&(tt=function(d){try{d.select()}catch{}});function lt(d){return d.display.wrapper.ownerDocument}function kt(d){return gt(d.display.wrapper)}function gt(d){return d.getRootNode?d.getRootNode():d.ownerDocument}function St(d){return lt(d).defaultView}function Ut(d){var v=Array.prototype.slice.call(arguments,1);return function(){return d.apply(null,v)}}function Fe(d,v,B){v||(v={});for(var E in d)d.hasOwnProperty(E)&&(B!==!1||!v.hasOwnProperty(E))&&(v[E]=d[E]);return v}function Ke(d,v,B,E,F){v==null&&(v=d.search(/[^\s\u00a0]/),v==-1&&(v=d.length));for(var Z=E||0,fe=F||0;;){var _e=d.indexOf("	",Z);if(_e<0||_e>=v)return fe+(v-Z);fe+=_e-Z,fe+=B-fe%B,Z=_e+1}}var Re=function(){this.id=null,this.f=null,this.time=0,this.handler=Ut(this.onTimeout,this)};Re.prototype.onTimeout=function(d){d.id=0,d.time<=+new Date?d.f():setTimeout(d.handler,d.time-+new Date)},Re.prototype.set=function(d,v){this.f=v;var B=+new Date+d;(!this.id||B<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,d),this.time=B)};function He(d,v){for(var B=0;B<d.length;++B)if(d[B]==v)return B;return-1}var bt=50,_t={toString:function(){return"CodeMirror.Pass"}},Ot={scroll:!1},qt={origin:"*mouse"},Kt={origin:"+move"};function on(d,v,B){for(var E=0,F=0;;){var Z=d.indexOf("	",E);Z==-1&&(Z=d.length);var fe=Z-E;if(Z==d.length||F+fe>=v)return E+Math.min(fe,v-F);if(F+=Z-E,F+=B-F%B,E=Z+1,F>=v)return E}}var Jn=[""];function Wt(d){for(;Jn.length<=d;)Jn.push($n(Jn)+" ");return Jn[d]}function $n(d){return d[d.length-1]}function On(d,v){for(var B=[],E=0;E<d.length;E++)B[E]=v(d[E],E);return B}function Bn(d,v,B){for(var E=0,F=B(v);E<d.length&&B(d[E])<=F;)E++;d.splice(E,0,v)}function In(){}function Oi(d,v){var B;return Object.create?B=Object.create(d):(In.prototype=d,B=new In),v&&Fe(v,B),B}var ei=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Kn(d){return/\w/.test(d)||d>""&&(d.toUpperCase()!=d.toLowerCase()||ei.test(d))}function je(d,v){return v?v.source.indexOf("\\w")>-1&&Kn(d)?!0:v.test(d):Kn(d)}function de(d){for(var v in d)if(d.hasOwnProperty(v)&&d[v])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(d){return d.charCodeAt(0)>=768&&re.test(d)}function pe(d,v,B){for(;(B<0?v>0:v<d.length)&&le(d.charAt(v));)v+=B;return v}function Te(d,v,B){for(var E=v>B?-1:1;;){if(v==B)return v;var F=(v+B)/2,Z=E<0?Math.ceil(F):Math.floor(F);if(Z==v)return d(Z)?v:B;d(Z)?B=Z:v=Z+E}}function We(d,v,B,E){if(!d)return E(v,B,"ltr",0);for(var F=!1,Z=0;Z<d.length;++Z){var fe=d[Z];(fe.from<B&&fe.to>v||v==B&&fe.to==v)&&(E(Math.max(fe.from,v),Math.min(fe.to,B),fe.level==1?"rtl":"ltr",Z),F=!0)}F||E(v,B,"ltr")}var dt=null;function Ye(d,v,B){var E;dt=null;for(var F=0;F<d.length;++F){var Z=d[F];if(Z.from<v&&Z.to>v)return F;Z.to==v&&(Z.from!=Z.to&&B=="before"?E=F:dt=F),Z.from==v&&(Z.from!=Z.to&&B!="before"?E=F:dt=F)}return E??dt}var De=function(){var d="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",v="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function B(Le){return Le<=247?d.charAt(Le):1424<=Le&&Le<=1524?"R":1536<=Le&&Le<=1785?v.charAt(Le-1536):1774<=Le&&Le<=2220?"r":8192<=Le&&Le<=8203?"w":Le==8204?"b":"L"}var E=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,F=/[stwN]/,Z=/[LRr]/,fe=/[Lb1n]/,_e=/[1n]/;function ke(Le,vt,It){this.level=Le,this.from=vt,this.to=It}return function(Le,vt){var It=vt=="ltr"?"L":"R";if(Le.length==0||vt=="ltr"&&!E.test(Le))return!1;for(var Jt=Le.length,Ht=[],_n=0;_n<Jt;++_n)Ht.push(B(Le.charCodeAt(_n)));for(var Rn=0,oi=It;Rn<Jt;++Rn){var mi=Ht[Rn];mi=="m"?Ht[Rn]=oi:oi=mi}for(var Ci=0,gi=It;Ci<Jt;++Ci){var Di=Ht[Ci];Di=="1"&&gi=="r"?Ht[Ci]="n":Z.test(Di)&&(gi=Di,Di=="r"&&(Ht[Ci]="R"))}for(var sr=1,qi=Ht[0];sr<Jt-1;++sr){var eo=Ht[sr];eo=="+"&&qi=="1"&&Ht[sr+1]=="1"?Ht[sr]="1":eo==","&&qi==Ht[sr+1]&&(qi=="1"||qi=="n")&&(Ht[sr]=qi),qi=eo}for(var wr=0;wr<Jt;++wr){var ss=Ht[wr];if(ss==",")Ht[wr]="N";else if(ss=="%"){var ha=void 0;for(ha=wr+1;ha<Jt&&Ht[ha]=="%";++ha);for(var Hr=wr&&Ht[wr-1]=="!"||ha<Jt&&Ht[ha]=="1"?"1":"N",_s=wr;_s<ha;++_s)Ht[_s]=Hr;wr=ha-1}}for(var bs=0,da=It;bs<Jt;++bs){var $l=Ht[bs];da=="L"&&$l=="1"?Ht[bs]="L":Z.test($l)&&(da=$l)}for(var ks=0;ks<Jt;++ks)if(F.test(Ht[ks])){var Ws=void 0;for(Ws=ks+1;Ws<Jt&&F.test(Ht[Ws]);++Ws);for(var Ir=(ks?Ht[ks-1]:It)=="L",Oa=(Ws<Jt?Ht[Ws]:It)=="L",Zl=Ir==Oa?Ir?"L":"R":It,mc=ks;mc<Ws;++mc)Ht[mc]=Zl;ks=Ws-1}for(var mA=[],ah,fs=0;fs<Jt;)if(fe.test(Ht[fs])){var Su=fs;for(++fs;fs<Jt&&fe.test(Ht[fs]);++fs);mA.push(new ke(0,Su,fs))}else{var wl=fs,gc=mA.length,ll=vt=="rtl"?1:0;for(++fs;fs<Jt&&Ht[fs]!="L";++fs);for(var gA=wl;gA<fs;)if(_e.test(Ht[gA])){wl<gA&&(mA.splice(gc,0,new ke(1,wl,gA)),gc+=ll);var Zu=gA;for(++gA;gA<fs&&_e.test(Ht[gA]);++gA);mA.splice(gc,0,new ke(2,Zu,gA)),gc+=ll,wl=gA}else++gA;wl<fs&&mA.splice(gc,0,new ke(1,wl,fs))}return vt=="ltr"&&(mA[0].level==1&&(ah=Le.match(/^\s+/))&&(mA[0].from=ah[0].length,mA.unshift(new ke(0,0,ah[0].length))),$n(mA).level==1&&(ah=Le.match(/\s+$/))&&($n(mA).to-=ah[0].length,mA.push(new ke(0,Jt-ah[0].length,Jt)))),vt=="rtl"?mA.reverse():mA}}();function Ze(d,v){var B=d.order;return B==null&&(B=d.order=De(d.text,v)),B}var g=[],mt=function(d,v,B){if(d.addEventListener)d.addEventListener(v,B,!1);else if(d.attachEvent)d.attachEvent("on"+v,B);else{var E=d._handlers||(d._handlers={});E[v]=(E[v]||g).concat(B)}};function ht(d,v){return d._handlers&&d._handlers[v]||g}function Tt(d,v,B){if(d.removeEventListener)d.removeEventListener(v,B,!1);else if(d.detachEvent)d.detachEvent("on"+v,B);else{var E=d._handlers,F=E&&E[v];if(F){var Z=He(F,B);Z>-1&&(E[v]=F.slice(0,Z).concat(F.slice(Z+1)))}}}function it(d,v){var B=ht(d,v);if(B.length)for(var E=Array.prototype.slice.call(arguments,2),F=0;F<B.length;++F)B[F].apply(null,E)}function en(d,v,B){return typeof v=="string"&&(v={type:v,preventDefault:function(){this.defaultPrevented=!0}}),it(d,B||v.type,d,v),tr(v)||v.codemirrorIgnore}function Dn(d){var v=d._handlers&&d._handlers.cursorActivity;if(v)for(var B=d.curOp.cursorActivityHandlers||(d.curOp.cursorActivityHandlers=[]),E=0;E<v.length;++E)He(B,v[E])==-1&&B.push(v[E])}function Mn(d,v){return ht(d,v).length>0}function ii(d){d.prototype.on=function(v,B){mt(this,v,B)},d.prototype.off=function(v,B){Tt(this,v,B)}}function Wn(d){d.preventDefault?d.preventDefault():d.returnValue=!1}function Hi(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function tr(d){return d.defaultPrevented!=null?d.defaultPrevented:d.returnValue==!1}function Ei(d){Wn(d),Hi(d)}function hi(d){return d.target||d.srcElement}function ti(d){var v=d.which;return v==null&&(d.button&1?v=1:d.button&2?v=3:d.button&4&&(v=2)),$&&d.ctrlKey&&v==1&&(v=3),v}var Qi=function(){if(p&&C<9)return!1;var d=xe("div");return"draggable"in d||"dragDrop"in d}(),wn;function uo(d){if(wn==null){var v=xe("span","");Ve(d,xe("span",[v,document.createTextNode("x")])),d.firstChild.offsetHeight!=0&&(wn=v.offsetWidth<=1&&v.offsetHeight>2&&!(p&&C<8))}var B=wn?xe("span",""):xe("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return B.setAttribute("cm-text",""),B}var Vi;function ya(d){if(Vi!=null)return Vi;var v=Ve(d,document.createTextNode("AA")),B=st(v,0,1).getBoundingClientRect(),E=st(v,1,2).getBoundingClientRect();return Se(d),!B||B.left==B.right?!1:Vi=E.right-B.right<3}var ko=`

b`.split(/\n/).length!=3?function(d){for(var v=0,B=[],E=d.length;v<=E;){var F=d.indexOf(`
`,v);F==-1&&(F=d.length);var Z=d.slice(v,d.charAt(F-1)=="\r"?F-1:F),fe=Z.indexOf("\r");fe!=-1?(B.push(Z.slice(0,fe)),v+=fe+1):(B.push(Z),v=F+1)}return B}:function(d){return d.split(/\r\n?|\n/)},Zn=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch{return!1}}:function(d){var v;try{v=d.ownerDocument.selection.createRange()}catch{}return!v||v.parentElement()!=d?!1:v.compareEndPoints("StartToEnd",v)!=0},Ar=function(){var d=xe("div");return"oncopy"in d?!0:(d.setAttribute("oncopy","return;"),typeof d.oncopy=="function")}(),zi=null;function Cr(d){if(zi!=null)return zi;var v=Ve(d,xe("span","x")),B=v.getBoundingClientRect(),E=st(v,0,1).getBoundingClientRect();return zi=Math.abs(B.left-E.left)>1}var ja={},kr={};function ji(d,v){arguments.length>2&&(v.dependencies=Array.prototype.slice.call(arguments,2)),ja[d]=v}function yl(d,v){kr[d]=v}function Pa(d){if(typeof d=="string"&&kr.hasOwnProperty(d))d=kr[d];else if(d&&typeof d.name=="string"&&kr.hasOwnProperty(d.name)){var v=kr[d.name];typeof v=="string"&&(v={name:v}),d=Oi(v,d),d.name=v.name}else{if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d))return Pa("application/xml");if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(d))return Pa("application/json")}return typeof d=="string"?{name:d}:d||{name:"null"}}function So(d,v){v=Pa(v);var B=ja[v.name];if(!B)return So(d,"text/plain");var E=B(d,v);if(ts.hasOwnProperty(v.name)){var F=ts[v.name];for(var Z in F)F.hasOwnProperty(Z)&&(E.hasOwnProperty(Z)&&(E["_"+Z]=E[Z]),E[Z]=F[Z])}if(E.name=v.name,v.helperType&&(E.helperType=v.helperType),v.modeProps)for(var fe in v.modeProps)E[fe]=v.modeProps[fe];return E}var ts={};function Tl(d,v){var B=ts.hasOwnProperty(d)?ts[d]:ts[d]={};Fe(v,B)}function co(d,v){if(v===!0)return v;if(d.copyState)return d.copyState(v);var B={};for(var E in v){var F=v[E];F instanceof Array&&(F=F.concat([])),B[E]=F}return B}function QA(d,v){for(var B;d.innerMode&&(B=d.innerMode(v),!(!B||B.mode==d));)v=B.state,d=B.mode;return B||{mode:d,state:v}}function Ka(d,v,B){return d.startState?d.startState(v,B):!0}var $i=function(d,v,B){this.pos=this.start=0,this.string=d,this.tabSize=v||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=B};$i.prototype.eol=function(){return this.pos>=this.string.length},$i.prototype.sol=function(){return this.pos==this.lineStart},$i.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},$i.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},$i.prototype.eat=function(d){var v=this.string.charAt(this.pos),B;if(typeof d=="string"?B=v==d:B=v&&(d.test?d.test(v):d(v)),B)return++this.pos,v},$i.prototype.eatWhile=function(d){for(var v=this.pos;this.eat(d););return this.pos>v},$i.prototype.eatSpace=function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},$i.prototype.skipToEnd=function(){this.pos=this.string.length},$i.prototype.skipTo=function(d){var v=this.string.indexOf(d,this.pos);if(v>-1)return this.pos=v,!0},$i.prototype.backUp=function(d){this.pos-=d},$i.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ke(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ke(this.string,this.lineStart,this.tabSize):0)},$i.prototype.indentation=function(){return Ke(this.string,null,this.tabSize)-(this.lineStart?Ke(this.string,this.lineStart,this.tabSize):0)},$i.prototype.match=function(d,v,B){if(typeof d=="string"){var E=function(fe){return B?fe.toLowerCase():fe},F=this.string.substr(this.pos,d.length);if(E(F)==E(d))return v!==!1&&(this.pos+=d.length),!0}else{var Z=this.string.slice(this.pos).match(d);return Z&&Z.index>0?null:(Z&&v!==!1&&(this.pos+=Z[0].length),Z)}},$i.prototype.current=function(){return this.string.slice(this.start,this.pos)},$i.prototype.hideFirstChars=function(d,v){this.lineStart+=d;try{return v()}finally{this.lineStart-=d}},$i.prototype.lookAhead=function(d){var v=this.lineOracle;return v&&v.lookAhead(d)},$i.prototype.baseToken=function(){var d=this.lineOracle;return d&&d.baseToken(this.pos)};function Mi(d,v){if(v-=d.first,v<0||v>=d.size)throw new Error("There is no line "+(v+d.first)+" in the document.");for(var B=d;!B.lines;)for(var E=0;;++E){var F=B.children[E],Z=F.chunkSize();if(v<Z){B=F;break}v-=Z}return B.lines[v]}function cs(d,v,B){var E=[],F=v.line;return d.iter(v.line,B.line+1,function(Z){var fe=Z.text;F==B.line&&(fe=fe.slice(0,B.ch)),F==v.line&&(fe=fe.slice(v.ch)),E.push(fe),++F}),E}function Sa(d,v,B){var E=[];return d.iter(v,B,function(F){E.push(F.text)}),E}function Zo(d,v){var B=v-d.height;if(B)for(var E=d;E;E=E.parent)E.height+=B}function $e(d){if(d.parent==null)return null;for(var v=d.parent,B=He(v.lines,d),E=v.parent;E;v=E,E=E.parent)for(var F=0;E.children[F]!=v;++F)B+=E.children[F].chunkSize();return B+v.first}function Et(d,v){var B=d.first;e:do{for(var E=0;E<d.children.length;++E){var F=d.children[E],Z=F.height;if(v<Z){d=F;continue e}v-=Z,B+=F.chunkSize()}return B}while(!d.lines);for(var fe=0;fe<d.lines.length;++fe){var _e=d.lines[fe],ke=_e.height;if(v<ke)break;v-=ke}return B+fe}function xn(d,v){return v>=d.first&&v<d.first+d.size}function Gn(d,v){return String(d.lineNumberFormatter(v+d.firstLineNumber))}function rn(d,v,B){if(B===void 0&&(B=null),!(this instanceof rn))return new rn(d,v,B);this.line=d,this.ch=v,this.sticky=B}function si(d,v){return d.line-v.line||d.ch-v.ch}function to(d,v){return d.sticky==v.sticky&&si(d,v)==0}function Eo(d){return rn(d.line,d.ch)}function hs(d,v){return si(d,v)<0?v:d}function zs(d,v){return si(d,v)<0?d:v}function YA(d,v){return Math.max(d.first,Math.min(v,d.first+d.size-1))}function Yi(d,v){if(v.line<d.first)return rn(d.first,0);var B=d.first+d.size-1;return v.line>B?rn(B,Mi(d,B).text.length):Pu(v,Mi(d,v.line).text.length)}function Pu(d,v){var B=d.ch;return B==null||B>v?rn(d.line,v):B<0?rn(d.line,0):d}function bA(d,v){for(var B=[],E=0;E<v.length;E++)B[E]=Yi(d,v[E]);return B}var vl=function(d,v){this.state=d,this.lookAhead=v},Es=function(d,v,B,E){this.state=v,this.doc=d,this.line=B,this.maxLookAhead=E||0,this.baseTokens=null,this.baseTokenPos=1};Es.prototype.lookAhead=function(d){var v=this.doc.getLine(this.line+d);return v!=null&&d>this.maxLookAhead&&(this.maxLookAhead=d),v},Es.prototype.baseToken=function(d){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=d;)this.baseTokenPos+=2;var v=this.baseTokens[this.baseTokenPos+1];return{type:v&&v.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-d}},Es.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Es.fromSaved=function(d,v,B){return v instanceof vl?new Es(d,co(d.mode,v.state),B,v.lookAhead):new Es(d,co(d.mode,v),B)},Es.prototype.save=function(d){var v=d!==!1?co(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new vl(v,this.maxLookAhead):v};function Mc(d,v,B,E){var F=[d.state.modeGen],Z={};Mr(d,v.text,d.doc.mode,B,function(Le,vt){return F.push(Le,vt)},Z,E);for(var fe=B.state,_e=function(Le){B.baseTokens=F;var vt=d.state.overlays[Le],It=1,Jt=0;B.state=!0,Mr(d,v.text,vt.mode,B,function(Ht,_n){for(var Rn=It;Jt<Ht;){var oi=F[It];oi>Ht&&F.splice(It,1,Ht,F[It+1],oi),It+=2,Jt=Math.min(Ht,oi)}if(_n)if(vt.opaque)F.splice(Rn,It-Rn,Ht,"overlay "+_n),It=Rn+2;else for(;Rn<It;Rn+=2){var mi=F[Rn+1];F[Rn+1]=(mi?mi+" ":"")+"overlay "+_n}},Z),B.state=fe,B.baseTokens=null,B.baseTokenPos=1},ke=0;ke<d.state.overlays.length;++ke)_e(ke);return{styles:F,classes:Z.bgClass||Z.textClass?Z:null}}function Hs(d,v,B){if(!v.styles||v.styles[0]!=d.state.modeGen){var E=Xo(d,$e(v)),F=v.text.length>d.options.maxHighlightLength&&co(d.doc.mode,E.state),Z=Mc(d,v,E);F&&(E.state=F),v.stateAfter=E.save(!F),v.styles=Z.styles,Z.classes?v.styleClasses=Z.classes:v.styleClasses&&(v.styleClasses=null),B===d.doc.highlightFrontier&&(d.doc.modeFrontier=Math.max(d.doc.modeFrontier,++d.doc.highlightFrontier))}return v.styles}function Xo(d,v,B){var E=d.doc,F=d.display;if(!E.mode.startState)return new Es(E,!0,v);var Z=rA(d,v,B),fe=Z>E.first&&Mi(E,Z-1).stateAfter,_e=fe?Es.fromSaved(E,fe,Z):new Es(E,Ka(E.mode),Z);return E.iter(Z,v,function(ke){Do(d,ke.text,_e);var Le=_e.line;ke.stateAfter=Le==v-1||Le%5==0||Le>=F.viewFrom&&Le<F.viewTo?_e.save():null,_e.nextLine()}),B&&(E.modeFrontier=_e.line),_e}function Do(d,v,B,E){var F=d.doc.mode,Z=new $i(v,d.options.tabSize,B);for(Z.start=Z.pos=E||0,v==""&&fr(F,B.state);!Z.eol();)Ul(F,Z,B.state),Z.start=Z.pos}function fr(d,v){if(d.blankLine)return d.blankLine(v);if(d.innerMode){var B=QA(d,v);if(B.mode.blankLine)return B.mode.blankLine(B.state)}}function Ul(d,v,B,E){for(var F=0;F<10;F++){E&&(E[0]=QA(d,B).mode);var Z=d.token(v,B);if(v.pos>v.start)return Z}throw new Error("Mode "+d.name+" failed to advance stream.")}var va=function(d,v,B){this.start=d.start,this.end=d.pos,this.string=d.current(),this.type=v||null,this.state=B};function Ll(d,v,B,E){var F=d.doc,Z=F.mode,fe;v=Yi(F,v);var _e=Mi(F,v.line),ke=Xo(d,v.line,B),Le=new $i(_e.text,d.options.tabSize,ke),vt;for(E&&(vt=[]);(E||Le.pos<v.ch)&&!Le.eol();)Le.start=Le.pos,fe=Ul(Z,Le,ke.state),E&&vt.push(new va(Le,fe,co(F.mode,ke.state)));return E?vt:new va(Le,fe,ke.state)}function xA(d,v){if(d)for(;;){var B=d.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!B)break;d=d.slice(0,B.index)+d.slice(B.index+B[0].length);var E=B[1]?"bgClass":"textClass";v[E]==null?v[E]=B[2]:new RegExp("(?:^|\\s)"+B[2]+"(?:$|\\s)").test(v[E])||(v[E]+=" "+B[2])}return d}function Mr(d,v,B,E,F,Z,fe){var _e=B.flattenSpans;_e==null&&(_e=d.options.flattenSpans);var ke=0,Le=null,vt=new $i(v,d.options.tabSize,E),It,Jt=d.options.addModeClass&&[null];for(v==""&&xA(fr(B,E.state),Z);!vt.eol();){if(vt.pos>d.options.maxHighlightLength?(_e=!1,fe&&Do(d,v,E,vt.pos),vt.pos=v.length,It=null):It=xA(Ul(B,vt,E.state,Jt),Z),Jt){var Ht=Jt[0].name;Ht&&(It="m-"+(It?Ht+" "+It:Ht))}if(!_e||Le!=It){for(;ke<vt.start;)ke=Math.min(vt.start,ke+5e3),F(ke,Le);Le=It}vt.start=vt.pos}for(;ke<vt.pos;){var _n=Math.min(vt.pos,ke+5e3);F(_n,Le),ke=_n}}function rA(d,v,B){for(var E,F,Z=d.doc,fe=B?-1:v-(d.doc.mode.innerMode?1e3:100),_e=v;_e>fe;--_e){if(_e<=Z.first)return Z.first;var ke=Mi(Z,_e-1),Le=ke.stateAfter;if(Le&&(!B||_e+(Le instanceof vl?Le.lookAhead:0)<=Z.modeFrontier))return _e;var vt=Ke(ke.text,null,d.options.tabSize);(F==null||E>vt)&&(F=_e-1,E=vt)}return F}function hu(d,v){if(d.modeFrontier=Math.min(d.modeFrontier,v),!(d.highlightFrontier<v-10)){for(var B=d.first,E=v-1;E>B;E--){var F=Mi(d,E).stateAfter;if(F&&(!(F instanceof vl)||E+F.lookAhead<v)){B=E+1;break}}d.highlightFrontier=Math.min(d.highlightFrontier,B)}}var No=!1,Bo=!1;function Na(){No=!0}function Ea(){Bo=!0}function sa(d,v,B){this.marker=d,this.from=v,this.to=B}function Rr(d,v){if(d)for(var B=0;B<d.length;++B){var E=d[B];if(E.marker==v)return E}}function oA(d,v){for(var B,E=0;E<d.length;++E)d[E]!=v&&(B||(B=[])).push(d[E]);return B}function Ga(d,v,B){var E=B&&window.WeakSet&&(B.markedSpans||(B.markedSpans=new WeakSet));E&&d.markedSpans&&E.has(d.markedSpans)?d.markedSpans.push(v):(d.markedSpans=d.markedSpans?d.markedSpans.concat([v]):[v],E&&E.add(d.markedSpans)),v.marker.attachLine(d)}function ns(d,v,B){var E;if(d)for(var F=0;F<d.length;++F){var Z=d[F],fe=Z.marker,_e=Z.from==null||(fe.inclusiveLeft?Z.from<=v:Z.from<v);if(_e||Z.from==v&&fe.type=="bookmark"&&(!B||!Z.marker.insertLeft)){var ke=Z.to==null||(fe.inclusiveRight?Z.to>=v:Z.to>v);(E||(E=[])).push(new sa(fe,Z.from,ke?null:Z.to))}}return E}function Ca(d,v,B){var E;if(d)for(var F=0;F<d.length;++F){var Z=d[F],fe=Z.marker,_e=Z.to==null||(fe.inclusiveRight?Z.to>=v:Z.to>v);if(_e||Z.from==v&&fe.type=="bookmark"&&(!B||Z.marker.insertLeft)){var ke=Z.from==null||(fe.inclusiveLeft?Z.from<=v:Z.from<v);(E||(E=[])).push(new sa(fe,ke?null:Z.from-v,Z.to==null?null:Z.to-v))}}return E}function Pr(d,v){if(v.full)return null;var B=xn(d,v.from.line)&&Mi(d,v.from.line).markedSpans,E=xn(d,v.to.line)&&Mi(d,v.to.line).markedSpans;if(!B&&!E)return null;var F=v.from.ch,Z=v.to.ch,fe=si(v.from,v.to)==0,_e=ns(B,F,fe),ke=Ca(E,Z,fe),Le=v.text.length==1,vt=$n(v.text).length+(Le?F:0);if(_e)for(var It=0;It<_e.length;++It){var Jt=_e[It];if(Jt.to==null){var Ht=Rr(ke,Jt.marker);Ht?Le&&(Jt.to=Ht.to==null?null:Ht.to+vt):Jt.to=F}}if(ke)for(var _n=0;_n<ke.length;++_n){var Rn=ke[_n];if(Rn.to!=null&&(Rn.to+=vt),Rn.from==null){var oi=Rr(_e,Rn.marker);oi||(Rn.from=vt,Le&&(_e||(_e=[])).push(Rn))}else Rn.from+=vt,Le&&(_e||(_e=[])).push(Rn)}_e&&(_e=Cl(_e)),ke&&ke!=_e&&(ke=Cl(ke));var mi=[_e];if(!Le){var Ci=v.text.length-2,gi;if(Ci>0&&_e)for(var Di=0;Di<_e.length;++Di)_e[Di].to==null&&(gi||(gi=[])).push(new sa(_e[Di].marker,null,null));for(var sr=0;sr<Ci;++sr)mi.push(gi);mi.push(ke)}return mi}function Cl(d){for(var v=0;v<d.length;++v){var B=d[v];B.from!=null&&B.from==B.to&&B.marker.clearWhenEmpty!==!1&&d.splice(v--,1)}return d.length?d:null}function Xi(d,v,B){var E=null;if(d.iter(v.line,B.line+1,function(Ht){if(Ht.markedSpans)for(var _n=0;_n<Ht.markedSpans.length;++_n){var Rn=Ht.markedSpans[_n].marker;Rn.readOnly&&(!E||He(E,Rn)==-1)&&(E||(E=[])).push(Rn)}}),!E)return null;for(var F=[{from:v,to:B}],Z=0;Z<E.length;++Z)for(var fe=E[Z],_e=fe.find(0),ke=0;ke<F.length;++ke){var Le=F[ke];if(!(si(Le.to,_e.from)<0||si(Le.from,_e.to)>0)){var vt=[ke,1],It=si(Le.from,_e.from),Jt=si(Le.to,_e.to);(It<0||!fe.inclusiveLeft&&!It)&&vt.push({from:Le.from,to:_e.from}),(Jt>0||!fe.inclusiveRight&&!Jt)&&vt.push({from:_e.to,to:Le.to}),F.splice.apply(F,vt),ke+=vt.length-3}}return F}function wi(d){var v=d.markedSpans;if(v){for(var B=0;B<v.length;++B)v[B].marker.detachLine(d);d.markedSpans=null}}function qr(d,v){if(v){for(var B=0;B<v.length;++B)v[B].marker.attachLine(d);d.markedSpans=v}}function ee(d){return d.inclusiveLeft?-1:0}function Oe(d){return d.inclusiveRight?1:0}function at(d,v){var B=d.lines.length-v.lines.length;if(B!=0)return B;var E=d.find(),F=v.find(),Z=si(E.from,F.from)||ee(d)-ee(v);if(Z)return-Z;var fe=si(E.to,F.to)||Oe(d)-Oe(v);return fe||v.id-d.id}function Gt(d,v){var B=Bo&&d.markedSpans,E;if(B)for(var F=void 0,Z=0;Z<B.length;++Z)F=B[Z],F.marker.collapsed&&(v?F.from:F.to)==null&&(!E||at(E,F.marker)<0)&&(E=F.marker);return E}function Si(d){return Gt(d,!0)}function Xn(d){return Gt(d,!1)}function Zi(d,v){var B=Bo&&d.markedSpans,E;if(B)for(var F=0;F<B.length;++F){var Z=B[F];Z.marker.collapsed&&(Z.from==null||Z.from<v)&&(Z.to==null||Z.to>v)&&(!E||at(E,Z.marker)<0)&&(E=Z.marker)}return E}function ar(d,v,B,E,F){var Z=Mi(d,v),fe=Bo&&Z.markedSpans;if(fe)for(var _e=0;_e<fe.length;++_e){var ke=fe[_e];if(ke.marker.collapsed){var Le=ke.marker.find(0),vt=si(Le.from,B)||ee(ke.marker)-ee(F),It=si(Le.to,E)||Oe(ke.marker)-Oe(F);if(!(vt>=0&&It<=0||vt<=0&&It>=0)&&(vt<=0&&(ke.marker.inclusiveRight&&F.inclusiveLeft?si(Le.to,B)>=0:si(Le.to,B)>0)||vt>=0&&(ke.marker.inclusiveRight&&F.inclusiveLeft?si(Le.from,E)<=0:si(Le.from,E)<0)))return!0}}}function Ri(d){for(var v;v=Si(d);)d=v.find(-1,!0).line;return d}function Ji(d){for(var v;v=Xn(d);)d=v.find(1,!0).line;return d}function no(d){for(var v,B;v=Xn(d);)d=v.find(1,!0).line,(B||(B=[])).push(d);return B}function ho(d,v){var B=Mi(d,v),E=Ri(B);return B==E?v:$e(E)}function cr(d,v){if(v>d.lastLine())return v;var B=Mi(d,v),E;if(!gr(d,B))return v;for(;E=Xn(B);)B=E.find(1,!0).line;return $e(B)+1}function gr(d,v){var B=Bo&&v.markedSpans;if(B){for(var E=void 0,F=0;F<B.length;++F)if(E=B[F],!!E.marker.collapsed){if(E.from==null)return!0;if(!E.marker.widgetNode&&E.from==0&&E.marker.inclusiveLeft&&fo(d,v,E))return!0}}}function fo(d,v,B){if(B.to==null){var E=B.marker.find(1,!0);return fo(d,E.line,Rr(E.line.markedSpans,B.marker))}if(B.marker.inclusiveRight&&B.to==v.text.length)return!0;for(var F=void 0,Z=0;Z<v.markedSpans.length;++Z)if(F=v.markedSpans[Z],F.marker.collapsed&&!F.marker.widgetNode&&F.from==B.to&&(F.to==null||F.to!=B.from)&&(F.marker.inclusiveLeft||B.marker.inclusiveRight)&&fo(d,v,F))return!0}function Go(d){d=Ri(d);for(var v=0,B=d.parent,E=0;E<B.lines.length;++E){var F=B.lines[E];if(F==d)break;v+=F.height}for(var Z=B.parent;Z;B=Z,Z=B.parent)for(var fe=0;fe<Z.children.length;++fe){var _e=Z.children[fe];if(_e==B)break;v+=_e.height}return v}function Nr(d){if(d.height==0)return 0;for(var v=d.text.length,B,E=d;B=Si(E);){var F=B.find(0,!0);E=F.from.line,v+=F.from.ch-F.to.ch}for(E=d;B=Xn(E);){var Z=B.find(0,!0);v-=E.text.length-Z.from.ch,E=Z.to.line,v+=E.text.length-Z.to.ch}return v}function Vs(d){var v=d.display,B=d.doc;v.maxLine=Mi(B,B.first),v.maxLineLength=Nr(v.maxLine),v.maxLineChanged=!0,B.iter(function(E){var F=Nr(E);F>v.maxLineLength&&(v.maxLineLength=F,v.maxLine=E)})}var Fl=function(d,v,B){this.text=d,qr(this,v),this.height=B?B(this):1};Fl.prototype.lineNo=function(){return $e(this)},ii(Fl);function qA(d,v,B,E){d.text=v,d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null),d.order!=null&&(d.order=null),wi(d),qr(d,B);var F=E?E(d):1;F!=d.height&&Zo(d,F)}function gs(d){d.parent=null,wi(d)}var yd={},Ua={};function vd(d,v){if(!d||/^\s*$/.test(d))return null;var B=v.addModeClass?Ua:yd;return B[d]||(B[d]=d.replace(/\S+/g,"cm-$&"))}function Ku(d,v){var B=ze("span",null,null,M?"padding-right: .1px":null),E={pre:ze("pre",[B],"CodeMirror-line"),content:B,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption("lineWrapping")};v.measure={};for(var F=0;F<=(v.rest?v.rest.length:0);F++){var Z=F?v.rest[F-1]:v.line,fe=void 0;E.pos=0,E.addToken=yh,ya(d.display.measure)&&(fe=Ze(Z,d.doc.direction))&&(E.addToken=mo(E.addToken,fe)),E.map=[];var _e=v!=d.display.externalMeasured&&$e(Z);Cd(Z,E,Hs(d,Z,_e)),Z.styleClasses&&(Z.styleClasses.bgClass&&(E.bgClass=Ne(Z.styleClasses.bgClass,E.bgClass||"")),Z.styleClasses.textClass&&(E.textClass=Ne(Z.styleClasses.textClass,E.textClass||""))),E.map.length==0&&E.map.push(0,0,E.content.appendChild(uo(d.display.measure))),F==0?(v.measure.map=E.map,v.measure.cache={}):((v.measure.maps||(v.measure.maps=[])).push(E.map),(v.measure.caches||(v.measure.caches=[])).push({}))}if(M){var ke=E.content.lastChild;(/\bcm-tab\b/.test(ke.className)||ke.querySelector&&ke.querySelector(".cm-tab"))&&(E.content.className="cm-tab-wrap-hack")}return it(d,"renderLine",d,v.line,E.pre),E.pre.className&&(E.textClass=Ne(E.pre.className,E.textClass||"")),E}function HA(d){var v=xe("span","","cm-invalidchar");return v.title="\\u"+d.charCodeAt(0).toString(16),v.setAttribute("aria-label",v.title),v}function yh(d,v,B,E,F,Z,fe){if(v){var _e=d.splitSpaces?Nh(v,d.trailingSpace):v,ke=d.cm.state.specialChars,Le=!1,vt;if(!ke.test(v))d.col+=v.length,vt=document.createTextNode(_e),d.map.push(d.pos,d.pos+v.length,vt),p&&C<9&&(Le=!0),d.pos+=v.length;else{vt=document.createDocumentFragment();for(var It=0;;){ke.lastIndex=It;var Jt=ke.exec(v),Ht=Jt?Jt.index-It:v.length-It;if(Ht){var _n=document.createTextNode(_e.slice(It,It+Ht));p&&C<9?vt.appendChild(xe("span",[_n])):vt.appendChild(_n),d.map.push(d.pos,d.pos+Ht,_n),d.col+=Ht,d.pos+=Ht}if(!Jt)break;It+=Ht+1;var Rn=void 0;if(Jt[0]=="	"){var oi=d.cm.options.tabSize,mi=oi-d.col%oi;Rn=vt.appendChild(xe("span",Wt(mi),"cm-tab")),Rn.setAttribute("role","presentation"),Rn.setAttribute("cm-text","	"),d.col+=mi}else Jt[0]=="\r"||Jt[0]==`
`?(Rn=vt.appendChild(xe("span",Jt[0]=="\r"?"":"","cm-invalidchar")),Rn.setAttribute("cm-text",Jt[0]),d.col+=1):(Rn=d.cm.options.specialCharPlaceholder(Jt[0]),Rn.setAttribute("cm-text",Jt[0]),p&&C<9?vt.appendChild(xe("span",[Rn])):vt.appendChild(Rn),d.col+=1);d.map.push(d.pos,d.pos+1,Rn),d.pos++}}if(d.trailingSpace=_e.charCodeAt(v.length-1)==32,B||E||F||Le||Z||fe){var Ci=B||"";E&&(Ci+=E),F&&(Ci+=F);var gi=xe("span",[vt],Ci,Z);if(fe)for(var Di in fe)fe.hasOwnProperty(Di)&&Di!="style"&&Di!="class"&&gi.setAttribute(Di,fe[Di]);return d.content.appendChild(gi)}d.content.appendChild(vt)}}function Nh(d,v){if(d.length>1&&!/  /.test(d))return d;for(var B=v,E="",F=0;F<d.length;F++){var Z=d.charAt(F);Z==" "&&B&&(F==d.length-1||d.charCodeAt(F+1)==32)&&(Z=""),E+=Z,B=Z==" "}return E}function mo(d,v){return function(B,E,F,Z,fe,_e,ke){F=F?F+" cm-force-border":"cm-force-border";for(var Le=B.pos,vt=Le+E.length;;){for(var It=void 0,Jt=0;Jt<v.length&&(It=v[Jt],!(It.to>Le&&It.from<=Le));Jt++);if(It.to>=vt)return d(B,E,F,Z,fe,_e,ke);d(B,E.slice(0,It.to-Le),F,Z,null,_e,ke),Z=null,E=E.slice(It.to-Le),Le=It.to}}}function oc(d,v,B,E){var F=!E&&B.widgetNode;F&&d.map.push(d.pos,d.pos+v,F),!E&&d.cm.display.input.needsContentAttribute&&(F||(F=d.content.appendChild(document.createElement("span"))),F.setAttribute("cm-marker",B.id)),F&&(d.cm.display.input.setUneditable(F),d.content.appendChild(F)),d.pos+=v,d.trailingSpace=!1}function Cd(d,v,B){var E=d.markedSpans,F=d.text,Z=0;if(!E){for(var fe=1;fe<B.length;fe+=2)v.addToken(v,F.slice(Z,Z=B[fe]),vd(B[fe+1],v.cm.options));return}for(var _e=F.length,ke=0,Le=1,vt="",It,Jt,Ht=0,_n,Rn,oi,mi,Ci;;){if(Ht==ke){_n=Rn=oi=Jt="",Ci=null,mi=null,Ht=1/0;for(var gi=[],Di=void 0,sr=0;sr<E.length;++sr){var qi=E[sr],eo=qi.marker;if(eo.type=="bookmark"&&qi.from==ke&&eo.widgetNode)gi.push(eo);else if(qi.from<=ke&&(qi.to==null||qi.to>ke||eo.collapsed&&qi.to==ke&&qi.from==ke)){if(qi.to!=null&&qi.to!=ke&&Ht>qi.to&&(Ht=qi.to,Rn=""),eo.className&&(_n+=" "+eo.className),eo.css&&(Jt=(Jt?Jt+";":"")+eo.css),eo.startStyle&&qi.from==ke&&(oi+=" "+eo.startStyle),eo.endStyle&&qi.to==Ht&&(Di||(Di=[])).push(eo.endStyle,qi.to),eo.title&&((Ci||(Ci={})).title=eo.title),eo.attributes)for(var wr in eo.attributes)(Ci||(Ci={}))[wr]=eo.attributes[wr];eo.collapsed&&(!mi||at(mi.marker,eo)<0)&&(mi=qi)}else qi.from>ke&&Ht>qi.from&&(Ht=qi.from)}if(Di)for(var ss=0;ss<Di.length;ss+=2)Di[ss+1]==Ht&&(Rn+=" "+Di[ss]);if(!mi||mi.from==ke)for(var ha=0;ha<gi.length;++ha)oc(v,0,gi[ha]);if(mi&&(mi.from||0)==ke){if(oc(v,(mi.to==null?_e+1:mi.to)-ke,mi.marker,mi.from==null),mi.to==null)return;mi.to==ke&&(mi=!1)}}if(ke>=_e)break;for(var Hr=Math.min(_e,Ht);;){if(vt){var _s=ke+vt.length;if(!mi){var bs=_s>Hr?vt.slice(0,Hr-ke):vt;v.addToken(v,bs,It?It+_n:_n,oi,ke+bs.length==Ht?Rn:"",Jt,Ci)}if(_s>=Hr){vt=vt.slice(Hr-ke),ke=Hr;break}ke=_s,oi=""}vt=F.slice(Z,Z=B[Le++]),It=vd(B[Le++],v.cm.options)}}}function fm(d,v,B){this.line=v,this.rest=no(v),this.size=this.rest?$e($n(this.rest))-B+1:1,this.node=this.text=null,this.hidden=gr(d,v)}function vh(d,v,B){for(var E=[],F,Z=v;Z<B;Z=F){var fe=new fm(d.doc,Mi(d.doc,Z),Z);F=Z+fe.size,E.push(fe)}return E}var _d=null;function o0(d){_d?_d.ops.push(d):d.ownsGroup=_d={ops:[d],delayedCallbacks:[]}}function Df(d){var v=d.delayedCallbacks,B=0;do{for(;B<v.length;B++)v[B].call(null);for(var E=0;E<d.ops.length;E++){var F=d.ops[E];if(F.cursorActivityHandlers)for(;F.cursorActivityCalled<F.cursorActivityHandlers.length;)F.cursorActivityHandlers[F.cursorActivityCalled++].call(null,F.cm)}}while(B<v.length)}function Rf(d,v){var B=d.ownsGroup;if(B)try{Df(B)}finally{_d=null,v(B)}}var VA=null;function is(d,v){var B=ht(d,v);if(B.length){var E=Array.prototype.slice.call(arguments,2),F;_d?F=_d.delayedCallbacks:VA?F=VA:(F=VA=[],setTimeout(bd,0));for(var Z=function(_e){F.push(function(){return B[_e].apply(null,E)})},fe=0;fe<B.length;++fe)Z(fe)}}function bd(){var d=VA;VA=null;for(var v=0;v<d.length;++v)d[v]()}function zl(d,v,B,E){for(var F=0;F<v.changes.length;F++){var Z=v.changes[F];Z=="text"?Wh(d,v):Z=="gutter"?Ch(d,v,B,E):Z=="class"?Pf(d,v):Z=="widget"&&_h(d,v,E)}v.changes=null}function xd(d){return d.node==d.text&&(d.node=xe("div",null,null,"position: relative"),d.text.parentNode&&d.text.parentNode.replaceChild(d.node,d.text),d.node.appendChild(d.text),p&&C<8&&(d.node.style.zIndex=2)),d.node}function Gh(d,v){var B=v.bgClass?v.bgClass+" "+(v.line.bgClass||""):v.line.bgClass;if(B&&(B+=" CodeMirror-linebackground"),v.background)B?v.background.className=B:(v.background.parentNode.removeChild(v.background),v.background=null);else if(B){var E=xd(v);v.background=E.insertBefore(xe("div",null,B),E.firstChild),d.display.input.setUneditable(v.background)}}function Hc(d,v){var B=d.display.externalMeasured;return B&&B.line==v.line?(d.display.externalMeasured=null,v.measure=B.measure,B.built):Ku(d,v)}function Wh(d,v){var B=v.text.className,E=Hc(d,v);v.text==v.node&&(v.node=E.pre),v.text.parentNode.replaceChild(E.pre,v.text),v.text=E.pre,E.bgClass!=v.bgClass||E.textClass!=v.textClass?(v.bgClass=E.bgClass,v.textClass=E.textClass,Pf(d,v)):B&&(v.text.className=B)}function Pf(d,v){Gh(d,v),v.line.wrapClass?xd(v).className=v.line.wrapClass:v.node!=v.text&&(v.node.className="");var B=v.textClass?v.textClass+" "+(v.line.textClass||""):v.line.textClass;v.text.className=B||""}function Ch(d,v,B,E){if(v.gutter&&(v.node.removeChild(v.gutter),v.gutter=null),v.gutterBackground&&(v.node.removeChild(v.gutterBackground),v.gutterBackground=null),v.line.gutterClass){var F=xd(v);v.gutterBackground=xe("div",null,"CodeMirror-gutter-background "+v.line.gutterClass,"left: "+(d.options.fixedGutter?E.fixedPos:-E.gutterTotalWidth)+"px; width: "+E.gutterTotalWidth+"px"),d.display.input.setUneditable(v.gutterBackground),F.insertBefore(v.gutterBackground,v.text)}var Z=v.line.gutterMarkers;if(d.options.lineNumbers||Z){var fe=xd(v),_e=v.gutter=xe("div",null,"CodeMirror-gutter-wrapper","left: "+(d.options.fixedGutter?E.fixedPos:-E.gutterTotalWidth)+"px");if(_e.setAttribute("aria-hidden","true"),d.display.input.setUneditable(_e),fe.insertBefore(_e,v.text),v.line.gutterClass&&(_e.className+=" "+v.line.gutterClass),d.options.lineNumbers&&(!Z||!Z["CodeMirror-linenumbers"])&&(v.lineNumber=_e.appendChild(xe("div",Gn(d.options,B),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+E.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+d.display.lineNumInnerWidth+"px"))),Z)for(var ke=0;ke<d.display.gutterSpecs.length;++ke){var Le=d.display.gutterSpecs[ke].className,vt=Z.hasOwnProperty(Le)&&Z[Le];vt&&_e.appendChild(xe("div",[vt],"CodeMirror-gutter-elt","left: "+E.gutterLeft[Le]+"px; width: "+E.gutterWidth[Le]+"px"))}}}function _h(d,v,B){v.alignable&&(v.alignable=null);for(var E=we("CodeMirror-linewidget"),F=v.node.firstChild,Z=void 0;F;F=Z)Z=F.nextSibling,E.test(F.className)&&v.node.removeChild(F);Kf(d,v,B)}function Qh(d,v,B,E){var F=Hc(d,v);return v.text=v.node=F.pre,F.bgClass&&(v.bgClass=F.bgClass),F.textClass&&(v.textClass=F.textClass),Pf(d,v),Ch(d,v,B,E),Kf(d,v,E),v.node}function Kf(d,v,B){if(aA(d,v.line,v,B,!0),v.rest)for(var E=0;E<v.rest.length;E++)aA(d,v.rest[E],v,B,!1)}function aA(d,v,B,E,F){if(v.widgets)for(var Z=xd(B),fe=0,_e=v.widgets;fe<_e.length;++fe){var ke=_e[fe],Le=xe("div",[ke.node],"CodeMirror-linewidget"+(ke.className?" "+ke.className:""));ke.handleMouseEvents||Le.setAttribute("cm-ignore-events","true"),Uf(ke,Le,B,E),d.display.input.setUneditable(Le),F&&ke.above?Z.insertBefore(Le,B.gutter||B.text):Z.appendChild(Le),is(ke,"redraw")}}function Uf(d,v,B,E){if(d.noHScroll){(B.alignable||(B.alignable=[])).push(v);var F=E.wrapperWidth;v.style.left=E.fixedPos+"px",d.coverGutter||(F-=E.gutterTotalWidth,v.style.paddingLeft=E.gutterTotalWidth+"px"),v.style.width=F+"px"}d.coverGutter&&(v.style.zIndex=5,v.style.position="relative",d.noHScroll||(v.style.marginLeft=-E.gutterTotalWidth+"px"))}function ac(d){if(d.height!=null)return d.height;var v=d.doc.cm;if(!v)return 0;if(!Ct(document.body,d.node)){var B="position: relative;";d.coverGutter&&(B+="margin-left: -"+v.display.gutters.offsetWidth+"px;"),d.noHScroll&&(B+="width: "+v.display.wrapper.clientWidth+"px;"),Ve(v.display.measure,xe("div",[d.node],null,B))}return d.height=d.node.parentNode.offsetHeight}function sA(d,v){for(var B=hi(v);B!=d.wrapper;B=B.parentNode)if(!B||B.nodeType==1&&B.getAttribute("cm-ignore-events")=="true"||B.parentNode==d.sizer&&B!=d.mover)return!0}function wc(d){return d.lineSpace.offsetTop}function Md(d){return d.mover.offsetHeight-d.lineSpace.offsetHeight}function wd(d){if(d.cachedPaddingH)return d.cachedPaddingH;var v=Ve(d.measure,xe("pre","x","CodeMirror-line-like")),B=window.getComputedStyle?window.getComputedStyle(v):v.currentStyle,E={left:parseInt(B.paddingLeft),right:parseInt(B.paddingRight)};return!isNaN(E.left)&&!isNaN(E.right)&&(d.cachedPaddingH=E),E}function Uu(d){return bt-d.display.nativeBarWidth}function $A(d){return d.display.scroller.clientWidth-Uu(d)-d.display.barWidth}function Yh(d){return d.display.scroller.clientHeight-Uu(d)-d.display.barHeight}function Sc(d,v,B){var E=d.options.lineWrapping,F=E&&$A(d);if(!v.measure.heights||E&&v.measure.width!=F){var Z=v.measure.heights=[];if(E){v.measure.width=F;for(var fe=v.text.firstChild.getClientRects(),_e=0;_e<fe.length-1;_e++){var ke=fe[_e],Le=fe[_e+1];Math.abs(ke.bottom-Le.bottom)>2&&Z.push((ke.bottom+Le.top)/2-B.top)}}Z.push(B.bottom-B.top)}}function qh(d,v,B){if(d.line==v)return{map:d.measure.map,cache:d.measure.cache};if(d.rest){for(var E=0;E<d.rest.length;E++)if(d.rest[E]==v)return{map:d.measure.maps[E],cache:d.measure.caches[E]};for(var F=0;F<d.rest.length;F++)if($e(d.rest[F])>B)return{map:d.measure.maps[F],cache:d.measure.caches[F],before:!0}}}function pm(d,v){v=Ri(v);var B=$e(v),E=d.display.externalMeasured=new fm(d.doc,v,B);E.lineN=B;var F=E.built=Ku(d,E);return E.text=F.pre,Ve(d.display.lineMeasure,F.pre),E}function Vc(d,v,B,E){return ZA(d,du(d,v),B,E)}function Zd(d,v){if(v>=d.display.viewFrom&&v<d.display.viewTo)return d.display.view[Zs(d,v)];var B=d.display.externalMeasured;if(B&&v>=B.lineN&&v<B.lineN+B.size)return B}function du(d,v){var B=$e(v),E=Zd(d,B);E&&!E.text?E=null:E&&E.changes&&(zl(d,E,B,kl(d)),d.curOp.forceUpdate=!0),E||(E=pm(d,v));var F=qh(E,v,B);return{line:v,view:E,rect:null,map:F.map,cache:F.cache,before:F.before,hasHeights:!1}}function ZA(d,v,B,E,F){v.before&&(B=-1);var Z=B+(E||""),fe;return v.cache.hasOwnProperty(Z)?fe=v.cache[Z]:(v.rect||(v.rect=v.view.text.getBoundingClientRect()),v.hasHeights||(Sc(d,v.view,v.rect),v.hasHeights=!0),fe=sc(d,v,B,E),fe.bogus||(v.cache[Z]=fe)),{left:fe.left,right:fe.right,top:F?fe.rtop:fe.top,bottom:F?fe.rbottom:fe.bottom}}var wp={left:0,right:0,top:0,bottom:0};function Lf(d,v,B){for(var E,F,Z,fe,_e,ke,Le=0;Le<d.length;Le+=3)if(_e=d[Le],ke=d[Le+1],v<_e?(F=0,Z=1,fe="left"):v<ke?(F=v-_e,Z=F+1):(Le==d.length-3||v==ke&&d[Le+3]>v)&&(Z=ke-_e,F=Z-1,v>=ke&&(fe="right")),F!=null){if(E=d[Le+2],_e==ke&&B==(E.insertLeft?"left":"right")&&(fe=B),B=="left"&&F==0)for(;Le&&d[Le-2]==d[Le-3]&&d[Le-1].insertLeft;)E=d[(Le-=3)+2],fe="left";if(B=="right"&&F==ke-_e)for(;Le<d.length-3&&d[Le+3]==d[Le+4]&&!d[Le+5].insertLeft;)E=d[(Le+=3)+2],fe="right";break}return{node:E,start:F,end:Z,collapse:fe,coverStart:_e,coverEnd:ke}}function MA(d,v){var B=wp;if(v=="left")for(var E=0;E<d.length&&(B=d[E]).left==B.right;E++);else for(var F=d.length-1;F>=0&&(B=d[F]).left==B.right;F--);return B}function sc(d,v,B,E){var F=Lf(v.map,B,E),Z=F.node,fe=F.start,_e=F.end,ke=F.collapse,Le;if(Z.nodeType==3){for(var vt=0;vt<4;vt++){for(;fe&&le(v.line.text.charAt(F.coverStart+fe));)--fe;for(;F.coverStart+_e<F.coverEnd&&le(v.line.text.charAt(F.coverStart+_e));)++_e;if(p&&C<9&&fe==0&&_e==F.coverEnd-F.coverStart?Le=Z.parentNode.getBoundingClientRect():Le=MA(st(Z,fe,_e).getClientRects(),E),Le.left||Le.right||fe==0)break;_e=fe,fe=fe-1,ke="right"}p&&C<11&&(Le=wA(d.display.measure,Le))}else{fe>0&&(ke=E="right");var It;d.options.lineWrapping&&(It=Z.getClientRects()).length>1?Le=It[E=="right"?It.length-1:0]:Le=Z.getBoundingClientRect()}if(p&&C<9&&!fe&&(!Le||!Le.left&&!Le.right)){var Jt=Z.parentNode.getClientRects()[0];Jt?Le={left:Jt.left,right:Jt.left+EA(d.display),top:Jt.top,bottom:Jt.bottom}:Le=wp}for(var Ht=Le.top-v.rect.top,_n=Le.bottom-v.rect.top,Rn=(Ht+_n)/2,oi=v.view.measure.heights,mi=0;mi<oi.length-1&&!(Rn<oi[mi]);mi++);var Ci=mi?oi[mi-1]:0,gi=oi[mi],Di={left:(ke=="right"?Le.right:Le.left)-v.rect.left,right:(ke=="left"?Le.left:Le.right)-v.rect.left,top:Ci,bottom:gi};return!Le.left&&!Le.right&&(Di.bogus=!0),d.options.singleCursorHeightPerLine||(Di.rtop=Ht,Di.rbottom=_n),Di}function wA(d,v){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Cr(d))return v;var B=screen.logicalXDPI/screen.deviceXDPI,E=screen.logicalYDPI/screen.deviceYDPI;return{left:v.left*B,right:v.right*B,top:v.top*E,bottom:v.bottom*E}}function Lu(d){if(d.measure&&(d.measure.cache={},d.measure.heights=null,d.rest))for(var v=0;v<d.rest.length;v++)d.measure.caches[v]={}}function Oo(d){d.display.externalMeasure=null,Se(d.display.lineMeasure);for(var v=0;v<d.display.view.length;v++)Lu(d.display.view[v])}function bh(d){Oo(d),d.display.cachedCharWidth=d.display.cachedTextHeight=d.display.cachedPaddingH=null,d.options.lineWrapping||(d.display.maxLineChanged=!0),d.display.lineNumChars=null}function Sd(d){return U&&oe?-(d.body.getBoundingClientRect().left-parseInt(getComputedStyle(d.body).marginLeft)):d.defaultView.pageXOffset||(d.documentElement||d.body).scrollLeft}function Sp(d){return U&&oe?-(d.body.getBoundingClientRect().top-parseInt(getComputedStyle(d.body).marginTop)):d.defaultView.pageYOffset||(d.documentElement||d.body).scrollTop}function Ec(d){var v=Ri(d),B=v.widgets,E=0;if(B)for(var F=0;F<B.length;++F)B[F].above&&(E+=ac(B[F]));return E}function jl(d,v,B,E,F){if(!F){var Z=Ec(v);B.top+=Z,B.bottom+=Z}if(E=="line")return B;E||(E="local");var fe=Go(v);if(E=="local"?fe+=wc(d.display):fe-=d.display.viewOffset,E=="page"||E=="window"){var _e=d.display.lineSpace.getBoundingClientRect();fe+=_e.top+(E=="window"?0:Sp(lt(d)));var ke=_e.left+(E=="window"?0:Sd(lt(d)));B.left+=ke,B.right+=ke}return B.top+=fe,B.bottom+=fe,B}function Zt(d,v,B){if(B=="div")return v;var E=v.left,F=v.top;if(B=="page")E-=Sd(lt(d)),F-=Sp(lt(d));else if(B=="local"||!B){var Z=d.display.sizer.getBoundingClientRect();E+=Z.left,F+=Z.top}var fe=d.display.lineSpace.getBoundingClientRect();return{left:E-fe.left,top:F-fe.top}}function Sn(d,v,B,E,F){return E||(E=Mi(d.doc,v.line)),jl(d,E,Vc(d,E,v.ch,F),B)}function vn(d,v,B,E,F,Z){E=E||Mi(d.doc,v.line),F||(F=du(d,E));function fe(_n,Rn){var oi=ZA(d,F,_n,Rn?"right":"left",Z);return Rn?oi.left=oi.right:oi.right=oi.left,jl(d,E,oi,B)}var _e=Ze(E,d.doc.direction),ke=v.ch,Le=v.sticky;if(ke>=E.text.length?(ke=E.text.length,Le="before"):ke<=0&&(ke=0,Le="after"),!_e)return fe(Le=="before"?ke-1:ke,Le=="before");function vt(_n,Rn,oi){var mi=_e[Rn],Ci=mi.level==1;return fe(oi?_n-1:_n,Ci!=oi)}var It=Ye(_e,ke,Le),Jt=dt,Ht=vt(ke,It,Le=="before");return Jt!=null&&(Ht.other=vt(ke,Jt,Le!="before")),Ht}function Ti(d,v){var B=0;v=Yi(d.doc,v),d.options.lineWrapping||(B=EA(d.display)*v.ch);var E=Mi(d.doc,v.line),F=Go(E)+wc(d.display);return{left:B,right:B,top:F,bottom:F+E.height}}function Er(d,v,B,E,F){var Z=rn(d,v,B);return Z.xRel=F,E&&(Z.outside=E),Z}function Io(d,v,B){var E=d.doc;if(B+=d.display.viewOffset,B<0)return Er(E.first,0,null,-1,-1);var F=Et(E,B),Z=E.first+E.size-1;if(F>Z)return Er(E.first+E.size-1,Mi(E,Z).text.length,null,1,1);v<0&&(v=0);for(var fe=Mi(E,F);;){var _e=Xd(d,fe,F,v,B),ke=Zi(fe,_e.ch+(_e.xRel>0||_e.outside>0?1:0));if(!ke)return _e;var Le=ke.find(1);if(Le.line==F)return Le;fe=Mi(E,F=Le.line)}}function $s(d,v,B,E){E-=Ec(v);var F=v.text.length,Z=Te(function(fe){return ZA(d,B,fe-1).bottom<=E},F,0);return F=Te(function(fe){return ZA(d,B,fe).top>E},Z,F),{begin:Z,end:F}}function Ro(d,v,B,E){B||(B=du(d,v));var F=jl(d,v,ZA(d,B,E),"line").top;return $s(d,v,B,F)}function $c(d,v,B,E){return d.bottom<=B?!1:d.top>B?!0:(E?d.left:d.right)>v}function Xd(d,v,B,E,F){F-=Go(v);var Z=du(d,v),fe=Ec(v),_e=0,ke=v.text.length,Le=!0,vt=Ze(v,d.doc.direction);if(vt){var It=(d.options.lineWrapping?Ed:lA)(d,v,B,Z,vt,E,F);Le=It.level!=1,_e=Le?It.from:It.to-1,ke=Le?It.to:It.from-1}var Jt=null,Ht=null,_n=Te(function(sr){var qi=ZA(d,Z,sr);return qi.top+=fe,qi.bottom+=fe,$c(qi,E,F,!1)?(qi.top<=F&&qi.left<=E&&(Jt=sr,Ht=qi),!0):!1},_e,ke),Rn,oi,mi=!1;if(Ht){var Ci=E-Ht.left<Ht.right-E,gi=Ci==Le;_n=Jt+(gi?0:1),oi=gi?"after":"before",Rn=Ci?Ht.left:Ht.right}else{!Le&&(_n==ke||_n==_e)&&_n++,oi=_n==0?"after":_n==v.text.length?"before":ZA(d,Z,_n-(Le?1:0)).bottom+fe<=F==Le?"after":"before";var Di=vn(d,rn(B,_n,oi),"line",v,Z);Rn=Di.left,mi=F<Di.top?-1:F>=Di.bottom?1:0}return _n=pe(v.text,_n,1),Er(B,_n,oi,mi,E-Rn)}function lA(d,v,B,E,F,Z,fe){var _e=Te(function(It){var Jt=F[It],Ht=Jt.level!=1;return $c(vn(d,rn(B,Ht?Jt.to:Jt.from,Ht?"before":"after"),"line",v,E),Z,fe,!0)},0,F.length-1),ke=F[_e];if(_e>0){var Le=ke.level!=1,vt=vn(d,rn(B,Le?ke.from:ke.to,Le?"after":"before"),"line",v,E);$c(vt,Z,fe,!0)&&vt.top>fe&&(ke=F[_e-1])}return ke}function Ed(d,v,B,E,F,Z,fe){var _e=$s(d,v,E,fe),ke=_e.begin,Le=_e.end;/\s/.test(v.text.charAt(Le-1))&&Le--;for(var vt=null,It=null,Jt=0;Jt<F.length;Jt++){var Ht=F[Jt];if(!(Ht.from>=Le||Ht.to<=ke)){var _n=Ht.level!=1,Rn=ZA(d,E,_n?Math.min(Le,Ht.to)-1:Math.max(ke,Ht.from)).right,oi=Rn<Z?Z-Rn+1e9:Rn-Z;(!vt||It>oi)&&(vt=Ht,It=oi)}}return vt||(vt=F[F.length-1]),vt.from<ke&&(vt={from:ke,to:vt.to,level:vt.level}),vt.to>Le&&(vt={from:vt.from,to:Le,level:vt.level}),vt}var fu;function SA(d){if(d.cachedTextHeight!=null)return d.cachedTextHeight;if(fu==null){fu=xe("pre",null,"CodeMirror-line-like");for(var v=0;v<49;++v)fu.appendChild(document.createTextNode("x")),fu.appendChild(xe("br"));fu.appendChild(document.createTextNode("x"))}Ve(d.measure,fu);var B=fu.offsetHeight/50;return B>3&&(d.cachedTextHeight=B),Se(d.measure),B||1}function EA(d){if(d.cachedCharWidth!=null)return d.cachedCharWidth;var v=xe("span","xxxxxxxxxx"),B=xe("pre",[v],"CodeMirror-line-like");Ve(d.measure,B);var E=v.getBoundingClientRect(),F=(E.right-E.left)/10;return F>2&&(d.cachedCharWidth=F),F||10}function kl(d){for(var v=d.display,B={},E={},F=v.gutters.clientLeft,Z=v.gutters.firstChild,fe=0;Z;Z=Z.nextSibling,++fe){var _e=d.display.gutterSpecs[fe].className;B[_e]=Z.offsetLeft+Z.clientLeft+F,E[_e]=Z.clientWidth}return{fixedPos:Wo(v),gutterTotalWidth:v.gutters.offsetWidth,gutterLeft:B,gutterWidth:E,wrapperWidth:v.wrapper.clientWidth}}function Wo(d){return d.scroller.getBoundingClientRect().left-d.sizer.getBoundingClientRect().left}function pu(d){var v=SA(d.display),B=d.options.lineWrapping,E=B&&Math.max(5,d.display.scroller.clientWidth/EA(d.display)-3);return function(F){if(gr(d.doc,F))return 0;var Z=0;if(F.widgets)for(var fe=0;fe<F.widgets.length;fe++)F.widgets[fe].height&&(Z+=F.widgets[fe].height);return B?Z+(Math.ceil(F.text.length/E)||1)*v:Z+v}}function Hh(d){var v=d.doc,B=pu(d);v.iter(function(E){var F=B(E);F!=E.height&&Zo(E,F)})}function Wa(d,v,B,E){var F=d.display;if(!B&&hi(v).getAttribute("cm-not-content")=="true")return null;var Z,fe,_e=F.lineSpace.getBoundingClientRect();try{Z=v.clientX-_e.left,fe=v.clientY-_e.top}catch{return null}var ke=Io(d,Z,fe),Le;if(E&&ke.xRel>0&&(Le=Mi(d.doc,ke.line).text).length==ke.ch){var vt=Ke(Le,Le.length,d.options.tabSize)-Le.length;ke=rn(ke.line,Math.max(0,Math.round((Z-wd(d.display).left)/EA(d.display))-vt))}return ke}function Zs(d,v){if(v>=d.display.viewTo||(v-=d.display.viewFrom,v<0))return null;for(var B=d.display.view,E=0;E<B.length;E++)if(v-=B[E].size,v<0)return E}function Bs(d,v,B,E){v==null&&(v=d.doc.first),B==null&&(B=d.doc.first+d.doc.size),E||(E=0);var F=d.display;if(E&&B<F.viewTo&&(F.updateLineNumbers==null||F.updateLineNumbers>v)&&(F.updateLineNumbers=v),d.curOp.viewChanged=!0,v>=F.viewTo)Bo&&ho(d.doc,v)<F.viewTo&&Nl(d);else if(B<=F.viewFrom)Bo&&cr(d.doc,B+E)>F.viewFrom?Nl(d):(F.viewFrom+=E,F.viewTo+=E);else if(v<=F.viewFrom&&B>=F.viewTo)Nl(d);else if(v<=F.viewFrom){var Z=BA(d,B,B+E,1);Z?(F.view=F.view.slice(Z.index),F.viewFrom=Z.lineN,F.viewTo+=E):Nl(d)}else if(B>=F.viewTo){var fe=BA(d,v,v,-1);fe?(F.view=F.view.slice(0,fe.index),F.viewTo=fe.lineN):Nl(d)}else{var _e=BA(d,v,v,-1),ke=BA(d,B,B+E,1);_e&&ke?(F.view=F.view.slice(0,_e.index).concat(vh(d,_e.lineN,ke.lineN)).concat(F.view.slice(ke.index)),F.viewTo+=E):Nl(d)}var Le=F.externalMeasured;Le&&(B<Le.lineN?Le.lineN+=E:v<Le.lineN+Le.size&&(F.externalMeasured=null))}function XA(d,v,B){d.curOp.viewChanged=!0;var E=d.display,F=d.display.externalMeasured;if(F&&v>=F.lineN&&v<F.lineN+F.size&&(E.externalMeasured=null),!(v<E.viewFrom||v>=E.viewTo)){var Z=E.view[Zs(d,v)];if(Z.node!=null){var fe=Z.changes||(Z.changes=[]);He(fe,B)==-1&&fe.push(B)}}}function Nl(d){d.display.viewFrom=d.display.viewTo=d.doc.first,d.display.view=[],d.display.viewOffset=0}function BA(d,v,B,E){var F=Zs(d,v),Z,fe=d.display.view;if(!Bo||B==d.doc.first+d.doc.size)return{index:F,lineN:B};for(var _e=d.display.viewFrom,ke=0;ke<F;ke++)_e+=fe[ke].size;if(_e!=v){if(E>0){if(F==fe.length-1)return null;Z=_e+fe[F].size-v,F++}else Z=_e-v;v+=Z,B+=Z}for(;ho(d.doc,B)!=B;){if(F==(E<0?0:fe.length-1))return null;B+=E*fe[F-(E<0?1:0)].size,F+=E}return{index:F,lineN:B}}function lc(d,v,B){var E=d.display,F=E.view;F.length==0||v>=E.viewTo||B<=E.viewFrom?(E.view=vh(d,v,B),E.viewFrom=v):(E.viewFrom>v?E.view=vh(d,v,E.viewFrom).concat(E.view):E.viewFrom<v&&(E.view=E.view.slice(Zs(d,v))),E.viewFrom=v,E.viewTo<B?E.view=E.view.concat(vh(d,E.viewTo,B)):E.viewTo>B&&(E.view=E.view.slice(0,Zs(d,B)))),E.viewTo=B}function OA(d){for(var v=d.display.view,B=0,E=0;E<v.length;E++){var F=v[E];!F.hidden&&(!F.node||F.changes)&&++B}return B}function Bc(d){d.display.input.showSelection(d.display.input.prepareSelection())}function xh(d,v){v===void 0&&(v=!0);var B=d.doc,E={},F=E.cursors=document.createDocumentFragment(),Z=E.selection=document.createDocumentFragment(),fe=d.options.$customCursor;fe&&(v=!0);for(var _e=0;_e<B.sel.ranges.length;_e++)if(!(!v&&_e==B.sel.primIndex)){var ke=B.sel.ranges[_e];if(!(ke.from().line>=d.display.viewTo||ke.to().line<d.display.viewFrom)){var Le=ke.empty();if(fe){var vt=fe(d,ke);vt&&Dr(d,vt,F)}else(Le||d.options.showCursorWhenSelecting)&&Dr(d,ke.head,F);Le||JA(d,ke,Z)}}return E}function Dr(d,v,B){var E=vn(d,v,"div",null,null,!d.options.singleCursorHeightPerLine),F=B.appendChild(xe("div","","CodeMirror-cursor"));if(F.style.left=E.left+"px",F.style.top=E.top+"px",F.style.height=Math.max(0,E.bottom-E.top)*d.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(d.getWrapperElement().className)){var Z=Sn(d,v,"div",null,null),fe=Z.right-Z.left;F.style.width=(fe>0?fe:d.defaultCharWidth())+"px"}if(E.other){var _e=B.appendChild(xe("div","","CodeMirror-cursor CodeMirror-secondarycursor"));_e.style.display="",_e.style.left=E.other.left+"px",_e.style.top=E.other.top+"px",_e.style.height=(E.other.bottom-E.other.top)*.85+"px"}}function Ac(d,v){return d.top-v.top||d.left-v.left}function JA(d,v,B){var E=d.display,F=d.doc,Z=document.createDocumentFragment(),fe=wd(d.display),_e=fe.left,ke=Math.max(E.sizerWidth,$A(d)-E.sizer.offsetLeft)-fe.right,Le=F.direction=="ltr";function vt(gi,Di,sr,qi){Di<0&&(Di=0),Di=Math.round(Di),qi=Math.round(qi),Z.appendChild(xe("div",null,"CodeMirror-selected","position: absolute; left: "+gi+`px;
                             top: `+Di+"px; width: "+(sr??ke-gi)+`px;
                             height: `+(qi-Di)+"px"))}function It(gi,Di,sr){var qi=Mi(F,gi),eo=qi.text.length,wr,ss;function ha(bs,da){return Sn(d,rn(gi,bs),"div",qi,da)}function Hr(bs,da,$l){var ks=Ro(d,qi,null,bs),Ws=da=="ltr"==($l=="after")?"left":"right",Ir=$l=="after"?ks.begin:ks.end-(/\s/.test(qi.text.charAt(ks.end-1))?2:1);return ha(Ir,Ws)[Ws]}var _s=Ze(qi,F.direction);return We(_s,Di||0,sr??eo,function(bs,da,$l,ks){var Ws=$l=="ltr",Ir=ha(bs,Ws?"left":"right"),Oa=ha(da-1,Ws?"right":"left"),Zl=Di==null&&bs==0,mc=sr==null&&da==eo,mA=ks==0,ah=!_s||ks==_s.length-1;if(Oa.top-Ir.top<=3){var fs=(Le?Zl:mc)&&mA,Su=(Le?mc:Zl)&&ah,wl=fs?_e:(Ws?Ir:Oa).left,gc=Su?ke:(Ws?Oa:Ir).right;vt(wl,Ir.top,gc-wl,Ir.bottom)}else{var ll,gA,Zu,ad;Ws?(ll=Le&&Zl&&mA?_e:Ir.left,gA=Le?ke:Hr(bs,$l,"before"),Zu=Le?_e:Hr(da,$l,"after"),ad=Le&&mc&&ah?ke:Oa.right):(ll=Le?Hr(bs,$l,"before"):_e,gA=!Le&&Zl&&mA?ke:Ir.right,Zu=!Le&&mc&&ah?_e:Oa.left,ad=Le?Hr(da,$l,"after"):ke),vt(ll,Ir.top,gA-ll,Ir.bottom),Ir.bottom<Oa.top&&vt(_e,Ir.bottom,null,Oa.top),vt(Zu,Oa.top,ad-Zu,Oa.bottom)}(!wr||Ac(Ir,wr)<0)&&(wr=Ir),Ac(Oa,wr)<0&&(wr=Oa),(!ss||Ac(Ir,ss)<0)&&(ss=Ir),Ac(Oa,ss)<0&&(ss=Oa)}),{start:wr,end:ss}}var Jt=v.from(),Ht=v.to();if(Jt.line==Ht.line)It(Jt.line,Jt.ch,Ht.ch);else{var _n=Mi(F,Jt.line),Rn=Mi(F,Ht.line),oi=Ri(_n)==Ri(Rn),mi=It(Jt.line,Jt.ch,oi?_n.text.length+1:null).end,Ci=It(Ht.line,oi?0:null,Ht.ch).start;oi&&(mi.top<Ci.top-2?(vt(mi.right,mi.top,null,mi.bottom),vt(_e,Ci.top,Ci.left,Ci.bottom)):vt(mi.right,mi.top,Ci.left-mi.right,mi.bottom)),mi.bottom<Ci.top&&vt(_e,mi.bottom,null,Ci.top)}B.appendChild(Z)}function Oc(d){if(d.state.focused){var v=d.display;clearInterval(v.blinker);var B=!0;v.cursorDiv.style.visibility="",d.options.cursorBlinkRate>0?v.blinker=setInterval(function(){d.hasFocus()||mu(d),v.cursorDiv.style.visibility=(B=!B)?"":"hidden"},d.options.cursorBlinkRate):d.options.cursorBlinkRate<0&&(v.cursorDiv.style.visibility="hidden")}}function Os(d){d.hasFocus()||(d.display.input.focus(),d.state.focused||Bd(d))}function Mh(d){d.state.delayingBlurEvent=!0,setTimeout(function(){d.state.delayingBlurEvent&&(d.state.delayingBlurEvent=!1,d.state.focused&&mu(d))},100)}function Bd(d,v){d.state.delayingBlurEvent&&!d.state.draggingText&&(d.state.delayingBlurEvent=!1),d.options.readOnly!="nocursor"&&(d.state.focused||(it(d,"focus",d,v),d.state.focused=!0,be(d.display.wrapper,"CodeMirror-focused"),!d.curOp&&d.display.selForContextMenu!=d.doc.sel&&(d.display.input.reset(),M&&setTimeout(function(){return d.display.input.reset(!0)},20)),d.display.input.receivedFocus()),Oc(d))}function mu(d,v){d.state.delayingBlurEvent||(d.state.focused&&(it(d,"blur",d,v),d.state.focused=!1,Ie(d.display.wrapper,"CodeMirror-focused")),clearInterval(d.display.blinker),setTimeout(function(){d.state.focused||(d.display.shift=!1)},150))}function Od(d){for(var v=d.display,B=v.lineDiv.offsetTop,E=Math.max(0,v.scroller.getBoundingClientRect().top),F=v.lineDiv.getBoundingClientRect().top,Z=0,fe=0;fe<v.view.length;fe++){var _e=v.view[fe],ke=d.options.lineWrapping,Le=void 0,vt=0;if(!_e.hidden){if(F+=_e.line.height,p&&C<8){var It=_e.node.offsetTop+_e.node.offsetHeight;Le=It-B,B=It}else{var Jt=_e.node.getBoundingClientRect();Le=Jt.bottom-Jt.top,!ke&&_e.text.firstChild&&(vt=_e.text.firstChild.getBoundingClientRect().right-Jt.left-1)}var Ht=_e.line.height-Le;if((Ht>.005||Ht<-.005)&&(F<E&&(Z-=Ht),Zo(_e.line,Le),Zc(_e.line),_e.rest))for(var _n=0;_n<_e.rest.length;_n++)Zc(_e.rest[_n]);if(vt>d.display.sizerWidth){var Rn=Math.ceil(vt/EA(d.display));Rn>d.display.maxLineLength&&(d.display.maxLineLength=Rn,d.display.maxLine=_e.line,d.display.maxLineChanged=!0)}}}Math.abs(Z)>2&&(v.scroller.scrollTop+=Z)}function Zc(d){if(d.widgets)for(var v=0;v<d.widgets.length;++v){var B=d.widgets[v],E=B.node.parentNode;E&&(B.height=E.offsetHeight)}}function IA(d,v,B){var E=B&&B.top!=null?Math.max(0,B.top):d.scroller.scrollTop;E=Math.floor(E-wc(d));var F=B&&B.bottom!=null?B.bottom:E+d.wrapper.clientHeight,Z=Et(v,E),fe=Et(v,F);if(B&&B.ensure){var _e=B.ensure.from.line,ke=B.ensure.to.line;_e<Z?(Z=_e,fe=Et(v,Go(Mi(v,_e))+d.wrapper.clientHeight)):Math.min(ke,v.lastLine())>=fe&&(Z=Et(v,Go(Mi(v,ke))-d.wrapper.clientHeight),fe=ke)}return{from:Z,to:Math.max(fe,Z+1)}}function Fu(d,v){if(!en(d,"scrollCursorIntoView")){var B=d.display,E=B.sizer.getBoundingClientRect(),F=null,Z=B.wrapper.ownerDocument;if(v.top+E.top<0?F=!0:v.bottom+E.top>(Z.defaultView.innerHeight||Z.documentElement.clientHeight)&&(F=!1),F!=null&&!te){var fe=xe("div","",null,`position: absolute;
                         top: `+(v.top-B.viewOffset-wc(d.display))+`px;
                         height: `+(v.bottom-v.top+Uu(d)+B.barHeight)+`px;
                         left: `+v.left+"px; width: "+Math.max(2,v.right-v.left)+"px;");d.display.lineSpace.appendChild(fe),fe.scrollIntoView(F),d.display.lineSpace.removeChild(fe)}}}function wh(d,v,B,E){E==null&&(E=0);var F;!d.options.lineWrapping&&v==B&&(B=v.sticky=="before"?rn(v.line,v.ch+1,"before"):v,v=v.ch?rn(v.line,v.sticky=="before"?v.ch-1:v.ch,"after"):v);for(var Z=0;Z<5;Z++){var fe=!1,_e=vn(d,v),ke=!B||B==v?_e:vn(d,B);F={left:Math.min(_e.left,ke.left),top:Math.min(_e.top,ke.top)-E,right:Math.max(_e.left,ke.left),bottom:Math.max(_e.bottom,ke.bottom)+E};var Le=TA(d,F),vt=d.doc.scrollTop,It=d.doc.scrollLeft;if(Le.scrollTop!=null&&(Xc(d,Le.scrollTop),Math.abs(d.doc.scrollTop-vt)>1&&(fe=!0)),Le.scrollLeft!=null&&(_a(d,Le.scrollLeft),Math.abs(d.doc.scrollLeft-It)>1&&(fe=!0)),!fe)break}return F}function Vh(d,v){var B=TA(d,v);B.scrollTop!=null&&Xc(d,B.scrollTop),B.scrollLeft!=null&&_a(d,B.scrollLeft)}function TA(d,v){var B=d.display,E=SA(d.display);v.top<0&&(v.top=0);var F=d.curOp&&d.curOp.scrollTop!=null?d.curOp.scrollTop:B.scroller.scrollTop,Z=Yh(d),fe={};v.bottom-v.top>Z&&(v.bottom=v.top+Z);var _e=d.doc.height+Md(B),ke=v.top<E,Le=v.bottom>_e-E;if(v.top<F)fe.scrollTop=ke?0:v.top;else if(v.bottom>F+Z){var vt=Math.min(v.top,(Le?_e:v.bottom)-Z);vt!=F&&(fe.scrollTop=vt)}var It=d.options.fixedGutter?0:B.gutters.offsetWidth,Jt=d.curOp&&d.curOp.scrollLeft!=null?d.curOp.scrollLeft:B.scroller.scrollLeft-It,Ht=$A(d)-B.gutters.offsetWidth,_n=v.right-v.left>Ht;return _n&&(v.right=v.left+Ht),v.left<10?fe.scrollLeft=0:v.left<Jt?fe.scrollLeft=Math.max(0,v.left+It-(_n?0:10)):v.right>Ht+Jt-3&&(fe.scrollLeft=v.right+(_n?0:10)-Ht),fe}function Dl(d,v){v!=null&&(ju(d),d.curOp.scrollTop=(d.curOp.scrollTop==null?d.doc.scrollTop:d.curOp.scrollTop)+v)}function Qo(d){ju(d);var v=d.getCursor();d.curOp.scrollToPos={from:v,to:v,margin:d.options.cursorScrollMargin}}function la(d,v,B){(v!=null||B!=null)&&ju(d),v!=null&&(d.curOp.scrollLeft=v),B!=null&&(d.curOp.scrollTop=B)}function zu(d,v){ju(d),d.curOp.scrollToPos=v}function ju(d){var v=d.curOp.scrollToPos;if(v){d.curOp.scrollToPos=null;var B=Ti(d,v.from),E=Ti(d,v.to);Ic(d,B,E,v.margin)}}function Ic(d,v,B,E){var F=TA(d,{left:Math.min(v.left,B.left),top:Math.min(v.top,B.top)-E,right:Math.max(v.right,B.right),bottom:Math.max(v.bottom,B.bottom)+E});la(d,F.scrollLeft,F.scrollTop)}function Xc(d,v){Math.abs(d.doc.scrollTop-v)<2||(r||Ma(d,{top:v}),Jc(d,v,!0),r&&Ma(d),th(d,100))}function Jc(d,v,B){v=Math.max(0,Math.min(d.display.scroller.scrollHeight-d.display.scroller.clientHeight,v)),!(d.display.scroller.scrollTop==v&&!B)&&(d.doc.scrollTop=v,d.display.scrollbars.setScrollTop(v),d.display.scroller.scrollTop!=v&&(d.display.scroller.scrollTop=v))}function _a(d,v,B,E){v=Math.max(0,Math.min(v,d.display.scroller.scrollWidth-d.display.scroller.clientWidth)),!((B?v==d.doc.scrollLeft:Math.abs(d.doc.scrollLeft-v)<2)&&!E)&&(d.doc.scrollLeft=v,nf(d),d.display.scroller.scrollLeft!=v&&(d.display.scroller.scrollLeft=v),d.display.scrollbars.setScrollLeft(v))}function xa(d){var v=d.display,B=v.gutters.offsetWidth,E=Math.round(d.doc.height+Md(d.display));return{clientHeight:v.scroller.clientHeight,viewHeight:v.wrapper.clientHeight,scrollWidth:v.scroller.scrollWidth,clientWidth:v.scroller.clientWidth,viewWidth:v.wrapper.clientWidth,barLeft:d.options.fixedGutter?B:0,docHeight:E,scrollHeight:E+Uu(d)+v.barHeight,nativeBarWidth:v.nativeBarWidth,gutterWidth:B}}var Xr=function(d,v,B){this.cm=B;var E=this.vert=xe("div",[xe("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),F=this.horiz=xe("div",[xe("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");E.tabIndex=F.tabIndex=-1,d(E),d(F),mt(E,"scroll",function(){E.clientHeight&&v(E.scrollTop,"vertical")}),mt(F,"scroll",function(){F.clientWidth&&v(F.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&C<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xr.prototype.update=function(d){var v=d.scrollWidth>d.clientWidth+1,B=d.scrollHeight>d.clientHeight+1,E=d.nativeBarWidth;if(B){this.vert.style.display="block",this.vert.style.bottom=v?E+"px":"0";var F=d.viewHeight-(v?E:0);this.vert.firstChild.style.height=Math.max(0,d.scrollHeight-d.clientHeight+F)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(v){this.horiz.style.display="block",this.horiz.style.right=B?E+"px":"0",this.horiz.style.left=d.barLeft+"px";var Z=d.viewWidth-d.barLeft-(B?E:0);this.horiz.firstChild.style.width=Math.max(0,d.scrollWidth-d.clientWidth+Z)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&d.clientHeight>0&&(E==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:B?E:0,bottom:v?E:0}},Xr.prototype.setScrollLeft=function(d){this.horiz.scrollLeft!=d&&(this.horiz.scrollLeft=d),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xr.prototype.setScrollTop=function(d){this.vert.scrollTop!=d&&(this.vert.scrollTop=d),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xr.prototype.zeroWidthHack=function(){var d=$&&!Y?"12px":"18px";this.horiz.style.height=this.vert.style.width=d,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Re,this.disableVert=new Re},Xr.prototype.enableZeroWidthBar=function(d,v,B){d.style.visibility="";function E(){var F=d.getBoundingClientRect(),Z=B=="vert"?document.elementFromPoint(F.right-1,(F.top+F.bottom)/2):document.elementFromPoint((F.right+F.left)/2,F.bottom-1);Z!=d?d.style.visibility="hidden":v.set(1e3,E)}v.set(1e3,E)},Xr.prototype.clear=function(){var d=this.horiz.parentNode;d.removeChild(this.horiz),d.removeChild(this.vert)};var AA=function(){};AA.prototype.update=function(){return{bottom:0,right:0}},AA.prototype.setScrollLeft=function(){},AA.prototype.setScrollTop=function(){},AA.prototype.clear=function(){};function js(d,v){v||(v=xa(d));var B=d.display.barWidth,E=d.display.barHeight;eh(d,v);for(var F=0;F<4&&B!=d.display.barWidth||E!=d.display.barHeight;F++)B!=d.display.barWidth&&d.options.lineWrapping&&Od(d),eh(d,xa(d)),B=d.display.barWidth,E=d.display.barHeight}function eh(d,v){var B=d.display,E=B.scrollbars.update(v);B.sizer.style.paddingRight=(B.barWidth=E.right)+"px",B.sizer.style.paddingBottom=(B.barHeight=E.bottom)+"px",B.heightForcer.style.borderBottom=E.bottom+"px solid transparent",E.right&&E.bottom?(B.scrollbarFiller.style.display="block",B.scrollbarFiller.style.height=E.bottom+"px",B.scrollbarFiller.style.width=E.right+"px"):B.scrollbarFiller.style.display="",E.bottom&&d.options.coverGutterNextToScrollbar&&d.options.fixedGutter?(B.gutterFiller.style.display="block",B.gutterFiller.style.height=E.bottom+"px",B.gutterFiller.style.width=v.gutterWidth+"px"):B.gutterFiller.style.display=""}var gu={native:Xr,null:AA};function Jd(d){d.display.scrollbars&&(d.display.scrollbars.clear(),d.display.scrollbars.addClass&&Ie(d.display.wrapper,d.display.scrollbars.addClass)),d.display.scrollbars=new gu[d.options.scrollbarStyle](function(v){d.display.wrapper.insertBefore(v,d.display.scrollbarFiller),mt(v,"mousedown",function(){d.state.focused&&setTimeout(function(){return d.display.input.focus()},0)}),v.setAttribute("cm-not-content","true")},function(v,B){B=="horizontal"?_a(d,v):Xc(d,v)},d),d.display.scrollbars.addClass&&be(d.display.wrapper,d.display.scrollbars.addClass)}var ys=0;function ol(d){d.curOp={cm:d,viewChanged:!1,startHeight:d.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ys,markArrays:null},o0(d.curOp)}function Ns(d){var v=d.curOp;v&&Rf(v,function(B){for(var E=0;E<B.ops.length;E++)B.ops[E].cm.curOp=null;ef(B)})}function ef(d){for(var v=d.ops,B=0;B<v.length;B++)Nu(v[B]);for(var E=0;E<v.length;E++)Sh(v[E]);for(var F=0;F<v.length;F++)eu(v[F]);for(var Z=0;Z<v.length;Z++)rt(v[Z]);for(var fe=0;fe<v.length;fe++)Xs(v[fe])}function Nu(d){var v=d.cm,B=v.display;nh(v),d.updateMaxLine&&Vs(v),d.mustUpdate=d.viewChanged||d.forceUpdate||d.scrollTop!=null||d.scrollToPos&&(d.scrollToPos.from.line<B.viewFrom||d.scrollToPos.to.line>=B.viewTo)||B.maxLineChanged&&v.options.lineWrapping,d.update=d.mustUpdate&&new Po(v,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}function Sh(d){d.updatedDisplay=d.mustUpdate&&tf(d.cm,d.update)}function eu(d){var v=d.cm,B=v.display;d.updatedDisplay&&Od(v),d.barMeasure=xa(v),B.maxLineChanged&&!v.options.lineWrapping&&(d.adjustWidthTo=Vc(v,B.maxLine,B.maxLine.text.length).left+3,v.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(B.scroller.clientWidth,B.sizer.offsetLeft+d.adjustWidthTo+Uu(v)+v.display.barWidth),d.maxScrollLeft=Math.max(0,B.sizer.offsetLeft+d.adjustWidthTo-$A(v))),(d.updatedDisplay||d.selectionChanged)&&(d.preparedSelection=B.input.prepareSelection())}function rt(d){var v=d.cm;d.adjustWidthTo!=null&&(v.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<v.doc.scrollLeft&&_a(v,Math.min(v.display.scroller.scrollLeft,d.maxScrollLeft),!0),v.display.maxLineChanged=!1);var B=d.focus&&d.focus==nt(kt(v));d.preparedSelection&&v.display.input.showSelection(d.preparedSelection,B),(d.updatedDisplay||d.startHeight!=v.doc.height)&&js(v,d.barMeasure),d.updatedDisplay&&Gu(v,d.barMeasure),d.selectionChanged&&Oc(v),v.state.focused&&d.updateInput&&v.display.input.reset(d.typing),B&&Os(d.cm)}function Xs(d){var v=d.cm,B=v.display,E=v.doc;if(d.updatedDisplay&&Ep(v,d.update),B.wheelStartX!=null&&(d.scrollTop!=null||d.scrollLeft!=null||d.scrollToPos)&&(B.wheelStartX=B.wheelStartY=null),d.scrollTop!=null&&Jc(v,d.scrollTop,d.forceScroll),d.scrollLeft!=null&&_a(v,d.scrollLeft,!0,!0),d.scrollToPos){var F=wh(v,Yi(E,d.scrollToPos.from),Yi(E,d.scrollToPos.to),d.scrollToPos.margin);Fu(v,F)}var Z=d.maybeHiddenMarkers,fe=d.maybeUnhiddenMarkers;if(Z)for(var _e=0;_e<Z.length;++_e)Z[_e].lines.length||it(Z[_e],"hide");if(fe)for(var ke=0;ke<fe.length;++ke)fe[ke].lines.length&&it(fe[ke],"unhide");B.wrapper.offsetHeight&&(E.scrollTop=v.display.scroller.scrollTop),d.changeObjs&&it(v,"changes",v,d.changeObjs),d.update&&d.update.finish()}function Qa(d,v){if(d.curOp)return v();ol(d);try{return v()}finally{Ns(d)}}function Jo(d,v){return function(){if(d.curOp)return v.apply(d,arguments);ol(d);try{return v.apply(d,arguments)}finally{Ns(d)}}}function yr(d){return function(){if(this.curOp)return d.apply(this,arguments);ol(this);try{return d.apply(this,arguments)}finally{Ns(this)}}}function vs(d){return function(){var v=this.cm;if(!v||v.curOp)return d.apply(this,arguments);ol(v);try{return d.apply(this,arguments)}finally{Ns(v)}}}function th(d,v){d.doc.highlightFrontier<d.display.viewTo&&d.state.highlight.set(v,Ut(Eh,d))}function Eh(d){var v=d.doc;if(!(v.highlightFrontier>=d.display.viewTo)){var B=+new Date+d.options.workTime,E=Xo(d,v.highlightFrontier),F=[];v.iter(E.line,Math.min(v.first+v.size,d.display.viewTo+500),function(Z){if(E.line>=d.display.viewFrom){var fe=Z.styles,_e=Z.text.length>d.options.maxHighlightLength?co(v.mode,E.state):null,ke=Mc(d,Z,E,!0);_e&&(E.state=_e),Z.styles=ke.styles;var Le=Z.styleClasses,vt=ke.classes;vt?Z.styleClasses=vt:Le&&(Z.styleClasses=null);for(var It=!fe||fe.length!=Z.styles.length||Le!=vt&&(!Le||!vt||Le.bgClass!=vt.bgClass||Le.textClass!=vt.textClass),Jt=0;!It&&Jt<fe.length;++Jt)It=fe[Jt]!=Z.styles[Jt];It&&F.push(E.line),Z.stateAfter=E.save(),E.nextLine()}else Z.text.length<=d.options.maxHighlightLength&&Do(d,Z.text,E),Z.stateAfter=E.line%5==0?E.save():null,E.nextLine();if(+new Date>B)return th(d,d.options.workDelay),!0}),v.highlightFrontier=E.line,v.modeFrontier=Math.max(v.modeFrontier,E.line),F.length&&Qa(d,function(){for(var Z=0;Z<F.length;Z++)XA(d,F[Z],"text")})}}var Po=function(d,v,B){var E=d.display;this.viewport=v,this.visible=IA(E,d.doc,v),this.editorIsHidden=!E.wrapper.offsetWidth,this.wrapperHeight=E.wrapper.clientHeight,this.wrapperWidth=E.wrapper.clientWidth,this.oldDisplayWidth=$A(d),this.force=B,this.dims=kl(d),this.events=[]};Po.prototype.signal=function(d,v){Mn(d,v)&&this.events.push(arguments)},Po.prototype.finish=function(){for(var d=0;d<this.events.length;d++)it.apply(null,this.events[d])};function nh(d){var v=d.display;!v.scrollbarsClipped&&v.scroller.offsetWidth&&(v.nativeBarWidth=v.scroller.offsetWidth-v.scroller.clientWidth,v.heightForcer.style.height=Uu(d)+"px",v.sizer.style.marginBottom=-v.nativeBarWidth+"px",v.sizer.style.borderRightWidth=Uu(d)+"px",v.scrollbarsClipped=!0)}function kA(d){if(d.hasFocus())return null;var v=nt(kt(d));if(!v||!Ct(d.display.lineDiv,v))return null;var B={activeElt:v};if(window.getSelection){var E=St(d).getSelection();E.anchorNode&&E.extend&&Ct(d.display.lineDiv,E.anchorNode)&&(B.anchorNode=E.anchorNode,B.anchorOffset=E.anchorOffset,B.focusNode=E.focusNode,B.focusOffset=E.focusOffset)}return B}function Id(d){if(!(!d||!d.activeElt||d.activeElt==nt(gt(d.activeElt)))&&(d.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(d.activeElt.nodeName)&&d.anchorNode&&Ct(document.body,d.anchorNode)&&Ct(document.body,d.focusNode))){var v=d.activeElt.ownerDocument,B=v.defaultView.getSelection(),E=v.createRange();E.setEnd(d.anchorNode,d.anchorOffset),E.collapse(!1),B.removeAllRanges(),B.addRange(E),B.extend(d.focusNode,d.focusOffset)}}function tf(d,v){var B=d.display,E=d.doc;if(v.editorIsHidden)return Nl(d),!1;if(!v.force&&v.visible.from>=B.viewFrom&&v.visible.to<=B.viewTo&&(B.updateLineNumbers==null||B.updateLineNumbers>=B.viewTo)&&B.renderedView==B.view&&OA(d)==0)return!1;al(d)&&(Nl(d),v.dims=kl(d));var F=E.first+E.size,Z=Math.max(v.visible.from-d.options.viewportMargin,E.first),fe=Math.min(F,v.visible.to+d.options.viewportMargin);B.viewFrom<Z&&Z-B.viewFrom<20&&(Z=Math.max(E.first,B.viewFrom)),B.viewTo>fe&&B.viewTo-fe<20&&(fe=Math.min(F,B.viewTo)),Bo&&(Z=ho(d.doc,Z),fe=cr(d.doc,fe));var _e=Z!=B.viewFrom||fe!=B.viewTo||B.lastWrapHeight!=v.wrapperHeight||B.lastWrapWidth!=v.wrapperWidth;lc(d,Z,fe),B.viewOffset=Go(Mi(d.doc,B.viewFrom)),d.display.mover.style.top=B.viewOffset+"px";var ke=OA(d);if(!_e&&ke==0&&!v.force&&B.renderedView==B.view&&(B.updateLineNumbers==null||B.updateLineNumbers>=B.viewTo))return!1;var Le=kA(d);return ke>4&&(B.lineDiv.style.display="none"),Bh(d,B.updateLineNumbers,v.dims),ke>4&&(B.lineDiv.style.display=""),B.renderedView=B.view,Id(Le),Se(B.cursorDiv),Se(B.selectionDiv),B.gutters.style.height=B.sizer.style.minHeight=0,_e&&(B.lastWrapHeight=v.wrapperHeight,B.lastWrapWidth=v.wrapperWidth,th(d,400)),B.updateLineNumbers=null,!0}function Ep(d,v){for(var B=v.viewport,E=!0;;E=!1){if(!E||!d.options.lineWrapping||v.oldDisplayWidth==$A(d)){if(B&&B.top!=null&&(B={top:Math.min(d.doc.height+Md(d.display)-Yh(d),B.top)}),v.visible=IA(d.display,d.doc,B),v.visible.from>=d.display.viewFrom&&v.visible.to<=d.display.viewTo)break}else E&&(v.visible=IA(d.display,d.doc,B));if(!tf(d,v))break;Od(d);var F=xa(d);Bc(d),js(d,F),Gu(d,F),v.force=!1}v.signal(d,"update",d),(d.display.viewFrom!=d.display.reportedViewFrom||d.display.viewTo!=d.display.reportedViewTo)&&(v.signal(d,"viewportChange",d,d.display.viewFrom,d.display.viewTo),d.display.reportedViewFrom=d.display.viewFrom,d.display.reportedViewTo=d.display.viewTo)}function Ma(d,v){var B=new Po(d,v);if(tf(d,B)){Od(d),Ep(d,B);var E=xa(d);Bc(d),js(d,E),Gu(d,E),B.finish()}}function Bh(d,v,B){var E=d.display,F=d.options.lineNumbers,Z=E.lineDiv,fe=Z.firstChild;function _e(_n){var Rn=_n.nextSibling;return M&&$&&d.display.currentWheelTarget==_n?_n.style.display="none":_n.parentNode.removeChild(_n),Rn}for(var ke=E.view,Le=E.viewFrom,vt=0;vt<ke.length;vt++){var It=ke[vt];if(!It.hidden)if(!It.node||It.node.parentNode!=Z){var Jt=Qh(d,It,Le,B);Z.insertBefore(Jt,fe)}else{for(;fe!=It.node;)fe=_e(fe);var Ht=F&&v!=null&&v<=Le&&It.lineNumber;It.changes&&(He(It.changes,"gutter")>-1&&(Ht=!1),zl(d,It,Le,B)),Ht&&(Se(It.lineNumber),It.lineNumber.appendChild(document.createTextNode(Gn(d.options,Le)))),fe=It.node.nextSibling}Le+=It.size}for(;fe;)fe=_e(fe)}function ih(d){var v=d.gutters.offsetWidth;d.sizer.style.marginLeft=v+"px",is(d,"gutterChanged",d)}function Gu(d,v){d.display.sizer.style.minHeight=v.docHeight+"px",d.display.heightForcer.style.top=v.docHeight+"px",d.display.gutters.style.height=v.docHeight+d.display.barHeight+Uu(d)+"px"}function nf(d){var v=d.display,B=v.view;if(!(!v.alignWidgets&&(!v.gutters.firstChild||!d.options.fixedGutter))){for(var E=Wo(v)-v.scroller.scrollLeft+d.doc.scrollLeft,F=v.gutters.offsetWidth,Z=E+"px",fe=0;fe<B.length;fe++)if(!B[fe].hidden){d.options.fixedGutter&&(B[fe].gutter&&(B[fe].gutter.style.left=Z),B[fe].gutterBackground&&(B[fe].gutterBackground.style.left=Z));var _e=B[fe].alignable;if(_e)for(var ke=0;ke<_e.length;ke++)_e[ke].style.left=Z}d.options.fixedGutter&&(v.gutters.style.left=E+F+"px")}}function al(d){if(!d.options.lineNumbers)return!1;var v=d.doc,B=Gn(d.options,v.first+v.size-1),E=d.display;if(B.length!=E.lineNumChars){var F=E.measure.appendChild(xe("div",[xe("div",B)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Z=F.firstChild.offsetWidth,fe=F.offsetWidth-Z;return E.lineGutter.style.width="",E.lineNumInnerWidth=Math.max(Z,E.lineGutter.offsetWidth-fe)+1,E.lineNumWidth=E.lineNumInnerWidth+fe,E.lineNumChars=E.lineNumInnerWidth?B.length:-1,E.lineGutter.style.width=E.lineNumWidth+"px",ih(d.display),!0}return!1}function rs(d,v){for(var B=[],E=!1,F=0;F<d.length;F++){var Z=d[F],fe=null;if(typeof Z!="string"&&(fe=Z.style,Z=Z.className),Z=="CodeMirror-linenumbers")if(v)E=!0;else continue;B.push({className:Z,style:fe})}return v&&!E&&B.push({className:"CodeMirror-linenumbers",style:null}),B}function $h(d){var v=d.gutters,B=d.gutterSpecs;Se(v),d.lineGutter=null;for(var E=0;E<B.length;++E){var F=B[E],Z=F.className,fe=F.style,_e=v.appendChild(xe("div",null,"CodeMirror-gutter "+Z));fe&&(_e.style.cssText=fe),Z=="CodeMirror-linenumbers"&&(d.lineGutter=_e,_e.style.width=(d.lineNumWidth||1)+"px")}v.style.display=B.length?"":"none",ih(d)}function uA(d){$h(d.display),Bs(d),nf(d)}function Td(d,v,B,E){var F=this;this.input=B,F.scrollbarFiller=xe("div",null,"CodeMirror-scrollbar-filler"),F.scrollbarFiller.setAttribute("cm-not-content","true"),F.gutterFiller=xe("div",null,"CodeMirror-gutter-filler"),F.gutterFiller.setAttribute("cm-not-content","true"),F.lineDiv=ze("div",null,"CodeMirror-code"),F.selectionDiv=xe("div",null,null,"position: relative; z-index: 1"),F.cursorDiv=xe("div",null,"CodeMirror-cursors"),F.measure=xe("div",null,"CodeMirror-measure"),F.lineMeasure=xe("div",null,"CodeMirror-measure"),F.lineSpace=ze("div",[F.measure,F.lineMeasure,F.selectionDiv,F.cursorDiv,F.lineDiv],null,"position: relative; outline: none");var Z=ze("div",[F.lineSpace],"CodeMirror-lines");F.mover=xe("div",[Z],null,"position: relative"),F.sizer=xe("div",[F.mover],"CodeMirror-sizer"),F.sizerWidth=null,F.heightForcer=xe("div",null,null,"position: absolute; height: "+bt+"px; width: 1px;"),F.gutters=xe("div",null,"CodeMirror-gutters"),F.lineGutter=null,F.scroller=xe("div",[F.sizer,F.heightForcer,F.gutters],"CodeMirror-scroll"),F.scroller.setAttribute("tabIndex","-1"),F.wrapper=xe("div",[F.scrollbarFiller,F.gutterFiller,F.scroller],"CodeMirror"),U&&K===105&&(F.wrapper.style.clipPath="inset(0px)"),F.wrapper.setAttribute("translate","no"),p&&C<8&&(F.gutters.style.zIndex=-1,F.scroller.style.paddingRight=0),!M&&!(r&&ne)&&(F.scroller.draggable=!0),d&&(d.appendChild?d.appendChild(F.wrapper):d(F.wrapper)),F.viewFrom=F.viewTo=v.first,F.reportedViewFrom=F.reportedViewTo=v.first,F.view=[],F.renderedView=null,F.externalMeasured=null,F.viewOffset=0,F.lastWrapHeight=F.lastWrapWidth=0,F.updateLineNumbers=null,F.nativeBarWidth=F.barHeight=F.barWidth=0,F.scrollbarsClipped=!1,F.lineNumWidth=F.lineNumInnerWidth=F.lineNumChars=null,F.alignWidgets=!1,F.cachedCharWidth=F.cachedTextHeight=F.cachedPaddingH=null,F.maxLine=null,F.maxLineLength=0,F.maxLineChanged=!1,F.wheelDX=F.wheelDY=F.wheelStartX=F.wheelStartY=null,F.shift=!1,F.selForContextMenu=null,F.activeTouch=null,F.gutterSpecs=rs(E.gutters,E.lineNumbers),$h(F),B.init(F)}var rf=0,_l=null;p?_l=-.53:r?_l=15:U?_l=-.7:W&&(_l=-1/3);function Tc(d){var v=d.wheelDeltaX,B=d.wheelDeltaY;return v==null&&d.detail&&d.axis==d.HORIZONTAL_AXIS&&(v=d.detail),B==null&&d.detail&&d.axis==d.VERTICAL_AXIS?B=d.detail:B==null&&(B=d.wheelDelta),{x:v,y:B}}function Ff(d){var v=Tc(d);return v.x*=_l,v.y*=_l,v}function Zh(d,v){U&&K==102&&(d.display.chromeScrollHack==null?d.display.sizer.style.pointerEvents="none":clearTimeout(d.display.chromeScrollHack),d.display.chromeScrollHack=setTimeout(function(){d.display.chromeScrollHack=null,d.display.sizer.style.pointerEvents=""},100));var B=Tc(v),E=B.x,F=B.y,Z=_l;v.deltaMode===0&&(E=v.deltaX,F=v.deltaY,Z=1);var fe=d.display,_e=fe.scroller,ke=_e.scrollWidth>_e.clientWidth,Le=_e.scrollHeight>_e.clientHeight;if(E&&ke||F&&Le){if(F&&$&&M){e:for(var vt=v.target,It=fe.view;vt!=_e;vt=vt.parentNode)for(var Jt=0;Jt<It.length;Jt++)if(It[Jt].node==vt){d.display.currentWheelTarget=vt;break e}}if(E&&!r&&!j&&Z!=null){F&&Le&&Xc(d,Math.max(0,_e.scrollTop+F*Z)),_a(d,Math.max(0,_e.scrollLeft+E*Z)),(!F||F&&Le)&&Wn(v),fe.wheelStartX=null;return}if(F&&Z!=null){var Ht=F*Z,_n=d.doc.scrollTop,Rn=_n+fe.wrapper.clientHeight;Ht<0?_n=Math.max(0,_n+Ht-50):Rn=Math.min(d.doc.height,Rn+Ht+50),Ma(d,{top:_n,bottom:Rn})}rf<20&&v.deltaMode!==0&&(fe.wheelStartX==null?(fe.wheelStartX=_e.scrollLeft,fe.wheelStartY=_e.scrollTop,fe.wheelDX=E,fe.wheelDY=F,setTimeout(function(){if(fe.wheelStartX!=null){var oi=_e.scrollLeft-fe.wheelStartX,mi=_e.scrollTop-fe.wheelStartY,Ci=mi&&fe.wheelDY&&mi/fe.wheelDY||oi&&fe.wheelDX&&oi/fe.wheelDX;fe.wheelStartX=fe.wheelStartY=null,Ci&&(_l=(_l*rf+Ci)/(rf+1),++rf)}},200)):(fe.wheelDX+=E,fe.wheelDY+=F))}}var ba=function(d,v){this.ranges=d,this.primIndex=v};ba.prototype.primary=function(){return this.ranges[this.primIndex]},ba.prototype.equals=function(d){if(d==this)return!0;if(d.primIndex!=this.primIndex||d.ranges.length!=this.ranges.length)return!1;for(var v=0;v<this.ranges.length;v++){var B=this.ranges[v],E=d.ranges[v];if(!to(B.anchor,E.anchor)||!to(B.head,E.head))return!1}return!0},ba.prototype.deepCopy=function(){for(var d=[],v=0;v<this.ranges.length;v++)d[v]=new Jr(Eo(this.ranges[v].anchor),Eo(this.ranges[v].head));return new ba(d,this.primIndex)},ba.prototype.somethingSelected=function(){for(var d=0;d<this.ranges.length;d++)if(!this.ranges[d].empty())return!0;return!1},ba.prototype.contains=function(d,v){v||(v=d);for(var B=0;B<this.ranges.length;B++){var E=this.ranges[B];if(si(v,E.from())>=0&&si(d,E.to())<=0)return B}return-1};var Jr=function(d,v){this.anchor=d,this.head=v};Jr.prototype.from=function(){return zs(this.anchor,this.head)},Jr.prototype.to=function(){return hs(this.anchor,this.head)},Jr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ci(d,v,B){var E=d&&d.options.selectionsMayTouch,F=v[B];v.sort(function(Jt,Ht){return si(Jt.from(),Ht.from())}),B=He(v,F);for(var Z=1;Z<v.length;Z++){var fe=v[Z],_e=v[Z-1],ke=si(_e.to(),fe.from());if(E&&!fe.empty()?ke>0:ke>=0){var Le=zs(_e.from(),fe.from()),vt=hs(_e.to(),fe.to()),It=_e.empty()?fe.from()==fe.head:_e.from()==_e.head;Z<=B&&--B,v.splice(--Z,2,new Jr(It?vt:Le,It?Le:vt))}}return new ba(v,B)}function Wu(d,v){return new ba([new Jr(d,v||d)],0)}function Qu(d){return d.text?rn(d.from.line+d.text.length-1,$n(d.text).length+(d.text.length==1?d.from.ch:0)):d.to}function Xh(d,v){if(si(d,v.from)<0)return d;if(si(d,v.to)<=0)return Qu(v);var B=d.line+v.text.length-(v.to.line-v.from.line)-1,E=d.ch;return d.line==v.to.line&&(E+=Qu(v).ch-v.to.ch),rn(B,E)}function kc(d,v){for(var B=[],E=0;E<d.sel.ranges.length;E++){var F=d.sel.ranges[E];B.push(new Jr(Xh(F.anchor,v),Xh(F.head,v)))}return ci(d.cm,B,d.sel.primIndex)}function yu(d,v,B){return d.line==v.line?rn(B.line,d.ch-v.ch+B.ch):rn(B.line+(d.line-v.line),d.ch)}function of(d,v,B){for(var E=[],F=rn(d.first,0),Z=F,fe=0;fe<v.length;fe++){var _e=v[fe],ke=yu(_e.from,F,Z),Le=yu(Qu(_e),F,Z);if(F=_e.to,Z=Le,B=="around"){var vt=d.sel.ranges[fe],It=si(vt.head,vt.anchor)<0;E[fe]=new Jr(It?Le:ke,It?ke:Le)}else E[fe]=new Jr(ke,ke)}return new ba(E,d.sel.primIndex)}function io(d){d.doc.mode=So(d.options,d.doc.modeOption),Gl(d)}function Gl(d){d.doc.iter(function(v){v.stateAfter&&(v.stateAfter=null),v.styles&&(v.styles=null)}),d.doc.modeFrontier=d.doc.highlightFrontier=d.doc.first,th(d,100),d.state.modeGen++,d.curOp&&Bs(d)}function Oh(d,v){return v.from.ch==0&&v.to.ch==0&&$n(v.text)==""&&(!d.cm||d.cm.options.wholeLineUpdateBefore)}function uc(d,v,B,E){function F(Ci){return B?B[Ci]:null}function Z(Ci,gi,Di){qA(Ci,gi,Di,E),is(Ci,"change",Ci,v)}function fe(Ci,gi){for(var Di=[],sr=Ci;sr<gi;++sr)Di.push(new Fl(Le[sr],F(sr),E));return Di}var _e=v.from,ke=v.to,Le=v.text,vt=Mi(d,_e.line),It=Mi(d,ke.line),Jt=$n(Le),Ht=F(Le.length-1),_n=ke.line-_e.line;if(v.full)d.insert(0,fe(0,Le.length)),d.remove(Le.length,d.size-Le.length);else if(Oh(d,v)){var Rn=fe(0,Le.length-1);Z(It,It.text,Ht),_n&&d.remove(_e.line,_n),Rn.length&&d.insert(_e.line,Rn)}else if(vt==It)if(Le.length==1)Z(vt,vt.text.slice(0,_e.ch)+Jt+vt.text.slice(ke.ch),Ht);else{var oi=fe(1,Le.length-1);oi.push(new Fl(Jt+vt.text.slice(ke.ch),Ht,E)),Z(vt,vt.text.slice(0,_e.ch)+Le[0],F(0)),d.insert(_e.line+1,oi)}else if(Le.length==1)Z(vt,vt.text.slice(0,_e.ch)+Le[0]+It.text.slice(ke.ch),F(0)),d.remove(_e.line+1,_n);else{Z(vt,vt.text.slice(0,_e.ch)+Le[0],F(0)),Z(It,Jt+It.text.slice(ke.ch),Ht);var mi=fe(1,Le.length-1);_n>1&&d.remove(_e.line+1,_n-1),d.insert(_e.line+1,mi)}is(d,"change",d,v)}function DA(d,v,B){function E(F,Z,fe){if(F.linked)for(var _e=0;_e<F.linked.length;++_e){var ke=F.linked[_e];if(ke.doc!=Z){var Le=fe&&ke.sharedHist;B&&!Le||(v(ke.doc,Le),E(ke.doc,F,Le))}}}E(d,null,!0)}function cc(d,v){if(v.cm)throw new Error("This document is already in use.");d.doc=v,v.cm=d,Hh(d),io(d),Ih(d),d.options.direction=v.direction,d.options.lineWrapping||Vs(d),d.options.mode=v.modeOption,Bs(d)}function Ih(d){(d.doc.direction=="rtl"?be:Ie)(d.display.lineDiv,"CodeMirror-rtl")}function vu(d){Qa(d,function(){Ih(d),Bs(d)})}function rh(d){this.done=[],this.undone=[],this.undoDepth=d?d.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=d?d.maxGeneration:1}function tu(d,v){var B={from:Eo(v.from),to:Qu(v),text:cs(d,v.from,v.to)};return Jh(d,B,v.from.line,v.to.line+1),DA(d,function(E){return Jh(E,B,v.from.line,v.to.line+1)},!0),B}function bl(d){for(;d.length;){var v=$n(d);if(v.ranges)d.pop();else break}}function Bp(d,v){if(v)return bl(d.done),$n(d.done);if(d.done.length&&!$n(d.done).ranges)return $n(d.done);if(d.done.length>1&&!d.done[d.done.length-2].ranges)return d.done.pop(),$n(d.done)}function af(d,v,B,E){var F=d.history;F.undone.length=0;var Z=+new Date,fe,_e;if((F.lastOp==E||F.lastOrigin==v.origin&&v.origin&&(v.origin.charAt(0)=="+"&&F.lastModTime>Z-(d.cm?d.cm.options.historyEventDelay:500)||v.origin.charAt(0)=="*"))&&(fe=Bp(F,F.lastOp==E)))_e=$n(fe.changes),si(v.from,v.to)==0&&si(v.from,_e.to)==0?_e.to=Qu(v):fe.changes.push(tu(d,v));else{var ke=$n(F.done);for((!ke||!ke.ranges)&&Ql(d.sel,F.done),fe={changes:[tu(d,v)],generation:F.generation},F.done.push(fe);F.done.length>F.undoDepth;)F.done.shift(),F.done[0].ranges||F.done.shift()}F.done.push(B),F.generation=++F.maxGeneration,F.lastModTime=F.lastSelTime=Z,F.lastOp=F.lastSelOp=E,F.lastOrigin=F.lastSelOrigin=v.origin,_e||it(d,"historyAdded")}function Wl(d,v,B,E){var F=v.charAt(0);return F=="*"||F=="+"&&B.ranges.length==E.ranges.length&&B.somethingSelected()==E.somethingSelected()&&new Date-d.history.lastSelTime<=(d.cm?d.cm.options.historyEventDelay:500)}function Ko(d,v,B,E){var F=d.history,Z=E&&E.origin;B==F.lastSelOp||Z&&F.lastSelOrigin==Z&&(F.lastModTime==F.lastSelTime&&F.lastOrigin==Z||Wl(d,Z,$n(F.done),v))?F.done[F.done.length-1]=v:Ql(v,F.done),F.lastSelTime=+new Date,F.lastSelOrigin=Z,F.lastSelOp=B,E&&E.clearRedo!==!1&&bl(F.undone)}function Ql(d,v){var B=$n(v);B&&B.ranges&&B.equals(d)||v.push(d)}function Jh(d,v,B,E){var F=v["spans_"+d.id],Z=0;d.iter(Math.max(d.first,B),Math.min(d.first+d.size,E),function(fe){fe.markedSpans&&((F||(F=v["spans_"+d.id]={}))[Z]=fe.markedSpans),++Z})}function zf(d){if(!d)return null;for(var v,B=0;B<d.length;++B)d[B].marker.explicitlyCleared?v||(v=d.slice(0,B)):v&&v.push(d[B]);return v?v.length?v:null:d}function Cu(d,v){var B=v["spans_"+d.id];if(!B)return null;for(var E=[],F=0;F<v.text.length;++F)E.push(zf(B[F]));return E}function ro(d,v){var B=Cu(d,v),E=Pr(d,v);if(!B)return E;if(!E)return B;for(var F=0;F<B.length;++F){var Z=B[F],fe=E[F];if(Z&&fe)e:for(var _e=0;_e<fe.length;++_e){for(var ke=fe[_e],Le=0;Le<Z.length;++Le)if(Z[Le].marker==ke.marker)continue e;Z.push(ke)}else fe&&(B[F]=fe)}return B}function Uo(d,v,B){for(var E=[],F=0;F<d.length;++F){var Z=d[F];if(Z.ranges){E.push(B?ba.prototype.deepCopy.call(Z):Z);continue}var fe=Z.changes,_e=[];E.push({changes:_e});for(var ke=0;ke<fe.length;++ke){var Le=fe[ke],vt=void 0;if(_e.push({from:Le.from,to:Le.to,text:Le.text}),v)for(var It in Le)(vt=It.match(/^spans_(\d+)$/))&&He(v,Number(vt[1]))>-1&&($n(_e)[It]=Le[It],delete Le[It])}}return E}function Kr(d,v,B,E){if(E){var F=d.anchor;if(B){var Z=si(v,F)<0;Z!=si(B,F)<0?(F=v,v=B):Z!=si(v,B)<0&&(v=B)}return new Jr(F,v)}else return new Jr(B||v,v)}function Yu(d,v,B,E,F){F==null&&(F=d.cm&&(d.cm.display.shift||d.extend)),Aa(d,new ba([Kr(d.sel.primary(),v,B,F)],0),E)}function Ii(d,v,B){for(var E=[],F=d.cm&&(d.cm.display.shift||d.extend),Z=0;Z<d.sel.ranges.length;Z++)E[Z]=Kr(d.sel.ranges[Z],v[Z],null,F);var fe=ci(d.cm,E,d.sel.primIndex);Aa(d,fe,B)}function ki(d,v,B,E){var F=d.sel.ranges.slice(0);F[v]=B,Aa(d,ci(d.cm,F,d.sel.primIndex),E)}function Dc(d,v,B,E){Aa(d,Wu(v,B),E)}function RA(d,v,B){var E={ranges:v.ranges,update:function(F){this.ranges=[];for(var Z=0;Z<F.length;Z++)this.ranges[Z]=new Jr(Yi(d,F[Z].anchor),Yi(d,F[Z].head))},origin:B&&B.origin};return it(d,"beforeSelectionChange",d,E),d.cm&&it(d.cm,"beforeSelectionChange",d.cm,E),E.ranges!=v.ranges?ci(d.cm,E.ranges,E.ranges.length-1):v}function cA(d,v,B){var E=d.history.done,F=$n(E);F&&F.ranges?(E[E.length-1]=v,go(d,v,B)):Aa(d,v,B)}function Aa(d,v,B){go(d,v,B),Ko(d,d.sel,d.cm?d.cm.curOp.id:NaN,B)}function go(d,v,B){(Mn(d,"beforeSelectionChange")||d.cm&&Mn(d.cm,"beforeSelectionChange"))&&(v=RA(d,v,B));var E=B&&B.bias||(si(v.primary().head,d.sel.primary().head)<0?-1:1);Yl(d,ed(d,v,E,!0)),!(B&&B.scroll===!1)&&d.cm&&d.cm.getOption("readOnly")!="nocursor"&&Qo(d.cm)}function Yl(d,v){v.equals(d.sel)||(d.sel=v,d.cm&&(d.cm.curOp.updateInput=1,d.cm.curOp.selectionChanged=!0,Dn(d.cm)),is(d,"cursorActivity",d))}function jf(d){Yl(d,ed(d,d.sel,null,!1))}function ed(d,v,B,E){for(var F,Z=0;Z<v.ranges.length;Z++){var fe=v.ranges[Z],_e=v.ranges.length==d.sel.ranges.length&&d.sel.ranges[Z],ke=Ya(d,fe.anchor,_e&&_e.anchor,B,E),Le=fe.head==fe.anchor?ke:Ya(d,fe.head,_e&&_e.head,B,E);(F||ke!=fe.anchor||Le!=fe.head)&&(F||(F=v.ranges.slice(0,Z)),F[Z]=new Jr(ke,Le))}return F?ci(d.cm,F,v.primIndex):v}function Lo(d,v,B,E,F){var Z=Mi(d,v.line);if(Z.markedSpans)for(var fe=0;fe<Z.markedSpans.length;++fe){var _e=Z.markedSpans[fe],ke=_e.marker,Le="selectLeft"in ke?!ke.selectLeft:ke.inclusiveLeft,vt="selectRight"in ke?!ke.selectRight:ke.inclusiveRight;if((_e.from==null||(Le?_e.from<=v.ch:_e.from<v.ch))&&(_e.to==null||(vt?_e.to>=v.ch:_e.to>v.ch))){if(F&&(it(ke,"beforeCursorEnter"),ke.explicitlyCleared))if(Z.markedSpans){--fe;continue}else break;if(!ke.atomic)continue;if(B){var It=ke.find(E<0?1:-1),Jt=void 0;if((E<0?vt:Le)&&(It=td(d,It,-E,It&&It.line==v.line?Z:null)),It&&It.line==v.line&&(Jt=si(It,B))&&(E<0?Jt<0:Jt>0))return Lo(d,It,v,E,F)}var Ht=ke.find(E<0?-1:1);return(E<0?Le:vt)&&(Ht=td(d,Ht,E,Ht.line==v.line?Z:null)),Ht?Lo(d,Ht,v,E,F):null}}return v}function Ya(d,v,B,E,F){var Z=E||1,fe=Lo(d,v,B,Z,F)||!F&&Lo(d,v,B,Z,!0)||Lo(d,v,B,-Z,F)||!F&&Lo(d,v,B,-Z,!0);return fe||(d.cantEdit=!0,rn(d.first,0))}function td(d,v,B,E){return B<0&&v.ch==0?v.line>d.first?Yi(d,rn(v.line-1)):null:B>0&&v.ch==(E||Mi(d,v.line)).text.length?v.line<d.first+d.size-1?rn(v.line+1,0):null:new rn(v.line,v.ch+B)}function _u(d){d.setSelection(rn(d.firstLine(),0),rn(d.lastLine()),Ot)}function Rc(d,v,B){var E={canceled:!1,from:v.from,to:v.to,text:v.text,origin:v.origin,cancel:function(){return E.canceled=!0}};return B&&(E.update=function(F,Z,fe,_e){F&&(E.from=Yi(d,F)),Z&&(E.to=Yi(d,Z)),fe&&(E.text=fe),_e!==void 0&&(E.origin=_e)}),it(d,"beforeChange",d,E),d.cm&&it(d.cm,"beforeChange",d.cm,E),E.canceled?(d.cm&&(d.cm.curOp.updateInput=2),null):{from:E.from,to:E.to,text:E.text,origin:E.origin}}function Js(d,v,B){if(d.cm){if(!d.cm.curOp)return Jo(d.cm,Js)(d,v,B);if(d.cm.state.suppressEdits)return}if(!((Mn(d,"beforeChange")||d.cm&&Mn(d.cm,"beforeChange"))&&(v=Rc(d,v,!0),!v))){var E=No&&!B&&Xi(d,v.from,v.to);if(E)for(var F=E.length-1;F>=0;--F)os(d,{from:E[F].from,to:E[F].to,text:F?[""]:v.text,origin:v.origin});else os(d,v)}}function os(d,v){if(!(v.text.length==1&&v.text[0]==""&&si(v.from,v.to)==0)){var B=kc(d,v);af(d,v,B,d.cm?d.cm.curOp.id:NaN),hc(d,v,B,Pr(d,v));var E=[];DA(d,function(F,Z){!Z&&He(E,F.history)==-1&&(kd(F.history,v),E.push(F.history)),hc(F,v,null,Pr(F,v))})}}function hA(d,v,B){var E=d.cm&&d.cm.state.suppressEdits;if(!(E&&!B)){for(var F=d.history,Z,fe=d.sel,_e=v=="undo"?F.done:F.undone,ke=v=="undo"?F.undone:F.done,Le=0;Le<_e.length&&(Z=_e[Le],!(B?Z.ranges&&!Z.equals(d.sel):!Z.ranges));Le++);if(Le!=_e.length){for(F.lastOrigin=F.lastSelOrigin=null;;)if(Z=_e.pop(),Z.ranges){if(Ql(Z,ke),B&&!Z.equals(d.sel)){Aa(d,Z,{clearRedo:!1});return}fe=Z}else if(E){_e.push(Z);return}else break;var vt=[];Ql(fe,ke),ke.push({changes:vt,generation:F.generation}),F.generation=Z.generation||++F.maxGeneration;for(var It=Mn(d,"beforeChange")||d.cm&&Mn(d.cm,"beforeChange"),Jt=function(Rn){var oi=Z.changes[Rn];if(oi.origin=v,It&&!Rc(d,oi,!1))return _e.length=0,{};vt.push(tu(d,oi));var mi=Rn?kc(d,oi):$n(_e);hc(d,oi,mi,ro(d,oi)),!Rn&&d.cm&&d.cm.scrollIntoView({from:oi.from,to:Qu(oi)});var Ci=[];DA(d,function(gi,Di){!Di&&He(Ci,gi.history)==-1&&(kd(gi.history,oi),Ci.push(gi.history)),hc(gi,oi,null,ro(gi,oi))})},Ht=Z.changes.length-1;Ht>=0;--Ht){var _n=Jt(Ht);if(_n)return _n.v}}}}function Pc(d,v){if(v!=0&&(d.first+=v,d.sel=new ba(On(d.sel.ranges,function(F){return new Jr(rn(F.anchor.line+v,F.anchor.ch),rn(F.head.line+v,F.head.ch))}),d.sel.primIndex),d.cm)){Bs(d.cm,d.first,d.first-v,v);for(var B=d.cm.display,E=B.viewFrom;E<B.viewTo;E++)XA(d.cm,E,"gutter")}}function hc(d,v,B,E){if(d.cm&&!d.cm.curOp)return Jo(d.cm,hc)(d,v,B,E);if(v.to.line<d.first){Pc(d,v.text.length-1-(v.to.line-v.from.line));return}if(!(v.from.line>d.lastLine())){if(v.from.line<d.first){var F=v.text.length-1-(d.first-v.from.line);Pc(d,F),v={from:rn(d.first,0),to:rn(v.to.line+F,v.to.ch),text:[$n(v.text)],origin:v.origin}}var Z=d.lastLine();v.to.line>Z&&(v={from:v.from,to:rn(Z,Mi(d,Z).text.length),text:[v.text[0]],origin:v.origin}),v.removed=cs(d,v.from,v.to),B||(B=kc(d,v)),d.cm?dc(d.cm,v,E):uc(d,v,E),go(d,B,Ot),d.cantEdit&&Ya(d,rn(d.firstLine(),0))&&(d.cantEdit=!1)}}function dc(d,v,B){var E=d.doc,F=d.display,Z=v.from,fe=v.to,_e=!1,ke=Z.line;d.options.lineWrapping||(ke=$e(Ri(Mi(E,Z.line))),E.iter(ke,fe.line+1,function(Ht){if(Ht==F.maxLine)return _e=!0,!0})),E.sel.contains(v.from,v.to)>-1&&Dn(d),uc(E,v,B,pu(d)),d.options.lineWrapping||(E.iter(ke,Z.line+v.text.length,function(Ht){var _n=Nr(Ht);_n>F.maxLineLength&&(F.maxLine=Ht,F.maxLineLength=_n,F.maxLineChanged=!0,_e=!1)}),_e&&(d.curOp.updateMaxLine=!0)),hu(E,Z.line),th(d,400);var Le=v.text.length-(fe.line-Z.line)-1;v.full?Bs(d):Z.line==fe.line&&v.text.length==1&&!Oh(d.doc,v)?XA(d,Z.line,"text"):Bs(d,Z.line,fe.line+1,Le);var vt=Mn(d,"changes"),It=Mn(d,"change");if(It||vt){var Jt={from:Z,to:fe,text:v.text,removed:v.removed,origin:v.origin};It&&is(d,"change",d,Jt),vt&&(d.curOp.changeObjs||(d.curOp.changeObjs=[])).push(Jt)}d.display.selForContextMenu=null}function ql(d,v,B,E,F){var Z;E||(E=B),si(E,B)<0&&(Z=[E,B],B=Z[0],E=Z[1]),typeof v=="string"&&(v=d.splitLines(v)),Js(d,{from:B,to:E,text:v,origin:F})}function nd(d,v,B,E){B<d.line?d.line+=E:v<d.line&&(d.line=v,d.ch=0)}function id(d,v,B,E){for(var F=0;F<d.length;++F){var Z=d[F],fe=!0;if(Z.ranges){Z.copied||(Z=d[F]=Z.deepCopy(),Z.copied=!0);for(var _e=0;_e<Z.ranges.length;_e++)nd(Z.ranges[_e].anchor,v,B,E),nd(Z.ranges[_e].head,v,B,E);continue}for(var ke=0;ke<Z.changes.length;++ke){var Le=Z.changes[ke];if(B<Le.from.line)Le.from=rn(Le.from.line+E,Le.from.ch),Le.to=rn(Le.to.line+E,Le.to.ch);else if(v<=Le.to.line){fe=!1;break}}fe||(d.splice(0,F+1),F=0)}}function kd(d,v){var B=v.from.line,E=v.to.line,F=v.text.length-(E-B)-1;id(d.done,B,E,F),id(d.undone,B,E,F)}function I(d,v,B,E){var F=v,Z=v;return typeof v=="number"?Z=Mi(d,YA(d,v)):F=$e(v),F==null?null:(E(Z,F)&&d.cm&&XA(d.cm,F,B),Z)}function s(d){this.lines=d,this.parent=null;for(var v=0,B=0;B<d.length;++B)d[B].parent=this,v+=d[B].height;this.height=v}s.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d,v){for(var B=d,E=d+v;B<E;++B){var F=this.lines[B];this.height-=F.height,gs(F),is(F,"delete")}this.lines.splice(d,v)},collapse:function(d){d.push.apply(d,this.lines)},insertInner:function(d,v,B){this.height+=B,this.lines=this.lines.slice(0,d).concat(v).concat(this.lines.slice(d));for(var E=0;E<v.length;++E)v[E].parent=this},iterN:function(d,v,B){for(var E=d+v;d<E;++d)if(B(this.lines[d]))return!0}};function f(d){this.children=d;for(var v=0,B=0,E=0;E<d.length;++E){var F=d[E];v+=F.chunkSize(),B+=F.height,F.parent=this}this.size=v,this.height=B,this.parent=null}f.prototype={chunkSize:function(){return this.size},removeInner:function(d,v){this.size-=v;for(var B=0;B<this.children.length;++B){var E=this.children[B],F=E.chunkSize();if(d<F){var Z=Math.min(v,F-d),fe=E.height;if(E.removeInner(d,Z),this.height-=fe-E.height,F==Z&&(this.children.splice(B--,1),E.parent=null),(v-=Z)==0)break;d=0}else d-=F}if(this.size-v<25&&(this.children.length>1||!(this.children[0]instanceof s))){var _e=[];this.collapse(_e),this.children=[new s(_e)],this.children[0].parent=this}},collapse:function(d){for(var v=0;v<this.children.length;++v)this.children[v].collapse(d)},insertInner:function(d,v,B){this.size+=v.length,this.height+=B;for(var E=0;E<this.children.length;++E){var F=this.children[E],Z=F.chunkSize();if(d<=Z){if(F.insertInner(d,v,B),F.lines&&F.lines.length>50){for(var fe=F.lines.length%25+25,_e=fe;_e<F.lines.length;){var ke=new s(F.lines.slice(_e,_e+=25));F.height-=ke.height,this.children.splice(++E,0,ke),ke.parent=this}F.lines=F.lines.slice(0,fe),this.maybeSpill()}break}d-=Z}},maybeSpill:function(){if(!(this.children.length<=10)){var d=this;do{var v=d.children.splice(d.children.length-5,5),B=new f(v);if(d.parent){d.size-=B.size,d.height-=B.height;var F=He(d.parent.children,d);d.parent.children.splice(F+1,0,B)}else{var E=new f(d.children);E.parent=d,d.children=[E,B],d=E}B.parent=d.parent}while(d.children.length>10);d.parent.maybeSpill()}},iterN:function(d,v,B){for(var E=0;E<this.children.length;++E){var F=this.children[E],Z=F.chunkSize();if(d<Z){var fe=Math.min(v,Z-d);if(F.iterN(d,fe,B))return!0;if((v-=fe)==0)break;d=0}else d-=Z}}};var _=function(d,v,B){if(B)for(var E in B)B.hasOwnProperty(E)&&(this[E]=B[E]);this.doc=d,this.node=v};_.prototype.clear=function(){var d=this.doc.cm,v=this.line.widgets,B=this.line,E=$e(B);if(!(E==null||!v)){for(var F=0;F<v.length;++F)v[F]==this&&v.splice(F--,1);v.length||(B.widgets=null);var Z=ac(this);Zo(B,Math.max(0,B.height-Z)),d&&(Qa(d,function(){S(d,B,-Z),XA(d,E,"widget")}),is(d,"lineWidgetCleared",d,this,E))}},_.prototype.changed=function(){var d=this,v=this.height,B=this.doc.cm,E=this.line;this.height=null;var F=ac(this)-v;F&&(gr(this.doc,E)||Zo(E,E.height+F),B&&Qa(B,function(){B.curOp.forceUpdate=!0,S(B,E,F),is(B,"lineWidgetChanged",B,d,$e(E))}))},ii(_);function S(d,v,B){Go(v)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&Dl(d,B)}function k(d,v,B,E){var F=new _(d,B,E),Z=d.cm;return Z&&F.noHScroll&&(Z.display.alignWidgets=!0),I(d,v,"widget",function(fe){var _e=fe.widgets||(fe.widgets=[]);if(F.insertAt==null?_e.push(F):_e.splice(Math.min(_e.length,Math.max(0,F.insertAt)),0,F),F.line=fe,Z&&!gr(d,fe)){var ke=Go(fe)<d.scrollTop;Zo(fe,fe.height+ac(F)),ke&&Dl(Z,F.height),Z.curOp.forceUpdate=!0}return!0}),Z&&is(Z,"lineWidgetAdded",Z,F,typeof v=="number"?v:$e(v)),F}var z=0,q=function(d,v){this.lines=[],this.type=v,this.doc=d,this.id=++z};q.prototype.clear=function(){if(!this.explicitlyCleared){var d=this.doc.cm,v=d&&!d.curOp;if(v&&ol(d),Mn(this,"clear")){var B=this.find();B&&is(this,"clear",B.from,B.to)}for(var E=null,F=null,Z=0;Z<this.lines.length;++Z){var fe=this.lines[Z],_e=Rr(fe.markedSpans,this);d&&!this.collapsed?XA(d,$e(fe),"text"):d&&(_e.to!=null&&(F=$e(fe)),_e.from!=null&&(E=$e(fe))),fe.markedSpans=oA(fe.markedSpans,_e),_e.from==null&&this.collapsed&&!gr(this.doc,fe)&&d&&Zo(fe,SA(d.display))}if(d&&this.collapsed&&!d.options.lineWrapping)for(var ke=0;ke<this.lines.length;++ke){var Le=Ri(this.lines[ke]),vt=Nr(Le);vt>d.display.maxLineLength&&(d.display.maxLine=Le,d.display.maxLineLength=vt,d.display.maxLineChanged=!0)}E!=null&&d&&this.collapsed&&Bs(d,E,F+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,d&&jf(d.doc)),d&&is(d,"markerCleared",d,this,E,F),v&&Ns(d),this.parent&&this.parent.clear()}},q.prototype.find=function(d,v){d==null&&this.type=="bookmark"&&(d=1);for(var B,E,F=0;F<this.lines.length;++F){var Z=this.lines[F],fe=Rr(Z.markedSpans,this);if(fe.from!=null&&(B=rn(v?Z:$e(Z),fe.from),d==-1))return B;if(fe.to!=null&&(E=rn(v?Z:$e(Z),fe.to),d==1))return E}return B&&{from:B,to:E}},q.prototype.changed=function(){var d=this,v=this.find(-1,!0),B=this,E=this.doc.cm;!v||!E||Qa(E,function(){var F=v.line,Z=$e(v.line),fe=Zd(E,Z);if(fe&&(Lu(fe),E.curOp.selectionChanged=E.curOp.forceUpdate=!0),E.curOp.updateMaxLine=!0,!gr(B.doc,F)&&B.height!=null){var _e=B.height;B.height=null;var ke=ac(B)-_e;ke&&Zo(F,F.height+ke)}is(E,"markerChanged",E,d)})},q.prototype.attachLine=function(d){if(!this.lines.length&&this.doc.cm){var v=this.doc.cm.curOp;(!v.maybeHiddenMarkers||He(v.maybeHiddenMarkers,this)==-1)&&(v.maybeUnhiddenMarkers||(v.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(d)},q.prototype.detachLine=function(d){if(this.lines.splice(He(this.lines,d),1),!this.lines.length&&this.doc.cm){var v=this.doc.cm.curOp;(v.maybeHiddenMarkers||(v.maybeHiddenMarkers=[])).push(this)}},ii(q);function X(d,v,B,E,F){if(E&&E.shared)return me(d,v,B,E,F);if(d.cm&&!d.cm.curOp)return Jo(d.cm,X)(d,v,B,E,F);var Z=new q(d,F),fe=si(v,B);if(E&&Fe(E,Z,!1),fe>0||fe==0&&Z.clearWhenEmpty!==!1)return Z;if(Z.replacedWith&&(Z.collapsed=!0,Z.widgetNode=ze("span",[Z.replacedWith],"CodeMirror-widget"),E.handleMouseEvents||Z.widgetNode.setAttribute("cm-ignore-events","true"),E.insertLeft&&(Z.widgetNode.insertLeft=!0)),Z.collapsed){if(ar(d,v.line,v,B,Z)||v.line!=B.line&&ar(d,B.line,v,B,Z))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ea()}Z.addToHistory&&af(d,{from:v,to:B,origin:"markText"},d.sel,NaN);var _e=v.line,ke=d.cm,Le;if(d.iter(_e,B.line+1,function(It){ke&&Z.collapsed&&!ke.options.lineWrapping&&Ri(It)==ke.display.maxLine&&(Le=!0),Z.collapsed&&_e!=v.line&&Zo(It,0),Ga(It,new sa(Z,_e==v.line?v.ch:null,_e==B.line?B.ch:null),d.cm&&d.cm.curOp),++_e}),Z.collapsed&&d.iter(v.line,B.line+1,function(It){gr(d,It)&&Zo(It,0)}),Z.clearOnEnter&&mt(Z,"beforeCursorEnter",function(){return Z.clear()}),Z.readOnly&&(Na(),(d.history.done.length||d.history.undone.length)&&d.clearHistory()),Z.collapsed&&(Z.id=++z,Z.atomic=!0),ke){if(Le&&(ke.curOp.updateMaxLine=!0),Z.collapsed)Bs(ke,v.line,B.line+1);else if(Z.className||Z.startStyle||Z.endStyle||Z.css||Z.attributes||Z.title)for(var vt=v.line;vt<=B.line;vt++)XA(ke,vt,"text");Z.atomic&&jf(ke.doc),is(ke,"markerAdded",ke,Z)}return Z}var he=function(d,v){this.markers=d,this.primary=v;for(var B=0;B<d.length;++B)d[B].parent=this};he.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var d=0;d<this.markers.length;++d)this.markers[d].clear();is(this,"clear")}},he.prototype.find=function(d,v){return this.primary.find(d,v)},ii(he);function me(d,v,B,E,F){E=Fe(E),E.shared=!1;var Z=[X(d,v,B,E,F)],fe=Z[0],_e=E.widgetNode;return DA(d,function(ke){_e&&(E.widgetNode=_e.cloneNode(!0)),Z.push(X(ke,Yi(ke,v),Yi(ke,B),E,F));for(var Le=0;Le<ke.linked.length;++Le)if(ke.linked[Le].isParent)return;fe=$n(Z)}),new he(Z,fe)}function Be(d){return d.findMarks(rn(d.first,0),d.clipPos(rn(d.lastLine())),function(v){return v.parent})}function Me(d,v){for(var B=0;B<v.length;B++){var E=v[B],F=E.find(),Z=d.clipPos(F.from),fe=d.clipPos(F.to);if(si(Z,fe)){var _e=X(d,Z,fe,E.primary,E.primary.type);E.markers.push(_e),_e.parent=E}}}function Ue(d){for(var v=function(E){var F=d[E],Z=[F.primary.doc];DA(F.primary.doc,function(ke){return Z.push(ke)});for(var fe=0;fe<F.markers.length;fe++){var _e=F.markers[fe];He(Z,_e.doc)==-1&&(_e.parent=null,F.markers.splice(fe--,1))}},B=0;B<d.length;B++)v(B)}var Xe=0,At=function(d,v,B,E,F){if(!(this instanceof At))return new At(d,v,B,E,F);B==null&&(B=0),f.call(this,[new s([new Fl("",null)])]),this.first=B,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=B;var Z=rn(B,0);this.sel=Wu(Z),this.history=new rh(null),this.id=++Xe,this.modeOption=v,this.lineSep=E,this.direction=F=="rtl"?"rtl":"ltr",this.extend=!1,typeof d=="string"&&(d=this.splitLines(d)),uc(this,{from:Z,to:Z,text:d}),Aa(this,Wu(Z),Ot)};At.prototype=Oi(f.prototype,{constructor:At,iter:function(d,v,B){B?this.iterN(d-this.first,v-d,B):this.iterN(this.first,this.first+this.size,d)},insert:function(d,v){for(var B=0,E=0;E<v.length;++E)B+=v[E].height;this.insertInner(d-this.first,v,B)},remove:function(d,v){this.removeInner(d-this.first,v)},getValue:function(d){var v=Sa(this,this.first,this.first+this.size);return d===!1?v:v.join(d||this.lineSeparator())},setValue:vs(function(d){var v=rn(this.first,0),B=this.first+this.size-1;Js(this,{from:v,to:rn(B,Mi(this,B).text.length),text:this.splitLines(d),origin:"setValue",full:!0},!0),this.cm&&la(this.cm,0,0),Aa(this,Wu(v),Ot)}),replaceRange:function(d,v,B,E){v=Yi(this,v),B=B?Yi(this,B):v,ql(this,d,v,B,E)},getRange:function(d,v,B){var E=cs(this,Yi(this,d),Yi(this,v));return B===!1?E:B===""?E.join(""):E.join(B||this.lineSeparator())},getLine:function(d){var v=this.getLineHandle(d);return v&&v.text},getLineHandle:function(d){if(xn(this,d))return Mi(this,d)},getLineNumber:function(d){return $e(d)},getLineHandleVisualStart:function(d){return typeof d=="number"&&(d=Mi(this,d)),Ri(d)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d){return Yi(this,d)},getCursor:function(d){var v=this.sel.primary(),B;return d==null||d=="head"?B=v.head:d=="anchor"?B=v.anchor:d=="end"||d=="to"||d===!1?B=v.to():B=v.from(),B},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vs(function(d,v,B){Dc(this,Yi(this,typeof d=="number"?rn(d,v||0):d),null,B)}),setSelection:vs(function(d,v,B){Dc(this,Yi(this,d),Yi(this,v||d),B)}),extendSelection:vs(function(d,v,B){Yu(this,Yi(this,d),v&&Yi(this,v),B)}),extendSelections:vs(function(d,v){Ii(this,bA(this,d),v)}),extendSelectionsBy:vs(function(d,v){var B=On(this.sel.ranges,d);Ii(this,bA(this,B),v)}),setSelections:vs(function(d,v,B){if(d.length){for(var E=[],F=0;F<d.length;F++)E[F]=new Jr(Yi(this,d[F].anchor),Yi(this,d[F].head||d[F].anchor));v==null&&(v=Math.min(d.length-1,this.sel.primIndex)),Aa(this,ci(this.cm,E,v),B)}}),addSelection:vs(function(d,v,B){var E=this.sel.ranges.slice(0);E.push(new Jr(Yi(this,d),Yi(this,v||d))),Aa(this,ci(this.cm,E,E.length-1),B)}),getSelection:function(d){for(var v=this.sel.ranges,B,E=0;E<v.length;E++){var F=cs(this,v[E].from(),v[E].to());B=B?B.concat(F):F}return d===!1?B:B.join(d||this.lineSeparator())},getSelections:function(d){for(var v=[],B=this.sel.ranges,E=0;E<B.length;E++){var F=cs(this,B[E].from(),B[E].to());d!==!1&&(F=F.join(d||this.lineSeparator())),v[E]=F}return v},replaceSelection:function(d,v,B){for(var E=[],F=0;F<this.sel.ranges.length;F++)E[F]=d;this.replaceSelections(E,v,B||"+input")},replaceSelections:vs(function(d,v,B){for(var E=[],F=this.sel,Z=0;Z<F.ranges.length;Z++){var fe=F.ranges[Z];E[Z]={from:fe.from(),to:fe.to(),text:this.splitLines(d[Z]),origin:B}}for(var _e=v&&v!="end"&&of(this,E,v),ke=E.length-1;ke>=0;ke--)Js(this,E[ke]);_e?cA(this,_e):this.cm&&Qo(this.cm)}),undo:vs(function(){hA(this,"undo")}),redo:vs(function(){hA(this,"redo")}),undoSelection:vs(function(){hA(this,"undo",!0)}),redoSelection:vs(function(){hA(this,"redo",!0)}),setExtending:function(d){this.extend=d},getExtending:function(){return this.extend},historySize:function(){for(var d=this.history,v=0,B=0,E=0;E<d.done.length;E++)d.done[E].ranges||++v;for(var F=0;F<d.undone.length;F++)d.undone[F].ranges||++B;return{undo:v,redo:B}},clearHistory:function(){var d=this;this.history=new rh(this.history),DA(this,function(v){return v.history=d.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(d){return d&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(d){return this.history.generation==(d||this.cleanGeneration)},getHistory:function(){return{done:Uo(this.history.done),undone:Uo(this.history.undone)}},setHistory:function(d){var v=this.history=new rh(this.history);v.done=Uo(d.done.slice(0),null,!0),v.undone=Uo(d.undone.slice(0),null,!0)},setGutterMarker:vs(function(d,v,B){return I(this,d,"gutter",function(E){var F=E.gutterMarkers||(E.gutterMarkers={});return F[v]=B,!B&&de(F)&&(E.gutterMarkers=null),!0})}),clearGutter:vs(function(d){var v=this;this.iter(function(B){B.gutterMarkers&&B.gutterMarkers[d]&&I(v,B,"gutter",function(){return B.gutterMarkers[d]=null,de(B.gutterMarkers)&&(B.gutterMarkers=null),!0})})}),lineInfo:function(d){var v;if(typeof d=="number"){if(!xn(this,d)||(v=d,d=Mi(this,d),!d))return null}else if(v=$e(d),v==null)return null;return{line:v,handle:d,text:d.text,gutterMarkers:d.gutterMarkers,textClass:d.textClass,bgClass:d.bgClass,wrapClass:d.wrapClass,widgets:d.widgets}},addLineClass:vs(function(d,v,B){return I(this,d,v=="gutter"?"gutter":"class",function(E){var F=v=="text"?"textClass":v=="background"?"bgClass":v=="gutter"?"gutterClass":"wrapClass";if(!E[F])E[F]=B;else{if(we(B).test(E[F]))return!1;E[F]+=" "+B}return!0})}),removeLineClass:vs(function(d,v,B){return I(this,d,v=="gutter"?"gutter":"class",function(E){var F=v=="text"?"textClass":v=="background"?"bgClass":v=="gutter"?"gutterClass":"wrapClass",Z=E[F];if(Z)if(B==null)E[F]=null;else{var fe=Z.match(we(B));if(!fe)return!1;var _e=fe.index+fe[0].length;E[F]=Z.slice(0,fe.index)+(!fe.index||_e==Z.length?"":" ")+Z.slice(_e)||null}else return!1;return!0})}),addLineWidget:vs(function(d,v,B){return k(this,d,v,B)}),removeLineWidget:function(d){d.clear()},markText:function(d,v,B){return X(this,Yi(this,d),Yi(this,v),B,B&&B.type||"range")},setBookmark:function(d,v){var B={replacedWith:v&&(v.nodeType==null?v.widget:v),insertLeft:v&&v.insertLeft,clearWhenEmpty:!1,shared:v&&v.shared,handleMouseEvents:v&&v.handleMouseEvents};return d=Yi(this,d),X(this,d,d,B,"bookmark")},findMarksAt:function(d){d=Yi(this,d);var v=[],B=Mi(this,d.line).markedSpans;if(B)for(var E=0;E<B.length;++E){var F=B[E];(F.from==null||F.from<=d.ch)&&(F.to==null||F.to>=d.ch)&&v.push(F.marker.parent||F.marker)}return v},findMarks:function(d,v,B){d=Yi(this,d),v=Yi(this,v);var E=[],F=d.line;return this.iter(d.line,v.line+1,function(Z){var fe=Z.markedSpans;if(fe)for(var _e=0;_e<fe.length;_e++){var ke=fe[_e];!(ke.to!=null&&F==d.line&&d.ch>=ke.to||ke.from==null&&F!=d.line||ke.from!=null&&F==v.line&&ke.from>=v.ch)&&(!B||B(ke.marker))&&E.push(ke.marker.parent||ke.marker)}++F}),E},getAllMarks:function(){var d=[];return this.iter(function(v){var B=v.markedSpans;if(B)for(var E=0;E<B.length;++E)B[E].from!=null&&d.push(B[E].marker)}),d},posFromIndex:function(d){var v,B=this.first,E=this.lineSeparator().length;return this.iter(function(F){var Z=F.text.length+E;if(Z>d)return v=d,!0;d-=Z,++B}),Yi(this,rn(B,v))},indexFromPos:function(d){d=Yi(this,d);var v=d.ch;if(d.line<this.first||d.ch<0)return 0;var B=this.lineSeparator().length;return this.iter(this.first,d.line,function(E){v+=E.text.length+B}),v},copy:function(d){var v=new At(Sa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return v.scrollTop=this.scrollTop,v.scrollLeft=this.scrollLeft,v.sel=this.sel,v.extend=!1,d&&(v.history.undoDepth=this.history.undoDepth,v.setHistory(this.getHistory())),v},linkedDoc:function(d){d||(d={});var v=this.first,B=this.first+this.size;d.from!=null&&d.from>v&&(v=d.from),d.to!=null&&d.to<B&&(B=d.to);var E=new At(Sa(this,v,B),d.mode||this.modeOption,v,this.lineSep,this.direction);return d.sharedHist&&(E.history=this.history),(this.linked||(this.linked=[])).push({doc:E,sharedHist:d.sharedHist}),E.linked=[{doc:this,isParent:!0,sharedHist:d.sharedHist}],Me(E,Be(this)),E},unlinkDoc:function(d){if(d instanceof ta&&(d=d.doc),this.linked)for(var v=0;v<this.linked.length;++v){var B=this.linked[v];if(B.doc==d){this.linked.splice(v,1),d.unlinkDoc(this),Ue(Be(this));break}}if(d.history==this.history){var E=[d.id];DA(d,function(F){return E.push(F.id)},!0),d.history=new rh(null),d.history.done=Uo(this.history.done,E),d.history.undone=Uo(this.history.undone,E)}},iterLinkedDocs:function(d){DA(this,d)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(d){return this.lineSep?d.split(this.lineSep):ko(d)},lineSeparator:function(){return this.lineSep||`
`},setDirection:vs(function(d){d!="rtl"&&(d="ltr"),d!=this.direction&&(this.direction=d,this.iter(function(v){return v.order=null}),this.cm&&vu(this.cm))})}),At.prototype.eachLine=At.prototype.iter;var ct=0;function ft(d){var v=this;if(wt(v),!(en(v,d)||sA(v.display,d))){Wn(d),p&&(ct=+new Date);var B=Wa(v,d,!0),E=d.dataTransfer.files;if(!(!B||v.isReadOnly()))if(E&&E.length&&window.FileReader&&window.File)for(var F=E.length,Z=Array(F),fe=0,_e=function(){++fe==F&&Jo(v,function(){B=Yi(v.doc,B);var Ht={from:B,to:B,text:v.doc.splitLines(Z.filter(function(_n){return _n!=null}).join(v.doc.lineSeparator())),origin:"paste"};Js(v.doc,Ht),cA(v.doc,Wu(Yi(v.doc,B),Yi(v.doc,Qu(Ht))))})()},ke=function(Ht,_n){if(v.options.allowDropFileTypes&&He(v.options.allowDropFileTypes,Ht.type)==-1){_e();return}var Rn=new FileReader;Rn.onerror=function(){return _e()},Rn.onload=function(){var oi=Rn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(oi)){_e();return}Z[_n]=oi,_e()},Rn.readAsText(Ht)},Le=0;Le<E.length;Le++)ke(E[Le],Le);else{if(v.state.draggingText&&v.doc.sel.contains(B)>-1){v.state.draggingText(d),setTimeout(function(){return v.display.input.focus()},20);return}try{var vt=d.dataTransfer.getData("Text");if(vt){var It;if(v.state.draggingText&&!v.state.draggingText.copy&&(It=v.listSelections()),go(v.doc,Wu(B,B)),It)for(var Jt=0;Jt<It.length;++Jt)ql(v.doc,"",It[Jt].anchor,It[Jt].head,"drag");v.replaceSelection(vt,"around","paste"),v.display.input.focus()}}catch{}}}}function xt(d,v){if(p&&(!d.state.draggingText||+new Date-ct<100)){Ei(v);return}if(!(en(d,v)||sA(d.display,v))&&(v.dataTransfer.setData("Text",d.getSelection()),v.dataTransfer.effectAllowed="copyMove",v.dataTransfer.setDragImage&&!W)){var B=xe("img",null,null,"position: fixed; left: 0; top: 0;");B.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",j&&(B.width=B.height=1,d.display.wrapper.appendChild(B),B._top=B.offsetTop),v.dataTransfer.setDragImage(B,0,0),j&&B.parentNode.removeChild(B)}}function yt(d,v){var B=Wa(d,v);if(B){var E=document.createDocumentFragment();Dr(d,B,E),d.display.dragCursor||(d.display.dragCursor=xe("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),d.display.lineSpace.insertBefore(d.display.dragCursor,d.display.cursorDiv)),Ve(d.display.dragCursor,E)}}function wt(d){d.display.dragCursor&&(d.display.lineSpace.removeChild(d.display.dragCursor),d.display.dragCursor=null)}function Pt(d){if(document.getElementsByClassName){for(var v=document.getElementsByClassName("CodeMirror"),B=[],E=0;E<v.length;E++){var F=v[E].CodeMirror;F&&B.push(F)}B.length&&B[0].operation(function(){for(var Z=0;Z<B.length;Z++)d(B[Z])})}}var Ft=!1;function Bt(){Ft||(Yt(),Ft=!0)}function Yt(){var d;mt(window,"resize",function(){d==null&&(d=setTimeout(function(){d=null,Pt(dn)},100))}),mt(window,"blur",function(){return Pt(mu)})}function dn(d){var v=d.display;v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.scrollbarsClipped=!1,d.setSize()}for(var Xt={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},nn=0;nn<10;nn++)Xt[nn+48]=Xt[nn+96]=String(nn);for(var An=65;An<=90;An++)Xt[An]=String.fromCharCode(An);for(var qn=1;qn<=12;qn++)Xt[qn+111]=Xt[qn+63235]="F"+qn;var Qn={};Qn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Qn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Qn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Qn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Qn.default=$?Qn.macDefault:Qn.pcDefault;function Tn(d){var v=d.split(/-(?!$)/);d=v[v.length-1];for(var B,E,F,Z,fe=0;fe<v.length-1;fe++){var _e=v[fe];if(/^(cmd|meta|m)$/i.test(_e))Z=!0;else if(/^a(lt)?$/i.test(_e))B=!0;else if(/^(c|ctrl|control)$/i.test(_e))E=!0;else if(/^s(hift)?$/i.test(_e))F=!0;else throw new Error("Unrecognized modifier name: "+_e)}return B&&(d="Alt-"+d),E&&(d="Ctrl-"+d),Z&&(d="Cmd-"+d),F&&(d="Shift-"+d),d}function xi(d){var v={};for(var B in d)if(d.hasOwnProperty(B)){var E=d[B];if(/^(name|fallthrough|(de|at)tach)$/.test(B))continue;if(E=="..."){delete d[B];continue}for(var F=On(B.split(" "),Tn),Z=0;Z<F.length;Z++){var fe=void 0,_e=void 0;Z==F.length-1?(_e=F.join(" "),fe=E):(_e=F.slice(0,Z+1).join(" "),fe="...");var ke=v[_e];if(!ke)v[_e]=fe;else if(ke!=fe)throw new Error("Inconsistent bindings for "+_e)}delete d[B]}for(var Le in v)d[Le]=v[Le];return d}function hr(d,v,B,E){v=La(v);var F=v.call?v.call(d,E):v[d];if(F===!1)return"nothing";if(F==="...")return"multi";if(F!=null&&B(F))return"handled";if(v.fallthrough){if(Object.prototype.toString.call(v.fallthrough)!="[object Array]")return hr(d,v.fallthrough,B,E);for(var Z=0;Z<v.fallthrough.length;Z++){var fe=hr(d,v.fallthrough[Z],B,E);if(fe)return fe}}}function _o(d){var v=typeof d=="string"?d:Xt[d.keyCode];return v=="Ctrl"||v=="Alt"||v=="Shift"||v=="Mod"}function ua(d,v,B){var E=d;return v.altKey&&E!="Alt"&&(d="Alt-"+d),(ge?v.metaKey:v.ctrlKey)&&E!="Ctrl"&&(d="Ctrl-"+d),(ge?v.ctrlKey:v.metaKey)&&E!="Mod"&&(d="Cmd-"+d),!B&&v.shiftKey&&E!="Shift"&&(d="Shift-"+d),d}function Fo(d,v){if(j&&d.keyCode==34&&d.char)return!1;var B=Xt[d.keyCode];return B==null||d.altGraphKey?!1:(d.keyCode==3&&d.code&&(B=d.code),ua(B,d,v))}function La(d){return typeof d=="string"?Qn[d]:d}function ca(d,v){for(var B=d.doc.sel.ranges,E=[],F=0;F<B.length;F++){for(var Z=v(B[F]);E.length&&si(Z.from,$n(E).to)<=0;){var fe=E.pop();if(si(fe.from,Z.from)<0){Z.from=fe.from;break}}E.push(Z)}Qa(d,function(){for(var _e=E.length-1;_e>=0;_e--)ql(d.doc,"",E[_e].from,E[_e].to,"+delete");Qo(d)})}function Or(d,v,B){var E=pe(d.text,v+B,B);return E<0||E>d.text.length?null:E}function Yo(d,v,B){var E=Or(d,v.ch,B);return E==null?null:new rn(v.line,E,B<0?"after":"before")}function as(d,v,B,E,F){if(d){v.doc.direction=="rtl"&&(F=-F);var Z=Ze(B,v.doc.direction);if(Z){var fe=F<0?$n(Z):Z[0],_e=F<0==(fe.level==1),ke=_e?"after":"before",Le;if(fe.level>0||v.doc.direction=="rtl"){var vt=du(v,B);Le=F<0?B.text.length-1:0;var It=ZA(v,vt,Le).top;Le=Te(function(Jt){return ZA(v,vt,Jt).top==It},F<0==(fe.level==1)?fe.from:fe.to-1,Le),ke=="before"&&(Le=Or(B,Le,1))}else Le=F<0?fe.to:fe.from;return new rn(E,Le,ke)}}return new rn(E,F<0?B.text.length:0,F<0?"before":"after")}function qa(d,v,B,E){var F=Ze(v,d.doc.direction);if(!F)return Yo(v,B,E);B.ch>=v.text.length?(B.ch=v.text.length,B.sticky="before"):B.ch<=0&&(B.ch=0,B.sticky="after");var Z=Ye(F,B.ch,B.sticky),fe=F[Z];if(d.doc.direction=="ltr"&&fe.level%2==0&&(E>0?fe.to>B.ch:fe.from<B.ch))return Yo(v,B,E);var _e=function(mi,Ci){return Or(v,mi instanceof rn?mi.ch:mi,Ci)},ke,Le=function(mi){return d.options.lineWrapping?(ke=ke||du(d,v),Ro(d,v,ke,mi)):{begin:0,end:v.text.length}},vt=Le(B.sticky=="before"?_e(B,-1):B.ch);if(d.doc.direction=="rtl"||fe.level==1){var It=fe.level==1==E<0,Jt=_e(B,It?1:-1);if(Jt!=null&&(It?Jt<=fe.to&&Jt<=vt.end:Jt>=fe.from&&Jt>=vt.begin)){var Ht=It?"before":"after";return new rn(B.line,Jt,Ht)}}var _n=function(mi,Ci,gi){for(var Di=function(wr,ss){return ss?new rn(B.line,_e(wr,1),"before"):new rn(B.line,wr,"after")};mi>=0&&mi<F.length;mi+=Ci){var sr=F[mi],qi=Ci>0==(sr.level!=1),eo=qi?gi.begin:_e(gi.end,-1);if(sr.from<=eo&&eo<sr.to||(eo=qi?sr.from:_e(sr.to,-1),gi.begin<=eo&&eo<gi.end))return Di(eo,qi)}},Rn=_n(Z+E,E,vt);if(Rn)return Rn;var oi=E>0?vt.end:_e(vt.begin,-1);return oi!=null&&!(E>0&&oi==v.text.length)&&(Rn=_n(E>0?0:F.length-1,E,Le(oi)),Rn)?Rn:null}var Is={selectAll:_u,singleSelection:function(d){return d.setSelection(d.getCursor("anchor"),d.getCursor("head"),Ot)},killLine:function(d){return ca(d,function(v){if(v.empty()){var B=Mi(d.doc,v.head.line).text.length;return v.head.ch==B&&v.head.line<d.lastLine()?{from:v.head,to:rn(v.head.line+1,0)}:{from:v.head,to:rn(v.head.line,B)}}else return{from:v.from(),to:v.to()}})},deleteLine:function(d){return ca(d,function(v){return{from:rn(v.from().line,0),to:Yi(d.doc,rn(v.to().line+1,0))}})},delLineLeft:function(d){return ca(d,function(v){return{from:rn(v.from().line,0),to:v.from()}})},delWrappedLineLeft:function(d){return ca(d,function(v){var B=d.charCoords(v.head,"div").top+5,E=d.coordsChar({left:0,top:B},"div");return{from:E,to:v.from()}})},delWrappedLineRight:function(d){return ca(d,function(v){var B=d.charCoords(v.head,"div").top+5,E=d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:B},"div");return{from:v.from(),to:E}})},undo:function(d){return d.undo()},redo:function(d){return d.redo()},undoSelection:function(d){return d.undoSelection()},redoSelection:function(d){return d.redoSelection()},goDocStart:function(d){return d.extendSelection(rn(d.firstLine(),0))},goDocEnd:function(d){return d.extendSelection(rn(d.lastLine()))},goLineStart:function(d){return d.extendSelectionsBy(function(v){return Ts(d,v.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(d){return d.extendSelectionsBy(function(v){return fc(d,v.head)},{origin:"+move",bias:1})},goLineEnd:function(d){return d.extendSelectionsBy(function(v){return qu(d,v.head.line)},{origin:"+move",bias:-1})},goLineRight:function(d){return d.extendSelectionsBy(function(v){var B=d.cursorCoords(v.head,"div").top+5;return d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:B},"div")},Kt)},goLineLeft:function(d){return d.extendSelectionsBy(function(v){var B=d.cursorCoords(v.head,"div").top+5;return d.coordsChar({left:0,top:B},"div")},Kt)},goLineLeftSmart:function(d){return d.extendSelectionsBy(function(v){var B=d.cursorCoords(v.head,"div").top+5,E=d.coordsChar({left:0,top:B},"div");return E.ch<d.getLine(E.line).search(/\S/)?fc(d,v.head):E},Kt)},goLineUp:function(d){return d.moveV(-1,"line")},goLineDown:function(d){return d.moveV(1,"line")},goPageUp:function(d){return d.moveV(-1,"page")},goPageDown:function(d){return d.moveV(1,"page")},goCharLeft:function(d){return d.moveH(-1,"char")},goCharRight:function(d){return d.moveH(1,"char")},goColumnLeft:function(d){return d.moveH(-1,"column")},goColumnRight:function(d){return d.moveH(1,"column")},goWordLeft:function(d){return d.moveH(-1,"word")},goGroupRight:function(d){return d.moveH(1,"group")},goGroupLeft:function(d){return d.moveH(-1,"group")},goWordRight:function(d){return d.moveH(1,"word")},delCharBefore:function(d){return d.deleteH(-1,"codepoint")},delCharAfter:function(d){return d.deleteH(1,"char")},delWordBefore:function(d){return d.deleteH(-1,"word")},delWordAfter:function(d){return d.deleteH(1,"word")},delGroupBefore:function(d){return d.deleteH(-1,"group")},delGroupAfter:function(d){return d.deleteH(1,"group")},indentAuto:function(d){return d.indentSelection("smart")},indentMore:function(d){return d.indentSelection("add")},indentLess:function(d){return d.indentSelection("subtract")},insertTab:function(d){return d.replaceSelection("	")},insertSoftTab:function(d){for(var v=[],B=d.listSelections(),E=d.options.tabSize,F=0;F<B.length;F++){var Z=B[F].from(),fe=Ke(d.getLine(Z.line),Z.ch,E);v.push(Wt(E-fe%E))}d.replaceSelections(v)},defaultTab:function(d){d.somethingSelected()?d.indentSelection("add"):d.execCommand("insertTab")},transposeChars:function(d){return Qa(d,function(){for(var v=d.listSelections(),B=[],E=0;E<v.length;E++)if(v[E].empty()){var F=v[E].head,Z=Mi(d.doc,F.line).text;if(Z){if(F.ch==Z.length&&(F=new rn(F.line,F.ch-1)),F.ch>0)F=new rn(F.line,F.ch+1),d.replaceRange(Z.charAt(F.ch-1)+Z.charAt(F.ch-2),rn(F.line,F.ch-2),F,"+transpose");else if(F.line>d.doc.first){var fe=Mi(d.doc,F.line-1).text;fe&&(F=new rn(F.line,1),d.replaceRange(Z.charAt(0)+d.doc.lineSeparator()+fe.charAt(fe.length-1),rn(F.line-1,fe.length-1),F,"+transpose"))}}B.push(new Jr(F,F))}d.setSelections(B)})},newlineAndIndent:function(d){return Qa(d,function(){for(var v=d.listSelections(),B=v.length-1;B>=0;B--)d.replaceRange(d.doc.lineSeparator(),v[B].anchor,v[B].head,"+input");v=d.listSelections();for(var E=0;E<v.length;E++)d.indentLine(v[E].from().line,null,!0);Qo(d)})},openLine:function(d){return d.replaceSelection(`
`,"start")},toggleOverwrite:function(d){return d.toggleOverwrite()}};function Ts(d,v){var B=Mi(d.doc,v),E=Ri(B);return E!=B&&(v=$e(E)),as(!0,d,E,v,1)}function qu(d,v){var B=Mi(d.doc,v),E=Ji(B);return E!=B&&(v=$e(E)),as(!0,d,B,v,-1)}function fc(d,v){var B=Ts(d,v.line),E=Mi(d.doc,B.line),F=Ze(E,d.doc.direction);if(!F||F[0].level==0){var Z=Math.max(B.ch,E.text.search(/\S/)),fe=v.line==B.line&&v.ch<=Z&&v.ch;return rn(B.line,fe?0:Z,B.sticky)}return B}function Hl(d,v,B){if(typeof v=="string"&&(v=Is[v],!v))return!1;d.display.input.ensurePolled();var E=d.display.shift,F=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),B&&(d.display.shift=!1),F=v(d)!=_t}finally{d.display.shift=E,d.state.suppressEdits=!1}return F}function Th(d,v,B){for(var E=0;E<d.state.keyMaps.length;E++){var F=hr(v,d.state.keyMaps[E],B,d);if(F)return F}return d.options.extraKeys&&hr(v,d.options.extraKeys,B,d)||hr(v,d.options.keyMap,B,d)}var oh=new Re;function Hu(d,v,B,E){var F=d.state.keySeq;if(F){if(_o(v))return"handled";if(/\'$/.test(v)?d.state.keySeq=null:oh.set(50,function(){d.state.keySeq==F&&(d.state.keySeq=null,d.display.input.reset())}),Kc(d,F+" "+v,B,E))return!0}return Kc(d,v,B,E)}function Kc(d,v,B,E){var F=Th(d,v,E);return F=="multi"&&(d.state.keySeq=v),F=="handled"&&is(d,"keyHandled",d,v,B),(F=="handled"||F=="multi")&&(Wn(B),Oc(d)),!!F}function xl(d,v){var B=Fo(v,!0);return B?v.shiftKey&&!d.state.keySeq?Hu(d,"Shift-"+B,v,function(E){return Hl(d,E,!0)})||Hu(d,B,v,function(E){if(typeof E=="string"?/^go[A-Z]/.test(E):E.motion)return Hl(d,E)}):Hu(d,B,v,function(E){return Hl(d,E)}):!1}function Vu(d,v,B){return Hu(d,"'"+B+"'",v,function(E){return Hl(d,E,!0)})}var Ml=null;function Uc(d){var v=this;if(!(d.target&&d.target!=v.display.input.getField())&&(v.curOp.focus=nt(kt(v)),!en(v,d))){p&&C<11&&d.keyCode==27&&(d.returnValue=!1);var B=d.keyCode;v.display.shift=B==16||d.shiftKey;var E=xl(v,d);j&&(Ml=E?B:null,!E&&B==88&&!Ar&&($?d.metaKey:d.ctrlKey)&&v.replaceSelection("",null,"cut")),r&&!$&&!E&&B==46&&d.shiftKey&&!d.ctrlKey&&document.execCommand&&document.execCommand("cut"),B==18&&!/\bCodeMirror-crosshair\b/.test(v.display.lineDiv.className)&&bo(v)}}function bo(d){var v=d.display.lineDiv;be(v,"CodeMirror-crosshair");function B(E){(E.keyCode==18||!E.altKey)&&(Ie(v,"CodeMirror-crosshair"),Tt(document,"keyup",B),Tt(document,"mouseover",B))}mt(document,"keyup",B),mt(document,"mouseover",B)}function ea(d){d.keyCode==16&&(this.doc.sel.shift=!1),en(this,d)}function dA(d){var v=this;if(!(d.target&&d.target!=v.display.input.getField())&&!(sA(v.display,d)||en(v,d)||d.ctrlKey&&!d.altKey||$&&d.metaKey)){var B=d.keyCode,E=d.charCode;if(j&&B==Ml){Ml=null,Wn(d);return}if(!(j&&(!d.which||d.which<10)&&xl(v,d))){var F=String.fromCharCode(E??B);F!="\b"&&(Vu(v,d,F)||v.display.input.onKeyPress(d))}}}var Cs=400,bu=function(d,v,B){this.time=d,this.pos=v,this.button=B};bu.prototype.compare=function(d,v,B){return this.time+Cs>d&&si(v,this.pos)==0&&B==this.button};var fA,PA;function Vl(d,v){var B=+new Date;return PA&&PA.compare(B,d,v)?(fA=PA=null,"triple"):fA&&fA.compare(B,d,v)?(PA=new bu(B,d,v),fA=null,"double"):(fA=new bu(B,d,v),PA=null,"single")}function Lc(d){var v=this,B=v.display;if(!(en(v,d)||B.activeTouch&&B.input.supportsTouch())){if(B.input.ensurePolled(),B.shift=d.shiftKey,sA(B,d)){M||(B.scroller.draggable=!1,setTimeout(function(){return B.scroller.draggable=!0},100));return}if(!rd(v,d)){var E=Wa(v,d),F=ti(d),Z=E?Vl(E,F):"single";St(v).focus(),F==1&&v.state.selectingText&&v.state.selectingText(d),!(E&&nu(v,F,E,Z,d))&&(F==1?E?xu(v,E,Z,d):hi(d)==B.scroller&&Wn(d):F==2?(E&&Yu(v.doc,E),setTimeout(function(){return B.input.focus()},20)):F==3&&(ye?v.display.input.onContextMenu(d):Mh(v)))}}}function nu(d,v,B,E,F){var Z="Click";return E=="double"?Z="Double"+Z:E=="triple"&&(Z="Triple"+Z),Z=(v==1?"Left":v==2?"Middle":"Right")+Z,Hu(d,ua(Z,F),F,function(fe){if(typeof fe=="string"&&(fe=Is[fe]),!fe)return!1;var _e=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),_e=fe(d,B)!=_t}finally{d.state.suppressEdits=!1}return _e})}function Ha(d,v,B){var E=d.getOption("configureMouse"),F=E?E(d,v,B):{};if(F.unit==null){var Z=ae?B.shiftKey&&B.metaKey:B.altKey;F.unit=Z?"rectangle":v=="single"?"char":v=="double"?"word":"line"}return(F.extend==null||d.doc.extend)&&(F.extend=d.doc.extend||B.shiftKey),F.addNew==null&&(F.addNew=$?B.metaKey:B.ctrlKey),F.moveOnDrag==null&&(F.moveOnDrag=!($?B.altKey:B.ctrlKey)),F}function xu(d,v,B,E){p?setTimeout(Ut(Os,d),0):d.curOp.focus=nt(kt(d));var F=Ha(d,B,E),Z=d.doc.sel,fe;d.options.dragDrop&&Qi&&!d.isReadOnly()&&B=="single"&&(fe=Z.contains(v))>-1&&(si((fe=Z.ranges[fe]).from(),v)<0||v.xRel>0)&&(si(fe.to(),v)>0||v.xRel<0)?Nf(d,E,v,F):wu(d,E,v,F)}function Nf(d,v,B,E){var F=d.display,Z=!1,fe=Jo(d,function(Le){M&&(F.scroller.draggable=!1),d.state.draggingText=!1,d.state.delayingBlurEvent&&(d.hasFocus()?d.state.delayingBlurEvent=!1:Mh(d)),Tt(F.wrapper.ownerDocument,"mouseup",fe),Tt(F.wrapper.ownerDocument,"mousemove",_e),Tt(F.scroller,"dragstart",ke),Tt(F.scroller,"drop",fe),Z||(Wn(Le),E.addNew||Yu(d.doc,B,null,null,E.extend),M&&!W||p&&C==9?setTimeout(function(){F.wrapper.ownerDocument.body.focus({preventScroll:!0}),F.input.focus()},20):F.input.focus())}),_e=function(Le){Z=Z||Math.abs(v.clientX-Le.clientX)+Math.abs(v.clientY-Le.clientY)>=10},ke=function(){return Z=!0};M&&(F.scroller.draggable=!0),d.state.draggingText=fe,fe.copy=!E.moveOnDrag,mt(F.wrapper.ownerDocument,"mouseup",fe),mt(F.wrapper.ownerDocument,"mousemove",_e),mt(F.scroller,"dragstart",ke),mt(F.scroller,"drop",fe),d.state.delayingBlurEvent=!0,setTimeout(function(){return F.input.focus()},20),F.scroller.dragDrop&&F.scroller.dragDrop()}function Mu(d,v,B){if(B=="char")return new Jr(v,v);if(B=="word")return d.findWordAt(v);if(B=="line")return new Jr(rn(v.line,0),Yi(d.doc,rn(v.line+1,0)));var E=B(d,v);return new Jr(E.from,E.to)}function wu(d,v,B,E){p&&Mh(d);var F=d.display,Z=d.doc;Wn(v);var fe,_e,ke=Z.sel,Le=ke.ranges;if(E.addNew&&!E.extend?(_e=Z.sel.contains(B),_e>-1?fe=Le[_e]:fe=new Jr(B,B)):(fe=Z.sel.primary(),_e=Z.sel.primIndex),E.unit=="rectangle")E.addNew||(fe=new Jr(B,B)),B=Wa(d,v,!0,!0),_e=-1;else{var vt=Mu(d,B,E.unit);E.extend?fe=Kr(fe,vt.anchor,vt.head,E.extend):fe=vt}E.addNew?_e==-1?(_e=Le.length,Aa(Z,ci(d,Le.concat([fe]),_e),{scroll:!1,origin:"*mouse"})):Le.length>1&&Le[_e].empty()&&E.unit=="char"&&!E.extend?(Aa(Z,ci(d,Le.slice(0,_e).concat(Le.slice(_e+1)),0),{scroll:!1,origin:"*mouse"}),ke=Z.sel):ki(Z,_e,fe,qt):(_e=0,Aa(Z,new ba([fe],0),qt),ke=Z.sel);var It=B;function Jt(gi){if(si(It,gi)!=0)if(It=gi,E.unit=="rectangle"){for(var Di=[],sr=d.options.tabSize,qi=Ke(Mi(Z,B.line).text,B.ch,sr),eo=Ke(Mi(Z,gi.line).text,gi.ch,sr),wr=Math.min(qi,eo),ss=Math.max(qi,eo),ha=Math.min(B.line,gi.line),Hr=Math.min(d.lastLine(),Math.max(B.line,gi.line));ha<=Hr;ha++){var _s=Mi(Z,ha).text,bs=on(_s,wr,sr);wr==ss?Di.push(new Jr(rn(ha,bs),rn(ha,bs))):_s.length>bs&&Di.push(new Jr(rn(ha,bs),rn(ha,on(_s,ss,sr))))}Di.length||Di.push(new Jr(B,B)),Aa(Z,ci(d,ke.ranges.slice(0,_e).concat(Di),_e),{origin:"*mouse",scroll:!1}),d.scrollIntoView(gi)}else{var da=fe,$l=Mu(d,gi,E.unit),ks=da.anchor,Ws;si($l.anchor,ks)>0?(Ws=$l.head,ks=zs(da.from(),$l.anchor)):(Ws=$l.anchor,ks=hs(da.to(),$l.head));var Ir=ke.ranges.slice(0);Ir[_e]=Ba(d,new Jr(Yi(Z,ks),Ws)),Aa(Z,ci(d,Ir,_e),qt)}}var Ht=F.wrapper.getBoundingClientRect(),_n=0;function Rn(gi){var Di=++_n,sr=Wa(d,gi,!0,E.unit=="rectangle");if(sr)if(si(sr,It)!=0){d.curOp.focus=nt(kt(d)),Jt(sr);var qi=IA(F,Z);(sr.line>=qi.to||sr.line<qi.from)&&setTimeout(Jo(d,function(){_n==Di&&Rn(gi)}),150)}else{var eo=gi.clientY<Ht.top?-20:gi.clientY>Ht.bottom?20:0;eo&&setTimeout(Jo(d,function(){_n==Di&&(F.scroller.scrollTop+=eo,Rn(gi))}),50)}}function oi(gi){d.state.selectingText=!1,_n=1/0,gi&&(Wn(gi),F.input.focus()),Tt(F.wrapper.ownerDocument,"mousemove",mi),Tt(F.wrapper.ownerDocument,"mouseup",Ci),Z.history.lastSelOrigin=null}var mi=Jo(d,function(gi){gi.buttons===0||!ti(gi)?oi(gi):Rn(gi)}),Ci=Jo(d,oi);d.state.selectingText=Ci,mt(F.wrapper.ownerDocument,"mousemove",mi),mt(F.wrapper.ownerDocument,"mouseup",Ci)}function Ba(d,v){var B=v.anchor,E=v.head,F=Mi(d.doc,B.line);if(si(B,E)==0&&B.sticky==E.sticky)return v;var Z=Ze(F);if(!Z)return v;var fe=Ye(Z,B.ch,B.sticky),_e=Z[fe];if(_e.from!=B.ch&&_e.to!=B.ch)return v;var ke=fe+(_e.from==B.ch==(_e.level!=1)?0:1);if(ke==0||ke==Z.length)return v;var Le;if(E.line!=B.line)Le=(E.line-B.line)*(d.doc.direction=="ltr"?1:-1)>0;else{var vt=Ye(Z,E.ch,E.sticky),It=vt-fe||(E.ch-B.ch)*(_e.level==1?-1:1);vt==ke-1||vt==ke?Le=It<0:Le=It>0}var Jt=Z[ke+(Le?-1:0)],Ht=Le==(Jt.level==1),_n=Ht?Jt.from:Jt.to,Rn=Ht?"after":"before";return B.ch==_n&&B.sticky==Rn?v:new Jr(new rn(B.line,_n,Rn),E)}function iu(d,v,B,E){var F,Z;if(v.touches)F=v.touches[0].clientX,Z=v.touches[0].clientY;else try{F=v.clientX,Z=v.clientY}catch{return!1}if(F>=Math.floor(d.display.gutters.getBoundingClientRect().right))return!1;E&&Wn(v);var fe=d.display,_e=fe.lineDiv.getBoundingClientRect();if(Z>_e.bottom||!Mn(d,B))return tr(v);Z-=_e.top-fe.viewOffset;for(var ke=0;ke<d.display.gutterSpecs.length;++ke){var Le=fe.gutters.childNodes[ke];if(Le&&Le.getBoundingClientRect().right>=F){var vt=Et(d.doc,Z),It=d.display.gutterSpecs[ke];return it(d,B,d,vt,It.className,v),tr(v)}}}function rd(d,v){return iu(d,v,"gutterClick",!0)}function Gf(d,v){sA(d.display,v)||sf(d,v)||en(d,v,"contextmenu")||ye||d.display.input.onContextMenu(v)}function sf(d,v){return Mn(d,"gutterContextMenu")?iu(d,v,"gutterContextMenu",!1):!1}function mm(d){d.display.wrapper.className=d.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bh(d)}var pc={toString:function(){return"CodeMirror.Init"}},od={},Wf={};function Qf(d){var v=d.optionHandlers;function B(E,F,Z,fe){d.defaults[E]=F,Z&&(v[E]=fe?function(_e,ke,Le){Le!=pc&&Z(_e,ke,Le)}:Z)}d.defineOption=B,d.Init=pc,B("value","",function(E,F){return E.setValue(F)},!0),B("mode",null,function(E,F){E.doc.modeOption=F,io(E)},!0),B("indentUnit",2,io,!0),B("indentWithTabs",!1),B("smartIndent",!0),B("tabSize",4,function(E){Gl(E),bh(E),Bs(E)},!0),B("lineSeparator",null,function(E,F){if(E.doc.lineSep=F,!!F){var Z=[],fe=E.doc.first;E.doc.iter(function(ke){for(var Le=0;;){var vt=ke.text.indexOf(F,Le);if(vt==-1)break;Le=vt+F.length,Z.push(rn(fe,vt))}fe++});for(var _e=Z.length-1;_e>=0;_e--)ql(E.doc,F,Z[_e],rn(Z[_e].line,Z[_e].ch+F.length))}}),B("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(E,F,Z){E.state.specialChars=new RegExp(F.source+(F.test("	")?"":"|	"),"g"),Z!=pc&&E.refresh()}),B("specialCharPlaceholder",HA,function(E){return E.refresh()},!0),B("electricChars",!0),B("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),B("spellcheck",!1,function(E,F){return E.getInputField().spellcheck=F},!0),B("autocorrect",!1,function(E,F){return E.getInputField().autocorrect=F},!0),B("autocapitalize",!1,function(E,F){return E.getInputField().autocapitalize=F},!0),B("rtlMoveVisually",!G),B("wholeLineUpdateBefore",!0),B("theme","default",function(E){mm(E),uA(E)},!0),B("keyMap","default",function(E,F,Z){var fe=La(F),_e=Z!=pc&&La(Z);_e&&_e.detach&&_e.detach(E,fe),fe.attach&&fe.attach(E,_e||null)}),B("extraKeys",null),B("configureMouse",null),B("lineWrapping",!1,lf,!0),B("gutters",[],function(E,F){E.display.gutterSpecs=rs(F,E.options.lineNumbers),uA(E)},!0),B("fixedGutter",!0,function(E,F){E.display.gutters.style.left=F?Wo(E.display)+"px":"0",E.refresh()},!0),B("coverGutterNextToScrollbar",!1,function(E){return js(E)},!0),B("scrollbarStyle","native",function(E){Jd(E),js(E),E.display.scrollbars.setScrollTop(E.doc.scrollTop),E.display.scrollbars.setScrollLeft(E.doc.scrollLeft)},!0),B("lineNumbers",!1,function(E,F){E.display.gutterSpecs=rs(E.options.gutters,F),uA(E)},!0),B("firstLineNumber",1,uA,!0),B("lineNumberFormatter",function(E){return E},uA,!0),B("showCursorWhenSelecting",!1,Bc,!0),B("resetSelectionOnContextMenu",!0),B("lineWiseCopyCut",!0),B("pasteLinesPerSelection",!0),B("selectionsMayTouch",!1),B("readOnly",!1,function(E,F){F=="nocursor"&&(mu(E),E.display.input.blur()),E.display.input.readOnlyChanged(F)}),B("screenReaderLabel",null,function(E,F){F=F===""?null:F,E.display.input.screenReaderLabelChanged(F)}),B("disableInput",!1,function(E,F){F||E.display.input.reset()},!0),B("dragDrop",!0,Y0),B("allowDropFileTypes",null),B("cursorBlinkRate",530),B("cursorScrollMargin",0),B("cursorHeight",1,Bc,!0),B("singleCursorHeightPerLine",!0,Bc,!0),B("workTime",100),B("workDelay",100),B("flattenSpans",!0,Gl,!0),B("addModeClass",!1,Gl,!0),B("pollInterval",100),B("undoDepth",200,function(E,F){return E.doc.history.undoDepth=F}),B("historyEventDelay",1250),B("viewportMargin",10,function(E){return E.refresh()},!0),B("maxHighlightLength",1e4,Gl,!0),B("moveInputWithCursor",!0,function(E,F){F||E.display.input.resetPosition()}),B("tabindex",null,function(E,F){return E.display.input.getField().tabIndex=F||""}),B("autofocus",null),B("direction","ltr",function(E,F){return E.doc.setDirection(F)},!0),B("phrases",null)}function Y0(d,v,B){var E=B&&B!=pc;if(!v!=!E){var F=d.display.dragFunctions,Z=v?mt:Tt;Z(d.display.scroller,"dragstart",F.start),Z(d.display.scroller,"dragenter",F.enter),Z(d.display.scroller,"dragover",F.over),Z(d.display.scroller,"dragleave",F.leave),Z(d.display.scroller,"drop",F.drop)}}function lf(d){d.options.lineWrapping?(be(d.display.wrapper,"CodeMirror-wrap"),d.display.sizer.style.minWidth="",d.display.sizerWidth=null):(Ie(d.display.wrapper,"CodeMirror-wrap"),Vs(d)),Hh(d),Bs(d),bh(d),setTimeout(function(){return js(d)},100)}function ta(d,v){var B=this;if(!(this instanceof ta))return new ta(d,v);this.options=v=v?Fe(v):{},Fe(od,v,!1);var E=v.value;typeof E=="string"?E=new At(E,v.mode,null,v.lineSeparator,v.direction):v.mode&&(E.modeOption=v.mode),this.doc=E;var F=new ta.inputStyles[v.inputStyle](this),Z=this.display=new Td(d,E,F,v);Z.wrapper.CodeMirror=this,mm(this),v.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Jd(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Re,keySeq:null,specialChars:null},v.autofocus&&!ne&&Z.input.focus(),p&&C<11&&setTimeout(function(){return B.display.input.reset(!0)},20),Op(this),Bt(),ol(this),this.curOp.forceUpdate=!0,cc(this,E),v.autofocus&&!ne||this.hasFocus()?setTimeout(function(){B.hasFocus()&&!B.state.focused&&Bd(B)},20):mu(this);for(var fe in Wf)Wf.hasOwnProperty(fe)&&Wf[fe](this,v[fe],pc);al(this),v.finishInit&&v.finishInit(this);for(var _e=0;_e<kh.length;++_e)kh[_e](this);Ns(this),M&&v.lineWrapping&&getComputedStyle(Z.lineDiv).textRendering=="optimizelegibility"&&(Z.lineDiv.style.textRendering="auto")}ta.defaults=od,ta.optionHandlers=Wf;function Op(d){var v=d.display;mt(v.scroller,"mousedown",Jo(d,Lc)),p&&C<11?mt(v.scroller,"dblclick",Jo(d,function(ke){if(!en(d,ke)){var Le=Wa(d,ke);if(!(!Le||rd(d,ke)||sA(d.display,ke))){Wn(ke);var vt=d.findWordAt(Le);Yu(d.doc,vt.anchor,vt.head)}}})):mt(v.scroller,"dblclick",function(ke){return en(d,ke)||Wn(ke)}),mt(v.scroller,"contextmenu",function(ke){return Gf(d,ke)}),mt(v.input.getField(),"contextmenu",function(ke){v.scroller.contains(ke.target)||Gf(d,ke)});var B,E={end:0};function F(){v.activeTouch&&(B=setTimeout(function(){return v.activeTouch=null},1e3),E=v.activeTouch,E.end=+new Date)}function Z(ke){if(ke.touches.length!=1)return!1;var Le=ke.touches[0];return Le.radiusX<=1&&Le.radiusY<=1}function fe(ke,Le){if(Le.left==null)return!0;var vt=Le.left-ke.left,It=Le.top-ke.top;return vt*vt+It*It>20*20}mt(v.scroller,"touchstart",function(ke){if(!en(d,ke)&&!Z(ke)&&!rd(d,ke)){v.input.ensurePolled(),clearTimeout(B);var Le=+new Date;v.activeTouch={start:Le,moved:!1,prev:Le-E.end<=300?E:null},ke.touches.length==1&&(v.activeTouch.left=ke.touches[0].pageX,v.activeTouch.top=ke.touches[0].pageY)}}),mt(v.scroller,"touchmove",function(){v.activeTouch&&(v.activeTouch.moved=!0)}),mt(v.scroller,"touchend",function(ke){var Le=v.activeTouch;if(Le&&!sA(v,ke)&&Le.left!=null&&!Le.moved&&new Date-Le.start<300){var vt=d.coordsChar(v.activeTouch,"page"),It;!Le.prev||fe(Le,Le.prev)?It=new Jr(vt,vt):!Le.prev.prev||fe(Le,Le.prev.prev)?It=d.findWordAt(vt):It=new Jr(rn(vt.line,0),Yi(d.doc,rn(vt.line+1,0))),d.setSelection(It.anchor,It.head),d.focus(),Wn(ke)}F()}),mt(v.scroller,"touchcancel",F),mt(v.scroller,"scroll",function(){v.scroller.clientHeight&&(Xc(d,v.scroller.scrollTop),_a(d,v.scroller.scrollLeft,!0),it(d,"scroll",d))}),mt(v.scroller,"mousewheel",function(ke){return Zh(d,ke)}),mt(v.scroller,"DOMMouseScroll",function(ke){return Zh(d,ke)}),mt(v.wrapper,"scroll",function(){return v.wrapper.scrollTop=v.wrapper.scrollLeft=0}),v.dragFunctions={enter:function(ke){en(d,ke)||Ei(ke)},over:function(ke){en(d,ke)||(yt(d,ke),Ei(ke))},start:function(ke){return xt(d,ke)},drop:Jo(d,ft),leave:function(ke){en(d,ke)||wt(d)}};var _e=v.input.getField();mt(_e,"keyup",function(ke){return ea.call(d,ke)}),mt(_e,"keydown",Jo(d,Uc)),mt(_e,"keypress",Jo(d,dA)),mt(_e,"focus",function(ke){return Bd(d,ke)}),mt(_e,"blur",function(ke){return mu(d,ke)})}var kh=[];ta.defineInitHook=function(d){return kh.push(d)};function Yf(d,v,B,E){var F=d.doc,Z;B==null&&(B="add"),B=="smart"&&(F.mode.indent?Z=Xo(d,v).state:B="prev");var fe=d.options.tabSize,_e=Mi(F,v),ke=Ke(_e.text,null,fe);_e.stateAfter&&(_e.stateAfter=null);var Le=_e.text.match(/^\s*/)[0],vt;if(!E&&!/\S/.test(_e.text))vt=0,B="not";else if(B=="smart"&&(vt=F.mode.indent(Z,_e.text.slice(Le.length),_e.text),vt==_t||vt>150)){if(!E)return;B="prev"}B=="prev"?v>F.first?vt=Ke(Mi(F,v-1).text,null,fe):vt=0:B=="add"?vt=ke+d.options.indentUnit:B=="subtract"?vt=ke-d.options.indentUnit:typeof B=="number"&&(vt=ke+B),vt=Math.max(0,vt);var It="",Jt=0;if(d.options.indentWithTabs)for(var Ht=Math.floor(vt/fe);Ht;--Ht)Jt+=fe,It+="	";if(Jt<vt&&(It+=Wt(vt-Jt)),It!=Le)return ql(F,It,rn(v,0),rn(v,Le.length),"+input"),_e.stateAfter=null,!0;for(var _n=0;_n<F.sel.ranges.length;_n++){var Rn=F.sel.ranges[_n];if(Rn.head.line==v&&Rn.head.ch<Le.length){var oi=rn(v,Le.length);ki(F,_n,new Jr(oi,oi));break}}}var ru=null;function Dd(d){ru=d}function el(d,v,B,E,F){var Z=d.doc;d.display.shift=!1,E||(E=Z.sel);var fe=+new Date-200,_e=F=="paste"||d.state.pasteIncoming>fe,ke=ko(v),Le=null;if(_e&&E.ranges.length>1)if(ru&&ru.text.join(`
`)==v){if(E.ranges.length%ru.text.length==0){Le=[];for(var vt=0;vt<ru.text.length;vt++)Le.push(Z.splitLines(ru.text[vt]))}}else ke.length==E.ranges.length&&d.options.pasteLinesPerSelection&&(Le=On(ke,function(mi){return[mi]}));for(var It=d.curOp.updateInput,Jt=E.ranges.length-1;Jt>=0;Jt--){var Ht=E.ranges[Jt],_n=Ht.from(),Rn=Ht.to();Ht.empty()&&(B&&B>0?_n=rn(_n.line,_n.ch-B):d.state.overwrite&&!_e?Rn=rn(Rn.line,Math.min(Mi(Z,Rn.line).text.length,Rn.ch+$n(ke).length)):_e&&ru&&ru.lineWise&&ru.text.join(`
`)==ke.join(`
`)&&(_n=Rn=rn(_n.line,0)));var oi={from:_n,to:Rn,text:Le?Le[Jt%Le.length]:ke,origin:F||(_e?"paste":d.state.cutIncoming>fe?"cut":"+input")};Js(d.doc,oi),is(d,"inputRead",d,oi)}v&&!_e&&qf(d,v),Qo(d),d.curOp.updateInput<2&&(d.curOp.updateInput=It),d.curOp.typing=!0,d.state.pasteIncoming=d.state.cutIncoming=-1}function ds(d,v){var B=d.clipboardData&&d.clipboardData.getData("Text");if(B)return d.preventDefault(),!v.isReadOnly()&&!v.options.disableInput&&v.hasFocus()&&Qa(v,function(){return el(v,B,0,null,"paste")}),!0}function qf(d,v){if(!(!d.options.electricChars||!d.options.smartIndent))for(var B=d.doc.sel,E=B.ranges.length-1;E>=0;E--){var F=B.ranges[E];if(!(F.head.ch>100||E&&B.ranges[E-1].head.line==F.head.line)){var Z=d.getModeAt(F.head),fe=!1;if(Z.electricChars){for(var _e=0;_e<Z.electricChars.length;_e++)if(v.indexOf(Z.electricChars.charAt(_e))>-1){fe=Yf(d,F.head.line,"smart");break}}else Z.electricInput&&Z.electricInput.test(Mi(d.doc,F.head.line).text.slice(0,F.head.ch))&&(fe=Yf(d,F.head.line,"smart"));fe&&is(d,"electricInput",d,F.head.line)}}}function Ip(d){for(var v=[],B=[],E=0;E<d.doc.sel.ranges.length;E++){var F=d.doc.sel.ranges[E].head.line,Z={anchor:rn(F,0),head:rn(F+1,0)};B.push(Z),v.push(d.getRange(Z.anchor,Z.head))}return{text:v,ranges:B}}function Hf(d,v,B,E){d.setAttribute("autocorrect",B?"on":"off"),d.setAttribute("autocapitalize",E?"on":"off"),d.setAttribute("spellcheck",!!v)}function Af(){var d=xe("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),v=xe("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return M?d.style.width="1000px":d.setAttribute("wrap","off"),J&&(d.style.border="1px solid black"),v}function Rd(d){var v=d.optionHandlers,B=d.helpers={};d.prototype={constructor:d,focus:function(){St(this).focus(),this.display.input.focus()},setOption:function(E,F){var Z=this.options,fe=Z[E];Z[E]==F&&E!="mode"||(Z[E]=F,v.hasOwnProperty(E)&&Jo(this,v[E])(this,F,fe),it(this,"optionChange",this,E))},getOption:function(E){return this.options[E]},getDoc:function(){return this.doc},addKeyMap:function(E,F){this.state.keyMaps[F?"push":"unshift"](La(E))},removeKeyMap:function(E){for(var F=this.state.keyMaps,Z=0;Z<F.length;++Z)if(F[Z]==E||F[Z].name==E)return F.splice(Z,1),!0},addOverlay:yr(function(E,F){var Z=E.token?E:d.getMode(this.options,E);if(Z.startState)throw new Error("Overlays may not be stateful.");Bn(this.state.overlays,{mode:Z,modeSpec:E,opaque:F&&F.opaque,priority:F&&F.priority||0},function(fe){return fe.priority}),this.state.modeGen++,Bs(this)}),removeOverlay:yr(function(E){for(var F=this.state.overlays,Z=0;Z<F.length;++Z){var fe=F[Z].modeSpec;if(fe==E||typeof E=="string"&&fe.name==E){F.splice(Z,1),this.state.modeGen++,Bs(this);return}}}),indentLine:yr(function(E,F,Z){typeof F!="string"&&typeof F!="number"&&(F==null?F=this.options.smartIndent?"smart":"prev":F=F?"add":"subtract"),xn(this.doc,E)&&Yf(this,E,F,Z)}),indentSelection:yr(function(E){for(var F=this.doc.sel.ranges,Z=-1,fe=0;fe<F.length;fe++){var _e=F[fe];if(_e.empty())_e.head.line>Z&&(Yf(this,_e.head.line,E,!0),Z=_e.head.line,fe==this.doc.sel.primIndex&&Qo(this));else{var ke=_e.from(),Le=_e.to(),vt=Math.max(Z,ke.line);Z=Math.min(this.lastLine(),Le.line-(Le.ch?0:1))+1;for(var It=vt;It<Z;++It)Yf(this,It,E);var Jt=this.doc.sel.ranges;ke.ch==0&&F.length==Jt.length&&Jt[fe].from().ch>0&&ki(this.doc,fe,new Jr(ke,Jt[fe].to()),Ot)}}}),getTokenAt:function(E,F){return Ll(this,E,F)},getLineTokens:function(E,F){return Ll(this,rn(E),F,!0)},getTokenTypeAt:function(E){E=Yi(this.doc,E);var F=Hs(this,Mi(this.doc,E.line)),Z=0,fe=(F.length-1)/2,_e=E.ch,ke;if(_e==0)ke=F[2];else for(;;){var Le=Z+fe>>1;if((Le?F[Le*2-1]:0)>=_e)fe=Le;else if(F[Le*2+1]<_e)Z=Le+1;else{ke=F[Le*2+2];break}}var vt=ke?ke.indexOf("overlay "):-1;return vt<0?ke:vt==0?null:ke.slice(0,vt-1)},getModeAt:function(E){var F=this.doc.mode;return F.innerMode?d.innerMode(F,this.getTokenAt(E).state).mode:F},getHelper:function(E,F){return this.getHelpers(E,F)[0]},getHelpers:function(E,F){var Z=[];if(!B.hasOwnProperty(F))return Z;var fe=B[F],_e=this.getModeAt(E);if(typeof _e[F]=="string")fe[_e[F]]&&Z.push(fe[_e[F]]);else if(_e[F])for(var ke=0;ke<_e[F].length;ke++){var Le=fe[_e[F][ke]];Le&&Z.push(Le)}else _e.helperType&&fe[_e.helperType]?Z.push(fe[_e.helperType]):fe[_e.name]&&Z.push(fe[_e.name]);for(var vt=0;vt<fe._global.length;vt++){var It=fe._global[vt];It.pred(_e,this)&&He(Z,It.val)==-1&&Z.push(It.val)}return Z},getStateAfter:function(E,F){var Z=this.doc;return E=YA(Z,E??Z.first+Z.size-1),Xo(this,E+1,F).state},cursorCoords:function(E,F){var Z,fe=this.doc.sel.primary();return E==null?Z=fe.head:typeof E=="object"?Z=Yi(this.doc,E):Z=E?fe.from():fe.to(),vn(this,Z,F||"page")},charCoords:function(E,F){return Sn(this,Yi(this.doc,E),F||"page")},coordsChar:function(E,F){return E=Zt(this,E,F||"page"),Io(this,E.left,E.top)},lineAtHeight:function(E,F){return E=Zt(this,{top:E,left:0},F||"page").top,Et(this.doc,E+this.display.viewOffset)},heightAtLine:function(E,F,Z){var fe=!1,_e;if(typeof E=="number"){var ke=this.doc.first+this.doc.size-1;E<this.doc.first?E=this.doc.first:E>ke&&(E=ke,fe=!0),_e=Mi(this.doc,E)}else _e=E;return jl(this,_e,{top:0,left:0},F||"page",Z||fe).top+(fe?this.doc.height-Go(_e):0)},defaultTextHeight:function(){return SA(this.display)},defaultCharWidth:function(){return EA(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(E,F,Z,fe,_e){var ke=this.display;E=vn(this,Yi(this.doc,E));var Le=E.bottom,vt=E.left;if(F.style.position="absolute",F.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(F),ke.sizer.appendChild(F),fe=="over")Le=E.top;else if(fe=="above"||fe=="near"){var It=Math.max(ke.wrapper.clientHeight,this.doc.height),Jt=Math.max(ke.sizer.clientWidth,ke.lineSpace.clientWidth);(fe=="above"||E.bottom+F.offsetHeight>It)&&E.top>F.offsetHeight?Le=E.top-F.offsetHeight:E.bottom+F.offsetHeight<=It&&(Le=E.bottom),vt+F.offsetWidth>Jt&&(vt=Jt-F.offsetWidth)}F.style.top=Le+"px",F.style.left=F.style.right="",_e=="right"?(vt=ke.sizer.clientWidth-F.offsetWidth,F.style.right="0px"):(_e=="left"?vt=0:_e=="middle"&&(vt=(ke.sizer.clientWidth-F.offsetWidth)/2),F.style.left=vt+"px"),Z&&Vh(this,{left:vt,top:Le,right:vt+F.offsetWidth,bottom:Le+F.offsetHeight})},triggerOnKeyDown:yr(Uc),triggerOnKeyPress:yr(dA),triggerOnKeyUp:ea,triggerOnMouseDown:yr(Lc),execCommand:function(E){if(Is.hasOwnProperty(E))return Is[E].call(null,this)},triggerElectric:yr(function(E){qf(this,E)}),findPosH:function(E,F,Z,fe){var _e=1;F<0&&(_e=-1,F=-F);for(var ke=Yi(this.doc,E),Le=0;Le<F&&(ke=mr(this.doc,ke,_e,Z,fe),!ke.hitSide);++Le);return ke},moveH:yr(function(E,F){var Z=this;this.extendSelectionsBy(function(fe){return Z.display.shift||Z.doc.extend||fe.empty()?mr(Z.doc,fe.head,E,F,Z.options.rtlMoveVisually):E<0?fe.from():fe.to()},Kt)}),deleteH:yr(function(E,F){var Z=this.doc.sel,fe=this.doc;Z.somethingSelected()?fe.replaceSelection("",null,"+delete"):ca(this,function(_e){var ke=mr(fe,_e.head,E,F,!1);return E<0?{from:ke,to:_e.head}:{from:_e.head,to:ke}})}),findPosV:function(E,F,Z,fe){var _e=1,ke=fe;F<0&&(_e=-1,F=-F);for(var Le=Yi(this.doc,E),vt=0;vt<F;++vt){var It=vn(this,Le,"div");if(ke==null?ke=It.left:It.left=ke,Le=uf(this,It,_e,Z),Le.hitSide)break}return Le},moveV:yr(function(E,F){var Z=this,fe=this.doc,_e=[],ke=!this.display.shift&&!fe.extend&&fe.sel.somethingSelected();if(fe.extendSelectionsBy(function(vt){if(ke)return E<0?vt.from():vt.to();var It=vn(Z,vt.head,"div");vt.goalColumn!=null&&(It.left=vt.goalColumn),_e.push(It.left);var Jt=uf(Z,It,E,F);return F=="page"&&vt==fe.sel.primary()&&Dl(Z,Sn(Z,Jt,"div").top-It.top),Jt},Kt),_e.length)for(var Le=0;Le<fe.sel.ranges.length;Le++)fe.sel.ranges[Le].goalColumn=_e[Le]}),findWordAt:function(E){var F=this.doc,Z=Mi(F,E.line).text,fe=E.ch,_e=E.ch;if(Z){var ke=this.getHelper(E,"wordChars");(E.sticky=="before"||_e==Z.length)&&fe?--fe:++_e;for(var Le=Z.charAt(fe),vt=je(Le,ke)?function(It){return je(It,ke)}:/\s/.test(Le)?function(It){return/\s/.test(It)}:function(It){return!/\s/.test(It)&&!je(It)};fe>0&&vt(Z.charAt(fe-1));)--fe;for(;_e<Z.length&&vt(Z.charAt(_e));)++_e}return new Jr(rn(E.line,fe),rn(E.line,_e))},toggleOverwrite:function(E){E!=null&&E==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?be(this.display.cursorDiv,"CodeMirror-overwrite"):Ie(this.display.cursorDiv,"CodeMirror-overwrite"),it(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==nt(kt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:yr(function(E,F){la(this,E,F)}),getScrollInfo:function(){var E=this.display.scroller;return{left:E.scrollLeft,top:E.scrollTop,height:E.scrollHeight-Uu(this)-this.display.barHeight,width:E.scrollWidth-Uu(this)-this.display.barWidth,clientHeight:Yh(this),clientWidth:$A(this)}},scrollIntoView:yr(function(E,F){E==null?(E={from:this.doc.sel.primary().head,to:null},F==null&&(F=this.options.cursorScrollMargin)):typeof E=="number"?E={from:rn(E,0),to:null}:E.from==null&&(E={from:E,to:null}),E.to||(E.to=E.from),E.margin=F||0,E.from.line!=null?zu(this,E):Ic(this,E.from,E.to,E.margin)}),setSize:yr(function(E,F){var Z=this,fe=function(ke){return typeof ke=="number"||/^\d+$/.test(String(ke))?ke+"px":ke};E!=null&&(this.display.wrapper.style.width=fe(E)),F!=null&&(this.display.wrapper.style.height=fe(F)),this.options.lineWrapping&&Oo(this);var _e=this.display.viewFrom;this.doc.iter(_e,this.display.viewTo,function(ke){if(ke.widgets){for(var Le=0;Le<ke.widgets.length;Le++)if(ke.widgets[Le].noHScroll){XA(Z,_e,"widget");break}}++_e}),this.curOp.forceUpdate=!0,it(this,"refresh",this)}),operation:function(E){return Qa(this,E)},startOperation:function(){return ol(this)},endOperation:function(){return Ns(this)},refresh:yr(function(){var E=this.display.cachedTextHeight;Bs(this),this.curOp.forceUpdate=!0,bh(this),la(this,this.doc.scrollLeft,this.doc.scrollTop),ih(this.display),(E==null||Math.abs(E-SA(this.display))>.5||this.options.lineWrapping)&&Hh(this),it(this,"refresh",this)}),swapDoc:yr(function(E){var F=this.doc;return F.cm=null,this.state.selectingText&&this.state.selectingText(),cc(this,E),bh(this),this.display.input.reset(),la(this,E.scrollLeft,E.scrollTop),this.curOp.forceScroll=!0,is(this,"swapDoc",this,F),F}),phrase:function(E){var F=this.options.phrases;return F&&Object.prototype.hasOwnProperty.call(F,E)?F[E]:E},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ii(d),d.registerHelper=function(E,F,Z){B.hasOwnProperty(E)||(B[E]=d[E]={_global:[]}),B[E][F]=Z},d.registerGlobalHelper=function(E,F,Z,fe){d.registerHelper(E,F,fe),B[E]._global.push({pred:Z,val:fe})}}function mr(d,v,B,E,F){var Z=v,fe=B,_e=Mi(d,v.line),ke=F&&d.direction=="rtl"?-B:B;function Le(){var Ci=v.line+ke;return Ci<d.first||Ci>=d.first+d.size?!1:(v=new rn(Ci,v.ch,v.sticky),_e=Mi(d,Ci))}function vt(Ci){var gi;if(E=="codepoint"){var Di=_e.text.charCodeAt(v.ch+(B>0?0:-1));if(isNaN(Di))gi=null;else{var sr=B>0?Di>=55296&&Di<56320:Di>=56320&&Di<57343;gi=new rn(v.line,Math.max(0,Math.min(_e.text.length,v.ch+B*(sr?2:1))),-B)}}else F?gi=qa(d.cm,_e,v,B):gi=Yo(_e,v,B);if(gi==null)if(!Ci&&Le())v=as(F,d.cm,_e,v.line,ke);else return!1;else v=gi;return!0}if(E=="char"||E=="codepoint")vt();else if(E=="column")vt(!0);else if(E=="word"||E=="group")for(var It=null,Jt=E=="group",Ht=d.cm&&d.cm.getHelper(v,"wordChars"),_n=!0;!(B<0&&!vt(!_n));_n=!1){var Rn=_e.text.charAt(v.ch)||`
`,oi=je(Rn,Ht)?"w":Jt&&Rn==`
`?"n":!Jt||/\s/.test(Rn)?null:"p";if(Jt&&!_n&&!oi&&(oi="s"),It&&It!=oi){B<0&&(B=1,vt(),v.sticky="after");break}if(oi&&(It=oi),B>0&&!vt(!_n))break}var mi=Ya(d,v,Z,fe,!0);return to(Z,mi)&&(mi.hitSide=!0),mi}function uf(d,v,B,E){var F=d.doc,Z=v.left,fe;if(E=="page"){var _e=Math.min(d.display.wrapper.clientHeight,St(d).innerHeight||F(d).documentElement.clientHeight),ke=Math.max(_e-.5*SA(d.display),3);fe=(B>0?v.bottom:v.top)+B*ke}else E=="line"&&(fe=B>0?v.bottom+3:v.top-3);for(var Le;Le=Io(d,Z,fe),!!Le.outside;){if(B<0?fe<=0:fe>=F.height){Le.hitSide=!0;break}fe+=B*5}return Le}var na=function(d){this.cm=d,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Re,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};na.prototype.init=function(d){var v=this,B=this,E=B.cm,F=B.div=d.lineDiv;F.contentEditable=!0,Hf(F,E.options.spellcheck,E.options.autocorrect,E.options.autocapitalize);function Z(_e){for(var ke=_e.target;ke;ke=ke.parentNode){if(ke==F)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ke.className))break}return!1}mt(F,"paste",function(_e){!Z(_e)||en(E,_e)||ds(_e,E)||C<=11&&setTimeout(Jo(E,function(){return v.updateFromDOM()}),20)}),mt(F,"compositionstart",function(_e){v.composing={data:_e.data,done:!1}}),mt(F,"compositionupdate",function(_e){v.composing||(v.composing={data:_e.data,done:!1})}),mt(F,"compositionend",function(_e){v.composing&&(_e.data!=v.composing.data&&v.readFromDOMSoon(),v.composing.done=!0)}),mt(F,"touchstart",function(){return B.forceCompositionEnd()}),mt(F,"input",function(){v.composing||v.readFromDOMSoon()});function fe(_e){if(!(!Z(_e)||en(E,_e))){if(E.somethingSelected())Dd({lineWise:!1,text:E.getSelections()}),_e.type=="cut"&&E.replaceSelection("",null,"cut");else if(E.options.lineWiseCopyCut){var ke=Ip(E);Dd({lineWise:!0,text:ke.text}),_e.type=="cut"&&E.operation(function(){E.setSelections(ke.ranges,0,Ot),E.replaceSelection("",null,"cut")})}else return;if(_e.clipboardData){_e.clipboardData.clearData();var Le=ru.text.join(`
`);if(_e.clipboardData.setData("Text",Le),_e.clipboardData.getData("Text")==Le){_e.preventDefault();return}}var vt=Af(),It=vt.firstChild;Hf(It),E.display.lineSpace.insertBefore(vt,E.display.lineSpace.firstChild),It.value=ru.text.join(`
`);var Jt=nt(gt(F));tt(It),setTimeout(function(){E.display.lineSpace.removeChild(vt),Jt.focus(),Jt==F&&B.showPrimarySelection()},50)}}mt(F,"copy",fe),mt(F,"cut",fe)},na.prototype.screenReaderLabelChanged=function(d){d?this.div.setAttribute("aria-label",d):this.div.removeAttribute("aria-label")},na.prototype.prepareSelection=function(){var d=xh(this.cm,!1);return d.focus=nt(gt(this.div))==this.div,d},na.prototype.showSelection=function(d,v){!d||!this.cm.display.view.length||((d.focus||v)&&this.showPrimarySelection(),this.showMultipleSelections(d))},na.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},na.prototype.showPrimarySelection=function(){var d=this.getSelection(),v=this.cm,B=v.doc.sel.primary(),E=B.from(),F=B.to();if(v.display.viewTo==v.display.viewFrom||E.line>=v.display.viewTo||F.line<v.display.viewFrom){d.removeAllRanges();return}var Z=sl(v,d.anchorNode,d.anchorOffset),fe=sl(v,d.focusNode,d.focusOffset);if(!(Z&&!Z.bad&&fe&&!fe.bad&&si(zs(Z,fe),E)==0&&si(hs(Z,fe),F)==0)){var _e=v.display.view,ke=E.line>=v.display.viewFrom&&Dh(v,E)||{node:_e[0].measure.map[2],offset:0},Le=F.line<v.display.viewTo&&Dh(v,F);if(!Le){var vt=_e[_e.length-1].measure,It=vt.maps?vt.maps[vt.maps.length-1]:vt.map;Le={node:It[It.length-1],offset:It[It.length-2]-It[It.length-3]}}if(!ke||!Le){d.removeAllRanges();return}var Jt=d.rangeCount&&d.getRangeAt(0),Ht;try{Ht=st(ke.node,ke.offset,Le.offset,Le.node)}catch{}Ht&&(!r&&v.state.focused?(d.collapse(ke.node,ke.offset),Ht.collapsed||(d.removeAllRanges(),d.addRange(Ht))):(d.removeAllRanges(),d.addRange(Ht)),Jt&&d.anchorNode==null?d.addRange(Jt):r&&this.startGracePeriod()),this.rememberSelection()}},na.prototype.startGracePeriod=function(){var d=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){d.gracePeriod=!1,d.selectionChanged()&&d.cm.operation(function(){return d.cm.curOp.selectionChanged=!0})},20)},na.prototype.showMultipleSelections=function(d){Ve(this.cm.display.cursorDiv,d.cursors),Ve(this.cm.display.selectionDiv,d.selection)},na.prototype.rememberSelection=function(){var d=this.getSelection();this.lastAnchorNode=d.anchorNode,this.lastAnchorOffset=d.anchorOffset,this.lastFocusNode=d.focusNode,this.lastFocusOffset=d.focusOffset},na.prototype.selectionInEditor=function(){var d=this.getSelection();if(!d.rangeCount)return!1;var v=d.getRangeAt(0).commonAncestorContainer;return Ct(this.div,v)},na.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||nt(gt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},na.prototype.blur=function(){this.div.blur()},na.prototype.getField=function(){return this.div},na.prototype.supportsTouch=function(){return!0},na.prototype.receivedFocus=function(){var d=this,v=this;this.selectionInEditor()?setTimeout(function(){return d.pollSelection()},20):Qa(this.cm,function(){return v.cm.curOp.selectionChanged=!0});function B(){v.cm.state.focused&&(v.pollSelection(),v.polling.set(v.cm.options.pollInterval,B))}this.polling.set(this.cm.options.pollInterval,B)},na.prototype.selectionChanged=function(){var d=this.getSelection();return d.anchorNode!=this.lastAnchorNode||d.anchorOffset!=this.lastAnchorOffset||d.focusNode!=this.lastFocusNode||d.focusOffset!=this.lastFocusOffset},na.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var d=this.getSelection(),v=this.cm;if(oe&&U&&this.cm.display.gutterSpecs.length&&gm(d.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var B=sl(v,d.anchorNode,d.anchorOffset),E=sl(v,d.focusNode,d.focusOffset);B&&E&&Qa(v,function(){Aa(v.doc,Wu(B,E),Ot),(B.bad||E.bad)&&(v.curOp.selectionChanged=!0)})}}},na.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var d=this.cm,v=d.display,B=d.doc.sel.primary(),E=B.from(),F=B.to();if(E.ch==0&&E.line>d.firstLine()&&(E=rn(E.line-1,Mi(d.doc,E.line-1).length)),F.ch==Mi(d.doc,F.line).text.length&&F.line<d.lastLine()&&(F=rn(F.line+1,0)),E.line<v.viewFrom||F.line>v.viewTo-1)return!1;var Z,fe,_e;E.line==v.viewFrom||(Z=Zs(d,E.line))==0?(fe=$e(v.view[0].line),_e=v.view[0].node):(fe=$e(v.view[Z].line),_e=v.view[Z-1].node.nextSibling);var ke=Zs(d,F.line),Le,vt;if(ke==v.view.length-1?(Le=v.viewTo-1,vt=v.lineDiv.lastChild):(Le=$e(v.view[ke+1].line)-1,vt=v.view[ke+1].node.previousSibling),!_e)return!1;for(var It=d.doc.splitLines(pA(d,_e,vt,fe,Le)),Jt=cs(d.doc,rn(fe,0),rn(Le,Mi(d.doc,Le).text.length));It.length>1&&Jt.length>1;)if($n(It)==$n(Jt))It.pop(),Jt.pop(),Le--;else if(It[0]==Jt[0])It.shift(),Jt.shift(),fe++;else break;for(var Ht=0,_n=0,Rn=It[0],oi=Jt[0],mi=Math.min(Rn.length,oi.length);Ht<mi&&Rn.charCodeAt(Ht)==oi.charCodeAt(Ht);)++Ht;for(var Ci=$n(It),gi=$n(Jt),Di=Math.min(Ci.length-(It.length==1?Ht:0),gi.length-(Jt.length==1?Ht:0));_n<Di&&Ci.charCodeAt(Ci.length-_n-1)==gi.charCodeAt(gi.length-_n-1);)++_n;if(It.length==1&&Jt.length==1&&fe==E.line)for(;Ht&&Ht>E.ch&&Ci.charCodeAt(Ci.length-_n-1)==gi.charCodeAt(gi.length-_n-1);)Ht--,_n++;It[It.length-1]=Ci.slice(0,Ci.length-_n).replace(/^\u200b+/,""),It[0]=It[0].slice(Ht).replace(/\u200b+$/,"");var sr=rn(fe,Ht),qi=rn(Le,Jt.length?$n(Jt).length-_n:0);if(It.length>1||It[0]||si(sr,qi))return ql(d.doc,It,sr,qi,"+input"),!0},na.prototype.ensurePolled=function(){this.forceCompositionEnd()},na.prototype.reset=function(){this.forceCompositionEnd()},na.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},na.prototype.readFromDOMSoon=function(){var d=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(d.readDOMTimeout=null,d.composing)if(d.composing.done)d.composing=null;else return;d.updateFromDOM()},80))},na.prototype.updateFromDOM=function(){var d=this;(this.cm.isReadOnly()||!this.pollContent())&&Qa(this.cm,function(){return Bs(d.cm)})},na.prototype.setUneditable=function(d){d.contentEditable="false"},na.prototype.onKeyPress=function(d){d.charCode==0||this.composing||(d.preventDefault(),this.cm.isReadOnly()||Jo(this.cm,el)(this.cm,String.fromCharCode(d.charCode==null?d.keyCode:d.charCode),0))},na.prototype.readOnlyChanged=function(d){this.div.contentEditable=String(d!="nocursor")},na.prototype.onContextMenu=function(){},na.prototype.resetPosition=function(){},na.prototype.needsContentAttribute=!0;function Dh(d,v){var B=Zd(d,v.line);if(!B||B.hidden)return null;var E=Mi(d.doc,v.line),F=qh(B,E,v.line),Z=Ze(E,d.doc.direction),fe="left";if(Z){var _e=Ye(Z,v.ch);fe=_e%2?"right":"left"}var ke=Lf(F.map,v.ch,fe);return ke.offset=ke.collapse=="right"?ke.end:ke.start,ke}function gm(d){for(var v=d;v;v=v.parentNode)if(/CodeMirror-gutter-wrapper/.test(v.className))return!0;return!1}function $u(d,v){return v&&(d.bad=!0),d}function pA(d,v,B,E,F){var Z="",fe=!1,_e=d.doc.lineSeparator(),ke=!1;function Le(Ht){return function(_n){return _n.id==Ht}}function vt(){fe&&(Z+=_e,ke&&(Z+=_e),fe=ke=!1)}function It(Ht){Ht&&(vt(),Z+=Ht)}function Jt(Ht){if(Ht.nodeType==1){var _n=Ht.getAttribute("cm-text");if(_n){It(_n);return}var Rn=Ht.getAttribute("cm-marker"),oi;if(Rn){var mi=d.findMarks(rn(E,0),rn(F+1,0),Le(+Rn));mi.length&&(oi=mi[0].find(0))&&It(cs(d.doc,oi.from,oi.to).join(_e));return}if(Ht.getAttribute("contenteditable")=="false")return;var Ci=/^(pre|div|p|li|table|br)$/i.test(Ht.nodeName);if(!/^br$/i.test(Ht.nodeName)&&Ht.textContent.length==0)return;Ci&&vt();for(var gi=0;gi<Ht.childNodes.length;gi++)Jt(Ht.childNodes[gi]);/^(pre|p)$/i.test(Ht.nodeName)&&(ke=!0),Ci&&(fe=!0)}else Ht.nodeType==3&&It(Ht.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Jt(v),v!=B;)v=v.nextSibling,ke=!1;return Z}function sl(d,v,B){var E;if(v==d.display.lineDiv){if(E=d.display.lineDiv.childNodes[B],!E)return $u(d.clipPos(rn(d.display.viewTo-1)),!0);v=null,B=0}else for(E=v;;E=E.parentNode){if(!E||E==d.display.lineDiv)return null;if(E.parentNode&&E.parentNode==d.display.lineDiv)break}for(var F=0;F<d.display.view.length;F++){var Z=d.display.view[F];if(Z.node==E)return ym(Z,v,B)}}function ym(d,v,B){var E=d.text.firstChild,F=!1;if(!v||!Ct(E,v))return $u(rn($e(d.line),0),!0);if(v==E&&(F=!0,v=E.childNodes[B],B=0,!v)){var Z=d.rest?$n(d.rest):d.line;return $u(rn($e(Z),Z.text.length),F)}var fe=v.nodeType==3?v:null,_e=v;for(!fe&&v.childNodes.length==1&&v.firstChild.nodeType==3&&(fe=v.firstChild,B&&(B=fe.nodeValue.length));_e.parentNode!=E;)_e=_e.parentNode;var ke=d.measure,Le=ke.maps;function vt(oi,mi,Ci){for(var gi=-1;gi<(Le?Le.length:0);gi++)for(var Di=gi<0?ke.map:Le[gi],sr=0;sr<Di.length;sr+=3){var qi=Di[sr+2];if(qi==oi||qi==mi){var eo=$e(gi<0?d.line:d.rest[gi]),wr=Di[sr]+Ci;return(Ci<0||qi!=oi)&&(wr=Di[sr+(Ci?1:0)]),rn(eo,wr)}}}var It=vt(fe,_e,B);if(It)return $u(It,F);for(var Jt=_e.nextSibling,Ht=fe?fe.nodeValue.length-B:0;Jt;Jt=Jt.nextSibling){if(It=vt(Jt,Jt.firstChild,0),It)return $u(rn(It.line,It.ch-Ht),F);Ht+=Jt.textContent.length}for(var _n=_e.previousSibling,Rn=B;_n;_n=_n.previousSibling){if(It=vt(_n,_n.firstChild,-1),It)return $u(rn(It.line,It.ch+Rn),F);Rn+=_n.textContent.length}}var Gs=function(d){this.cm=d,this.prevInput="",this.pollingFast=!1,this.polling=new Re,this.hasSelection=!1,this.composing=null,this.resetting=!1};Gs.prototype.init=function(d){var v=this,B=this,E=this.cm;this.createField(d);var F=this.textarea;d.wrapper.insertBefore(this.wrapper,d.wrapper.firstChild),J&&(F.style.width="0px"),mt(F,"input",function(){p&&C>=9&&v.hasSelection&&(v.hasSelection=null),B.poll()}),mt(F,"paste",function(fe){en(E,fe)||ds(fe,E)||(E.state.pasteIncoming=+new Date,B.fastPoll())});function Z(fe){if(!en(E,fe)){if(E.somethingSelected())Dd({lineWise:!1,text:E.getSelections()});else if(E.options.lineWiseCopyCut){var _e=Ip(E);Dd({lineWise:!0,text:_e.text}),fe.type=="cut"?E.setSelections(_e.ranges,null,Ot):(B.prevInput="",F.value=_e.text.join(`
`),tt(F))}else return;fe.type=="cut"&&(E.state.cutIncoming=+new Date)}}mt(F,"cut",Z),mt(F,"copy",Z),mt(d.scroller,"paste",function(fe){if(!(sA(d,fe)||en(E,fe))){if(!F.dispatchEvent){E.state.pasteIncoming=+new Date,B.focus();return}var _e=new Event("paste");_e.clipboardData=fe.clipboardData,F.dispatchEvent(_e)}}),mt(d.lineSpace,"selectstart",function(fe){sA(d,fe)||Wn(fe)}),mt(F,"compositionstart",function(){var fe=E.getCursor("from");B.composing&&B.composing.range.clear(),B.composing={start:fe,range:E.markText(fe,E.getCursor("to"),{className:"CodeMirror-composing"})}}),mt(F,"compositionend",function(){B.composing&&(B.poll(),B.composing.range.clear(),B.composing=null)})},Gs.prototype.createField=function(d){this.wrapper=Af(),this.textarea=this.wrapper.firstChild;var v=this.cm.options;Hf(this.textarea,v.spellcheck,v.autocorrect,v.autocapitalize)},Gs.prototype.screenReaderLabelChanged=function(d){d?this.textarea.setAttribute("aria-label",d):this.textarea.removeAttribute("aria-label")},Gs.prototype.prepareSelection=function(){var d=this.cm,v=d.display,B=d.doc,E=xh(d);if(d.options.moveInputWithCursor){var F=vn(d,B.sel.primary().head,"div"),Z=v.wrapper.getBoundingClientRect(),fe=v.lineDiv.getBoundingClientRect();E.teTop=Math.max(0,Math.min(v.wrapper.clientHeight-10,F.top+fe.top-Z.top)),E.teLeft=Math.max(0,Math.min(v.wrapper.clientWidth-10,F.left+fe.left-Z.left))}return E},Gs.prototype.showSelection=function(d){var v=this.cm,B=v.display;Ve(B.cursorDiv,d.cursors),Ve(B.selectionDiv,d.selection),d.teTop!=null&&(this.wrapper.style.top=d.teTop+"px",this.wrapper.style.left=d.teLeft+"px")},Gs.prototype.reset=function(d){if(!(this.contextMenuPending||this.composing&&d)){var v=this.cm;if(this.resetting=!0,v.somethingSelected()){this.prevInput="";var B=v.getSelection();this.textarea.value=B,v.state.focused&&tt(this.textarea),p&&C>=9&&(this.hasSelection=B)}else d||(this.prevInput=this.textarea.value="",p&&C>=9&&(this.hasSelection=null));this.resetting=!1}},Gs.prototype.getField=function(){return this.textarea},Gs.prototype.supportsTouch=function(){return!1},Gs.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||nt(gt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Gs.prototype.blur=function(){this.textarea.blur()},Gs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Gs.prototype.receivedFocus=function(){this.slowPoll()},Gs.prototype.slowPoll=function(){var d=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){d.poll(),d.cm.state.focused&&d.slowPoll()})},Gs.prototype.fastPoll=function(){var d=!1,v=this;v.pollingFast=!0;function B(){var E=v.poll();!E&&!d?(d=!0,v.polling.set(60,B)):(v.pollingFast=!1,v.slowPoll())}v.polling.set(20,B)},Gs.prototype.poll=function(){var d=this,v=this.cm,B=this.textarea,E=this.prevInput;if(this.contextMenuPending||this.resetting||!v.state.focused||Zn(B)&&!E&&!this.composing||v.isReadOnly()||v.options.disableInput||v.state.keySeq)return!1;var F=B.value;if(F==E&&!v.somethingSelected())return!1;if(p&&C>=9&&this.hasSelection===F||$&&/[\uf700-\uf7ff]/.test(F))return v.display.input.reset(),!1;if(v.doc.sel==v.display.selForContextMenu){var Z=F.charCodeAt(0);if(Z==8203&&!E&&(E=""),Z==8666)return this.reset(),this.cm.execCommand("undo")}for(var fe=0,_e=Math.min(E.length,F.length);fe<_e&&E.charCodeAt(fe)==F.charCodeAt(fe);)++fe;return Qa(v,function(){el(v,F.slice(fe),E.length-fe,null,d.composing?"*compose":null),F.length>1e3||F.indexOf(`
`)>-1?B.value=d.prevInput="":d.prevInput=F,d.composing&&(d.composing.range.clear(),d.composing.range=v.markText(d.composing.start,v.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Gs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Gs.prototype.onKeyPress=function(){p&&C>=9&&(this.hasSelection=null),this.fastPoll()},Gs.prototype.onContextMenu=function(d){var v=this,B=v.cm,E=B.display,F=v.textarea;v.contextMenuPending&&v.contextMenuPending();var Z=Wa(B,d),fe=E.scroller.scrollTop;if(!Z||j)return;var _e=B.options.resetSelectionOnContextMenu;_e&&B.doc.sel.contains(Z)==-1&&Jo(B,Aa)(B.doc,Wu(Z),Ot);var ke=F.style.cssText,Le=v.wrapper.style.cssText,vt=v.wrapper.offsetParent.getBoundingClientRect();v.wrapper.style.cssText="position: static",F.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(d.clientY-vt.top-5)+"px; left: "+(d.clientX-vt.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var It;M&&(It=F.ownerDocument.defaultView.scrollY),E.input.focus(),M&&F.ownerDocument.defaultView.scrollTo(null,It),E.input.reset(),B.somethingSelected()||(F.value=v.prevInput=" "),v.contextMenuPending=Ht,E.selForContextMenu=B.doc.sel,clearTimeout(E.detectingSelectAll);function Jt(){if(F.selectionStart!=null){var Rn=B.somethingSelected(),oi=""+(Rn?F.value:"");F.value="",F.value=oi,v.prevInput=Rn?"":"",F.selectionStart=1,F.selectionEnd=oi.length,E.selForContextMenu=B.doc.sel}}function Ht(){if(v.contextMenuPending==Ht&&(v.contextMenuPending=!1,v.wrapper.style.cssText=Le,F.style.cssText=ke,p&&C<9&&E.scrollbars.setScrollTop(E.scroller.scrollTop=fe),F.selectionStart!=null)){(!p||p&&C<9)&&Jt();var Rn=0,oi=function(){E.selForContextMenu==B.doc.sel&&F.selectionStart==0&&F.selectionEnd>0&&v.prevInput==""?Jo(B,_u)(B):Rn++<10?E.detectingSelectAll=setTimeout(oi,500):(E.selForContextMenu=null,E.input.reset())};E.detectingSelectAll=setTimeout(oi,200)}}if(p&&C>=9&&Jt(),ye){Ei(d);var _n=function(){Tt(window,"mouseup",_n),setTimeout(Ht,20)};mt(window,"mouseup",_n)}else setTimeout(Ht,50)},Gs.prototype.readOnlyChanged=function(d){d||this.reset(),this.textarea.disabled=d=="nocursor",this.textarea.readOnly=!!d},Gs.prototype.setUneditable=function(){},Gs.prototype.needsContentAttribute=!1;function Vf(d,v){if(v=v?Fe(v):{},v.value=d.value,!v.tabindex&&d.tabIndex&&(v.tabindex=d.tabIndex),!v.placeholder&&d.placeholder&&(v.placeholder=d.placeholder),v.autofocus==null){var B=nt(gt(d));v.autofocus=B==d||d.getAttribute("autofocus")!=null&&B==document.body}function E(){d.value=_e.getValue()}var F;if(d.form&&(mt(d.form,"submit",E),!v.leaveSubmitMethodAlone)){var Z=d.form;F=Z.submit;try{var fe=Z.submit=function(){E(),Z.submit=F,Z.submit(),Z.submit=fe}}catch{}}v.finishInit=function(ke){ke.save=E,ke.getTextArea=function(){return d},ke.toTextArea=function(){ke.toTextArea=isNaN,E(),d.parentNode.removeChild(ke.getWrapperElement()),d.style.display="",d.form&&(Tt(d.form,"submit",E),!v.leaveSubmitMethodAlone&&typeof d.form.submit=="function"&&(d.form.submit=F))}},d.style.display="none";var _e=ta(function(ke){return d.parentNode.insertBefore(ke,d.nextSibling)},v);return _e}function a0(d){d.off=Tt,d.on=mt,d.wheelEventPixels=Ff,d.Doc=At,d.splitLines=ko,d.countColumn=Ke,d.findColumn=on,d.isWordChar=Kn,d.Pass=_t,d.signal=it,d.Line=Fl,d.changeEnd=Qu,d.scrollbarModel=gu,d.Pos=rn,d.cmpPos=si,d.modes=ja,d.mimeModes=kr,d.resolveMode=Pa,d.getMode=So,d.modeExtensions=ts,d.extendMode=Tl,d.copyState=co,d.startState=Ka,d.innerMode=QA,d.commands=Is,d.keyMap=Qn,d.keyName=Fo,d.isModifierKey=_o,d.lookupKey=hr,d.normalizeKeyMap=xi,d.StringStream=$i,d.SharedTextMarker=he,d.TextMarker=q,d.LineWidget=_,d.e_preventDefault=Wn,d.e_stopPropagation=Hi,d.e_stop=Ei,d.addClass=be,d.contains=Ct,d.rmClass=Ie,d.keyNames=Xt}Qf(ta),Rd(ta);var s0="iter insert remove copy getEditor constructor".split(" ");for(var cf in At.prototype)At.prototype.hasOwnProperty(cf)&&He(s0,cf)<0&&(ta.prototype[cf]=function(d){return function(){return d.apply(this.doc,arguments)}}(At.prototype[cf]));return ii(At),ta.inputStyles={textarea:Gs,contenteditable:na},ta.defineMode=function(d){!ta.defaults.mode&&d!="null"&&(ta.defaults.mode=d),ji.apply(this,arguments)},ta.defineMIME=yl,ta.defineMode("null",function(){return{token:function(d){return d.skipToEnd()}}}),ta.defineMIME("text/plain","null"),ta.defineExtension=function(d,v){ta.prototype[d]=v},ta.defineDocExtension=function(d,v){At.prototype[d]=v},ta.fromTextArea=Vf,a0(ta),ta.version="5.65.20",ta})}(Tx)),Tx.exports}var _le=z2();const nm=cu(_le);var lk={exports:{}},Ak;function ble(){return Ak||(Ak=1,function(n,e){(function(t){t(z2())})(function(t){t.defineMode("javascript",function(i,r){var a=i.indentUnit,l=r.statementIndent,o=r.jsonld,p=r.json||o,C=r.trackScope!==!1,M=r.typescript,O=r.wordCharacters||/[\w$\xa1-\uffff]/,U=function(){function $e(Eo){return{type:Eo,style:"keyword"}}var Et=$e("keyword a"),xn=$e("keyword b"),Gn=$e("keyword c"),rn=$e("keyword d"),si=$e("operator"),to={type:"atom",style:"atom"};return{if:$e("if"),while:Et,with:Et,else:xn,do:xn,try:xn,finally:xn,return:rn,break:rn,continue:rn,new:$e("new"),delete:Gn,void:Gn,throw:Gn,debugger:$e("debugger"),var:$e("var"),const:$e("var"),let:$e("var"),function:$e("function"),catch:$e("catch"),for:$e("for"),switch:$e("switch"),case:$e("case"),default:$e("default"),in:si,typeof:si,instanceof:si,true:to,false:to,null:to,undefined:to,NaN:to,Infinity:to,this:$e("this"),class:$e("class"),super:$e("atom"),yield:Gn,export:$e("export"),import:$e("import"),extends:Gn,await:Gn}}(),K=/[+\-*&%=<>!?|~^@]/,j=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function W($e){for(var Et=!1,xn,Gn=!1;(xn=$e.next())!=null;){if(!Et){if(xn=="/"&&!Gn)return;xn=="["?Gn=!0:Gn&&xn=="]"&&(Gn=!1)}Et=!Et&&xn=="\\"}}var Y,te;function J($e,Et,xn){return Y=$e,te=xn,Et}function oe($e,Et){var xn=$e.next();if(xn=='"'||xn=="'")return Et.tokenize=ne(xn),Et.tokenize($e,Et);if(xn=="."&&$e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return J("number","number");if(xn=="."&&$e.match(".."))return J("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(xn))return J(xn);if(xn=="="&&$e.eat(">"))return J("=>","operator");if(xn=="0"&&$e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return J("number","number");if(/\d/.test(xn))return $e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),J("number","number");if(xn=="/")return $e.eat("*")?(Et.tokenize=$,$($e,Et)):$e.eat("/")?($e.skipToEnd(),J("comment","comment")):Zo($e,Et,1)?(W($e),$e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),J("regexp","string-2")):($e.eat("="),J("operator","operator",$e.current()));if(xn=="`")return Et.tokenize=ae,ae($e,Et);if(xn=="#"&&$e.peek()=="!")return $e.skipToEnd(),J("meta","meta");if(xn=="#"&&$e.eatWhile(O))return J("variable","property");if(xn=="<"&&$e.match("!--")||xn=="-"&&$e.match("->")&&!/\S/.test($e.string.slice(0,$e.start)))return $e.skipToEnd(),J("comment","comment");if(K.test(xn))return(xn!=">"||!Et.lexical||Et.lexical.type!=">")&&($e.eat("=")?(xn=="!"||xn=="=")&&$e.eat("="):/[<>*+\-|&?]/.test(xn)&&($e.eat(xn),xn==">"&&$e.eat(xn))),xn=="?"&&$e.eat(".")?J("."):J("operator","operator",$e.current());if(O.test(xn)){$e.eatWhile(O);var Gn=$e.current();if(Et.lastType!="."){if(U.propertyIsEnumerable(Gn)){var rn=U[Gn];return J(rn.type,rn.style,Gn)}if(Gn=="async"&&$e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return J("async","keyword",Gn)}return J("variable","variable",Gn)}}function ne($e){return function(Et,xn){var Gn=!1,rn;if(o&&Et.peek()=="@"&&Et.match(j))return xn.tokenize=oe,J("jsonld-keyword","meta");for(;(rn=Et.next())!=null&&!(rn==$e&&!Gn);)Gn=!Gn&&rn=="\\";return Gn||(xn.tokenize=oe),J("string","string")}}function $($e,Et){for(var xn=!1,Gn;Gn=$e.next();){if(Gn=="/"&&xn){Et.tokenize=oe;break}xn=Gn=="*"}return J("comment","comment")}function ae($e,Et){for(var xn=!1,Gn;(Gn=$e.next())!=null;){if(!xn&&(Gn=="`"||Gn=="$"&&$e.eat("{"))){Et.tokenize=oe;break}xn=!xn&&Gn=="\\"}return J("quasi","string-2",$e.current())}var G="([{}])";function ce($e,Et){Et.fatArrowAt&&(Et.fatArrowAt=null);var xn=$e.string.indexOf("=>",$e.start);if(!(xn<0)){if(M){var Gn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec($e.string.slice($e.start,xn));Gn&&(xn=Gn.index)}for(var rn=0,si=!1,to=xn-1;to>=0;--to){var Eo=$e.string.charAt(to),hs=G.indexOf(Eo);if(hs>=0&&hs<3){if(!rn){++to;break}if(--rn==0){Eo=="("&&(si=!0);break}}else if(hs>=3&&hs<6)++rn;else if(O.test(Eo))si=!0;else if(/["'\/`]/.test(Eo))for(;;--to){if(to==0)return;var zs=$e.string.charAt(to-1);if(zs==Eo&&$e.string.charAt(to-2)!="\\"){to--;break}}else if(si&&!rn){++to;break}}si&&!rn&&(Et.fatArrowAt=to)}}var ge={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ye($e,Et,xn,Gn,rn,si){this.indented=$e,this.column=Et,this.type=xn,this.prev=rn,this.info=si,Gn!=null&&(this.align=Gn)}function we($e,Et){if(!C)return!1;for(var xn=$e.localVars;xn;xn=xn.next)if(xn.name==Et)return!0;for(var Gn=$e.context;Gn;Gn=Gn.prev)for(var xn=Gn.vars;xn;xn=xn.next)if(xn.name==Et)return!0}function Ie($e,Et,xn,Gn,rn){var si=$e.cc;for(Se.state=$e,Se.stream=rn,Se.marked=null,Se.cc=si,Se.style=Et,$e.lexical.hasOwnProperty("align")||($e.lexical.align=!0);;){var to=si.length?si.pop():p?He:Ke;if(to(xn,Gn)){for(;si.length&&si[si.length-1].lex;)si.pop()();return Se.marked?Se.marked:xn=="variable"&&we($e,Gn)?"variable-2":Et}}}var Se={state:null,marked:null,cc:null};function Ve(){for(var $e=arguments.length-1;$e>=0;$e--)Se.cc.push(arguments[$e])}function xe(){return Ve.apply(null,arguments),!0}function ze($e,Et){for(var xn=Et;xn;xn=xn.next)if(xn.name==$e)return!0;return!1}function st($e){var Et=Se.state;if(Se.marked="def",!!C){if(Et.context){if(Et.lexical.info=="var"&&Et.context&&Et.context.block){var xn=Ct($e,Et.context);if(xn!=null){Et.context=xn;return}}else if(!ze($e,Et.localVars)){Et.localVars=new Ne($e,Et.localVars);return}}r.globalVars&&!ze($e,Et.globalVars)&&(Et.globalVars=new Ne($e,Et.globalVars))}}function Ct($e,Et){if(Et)if(Et.block){var xn=Ct($e,Et.prev);return xn?xn==Et.prev?Et:new be(xn,Et.vars,!0):null}else return ze($e,Et.vars)?Et:new be(Et.prev,new Ne($e,Et.vars),!1);else return null}function nt($e){return $e=="public"||$e=="private"||$e=="protected"||$e=="abstract"||$e=="readonly"}function be($e,Et,xn){this.prev=$e,this.vars=Et,this.block=xn}function Ne($e,Et){this.name=$e,this.next=Et}var tt=new Ne("this",new Ne("arguments",null));function lt(){Se.state.context=new be(Se.state.context,Se.state.localVars,!1),Se.state.localVars=tt}function kt(){Se.state.context=new be(Se.state.context,Se.state.localVars,!0),Se.state.localVars=null}lt.lex=kt.lex=!0;function gt(){Se.state.localVars=Se.state.context.vars,Se.state.context=Se.state.context.prev}gt.lex=!0;function St($e,Et){var xn=function(){var Gn=Se.state,rn=Gn.indented;if(Gn.lexical.type=="stat")rn=Gn.lexical.indented;else for(var si=Gn.lexical;si&&si.type==")"&&si.align;si=si.prev)rn=si.indented;Gn.lexical=new ye(rn,Se.stream.column(),$e,null,Gn.lexical,Et)};return xn.lex=!0,xn}function Ut(){var $e=Se.state;$e.lexical.prev&&($e.lexical.type==")"&&($e.indented=$e.lexical.indented),$e.lexical=$e.lexical.prev)}Ut.lex=!0;function Fe($e){function Et(xn){return xn==$e?xe():$e==";"||xn=="}"||xn==")"||xn=="]"?Ve():xe(Et)}return Et}function Ke($e,Et){return $e=="var"?xe(St("vardef",Et),Hi,Fe(";"),Ut):$e=="keyword a"?xe(St("form"),_t,Ke,Ut):$e=="keyword b"?xe(St("form"),Ke,Ut):$e=="keyword d"?Se.stream.match(/^\s*$/,!1)?xe():xe(St("stat"),qt,Fe(";"),Ut):$e=="debugger"?xe(Fe(";")):$e=="{"?xe(St("}"),kt,Te,Ut,gt):$e==";"?xe():$e=="if"?(Se.state.lexical.info=="else"&&Se.state.cc[Se.state.cc.length-1]==Ut&&Se.state.cc.pop()(),xe(St("form"),_t,Ke,Ut,wn)):$e=="function"?xe(ko):$e=="for"?xe(St("form"),kt,uo,Ke,gt,Ut):$e=="class"||M&&Et=="interface"?(Se.marked="keyword",xe(St("form",$e=="class"?$e:Et),ja,Ut)):$e=="variable"?M&&Et=="declare"?(Se.marked="keyword",xe(Ke)):M&&(Et=="module"||Et=="enum"||Et=="type")&&Se.stream.match(/^\s*\w/,!1)?(Se.marked="keyword",Et=="enum"?xe(Mi):Et=="type"?xe(Ar,Fe("operator"),Ze,Fe(";")):xe(St("form"),tr,Fe("{"),St("}"),Te,Ut,Ut)):M&&Et=="namespace"?(Se.marked="keyword",xe(St("form"),He,Ke,Ut)):M&&Et=="abstract"?(Se.marked="keyword",xe(Ke)):xe(St("stat"),ei):$e=="switch"?xe(St("form"),_t,Fe("{"),St("}","switch"),kt,Te,Ut,Ut,gt):$e=="case"?xe(He,Fe(":")):$e=="default"?xe(Fe(":")):$e=="catch"?xe(St("form"),lt,Re,Ke,Ut,gt):$e=="export"?xe(St("stat"),Pa,Ut):$e=="import"?xe(St("stat"),ts,Ut):$e=="async"?xe(Ke):Et=="@"?xe(He,Ke):Ve(St("stat"),He,Fe(";"),Ut)}function Re($e){if($e=="(")return xe(zi,Fe(")"))}function He($e,Et){return Ot($e,Et,!1)}function bt($e,Et){return Ot($e,Et,!0)}function _t($e){return $e!="("?Ve():xe(St(")"),qt,Fe(")"),Ut)}function Ot($e,Et,xn){if(Se.state.fatArrowAt==Se.stream.start){var Gn=xn?On:$n;if($e=="(")return xe(lt,St(")"),le(zi,")"),Ut,Fe("=>"),Gn,gt);if($e=="variable")return Ve(lt,tr,Fe("=>"),Gn,gt)}var rn=xn?on:Kt;return ge.hasOwnProperty($e)?xe(rn):$e=="function"?xe(ko,rn):$e=="class"||M&&Et=="interface"?(Se.marked="keyword",xe(St("form"),Cr,Ut)):$e=="keyword c"||$e=="async"?xe(xn?bt:He):$e=="("?xe(St(")"),qt,Fe(")"),Ut,rn):$e=="operator"||$e=="spread"?xe(xn?bt:He):$e=="["?xe(St("]"),$i,Ut,rn):$e=="{"?pe(je,"}",null,rn):$e=="quasi"?Ve(Jn,rn):$e=="new"?xe(Bn(xn)):xe()}function qt($e){return $e.match(/[;\}\)\],]/)?Ve():Ve(He)}function Kt($e,Et){return $e==","?xe(qt):on($e,Et,!1)}function on($e,Et,xn){var Gn=xn==!1?Kt:on,rn=xn==!1?He:bt;if($e=="=>")return xe(lt,xn?On:$n,gt);if($e=="operator")return/\+\+|--/.test(Et)||M&&Et=="!"?xe(Gn):M&&Et=="<"&&Se.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?xe(St(">"),le(Ze,">"),Ut,Gn):Et=="?"?xe(He,Fe(":"),rn):xe(rn);if($e=="quasi")return Ve(Jn,Gn);if($e!=";"){if($e=="(")return pe(bt,")","call",Gn);if($e==".")return xe(Kn,Gn);if($e=="[")return xe(St("]"),qt,Fe("]"),Ut,Gn);if(M&&Et=="as")return Se.marked="keyword",xe(Ze,Gn);if($e=="regexp")return Se.state.lastType=Se.marked="operator",Se.stream.backUp(Se.stream.pos-Se.stream.start-1),xe(rn)}}function Jn($e,Et){return $e!="quasi"?Ve():Et.slice(Et.length-2)!="${"?xe(Jn):xe(qt,Wt)}function Wt($e){if($e=="}")return Se.marked="string-2",Se.state.tokenize=ae,xe(Jn)}function $n($e){return ce(Se.stream,Se.state),Ve($e=="{"?Ke:He)}function On($e){return ce(Se.stream,Se.state),Ve($e=="{"?Ke:bt)}function Bn($e){return function(Et){return Et=="."?xe($e?Oi:In):Et=="variable"&&M?xe(Mn,$e?on:Kt):Ve($e?bt:He)}}function In($e,Et){if(Et=="target")return Se.marked="keyword",xe(Kt)}function Oi($e,Et){if(Et=="target")return Se.marked="keyword",xe(on)}function ei($e){return $e==":"?xe(Ut,Ke):Ve(Kt,Fe(";"),Ut)}function Kn($e){if($e=="variable")return Se.marked="property",xe()}function je($e,Et){if($e=="async")return Se.marked="property",xe(je);if($e=="variable"||Se.style=="keyword"){if(Se.marked="property",Et=="get"||Et=="set")return xe(de);var xn;return M&&Se.state.fatArrowAt==Se.stream.start&&(xn=Se.stream.match(/^\s*:\s*/,!1))&&(Se.state.fatArrowAt=Se.stream.pos+xn[0].length),xe(re)}else{if($e=="number"||$e=="string")return Se.marked=o?"property":Se.style+" property",xe(re);if($e=="jsonld-keyword")return xe(re);if(M&&nt(Et))return Se.marked="keyword",xe(je);if($e=="[")return xe(He,We,Fe("]"),re);if($e=="spread")return xe(bt,re);if(Et=="*")return Se.marked="keyword",xe(je);if($e==":")return Ve(re)}}function de($e){return $e!="variable"?Ve(re):(Se.marked="property",xe(ko))}function re($e){if($e==":")return xe(bt);if($e=="(")return Ve(ko)}function le($e,Et,xn){function Gn(rn,si){if(xn?xn.indexOf(rn)>-1:rn==","){var to=Se.state.lexical;return to.info=="call"&&(to.pos=(to.pos||0)+1),xe(function(Eo,hs){return Eo==Et||hs==Et?Ve():Ve($e)},Gn)}return rn==Et||si==Et?xe():xn&&xn.indexOf(";")>-1?Ve($e):xe(Fe(Et))}return function(rn,si){return rn==Et||si==Et?xe():Ve($e,Gn)}}function pe($e,Et,xn){for(var Gn=3;Gn<arguments.length;Gn++)Se.cc.push(arguments[Gn]);return xe(St(Et,xn),le($e,Et),Ut)}function Te($e){return $e=="}"?xe():Ve(Ke,Te)}function We($e,Et){if(M){if($e==":")return xe(Ze);if(Et=="?")return xe(We)}}function dt($e,Et){if(M&&($e==":"||Et=="in"))return xe(Ze)}function Ye($e){if(M&&$e==":")return Se.stream.match(/^\s*\w+\s+is\b/,!1)?xe(He,De,Ze):xe(Ze)}function De($e,Et){if(Et=="is")return Se.marked="keyword",xe()}function Ze($e,Et){if(Et=="keyof"||Et=="typeof"||Et=="infer"||Et=="readonly")return Se.marked="keyword",xe(Et=="typeof"?bt:Ze);if($e=="variable"||Et=="void")return Se.marked="type",xe(Dn);if(Et=="|"||Et=="&")return xe(Ze);if($e=="string"||$e=="number"||$e=="atom")return xe(Dn);if($e=="[")return xe(St("]"),le(Ze,"]",","),Ut,Dn);if($e=="{")return xe(St("}"),mt,Ut,Dn);if($e=="(")return xe(le(en,")"),g,Dn);if($e=="<")return xe(le(Ze,">"),Ze);if($e=="quasi")return Ve(Tt,Dn)}function g($e){if($e=="=>")return xe(Ze)}function mt($e){return $e.match(/[\}\)\]]/)?xe():$e==","||$e==";"?xe(mt):Ve(ht,mt)}function ht($e,Et){if($e=="variable"||Se.style=="keyword")return Se.marked="property",xe(ht);if(Et=="?"||$e=="number"||$e=="string")return xe(ht);if($e==":")return xe(Ze);if($e=="[")return xe(Fe("variable"),dt,Fe("]"),ht);if($e=="(")return Ve(Zn,ht);if(!$e.match(/[;\}\)\],]/))return xe()}function Tt($e,Et){return $e!="quasi"?Ve():Et.slice(Et.length-2)!="${"?xe(Tt):xe(Ze,it)}function it($e){if($e=="}")return Se.marked="string-2",Se.state.tokenize=ae,xe(Tt)}function en($e,Et){return $e=="variable"&&Se.stream.match(/^\s*[?:]/,!1)||Et=="?"?xe(en):$e==":"?xe(Ze):$e=="spread"?xe(en):Ve(Ze)}function Dn($e,Et){if(Et=="<")return xe(St(">"),le(Ze,">"),Ut,Dn);if(Et=="|"||$e=="."||Et=="&")return xe(Ze);if($e=="[")return xe(Ze,Fe("]"),Dn);if(Et=="extends"||Et=="implements")return Se.marked="keyword",xe(Ze);if(Et=="?")return xe(Ze,Fe(":"),Ze)}function Mn($e,Et){if(Et=="<")return xe(St(">"),le(Ze,">"),Ut,Dn)}function ii(){return Ve(Ze,Wn)}function Wn($e,Et){if(Et=="=")return xe(Ze)}function Hi($e,Et){return Et=="enum"?(Se.marked="keyword",xe(Mi)):Ve(tr,We,ti,Qi)}function tr($e,Et){if(M&&nt(Et))return Se.marked="keyword",xe(tr);if($e=="variable")return st(Et),xe();if($e=="spread")return xe(tr);if($e=="[")return pe(hi,"]");if($e=="{")return pe(Ei,"}")}function Ei($e,Et){return $e=="variable"&&!Se.stream.match(/^\s*:/,!1)?(st(Et),xe(ti)):($e=="variable"&&(Se.marked="property"),$e=="spread"?xe(tr):$e=="}"?Ve():$e=="["?xe(He,Fe("]"),Fe(":"),Ei):xe(Fe(":"),tr,ti))}function hi(){return Ve(tr,ti)}function ti($e,Et){if(Et=="=")return xe(bt)}function Qi($e){if($e==",")return xe(Hi)}function wn($e,Et){if($e=="keyword b"&&Et=="else")return xe(St("form","else"),Ke,Ut)}function uo($e,Et){if(Et=="await")return xe(uo);if($e=="(")return xe(St(")"),Vi,Ut)}function Vi($e){return $e=="var"?xe(Hi,ya):$e=="variable"?xe(ya):Ve(ya)}function ya($e,Et){return $e==")"?xe():$e==";"?xe(ya):Et=="in"||Et=="of"?(Se.marked="keyword",xe(He,ya)):Ve(He,ya)}function ko($e,Et){if(Et=="*")return Se.marked="keyword",xe(ko);if($e=="variable")return st(Et),xe(ko);if($e=="(")return xe(lt,St(")"),le(zi,")"),Ut,Ye,Ke,gt);if(M&&Et=="<")return xe(St(">"),le(ii,">"),Ut,ko)}function Zn($e,Et){if(Et=="*")return Se.marked="keyword",xe(Zn);if($e=="variable")return st(Et),xe(Zn);if($e=="(")return xe(lt,St(")"),le(zi,")"),Ut,Ye,gt);if(M&&Et=="<")return xe(St(">"),le(ii,">"),Ut,Zn)}function Ar($e,Et){if($e=="keyword"||$e=="variable")return Se.marked="type",xe(Ar);if(Et=="<")return xe(St(">"),le(ii,">"),Ut)}function zi($e,Et){return Et=="@"&&xe(He,zi),$e=="spread"?xe(zi):M&&nt(Et)?(Se.marked="keyword",xe(zi)):M&&$e=="this"?xe(We,ti):Ve(tr,We,ti)}function Cr($e,Et){return $e=="variable"?ja($e,Et):kr($e,Et)}function ja($e,Et){if($e=="variable")return st(Et),xe(kr)}function kr($e,Et){if(Et=="<")return xe(St(">"),le(ii,">"),Ut,kr);if(Et=="extends"||Et=="implements"||M&&$e==",")return Et=="implements"&&(Se.marked="keyword"),xe(M?Ze:He,kr);if($e=="{")return xe(St("}"),ji,Ut)}function ji($e,Et){if($e=="async"||$e=="variable"&&(Et=="static"||Et=="get"||Et=="set"||M&&nt(Et))&&Se.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return Se.marked="keyword",xe(ji);if($e=="variable"||Se.style=="keyword")return Se.marked="property",xe(yl,ji);if($e=="number"||$e=="string")return xe(yl,ji);if($e=="[")return xe(He,We,Fe("]"),yl,ji);if(Et=="*")return Se.marked="keyword",xe(ji);if(M&&$e=="(")return Ve(Zn,ji);if($e==";"||$e==",")return xe(ji);if($e=="}")return xe();if(Et=="@")return xe(He,ji)}function yl($e,Et){if(Et=="!"||Et=="?")return xe(yl);if($e==":")return xe(Ze,ti);if(Et=="=")return xe(bt);var xn=Se.state.lexical.prev,Gn=xn&&xn.info=="interface";return Ve(Gn?Zn:ko)}function Pa($e,Et){return Et=="*"?(Se.marked="keyword",xe(Ka,Fe(";"))):Et=="default"?(Se.marked="keyword",xe(He,Fe(";"))):$e=="{"?xe(le(So,"}"),Ka,Fe(";")):Ve(Ke)}function So($e,Et){if(Et=="as")return Se.marked="keyword",xe(Fe("variable"));if($e=="variable")return Ve(bt,So)}function ts($e){return $e=="string"?xe():$e=="("?Ve(He):$e=="."?Ve(Kt):Ve(Tl,co,Ka)}function Tl($e,Et){return $e=="{"?pe(Tl,"}"):($e=="variable"&&st(Et),Et=="*"&&(Se.marked="keyword"),xe(QA))}function co($e){if($e==",")return xe(Tl,co)}function QA($e,Et){if(Et=="as")return Se.marked="keyword",xe(Tl)}function Ka($e,Et){if(Et=="from")return Se.marked="keyword",xe(He)}function $i($e){return $e=="]"?xe():Ve(le(bt,"]"))}function Mi(){return Ve(St("form"),tr,Fe("{"),St("}"),le(cs,"}"),Ut,Ut)}function cs(){return Ve(tr,ti)}function Sa($e,Et){return $e.lastType=="operator"||$e.lastType==","||K.test(Et.charAt(0))||/[,.]/.test(Et.charAt(0))}function Zo($e,Et,xn){return Et.tokenize==oe&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Et.lastType)||Et.lastType=="quasi"&&/\{\s*$/.test($e.string.slice(0,$e.pos-(xn||0)))}return{startState:function($e){var Et={tokenize:oe,lastType:"sof",cc:[],lexical:new ye(($e||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&new be(null,null,!1),indented:$e||0};return r.globalVars&&typeof r.globalVars=="object"&&(Et.globalVars=r.globalVars),Et},token:function($e,Et){if($e.sol()&&(Et.lexical.hasOwnProperty("align")||(Et.lexical.align=!1),Et.indented=$e.indentation(),ce($e,Et)),Et.tokenize!=$&&$e.eatSpace())return null;var xn=Et.tokenize($e,Et);return Y=="comment"?xn:(Et.lastType=Y=="operator"&&(te=="++"||te=="--")?"incdec":Y,Ie(Et,xn,Y,te,$e))},indent:function($e,Et){if($e.tokenize==$||$e.tokenize==ae)return t.Pass;if($e.tokenize!=oe)return 0;var xn=Et&&Et.charAt(0),Gn=$e.lexical,rn;if(!/^\s*else\b/.test(Et))for(var si=$e.cc.length-1;si>=0;--si){var to=$e.cc[si];if(to==Ut)Gn=Gn.prev;else if(to!=wn&&to!=gt)break}for(;(Gn.type=="stat"||Gn.type=="form")&&(xn=="}"||(rn=$e.cc[$e.cc.length-1])&&(rn==Kt||rn==on)&&!/^[,\.=+\-*:?[\(]/.test(Et));)Gn=Gn.prev;l&&Gn.type==")"&&Gn.prev.type=="stat"&&(Gn=Gn.prev);var Eo=Gn.type,hs=xn==Eo;return Eo=="vardef"?Gn.indented+($e.lastType=="operator"||$e.lastType==","?Gn.info.length+1:0):Eo=="form"&&xn=="{"?Gn.indented:Eo=="form"?Gn.indented+a:Eo=="stat"?Gn.indented+(Sa($e,Et)?l||a:0):Gn.info=="switch"&&!hs&&r.doubleIndentSwitch!=!1?Gn.indented+(/^(?:case|default)\b/.test(Et)?a:2*a):Gn.align?Gn.column+(hs?0:1):Gn.indented+(hs?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:o,jsonMode:p,expressionAllowed:Zo,skipExpression:function($e){Ie($e,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),lk.exports}ble();var uk={exports:{}},ck;function xle(){return ck||(ck=1,function(n,e){(function(t){t(z2())})(function(t){var i="CodeMirror-lint-markers",r="CodeMirror-lint-line-";function a(G,ce,ge){var ye=document.createElement("div");ye.className="CodeMirror-lint-tooltip cm-s-"+G.options.theme,ye.appendChild(ge.cloneNode(!0)),G.state.lint.options.selfContain?G.getWrapperElement().appendChild(ye):document.body.appendChild(ye);function we(Ie){if(!ye.parentNode)return t.off(document,"mousemove",we);var Se=Math.max(0,Ie.clientY-ye.offsetHeight-5),Ve=Math.max(0,Math.min(Ie.clientX+5,ye.ownerDocument.defaultView.innerWidth-ye.offsetWidth));ye.style.top=Se+"px",ye.style.left=Ve+"px"}return t.on(document,"mousemove",we),we(ce),ye.style.opacity!=null&&(ye.style.opacity=1),ye}function l(G){G.parentNode&&G.parentNode.removeChild(G)}function o(G){G.parentNode&&(G.style.opacity==null&&l(G),G.style.opacity=0,setTimeout(function(){l(G)},600))}function p(G,ce,ge,ye){var we=a(G,ce,ge);function Ie(){t.off(ye,"mouseout",Ie),we&&(o(we),we=null)}var Se=setInterval(function(){if(we)for(var Ve=ye;;Ve=Ve.parentNode){if(Ve&&Ve.nodeType==11&&(Ve=Ve.host),Ve==document.body)return;if(!Ve){Ie();break}}if(!we)return clearInterval(Se)},400);t.on(ye,"mouseout",Ie)}function C(G,ce,ge){this.marked=[],ce instanceof Function&&(ce={getAnnotations:ce}),(!ce||ce===!0)&&(ce={}),this.options={},this.linterOptions=ce.options||{};for(var ye in M)this.options[ye]=M[ye];for(var ye in ce)M.hasOwnProperty(ye)?ce[ye]!=null&&(this.options[ye]=ce[ye]):ce.options||(this.linterOptions[ye]=ce[ye]);this.timeout=null,this.hasGutter=ge,this.onMouseOver=function(we){ae(G,we)},this.waitingFor=0}var M={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function O(G){var ce=G.state.lint;ce.hasGutter&&G.clearGutter(i),ce.options.highlightLines&&U(G);for(var ge=0;ge<ce.marked.length;++ge)ce.marked[ge].clear();ce.marked.length=0}function U(G){G.eachLine(function(ce){var ge=ce.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(ce.wrapClass);ge&&G.removeLineClass(ce,"wrap",ge[0])})}function K(G,ce,ge,ye,we){var Ie=document.createElement("div"),Se=Ie;return Ie.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+ge,ye&&(Se=Ie.appendChild(document.createElement("div")),Se.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),we!=!1&&t.on(Se,"mouseover",function(Ve){p(G,Ve,ce,Se)}),Ie}function j(G,ce){return G=="error"?G:ce}function W(G){for(var ce=[],ge=0;ge<G.length;++ge){var ye=G[ge],we=ye.from.line;(ce[we]||(ce[we]=[])).push(ye)}return ce}function Y(G){var ce=G.severity;ce||(ce="error");var ge=document.createElement("div");return ge.className="CodeMirror-lint-message CodeMirror-lint-message-"+ce,typeof G.messageHTML<"u"?ge.innerHTML=G.messageHTML:ge.appendChild(document.createTextNode(G.message)),ge}function te(G,ce){var ge=G.state.lint,ye=++ge.waitingFor;function we(){ye=-1,G.off("change",we)}G.on("change",we),ce(G.getValue(),function(Ie,Se){G.off("change",we),ge.waitingFor==ye&&(Se&&Ie instanceof t&&(Ie=Se),G.operation(function(){oe(G,Ie)}))},ge.linterOptions,G)}function J(G){var ce=G.state.lint;if(ce){var ge=ce.options,ye=ge.getAnnotations||G.getHelper(t.Pos(0,0),"lint");if(ye)if(ge.async||ye.async)te(G,ye);else{var we=ye(G.getValue(),ce.linterOptions,G);if(!we)return;we.then?we.then(function(Ie){G.operation(function(){oe(G,Ie)})}):G.operation(function(){oe(G,we)})}}}function oe(G,ce){var ge=G.state.lint;if(ge){var ye=ge.options;O(G);for(var we=W(ce),Ie=0;Ie<we.length;++Ie){var Se=we[Ie];if(Se){for(var Ve=null,xe=ge.hasGutter&&document.createDocumentFragment(),ze=0;ze<Se.length;++ze){var st=Se[ze],Ct=st.severity;Ct||(Ct="error"),Ve=j(Ve,Ct),ye.formatAnnotation&&(st=ye.formatAnnotation(st)),ge.hasGutter&&xe.appendChild(Y(st)),st.to&&ge.marked.push(G.markText(st.from,st.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+Ct,__annotation:st}))}ge.hasGutter&&G.setGutterMarker(Ie,i,K(G,xe,Ve,Se.length>1,ye.tooltips)),ye.highlightLines&&G.addLineClass(Ie,"wrap",r+Ve)}}ye.onUpdateLinting&&ye.onUpdateLinting(ce,we,G)}}function ne(G){var ce=G.state.lint;ce&&(clearTimeout(ce.timeout),ce.timeout=setTimeout(function(){J(G)},ce.options.delay))}function $(G,ce,ge){for(var ye=ge.target||ge.srcElement,we=document.createDocumentFragment(),Ie=0;Ie<ce.length;Ie++){var Se=ce[Ie];we.appendChild(Y(Se))}p(G,ge,we,ye)}function ae(G,ce){var ge=ce.target||ce.srcElement;if(/\bCodeMirror-lint-mark-/.test(ge.className)){for(var ye=ge.getBoundingClientRect(),we=(ye.left+ye.right)/2,Ie=(ye.top+ye.bottom)/2,Se=G.findMarksAt(G.coordsChar({left:we,top:Ie},"client")),Ve=[],xe=0;xe<Se.length;++xe){var ze=Se[xe].__annotation;ze&&Ve.push(ze)}Ve.length&&$(G,Ve,ce)}}t.defineOption("lint",!1,function(G,ce,ge){if(ge&&ge!=t.Init&&(O(G),G.state.lint.options.lintOnChange!==!1&&G.off("change",ne),t.off(G.getWrapperElement(),"mouseover",G.state.lint.onMouseOver),clearTimeout(G.state.lint.timeout),delete G.state.lint),ce){for(var ye=G.getOption("gutters"),we=!1,Ie=0;Ie<ye.length;++Ie)ye[Ie]==i&&(we=!0);var Se=G.state.lint=new C(G,ce,we);Se.options.lintOnChange&&G.on("change",ne),Se.options.tooltips!=!1&&Se.options.tooltips!="gutter"&&t.on(G.getWrapperElement(),"mouseover",Se.onMouseOver),J(G)}}),t.defineExtension("performLint",function(){J(this)})})}()),uk.exports}xle();var hk={exports:{}},dk;function Mle(){return dk||(dk=1,function(n,e){(function(t){t(z2())})(function(t){var i=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),r=t.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function l(U){return U&&U.bracketRegex||/[(){}[\]]/}function o(U,K,j){var W=U.getLineHandle(K.line),Y=K.ch-1,te=j&&j.afterCursor;te==null&&(te=/(^| )cm-fat-cursor($| )/.test(U.getWrapperElement().className));var J=l(j),oe=!te&&Y>=0&&J.test(W.text.charAt(Y))&&a[W.text.charAt(Y)]||J.test(W.text.charAt(Y+1))&&a[W.text.charAt(++Y)];if(!oe)return null;var ne=oe.charAt(1)==">"?1:-1;if(j&&j.strict&&ne>0!=(Y==K.ch))return null;var $=U.getTokenTypeAt(r(K.line,Y+1)),ae=p(U,r(K.line,Y+(ne>0?1:0)),ne,$,j);return ae==null?null:{from:r(K.line,Y),to:ae&&ae.pos,match:ae&&ae.ch==oe.charAt(0),forward:ne>0}}function p(U,K,j,W,Y){for(var te=Y&&Y.maxScanLineLength||1e4,J=Y&&Y.maxScanLines||1e3,oe=[],ne=l(Y),$=j>0?Math.min(K.line+J,U.lastLine()+1):Math.max(U.firstLine()-1,K.line-J),ae=K.line;ae!=$;ae+=j){var G=U.getLine(ae);if(G){var ce=j>0?0:G.length-1,ge=j>0?G.length:-1;if(!(G.length>te))for(ae==K.line&&(ce=K.ch-(j<0?1:0));ce!=ge;ce+=j){var ye=G.charAt(ce);if(ne.test(ye)&&(W===void 0||(U.getTokenTypeAt(r(ae,ce+1))||"")==(W||""))){var we=a[ye];if(we&&we.charAt(1)==">"==j>0)oe.push(ye);else if(oe.length)oe.pop();else return{pos:r(ae,ce),ch:ye}}}}}return ae-j==(j>0?U.lastLine():U.firstLine())?!1:null}function C(U,K,j){for(var W=U.state.matchBrackets.maxHighlightLineLength||1e3,Y=j&&j.highlightNonMatching,te=[],J=U.listSelections(),oe=0;oe<J.length;oe++){var ne=J[oe].empty()&&o(U,J[oe].head,j);if(ne&&(ne.match||Y!==!1)&&U.getLine(ne.from.line).length<=W){var $=ne.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";te.push(U.markText(ne.from,r(ne.from.line,ne.from.ch+1),{className:$})),ne.to&&U.getLine(ne.to.line).length<=W&&te.push(U.markText(ne.to,r(ne.to.line,ne.to.ch+1),{className:$}))}}if(te.length){i&&U.state.focused&&U.focus();var ae=function(){U.operation(function(){for(var G=0;G<te.length;G++)te[G].clear()})};if(K)setTimeout(ae,800);else return ae}}function M(U){U.operation(function(){U.state.matchBrackets.currentlyHighlighted&&(U.state.matchBrackets.currentlyHighlighted(),U.state.matchBrackets.currentlyHighlighted=null),U.state.matchBrackets.currentlyHighlighted=C(U,!1,U.state.matchBrackets)})}function O(U){U.state.matchBrackets&&U.state.matchBrackets.currentlyHighlighted&&(U.state.matchBrackets.currentlyHighlighted(),U.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(U,K,j){j&&j!=t.Init&&(U.off("cursorActivity",M),U.off("focus",M),U.off("blur",O),O(U)),K&&(U.state.matchBrackets=typeof K=="object"?K:{},U.on("cursorActivity",M),U.on("focus",M),U.on("blur",O))}),t.defineExtension("matchBrackets",function(){C(this,!0)}),t.defineExtension("findMatchingBracket",function(U,K,j){return(j||typeof K=="boolean")&&(j?(j.strict=K,K=j):K=K?{strict:!0}:null),o(this,U,K)}),t.defineExtension("scanForBracket",function(U,K,j,W){return p(this,U,K,j,W)})})}()),hk.exports}Mle();const wle=/("(?:[^\\"]|\\.)*")|[:,]/g;function fN(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:r}=e;return function a(l,o,p){l&&typeof l.toJSON=="function"&&(l=l.toJSON());const C=JSON.stringify(l,r);if(C===void 0)return C;const M=i-o.length-p;if(C.length<=M){const O=C.replace(wle,(U,K)=>K||`${U} `);if(O.length<=M)return O}if(r!=null&&(l=JSON.parse(C),r=void 0),typeof l=="object"&&l!==null){const O=o+t,U=[];let K=0,j,W;if(Array.isArray(l)){j="[",W="]";const{length:Y}=l;for(;K<Y;K++)U.push(a(l[K],O,K===Y-1?0:1)||"null")}else{j="{",W="}";const Y=Object.keys(l),{length:te}=Y;for(;K<te;K++){const J=Y[K],oe=`${JSON.stringify(J)}: `,ne=a(l[J],O,oe.length+(K===te-1?0:1));ne!==void 0&&U.push(oe+ne)}}if(U.length>0)return[j,t+U.join(`,
${O}`),W].join(`
${o}`)}return C}(n,"",0)}var GC={exports:{}},Sle=GC.exports,fk;function Ele(){return fk||(fk=1,function(n,e){(function(t,i){i(e)})(Sle,function(t){const i={isWhiteSpace:function(be){return be===" "||be===""||be==="\uFEFF"||be>="	"&&be<="\r"||be===""||be>=""&&be<=""||be==="\u2028"||be==="\u2029"||be===""||be===""||be===""},isWhiteSpaceJSON:function(be){return be===" "||be==="	"||be===`
`||be==="\r"},isLineTerminator:function(be){return be===`
`||be==="\r"||be==="\u2028"||be==="\u2029"},isLineTerminatorJSON:function(be){return be===`
`||be==="\r"},isIdentifierStart:function(be){return be==="$"||be==="_"||be>="A"&&be<="Z"||be>="a"&&be<="z"||be>=""&&i.NonAsciiIdentifierStart.test(be)},isIdentifierPart:function(be){return be==="$"||be==="_"||be>="A"&&be<="Z"||be>="a"&&be<="z"||be>="0"&&be<="9"||be>=""&&i.NonAsciiIdentifierPart.test(be)},NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/};function r(nt){return nt>="0"&&nt<="9"||nt>="A"&&nt<="F"||nt>="a"&&nt<="f"}function a(nt){return nt>="0"&&nt<="7"}function l(nt){return nt>="0"&&nt<="9"}function o(nt){return nt.charCodeAt(0)===65279}const p={"'":"'",'"':'"',"\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v","/":"/"},C=Object.hasOwn,M={};function O(nt,be){(typeof nt!="string"||!(nt instanceof String))&&(nt=String(nt));const Ne=be.mode==="json5",tt=be.ignoreBOM,lt=be.ignoreComments||be.mode==="cjson"||Ne,kt=be.ignoreTrailingCommas||Ne,gt=be.ignoreProtoKey,St=be.ignorePrototypeKeys,Ut=be.allowSingleQuotedStrings||Ne,Fe=be.allowDuplicateObjectKeys,Ke=be.reviver,Re=be.tokenize,He=be.rawTokens,bt=be.tokenLocations,_t=be.tokenPaths,Ot=Ne?i.isLineTerminator:i.isLineTerminatorJSON,qt=Ne?i.isWhiteSpace:i.isWhiteSpaceJSON,Kt=nt.length;let on=0,Jn=0,Wt=0;const $n=[];let On,Bn,In;if(Re){let ht=null,Tt,it;On=function(){if(ht!==null)throw Error("internal error, token overlap");Tt=on+1,it=Wt-Jn+1,ht=Wt},Bn=function(en,Dn){if(ht!==Wt){const Mn={type:en};He&&(Mn.raw=nt.substr(ht,Wt-ht)),Dn!==void 0&&(Mn.value=Dn),bt&&(Mn.location={start:{column:it,line:Tt,offset:ht}}),_t&&(Mn.path=In.slice()),$n.push(Mn)}return ht=null,Dn},_t&&(In=[])}function Oi(){let ht;return Wt<Kt?ht=`Unexpected token ${JSON.stringify(nt[Wt])}`:ht="Unexpected end of input",ht}function ei(ht){const Tt=Wt-Jn+1;++on;const it=we(ht,nt,Wt,on,Tt),en=SyntaxError(it.message);return en.reason=ht,en.excerpt=it.excerpt,en.pointer=it.pointer,en.location={start:{column:Tt,line:on,offset:Wt}},en}function Kn(ht){throw ht||(ht=Oi()),ei(ht)}function je(ht){ht==="\r"&&nt[Wt]===`
`&&++Wt,Jn=Wt,++on}function de(){if(Wt<Kt){On?.();const ht=nt[Wt++];if(ht==='"'||ht==="'"&&Ut){const Tt=g(ht);return Bn?.("literal",Tt),Tt}if(ht==="{")return Bn?.("symbol","{"),dt();if(ht==="[")return Bn?.("symbol","["),Ye();if(ht==="-"||ht==="."||l(ht)||Ne&&(ht==="+"||ht==="I"||ht==="N")){const Tt=De();return Bn?.("literal",Tt),Tt}if(ht==="n")return We("null"),Bn?.("literal",null),null;if(ht==="t")return We("true"),Bn?.("literal",!0),!0;if(ht==="f")return We("false"),Bn?.("literal",!1),!1;--Wt,Bn?.();return}}function re(){let ht;if(Wt<Kt){On?.();const Tt=nt[Wt++];if(Tt==='"'||Tt==="'"&&Ut){const it=g(Tt);return Bn?.("literal",it),it}if(Tt==="{")return Bn?.("symbol","{"),dt();if(Tt==="[")return Bn?.("symbol","["),Ye();if(Tt==="."||l(Tt)){const it=De();return Bn?.("literal",it),it}if(Ne&&i.isIdentifierStart(Tt)||Tt==="\\"&&nt[Wt]==="u"){const it=Wt-1;if(ht=Ze(),ht===void 0){Wt=it,Bn?.();return}return Bn?.("literal",ht),ht}--Wt,Bn?.();return}}function le(){o(nt)&&(On?.(),++Wt,Bn?.("bom"))}function pe(){let ht;function Tt(){ht||(ht=!0,--Wt,On(),++Wt)}function it(){ht&&(ht=!1,Bn("whitespace"))}for(;Wt<Kt;){const en=nt[Wt++];if(Ot(en))On&&Tt(),je(en);else if(qt(en))On&&Tt();else if(en==="/"&&lt&&(nt[Wt]==="/"||nt[Wt]==="*"))On&&(--Wt,it(),On(),++Wt),Te(nt[Wt++]==="*"),Bn?.("comment");else{--Wt;break}}Bn&&it()}function Te(ht){for(;Wt<Kt;){const Tt=nt[Wt++];if(Ot(Tt)){if(!ht){--Wt;return}je(Tt)}else if(Tt==="*"&&ht&&nt[Wt]==="/"){++Wt;return}}ht&&Kn("Unclosed multiline comment")}function We(ht){const Tt=Wt;for(let it=1,en=ht.length;it<en;++it)(Wt>=Kt||ht[it]!==nt[Wt])&&(Wt=Tt-1,Kn()),++Wt}function dt(){let ht={},Tt=!1;for(;Wt<Kt;){pe();const it=re();Fe===!1&&C(ht,it)&&Kn(`Duplicate key: "${it}"`),pe(),On?.();let en=nt[Wt++];if(Bn?.("symbol",en),en==="}"&&it===void 0)return!kt&&Tt&&(--Wt,Kn("Trailing comma in object")),ht;if(en===":"&&it!==void 0){pe(),In?.push(it);let Dn=de();if(In?.pop(),Dn===void 0&&Kn(`No value found for key "${it}"`),typeof it!="string"&&(!Ne||typeof it!="number")&&Kn(`Wrong key type: "${it}"`),St&&(it in M||M[it]!=null)||gt&&it==="__proto__"||(Ke&&(Dn=Ke(it,Dn)),Dn!==void 0&&(Tt=!0,it==="__proto__"?ht=Object.assign(JSON.parse(`{"__proto__":${JSON.stringify(Dn)}}`),ht):ht[it]=Dn)),pe(),On?.(),en=nt[Wt++],Bn?.("symbol",en),en!==","){if(en==="}")return ht;Kn()}}else--Wt,Kn()}Kn()}function Ye(){const ht=[];for(;Wt<Kt;){pe(),In?.push(ht.length);let Tt=de();In?.pop(),pe(),On?.();const it=nt[Wt++];if(Bn?.("symbol",it),Tt!==void 0&&(Ke&&(Tt=Ke(String(ht.length),Tt)),Tt===void 0?(++ht.length,Tt=!0):ht.push(Tt)),it===",")Tt===void 0&&Kn("Elisions are not supported");else{if(it==="]")return!kt&&Tt===void 0&&ht.length&&(--Wt,Kn("Trailing comma in array")),ht;--Wt,Kn()}}}function De(){--Wt;let ht=Wt,Tt=nt[Wt++];const it=function(en){const Dn=nt.substr(ht,Wt-ht);let Mn;if(en?Mn=Number.parseInt(Dn.replace(/^0o?/,""),8):Mn=Number(Dn),Number.isNaN(Mn))--Wt,Kn(`Bad numeric literal - "${nt.substr(ht,Wt-ht+1)}"`);else if(!Ne&&!Dn.match(/^-?(0|[1-9][0-9]*)(\.[0-9]+)?(e[+-]?[0-9]+)?$/i))--Wt,Kn(`Non-json numeric literal - "${nt.substr(ht,Wt-ht+1)}"`);else return Mn};if((Tt==="-"||Tt==="+"&&Ne)&&(Tt=nt[Wt++]),Tt==="N"&&Ne)return We("NaN"),Number.NaN;if(Tt==="I"&&Ne)return We("Infinity"),it();if(Tt>="1"&&Tt<="9"){for(;Wt<Kt&&l(nt[Wt]);)++Wt;Tt=nt[Wt++]}if(Tt==="0"){Tt=nt[Wt++];const en=Tt==="o"||Tt==="O"||a(Tt),Dn=Tt==="x"||Tt==="X";if(Ne&&(en||Dn)){for(;Wt<Kt&&(Dn?r:a)(nt[Wt]);)++Wt;let Mn=1;return nt[ht]==="-"?(Mn=-1,++ht):nt[ht]==="+"&&++ht,Mn*it(en)}}if(Tt==="."){for(;Wt<Kt&&l(nt[Wt]);)++Wt;Tt=nt[Wt++]}if(Tt==="e"||Tt==="E"){for(Tt=nt[Wt++],(Tt==="-"||Tt==="+")&&++Wt;Wt<Kt&&l(nt[Wt]);)++Wt;Tt=nt[Wt++]}return--Wt,it()}function Ze(){--Wt;let ht="";for(;Wt<Kt;){let Tt=nt[Wt++];if(Tt==="\\"&&nt[Wt]==="u"&&r(nt[Wt+1])&&r(nt[Wt+2])&&r(nt[Wt+3])&&r(nt[Wt+4])&&(Tt=String.fromCharCode(Number.parseInt(nt.substr(Wt+1,4),16)),Wt+=5),ht.length)if(i.isIdentifierPart(Tt))ht+=Tt;else return--Wt,ht;else if(i.isIdentifierStart(Tt))ht+=Tt;else return}Kn()}function g(ht){let Tt="";for(;Wt<Kt;){let it=nt[Wt++];if(it===ht)return Tt;if(it==="\\")if(Wt>=Kt&&Kn(),it=nt[Wt++],p[it]&&(Ne||it!=="v"&&(it!=="'"||Ut)))Tt+=p[it];else if(Ne&&Ot(it))je(it);else if(it==="u"||it==="x"&&Ne){const en=it==="u"?4:2;for(let Dn=0;Dn<en;++Dn)Wt>=Kt&&Kn(),r(nt[Wt])||Kn("Bad escape sequence"),Wt++;Tt+=String.fromCharCode(Number.parseInt(nt.substr(Wt-en,en),16))}else if(Ne&&a(it)){let en;it<"4"&&a(nt[Wt])&&a(nt[Wt+1])?en=3:a(nt[Wt])?en=2:en=1,Wt+=en-1,Tt+=String.fromCharCode(Number.parseInt(nt.substr(Wt-en,en),8))}else Ne?Tt+=it:(--Wt,Kn());else Ot(it)?Kn():(!Ne&&it.charCodeAt(0)<32&&(--Wt,Kn("Unexpected control character")),Tt+=it)}Kn()}tt&&le(),pe();let mt=de();if(mt!==void 0||Wt<Kt){if(pe(),Wt>=Kt)return Ke&&(mt=Ke("",mt)),Re?$n:mt;Kn()}else Kn(Wt?"No data, only a whitespace":"No data, empty input")}function U(nt,be){return typeof be=="function"?be={reviver:be}:be||(be={}),O(nt,be)}function K(nt,be){be||(be={});const Ne=be.tokenize;be.tokenize=!0;const tt=O(nt,be);return be.tokenize=Ne,tt}function j(nt){return nt.toString().replace(/~/g,"~0").replace(/\//g,"~1")}function W(nt){return nt.length===0?"":`/${nt.map(j).join("/")}`}function Y(nt){return nt.replace(/~1/g,"/").replace(/~0/g,"~")}function te(nt){if(nt==="")return[];if(nt[0]!=="/")throw new Error('Missing initial "/" in the reference');return nt.substr(1).split("/").map(Y)}function J(nt,be){const Ne=nt.substr(0,be).split(/\r?\n/),tt=Ne.length,lt=Ne[tt-1].length+1;return{line:tt,column:lt}}function oe(nt,be,Ne){if(be>1){const tt=/\r?\n/g;let lt;for(;lt=tt.exec(nt);)if(--be===1)return lt.index+Ne}return Ne-1}function ne(nt,be){const Ne=Math.max(0,be-20),tt=nt.substr(Ne,be-Ne);return(be>20?"...":"")+tt.replace(/\r?\n/g,"")}function $(nt,be){let Ne=Math.max(0,be-20);Ne+=be-Ne;const tt=nt.length-Ne;return nt.substr(Ne,Math.min(20,tt)).replace(/\r?\n/g,"")+(tt>20?"...":"")}function ae(nt,be){const Ne=ne(nt,be),tt=$(nt,be),lt=`${new Array(Ne.length+1).join("-")}^`;return{excerpt:Ne+tt,pointer:lt}}function G(nt){let be=nt.message.replace("JSON.parse: ","").replace("JSON Parse error: ","");const Ne=be.charAt(0);return Ne>="a"&&(be=Ne.toUpperCase()+be.substr(1)),be}function ce(nt,be){const Ne=/ in JSON at position (\d+)$/.exec(be);if(Ne){const tt=+Ne[1],lt=J(nt,tt);return{offset:tt,line:lt.line,column:lt.column,reason:be.substr(0,Ne.index)}}}function ge(nt,be){const Ne=/ end of JSON input$/.exec(be);if(Ne){const tt=nt.length,lt=J(nt,tt);return{offset:tt,line:lt.line,column:lt.column,reason:be.substr(0,Ne.index+4)}}}function ye(nt,be){const Ne=/ at line (\d+) column (\d+) of the JSON data$/.exec(be);if(Ne){const tt=+Ne[1],lt=+Ne[2];return{offset:oe(nt,tt,lt),line:tt,column:lt,reason:be.substr(0,Ne.index)}}}function we(nt,be,Ne,tt,lt){const kt=ae(be,Ne),gt=kt.excerpt;let St,Ut;return typeof tt=="number"?(Ut=kt.pointer,St=`Parse error on line ${tt}, column ${lt}:
${gt}
${Ut}
${nt}`):St=`Parse error in JSON input:
${gt}
${nt}`,{message:St,excerpt:gt,pointer:Ut}}function Ie(nt,be){let Ne=G(be);const tt=ce(nt,Ne)||ge(nt,Ne)||ye(nt,Ne);let lt,kt,gt;tt?(lt=tt.offset,kt=tt.line,gt=tt.column,Ne=tt.reason):lt=0,be.reason=Ne;const St=we(Ne,nt,lt,kt,gt);return be.message=St.message,be.excerpt=St.excerpt,St.pointer&&(be.pointer=St.pointer,be.location={start:{column:gt,line:kt,offset:lt}}),be}function Se(nt,be){try{return JSON.parse(nt,be)}catch(Ne){const tt=Ie(nt,Ne);if(Ne.location)throw tt;return U(nt,be)}}const Ve=typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),xe=typeof process<"u"&&process.version.startsWith("v4.");function ze(nt){return nt.ignoreBOM||nt.ignoreComments||nt.ignoreTrailingCommas||nt.allowSingleQuotedStrings||nt.allowDuplicateObjectKeys===!1||nt.ignoreProtoKey||nt.ignorePrototypeKeys||nt.mode==="cjson"||nt.mode==="json5"||Ve||xe}function st(nt){if(typeof nt=="function")return nt;if(nt)return nt.reviver}function Ct(nt,be){return be||(be={}),ze(be)?U(nt,be):Se(nt,st(be))}t.parse=Ct,t.tokenize=K,t.pathToPointer=W,t.pointerToPath=te,t.parseNative=Se,t.parseCustom=U,t.getErrorTexts=we,Object.defineProperty(t,"__esModule",{value:!0})})}(GC,GC.exports)),GC.exports}var Ble=Ele(),kx={exports:{}},Ole=kx.exports,pk;function Ile(){return pk||(pk=1,function(n,e){(function(t,i){n.exports=i()})(Ole,function(){var t=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function i(Ke,Re){return Re={exports:{}},Ke(Re,Re.exports),Re.exports}var r=i(function(Ke){function Re(){var He=0,bt=1,_t=2,Ot=3,qt=4,Kt=5,on=6,Jn=7,Wt=8,$n=9,On=10,Bn=11,In=12,Oi=13,ei=14,Kn=15,je=16,de=17,re=0,le=1,pe=2,Te=3,We=4;function dt(g,mt){return 55296<=g.charCodeAt(mt)&&g.charCodeAt(mt)<=56319&&56320<=g.charCodeAt(mt+1)&&g.charCodeAt(mt+1)<=57343}function Ye(g,mt){mt===void 0&&(mt=0);var ht=g.charCodeAt(mt);if(55296<=ht&&ht<=56319&&mt<g.length-1){var Tt=ht,it=g.charCodeAt(mt+1);return 56320<=it&&it<=57343?(Tt-55296)*1024+(it-56320)+65536:Tt}if(56320<=ht&&ht<=57343&&mt>=1){var Tt=g.charCodeAt(mt-1),it=ht;return 55296<=Tt&&Tt<=56319?(Tt-55296)*1024+(it-56320)+65536:it}return ht}function De(g,mt,ht){var Tt=[g].concat(mt).concat([ht]),it=Tt[Tt.length-2],en=ht,Dn=Tt.lastIndexOf(ei);if(Dn>1&&Tt.slice(1,Dn).every(function(Wn){return Wn==Ot})&&[Ot,Oi,de].indexOf(g)==-1)return pe;var Mn=Tt.lastIndexOf(qt);if(Mn>0&&Tt.slice(1,Mn).every(function(Wn){return Wn==qt})&&[In,qt].indexOf(it)==-1)return Tt.filter(function(Wn){return Wn==qt}).length%2==1?Te:We;if(it==He&&en==bt)return re;if(it==_t||it==He||it==bt)return en==ei&&mt.every(function(Wn){return Wn==Ot})?pe:le;if(en==_t||en==He||en==bt)return le;if(it==on&&(en==on||en==Jn||en==$n||en==On))return re;if((it==$n||it==Jn)&&(en==Jn||en==Wt))return re;if((it==On||it==Wt)&&en==Wt)return re;if(en==Ot||en==Kn)return re;if(en==Kt)return re;if(it==In)return re;var ii=Tt.indexOf(Ot)!=-1?Tt.lastIndexOf(Ot)-1:Tt.length-2;return[Oi,de].indexOf(Tt[ii])!=-1&&Tt.slice(ii+1,-1).every(function(Wn){return Wn==Ot})&&en==ei||it==Kn&&[je,de].indexOf(en)!=-1?re:mt.indexOf(qt)!=-1?pe:it==qt&&en==qt?re:le}this.nextBreak=function(g,mt){if(mt===void 0&&(mt=0),mt<0)return 0;if(mt>=g.length-1)return g.length;for(var ht=Ze(Ye(g,mt)),Tt=[],it=mt+1;it<g.length;it++)if(!dt(g,it-1)){var en=Ze(Ye(g,it));if(De(ht,Tt,en))return it;Tt.push(en)}return g.length},this.splitGraphemes=function(g){for(var mt=[],ht=0,Tt;(Tt=this.nextBreak(g,ht))<g.length;)mt.push(g.slice(ht,Tt)),ht=Tt;return ht<g.length&&mt.push(g.slice(ht)),mt},this.iterateGraphemes=function(g){var mt=0,ht={next:(function(){var Tt,it;return(it=this.nextBreak(g,mt))<g.length?(Tt=g.slice(mt,it),mt=it,{value:Tt,done:!1}):mt<g.length?(Tt=g.slice(mt),mt=g.length,{value:Tt,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(ht[Symbol.iterator]=function(){return ht}),ht},this.countGraphemes=function(g){for(var mt=0,ht=0,Tt;(Tt=this.nextBreak(g,ht))<g.length;)ht=Tt,mt++;return ht<g.length&&mt++,mt};function Ze(g){return 1536<=g&&g<=1541||g==1757||g==1807||g==2274||g==3406||g==69821||70082<=g&&g<=70083||g==72250||72326<=g&&g<=72329||g==73030?In:g==13?He:g==10?bt:0<=g&&g<=9||11<=g&&g<=12||14<=g&&g<=31||127<=g&&g<=159||g==173||g==1564||g==6158||g==8203||8206<=g&&g<=8207||g==8232||g==8233||8234<=g&&g<=8238||8288<=g&&g<=8292||g==8293||8294<=g&&g<=8303||55296<=g&&g<=57343||g==65279||65520<=g&&g<=65528||65529<=g&&g<=65531||113824<=g&&g<=113827||119155<=g&&g<=119162||g==917504||g==917505||917506<=g&&g<=917535||917632<=g&&g<=917759||918e3<=g&&g<=921599?_t:768<=g&&g<=879||1155<=g&&g<=1159||1160<=g&&g<=1161||1425<=g&&g<=1469||g==1471||1473<=g&&g<=1474||1476<=g&&g<=1477||g==1479||1552<=g&&g<=1562||1611<=g&&g<=1631||g==1648||1750<=g&&g<=1756||1759<=g&&g<=1764||1767<=g&&g<=1768||1770<=g&&g<=1773||g==1809||1840<=g&&g<=1866||1958<=g&&g<=1968||2027<=g&&g<=2035||2070<=g&&g<=2073||2075<=g&&g<=2083||2085<=g&&g<=2087||2089<=g&&g<=2093||2137<=g&&g<=2139||2260<=g&&g<=2273||2275<=g&&g<=2306||g==2362||g==2364||2369<=g&&g<=2376||g==2381||2385<=g&&g<=2391||2402<=g&&g<=2403||g==2433||g==2492||g==2494||2497<=g&&g<=2500||g==2509||g==2519||2530<=g&&g<=2531||2561<=g&&g<=2562||g==2620||2625<=g&&g<=2626||2631<=g&&g<=2632||2635<=g&&g<=2637||g==2641||2672<=g&&g<=2673||g==2677||2689<=g&&g<=2690||g==2748||2753<=g&&g<=2757||2759<=g&&g<=2760||g==2765||2786<=g&&g<=2787||2810<=g&&g<=2815||g==2817||g==2876||g==2878||g==2879||2881<=g&&g<=2884||g==2893||g==2902||g==2903||2914<=g&&g<=2915||g==2946||g==3006||g==3008||g==3021||g==3031||g==3072||3134<=g&&g<=3136||3142<=g&&g<=3144||3146<=g&&g<=3149||3157<=g&&g<=3158||3170<=g&&g<=3171||g==3201||g==3260||g==3263||g==3266||g==3270||3276<=g&&g<=3277||3285<=g&&g<=3286||3298<=g&&g<=3299||3328<=g&&g<=3329||3387<=g&&g<=3388||g==3390||3393<=g&&g<=3396||g==3405||g==3415||3426<=g&&g<=3427||g==3530||g==3535||3538<=g&&g<=3540||g==3542||g==3551||g==3633||3636<=g&&g<=3642||3655<=g&&g<=3662||g==3761||3764<=g&&g<=3769||3771<=g&&g<=3772||3784<=g&&g<=3789||3864<=g&&g<=3865||g==3893||g==3895||g==3897||3953<=g&&g<=3966||3968<=g&&g<=3972||3974<=g&&g<=3975||3981<=g&&g<=3991||3993<=g&&g<=4028||g==4038||4141<=g&&g<=4144||4146<=g&&g<=4151||4153<=g&&g<=4154||4157<=g&&g<=4158||4184<=g&&g<=4185||4190<=g&&g<=4192||4209<=g&&g<=4212||g==4226||4229<=g&&g<=4230||g==4237||g==4253||4957<=g&&g<=4959||5906<=g&&g<=5908||5938<=g&&g<=5940||5970<=g&&g<=5971||6002<=g&&g<=6003||6068<=g&&g<=6069||6071<=g&&g<=6077||g==6086||6089<=g&&g<=6099||g==6109||6155<=g&&g<=6157||6277<=g&&g<=6278||g==6313||6432<=g&&g<=6434||6439<=g&&g<=6440||g==6450||6457<=g&&g<=6459||6679<=g&&g<=6680||g==6683||g==6742||6744<=g&&g<=6750||g==6752||g==6754||6757<=g&&g<=6764||6771<=g&&g<=6780||g==6783||6832<=g&&g<=6845||g==6846||6912<=g&&g<=6915||g==6964||6966<=g&&g<=6970||g==6972||g==6978||7019<=g&&g<=7027||7040<=g&&g<=7041||7074<=g&&g<=7077||7080<=g&&g<=7081||7083<=g&&g<=7085||g==7142||7144<=g&&g<=7145||g==7149||7151<=g&&g<=7153||7212<=g&&g<=7219||7222<=g&&g<=7223||7376<=g&&g<=7378||7380<=g&&g<=7392||7394<=g&&g<=7400||g==7405||g==7412||7416<=g&&g<=7417||7616<=g&&g<=7673||7675<=g&&g<=7679||g==8204||8400<=g&&g<=8412||8413<=g&&g<=8416||g==8417||8418<=g&&g<=8420||8421<=g&&g<=8432||11503<=g&&g<=11505||g==11647||11744<=g&&g<=11775||12330<=g&&g<=12333||12334<=g&&g<=12335||12441<=g&&g<=12442||g==42607||42608<=g&&g<=42610||42612<=g&&g<=42621||42654<=g&&g<=42655||42736<=g&&g<=42737||g==43010||g==43014||g==43019||43045<=g&&g<=43046||43204<=g&&g<=43205||43232<=g&&g<=43249||43302<=g&&g<=43309||43335<=g&&g<=43345||43392<=g&&g<=43394||g==43443||43446<=g&&g<=43449||g==43452||g==43493||43561<=g&&g<=43566||43569<=g&&g<=43570||43573<=g&&g<=43574||g==43587||g==43596||g==43644||g==43696||43698<=g&&g<=43700||43703<=g&&g<=43704||43710<=g&&g<=43711||g==43713||43756<=g&&g<=43757||g==43766||g==44005||g==44008||g==44013||g==64286||65024<=g&&g<=65039||65056<=g&&g<=65071||65438<=g&&g<=65439||g==66045||g==66272||66422<=g&&g<=66426||68097<=g&&g<=68099||68101<=g&&g<=68102||68108<=g&&g<=68111||68152<=g&&g<=68154||g==68159||68325<=g&&g<=68326||g==69633||69688<=g&&g<=69702||69759<=g&&g<=69761||69811<=g&&g<=69814||69817<=g&&g<=69818||69888<=g&&g<=69890||69927<=g&&g<=69931||69933<=g&&g<=69940||g==70003||70016<=g&&g<=70017||70070<=g&&g<=70078||70090<=g&&g<=70092||70191<=g&&g<=70193||g==70196||70198<=g&&g<=70199||g==70206||g==70367||70371<=g&&g<=70378||70400<=g&&g<=70401||g==70460||g==70462||g==70464||g==70487||70502<=g&&g<=70508||70512<=g&&g<=70516||70712<=g&&g<=70719||70722<=g&&g<=70724||g==70726||g==70832||70835<=g&&g<=70840||g==70842||g==70845||70847<=g&&g<=70848||70850<=g&&g<=70851||g==71087||71090<=g&&g<=71093||71100<=g&&g<=71101||71103<=g&&g<=71104||71132<=g&&g<=71133||71219<=g&&g<=71226||g==71229||71231<=g&&g<=71232||g==71339||g==71341||71344<=g&&g<=71349||g==71351||71453<=g&&g<=71455||71458<=g&&g<=71461||71463<=g&&g<=71467||72193<=g&&g<=72198||72201<=g&&g<=72202||72243<=g&&g<=72248||72251<=g&&g<=72254||g==72263||72273<=g&&g<=72278||72281<=g&&g<=72283||72330<=g&&g<=72342||72344<=g&&g<=72345||72752<=g&&g<=72758||72760<=g&&g<=72765||g==72767||72850<=g&&g<=72871||72874<=g&&g<=72880||72882<=g&&g<=72883||72885<=g&&g<=72886||73009<=g&&g<=73014||g==73018||73020<=g&&g<=73021||73023<=g&&g<=73029||g==73031||92912<=g&&g<=92916||92976<=g&&g<=92982||94095<=g&&g<=94098||113821<=g&&g<=113822||g==119141||119143<=g&&g<=119145||119150<=g&&g<=119154||119163<=g&&g<=119170||119173<=g&&g<=119179||119210<=g&&g<=119213||119362<=g&&g<=119364||121344<=g&&g<=121398||121403<=g&&g<=121452||g==121461||g==121476||121499<=g&&g<=121503||121505<=g&&g<=121519||122880<=g&&g<=122886||122888<=g&&g<=122904||122907<=g&&g<=122913||122915<=g&&g<=122916||122918<=g&&g<=122922||125136<=g&&g<=125142||125252<=g&&g<=125258||917536<=g&&g<=917631||917760<=g&&g<=917999?Ot:127462<=g&&g<=127487?qt:g==2307||g==2363||2366<=g&&g<=2368||2377<=g&&g<=2380||2382<=g&&g<=2383||2434<=g&&g<=2435||2495<=g&&g<=2496||2503<=g&&g<=2504||2507<=g&&g<=2508||g==2563||2622<=g&&g<=2624||g==2691||2750<=g&&g<=2752||g==2761||2763<=g&&g<=2764||2818<=g&&g<=2819||g==2880||2887<=g&&g<=2888||2891<=g&&g<=2892||g==3007||3009<=g&&g<=3010||3014<=g&&g<=3016||3018<=g&&g<=3020||3073<=g&&g<=3075||3137<=g&&g<=3140||3202<=g&&g<=3203||g==3262||3264<=g&&g<=3265||3267<=g&&g<=3268||3271<=g&&g<=3272||3274<=g&&g<=3275||3330<=g&&g<=3331||3391<=g&&g<=3392||3398<=g&&g<=3400||3402<=g&&g<=3404||3458<=g&&g<=3459||3536<=g&&g<=3537||3544<=g&&g<=3550||3570<=g&&g<=3571||g==3635||g==3763||3902<=g&&g<=3903||g==3967||g==4145||4155<=g&&g<=4156||4182<=g&&g<=4183||g==4228||g==6070||6078<=g&&g<=6085||6087<=g&&g<=6088||6435<=g&&g<=6438||6441<=g&&g<=6443||6448<=g&&g<=6449||6451<=g&&g<=6456||6681<=g&&g<=6682||g==6741||g==6743||6765<=g&&g<=6770||g==6916||g==6965||g==6971||6973<=g&&g<=6977||6979<=g&&g<=6980||g==7042||g==7073||7078<=g&&g<=7079||g==7082||g==7143||7146<=g&&g<=7148||g==7150||7154<=g&&g<=7155||7204<=g&&g<=7211||7220<=g&&g<=7221||g==7393||7410<=g&&g<=7411||g==7415||43043<=g&&g<=43044||g==43047||43136<=g&&g<=43137||43188<=g&&g<=43203||43346<=g&&g<=43347||g==43395||43444<=g&&g<=43445||43450<=g&&g<=43451||43453<=g&&g<=43456||43567<=g&&g<=43568||43571<=g&&g<=43572||g==43597||g==43755||43758<=g&&g<=43759||g==43765||44003<=g&&g<=44004||44006<=g&&g<=44007||44009<=g&&g<=44010||g==44012||g==69632||g==69634||g==69762||69808<=g&&g<=69810||69815<=g&&g<=69816||g==69932||g==70018||70067<=g&&g<=70069||70079<=g&&g<=70080||70188<=g&&g<=70190||70194<=g&&g<=70195||g==70197||70368<=g&&g<=70370||70402<=g&&g<=70403||g==70463||70465<=g&&g<=70468||70471<=g&&g<=70472||70475<=g&&g<=70477||70498<=g&&g<=70499||70709<=g&&g<=70711||70720<=g&&g<=70721||g==70725||70833<=g&&g<=70834||g==70841||70843<=g&&g<=70844||g==70846||g==70849||71088<=g&&g<=71089||71096<=g&&g<=71099||g==71102||71216<=g&&g<=71218||71227<=g&&g<=71228||g==71230||g==71340||71342<=g&&g<=71343||g==71350||71456<=g&&g<=71457||g==71462||72199<=g&&g<=72200||g==72249||72279<=g&&g<=72280||g==72343||g==72751||g==72766||g==72873||g==72881||g==72884||94033<=g&&g<=94078||g==119142||g==119149?Kt:4352<=g&&g<=4447||43360<=g&&g<=43388?on:4448<=g&&g<=4519||55216<=g&&g<=55238?Jn:4520<=g&&g<=4607||55243<=g&&g<=55291?Wt:g==44032||g==44060||g==44088||g==44116||g==44144||g==44172||g==44200||g==44228||g==44256||g==44284||g==44312||g==44340||g==44368||g==44396||g==44424||g==44452||g==44480||g==44508||g==44536||g==44564||g==44592||g==44620||g==44648||g==44676||g==44704||g==44732||g==44760||g==44788||g==44816||g==44844||g==44872||g==44900||g==44928||g==44956||g==44984||g==45012||g==45040||g==45068||g==45096||g==45124||g==45152||g==45180||g==45208||g==45236||g==45264||g==45292||g==45320||g==45348||g==45376||g==45404||g==45432||g==45460||g==45488||g==45516||g==45544||g==45572||g==45600||g==45628||g==45656||g==45684||g==45712||g==45740||g==45768||g==45796||g==45824||g==45852||g==45880||g==45908||g==45936||g==45964||g==45992||g==46020||g==46048||g==46076||g==46104||g==46132||g==46160||g==46188||g==46216||g==46244||g==46272||g==46300||g==46328||g==46356||g==46384||g==46412||g==46440||g==46468||g==46496||g==46524||g==46552||g==46580||g==46608||g==46636||g==46664||g==46692||g==46720||g==46748||g==46776||g==46804||g==46832||g==46860||g==46888||g==46916||g==46944||g==46972||g==47e3||g==47028||g==47056||g==47084||g==47112||g==47140||g==47168||g==47196||g==47224||g==47252||g==47280||g==47308||g==47336||g==47364||g==47392||g==47420||g==47448||g==47476||g==47504||g==47532||g==47560||g==47588||g==47616||g==47644||g==47672||g==47700||g==47728||g==47756||g==47784||g==47812||g==47840||g==47868||g==47896||g==47924||g==47952||g==47980||g==48008||g==48036||g==48064||g==48092||g==48120||g==48148||g==48176||g==48204||g==48232||g==48260||g==48288||g==48316||g==48344||g==48372||g==48400||g==48428||g==48456||g==48484||g==48512||g==48540||g==48568||g==48596||g==48624||g==48652||g==48680||g==48708||g==48736||g==48764||g==48792||g==48820||g==48848||g==48876||g==48904||g==48932||g==48960||g==48988||g==49016||g==49044||g==49072||g==49100||g==49128||g==49156||g==49184||g==49212||g==49240||g==49268||g==49296||g==49324||g==49352||g==49380||g==49408||g==49436||g==49464||g==49492||g==49520||g==49548||g==49576||g==49604||g==49632||g==49660||g==49688||g==49716||g==49744||g==49772||g==49800||g==49828||g==49856||g==49884||g==49912||g==49940||g==49968||g==49996||g==50024||g==50052||g==50080||g==50108||g==50136||g==50164||g==50192||g==50220||g==50248||g==50276||g==50304||g==50332||g==50360||g==50388||g==50416||g==50444||g==50472||g==50500||g==50528||g==50556||g==50584||g==50612||g==50640||g==50668||g==50696||g==50724||g==50752||g==50780||g==50808||g==50836||g==50864||g==50892||g==50920||g==50948||g==50976||g==51004||g==51032||g==51060||g==51088||g==51116||g==51144||g==51172||g==51200||g==51228||g==51256||g==51284||g==51312||g==51340||g==51368||g==51396||g==51424||g==51452||g==51480||g==51508||g==51536||g==51564||g==51592||g==51620||g==51648||g==51676||g==51704||g==51732||g==51760||g==51788||g==51816||g==51844||g==51872||g==51900||g==51928||g==51956||g==51984||g==52012||g==52040||g==52068||g==52096||g==52124||g==52152||g==52180||g==52208||g==52236||g==52264||g==52292||g==52320||g==52348||g==52376||g==52404||g==52432||g==52460||g==52488||g==52516||g==52544||g==52572||g==52600||g==52628||g==52656||g==52684||g==52712||g==52740||g==52768||g==52796||g==52824||g==52852||g==52880||g==52908||g==52936||g==52964||g==52992||g==53020||g==53048||g==53076||g==53104||g==53132||g==53160||g==53188||g==53216||g==53244||g==53272||g==53300||g==53328||g==53356||g==53384||g==53412||g==53440||g==53468||g==53496||g==53524||g==53552||g==53580||g==53608||g==53636||g==53664||g==53692||g==53720||g==53748||g==53776||g==53804||g==53832||g==53860||g==53888||g==53916||g==53944||g==53972||g==54e3||g==54028||g==54056||g==54084||g==54112||g==54140||g==54168||g==54196||g==54224||g==54252||g==54280||g==54308||g==54336||g==54364||g==54392||g==54420||g==54448||g==54476||g==54504||g==54532||g==54560||g==54588||g==54616||g==54644||g==54672||g==54700||g==54728||g==54756||g==54784||g==54812||g==54840||g==54868||g==54896||g==54924||g==54952||g==54980||g==55008||g==55036||g==55064||g==55092||g==55120||g==55148||g==55176?$n:44033<=g&&g<=44059||44061<=g&&g<=44087||44089<=g&&g<=44115||44117<=g&&g<=44143||44145<=g&&g<=44171||44173<=g&&g<=44199||44201<=g&&g<=44227||44229<=g&&g<=44255||44257<=g&&g<=44283||44285<=g&&g<=44311||44313<=g&&g<=44339||44341<=g&&g<=44367||44369<=g&&g<=44395||44397<=g&&g<=44423||44425<=g&&g<=44451||44453<=g&&g<=44479||44481<=g&&g<=44507||44509<=g&&g<=44535||44537<=g&&g<=44563||44565<=g&&g<=44591||44593<=g&&g<=44619||44621<=g&&g<=44647||44649<=g&&g<=44675||44677<=g&&g<=44703||44705<=g&&g<=44731||44733<=g&&g<=44759||44761<=g&&g<=44787||44789<=g&&g<=44815||44817<=g&&g<=44843||44845<=g&&g<=44871||44873<=g&&g<=44899||44901<=g&&g<=44927||44929<=g&&g<=44955||44957<=g&&g<=44983||44985<=g&&g<=45011||45013<=g&&g<=45039||45041<=g&&g<=45067||45069<=g&&g<=45095||45097<=g&&g<=45123||45125<=g&&g<=45151||45153<=g&&g<=45179||45181<=g&&g<=45207||45209<=g&&g<=45235||45237<=g&&g<=45263||45265<=g&&g<=45291||45293<=g&&g<=45319||45321<=g&&g<=45347||45349<=g&&g<=45375||45377<=g&&g<=45403||45405<=g&&g<=45431||45433<=g&&g<=45459||45461<=g&&g<=45487||45489<=g&&g<=45515||45517<=g&&g<=45543||45545<=g&&g<=45571||45573<=g&&g<=45599||45601<=g&&g<=45627||45629<=g&&g<=45655||45657<=g&&g<=45683||45685<=g&&g<=45711||45713<=g&&g<=45739||45741<=g&&g<=45767||45769<=g&&g<=45795||45797<=g&&g<=45823||45825<=g&&g<=45851||45853<=g&&g<=45879||45881<=g&&g<=45907||45909<=g&&g<=45935||45937<=g&&g<=45963||45965<=g&&g<=45991||45993<=g&&g<=46019||46021<=g&&g<=46047||46049<=g&&g<=46075||46077<=g&&g<=46103||46105<=g&&g<=46131||46133<=g&&g<=46159||46161<=g&&g<=46187||46189<=g&&g<=46215||46217<=g&&g<=46243||46245<=g&&g<=46271||46273<=g&&g<=46299||46301<=g&&g<=46327||46329<=g&&g<=46355||46357<=g&&g<=46383||46385<=g&&g<=46411||46413<=g&&g<=46439||46441<=g&&g<=46467||46469<=g&&g<=46495||46497<=g&&g<=46523||46525<=g&&g<=46551||46553<=g&&g<=46579||46581<=g&&g<=46607||46609<=g&&g<=46635||46637<=g&&g<=46663||46665<=g&&g<=46691||46693<=g&&g<=46719||46721<=g&&g<=46747||46749<=g&&g<=46775||46777<=g&&g<=46803||46805<=g&&g<=46831||46833<=g&&g<=46859||46861<=g&&g<=46887||46889<=g&&g<=46915||46917<=g&&g<=46943||46945<=g&&g<=46971||46973<=g&&g<=46999||47001<=g&&g<=47027||47029<=g&&g<=47055||47057<=g&&g<=47083||47085<=g&&g<=47111||47113<=g&&g<=47139||47141<=g&&g<=47167||47169<=g&&g<=47195||47197<=g&&g<=47223||47225<=g&&g<=47251||47253<=g&&g<=47279||47281<=g&&g<=47307||47309<=g&&g<=47335||47337<=g&&g<=47363||47365<=g&&g<=47391||47393<=g&&g<=47419||47421<=g&&g<=47447||47449<=g&&g<=47475||47477<=g&&g<=47503||47505<=g&&g<=47531||47533<=g&&g<=47559||47561<=g&&g<=47587||47589<=g&&g<=47615||47617<=g&&g<=47643||47645<=g&&g<=47671||47673<=g&&g<=47699||47701<=g&&g<=47727||47729<=g&&g<=47755||47757<=g&&g<=47783||47785<=g&&g<=47811||47813<=g&&g<=47839||47841<=g&&g<=47867||47869<=g&&g<=47895||47897<=g&&g<=47923||47925<=g&&g<=47951||47953<=g&&g<=47979||47981<=g&&g<=48007||48009<=g&&g<=48035||48037<=g&&g<=48063||48065<=g&&g<=48091||48093<=g&&g<=48119||48121<=g&&g<=48147||48149<=g&&g<=48175||48177<=g&&g<=48203||48205<=g&&g<=48231||48233<=g&&g<=48259||48261<=g&&g<=48287||48289<=g&&g<=48315||48317<=g&&g<=48343||48345<=g&&g<=48371||48373<=g&&g<=48399||48401<=g&&g<=48427||48429<=g&&g<=48455||48457<=g&&g<=48483||48485<=g&&g<=48511||48513<=g&&g<=48539||48541<=g&&g<=48567||48569<=g&&g<=48595||48597<=g&&g<=48623||48625<=g&&g<=48651||48653<=g&&g<=48679||48681<=g&&g<=48707||48709<=g&&g<=48735||48737<=g&&g<=48763||48765<=g&&g<=48791||48793<=g&&g<=48819||48821<=g&&g<=48847||48849<=g&&g<=48875||48877<=g&&g<=48903||48905<=g&&g<=48931||48933<=g&&g<=48959||48961<=g&&g<=48987||48989<=g&&g<=49015||49017<=g&&g<=49043||49045<=g&&g<=49071||49073<=g&&g<=49099||49101<=g&&g<=49127||49129<=g&&g<=49155||49157<=g&&g<=49183||49185<=g&&g<=49211||49213<=g&&g<=49239||49241<=g&&g<=49267||49269<=g&&g<=49295||49297<=g&&g<=49323||49325<=g&&g<=49351||49353<=g&&g<=49379||49381<=g&&g<=49407||49409<=g&&g<=49435||49437<=g&&g<=49463||49465<=g&&g<=49491||49493<=g&&g<=49519||49521<=g&&g<=49547||49549<=g&&g<=49575||49577<=g&&g<=49603||49605<=g&&g<=49631||49633<=g&&g<=49659||49661<=g&&g<=49687||49689<=g&&g<=49715||49717<=g&&g<=49743||49745<=g&&g<=49771||49773<=g&&g<=49799||49801<=g&&g<=49827||49829<=g&&g<=49855||49857<=g&&g<=49883||49885<=g&&g<=49911||49913<=g&&g<=49939||49941<=g&&g<=49967||49969<=g&&g<=49995||49997<=g&&g<=50023||50025<=g&&g<=50051||50053<=g&&g<=50079||50081<=g&&g<=50107||50109<=g&&g<=50135||50137<=g&&g<=50163||50165<=g&&g<=50191||50193<=g&&g<=50219||50221<=g&&g<=50247||50249<=g&&g<=50275||50277<=g&&g<=50303||50305<=g&&g<=50331||50333<=g&&g<=50359||50361<=g&&g<=50387||50389<=g&&g<=50415||50417<=g&&g<=50443||50445<=g&&g<=50471||50473<=g&&g<=50499||50501<=g&&g<=50527||50529<=g&&g<=50555||50557<=g&&g<=50583||50585<=g&&g<=50611||50613<=g&&g<=50639||50641<=g&&g<=50667||50669<=g&&g<=50695||50697<=g&&g<=50723||50725<=g&&g<=50751||50753<=g&&g<=50779||50781<=g&&g<=50807||50809<=g&&g<=50835||50837<=g&&g<=50863||50865<=g&&g<=50891||50893<=g&&g<=50919||50921<=g&&g<=50947||50949<=g&&g<=50975||50977<=g&&g<=51003||51005<=g&&g<=51031||51033<=g&&g<=51059||51061<=g&&g<=51087||51089<=g&&g<=51115||51117<=g&&g<=51143||51145<=g&&g<=51171||51173<=g&&g<=51199||51201<=g&&g<=51227||51229<=g&&g<=51255||51257<=g&&g<=51283||51285<=g&&g<=51311||51313<=g&&g<=51339||51341<=g&&g<=51367||51369<=g&&g<=51395||51397<=g&&g<=51423||51425<=g&&g<=51451||51453<=g&&g<=51479||51481<=g&&g<=51507||51509<=g&&g<=51535||51537<=g&&g<=51563||51565<=g&&g<=51591||51593<=g&&g<=51619||51621<=g&&g<=51647||51649<=g&&g<=51675||51677<=g&&g<=51703||51705<=g&&g<=51731||51733<=g&&g<=51759||51761<=g&&g<=51787||51789<=g&&g<=51815||51817<=g&&g<=51843||51845<=g&&g<=51871||51873<=g&&g<=51899||51901<=g&&g<=51927||51929<=g&&g<=51955||51957<=g&&g<=51983||51985<=g&&g<=52011||52013<=g&&g<=52039||52041<=g&&g<=52067||52069<=g&&g<=52095||52097<=g&&g<=52123||52125<=g&&g<=52151||52153<=g&&g<=52179||52181<=g&&g<=52207||52209<=g&&g<=52235||52237<=g&&g<=52263||52265<=g&&g<=52291||52293<=g&&g<=52319||52321<=g&&g<=52347||52349<=g&&g<=52375||52377<=g&&g<=52403||52405<=g&&g<=52431||52433<=g&&g<=52459||52461<=g&&g<=52487||52489<=g&&g<=52515||52517<=g&&g<=52543||52545<=g&&g<=52571||52573<=g&&g<=52599||52601<=g&&g<=52627||52629<=g&&g<=52655||52657<=g&&g<=52683||52685<=g&&g<=52711||52713<=g&&g<=52739||52741<=g&&g<=52767||52769<=g&&g<=52795||52797<=g&&g<=52823||52825<=g&&g<=52851||52853<=g&&g<=52879||52881<=g&&g<=52907||52909<=g&&g<=52935||52937<=g&&g<=52963||52965<=g&&g<=52991||52993<=g&&g<=53019||53021<=g&&g<=53047||53049<=g&&g<=53075||53077<=g&&g<=53103||53105<=g&&g<=53131||53133<=g&&g<=53159||53161<=g&&g<=53187||53189<=g&&g<=53215||53217<=g&&g<=53243||53245<=g&&g<=53271||53273<=g&&g<=53299||53301<=g&&g<=53327||53329<=g&&g<=53355||53357<=g&&g<=53383||53385<=g&&g<=53411||53413<=g&&g<=53439||53441<=g&&g<=53467||53469<=g&&g<=53495||53497<=g&&g<=53523||53525<=g&&g<=53551||53553<=g&&g<=53579||53581<=g&&g<=53607||53609<=g&&g<=53635||53637<=g&&g<=53663||53665<=g&&g<=53691||53693<=g&&g<=53719||53721<=g&&g<=53747||53749<=g&&g<=53775||53777<=g&&g<=53803||53805<=g&&g<=53831||53833<=g&&g<=53859||53861<=g&&g<=53887||53889<=g&&g<=53915||53917<=g&&g<=53943||53945<=g&&g<=53971||53973<=g&&g<=53999||54001<=g&&g<=54027||54029<=g&&g<=54055||54057<=g&&g<=54083||54085<=g&&g<=54111||54113<=g&&g<=54139||54141<=g&&g<=54167||54169<=g&&g<=54195||54197<=g&&g<=54223||54225<=g&&g<=54251||54253<=g&&g<=54279||54281<=g&&g<=54307||54309<=g&&g<=54335||54337<=g&&g<=54363||54365<=g&&g<=54391||54393<=g&&g<=54419||54421<=g&&g<=54447||54449<=g&&g<=54475||54477<=g&&g<=54503||54505<=g&&g<=54531||54533<=g&&g<=54559||54561<=g&&g<=54587||54589<=g&&g<=54615||54617<=g&&g<=54643||54645<=g&&g<=54671||54673<=g&&g<=54699||54701<=g&&g<=54727||54729<=g&&g<=54755||54757<=g&&g<=54783||54785<=g&&g<=54811||54813<=g&&g<=54839||54841<=g&&g<=54867||54869<=g&&g<=54895||54897<=g&&g<=54923||54925<=g&&g<=54951||54953<=g&&g<=54979||54981<=g&&g<=55007||55009<=g&&g<=55035||55037<=g&&g<=55063||55065<=g&&g<=55091||55093<=g&&g<=55119||55121<=g&&g<=55147||55149<=g&&g<=55175||55177<=g&&g<=55203?On:g==9757||g==9977||9994<=g&&g<=9997||g==127877||127938<=g&&g<=127940||g==127943||127946<=g&&g<=127948||128066<=g&&g<=128067||128070<=g&&g<=128080||g==128110||128112<=g&&g<=128120||g==128124||128129<=g&&g<=128131||128133<=g&&g<=128135||g==128170||128372<=g&&g<=128373||g==128378||g==128400||128405<=g&&g<=128406||128581<=g&&g<=128583||128587<=g&&g<=128591||g==128675||128692<=g&&g<=128694||g==128704||g==128716||129304<=g&&g<=129308||129310<=g&&g<=129311||g==129318||129328<=g&&g<=129337||129341<=g&&g<=129342||129489<=g&&g<=129501?Oi:127995<=g&&g<=127999?ei:g==8205?Kn:g==9792||g==9794||9877<=g&&g<=9878||g==9992||g==10084||g==127752||g==127806||g==127859||g==127891||g==127908||g==127912||g==127979||g==127981||g==128139||128187<=g&&g<=128188||g==128295||g==128300||g==128488||g==128640||g==128658?je:128102<=g&&g<=128105?de:Bn}return this}Ke.exports&&(Ke.exports=Re)}),a=new r,l=function(Re,He,bt){for(var _t=a.iterateGraphemes(Re.substring(He)),Ot="",qt=0;qt<bt-He;qt++){var Kt=_t.next();if(Ot+=Kt.value,Kt.done)break}return Ot},o=function(Ke,Re,He,bt,_t,Ot,qt){return{start:{line:Ke,column:Re,offset:He},end:{line:bt,column:_t,offset:Ot},source:qt||null}},p=i(function(Ke,Re){(function(He,bt){Ke.exports=bt()})(t,function(){var He="",bt,_t=Ot;function Ot(On,Bn){if(typeof On!="string")throw new TypeError("expected a string");if(Bn===1)return On;if(Bn===2)return On+On;var In=On.length*Bn;if(bt!==On||typeof bt>"u")bt=On,He="";else if(He.length>=In)return He.substr(0,In);for(;In>He.length&&Bn>1;)Bn&1&&(He+=On),Bn>>=1,On+=On;return He+=On,He=He.substr(0,In),He}var qt=function(Bn,In,Oi){if(Bn==null||In==null)return Bn;var ei=String(Bn),Kn=typeof In=="number"?In:parseInt(In,10);if(isNaN(Kn)||!isFinite(Kn))return ei;var je=ei.length;if(je>=Kn)return ei;var de=String(Oi);de===""&&(de=" ");for(var re=Kn-je;de.length<re;)de+=de;var le=de.length>re?de.substr(0,re):de;return le+ei},Kt=Object.assign||function(On){for(var Bn=1;Bn<arguments.length;Bn++){var In=arguments[Bn];for(var Oi in In)Object.prototype.hasOwnProperty.call(In,Oi)&&(On[Oi]=In[Oi])}return On};function on(On,Bn,In,Oi){var ei=String(Bn),Kn=qt(ei,In," "),je=_t(" ",Oi.tabSize);return Kn+" | "+On.replace(/\t/g,je)}function Jn(On,Bn,In,Oi,ei){return On.slice(Bn,In).map(function(Kn,je){return on(Kn,Bn+je+1,Oi,ei)}).join(`
`)}var Wt={extraLines:2,tabSize:4},$n=function(Bn,In,Oi,ei){ei=Kt({},Wt,ei);var Kn=Bn.split(/\r\n?|\n|\f/),je=Math.max(1,In-ei.extraLines)-1,de=Math.min(In+ei.extraLines,Kn.length),re=String(de).length,le=Jn(Kn,je,In,re,ei),pe=on(Kn[In-1].substring(0,Oi-1),In,re,ei),Te=_t(" ",pe.length)+"^",We=Jn(Kn,In,de,re,ei);return[le,Te,We].filter(Boolean).join(`
`)};return $n})}),C=new Error().stack,M=function(Ke){var Re=Object.create(SyntaxError.prototype);return Object.assign(Re,Ke,{name:"SyntaxError"}),Object.defineProperty(Re,"stack",{get:function(){return C?C.replace(/^(.+\n){1,3}/,String(Re)+`
`):""}}),Re},O=function(Ke,Re,He,bt,_t){throw M({message:bt?Ke+`
`+p(Re,bt,_t):Ke,rawMessage:Ke,source:He,line:bt,column:_t})},U={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(Re){for(var He=arguments.length,bt=Array(He>1?He-1:0),_t=1;_t<He;_t++)bt[_t-1]=arguments[_t];return"Unexpected token <"+Re+"> at "+bt.filter(Boolean).join(":")}},K={unexpectedSymbol:function(Re){for(var He=arguments.length,bt=Array(He>1?He-1:0),_t=1;_t<He;_t++)bt[_t-1]=arguments[_t];return"Unexpected symbol <"+Re+"> at "+bt.filter(Boolean).join(":")}},j={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},W={"{":j.LEFT_BRACE,"}":j.RIGHT_BRACE,"[":j.LEFT_BRACKET,"]":j.RIGHT_BRACKET,":":j.COLON,",":j.COMMA},Y={true:j.TRUE,false:j.FALSE,null:j.NULL},te={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},J={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},oe={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ne(Ke){return Ke>="1"&&Ke<="9"}function $(Ke){return Ke>="0"&&Ke<="9"}function ae(Ke){return $(Ke)||Ke>="a"&&Ke<="f"||Ke>="A"&&Ke<="F"}function G(Ke){return Ke==="e"||Ke==="E"}function ce(Ke,Re,He,bt){var _t=Ke.charAt(Re);if(_t==="\r")Re++,He++,bt=1,Ke.charAt(Re)===`
`&&Re++;else if(_t===`
`)Re++,He++,bt=1;else if(_t==="	"||_t===" ")Re++,bt++;else return null;return{index:Re,line:He,column:bt}}function ge(Ke,Re,He,bt){var _t=Ke.charAt(Re);return _t in W?{type:W[_t],line:He,column:bt+1,index:Re+1,value:null}:null}function ye(Ke,Re,He,bt){for(var _t in Y)if(Y.hasOwnProperty(_t)&&Ke.substr(Re,_t.length)===_t)return{type:Y[_t],line:He,column:bt+_t.length,index:Re+_t.length,value:_t};return null}function we(Ke,Re,He,bt){for(var _t=Re,Ot=te._START_;Re<Ke.length;){var qt=Ke.charAt(Re);switch(Ot){case te._START_:{if(qt==='"')Re++,Ot=te.START_QUOTE_OR_CHAR;else return null;break}case te.START_QUOTE_OR_CHAR:{if(qt==="\\")Re++,Ot=te.ESCAPE;else{if(qt==='"')return Re++,{type:j.STRING,line:He,column:bt+Re-_t,index:Re,value:Ke.slice(_t,Re)};Re++}break}case te.ESCAPE:{if(qt in J){if(Re++,qt==="u")for(var Kt=0;Kt<4;Kt++){var on=Ke.charAt(Re);if(on&&ae(on))Re++;else return null}Ot=te.START_QUOTE_OR_CHAR}else return null;break}}}}function Ie(Ke,Re,He,bt){var _t=Re,Ot=Re,qt=oe._START_;e:for(;Re<Ke.length;){var Kt=Ke.charAt(Re);switch(qt){case oe._START_:{if(Kt==="-")qt=oe.MINUS;else if(Kt==="0")Ot=Re+1,qt=oe.ZERO;else if(ne(Kt))Ot=Re+1,qt=oe.DIGIT;else return null;break}case oe.MINUS:{if(Kt==="0")Ot=Re+1,qt=oe.ZERO;else if(ne(Kt))Ot=Re+1,qt=oe.DIGIT;else return null;break}case oe.ZERO:{if(Kt===".")qt=oe.POINT;else if(G(Kt))qt=oe.EXP;else break e;break}case oe.DIGIT:{if($(Kt))Ot=Re+1;else if(Kt===".")qt=oe.POINT;else if(G(Kt))qt=oe.EXP;else break e;break}case oe.POINT:{if($(Kt))Ot=Re+1,qt=oe.DIGIT_FRACTION;else break e;break}case oe.DIGIT_FRACTION:{if($(Kt))Ot=Re+1;else if(G(Kt))qt=oe.EXP;else break e;break}case oe.EXP:{if(Kt==="+"||Kt==="-")qt=oe.EXP_DIGIT_OR_SIGN;else if($(Kt))Ot=Re+1,qt=oe.EXP_DIGIT_OR_SIGN;else break e;break}case oe.EXP_DIGIT_OR_SIGN:{if($(Kt))Ot=Re+1;else break e;break}}Re++}return Ot>0?{type:j.NUMBER,line:He,column:bt+Ot-_t,index:Ot,value:Ke.slice(_t,Ot)}:null}var Se=function(Re,He){for(var bt=1,_t=1,Ot=0,qt=[];Ot<Re.length;){var Kt=[Re,Ot,bt,_t],on=ce.apply(void 0,Kt);if(on){Ot=on.index,bt=on.line,_t=on.column;continue}var Jn=ge.apply(void 0,Kt)||ye.apply(void 0,Kt)||we.apply(void 0,Kt)||Ie.apply(void 0,Kt);if(Jn){var Wt={type:Jn.type,value:Jn.value,loc:o(bt,_t,Ot,Jn.line,Jn.column,Jn.index,He.source)};qt.push(Wt),Ot=Jn.index,bt=Jn.line,_t=Jn.column}else O(K.unexpectedSymbol(l(Re,Ot,Ot+1),He.source,bt,_t),Re,He.source,bt,_t)}return qt},Ve={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},xe={_START_:0,KEY:1,COLON:2},ze={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},st={loc:!0,source:null};function Ct(Ke,Re,He){var bt=Re.length>0?Re[Re.length-1].loc.end:{line:1,column:1};O(U.unexpectedEnd(),Ke,He.source,bt.line,bt.column)}function nt(Ke){for(var Re=0,He=0;He<4;He++)Re=Re*16+parseInt(Ke[He],16);return String.fromCharCode(Re)}var be={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Ne=['"',"\\","/"];function tt(Ke){for(var Re="",He=0;He<Ke.length;He++){var bt=Ke.charAt(He);if(bt==="\\"){He++;var _t=Ke.charAt(He);if(_t==="u")Re+=nt(Ke.substr(He+1,4)),He+=4;else if(Ne.indexOf(_t)!==-1)Re+=_t;else if(_t in be)Re+=be[_t];else break}else Re+=bt}return Re}function lt(Ke,Re,He,bt){for(var _t=void 0,Ot={type:"Object",children:[]},qt=Ve._START_;He<Re.length;){var Kt=Re[He];switch(qt){case Ve._START_:{if(Kt.type===j.LEFT_BRACE)_t=Kt,qt=Ve.OPEN_OBJECT,He++;else return null;break}case Ve.OPEN_OBJECT:{if(Kt.type===j.RIGHT_BRACE)return bt.loc&&(Ot.loc=o(_t.loc.start.line,_t.loc.start.column,_t.loc.start.offset,Kt.loc.end.line,Kt.loc.end.column,Kt.loc.end.offset,bt.source)),{value:Ot,index:He+1};var on=kt(Ke,Re,He,bt);Ot.children.push(on.value),qt=Ve.PROPERTY,He=on.index;break}case Ve.PROPERTY:{if(Kt.type===j.RIGHT_BRACE)return bt.loc&&(Ot.loc=o(_t.loc.start.line,_t.loc.start.column,_t.loc.start.offset,Kt.loc.end.line,Kt.loc.end.column,Kt.loc.end.offset,bt.source)),{value:Ot,index:He+1};Kt.type===j.COMMA?(qt=Ve.COMMA,He++):O(U.unexpectedToken(l(Ke,Kt.loc.start.offset,Kt.loc.end.offset),bt.source,Kt.loc.start.line,Kt.loc.start.column),Ke,bt.source,Kt.loc.start.line,Kt.loc.start.column);break}case Ve.COMMA:{var Jn=kt(Ke,Re,He,bt);Jn?(He=Jn.index,Ot.children.push(Jn.value),qt=Ve.PROPERTY):O(U.unexpectedToken(l(Ke,Kt.loc.start.offset,Kt.loc.end.offset),bt.source,Kt.loc.start.line,Kt.loc.start.column),Ke,bt.source,Kt.loc.start.line,Kt.loc.start.column);break}}}Ct(Ke,Re,bt)}function kt(Ke,Re,He,bt){for(var _t=void 0,Ot={type:"Property",key:null,value:null},qt=xe._START_;He<Re.length;){var Kt=Re[He];switch(qt){case xe._START_:{if(Kt.type===j.STRING){var on={type:"Identifier",value:tt(Ke.slice(Kt.loc.start.offset+1,Kt.loc.end.offset-1)),raw:Kt.value};bt.loc&&(on.loc=Kt.loc),_t=Kt,Ot.key=on,qt=xe.KEY,He++}else return null;break}case xe.KEY:{Kt.type===j.COLON?(qt=xe.COLON,He++):O(U.unexpectedToken(l(Ke,Kt.loc.start.offset,Kt.loc.end.offset),bt.source,Kt.loc.start.line,Kt.loc.start.column),Ke,bt.source,Kt.loc.start.line,Kt.loc.start.column);break}case xe.COLON:{var Jn=Ut(Ke,Re,He,bt);return Ot.value=Jn.value,bt.loc&&(Ot.loc=o(_t.loc.start.line,_t.loc.start.column,_t.loc.start.offset,Jn.value.loc.end.line,Jn.value.loc.end.column,Jn.value.loc.end.offset,bt.source)),{value:Ot,index:Jn.index}}}}}function gt(Ke,Re,He,bt){for(var _t=void 0,Ot={type:"Array",children:[]},qt=ze._START_,Kt=void 0;He<Re.length;)switch(Kt=Re[He],qt){case ze._START_:{if(Kt.type===j.LEFT_BRACKET)_t=Kt,qt=ze.OPEN_ARRAY,He++;else return null;break}case ze.OPEN_ARRAY:{if(Kt.type===j.RIGHT_BRACKET)return bt.loc&&(Ot.loc=o(_t.loc.start.line,_t.loc.start.column,_t.loc.start.offset,Kt.loc.end.line,Kt.loc.end.column,Kt.loc.end.offset,bt.source)),{value:Ot,index:He+1};var on=Ut(Ke,Re,He,bt);He=on.index,Ot.children.push(on.value),qt=ze.VALUE;break}case ze.VALUE:{if(Kt.type===j.RIGHT_BRACKET)return bt.loc&&(Ot.loc=o(_t.loc.start.line,_t.loc.start.column,_t.loc.start.offset,Kt.loc.end.line,Kt.loc.end.column,Kt.loc.end.offset,bt.source)),{value:Ot,index:He+1};Kt.type===j.COMMA?(qt=ze.COMMA,He++):O(U.unexpectedToken(l(Ke,Kt.loc.start.offset,Kt.loc.end.offset),bt.source,Kt.loc.start.line,Kt.loc.start.column),Ke,bt.source,Kt.loc.start.line,Kt.loc.start.column);break}case ze.COMMA:{var Jn=Ut(Ke,Re,He,bt);He=Jn.index,Ot.children.push(Jn.value),qt=ze.VALUE;break}}Ct(Ke,Re,bt)}function St(Ke,Re,He,bt){var _t=Re[He],Ot=null;switch(_t.type){case j.STRING:{Ot=tt(Ke.slice(_t.loc.start.offset+1,_t.loc.end.offset-1));break}case j.NUMBER:{Ot=Number(_t.value);break}case j.TRUE:{Ot=!0;break}case j.FALSE:{Ot=!1;break}case j.NULL:{Ot=null;break}default:return null}var qt={type:"Literal",value:Ot,raw:_t.value};return bt.loc&&(qt.loc=_t.loc),{value:qt,index:He+1}}function Ut(Ke,Re,He,bt){var _t=Re[He],Ot=St.apply(void 0,arguments)||lt.apply(void 0,arguments)||gt.apply(void 0,arguments);if(Ot)return Ot;O(U.unexpectedToken(l(Ke,_t.loc.start.offset,_t.loc.end.offset),bt.source,_t.loc.start.line,_t.loc.start.column),Ke,bt.source,_t.loc.start.line,_t.loc.start.column)}var Fe=function(Ke,Re){Re=Object.assign({},st,Re);var He=Se(Ke,Re);He.length===0&&Ct(Ke,He,Re);var bt=Ut(Ke,He,0,Re);if(bt.index===He.length)return bt.value;var _t=He[bt.index];O(U.unexpectedToken(l(Ke,_t.loc.start.offset,_t.loc.end.offset),Re.source,_t.loc.start.line,_t.loc.start.column),Ke,Re.source,_t.loc.start.line,_t.loc.start.column)};return Fe})}(kx)),kx.exports}var Tle=Ile();const kle=cu(Tle);function li(){var n="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",e="799818f2992b2f8307763d856702ede3cf326f4d",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:12,column:16},end:{line:12,column:18}},3:{start:{line:13,column:2},end:{line:30,column:3}},4:{start:{line:14,column:4},end:{line:14,column:16}},5:{start:{line:16,column:23},end:{line:16,column:71}},6:{start:{line:17,column:4},end:{line:29,column:5}},7:{start:{line:18,column:18},end:{line:23,column:7}},8:{start:{line:24,column:6},end:{line:28,column:9}},9:{start:{line:31,column:2},end:{line:31,column:15}},10:{start:{line:33,column:0},end:{line:35,column:3}},11:{start:{line:34,column:2},end:{line:34,column:26}},12:{start:{line:36,column:0},end:{line:130,column:3}},13:{start:{line:37,column:16},end:{line:37,column:32}},14:{start:{line:38,column:22},end:{line:38,column:26}},15:{start:{line:39,column:2},end:{line:41,column:3}},16:{start:{line:40,column:4},end:{line:40,column:17}},17:{start:{line:42,column:14},end:{line:42,column:29}},18:{start:{line:43,column:16},end:{line:43,column:32}},19:{start:{line:45,column:4},end:{line:65,column:5}},20:{start:{line:46,column:6},end:{line:46,column:20}},21:{start:{line:47,column:11},end:{line:65,column:5}},22:{start:{line:48,column:6},end:{line:48,column:18}},23:{start:{line:49,column:11},end:{line:65,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:52,column:18},end:{line:52,column:25}},26:{start:{line:54,column:6},end:{line:63,column:7}},27:{start:{line:55,column:8},end:{line:55,column:41}},28:{start:{line:57,column:8},end:{line:59,column:11}},29:{start:{line:58,column:10},end:{line:58,column:101}},30:{start:{line:60,column:8},end:{line:62,column:9}},31:{start:{line:61,column:10},end:{line:61,column:34}},32:{start:{line:64,column:6},end:{line:64,column:63}},33:{start:{line:67,column:12},end:{line:67,column:16}},34:{start:{line:68,column:2},end:{line:99,column:3}},35:{start:{line:69,column:19},end:{line:79,column:6}},36:{start:{line:80,column:4},end:{line:94,column:5}},37:{start:{line:81,column:6},end:{line:93,column:8}},38:{start:{line:84,column:10},end:{line:84,column:76}},39:{start:{line:86,column:34},end:{line:86,column:85}},40:{start:{line:87,column:10},end:{line:91,column:12}},41:{start:{line:95,column:9},end:{line:99,column:3}},42:{start:{line:96,column:4},end:{line:96,column:56}},43:{start:{line:98,column:4},end:{line:98,column:50}},44:{start:{line:100,column:2},end:{line:128,column:3}},45:{start:{line:101,column:19},end:{line:101,column:28}},46:{start:{line:102,column:4},end:{line:127,column:7}},47:{start:{line:103,column:31},end:{line:103,column:36}},48:{start:{line:104,column:6},end:{line:126,column:7}},49:{start:{line:105,column:31},end:{line:105,column:64}},50:{start:{line:106,column:20},end:{line:110,column:9}},51:{start:{line:111,column:8},end:{line:111,column:24}},52:{start:{line:112,column:13},end:{line:126,column:7}},53:{start:{line:113,column:21},end:{line:113,column:83}},54:{start:{line:114,column:28},end:{line:114,column:64}},55:{start:{line:115,column:8},end:{line:118,column:9}},56:{start:{line:116,column:10},end:{line:116,column:69}},57:{start:{line:117,column:10},end:{line:117,column:17}},58:{start:{line:119,column:24},end:{line:119,column:35}},59:{start:{line:120,column:31},end:{line:120,column:34}},60:{start:{line:121,column:8},end:{line:125,column:11}},61:{start:{line:129,column:2},end:{line:129,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"tryToParse",decl:{start:{line:11,column:9},end:{line:11,column:19}},loc:{start:{line:11,column:26},end:{line:32,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:33,column:42},end:{line:33,column:43}},loc:{start:{line:33,column:52},end:{line:35,column:1}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:36,column:41},end:{line:36,column:42}},loc:{start:{line:36,column:62},end:{line:130,column:1}},line:36},4:{name:"getArrayPositionalFromAst",decl:{start:{line:44,column:11},end:{line:44,column:36}},loc:{start:{line:44,column:49},end:{line:66,column:3}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:57,column:37},end:{line:57,column:38}},loc:{start:{line:57,column:52},end:{line:59,column:9}},line:57},6:{name:"(anonymous_6)",decl:{start:{line:83,column:29},end:{line:83,column:30}},loc:{start:{line:83,column:38},end:{line:85,column:9}},line:83},7:{name:"(anonymous_7)",decl:{start:{line:85,column:15},end:{line:85,column:16}},loc:{start:{line:85,column:24},end:{line:92,column:9}},line:85},8:{name:"(anonymous_8)",decl:{start:{line:102,column:19},end:{line:102,column:20}},loc:{start:{line:102,column:30},end:{line:127,column:5}},line:102}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:29,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:39,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:39,column:2},end:{line:41,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},2:{loc:{start:{line:45,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:65,column:5}},{start:{line:47,column:11},end:{line:65,column:5}}],line:45},3:{loc:{start:{line:47,column:11},end:{line:65,column:5}},type:"if",locations:[{start:{line:47,column:11},end:{line:65,column:5}},{start:{line:49,column:11},end:{line:65,column:5}}],line:47},4:{loc:{start:{line:49,column:11},end:{line:65,column:5}},type:"if",locations:[{start:{line:49,column:11},end:{line:65,column:5}},{start:{line:51,column:11},end:{line:65,column:5}}],line:49},5:{loc:{start:{line:54,column:6},end:{line:63,column:7}},type:"if",locations:[{start:{line:54,column:6},end:{line:63,column:7}},{start:{line:56,column:13},end:{line:63,column:7}}],line:54},6:{loc:{start:{line:58,column:17},end:{line:58,column:100}},type:"binary-expr",locations:[{start:{line:58,column:17},end:{line:58,column:30}},{start:{line:58,column:34},end:{line:58,column:69}},{start:{line:58,column:73},end:{line:58,column:100}}],line:58},7:{loc:{start:{line:60,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:68,column:2},end:{line:99,column:3}},type:"if",locations:[{start:{line:68,column:2},end:{line:99,column:3}},{start:{line:95,column:9},end:{line:99,column:3}}],line:68},9:{loc:{start:{line:80,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},10:{loc:{start:{line:95,column:9},end:{line:99,column:3}},type:"if",locations:[{start:{line:95,column:9},end:{line:99,column:3}},{start:{line:97,column:9},end:{line:99,column:3}}],line:95},11:{loc:{start:{line:100,column:2},end:{line:128,column:3}},type:"if",locations:[{start:{line:100,column:2},end:{line:128,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},12:{loc:{start:{line:104,column:6},end:{line:126,column:7}},type:"if",locations:[{start:{line:104,column:6},end:{line:126,column:7}},{start:{line:112,column:13},end:{line:126,column:7}}],line:104},13:{loc:{start:{line:112,column:13},end:{line:126,column:7}},type:"if",locations:[{start:{line:112,column:13},end:{line:126,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:112},14:{loc:{start:{line:115,column:8},end:{line:118,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:118,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AAAA,SAAQ,aAAY;AACpB,OAAO,gBAAsC;AAC7C,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAGD,SAAS,WAAW,MAAc;AAEhC,QAAM,QAAkC,CAAC;AACzC,MAAI;AACF,UAAM,IAAI;AAAA,EACZ,SACM,KAAU;AAEd,UAAM,aAAa,IAAI,SAAS,EAAE,MAAM,0BAA0B;AAClE,QAAI,YAAY;AACd,YAAM,MAAM;AAAA,QACV,YAAY,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,QACtC,cAAc,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,QACxC,WAAW,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,QACrC,aAAa,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,MACzC;AAGA,YAAM,KAAK;AAAA,QACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,QACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,QACrD,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAEA,SAAO;AACT;AAEA,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,SAAO,WAAW,IAAI;AACxB,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAE9E,QAAM,QAAkC,WAAW,IAAI;AAEvD,QAAM,EAAC,QAAO,IAAI;AAElB,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"799818f2992b2f8307763d856702ede3cf326f4d"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return li=function(){return l},l}li();li().s[0]++;nm.defineMode("mgl",(n,e)=>(li().f[0]++,li().s[1]++,nm.modes.javascript({...n,json:!0},e)));function pN(n){li().f[1]++;const e=(li().s[2]++,[]);li().s[3]++;try{li().s[4]++,Ble.parse(n)}catch(t){const i=(li().s[5]++,t.toString().match(/line (\d+), column (\d+)/));if(li().s[6]++,i){li().b[0][0]++;const r=(li().s[7]++,{first_line:parseInt(i[1],10),first_column:parseInt(i[2],10),last_line:parseInt(i[1],10),last_column:parseInt(i[2],10)});li().s[8]++,e.push({from:nm.Pos(r.first_line-1,r.first_column),to:nm.Pos(r.last_line-1,r.last_column),message:t})}else li().b[0][1]++}return li().s[9]++,e}li().s[10]++;nm.registerHelper("lint","json",n=>(li().f[2]++,li().s[11]++,pN(n)));li().s[12]++;nm.registerHelper("lint","mgl",(n,e,t)=>{li().f[3]++;const i=(li().s[13]++,pN(n)),{context:r}=(li().s[14]++,e);if(li().s[15]++,i.length>0)return li().b[1][0]++,li().s[16]++,i;li().b[1][1]++;const a=(li().s[17]++,kle(n)),l=(li().s[18]++,JSON.parse(n));function o(C,M){if(li().f[4]++,li().s[19]++,C){if(li().b[2][1]++,li().s[21]++,M.length<1)return li().b[3][0]++,li().s[22]++,C;if(li().b[3][1]++,li().s[23]++,C.children){li().b[4][1]++;const O=(li().s[25]++,M[0]);let U;return li().s[26]++,O.match(/^[0-9]+$/)?(li().b[5][0]++,li().s[27]++,U=C.children[M[0]]):(li().b[5][1]++,li().s[28]++,U=C.children.find(K=>(li().f[5]++,li().s[29]++,li().b[6][0]++,K.key&&(li().b[6][1]++,K.key.type==="Identifier")&&(li().b[6][2]++,K.key.value===O))),li().s[30]++,U?(li().b[7][0]++,li().s[31]++,U=U.value):li().b[7][1]++),li().s[32]++,o(U,M.slice(1))}else{li().b[4][0]++,li().s[24]++;return}}else{li().b[2][0]++,li().s[20]++;return}}let p=(li().s[33]++,null);if(li().s[34]++,r==="layer"){li().b[8][0]++;const C=(li().s[35]++,Tf({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[l]}));li().s[36]++,C?(li().b[9][0]++,li().s[37]++,p={result:"error",value:C.filter(M=>(li().f[6]++,li().s[38]++,!M.message.match(/^layers\[0\]: source ".*" not found$/))).map(M=>{li().f[7]++;const O=(li().s[39]++,M.message.replace(/^layers\[0\]./,"").split(":"));return li().s[40]++,{name:"",key:O[0],message:O[1]}})}):li().b[9][1]++}else if(li().b[8][1]++,li().s[41]++,r==="expression")li().b[10][0]++,li().s[42]++,p=fV.createExpression(l,e.spec);else throw li().b[10][1]++,li().s[43]++,new Error(`Invalid context ${r}`);if(li().s[44]++,p?.result==="error"){li().b[11][0]++;const C=(li().s[45]++,p.value);li().s[46]++,C.forEach(M=>{li().f[8]++;const{key:O,message:U}=(li().s[47]++,M);if(li().s[48]++,O)if(li().b[12][1]++,li().s[52]++,O){li().b[13][0]++;const K=(li().s[53]++,O.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),j=(li().s[54]++,o(a,K));if(li().s[55]++,j)li().b[14][1]++;else{li().b[14][0]++,li().s[56]++,console.warn("Something went wrong parsing error:",M),li().s[57]++;return}const{loc:W}=(li().s[58]++,j),{start:Y,end:te}=(li().s[59]++,W);li().s[60]++,i.push({from:nm.Pos(Y.line-1,Y.column),to:nm.Pos(te.line-1,te.column),message:U})}else li().b[13][1]++;else{li().b[12][0]++;const K=(li().s[49]++,t.getLineHandle(t.lastLine())),j=(li().s[50]++,{from:nm.Pos(t.firstLine(),0),to:nm.Pos(t.lastLine(),K.text.length),message:U});li().s[51]++,i.push(j)}})}else li().b[11][1]++;return li().s[61]++,i});function yi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",e="5100029c5bc3e8b6981ab23ce8d4ba04e7ce73ec",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:14,column:24},end:{line:29,column:3}},1:{start:{line:19,column:6},end:{line:19,column:65}},2:{start:{line:32,column:8},end:{line:32,column:12}},3:{start:{line:33,column:22},end:{line:33,column:27}},4:{start:{line:35,column:4},end:{line:35,column:17}},5:{start:{line:36,column:4},end:{line:36,column:32}},6:{start:{line:37,column:4},end:{line:41,column:6}},7:{start:{line:44,column:4},end:{line:60,column:7}},8:{start:{line:61,column:4},end:{line:61,column:42}},9:{start:{line:62,column:4},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:38}},11:{start:{line:65,column:18},end:{line:67,column:3}},12:{start:{line:66,column:4},end:{line:66,column:31}},13:{start:{line:68,column:12},end:{line:74,column:3}},14:{start:{line:69,column:4},end:{line:69,column:49}},15:{start:{line:69,column:28},end:{line:69,column:49}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:82,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:77,column:47}},20:{start:{line:77,column:27},end:{line:77,column:47}},21:{start:{line:78,column:4},end:{line:81,column:7}},22:{start:{line:84,column:4},end:{line:84,column:43}},23:{start:{line:85,column:4},end:{line:85,column:41}},24:{start:{line:86,column:4},end:{line:86,column:39}},25:{start:{line:89,column:4},end:{line:94,column:5}},26:{start:{line:90,column:6},end:{line:90,column:36}},27:{start:{line:91,column:6},end:{line:93,column:8}},28:{start:{line:96,column:13},end:{line:123,column:3}},29:{start:{line:97,column:4},end:{line:103,column:5}},30:{start:{line:98,column:6},end:{line:98,column:37}},31:{start:{line:99,column:6},end:{line:101,column:9}},32:{start:{line:102,column:6},end:{line:102,column:13}},33:{start:{line:104,column:20},end:{line:104,column:40}},34:{start:{line:105,column:4},end:{line:119,column:5}},35:{start:{line:107,column:6},end:{line:112,column:7}},36:{start:{line:108,column:8},end:{line:108,column:42}},37:{start:{line:110,column:8},end:{line:110,column:19}},38:{start:{line:111,column:8},end:{line:111,column:27}},39:{start:{line:113,column:6},end:{line:118,column:7}},40:{start:{line:114,column:8},end:{line:114,column:35}},41:{start:{line:116,column:8},end:{line:116,column:66}},42:{start:{line:116,column:33},end:{line:116,column:66}},43:{start:{line:117,column:8},end:{line:117,column:61}},44:{start:{line:117,column:36},end:{line:117,column:61}},45:{start:{line:120,column:4},end:{line:122,column:7}},46:{start:{line:125,column:14},end:{line:125,column:26}},47:{start:{line:126,column:28},end:{line:126,column:38}},48:{start:{line:127,column:18},end:{line:127,column:20}},49:{start:{line:128,column:4},end:{line:130,column:5}},50:{start:{line:129,column:6},end:{line:129,column:45}},51:{start:{line:131,column:4},end:{line:147,column:9}},52:{start:{line:142,column:12},end:{line:142,column:26}},53:{start:{line:150,column:18},end:{line:150,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:14},end:{line:18,column:15}},loc:{start:{line:18,column:24},end:{line:20,column:5}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:22,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:18},end:{line:24,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:25,column:19},end:{line:25,column:20}},loc:{start:{line:25,column:25},end:{line:26,column:5}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:27,column:17},end:{line:27,column:18}},loc:{start:{line:27,column:23},end:{line:28,column:5}},line:27},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:21},end:{line:42,column:3}},line:34},6:{name:"(anonymous_6)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:22},end:{line:64,column:3}},line:43},7:{name:"(anonymous_7)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:3}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:68,column:12},end:{line:68,column:13}},loc:{start:{line:68,column:18},end:{line:74,column:3}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:82,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:25},end:{line:87,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:32},end:{line:95,column:3}},line:88},12:{name:"(anonymous_12)",decl:{start:{line:96,column:13},end:{line:96,column:14}},loc:{start:{line:96,column:21},end:{line:123,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:124,column:2},end:{line:124,column:3}},loc:{start:{line:124,column:11},end:{line:148,column:3}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:141,column:15},end:{line:141,column:16}},loc:{start:{line:141,column:23},end:{line:143,column:11}},line:141}},branchMap:{0:{loc:{start:{line:46,column:12},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:46,column:12},end:{line:46,column:27}},{start:{line:46,column:31},end:{line:48,column:7}}],line:46},1:{loc:{start:{line:54,column:12},end:{line:56,column:7}},type:"binary-expr",locations:[{start:{line:54,column:12},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:56,column:7}}],line:54},2:{loc:{start:{line:69,column:4},end:{line:69,column:49}},type:"if",locations:[{start:{line:69,column:4},end:{line:69,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:77,column:4},end:{line:77,column:47}},type:"if",locations:[{start:{line:77,column:4},end:{line:77,column:47}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},5:{loc:{start:{line:89,column:8},end:{line:89,column:69}},type:"binary-expr",locations:[{start:{line:89,column:8},end:{line:89,column:29}},{start:{line:89,column:33},end:{line:89,column:69}}],line:89},6:{loc:{start:{line:97,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:103,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:97},7:{loc:{start:{line:105,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:105,column:4},end:{line:119,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:105},8:{loc:{start:{line:113,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:113,column:6},end:{line:118,column:7}},{start:{line:115,column:13},end:{line:118,column:7}}],line:113},9:{loc:{start:{line:113,column:10},end:{line:113,column:41}},type:"binary-expr",locations:[{start:{line:113,column:10},end:{line:113,column:13}},{start:{line:113,column:17},end:{line:113,column:41}}],line:113},10:{loc:{start:{line:116,column:8},end:{line:116,column:66}},type:"if",locations:[{start:{line:116,column:8},end:{line:116,column:66}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},11:{loc:{start:{line:117,column:8},end:{line:117,column:61}},type:"if",locations:[{start:{line:117,column:8},end:{line:117,column:61}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},12:{loc:{start:{line:128,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:128,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AA0KQ,SACQ,KADR;AA1KR,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAAmC;AAC1C,SAAS,OAA6B,uBAAuB;AAE7D,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA4BP,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM,OAAQ,MAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM,YAAa,MAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,0BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GACxF,+BAAC,SAAM,GAAM;AAAA;AAAA,QACL,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO;AAAC,iBAAK,MAAM;AAAA,UAAG;AAAA,UAC5B;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5100029c5bc3e8b6981ab23ce8d4ba04e7ce73ec"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return yi=function(){return l},l}yi();class Dle extends ni.Component{static defaultProps=(yi().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:e=>(yi().f[0]++,yi().s[1]++,fN(e,{indent:2,maxLength:40})),onFocus:()=>{yi().f[1]++},onBlur:()=>{yi().f[2]++},onJSONInvalid:()=>{yi().f[3]++},onJSONValid:()=>{yi().f[4]++}});_keyEvent;_doc;_el=(yi().s[2]++,null);_cancelNextChange=(yi().s[3]++,!1);constructor(e){yi().f[5]++,yi().s[4]++,super(e),yi().s[5]++,this._keyEvent="keyboard",yi().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){yi().f[6]++,yi().s[7]++,this._doc=nm(this._el,{value:this.props.getValue(this.props.layer),mode:(yi().b[0][0]++,this.props.mode||(yi().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(yi().b[1][0]++,this.props.lint||(yi().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),yi().s[8]++,this._doc.on("change",this.onChange),yi().s[9]++,this._doc.on("focus",this.onFocus),yi().s[10]++,this._doc.on("blur",this.onBlur)}onPointerDown=(yi().s[11]++,()=>{yi().f[7]++,yi().s[12]++,this._keyEvent="pointer"});onFocus=(yi().s[13]++,()=>{yi().f[8]++,yi().s[14]++,this.props.onFocus?(yi().b[2][0]++,yi().s[15]++,this.props.onFocus()):yi().b[2][1]++,yi().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})});onBlur=(yi().s[17]++,()=>{yi().f[9]++,yi().s[18]++,this._keyEvent="keyboard",yi().s[19]++,this.props.onBlur?(yi().b[3][0]++,yi().s[20]++,this.props.onBlur()):yi().b[3][1]++,yi().s[21]++,this.setState({isEditing:!1,showMessage:!1})});componentWillUnMount(){yi().f[10]++,yi().s[22]++,this._doc.off("change",this.onChange),yi().s[23]++,this._doc.off("focus",this.onFocus),yi().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(e){yi().f[11]++,yi().s[25]++,yi().b[5][0]++,!this.state.isEditing&&(yi().b[5][1]++,e.layer!==this.props.layer)?(yi().b[4][0]++,yi().s[26]++,this._cancelNextChange=!0,yi().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):yi().b[4][1]++}onChange=(yi().s[28]++,e=>{if(yi().f[12]++,yi().s[29]++,this._cancelNextChange){yi().b[6][0]++,yi().s[30]++,this._cancelNextChange=!1,yi().s[31]++,this.setState({prevValue:this._doc.getValue()}),yi().s[32]++;return}else yi().b[6][1]++;const t=(yi().s[33]++,this._doc.getValue());if(yi().s[34]++,this.state.prevValue!==t){yi().b[7][0]++;let i,r;yi().s[35]++;try{yi().s[36]++,i=JSON.parse(t)}catch(a){yi().s[37]++,r=a,yi().s[38]++,console.warn(a)}yi().s[39]++,yi().b[9][0]++,r&&(yi().b[9][1]++,this.props.onJSONInvalid)?(yi().b[8][0]++,yi().s[40]++,this.props.onJSONInvalid()):(yi().b[8][1]++,yi().s[41]++,this.props.onChange?(yi().b[10][0]++,yi().s[42]++,this.props.onChange(i)):yi().b[10][1]++,yi().s[43]++,this.props.onJSONValid?(yi().b[11][0]++,yi().s[44]++,this.props.onJSONValid()):yi().b[11][1]++)}else yi().b[7][1]++;yi().s[45]++,this.setState({prevValue:t})});render(){yi().f[13]++;const e=(yi().s[46]++,this.props.t),{showMessage:t}=(yi().s[47]++,this.state),i=(yi().s[48]++,{});return yi().s[49]++,this.props.maxHeight?(yi().b[12][0]++,yi().s[50]++,i.maxHeight=this.props.maxHeight):yi().b[12][1]++,yi().s[51]++,Ae.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[Ae.jsx("div",{className:t0("JSONEditor__message",{"JSONEditor__message--on":t}),children:Ae.jsxs(Dg,{t:e,children:["Press ",Ae.jsx("kbd",{children:"ESC"})," to lose focus"]})}),Ae.jsx("div",{className:t0("codemirror-container",this.props.className),ref:r=>{yi().f[14]++,yi().s[52]++,this._el=r},style:i})]})}}const Rle=(yi().s[53]++,es()(Dle));function W_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",e="ee4be309accf3b6f15b0a988cbdadd67c7132608",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:3,column:18},end:{line:5,column:1}},1:{start:{line:4,column:2},end:{line:4,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:18},end:{line:3,column:19}},loc:{start:{line:3,column:29},end:{line:5,column:1}},line:3}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AAOS;AAPT,OAAO,eAAsC;AAM7C,MAAM,YAAsC,CAAC,UAAU;AACrD,SAAO,oBAAC,aAAW,GAAG,OAAO;AAC/B;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ee4be309accf3b6f15b0a988cbdadd67c7132608"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return W_=function(){return l},l}W_();W_().s[0]++;const D8=n=>(W_().f[0]++,W_().s[1]++,Ae.jsx(Rle,{...n}));function Q_(n){return Ra({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a2 2 0 0 0 2 2c2 0 2 -4 3 -9s1 -9 3 -9a2 2 0 0 1 2 2"},child:[]},{tag:"path",attr:{d:"M5 12h6"},child:[]},{tag:"path",attr:{d:"M15 12l6 6"},child:[]},{tag:"path",attr:{d:"M15 18l6 -6"},child:[]}]})(n)}function j2(n){return Ra({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64Zm12,76H216a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Zm104,40H40a12,12,0,0,0,0,24H144a12,12,0,0,0,0-24Zm88,0H220V168a12,12,0,0,0-24,0v12H184a12,12,0,0,0,0,24h12v12a12,12,0,0,0,24,0V204h12a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function z1(){var n="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",e="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return z1=function(){return l},l}z1();const R8=(z1().s[0]++,["all","any","none"]);z1().s[1]++;const Ple=(z1().s[2]++,Object.keys($o.filter_operator.values).filter(n=>(z1().f[0]++,z1().s[3]++,R8.indexOf(n)<0)));function xr(){var n="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",e="d18e3b448d830733ac17bcacd45f7c08e364baa2",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:8,column:25}},1:{start:{line:8,column:16},end:{line:8,column:25}},2:{start:{line:9,column:2},end:{line:9,column:25}},3:{start:{line:9,column:16},end:{line:9,column:25}},4:{start:{line:10,column:2},end:{line:10,column:23}},5:{start:{line:13,column:19},end:{line:13,column:40}},6:{start:{line:14,column:2},end:{line:16,column:3}},7:{start:{line:15,column:4},end:{line:15,column:13}},8:{start:{line:17,column:2},end:{line:23,column:3}},9:{start:{line:18,column:4},end:{line:18,column:16}},10:{start:{line:19,column:9},end:{line:23,column:3}},11:{start:{line:20,column:4},end:{line:20,column:17}},12:{start:{line:22,column:4},end:{line:22,column:13}},13:{start:{line:26,column:2},end:{line:26,column:21}},14:{start:{line:27,column:2},end:{line:27,column:22}},15:{start:{line:28,column:2},end:{line:28,column:11}},16:{start:{line:31,column:24},end:{line:33,column:3}},17:{start:{line:35,column:20},end:{line:35,column:76}},18:{start:{line:36,column:4},end:{line:40,column:5}},19:{start:{line:37,column:6},end:{line:37,column:43}},20:{start:{line:38,column:11},end:{line:40,column:5}},21:{start:{line:39,column:6},end:{line:39,column:47}},22:{start:{line:41,column:4},end:{line:41,column:35}},23:{start:{line:44,column:14},end:{line:44,column:31}},24:{start:{line:45,column:21},end:{line:45,column:25}},25:{start:{line:46,column:25},end:{line:46,column:29}},26:{start:{line:47,column:23},end:{line:47,column:33}},27:{start:{line:48,column:4},end:{line:75,column:9}},28:{start:{line:54,column:72},end:{line:54,column:92}},29:{start:{line:55,column:41},end:{line:55,column:104}},30:{start:{line:63,column:37},end:{line:63,column:100}},31:{start:{line:72,column:27},end:{line:72,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:11,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:12,column:9},end:{line:12,column:21}},loc:{start:{line:12,column:25},end:{line:24,column:1}},line:12},2:{name:"parseFilter",decl:{start:{line:25,column:9},end:{line:25,column:20}},loc:{start:{line:25,column:24},end:{line:29,column:1}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:58},end:{line:42,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:76,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:54,column:58},end:{line:54,column:59}},loc:{start:{line:54,column:72},end:{line:54,column:92}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:55,column:20},end:{line:55,column:21}},loc:{start:{line:55,column:41},end:{line:55,column:104}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:63,column:20},end:{line:63,column:21}},loc:{start:{line:63,column:37},end:{line:63,column:100}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:27},end:{line:72,column:89}},line:72}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:25}},type:"if",locations:[{start:{line:8,column:2},end:{line:8,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:9,column:25}},type:"if",locations:[{start:{line:9,column:2},end:{line:9,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},2:{loc:{start:{line:14,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:16,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:14},3:{loc:{start:{line:17,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:23,column:3}},{start:{line:19,column:9},end:{line:23,column:3}}],line:17},4:{loc:{start:{line:19,column:9},end:{line:23,column:3}},type:"if",locations:[{start:{line:19,column:9},end:{line:23,column:3}},{start:{line:21,column:9},end:{line:23,column:3}}],line:19},5:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:38,column:11},end:{line:40,column:5}}],line:36},6:{loc:{start:{line:36,column:8},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:26}},{start:{line:36,column:30},end:{line:36,column:49}}],line:36},7:{loc:{start:{line:38,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},8:{loc:{start:{line:67,column:6},end:{line:74,column:10}},type:"binary-expr",locations:[{start:{line:67,column:6},end:{line:67,column:27}},{start:{line:67,column:47},end:{line:74,column:10}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM,GAAI,QAAO;AACrB,MAAI,MAAM,CAAW,EAAG,QAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d18e3b448d830733ac17bcacd45f7c08e364baa2"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return xr=function(){return l},l}xr();function Kle(n){return xr().f[0]++,xr().s[0]++,n===""?(xr().b[0][0]++,xr().s[1]++,n):(xr().b[0][1]++,xr().s[2]++,isNaN(n)?(xr().b[1][0]++,xr().s[3]++,n):(xr().b[1][1]++,xr().s[4]++,parseFloat(n)))}function Ule(n){xr().f[1]++;const e=(xr().s[5]++,typeof n=="string");if(xr().s[6]++,e)xr().b[2][1]++;else return xr().b[2][0]++,xr().s[7]++,n;return xr().s[8]++,n.match(/^\s*true\s*$/)?(xr().b[3][0]++,xr().s[9]++,!0):(xr().b[3][1]++,xr().s[10]++,n.match(/^\s*false\s*$/)?(xr().b[4][0]++,xr().s[11]++,!1):(xr().b[4][1]++,xr().s[12]++,n))}function Lle(n){return xr().f[2]++,xr().s[13]++,n=Kle(n),xr().s[14]++,n=Ule(n),xr().s[15]++,n}class Fle extends ni.Component{static defaultProps=(xr().s[16]++,{properties:{}});onFilterPartChanged(e,t,i){xr().f[3]++;let r=(xr().s[17]++,[e,t,...i.map(Lle)]);xr().s[18]++,xr().b[6][0]++,e==="has"||(xr().b[6][1]++,e==="!has")?(xr().b[5][0]++,xr().s[19]++,r=[e,t]):(xr().b[5][1]++,xr().s[20]++,i.length===0?(xr().b[7][0]++,xr().s[21]++,r=[e,t,""]):xr().b[7][1]++),xr().s[22]++,this.props.onChange(r)}render(){xr().f[4]++;const e=(xr().s[23]++,this.props.filter),t=(xr().s[24]++,e[0]),i=(xr().s[25]++,e[1]),r=(xr().s[26]++,e.slice(2));return xr().s[27]++,Ae.jsxs("div",{className:"maputnik-filter-editor-single",children:[Ae.jsx("div",{className:"maputnik-filter-editor-property",children:Ae.jsx(Eb,{"aria-label":"key",value:i,options:Object.keys(this.props.properties).map(a=>(xr().f[5]++,xr().s[28]++,[a,a])),onChange:a=>(xr().f[6]++,xr().s[29]++,this.onFilterPartChanged(t,a,r))})}),Ae.jsx("div",{className:"maputnik-filter-editor-operator",children:Ae.jsx(iy,{"aria-label":"function",value:t,onChange:a=>(xr().f[7]++,xr().s[30]++,this.onFilterPartChanged(a,i,r)),options:Ple})}),(xr().b[8][0]++,r.length>0&&(xr().b[8][1]++,Ae.jsx("div",{className:"maputnik-filter-editor-args",children:Ae.jsx(sm,{"aria-label":"value",value:r.join(","),onChange:a=>(xr().f[8]++,xr().s[31]++,this.onFilterPartChanged(t,i,a.split(",")))})})))]})}}function Mv(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",e="1beba484bbe354357d7ce4f43a423306cbd22032",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:20,column:9}},2:{start:{line:23,column:26},end:{line:23,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:21,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAYW,SACL,KADK;AAZX,OAAO,WAAuC;AAC9C,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAMtD,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,MACA,oBAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,qBAAqB;AAAA,UAE9B,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1beba484bbe354357d7ce4f43a423306cbd22032"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Mv=function(){return l},l}Mv();class zle extends ni.Component{render(){Mv().f[0]++;const e=(Mv().s[0]++,this.props.t);return Mv().s[1]++,Ae.jsxs("div",{className:"maputnik-filter-editor-block",children:[Ae.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children}),Ae.jsx("div",{className:"maputnik-filter-editor-block-action",children:Ae.jsx(Fs,{className:"maputnik-icon-button",onClick:this.props.onDelete,title:e("Delete filter block"),children:Ae.jsx(Z1,{})})})]})}}const jle=(Mv().s[2]++,es()(zle));var Y5,mk;function Nle(){if(mk)return Y5;mk=1;var n="[object Symbol]",e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",r="\\ufe0e\\ufe0f",a="["+e+"]",l="["+t+i+"]",o="\\ud83c[\\udffb-\\udfff]",p="(?:"+l+"|"+o+")",C="[^"+e+"]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",O="[\\ud800-\\udbff][\\udc00-\\udfff]",U="\\u200d",K=p+"?",j="["+r+"]?",W="(?:"+U+"(?:"+[C,M,O].join("|")+")"+j+K+")*",Y=j+K+W,te="(?:"+[C+l+"?",l,M,O,a].join("|")+")",J=RegExp(o+"(?="+o+")|"+te+Y,"g"),oe=RegExp("["+U+e+t+i+r+"]"),ne=typeof window=="object"&&window&&window.Object===Object&&window,$=typeof self=="object"&&self&&self.Object===Object&&self,ae=ne||$||Function("return this")();function G(gt){return gt.split("")}function ce(gt){return oe.test(gt)}function ge(gt){return ce(gt)?ye(gt):G(gt)}function ye(gt){return gt.match(J)||[]}var we=Object.prototype,Ie=we.toString,Se=ae.Symbol,Ve=Se?Se.prototype:void 0,xe=Ve?Ve.toString:void 0;function ze(gt,St,Ut){var Fe=-1,Ke=gt.length;St<0&&(St=-St>Ke?0:Ke+St),Ut=Ut>Ke?Ke:Ut,Ut<0&&(Ut+=Ke),Ke=St>Ut?0:Ut-St>>>0,St>>>=0;for(var Re=Array(Ke);++Fe<Ke;)Re[Fe]=gt[Fe+St];return Re}function st(gt){if(typeof gt=="string")return gt;if(Ne(gt))return xe?xe.call(gt):"";var St=gt+"";return St=="0"&&1/gt==-1/0?"-0":St}function Ct(gt,St,Ut){var Fe=gt.length;return Ut=Ut===void 0?Fe:Ut,!St&&Ut>=Fe?gt:ze(gt,St,Ut)}function nt(gt){return function(St){St=tt(St);var Ut=ce(St)?ge(St):void 0,Fe=Ut?Ut[0]:St.charAt(0),Ke=Ut?Ct(Ut,1).join(""):St.slice(1);return Fe[gt]()+Ke}}function be(gt){return!!gt&&typeof gt=="object"}function Ne(gt){return typeof gt=="symbol"||be(gt)&&Ie.call(gt)==n}function tt(gt){return gt==null?"":st(gt)}function lt(gt){return kt(tt(gt).toLowerCase())}var kt=nt("toUpperCase");return Y5=lt,Y5}var Gle=Nle();const P8=cu(Gle);function Lm(){var n="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",e="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Lm=function(){return l},l}Lm();function N2(n){Lm().f[0]++;let e;const t=(Lm().s[0]++,n.split("-"));return Lm().s[1]++,t.length>1?(Lm().b[0][0]++,Lm().s[2]++,e=n.split("-").slice(1).join(" ")):(Lm().b[0][1]++,Lm().s[3]++,e=n),Lm().s[4]++,P8(e)}function xo(){var n="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",e="ae2b7dfa9369164c20e9fa45958548bc328a0068",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:11,column:24},end:{line:17,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:22,column:6}},3:{start:{line:24,column:18},end:{line:28,column:3}},4:{start:{line:25,column:4},end:{line:27,column:7}},5:{start:{line:29,column:16},end:{line:33,column:3}},6:{start:{line:30,column:4},end:{line:32,column:7}},7:{start:{line:35,column:64},end:{line:35,column:74}},8:{start:{line:36,column:26},end:{line:36,column:36}},9:{start:{line:37,column:25},end:{line:37,column:52}},10:{start:{line:38,column:42},end:{line:60,column:8}},11:{start:{line:61,column:21},end:{line:61,column:83}},12:{start:{line:62,column:23},end:{line:62,column:39}},13:{start:{line:63,column:26},end:{line:63,column:40}},14:{start:{line:64,column:24},end:{line:64,column:26}},15:{start:{line:66,column:6},end:{line:66,column:65}},16:{start:{line:68,column:4},end:{line:79,column:5}},17:{start:{line:69,column:6},end:{line:69,column:52}},18:{start:{line:71,column:6},end:{line:75,column:9}},19:{start:{line:72,column:8},end:{line:72,column:45}},20:{start:{line:74,column:8},end:{line:74,column:39}},21:{start:{line:76,column:6},end:{line:78,column:7}},22:{start:{line:77,column:8},end:{line:77,column:37}},23:{start:{line:80,column:4},end:{line:110,column:6}},24:{start:{line:113,column:27},end:{line:113,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:13},end:{line:13,column:14}},loc:{start:{line:13,column:19},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:15,column:12},end:{line:15,column:13}},loc:{start:{line:15,column:18},end:{line:16,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:23,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:24,column:18},end:{line:24,column:19}},loc:{start:{line:24,column:28},end:{line:28,column:3}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:29,column:16},end:{line:29,column:17}},loc:{start:{line:29,column:22},end:{line:33,column:3}},line:29},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:11},end:{line:111,column:3}},line:34},6:{name:"getValue",decl:{start:{line:65,column:13},end:{line:65,column:21}},loc:{start:{line:65,column:28},end:{line:67,column:5}},line:65},7:{name:"(anonymous_7)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:55},end:{line:73,column:7}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:73,column:17},end:{line:73,column:18}},loc:{start:{line:73,column:36},end:{line:75,column:7}},line:73}},branchMap:{0:{loc:{start:{line:37,column:25},end:{line:37,column:52}},type:"cond-expr",locations:[{start:{line:37,column:35},end:{line:37,column:45}},{start:{line:37,column:48},end:{line:37,column:52}}],line:37},1:{loc:{start:{line:39,column:6},end:{line:49,column:7}},type:"binary-expr",locations:[{start:{line:39,column:6},end:{line:39,column:23}},{start:{line:39,column:43},end:{line:49,column:7}}],line:39},2:{loc:{start:{line:61,column:21},end:{line:61,column:83}},type:"cond-expr",locations:[{start:{line:61,column:44},end:{line:61,column:53}},{start:{line:61,column:56},end:{line:61,column:83}}],line:61},3:{loc:{start:{line:68,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:79,column:5}},{start:{line:70,column:11},end:{line:79,column:5}}],line:68},4:{loc:{start:{line:76,column:6},end:{line:78,column:7}},type:"if",locations:[{start:{line:76,column:6},end:{line:78,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA6DM,mBASM,KATN;AA7DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAC5B,SAA+B,uBAAuB;AAEtD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC/D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAO,EAAE,wBAAwB;AAAA,UAEjC,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAO,EAAE,mBAAmB;AAAA,UAE5B,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,EAAE,mBAAmB,KAAK,MAAM,SAAS,CAAC;AAAA,QACjD,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AACvE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ae2b7dfa9369164c20e9fa45958548bc328a0068"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return xo=function(){return l},l}xo();class Wle extends ni.Component{static defaultProps=(xo().s[0]++,{errors:{},onFocus:()=>{xo().f[0]++},onBlur:()=>{xo().f[1]++}});constructor(e){xo().f[2]++,xo().s[1]++,super(e),xo().s[2]++,this.state={jsonError:!1}}onJSONInvalid=(xo().s[3]++,e=>{xo().f[3]++,xo().s[4]++,this.setState({jsonError:!0})});onJSONValid=(xo().s[5]++,()=>{xo().f[4]++,xo().s[6]++,this.setState({jsonError:!1})});render(){xo().f[5]++;const{t:e,errors:t,fieldName:i,fieldType:r,value:a,canUndo:l}=(xo().s[7]++,this.props),{jsonError:o}=(xo().s[8]++,this.state),p=(xo().s[9]++,l?(xo().b[0][0]++,!l()):(xo().b[0][1]++,!0)),C=(xo().s[10]++,Ae.jsxs(Ae.Fragment,{children:[(xo().b[1][0]++,this.props.onUndo&&(xo().b[1][1]++,Ae.jsx(Fs,{onClick:this.props.onUndo,disabled:p,className:"maputnik-delete-stop",title:e("Revert from expression"),children:Ae.jsx(G$,{})},"undo_action"))),Ae.jsx(Fs,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:e("Delete expression"),children:Ae.jsx(Z1,{})},"delete_action")]})),M=(xo().s[11]++,r===void 0?(xo().b[2][0]++,i):(xo().b[2][1]++,`${r}.${i}`)),O=(xo().s[12]++,t[M]),U=(xo().s[13]++,`${M}[`),K=(xo().s[14]++,[]);function j(W){return xo().f[6]++,xo().s[15]++,fN(W,{indent:2,maxLength:38})}return xo().s[16]++,o?(xo().b[3][0]++,xo().s[17]++,K.push({message:"Invalid JSON"})):(xo().b[3][1]++,xo().s[18]++,Object.entries(t).filter(([W,Y])=>(xo().f[7]++,xo().s[19]++,W.startsWith(U))).forEach(([W,Y])=>(xo().f[8]++,xo().s[20]++,K.push(Y))),xo().s[21]++,O?(xo().b[4][0]++,xo().s[22]++,K.push(O)):xo().b[4][1]++),xo().s[23]++,Ae.jsx(Ls,{error:K,fieldSpec:this.props.fieldSpec,label:e(N2(this.props.fieldName)),action:C,wideMode:!0,children:Ae.jsx(D8,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:a,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:j,onChange:this.props.onChange})})}}const mN=(xo().s[24]++,es()(Wle));function Pn(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",e="206fb987d284979cc37af4d291535ae617ff8412",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:17,column:17},end:{line:17,column:40}},1:{start:{line:18,column:2},end:{line:20,column:3}},2:{start:{line:19,column:4},end:{line:19,column:18}},3:{start:{line:21,column:20},end:{line:21,column:29}},4:{start:{line:22,column:16},end:{line:22,column:31}},5:{start:{line:23,column:2},end:{line:26,column:3}},6:{start:{line:24,column:4},end:{line:24,column:24}},7:{start:{line:25,column:4},end:{line:25,column:32}},8:{start:{line:27,column:2},end:{line:27,column:35}},9:{start:{line:30,column:2},end:{line:30,column:65}},10:{start:{line:33,column:2},end:{line:54,column:4}},11:{start:{line:56,column:19},end:{line:60,column:1}},12:{start:{line:62,column:2},end:{line:64,column:3}},13:{start:{line:63,column:4},end:{line:63,column:16}},14:{start:{line:65,column:21},end:{line:65,column:42}},15:{start:{line:66,column:2},end:{line:66,column:38}},16:{start:{line:69,column:2},end:{line:69,column:52}},17:{start:{line:72,column:2},end:{line:74,column:3}},18:{start:{line:73,column:4},end:{line:73,column:97}},19:{start:{line:73,column:38},end:{line:73,column:59}},20:{start:{line:73,column:75},end:{line:73,column:84}},21:{start:{line:75,column:2},end:{line:75,column:15}},22:{start:{line:78,column:24},end:{line:80,column:3}},23:{start:{line:82,column:4},end:{line:82,column:17}},24:{start:{line:83,column:4},end:{line:86,column:6}},25:{start:{line:90,column:22},end:{line:90,column:58}},26:{start:{line:91,column:4},end:{line:91,column:35}},27:{start:{line:92,column:4},end:{line:92,column:35}},28:{start:{line:95,column:22},end:{line:95,column:58}},29:{start:{line:96,column:4},end:{line:96,column:39}},30:{start:{line:97,column:4},end:{line:97,column:35}},31:{start:{line:99,column:18},end:{line:103,column:3}},32:{start:{line:100,column:26},end:{line:100,column:62}},33:{start:{line:101,column:4},end:{line:101,column:43}},34:{start:{line:102,column:4},end:{line:102,column:39}},35:{start:{line:104,column:16},end:{line:108,column:3}},36:{start:{line:105,column:4},end:{line:107,column:7}},37:{start:{line:109,column:15},end:{line:113,column:3}},38:{start:{line:110,column:4},end:{line:112,column:7}},39:{start:{line:114,column:19},end:{line:120,column:3}},40:{start:{line:115,column:19},end:{line:115,column:46}},41:{start:{line:116,column:4},end:{line:116,column:47}},42:{start:{line:117,column:4},end:{line:119,column:7}},43:{start:{line:122,column:32},end:{line:122,column:75}},44:{start:{line:123,column:4},end:{line:136,column:5}},45:{start:{line:124,column:6},end:{line:127,column:8}},46:{start:{line:128,column:11},end:{line:136,column:5}},47:{start:{line:129,column:6},end:{line:131,column:8}},48:{start:{line:133,column:6},end:{line:135,column:8}},49:{start:{line:139,column:26},end:{line:139,column:36}},50:{start:{line:140,column:36},end:{line:140,column:46}},51:{start:{line:141,column:22},end:{line:143,column:5}},52:{start:{line:144,column:26},end:{line:144,column:33}},53:{start:{line:145,column:36},end:{line:145,column:112}},54:{start:{line:146,column:4},end:{line:270,column:5}},55:{start:{line:147,column:6},end:{line:160,column:11}},56:{start:{line:161,column:11},end:{line:270,column:5}},57:{start:{line:162,column:21},end:{line:162,column:48}},58:{start:{line:163,column:26},end:{line:163,column:35}},59:{start:{line:164,column:22},end:{line:164,column:37}},60:{start:{line:165,column:38},end:{line:173,column:10}},61:{start:{line:174,column:27},end:{line:187,column:8}},62:{start:{line:175,column:22},end:{line:175,column:50}},63:{start:{line:176,column:8},end:{line:186,column:29}},64:{start:{line:188,column:6},end:{line:239,column:11}},65:{start:{line:199,column:33},end:{line:199,column:63}},66:{start:{line:241,column:25},end:{line:241,column:35}},67:{start:{line:242,column:6},end:{line:269,column:11}},68:{start:{line:247,column:14},end:{line:247,column:59}},69:{start:{line:248,column:14},end:{line:248,column:49}},70:{start:{line:273,column:21},end:{line:273,column:60}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:16,column:9},end:{line:16,column:24}},loc:{start:{line:16,column:32},end:{line:28,column:1}},line:16},1:{name:"migrateFilter",decl:{start:{line:29,column:9},end:{line:29,column:22}},loc:{start:{line:29,column:31},end:{line:31,column:1}},line:29},2:{name:"createStyleFromFilter",decl:{start:{line:32,column:9},end:{line:32,column:30}},loc:{start:{line:32,column:39},end:{line:55,column:1}},line:32},3:{name:"checkIfSimpleFilter",decl:{start:{line:61,column:9},end:{line:61,column:28}},loc:{start:{line:61,column:37},end:{line:67,column:1}},line:61},4:{name:"hasCombiningFilter",decl:{start:{line:68,column:9},end:{line:68,column:27}},loc:{start:{line:68,column:36},end:{line:70,column:1}},line:68},5:{name:"hasNestedCombiningFilter",decl:{start:{line:71,column:9},end:{line:71,column:33}},loc:{start:{line:71,column:42},end:{line:76,column:1}},line:71},6:{name:"(anonymous_6)",decl:{start:{line:73,column:31},end:{line:73,column:32}},loc:{start:{line:73,column:38},end:{line:73,column:59}},line:73},7:{name:"(anonymous_7)",decl:{start:{line:73,column:68},end:{line:73,column:69}},loc:{start:{line:73,column:75},end:{line:73,column:84}},line:73},8:{name:"(anonymous_8)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:21},end:{line:87,column:3}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:42},end:{line:93,column:3}},line:89},10:{name:"(anonymous_10)",decl:{start:{line:94,column:2},end:{line:94,column:3}},loc:{start:{line:94,column:30},end:{line:98,column:3}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:99,column:18},end:{line:99,column:19}},loc:{start:{line:99,column:24},end:{line:103,column:3}},line:99},12:{name:"(anonymous_12)",decl:{start:{line:104,column:16},end:{line:104,column:17}},loc:{start:{line:104,column:25},end:{line:108,column:3}},line:104},13:{name:"(anonymous_13)",decl:{start:{line:109,column:15},end:{line:109,column:16}},loc:{start:{line:109,column:21},end:{line:113,column:3}},line:109},14:{name:"(anonymous_14)",decl:{start:{line:114,column:19},end:{line:114,column:20}},loc:{start:{line:114,column:25},end:{line:120,column:3}},line:114},15:{name:"(anonymous_15)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:48},end:{line:137,column:3}},line:121},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:271,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:174,column:39},end:{line:174,column:40}},loc:{start:{line:174,column:51},end:{line:187,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:199,column:26},end:{line:199,column:27}},loc:{start:{line:199,column:33},end:{line:199,column:63}},line:199},19:{name:"(anonymous_19)",decl:{start:{line:246,column:22},end:{line:246,column:23}},loc:{start:{line:246,column:28},end:{line:249,column:13}},line:246}},branchMap:{0:{loc:{start:{line:17,column:17},end:{line:17,column:40}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:29}},{start:{line:17,column:33},end:{line:17,column:40}}],line:17},1:{loc:{start:{line:18,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:23,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:62,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:62,column:2},end:{line:64,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},4:{loc:{start:{line:62,column:6},end:{line:62,column:59}},type:"binary-expr",locations:[{start:{line:62,column:6},end:{line:62,column:25}},{start:{line:62,column:29},end:{line:62,column:59}}],line:62},5:{loc:{start:{line:72,column:2},end:{line:74,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:74,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},6:{loc:{start:{line:123,column:4},end:{line:136,column:5}},type:"if",locations:[{start:{line:123,column:4},end:{line:136,column:5}},{start:{line:128,column:11},end:{line:136,column:5}}],line:123},7:{loc:{start:{line:123,column:8},end:{line:123,column:66}},type:"binary-expr",locations:[{start:{line:123,column:8},end:{line:123,column:28}},{start:{line:123,column:32},end:{line:123,column:66}}],line:123},8:{loc:{start:{line:128,column:11},end:{line:136,column:5}},type:"if",locations:[{start:{line:128,column:11},end:{line:136,column:5}},{start:{line:132,column:11},end:{line:136,column:5}}],line:128},9:{loc:{start:{line:128,column:15},end:{line:128,column:73}},type:"binary-expr",locations:[{start:{line:128,column:15},end:{line:128,column:34}},{start:{line:128,column:38},end:{line:128,column:73}}],line:128},10:{loc:{start:{line:145,column:36},end:{line:145,column:112}},type:"binary-expr",locations:[{start:{line:145,column:36},end:{line:145,column:55}},{start:{line:145,column:59},end:{line:145,column:112}}],line:145},11:{loc:{start:{line:146,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:270,column:5}},{start:{line:161,column:11},end:{line:270,column:5}}],line:146},12:{loc:{start:{line:161,column:11},end:{line:270,column:5}},type:"if",locations:[{start:{line:161,column:11},end:{line:270,column:5}},{start:{line:240,column:11},end:{line:270,column:5}}],line:161},13:{loc:{start:{line:185,column:10},end:{line:185,column:119}},type:"binary-expr",locations:[{start:{line:185,column:10},end:{line:185,column:15}},{start:{line:185,column:35},end:{line:185,column:119}}],line:185},14:{loc:{start:{line:234,column:30},end:{line:234,column:62}},type:"cond-expr",locations:[{start:{line:234,column:51},end:{line:234,column:53}},{start:{line:234,column:56},end:{line:234,column:62}}],line:234},15:{loc:{start:{line:257,column:8},end:{line:268,column:12}},type:"binary-expr",locations:[{start:{line:257,column:8},end:{line:257,column:38}},{start:{line:257,column:58},end:{line:268,column:12}}],line:257}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AAiMQ,SAkDA,UAlDA,KAGA,YAHA;AAjMR,OAAO,WAAW;AAClB,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAE7C,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAC/B,SAA+B,uBAAuB;AAItD,SAAS,gBAAgB,OAAuF;AAC9G,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAuF;AACpH,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAAkC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,MAAM,wBAAwB,MAAM;AAC9D,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,MAAM,wBAAwB,OAAO;AACnE,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,EAAC,IAAI,KAAK;AACzB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OACE,YAAE,mCAAmC,GACxC;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAO,EAAE,uBAAuB;AAAA,YAEhC;AAAA,kCAAC,kBAAe;AAAA,cACf,EAAE,uBAAuB;AAAA;AAAA;AAAA,QAC5B;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAO,EAAE,uBAAuB;AAAA,UAChC,WAAU;AAAA,UAEV,8BAAC,kBAAe;AAAA;AAAA,MAClB,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO,EAAE,QAAQ;AAAA,YACjB,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS;AAAA,kBACP,CAAC,OAAO,EAAE,sBAAsB,CAAC;AAAA,kBACjC,CAAC,QAAQ,EAAE,mBAAmB,CAAC;AAAA,kBAC/B,CAAC,OAAO,EAAE,oBAAoB,CAAC;AAAA,gBACjC;AAAA;AAAA,YACF;AAAA;AAAA,UAbI;AAAA,QAcN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,kBACxD,EAAE,YAAY;AAAA;AAAA;AAAA,YACjB;AAAA;AAAA,UAVI;AAAA,QAWN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBACZ;AAAA,YAAE,qCAAqC;AAAA,UACvC;AAAA,UACD;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cAET,YAAE,0BAA0B;AAAA;AAAA,UAC/B;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"206fb987d284979cc37af4d291535ae617ff8412"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Pn=function(){return l},l}Pn();function mg(n){Pn().f[0]++;const e=(Pn().s[0]++,Pn().b[0][0]++,n.filter||(Pn().b[0][1]++,["all"]));if(Pn().s[1]++,Array.isArray(e))Pn().b[1][1]++;else return Pn().b[1][0]++,Pn().s[2]++,e;let t=(Pn().s[3]++,e[0]),i=(Pn().s[4]++,e.slice(1));return Pn().s[5]++,R8.indexOf(t)<0?(Pn().b[2][0]++,Pn().s[6]++,t="all",Pn().s[7]++,i=[e.slice(0)]):Pn().b[2][1]++,Pn().s[8]++,[t,...i]}function Qle(n){return Pn().f[1]++,Pn().s[9]++,dV(Yle(n)).layers[0].filter}function Yle(n){return Pn().f[2]++,Pn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:n}]}}const qle=(Pn().s[11]++,["all","any","none"]);function gk(n){if(Pn().f[3]++,Pn().s[12]++,Pn().b[4][0]++,n.length===1&&(Pn().b[4][1]++,qle.includes(n[0])))return Pn().b[3][0]++,Pn().s[13]++,!0;Pn().b[3][1]++;const e=(Pn().s[14]++,e_(n));return Pn().s[15]++,!nb.isEqual(e,n)}function yk(n){return Pn().f[4]++,Pn().s[16]++,R8.indexOf(n[0])>=0}function Hle(n){return Pn().f[5]++,Pn().s[17]++,yk(n)?(Pn().b[5][0]++,Pn().s[18]++,n.slice(1).map(e=>(Pn().f[6]++,Pn().s[19]++,yk(e))).filter(e=>(Pn().f[7]++,Pn().s[20]++,e==!0)).length>0):(Pn().b[5][1]++,Pn().s[21]++,!1)}class Vle extends ni.Component{static defaultProps=(Pn().s[22]++,{filter:["all"]});constructor(e){Pn().f[8]++,Pn().s[23]++,super(e),Pn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:gk(mg(e))}}onFilterPartChanged(e,t){Pn().f[9]++;const i=(Pn().s[25]++,mg(this.props).slice(0));Pn().s[26]++,i[e]=t,Pn().s[27]++,this.props.onChange(i)}deleteFilterItem(e){Pn().f[10]++;const t=(Pn().s[28]++,mg(this.props).slice(0));Pn().s[29]++,t.splice(e+1,1),Pn().s[30]++,this.props.onChange(t)}addFilterItem=(Pn().s[31]++,()=>{Pn().f[11]++;const e=(Pn().s[32]++,mg(this.props).slice(0));Pn().s[33]++,e.push(["==","name",""]),Pn().s[34]++,this.props.onChange(e)});onToggleDoc=(Pn().s[35]++,e=>{Pn().f[12]++,Pn().s[36]++,this.setState({showDoc:e})});makeFilter=(Pn().s[37]++,()=>{Pn().f[13]++,Pn().s[38]++,this.setState({displaySimpleFilter:!0})});makeExpression=(Pn().s[39]++,()=>{Pn().f[14]++;const e=(Pn().s[40]++,mg(this.props));Pn().s[41]++,this.props.onChange(Qle(e)),Pn().s[42]++,this.setState({displaySimpleFilter:!1})});static getDerivedStateFromProps(e,t){Pn().f[15]++;const i=(Pn().s[43]++,gk(mg(e)));return Pn().s[44]++,Pn().b[7][0]++,!i&&(Pn().b[7][1]++,t.displaySimpleFilter===!0)?(Pn().b[6][0]++,Pn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(Pn().b[6][1]++,Pn().s[46]++,Pn().b[9][0]++,i&&(Pn().b[9][1]++,t.displaySimpleFilter===!1)?(Pn().b[8][0]++,Pn().s[47]++,{valueIsSimpleFilter:!0}):(Pn().b[8][1]++,Pn().s[48]++,{valueIsSimpleFilter:!1}))}render(){Pn().f[16]++;const{errors:e,t}=(Pn().s[49]++,this.props),{displaySimpleFilter:i}=(Pn().s[50]++,this.state),r=(Pn().s[51]++,{doc:Xa.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),a=(Pn().s[52]++,["all"]),l=(Pn().s[53]++,Pn().b[10][0]++,i&&(Pn().b[10][1]++,Hle(mg(this.props))));if(Pn().s[54]++,l)return Pn().b[11][0]++,Pn().s[55]++,Ae.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[Ae.jsx("p",{children:t("Nested filters are not supported.")}),Ae.jsxs(Fs,{onClick:this.makeExpression,title:t("Convert to expression"),children:[Ae.jsx(Q_,{}),t("Upgrade to expression")]})]});if(Pn().b[11][1]++,Pn().s[56]++,i){Pn().b[12][0]++;const o=(Pn().s[57]++,mg(this.props)),p=(Pn().s[58]++,o[0]),C=(Pn().s[59]++,o.slice(1)),M=(Pn().s[60]++,Ae.jsx("div",{children:Ae.jsx(Fs,{onClick:this.makeExpression,title:t("Convert to expression"),className:"maputnik-make-zoom-function",children:Ae.jsx(Q_,{})})})),O=(Pn().s[61]++,C.map((U,K)=>{Pn().f[17]++;const j=(Pn().s[62]++,e[`filter[${K+1}]`]);return Pn().s[63]++,Ae.jsxs("div",{children:[Ae.jsx(jle,{onDelete:this.deleteFilterItem.bind(this,K),children:Ae.jsx(Fle,{properties:this.props.properties,filter:U,onChange:this.onFilterPartChanged.bind(this,K+1)})},K),(Pn().b[13][0]++,j&&(Pn().b[13][1]++,Ae.jsx("div",{className:"maputnik-inline-error",children:j.message},"error")))]},`block-${K}`)}));return Pn().s[64]++,Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(Ls,{fieldSpec:r,label:t("Filter"),action:M,children:Ae.jsx(iy,{value:p,onChange:U=>(Pn().f[18]++,Pn().s[65]++,this.onFilterPartChanged(0,U)),options:[["all",t("every filter matches")],["none",t("no filter matches")],["any",t("any filter matches")]]})},"top"),O,Ae.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:Ae.jsxs(Fs,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[Ae.jsx(j2,{style:{verticalAlign:"text-bottom"}}),t("Add filter")]})},"buttons"),Ae.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Pn().b[14][0]++,""):(Pn().b[14][1]++,"none")},children:Ae.jsx(T2,{fieldSpec:r})},"doc")]})}else{Pn().b[12][1]++;const{filter:o}=(Pn().s[66]++,this.props);return Pn().s[67]++,Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(mN,{onDelete:()=>{Pn().f[19]++,Pn().s[68]++,this.setState({displaySimpleFilter:!0}),Pn().s[69]++,this.props.onChange(a)},fieldName:"filter",fieldSpec:r,value:o,errors:e,onChange:this.props.onChange}),(Pn().b[15][0]++,this.state.valueIsSimpleFilter&&(Pn().b[15][1]++,Ae.jsxs("div",{className:"maputnik-expr-infobox",children:[t("You've entered an old style filter.")," ",Ae.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:t("Switch to filter editor.")})]})))]})}}}const $le=(Pn().s[70]++,es()(Vle));var zy={},jd={},jy={},q5,vk;function gN(){if(vk)return q5;vk=1;var n=typeof window=="object"&&window&&window.Object===Object&&window;return q5=n,q5}var H5,Ck;function hm(){if(Ck)return H5;Ck=1;var n=gN(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return H5=t,H5}var V5,_k;function Bb(){if(_k)return V5;_k=1;var n=hm(),e=n.Symbol;return V5=e,V5}var $5,bk;function Zle(){if(bk)return $5;bk=1;var n=Bb(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,r=n?n.toStringTag:void 0;function a(l){var o=t.call(l,r),p=l[r];try{l[r]=void 0;var C=!0}catch{}var M=i.call(l);return C&&(o?l[r]=p:delete l[r]),M}return $5=a,$5}var Z5,xk;function Xle(){if(xk)return Z5;xk=1;var n=Object.prototype,e=n.toString;function t(i){return e.call(i)}return Z5=t,Z5}var X5,Mk;function ry(){if(Mk)return X5;Mk=1;var n=Bb(),e=Zle(),t=Xle(),i="[object Null]",r="[object Undefined]",a=n?n.toStringTag:void 0;function l(o){return o==null?o===void 0?r:i:a&&a in Object(o)?e(o):t(o)}return X5=l,X5}var J5,wk;function kf(){if(wk)return J5;wk=1;var n=Array.isArray;return J5=n,J5}var eM,Sk;function r0(){if(Sk)return eM;Sk=1;function n(e){return e!=null&&typeof e=="object"}return eM=n,eM}var tM,Ek;function Jle(){if(Ek)return tM;Ek=1;var n=ry(),e=kf(),t=r0(),i="[object String]";function r(a){return typeof a=="string"||!e(a)&&t(a)&&n(a)==i}return tM=r,tM}var nM,Bk;function eAe(){if(Bk)return nM;Bk=1;function n(e){return function(t,i,r){for(var a=-1,l=Object(t),o=r(t),p=o.length;p--;){var C=o[e?p:++a];if(i(l[C],C,l)===!1)break}return t}}return nM=n,nM}var iM,Ok;function yN(){if(Ok)return iM;Ok=1;var n=eAe(),e=n();return iM=e,iM}var rM,Ik;function tAe(){if(Ik)return rM;Ik=1;function n(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}return rM=n,rM}var oM,Tk;function nAe(){if(Tk)return oM;Tk=1;var n=ry(),e=r0(),t="[object Arguments]";function i(r){return e(r)&&n(r)==t}return oM=i,oM}var aM,kk;function K8(){if(kk)return aM;kk=1;var n=nAe(),e=r0(),t=Object.prototype,i=t.hasOwnProperty,r=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(l){return e(l)&&i.call(l,"callee")&&!r.call(l,"callee")};return aM=a,aM}var WC={exports:{}},sM,Dk;function iAe(){if(Dk)return sM;Dk=1;function n(){return!1}return sM=n,sM}WC.exports;var Rk;function G2(){return Rk||(Rk=1,function(n,e){var t=hm(),i=iAe(),r=e&&!e.nodeType&&e,a=r&&!0&&n&&!n.nodeType&&n,l=a&&a.exports===r,o=l?t.Buffer:void 0,p=o?o.isBuffer:void 0,C=p||i;n.exports=C}(WC,WC.exports)),WC.exports}var lM,Pk;function U8(){if(Pk)return lM;Pk=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,r){var a=typeof i;return r=r??n,!!r&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return lM=t,lM}var AM,Kk;function L8(){if(Kk)return AM;Kk=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return AM=e,AM}var uM,Uk;function rAe(){if(Uk)return uM;Uk=1;var n=ry(),e=L8(),t=r0(),i="[object Arguments]",r="[object Array]",a="[object Boolean]",l="[object Date]",o="[object Error]",p="[object Function]",C="[object Map]",M="[object Number]",O="[object Object]",U="[object RegExp]",K="[object Set]",j="[object String]",W="[object WeakMap]",Y="[object ArrayBuffer]",te="[object DataView]",J="[object Float32Array]",oe="[object Float64Array]",ne="[object Int8Array]",$="[object Int16Array]",ae="[object Int32Array]",G="[object Uint8Array]",ce="[object Uint8ClampedArray]",ge="[object Uint16Array]",ye="[object Uint32Array]",we={};we[J]=we[oe]=we[ne]=we[$]=we[ae]=we[G]=we[ce]=we[ge]=we[ye]=!0,we[i]=we[r]=we[Y]=we[a]=we[te]=we[l]=we[o]=we[p]=we[C]=we[M]=we[O]=we[U]=we[K]=we[j]=we[W]=!1;function Ie(Se){return t(Se)&&e(Se.length)&&!!we[n(Se)]}return uM=Ie,uM}var cM,Lk;function F8(){if(Lk)return cM;Lk=1;function n(e){return function(t){return e(t)}}return cM=n,cM}var QC={exports:{}};QC.exports;var Fk;function z8(){return Fk||(Fk=1,function(n,e){var t=gN(),i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,a=r&&r.exports===i,l=a&&t.process,o=function(){try{var p=r&&r.require&&r.require("util").types;return p||l&&l.binding&&l.binding("util")}catch{}}();n.exports=o}(QC,QC.exports)),QC.exports}var hM,zk;function j8(){if(zk)return hM;zk=1;var n=rAe(),e=F8(),t=z8(),i=t&&t.isTypedArray,r=i?e(i):n;return hM=r,hM}var dM,jk;function vN(){if(jk)return dM;jk=1;var n=tAe(),e=K8(),t=kf(),i=G2(),r=U8(),a=j8(),l=Object.prototype,o=l.hasOwnProperty;function p(C,M){var O=t(C),U=!O&&e(C),K=!O&&!U&&i(C),j=!O&&!U&&!K&&a(C),W=O||U||K||j,Y=W?n(C.length,String):[],te=Y.length;for(var J in C)(M||o.call(C,J))&&!(W&&(J=="length"||K&&(J=="offset"||J=="parent")||j&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||r(J,te)))&&Y.push(J);return Y}return dM=p,dM}var fM,Nk;function N8(){if(Nk)return fM;Nk=1;var n=Object.prototype;function e(t){var i=t&&t.constructor,r=typeof i=="function"&&i.prototype||n;return t===r}return fM=e,fM}var pM,Gk;function CN(){if(Gk)return pM;Gk=1;function n(e,t){return function(i){return e(t(i))}}return pM=n,pM}var mM,Wk;function oAe(){if(Wk)return mM;Wk=1;var n=CN(),e=n(Object.keys,Object);return mM=e,mM}var gM,Qk;function aAe(){if(Qk)return gM;Qk=1;var n=N8(),e=oAe(),t=Object.prototype,i=t.hasOwnProperty;function r(a){if(!n(a))return e(a);var l=[];for(var o in Object(a))i.call(a,o)&&o!="constructor"&&l.push(o);return l}return gM=r,gM}var yM,Yk;function Mp(){if(Yk)return yM;Yk=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return yM=n,yM}var vM,qk;function G8(){if(qk)return vM;qk=1;var n=ry(),e=Mp(),t="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",a="[object Proxy]";function l(o){if(!e(o))return!1;var p=n(o);return p==i||p==r||p==t||p==a}return vM=l,vM}var CM,Hk;function nC(){if(Hk)return CM;Hk=1;var n=G8(),e=L8();function t(i){return i!=null&&e(i.length)&&!n(i)}return CM=t,CM}var _M,Vk;function Ob(){if(Vk)return _M;Vk=1;var n=vN(),e=aAe(),t=nC();function i(r){return t(r)?n(r):e(r)}return _M=i,_M}var bM,$k;function _N(){if($k)return bM;$k=1;var n=yN(),e=Ob();function t(i,r){return i&&n(i,r,e)}return bM=t,bM}var xM,Zk;function W2(){if(Zk)return xM;Zk=1;function n(e){return e}return xM=n,xM}var MM,Xk;function bN(){if(Xk)return MM;Xk=1;var n=W2();function e(t){return typeof t=="function"?t:n}return MM=e,MM}var wM,Jk;function W8(){if(Jk)return wM;Jk=1;var n=_N(),e=bN();function t(i,r){return i&&n(i,e(r))}return wM=t,wM}var SM,eD;function Q8(){if(eD)return SM;eD=1;var n=CN(),e=n(Object.getPrototypeOf,Object);return SM=e,SM}var EM,tD;function xN(){if(tD)return EM;tD=1;var n=ry(),e=Q8(),t=r0(),i="[object Object]",r=Function.prototype,a=Object.prototype,l=r.toString,o=a.hasOwnProperty,p=l.call(Object);function C(M){if(!t(M)||n(M)!=i)return!1;var O=e(M);if(O===null)return!0;var U=o.call(O,"constructor")&&O.constructor;return typeof U=="function"&&U instanceof U&&l.call(U)==p}return EM=C,EM}var BM,nD;function MN(){if(nD)return BM;nD=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,a=Array(r);++i<r;)a[i]=t(e[i],i,e);return a}return BM=n,BM}var OM,iD;function sAe(){if(iD)return OM;iD=1;function n(){this.__data__=[],this.size=0}return OM=n,OM}var IM,rD;function Ib(){if(rD)return IM;rD=1;function n(e,t){return e===t||e!==e&&t!==t}return IM=n,IM}var TM,oD;function Q2(){if(oD)return TM;oD=1;var n=Ib();function e(t,i){for(var r=t.length;r--;)if(n(t[r][0],i))return r;return-1}return TM=e,TM}var kM,aD;function lAe(){if(aD)return kM;aD=1;var n=Q2(),e=Array.prototype,t=e.splice;function i(r){var a=this.__data__,l=n(a,r);if(l<0)return!1;var o=a.length-1;return l==o?a.pop():t.call(a,l,1),--this.size,!0}return kM=i,kM}var DM,sD;function AAe(){if(sD)return DM;sD=1;var n=Q2();function e(t){var i=this.__data__,r=n(i,t);return r<0?void 0:i[r][1]}return DM=e,DM}var RM,lD;function uAe(){if(lD)return RM;lD=1;var n=Q2();function e(t){return n(this.__data__,t)>-1}return RM=e,RM}var PM,AD;function cAe(){if(AD)return PM;AD=1;var n=Q2();function e(t,i){var r=this.__data__,a=n(r,t);return a<0?(++this.size,r.push([t,i])):r[a][1]=i,this}return PM=e,PM}var KM,uD;function Y2(){if(uD)return KM;uD=1;var n=sAe(),e=lAe(),t=AAe(),i=uAe(),r=cAe();function a(l){var o=-1,p=l==null?0:l.length;for(this.clear();++o<p;){var C=l[o];this.set(C[0],C[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=r,KM=a,KM}var UM,cD;function hAe(){if(cD)return UM;cD=1;var n=Y2();function e(){this.__data__=new n,this.size=0}return UM=e,UM}var LM,hD;function dAe(){if(hD)return LM;hD=1;function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return LM=n,LM}var FM,dD;function fAe(){if(dD)return FM;dD=1;function n(e){return this.__data__.get(e)}return FM=n,FM}var zM,fD;function pAe(){if(fD)return zM;fD=1;function n(e){return this.__data__.has(e)}return zM=n,zM}var jM,pD;function mAe(){if(pD)return jM;pD=1;var n=hm(),e=n["__core-js_shared__"];return jM=e,jM}var NM,mD;function gAe(){if(mD)return NM;mD=1;var n=mAe(),e=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return NM=t,NM}var GM,gD;function wN(){if(gD)return GM;gD=1;var n=Function.prototype,e=n.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return GM=t,GM}var WM,yD;function yAe(){if(yD)return WM;yD=1;var n=G8(),e=gAe(),t=Mp(),i=wN(),r=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,o=Object.prototype,p=l.toString,C=o.hasOwnProperty,M=RegExp("^"+p.call(C).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O(U){if(!t(U)||e(U))return!1;var K=n(U)?M:a;return K.test(i(U))}return WM=O,WM}var QM,vD;function vAe(){if(vD)return QM;vD=1;function n(e,t){return e?.[t]}return QM=n,QM}var YM,CD;function oy(){if(CD)return YM;CD=1;var n=yAe(),e=vAe();function t(i,r){var a=e(i,r);return n(a)?a:void 0}return YM=t,YM}var qM,_D;function Y8(){if(_D)return qM;_D=1;var n=oy(),e=hm(),t=n(e,"Map");return qM=t,qM}var HM,bD;function q2(){if(bD)return HM;bD=1;var n=oy(),e=n(Object,"create");return HM=e,HM}var VM,xD;function CAe(){if(xD)return VM;xD=1;var n=q2();function e(){this.__data__=n?n(null):{},this.size=0}return VM=e,VM}var $M,MD;function _Ae(){if(MD)return $M;MD=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return $M=n,$M}var ZM,wD;function bAe(){if(wD)return ZM;wD=1;var n=q2(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function r(a){var l=this.__data__;if(n){var o=l[a];return o===e?void 0:o}return i.call(l,a)?l[a]:void 0}return ZM=r,ZM}var XM,SD;function xAe(){if(SD)return XM;SD=1;var n=q2(),e=Object.prototype,t=e.hasOwnProperty;function i(r){var a=this.__data__;return n?a[r]!==void 0:t.call(a,r)}return XM=i,XM}var JM,ED;function MAe(){if(ED)return JM;ED=1;var n=q2(),e="__lodash_hash_undefined__";function t(i,r){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=n&&r===void 0?e:r,this}return JM=t,JM}var ew,BD;function wAe(){if(BD)return ew;BD=1;var n=CAe(),e=_Ae(),t=bAe(),i=xAe(),r=MAe();function a(l){var o=-1,p=l==null?0:l.length;for(this.clear();++o<p;){var C=l[o];this.set(C[0],C[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=r,ew=a,ew}var tw,OD;function SAe(){if(OD)return tw;OD=1;var n=wAe(),e=Y2(),t=Y8();function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return tw=i,tw}var nw,ID;function EAe(){if(ID)return nw;ID=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return nw=n,nw}var iw,TD;function H2(){if(TD)return iw;TD=1;var n=EAe();function e(t,i){var r=t.__data__;return n(i)?r[typeof i=="string"?"string":"hash"]:r.map}return iw=e,iw}var rw,kD;function BAe(){if(kD)return rw;kD=1;var n=H2();function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}return rw=e,rw}var ow,DD;function OAe(){if(DD)return ow;DD=1;var n=H2();function e(t){return n(this,t).get(t)}return ow=e,ow}var aw,RD;function IAe(){if(RD)return aw;RD=1;var n=H2();function e(t){return n(this,t).has(t)}return aw=e,aw}var sw,PD;function TAe(){if(PD)return sw;PD=1;var n=H2();function e(t,i){var r=n(this,t),a=r.size;return r.set(t,i),this.size+=r.size==a?0:1,this}return sw=e,sw}var lw,KD;function q8(){if(KD)return lw;KD=1;var n=SAe(),e=BAe(),t=OAe(),i=IAe(),r=TAe();function a(l){var o=-1,p=l==null?0:l.length;for(this.clear();++o<p;){var C=l[o];this.set(C[0],C[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=r,lw=a,lw}var Aw,UD;function kAe(){if(UD)return Aw;UD=1;var n=Y2(),e=Y8(),t=q8(),i=200;function r(a,l){var o=this.__data__;if(o instanceof n){var p=o.__data__;if(!e||p.length<i-1)return p.push([a,l]),this.size=++o.size,this;o=this.__data__=new t(p)}return o.set(a,l),this.size=o.size,this}return Aw=r,Aw}var uw,LD;function V2(){if(LD)return uw;LD=1;var n=Y2(),e=hAe(),t=dAe(),i=fAe(),r=pAe(),a=kAe();function l(o){var p=this.__data__=new n(o);this.size=p.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=i,l.prototype.has=r,l.prototype.set=a,uw=l,uw}var cw,FD;function DAe(){if(FD)return cw;FD=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return cw=e,cw}var hw,zD;function RAe(){if(zD)return hw;zD=1;function n(e){return this.__data__.has(e)}return hw=n,hw}var dw,jD;function PAe(){if(jD)return dw;jD=1;var n=q8(),e=DAe(),t=RAe();function i(r){var a=-1,l=r==null?0:r.length;for(this.__data__=new n;++a<l;)this.add(r[a])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,dw=i,dw}var fw,ND;function KAe(){if(ND)return fw;ND=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}return fw=n,fw}var pw,GD;function UAe(){if(GD)return pw;GD=1;function n(e,t){return e.has(t)}return pw=n,pw}var mw,WD;function SN(){if(WD)return mw;WD=1;var n=PAe(),e=KAe(),t=UAe(),i=1,r=2;function a(l,o,p,C,M,O){var U=p&i,K=l.length,j=o.length;if(K!=j&&!(U&&j>K))return!1;var W=O.get(l),Y=O.get(o);if(W&&Y)return W==o&&Y==l;var te=-1,J=!0,oe=p&r?new n:void 0;for(O.set(l,o),O.set(o,l);++te<K;){var ne=l[te],$=o[te];if(C)var ae=U?C($,ne,te,o,l,O):C(ne,$,te,l,o,O);if(ae!==void 0){if(ae)continue;J=!1;break}if(oe){if(!e(o,function(G,ce){if(!t(oe,ce)&&(ne===G||M(ne,G,p,C,O)))return oe.push(ce)})){J=!1;break}}else if(!(ne===$||M(ne,$,p,C,O))){J=!1;break}}return O.delete(l),O.delete(o),J}return mw=a,mw}var gw,QD;function EN(){if(QD)return gw;QD=1;var n=hm(),e=n.Uint8Array;return gw=e,gw}var yw,YD;function LAe(){if(YD)return yw;YD=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r,a){i[++t]=[a,r]}),i}return yw=n,yw}var vw,qD;function FAe(){if(qD)return vw;qD=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}return vw=n,vw}var Cw,HD;function zAe(){if(HD)return Cw;HD=1;var n=Bb(),e=EN(),t=Ib(),i=SN(),r=LAe(),a=FAe(),l=1,o=2,p="[object Boolean]",C="[object Date]",M="[object Error]",O="[object Map]",U="[object Number]",K="[object RegExp]",j="[object Set]",W="[object String]",Y="[object Symbol]",te="[object ArrayBuffer]",J="[object DataView]",oe=n?n.prototype:void 0,ne=oe?oe.valueOf:void 0;function $(ae,G,ce,ge,ye,we,Ie){switch(ce){case J:if(ae.byteLength!=G.byteLength||ae.byteOffset!=G.byteOffset)return!1;ae=ae.buffer,G=G.buffer;case te:return!(ae.byteLength!=G.byteLength||!we(new e(ae),new e(G)));case p:case C:case U:return t(+ae,+G);case M:return ae.name==G.name&&ae.message==G.message;case K:case W:return ae==G+"";case O:var Se=r;case j:var Ve=ge&l;if(Se||(Se=a),ae.size!=G.size&&!Ve)return!1;var xe=Ie.get(ae);if(xe)return xe==G;ge|=o,Ie.set(ae,G);var ze=i(Se(ae),Se(G),ge,ye,we,Ie);return Ie.delete(ae),ze;case Y:if(ne)return ne.call(ae)==ne.call(G)}return!1}return Cw=$,Cw}var _w,VD;function BN(){if(VD)return _w;VD=1;function n(e,t){for(var i=-1,r=t.length,a=e.length;++i<r;)e[a+i]=t[i];return e}return _w=n,_w}var bw,$D;function ON(){if($D)return bw;$D=1;var n=BN(),e=kf();function t(i,r,a){var l=r(i);return e(i)?l:n(l,a(i))}return bw=t,bw}var xw,ZD;function jAe(){if(ZD)return xw;ZD=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,a=0,l=[];++i<r;){var o=e[i];t(o,i,e)&&(l[a++]=o)}return l}return xw=n,xw}var Mw,XD;function IN(){if(XD)return Mw;XD=1;function n(){return[]}return Mw=n,Mw}var ww,JD;function H8(){if(JD)return ww;JD=1;var n=jAe(),e=IN(),t=Object.prototype,i=t.propertyIsEnumerable,r=Object.getOwnPropertySymbols,a=r?function(l){return l==null?[]:(l=Object(l),n(r(l),function(o){return i.call(l,o)}))}:e;return ww=a,ww}var Sw,eR;function TN(){if(eR)return Sw;eR=1;var n=ON(),e=H8(),t=Ob();function i(r){return n(r,t,e)}return Sw=i,Sw}var Ew,tR;function NAe(){if(tR)return Ew;tR=1;var n=TN(),e=1,t=Object.prototype,i=t.hasOwnProperty;function r(a,l,o,p,C,M){var O=o&e,U=n(a),K=U.length,j=n(l),W=j.length;if(K!=W&&!O)return!1;for(var Y=K;Y--;){var te=U[Y];if(!(O?te in l:i.call(l,te)))return!1}var J=M.get(a),oe=M.get(l);if(J&&oe)return J==l&&oe==a;var ne=!0;M.set(a,l),M.set(l,a);for(var $=O;++Y<K;){te=U[Y];var ae=a[te],G=l[te];if(p)var ce=O?p(G,ae,te,l,a,M):p(ae,G,te,a,l,M);if(!(ce===void 0?ae===G||C(ae,G,o,p,M):ce)){ne=!1;break}$||($=te=="constructor")}if(ne&&!$){var ge=a.constructor,ye=l.constructor;ge!=ye&&"constructor"in a&&"constructor"in l&&!(typeof ge=="function"&&ge instanceof ge&&typeof ye=="function"&&ye instanceof ye)&&(ne=!1)}return M.delete(a),M.delete(l),ne}return Ew=r,Ew}var Bw,nR;function GAe(){if(nR)return Bw;nR=1;var n=oy(),e=hm(),t=n(e,"DataView");return Bw=t,Bw}var Ow,iR;function WAe(){if(iR)return Ow;iR=1;var n=oy(),e=hm(),t=n(e,"Promise");return Ow=t,Ow}var Iw,rR;function QAe(){if(rR)return Iw;rR=1;var n=oy(),e=hm(),t=n(e,"Set");return Iw=t,Iw}var Tw,oR;function YAe(){if(oR)return Tw;oR=1;var n=oy(),e=hm(),t=n(e,"WeakMap");return Tw=t,Tw}var kw,aR;function $2(){if(aR)return kw;aR=1;var n=GAe(),e=Y8(),t=WAe(),i=QAe(),r=YAe(),a=ry(),l=wN(),o="[object Map]",p="[object Object]",C="[object Promise]",M="[object Set]",O="[object WeakMap]",U="[object DataView]",K=l(n),j=l(e),W=l(t),Y=l(i),te=l(r),J=a;return(n&&J(new n(new ArrayBuffer(1)))!=U||e&&J(new e)!=o||t&&J(t.resolve())!=C||i&&J(new i)!=M||r&&J(new r)!=O)&&(J=function(oe){var ne=a(oe),$=ne==p?oe.constructor:void 0,ae=$?l($):"";if(ae)switch(ae){case K:return U;case j:return o;case W:return C;case Y:return M;case te:return O}return ne}),kw=J,kw}var Dw,sR;function qAe(){if(sR)return Dw;sR=1;var n=V2(),e=SN(),t=zAe(),i=NAe(),r=$2(),a=kf(),l=G2(),o=j8(),p=1,C="[object Arguments]",M="[object Array]",O="[object Object]",U=Object.prototype,K=U.hasOwnProperty;function j(W,Y,te,J,oe,ne){var $=a(W),ae=a(Y),G=$?M:r(W),ce=ae?M:r(Y);G=G==C?O:G,ce=ce==C?O:ce;var ge=G==O,ye=ce==O,we=G==ce;if(we&&l(W)){if(!l(Y))return!1;$=!0,ge=!1}if(we&&!ge)return ne||(ne=new n),$||o(W)?e(W,Y,te,J,oe,ne):t(W,Y,G,te,J,oe,ne);if(!(te&p)){var Ie=ge&&K.call(W,"__wrapped__"),Se=ye&&K.call(Y,"__wrapped__");if(Ie||Se){var Ve=Ie?W.value():W,xe=Se?Y.value():Y;return ne||(ne=new n),oe(Ve,xe,te,J,ne)}}return we?(ne||(ne=new n),i(W,Y,te,J,oe,ne)):!1}return Dw=j,Dw}var Rw,lR;function kN(){if(lR)return Rw;lR=1;var n=qAe(),e=r0();function t(i,r,a,l,o){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:n(i,r,a,l,t,o)}return Rw=t,Rw}var Pw,AR;function HAe(){if(AR)return Pw;AR=1;var n=V2(),e=kN(),t=1,i=2;function r(a,l,o,p){var C=o.length,M=C,O=!p;if(a==null)return!M;for(a=Object(a);C--;){var U=o[C];if(O&&U[2]?U[1]!==a[U[0]]:!(U[0]in a))return!1}for(;++C<M;){U=o[C];var K=U[0],j=a[K],W=U[1];if(O&&U[2]){if(j===void 0&&!(K in a))return!1}else{var Y=new n;if(p)var te=p(j,W,K,a,l,Y);if(!(te===void 0?e(W,j,t|i,p,Y):te))return!1}}return!0}return Pw=r,Pw}var Kw,uR;function DN(){if(uR)return Kw;uR=1;var n=Mp();function e(t){return t===t&&!n(t)}return Kw=e,Kw}var Uw,cR;function VAe(){if(cR)return Uw;cR=1;var n=DN(),e=Ob();function t(i){for(var r=e(i),a=r.length;a--;){var l=r[a],o=i[l];r[a]=[l,o,n(o)]}return r}return Uw=t,Uw}var Lw,hR;function RN(){if(hR)return Lw;hR=1;function n(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return Lw=n,Lw}var Fw,dR;function $Ae(){if(dR)return Fw;dR=1;var n=HAe(),e=VAe(),t=RN();function i(r){var a=e(r);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(l){return l===r||n(l,r,a)}}return Fw=i,Fw}var zw,fR;function Z2(){if(fR)return zw;fR=1;var n=ry(),e=r0(),t="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&n(r)==t}return zw=i,zw}var jw,pR;function V8(){if(pR)return jw;pR=1;var n=kf(),e=Z2(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,l){if(n(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:i.test(a)||!t.test(a)||l!=null&&a in Object(l)}return jw=r,jw}var Nw,mR;function ZAe(){if(mR)return Nw;mR=1;var n=q8(),e="Expected a function";function t(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var a=function(){var l=arguments,o=r?r.apply(this,l):l[0],p=a.cache;if(p.has(o))return p.get(o);var C=i.apply(this,l);return a.cache=p.set(o,C)||p,C};return a.cache=new(t.Cache||n),a}return t.Cache=n,Nw=t,Nw}var Gw,gR;function XAe(){if(gR)return Gw;gR=1;var n=ZAe(),e=500;function t(i){var r=n(i,function(l){return a.size===e&&a.clear(),l}),a=r.cache;return r}return Gw=t,Gw}var Ww,yR;function JAe(){if(yR)return Ww;yR=1;var n=XAe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(e,function(l,o,p,C){a.push(p?C.replace(t,"$1"):o||l)}),a});return Ww=i,Ww}var Qw,vR;function eue(){if(vR)return Qw;vR=1;var n=Bb(),e=MN(),t=kf(),i=Z2(),r=n?n.prototype:void 0,a=r?r.toString:void 0;function l(o){if(typeof o=="string")return o;if(t(o))return e(o,l)+"";if(i(o))return a?a.call(o):"";var p=o+"";return p=="0"&&1/o==-1/0?"-0":p}return Qw=l,Qw}var Yw,CR;function tue(){if(CR)return Yw;CR=1;var n=eue();function e(t){return t==null?"":n(t)}return Yw=e,Yw}var qw,_R;function PN(){if(_R)return qw;_R=1;var n=kf(),e=V8(),t=JAe(),i=tue();function r(a,l){return n(a)?a:e(a,l)?[a]:t(i(a))}return qw=r,qw}var Hw,bR;function X2(){if(bR)return Hw;bR=1;var n=Z2();function e(t){if(typeof t=="string"||n(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return Hw=e,Hw}var Vw,xR;function KN(){if(xR)return Vw;xR=1;var n=PN(),e=X2();function t(i,r){r=n(r,i);for(var a=0,l=r.length;i!=null&&a<l;)i=i[e(r[a++])];return a&&a==l?i:void 0}return Vw=t,Vw}var $w,MR;function nue(){if(MR)return $w;MR=1;var n=KN();function e(t,i,r){var a=t==null?void 0:n(t,i);return a===void 0?r:a}return $w=e,$w}var Zw,wR;function iue(){if(wR)return Zw;wR=1;function n(e,t){return e!=null&&t in Object(e)}return Zw=n,Zw}var Xw,SR;function rue(){if(SR)return Xw;SR=1;var n=PN(),e=K8(),t=kf(),i=U8(),r=L8(),a=X2();function l(o,p,C){p=n(p,o);for(var M=-1,O=p.length,U=!1;++M<O;){var K=a(p[M]);if(!(U=o!=null&&C(o,K)))break;o=o[K]}return U||++M!=O?U:(O=o==null?0:o.length,!!O&&r(O)&&i(K,O)&&(t(o)||e(o)))}return Xw=l,Xw}var Jw,ER;function oue(){if(ER)return Jw;ER=1;var n=iue(),e=rue();function t(i,r){return i!=null&&e(i,r,n)}return Jw=t,Jw}var eS,BR;function aue(){if(BR)return eS;BR=1;var n=kN(),e=nue(),t=oue(),i=V8(),r=DN(),a=RN(),l=X2(),o=1,p=2;function C(M,O){return i(M)&&r(O)?a(l(M),O):function(U){var K=e(U,M);return K===void 0&&K===O?t(U,M):n(O,K,o|p)}}return eS=C,eS}var tS,OR;function sue(){if(OR)return tS;OR=1;function n(e){return function(t){return t?.[e]}}return tS=n,tS}var nS,IR;function lue(){if(IR)return nS;IR=1;var n=KN();function e(t){return function(i){return n(i,t)}}return nS=e,nS}var iS,TR;function Aue(){if(TR)return iS;TR=1;var n=sue(),e=lue(),t=V8(),i=X2();function r(a){return t(a)?n(i(a)):e(a)}return iS=r,iS}var rS,kR;function uue(){if(kR)return rS;kR=1;var n=$Ae(),e=aue(),t=W2(),i=kf(),r=Aue();function a(l){return typeof l=="function"?l:l==null?t:typeof l=="object"?i(l)?e(l[0],l[1]):n(l):r(l)}return rS=a,rS}var oS,DR;function cue(){if(DR)return oS;DR=1;var n=nC();function e(t,i){return function(r,a){if(r==null)return r;if(!n(r))return t(r,a);for(var l=r.length,o=i?l:-1,p=Object(r);(i?o--:++o<l)&&a(p[o],o,p)!==!1;);return r}}return oS=e,oS}var aS,RR;function UN(){if(RR)return aS;RR=1;var n=_N(),e=cue(),t=e(n);return aS=t,aS}var sS,PR;function hue(){if(PR)return sS;PR=1;var n=UN(),e=nC();function t(i,r){var a=-1,l=e(i)?Array(i.length):[];return n(i,function(o,p,C){l[++a]=r(o,p,C)}),l}return sS=t,sS}var lS,KR;function due(){if(KR)return lS;KR=1;var n=MN(),e=uue(),t=hue(),i=kf();function r(a,l){var o=i(a)?n:t;return o(a,e(l,3))}return lS=r,lS}var UR;function fue(){if(UR)return jy;UR=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.flattenNames=void 0;var n=Jle(),e=p(n),t=W8(),i=p(t),r=xN(),a=p(r),l=due(),o=p(l);function p(M){return M&&M.__esModule?M:{default:M}}var C=jy.flattenNames=function M(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=[];return(0,o.default)(O,function(K){Array.isArray(K)?M(K).map(function(j){return U.push(j)}):(0,a.default)(K)?(0,i.default)(K,function(j,W){j===!0&&U.push(W),U.push(W+"-"+j)}):(0,e.default)(K)&&U.push(K)}),U};return jy.default=C,jy}var Ny={},AS,LR;function LN(){if(LR)return AS;LR=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r&&t(e[i],i,e)!==!1;);return e}return AS=n,AS}var uS,FR;function FN(){if(FR)return uS;FR=1;var n=oy(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return uS=e,uS}var cS,zR;function $8(){if(zR)return cS;zR=1;var n=FN();function e(t,i,r){i=="__proto__"&&n?n(t,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[i]=r}return cS=e,cS}var hS,jR;function zN(){if(jR)return hS;jR=1;var n=$8(),e=Ib(),t=Object.prototype,i=t.hasOwnProperty;function r(a,l,o){var p=a[l];(!(i.call(a,l)&&e(p,o))||o===void 0&&!(l in a))&&n(a,l,o)}return hS=r,hS}var dS,NR;function Tb(){if(NR)return dS;NR=1;var n=zN(),e=$8();function t(i,r,a,l){var o=!a;a||(a={});for(var p=-1,C=r.length;++p<C;){var M=r[p],O=l?l(a[M],i[M],M,a,i):void 0;O===void 0&&(O=i[M]),o?e(a,M,O):n(a,M,O)}return a}return dS=t,dS}var fS,GR;function pue(){if(GR)return fS;GR=1;var n=Tb(),e=Ob();function t(i,r){return i&&n(r,e(r),i)}return fS=t,fS}var pS,WR;function mue(){if(WR)return pS;WR=1;function n(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return pS=n,pS}var mS,QR;function gue(){if(QR)return mS;QR=1;var n=Mp(),e=N8(),t=mue(),i=Object.prototype,r=i.hasOwnProperty;function a(l){if(!n(l))return t(l);var o=e(l),p=[];for(var C in l)C=="constructor"&&(o||!r.call(l,C))||p.push(C);return p}return mS=a,mS}var gS,YR;function kb(){if(YR)return gS;YR=1;var n=vN(),e=gue(),t=nC();function i(r){return t(r)?n(r,!0):e(r)}return gS=i,gS}var yS,qR;function yue(){if(qR)return yS;qR=1;var n=Tb(),e=kb();function t(i,r){return i&&n(r,e(r),i)}return yS=t,yS}var YC={exports:{}};YC.exports;var HR;function jN(){return HR||(HR=1,function(n,e){var t=hm(),i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,a=r&&r.exports===i,l=a?t.Buffer:void 0,o=l?l.allocUnsafe:void 0;function p(C,M){if(M)return C.slice();var O=C.length,U=o?o(O):new C.constructor(O);return C.copy(U),U}n.exports=p}(YC,YC.exports)),YC.exports}var vS,VR;function NN(){if(VR)return vS;VR=1;function n(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}return vS=n,vS}var CS,$R;function vue(){if($R)return CS;$R=1;var n=Tb(),e=H8();function t(i,r){return n(i,e(i),r)}return CS=t,CS}var _S,ZR;function GN(){if(ZR)return _S;ZR=1;var n=BN(),e=Q8(),t=H8(),i=IN(),r=Object.getOwnPropertySymbols,a=r?function(l){for(var o=[];l;)n(o,t(l)),l=e(l);return o}:i;return _S=a,_S}var bS,XR;function Cue(){if(XR)return bS;XR=1;var n=Tb(),e=GN();function t(i,r){return n(i,e(i),r)}return bS=t,bS}var xS,JR;function _ue(){if(JR)return xS;JR=1;var n=ON(),e=GN(),t=kb();function i(r){return n(r,t,e)}return xS=i,xS}var MS,eP;function bue(){if(eP)return MS;eP=1;var n=Object.prototype,e=n.hasOwnProperty;function t(i){var r=i.length,a=new i.constructor(r);return r&&typeof i[0]=="string"&&e.call(i,"index")&&(a.index=i.index,a.input=i.input),a}return MS=t,MS}var wS,tP;function Z8(){if(tP)return wS;tP=1;var n=EN();function e(t){var i=new t.constructor(t.byteLength);return new n(i).set(new n(t)),i}return wS=e,wS}var SS,nP;function xue(){if(nP)return SS;nP=1;var n=Z8();function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}return SS=e,SS}var ES,iP;function Mue(){if(iP)return ES;iP=1;var n=/\w*$/;function e(t){var i=new t.constructor(t.source,n.exec(t));return i.lastIndex=t.lastIndex,i}return ES=e,ES}var BS,rP;function wue(){if(rP)return BS;rP=1;var n=Bb(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function i(r){return t?Object(t.call(r)):{}}return BS=i,BS}var OS,oP;function WN(){if(oP)return OS;oP=1;var n=Z8();function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}return OS=e,OS}var IS,aP;function Sue(){if(aP)return IS;aP=1;var n=Z8(),e=xue(),t=Mue(),i=wue(),r=WN(),a="[object Boolean]",l="[object Date]",o="[object Map]",p="[object Number]",C="[object RegExp]",M="[object Set]",O="[object String]",U="[object Symbol]",K="[object ArrayBuffer]",j="[object DataView]",W="[object Float32Array]",Y="[object Float64Array]",te="[object Int8Array]",J="[object Int16Array]",oe="[object Int32Array]",ne="[object Uint8Array]",$="[object Uint8ClampedArray]",ae="[object Uint16Array]",G="[object Uint32Array]";function ce(ge,ye,we){var Ie=ge.constructor;switch(ye){case K:return n(ge);case a:case l:return new Ie(+ge);case j:return e(ge,we);case W:case Y:case te:case J:case oe:case ne:case $:case ae:case G:return r(ge,we);case o:return new Ie;case p:case O:return new Ie(ge);case C:return t(ge);case M:return new Ie;case U:return i(ge)}}return IS=ce,IS}var TS,sP;function Eue(){if(sP)return TS;sP=1;var n=Mp(),e=Object.create,t=function(){function i(){}return function(r){if(!n(r))return{};if(e)return e(r);i.prototype=r;var a=new i;return i.prototype=void 0,a}}();return TS=t,TS}var kS,lP;function QN(){if(lP)return kS;lP=1;var n=Eue(),e=Q8(),t=N8();function i(r){return typeof r.constructor=="function"&&!t(r)?n(e(r)):{}}return kS=i,kS}var DS,AP;function Bue(){if(AP)return DS;AP=1;var n=$2(),e=r0(),t="[object Map]";function i(r){return e(r)&&n(r)==t}return DS=i,DS}var RS,uP;function Oue(){if(uP)return RS;uP=1;var n=Bue(),e=F8(),t=z8(),i=t&&t.isMap,r=i?e(i):n;return RS=r,RS}var PS,cP;function Iue(){if(cP)return PS;cP=1;var n=$2(),e=r0(),t="[object Set]";function i(r){return e(r)&&n(r)==t}return PS=i,PS}var KS,hP;function Tue(){if(hP)return KS;hP=1;var n=Iue(),e=F8(),t=z8(),i=t&&t.isSet,r=i?e(i):n;return KS=r,KS}var US,dP;function kue(){if(dP)return US;dP=1;var n=V2(),e=LN(),t=zN(),i=pue(),r=yue(),a=jN(),l=NN(),o=vue(),p=Cue(),C=TN(),M=_ue(),O=$2(),U=bue(),K=Sue(),j=QN(),W=kf(),Y=G2(),te=Oue(),J=Mp(),oe=Tue(),ne=Ob(),$=kb(),ae=1,G=2,ce=4,ge="[object Arguments]",ye="[object Array]",we="[object Boolean]",Ie="[object Date]",Se="[object Error]",Ve="[object Function]",xe="[object GeneratorFunction]",ze="[object Map]",st="[object Number]",Ct="[object Object]",nt="[object RegExp]",be="[object Set]",Ne="[object String]",tt="[object Symbol]",lt="[object WeakMap]",kt="[object ArrayBuffer]",gt="[object DataView]",St="[object Float32Array]",Ut="[object Float64Array]",Fe="[object Int8Array]",Ke="[object Int16Array]",Re="[object Int32Array]",He="[object Uint8Array]",bt="[object Uint8ClampedArray]",_t="[object Uint16Array]",Ot="[object Uint32Array]",qt={};qt[ge]=qt[ye]=qt[kt]=qt[gt]=qt[we]=qt[Ie]=qt[St]=qt[Ut]=qt[Fe]=qt[Ke]=qt[Re]=qt[ze]=qt[st]=qt[Ct]=qt[nt]=qt[be]=qt[Ne]=qt[tt]=qt[He]=qt[bt]=qt[_t]=qt[Ot]=!0,qt[Se]=qt[Ve]=qt[lt]=!1;function Kt(on,Jn,Wt,$n,On,Bn){var In,Oi=Jn&ae,ei=Jn&G,Kn=Jn&ce;if(Wt&&(In=On?Wt(on,$n,On,Bn):Wt(on)),In!==void 0)return In;if(!J(on))return on;var je=W(on);if(je){if(In=U(on),!Oi)return l(on,In)}else{var de=O(on),re=de==Ve||de==xe;if(Y(on))return a(on,Oi);if(de==Ct||de==ge||re&&!On){if(In=ei||re?{}:j(on),!Oi)return ei?p(on,r(In,on)):o(on,i(In,on))}else{if(!qt[de])return On?on:{};In=K(on,de,Oi)}}Bn||(Bn=new n);var le=Bn.get(on);if(le)return le;Bn.set(on,In),oe(on)?on.forEach(function(We){In.add(Kt(We,Jn,Wt,We,on,Bn))}):te(on)&&on.forEach(function(We,dt){In.set(dt,Kt(We,Jn,Wt,dt,on,Bn))});var pe=Kn?ei?M:C:ei?$:ne,Te=je?void 0:pe(on);return e(Te||on,function(We,dt){Te&&(dt=We,We=on[dt]),t(In,dt,Kt(We,Jn,Wt,dt,on,Bn))}),In}return US=Kt,US}var LS,fP;function Due(){if(fP)return LS;fP=1;var n=kue(),e=1,t=4;function i(r){return n(r,e|t)}return LS=i,LS}var pP;function Rue(){if(pP)return Ny;pP=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.mergeClasses=void 0;var n=W8(),e=a(n),t=Due(),i=a(t),r=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var C=arguments[p];for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(o[M]=C[M])}return o};function a(o){return o&&o.__esModule?o:{default:o}}var l=Ny.mergeClasses=function(p){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=p.default&&(0,i.default)(p.default)||{};return C.map(function(O){var U=p[O];return U&&(0,e.default)(U,function(K,j){M[j]||(M[j]={}),M[j]=r({},M[j],U[j])}),O}),M};return Ny.default=l,Ny}var Gy={},mP;function Pue(){if(mP)return Gy;mP=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.autoprefix=void 0;var n=W8(),e=i(n),t=Object.assign||function(l){for(var o=1;o<arguments.length;o++){var p=arguments[o];for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(l[C]=p[C])}return l};function i(l){return l&&l.__esModule?l:{default:l}}var r={borderRadius:function(o){return{msBorderRadius:o,MozBorderRadius:o,OBorderRadius:o,WebkitBorderRadius:o,borderRadius:o}},boxShadow:function(o){return{msBoxShadow:o,MozBoxShadow:o,OBoxShadow:o,WebkitBoxShadow:o,boxShadow:o}},userSelect:function(o){return{WebkitTouchCallout:o,KhtmlUserSelect:o,MozUserSelect:o,msUserSelect:o,WebkitUserSelect:o,userSelect:o}},flex:function(o){return{WebkitBoxFlex:o,MozBoxFlex:o,WebkitFlex:o,msFlex:o,flex:o}},flexBasis:function(o){return{WebkitFlexBasis:o,flexBasis:o}},justifyContent:function(o){return{WebkitJustifyContent:o,justifyContent:o}},transition:function(o){return{msTransition:o,MozTransition:o,OTransition:o,WebkitTransition:o,transition:o}},transform:function(o){return{msTransform:o,MozTransform:o,OTransform:o,WebkitTransform:o,transform:o}},absolute:function(o){var p=o&&o.split(" ");return{position:"absolute",top:p&&p[0],right:p&&p[1],bottom:p&&p[2],left:p&&p[3]}},extend:function(o,p){var C=p[o];return C||{extend:o}}},a=Gy.autoprefix=function(o){var p={};return(0,e.default)(o,function(C,M){var O={};(0,e.default)(C,function(U,K){var j=r[K];j?O=t({},O,j(U)):O[K]=U}),p[M]=O}),p};return Gy.default=a,Gy}var Wy={},gP;function Kue(){if(gP)return Wy;gP=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.hover=void 0;var n=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var M=arguments[C];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(p[O]=M[O])}return p},e=Il(),t=i(e);function i(p){return p&&p.__esModule?p:{default:p}}function r(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function a(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:p}function l(p,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}var o=Wy.hover=function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(O){l(U,O);function U(){var K,j,W,Y;r(this,U);for(var te=arguments.length,J=Array(te),oe=0;oe<te;oe++)J[oe]=arguments[oe];return Y=(j=(W=a(this,(K=U.__proto__||Object.getPrototypeOf(U)).call.apply(K,[this].concat(J))),W),W.state={hover:!1},W.handleMouseOver=function(){return W.setState({hover:!0})},W.handleMouseOut=function(){return W.setState({hover:!1})},W.render=function(){return t.default.createElement(M,{onMouseOver:W.handleMouseOver,onMouseOut:W.handleMouseOut},t.default.createElement(C,n({},W.props,W.state)))},j),a(W,Y)}return U}(t.default.Component)};return Wy.default=o,Wy}var Qy={},yP;function Uue(){if(yP)return Qy;yP=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.active=void 0;var n=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var M=arguments[C];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(p[O]=M[O])}return p},e=Il(),t=i(e);function i(p){return p&&p.__esModule?p:{default:p}}function r(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function a(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:p}function l(p,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}var o=Qy.active=function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(O){l(U,O);function U(){var K,j,W,Y;r(this,U);for(var te=arguments.length,J=Array(te),oe=0;oe<te;oe++)J[oe]=arguments[oe];return Y=(j=(W=a(this,(K=U.__proto__||Object.getPrototypeOf(U)).call.apply(K,[this].concat(J))),W),W.state={active:!1},W.handleMouseDown=function(){return W.setState({active:!0})},W.handleMouseUp=function(){return W.setState({active:!1})},W.render=function(){return t.default.createElement(M,{onMouseDown:W.handleMouseDown,onMouseUp:W.handleMouseUp},t.default.createElement(C,n({},W.props,W.state)))},j),a(W,Y)}return U}(t.default.Component)};return Qy.default=o,Qy}var fx={},vP;function Lue(){if(vP)return fx;vP=1,Object.defineProperty(fx,"__esModule",{value:!0});var n=function(t,i){var r={},a=function(o){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=p};return t===0&&a("first-child"),t===i-1&&a("last-child"),(t===0||t%2===0)&&a("even"),Math.abs(t%2)===1&&a("odd"),a("nth-child",t),r};return fx.default=n,fx}var CP;function dm(){if(CP)return jd;CP=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.ReactCSS=jd.loop=jd.handleActive=jd.handleHover=jd.hover=void 0;var n=fue(),e=U(n),t=Rue(),i=U(t),r=Pue(),a=U(r),l=Kue(),o=U(l),p=Uue(),C=U(p),M=Lue(),O=U(M);function U(j){return j&&j.__esModule?j:{default:j}}jd.hover=o.default,jd.handleHover=o.default,jd.handleActive=C.default,jd.loop=O.default;var K=jd.ReactCSS=function(W){for(var Y=arguments.length,te=Array(Y>1?Y-1:0),J=1;J<Y;J++)te[J-1]=arguments[J];var oe=(0,e.default)(te),ne=(0,i.default)(W,oe);return(0,a.default)(ne)};return jd.default=K,jd}var FS,_P;function YN(){if(_P)return FS;_P=1;var n=$8(),e=Ib();function t(i,r,a){(a!==void 0&&!e(i[r],a)||a===void 0&&!(r in i))&&n(i,r,a)}return FS=t,FS}var zS,bP;function Fue(){if(bP)return zS;bP=1;var n=nC(),e=r0();function t(i){return e(i)&&n(i)}return zS=t,zS}var jS,xP;function qN(){if(xP)return jS;xP=1;function n(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return jS=n,jS}var NS,MP;function zue(){if(MP)return NS;MP=1;var n=Tb(),e=kb();function t(i){return n(i,e(i))}return NS=t,NS}var GS,wP;function jue(){if(wP)return GS;wP=1;var n=YN(),e=jN(),t=WN(),i=NN(),r=QN(),a=K8(),l=kf(),o=Fue(),p=G2(),C=G8(),M=Mp(),O=xN(),U=j8(),K=qN(),j=zue();function W(Y,te,J,oe,ne,$,ae){var G=K(Y,J),ce=K(te,J),ge=ae.get(ce);if(ge){n(Y,J,ge);return}var ye=$?$(G,ce,J+"",Y,te,ae):void 0,we=ye===void 0;if(we){var Ie=l(ce),Se=!Ie&&p(ce),Ve=!Ie&&!Se&&U(ce);ye=ce,Ie||Se||Ve?l(G)?ye=G:o(G)?ye=i(G):Se?(we=!1,ye=e(ce,!0)):Ve?(we=!1,ye=t(ce,!0)):ye=[]:O(ce)||a(ce)?(ye=G,a(G)?ye=j(G):(!M(G)||C(G))&&(ye=r(ce))):we=!1}we&&(ae.set(ce,ye),ne(ye,ce,oe,$,ae),ae.delete(ce)),n(Y,J,ye)}return GS=W,GS}var WS,SP;function Nue(){if(SP)return WS;SP=1;var n=V2(),e=YN(),t=yN(),i=jue(),r=Mp(),a=kb(),l=qN();function o(p,C,M,O,U){p!==C&&t(C,function(K,j){if(U||(U=new n),r(K))i(p,C,j,M,o,O,U);else{var W=O?O(l(p,j),K,j+"",p,C,U):void 0;W===void 0&&(W=K),e(p,j,W)}},a)}return WS=o,WS}var QS,EP;function Gue(){if(EP)return QS;EP=1;function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return QS=n,QS}var YS,BP;function Wue(){if(BP)return YS;BP=1;var n=Gue(),e=Math.max;function t(i,r,a){return r=e(r===void 0?i.length-1:r,0),function(){for(var l=arguments,o=-1,p=e(l.length-r,0),C=Array(p);++o<p;)C[o]=l[r+o];o=-1;for(var M=Array(r+1);++o<r;)M[o]=l[o];return M[r]=a(C),n(i,this,M)}}return YS=t,YS}var qS,OP;function Que(){if(OP)return qS;OP=1;function n(e){return function(){return e}}return qS=n,qS}var HS,IP;function Yue(){if(IP)return HS;IP=1;var n=Que(),e=FN(),t=W2(),i=e?function(r,a){return e(r,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return HS=i,HS}var VS,TP;function que(){if(TP)return VS;TP=1;var n=800,e=16,t=Date.now;function i(r){var a=0,l=0;return function(){var o=t(),p=e-(o-l);if(l=o,p>0){if(++a>=n)return arguments[0]}else a=0;return r.apply(void 0,arguments)}}return VS=i,VS}var $S,kP;function Hue(){if(kP)return $S;kP=1;var n=Yue(),e=que(),t=e(n);return $S=t,$S}var ZS,DP;function Vue(){if(DP)return ZS;DP=1;var n=W2(),e=Wue(),t=Hue();function i(r,a){return t(e(r,a,n),r+"")}return ZS=i,ZS}var XS,RP;function $ue(){if(RP)return XS;RP=1;var n=Ib(),e=nC(),t=U8(),i=Mp();function r(a,l,o){if(!i(o))return!1;var p=typeof l;return(p=="number"?e(o)&&t(l,o.length):p=="string"&&l in o)?n(o[l],a):!1}return XS=r,XS}var JS,PP;function Zue(){if(PP)return JS;PP=1;var n=Vue(),e=$ue();function t(i){return n(function(r,a){var l=-1,o=a.length,p=o>1?a[o-1]:void 0,C=o>2?a[2]:void 0;for(p=i.length>3&&typeof p=="function"?(o--,p):void 0,C&&e(a[0],a[1],C)&&(p=o<3?void 0:p,o=1),r=Object(r);++l<o;){var M=a[l];M&&i(r,M,l,p)}return r})}return JS=t,JS}var eE,KP;function HN(){if(KP)return eE;KP=1;var n=Nue(),e=Zue(),t=e(function(i,r,a){n(i,r,a)});return eE=t,eE}var tE={},Yy={},px={},UP;function Xue(){return UP||(UP=1,Object.defineProperty(px,"__esModule",{value:!0}),px.calculateChange=function(e,t,i,r,a){var l=a.clientWidth,o=a.clientHeight,p=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,C=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,M=p-(a.getBoundingClientRect().left+window.pageXOffset),O=C-(a.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var U=void 0;if(O<0?U=0:O>o?U=1:U=Math.round(O*100/o)/100,t.a!==U)return{h:t.h,s:t.s,l:t.l,a:U,source:"rgb"}}else{var K=void 0;if(M<0?K=0:M>l?K=1:K=Math.round(M*100/l)/100,r!==K)return{h:t.h,s:t.s,l:t.l,a:K,source:"rgb"}}return null}),px}var qy={},EC={},LP;function Jue(){if(LP)return EC;LP=1,Object.defineProperty(EC,"__esModule",{value:!0});var n={},e=EC.render=function(i,r,a,l){if(typeof document>"u"&&!l)return null;var o=l?new l:document.createElement("canvas");o.width=a*2,o.height=a*2;var p=o.getContext("2d");return p?(p.fillStyle=i,p.fillRect(0,0,o.width,o.height),p.fillStyle=r,p.fillRect(0,0,a,a),p.translate(a,a),p.fillRect(0,0,a,a),o.toDataURL()):null};return EC.get=function(i,r,a,l){var o=i+"-"+r+"-"+a+(l?"-server":"");if(n[o])return n[o];var p=e(i,r,a,l);return n[o]=p,p},EC}var FP;function X8(){if(FP)return qy;FP=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.Checkboard=void 0;var n=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var K in U)Object.prototype.hasOwnProperty.call(U,K)&&(M[K]=U[K])}return M},e=Il(),t=p(e),i=dm(),r=p(i),a=Jue(),l=o(a);function o(M){if(M&&M.__esModule)return M;var O={};if(M!=null)for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(O[U]=M[U]);return O.default=M,O}function p(M){return M&&M.__esModule?M:{default:M}}var C=qy.Checkboard=function(O){var U=O.white,K=O.grey,j=O.size,W=O.renderers,Y=O.borderRadius,te=O.boxShadow,J=O.children,oe=(0,r.default)({default:{grid:{borderRadius:Y,boxShadow:te,absolute:"0px 0px 0px 0px",background:"url("+l.get(U,K,j,W.canvas)+") center left"}}});return(0,e.isValidElement)(J)?t.default.cloneElement(J,n({},J.props,{style:n({},J.props.style,oe.grid)})):t.default.createElement("div",{style:oe.grid})};return C.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},qy.default=C,qy}var zP;function ece(){if(zP)return Yy;zP=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.Alpha=void 0;var n=Object.assign||function(Y){for(var te=1;te<arguments.length;te++){var J=arguments[te];for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&(Y[oe]=J[oe])}return Y},e=function(){function Y(te,J){for(var oe=0;oe<J.length;oe++){var ne=J[oe];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}}return function(te,J,oe){return J&&Y(te.prototype,J),oe&&Y(te,oe),te}}(),t=Il(),i=O(t),r=dm(),a=O(r),l=Xue(),o=M(l),p=X8(),C=O(p);function M(Y){if(Y&&Y.__esModule)return Y;var te={};if(Y!=null)for(var J in Y)Object.prototype.hasOwnProperty.call(Y,J)&&(te[J]=Y[J]);return te.default=Y,te}function O(Y){return Y&&Y.__esModule?Y:{default:Y}}function U(Y,te){if(!(Y instanceof te))throw new TypeError("Cannot call a class as a function")}function K(Y,te){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:Y}function j(Y,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);Y.prototype=Object.create(te&&te.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,te):Y.__proto__=te)}var W=Yy.Alpha=function(Y){j(te,Y);function te(){var J,oe,ne,$;U(this,te);for(var ae=arguments.length,G=Array(ae),ce=0;ce<ae;ce++)G[ce]=arguments[ce];return $=(oe=(ne=K(this,(J=te.__proto__||Object.getPrototypeOf(te)).call.apply(J,[this].concat(G))),ne),ne.handleChange=function(ge){var ye=o.calculateChange(ge,ne.props.hsl,ne.props.direction,ne.props.a,ne.container);ye&&typeof ne.props.onChange=="function"&&ne.props.onChange(ye,ge)},ne.handleMouseDown=function(ge){ne.handleChange(ge),window.addEventListener("mousemove",ne.handleChange),window.addEventListener("mouseup",ne.handleMouseUp)},ne.handleMouseUp=function(){ne.unbindEventListeners()},ne.unbindEventListeners=function(){window.removeEventListener("mousemove",ne.handleChange),window.removeEventListener("mouseup",ne.handleMouseUp)},oe),K(ne,$)}return e(te,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var oe=this,ne=this.props.rgb,$=(0,a.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+ne.r+","+ne.g+","+ne.b+`, 0) 0%,
           rgba(`+ne.r+","+ne.g+","+ne.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:ne.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+ne.r+","+ne.g+","+ne.b+`, 0) 0%,
           rgba(`+ne.r+","+ne.g+","+ne.b+", 1) 100%)"},pointer:{left:0,top:ne.a*100+"%"}},overwrite:n({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return i.default.createElement("div",{style:$.alpha},i.default.createElement("div",{style:$.checkboard},i.default.createElement(C.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:$.gradient}),i.default.createElement("div",{style:$.container,ref:function(G){return oe.container=G},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:$.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:$.slider}))))}}]),te}(t.PureComponent||t.Component);return Yy.default=W,Yy}var Hy={},jP;function tce(){if(jP)return Hy;jP=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.EditableInput=void 0;var n=function(){function J(oe,ne){for(var $=0;$<ne.length;$++){var ae=ne[$];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(oe,ae.key,ae)}}return function(oe,ne,$){return ne&&J(oe.prototype,ne),$&&J(oe,$),oe}}(),e=Il(),t=a(e),i=dm(),r=a(i);function a(J){return J&&J.__esModule?J:{default:J}}function l(J,oe,ne){return oe in J?Object.defineProperty(J,oe,{value:ne,enumerable:!0,configurable:!0,writable:!0}):J[oe]=ne,J}function o(J,oe){if(!(J instanceof oe))throw new TypeError("Cannot call a class as a function")}function p(J,oe){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:J}function C(J,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);J.prototype=Object.create(oe&&oe.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(J,oe):J.__proto__=oe)}var M=1,O=38,U=40,K=[O,U],j=function(oe){return K.indexOf(oe)>-1},W=function(oe){return Number(String(oe).replace(/%/g,""))},Y=1,te=Hy.EditableInput=function(J){C(oe,J);function oe(ne){o(this,oe);var $=p(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this));return $.handleBlur=function(){$.state.blurValue&&$.setState({value:$.state.blurValue,blurValue:null})},$.handleChange=function(ae){$.setUpdatedValue(ae.target.value,ae)},$.handleKeyDown=function(ae){var G=W(ae.target.value);if(!isNaN(G)&&j(ae.keyCode)){var ce=$.getArrowOffset(),ge=ae.keyCode===O?G+ce:G-ce;$.setUpdatedValue(ge,ae)}},$.handleDrag=function(ae){if($.props.dragLabel){var G=Math.round($.props.value+ae.movementX);G>=0&&G<=$.props.dragMax&&$.props.onChange&&$.props.onChange($.getValueObjectWithLabel(G),ae)}},$.handleMouseDown=function(ae){$.props.dragLabel&&(ae.preventDefault(),$.handleDrag(ae),window.addEventListener("mousemove",$.handleDrag),window.addEventListener("mouseup",$.handleMouseUp))},$.handleMouseUp=function(){$.unbindEventListeners()},$.unbindEventListeners=function(){window.removeEventListener("mousemove",$.handleDrag),window.removeEventListener("mouseup",$.handleMouseUp)},$.state={value:String(ne.value).toUpperCase(),blurValue:String(ne.value).toUpperCase()},$.inputId="rc-editable-input-"+Y++,$}return n(oe,[{key:"componentDidUpdate",value:function($,ae){this.props.value!==this.state.value&&($.value!==this.props.value||ae.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function($){return l({},this.props.label,$)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||M}},{key:"setUpdatedValue",value:function($,ae){var G=this.props.label?this.getValueObjectWithLabel($):$;this.props.onChange&&this.props.onChange(G,ae),this.setState({value:$})}},{key:"render",value:function(){var $=this,ae=(0,r.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return t.default.createElement("div",{style:ae.wrap},t.default.createElement("input",{id:this.inputId,style:ae.input,ref:function(ce){return $.input=ce},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?t.default.createElement("label",{htmlFor:this.inputId,style:ae.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),oe}(e.PureComponent||e.Component);return Hy.default=te,Hy}var Vy={},mx={},NP;function nce(){return NP||(NP=1,Object.defineProperty(mx,"__esModule",{value:!0}),mx.calculateChange=function(e,t,i,r){var a=r.clientWidth,l=r.clientHeight,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,p=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,C=o-(r.getBoundingClientRect().left+window.pageXOffset),M=p-(r.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var O=void 0;if(M<0)O=359;else if(M>l)O=0;else{var U=-(M*100/l)+100;O=360*U/100}if(i.h!==O)return{h:O,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var K=void 0;if(C<0)K=0;else if(C>a)K=359;else{var j=C*100/a;K=360*j/100}if(i.h!==K)return{h:K,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null}),mx}var GP;function ice(){if(GP)return Vy;GP=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.Hue=void 0;var n=function(){function K(j,W){for(var Y=0;Y<W.length;Y++){var te=W[Y];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(j,te.key,te)}}return function(j,W,Y){return W&&K(j.prototype,W),Y&&K(j,Y),j}}(),e=Il(),t=p(e),i=dm(),r=p(i),a=nce(),l=o(a);function o(K){if(K&&K.__esModule)return K;var j={};if(K!=null)for(var W in K)Object.prototype.hasOwnProperty.call(K,W)&&(j[W]=K[W]);return j.default=K,j}function p(K){return K&&K.__esModule?K:{default:K}}function C(K,j){if(!(K instanceof j))throw new TypeError("Cannot call a class as a function")}function M(K,j){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:K}function O(K,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);K.prototype=Object.create(j&&j.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(K,j):K.__proto__=j)}var U=Vy.Hue=function(K){O(j,K);function j(){var W,Y,te,J;C(this,j);for(var oe=arguments.length,ne=Array(oe),$=0;$<oe;$++)ne[$]=arguments[$];return J=(Y=(te=M(this,(W=j.__proto__||Object.getPrototypeOf(j)).call.apply(W,[this].concat(ne))),te),te.handleChange=function(ae){var G=l.calculateChange(ae,te.props.direction,te.props.hsl,te.container);G&&typeof te.props.onChange=="function"&&te.props.onChange(G,ae)},te.handleMouseDown=function(ae){te.handleChange(ae),window.addEventListener("mousemove",te.handleChange),window.addEventListener("mouseup",te.handleMouseUp)},te.handleMouseUp=function(){te.unbindEventListeners()},Y),M(te,J)}return n(j,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var Y=this,te=this.props.direction,J=te===void 0?"horizontal":te,oe=(0,r.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:J==="vertical"});return t.default.createElement("div",{style:oe.hue},t.default.createElement("div",{className:"hue-"+J,style:oe.container,ref:function($){return Y.container=$},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},t.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),t.default.createElement("div",{style:oe.pointer},this.props.pointer?t.default.createElement(this.props.pointer,this.props):t.default.createElement("div",{style:oe.slider}))))}}]),j}(e.PureComponent||e.Component);return Vy.default=U,Vy}var $y={},WP;function rce(){if(WP)return $y;WP=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.Raised=void 0;var n=Il(),e=p(n),t=W0(),i=p(t),r=dm(),a=p(r),l=HN(),o=p(l);function p(M){return M&&M.__esModule?M:{default:M}}var C=$y.Raised=function(O){var U=O.zDepth,K=O.radius,j=O.background,W=O.children,Y=O.styles,te=Y===void 0?{}:Y,J=(0,a.default)((0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+U+"px "+U*4+"px rgba(0,0,0,.24)",borderRadius:K,background:j}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},te),{"zDepth-1":U===1});return e.default.createElement("div",{style:J.wrap},e.default.createElement("div",{style:J.bg}),e.default.createElement("div",{style:J.content},W))};return C.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},C.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},$y.default=C,$y}var Zy={},nE,QP;function oce(){if(QP)return nE;QP=1;var n=hm(),e=function(){return n.Date.now()};return nE=e,nE}var iE,YP;function ace(){if(YP)return iE;YP=1;var n=/\s/;function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}return iE=e,iE}var rE,qP;function sce(){if(qP)return rE;qP=1;var n=ace(),e=/^\s+/;function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}return rE=t,rE}var oE,HP;function lce(){if(HP)return oE;HP=1;var n=sce(),e=Mp(),t=Z2(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt;function p(C){if(typeof C=="number")return C;if(t(C))return i;if(e(C)){var M=typeof C.valueOf=="function"?C.valueOf():C;C=e(M)?M+"":M}if(typeof C!="string")return C===0?C:+C;C=n(C);var O=a.test(C);return O||l.test(C)?o(C.slice(2),O?2:8):r.test(C)?i:+C}return oE=p,oE}var aE,VP;function VN(){if(VP)return aE;VP=1;var n=Mp(),e=oce(),t=lce(),i="Expected a function",r=Math.max,a=Math.min;function l(o,p,C){var M,O,U,K,j,W,Y=0,te=!1,J=!1,oe=!0;if(typeof o!="function")throw new TypeError(i);p=t(p)||0,n(C)&&(te=!!C.leading,J="maxWait"in C,U=J?r(t(C.maxWait)||0,p):U,oe="trailing"in C?!!C.trailing:oe);function ne(Se){var Ve=M,xe=O;return M=O=void 0,Y=Se,K=o.apply(xe,Ve),K}function $(Se){return Y=Se,j=setTimeout(ce,p),te?ne(Se):K}function ae(Se){var Ve=Se-W,xe=Se-Y,ze=p-Ve;return J?a(ze,U-xe):ze}function G(Se){var Ve=Se-W,xe=Se-Y;return W===void 0||Ve>=p||Ve<0||J&&xe>=U}function ce(){var Se=e();if(G(Se))return ge(Se);j=setTimeout(ce,ae(Se))}function ge(Se){return j=void 0,oe&&M?ne(Se):(M=O=void 0,K)}function ye(){j!==void 0&&clearTimeout(j),Y=0,M=W=O=j=void 0}function we(){return j===void 0?K:ge(e())}function Ie(){var Se=e(),Ve=G(Se);if(M=arguments,O=this,W=Se,Ve){if(j===void 0)return $(W);if(J)return clearTimeout(j),j=setTimeout(ce,p),ne(W)}return j===void 0&&(j=setTimeout(ce,p)),K}return Ie.cancel=ye,Ie.flush=we,Ie}return aE=l,aE}var sE,$P;function Ace(){if($P)return sE;$P=1;var n=VN(),e=Mp(),t="Expected a function";function i(r,a,l){var o=!0,p=!0;if(typeof r!="function")throw new TypeError(t);return e(l)&&(o="leading"in l?!!l.leading:o,p="trailing"in l?!!l.trailing:p),n(r,a,{leading:o,maxWait:a,trailing:p})}return sE=i,sE}var gx={},ZP;function uce(){return ZP||(ZP=1,Object.defineProperty(gx,"__esModule",{value:!0}),gx.calculateChange=function(e,t,i){var r=i.getBoundingClientRect(),a=r.width,l=r.height,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,p=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,C=o-(i.getBoundingClientRect().left+window.pageXOffset),M=p-(i.getBoundingClientRect().top+window.pageYOffset);C<0?C=0:C>a&&(C=a),M<0?M=0:M>l&&(M=l);var O=C/a,U=1-M/l;return{h:t.h,s:O,v:U,a:t.a,source:"hsv"}}),gx}var XP;function cce(){if(XP)return Zy;XP=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.Saturation=void 0;var n=function(){function W(Y,te){for(var J=0;J<te.length;J++){var oe=te[J];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(Y,oe.key,oe)}}return function(Y,te,J){return te&&W(Y.prototype,te),J&&W(Y,J),Y}}(),e=Il(),t=M(e),i=dm(),r=M(i),a=Ace(),l=M(a),o=uce(),p=C(o);function C(W){if(W&&W.__esModule)return W;var Y={};if(W!=null)for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&(Y[te]=W[te]);return Y.default=W,Y}function M(W){return W&&W.__esModule?W:{default:W}}function O(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}function U(W,Y){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:W}function K(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);W.prototype=Object.create(Y&&Y.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Y):W.__proto__=Y)}var j=Zy.Saturation=function(W){K(Y,W);function Y(te){O(this,Y);var J=U(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,te));return J.handleChange=function(oe){typeof J.props.onChange=="function"&&J.throttle(J.props.onChange,p.calculateChange(oe,J.props.hsl,J.container),oe)},J.handleMouseDown=function(oe){J.handleChange(oe);var ne=J.getContainerRenderWindow();ne.addEventListener("mousemove",J.handleChange),ne.addEventListener("mouseup",J.handleMouseUp)},J.handleMouseUp=function(){J.unbindEventListeners()},J.throttle=(0,l.default)(function(oe,ne,$){oe(ne,$)},50),J}return n(Y,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var J=this.container,oe=window;!oe.document.contains(J)&&oe.parent!==oe;)oe=oe.parent;return oe}},{key:"unbindEventListeners",value:function(){var J=this.getContainerRenderWindow();J.removeEventListener("mousemove",this.handleChange),J.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var J=this,oe=this.props.style||{},ne=oe.color,$=oe.white,ae=oe.black,G=oe.pointer,ce=oe.circle,ge=(0,r.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:ne,white:$,black:ae,pointer:G,circle:ce}},{custom:!!this.props.style});return t.default.createElement("div",{style:ge.color,ref:function(we){return J.container=we},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},t.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),t.default.createElement("div",{style:ge.white,className:"saturation-white"},t.default.createElement("div",{style:ge.black,className:"saturation-black"}),t.default.createElement("div",{style:ge.pointer},this.props.pointer?t.default.createElement(this.props.pointer,this.props):t.default.createElement("div",{style:ge.circle}))))}}]),Y}(e.PureComponent||e.Component);return Zy.default=j,Zy}var Xy={},hd={},lE,JP;function hce(){if(JP)return lE;JP=1;var n=LN(),e=UN(),t=bN(),i=kf();function r(a,l){var o=i(a)?n:e;return o(a,t(l))}return lE=r,lE}var AE,eK;function dce(){return eK||(eK=1,AE=hce()),AE}var Dx={exports:{}},fce=Dx.exports,tK;function pce(){return tK||(tK=1,function(n,e){(function(t,i){n.exports=i()})(fce,function(){function t(Fe){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ke){return typeof Ke}:function(Ke){return Ke&&typeof Symbol=="function"&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},t(Fe)}var i=/^\s+/,r=/\s+$/;function a(Fe,Ke){if(Fe=Fe||"",Ke=Ke||{},Fe instanceof a)return Fe;if(!(this instanceof a))return new a(Fe,Ke);var Re=l(Fe);this._originalInput=Fe,this._r=Re.r,this._g=Re.g,this._b=Re.b,this._a=Re.a,this._roundA=Math.round(100*this._a)/100,this._format=Ke.format||Re.format,this._gradientType=Ke.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Re.ok}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ke=this.toRgb();return(Ke.r*299+Ke.g*587+Ke.b*114)/1e3},getLuminance:function(){var Ke=this.toRgb(),Re,He,bt,_t,Ot,qt;return Re=Ke.r/255,He=Ke.g/255,bt=Ke.b/255,Re<=.03928?_t=Re/12.92:_t=Math.pow((Re+.055)/1.055,2.4),He<=.03928?Ot=He/12.92:Ot=Math.pow((He+.055)/1.055,2.4),bt<=.03928?qt=bt/12.92:qt=Math.pow((bt+.055)/1.055,2.4),.2126*_t+.7152*Ot+.0722*qt},setAlpha:function(Ke){return this._a=Ve(Ke),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var Ke=M(this._r,this._g,this._b);return{h:Ke.h*360,s:Ke.s,v:Ke.v,a:this._a}},toHsvString:function(){var Ke=M(this._r,this._g,this._b),Re=Math.round(Ke.h*360),He=Math.round(Ke.s*100),bt=Math.round(Ke.v*100);return this._a==1?"hsv("+Re+", "+He+"%, "+bt+"%)":"hsva("+Re+", "+He+"%, "+bt+"%, "+this._roundA+")"},toHsl:function(){var Ke=p(this._r,this._g,this._b);return{h:Ke.h*360,s:Ke.s,l:Ke.l,a:this._a}},toHslString:function(){var Ke=p(this._r,this._g,this._b),Re=Math.round(Ke.h*360),He=Math.round(Ke.s*100),bt=Math.round(Ke.l*100);return this._a==1?"hsl("+Re+", "+He+"%, "+bt+"%)":"hsla("+Re+", "+He+"%, "+bt+"%, "+this._roundA+")"},toHex:function(Ke){return U(this._r,this._g,this._b,Ke)},toHexString:function(Ke){return"#"+this.toHex(Ke)},toHex8:function(Ke){return K(this._r,this._g,this._b,this._a,Ke)},toHex8String:function(Ke){return"#"+this.toHex8(Ke)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(xe(this._r,255)*100)+"%",g:Math.round(xe(this._g,255)*100)+"%",b:Math.round(xe(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(xe(this._r,255)*100)+"%, "+Math.round(xe(this._g,255)*100)+"%, "+Math.round(xe(this._b,255)*100)+"%)":"rgba("+Math.round(xe(this._r,255)*100)+"%, "+Math.round(xe(this._g,255)*100)+"%, "+Math.round(xe(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ie[U(this._r,this._g,this._b,!0)]||!1},toFilter:function(Ke){var Re="#"+j(this._r,this._g,this._b,this._a),He=Re,bt=this._gradientType?"GradientType = 1, ":"";if(Ke){var _t=a(Ke);He="#"+j(_t._r,_t._g,_t._b,_t._a)}return"progid:DXImageTransform.Microsoft.gradient("+bt+"startColorstr="+Re+",endColorstr="+He+")"},toString:function(Ke){var Re=!!Ke;Ke=Ke||this._format;var He=!1,bt=this._a<1&&this._a>=0,_t=!Re&&bt&&(Ke==="hex"||Ke==="hex6"||Ke==="hex3"||Ke==="hex4"||Ke==="hex8"||Ke==="name");return _t?Ke==="name"&&this._a===0?this.toName():this.toRgbString():(Ke==="rgb"&&(He=this.toRgbString()),Ke==="prgb"&&(He=this.toPercentageRgbString()),(Ke==="hex"||Ke==="hex6")&&(He=this.toHexString()),Ke==="hex3"&&(He=this.toHexString(!0)),Ke==="hex4"&&(He=this.toHex8String(!0)),Ke==="hex8"&&(He=this.toHex8String()),Ke==="name"&&(He=this.toName()),Ke==="hsl"&&(He=this.toHslString()),Ke==="hsv"&&(He=this.toHsvString()),He||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(Ke,Re){var He=Ke.apply(null,[this].concat([].slice.call(Re)));return this._r=He._r,this._g=He._g,this._b=He._b,this.setAlpha(He._a),this},lighten:function(){return this._applyModification(J,arguments)},brighten:function(){return this._applyModification(oe,arguments)},darken:function(){return this._applyModification(ne,arguments)},desaturate:function(){return this._applyModification(W,arguments)},saturate:function(){return this._applyModification(Y,arguments)},greyscale:function(){return this._applyModification(te,arguments)},spin:function(){return this._applyModification($,arguments)},_applyCombination:function(Ke,Re){return Ke.apply(null,[this].concat([].slice.call(Re)))},analogous:function(){return this._applyCombination(ge,arguments)},complement:function(){return this._applyCombination(ae,arguments)},monochromatic:function(){return this._applyCombination(ye,arguments)},splitcomplement:function(){return this._applyCombination(ce,arguments)},triad:function(){return this._applyCombination(G,[3])},tetrad:function(){return this._applyCombination(G,[4])}},a.fromRatio=function(Fe,Ke){if(t(Fe)=="object"){var Re={};for(var He in Fe)Fe.hasOwnProperty(He)&&(He==="a"?Re[He]=Fe[He]:Re[He]=Ne(Fe[He]));Fe=Re}return a(Fe,Ke)};function l(Fe){var Ke={r:0,g:0,b:0},Re=1,He=null,bt=null,_t=null,Ot=!1,qt=!1;return typeof Fe=="string"&&(Fe=St(Fe)),t(Fe)=="object"&&(gt(Fe.r)&&gt(Fe.g)&&gt(Fe.b)?(Ke=o(Fe.r,Fe.g,Fe.b),Ot=!0,qt=String(Fe.r).substr(-1)==="%"?"prgb":"rgb"):gt(Fe.h)&&gt(Fe.s)&&gt(Fe.v)?(He=Ne(Fe.s),bt=Ne(Fe.v),Ke=O(Fe.h,He,bt),Ot=!0,qt="hsv"):gt(Fe.h)&&gt(Fe.s)&&gt(Fe.l)&&(He=Ne(Fe.s),_t=Ne(Fe.l),Ke=C(Fe.h,He,_t),Ot=!0,qt="hsl"),Fe.hasOwnProperty("a")&&(Re=Fe.a)),Re=Ve(Re),{ok:Ot,format:Fe.format||qt,r:Math.min(255,Math.max(Ke.r,0)),g:Math.min(255,Math.max(Ke.g,0)),b:Math.min(255,Math.max(Ke.b,0)),a:Re}}function o(Fe,Ke,Re){return{r:xe(Fe,255)*255,g:xe(Ke,255)*255,b:xe(Re,255)*255}}function p(Fe,Ke,Re){Fe=xe(Fe,255),Ke=xe(Ke,255),Re=xe(Re,255);var He=Math.max(Fe,Ke,Re),bt=Math.min(Fe,Ke,Re),_t,Ot,qt=(He+bt)/2;if(He==bt)_t=Ot=0;else{var Kt=He-bt;switch(Ot=qt>.5?Kt/(2-He-bt):Kt/(He+bt),He){case Fe:_t=(Ke-Re)/Kt+(Ke<Re?6:0);break;case Ke:_t=(Re-Fe)/Kt+2;break;case Re:_t=(Fe-Ke)/Kt+4;break}_t/=6}return{h:_t,s:Ot,l:qt}}function C(Fe,Ke,Re){var He,bt,_t;Fe=xe(Fe,360),Ke=xe(Ke,100),Re=xe(Re,100);function Ot(on,Jn,Wt){return Wt<0&&(Wt+=1),Wt>1&&(Wt-=1),Wt<1/6?on+(Jn-on)*6*Wt:Wt<1/2?Jn:Wt<2/3?on+(Jn-on)*(2/3-Wt)*6:on}if(Ke===0)He=bt=_t=Re;else{var qt=Re<.5?Re*(1+Ke):Re+Ke-Re*Ke,Kt=2*Re-qt;He=Ot(Kt,qt,Fe+1/3),bt=Ot(Kt,qt,Fe),_t=Ot(Kt,qt,Fe-1/3)}return{r:He*255,g:bt*255,b:_t*255}}function M(Fe,Ke,Re){Fe=xe(Fe,255),Ke=xe(Ke,255),Re=xe(Re,255);var He=Math.max(Fe,Ke,Re),bt=Math.min(Fe,Ke,Re),_t,Ot,qt=He,Kt=He-bt;if(Ot=He===0?0:Kt/He,He==bt)_t=0;else{switch(He){case Fe:_t=(Ke-Re)/Kt+(Ke<Re?6:0);break;case Ke:_t=(Re-Fe)/Kt+2;break;case Re:_t=(Fe-Ke)/Kt+4;break}_t/=6}return{h:_t,s:Ot,v:qt}}function O(Fe,Ke,Re){Fe=xe(Fe,360)*6,Ke=xe(Ke,100),Re=xe(Re,100);var He=Math.floor(Fe),bt=Fe-He,_t=Re*(1-Ke),Ot=Re*(1-bt*Ke),qt=Re*(1-(1-bt)*Ke),Kt=He%6,on=[Re,Ot,_t,_t,qt,Re][Kt],Jn=[qt,Re,Re,Ot,_t,_t][Kt],Wt=[_t,_t,qt,Re,Re,Ot][Kt];return{r:on*255,g:Jn*255,b:Wt*255}}function U(Fe,Ke,Re,He){var bt=[be(Math.round(Fe).toString(16)),be(Math.round(Ke).toString(16)),be(Math.round(Re).toString(16))];return He&&bt[0].charAt(0)==bt[0].charAt(1)&&bt[1].charAt(0)==bt[1].charAt(1)&&bt[2].charAt(0)==bt[2].charAt(1)?bt[0].charAt(0)+bt[1].charAt(0)+bt[2].charAt(0):bt.join("")}function K(Fe,Ke,Re,He,bt){var _t=[be(Math.round(Fe).toString(16)),be(Math.round(Ke).toString(16)),be(Math.round(Re).toString(16)),be(tt(He))];return bt&&_t[0].charAt(0)==_t[0].charAt(1)&&_t[1].charAt(0)==_t[1].charAt(1)&&_t[2].charAt(0)==_t[2].charAt(1)&&_t[3].charAt(0)==_t[3].charAt(1)?_t[0].charAt(0)+_t[1].charAt(0)+_t[2].charAt(0)+_t[3].charAt(0):_t.join("")}function j(Fe,Ke,Re,He){var bt=[be(tt(He)),be(Math.round(Fe).toString(16)),be(Math.round(Ke).toString(16)),be(Math.round(Re).toString(16))];return bt.join("")}a.equals=function(Fe,Ke){return!Fe||!Ke?!1:a(Fe).toRgbString()==a(Ke).toRgbString()},a.random=function(){return a.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function W(Fe,Ke){Ke=Ke===0?0:Ke||10;var Re=a(Fe).toHsl();return Re.s-=Ke/100,Re.s=ze(Re.s),a(Re)}function Y(Fe,Ke){Ke=Ke===0?0:Ke||10;var Re=a(Fe).toHsl();return Re.s+=Ke/100,Re.s=ze(Re.s),a(Re)}function te(Fe){return a(Fe).desaturate(100)}function J(Fe,Ke){Ke=Ke===0?0:Ke||10;var Re=a(Fe).toHsl();return Re.l+=Ke/100,Re.l=ze(Re.l),a(Re)}function oe(Fe,Ke){Ke=Ke===0?0:Ke||10;var Re=a(Fe).toRgb();return Re.r=Math.max(0,Math.min(255,Re.r-Math.round(255*-(Ke/100)))),Re.g=Math.max(0,Math.min(255,Re.g-Math.round(255*-(Ke/100)))),Re.b=Math.max(0,Math.min(255,Re.b-Math.round(255*-(Ke/100)))),a(Re)}function ne(Fe,Ke){Ke=Ke===0?0:Ke||10;var Re=a(Fe).toHsl();return Re.l-=Ke/100,Re.l=ze(Re.l),a(Re)}function $(Fe,Ke){var Re=a(Fe).toHsl(),He=(Re.h+Ke)%360;return Re.h=He<0?360+He:He,a(Re)}function ae(Fe){var Ke=a(Fe).toHsl();return Ke.h=(Ke.h+180)%360,a(Ke)}function G(Fe,Ke){if(isNaN(Ke)||Ke<=0)throw new Error("Argument to polyad must be a positive number");for(var Re=a(Fe).toHsl(),He=[a(Fe)],bt=360/Ke,_t=1;_t<Ke;_t++)He.push(a({h:(Re.h+_t*bt)%360,s:Re.s,l:Re.l}));return He}function ce(Fe){var Ke=a(Fe).toHsl(),Re=Ke.h;return[a(Fe),a({h:(Re+72)%360,s:Ke.s,l:Ke.l}),a({h:(Re+216)%360,s:Ke.s,l:Ke.l})]}function ge(Fe,Ke,Re){Ke=Ke||6,Re=Re||30;var He=a(Fe).toHsl(),bt=360/Re,_t=[a(Fe)];for(He.h=(He.h-(bt*Ke>>1)+720)%360;--Ke;)He.h=(He.h+bt)%360,_t.push(a(He));return _t}function ye(Fe,Ke){Ke=Ke||6;for(var Re=a(Fe).toHsv(),He=Re.h,bt=Re.s,_t=Re.v,Ot=[],qt=1/Ke;Ke--;)Ot.push(a({h:He,s:bt,v:_t})),_t=(_t+qt)%1;return Ot}a.mix=function(Fe,Ke,Re){Re=Re===0?0:Re||50;var He=a(Fe).toRgb(),bt=a(Ke).toRgb(),_t=Re/100,Ot={r:(bt.r-He.r)*_t+He.r,g:(bt.g-He.g)*_t+He.g,b:(bt.b-He.b)*_t+He.b,a:(bt.a-He.a)*_t+He.a};return a(Ot)},a.readability=function(Fe,Ke){var Re=a(Fe),He=a(Ke);return(Math.max(Re.getLuminance(),He.getLuminance())+.05)/(Math.min(Re.getLuminance(),He.getLuminance())+.05)},a.isReadable=function(Fe,Ke,Re){var He=a.readability(Fe,Ke),bt,_t;switch(_t=!1,bt=Ut(Re),bt.level+bt.size){case"AAsmall":case"AAAlarge":_t=He>=4.5;break;case"AAlarge":_t=He>=3;break;case"AAAsmall":_t=He>=7;break}return _t},a.mostReadable=function(Fe,Ke,Re){var He=null,bt=0,_t,Ot,qt,Kt;Re=Re||{},Ot=Re.includeFallbackColors,qt=Re.level,Kt=Re.size;for(var on=0;on<Ke.length;on++)_t=a.readability(Fe,Ke[on]),_t>bt&&(bt=_t,He=a(Ke[on]));return a.isReadable(Fe,He,{level:qt,size:Kt})||!Ot?He:(Re.includeFallbackColors=!1,a.mostReadable(Fe,["#fff","#000"],Re))};var we=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ie=a.hexNames=Se(we);function Se(Fe){var Ke={};for(var Re in Fe)Fe.hasOwnProperty(Re)&&(Ke[Fe[Re]]=Re);return Ke}function Ve(Fe){return Fe=parseFloat(Fe),(isNaN(Fe)||Fe<0||Fe>1)&&(Fe=1),Fe}function xe(Fe,Ke){Ct(Fe)&&(Fe="100%");var Re=nt(Fe);return Fe=Math.min(Ke,Math.max(0,parseFloat(Fe))),Re&&(Fe=parseInt(Fe*Ke,10)/100),Math.abs(Fe-Ke)<1e-6?1:Fe%Ke/parseFloat(Ke)}function ze(Fe){return Math.min(1,Math.max(0,Fe))}function st(Fe){return parseInt(Fe,16)}function Ct(Fe){return typeof Fe=="string"&&Fe.indexOf(".")!=-1&&parseFloat(Fe)===1}function nt(Fe){return typeof Fe=="string"&&Fe.indexOf("%")!=-1}function be(Fe){return Fe.length==1?"0"+Fe:""+Fe}function Ne(Fe){return Fe<=1&&(Fe=Fe*100+"%"),Fe}function tt(Fe){return Math.round(parseFloat(Fe)*255).toString(16)}function lt(Fe){return st(Fe)/255}var kt=function(){var Fe="[-\\+]?\\d+%?",Ke="[-\\+]?\\d*\\.\\d+%?",Re="(?:"+Ke+")|(?:"+Fe+")",He="[\\s|\\(]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")\\s*\\)?",bt="[\\s|\\(]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")\\s*\\)?";return{CSS_UNIT:new RegExp(Re),rgb:new RegExp("rgb"+He),rgba:new RegExp("rgba"+bt),hsl:new RegExp("hsl"+He),hsla:new RegExp("hsla"+bt),hsv:new RegExp("hsv"+He),hsva:new RegExp("hsva"+bt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gt(Fe){return!!kt.CSS_UNIT.exec(Fe)}function St(Fe){Fe=Fe.replace(i,"").replace(r,"").toLowerCase();var Ke=!1;if(we[Fe])Fe=we[Fe],Ke=!0;else if(Fe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Re;return(Re=kt.rgb.exec(Fe))?{r:Re[1],g:Re[2],b:Re[3]}:(Re=kt.rgba.exec(Fe))?{r:Re[1],g:Re[2],b:Re[3],a:Re[4]}:(Re=kt.hsl.exec(Fe))?{h:Re[1],s:Re[2],l:Re[3]}:(Re=kt.hsla.exec(Fe))?{h:Re[1],s:Re[2],l:Re[3],a:Re[4]}:(Re=kt.hsv.exec(Fe))?{h:Re[1],s:Re[2],v:Re[3]}:(Re=kt.hsva.exec(Fe))?{h:Re[1],s:Re[2],v:Re[3],a:Re[4]}:(Re=kt.hex8.exec(Fe))?{r:st(Re[1]),g:st(Re[2]),b:st(Re[3]),a:lt(Re[4]),format:Ke?"name":"hex8"}:(Re=kt.hex6.exec(Fe))?{r:st(Re[1]),g:st(Re[2]),b:st(Re[3]),format:Ke?"name":"hex"}:(Re=kt.hex4.exec(Fe))?{r:st(Re[1]+""+Re[1]),g:st(Re[2]+""+Re[2]),b:st(Re[3]+""+Re[3]),a:lt(Re[4]+""+Re[4]),format:Ke?"name":"hex8"}:(Re=kt.hex3.exec(Fe))?{r:st(Re[1]+""+Re[1]),g:st(Re[2]+""+Re[2]),b:st(Re[3]+""+Re[3]),format:Ke?"name":"hex"}:!1}function Ut(Fe){var Ke,Re;return Fe=Fe||{level:"AA",size:"small"},Ke=(Fe.level||"AA").toUpperCase(),Re=(Fe.size||"small").toLowerCase(),Ke!=="AA"&&Ke!=="AAA"&&(Ke="AA"),Re!=="small"&&Re!=="large"&&(Re="small"),{level:Ke,size:Re}}return a})}(Dx)),Dx.exports}var nK;function $N(){if(nK)return hd;nK=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.isvalidColorString=hd.red=hd.getContrastingColor=hd.isValidHex=hd.toState=hd.simpleCheckForValidColor=void 0;var n=dce(),e=r(n),t=pce(),i=r(t);function r(l){return l&&l.__esModule?l:{default:l}}hd.simpleCheckForValidColor=function(o){var p=["r","g","b","a","h","s","l","v"],C=0,M=0;return(0,e.default)(p,function(O){if(o[O]&&(C+=1,isNaN(o[O])||(M+=1),O==="s"||O==="l")){var U=/^\d+%$/;U.test(o[O])&&(M+=1)}}),C===M?o:!1};var a=hd.toState=function(o,p){var C=o.hex?(0,i.default)(o.hex):(0,i.default)(o),M=C.toHsl(),O=C.toHsv(),U=C.toRgb(),K=C.toHex();M.s===0&&(M.h=p||0,O.h=p||0);var j=K==="000000"&&U.a===0;return{hsl:M,hex:j?"transparent":"#"+K,rgb:U,hsv:O,oldHue:o.h||p||M.h,source:o.source}};return hd.isValidHex=function(o){if(o==="transparent")return!0;var p=String(o).charAt(0)==="#"?1:0;return o.length!==4+p&&o.length<7+p&&(0,i.default)(o).isValid()},hd.getContrastingColor=function(o){if(!o)return"#fff";var p=a(o);if(p.hex==="transparent")return"rgba(0,0,0,0.4)";var C=(p.rgb.r*299+p.rgb.g*587+p.rgb.b*114)/1e3;return C>=128?"#000":"#fff"},hd.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},hd.isvalidColorString=function(o,p){var C=o.replace("","");return(0,i.default)(p+" ("+C+")")._ok},hd}var iK;function mce(){if(iK)return Xy;iK=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.ColorWrap=void 0;var n=Object.assign||function(j){for(var W=1;W<arguments.length;W++){var Y=arguments[W];for(var te in Y)Object.prototype.hasOwnProperty.call(Y,te)&&(j[te]=Y[te])}return j},e=function(){function j(W,Y){for(var te=0;te<Y.length;te++){var J=Y[te];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(W,J.key,J)}}return function(W,Y,te){return Y&&j(W.prototype,Y),te&&j(W,te),W}}(),t=Il(),i=C(t),r=VN(),a=C(r),l=$N(),o=p(l);function p(j){if(j&&j.__esModule)return j;var W={};if(j!=null)for(var Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(W[Y]=j[Y]);return W.default=j,W}function C(j){return j&&j.__esModule?j:{default:j}}function M(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function O(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function U(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var K=Xy.ColorWrap=function(W){var Y=function(te){U(J,te);function J(oe){M(this,J);var ne=O(this,(J.__proto__||Object.getPrototypeOf(J)).call(this));return ne.handleChange=function($,ae){var G=o.simpleCheckForValidColor($);if(G){var ce=o.toState($,$.h||ne.state.oldHue);ne.setState(ce),ne.props.onChangeComplete&&ne.debounce(ne.props.onChangeComplete,ce,ae),ne.props.onChange&&ne.props.onChange(ce,ae)}},ne.handleSwatchHover=function($,ae){var G=o.simpleCheckForValidColor($);if(G){var ce=o.toState($,$.h||ne.state.oldHue);ne.props.onSwatchHover&&ne.props.onSwatchHover(ce,ae)}},ne.state=n({},o.toState(oe.color,0)),ne.debounce=(0,a.default)(function($,ae,G){$(ae,G)},100),ne}return e(J,[{key:"render",value:function(){var ne={};return this.props.onSwatchHover&&(ne.onSwatchHover=this.handleSwatchHover),i.default.createElement(W,n({},this.props,this.state,{onChange:this.handleChange},ne))}}],[{key:"getDerivedStateFromProps",value:function(ne,$){return n({},o.toState(ne.color,$.oldHue))}}]),J}(t.PureComponent||t.Component);return Y.propTypes=n({},W.propTypes),Y.defaultProps=n({},W.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),Y};return Xy.default=K,Xy}var Jy={},BC={},rK;function gce(){if(rK)return BC;rK=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC.handleFocus=void 0;var n=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var M=arguments[C];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(p[O]=M[O])}return p},e=function(){function p(C,M){for(var O=0;O<M.length;O++){var U=M[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}return function(C,M,O){return M&&p(C.prototype,M),O&&p(C,O),C}}(),t=Il(),i=r(t);function r(p){return p&&p.__esModule?p:{default:p}}function a(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function l(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:p}function o(p,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}return BC.handleFocus=function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(O){o(U,O);function U(){var K,j,W,Y;a(this,U);for(var te=arguments.length,J=Array(te),oe=0;oe<te;oe++)J[oe]=arguments[oe];return Y=(j=(W=l(this,(K=U.__proto__||Object.getPrototypeOf(U)).call.apply(K,[this].concat(J))),W),W.state={focus:!1},W.handleFocus=function(){return W.setState({focus:!0})},W.handleBlur=function(){return W.setState({focus:!1})},j),l(W,Y)}return e(U,[{key:"render",value:function(){return i.default.createElement(M,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.default.createElement(C,n({},this.props,this.state)))}}]),U}(i.default.Component)},BC}var oK;function yce(){if(oK)return Jy;oK=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.Swatch=void 0;var n=Object.assign||function(O){for(var U=1;U<arguments.length;U++){var K=arguments[U];for(var j in K)Object.prototype.hasOwnProperty.call(K,j)&&(O[j]=K[j])}return O},e=Il(),t=p(e),i=dm(),r=p(i),a=gce(),l=X8(),o=p(l);function p(O){return O&&O.__esModule?O:{default:O}}var C=13,M=Jy.Swatch=function(U){var K=U.color,j=U.style,W=U.onClick,Y=W===void 0?function(){}:W,te=U.onHover,J=U.title,oe=J===void 0?K:J,ne=U.children,$=U.focus,ae=U.focusStyle,G=ae===void 0?{}:ae,ce=K==="transparent",ge=(0,r.default)({default:{swatch:n({background:K,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},j,$?G:{})}}),ye=function(xe){return Y(K,xe)},we=function(xe){return xe.keyCode===C&&Y(K,xe)},Ie=function(xe){return te(K,xe)},Se={};return te&&(Se.onMouseOver=Ie),t.default.createElement("div",n({style:ge.swatch,onClick:ye,title:oe,tabIndex:0,onKeyDown:we},Se),ne,ce&&t.default.createElement(o.default,{borderRadius:ge.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};return Jy.default=(0,a.handleFocus)(M),Jy}var aK;function ZN(){return aK||(aK=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=ece();Object.defineProperty(n,"Alpha",{enumerable:!0,get:function(){return C(e).default}});var t=X8();Object.defineProperty(n,"Checkboard",{enumerable:!0,get:function(){return C(t).default}});var i=tce();Object.defineProperty(n,"EditableInput",{enumerable:!0,get:function(){return C(i).default}});var r=ice();Object.defineProperty(n,"Hue",{enumerable:!0,get:function(){return C(r).default}});var a=rce();Object.defineProperty(n,"Raised",{enumerable:!0,get:function(){return C(a).default}});var l=cce();Object.defineProperty(n,"Saturation",{enumerable:!0,get:function(){return C(l).default}});var o=mce();Object.defineProperty(n,"ColorWrap",{enumerable:!0,get:function(){return C(o).default}});var p=yce();Object.defineProperty(n,"Swatch",{enumerable:!0,get:function(){return C(p).default}});function C(M){return M&&M.__esModule?M:{default:M}}}(tE)),tE}var ev={},uE,sK;function vce(){if(sK)return uE;sK=1;function n(e){return e===void 0}return uE=n,uE}var yx={},lK;function Cce(){if(lK)return yx;lK=1,Object.defineProperty(yx,"__esModule",{value:!0});var n=Object.assign||function(l){for(var o=1;o<arguments.length;o++){var p=arguments[o];for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(l[C]=p[C])}return l},e=Il(),t=i(e);function i(l){return l&&l.__esModule?l:{default:l}}function r(l,o){var p={};for(var C in l)o.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(l,C)&&(p[C]=l[C]);return p}var a=24;return yx.default=function(l){var o=l.fill,p=o===void 0?"currentColor":o,C=l.width,M=C===void 0?a:C,O=l.height,U=O===void 0?a:O,K=l.style,j=K===void 0?{}:K,W=r(l,["fill","width","height","style"]);return t.default.createElement("svg",n({viewBox:"0 0 "+a+" "+a,style:n({fill:p,width:M,height:U},j)},W),t.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},yx}var AK;function _ce(){if(AK)return ev;AK=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.ChromeFields=void 0;var n=function(){function J(oe,ne){for(var $=0;$<ne.length;$++){var ae=ne[$];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(oe,ae.key,ae)}}return function(oe,ne,$){return ne&&J(oe.prototype,ne),$&&J(oe,$),oe}}(),e=Il(),t=K(e),i=dm(),r=K(i),a=$N(),l=U(a),o=vce(),p=K(o),C=ZN(),M=Cce(),O=K(M);function U(J){if(J&&J.__esModule)return J;var oe={};if(J!=null)for(var ne in J)Object.prototype.hasOwnProperty.call(J,ne)&&(oe[ne]=J[ne]);return oe.default=J,oe}function K(J){return J&&J.__esModule?J:{default:J}}function j(J,oe){if(!(J instanceof oe))throw new TypeError("Cannot call a class as a function")}function W(J,oe){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:J}function Y(J,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);J.prototype=Object.create(oe&&oe.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(J,oe):J.__proto__=oe)}var te=ev.ChromeFields=function(J){Y(oe,J);function oe(ne){j(this,oe);var $=W(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this));return $.toggleViews=function(){$.state.view==="hex"?$.setState({view:"rgb"}):$.state.view==="rgb"?$.setState({view:"hsl"}):$.state.view==="hsl"&&($.props.hsl.a===1?$.setState({view:"hex"}):$.setState({view:"rgb"}))},$.handleChange=function(ae,G){ae.hex?l.isValidHex(ae.hex)&&$.props.onChange({hex:ae.hex,source:"hex"},G):ae.r||ae.g||ae.b?$.props.onChange({r:ae.r||$.props.rgb.r,g:ae.g||$.props.rgb.g,b:ae.b||$.props.rgb.b,source:"rgb"},G):ae.a?(ae.a<0?ae.a=0:ae.a>1&&(ae.a=1),$.props.onChange({h:$.props.hsl.h,s:$.props.hsl.s,l:$.props.hsl.l,a:Math.round(ae.a*100)/100,source:"rgb"},G)):(ae.h||ae.s||ae.l)&&(typeof ae.s=="string"&&ae.s.includes("%")&&(ae.s=ae.s.replace("%","")),typeof ae.l=="string"&&ae.l.includes("%")&&(ae.l=ae.l.replace("%","")),ae.s==1?ae.s=.01:ae.l==1&&(ae.l=.01),$.props.onChange({h:ae.h||$.props.hsl.h,s:Number((0,p.default)(ae.s)?$.props.hsl.s:ae.s),l:Number((0,p.default)(ae.l)?$.props.hsl.l:ae.l),source:"hsl"},G))},$.showHighlight=function(ae){ae.currentTarget.style.background="#eee"},$.hideHighlight=function(ae){ae.currentTarget.style.background="transparent"},ne.hsl.a!==1&&ne.view==="hex"?$.state={view:"rgb"}:$.state={view:ne.view},$}return n(oe,[{key:"render",value:function(){var $=this,ae=(0,r.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),G=void 0;return this.state.view==="hex"?G=t.default.createElement("div",{style:ae.fields,className:"flexbox-fix"},t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?G=t.default.createElement("div",{style:ae.fields,className:"flexbox-fix"},t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),t.default.createElement("div",{style:ae.alpha},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(G=t.default.createElement("div",{style:ae.fields,className:"flexbox-fix"},t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),t.default.createElement("div",{style:ae.field},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),t.default.createElement("div",{style:ae.alpha},t.default.createElement(C.EditableInput,{style:{input:ae.input,label:ae.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),t.default.createElement("div",{style:ae.wrap,className:"flexbox-fix"},G,t.default.createElement("div",{style:ae.toggle},t.default.createElement("div",{style:ae.icon,onClick:this.toggleViews,ref:function(ge){return $.icon=ge}},t.default.createElement(O.default,{style:ae.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function($,ae){return $.hsl.a!==1&&ae.view==="hex"?{view:"rgb"}:null}}]),oe}(t.default.Component);return te.defaultProps={view:"hex"},ev.default=te,ev}var tv={},uK;function bce(){if(uK)return tv;uK=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.ChromePointer=void 0;var n=Il(),e=r(n),t=dm(),i=r(t);function r(l){return l&&l.__esModule?l:{default:l}}var a=tv.ChromePointer=function(){var o=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return e.default.createElement("div",{style:o.picker})};return tv.default=a,tv}var nv={},cK;function xce(){if(cK)return nv;cK=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.ChromePointerCircle=void 0;var n=Il(),e=r(n),t=dm(),i=r(t);function r(l){return l&&l.__esModule?l:{default:l}}var a=nv.ChromePointerCircle=function(){var o=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return e.default.createElement("div",{style:o.picker})};return nv.default=a,nv}var hK;function Mce(){if(hK)return zy;hK=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.Chrome=void 0;var n=Il(),e=W(n),t=W0(),i=W(t),r=dm(),a=W(r),l=HN(),o=W(l),p=ZN(),C=_ce(),M=W(C),O=bce(),U=W(O),K=xce(),j=W(K);function W(te){return te&&te.__esModule?te:{default:te}}var Y=zy.Chrome=function(J){var oe=J.width,ne=J.onChange,$=J.disableAlpha,ae=J.rgb,G=J.hsl,ce=J.hsv,ge=J.hex,ye=J.renderers,we=J.styles,Ie=we===void 0?{}:we,Se=J.className,Ve=Se===void 0?"":Se,xe=J.defaultView,ze=(0,a.default)((0,o.default)({default:{picker:{width:oe,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+ae.r+", "+ae.g+", "+ae.b+", "+ae.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},Ie),{disableAlpha:$});return e.default.createElement("div",{style:ze.picker,className:"chrome-picker "+Ve},e.default.createElement("div",{style:ze.saturation},e.default.createElement(p.Saturation,{style:ze.Saturation,hsl:G,hsv:ce,pointer:j.default,onChange:ne})),e.default.createElement("div",{style:ze.body},e.default.createElement("div",{style:ze.controls,className:"flexbox-fix"},e.default.createElement("div",{style:ze.color},e.default.createElement("div",{style:ze.swatch},e.default.createElement("div",{style:ze.active}),e.default.createElement(p.Checkboard,{renderers:ye}))),e.default.createElement("div",{style:ze.toggles},e.default.createElement("div",{style:ze.hue},e.default.createElement(p.Hue,{style:ze.Hue,hsl:G,pointer:U.default,onChange:ne})),e.default.createElement("div",{style:ze.alpha},e.default.createElement(p.Alpha,{style:ze.Alpha,rgb:ae,hsl:G,pointer:U.default,renderers:ye,onChange:ne})))),e.default.createElement(M.default,{rgb:ae,hsl:G,hex:ge,view:xe,onChange:ne,disableAlpha:$})))};return Y.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),disableAlpha:i.default.bool,styles:i.default.object,defaultView:i.default.oneOf(["hex","rgb","hsl"])},Y.defaultProps={width:225,disableAlpha:!1,styles:{}},zy.default=(0,p.ColorWrap)(Y),zy}var wce=Mce();const Sce=cu(wce);function lo(){var n="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",e="04cff10f573f4461c1718b34a830d9c914f6fa95",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:124,column:9}},27:{start:{line:114,column:12},end:{line:114,column:36}},28:{start:{line:121,column:27},end:{line:121,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:125,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:115,column:11}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:121,column:20},end:{line:121,column:21}},loc:{start:{line:121,column:27},end:{line:121,column:56}},line:121}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:120,column:17},end:{line:120,column:57}},type:"cond-expr",locations:[{start:{line:120,column:36},end:{line:120,column:52}},{start:{line:120,column:55},end:{line:120,column:57}}],line:120}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU;AAAC,iBAAK,aAAa;AAAA,UAAM;AAAA,UACzC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"04cff10f573f4461c1718b34a830d9c914f6fa95"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return lo=function(){return l},l}lo();function Ece(n){lo().f[0]++;const e=(lo().s[0]++,n.rgb);return lo().s[1]++,`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}class J8 extends ni.Component{state=(lo().s[2]++,{pickerOpened:!1});colorInput=(lo().s[3]++,null);constructor(e){lo().f[1]++,lo().s[4]++,super(e),lo().s[5]++,this.onChangeNoCheck=c6.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(e){lo().f[2]++,lo().s[6]++,this.props.onChange(e)}calcPickerOffset=(lo().s[7]++,()=>{lo().f[3]++;const e=(lo().s[8]++,this.colorInput);if(lo().s[9]++,e){lo().b[0][0]++;const t=(lo().s[10]++,e.getBoundingClientRect());return lo().s[11]++,{top:t.top,left:t.left+196}}else return lo().b[0][1]++,lo().s[12]++,{top:160,left:555}});togglePicker=(lo().s[13]++,()=>{lo().f[4]++,lo().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})});get color(){lo().f[5]++,lo().s[15]++;try{return lo().s[16]++,tc(this.props.value).rgb()}catch(e){return lo().s[17]++,console.warn("Error parsing color: ",e),lo().s[18]++,tc("rgb(255,255,255)")}}onChange(e){lo().f[6]++,lo().s[19]++,this.props.onChange(e===""?(lo().b[1][0]++,void 0):(lo().b[1][1]++,e))}render(){lo().f[7]++;const e=(lo().s[20]++,this.calcPickerOffset()),t=(lo().s[21]++,this.color.object()),i=(lo().s[22]++,{r:t.r,g:t.g,b:t.b,a:t.alpha}),r=(lo().s[23]++,Ae.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:e.left,top:e.top},children:[Ae.jsx(Sce,{color:i,onChange:l=>(lo().f[8]++,lo().s[24]++,this.onChangeNoCheck(Ece(l)))}),Ae.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),a=(lo().s[25]++,{backgroundColor:this.props.value});return lo().s[26]++,Ae.jsxs("div",{className:"maputnik-color-wrapper",children:[(lo().b[2][0]++,this.state.pickerOpened&&(lo().b[2][1]++,r)),Ae.jsx("div",{className:"maputnik-color-swatch",style:a}),Ae.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:l=>{lo().f[9]++,lo().s[27]++,this.colorInput=l},onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(lo().b[3][0]++,this.props.value):(lo().b[3][1]++,""),onChange:l=>(lo().f[10]++,lo().s[28]++,this.onChange(l.target.value))})]})}}function yn(){var n="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",e="4f1ef08718bb93faa62aae09b5e3576a9aa3bb04",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:39,column:5}},10:{start:{line:31,column:6},end:{line:31,column:58}},11:{start:{line:31,column:31},end:{line:31,column:58}},12:{start:{line:32,column:6},end:{line:34,column:9}},13:{start:{line:35,column:11},end:{line:39,column:5}},14:{start:{line:36,column:6},end:{line:38,column:9}},15:{start:{line:40,column:4},end:{line:42,column:7}},16:{start:{line:45,column:4},end:{line:47,column:5}},17:{start:{line:46,column:6},end:{line:46,column:18}},18:{start:{line:48,column:18},end:{line:48,column:20}},19:{start:{line:49,column:4},end:{line:51,column:5}},20:{start:{line:50,column:6},end:{line:50,column:19}},21:{start:{line:52,column:4},end:{line:54,column:5}},22:{start:{line:53,column:6},end:{line:53,column:19}},23:{start:{line:55,column:4},end:{line:57,column:5}},24:{start:{line:56,column:6},end:{line:56,column:19}},25:{start:{line:58,column:4},end:{line:58,column:16}},26:{start:{line:60,column:15},end:{line:74,column:3}},27:{start:{line:61,column:4},end:{line:61,column:38}},28:{start:{line:62,column:4},end:{line:64,column:5}},29:{start:{line:63,column:6},end:{line:63,column:13}},30:{start:{line:65,column:4},end:{line:73,column:5}},31:{start:{line:66,column:6},end:{line:72,column:7}},32:{start:{line:67,column:8},end:{line:67,column:43}},33:{start:{line:68,column:8},end:{line:68,column:56}},34:{start:{line:70,column:8},end:{line:70,column:33}},35:{start:{line:71,column:8},end:{line:71,column:46}},36:{start:{line:75,column:18},end:{line:100,column:3}},37:{start:{line:76,column:16},end:{line:76,column:42}},38:{start:{line:77,column:17},end:{line:77,column:37}},39:{start:{line:78,column:21},end:{line:78,column:26}},40:{start:{line:79,column:4},end:{line:95,column:5}},41:{start:{line:80,column:19},end:{line:80,column:31}},42:{start:{line:81,column:6},end:{line:94,column:7}},43:{start:{line:82,column:8},end:{line:86,column:9}},44:{start:{line:83,column:10},end:{line:83,column:42}},45:{start:{line:85,column:10},end:{line:85,column:42}},46:{start:{line:87,column:8},end:{line:87,column:27}},47:{start:{line:89,column:8},end:{line:93,column:9}},48:{start:{line:90,column:10},end:{line:90,column:31}},49:{start:{line:92,column:10},end:{line:92,column:40}},50:{start:{line:96,column:4},end:{line:96,column:32}},51:{start:{line:97,column:4},end:{line:97,column:70}},52:{start:{line:98,column:4},end:{line:98,column:41}},53:{start:{line:99,column:4},end:{line:99,column:56}},54:{start:{line:99,column:29},end:{line:99,column:56}},55:{start:{line:102,column:4},end:{line:185,column:5}},56:{start:{line:103,column:20},end:{line:103,column:81}},57:{start:{line:104,column:27},end:{line:104,column:82}},58:{start:{line:106,column:6},end:{line:110,column:7}},59:{start:{line:107,column:8},end:{line:107,column:38}},60:{start:{line:109,column:8},end:{line:109,column:27}},61:{start:{line:111,column:6},end:{line:165,column:11}},62:{start:{line:124,column:14},end:{line:124,column:41}},63:{start:{line:127,column:14},end:{line:127,column:67}},64:{start:{line:130,column:14},end:{line:130,column:69}},65:{start:{line:133,column:14},end:{line:137,column:17}},66:{start:{line:152,column:14},end:{line:152,column:47}},67:{start:{line:155,column:14},end:{line:155,column:47}},68:{start:{line:158,column:14},end:{line:158,column:48}},69:{start:{line:159,column:14},end:{line:159,column:32}},70:{start:{line:167,column:20},end:{line:167,column:81}},71:{start:{line:168,column:6},end:{line:184,column:8}},72:{start:{line:176,column:27},end:{line:176,column:59}},73:{start:{line:178,column:12},end:{line:178,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:43,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:13},end:{line:59,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:60,column:15},end:{line:60,column:16}},loc:{start:{line:60,column:21},end:{line:74,column:3}},line:60},5:{name:"(anonymous_5)",decl:{start:{line:75,column:18},end:{line:75,column:19}},loc:{start:{line:75,column:25},end:{line:100,column:3}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:11},end:{line:186,column:3}},line:101},7:{name:"(anonymous_7)",decl:{start:{line:123,column:23},end:{line:123,column:24}},loc:{start:{line:123,column:29},end:{line:125,column:13}},line:123},8:{name:"(anonymous_8)",decl:{start:{line:126,column:27},end:{line:126,column:28}},loc:{start:{line:126,column:33},end:{line:128,column:13}},line:126},9:{name:"(anonymous_9)",decl:{start:{line:129,column:25},end:{line:129,column:26}},loc:{start:{line:129,column:31},end:{line:131,column:13}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:132,column:20},end:{line:132,column:21}},loc:{start:{line:132,column:26},end:{line:138,column:13}},line:132},11:{name:"(anonymous_11)",decl:{start:{line:151,column:21},end:{line:151,column:22}},loc:{start:{line:151,column:29},end:{line:153,column:13}},line:151},12:{name:"(anonymous_12)",decl:{start:{line:154,column:22},end:{line:154,column:23}},loc:{start:{line:154,column:29},end:{line:156,column:13}},line:154},13:{name:"(anonymous_13)",decl:{start:{line:157,column:20},end:{line:157,column:21}},loc:{start:{line:157,column:28},end:{line:160,column:13}},line:157},14:{name:"(anonymous_14)",decl:{start:{line:176,column:20},end:{line:176,column:21}},loc:{start:{line:176,column:27},end:{line:176,column:59}},line:176},15:{name:"(anonymous_15)",decl:{start:{line:177,column:19},end:{line:177,column:20}},loc:{start:{line:177,column:25},end:{line:179,column:11}},line:177}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:39,column:5}},{start:{line:35,column:11},end:{line:39,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:31,column:58}},type:"if",locations:[{start:{line:31,column:6},end:{line:31,column:58}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:35,column:11},end:{line:39,column:5}},type:"if",locations:[{start:{line:35,column:11},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},8:{loc:{start:{line:35,column:15},end:{line:35,column:49}},type:"binary-expr",locations:[{start:{line:35,column:15},end:{line:35,column:35}},{start:{line:35,column:39},end:{line:35,column:49}}],line:35},9:{loc:{start:{line:41,column:18},end:{line:41,column:53}},type:"cond-expr",locations:[{start:{line:41,column:36},end:{line:41,column:42}},{start:{line:41,column:45},end:{line:41,column:53}}],line:41},10:{loc:{start:{line:45,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:47,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},11:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},12:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},13:{loc:{start:{line:52,column:8},end:{line:52,column:56}},type:"binary-expr",locations:[{start:{line:52,column:8},end:{line:52,column:30}},{start:{line:52,column:34},end:{line:52,column:56}}],line:52},14:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},15:{loc:{start:{line:55,column:8},end:{line:55,column:56}},type:"binary-expr",locations:[{start:{line:55,column:8},end:{line:55,column:30}},{start:{line:55,column:34},end:{line:55,column:56}}],line:55},16:{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},17:{loc:{start:{line:65,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:73,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},18:{loc:{start:{line:66,column:6},end:{line:72,column:7}},type:"if",locations:[{start:{line:66,column:6},end:{line:72,column:7}},{start:{line:69,column:13},end:{line:72,column:7}}],line:66},19:{loc:{start:{line:79,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},20:{loc:{start:{line:81,column:6},end:{line:94,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:94,column:7}},{start:{line:88,column:13},end:{line:94,column:7}}],line:81},21:{loc:{start:{line:82,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:86,column:9}},{start:{line:84,column:15},end:{line:86,column:9}}],line:82},22:{loc:{start:{line:89,column:8},end:{line:93,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:93,column:9}},{start:{line:91,column:15},end:{line:93,column:9}}],line:89},23:{loc:{start:{line:99,column:4},end:{line:99,column:56}},type:"if",locations:[{start:{line:99,column:4},end:{line:99,column:56}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:99},24:{loc:{start:{line:102,column:4},end:{line:185,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:185,column:5}},{start:{line:166,column:11},end:{line:185,column:5}}],line:102},25:{loc:{start:{line:102,column:8},end:{line:102,column:205}},type:"binary-expr",locations:[{start:{line:102,column:8},end:{line:102,column:63}},{start:{line:102,column:67},end:{line:102,column:122}},{start:{line:102,column:126},end:{line:102,column:151}},{start:{line:102,column:155},end:{line:102,column:180}},{start:{line:102,column:184},end:{line:102,column:205}}],line:102},26:{loc:{start:{line:103,column:20},end:{line:103,column:81}},type:"cond-expr",locations:[{start:{line:103,column:41},end:{line:103,column:62}},{start:{line:103,column:65},end:{line:103,column:81}}],line:103},27:{loc:{start:{line:104,column:27},end:{line:104,column:82}},type:"cond-expr",locations:[{start:{line:104,column:59},end:{line:104,column:61}},{start:{line:104,column:64},end:{line:104,column:82}}],line:104},28:{loc:{start:{line:106,column:6},end:{line:110,column:7}},type:"if",locations:[{start:{line:106,column:6},end:{line:110,column:7}},{start:{line:108,column:13},end:{line:110,column:7}}],line:106},29:{loc:{start:{line:121,column:19},end:{line:121,column:58}},type:"cond-expr",locations:[{start:{line:121,column:38},end:{line:121,column:50}},{start:{line:121,column:53},end:{line:121,column:58}}],line:121},30:{loc:{start:{line:150,column:19},end:{line:150,column:58}},type:"cond-expr",locations:[{start:{line:150,column:43},end:{line:150,column:45}},{start:{line:150,column:48},end:{line:150,column:58}}],line:150},31:{loc:{start:{line:167,column:20},end:{line:167,column:81}},type:"cond-expr",locations:[{start:{line:167,column:41},end:{line:167,column:62}},{start:{line:167,column:65},end:{line:167,column:81}}],line:167},32:{loc:{start:{line:175,column:17},end:{line:175,column:46}},type:"cond-expr",locations:[{start:{line:175,column:36},end:{line:175,column:38}},{start:{line:175,column:41},end:{line:175,column:46}}],line:175}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAwC;AAC/C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4f1ef08718bb93faa62aae09b5e3576a9aa3bb04"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return yn=function(){return l},l}yn();class z0 extends ni.Component{static defaultProps=(yn().s[0]++,{rangeStep:1});_keyboardEvent=(yn().s[1]++,!1);constructor(e){yn().f[0]++,yn().s[2]++,super(e),yn().s[3]++,this.state={uuid:+Nv(),editing:!1,value:e.value,dirtyValue:e.value}}static getDerivedStateFromProps(e,t){return yn().f[1]++,yn().s[4]++,yn().b[1][0]++,!t.editing&&(yn().b[1][1]++,e.value!==t.value)?(yn().b[0][0]++,yn().s[5]++,{value:e.value,dirtyValue:e.value}):(yn().b[0][1]++,yn().s[6]++,null)}changeValue(e){yn().f[2]++;const t=(yn().s[7]++,yn().b[3][0]++,e===""||(yn().b[3][1]++,e===void 0)?(yn().b[2][0]++,void 0):(yn().b[2][1]++,+e)),i=(yn().s[8]++,this.props.value!==t);yn().s[9]++,yn().b[5][0]++,this.isValid(t)&&(yn().b[5][1]++,i)?(yn().b[4][0]++,yn().s[10]++,this.props.onChange?(yn().b[6][0]++,yn().s[11]++,this.props.onChange(t)):yn().b[6][1]++,yn().s[12]++,this.setState({value:t})):(yn().b[4][1]++,yn().s[13]++,yn().b[8][0]++,!this.isValid(t)&&(yn().b[8][1]++,i)?(yn().b[7][0]++,yn().s[14]++,this.setState({value:void 0})):yn().b[7][1]++),yn().s[15]++,this.setState({dirtyValue:e===""?(yn().b[9][0]++,void 0):(yn().b[9][1]++,e)})}isValid(e){if(yn().f[3]++,yn().s[16]++,e===void 0)return yn().b[10][0]++,yn().s[17]++,!0;yn().b[10][1]++;const t=(yn().s[18]++,+e);return yn().s[19]++,isNaN(t)?(yn().b[11][0]++,yn().s[20]++,!1):(yn().b[11][1]++,yn().s[21]++,yn().b[13][0]++,!isNaN(this.props.min)&&(yn().b[13][1]++,t<this.props.min)?(yn().b[12][0]++,yn().s[22]++,!1):(yn().b[12][1]++,yn().s[23]++,yn().b[15][0]++,!isNaN(this.props.max)&&(yn().b[15][1]++,t>this.props.max)?(yn().b[14][0]++,yn().s[24]++,!1):(yn().b[14][1]++,yn().s[25]++,!0)))}resetValue=(yn().s[26]++,()=>{if(yn().f[4]++,yn().s[27]++,this.setState({editing:!1}),yn().s[28]++,this.state.value)yn().b[16][1]++;else{yn().b[16][0]++,yn().s[29]++;return}yn().s[30]++,this.isValid(this.state.value)?yn().b[17][1]++:(yn().b[17][0]++,yn().s[31]++,this.isValid(this.props.value)?(yn().b[18][0]++,yn().s[32]++,this.changeValue(this.props.value),yn().s[33]++,this.setState({dirtyValue:this.props.value})):(yn().b[18][1]++,yn().s[34]++,this.changeValue(void 0),yn().s[35]++,this.setState({dirtyValue:void 0})))});onChangeRange=(yn().s[36]++,e=>{yn().f[5]++;let t=(yn().s[37]++,parseFloat(e.target.value));const i=(yn().s[38]++,this.props.rangeStep);let r=(yn().s[39]++,t);if(yn().s[40]++,i){yn().b[19][0]++;const a=(yn().s[41]++,t%i);yn().s[42]++,this._keyboardEvent?(yn().b[20][0]++,yn().s[43]++,t<+this.state.dirtyValue?(yn().b[21][0]++,yn().s[44]++,t=this.state.value-i):(yn().b[21][1]++,yn().s[45]++,t=this.state.value+i),yn().s[46]++,r=t):(yn().b[20][1]++,yn().s[47]++,a<i/2?(yn().b[22][0]++,yn().s[48]++,t=t-a):(yn().b[22][1]++,yn().s[49]++,t=t+(i-a)))}else yn().b[19][1]++;yn().s[50]++,this._keyboardEvent=!1,yn().s[51]++,t=Math.max(this.props.min,Math.min(this.props.max,t)),yn().s[52]++,this.setState({value:t,dirtyValue:r}),yn().s[53]++,this.props.onChange?(yn().b[23][0]++,yn().s[54]++,this.props.onChange(t)):yn().b[23][1]++});render(){if(yn().f[6]++,yn().s[55]++,yn().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(yn().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(yn().b[25][2]++,this.props.min!==void 0)&&(yn().b[25][3]++,this.props.max!==void 0)&&(yn().b[25][4]++,this.props.allowRange)){yn().b[24][0]++;const e=(yn().s[56]++,this.state.editing?(yn().b[26][0]++,this.state.dirtyValue):(yn().b[26][1]++,this.state.value)),t=(yn().s[57]++,this.props.default===void 0?(yn().b[27][0]++,""):(yn().b[27][1]++,this.props.default));let i;return yn().s[58]++,this.state.editingRange?(yn().b[28][0]++,yn().s[59]++,i=this.state.value):(yn().b[28][1]++,yn().s[60]++,i=e),yn().s[61]++,Ae.jsxs("div",{className:"maputnik-number-container",children:[Ae.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:e===void 0?(yn().b[29][0]++,t):(yn().b[29][1]++,e),onChange:this.onChangeRange,onKeyDown:()=>{yn().f[7]++,yn().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{yn().f[8]++,yn().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{yn().f[9]++,yn().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{yn().f[10]++,yn().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),Ae.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:this.props.default?.toString(),value:i===void 0?(yn().b[30][0]++,""):(yn().b[30][1]++,i),onFocus:r=>{yn().f[11]++,yn().s[66]++,this.setState({editing:!0})},onChange:r=>{yn().f[12]++,yn().s[67]++,this.changeValue(r.target.value)},onBlur:r=>{yn().f[13]++,yn().s[68]++,this.setState({editing:!1}),yn().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{yn().b[24][1]++;const e=(yn().s[70]++,this.state.editing?(yn().b[31][0]++,this.state.dirtyValue):(yn().b[31][1]++,this.state.value));return yn().s[71]++,Ae.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:this.props.default?.toString(),value:e===void 0?(yn().b[32][0]++,""):(yn().b[32][1]++,e),onChange:t=>(yn().f[14]++,yn().s[72]++,this.changeValue(t.target.value)),onFocus:()=>{yn().f[15]++,yn().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}function Fm(){var n="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",e="e85f7924976070cbab7795bce9cf0e191e4a6b5e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Fm=function(){return l},l}Fm();class XN extends ni.Component{static defaultProps=(Fm().s[0]++,{value:!1});onChange=(Fm().s[1]++,()=>{Fm().f[0]++,Fm().s[2]++,this.props.onChange(!this.props.value)});render(){return Fm().f[1]++,Fm().s[3]++,Ae.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[Ae.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),Ae.jsx("div",{className:"maputnik-checkbox-box",children:Ae.jsx("svg",{style:{display:this.props.value?(Fm().b[0][0]++,"inline"):(Fm().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:Ae.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}function Gi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",e="9ed81d69001830f70ea45ac1502cde5125167d89",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAkC,OAAwB;AACxF,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9ed81d69001830f70ea45ac1502cde5125167d89"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Gi=function(){return l},l}Gi();class SB extends ni.Component{static defaultProps=(Gi().s[0]++,{value:[],default:[]});constructor(e){Gi().f[0]++,Gi().s[1]++,super(e),Gi().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(e,t){Gi().f[1]++;const i=(Gi().s[3]++,[]),r=(Gi().s[4]++,t.initialPropsValue.slice(0));return Gi().s[5]++,Array(e.length).fill(null).map((a,l)=>{Gi().f[2]++,Gi().s[6]++,e.value[l]===t.initialPropsValue[l]?(Gi().b[0][0]++,Gi().s[7]++,i[l]=t.value[l]):(Gi().b[0][1]++,Gi().s[8]++,i[l]=t.value[l],Gi().s[9]++,r[l]=t.value[l])}),Gi().s[10]++,{value:i,initialPropsValue:r}}isComplete(e){return Gi().f[3]++,Gi().s[11]++,Array(this.props.length).fill(null).every((t,i)=>{Gi().f[4]++;const r=(Gi().s[12]++,e[i]);return Gi().s[13]++,Gi().b[1][0]++,!(r===void 0||(Gi().b[1][1]++,r===""))})}changeValue(e,t){Gi().f[5]++;const i=(Gi().s[14]++,this.state.value.slice(0));Gi().s[15]++,i[e]=t,Gi().s[16]++,this.setState({value:i},()=>{Gi().f[6]++,Gi().s[17]++,Gi().b[3][0]++,this.isComplete(i)&&(Gi().b[3][1]++,this.props.onChange)?(Gi().b[2][0]++,Gi().s[18]++,this.props.onChange(i)):(Gi().b[2][1]++,Gi().s[19]++,this.props.onChange?(Gi().b[4][0]++,Gi().s[20]++,this.props.onChange(void 0)):Gi().b[4][1]++)})}render(){Gi().f[7]++;const{value:e}=(Gi().s[21]++,this.state),t=(Gi().s[22]++,Gi().b[5][0]++,e.length>0&&(Gi().b[5][1]++,!e.every(r=>(Gi().f[8]++,Gi().s[23]++,Gi().b[6][0]++,r===""||(Gi().b[6][1]++,r===void 0))))),i=(Gi().s[24]++,Array(this.props.length).fill(null).map((r,a)=>(Gi().f[9]++,Gi().s[25]++,this.props.type==="number"?(Gi().b[7][0]++,Gi().s[26]++,Ae.jsx(z0,{default:(Gi().b[9][0]++,t||(Gi().b[9][1]++,!this.props.default)?(Gi().b[8][0]++,void 0):(Gi().b[8][1]++,this.props.default[a])),value:e[a],required:t?(Gi().b[10][0]++,!0):(Gi().b[10][1]++,!1),onChange:l=>(Gi().f[10]++,Gi().s[27]++,this.changeValue(a,l)),"aria-label":(Gi().b[11][0]++,this.props["aria-label"]||(Gi().b[11][1]++,this.props.label))},a)):(Gi().b[7][1]++,Gi().s[28]++,Ae.jsx(sm,{default:(Gi().b[13][0]++,t||(Gi().b[13][1]++,!this.props.default)?(Gi().b[12][0]++,void 0):(Gi().b[12][1]++,this.props.default[a])),value:e[a],required:t?(Gi().b[14][0]++,!0):(Gi().b[14][1]++,!1),onChange:this.changeValue.bind(this,a),"aria-label":(Gi().b[15][0]++,this.props["aria-label"]||(Gi().b[15][1]++,this.props.label))},a)))));return Gi().s[29]++,Ae.jsx("div",{className:"maputnik-array",children:i})}}function ku(){var n="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",e="bdd7d8430a2c43402b1b125b74a343e39aea6a6c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,mBAAmB,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAExH;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bdd7d8430a2c43402b1b125b74a343e39aea6a6c"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return ku=function(){return l},l}ku();class Bce extends ni.Component{render(){ku().f[0]++;let e=(ku().s[0]++,this.props.options);ku().s[1]++,ku().b[1][0]++,e.length>0&&(ku().b[1][1]++,!Array.isArray(e[0]))?(ku().b[0][0]++,ku().s[2]++,e=e.map(r=>(ku().f[1]++,ku().s[3]++,[r,r]))):ku().b[0][1]++;const t=(ku().s[4]++,ku().b[2][0]++,this.props.value||(ku().b[2][1]++,e[0][0])),i=(ku().s[5]++,e.map(([r,a])=>(ku().f[2]++,ku().s[6]++,Ae.jsxs("label",{className:t0("maputnik-button","maputnik-radio-as-button",{"maputnik-button-selected":r===t}),children:[Ae.jsx("input",{type:"radio",name:this.props.name,onChange:l=>(ku().f[3]++,ku().s[7]++,this.props.onChange(r)),value:r,checked:r===t}),a]},r))));return ku().s[8]++,Ae.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:i})}}function tA(){var n="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",e="d905b5da4422f2b84d44f87b04fda3de421542f5",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return tA=function(){return l},l}tA();function Oce(n){tA().f[0]++;let e=(tA().s[0]++,0);return tA().s[1]++,n.forEach(([t,i])=>{tA().f[1]++,tA().s[2]++,e+=i.length}),tA().s[3]++,e}class e7 extends ni.Component{render(){tA().f[2]++;const{options:e,value:t,onChange:i,name:r,label:a}=(tA().s[4]++,this.props);return tA().s[5]++,tA().b[1][0]++,e.length<=3&&(tA().b[1][1]++,Oce(e)<=20)?(tA().b[0][0]++,tA().s[6]++,Ae.jsx(Bce,{name:r,options:e,value:(tA().b[2][0]++,t||(tA().b[2][1]++,this.props.default)),onChange:i,"aria-label":(tA().b[3][0]++,this.props["aria-label"]||(tA().b[3][1]++,a))})):(tA().b[0][1]++,tA().s[7]++,Ae.jsx(iy,{options:e,value:(tA().b[4][0]++,t||(tA().b[4][1]++,this.props.default)),onChange:i,"aria-label":(tA().b[5][0]++,this.props["aria-label"]||(tA().b[5][1]++,a))}))}}function wv(){var n="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",e="f693e5bbe9d7e0de15b6fd90f13b77a5ebfddf0e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:4},end:{line:12,column:9}},2:{start:{line:15,column:19},end:{line:15,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:13,column:3}},line:6}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,SAA+B,uBAAuB;AACtD,OAAO;AAOP,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAU;AACR,UAAM,IAAI,KAAK,MAAM;AACrB,WACE,qBAAC,SAAI,WAAU,cACZ;AAAA,QAAE,QAAQ;AAAA,MAAE;AAAA,MAAE,KAAK,MAAM;AAAA,OAC5B;AAAA,EAEJ;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f693e5bbe9d7e0de15b6fd90f13b77a5ebfddf0e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return wv=function(){return l},l}wv();class Ice extends ni.Component{render(){wv().f[0]++;const e=(wv().s[0]++,this.props.t);return wv().s[1]++,Ae.jsxs("div",{className:"SmallError",children:[e("Error:")," ",this.props.children]})}}const cE=(wv().s[2]++,es()(Ice));function Ao(){var n="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",e="447f54dcea7174dfde20df5fd4ad658ec6e8baa0",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:7,column:2},end:{line:9,column:3}},1:{start:{line:8,column:4},end:{line:8,column:11}},2:{start:{line:11,column:22},end:{line:18,column:3}},3:{start:{line:12,column:4},end:{line:17,column:5}},4:{start:{line:13,column:21},end:{line:13,column:34}},5:{start:{line:14,column:6},end:{line:14,column:29}},6:{start:{line:16,column:6},end:{line:16,column:20}},7:{start:{line:19,column:19},end:{line:19,column:35}},8:{start:{line:20,column:16},end:{line:20,column:53}},9:{start:{line:21,column:2},end:{line:41,column:3}},10:{start:{line:22,column:4},end:{line:34,column:5}},11:{start:{line:23,column:6},end:{line:26,column:14}},12:{start:{line:28,column:6},end:{line:33,column:14}},13:{start:{line:35,column:9},end:{line:41,column:3}},14:{start:{line:36,column:4},end:{line:40,column:12}},15:{start:{line:42,column:2},end:{line:42,column:15}},16:{start:{line:45,column:24},end:{line:48,column:3}},17:{start:{line:50,column:4},end:{line:50,column:17}},18:{start:{line:51,column:4},end:{line:53,column:6}},19:{start:{line:55,column:12},end:{line:60,column:3}},20:{start:{line:56,column:4},end:{line:58,column:7}},21:{start:{line:59,column:4},end:{line:59,column:52}},22:{start:{line:59,column:28},end:{line:59,column:52}},23:{start:{line:61,column:13},end:{line:66,column:3}},24:{start:{line:62,column:4},end:{line:64,column:7}},25:{start:{line:65,column:4},end:{line:65,column:29}},26:{start:{line:68,column:4},end:{line:79,column:9}},27:{start:{line:82,column:17},end:{line:82,column:52}}},fnMap:{0:{name:"validate",decl:{start:{line:6,column:9},end:{line:6,column:17}},loc:{start:{line:6,column:26},end:{line:43,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:11,column:22},end:{line:11,column:23}},loc:{start:{line:11,column:32},end:{line:18,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:46,column:13},end:{line:46,column:14}},loc:{start:{line:46,column:19},end:{line:47,column:5}},line:46},3:{name:"(anonymous_3)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:21},end:{line:54,column:3}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:55,column:12},end:{line:55,column:13}},loc:{start:{line:55,column:21},end:{line:60,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:61,column:13},end:{line:61,column:14}},loc:{start:{line:61,column:22},end:{line:66,column:3}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:80,column:3}},line:67}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:9,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:21,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:41,column:3}},{start:{line:35,column:9},end:{line:41,column:3}}],line:21},2:{loc:{start:{line:22,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:34,column:5}},{start:{line:27,column:11},end:{line:34,column:5}}],line:22},3:{loc:{start:{line:35,column:9},end:{line:41,column:3}},type:"if",locations:[{start:{line:35,column:9},end:{line:41,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:35,column:13},end:{line:35,column:86}},type:"binary-expr",locations:[{start:{line:35,column:13},end:{line:35,column:21}},{start:{line:35,column:25},end:{line:35,column:45}},{start:{line:35,column:49},end:{line:35,column:86}}],line:35},5:{loc:{start:{line:59,column:4},end:{line:59,column:52}},type:"if",locations:[{start:{line:59,column:4},end:{line:59,column:52}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4BU,SAAoC,KAApC;AA5BV,OAAO,WAAyB;AAChC,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AACvB,SAAS,OAA6B,uBAAuB;AAG7D,SAAS,SAAS,KAAa,GAAuC;AACpE,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,MAAM;AACX,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,QAAI,OAAO;AACT,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GAC3D;AAAA,IAEJ,OAAO;AACL,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GACnF;AAAA,IAEJ;AAAA,EACF,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,MACwE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G,GACF;AAAA,EAEJ;AAEA,SAAO;AACT;AAsBA,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAA8B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,OAAO,MAAM,CAAC;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"447f54dcea7174dfde20df5fd4ad658ec6e8baa0"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Ao=function(){return l},l}Ao();function hE(n,e){if(Ao().f[0]++,Ao().s[0]++,n===""){Ao().b[0][0]++,Ao().s[1]++;return}else Ao().b[0][1]++;let t;Ao().s[2]++;const i=l=>{Ao().f[1]++,Ao().s[3]++;try{const o=(Ao().s[4]++,new URL(l));return Ao().s[5]++,o.protocol}catch{Ao().s[6]++;return}},r=(Ao().s[7]++,i(n)),a=(Ao().s[8]++,window.location.protocol==="https:");return Ao().s[9]++,r?(Ao().b[1][1]++,Ao().s[13]++,Ao().b[4][0]++,r&&(Ao().b[4][1]++,r==="http:")&&(Ao().b[4][2]++,window.location.protocol==="https:")?(Ao().b[3][0]++,Ao().s[14]++,t=Ae.jsx(cE,{children:Ae.jsxs(Dg,{t:e,children:["CORS policy won't allow fetching resources served over http from https, use a ",Ae.jsx("code",{children:"https://"})," domain"]})})):Ao().b[3][1]++):(Ao().b[1][0]++,Ao().s[10]++,a?(Ao().b[2][0]++,Ao().s[11]++,t=Ae.jsx(cE,{children:Ae.jsxs(Dg,{t:e,children:["Must provide protocol: ",Ae.jsx("code",{children:"https://"})]})})):(Ao().b[2][1]++,Ao().s[12]++,t=Ae.jsx(cE,{children:Ae.jsxs(Dg,{t:e,children:["Must provide protocol: ",Ae.jsx("code",{children:"http://"})," or ",Ae.jsx("code",{children:"https://"})]})}))),Ao().s[15]++,t}class Tce extends ni.Component{static defaultProps=(Ao().s[16]++,{onInput:()=>{Ao().f[2]++}});constructor(e){Ao().f[3]++,Ao().s[17]++,super(e),Ao().s[18]++,this.state={error:hE(e.value,e.t)}}onInput=(Ao().s[19]++,e=>{Ao().f[4]++,Ao().s[20]++,this.setState({error:hE(e,this.props.t)}),Ao().s[21]++,this.props.onInput?(Ao().b[5][0]++,Ao().s[22]++,this.props.onInput(e)):Ao().b[5][1]++});onChange=(Ao().s[23]++,e=>{Ao().f[5]++,Ao().s[24]++,this.setState({error:hE(e,this.props.t)}),Ao().s[25]++,this.props.onChange(e)});render(){return Ao().f[6]++,Ao().s[26]++,Ae.jsxs("div",{children:[Ae.jsx(sm,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}}const t7=(Ao().s[27]++,es()(Tce));function bi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",e="705ac9c8c3dcb0aff320a53fac9b80bc280b1cbf",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:15,column:19},end:{line:15,column:39}},1:{start:{line:16,column:4},end:{line:16,column:27}},2:{start:{line:17,column:4},end:{line:17,column:57}},3:{start:{line:17,column:29},end:{line:17,column:57}},4:{start:{line:20,column:4},end:{line:20,column:56}},5:{start:{line:22,column:13},end:{line:38,column:3}},6:{start:{line:23,column:19},end:{line:23,column:39}},7:{start:{line:24,column:4},end:{line:36,column:5}},8:{start:{line:25,column:6},end:{line:25,column:21}},9:{start:{line:26,column:11},end:{line:36,column:5}},10:{start:{line:27,column:6},end:{line:27,column:22}},11:{start:{line:28,column:11},end:{line:36,column:5}},12:{start:{line:29,column:28},end:{line:29,column:38}},13:{start:{line:30,column:27},end:{line:30,column:59}},14:{start:{line:31,column:6},end:{line:31,column:32}},15:{start:{line:32,column:11},end:{line:36,column:5}},16:{start:{line:33,column:6},end:{line:33,column:29}},17:{start:{line:35,column:6},end:{line:35,column:22}},18:{start:{line:37,column:4},end:{line:37,column:57}},19:{start:{line:37,column:29},end:{line:37,column:57}},20:{start:{line:40,column:19},end:{line:40,column:39}},21:{start:{line:41,column:4},end:{line:41,column:31}},22:{start:{line:42,column:4},end:{line:42,column:86}},23:{start:{line:42,column:29},end:{line:42,column:86}},24:{start:{line:45,column:14},end:{line:45,column:26}},25:{start:{line:46,column:22},end:{line:46,column:77}},26:{start:{line:47,column:19},end:{line:116,column:6}},27:{start:{line:48,column:45},end:{line:54,column:7}},28:{start:{line:56,column:6},end:{line:103,column:7}},29:{start:{line:57,column:8},end:{line:64,column:10}},30:{start:{line:65,column:13},end:{line:103,column:7}},31:{start:{line:66,column:8},end:{line:73,column:10}},32:{start:{line:74,column:13},end:{line:103,column:7}},33:{start:{line:75,column:24},end:{line:75,column:99}},34:{start:{line:75,column:78},end:{line:75,column:98}},35:{start:{line:76,column:8},end:{line:84,column:10}},36:{start:{line:85,column:13},end:{line:103,column:7}},37:{start:{line:86,column:8},end:{line:93,column:10}},38:{start:{line:95,column:8},end:{line:102,column:10}},39:{start:{line:104,column:6},end:{line:115,column:8}},40:{start:{line:117,column:4},end:{line:127,column:9}},41:{start:{line:130,column:26},end:{line:130,column:70}},42:{start:{line:134,column:14},end:{line:134,column:26}},43:{start:{line:135,column:4},end:{line:148,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:29},end:{line:18,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:15},end:{line:21,column:3}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:22,column:13},end:{line:22,column:14}},loc:{start:{line:22,column:19},end:{line:38,column:3}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:24},end:{line:43,column:3}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:11},end:{line:128,column:3}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:47,column:35},end:{line:47,column:36}},loc:{start:{line:47,column:45},end:{line:116,column:5}},line:47},6:{name:"(anonymous_6)",decl:{start:{line:75,column:70},end:{line:75,column:71}},loc:{start:{line:75,column:78},end:{line:75,column:98}},line:75},7:{name:"(anonymous_7)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:11},end:{line:149,column:3}},line:133}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:17,column:57}},type:"if",locations:[{start:{line:17,column:4},end:{line:17,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:11},end:{line:20,column:55}},type:"binary-expr",locations:[{start:{line:20,column:11},end:{line:20,column:27}},{start:{line:20,column:31},end:{line:20,column:49}},{start:{line:20,column:53},end:{line:20,column:55}}],line:20},2:{loc:{start:{line:24,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:24},3:{loc:{start:{line:26,column:11},end:{line:36,column:5}},type:"if",locations:[{start:{line:26,column:11},end:{line:36,column:5}},{start:{line:28,column:11},end:{line:36,column:5}}],line:26},4:{loc:{start:{line:28,column:11},end:{line:36,column:5}},type:"if",locations:[{start:{line:28,column:11},end:{line:36,column:5}},{start:{line:32,column:11},end:{line:36,column:5}}],line:28},5:{loc:{start:{line:32,column:11},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:11},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},6:{loc:{start:{line:37,column:4},end:{line:37,column:57}},type:"if",locations:[{start:{line:37,column:4},end:{line:37,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},7:{loc:{start:{line:42,column:4},end:{line:42,column:86}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:86}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},8:{loc:{start:{line:42,column:49},end:{line:42,column:84}},type:"cond-expr",locations:[{start:{line:42,column:69},end:{line:42,column:75}},{start:{line:42,column:78},end:{line:42,column:84}}],line:42},9:{loc:{start:{line:56,column:6},end:{line:103,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:103,column:7}},{start:{line:65,column:13},end:{line:103,column:7}}],line:56},10:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},11:{loc:{start:{line:65,column:13},end:{line:103,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:103,column:7}},{start:{line:74,column:13},end:{line:103,column:7}}],line:65},12:{loc:{start:{line:71,column:26},end:{line:71,column:70}},type:"binary-expr",locations:[{start:{line:71,column:26},end:{line:71,column:50}},{start:{line:71,column:54},end:{line:71,column:70}}],line:71},13:{loc:{start:{line:74,column:13},end:{line:103,column:7}},type:"if",locations:[{start:{line:74,column:13},end:{line:103,column:7}},{start:{line:85,column:13},end:{line:103,column:7}}],line:74},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82},15:{loc:{start:{line:85,column:13},end:{line:103,column:7}},type:"if",locations:[{start:{line:85,column:13},end:{line:103,column:7}},{start:{line:94,column:13},end:{line:103,column:7}}],line:85},16:{loc:{start:{line:91,column:26},end:{line:91,column:70}},type:"binary-expr",locations:[{start:{line:91,column:26},end:{line:91,column:50}},{start:{line:91,column:54},end:{line:91,column:70}}],line:91},17:{loc:{start:{line:100,column:26},end:{line:100,column:70}},type:"binary-expr",locations:[{start:{line:100,column:26},end:{line:100,column:50}},{start:{line:100,column:54},end:{line:100,column:70}}],line:100}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAwE4B,cA2Cf,YA3Ce;AAxE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAEtD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AAkBvB,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,WAAW,KAAK,MAAM,SAAS,SAAS;AACtC,aAAO,KAAK,SAAS;AAAA,IACvB,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,YAAY,EAAE,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAO;AACxE,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB;AAAA,QAAC;AAAA;AAAA,UACrB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,UACrC,GAAG;AAAA;AAAA,MACN;AACA,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,SAAS;AACpC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UAEb,YAAE,WAAW;AAAA;AAAA,MAChB;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;AAMf,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,mBAAmB;AAAA,QAE5B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"705ac9c8c3dcb0aff320a53fac9b80bc280b1cbf"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return bi=function(){return l},l}bi();class kce extends ni.Component{changeValue(e,t){bi().f[0]++;const i=(bi().s[0]++,this.values.slice(0));bi().s[1]++,i[e]=t,bi().s[2]++,this.props.onChange?(bi().b[0][0]++,bi().s[3]++,this.props.onChange(i)):bi().b[0][1]++}get values(){return bi().f[1]++,bi().s[4]++,bi().b[1][0]++,this.props.value||(bi().b[1][1]++,this.props.default)||(bi().b[1][2]++,[])}addValue=(bi().s[5]++,()=>{bi().f[2]++;const e=(bi().s[6]++,this.values.slice(0));if(bi().s[7]++,this.props.type==="number")bi().b[2][0]++,bi().s[8]++,e.push(0);else if(bi().b[2][1]++,bi().s[9]++,this.props.type==="url")bi().b[3][0]++,bi().s[10]++,e.push("");else if(bi().b[3][1]++,bi().s[11]++,this.props.type==="enum"){bi().b[4][0]++;const{fieldSpec:t}=(bi().s[12]++,this.props),i=(bi().s[13]++,Object.keys(t.values)[0]);bi().s[14]++,e.push(i)}else bi().b[4][1]++,bi().s[15]++,this.props.type==="color"?(bi().b[5][0]++,bi().s[16]++,e.push("#000000")):(bi().b[5][1]++,bi().s[17]++,e.push(""));bi().s[18]++,this.props.onChange?(bi().b[6][0]++,bi().s[19]++,this.props.onChange(e)):bi().b[6][1]++});deleteValue(e){bi().f[3]++;const t=(bi().s[20]++,this.values.slice(0));bi().s[21]++,t.splice(e,1),bi().s[22]++,this.props.onChange?(bi().b[7][0]++,bi().s[23]++,this.props.onChange(t.length>0?(bi().b[8][0]++,t):(bi().b[8][1]++,void 0))):bi().b[7][1]++}render(){bi().f[4]++;const e=(bi().s[24]++,this.props.t),t=(bi().s[25]++,{t:e,i18n:this.props.i18n,tReady:this.props.tReady}),i=(bi().s[26]++,this.values.map((r,a)=>{bi().f[5]++;const l=(bi().s[27]++,Ae.jsx(Dce,{onClick:this.deleteValue.bind(this,a),...t}));let o;if(bi().s[28]++,this.props.type==="url")bi().b[9][0]++,bi().s[29]++,o=Ae.jsx(t7,{value:r,onChange:this.changeValue.bind(this,a),"aria-label":(bi().b[10][0]++,this.props["aria-label"]||(bi().b[10][1]++,this.props.label))});else if(bi().b[9][1]++,bi().s[30]++,this.props.type==="number")bi().b[11][0]++,bi().s[31]++,o=Ae.jsx(z0,{value:r,onChange:this.changeValue.bind(this,a),"aria-label":(bi().b[12][0]++,this.props["aria-label"]||(bi().b[12][1]++,this.props.label))});else if(bi().b[11][1]++,bi().s[32]++,this.props.type==="enum"){bi().b[13][0]++;const p=(bi().s[33]++,Object.keys(this.props.fieldSpec?.values).map(C=>(bi().f[6]++,bi().s[34]++,[C,P8(C)])));bi().s[35]++,o=Ae.jsx(e7,{options:p,value:r,onChange:this.changeValue.bind(this,a),"aria-label":(bi().b[14][0]++,this.props["aria-label"]||(bi().b[14][1]++,this.props.label))})}else bi().b[13][1]++,bi().s[36]++,this.props.type==="color"?(bi().b[15][0]++,bi().s[37]++,o=Ae.jsx(J8,{value:r,onChange:this.changeValue.bind(this,a),"aria-label":(bi().b[16][0]++,this.props["aria-label"]||(bi().b[16][1]++,this.props.label))})):(bi().b[15][1]++,bi().s[38]++,o=Ae.jsx(sm,{value:r,onChange:this.changeValue.bind(this,a),"aria-label":(bi().b[17][0]++,this.props["aria-label"]||(bi().b[17][1]++,this.props.label))}));return bi().s[39]++,Ae.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[Ae.jsx("div",{className:"maputnik-array-block-action",children:l}),Ae.jsx("div",{className:"maputnik-array-block-content",children:o})]},a)}));return bi().s[40]++,Ae.jsxs("div",{className:"maputnik-array",children:[i,Ae.jsx(Fs,{className:"maputnik-array-add-value",onClick:this.addValue,children:e("Add value")})]})}}const Rx=(bi().s[41]++,es()(kce));class Dce extends ni.Component{render(){bi().f[7]++;const e=(bi().s[42]++,this.props.t);return bi().s[43]++,Ae.jsx(Fs,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove array item"),children:Ae.jsx(f8,{label:Ae.jsx(Z1,{})})})}}function Ps(){var n="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",e="cd16dc68fc42c219caf080518fd74984d4f8d81e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Ps=function(){return l},l}Ps();class Rce extends ni.Component{static defaultProps=(Ps().s[0]++,{fonts:[]});get values(){Ps().f[0]++;const e=(Ps().s[1]++,Ps().b[0][0]++,this.props.value||(Ps().b[0][1]++,this.props.default)||(Ps().b[0][2]++,[]));return Ps().s[2]++,e[e.length-1]!==""?(Ps().b[1][0]++,Ps().s[3]++,e.concat("")):(Ps().b[1][1]++,Ps().s[4]++,e)}changeFont(e,t){Ps().f[1]++;const i=(Ps().s[5]++,this.values.slice(0));Ps().s[6]++,i[e]=t;const r=(Ps().s[7]++,i.filter(a=>(Ps().f[2]++,Ps().s[8]++,a!==void 0)).filter(a=>(Ps().f[3]++,Ps().s[9]++,a!=="")));Ps().s[10]++,this.props.onChange(r)}render(){Ps().f[4]++;const e=(Ps().s[11]++,this.values.map((t,i)=>(Ps().f[5]++,Ps().s[12]++,Ae.jsx("li",{children:Ae.jsx(Eb,{"aria-label":(Ps().b[2][0]++,this.props["aria-label"]||(Ps().b[2][1]++,this.props.name)),value:t,options:this.props.fonts?.map(r=>(Ps().f[6]++,Ps().s[13]++,[r,r])),onChange:this.changeFont.bind(this,i)})},i))));return Ps().s[14]++,Ae.jsx("ul",{className:"maputnik-font",children:e})}}function _r(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",e="a1e962ecc1e2255c0f5dbda1129d42c7f0d3da46",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:146,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:122,column:10}},21:{start:{line:124,column:8},end:{line:132,column:10}},22:{start:{line:134,column:8},end:{line:142,column:10}},23:{start:{line:144,column:8},end:{line:144,column:110}},24:{start:{line:145,column:8},end:{line:145,column:20}},25:{start:{line:149,column:4},end:{line:149,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:147,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:148,column:2},end:{line:148,column:3}},loc:{start:{line:148,column:11},end:{line:150,column:3}},line:148}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:146,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:122,column:10}},{start:{line:123,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:142,column:10}},{start:{line:143,column:6},end:{line:145,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93},6:{loc:{start:{line:120,column:19},end:{line:120,column:90}},type:"cond-expr",locations:[{start:{line:120,column:53},end:{line:120,column:69}},{start:{line:120,column:72},end:{line:120,column:90}}],line:120},7:{loc:{start:{line:130,column:19},end:{line:130,column:90}},type:"cond-expr",locations:[{start:{line:130,column:53},end:{line:130,column:69}},{start:{line:130,column:72},end:{line:130,column:90}}],line:130},8:{loc:{start:{line:139,column:19},end:{line:139,column:90}},type:"cond-expr",locations:[{start:{line:139,column:53},end:{line:139,column:69}},{start:{line:139,column:72},end:{line:139,column:90}}],line:139}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AA2DQ;AA3DR,OAAO,WAAkC;AAEzC,OAAO,gBAA0C;AACjD,OAAO,iBAA4C;AACnD,OAAO,mBAAgD;AACvD,OAAO,iBAA4C;AACnD,OAAO,gBAA0C;AACjD,OAAO,uBAAwD;AAC/D,OAAO,eAAwC;AAC/C,OAAO,uBAAwD;AAC/D,OAAO,eAAwC;AAC/C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA4BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACjC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF,KAAK;AAAe,eAClB;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,WAAW,KAAK,MAAM;AAAA,YACtB,MAAK;AAAA,YACL,OAAQ,MAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK;AAAA;AAAA,QAChF;AAAA,MAEF,KAAK;AAAc,eACjB;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,WAAW,KAAK,MAAM;AAAA,YACtB,MAAK;AAAA,YACL,OAAQ,MAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK;AAAA;AAAA,QAChF;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,MAAK;AAAA,YACL,OAAQ,MAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK;AAAA,YAC9E,QAAQ;AAAA;AAAA,QACV;AAAA,MAEF;AACE,gBAAQ,KAAK,6BAA6B,KAAK,MAAM,SAAS,UAAU,KAAK,MAAM,WAAW,IAAI,EAAE;AACpG,eAAO;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a1e962ecc1e2255c0f5dbda1129d42c7f0d3da46"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return _r=function(){return l},l}_r();const Pce=(_r().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);class Sv extends ni.Component{childNodes(){_r().f[0]++;const e=(_r().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:this.props.fieldSpec?.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:t=>(_r().f[1]++,_r().s[2]++,this.props.onChange(this.props.fieldName,t)),"aria-label":this.props["aria-label"]});switch(_r().s[3]++,this.props.fieldSpec?.type){case"number":return _r().b[0][0]++,_r().s[4]++,Ae.jsx(z0,{...e,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":_r().b[0][1]++;{const t=(_r().s[5]++,Object.keys((_r().b[1][0]++,this.props.fieldSpec.values||(_r().b[1][1]++,[]))).map(i=>(_r().f[2]++,_r().s[6]++,[i,P8(i)])));return _r().s[7]++,Ae.jsx(e7,{...e,options:t})}case"resolvedImage":_r().b[0][2]++;case"formatted":_r().b[0][3]++;case"string":if(_r().b[0][4]++,_r().s[8]++,Pce.indexOf(this.props.fieldName)>=0){_r().b[2][0]++;const t=(_r().s[9]++,_r().b[3][0]++,this.props.fieldSpec.values||(_r().b[3][1]++,[]));return _r().s[10]++,Ae.jsx(Eb,{...e,options:t.map(i=>(_r().f[3]++,_r().s[11]++,[i,i]))})}else return _r().b[2][1]++,_r().s[12]++,Ae.jsx(sm,{...e});case"color":return _r().b[0][5]++,_r().s[13]++,Ae.jsx(J8,{...e});case"boolean":return _r().b[0][6]++,_r().s[14]++,Ae.jsx(XN,{...e});case"array":return _r().b[0][7]++,_r().s[15]++,this.props.fieldName==="text-font"?(_r().b[4][0]++,_r().s[16]++,Ae.jsx(Rce,{...e,fonts:this.props.fieldSpec.values})):(_r().b[4][1]++,_r().s[17]++,this.props.fieldSpec.length?(_r().b[5][0]++,_r().s[18]++,Ae.jsx(SB,{...e,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(_r().b[5][1]++,_r().s[19]++,Ae.jsx(Rx,{...e,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));case"numberArray":return _r().b[0][8]++,_r().s[20]++,Ae.jsx(Rx,{...e,fieldSpec:this.props.fieldSpec,type:"number",value:Array.isArray(this.props.value)?(_r().b[6][0]++,this.props.value):(_r().b[6][1]++,[this.props.value])});case"colorArray":return _r().b[0][9]++,_r().s[21]++,Ae.jsx(Rx,{...e,fieldSpec:this.props.fieldSpec,type:"color",value:Array.isArray(this.props.value)?(_r().b[7][0]++,this.props.value):(_r().b[7][1]++,[this.props.value])});case"padding":return _r().b[0][10]++,_r().s[22]++,Ae.jsx(SB,{...e,type:"number",value:Array.isArray(this.props.value)?(_r().b[8][0]++,this.props.value):(_r().b[8][1]++,[this.props.value]),length:4});default:return _r().b[0][11]++,_r().s[23]++,console.warn(`No proper field input for ${this.props.fieldName} type: ${this.props.fieldSpec?.type}`),_r().s[24]++,null}}render(){return _r().f[4]++,_r().s[25]++,Ae.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}}function Gc(){var n="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",e="21895ee567bb7d4ce23a53c6b107fb6ae51ac232",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:26,column:1}},1:{start:{line:7,column:32},end:{line:7,column:53}},2:{start:{line:8,column:18},end:{line:8,column:67}},3:{start:{line:9,column:22},end:{line:11,column:3}},4:{start:{line:10,column:4},end:{line:10,column:20}},5:{start:{line:12,column:2},end:{line:25,column:7}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:28},end:{line:26,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:22},end:{line:9,column:23}},loc:{start:{line:9,column:31},end:{line:11,column:3}},line:9}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:20,column:8}},type:"binary-expr",locations:[{start:{line:13,column:4},end:{line:13,column:19}},{start:{line:13,column:39},end:{line:20,column:8}}],line:13},1:{loc:{start:{line:21,column:4},end:{line:21,column:118}},type:"binary-expr",locations:[{start:{line:21,column:4},end:{line:21,column:20}},{start:{line:21,column:40},end:{line:21,column:118}}],line:21},2:{loc:{start:{line:24,column:4},end:{line:24,column:198}},type:"binary-expr",locations:[{start:{line:24,column:4},end:{line:24,column:19}},{start:{line:24,column:39},end:{line:24,column:198}}],line:24},3:{loc:{start:{line:24,column:104},end:{line:24,column:125}},type:"cond-expr",locations:[{start:{line:24,column:114},end:{line:24,column:116}},{start:{line:24,column:119},end:{line:24,column:125}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAqBI,SAGM,KAHN;AArBJ,OAAO,WAA0D;AACjE,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAS7B,MAAM,WAAoC,CAAC,UAAU;AACnD,QAAM,CAAC,SAAS,UAAU,IAAI,MAAM,SAAS,KAAK;AAClD,QAAM,UAAU,MAAM,OAAO,iBAAiB,iBAAiB,CAAC;AAEhE,QAAM,cAAc,CAAC,QAAiB;AACpC,eAAW,GAAG;AAAA,EAChB;AAEA,SACE,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,QAAQ,SACzE;AAAA,UAAM,aACL,oBAAC,SAAI,WAAU,8BACb;AAAA,MAAC;AAAA;AAAA,QACC,OAAO,MAAM;AAAA,QACb;AAAA,QACA,WAAW,MAAM;AAAA;AAAA,IACnB,GACF;AAAA,IAED,CAAC,MAAM,aACN,oBAAC,SAAI,WAAU,8BACZ,gBAAM,OACT;AAAA,IAEF,oBAAC,SAAI,WAAU,+BAA+B,gBAAM,QAAO;AAAA,IAC3D,oBAAC,SAAI,WAAU,gCAAgC,gBAAM,UAAS;AAAA,IAC7D,MAAM,aACL,oBAAC,SAAI,WAAU,uBAAsB,OAAO,EAAE,SAAS,UAAU,KAAK,OAAO,GAC3E,8BAAC,OAAI,WAAW,MAAM,WAAW,GACnC;AAAA,KAEJ;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"21895ee567bb7d4ce23a53c6b107fb6ae51ac232"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Gc=function(){return l},l}Gc();Gc().s[0]++;const xg=n=>{Gc().f[0]++;const[e,t]=(Gc().s[1]++,ni.useState(!1)),i=(Gc().s[2]++,ni.useRef(Nv("fieldset_label_")));Gc().s[3]++;const r=a=>{Gc().f[1]++,Gc().s[4]++,t(a)};return Gc().s[5]++,Ae.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":i.current,children:[(Gc().b[0][0]++,n.fieldSpec&&(Gc().b[0][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:Ae.jsx(f8,{label:n.label,onToggleDoc:r,fieldSpec:n.fieldSpec})}))),(Gc().b[1][0]++,!n.fieldSpec&&(Gc().b[1][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:n.label}))),Ae.jsx("div",{className:"maputnik-input-block-action",children:n.action}),Ae.jsx("div",{className:"maputnik-input-block-content",children:n.children}),(Gc().b[2][0]++,n.fieldSpec&&(Gc().b[2][1]++,Ae.jsx("div",{className:"maputnik-doc-inline",style:{display:e?(Gc().b[3][0]++,""):(Gc().b[3][1]++,"none")},children:Ae.jsx(T2,{fieldSpec:n.fieldSpec})})))]})};function Da(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSpec.tsx",e="d8e70c971ccf4bd59962b2256e6a83edef254599",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSpec.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:34,column:3}},1:{start:{line:8,column:6},end:{line:8,column:19}},2:{start:{line:10,column:6},end:{line:10,column:74}},3:{start:{line:12,column:6},end:{line:12,column:19}},4:{start:{line:14,column:6},end:{line:14,column:22}},5:{start:{line:16,column:6},end:{line:16,column:19}},6:{start:{line:18,column:6},end:{line:18,column:19}},7:{start:{line:20,column:6},end:{line:20,column:19}},8:{start:{line:22,column:6},end:{line:22,column:19}},9:{start:{line:24,column:6},end:{line:24,column:19}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:28,column:6},end:{line:28,column:22}},12:{start:{line:30,column:6},end:{line:30,column:22}},13:{start:{line:32,column:6},end:{line:32,column:58}},14:{start:{line:33,column:6},end:{line:33,column:19}},15:{start:{line:36,column:18},end:{line:39,column:1}},16:{start:{line:37,column:20},end:{line:37,column:55}},17:{start:{line:38,column:2},end:{line:38,column:170}}},fnMap:{0:{name:"getElementFromType",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:39},end:{line:35,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:36,column:18},end:{line:36,column:19}},loc:{start:{line:36,column:29},end:{line:39,column:1}},line:36}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:34,column:3}},type:"switch",locations:[{start:{line:7,column:4},end:{line:8,column:19}},{start:{line:9,column:4},end:{line:10,column:74}},{start:{line:11,column:4},end:{line:12,column:19}},{start:{line:13,column:4},end:{line:14,column:22}},{start:{line:15,column:4},end:{line:16,column:19}},{start:{line:17,column:4},end:{line:18,column:19}},{start:{line:19,column:4},end:{line:20,column:19}},{start:{line:21,column:4},end:{line:22,column:19}},{start:{line:23,column:4},end:{line:24,column:19}},{start:{line:25,column:4},end:{line:26,column:22}},{start:{line:27,column:4},end:{line:28,column:22}},{start:{line:29,column:4},end:{line:30,column:22}},{start:{line:31,column:4},end:{line:33,column:19}}],line:6},1:{loc:{start:{line:10,column:13},end:{line:10,column:73}},type:"cond-expr",locations:[{start:{line:10,column:57},end:{line:10,column:65}},{start:{line:10,column:68},end:{line:10,column:73}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0},b:{0:[0,0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSpec.tsx"],names:[],mappings:"AA6CM;AA7CN,OAAO,WAAW;AAClB,OAAO,eAA4D;AACnE,OAAO,cAAc;AAErB,SAAS,mBAAmB,WAAyF;AACnH,UAAO,UAAU,MAAM;AAAA,IACrB,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAQ,OAAO,KAAK,UAAU,MAAO,EAAE,UAAU,IAAI,WAAW;AAAA,IAClE,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT;AACE,cAAQ,KAAK,uBAAuB,UAAU,IAAI;AAClD,aAAO;AAAA,EACX;AACF;AAMA,MAAM,YAAsC,CAAC,UAAU;AACrD,QAAM,YAAY,mBAAmB,MAAM,SAAU;AAErD,SACE,oBAAC,aAAU,OAAO,MAAM,OAAO,QAAQ,MAAM,QAAQ,WAAW,MAAM,WACpE,8BAAC,aAAW,GAAG,OAAO,GACxB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8e70c971ccf4bd59962b2256e6a83edef254599"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Da=function(){return l},l}Da();function Kce(n){switch(Da().f[0]++,Da().s[0]++,n.type){case"color":return Da().b[0][0]++,Da().s[1]++,Ls;case"enum":return Da().b[0][1]++,Da().s[2]++,Object.keys(n.values).length<=3?(Da().b[1][0]++,xg):(Da().b[1][1]++,Ls);case"boolean":return Da().b[0][2]++,Da().s[3]++,Ls;case"array":return Da().b[0][3]++,Da().s[4]++,xg;case"resolvedImage":return Da().b[0][4]++,Da().s[5]++,Ls;case"number":return Da().b[0][5]++,Da().s[6]++,Ls;case"string":return Da().b[0][6]++,Da().s[7]++,Ls;case"formatted":return Da().b[0][7]++,Da().s[8]++,Ls;case"padding":return Da().b[0][8]++,Da().s[9]++,Ls;case"numberArray":return Da().b[0][9]++,Da().s[10]++,xg;case"colorArray":return Da().b[0][10]++,Da().s[11]++,xg;case"variableAnchorOffsetCollection":return Da().b[0][11]++,Da().s[12]++,xg;default:return Da().b[0][12]++,Da().s[13]++,console.warn("No such type for: "+n.type),Da().s[14]++,Ls}}Da().s[15]++;const Uce=n=>{Da().f[1]++;const e=(Da().s[16]++,Kce(n.fieldSpec));return Da().s[17]++,Ae.jsx(e,{label:n.label,action:n.action,fieldSpec:n.fieldSpec,children:Ae.jsx(Sv,{...n})})};function Du(){var n="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",e="8e77c8fbe0fbc5796ba925837fc7526418b4854b",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:10,column:4},end:{line:60,column:5}},2:{start:{line:11,column:52},end:{line:19,column:7}},3:{start:{line:20,column:50},end:{line:28,column:7}},4:{start:{line:30,column:6},end:{line:40,column:7}},5:{start:{line:31,column:8},end:{line:39,column:10}},6:{start:{line:41,column:6},end:{line:45,column:11}},7:{start:{line:46,column:11},end:{line:60,column:5}},8:{start:{line:47,column:51},end:{line:56,column:7}},9:{start:{line:57,column:6},end:{line:57,column:76}},10:{start:{line:59,column:6},end:{line:59,column:44}},11:{start:{line:63,column:29},end:{line:63,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:61,column:3}},line:8}},branchMap:{0:{loc:{start:{line:10,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:60,column:5}},{start:{line:46,column:11},end:{line:60,column:5}}],line:10},1:{loc:{start:{line:30,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:30,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},2:{loc:{start:{line:46,column:11},end:{line:60,column:5}},type:"if",locations:[{start:{line:46,column:11},end:{line:60,column:5}},{start:{line:58,column:11},end:{line:60,column:5}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AA0BU,cAsBG,YAtBH;AA1BV,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAS,sBAAsB;AAC/B,SAA+B,uBAAuB;AAUtD,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,KAAK,MAAM,UAAU,YAAY,WAAW,SAAS,MAAM,GAAG;AAChE,YAAM,wBACJ;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uBAAuB;AAAA,UAEhC,8BAAC,kBAAe;AAAA;AAAA,MAClB;AAGF,YAAM,sBAAsB;AAAA,QAAC;AAAA;AAAA,UAC3B,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uCAAuC;AAAA,UAEhD,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI;AACJ,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAO,EAAE,mCAAmC;AAAA,YAE5C,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,WAAW,KAAK,MAAM,UAAU,YAAY,WAAW,SAAS,WAAW,GAAG;AAC5E,YAAM,uBAAuB;AAAA,QAAC;AAAA;AAAA,UAC5B,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,4CAA4C;AAAA,UACrD,eAAY;AAAA,UAEZ,8BAAC,eAAY;AAAA;AAAA,MACf;AACA,aAAO,oBAAC,SAAK,gCAAqB;AAAA,IACpC,OAAO;AACL,aAAO,oBAAC,SAAI;AAAA,IACd;AAAA,EACF;AACF;AAEA,MAAM,uBAAuB,gBAAgB,EAAE,4BAA4B;AAC3E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8e77c8fbe0fbc5796ba925837fc7526418b4854b"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Du=function(){return l},l}Du();class Lce extends ni.Component{render(){Du().f[0]++;const e=(Du().s[0]++,this.props.t);if(Du().s[1]++,this.props.fieldSpec.expression?.parameters.includes("zoom")){Du().b[0][0]++;const t=(Du().s[2]++,Ae.jsx(Fs,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:e("Convert to expression"),children:Ae.jsx(Q_,{})})),i=(Du().s[3]++,Ae.jsx(Fs,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:e("Convert property into a zoom function"),children:Ae.jsx(TI,{})}));let r;return Du().s[4]++,this.props.fieldSpec["property-type"]==="data-driven"?(Du().b[1][0]++,Du().s[5]++,r=Ae.jsx(Fs,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:e("Convert property to data function"),children:Ae.jsx(Q$,{})})):Du().b[1][1]++,Du().s[6]++,Ae.jsxs("div",{children:[t,r,i]})}else if(Du().b[0][1]++,Du().s[7]++,this.props.fieldSpec.expression?.parameters.includes("elevation")){Du().b[2][0]++;const t=(Du().s[8]++,Ae.jsx(Fs,{className:"maputnik-make-elevation-function",onClick:this.props.onElevationClick,title:e("Convert property into a elevation function"),"data-wd-key":"make-elevation-function",children:Ae.jsx(TI,{})}));return Du().s[9]++,Ae.jsx("div",{children:t})}else return Du().b[2][1]++,Du().s[10]++,Ae.jsx("div",{})}}const Fce=(Du().s[11]++,es()(Lce));function zm(){var n="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",e="3e6c7200aa37e60f3f49ecaa91bce3a63befeb7e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:21,column:5}},3:{start:{line:22,column:18},end:{line:22,column:53}},4:{start:{line:23,column:4},end:{line:32,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:33,column:3}},line:10}},branchMap:{0:{loc:{start:{line:29,column:34},end:{line:29,column:60}},type:"binary-expr",locations:[{start:{line:29,column:34},end:{line:29,column:54}},{start:{line:29,column:58},end:{line:29,column:60}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA6BwB;AA7BxB,OAAO,WAAW;AAElB,OAAO,eAAsC;AAC7C,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAgB/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA,QAC9B,kBAAkB,KAAK,MAAM;AAAA;AAAA,IAC/B;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e6c7200aa37e60f3f49ecaa91bce3a63befeb7e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return zm=function(){return l},l}zm();class zce extends ni.Component{static defaultProps=(zm().s[0]++,{errors:{}});render(){zm().f[0]++;const{errors:e,fieldName:t,fieldType:i}=(zm().s[1]++,this.props),r=(zm().s[2]++,Ae.jsx(Fce,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick,onElevationClick:this.props.onElevationClick})),a=(zm().s[3]++,e[i+"."+t]);return zm().s[4]++,Ae.jsx(Uce,{...this.props,error:a,fieldSpec:this.props.fieldSpec,label:N2((zm().b[0][0]++,this.props.fieldName||(zm().b[0][1]++,""))),action:r})}}function Nd(){var n="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",e="e8906f642b33ab7d7a780fc0db870f7e4872d29c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Nd=function(){return l},l}Nd();function JN(n,e){Nd().f[0]++;const t=(Nd().s[0]++,+n),i=(Nd().s[1]++,+e);return Nd().s[2]++,t<i?(Nd().b[0][0]++,Nd().s[3]++,-1):(Nd().b[0][1]++,Nd().s[4]++,t>i?(Nd().b[1][0]++,Nd().s[5]++,1):(Nd().b[1][1]++,Nd().s[6]++,0))}function qp(){var n="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",e="2f98128f0f990b67a049c58486c1fab4310fbcfa",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return qp=function(){return l},l}qp();function hp(n){if(qp().f[0]++,qp().s[0]++,Object.prototype.hasOwnProperty.call(n,"default"))return qp().b[0][0]++,qp().s[1]++,n.default;qp().b[0][1]++;const e=(qp().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return qp().s[3]++,qp().b[1][0]++,e[n.type]||(qp().b[1][1]++,"")}function Ev(){var n="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",e="03de18cded5f486201afd886787bbdda710eafe3",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:17,column:6}},2:{start:{line:20,column:25},end:{line:20,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:18,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAQtD,MAAM,iCAAiC,MAAM,UAAyC;AAAA,EACpF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,6BAA6B;AAAA,QAEtC,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"03de18cded5f486201afd886787bbdda710eafe3"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Ev=function(){return l},l}Ev();class jce extends ni.Component{render(){Ev().f[0]++;const e=(Ev().s[0]++,this.props.t);return Ev().s[1]++,Ae.jsx(Fs,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove zoom level from stop"),children:Ae.jsx(Z1,{})})}}const eG=(Ev().s[2]++,es()(jce));function gn(){var n="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",e="92a0f25bb6f30b0d81f12eb12e4e1cc53eee11f9",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:20,column:2},end:{line:29,column:3}},1:{start:{line:21,column:4},end:{line:28,column:7}},2:{start:{line:22,column:6},end:{line:27,column:7}},3:{start:{line:23,column:8},end:{line:25,column:9}},4:{start:{line:24,column:10},end:{line:24,column:33}},5:{start:{line:26,column:8},end:{line:26,column:39}},6:{start:{line:30,column:2},end:{line:30,column:17}},7:{start:{line:33,column:10},end:{line:35,column:3}},8:{start:{line:37,column:20},end:{line:37,column:55}},9:{start:{line:38,column:4},end:{line:42,column:5}},10:{start:{line:39,column:6},end:{line:41,column:9}},11:{start:{line:45,column:20},end:{line:45,column:45}},12:{start:{line:46,column:4},end:{line:50,column:5}},13:{start:{line:47,column:6},end:{line:49,column:8}},14:{start:{line:51,column:4},end:{line:51,column:16}},15:{start:{line:54,column:4},end:{line:56,column:5}},16:{start:{line:55,column:6},end:{line:55,column:27}},17:{start:{line:57,column:4},end:{line:59,column:5}},18:{start:{line:58,column:6},end:{line:58,column:24}},19:{start:{line:60,column:4},end:{line:60,column:25}},20:{start:{line:63,column:4},end:{line:67,column:5}},21:{start:{line:64,column:6},end:{line:64,column:83}},22:{start:{line:66,column:6},end:{line:66,column:53}},23:{start:{line:71,column:26},end:{line:76,column:70}},24:{start:{line:72,column:6},end:{line:75,column:8}},25:{start:{line:76,column:22},end:{line:76,column:69}},26:{start:{line:77,column:20},end:{line:77,column:22}},27:{start:{line:78,column:4},end:{line:80,column:7}},28:{start:{line:79,column:6},end:{line:79,column:30}},29:{start:{line:81,column:4},end:{line:83,column:7}},30:{start:{line:84,column:4},end:{line:84,column:50}},31:{start:{line:84,column:39},end:{line:84,column:48}},32:{start:{line:86,column:13},end:{line:106,column:3}},33:{start:{line:87,column:4},end:{line:104,column:5}},34:{start:{line:88,column:6},end:{line:91,column:8}},35:{start:{line:93,column:24},end:{line:93,column:61}},36:{start:{line:94,column:6},end:{line:103,column:8}},37:{start:{line:105,column:4},end:{line:105,column:42}},38:{start:{line:108,column:18},end:{line:108,column:56}},39:{start:{line:109,column:4},end:{line:115,column:6}},40:{start:{line:116,column:25},end:{line:116,column:53}},41:{start:{line:117,column:25},end:{line:120,column:5}},42:{start:{line:121,column:4},end:{line:121,column:54}},43:{start:{line:124,column:25},end:{line:127,column:5}},44:{start:{line:128,column:4},end:{line:130,column:5}},45:{start:{line:129,column:6},end:{line:129,column:34}},46:{start:{line:131,column:4},end:{line:131,column:60}},47:{start:{line:134,column:4},end:{line:141,column:5}},48:{start:{line:135,column:6},end:{line:135,column:42}},49:{start:{line:137,column:6},end:{line:140,column:9}},50:{start:{line:144,column:4},end:{line:148,column:5}},51:{start:{line:145,column:6},end:{line:145,column:43}},52:{start:{line:147,column:6},end:{line:147,column:40}},53:{start:{line:149,column:4},end:{line:149,column:58}},54:{start:{line:152,column:14},end:{line:152,column:26}},55:{start:{line:153,column:4},end:{line:155,column:5}},56:{start:{line:154,column:6},end:{line:154,column:78}},57:{start:{line:157,column:4},end:{line:205,column:5}},58:{start:{line:158,column:6},end:{line:204,column:9}},59:{start:{line:159,column:26},end:{line:159,column:77}},60:{start:{line:160,column:20},end:{line:160,column:40}},61:{start:{line:161,column:26},end:{line:161,column:79}},62:{start:{line:162,column:22},end:{line:162,column:29}},63:{start:{line:163,column:46},end:{line:163,column:122}},64:{start:{line:164,column:26},end:{line:169,column:9}},65:{start:{line:168,column:33},end:{line:168,column:97}},66:{start:{line:171,column:8},end:{line:175,column:9}},67:{start:{line:172,column:10},end:{line:172,column:73}},68:{start:{line:174,column:10},end:{line:174,column:73}},69:{start:{line:176,column:24},end:{line:176,column:28}},70:{start:{line:177,column:8},end:{line:188,column:9}},71:{start:{line:178,column:10},end:{line:187,column:15}},72:{start:{line:183,column:37},end:{line:183,column:101}},73:{start:{line:189,column:8},end:{line:203,column:18}},74:{start:{line:199,column:41},end:{line:199,column:110}},75:{start:{line:206,column:4},end:{line:306,column:12}},76:{start:{line:217,column:39},end:{line:217,column:67}},77:{start:{line:235,column:43},end:{line:235,column:68}},78:{start:{line:250,column:39},end:{line:250,column:83}},79:{start:{line:266,column:42},end:{line:266,column:85}},80:{start:{line:309,column:21},end:{line:309,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:18,column:9},end:{line:18,column:20}},loc:{start:{line:18,column:35},end:{line:31,column:1}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:21,column:30},end:{line:21,column:31}},loc:{start:{line:21,column:45},end:{line:28,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:22},end:{line:43,column:3}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:48},end:{line:52,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:34},end:{line:61,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:34},end:{line:68,column:3}},line:62},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:26},end:{line:85,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:51},end:{line:76,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:76,column:12},end:{line:76,column:13}},loc:{start:{line:76,column:22},end:{line:76,column:69}},line:76},9:{name:"(anonymous_9)",decl:{start:{line:78,column:26},end:{line:78,column:27}},loc:{start:{line:78,column:41},end:{line:80,column:5}},line:78},10:{name:"(anonymous_10)",decl:{start:{line:84,column:29},end:{line:84,column:30}},loc:{start:{line:84,column:39},end:{line:84,column:48}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:86,column:13},end:{line:86,column:14}},loc:{start:{line:86,column:35},end:{line:106,column:3}},line:86},12:{name:"(anonymous_12)",decl:{start:{line:107,column:2},end:{line:107,column:3}},loc:{start:{line:107,column:41},end:{line:122,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:23},end:{line:132,column:3}},line:123},14:{name:"(anonymous_14)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:26},end:{line:142,column:3}},line:133},15:{name:"(anonymous_15)",decl:{start:{line:143,column:2},end:{line:143,column:3}},loc:{start:{line:143,column:40},end:{line:150,column:3}},line:143},16:{name:"(anonymous_16)",decl:{start:{line:151,column:2},end:{line:151,column:3}},loc:{start:{line:151,column:11},end:{line:307,column:3}},line:151},17:{name:"(anonymous_17)",decl:{start:{line:158,column:46},end:{line:158,column:47}},loc:{start:{line:158,column:61},end:{line:204,column:7}},line:158},18:{name:"(anonymous_18)",decl:{start:{line:168,column:20},end:{line:168,column:21}},loc:{start:{line:168,column:33},end:{line:168,column:97}},line:168},19:{name:"(anonymous_19)",decl:{start:{line:183,column:24},end:{line:183,column:25}},loc:{start:{line:183,column:37},end:{line:183,column:101}},line:183},20:{name:"(anonymous_20)",decl:{start:{line:199,column:24},end:{line:199,column:25}},loc:{start:{line:199,column:41},end:{line:199,column:110}},line:199},21:{name:"(anonymous_21)",decl:{start:{line:217,column:26},end:{line:217,column:27}},loc:{start:{line:217,column:39},end:{line:217,column:67}},line:217},22:{name:"(anonymous_22)",decl:{start:{line:235,column:26},end:{line:235,column:27}},loc:{start:{line:235,column:43},end:{line:235,column:68}},line:235},23:{name:"(anonymous_23)",decl:{start:{line:250,column:26},end:{line:250,column:27}},loc:{start:{line:250,column:39},end:{line:250,column:83}},line:250},24:{name:"(anonymous_24)",decl:{start:{line:266,column:26},end:{line:266,column:27}},loc:{start:{line:266,column:42},end:{line:266,column:85}},line:266}},branchMap:{0:{loc:{start:{line:20,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},1:{loc:{start:{line:20,column:6},end:{line:20,column:38}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:17}},{start:{line:20,column:21},end:{line:20,column:38}}],line:20},2:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:23,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:25,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},5:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},6:{loc:{start:{line:54,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:56,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:54},7:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},8:{loc:{start:{line:63,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:67,column:5}},{start:{line:65,column:11},end:{line:67,column:5}}],line:63},9:{loc:{start:{line:87,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:104,column:5}},{start:{line:92,column:11},end:{line:104,column:5}}],line:87},10:{loc:{start:{line:93,column:24},end:{line:93,column:61}},type:"cond-expr",locations:[{start:{line:93,column:55},end:{line:93,column:57}},{start:{line:93,column:60},end:{line:93,column:61}}],line:93},11:{loc:{start:{line:108,column:18},end:{line:108,column:56}},type:"binary-expr",locations:[{start:{line:108,column:18},end:{line:108,column:50}},{start:{line:108,column:54},end:{line:108,column:56}}],line:108},12:{loc:{start:{line:112,column:14},end:{line:112,column:58}},type:"cond-expr",locations:[{start:{line:112,column:41},end:{line:112,column:42}},{start:{line:112,column:45},end:{line:112,column:58}}],line:112},13:{loc:{start:{line:128,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:128,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128},14:{loc:{start:{line:134,column:4},end:{line:141,column:5}},type:"if",locations:[{start:{line:134,column:4},end:{line:141,column:5}},{start:{line:136,column:11},end:{line:141,column:5}}],line:134},15:{loc:{start:{line:134,column:8},end:{line:134,column:70}},type:"binary-expr",locations:[{start:{line:134,column:8},end:{line:134,column:33}},{start:{line:134,column:37},end:{line:134,column:70}}],line:134},16:{loc:{start:{line:144,column:4},end:{line:148,column:5}},type:"if",locations:[{start:{line:144,column:4},end:{line:148,column:5}},{start:{line:146,column:11},end:{line:148,column:5}}],line:144},17:{loc:{start:{line:153,column:4},end:{line:155,column:5}},type:"if",locations:[{start:{line:153,column:4},end:{line:155,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:153},18:{loc:{start:{line:157,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:157,column:4},end:{line:205,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157},19:{loc:{start:{line:159,column:26},end:{line:159,column:77}},type:"cond-expr",locations:[{start:{line:159,column:56},end:{line:159,column:68}},{start:{line:159,column:71},end:{line:159,column:77}}],line:159},20:{loc:{start:{line:161,column:26},end:{line:161,column:79}},type:"cond-expr",locations:[{start:{line:161,column:56},end:{line:161,column:69}},{start:{line:161,column:72},end:{line:161,column:79}}],line:161},21:{loc:{start:{line:171,column:8},end:{line:175,column:9}},type:"if",locations:[{start:{line:171,column:8},end:{line:175,column:9}},{start:{line:173,column:15},end:{line:175,column:9}}],line:171},22:{loc:{start:{line:177,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:177,column:8},end:{line:188,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:177},23:{loc:{start:{line:225,column:8},end:{line:240,column:9}},type:"binary-expr",locations:[{start:{line:225,column:8},end:{line:225,column:45}},{start:{line:225,column:65},end:{line:240,column:9}}],line:225},24:{loc:{start:{line:256,column:8},end:{line:271,column:9}},type:"binary-expr",locations:[{start:{line:256,column:8},end:{line:256,column:18}},{start:{line:256,column:38},end:{line:271,column:9}}],line:256},25:{loc:{start:{line:272,column:8},end:{line:280,column:15}},type:"binary-expr",locations:[{start:{line:272,column:8},end:{line:272,column:18}},{start:{line:272,column:38},end:{line:280,column:15}}],line:272},26:{loc:{start:{line:282,column:10},end:{line:292,column:11}},type:"binary-expr",locations:[{start:{line:282,column:10},end:{line:282,column:20}},{start:{line:282,column:40},end:{line:292,column:11}}],line:282}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAsO8B,cA8Bf,YA9Be;AAtO9B,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAC7B,SAAQ,sBAAqB;AAC7B,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAClC,SAA+B,uBAAuB;AAEtD,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc,EAAE,aAAa;AAAA,UAC7B,OAAO,EAAE,YAAY;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,EAAE,cAAc;AAAA,cAC5B,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAGnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAGf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO,EAAE,8CAA8C;AAAA,gBACvD,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,SAAS;AAAA,YAGlB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAI,YAAE,aAAa,GAAE;AAAA,YACtB,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,UAAU;AAAA;AAAA;AAAA,UACf;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,uBAAuB;AAAA;AAAA;AAAA,UAC5B;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"92a0f25bb6f30b0d81f12eb12e4e1cc53eee11f9"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return gn=function(){return l},l}gn();function dK(n,e){gn().f[0]++;let t;return gn().s[0]++,gn().b[1][0]++,n.value&&(gn().b[1][1]++,n.value.stops)?(gn().b[0][0]++,gn().s[1]++,n.value.stops.forEach((i,r)=>{gn().f[1]++,gn().s[2]++,Object.prototype.hasOwnProperty.call(e.refs,r)?gn().b[2][1]++:(gn().b[2][0]++,gn().s[3]++,t?gn().b[3][1]++:(gn().b[3][0]++,gn().s[4]++,t={...e}),gn().s[5]++,t[r]=Nv("stop-"))})):gn().b[0][1]++,gn().s[6]++,t}class Nce extends ni.Component{state=(gn().s[7]++,{refs:{}});componentDidMount(){gn().f[2]++;const e=(gn().s[8]++,dK(this.props,this.state));gn().s[9]++,e?(gn().b[4][0]++,gn().s[10]++,this.setState({refs:e})):gn().b[4][1]++}static getDerivedStateFromProps(e,t){gn().f[3]++;const i=(gn().s[11]++,dK(e,t));return gn().s[12]++,i?(gn().b[5][0]++,gn().s[13]++,{refs:i}):(gn().b[5][1]++,gn().s[14]++,null)}getFieldFunctionType(e){return gn().f[4]++,gn().s[15]++,e.expression.interpolated?(gn().b[6][0]++,gn().s[16]++,"exponential"):(gn().b[6][1]++,gn().s[17]++,e.type==="number"?(gn().b[7][0]++,gn().s[18]++,"interval"):(gn().b[7][1]++,gn().s[19]++,"categorical"))}getDataFunctionTypes(e){return gn().f[5]++,gn().s[20]++,e.expression.interpolated?(gn().b[8][0]++,gn().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(gn().b[8][1]++,gn().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(e){gn().f[6]++;const t=(gn().s[23]++,e.map((r,a)=>(gn().f[7]++,gn().s[24]++,{ref:this.state.refs[a],data:r})).sort((r,a)=>(gn().f[8]++,gn().s[25]++,JN(r.data[0].zoom,a.data[0].zoom)))),i=(gn().s[26]++,{});return gn().s[27]++,t.forEach((r,a)=>{gn().f[9]++,gn().s[28]++,i[a]=r.ref}),gn().s[29]++,this.setState({refs:i}),gn().s[30]++,t.map(r=>(gn().f[10]++,gn().s[31]++,r.data))}onChange=(gn().s[32]++,(e,t)=>{if(gn().f[11]++,gn().s[33]++,t.type==="identity")gn().b[9][0]++,gn().s[34]++,t={type:t.type,property:t.property};else{gn().b[9][1]++;const i=(gn().s[35]++,t.type==="categorical"?(gn().b[10][0]++,""):(gn().b[10][1]++,0));gn().s[36]++,t={property:"",type:t.type,stops:[[{zoom:6,value:i},hp(this.props.fieldSpec)],[{zoom:10,value:i},hp(this.props.fieldSpec)]],...t}}gn().s[37]++,this.props.onChange(e,t)});changeStop(e,t,i){gn().f[12]++;const r=(gn().s[38]++,gn().b[11][0]++,this.props.value?.stops.slice(0)||(gn().b[11][1]++,[]));gn().s[39]++,r[e]=[{value:t.value,zoom:t.zoom===void 0?(gn().b[12][0]++,0):(gn().b[12][1]++,t.zoom)},i];const a=(gn().s[40]++,this.orderStopsByZoom(r)),l=(gn().s[41]++,{...this.props.value,stops:a});gn().s[42]++,this.onChange(this.props.fieldName,l)}changeBase(e){gn().f[13]++;const t=(gn().s[43]++,{...this.props.value,base:e});gn().s[44]++,t.base===void 0?(gn().b[13][0]++,gn().s[45]++,delete t.base):gn().b[13][1]++,gn().s[46]++,this.props.onChange(this.props.fieldName,t)}changeDataType(e){gn().f[14]++,gn().s[47]++,gn().b[15][0]++,e==="interpolate"&&(gn().b[15][1]++,this.props.onChangeToZoomFunction)?(gn().b[14][0]++,gn().s[48]++,this.props.onChangeToZoomFunction()):(gn().b[14][1]++,gn().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:e}))}changeDataProperty(e,t){gn().f[15]++,gn().s[50]++,t?(gn().b[16][0]++,gn().s[51]++,this.props.value[e]=t):(gn().b[16][1]++,gn().s[52]++,delete this.props.value[e]),gn().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){gn().f[16]++;const e=(gn().s[54]++,this.props.t);gn().s[55]++,typeof this.props.value?.type>"u"?(gn().b[17][0]++,gn().s[56]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):gn().b[17][1]++;let t;return gn().s[57]++,this.props.value?.stops?(gn().b[18][0]++,gn().s[58]++,t=this.props.value.stops.map((i,r)=>{gn().f[17]++;const a=(gn().s[59]++,typeof i[0]=="object"?(gn().b[19][0]++,i[0].zoom):(gn().b[19][1]++,void 0)),l=(gn().s[60]++,this.state.refs[r]),o=(gn().s[61]++,typeof i[0]=="object"?(gn().b[20][0]++,i[0].value):(gn().b[20][1]++,i[0])),p=(gn().s[62]++,i[1]),C=(gn().s[63]++,Ae.jsx(eG,{onClick:this.props.onDeleteStop?.bind(this,r)})),M=(gn().s[64]++,{"aria-label":e("Input value"),label:e("Data value"),value:o,onChange:K=>(gn().f[18]++,gn().s[65]++,this.changeStop(r,{zoom:a,value:K},p))});let O;gn().s[66]++,this.props.value?.type==="categorical"?(gn().b[21][0]++,gn().s[67]++,O=Ae.jsx(sm,{...M})):(gn().b[21][1]++,gn().s[68]++,O=Ae.jsx(z0,{...M}));let U=(gn().s[69]++,null);return gn().s[70]++,a!==void 0?(gn().b[22][0]++,gn().s[71]++,U=Ae.jsx("div",{children:Ae.jsx(z0,{"aria-label":"Zoom",value:a,onChange:K=>(gn().f[19]++,gn().s[72]++,this.changeStop(r,{zoom:K,value:o},p)),min:0,max:22})})):gn().b[22][1]++,gn().s[73]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:U}),Ae.jsx("td",{children:O}),Ae.jsx("td",{children:Ae.jsx(Sv,{"aria-label":e("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:p,onChange:(K,j)=>(gn().f[20]++,gn().s[74]++,this.changeStop(r,{zoom:a,value:o},j))})}),Ae.jsx("td",{children:C})]},l)})):gn().b[18][1]++,gn().s[75]++,Ae.jsx("div",{className:"maputnik-data-spec-block",children:Ae.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[Ae.jsx("legend",{children:N2(this.props.fieldName)}),Ae.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[Ae.jsx(Ls,{label:e("Function"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(iy,{value:this.props.value.type,onChange:i=>(gn().f[21]++,gn().s[76]++,this.changeDataType(i)),title:e("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(gn().b[23][0]++,this.props.value?.type!=="identity"&&(gn().b[23][1]++,Ae.jsx(Ls,{label:e("Base"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(Sv,{fieldName:"base",fieldSpec:$o.function.base,value:this.props.value?.base,onChange:(i,r)=>(gn().f[22]++,gn().s[77]++,this.changeBase(r))})})},"base"))),Ae.jsx(Ls,{label:"Property",children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(sm,{value:this.props.value?.property,title:e("Input a data property to base styles off of."),onChange:i=>(gn().f[23]++,gn().s[78]++,this.changeDataProperty("property",i))})})},"property"),(gn().b[24][0]++,t&&(gn().b[24][1]++,Ae.jsx(Ls,{label:e("Default"),children:Ae.jsx(Sv,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value?.default,onChange:(i,r)=>(gn().f[24]++,gn().s[79]++,this.changeDataProperty("default",r))})},"default"))),(gn().b[25][0]++,t&&(gn().b[25][1]++,Ae.jsx("div",{className:"maputnik-function-stop",children:Ae.jsxs("table",{className:"maputnik-function-stop-table",children:[Ae.jsx("caption",{children:e("Stops")}),Ae.jsx("thead",{children:Ae.jsxs("tr",{children:[Ae.jsx("th",{children:e("Zoom")}),Ae.jsx("th",{children:e("Input value")}),Ae.jsx("th",{rowSpan:2,children:e("Output value")})]})}),Ae.jsx("tbody",{children:t})]})}))),Ae.jsxs("div",{className:"maputnik-toolbox",children:[(gn().b[26][0]++,t&&(gn().b[26][1]++,Ae.jsxs(Fs,{className:"maputnik-add-stop",onClick:this.props.onAddStop?.bind(this),children:[Ae.jsx(j2,{style:{verticalAlign:"text-bottom"}}),e("Add stop")]}))),Ae.jsxs(Fs,{className:"maputnik-add-stop",onClick:this.props.onExpressionClick?.bind(this),children:[Ae.jsx(Q_,{style:{verticalAlign:"text-bottom"}}),e("Convert to expression")]})]})]})]})})}}const Gce=(gn().s[80]++,es()(Nce));function vi(){var n="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",e="69307d1c2ebb16a8d89a3ff2534654d41dc25d82",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:17,column:16},end:{line:17,column:18}},1:{start:{line:18,column:2},end:{line:29,column:3}},2:{start:{line:19,column:4},end:{line:28,column:7}},3:{start:{line:20,column:6},end:{line:27,column:7}},4:{start:{line:21,column:8},end:{line:23,column:9}},5:{start:{line:22,column:10},end:{line:22,column:33}},6:{start:{line:24,column:8},end:{line:24,column:39}},7:{start:{line:26,column:8},end:{line:26,column:39}},8:{start:{line:30,column:2},end:{line:30,column:17}},9:{start:{line:33,column:24},end:{line:35,column:3}},10:{start:{line:36,column:10},end:{line:38,column:3}},11:{start:{line:40,column:20},end:{line:40,column:55}},12:{start:{line:41,column:4},end:{line:45,column:5}},13:{start:{line:42,column:6},end:{line:44,column:9}},14:{start:{line:48,column:20},end:{line:48,column:45}},15:{start:{line:49,column:4},end:{line:53,column:5}},16:{start:{line:50,column:6},end:{line:52,column:8}},17:{start:{line:54,column:4},end:{line:54,column:16}},18:{start:{line:58,column:26},end:{line:63,column:60}},19:{start:{line:59,column:6},end:{line:62,column:8}},20:{start:{line:63,column:22},end:{line:63,column:59}},21:{start:{line:64,column:20},end:{line:64,column:22}},22:{start:{line:65,column:4},end:{line:67,column:7}},23:{start:{line:66,column:6},end:{line:66,column:30}},24:{start:{line:68,column:4},end:{line:70,column:7}},25:{start:{line:71,column:4},end:{line:71,column:50}},26:{start:{line:71,column:39},end:{line:71,column:48}},27:{start:{line:74,column:18},end:{line:74,column:49}},28:{start:{line:75,column:4},end:{line:75,column:41}},29:{start:{line:76,column:25},end:{line:76,column:53}},30:{start:{line:77,column:25},end:{line:80,column:5}},31:{start:{line:81,column:4},end:{line:81,column:60}},32:{start:{line:84,column:25},end:{line:87,column:5}},33:{start:{line:88,column:4},end:{line:90,column:5}},34:{start:{line:89,column:6},end:{line:89,column:34}},35:{start:{line:91,column:4},end:{line:91,column:60}},36:{start:{line:93,column:19},end:{line:97,column:3}},37:{start:{line:94,column:4},end:{line:96,column:5}},38:{start:{line:95,column:6},end:{line:95,column:46}},39:{start:{line:99,column:14},end:{line:99,column:26}},40:{start:{line:100,column:23},end:{line:133,column:6}},41:{start:{line:101,column:24},end:{line:101,column:31}},42:{start:{line:102,column:20},end:{line:102,column:27}},43:{start:{line:103,column:44},end:{line:103,column:120}},44:{start:{line:104,column:6},end:{line:132,column:8}},45:{start:{line:113,column:43},end:{line:113,column:87}},46:{start:{line:125,column:43},end:{line:125,column:88}},47:{start:{line:134,column:4},end:{line:200,column:12}},48:{start:{line:145,column:39},end:{line:145,column:67}},49:{start:{line:162,column:43},end:{line:162,column:68}},50:{start:{line:203,column:4},end:{line:207,column:5}},51:{start:{line:204,column:6},end:{line:204,column:83}},52:{start:{line:206,column:6},end:{line:206,column:29}},53:{start:{line:210,column:21},end:{line:210,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:31,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:28,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:22},end:{line:46,column:3}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:48},end:{line:55,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:26},end:{line:72,column:3}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:58,column:36},end:{line:58,column:37}},loc:{start:{line:58,column:51},end:{line:63,column:5}},line:58},6:{name:"(anonymous_6)",decl:{start:{line:63,column:12},end:{line:63,column:13}},loc:{start:{line:63,column:22},end:{line:63,column:59}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:65,column:26},end:{line:65,column:27}},loc:{start:{line:65,column:41},end:{line:67,column:5}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:71,column:29},end:{line:71,column:30}},loc:{start:{line:71,column:39},end:{line:71,column:48}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:45},end:{line:82,column:3}},line:73},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:23},end:{line:92,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:93,column:19},end:{line:93,column:20}},loc:{start:{line:93,column:29},end:{line:97,column:3}},line:93},12:{name:"(anonymous_12)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:11},end:{line:201,column:3}},line:98},13:{name:"(anonymous_13)",decl:{start:{line:100,column:51},end:{line:100,column:52}},loc:{start:{line:100,column:66},end:{line:133,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:113,column:26},end:{line:113,column:27}},loc:{start:{line:113,column:43},end:{line:113,column:87}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:125,column:26},end:{line:125,column:27}},loc:{start:{line:125,column:43},end:{line:125,column:88}},line:125},16:{name:"(anonymous_16)",decl:{start:{line:145,column:26},end:{line:145,column:27}},loc:{start:{line:145,column:39},end:{line:145,column:67}},line:145},17:{name:"(anonymous_17)",decl:{start:{line:162,column:26},end:{line:162,column:27}},loc:{start:{line:162,column:43},end:{line:162,column:68}},line:162},18:{name:"(anonymous_18)",decl:{start:{line:202,column:2},end:{line:202,column:3}},loc:{start:{line:202,column:34},end:{line:208,column:3}},line:202}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:27,column:7}},{start:{line:25,column:13},end:{line:27,column:7}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:41,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:45,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},5:{loc:{start:{line:49,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:53,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},6:{loc:{start:{line:88,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:90,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},7:{loc:{start:{line:94,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},8:{loc:{start:{line:94,column:8},end:{line:94,column:67}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:30}},{start:{line:94,column:34},end:{line:94,column:67}}],line:94},9:{loc:{start:{line:203,column:4},end:{line:207,column:5}},type:"if",locations:[{start:{line:203,column:4},end:{line:207,column:5}},{start:{line:205,column:11},end:{line:207,column:5}}],line:203}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AAgK4B,cACf,YADe;AAhK5B,OAAO,WAAW;AAClB,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B,OAAO,YAAY;AACnB,SAA+B,uBAAuB;AAEtD,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC3F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,MAAM;AAAA,gBACpB,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,cAAc;AAAA,gBAC5B,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK,GAAG,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;AAAA,MAuB5B;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAEnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAEf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,UAAU;AAAA;AAAA;AAAA,UACf;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,uBAAuB;AAAA;AAAA;AAAA,UAC5B;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"69307d1c2ebb16a8d89a3ff2534654d41dc25d82"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return vi=function(){return l},l}vi();function fK(n,e){vi().f[0]++;let t=(vi().s[0]++,{});return vi().s[1]++,vi().b[1][0]++,n.value&&(vi().b[1][1]++,n.value.stops)?(vi().b[0][0]++,vi().s[2]++,n.value.stops.forEach((i,r)=>{vi().f[1]++,vi().s[3]++,Object.prototype.hasOwnProperty.call(!e.refs,r)?(vi().b[2][0]++,vi().s[4]++,t?vi().b[3][1]++:(vi().b[3][0]++,vi().s[5]++,t={...e}),vi().s[6]++,t[r]=Nv("stop-")):(vi().b[2][1]++,vi().s[7]++,t[r]=e.refs[r])})):vi().b[0][1]++,vi().s[8]++,t}class Wce extends ni.Component{static defaultProps=(vi().s[9]++,{errors:{}});state=(vi().s[10]++,{refs:{}});componentDidMount(){vi().f[2]++;const e=(vi().s[11]++,fK(this.props,this.state));vi().s[12]++,e?(vi().b[4][0]++,vi().s[13]++,this.setState({refs:e})):vi().b[4][1]++}static getDerivedStateFromProps(e,t){vi().f[3]++;const i=(vi().s[14]++,fK(e,t));return vi().s[15]++,i?(vi().b[5][0]++,vi().s[16]++,{refs:i}):(vi().b[5][1]++,vi().s[17]++,null)}orderStopsByZoom(e){vi().f[4]++;const t=(vi().s[18]++,e.map((r,a)=>(vi().f[5]++,vi().s[19]++,{ref:this.state.refs[a],data:r})).sort((r,a)=>(vi().f[6]++,vi().s[20]++,JN(r.data[0],a.data[0])))),i=(vi().s[21]++,{});return vi().s[22]++,t.forEach((r,a)=>{vi().f[7]++,vi().s[23]++,i[a]=r.ref}),vi().s[24]++,this.setState({refs:i}),vi().s[25]++,t.map(r=>(vi().f[8]++,vi().s[26]++,r.data))}changeZoomStop(e,t,i){vi().f[9]++;const r=(vi().s[27]++,this.props.value.stops.slice(0));vi().s[28]++,r[e]=[t,i];const a=(vi().s[29]++,this.orderStopsByZoom(r)),l=(vi().s[30]++,{...this.props.value,stops:a});vi().s[31]++,this.props.onChange(this.props.fieldName,l)}changeBase(e){vi().f[10]++;const t=(vi().s[32]++,{...this.props.value,base:e});vi().s[33]++,t.base===void 0?(vi().b[6][0]++,vi().s[34]++,delete t.base):vi().b[6][1]++,vi().s[35]++,this.props.onChange(this.props.fieldName,t)}changeDataType=(vi().s[36]++,e=>{vi().f[11]++,vi().s[37]++,vi().b[8][0]++,e!=="interpolate"&&(vi().b[8][1]++,this.props.onChangeToDataFunction)?(vi().b[7][0]++,vi().s[38]++,this.props.onChangeToDataFunction(e)):vi().b[7][1]++});render(){vi().f[12]++;const e=(vi().s[39]++,this.props.t),t=(vi().s[40]++,this.props.value?.stops.map((i,r)=>{vi().f[13]++;const a=(vi().s[41]++,i[0]),l=(vi().s[42]++,i[1]),o=(vi().s[43]++,Ae.jsx(eG,{onClick:this.props.onDeleteStop?.bind(this,r)}));return vi().s[44]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:Ae.jsx(z0,{"aria-label":e("Zoom"),value:a,onChange:p=>(vi().f[14]++,vi().s[45]++,this.changeZoomStop(r,p,l)),min:0,max:22})}),Ae.jsx("td",{children:Ae.jsx(Sv,{"aria-label":e("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:l,onChange:(p,C)=>(vi().f[15]++,vi().s[46]++,this.changeZoomStop(r,a,C))})}),Ae.jsx("td",{children:o})]},`${i[0]}-${i[1]}`)}));return vi().s[47]++,Ae.jsx("div",{className:"maputnik-data-spec-block",children:Ae.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[Ae.jsx("legend",{children:N2(this.props.fieldName)}),Ae.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[Ae.jsx(Ls,{label:e("Function"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(iy,{value:"interpolate",onChange:i=>(vi().f[16]++,vi().s[48]++,this.changeDataType(i)),title:e("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),Ae.jsx(Ls,{label:e("Base"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(Sv,{fieldName:"base",fieldSpec:$o.function.base,value:this.props.value?.base,onChange:(i,r)=>(vi().f[17]++,vi().s[49]++,this.changeBase(r))})})}),Ae.jsx("div",{className:"maputnik-function-stop",children:Ae.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[Ae.jsx("caption",{children:e("Stops")}),Ae.jsx("thead",{children:Ae.jsxs("tr",{children:[Ae.jsx("th",{children:e("Zoom")}),Ae.jsx("th",{rowSpan:2,children:e("Output value")})]})}),Ae.jsx("tbody",{children:t})]})}),Ae.jsxs("div",{className:"maputnik-toolbox",children:[Ae.jsxs(Fs,{className:"maputnik-add-stop",onClick:this.props.onAddStop?.bind(this),children:[Ae.jsx(j2,{style:{verticalAlign:"text-bottom"}}),e("Add stop")]}),Ae.jsxs(Fs,{className:"maputnik-add-stop",onClick:this.props.onExpressionClick?.bind(this),children:[Ae.jsx(Q_,{style:{verticalAlign:"text-bottom"}}),e("Convert to expression")]})]})]})]})})}getDataFunctionTypes(e){return vi().f[18]++,vi().s[50]++,e["property-type"]==="data-driven"?(vi().b[9][0]++,vi().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(vi().b[9][1]++,vi().s[52]++,["interpolate"])}}const Qce=(vi().s[53]++,es()(Wce));function Rt(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",e="8af312f4150f971fc405b0f70117d18d2c2d94dd",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:62,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:62,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:62,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:62,column:3}},20:{start:{line:49,column:4},end:{line:49,column:19}},21:{start:{line:50,column:9},end:{line:62,column:3}},22:{start:{line:51,column:4},end:{line:51,column:19}},23:{start:{line:52,column:9},end:{line:62,column:3}},24:{start:{line:53,column:4},end:{line:53,column:19}},25:{start:{line:54,column:9},end:{line:62,column:3}},26:{start:{line:55,column:4},end:{line:55,column:19}},27:{start:{line:56,column:9},end:{line:62,column:3}},28:{start:{line:57,column:4},end:{line:57,column:27}},29:{start:{line:58,column:9},end:{line:62,column:3}},30:{start:{line:59,column:4},end:{line:59,column:27}},31:{start:{line:61,column:4},end:{line:61,column:24}},32:{start:{line:64,column:22},end:{line:302,column:1}},33:{start:{line:65,column:34},end:{line:67,column:3}},34:{start:{line:68,column:36},end:{line:68,column:57}},35:{start:{line:69,column:2},end:{line:73,column:48}},36:{start:{line:70,column:4},end:{line:72,column:5}},37:{start:{line:71,column:6},end:{line:71,column:61}},38:{start:{line:74,column:31},end:{line:82,column:3}},39:{start:{line:75,column:4},end:{line:77,column:5}},40:{start:{line:76,column:6},end:{line:76,column:27}},41:{start:{line:78,column:4},end:{line:80,column:5}},42:{start:{line:79,column:6},end:{line:79,column:24}},43:{start:{line:81,column:4},end:{line:81,column:25}},44:{start:{line:83,column:18},end:{line:99,column:3}},45:{start:{line:84,column:18},end:{line:84,column:44}},46:{start:{line:85,column:21},end:{line:85,column:44}},47:{start:{line:86,column:4},end:{line:93,column:5}},48:{start:{line:87,column:6},end:{line:90,column:9}},49:{start:{line:92,column:6},end:{line:92,column:49}},50:{start:{line:94,column:25},end:{line:97,column:5}},51:{start:{line:98,column:4},end:{line:98,column:50}},52:{start:{line:100,column:27},end:{line:104,column:3}},53:{start:{line:101,column:37},end:{line:101,column:42}},54:{start:{line:102,column:4},end:{line:102,column:49}},55:{start:{line:103,column:4},end:{line:103,column:25}},56:{start:{line:105,column:21},end:{line:116,column:3}},57:{start:{line:106,column:18},end:{line:106,column:44}},58:{start:{line:107,column:4},end:{line:107,column:29}},59:{start:{line:108,column:23},end:{line:111,column:5}},60:{start:{line:112,column:4},end:{line:114,column:5}},61:{start:{line:113,column:6},end:{line:113,column:33}},62:{start:{line:115,column:4},end:{line:115,column:50}},63:{start:{line:117,column:27},end:{line:146,column:3}},64:{start:{line:118,column:22},end:{line:118,column:27}},65:{start:{line:120,column:4},end:{line:144,column:5}},66:{start:{line:121,column:6},end:{line:136,column:7}},67:{start:{line:122,column:8},end:{line:127,column:10}},68:{start:{line:125,column:12},end:{line:125,column:83}},69:{start:{line:129,column:8},end:{line:135,column:10}},70:{start:{line:138,column:6},end:{line:143,column:8}},71:{start:{line:145,column:4},end:{line:145,column:46}},72:{start:{line:147,column:25},end:{line:159,column:3}},73:{start:{line:148,column:33},end:{line:148,column:38}},74:{start:{line:149,column:4},end:{line:158,column:5}},75:{start:{line:150,column:6},end:{line:153,column:9}},76:{start:{line:154,column:6},end:{line:154,column:27}},77:{start:{line:155,column:11},end:{line:158,column:5}},78:{start:{line:156,column:6},end:{line:156,column:42}},79:{start:{line:157,column:6},end:{line:157,column:27}},80:{start:{line:160,column:18},end:{line:163,column:3}},81:{start:{line:161,column:33},end:{line:161,column:38}},82:{start:{line:162,column:4},end:{line:162,column:140}},83:{start:{line:164,column:25},end:{line:175,column:3}},84:{start:{line:165,column:33},end:{line:165,column:38}},85:{start:{line:167,column:4},end:{line:173,column:5}},86:{start:{line:168,column:6},end:{line:168,column:67}},87:{start:{line:169,column:11},end:{line:173,column:5}},88:{start:{line:170,column:6},end:{line:170,column:43}},89:{start:{line:172,column:6},end:{line:172,column:65}},90:{start:{line:174,column:4},end:{line:174,column:48}},91:{start:{line:176,column:27},end:{line:214,column:3}},92:{start:{line:177,column:25},end:{line:177,column:62}},93:{start:{line:178,column:22},end:{line:178,column:61}},94:{start:{line:179,column:22},end:{line:179,column:27}},95:{start:{line:181,column:4},end:{line:212,column:5}},96:{start:{line:182,column:6},end:{line:201,column:7}},97:{start:{line:183,column:8},end:{line:190,column:10}},98:{start:{line:188,column:12},end:{line:188,column:106}},99:{start:{line:192,column:8},end:{line:200,column:10}},100:{start:{line:203,column:6},end:{line:211,column:8}},101:{start:{line:213,column:4},end:{line:213,column:46}},102:{start:{line:215,column:32},end:{line:226,column:3}},103:{start:{line:216,column:23},end:{line:224,column:5}},104:{start:{line:225,column:4},end:{line:225,column:48}},105:{start:{line:227,column:24},end:{line:229,column:3}},106:{start:{line:228,column:4},end:{line:228,column:23}},107:{start:{line:230,column:26},end:{line:232,column:3}},108:{start:{line:231,column:4},end:{line:231,column:24}},109:{start:{line:233,column:20},end:{line:233,column:120}},110:{start:{line:235,column:2},end:{line:300,column:3}},111:{start:{line:236,column:4},end:{line:251,column:6}},112:{start:{line:252,column:9},end:{line:300,column:3}},113:{start:{line:253,column:4},end:{line:267,column:6}},114:{start:{line:268,column:9},end:{line:300,column:3}},115:{start:{line:269,column:4},end:{line:283,column:6}},116:{start:{line:285,column:4},end:{line:299,column:6}},117:{start:{line:301,column:2},end:{line:301,column:141}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:63,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:33},end:{line:302,column:1}},line:64},12:{name:"(anonymous_12)",decl:{start:{line:69,column:18},end:{line:69,column:19}},loc:{start:{line:69,column:24},end:{line:73,column:3}},line:69},13:{name:"(anonymous_13)",decl:{start:{line:74,column:31},end:{line:74,column:32}},loc:{start:{line:74,column:46},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:18},end:{line:83,column:19}},loc:{start:{line:83,column:24},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:27},end:{line:100,column:28}},loc:{start:{line:100,column:33},end:{line:104,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:105,column:21},end:{line:105,column:22}},loc:{start:{line:105,column:34},end:{line:116,column:3}},line:105},17:{name:"(anonymous_17)",decl:{start:{line:117,column:27},end:{line:117,column:28}},loc:{start:{line:117,column:33},end:{line:146,column:3}},line:117},18:{name:"(anonymous_18)",decl:{start:{line:124,column:33},end:{line:124,column:34}},loc:{start:{line:124,column:43},end:{line:126,column:11}},line:124},19:{name:"(anonymous_19)",decl:{start:{line:147,column:25},end:{line:147,column:26}},loc:{start:{line:147,column:31},end:{line:159,column:3}},line:147},20:{name:"(anonymous_20)",decl:{start:{line:160,column:18},end:{line:160,column:19}},loc:{start:{line:160,column:24},end:{line:163,column:3}},line:160},21:{name:"(anonymous_21)",decl:{start:{line:164,column:25},end:{line:164,column:26}},loc:{start:{line:164,column:31},end:{line:175,column:3}},line:164},22:{name:"(anonymous_22)",decl:{start:{line:176,column:27},end:{line:176,column:28}},loc:{start:{line:176,column:33},end:{line:214,column:3}},line:176},23:{name:"(anonymous_23)",decl:{start:{line:187,column:33},end:{line:187,column:34}},loc:{start:{line:187,column:43},end:{line:189,column:11}},line:187},24:{name:"(anonymous_24)",decl:{start:{line:215,column:32},end:{line:215,column:33}},loc:{start:{line:215,column:38},end:{line:226,column:3}},line:215},25:{name:"(anonymous_25)",decl:{start:{line:227,column:24},end:{line:227,column:25}},loc:{start:{line:227,column:30},end:{line:229,column:3}},line:227},26:{name:"(anonymous_26)",decl:{start:{line:230,column:26},end:{line:230,column:27}},loc:{start:{line:230,column:32},end:{line:232,column:3}},line:230}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:62,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:62,column:3}},{start:{line:44,column:9},end:{line:62,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:62,column:3}},{start:{line:46,column:9},end:{line:62,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:62,column:3}},{start:{line:48,column:9},end:{line:62,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:62,column:3}},{start:{line:50,column:9},end:{line:62,column:3}}],line:48},15:{loc:{start:{line:48,column:13},end:{line:48,column:75}},type:"binary-expr",locations:[{start:{line:48,column:13},end:{line:48,column:45}},{start:{line:48,column:49},end:{line:48,column:75}}],line:48},16:{loc:{start:{line:50,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:62,column:3}},{start:{line:52,column:9},end:{line:62,column:3}}],line:50},17:{loc:{start:{line:52,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:52,column:9},end:{line:62,column:3}},{start:{line:54,column:9},end:{line:62,column:3}}],line:52},18:{loc:{start:{line:54,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:54,column:9},end:{line:62,column:3}},{start:{line:56,column:9},end:{line:62,column:3}}],line:54},19:{loc:{start:{line:56,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:56,column:9},end:{line:62,column:3}},{start:{line:58,column:9},end:{line:62,column:3}}],line:56},20:{loc:{start:{line:58,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:58,column:9},end:{line:62,column:3}},{start:{line:60,column:9},end:{line:62,column:3}}],line:58},21:{loc:{start:{line:70,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:72,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:70},22:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},23:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},24:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},25:{loc:{start:{line:112,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:112,column:4},end:{line:114,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:112},26:{loc:{start:{line:120,column:4},end:{line:144,column:5}},type:"if",locations:[{start:{line:120,column:4},end:{line:144,column:5}},{start:{line:137,column:11},end:{line:144,column:5}}],line:120},27:{loc:{start:{line:121,column:6},end:{line:136,column:7}},type:"if",locations:[{start:{line:121,column:6},end:{line:136,column:7}},{start:{line:128,column:13},end:{line:136,column:7}}],line:121},28:{loc:{start:{line:125,column:34},end:{line:125,column:81}},type:"binary-expr",locations:[{start:{line:125,column:34},end:{line:125,column:41}},{start:{line:125,column:45},end:{line:125,column:81}}],line:125},29:{loc:{start:{line:140,column:14},end:{line:140,column:59}},type:"binary-expr",locations:[{start:{line:140,column:14},end:{line:140,column:19}},{start:{line:140,column:23},end:{line:140,column:59}}],line:140},30:{loc:{start:{line:141,column:15},end:{line:141,column:60}},type:"binary-expr",locations:[{start:{line:141,column:15},end:{line:141,column:20}},{start:{line:141,column:24},end:{line:141,column:60}}],line:141},31:{loc:{start:{line:149,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:149,column:4},end:{line:158,column:5}},{start:{line:155,column:11},end:{line:158,column:5}}],line:149},32:{loc:{start:{line:155,column:11},end:{line:158,column:5}},type:"if",locations:[{start:{line:155,column:11},end:{line:158,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:155},33:{loc:{start:{line:162,column:11},end:{line:162,column:139}},type:"binary-expr",locations:[{start:{line:162,column:11},end:{line:162,column:33}},{start:{line:162,column:37},end:{line:162,column:63}},{start:{line:162,column:67},end:{line:162,column:85}},{start:{line:162,column:89},end:{line:162,column:109}},{start:{line:162,column:113},end:{line:162,column:139}}],line:162},34:{loc:{start:{line:167,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:167,column:4},end:{line:173,column:5}},{start:{line:169,column:11},end:{line:173,column:5}}],line:167},35:{loc:{start:{line:167,column:8},end:{line:167,column:53}},type:"binary-expr",locations:[{start:{line:167,column:8},end:{line:167,column:33}},{start:{line:167,column:37},end:{line:167,column:53}}],line:167},36:{loc:{start:{line:169,column:11},end:{line:173,column:5}},type:"if",locations:[{start:{line:169,column:11},end:{line:173,column:5}},{start:{line:171,column:11},end:{line:173,column:5}}],line:169},37:{loc:{start:{line:172,column:31},end:{line:172,column:63}},type:"binary-expr",locations:[{start:{line:172,column:31},end:{line:172,column:36}},{start:{line:172,column:40},end:{line:172,column:63}}],line:172},38:{loc:{start:{line:178,column:22},end:{line:178,column:61}},type:"cond-expr",locations:[{start:{line:178,column:55},end:{line:178,column:57}},{start:{line:178,column:60},end:{line:178,column:61}}],line:178},39:{loc:{start:{line:181,column:4},end:{line:212,column:5}},type:"if",locations:[{start:{line:181,column:4},end:{line:212,column:5}},{start:{line:202,column:11},end:{line:212,column:5}}],line:181},40:{loc:{start:{line:182,column:6},end:{line:201,column:7}},type:"if",locations:[{start:{line:182,column:6},end:{line:201,column:7}},{start:{line:191,column:13},end:{line:201,column:7}}],line:182},41:{loc:{start:{line:188,column:57},end:{line:188,column:104}},type:"binary-expr",locations:[{start:{line:188,column:57},end:{line:188,column:64}},{start:{line:188,column:68},end:{line:188,column:104}}],line:188},42:{loc:{start:{line:208,column:42},end:{line:208,column:93}},type:"binary-expr",locations:[{start:{line:208,column:42},end:{line:208,column:53}},{start:{line:208,column:57},end:{line:208,column:93}}],line:208},43:{loc:{start:{line:209,column:43},end:{line:209,column:94}},type:"binary-expr",locations:[{start:{line:209,column:43},end:{line:209,column:54}},{start:{line:209,column:58},end:{line:209,column:94}}],line:209},44:{loc:{start:{line:233,column:20},end:{line:233,column:120}},type:"cond-expr",locations:[{start:{line:233,column:62},end:{line:233,column:89}},{start:{line:233,column:92},end:{line:233,column:120}}],line:233},45:{loc:{start:{line:235,column:2},end:{line:300,column:3}},type:"if",locations:[{start:{line:235,column:2},end:{line:300,column:3}},{start:{line:252,column:9},end:{line:300,column:3}}],line:235},46:{loc:{start:{line:252,column:9},end:{line:300,column:3}},type:"if",locations:[{start:{line:252,column:9},end:{line:300,column:3}},{start:{line:268,column:9},end:{line:300,column:3}}],line:252},47:{loc:{start:{line:268,column:9},end:{line:300,column:3}},type:"if",locations:[{start:{line:268,column:9},end:{line:300,column:3}},{start:{line:284,column:9},end:{line:300,column:3}}],line:268}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0,0,0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAgVM;AAhVN,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAAiC;AACxC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,UAAU,SAAS,iBAAiB,oBAAoB,KAAK,GAAG;AACvE,WAAO;AAAA,EACT,WACS,UAAU,SAAS,cAAc;AACxC,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW;AACrC,WAAO;AAAA,EACT,WACS,UAAU,SAAS,kCAAkC;AAC5D,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAgBA,MAAM,gBAA8C,CAAC,UAAU;AAC7D,QAAM,CAAC,UAAU,WAAW,IAAI,MAAM;AAAA,IACpC,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,EAC1C;AACA,QAAM,CAAC,WAAW,YAAY,IAAI,MAAM,SAAS,KAAK;AAEtD,QAAM,UAAU,MAAM;AACpB,QAAI,CAAC,WAAW;AACd,kBAAY,YAAY,MAAM,OAAO,MAAM,SAAS,CAAC;AAAA,IACvD;AAAA,EACF,GAAG,CAAC,MAAM,OAAO,MAAM,WAAW,SAAS,CAAC;AAE5C,QAAM,uBAAuB,CAAC,cAAmB;AAC/C,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAEA,QAAM,UAAU,MAAM;AACpB,UAAM,QAAQ,MAAM,MAAM,MAAM,MAAM,CAAC;AACvC,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAE,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAM;AAAA,QACvD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OAAO;AACL,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,MAAM;AAAA,MACT;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,YAAY;AAAA,EAC9C;AAEA,QAAM,mBAAmB,MAAM;AAC7B,UAAM,EAAE,WAAW,UAAU,IAAI;AACjC,UAAM,SAAS,WAAW,UAAU,OAAO;AAC3C,gBAAY,OAAO;AAAA,EACrB;AAEA,QAAM,aAAa,CAAC,YAAoB;AACtC,UAAM,QAAQ,MAAM,MAAM,MAAM,MAAM,CAAC;AACvC,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAoB;AAAA,MACtB,GAAG,MAAM;AAAA,MACT;AAAA,IACF;AAEA,QAAI,MAAM,WAAW,GAAG;AACtB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,UAAM,SAAS,MAAM,WAAW,YAAY;AAAA,EAC9C;AAEA,QAAM,mBAAmB,MAAM;AAC7B,UAAM,EAAE,MAAM,IAAI;AAElB,QAAI;AACJ,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACvE,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,MAAM,SAAS,CAAC;AAAA,YACxC,CAAC,IAAI,oBAAoB,MAAM,SAAS,CAAC;AAAA,UAC3C;AAAA,QACF;AAAA,MACF;AAAA,IACF,OAAO;AACL,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACjD,CAAC,IAAI,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,QACpD;AAAA,MACF;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,QAAQ;AAAA,EAC1C;AAEA,QAAM,iBAAiB,MAAM;AAC3B,UAAM,EAAE,OAAO,UAAU,IAAI;AAE7B,QAAI,gBAAgB,KAAK,GAAG;AAC1B,YAAM,SAAS,WAAW;AAAA,QACxB,MAAM;AAAA,QACN,UAAU,MAAM,CAAC;AAAA,MACnB,CAAC;AACD,kBAAY,OAAO;AAAA,IACrB,WAAW,oBAAoB,KAAK,GAAG;AACrC,YAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AAClC,kBAAY,OAAO;AAAA,IACrB;AAAA,EACF;AAEA,QAAM,UAAU,MAAM;AACpB,UAAM,EAAE,OAAO,UAAU,IAAI;AAC7B,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAEA,QAAM,iBAAiB,MAAM;AAC3B,UAAM,EAAE,OAAO,UAAU,IAAI;AAC7B,QAAI;AAEJ,QAAI,OAAO,UAAU,YAAY,WAAW,OAAO;AACjD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WAAW,mBAAmB,KAAK,GAAG;AACpC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OAAO;AACL,mBAAa,CAAC,WAAW,SAAS,MAAM,UAAU,OAAO;AAAA,IAC3D;AACA,UAAM,SAAS,MAAM,WAAW,UAAU;AAAA,EAC5C;AAEA,QAAM,mBAAmB,MAAM;AAC7B,UAAM,eAAe,qBAAqB,MAAM,SAAS;AACzD,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAE,MAAM,IAAI;AAClB,QAAI;AAEJ,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAE,MAAM,KAAK,CAAC,GAAG,OAAO,UAAU,GAAG,KAAK,CAAC,KAAK,oBAAoB,MAAM,SAAS,CAAC;AAAA,UAC9F,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAE,MAAM,GAAG,OAAO,UAAU,GAAG,oBAAoB,MAAM,SAAS,CAAC;AAAA,YACpE,CAAC,EAAE,MAAM,IAAI,OAAO,UAAU,GAAG,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACvE;AAAA,QACF;AAAA,MACF;AAAA,IACF,OAAO;AACL,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAE,MAAM,GAAG,OAAO,UAAU,GAAG,MAAM,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACnF,CAAC,EAAE,MAAM,IAAI,OAAO,UAAU,GAAG,MAAM,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,QACtF;AAAA,MACF;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,QAAQ;AAAA,EAC1C;AAEA,QAAM,wBAAwB,MAAM;AAClC,UAAM,aAAa;AAAA,MACjB;AAAA,MACA,CAAC,QAAQ;AAAA,MACT,CAAC,WAAW;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,UAAU;AAAA,EAC5C;AAEA,QAAM,gBAAgB,MAAM;AAC1B,iBAAa,IAAI;AAAA,EACnB;AAEA,QAAM,kBAAkB,MAAM;AAC5B,iBAAa,KAAK;AAAA,EACpB;AAEA,QAAM,YACJ,MAAM,UAAU,YAAY,MAAM,QAAQ,8BAA8B;AAE1E,MAAI;AAEJ,MAAI,aAAa,cAAc;AAC7B,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,MAAM,MAAM,SAAS;AAAA,QACnD;AAAA,QACA,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,SAAS;AAAA,QACT,QAAQ;AAAA;AAAA,IACV;AAAA,EAEJ,WAAW,aAAa,iBAAiB;AACvC,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,IAAI;AAAA,QAClC,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,cAAc;AAAA,QACd,WAAW;AAAA,QACX,wBAAwB;AAAA,QACxB,mBAAmB;AAAA;AAAA,IACrB;AAAA,EAEJ,WAAW,aAAa,iBAAiB;AACvC,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,IAAI;AAAA,QAClC,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,cAAc;AAAA,QACd,WAAW;AAAA,QACX,wBAAwB;AAAA,QACxB,mBAAmB;AAAA;AAAA,IACrB;AAAA,EAEJ,OAAO;AACL,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,IAAI;AAAA,QAClC,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,aAAa;AAAA,QACb,aAAa;AAAA,QACb,mBAAmB;AAAA,QACnB,kBAAkB;AAAA;AAAA,IACpB;AAAA,EAEJ;AAEA,SACE,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAA0B,MAAM,WACrE,qBACH;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8af312f4150f971fc405b0f70117d18d2c2d94dd"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Rt=function(){return l},l}Rt();function pK(n){return Rt().f[0]++,Rt().s[0]++,Rt().b[0][0]++,Array.isArray(n)&&(Rt().b[0][1]++,n.length===2)&&(Rt().b[0][2]++,n[0]==="literal")}function mK(n){return Rt().f[1]++,Rt().s[1]++,Rt().b[1][0]++,Array.isArray(n)&&(Rt().b[1][1]++,n.length===2)&&(Rt().b[1][2]++,n[0]==="get")}function Yce(n){return Rt().f[2]++,Rt().s[2]++,Rt().b[2][0]++,typeof n=="object"&&(Rt().b[2][1]++,n.stops)&&(Rt().b[2][2]++,typeof n.property>"u")&&(Rt().b[2][3]++,Array.isArray(n.stops))&&(Rt().b[2][4]++,n.stops.length>1)&&(Rt().b[2][5]++,n.stops.every(e=>(Rt().f[3]++,Rt().s[3]++,Rt().b[3][0]++,Array.isArray(e)&&(Rt().b[3][1]++,e.length===2))))}function tG(n){return Rt().f[4]++,Rt().s[4]++,Rt().b[4][0]++,typeof n=="object"&&(Rt().b[4][1]++,n.type==="identity")&&(Rt().b[4][2]++,Object.prototype.hasOwnProperty.call(n,"property"))}function qce(n){return Rt().f[5]++,Rt().s[5]++,Rt().b[5][0]++,typeof n=="object"&&(Rt().b[5][1]++,n.stops)&&(Rt().b[5][2]++,typeof n.property<"u")&&(Rt().b[5][3]++,n.stops.length>1)&&(Rt().b[5][4]++,Array.isArray(n.stops))&&(Rt().b[5][5]++,n.stops.every(e=>(Rt().f[6]++,Rt().s[6]++,Rt().b[6][0]++,Array.isArray(e)&&(Rt().b[6][1]++,e.length===2)&&(Rt().b[6][2]++,typeof e[0]=="object"))))}function Hce(n){return Rt().f[7]++,Rt().s[7]++,Rt().b[7][0]++,tG(n)||(Rt().b[7][1]++,qce(n))}function n7(n){Rt().f[8]++;const e=(Rt().s[8]++,["string","boolean","number"]);return Rt().s[9]++,e.includes(typeof n)}function gK(n){return Rt().f[9]++,Rt().s[10]++,Array.isArray(n)?(Rt().b[8][0]++,Rt().s[11]++,n.every(n7)):(Rt().b[8][1]++,Rt().s[12]++,!1)}function yK(n,e=(Rt().b[9][0]++,{})){return Rt().f[10]++,Rt().s[13]++,n===void 0?(Rt().b[10][0]++,Rt().s[14]++,"value"):(Rt().b[10][1]++,Rt().s[15]++,n7(n)?(Rt().b[11][0]++,Rt().s[16]++,"value"):(Rt().b[11][1]++,Rt().s[17]++,Rt().b[13][0]++,e.type==="array"&&(Rt().b[13][1]++,gK(n))?(Rt().b[12][0]++,Rt().s[18]++,"value"):(Rt().b[12][1]++,Rt().s[19]++,Rt().b[15][0]++,e.type==="numberArray"&&(Rt().b[15][1]++,gK(n))?(Rt().b[14][0]++,Rt().s[20]++,"value"):(Rt().b[14][1]++,Rt().s[21]++,e.type==="colorArray"?(Rt().b[16][0]++,Rt().s[22]++,"value"):(Rt().b[16][1]++,Rt().s[23]++,e.type==="padding"?(Rt().b[17][0]++,Rt().s[24]++,"value"):(Rt().b[17][1]++,Rt().s[25]++,e.type==="variableAnchorOffsetCollection"?(Rt().b[18][0]++,Rt().s[26]++,"value"):(Rt().b[18][1]++,Rt().s[27]++,Yce(n)?(Rt().b[19][0]++,Rt().s[28]++,"zoom_function"):(Rt().b[19][1]++,Rt().s[29]++,Hce(n)?(Rt().b[20][0]++,Rt().s[30]++,"data_function"):(Rt().b[20][1]++,Rt().s[31]++,"expression")))))))))}Rt().s[32]++;const Vce=n=>{Rt().f[11]++;const[e,t]=(Rt().s[33]++,ni.useState(yK(n.value,n.fieldSpec))),[i,r]=(Rt().s[34]++,ni.useState(!1));Rt().s[35]++,ni.useEffect(()=>{Rt().f[12]++,Rt().s[36]++,i?Rt().b[21][1]++:(Rt().b[21][0]++,Rt().s[37]++,t(yK(n.value,n.fieldSpec)))},[n.value,n.fieldSpec,i]),Rt().s[38]++;const a=oe=>(Rt().f[13]++,Rt().s[39]++,oe.expression.interpolated?(Rt().b[22][0]++,Rt().s[40]++,"exponential"):(Rt().b[22][1]++,Rt().s[41]++,oe.type==="number"?(Rt().b[23][0]++,Rt().s[42]++,"interval"):(Rt().b[23][1]++,Rt().s[43]++,"categorical")));Rt().s[44]++;const l=()=>{Rt().f[14]++;const oe=(Rt().s[45]++,n.value.stops.slice(0)),ne=(Rt().s[46]++,oe[oe.length-1]);Rt().s[47]++,typeof ne[0]=="object"?(Rt().b[24][0]++,Rt().s[48]++,oe.push([{zoom:ne[0].zoom+1,value:ne[0].value},ne[1]])):(Rt().b[24][1]++,Rt().s[49]++,oe.push([ne[0]+1,ne[1]]));const $=(Rt().s[50]++,{...n.value,stops:oe});Rt().s[51]++,n.onChange(n.fieldName,$)};Rt().s[52]++;const o=()=>{Rt().f[15]++;const{fieldSpec:oe,fieldName:ne}=(Rt().s[53]++,n);Rt().s[54]++,n.onChange(ne,oe.default),Rt().s[55]++,t("value")};Rt().s[56]++;const p=oe=>{Rt().f[16]++;const ne=(Rt().s[57]++,n.value.stops.slice(0));Rt().s[58]++,ne.splice(oe,1);let $=(Rt().s[59]++,{...n.value,stops:ne});Rt().s[60]++,ne.length===1?(Rt().b[25][0]++,Rt().s[61]++,$=ne[0][1]):Rt().b[25][1]++,Rt().s[62]++,n.onChange(n.fieldName,$)};Rt().s[63]++;const C=()=>{Rt().f[17]++;const{value:oe}=(Rt().s[64]++,n);let ne;Rt().s[65]++,typeof oe=="object"?(Rt().b[26][0]++,Rt().s[66]++,oe.stops?(Rt().b[27][0]++,Rt().s[67]++,ne={base:oe.base,stops:oe.stops.map($=>(Rt().f[18]++,Rt().s[68]++,[$[0].zoom,(Rt().b[28][0]++,$[1]||(Rt().b[28][1]++,hp(n.fieldSpec)))]))}):(Rt().b[27][1]++,Rt().s[69]++,ne={base:oe.base,stops:[[6,hp(n.fieldSpec)],[10,hp(n.fieldSpec)]]})):(Rt().b[26][1]++,Rt().s[70]++,ne={stops:[[6,(Rt().b[29][0]++,oe||(Rt().b[29][1]++,hp(n.fieldSpec)))],[10,(Rt().b[30][0]++,oe||(Rt().b[30][1]++,hp(n.fieldSpec)))]]}),Rt().s[71]++,n.onChange(n.fieldName,ne)};Rt().s[72]++;const M=()=>{Rt().f[19]++;const{value:oe,fieldName:ne}=(Rt().s[73]++,n);Rt().s[74]++,mK(oe)?(Rt().b[31][0]++,Rt().s[75]++,n.onChange(ne,{type:"identity",property:oe[1]}),Rt().s[76]++,t("value")):(Rt().b[31][1]++,Rt().s[77]++,pK(oe)?(Rt().b[32][0]++,Rt().s[78]++,n.onChange(ne,oe[1]),Rt().s[79]++,t("value")):Rt().b[32][1]++)};Rt().s[80]++;const O=()=>{Rt().f[20]++;const{value:oe,fieldSpec:ne}=(Rt().s[81]++,n);return Rt().s[82]++,Rt().b[33][0]++,mK(oe)||(Rt().b[33][1]++,pK(oe))||(Rt().b[33][2]++,n7(oe))||(Rt().b[33][3]++,Array.isArray(oe)&&(Rt().b[33][4]++,ne.type==="array"))};Rt().s[83]++;const U=()=>{Rt().f[21]++;const{value:oe,fieldSpec:ne}=(Rt().s[84]++,n);let $;Rt().s[85]++,Rt().b[35][0]++,typeof oe=="object"&&(Rt().b[35][1]++,"stops"in oe)?(Rt().b[34][0]++,Rt().s[86]++,$=pV.convertFunction(oe,ne)):(Rt().b[34][1]++,Rt().s[87]++,tG(oe)?(Rt().b[36][0]++,Rt().s[88]++,$=["get",oe.property]):(Rt().b[36][1]++,Rt().s[89]++,$=["literal",(Rt().b[37][0]++,oe||(Rt().b[37][1]++,n.fieldSpec.default))])),Rt().s[90]++,n.onChange(n.fieldName,$)};Rt().s[91]++;const K=()=>{Rt().f[22]++;const oe=(Rt().s[92]++,a(n.fieldSpec)),ne=(Rt().s[93]++,oe==="categorical"?(Rt().b[38][0]++,""):(Rt().b[38][1]++,0)),{value:$}=(Rt().s[94]++,n);let ae;Rt().s[95]++,typeof $=="object"?(Rt().b[39][0]++,Rt().s[96]++,$.stops?(Rt().b[40][0]++,Rt().s[97]++,ae={property:"",type:oe,base:$.base,stops:$.stops.map(G=>(Rt().f[23]++,Rt().s[98]++,[{zoom:G[0],value:ne},(Rt().b[41][0]++,G[1]||(Rt().b[41][1]++,hp(n.fieldSpec)))]))}):(Rt().b[40][1]++,Rt().s[99]++,ae={property:"",type:oe,base:$.base,stops:[[{zoom:6,value:ne},hp(n.fieldSpec)],[{zoom:10,value:ne},hp(n.fieldSpec)]]})):(Rt().b[39][1]++,Rt().s[100]++,ae={property:"",type:oe,base:$.base,stops:[[{zoom:6,value:ne},(Rt().b[42][0]++,n.value||(Rt().b[42][1]++,hp(n.fieldSpec)))],[{zoom:10,value:ne},(Rt().b[43][0]++,n.value||(Rt().b[43][1]++,hp(n.fieldSpec)))]]}),Rt().s[101]++,n.onChange(n.fieldName,ae)};Rt().s[102]++;const j=()=>{Rt().f[24]++;const oe=(Rt().s[103]++,["interpolate",["linear"],["elevation"],0,"black",2e3,"white"]);Rt().s[104]++,n.onChange(n.fieldName,oe)};Rt().s[105]++;const W=()=>{Rt().f[25]++,Rt().s[106]++,r(!0)};Rt().s[107]++;const Y=()=>{Rt().f[26]++,Rt().s[108]++,r(!1)},te=(Rt().s[109]++,n.fieldSpec.default===n.value?(Rt().b[44][0]++,"maputnik-default-property"):(Rt().b[44][1]++,"maputnik-modified-property"));let J;return Rt().s[110]++,e==="expression"?(Rt().b[45][0]++,Rt().s[111]++,J=Ae.jsx(mN,{errors:n.errors,onChange:n.onChange.bind(null,n.fieldName),canUndo:O,onUndo:M,onDelete:o,fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onFocus:W,onBlur:Y})):(Rt().b[45][1]++,Rt().s[112]++,e==="zoom_function"?(Rt().b[46][0]++,Rt().s[113]++,J=Ae.jsx(Qce,{errors:n.errors,onChange:n.onChange.bind(null),fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onDeleteStop:p,onAddStop:l,onChangeToDataFunction:K,onExpressionClick:U})):(Rt().b[46][1]++,Rt().s[114]++,e==="data_function"?(Rt().b[47][0]++,Rt().s[115]++,J=Ae.jsx(Gce,{errors:n.errors,onChange:n.onChange.bind(null),fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onDeleteStop:p,onAddStop:l,onChangeToZoomFunction:C,onExpressionClick:U})):(Rt().b[47][1]++,Rt().s[116]++,J=Ae.jsx(zce,{errors:n.errors,onChange:n.onChange.bind(null),fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onZoomClick:C,onDataClick:K,onExpressionClick:U,onElevationClick:j})))),Rt().s[117]++,Ae.jsx("div",{className:te,"data-wd-key":"spec-field-container:"+n.fieldName,children:J})};function Mo(){var n="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",e="fe80e35e875cae71c13eae54df22ccc17091c0d5",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:25,column:49}},11:{start:{line:28,column:21},end:{line:31,column:3}},12:{start:{line:29,column:18},end:{line:29,column:80}},13:{start:{line:30,column:4},end:{line:30,column:51}},14:{start:{line:33,column:23},end:{line:33,column:33}},15:{start:{line:34,column:19},end:{line:52,column:6}},16:{start:{line:35,column:24},end:{line:35,column:87}},17:{start:{line:36,column:20},end:{line:36,column:48}},18:{start:{line:37,column:21},end:{line:37,column:50}},19:{start:{line:38,column:25},end:{line:38,column:82}},20:{start:{line:39,column:24},end:{line:39,column:63}},21:{start:{line:40,column:6},end:{line:51,column:8}},22:{start:{line:53,column:4},end:{line:53,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:26,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:28,column:21},end:{line:28,column:22}},loc:{start:{line:28,column:45},end:{line:31,column:3}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:11},end:{line:54,column:3}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:34,column:46},end:{line:34,column:47}},loc:{start:{line:34,column:61},end:{line:52,column:5}},line:34}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:9},end:{line:25,column:48}},type:"cond-expr",locations:[{start:{line:25,column:30},end:{line:25,column:37}},{start:{line:25,column:40},end:{line:25,column:48}}],line:25},4:{loc:{start:{line:36,column:20},end:{line:36,column:48}},type:"binary-expr",locations:[{start:{line:36,column:20},end:{line:36,column:42}},{start:{line:36,column:46},end:{line:36,column:48}}],line:36},5:{loc:{start:{line:37,column:21},end:{line:37,column:50}},type:"binary-expr",locations:[{start:{line:37,column:21},end:{line:37,column:44}},{start:{line:37,column:48},end:{line:37,column:50}}],line:37},6:{loc:{start:{line:38,column:25},end:{line:38,column:82}},type:"cond-expr",locations:[{start:{line:38,column:46},end:{line:38,column:62}},{start:{line:38,column:65},end:{line:38,column:82}}],line:38},7:{loc:{start:{line:39,column:24},end:{line:39,column:63}},type:"cond-expr",locations:[{start:{line:39,column:45},end:{line:39,column:52}},{start:{line:39,column:55},end:{line:39,column:63}}],line:39}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA2Da;AA3Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAuC;AAC7G,QAAM,QAAQ,KAAK,WAAW,SAAS,KAAK,CAAC;AAC7C,SAAQ,aAAa,QAAS,UAAU;AAC1C;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fe80e35e875cae71c13eae54df22ccc17091c0d5"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Mo=function(){return l},l}Mo();const $ce=(Mo().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function Zce(n,e,t){Mo().f[0]++;const i=(Mo().s[1]++,nG(n,e,t)),r=(Mo().s[2]++,n[i+"_"+e]),a=(Mo().s[3]++,r[t]);return Mo().s[4]++,$ce.indexOf(t)>=0?(Mo().b[0][0]++,Mo().s[5]++,{...a,values:n.$root.sprite.values}):(Mo().b[0][1]++,Mo().s[6]++,t==="text-font"?(Mo().b[1][0]++,Mo().s[7]++,{...a,values:n.$root.glyphs.values}):(Mo().b[1][1]++,Mo().s[8]++,a))}function nG(n,e,t){Mo().f[1]++;const i=(Mo().s[9]++,Mo().b[2][0]++,n["paint_"+e]||(Mo().b[2][1]++,{}));return Mo().s[10]++,t in i?(Mo().b[3][0]++,"paint"):(Mo().b[3][1]++,"layout")}class Xce extends ni.Component{onPropertyChange=(Mo().s[11]++,(e,t)=>{Mo().f[2]++;const i=(Mo().s[12]++,nG(this.props.spec,this.props.layer.type,e));Mo().s[13]++,this.props.onChange(i,e,t)});render(){Mo().f[3]++;const{errors:e}=(Mo().s[14]++,this.props),t=(Mo().s[15]++,this.props.groupFields.map(i=>{Mo().f[4]++;const r=(Mo().s[16]++,Zce(this.props.spec,this.props.layer.type,i)),a=(Mo().s[17]++,Mo().b[4][0]++,this.props.layer.paint||(Mo().b[4][1]++,{})),l=(Mo().s[18]++,Mo().b[5][0]++,this.props.layer.layout||(Mo().b[5][1]++,{})),o=(Mo().s[19]++,i in a?(Mo().b[6][0]++,a[i]):(Mo().b[6][1]++,l[i])),p=(Mo().s[20]++,i in a?(Mo().b[7][0]++,"paint"):(Mo().b[7][1]++,"layout"));return Mo().s[21]++,Ae.jsx(Vce,{errors:e,onChange:this.onPropertyChange,fieldName:i,value:o,fieldType:p,fieldSpec:r},i)}));return Mo().s[22]++,Ae.jsx("div",{className:"maputnik-property-group",children:t})}}function mv(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",e="6c9e07ebeb2e5c7112c0b70e483a0c61cf0ea981",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:12,column:4},end:{line:27,column:9}},1:{start:{line:18,column:27},end:{line:18,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:27},end:{line:18,column:74}},line:18}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA2BQ,SACE,KADF;AA3BR,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAC7C;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,GAAG,cAAc,SAAQ,GAAI,eAAK,MAAM,OAAM;AAAA,YACtE,oBAAC,iBAAc,MAAM,OAAO,WAAU,2FAA0F;AAAA,YAChI,oBAAC,mBAAgB,MAAM,OAAO,WAAU,6FAA4F;AAAA,aACtI;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6c9e07ebeb2e5c7112c0b70e483a0c61cf0ea981"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return mv=function(){return l},l}mv();class Jce extends ni.Component{render(){return mv().f[0]++,mv().s[0]++,Ae.jsxs(uN,{uuid:this.props.id,children:[Ae.jsx(dN,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:e=>(mv().f[1]++,mv().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:Ae.jsxs(ple,{className:"maputnik-layer-editor-group__button",children:[Ae.jsx("span",{style:{flexGrow:1,alignContent:"center"},children:this.props.title}),Ae.jsx(oF,{size:"2em",className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),Ae.jsx(rF,{size:"2em",className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),Ae.jsx(vle,{children:this.props.children})]})}}function j1(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",e="331998a9ac6b18663bcbca1301c32952f465e1af",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:29,column:1}},1:{start:{line:7,column:12},end:{line:7,column:19}},2:{start:{line:8,column:2},end:{line:28,column:4}},3:{start:{line:30,column:21},end:{line:30,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:29},end:{line:6,column:30}},loc:{start:{line:6,column:40},end:{line:29,column:1}},line:6}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAoBM;AAlBN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AAQtD,MAAM,uBAA4D,CAAC,UAAU;AAC3E,QAAM,IAAI,MAAM;AAChB,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAO,EAAE,UAAU;AAAA,MAAG,WAAW,OAAO,MAAM;AAAA,MACnD,OAAO,MAAM;AAAA,MACb,eAAY;AAAA,MAEZ;AAAA,QAAC;AAAA;AAAA,UACC,YAAY;AAAA,UACZ,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,UAC9B,eAAY;AAAA;AAAA,MACd;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"331998a9ac6b18663bcbca1301c32952f465e1af"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return j1=function(){return l},l}j1();j1().s[0]++;const ehe=n=>{j1().f[0]++;const e=(j1().s[1]++,n.t);return j1().s[2]++,Ae.jsx(Ls,{label:e("Min Zoom"),fieldSpec:$o.layer.minzoom,error:n.error,"data-wd-key":"min-zoom",children:Ae.jsx(z0,{allowRange:!0,value:n.value,onChange:n.onChange,min:$o.layer.minzoom.minimum,max:$o.layer.minzoom.maximum,default:$o.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})},the=(j1().s[3]++,es()(ehe));function N1(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",e="030101242d82e9c9c34c00cb0f1ee3a368ba29e3",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:29,column:1}},1:{start:{line:7,column:12},end:{line:7,column:19}},2:{start:{line:8,column:2},end:{line:28,column:4}},3:{start:{line:30,column:21},end:{line:30,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:29},end:{line:6,column:30}},loc:{start:{line:6,column:40},end:{line:29,column:1}},line:6}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAoBM;AAlBN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AAQtD,MAAM,uBAA4D,CAAC,UAAU;AAC3E,QAAM,IAAI,MAAM;AAChB,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAO,EAAE,UAAU;AAAA,MAAG,WAAW,OAAO,MAAM;AAAA,MACnD,OAAO,MAAM;AAAA,MACb,eAAY;AAAA,MAEZ;AAAA,QAAC;AAAA;AAAA,UACC,YAAY;AAAA,UACZ,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,UAC9B,eAAY;AAAA;AAAA,MACd;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"030101242d82e9c9c34c00cb0f1ee3a368ba29e3"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return N1=function(){return l},l}N1();N1().s[0]++;const nhe=n=>{N1().f[0]++;const e=(N1().s[1]++,n.t);return N1().s[2]++,Ae.jsx(Ls,{label:e("Max Zoom"),fieldSpec:$o.layer.maxzoom,error:n.error,"data-wd-key":"max-zoom",children:Ae.jsx(z0,{allowRange:!0,value:n.value,onChange:n.onChange,min:$o.layer.maxzoom.minimum,max:$o.layer.maxzoom.maximum,default:$o.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})},ihe=(N1().s[3]++,es()(nhe));function kg(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",e="bbd273b6557a5df907fed987aa83b7e8030607a2",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:5,column:29},end:{line:31,column:1}},1:{start:{line:6,column:12},end:{line:6,column:19}},2:{start:{line:7,column:20},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:30,column:4}},4:{start:{line:32,column:21},end:{line:32,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:40},end:{line:31,column:1}},line:5}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AA2BM;AAzBN,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AAQtD,MAAM,uBAA4D,CAAC,UAAU;AAC3E,QAAM,IAAI,MAAM;AAChB,QAAM,YAAY;AAAA,IAChB,KAAK;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,UAAU;AAAA,MACnB;AAAA,MACA,eAAY;AAAA,MACZ,OAAO,MAAM;AAAA,MAEb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,SAAS,EAAE,YAAY;AAAA,UACvB,eAAY;AAAA;AAAA,MACd;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bbd273b6557a5df907fed987aa83b7e8030607a2"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return kg=function(){return l},l}kg();kg().s[0]++;const rhe=n=>{kg().f[0]++;const e=(kg().s[1]++,n.t),t=(kg().s[2]++,{doc:e("Comments for the current layer. This is non-standard and not in the spec.")});return kg().s[3]++,Ae.jsx(Ls,{label:e("Comments"),fieldSpec:t,"data-wd-key":"layer-comment",error:n.error,children:Ae.jsx(sm,{multi:!0,value:n.value,onChange:n.onChange,default:e("Comment..."),"data-wd-key":"layer-comment.input"})})},ohe=(kg().s[4]++,es()(rhe));function gv(){var n="/home/runner/work/maputnik/maputnik/src/libs/format.ts",e="c45fbfac66e994b59070a295e5a7f219cd5d66ac",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return gv=function(){return l},l}gv();function iG(n){return gv().f[0]++,gv().s[0]++,n===""?(gv().b[0][0]++,"[empty_string]"):(gv().b[0][1]++,`'${n}'`)}function mn(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",e="b18e7132cbe74e9874e1799489adb7288f110d90",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:24,column:17},end:{line:24,column:19}},1:{start:{line:25,column:2},end:{line:30,column:5}},2:{start:{line:29,column:59},end:{line:29,column:82}},3:{start:{line:31,column:2},end:{line:36,column:5}},4:{start:{line:35,column:59},end:{line:35,column:80}},5:{start:{line:37,column:2},end:{line:42,column:5}},6:{start:{line:41,column:59},end:{line:41,column:80}},7:{start:{line:43,column:2},end:{line:48,column:5}},8:{start:{line:47,column:58},end:{line:47,column:79}},9:{start:{line:49,column:2},end:{line:54,column:5}},10:{start:{line:53,column:58},end:{line:53,column:79}},11:{start:{line:55,column:2},end:{line:55,column:16}},12:{start:{line:58,column:2},end:{line:60,column:3}},13:{start:{line:59,column:4},end:{line:59,column:14}},14:{start:{line:61,column:2},end:{line:63,column:3}},15:{start:{line:62,column:4},end:{line:62,column:37}},16:{start:{line:64,column:17},end:{line:64,column:19}},17:{start:{line:65,column:2},end:{line:72,column:3}},18:{start:{line:66,column:4},end:{line:71,column:7}},19:{start:{line:73,column:2},end:{line:80,column:3}},20:{start:{line:74,column:4},end:{line:79,column:7}},21:{start:{line:81,column:2},end:{line:81,column:16}},22:{start:{line:84,column:21},end:{line:88,column:3}},23:{start:{line:89,column:22},end:{line:93,column:3}},24:{start:{line:94,column:22},end:{line:98,column:3}},25:{start:{line:99,column:2},end:{line:99,column:96}},26:{start:{line:102,column:24},end:{line:109,column:3}},27:{start:{line:111,column:4},end:{line:111,column:17}},28:{start:{line:112,column:25},end:{line:112,column:27}},29:{start:{line:113,column:4},end:{line:115,column:5}},30:{start:{line:114,column:6},end:{line:114,column:39}},31:{start:{line:116,column:4},end:{line:116,column:34}},32:{start:{line:119,column:29},end:{line:119,column:54}},33:{start:{line:120,column:4},end:{line:124,column:5}},34:{start:{line:121,column:6},end:{line:123,column:7}},35:{start:{line:122,column:8},end:{line:122,column:45}},36:{start:{line:125,column:4},end:{line:127,column:6}},37:{start:{line:130,column:4},end:{line:133,column:6}},38:{start:{line:136,column:32},end:{line:139,column:5}},39:{start:{line:140,column:4},end:{line:142,column:7}},40:{start:{line:145,column:18},end:{line:145,column:20}},41:{start:{line:146,column:4},end:{line:148,column:5}},42:{start:{line:147,column:6},end:{line:147,column:62}},43:{start:{line:149,column:35},end:{line:149,column:45}},44:{start:{line:150,column:22},end:{line:150,column:24}},45:{start:{line:151,column:4},end:{line:157,column:7}},46:{start:{line:152,column:6},end:{line:156,column:7}},47:{start:{line:153,column:8},end:{line:155,column:10}},48:{start:{line:159,column:18},end:{line:159,column:34}},49:{start:{line:160,column:4},end:{line:162,column:5}},50:{start:{line:161,column:6},end:{line:161,column:63}},51:{start:{line:163,column:4},end:{line:266,column:5}},52:{start:{line:165,column:8},end:{line:229,column:13}},53:{start:{line:172,column:35},end:{line:172,column:112}},54:{start:{line:181,column:37},end:{line:184,column:15}},55:{start:{line:193,column:31},end:{line:193,column:69}},56:{start:{line:202,column:31},end:{line:202,column:75}},57:{start:{line:210,column:31},end:{line:210,column:70}},58:{start:{line:218,column:31},end:{line:218,column:70}},59:{start:{line:226,column:31},end:{line:226,column:104}},60:{start:{line:231,column:8},end:{line:239,column:16}},61:{start:{line:237,column:29},end:{line:237,column:67}},62:{start:{line:241,column:8},end:{line:250,column:10}},63:{start:{line:252,column:8},end:{line:263,column:10}},64:{start:{line:257,column:14},end:{line:260,column:16}},65:{start:{line:265,column:8},end:{line:265,column:49}},66:{start:{line:269,column:4},end:{line:272,column:7}},67:{start:{line:275,column:14},end:{line:275,column:26}},68:{start:{line:276,column:21},end:{line:276,column:23}},69:{start:{line:277,column:22},end:{line:277,column:43}},70:{start:{line:278,column:19},end:{line:295,column:6}},71:{start:{line:279,column:6},end:{line:279,column:70}},72:{start:{line:281,column:22},end:{line:281,column:30}},73:{start:{line:282,column:6},end:{line:282,column:29}},74:{start:{line:283,column:6},end:{line:294,column:8}},75:{start:{line:296,column:19},end:{line:296,column:48}},76:{start:{line:297,column:18},end:{line:325,column:5}},77:{start:{line:300,column:23},end:{line:300,column:71}},78:{start:{line:305,column:23},end:{line:305,column:68}},79:{start:{line:310,column:23},end:{line:310,column:80}},80:{start:{line:316,column:23},end:{line:316,column:41}},81:{start:{line:322,column:23},end:{line:322,column:40}},82:{start:{line:327,column:6},end:{line:327,column:30}},83:{start:{line:328,column:6},end:{line:328,column:26}},84:{start:{line:330,column:4},end:{line:376,column:9}},85:{start:{line:358,column:33},end:{line:358,column:42}},86:{start:{line:359,column:20},end:{line:359,column:201}},87:{start:{line:379,column:20},end:{line:379,column:58}}},fnMap:{0:{name:"getLayoutForSymbolType",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:35},end:{line:56,column:1}},line:23},1:{name:"(anonymous_1)",decl:{start:{line:29,column:52},end:{line:29,column:53}},loc:{start:{line:29,column:59},end:{line:29,column:82}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:35,column:52},end:{line:35,column:53}},loc:{start:{line:35,column:59},end:{line:35,column:80}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:41,column:52},end:{line:41,column:53}},loc:{start:{line:41,column:59},end:{line:41,column:80}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:47,column:51},end:{line:47,column:52}},loc:{start:{line:47,column:58},end:{line:47,column:79}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:53,column:51},end:{line:53,column:52}},loc:{start:{line:53,column:58},end:{line:53,column:79}},line:53},6:{name:"getLayoutForType",decl:{start:{line:57,column:9},end:{line:57,column:25}},loc:{start:{line:57,column:35},end:{line:82,column:1}},line:57},7:{name:"layoutGroups",decl:{start:{line:83,column:9},end:{line:83,column:21}},loc:{start:{line:83,column:36},end:{line:100,column:1}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:103,column:20},end:{line:103,column:21}},loc:{start:{line:103,column:26},end:{line:104,column:5}},line:103},9:{name:"(anonymous_9)",decl:{start:{line:105,column:21},end:{line:105,column:22}},loc:{start:{line:105,column:27},end:{line:106,column:5}},line:105},10:{name:"(anonymous_10)",decl:{start:{line:107,column:22},end:{line:107,column:23}},loc:{start:{line:107,column:28},end:{line:108,column:5}},line:107},11:{name:"(anonymous_11)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:21},end:{line:117,column:3}},line:110},12:{name:"(anonymous_12)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:48},end:{line:128,column:3}},line:118},13:{name:"(anonymous_13)",decl:{start:{line:129,column:2},end:{line:129,column:3}},loc:{start:{line:129,column:44},end:{line:134,column:3}},line:129},14:{name:"(anonymous_14)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:36},end:{line:143,column:3}},line:135},15:{name:"(anonymous_15)",decl:{start:{line:144,column:2},end:{line:144,column:3}},loc:{start:{line:144,column:32},end:{line:267,column:3}},line:144},16:{name:"(anonymous_16)",decl:{start:{line:151,column:19},end:{line:151,column:20}},loc:{start:{line:151,column:30},end:{line:157,column:5}},line:151},17:{name:"(anonymous_17)",decl:{start:{line:172,column:24},end:{line:172,column:25}},loc:{start:{line:172,column:35},end:{line:172,column:112}},line:172},18:{name:"(anonymous_18)",decl:{start:{line:181,column:24},end:{line:181,column:25}},loc:{start:{line:181,column:37},end:{line:184,column:15}},line:181},19:{name:"(anonymous_19)",decl:{start:{line:193,column:24},end:{line:193,column:25}},loc:{start:{line:193,column:31},end:{line:193,column:69}},line:193},20:{name:"(anonymous_20)",decl:{start:{line:202,column:24},end:{line:202,column:25}},loc:{start:{line:202,column:31},end:{line:202,column:75}},line:202},21:{name:"(anonymous_21)",decl:{start:{line:210,column:24},end:{line:210,column:25}},loc:{start:{line:210,column:31},end:{line:210,column:70}},line:210},22:{name:"(anonymous_22)",decl:{start:{line:218,column:24},end:{line:218,column:25}},loc:{start:{line:218,column:31},end:{line:218,column:70}},line:218},23:{name:"(anonymous_23)",decl:{start:{line:226,column:24},end:{line:226,column:25}},loc:{start:{line:226,column:31},end:{line:226,column:104}},line:226},24:{name:"(anonymous_24)",decl:{start:{line:237,column:22},end:{line:237,column:23}},loc:{start:{line:237,column:29},end:{line:237,column:67}},line:237},25:{name:"(anonymous_25)",decl:{start:{line:256,column:22},end:{line:256,column:23}},loc:{start:{line:256,column:34},end:{line:261,column:13}},line:256},26:{name:"(anonymous_26)",decl:{start:{line:268,column:2},end:{line:268,column:3}},loc:{start:{line:268,column:20},end:{line:273,column:3}},line:268},27:{name:"(anonymous_27)",decl:{start:{line:274,column:2},end:{line:274,column:3}},loc:{start:{line:274,column:11},end:{line:377,column:3}},line:274},28:{name:"(anonymous_28)",decl:{start:{line:278,column:53},end:{line:278,column:54}},loc:{start:{line:278,column:64},end:{line:280,column:5}},line:278},29:{name:"(anonymous_29)",decl:{start:{line:280,column:11},end:{line:280,column:12}},loc:{start:{line:280,column:22},end:{line:295,column:5}},line:280},30:{name:"(anonymous_30)",decl:{start:{line:300,column:17},end:{line:300,column:18}},loc:{start:{line:300,column:23},end:{line:300,column:71}},line:300},31:{name:"(anonymous_31)",decl:{start:{line:305,column:17},end:{line:305,column:18}},loc:{start:{line:305,column:23},end:{line:305,column:68}},line:305},32:{name:"(anonymous_32)",decl:{start:{line:310,column:17},end:{line:310,column:18}},loc:{start:{line:310,column:23},end:{line:310,column:80}},line:310},33:{name:"(anonymous_33)",decl:{start:{line:316,column:17},end:{line:316,column:18}},loc:{start:{line:316,column:23},end:{line:316,column:41}},line:316},34:{name:"(anonymous_34)",decl:{start:{line:322,column:17},end:{line:322,column:18}},loc:{start:{line:322,column:23},end:{line:322,column:40}},line:322},35:{name:"handleSelection",decl:{start:{line:326,column:13},end:{line:326,column:28}},loc:{start:{line:326,column:40},end:{line:329,column:5}},line:326},36:{name:"(anonymous_36)",decl:{start:{line:357,column:147},end:{line:357,column:148}},loc:{start:{line:357,column:155},end:{line:360,column:19}},line:357}},branchMap:{0:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},1:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},2:{loc:{start:{line:65,column:2},end:{line:72,column:3}},type:"if",locations:[{start:{line:65,column:2},end:{line:72,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},3:{loc:{start:{line:73,column:2},end:{line:80,column:3}},type:"if",locations:[{start:{line:73,column:2},end:{line:80,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:73},4:{loc:{start:{line:121,column:6},end:{line:123,column:7}},type:"if",locations:[{start:{line:121,column:6},end:{line:123,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:121},5:{loc:{start:{line:146,column:4},end:{line:148,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:148,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},6:{loc:{start:{line:152,column:6},end:{line:156,column:7}},type:"if",locations:[{start:{line:152,column:6},end:{line:156,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152},7:{loc:{start:{line:152,column:10},end:{line:152,column:96}},type:"binary-expr",locations:[{start:{line:152,column:10},end:{line:152,column:22}},{start:{line:152,column:26},end:{line:152,column:55}},{start:{line:152,column:59},end:{line:152,column:96}}],line:152},8:{loc:{start:{line:160,column:4},end:{line:162,column:5}},type:"if",locations:[{start:{line:160,column:4},end:{line:162,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},9:{loc:{start:{line:163,column:4},end:{line:266,column:5}},type:"switch",locations:[{start:{line:164,column:6},end:{line:229,column:13}},{start:{line:230,column:6},end:{line:239,column:16}},{start:{line:240,column:6},end:{line:250,column:10}},{start:{line:251,column:6},end:{line:263,column:10}},{start:{line:264,column:6},end:{line:265,column:49}}],line:163},10:{loc:{start:{line:187,column:10},end:{line:195,column:11}},type:"binary-expr",locations:[{start:{line:187,column:10},end:{line:187,column:48}},{start:{line:187,column:68},end:{line:195,column:11}}],line:187},11:{loc:{start:{line:196,column:10},end:{line:204,column:11}},type:"binary-expr",locations:[{start:{line:196,column:10},end:{line:196,column:60}},{start:{line:196,column:80},end:{line:204,column:11}}],line:196},12:{loc:{start:{line:226,column:83},end:{line:226,column:103}},type:"cond-expr",locations:[{start:{line:226,column:93},end:{line:226,column:99}},{start:{line:226,column:102},end:{line:226,column:103}}],line:226},13:{loc:{start:{line:279,column:15},end:{line:279,column:68}},type:"binary-expr",locations:[{start:{line:279,column:15},end:{line:279,column:41}},{start:{line:279,column:45},end:{line:279,column:68}}],line:279},14:{loc:{start:{line:296,column:19},end:{line:296,column:48}},type:"binary-expr",locations:[{start:{line:296,column:19},end:{line:296,column:42}},{start:{line:296,column:46},end:{line:296,column:48}}],line:296},15:{loc:{start:{line:309,column:14},end:{line:309,column:66}},type:"cond-expr",locations:[{start:{line:309,column:45},end:{line:309,column:54}},{start:{line:309,column:57},end:{line:309,column:66}}],line:309}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0,0,0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer"],mappings:"AAuN2B,SA2EL,UA1Ed,KADmB;AAvN3B,OAAO,WAAuB;AAC9B,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AACzB,SAAS,mBAAmB;AAE5B,SAAQ,UAAS;AAEjB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,SAAQ,qBAAoB;AAC5B,SAA+B,uBAAuB;AAEtD,SAAS,yBAAyB;AAUlC,SAAS,uBAAuB,GAAqC;AACnE,QAAM,SAAgC,CAAC;AACvC,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,2BAA2B;AAAA,IACpC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,eAAe,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,SAAS,CAAC;AAAA,EAC9E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,wBAAwB;AAAA,IACjC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,eAAe,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC5E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,wBAAwB;AAAA,IACjC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,eAAe,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC5E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,uBAAuB;AAAA,IAChC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,cAAc,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC3E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,uBAAuB;AAAA,IAChC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,cAAc,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC3E,CAAC;AACD,SAAO;AACT;AAEA,SAAS,iBAAiB,MAAkC,GAAqC;AAC/F,MAAI,OAAO,KAAK,GAAG,MAAM,KAAK,MAAM,EAAE,QAAQ,IAAI,IAAI,GAAG;AACvD,WAAO,CAAC;AAAA,EACV;AACA,MAAI,SAAS,UAAU;AACrB,WAAO,uBAAuB,CAAC;AAAA,EACjC;AACA,QAAM,SAAgC,CAAC;AACvC,MAAI,OAAO,KAAK,GAAG,WAAW,IAAI,CAAC,EAAE,SAAS,GAAG;AAC/C,WAAO,KAAK;AAAA,MACV,OAAO,EAAE,kBAAkB;AAAA,MAC3B,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,QAAQ,OAAO,KAAK,GAAG,WAAW,IAAI,CAAC;AAAA,IACzC,CAAC;AAAA,EACH;AACA,MAAI,OAAO,KAAK,GAAG,YAAY,IAAI,CAAC,EAAE,SAAS,GAAG;AAChD,WAAO,KAAK;AAAA,MACV,OAAO,EAAE,mBAAmB;AAAA,MAC5B,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,QAAQ,OAAO,KAAK,GAAG,YAAY,IAAI,CAAC;AAAA,IAC1C,CAAC;AAAA,EACH;AACA,SAAO;AACT;AAEA,SAAS,aAAa,WAAuC,GAA8E;AACzI,QAAM,aAAa;AAAA,IACjB,IAAI;AAAA,IACJ,OAAO,EAAE,OAAO;AAAA,IAChB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,QAAQ;AAAA,IACjB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,aAAa;AAAA,IACtB,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,WAAW,CAAC,CAAC,EACrC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,MAAM,4BAA4B,MAAM,UAAsD;AAAA,EAC5F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAiC;AAC3C,UAAM,KAAK;AAEX,UAAM,eAAyC,CAAC;AAChD,eAAW,SAAS,aAAa,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC,GAAG;AAChE,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B;AAEA,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAA2C,OAAyB;AAClG,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,eAAW,SAAS,iBAAiB,MAAM,MAAM,MAAM,MAAM,CAAC,GAAG;AAC/D,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF;AAEA,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAGA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAiB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAE;AAAA,IACpD;AAEA,YAAO,MAAM;AAAA,MACX,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,kBAAkB,SAAS,KAAK,MAAM,MAAM,IAAI,KAClD;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,WAAW,CAAC,EAAE,OAAO,WAAS;AACxD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM;AACtB,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAKD;AAAA,MACH,QAAQ;AAAA,QACN,MAAM,EAAE,QAAQ;AAAA,QAChB,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,QAC9D,OAAO;AAAA,MACT;AAAA,MACA,WAAW;AAAA,QACT,MAAM,EAAE,WAAW;AAAA,QACnB,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,QAC3D,OAAO;AAAA,MACT;AAAA,MACA,MAAM;AAAA,QACJ,MAAO,OAAO,eAAe,SAAU,EAAE,MAAM,IAAI,EAAE,MAAM;AAAA,QAC3D,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,QACvE,OAAO;AAAA,MACT;AAAA,MACA,aAAa;AAAA,QACX,MAAM,EAAE,eAAe;AAAA,QACvB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,QAChC,OAAO;AAAA,MACT;AAAA,MACA,eAAe;AAAA,QACb,MAAM,EAAE,iBAAiB;AAAA,QACzB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,QAChC,OAAO;AAAA,MACT;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO,oBAAC,YAAY,UAAZ,EAAqB,OAAO,EAAC,MAAM,QAAQ,OAAO,UAAS,GACjE;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACjB,MAAK;AAAA,QACL,cAAY,EAAE,cAAc;AAAA,QAC5B,eAAY;AAAA,QAEZ;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,gCAAC,QAAG,WAAU,uBACX,YAAE,sBAAsB,EAAE,SAAS,cAAc,KAAK,MAAM,MAAM,EAAE,EAAE,CAAC,GAC1E;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA;AAAA,oBAAC;AAAA;AAAA,sBACC,IAAG;AAAA,sBACH,eAAY;AAAA,sBACZ,WAAU;AAAA,sBACV,OAAO;AAAA,sBACP,8BAAC,cAAW,WAAU,0BAAyB;AAAA;AAAA,kBACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAAwB,eAAa,KAAK,OACtE,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b18e7132cbe74e9874e1799489adb7288f110d90"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return mn=function(){return l},l}mn();function ahe(n){mn().f[0]++;const e=(mn().s[0]++,[]);return mn().s[1]++,e.push({title:n("General layout properties"),id:"General_layout_properties",type:"properties",fields:Object.keys(wf.layout_symbol).filter(t=>(mn().f[1]++,mn().s[2]++,t.startsWith("symbol-")))}),mn().s[3]++,e.push({title:n("Text layout properties"),id:"Text_layout_properties",type:"properties",fields:Object.keys(wf.layout_symbol).filter(t=>(mn().f[2]++,mn().s[4]++,t.startsWith("text-")))}),mn().s[5]++,e.push({title:n("Icon layout properties"),id:"Icon_layout_properties",type:"properties",fields:Object.keys(wf.layout_symbol).filter(t=>(mn().f[3]++,mn().s[6]++,t.startsWith("icon-")))}),mn().s[7]++,e.push({title:n("Text paint properties"),id:"Text_paint_properties",type:"properties",fields:Object.keys(wf.paint_symbol).filter(t=>(mn().f[4]++,mn().s[8]++,t.startsWith("text-")))}),mn().s[9]++,e.push({title:n("Icon paint properties"),id:"Icon_paint_properties",type:"properties",fields:Object.keys(wf.paint_symbol).filter(t=>(mn().f[5]++,mn().s[10]++,t.startsWith("icon-")))}),mn().s[11]++,e}function rG(n,e){if(mn().f[6]++,mn().s[12]++,Object.keys(wf.layer.type.values).indexOf(n)<0)return mn().b[0][0]++,mn().s[13]++,[];if(mn().b[0][1]++,mn().s[14]++,n==="symbol")return mn().b[1][0]++,mn().s[15]++,ahe(e);mn().b[1][1]++;const t=(mn().s[16]++,[]);return mn().s[17]++,Object.keys(wf["paint_"+n]).length>0?(mn().b[2][0]++,mn().s[18]++,t.push({title:e("Paint properties"),id:"Paint_properties",type:"properties",fields:Object.keys(wf["paint_"+n])})):mn().b[2][1]++,mn().s[19]++,Object.keys(wf["layout_"+n]).length>0?(mn().b[3][0]++,mn().s[20]++,t.push({title:e("Layout properties"),id:"Layout_properties",type:"properties",fields:Object.keys(wf["layout_"+n])})):mn().b[3][1]++,mn().s[21]++,t}function vK(n,e){mn().f[7]++;const t=(mn().s[22]++,{id:"layer",title:e("Layer"),type:"layer"}),i=(mn().s[23]++,{id:"filter",title:e("Filter"),type:"filter"}),r=(mn().s[24]++,{id:"jsoneditor",title:e("JSON Editor"),type:"jsoneditor"});return mn().s[25]++,[t,i].concat(rG(n,e)).concat([r])}class she extends ni.Component{static defaultProps=(mn().s[26]++,{onLayerChanged:()=>{mn().f[8]++},onLayerIdChange:()=>{mn().f[9]++},onLayerDestroyed:()=>{mn().f[10]++}});constructor(e){mn().f[11]++,mn().s[27]++,super(e);const t=(mn().s[28]++,{});mn().s[29]++;for(const i of vK(this.props.layer.type,e.t))mn().s[30]++,t[i.title]=!0;mn().s[31]++,this.state={editorGroups:t}}static getDerivedStateFromProps(e,t){mn().f[12]++;const i=(mn().s[32]++,{...t.editorGroups});mn().s[33]++;for(const r of rG(e.layer.type,e.t))mn().s[34]++,r.title in i?mn().b[4][1]++:(mn().b[4][0]++,mn().s[35]++,i[r.title]=!0);return mn().s[36]++,{editorGroups:i}}changeProperty(e,t,i){mn().f[13]++,mn().s[37]++,this.props.onLayerChanged(this.props.layerIndex,Ise(this.props.layer,e,t,i))}onGroupToggle(e,t){mn().f[14]++;const i=(mn().s[38]++,{...this.state.editorGroups,[e]:t});mn().s[39]++,this.setState({editorGroups:i})}renderGroupType(e,t){mn().f[15]++;let i=(mn().s[40]++,"");mn().s[41]++,this.props.layer.metadata?(mn().b[5][0]++,mn().s[42]++,i=this.props.layer.metadata["maputnik:comment"]):mn().b[5][1]++;const{errors:r,layerIndex:a}=(mn().s[43]++,this.props),l=(mn().s[44]++,{});mn().s[45]++,r.forEach(C=>{mn().f[16]++,mn().s[46]++,mn().b[7][0]++,C.parsed&&(mn().b[7][1]++,C.parsed.type==="layer")&&(mn().b[7][2]++,C.parsed.data.index==a)?(mn().b[6][0]++,mn().s[47]++,l[C.parsed.data.key]={message:C.parsed.data.message}):mn().b[6][1]++});let o;const p=(mn().s[48]++,this.props.layer);switch(mn().s[49]++,Object.prototype.hasOwnProperty.call(this.props.sources,p.source)?(mn().b[8][0]++,mn().s[50]++,o=this.props.sources[p.source].layers):mn().b[8][1]++,mn().s[51]++,e){case"layer":return mn().b[9][0]++,mn().s[52]++,Ae.jsxs("div",{children:[Ae.jsx(Uj,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:l.id,onChange:C=>(mn().f[17]++,mn().s[53]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,C))}),Ae.jsx(Kj,{disabled:!0,error:l.type,value:this.props.layer.type,onChange:C=>(mn().f[18]++,mn().s[54]++,this.props.onLayerChanged(this.props.layerIndex,Ose(this.props.layer,C)))}),(mn().b[10][0]++,this.props.layer.type!=="background"&&(mn().b[10][1]++,Ae.jsx(tN,{error:l.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:C=>(mn().f[19]++,mn().s[55]++,this.changeProperty(null,"source",C))}))),(mn().b[11][0]++,!_B.includes(this.props.layer.type)&&(mn().b[11][1]++,Ae.jsx(nN,{error:l["source-layer"],sourceLayerIds:o,value:this.props.layer["source-layer"],onChange:C=>(mn().f[20]++,mn().s[56]++,this.changeProperty(null,"source-layer",C))}))),Ae.jsx(the,{error:l.minzoom,value:this.props.layer.minzoom,onChange:C=>(mn().f[21]++,mn().s[57]++,this.changeProperty(null,"minzoom",C))}),Ae.jsx(ihe,{error:l.maxzoom,value:this.props.layer.maxzoom,onChange:C=>(mn().f[22]++,mn().s[58]++,this.changeProperty(null,"maxzoom",C))}),Ae.jsx(ohe,{error:l.comment,value:i,onChange:C=>(mn().f[23]++,mn().s[59]++,this.changeProperty("metadata","maputnik:comment",C==""?(mn().b[12][0]++,void 0):(mn().b[12][1]++,C)))})]});case"filter":return mn().b[9][1]++,mn().s[60]++,Ae.jsx("div",{children:Ae.jsx("div",{className:"maputnik-filter-editor-wrapper",children:Ae.jsx($le,{errors:l,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:C=>(mn().f[24]++,mn().s[61]++,this.changeProperty(null,"filter",C))})})});case"properties":return mn().b[9][2]++,mn().s[62]++,Ae.jsx(Xce,{errors:l,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return mn().b[9][3]++,mn().s[63]++,Ae.jsx(D8,{layer:this.props.layer,onChange:C=>{mn().f[25]++,mn().s[64]++,this.props.onLayerChanged(this.props.layerIndex,C)}});default:return mn().b[9][4]++,mn().s[65]++,Ae.jsx(Ae.Fragment,{})}}moveLayer(e){mn().f[26]++,mn().s[66]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+e})}render(){mn().f[27]++;const e=(mn().s[67]++,this.props.t),t=(mn().s[68]++,[]),i=(mn().s[69]++,this.props.layer.type),r=(mn().s[70]++,vK(i,e).filter(p=>(mn().f[28]++,mn().s[71]++,mn().b[13][0]++,!(i==="background"&&(mn().b[13][1]++,p.type==="source")))).map(p=>{mn().f[29]++;const C=(mn().s[72]++,p.id);return mn().s[73]++,t.push(C),mn().s[74]++,Ae.jsx(Jce,{"data-wd-key":p.title,id:C,title:p.title,isActive:this.state.editorGroups[p.title],onActiveToggle:this.onGroupToggle.bind(this,p.title),children:this.renderGroupType(p.type,p.fields)},C)})),a=(mn().s[75]++,mn().b[14][0]++,this.props.layer.layout||(mn().b[14][1]++,{})),l=(mn().s[76]++,{delete:{text:e("Delete"),handler:()=>(mn().f[30]++,mn().s[77]++,this.props.onLayerDestroy(this.props.layerIndex)),wdKey:"menu-delete-layer"},duplicate:{text:e("Duplicate"),handler:()=>(mn().f[31]++,mn().s[78]++,this.props.onLayerCopy(this.props.layerIndex)),wdKey:"menu-duplicate-layer"},hide:{text:a.visibility==="none"?(mn().b[15][0]++,e("Show")):(mn().b[15][1]++,e("Hide")),handler:()=>(mn().f[32]++,mn().s[79]++,this.props.onLayerVisibilityToggle(this.props.layerIndex)),wdKey:"menu-hide-layer"},moveLayerUp:{text:e("Move layer up"),disabled:this.props.isFirstLayer,handler:()=>(mn().f[33]++,mn().s[80]++,this.moveLayer(-1)),wdKey:"menu-move-layer-up"},moveLayerDown:{text:e("Move layer down"),disabled:this.props.isLastLayer,handler:()=>(mn().f[34]++,mn().s[81]++,this.moveLayer(1)),wdKey:"menu-move-layer-down"}});function o(p,C){mn().f[35]++,mn().s[82]++,C.stopPropagation(),mn().s[83]++,l[p].handler()}return mn().s[84]++,Ae.jsx(Bv.Provider,{value:{size:"14px",color:"#8e8e8e"},children:Ae.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":e("Layer editor"),"data-wd-key":"layer-editor",children:[Ae.jsx("header",{children:Ae.jsxs("div",{className:"layer-header",children:[Ae.jsx("h2",{className:"layer-header__title",children:e("Layer: {{layerId}}",{layerId:iG(this.props.layer.id)})}),Ae.jsx("div",{className:"layer-header__info",children:Ae.jsxs(dx.Wrapper,{className:"more-menu",onSelection:o,closeOnSelection:!1,children:[Ae.jsx(dx.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:Ae.jsx(X$,{className:"more-menu__button__svg"})}),Ae.jsx(dx.Menu,{children:Ae.jsx("ul",{className:"more-menu__menu",children:Object.keys(l).map(p=>{mn().f[36]++;const C=(mn().s[85]++,l[p]);return mn().s[86]++,Ae.jsx("li",{children:Ae.jsx(dx.MenuItem,{value:p,className:"more-menu__menu__item","data-wd-key":C.wdKey,children:C.text})},p)})})})]})})]})}),Ae.jsx(nle,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:r})]})})}}const lhe=(mn().s[87]++,es()(she));var CK=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))},Ahe=function(){function n(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return n}(),uhe=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),che=function(){function n(e,t,i,r){this.name=e,this.version=t,this.os=i,this.bot=r,this.type="bot-device"}return n}(),hhe=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),dhe=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),fhe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,phe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,_K=3,mhe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fhe]],bK=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ghe(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dhe:typeof navigator<"u"?vhe(navigator.userAgent):_he()}function yhe(n){return n!==""&&mhe.reduce(function(e,t){var i=t[0],r=t[1];if(e)return e;var a=r.exec(n);return!!a&&[i,a]},!1)}function vhe(n){var e=yhe(n);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new hhe;var r=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);r?r.length<_K&&(r=CK(CK([],r,!0),bhe(_K-r.length),!0)):r=[];var a=r.join("."),l=Che(n),o=phe.exec(n);return o&&o[1]?new che(t,a,l,o[1]):new Ahe(t,a,l)}function Che(n){for(var e=0,t=bK.length;e<t;e++){var i=bK[e],r=i[0],a=i[1],l=a.exec(n);if(l)return r}return null}function _he(){var n=typeof process<"u"&&process.version;return n?new uhe(process.version.slice(1)):null}function bhe(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}const xhe="maputnik",Mhe="3.0.0",xK={name:xhe,version:Mhe},whe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Qr(){var n="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",e="a80f1c6002bb333b679e563f1e24ea304ffcd120",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:19,column:16},end:{line:19,column:24}},1:{start:{line:20,column:41},end:{line:20,column:89}},2:{start:{line:23,column:4},end:{line:23,column:107}},3:{start:{line:28,column:4},end:{line:38,column:6}},4:{start:{line:43,column:4},end:{line:50,column:6}},5:{start:{line:55,column:4},end:{line:63,column:6}},6:{start:{line:67,column:10},end:{line:75,column:3}},7:{start:{line:77,column:4},end:{line:77,column:34}},8:{start:{line:80,column:4},end:{line:80,column:40}},9:{start:{line:82,column:11},end:{line:89,column:3}},10:{start:{line:83,column:4},end:{line:88,column:5}},11:{start:{line:84,column:6},end:{line:84,column:59}},12:{start:{line:86,column:17},end:{line:86,column:65}},13:{start:{line:87,column:6},end:{line:87,column:17}},14:{start:{line:91,column:14},end:{line:91,column:26}},15:{start:{line:92,column:18},end:{line:128,column:5}},16:{start:{line:129,column:24},end:{line:131,column:6}},17:{start:{line:130,column:6},end:{line:130,column:45}},18:{start:{line:132,column:4},end:{line:254,column:12}},19:{start:{line:143,column:33},end:{line:143,column:58}},20:{start:{line:152,column:33},end:{line:152,column:60}},21:{start:{line:161,column:33},end:{line:161,column:51}},22:{start:{line:217,column:33},end:{line:217,column:69}},23:{start:{line:220,column:38},end:{line:220,column:59}},24:{start:{line:221,column:20},end:{line:221,column:157}},25:{start:{line:223,column:115},end:{line:223,column:148}},26:{start:{line:224,column:20},end:{line:224,column:133}},27:{start:{line:240,column:33},end:{line:240,column:74}},28:{start:{line:243,column:18},end:{line:243,column:94}},29:{start:{line:257,column:19},end:{line:257,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:24,column:3}},line:22},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:11},end:{line:39,column:3}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:11},end:{line:51,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:64,column:3}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:23},end:{line:78,column:3}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:79,column:2},end:{line:79,column:3}},loc:{start:{line:79,column:28},end:{line:81,column:3}},line:79},6:{name:"(anonymous_6)",decl:{start:{line:82,column:11},end:{line:82,column:12}},loc:{start:{line:82,column:23},end:{line:89,column:3}},line:82},7:{name:"(anonymous_7)",decl:{start:{line:90,column:2},end:{line:90,column:3}},loc:{start:{line:90,column:11},end:{line:255,column:3}},line:90},8:{name:"(anonymous_8)",decl:{start:{line:129,column:35},end:{line:129,column:36}},loc:{start:{line:129,column:45},end:{line:131,column:5}},line:129},9:{name:"(anonymous_9)",decl:{start:{line:143,column:25},end:{line:143,column:26}},loc:{start:{line:143,column:33},end:{line:143,column:58}},line:143},10:{name:"(anonymous_10)",decl:{start:{line:152,column:25},end:{line:152,column:26}},loc:{start:{line:152,column:33},end:{line:152,column:60}},line:152},11:{name:"(anonymous_11)",decl:{start:{line:161,column:25},end:{line:161,column:26}},loc:{start:{line:161,column:33},end:{line:161,column:51}},line:161},12:{name:"(anonymous_12)",decl:{start:{line:217,column:26},end:{line:217,column:27}},loc:{start:{line:217,column:33},end:{line:217,column:69}},line:217},13:{name:"(anonymous_13)",decl:{start:{line:220,column:31},end:{line:220,column:32}},loc:{start:{line:220,column:38},end:{line:220,column:59}},line:220},14:{name:"(anonymous_14)",decl:{start:{line:220,column:65},end:{line:220,column:66}},loc:{start:{line:220,column:75},end:{line:222,column:19}},line:220},15:{name:"(anonymous_15)",decl:{start:{line:223,column:108},end:{line:223,column:109}},loc:{start:{line:223,column:115},end:{line:223,column:148}},line:223},16:{name:"(anonymous_16)",decl:{start:{line:223,column:154},end:{line:223,column:155}},loc:{start:{line:223,column:164},end:{line:225,column:19}},line:223},17:{name:"(anonymous_17)",decl:{start:{line:240,column:26},end:{line:240,column:27}},loc:{start:{line:240,column:33},end:{line:240,column:74}},line:240},18:{name:"(anonymous_18)",decl:{start:{line:242,column:65},end:{line:242,column:66}},loc:{start:{line:242,column:83},end:{line:244,column:17}},line:242}},branchMap:{0:{loc:{start:{line:83,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:88,column:5}},{start:{line:85,column:11},end:{line:88,column:5}}],line:83}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAiCW,SAAA,KAyLG,YAzLH;AAjCX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AACP,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AACzB,SAAS,uBAA6C;AACtD,SAAS,0BAA0B;AAInC,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,+BAAQ,QAAA,EAAK,WAAU,sBAAsB,UAAA,KAAK,MAAM,SAAA,CAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,qBAAqB,KAAa;AAChC,SAAK,MAAM,KAAK,eAAe,GAAG;AAAA,EACpC;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACnB,eAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,KAAK;AAAA,MAChB;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,SAAS;AAAA,QAClB,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,qBAAqB;AAAA,QAC9B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,sBAAsB;AAAA,QAC/B,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,+BAAQ,OAAA,EAAI,WAAU,oBACpB,UAAA,qBAAC,OAAA,EAAI,WAAU,2BACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UAGV,UAAA;AAAA,YAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,CAAA,OAAM,KAAK,OAAO,YAAY;AAAA,gBAEtC,YAAE,aAAa;AAAA,cAAA;AAAA,YAClB;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,CAAA,OAAM,KAAK,OAAO,cAAc;AAAA,gBAExC,YAAE,cAAc;AAAA,cAAA;AAAA,YACnB;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,CAAA,OAAM,KAAK,OAAO,KAAK;AAAA,gBAE/B,YAAE,UAAU;AAAA,cAAA;AAAA,YACf;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL,UAAA;AAAA,kBAAA,oBAAC,SAAI,KAAK,cAAc,KAAK,EAAE,oBAAoB,EAAA,CAAG;AAAA,uCACrD,MAAA,EACC,UAAA;AAAA,oBAAA,oBAAC,QAAA,EAAK,WAAU,yBAAyB,UAAA,QAAQ,KAAA,CAAK;AAAA,oBACtD,qBAAC,QAAA,EAAK,WAAU,4BAA2B,UAAA;AAAA,sBAAA;AAAA,sBAAE,QAAQ;AAAA,oBAAA,EAAA,CAAQ;AAAA,kBAAA,EAAA,CAC/D;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,2BACC,OAAA,EAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE,UAAA;AAAA,QAAA,qBAAC,eAAA,EAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF,UAAA;AAAA,UAAA,oBAAC,iBAAA,CAAA,CAAgB;AAAA,UACjB,oBAAC,UAAA,EAAU,UAAA,EAAE,MAAM,EAAA,CAAE;AAAA,QAAA,EAAA,CACvB;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF,UAAA;AAAA,UAAA,oBAAC,QAAA,CAAA,CAAO;AAAA,UACR,oBAAC,UAAA,EAAU,UAAA,EAAE,MAAM,EAAA,CAAE;AAAA,QAAA,EAAA,CACvB;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF,UAAA;AAAA,UAAA,oBAAC,UAAA,CAAA,CAAS;AAAA,UACV,oBAAC,UAAA,EAAU,UAAA,EAAE,cAAc,EAAA,CAAE;AAAA,QAAA,EAAA,CAC/B;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF,UAAA;AAAA,UAAA,oBAAC,YAAA,CAAA,CAAW;AAAA,UACZ,oBAAC,UAAA,EAAU,UAAA,EAAE,gBAAgB,EAAA,CAAE;AAAA,QAAA,EAAA,CACjC;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,oBAAmB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,aAAa,GAChG,UAAA;AAAA,UAAA,oBAAC,UAAA,CAAA,CAAS;AAAA,UACV,oBAAC,UAAA,EAAU,UAAA,EAAE,cAAc,EAAA,CAAE;AAAA,QAAA,EAAA,CAC/B;AAAA,QAEA,qBAAC,eAAA,EAAc,OAAM,eACnB,UAAA;AAAA,UAAA,oBAAC,cAAA,CAAA,CAAa;AAAA,+BACb,UAAA,EAAU,UAAA;AAAA,YAAA,EAAE,MAAM;AAAA,YACjB;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB,UAAA;AAAA,kBAAA,MAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,UAAA,EAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,UAAA,KAAK,MAAA,GADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,YAAA,EAAS,OAAO,EAAE,qBAAqB,GACrC,UAAA,MAAM,OAAO,CAAA,MAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,UAAA,EAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,UAAA,KAAK,MAAA,GADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,EAAA,CACH;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,UAAA,EAAA,CACF;AAAA,QAAA,EAAA,CACF;AAAA,QAEA,qBAAC,eAAA,EAAc,OAAM,gBACnB,UAAA;AAAA,UAAA,oBAAC,YAAA,CAAA,CAAW;AAAA,+BACX,UAAA,EAAS,UAAA;AAAA,YAAA;AAAA,YACR;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,qBAAqB,EAAE,OAAO,KAAK;AAAA,gBACzD,OAAO,KAAK,MAAM,KAAK;AAAA,gBAEtB,UAAA,OAAO,QAAQ,kBAAkB,EAAE,IAAI,CAAC,CAAC,MAAM,IAAI,MAAM;AACxD,yBACE,oBAAC,UAAA,EAAkB,OAAO,MACvB,kBADU,IAEb;AAAA,gBAEJ,CAAC;AAAA,cAAA;AAAA,YACH;AAAA,UAAA,EAAA,CACF;AAAA,QAAA,EAAA,CACF;AAAA,QAEA,qBAAC,aAAA,EAAY,MAAM,6CACjB,UAAA;AAAA,UAAA,oBAAC,eAAA,CAAA,CAAc;AAAA,UACf,oBAAC,UAAA,EAAU,UAAA,EAAE,MAAM,EAAA,CAAE;AAAA,QAAA,EAAA,CACvB;AAAA,MAAA,EAAA,CACF;AAAA,IAAA,EAAA,CACF,EAAA,CACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a80f1c6002bb333b679e563f1e24ea304ffcd120"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Qr=function(){return l},l}Qr();const She=(Qr().s[0]++,ghe()),vx=(Qr().s[1]++,["chrome","firefox"].indexOf(She.name)>-1);class gg extends ni.Component{render(){return Qr().f[0]++,Qr().s[2]++,Ae.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class Ehe extends ni.Component{render(){return Qr().f[1]++,Qr().s[3]++,Ae.jsx("a",{className:t0("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class MK extends ni.Component{render(){return Qr().f[2]++,Qr().s[4]++,Ae.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class OC extends ni.Component{render(){return Qr().f[3]++,Qr().s[5]++,Ae.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class Bhe extends ni.Component{state=(Qr().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}});handleSelection(e){Qr().f[4]++,Qr().s[7]++,this.props.onSetMapState(e)}handleLanguageChange(e){Qr().f[5]++,Qr().s[8]++,this.props.i18n.changeLanguage(e)}onSkip=(Qr().s[9]++,e=>{if(Qr().f[6]++,Qr().s[10]++,e==="map")Qr().b[0][0]++,Qr().s[11]++,document.querySelector(".maplibregl-canvas").focus();else{Qr().b[0][1]++;const t=(Qr().s[12]++,document.querySelector("#skip-target-"+e));Qr().s[13]++,t.focus()}});render(){Qr().f[7]++;const e=(Qr().s[14]++,this.props.t),t=(Qr().s[15]++,[{id:"map",group:"general",title:e("Map")},{id:"inspect",group:"general",title:e("Inspect"),disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:e("Deuteranopia filter"),disabled:!vx},{id:"filter-protanopia",group:"color-accessibility",title:e("Protanopia filter"),disabled:!vx},{id:"filter-tritanopia",group:"color-accessibility",title:e("Tritanopia filter"),disabled:!vx},{id:"filter-achromatopsia",group:"color-accessibility",title:e("Achromatopsia filter"),disabled:!vx}]),i=(Qr().s[16]++,t.find(r=>(Qr().f[8]++,Qr().s[17]++,r.id===this.props.mapState)));return Qr().s[18]++,Ae.jsx("nav",{className:"maputnik-toolbar",children:Ae.jsxs("div",{className:"maputnik-toolbar__inner",children:[Ae.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[Ae.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:r=>(Qr().f[9]++,Qr().s[19]++,this.onSkip("layer-list")),children:e("Layers list")}),Ae.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:r=>(Qr().f[10]++,Qr().s[20]++,this.onSkip("layer-editor")),children:e("Layer editor")}),Ae.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:r=>(Qr().f[11]++,Qr().s[21]++,this.onSkip("map")),children:e("Map view")}),Ae.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[Ae.jsx("img",{src:whe,alt:e("Maputnik on GitHub")}),Ae.jsxs("h1",{children:[Ae.jsx("span",{className:"maputnik-toolbar-name",children:xK.name}),Ae.jsxs("span",{className:"maputnik-toolbar-version",children:["v",xK.version]})]})]})]}),Ae.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[Ae.jsxs(OC,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[Ae.jsx(L$,{}),Ae.jsx(gg,{children:e("Open")})]}),Ae.jsxs(OC,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[Ae.jsx(I6,{}),Ae.jsx(gg,{children:e("Save")})]}),Ae.jsxs(OC,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[Ae.jsx(H$,{}),Ae.jsx(gg,{children:e("Data Sources")})]}),Ae.jsxs(OC,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[Ae.jsx(F$,{}),Ae.jsx(gg,{children:e("Style Settings")})]}),Ae.jsxs(OC,{wdKey:"nav:global-state",onClick:this.props.onToggleModal.bind(this,"globalState"),children:[Ae.jsx(eZ,{}),Ae.jsx(gg,{children:e("Global State")})]}),Ae.jsxs(MK,{wdKey:"nav:inspect",children:[Ae.jsx(D$,{}),Ae.jsxs(gg,{children:[e("View"),Ae.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:r=>(Qr().f[12]++,Qr().s[22]++,this.handleSelection(r.target.value)),value:i?.id,children:[t.filter(r=>(Qr().f[13]++,Qr().s[23]++,r.group==="general")).map(r=>(Qr().f[14]++,Qr().s[24]++,Ae.jsx("option",{value:r.id,disabled:r.disabled,"data-wd-key":r.id,children:r.title},r.id))),Ae.jsx("optgroup",{label:e("Color accessibility"),children:t.filter(r=>(Qr().f[15]++,Qr().s[25]++,r.group==="color-accessibility")).map(r=>(Qr().f[16]++,Qr().s[26]++,Ae.jsx("option",{value:r.id,disabled:r.disabled,children:r.title},r.id)))})]})]})]}),Ae.jsxs(MK,{wdKey:"nav:language",children:[Ae.jsx(U$,{}),Ae.jsxs(gg,{children:["Language",Ae.jsx("select",{className:"maputnik-select","data-wd-key":"maputnik-lang-select",onChange:r=>(Qr().f[17]++,Qr().s[27]++,this.handleLanguageChange(r.target.value)),value:this.props.i18n.language,children:Object.entries($U).map(([r,a])=>(Qr().f[18]++,Qr().s[28]++,Ae.jsx("option",{value:r,children:a},r)))})]})]}),Ae.jsxs(Ehe,{href:"https://github.com/maplibre/maputnik/wiki",children:[Ae.jsx(R$,{}),Ae.jsx(gg,{children:e("Help")})]})]})]})})}}const Ohe=(Qr().s[29]++,es()(Bhe));function B3(){var n="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",e="d17a642b15310eb6111b086bd920c67ec86a8271",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return B3=function(){return l},l}B3();class Ihe extends ni.Component{render(){return B3().f[0]++,B3().s[0]++,Ae.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function Mg(){var n="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",e="ec06363f2da84c6363ddcdeb1250703aa92f5205",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:46}},1:{start:{line:9,column:4},end:{line:18,column:12}},2:{start:{line:21,column:18},end:{line:21,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:19,column:3}},line:7}},branchMap:{0:{loc:{start:{line:16,column:6},end:{line:16,column:123}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:23}},{start:{line:16,column:43},end:{line:16,column:123}}],line:16}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAsBQ,SACE,KADF;AAtBR,OAAO,WAAW;AAClB,OAAO,qBAAqB;AAC5B,SAA+B,uBAAuB;AACtD,SAAS,mBAAmB;AAW5B,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EAEtE,SAAS;AACP,aAAS,KAAK,MAAM,KAAK,MAAM,KAAK,IAAI;AAExC,WAAO,oBAAC,YAAY,UAAZ,EAAqB,OAAO,EAAC,MAAM,OAAM,GAC/C,+BAAC,SAAI,WAAU,mBACZ;AAAA,WAAK,MAAM;AAAA,MACZ,qBAAC,SAAI,WAAU,wBACb;AAAA,4BAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,QACC,KAAK,MAAM;AAAA,SACd;AAAA,MACC,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd,GACF;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ec06363f2da84c6363ddcdeb1250703aa92f5205"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Mg=function(){return l},l}Mg();class The extends ni.Component{render(){return Mg().f[0]++,Mg().s[0]++,document.body.dir=this.props.i18n.dir(),Mg().s[1]++,Ae.jsx(Bv.Provider,{value:{size:"14px"},children:Ae.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,Ae.jsxs("div",{className:"maputnik-layout-main",children:[Ae.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),Ae.jsx("div",{className:"maputnik-layout-drawer",children:Ae.jsx(Ihe,{children:this.props.layerEditor})}),this.props.map]}),(Mg().b[0][0]++,this.props.bottom&&(Mg().b[0][1]++,Ae.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})})}}const khe=(Mg().s[2]++,es()(The));function Bl(){var n="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",e="ad9bc0415023edf2846d3f9c9715e3e183d1ba9e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:38},end:{line:11,column:48}},2:{start:{line:12,column:19},end:{line:40,column:6}},3:{start:{line:14,column:6},end:{line:38,column:7}},4:{start:{line:15,column:27},end:{line:15,column:32}},5:{start:{line:16,column:24},end:{line:16,column:73}},6:{start:{line:17,column:8},end:{line:35,column:13}},7:{start:{line:30,column:31},end:{line:30,column:74}},8:{start:{line:37,column:8},end:{line:37,column:32}},9:{start:{line:39,column:6},end:{line:39,column:120}},10:{start:{line:41,column:18},end:{line:43,column:6}},11:{start:{line:42,column:6},end:{line:42,column:68}},12:{start:{line:44,column:4},end:{line:47,column:9}},13:{start:{line:50,column:24},end:{line:50,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:25},end:{line:8,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:42},end:{line:12,column:43}},loc:{start:{line:12,column:58},end:{line:40,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:30,column:25},end:{line:30,column:26}},loc:{start:{line:30,column:31},end:{line:30,column:74}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:41,column:40},end:{line:41,column:41}},loc:{start:{line:41,column:50},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:14,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:14,column:6},end:{line:38,column:7}},{start:{line:36,column:13},end:{line:38,column:7}}],line:14},1:{loc:{start:{line:14,column:10},end:{line:14,column:55}},type:"binary-expr",locations:[{start:{line:14,column:10},end:{line:14,column:22}},{start:{line:14,column:26},end:{line:14,column:55}}],line:14},2:{loc:{start:{line:24,column:10},end:{line:34,column:14}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:50}},{start:{line:24,column:70},end:{line:34,column:14}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA4BY,SAIE,UAHM,KADR;AA5BZ,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAE5B,SAAS,OAA6B,uBAAuB;AAW7D,MAAM,gCAAgC,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,mBAAkB,IAAI,KAAK;AACrC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCACE;AAAA,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,YAAO;AAAA,YAAG,OAAO,KAAK;AAAA,aAC5D;AAAA,UACC,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAEzD,YAAE,iBAAiB;AAAA;AAAA,YACtB;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;AAEA,MAAM,kBAAkB,gBAAgB,EAAE,uBAAuB;AACjE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ad9bc0415023edf2846d3f9c9715e3e183d1ba9e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Bl=function(){return l},l}Bl();class Dhe extends ni.Component{static defaultProps=(Bl().s[0]++,{onLayerSelect:()=>{Bl().f[0]++}});render(){Bl().f[1]++;const{t:e,selectedLayerIndex:t}=(Bl().s[1]++,this.props),i=(Bl().s[2]++,this.props.errors?.map((a,l)=>{Bl().f[2]++;let o;if(Bl().s[3]++,Bl().b[1][0]++,a.parsed&&(Bl().b[1][1]++,a.parsed.type==="layer")){Bl().b[0][0]++;const{parsed:p}=(Bl().s[4]++,a),C=(Bl().s[5]++,this.props.mapStyle?.layers[p.data.index].id);Bl().s[6]++,o=Ae.jsxs(Ae.Fragment,{children:[Ae.jsxs(Dg,{t:e,children:["Layer ",Ae.jsx("span",{children:iG(C)}),": ",p.data.message]}),(Bl().b[2][0]++,t!==p.data.index&&(Bl().b[2][1]++,Ae.jsxs(Ae.Fragment,{children:["",Ae.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(Bl().f[3]++,Bl().s[7]++,this.props.onLayerSelect(p.data.index)),children:e("switch to layer")})]})))]})}else Bl().b[0][1]++,Bl().s[8]++,o=a.message;return Bl().s[9]++,Ae.jsx("p",{className:"maputnik-message-panel-error",children:o},"error-"+l)})),r=(Bl().s[10]++,this.props.infos?.map((a,l)=>(Bl().f[4]++,Bl().s[11]++,Ae.jsx("p",{children:a},"info-"+l))));return Bl().s[12]++,Ae.jsxs("div",{className:"maputnik-message-panel",children:[i,r]})}}const Rhe=(Bl().s[13]++,es()(Dhe));function Y_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",e="6904abccc922d01222214bca1ee3bdee75077020",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:4,column:19},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:148}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:19},end:{line:4,column:20}},loc:{start:{line:4,column:30},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,gBAA0C;AACjD,OAAO,cAAc;AASrB,MAAM,aAAwC,CAAC,UAAU;AACvD,SACE,oBAAC,YAAS,OAAO,MAAM,OAAO,WAAW,MAAM,WAC7C,8BAAC,cAAY,GAAG,OAAO,GACzB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6904abccc922d01222214bca1ee3bdee75077020"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Y_=function(){return l},l}Y_();Y_().s[0]++;const O3=n=>(Y_().f[0]++,Y_().s[1]++,Ae.jsx(xg,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(SB,{...n})}));function q_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",e="4d2523cd21b202fb5e80e08624becdbab30e967f",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:4,column:20},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:146}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:31},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,iBAA0C;AACjD,OAAO,WAAW;AAWlB,MAAM,cAA0C,CAAC,UAAU;AACzD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,eAAa,GAAG,OAAO,GAC1B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d2523cd21b202fb5e80e08624becdbab30e967f"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return q_=function(){return l},l}q_();q_().s[0]++;const Zp=n=>(q_().f[0]++,q_().s[1]++,Ae.jsx(Ls,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(z0,{...n})}));function H_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",e="5d41bf44c48c380a773c8c6219651c4348518afa",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:4,column:20},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:146}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:31},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,iBAA0C;AAUjD,MAAM,cAA0C,CAAC,UAAU;AACzD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,eAAa,GAAG,OAAO,GAC1B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d41bf44c48c380a773c8c6219651c4348518afa"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return H_=function(){return l},l}H_();H_().s[0]++;const Gd=n=>(H_().f[0]++,H_().s[1]++,Ae.jsx(Ls,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(sm,{...n})}));function V_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",e="6e4f23f735ab05a9622545421c68df85e4603d43",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:4,column:17},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:143}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:28},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,cAAqD;AAC5D,OAAO,WAAW;AAWlB,MAAM,WAAoC,CAAC,UAAU;AACnD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,YAAU,GAAG,OAAO,GACvB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6e4f23f735ab05a9622545421c68df85e4603d43"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return V_=function(){return l},l}V_();V_().s[0]++;const Gv=n=>(V_().f[0]++,V_().s[1]++,Ae.jsx(Ls,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(t7,{...n})}));function $_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",e="245ef066962174fcd1012332d28af93e7b97872c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:4,column:20},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:146}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:31},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,iBAA0C;AAWjD,MAAM,cAA0C,CAAC,UAAU;AACzD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,eAAa,GAAG,OAAO,GAC1B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"245ef066962174fcd1012332d28af93e7b97872c"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return $_=function(){return l},l}$_();$_().s[0]++;const J2=n=>($_().f[0]++,$_().s[1]++,Ae.jsx(Ls,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(iy,{...n})}));function Z_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",e="c3637509a0af6618b52e814bed4254c2e3fa3b7a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:4,column:18},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:147}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:18},end:{line:4,column:19}},loc:{start:{line:4,column:29},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,eAAsC;AAC7C,OAAO,cAAc;AAWrB,MAAM,YAAsC,CAAC,UAAU;AACrD,SACE,oBAAC,YAAS,OAAO,MAAM,OAAO,WAAW,MAAM,WAC7C,8BAAC,aAAW,GAAG,OAAO,GACxB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c3637509a0af6618b52e814bed4254c2e3fa3b7a"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Z_=function(){return l},l}Z_();Z_().s[0]++;const Phe=n=>(Z_().f[0]++,Z_().s[1]++,Ae.jsx(xg,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(e7,{...n})}));function X_(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",e="81b03af9ad032d255df7823d843b73e8fa5e3f61",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:4,column:19},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:145}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:19},end:{line:4,column:20}},loc:{start:{line:4,column:30},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,gBAAwC;AAW/C,MAAM,aAAwC,CAAC,UAAU;AACvD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,cAAY,GAAG,OAAO,GACzB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81b03af9ad032d255df7823d843b73e8fa5e3f61"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return X_=function(){return l},l}X_();X_().s[0]++;const Khe=n=>(X_().f[0]++,X_().s[1]++,Ae.jsx(Ls,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(J8,{...n})}));function J_(){var n="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",e="3fd72cd1ec4be346f0d6d854a97e371e1b9c2997",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:32,column:2}},1:{start:{line:1,column:21},end:{line:32,column:1}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:13},end:{line:1,column:14}},loc:{start:{line:1,column:21},end:{line:32,column:1}},line:1}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAEA,MAAM,OAAO,CAAC,OAAkB;AAAA,EAC9B,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO,EAAE,uBAAuB;AAAA,MAChC,KAAK,EAAE,yCAAyC;AAAA,MAChD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO,EAAE,4BAA4B;AAAA,MACrC,KAAK,EAAE,iDAAiD;AAAA,MACxD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,qBAAqB;AAAA,MACnB,OAAO,EAAE,qBAAqB;AAAA,MAC9B,KAAK,EAAE,0BAA0B;AAAA,MACjC,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,yBAAyB;AAAA,MACvB,OAAO,EAAE,yBAAyB;AAAA,MAClC,KAAK,EAAE,8CAA8C;AAAA,MACrD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO,EAAE,gBAAgB;AAAA,MACzB,KAAK,EAAE,sDAAsD;AAAA,IAC/D;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3fd72cd1ec4be346f0d6d854a97e371e1b9c2997"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return J_=function(){return l},l}J_();J_().s[0]++;const oG=n=>(J_().f[0]++,J_().s[1]++,{maputnik:{maptiler_access_token:{label:n("MapTiler Access Token"),doc:n("Public access token for MapTiler Cloud."),docUrl:"https://docs.maptiler.com/cloud/api/authentication-key/",docUrlLinkText:n("Learn More")},thunderforest_access_token:{label:n("Thunderforest Access Token"),doc:n("Public access token for Thunderforest services."),docUrl:"https://www.thunderforest.com/docs/apikeys/",docUrlLinkText:n("Learn More")},stadia_access_token:{label:n("Stadia Maps API Key"),doc:n("API key for Stadia Maps."),docUrl:"https://docs.stadiamaps.com/authentication/",docUrlLinkText:n("Learn More")},locationiq_access_token:{label:n("LocationIQ Access Token"),doc:n("Public access token for LocationIQ services."),docUrl:"https://docs.locationiq.com/docs/maps",docUrlLinkText:n("Learn More")},style_renderer:{label:n("Style Renderer"),doc:n("Choose the default Maputnik renderer for this style.")}}});function jr(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalSettings.tsx",e="dd14009bdb801dc3d8a1c0723e160e2e8147edb2",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalSettings.tsx",statementMap:{0:{start:{line:16,column:23},end:{line:18,column:5}},1:{start:{line:19,column:4},end:{line:23,column:5}},2:{start:{line:20,column:6},end:{line:20,column:34}},3:{start:{line:22,column:6},end:{line:22,column:35}},4:{start:{line:24,column:4},end:{line:27,column:7}},5:{start:{line:30,column:18},end:{line:32,column:5}},6:{start:{line:33,column:4},end:{line:37,column:5}},7:{start:{line:34,column:6},end:{line:34,column:29}},8:{start:{line:36,column:6},end:{line:36,column:30}},9:{start:{line:38,column:4},end:{line:41,column:7}},10:{start:{line:44,column:20},end:{line:46,column:5}},11:{start:{line:47,column:4},end:{line:51,column:5}},12:{start:{line:48,column:6},end:{line:48,column:31}},13:{start:{line:50,column:6},end:{line:50,column:32}},14:{start:{line:52,column:4},end:{line:55,column:7}},15:{start:{line:58,column:25},end:{line:60,column:5}},16:{start:{line:61,column:4},end:{line:65,column:5}},17:{start:{line:62,column:6},end:{line:62,column:36}},18:{start:{line:64,column:6},end:{line:64,column:37}},19:{start:{line:66,column:4},end:{line:66,column:44}},20:{start:{line:69,column:21},end:{line:69,column:55}},21:{start:{line:70,column:54},end:{line:70,column:64}},22:{start:{line:71,column:16},end:{line:71,column:38}},23:{start:{line:72,column:18},end:{line:72,column:49}},24:{start:{line:73,column:23},end:{line:73,column:59}},25:{start:{line:74,column:20},end:{line:74,column:53}},26:{start:{line:75,column:4},end:{line:305,column:6}},27:{start:{line:308,column:22},end:{line:308,column:62}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:44},end:{line:28,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:39},end:{line:42,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:41},end:{line:56,column:3}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:39},end:{line:67,column:3}},line:57},4:{name:"(anonymous_4)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:11},end:{line:306,column:3}},line:68}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:23,column:5}},{start:{line:21,column:11},end:{line:23,column:5}}],line:19},1:{loc:{start:{line:33,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:37,column:5}},{start:{line:35,column:11},end:{line:37,column:5}}],line:33},2:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:49,column:11},end:{line:51,column:5}}],line:47},3:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},4:{loc:{start:{line:69,column:21},end:{line:69,column:55}},type:"binary-expr",locations:[{start:{line:69,column:21},end:{line:69,column:49}},{start:{line:69,column:53},end:{line:69,column:55}}],line:69},5:{loc:{start:{line:72,column:18},end:{line:72,column:49}},type:"binary-expr",locations:[{start:{line:72,column:18},end:{line:72,column:43}},{start:{line:72,column:47},end:{line:72,column:49}}],line:72},6:{loc:{start:{line:73,column:23},end:{line:73,column:59}},type:"binary-expr",locations:[{start:{line:73,column:23},end:{line:73,column:53}},{start:{line:73,column:57},end:{line:73,column:59}}],line:73},7:{loc:{start:{line:74,column:20},end:{line:74,column:53}},type:"binary-expr",locations:[{start:{line:74,column:20},end:{line:74,column:47}},{start:{line:74,column:51},end:{line:74,column:53}}],line:74},8:{loc:{start:{line:170,column:21},end:{line:170,column:42}},type:"binary-expr",locations:[{start:{line:170,column:21},end:{line:170,column:36}},{start:{line:170,column:40},end:{line:170,column:42}}],line:170},9:{loc:{start:{line:299,column:21},end:{line:299,column:62}},type:"binary-expr",locations:[{start:{line:299,column:21},end:{line:299,column:50}},{start:{line:299,column:54},end:{line:299,column:62}}],line:299}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalSettings.tsx"],names:[],mappings:"AAgHM,SACE,KADF;AAhHN,OAAO,WAAW;AAClB,OAAO,YAAY;AAEnB,SAA+B,uBAAuB;AAEtD,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAWhC,MAAM,8BAA8B,MAAM,UAAsC;AAAA,EAC9E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,GAAG,0BAA0B,SAAQ,IAAI,KAAK;AACrD,UAAM,MAAM,oBAAoB,CAAC;AAEjC,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,gBAAgB;AAAA,QAEzB,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,EAAC,KAAK,EAAE,6DAA6D,EAAC;AAAA,cACjF,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,EAAE,YAAY;AAAA,cACrB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,YAAY;AAAA,cACrB,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,cAC1C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,cAC/C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,cACxC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,8BAA8B;AAAA,cAC9C,UAAU,yBAAyB,KAAK,MAAM,8BAA8B;AAAA;AAAA,UAC9E;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,wBAAwB;AAAA,cAC5C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,kCAAkC;AAAA,cAClD,UAAU,yBAAyB,KAAK,MAAM,kCAAkC;AAAA;AAAA,UAClF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ;AAAA,cACjB,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,SAAS;AAAA,cAClB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,cAAc;AAAA,cACvB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,aAAa;AAAA,cACtB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,iBAAiB;AAAA,cAC1B,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,sBAAsB;AAAA,cAC/B,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,kBAAkB;AAAA,cAC3B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,qBAAqB;AAAA,cAC9B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,eAAe;AAAA,cACnC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,EAAE,4BAA4B,CAAC;AAAA,cACxC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dd14009bdb801dc3d8a1c0723e160e2e8147edb2"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return jr=function(){return l},l}jr();class Uhe extends ni.Component{changeTransitionProperty(e,t){jr().f[0]++;const i=(jr().s[0]++,{...this.props.mapStyle.transition});jr().s[1]++,t===void 0?(jr().b[0][0]++,jr().s[2]++,delete i[e]):(jr().b[0][1]++,jr().s[3]++,i[e]=t),jr().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:i})}changeLightProperty(e,t){jr().f[1]++;const i=(jr().s[5]++,{...this.props.mapStyle.light});jr().s[6]++,t===void 0?(jr().b[1][0]++,jr().s[7]++,delete i[e]):(jr().b[1][1]++,jr().s[8]++,i[e]=t),jr().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:i})}changeTerrainProperty(e,t){jr().f[2]++;const i=(jr().s[10]++,{...this.props.mapStyle.terrain});jr().s[11]++,t===void 0?(jr().b[2][0]++,jr().s[12]++,delete i[e]):(jr().b[2][1]++,jr().s[13]++,i[e]=t),jr().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:i})}changeStyleProperty(e,t){jr().f[3]++;const i=(jr().s[15]++,{...this.props.mapStyle});jr().s[16]++,t===void 0?(jr().b[3][0]++,jr().s[17]++,delete i[e]):(jr().b[3][1]++,jr().s[18]++,i[e]=t),jr().s[19]++,this.props.onStyleChanged(i)}render(){jr().f[4]++;const e=(jr().s[20]++,jr().b[4][0]++,this.props.mapStyle.metadata||(jr().b[4][1]++,{})),{t,onChangeMetadataProperty:i,mapStyle:r}=(jr().s[21]++,this.props),a=(jr().s[22]++,oG(t)),l=(jr().s[23]++,jr().b[5][0]++,this.props.mapStyle.light||(jr().b[5][1]++,{})),o=(jr().s[24]++,jr().b[6][0]++,this.props.mapStyle.transition||(jr().b[6][1]++,{})),p=(jr().s[25]++,jr().b[7][0]++,this.props.mapStyle.terrain||(jr().b[7][1]++,{}));return jr().s[26]++,Ae.jsx(Q0,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:t("Style Settings"),children:Ae.jsxs("div",{className:"modal:settings",children:[Ae.jsx(Gd,{label:t("Name"),fieldSpec:$o.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),Ae.jsx(Gd,{label:t("Owner"),fieldSpec:{doc:t("Owner ID of the style. Used by Mapbox or future style APIs.")},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),Ae.jsx(Gv,{fieldSpec:$o.$root.sprite,label:t("Sprite URL"),"data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),Ae.jsx(Gv,{label:t("Glyphs URL"),fieldSpec:$o.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),Ae.jsx(Gd,{label:a.maputnik.maptiler_access_token.label,fieldSpec:a.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:e["maputnik:openmaptiles_access_token"],onChange:i.bind(this,"maputnik:openmaptiles_access_token")}),Ae.jsx(Gd,{label:a.maputnik.thunderforest_access_token.label,fieldSpec:a.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:e["maputnik:thunderforest_access_token"],onChange:i.bind(this,"maputnik:thunderforest_access_token")}),Ae.jsx(Gd,{label:a.maputnik.stadia_access_token.label,fieldSpec:a.maputnik.stadia_access_token,"data-wd-key":"modal:settings.maputnik:stadia_access_token",value:e["maputnik:stadia_access_token"],onChange:i.bind(this,"maputnik:stadia_access_token")}),Ae.jsx(Gd,{label:a.maputnik.locationiq_access_token.label,fieldSpec:a.maputnik.locationiq_access_token,"data-wd-key":"modal:settings.maputnik:locationiq_access_token",value:e["maputnik:locationiq_access_token"],onChange:i.bind(this,"maputnik:locationiq_access_token")}),Ae.jsx(O3,{label:t("Center"),fieldSpec:$o.$root.center,length:2,type:"number",value:(jr().b[8][0]++,r.center||(jr().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),Ae.jsx(Zp,{label:t("Zoom"),fieldSpec:$o.$root.zoom,value:r.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),Ae.jsx(Zp,{label:t("Bearing"),fieldSpec:$o.$root.bearing,value:r.bearing,default:$o.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),Ae.jsx(Zp,{label:t("Pitch"),fieldSpec:$o.$root.pitch,value:r.pitch,default:$o.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),Ae.jsx(Phe,{label:t("Light anchor"),fieldSpec:$o.light.anchor,name:"light-anchor",value:l.anchor,options:Object.keys($o.light.anchor.values),default:$o.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),Ae.jsx(Khe,{label:t("Light color"),fieldSpec:$o.light.color,value:l.color,default:$o.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),Ae.jsx(Zp,{label:t("Light intensity"),fieldSpec:$o.light.intensity,value:l.intensity,default:$o.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),Ae.jsx(O3,{label:t("Light position"),fieldSpec:$o.light.position,type:"number",length:$o.light.position.length,value:l.position,default:$o.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),Ae.jsx(Gd,{label:t("Terrain source"),fieldSpec:$o.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:p.source,onChange:this.changeTerrainProperty.bind(this,"source")}),Ae.jsx(Zp,{label:t("Terrain exaggeration"),fieldSpec:$o.terrain.exaggeration,value:p.exaggeration,default:$o.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),Ae.jsx(Zp,{label:t("Transition delay"),fieldSpec:$o.transition.delay,value:o.delay,default:$o.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),Ae.jsx(Zp,{label:t("Transition duration"),fieldSpec:$o.transition.duration,value:o.duration,default:$o.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),Ae.jsx(J2,{label:a.maputnik.style_renderer.label,fieldSpec:a.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol",t("Open Layers (experimental)")]],value:(jr().b[9][0]++,e["maputnik:renderer"]||(jr().b[9][1]++,"mlgljs")),onChange:i.bind(this,"maputnik:renderer")})]})})}}const Lhe=(jr().s[27]++,es()(Uhe));var Px={exports:{}},Fhe=Px.exports,wK;function zhe(){return wK||(wK=1,function(n,e){(function(t,i,r){n.exports=r(),n.exports.default=r()})("slugify",Fhe,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),i=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function r(a,l){if(typeof a!="string")throw new Error("slugify: string argument expected");l=typeof l=="string"?{replacement:l}:l||{};var o=i[l.locale]||{},p=l.replacement===void 0?"-":l.replacement,C=l.trim===void 0?!0:l.trim,M=a.normalize().split("").reduce(function(O,U){var K=o[U];return K===void 0&&(K=t[U]),K===void 0&&(K=U),K===p&&(K=" "),O+K.replace(l.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return l.strict&&(M=M.replace(/[^A-Za-z0-9\s]/g,"")),C&&(M=M.trim()),M=M.replace(/\s+/g,p),l.lower&&(M=M.toLowerCase()),M}return r.extend=function(a){Object.assign(t,a)},r})}(Px)),Px.exports}var jhe=zhe();const Nhe=cu(jhe);var Kx={exports:{}},Ghe=Kx.exports,SK;function Whe(){return SK||(SK=1,function(n,e){(function(t,i){i()})(Ghe,function(){function t(C,M){return typeof M>"u"?M={autoBom:!1}:typeof M!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),M={autoBom:!M}),M.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(C.type)?new Blob(["\uFEFF",C],{type:C.type}):C}function i(C,M,O){var U=new XMLHttpRequest;U.open("GET",C),U.responseType="blob",U.onload=function(){p(U.response,M,O)},U.onerror=function(){console.error("could not download file")},U.send()}function r(C){var M=new XMLHttpRequest;M.open("HEAD",C,!1);try{M.send()}catch{}return 200<=M.status&&299>=M.status}function a(C){try{C.dispatchEvent(new MouseEvent("click"))}catch{var M=document.createEvent("MouseEvents");M.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(M)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,o=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(C,M,O){var U=l.URL||l.webkitURL,K=document.createElement("a");M=M||C.name||"download",K.download=M,K.rel="noopener",typeof C=="string"?(K.href=C,K.origin===location.origin?a(K):r(K.href)?i(C,M,O):a(K,K.target="_blank")):(K.href=U.createObjectURL(C),setTimeout(function(){U.revokeObjectURL(K.href)},4e4),setTimeout(function(){a(K)},0))}:"msSaveOrOpenBlob"in navigator?function(C,M,O){if(M=M||C.name||"download",typeof C!="string")navigator.msSaveOrOpenBlob(t(C,O),M);else if(r(C))i(C,M,O);else{var U=document.createElement("a");U.href=C,U.target="_blank",setTimeout(function(){a(U)})}}:function(C,M,O,U){if(U=U||open("","_blank"),U&&(U.document.title=U.document.body.innerText="downloading..."),typeof C=="string")return i(C,M,O);var K=C.type==="application/octet-stream",j=/constructor/i.test(l.HTMLElement)||l.safari,W=/CriOS\/[\d]+/.test(navigator.userAgent);if((W||K&&j||o)&&typeof FileReader<"u"){var Y=new FileReader;Y.onloadend=function(){var oe=Y.result;oe=W?oe:oe.replace(/^data:[^;]*;/,"data:attachment/file;"),U?U.location.href=oe:location=oe,U=null},Y.readAsDataURL(C)}else{var te=l.URL||l.webkitURL,J=te.createObjectURL(C);U?U.location=J:location.href=J,U=null,setTimeout(function(){te.revokeObjectURL(J)},4e4)}});l.saveAs=p.saveAs=p,n.exports=p})}(Kx)),Kx.exports}var EK=Whe();const Qhe="5.7.1",Yhe="get_your_own_OpIi9ZULNHzrESv6T2vL",qhe="b71f7f0ba4064f5eb9e903859a9cf5c6",Hhe="pk.put_your_api_key_here7bb23dffeb4",aG={openmaptiles:Yhe,thunderforest:qhe,locationiq:Hhe};function Vn(){var n="/home/runner/work/maputnik/maputnik/src/libs/style.ts",e="16e079a55cdd4175ffeada8708d6c49d219f1229",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:14,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:15,column:2},end:{line:15,column:15}},5:{start:{line:18,column:24},end:{line:22,column:4}},6:{start:{line:19,column:25},end:{line:19,column:37}},7:{start:{line:20,column:4},end:{line:20,column:36}},8:{start:{line:21,column:4},end:{line:21,column:24}},9:{start:{line:23,column:2},end:{line:26,column:4}},10:{start:{line:29,column:2},end:{line:32,column:4}},11:{start:{line:35,column:2},end:{line:35,column:69}},12:{start:{line:38,column:2},end:{line:42,column:3}},13:{start:{line:38,column:15},end:{line:38,column:16}},14:{start:{line:39,column:4},end:{line:41,column:5}},15:{start:{line:40,column:6},end:{line:40,column:15}},16:{start:{line:43,column:2},end:{line:43,column:14}},17:{start:{line:46,column:19},end:{line:46,column:42}},18:{start:{line:47,column:20},end:{line:47,column:67}},19:{start:{line:48,column:2},end:{line:50,column:3}},20:{start:{line:49,column:4},end:{line:49,column:37}},21:{start:{line:51,column:2},end:{line:51,column:21}},22:{start:{line:54,column:17},end:{line:54,column:45}},23:{start:{line:55,column:2},end:{line:55,column:31}},24:{start:{line:55,column:15},end:{line:55,column:31}},25:{start:{line:56,column:2},end:{line:56,column:57}},26:{start:{line:56,column:41},end:{line:56,column:57}},27:{start:{line:57,column:23},end:{line:57,column:33}},28:{start:{line:58,column:2},end:{line:64,column:3}},29:{start:{line:59,column:4},end:{line:59,column:37}},30:{start:{line:60,column:9},end:{line:64,column:3}},31:{start:{line:61,column:4},end:{line:61,column:30}},32:{start:{line:62,column:9},end:{line:64,column:3}},33:{start:{line:63,column:4},end:{line:63,column:34}},34:{start:{line:65,column:22},end:{line:65,column:68}},35:{start:{line:66,column:2},end:{line:68,column:3}},36:{start:{line:67,column:4},end:{line:67,column:20}},37:{start:{line:70,column:2},end:{line:74,column:3}},38:{start:{line:71,column:4},end:{line:71,column:55}},39:{start:{line:73,column:4},end:{line:73,column:57}},40:{start:{line:75,column:25},end:{line:81,column:3}},41:{start:{line:82,column:23},end:{line:85,column:3}},42:{start:{line:86,column:2},end:{line:86,column:22}},43:{start:{line:89,column:21},end:{line:89,column:29}},44:{start:{line:90,column:2},end:{line:92,column:5}},45:{start:{line:91,column:4},end:{line:91,column:76}},46:{start:{line:93,column:2},end:{line:101,column:3}},47:{start:{line:94,column:27},end:{line:94,column:73}},48:{start:{line:95,column:4},end:{line:100,column:5}},49:{start:{line:96,column:6},end:{line:99,column:8}},50:{start:{line:102,column:2},end:{line:102,column:22}},51:{start:{line:105,column:26},end:{line:107,column:3}},52:{start:{line:108,column:2},end:{line:108,column:63}},53:{start:{line:109,column:2},end:{line:109,column:64}},54:{start:{line:110,column:2},end:{line:110,column:57}},55:{start:{line:111,column:2},end:{line:111,column:61}},56:{start:{line:112,column:2},end:{line:115,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:16,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:39},end:{line:27,column:1}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:18,column:41},end:{line:18,column:42}},loc:{start:{line:18,column:52},end:{line:22,column:3}},line:18},4:{name:"ensureHasNoRefs",decl:{start:{line:28,column:9},end:{line:28,column:24}},loc:{start:{line:28,column:32},end:{line:33,column:1}},line:28},5:{name:"ensureStyleValidity",decl:{start:{line:34,column:9},end:{line:34,column:28}},loc:{start:{line:34,column:36},end:{line:36,column:1}},line:34},6:{name:"indexOfLayer",decl:{start:{line:37,column:9},end:{line:37,column:21}},loc:{start:{line:37,column:39},end:{line:44,column:1}},line:37},7:{name:"getAccessToken",decl:{start:{line:45,column:9},end:{line:45,column:23}},loc:{start:{line:45,column:52},end:{line:52,column:1}},line:45},8:{name:"replaceSourceAccessToken",decl:{start:{line:53,column:9},end:{line:53,column:33}},loc:{start:{line:53,column:67},end:{line:87,column:1}},line:53},9:{name:"replaceAccessTokens",decl:{start:{line:88,column:9},end:{line:88,column:28}},loc:{start:{line:88,column:50},end:{line:103,column:1}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:90,column:40},end:{line:90,column:41}},loc:{start:{line:90,column:56},end:{line:92,column:3}},line:90},11:{name:"stripAccessTokens",decl:{start:{line:104,column:9},end:{line:104,column:26}},loc:{start:{line:104,column:37},end:{line:116,column:1}},line:104}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:39,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},3:{loc:{start:{line:46,column:19},end:{line:46,column:42}},type:"binary-expr",locations:[{start:{line:46,column:19},end:{line:46,column:36}},{start:{line:46,column:40},end:{line:46,column:42}}],line:46},4:{loc:{start:{line:48,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:48,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:48,column:6},end:{line:48,column:40}},type:"binary-expr",locations:[{start:{line:48,column:6},end:{line:48,column:24}},{start:{line:48,column:28},end:{line:48,column:40}}],line:48},6:{loc:{start:{line:53,column:56},end:{line:53,column:65}},type:"default-arg",locations:[{start:{line:53,column:63},end:{line:53,column:65}}],line:53},7:{loc:{start:{line:55,column:2},end:{line:55,column:31}},type:"if",locations:[{start:{line:55,column:2},end:{line:55,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:56,column:2},end:{line:56,column:57}},type:"if",locations:[{start:{line:56,column:2},end:{line:56,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},9:{loc:{start:{line:56,column:6},end:{line:56,column:39}},type:"binary-expr",locations:[{start:{line:56,column:6},end:{line:56,column:24}},{start:{line:56,column:28},end:{line:56,column:39}}],line:56},10:{loc:{start:{line:58,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:64,column:3}},{start:{line:60,column:9},end:{line:64,column:3}}],line:58},11:{loc:{start:{line:58,column:6},end:{line:58,column:89}},type:"binary-expr",locations:[{start:{line:58,column:6},end:{line:58,column:46}},{start:{line:58,column:50},end:{line:58,column:89}}],line:58},12:{loc:{start:{line:60,column:9},end:{line:64,column:3}},type:"if",locations:[{start:{line:60,column:9},end:{line:64,column:3}},{start:{line:62,column:9},end:{line:64,column:3}}],line:60},13:{loc:{start:{line:60,column:13},end:{line:60,column:70}},type:"binary-expr",locations:[{start:{line:60,column:13},end:{line:60,column:28}},{start:{line:60,column:32},end:{line:60,column:70}}],line:60},14:{loc:{start:{line:62,column:9},end:{line:64,column:3}},type:"if",locations:[{start:{line:62,column:9},end:{line:64,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},15:{loc:{start:{line:62,column:13},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:13},end:{line:62,column:28}},{start:{line:62,column:32},end:{line:62,column:70}}],line:62},16:{loc:{start:{line:66,column:2},end:{line:68,column:3}},type:"if",locations:[{start:{line:66,column:2},end:{line:68,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},17:{loc:{start:{line:70,column:2},end:{line:74,column:3}},type:"if",locations:[{start:{line:70,column:2},end:{line:74,column:3}},{start:{line:72,column:9},end:{line:74,column:3}}],line:70},18:{loc:{start:{line:88,column:39},end:{line:88,column:48}},type:"default-arg",locations:[{start:{line:88,column:46},end:{line:88,column:48}}],line:88},19:{loc:{start:{line:93,column:2},end:{line:101,column:3}},type:"if",locations:[{start:{line:93,column:2},end:{line:101,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},20:{loc:{start:{line:93,column:6},end:{line:93,column:114}},type:"binary-expr",locations:[{start:{line:93,column:6},end:{line:93,column:21}},{start:{line:93,column:26},end:{line:93,column:69}},{start:{line:93,column:73},end:{line:93,column:113}}],line:93},21:{loc:{start:{line:95,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:100,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0],19:[0,0],20:[0,0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAInB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAuE;AAC1F,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AAAA,EACxB;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAAiC;AAC/D,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAAiC;AACxD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAqD;AAChF,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC,OAAQ,QAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO,IAAK,QAAO;AAE7C,MAAI,iBAAiB;AACrB,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,qBAAiB;AAAA,EACnB,WACU,SAAS,UAAW,OAAO,KAAK,MAAM,mBAAmB,GAAG;AAGpE,qBAAiB;AAAA,EACnB,WACU,SAAS,UAAW,OAAO,KAAK,MAAM,mBAAmB,GAAG;AACpE,qBAAiB;AAAA,EACnB;AAEA,QAAM,cAAc,eAAe,gBAAgB,UAAU,IAAI;AAEjE,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,MAAI;AACJ,MAAI,kBAAkB,UAAU;AAI9B,gBAAY,GAAG,OAAO,GAAG,YAAY,WAAW;AAAA,EAClD,OAAO;AACL,gBAAY,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,EACrD;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK;AAAA,IACP;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO,gBAAgB,qCAAqC;AAC5D,SAAO,gBAAgB,8BAA8B;AACrD,SAAO,gBAAgB,kCAAkC;AACzD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"16e079a55cdd4175ffeada8708d6c49d219f1229"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Vn=function(){return l},l}Vn();const Vhe=(Vn().s[0]++,lG({version:8,sources:{},layers:[]}));function sG(){return Vn().f[0]++,Vn().s[1]++,Math.random().toString(36).substring(2,9)}function $he(n){return Vn().f[1]++,Vn().s[2]++,Vn().b[1][0]++,!("id"in n)||(Vn().b[1][1]++,!n.id)?(Vn().b[0][0]++,Vn().s[3]++,n.id=sG()):Vn().b[0][1]++,Vn().s[4]++,n}function Zhe(n){Vn().f[2]++;const e=(Vn().s[5]++,n.layers.map(t=>{Vn().f[3]++;const i=(Vn().s[6]++,{...t});return Vn().s[7]++,delete i.interactive,Vn().s[8]++,i}));return Vn().s[9]++,{...n,layers:e}}function Xhe(n){return Vn().f[4]++,Vn().s[10]++,{...n,layers:KB(n.layers)}}function lG(n){return Vn().f[5]++,Vn().s[11]++,Zhe(Xhe($he(n)))}function Jhe(n,e){Vn().f[6]++,Vn().s[12]++;for(let t=(Vn().s[13]++,0);t<n.length;t++){if(Vn().s[14]++,n[t].id===e)return Vn().b[2][0]++,Vn().s[15]++,t;Vn().b[2][1]++}return Vn().s[16]++,null}function i7(n,e,t){Vn().f[7]++;const i=(Vn().s[17]++,Vn().b[3][0]++,e.metadata||(Vn().b[3][1]++,{}));let r=(Vn().s[18]++,i[`maputnik:${n}_access_token`]);return Vn().s[19]++,Vn().b[5][0]++,t.allowFallback&&(Vn().b[5][1]++,!r)?(Vn().b[4][0]++,Vn().s[20]++,r=aG[n]):Vn().b[4][1]++,Vn().s[21]++,r}function ede(n,e,t=(Vn().b[6][0]++,{})){Vn().f[8]++;const i=(Vn().s[22]++,n.sources[e]);if(Vn().s[23]++,i)Vn().b[7][1]++;else return Vn().b[7][0]++,Vn().s[24]++,n;if(Vn().s[25]++,Vn().b[9][0]++,!("url"in i)||(Vn().b[9][1]++,!i.url))return Vn().b[8][0]++,Vn().s[26]++,n;Vn().b[8][1]++;let r=(Vn().s[27]++,e);Vn().s[28]++,Vn().b[11][0]++,e==="thunderforest_transport"||(Vn().b[11][1]++,e==="thunderforest_outdoors")?(Vn().b[10][0]++,Vn().s[29]++,r="thunderforest"):(Vn().b[10][1]++,Vn().s[30]++,Vn().b[13][0]++,"url"in i&&(Vn().b[13][1]++,i.url?.match(/\.stadiamaps\.com/))?(Vn().b[12][0]++,Vn().s[31]++,r="stadia"):(Vn().b[12][1]++,Vn().s[32]++,Vn().b[15][0]++,"url"in i&&(Vn().b[15][1]++,i.url?.match(/\.locationiq\.com/))?(Vn().b[14][0]++,Vn().s[33]++,r="locationiq"):Vn().b[14][1]++));const a=(Vn().s[34]++,i7(r,n,t));if(Vn().s[35]++,a)Vn().b[16][1]++;else return Vn().b[16][0]++,Vn().s[36]++,n;let l;Vn().s[37]++,r=="stadia"?(Vn().b[17][0]++,Vn().s[38]++,l=`${i.url}?api_key=${a}`):(Vn().b[17][1]++,Vn().s[39]++,l=i.url.replace("{key}",a));const o=(Vn().s[40]++,{...n.sources,[e]:{...i,url:l}}),p=(Vn().s[41]++,{...n,sources:o});return Vn().s[42]++,p}function tde(n,e=(Vn().b[18][0]++,{})){Vn().f[9]++;let t=(Vn().s[43]++,n);if(Vn().s[44]++,Object.keys(n.sources).forEach(i=>{Vn().f[10]++,Vn().s[45]++,t=ede(t,i,e)}),Vn().s[46]++,Vn().b[20][0]++,n.glyphs&&(Vn().b[20][1]++,n.glyphs.match(/\.tilehosting\.com/)||(Vn().b[20][2]++,n.glyphs.match(/\.maptiler\.com/)))){Vn().b[19][0]++;const i=(Vn().s[47]++,i7("openmaptiles",n,e));Vn().s[48]++,i?(Vn().b[21][0]++,Vn().s[49]++,t={...t,glyphs:n.glyphs.replace("{key}",i)}):Vn().b[21][1]++}else Vn().b[19][1]++;return Vn().s[50]++,t}function nde(n){Vn().f[11]++;const e=(Vn().s[51]++,{...n.metadata});return Vn().s[52]++,delete e["maputnik:openmaptiles_access_token"],Vn().s[53]++,delete e["maputnik:thunderforest_access_token"],Vn().s[54]++,delete e["maputnik:stadia_access_token"],Vn().s[55]++,delete e["maputnik:locationiq_access_token"],Vn().s[56]++,{...n,metadata:e}}const Vd={ensureStyleValidity:lG,emptyStyle:Vhe,indexOfLayer:Jhe,generateId:sG,getAccessToken:i7,replaceAccessTokens:tde,stripAccessTokens:nde};function Ki(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalExport.tsx",e="0479ae849bf143a83f826f9fdcad7b323ec1b109",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalExport.tsx",statementMap:{0:{start:{line:14,column:28},end:{line:14,column:35}},1:{start:{line:15,column:36},end:{line:15,column:83}},2:{start:{line:18,column:4},end:{line:22,column:6}},3:{start:{line:25,column:4},end:{line:33,column:5}},4:{start:{line:26,column:6},end:{line:30,column:9}},5:{start:{line:32,column:6},end:{line:32,column:36}},6:{start:{line:36,column:23},end:{line:36,column:44}},7:{start:{line:37,column:22},end:{line:37,column:69}},8:{start:{line:38,column:17},end:{line:62,column:1}},9:{start:{line:63,column:17},end:{line:63,column:70}},10:{start:{line:64,column:23},end:{line:64,column:40}},11:{start:{line:65,column:4},end:{line:65,column:39}},12:{start:{line:68,column:23},end:{line:68,column:44}},13:{start:{line:69,column:4},end:{line:74,column:5}},14:{start:{line:70,column:19},end:{line:70,column:85}},15:{start:{line:71,column:25},end:{line:71,column:42}},16:{start:{line:72,column:6},end:{line:72,column:41}},17:{start:{line:73,column:6},end:{line:73,column:13}},18:{start:{line:75,column:21},end:{line:75,column:42}},19:{start:{line:76,column:4},end:{line:80,column:5}},20:{start:{line:77,column:6},end:{line:77,column:49}},21:{start:{line:78,column:6},end:{line:78,column:45}},22:{start:{line:79,column:6},end:{line:79,column:37}},23:{start:{line:79,column:30},end:{line:79,column:37}},24:{start:{line:81,column:21},end:{line:81,column:54}},25:{start:{line:82,column:4},end:{line:82,column:37}},26:{start:{line:83,column:4},end:{line:83,column:27}},27:{start:{line:84,column:4},end:{line:84,column:30}},28:{start:{line:87,column:23},end:{line:87,column:44}},29:{start:{line:88,column:23},end:{line:88,column:52}},30:{start:{line:89,column:4},end:{line:89,column:43}},31:{start:{line:90,column:4},end:{line:90,column:35}},32:{start:{line:90,column:28},end:{line:90,column:35}},33:{start:{line:91,column:21},end:{line:91,column:54}},34:{start:{line:92,column:4},end:{line:92,column:37}},35:{start:{line:93,column:4},end:{line:93,column:27}},36:{start:{line:94,column:4},end:{line:94,column:30}},37:{start:{line:97,column:23},end:{line:105,column:5}},38:{start:{line:106,column:23},end:{line:106,column:66}},39:{start:{line:107,column:4},end:{line:107,column:43}},40:{start:{line:108,column:4},end:{line:108,column:22}},41:{start:{line:111,column:25},end:{line:117,column:5}},42:{start:{line:118,column:4},end:{line:118,column:44}},43:{start:{line:121,column:14},end:{line:121,column:26}},44:{start:{line:122,column:16},end:{line:122,column:38}},45:{start:{line:123,column:4},end:{line:188,column:6}},46:{start:{line:191,column:20},end:{line:191,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:19},end:{line:23,column:3}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:15},end:{line:34,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:15},end:{line:66,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:20},end:{line:85,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:22},end:{line:95,column:3}},line:86},5:{name:"(anonymous_5)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:27},end:{line:109,column:3}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:42},end:{line:119,column:3}},line:110},7:{name:"(anonymous_7)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:11},end:{line:189,column:3}},line:120}},branchMap:{0:{loc:{start:{line:25,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:25},1:{loc:{start:{line:37,column:22},end:{line:37,column:69}},type:"binary-expr",locations:[{start:{line:37,column:22},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:69}}],line:37},2:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:76,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76},4:{loc:{start:{line:79,column:6},end:{line:79,column:37}},type:"if",locations:[{start:{line:79,column:6},end:{line:79,column:37}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},5:{loc:{start:{line:90,column:4},end:{line:90,column:35}},type:"if",locations:[{start:{line:90,column:4},end:{line:90,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},6:{loc:{start:{line:140,column:24},end:{line:140,column:58}},type:"binary-expr",locations:[{start:{line:140,column:24},end:{line:140,column:52}},{start:{line:140,column:56},end:{line:140,column:58}}],line:140},7:{loc:{start:{line:149,column:24},end:{line:149,column:58}},type:"binary-expr",locations:[{start:{line:149,column:24},end:{line:149,column:52}},{start:{line:149,column:56},end:{line:149,column:58}}],line:149},8:{loc:{start:{line:158,column:24},end:{line:158,column:58}},type:"binary-expr",locations:[{start:{line:158,column:24},end:{line:158,column:52}},{start:{line:158,column:56},end:{line:158,column:58}}],line:158},9:{loc:{start:{line:167,column:24},end:{line:167,column:58}},type:"binary-expr",locations:[{start:{line:167,column:24},end:{line:167,column:52}},{start:{line:167,column:56},end:{line:167,column:58}}],line:167},10:{loc:{start:{line:177,column:12},end:{line:180,column:16}},type:"binary-expr",locations:[{start:{line:177,column:12},end:{line:177,column:39}},{start:{line:177,column:59},end:{line:180,column:16}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalExport.tsx"],names:[],mappings:"AAoKQ,cAKA,YALA;AApKR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AACrB,SAAQ,OAAO,cAAa;AAC5B,SAA8B,uBAAsB;AAEpD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAIhC,MAAM,sBAAsB;AAC5B,MAAM,8BAA8B,OAAO,OAAO,uBAAuB;AAazE,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAE1E,iBAAiB;AACf,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAa;AACX,QAAI,KAAK,MAAM,SAAS,MAAM;AAC5B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,aAAa;AACX,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ,KAAK,MAAM,EAAE,KAAK;AAChE,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,MAAM,YAAY;AAChB,UAAM,aAAa,KAAK,eAAe;AAIvC,QAAI,CAAC,6BAA6B;AAChC,YAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,YAAM,aAAa,KAAK,WAAW;AACnC,aAAO,MAAM,aAAa,OAAO;AACjC;AAAA,IACF;AAEA,QAAI,aAAa,KAAK,MAAM;AAC5B,QAAI,cAAc,MAAM;AACtB,mBAAa,MAAM,KAAK,iBAAiB;AACzC,WAAK,MAAM,gBAAgB,UAAU;AACrC,UAAI,cAAc,KAAM;AAAA,IAC1B;AAEA,UAAM,WAAW,MAAM,WAAW,eAAe;AACjD,UAAM,SAAS,MAAM,UAAU;AAC/B,UAAM,SAAS,MAAM;AACrB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,cAAc;AAClB,UAAM,aAAa,KAAK,eAAe;AAEvC,UAAM,aAAa,MAAM,KAAK,iBAAiB;AAC/C,SAAK,MAAM,gBAAgB,UAAU;AACrC,QAAI,cAAc,KAAM;AAExB,UAAM,WAAW,MAAM,WAAW,eAAe;AACjD,UAAM,SAAS,MAAM,UAAU;AAC/B,UAAM,SAAS,MAAM;AACrB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,mBAAyD;AAC7D,UAAM,aAAoC;AAAA,MACxC,OAAO;AAAA,QACL;AAAA,UACE,aAAa;AAAA,UACb,QAAQ,EAAC,oBAAoB,CAAC,OAAO,EAAC;AAAA,QACxC;AAAA,MACF;AAAA,MACA,eAAe,KAAK,WAAW;AAAA,IACjC;AAEA,UAAM,aAAa,MAAM,OAAO,mBAAmB,UAAU;AAC7D,SAAK,MAAM,gBAAgB,UAAU;AACrC,WAAO;AAAA,EACT;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,MAAM,oBAAoB,CAAC;AACjC,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,YAAY;AAAA,QACrB,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAI,YAAE,YAAY,GAAE;AAAA,UACrB,oBAAC,OACE,YAAE,uCAAuC,GAC5C;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,gBAC1C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,gBAC/C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,gBACxC,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,8BAA8B;AAAA,gBACjF,UAAU,KAAK,uBAAuB,KAAK,MAAM,8BAA8B;AAAA;AAAA,YACjF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,wBAAwB;AAAA,gBAC5C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,kCAAkC;AAAA,gBACrF,UAAU,KAAK,uBAAuB,KAAK,MAAM,kCAAkC;AAAA;AAAA,YACrF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA,iCAAC,eAAY,SAAS,KAAK,UAAU,KAAK,IAAI,GAC5C;AAAA,kCAAC,UAAM;AAAA,cACN,EAAE,MAAM;AAAA,eACX;AAAA,YACC,+BACC,qBAAC,eAAY,SAAS,KAAK,YAAY,KAAK,IAAI,GAC9C;AAAA,kCAAC,UAAM;AAAA,cACN,EAAE,SAAS;AAAA,eACd;AAAA,YAGF,qBAAC,eAAY,SAAS,KAAK,WAAW,KAAK,IAAI,GAC7C;AAAA,kCAAC,SAAK;AAAA,cACL,EAAE,aAAa;AAAA,eAClB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0479ae849bf143a83f826f9fdcad7b323ec1b109"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Ki=function(){return l},l}Ki();const BK=(Ki().s[0]++,Qhe),OK=(Ki().s[1]++,typeof window.showSaveFilePicker=="function");class ide extends ni.Component{tokenizedStyle(){return Ki().f[0]++,Ki().s[2]++,sV(Vd.stripAccessTokens(Vd.replaceAccessTokens(this.props.mapStyle)))}exportName(){return Ki().f[1]++,Ki().s[3]++,this.props.mapStyle.name?(Ki().b[0][0]++,Ki().s[4]++,Nhe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(Ki().b[0][1]++,Ki().s[5]++,this.props.mapStyle.id)}createHtml(){Ki().f[2]++;const e=(Ki().s[6]++,this.tokenizedStyle()),t=(Ki().s[7]++,Ki().b[1][0]++,this.props.mapStyle.name||(Ki().b[1][1]++,this.props.t("Map"))),i=(Ki().s[8]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${t}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${BK}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${BK}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${e},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),r=(Ki().s[9]++,new Blob([i],{type:"text/html;charset=utf-8"})),a=(Ki().s[10]++,this.exportName());Ki().s[11]++,EK.saveAs(r,a+".html")}async saveStyle(){Ki().f[3]++;const e=(Ki().s[12]++,this.tokenizedStyle());if(Ki().s[13]++,OK)Ki().b[2][1]++;else{Ki().b[2][0]++;const r=(Ki().s[14]++,new Blob([e],{type:"application/json;charset=utf-8"})),a=(Ki().s[15]++,this.exportName());Ki().s[16]++,EK.saveAs(r,a+".json"),Ki().s[17]++;return}let t=(Ki().s[18]++,this.props.fileHandle);if(Ki().s[19]++,t==null)if(Ki().b[3][0]++,Ki().s[20]++,t=await this.createFileHandle(),Ki().s[21]++,this.props.onSetFileHandle(t),Ki().s[22]++,t==null){Ki().b[4][0]++,Ki().s[23]++;return}else Ki().b[4][1]++;else Ki().b[3][1]++;const i=(Ki().s[24]++,await t.createWritable());Ki().s[25]++,await i.write(e),Ki().s[26]++,await i.close(),Ki().s[27]++,this.props.onOpenToggle()}async saveStyleAs(){Ki().f[4]++;const e=(Ki().s[28]++,this.tokenizedStyle()),t=(Ki().s[29]++,await this.createFileHandle());if(Ki().s[30]++,this.props.onSetFileHandle(t),Ki().s[31]++,t==null){Ki().b[5][0]++,Ki().s[32]++;return}else Ki().b[5][1]++;const i=(Ki().s[33]++,await t.createWritable());Ki().s[34]++,await i.write(e),Ki().s[35]++,await i.close(),Ki().s[36]++,this.props.onOpenToggle()}async createFileHandle(){Ki().f[5]++;const e=(Ki().s[37]++,{types:[{description:"json",accept:{"application/json":[".json"]}}],suggestedName:this.exportName()}),t=(Ki().s[38]++,await window.showSaveFilePicker(e));return Ki().s[39]++,this.props.onSetFileHandle(t),Ki().s[40]++,t}changeMetadataProperty(e,t){Ki().f[6]++;const i=(Ki().s[41]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[e]:t}});Ki().s[42]++,this.props.onStyleChanged(i)}render(){Ki().f[7]++;const e=(Ki().s[43]++,this.props.t),t=(Ki().s[44]++,oG(e));return Ki().s[45]++,Ae.jsx(Q0,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Save Style"),className:"maputnik-export-modal",children:Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Save Style")}),Ae.jsx("p",{children:e("Save the JSON style to your computer.")}),Ae.jsxs("div",{children:[Ae.jsx(Gd,{label:t.maputnik.maptiler_access_token.label,fieldSpec:t.maputnik.maptiler_access_token,value:(Ki().b[6][0]++,this.props.mapStyle.metadata||(Ki().b[6][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),Ae.jsx(Gd,{label:t.maputnik.thunderforest_access_token.label,fieldSpec:t.maputnik.thunderforest_access_token,value:(Ki().b[7][0]++,this.props.mapStyle.metadata||(Ki().b[7][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")}),Ae.jsx(Gd,{label:t.maputnik.stadia_access_token.label,fieldSpec:t.maputnik.stadia_access_token,value:(Ki().b[8][0]++,this.props.mapStyle.metadata||(Ki().b[8][1]++,{}))["maputnik:stadia_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:stadia_access_token")}),Ae.jsx(Gd,{label:t.maputnik.locationiq_access_token.label,fieldSpec:t.maputnik.locationiq_access_token,value:(Ki().b[9][0]++,this.props.mapStyle.metadata||(Ki().b[9][1]++,{}))["maputnik:locationiq_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:locationiq_access_token")})]}),Ae.jsxs("div",{className:"maputnik-modal-export-buttons",children:[Ae.jsxs(Fs,{onClick:this.saveStyle.bind(this),children:[Ae.jsx(I6,{}),e("Save")]}),(Ki().b[10][0]++,OK&&(Ki().b[10][1]++,Ae.jsxs(Fs,{onClick:this.saveStyleAs.bind(this),children:[Ae.jsx(I6,{}),e("Save as")]}))),Ae.jsxs(Fs,{onClick:this.createHtml.bind(this),children:[Ae.jsx($$,{}),e("Create HTML")]})]})]})})}}const rde=(Ki().s[46]++,es()(ide));function eb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",e="d4204cb1114c57682afd09034f9cc8268e27db52",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:4,column:26},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:127}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:26},end:{line:4,column:27}},loc:{start:{line:4,column:37},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAUM;AAVN,OAAO,uBAAsD;AAC7D,OAAO,cAAc;AAMrB,MAAM,oBAAsD,CAAC,UAAU;AACrE,SACE,oBAAC,YAAS,OAAO,MAAM,OACrB,8BAAC,qBAAmB,GAAG,OAAO,GAChC;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d4204cb1114c57682afd09034f9cc8268e27db52"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return eb=function(){return l},l}eb();eb().s[0]++;const AG=n=>(eb().f[0]++,eb().s[1]++,Ae.jsx(xg,{label:n.label,children:Ae.jsx(Rx,{...n})}));function tb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",e="10be4a5b6db1d1fa2555f9b6247244050c0b65b8",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:4,column:22},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:120}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:22},end:{line:4,column:23}},loc:{start:{line:4,column:33},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO,mBAA8C;AAQrD,MAAM,gBAA8C,CAAC,UAAU;AAC7D,SACE,oBAAC,SAAM,OAAO,MAAM,OAClB,8BAAC,iBAAe,GAAG,OAAO,GAC5B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"10be4a5b6db1d1fa2555f9b6247244050c0b65b8"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return tb=function(){return l},l}tb();tb().s[0]++;const ode=n=>(tb().f[0]++,tb().s[1]++,Ae.jsx(Ls,{label:n.label,children:Ae.jsx(XN,{...n})}));function jn(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalSourcesTypeEditor.tsx",e="1f220127d89aec18a8d03a025096d2965f87dac7",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:15,column:14},end:{line:15,column:26}},1:{start:{line:16,column:4},end:{line:30,column:9}},2:{start:{line:23,column:29},end:{line:26,column:12}},3:{start:{line:35,column:4},end:{line:38,column:7}},4:{start:{line:41,column:18},end:{line:41,column:47}},5:{start:{line:42,column:4},end:{line:51,column:6}},6:{start:{line:54,column:14},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:99,column:9}},8:{start:{line:66,column:32},end:{line:69,column:12}},9:{start:{line:80,column:33},end:{line:83,column:12}},10:{start:{line:92,column:33},end:{line:95,column:12}},11:{start:{line:102,column:27},end:{line:107,column:1}},12:{start:{line:102,column:34},end:{line:107,column:1}},13:{start:{line:110,column:14},end:{line:110,column:26}},14:{start:{line:111,column:24},end:{line:118,column:5}},15:{start:{line:112,column:26},end:{line:112,column:64}},16:{start:{line:113,column:6},end:{line:113,column:29}},17:{start:{line:114,column:6},end:{line:117,column:9}},18:{start:{line:119,column:4},end:{line:146,column:9}},19:{start:{line:126,column:29},end:{line:129,column:12}},20:{start:{line:133,column:8},end:{line:144,column:10}},21:{start:{line:141,column:31},end:{line:141,column:52}},22:{start:{line:151,column:14},end:{line:151,column:26}},23:{start:{line:152,column:24},end:{line:159,column:5}},24:{start:{line:153,column:26},end:{line:153,column:64}},25:{start:{line:154,column:6},end:{line:154,column:29}},26:{start:{line:155,column:6},end:{line:158,column:9}},27:{start:{line:160,column:23},end:{line:165,column:5}},28:{start:{line:161,column:6},end:{line:164,column:9}},29:{start:{line:166,column:4},end:{line:192,column:9}},30:{start:{line:179,column:8},end:{line:190,column:10}},31:{start:{line:187,column:31},end:{line:187,column:52}},32:{start:{line:197,column:14},end:{line:197,column:26}},33:{start:{line:198,column:4},end:{line:209,column:6}},34:{start:{line:204,column:28},end:{line:207,column:10}},35:{start:{line:214,column:14},end:{line:214,column:26}},36:{start:{line:215,column:4},end:{line:247,column:9}},37:{start:{line:227,column:12},end:{line:230,column:15}},38:{start:{line:240,column:12},end:{line:243,column:15}},39:{start:{line:252,column:14},end:{line:252,column:26}},40:{start:{line:253,column:4},end:{line:268,column:9}},41:{start:{line:261,column:29},end:{line:264,column:12}},42:{start:{line:273,column:14},end:{line:273,column:26}},43:{start:{line:274,column:24},end:{line:280,column:5}},44:{start:{line:281,column:4},end:{line:345,column:5}},45:{start:{line:283,column:8},end:{line:283,column:79}},46:{start:{line:285,column:8},end:{line:285,column:85}},47:{start:{line:287,column:8},end:{line:287,column:77}},48:{start:{line:289,column:8},end:{line:289,column:76}},49:{start:{line:291,column:8},end:{line:291,column:77}},50:{start:{line:293,column:8},end:{line:305,column:13}},51:{start:{line:298,column:36},end:{line:301,column:14}},52:{start:{line:307,column:8},end:{line:307,column:77}},53:{start:{line:309,column:8},end:{line:336,column:13}},54:{start:{line:315,column:38},end:{line:318,column:16}},55:{start:{line:329,column:38},end:{line:332,column:16}},56:{start:{line:338,column:8},end:{line:338,column:76}},57:{start:{line:340,column:8},end:{line:340,column:74}},58:{start:{line:342,column:8},end:{line:342,column:74}},59:{start:{line:344,column:8},end:{line:344,column:20}},60:{start:{line:348,column:31},end:{line:348,column:80}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:31,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:23,column:20},end:{line:23,column:21}},loc:{start:{line:23,column:29},end:{line:26,column:12}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:24},end:{line:39,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:19},end:{line:52,column:3}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:100,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:66,column:20},end:{line:66,column:21}},loc:{start:{line:66,column:32},end:{line:69,column:12}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:80,column:20},end:{line:80,column:21}},loc:{start:{line:80,column:33},end:{line:83,column:12}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:92,column:20},end:{line:92,column:21}},loc:{start:{line:92,column:33},end:{line:95,column:12}},line:92},8:{name:"(anonymous_8)",decl:{start:{line:102,column:27},end:{line:102,column:28}},loc:{start:{line:102,column:34},end:{line:107,column:1}},line:102},9:{name:"(anonymous_9)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:11},end:{line:147,column:3}},line:109},10:{name:"(anonymous_10)",decl:{start:{line:111,column:24},end:{line:111,column:25}},loc:{start:{line:111,column:38},end:{line:118,column:5}},line:111},11:{name:"(anonymous_11)",decl:{start:{line:126,column:20},end:{line:126,column:21}},loc:{start:{line:126,column:29},end:{line:129,column:12}},line:126},12:{name:"(anonymous_12)",decl:{start:{line:132,column:32},end:{line:132,column:33}},loc:{start:{line:132,column:57},end:{line:145,column:7}},line:132},13:{name:"(anonymous_13)",decl:{start:{line:141,column:22},end:{line:141,column:23}},loc:{start:{line:141,column:31},end:{line:141,column:52}},line:141},14:{name:"(anonymous_14)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:11},end:{line:193,column:3}},line:150},15:{name:"(anonymous_15)",decl:{start:{line:152,column:24},end:{line:152,column:25}},loc:{start:{line:152,column:38},end:{line:159,column:5}},line:152},16:{name:"(anonymous_16)",decl:{start:{line:160,column:23},end:{line:160,column:24}},loc:{start:{line:160,column:33},end:{line:165,column:5}},line:160},17:{name:"(anonymous_17)",decl:{start:{line:178,column:32},end:{line:178,column:33}},loc:{start:{line:178,column:57},end:{line:191,column:7}},line:178},18:{name:"(anonymous_18)",decl:{start:{line:187,column:22},end:{line:187,column:23}},loc:{start:{line:187,column:31},end:{line:187,column:52}},line:187},19:{name:"(anonymous_19)",decl:{start:{line:196,column:2},end:{line:196,column:3}},loc:{start:{line:196,column:11},end:{line:210,column:3}},line:196},20:{name:"(anonymous_20)",decl:{start:{line:204,column:18},end:{line:204,column:19}},loc:{start:{line:204,column:28},end:{line:207,column:10}},line:204},21:{name:"(anonymous_21)",decl:{start:{line:213,column:2},end:{line:213,column:3}},loc:{start:{line:213,column:11},end:{line:248,column:3}},line:213},22:{name:"(anonymous_22)",decl:{start:{line:226,column:20},end:{line:226,column:21}},loc:{start:{line:226,column:30},end:{line:231,column:11}},line:226},23:{name:"(anonymous_23)",decl:{start:{line:239,column:20},end:{line:239,column:21}},loc:{start:{line:239,column:33},end:{line:244,column:11}},line:239},24:{name:"(anonymous_24)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:11},end:{line:269,column:3}},line:251},25:{name:"(anonymous_25)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:264,column:12}},line:261},26:{name:"(anonymous_26)",decl:{start:{line:272,column:2},end:{line:272,column:3}},loc:{start:{line:272,column:11},end:{line:346,column:3}},line:272},27:{name:"(anonymous_27)",decl:{start:{line:298,column:22},end:{line:298,column:23}},loc:{start:{line:298,column:36},end:{line:301,column:14}},line:298},28:{name:"(anonymous_28)",decl:{start:{line:315,column:24},end:{line:315,column:25}},loc:{start:{line:315,column:38},end:{line:318,column:16}},line:315},29:{name:"(anonymous_29)",decl:{start:{line:329,column:24},end:{line:329,column:25}},loc:{start:{line:329,column:38},end:{line:332,column:16}},line:329}},branchMap:{0:{loc:{start:{line:41,column:18},end:{line:41,column:47}},type:"binary-expr",locations:[{start:{line:41,column:18},end:{line:41,column:41}},{start:{line:41,column:45},end:{line:41,column:47}}],line:41},1:{loc:{start:{line:79,column:17},end:{line:79,column:47}},type:"binary-expr",locations:[{start:{line:79,column:17},end:{line:79,column:42}},{start:{line:79,column:46},end:{line:79,column:47}}],line:79},2:{loc:{start:{line:91,column:17},end:{line:91,column:48}},type:"binary-expr",locations:[{start:{line:91,column:17},end:{line:91,column:42}},{start:{line:91,column:46},end:{line:91,column:48}}],line:91},3:{loc:{start:{line:263,column:17},end:{line:263,column:72}},type:"cond-expr",locations:[{start:{line:263,column:48},end:{line:263,column:51}},{start:{line:263,column:54},end:{line:263,column:72}}],line:263},4:{loc:{start:{line:281,column:4},end:{line:345,column:5}},type:"switch",locations:[{start:{line:282,column:6},end:{line:283,column:79}},{start:{line:284,column:6},end:{line:285,column:85}},{start:{line:286,column:6},end:{line:287,column:77}},{start:{line:288,column:6},end:{line:289,column:76}},{start:{line:290,column:6},end:{line:291,column:77}},{start:{line:292,column:6},end:{line:305,column:13}},{start:{line:306,column:6},end:{line:307,column:77}},{start:{line:308,column:6},end:{line:336,column:13}},{start:{line:337,column:6},end:{line:338,column:76}},{start:{line:339,column:6},end:{line:340,column:74}},{start:{line:341,column:6},end:{line:342,column:74}},{start:{line:343,column:6},end:{line:344,column:20}}],line:281},5:{loc:{start:{line:302,column:19},end:{line:302,column:86}},type:"binary-expr",locations:[{start:{line:302,column:19},end:{line:302,column:45}},{start:{line:302,column:49},end:{line:302,column:86}}],line:302},6:{loc:{start:{line:319,column:21},end:{line:319,column:92}},type:"binary-expr",locations:[{start:{line:319,column:21},end:{line:319,column:47}},{start:{line:319,column:51},end:{line:319,column:92}}],line:319},7:{loc:{start:{line:333,column:21},end:{line:333,column:92}},type:"binary-expr",locations:[{start:{line:333,column:21},end:{line:333,column:47}},{start:{line:333,column:51},end:{line:333,column:92}}],line:333}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AA6BW,SACL,KADK;AA7BX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,SAA+B,uBAAuB;AAGtD,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAc1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,cAAc;AAAA,UACvB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAaA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM,EAAE,UAAU;AAAA,QAC9B,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW,OAAO,cAAc;AAAA,UAChC,SAAS;AAAA,YACP,CAAC,OAAO,mCAAmC;AAAA,YAC3C,CAAC,OAAO,yBAAyB;AAAA,UACnC;AAAA,UACA,UAAU,YAAU,KAAK,MAAM,SAAS;AAAA,YACtC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA,UACD,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAEA,MAAM,qBAAyE,CAAC,MAAO;AAAA,EACrF,EAAE,OAAO,EAAE,gBAAgB,GAAG,KAAK,WAAW;AAAA,EAC9C,EAAE,OAAO,EAAE,iBAAiB,GAAG,KAAK,YAAY;AAAA,EAChD,EAAE,OAAO,EAAE,oBAAoB,GAAG,KAAK,eAAe;AAAA,EACtD,EAAE,OAAO,EAAE,mBAAmB,GAAG,KAAK,cAAc;AACtD;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,aAAa;AAAA,QACtB,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,EAAE,SAAS,GAAG,WAAW,OAAO,eAAe,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,SAAS;AAAA,UAClB,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAUA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,eAAY;AAAA,UACZ,UAAU,CAAC,QAAgB,KAAK,MAAM,SAAS;AAAA,YAC7C,GAAG,KAAK,MAAM;AAAA,YACd,KAAK,IAAI,WAAW,YAAY,IAAI,MAAM,aAAa,GAAG;AAAA,UAC5D,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAQA,MAAM,uCAAuC,MAAM,UAA+C;AAAA,EAChG,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,MACrB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM,KAAK,MAAM;AAAA,MACjB,QAAQ,KAAK,MAAM;AAAA,IACrB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACtB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACjE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAClD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,WAAW;AAAA,YACpB,WAAW,OAAO,cAAc;AAAA,YAChC,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,cAAc,SAAS;AAAA,YACnE,eAAY;AAAA;AAAA,QACd,GACF;AAAA,MACA,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,qBAAC,uBAAqB,GAAG,aACzD;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,WAAW;AAAA,cACpB,WAAW,OAAO,kBAAkB;AAAA,cACpC,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,gBACxC,GAAG,KAAK,MAAM;AAAA,gBACd;AAAA,cACF,CAAC;AAAA,cACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA,cACvE,eAAY;AAAA;AAAA,UACd;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,UAAU;AAAA,cACnB,WAAW,OAAO,kBAAkB;AAAA,cACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,cAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,gBACxC,GAAG,KAAK,MAAM;AAAA,gBACd;AAAA,cACF,CAAC;AAAA,cACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,UACzE;AAAA,WACF;AAAA,MACA,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAClB;AAAA,EACF;AACF;AAEA,MAAM,yBAAyB,gBAAgB,EAAE,8BAA8B;AAC/E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1f220127d89aec18a8d03a025096d2965f87dac7"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return jn=function(){return l},l}jn();class dE extends ni.Component{render(){jn().f[0]++;const e=(jn().s[0]++,this.props.t);return jn().s[1]++,Ae.jsxs("div",{children:[Ae.jsx(Gv,{label:e("TileJSON URL"),fieldSpec:Xa.source_vector.url,value:this.props.source.url,onChange:t=>(jn().f[1]++,jn().s[2]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class fE extends ni.Component{changeTileUrls(e){jn().f[2]++,jn().s[3]++,this.props.onChange({...this.props.source,tiles:e})}renderTileUrls(){jn().f[3]++;const e=(jn().s[4]++,jn().b[0][0]++,this.props.source.tiles||(jn().b[0][1]++,[]));return jn().s[5]++,Ae.jsx(AG,{label:this.props.t("Tile URL"),fieldSpec:Xa.source_vector.tiles,type:"url",value:e,onChange:this.changeTileUrls.bind(this)})}render(){jn().f[4]++;const e=(jn().s[6]++,this.props.t);return jn().s[7]++,Ae.jsxs("div",{children:[this.renderTileUrls(),Ae.jsx(J2,{label:e("Scheme Type"),fieldSpec:Xa.source_vector.scheme,options:[["xyz","xyz (Slippy map tilenames scheme)"],["tms","tms (OSGeo spec scheme)"]],onChange:t=>(jn().f[5]++,jn().s[8]++,this.props.onChange({...this.props.source,scheme:t})),value:this.props.source.scheme,"data-wd-key":"modal:sources.add.scheme_type"}),Ae.jsx(Zp,{label:e("Min Zoom"),fieldSpec:Xa.source_vector.minzoom,value:(jn().b[1][0]++,this.props.source.minzoom||(jn().b[1][1]++,0)),onChange:t=>(jn().f[6]++,jn().s[9]++,this.props.onChange({...this.props.source,minzoom:t}))}),Ae.jsx(Zp,{label:e("Max Zoom"),fieldSpec:Xa.source_vector.maxzoom,value:(jn().b[2][0]++,this.props.source.maxzoom||(jn().b[2][1]++,22)),onChange:t=>(jn().f[7]++,jn().s[10]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}jn().s[11]++;const uG=n=>(jn().f[8]++,jn().s[12]++,[{label:n("Coord top left"),key:"top left"},{label:n("Coord top right"),key:"top right"},{label:n("Coord bottom right"),key:"bottom right"},{label:n("Coord bottom left"),key:"bottom left"}]);class ade extends ni.Component{render(){jn().f[9]++;const e=(jn().s[13]++,this.props.t);jn().s[14]++;const t=(i,r)=>{jn().f[10]++;const a=(jn().s[15]++,this.props.source.coordinates.slice(0));jn().s[16]++,a[i]=r,jn().s[17]++,this.props.onChange({...this.props.source,coordinates:a})};return jn().s[18]++,Ae.jsxs("div",{children:[Ae.jsx(Gv,{label:e("Image URL"),fieldSpec:Xa.source_image.url,value:this.props.source.url,onChange:i=>(jn().f[11]++,jn().s[19]++,this.props.onChange({...this.props.source,url:i}))}),uG(e).map(({label:i,key:r},a)=>(jn().f[12]++,jn().s[20]++,Ae.jsx(O3,{label:i,length:2,type:"number",value:this.props.source.coordinates[a],default:[0,0],onChange:l=>(jn().f[13]++,jn().s[21]++,t(a,l))},r)))]})}}class sde extends ni.Component{render(){jn().f[14]++;const e=(jn().s[22]++,this.props.t);jn().s[23]++;const t=(r,a)=>{jn().f[15]++;const l=(jn().s[24]++,this.props.source.coordinates.slice(0));jn().s[25]++,l[r]=a,jn().s[26]++,this.props.onChange({...this.props.source,coordinates:l})};jn().s[27]++;const i=r=>{jn().f[16]++,jn().s[28]++,this.props.onChange({...this.props.source,urls:r})};return jn().s[29]++,Ae.jsxs("div",{children:[Ae.jsx(AG,{label:e("Video URL"),fieldSpec:Xa.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:i}),uG(e).map(({label:r,key:a},l)=>(jn().f[17]++,jn().s[30]++,Ae.jsx(O3,{label:r,length:2,type:"number",value:this.props.source.coordinates[l],default:[0,0],onChange:o=>(jn().f[18]++,jn().s[31]++,t(l,o))},a)))]})}}class lde extends ni.Component{render(){jn().f[19]++;const e=(jn().s[32]++,this.props.t);return jn().s[33]++,Ae.jsx(Gv,{label:e("GeoJSON URL"),fieldSpec:Xa.source_geojson.data,value:this.props.source.data,onChange:t=>(jn().f[20]++,jn().s[34]++,this.props.onChange({...this.props.source,data:t}))})}}class Ade extends ni.Component{render(){jn().f[21]++;const e=(jn().s[35]++,this.props.t);return jn().s[36]++,Ae.jsxs("div",{children:[Ae.jsx(Ls,{label:e("GeoJSON"),fieldSpec:Xa.source_geojson.data,children:Ae.jsx(D8,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{jn().f[22]++,jn().s[37]++,this.props.onChange({...this.props.source,data:t})}})}),Ae.jsx(ode,{label:e("Cluster"),value:this.props.source.cluster,onChange:t=>{jn().f[23]++,jn().s[38]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class ude extends ni.Component{render(){jn().f[24]++;const e=(jn().s[39]++,this.props.t);return jn().s[40]++,Ae.jsxs("div",{children:[Ae.jsx(Gv,{label:e("PMTiles URL"),fieldSpec:Xa.source_vector.url,value:this.props.source.url,"data-wd-key":"modal:sources.add.source_url",onChange:t=>(jn().f[25]++,jn().s[41]++,this.props.onChange({...this.props.source,url:t.startsWith("pmtiles://")?(jn().b[3][0]++,t):(jn().b[3][1]++,`pmtiles://${t}`)}))}),this.props.children]})}}class cde extends ni.Component{render(){jn().f[26]++;const e=(jn().s[42]++,this.props.t),t=(jn().s[43]++,{source:this.props.source,onChange:this.props.onChange,t:this.props.t,i18n:this.props.i18n,tReady:this.props.tReady});switch(jn().s[44]++,this.props.mode){case"geojson_url":return jn().b[4][0]++,jn().s[45]++,Ae.jsx(lde,{...t});case"geojson_json":return jn().b[4][1]++,jn().s[46]++,Ae.jsx(Ade,{...t});case"tilejson_vector":return jn().b[4][2]++,jn().s[47]++,Ae.jsx(dE,{...t});case"tile_vector":return jn().b[4][3]++,jn().s[48]++,Ae.jsx(fE,{...t});case"tilejson_raster":return jn().b[4][4]++,jn().s[49]++,Ae.jsx(dE,{...t});case"tile_raster":return jn().b[4][5]++,jn().s[50]++,Ae.jsx(fE,{...t,children:Ae.jsx(Zp,{label:e("Tile Size"),fieldSpec:Xa.source_raster.tileSize,onChange:i=>(jn().f[27]++,jn().s[51]++,this.props.onChange({...this.props.source,tileSize:i})),value:(jn().b[5][0]++,this.props.source.tileSize||(jn().b[5][1]++,Xa.source_raster.tileSize.default)),"data-wd-key":"modal:sources.add.tile_size"})});case"tilejson_raster-dem":return jn().b[4][6]++,jn().s[52]++,Ae.jsx(dE,{...t});case"tilexyz_raster-dem":return jn().b[4][7]++,jn().s[53]++,Ae.jsxs(fE,{...t,children:[Ae.jsx(Zp,{label:e("Tile Size"),fieldSpec:Xa.source_raster_dem.tileSize,onChange:i=>(jn().f[28]++,jn().s[54]++,this.props.onChange({...this.props.source,tileSize:i})),value:(jn().b[6][0]++,this.props.source.tileSize||(jn().b[6][1]++,Xa.source_raster_dem.tileSize.default)),"data-wd-key":"modal:sources.add.tile_size"}),Ae.jsx(J2,{label:e("Encoding"),fieldSpec:Xa.source_raster_dem.encoding,options:Object.keys(Xa.source_raster_dem.encoding.values),onChange:i=>(jn().f[29]++,jn().s[55]++,this.props.onChange({...this.props.source,encoding:i})),value:(jn().b[7][0]++,this.props.source.encoding||(jn().b[7][1]++,Xa.source_raster_dem.encoding.default))})]});case"pmtiles_vector":return jn().b[4][8]++,jn().s[56]++,Ae.jsx(ude,{...t});case"image":return jn().b[4][9]++,jn().s[57]++,Ae.jsx(ade,{...t});case"video":return jn().b[4][10]++,jn().s[58]++,Ae.jsx(sde,{...t});default:return jn().b[4][11]++,jn().s[59]++,null}}}const cG=(jn().s[60]++,es()(cde));function im(){var n="/home/runner/work/maputnik/maputnik/src/libs/source.ts",e="871503159abbdc3b3ae7b24cdaefb6478172c58b",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAGO,gBAAS,aAAa,UAAoC,UAAkB;AACjF,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAAoC,UAAkB,QAA6B;AAC3G,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAAoC,UAAkB,QAA6B;AAC9G,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"871503159abbdc3b3ae7b24cdaefb6478172c58b"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return im=function(){return l},l}im();function hde(n,e){im().f[0]++;const t=(im().s[0]++,{...n.sources});return im().s[1]++,delete t[e],im().s[2]++,{...n,sources:t}}function IK(n,e,t){return im().f[1]++,im().s[3]++,hG(n,e,t)}function hG(n,e,t){im().f[2]++;const i=(im().s[4]++,{...n.sources,[e]:t});return im().s[5]++,{...n,sources:i}}const dde={type:"vector",url:"https://api.maptiler.com/tiles/v3-openmaptiles/tiles.json?key={key}",title:"OpenMapTiles v3"},fde={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},pde={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},mde={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},gde={type:"vector",url:"https://tiles.locationiq.com/v3/pbf/tiles.json?key={key}",title:"LocationIQ"},TK={openmaptiles:dde,thunderforest_transport:fde,thunderforest_outdoors:pde,open_zoomstack:mde,locationiq:gde};function cn(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalSources.tsx",e="30dc2f79b5d8eab063b35a7a783386d299d39465",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalSources.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:33,column:9}},1:{start:{line:20,column:23},end:{line:20,column:57}},2:{start:{line:37,column:2},end:{line:40,column:3}},3:{start:{line:38,column:4},end:{line:38,column:43}},4:{start:{line:38,column:22},end:{line:38,column:43}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:44,column:3}},7:{start:{line:42,column:4},end:{line:42,column:50}},8:{start:{line:42,column:22},end:{line:42,column:50}},9:{start:{line:43,column:4},end:{line:43,column:33}},10:{start:{line:45,column:2},end:{line:49,column:3}},11:{start:{line:46,column:4},end:{line:46,column:43}},12:{start:{line:46,column:22},end:{line:46,column:43}},13:{start:{line:47,column:4},end:{line:47,column:83}},14:{start:{line:47,column:59},end:{line:47,column:83}},15:{start:{line:48,column:4},end:{line:48,column:29}},16:{start:{line:50,column:2},end:{line:56,column:3}},17:{start:{line:51,column:4},end:{line:55,column:5}},18:{start:{line:52,column:6},end:{line:52,column:27}},19:{start:{line:54,column:6},end:{line:54,column:28}},20:{start:{line:57,column:2},end:{line:59,column:3}},21:{start:{line:58,column:4},end:{line:58,column:19}},22:{start:{line:60,column:2},end:{line:62,column:3}},23:{start:{line:61,column:4},end:{line:61,column:19}},24:{start:{line:63,column:2},end:{line:63,column:14}},25:{start:{line:67,column:14},end:{line:67,column:26}},26:{start:{line:68,column:4},end:{line:94,column:9}},27:{start:{line:80,column:27},end:{line:80,column:67}},28:{start:{line:99,column:4},end:{line:99,column:17}},29:{start:{line:100,column:4},end:{line:104,column:6}},30:{start:{line:107,column:19},end:{line:107,column:50}},31:{start:{line:108,column:25},end:{line:108,column:40}},32:{start:{line:109,column:4},end:{line:192,column:5}},33:{start:{line:111,column:8},end:{line:114,column:10}},34:{start:{line:116,column:8},end:{line:119,column:10}},35:{start:{line:121,column:8},end:{line:125,column:10}},36:{start:{line:127,column:8},end:{line:130,column:10}},37:{start:{line:132,column:8},end:{line:138,column:10}},38:{start:{line:140,column:8},end:{line:143,column:10}},39:{start:{line:145,column:8},end:{line:152,column:10}},40:{start:{line:154,column:8},end:{line:157,column:10}},41:{start:{line:159,column:8},end:{line:165,column:10}},42:{start:{line:167,column:8},end:{line:176,column:10}},43:{start:{line:178,column:8},end:{line:189,column:10}},44:{start:{line:191,column:8},end:{line:191,column:18}},45:{start:{line:194,column:10},end:{line:197,column:3}},46:{start:{line:195,column:33},end:{line:195,column:43}},47:{start:{line:196,column:4},end:{line:196,column:39}},48:{start:{line:198,column:19},end:{line:200,column:3}},49:{start:{line:199,column:4},end:{line:199,column:30}},50:{start:{line:202,column:14},end:{line:202,column:26}},51:{start:{line:203,column:32},end:{line:205,column:5}},52:{start:{line:206,column:4},end:{line:257,column:9}},53:{start:{line:213,column:27},end:{line:213,column:57}},54:{start:{line:235,column:30},end:{line:235,column:87}},55:{start:{line:262,column:27},end:{line:262,column:40}},56:{start:{line:263,column:4},end:{line:263,column:35}},57:{start:{line:264,column:4},end:{line:264,column:26}},58:{start:{line:267,column:28},end:{line:267,column:38}},59:{start:{line:268,column:22},end:{line:268,column:77}},60:{start:{line:269,column:26},end:{line:282,column:6}},61:{start:{line:270,column:21},end:{line:270,column:47}},62:{start:{line:271,column:6},end:{line:281,column:8}},63:{start:{line:276,column:29},end:{line:276,column:93}},64:{start:{line:277,column:26},end:{line:277,column:85}},65:{start:{line:283,column:27},end:{line:295,column:6}},66:{start:{line:283,column:75},end:{line:283,column:106}},67:{start:{line:284,column:21},end:{line:284,column:44}},68:{start:{line:285,column:6},end:{line:294,column:8}},69:{start:{line:291,column:26},end:{line:291,column:107}},70:{start:{line:296,column:4},end:{line:326,column:6}},71:{start:{line:319,column:45},end:{line:319,column:109}},72:{start:{line:329,column:21},end:{line:329,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:34,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:57}},line:20},2:{name:"editorMode",decl:{start:{line:36,column:9},end:{line:36,column:19}},loc:{start:{line:36,column:28},end:{line:64,column:1}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:66,column:2},end:{line:66,column:3}},loc:{start:{line:66,column:11},end:{line:95,column:3}},line:66},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:193,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:194,column:10},end:{line:194,column:11}},loc:{start:{line:194,column:16},end:{line:197,column:3}},line:194},8:{name:"(anonymous_8)",decl:{start:{line:198,column:19},end:{line:198,column:20}},loc:{start:{line:198,column:31},end:{line:200,column:3}},line:198},9:{name:"(anonymous_9)",decl:{start:{line:201,column:2},end:{line:201,column:3}},loc:{start:{line:201,column:11},end:{line:258,column:3}},line:201},10:{name:"(anonymous_10)",decl:{start:{line:213,column:20},end:{line:213,column:21}},loc:{start:{line:213,column:27},end:{line:213,column:57}},line:213},11:{name:"(anonymous_11)",decl:{start:{line:235,column:20},end:{line:235,column:21}},loc:{start:{line:235,column:30},end:{line:235,column:87}},line:235},12:{name:"(anonymous_12)",decl:{start:{line:261,column:2},end:{line:261,column:3}},loc:{start:{line:261,column:21},end:{line:265,column:3}},line:261},13:{name:"(anonymous_13)",decl:{start:{line:266,column:2},end:{line:266,column:3}},loc:{start:{line:266,column:11},end:{line:327,column:3}},line:266},14:{name:"(anonymous_14)",decl:{start:{line:269,column:60},end:{line:269,column:61}},loc:{start:{line:269,column:74},end:{line:282,column:5}},line:269},15:{name:"(anonymous_15)",decl:{start:{line:276,column:20},end:{line:276,column:21}},loc:{start:{line:276,column:29},end:{line:276,column:93}},line:276},16:{name:"(anonymous_16)",decl:{start:{line:277,column:20},end:{line:277,column:21}},loc:{start:{line:277,column:26},end:{line:277,column:85}},line:277},17:{name:"(anonymous_17)",decl:{start:{line:283,column:61},end:{line:283,column:62}},loc:{start:{line:283,column:75},end:{line:283,column:106}},line:283},18:{name:"(anonymous_18)",decl:{start:{line:283,column:112},end:{line:283,column:113}},loc:{start:{line:283,column:126},end:{line:295,column:5}},line:283},19:{name:"(anonymous_19)",decl:{start:{line:291,column:20},end:{line:291,column:21}},loc:{start:{line:291,column:26},end:{line:291,column:107}},line:291},20:{name:"(anonymous_20)",decl:{start:{line:319,column:23},end:{line:319,column:24}},loc:{start:{line:319,column:45},end:{line:319,column:109}},line:319}},branchMap:{0:{loc:{start:{line:37,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:37,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},1:{loc:{start:{line:38,column:4},end:{line:38,column:43}},type:"if",locations:[{start:{line:38,column:4},end:{line:38,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},2:{loc:{start:{line:41,column:2},end:{line:44,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:44,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:42,column:50}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:45,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},5:{loc:{start:{line:46,column:4},end:{line:46,column:43}},type:"if",locations:[{start:{line:46,column:4},end:{line:46,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},6:{loc:{start:{line:47,column:4},end:{line:47,column:83}},type:"if",locations:[{start:{line:47,column:4},end:{line:47,column:83}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},7:{loc:{start:{line:47,column:8},end:{line:47,column:57}},type:"binary-expr",locations:[{start:{line:47,column:8},end:{line:47,column:18}},{start:{line:47,column:22},end:{line:47,column:57}}],line:47},8:{loc:{start:{line:50,column:2},end:{line:56,column:3}},type:"if",locations:[{start:{line:50,column:2},end:{line:56,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},9:{loc:{start:{line:51,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:51,column:4},end:{line:55,column:5}},{start:{line:53,column:11},end:{line:55,column:5}}],line:51},10:{loc:{start:{line:57,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:57,column:2},end:{line:59,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},11:{loc:{start:{line:60,column:2},end:{line:62,column:3}},type:"if",locations:[{start:{line:60,column:2},end:{line:62,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},12:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},13:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},14:{loc:{start:{line:109,column:4},end:{line:192,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:119,column:10}},{start:{line:120,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:130,column:10}},{start:{line:131,column:6},end:{line:138,column:10}},{start:{line:139,column:6},end:{line:143,column:10}},{start:{line:144,column:6},end:{line:152,column:10}},{start:{line:153,column:6},end:{line:157,column:10}},{start:{line:158,column:6},end:{line:165,column:10}},{start:{line:166,column:6},end:{line:176,column:10}},{start:{line:177,column:6},end:{line:189,column:10}},{start:{line:190,column:6},end:{line:191,column:18}}],line:109},15:{loc:{start:{line:123,column:19},end:{line:123,column:42}},type:"binary-expr",locations:[{start:{line:123,column:19},end:{line:123,column:33}},{start:{line:123,column:37},end:{line:123,column:42}}],line:123},16:{loc:{start:{line:129,column:15},end:{line:129,column:72}},type:"binary-expr",locations:[{start:{line:129,column:15},end:{line:129,column:25}},{start:{line:129,column:29},end:{line:129,column:72}}],line:129},17:{loc:{start:{line:134,column:17},end:{line:134,column:80}},type:"binary-expr",locations:[{start:{line:134,column:17},end:{line:134,column:29}},{start:{line:134,column:33},end:{line:134,column:80}}],line:134},18:{loc:{start:{line:135,column:19},end:{line:135,column:38}},type:"binary-expr",locations:[{start:{line:135,column:19},end:{line:135,column:33}},{start:{line:135,column:37},end:{line:135,column:38}}],line:135},19:{loc:{start:{line:136,column:19},end:{line:136,column:39}},type:"binary-expr",locations:[{start:{line:136,column:19},end:{line:136,column:33}},{start:{line:136,column:37},end:{line:136,column:39}}],line:136},20:{loc:{start:{line:137,column:18},end:{line:137,column:40}},type:"binary-expr",locations:[{start:{line:137,column:18},end:{line:137,column:31}},{start:{line:137,column:35},end:{line:137,column:40}}],line:137},21:{loc:{start:{line:142,column:15},end:{line:142,column:72}},type:"binary-expr",locations:[{start:{line:142,column:15},end:{line:142,column:25}},{start:{line:142,column:29},end:{line:142,column:72}}],line:142},22:{loc:{start:{line:147,column:17},end:{line:147,column:80}},type:"binary-expr",locations:[{start:{line:147,column:17},end:{line:147,column:29}},{start:{line:147,column:33},end:{line:147,column:80}}],line:147},23:{loc:{start:{line:148,column:19},end:{line:148,column:38}},type:"binary-expr",locations:[{start:{line:148,column:19},end:{line:148,column:33}},{start:{line:148,column:37},end:{line:148,column:38}}],line:148},24:{loc:{start:{line:149,column:19},end:{line:149,column:39}},type:"binary-expr",locations:[{start:{line:149,column:19},end:{line:149,column:33}},{start:{line:149,column:37},end:{line:149,column:39}}],line:149},25:{loc:{start:{line:150,column:18},end:{line:150,column:40}},type:"binary-expr",locations:[{start:{line:150,column:18},end:{line:150,column:31}},{start:{line:150,column:35},end:{line:150,column:40}}],line:150},26:{loc:{start:{line:151,column:20},end:{line:151,column:42}},type:"binary-expr",locations:[{start:{line:151,column:20},end:{line:151,column:35}},{start:{line:151,column:39},end:{line:151,column:42}}],line:151},27:{loc:{start:{line:156,column:15},end:{line:156,column:72}},type:"binary-expr",locations:[{start:{line:156,column:15},end:{line:156,column:25}},{start:{line:156,column:29},end:{line:156,column:72}}],line:156},28:{loc:{start:{line:161,column:17},end:{line:161,column:80}},type:"binary-expr",locations:[{start:{line:161,column:17},end:{line:161,column:29}},{start:{line:161,column:33},end:{line:161,column:80}}],line:161},29:{loc:{start:{line:162,column:19},end:{line:162,column:38}},type:"binary-expr",locations:[{start:{line:162,column:19},end:{line:162,column:33}},{start:{line:162,column:37},end:{line:162,column:38}}],line:162},30:{loc:{start:{line:163,column:19},end:{line:163,column:39}},type:"binary-expr",locations:[{start:{line:163,column:19},end:{line:163,column:33}},{start:{line:163,column:37},end:{line:163,column:39}}],line:163},31:{loc:{start:{line:164,column:20},end:{line:164,column:42}},type:"binary-expr",locations:[{start:{line:164,column:20},end:{line:164,column:35}},{start:{line:164,column:39},end:{line:164,column:42}}],line:164}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0,0,0,0,0,0,0,0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalSources.tsx"],names:[],mappings:"AAiCU,cACA,YADA;AAjCV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAEnB,SAA+B,uBAAuB;AAEtD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAAiD;AAExD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAW1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,QAAG,OAAO,OAAO,OAAO,IAAI,WAAW,YAAY,EAAG,QAAO;AAC7D,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,EAAE,gCAAgC,EAAC,UAAU,KAAK,MAAM,SAAQ,CAAC;AAAA,YAC7E,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACX,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,QAClB;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,QAC1D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,UACxD,UAAW,OAAqC,YAAY;AAAA,QAC9D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,UAC7D,UAAW,OAAwC,YAAY;AAAA,QACjE;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACnB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAQrB,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,EAAC,KAAK,EAAE,wFAAwF,EAAC;AAAA,UAC5G,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA,UACrD,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;AAAA,YACpC,CAAC,eAAe,EAAE,eAAe,CAAC;AAAA,YAClC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,uBAAuB,EAAE,2BAA2B,CAAC;AAAA,YACtD,CAAC,sBAAsB,EAAE,uBAAuB,CAAC;AAAA,YACjD,CAAC,kBAAkB,EAAE,kBAAkB,CAAC;AAAA,YACxC,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,YACpB,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,UACtB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA,UAClB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACd,eAAY;AAAA,UAEX,YAAE,YAAY;AAAA;AAAA,MACjB;AAAA,OACF;AAAA,EACF;AACF;AASA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,SAAQ,IAAI,KAAK;AAC3B,UAAM,YAAY,EAAC,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAM;AACtE,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA,UACzE,GAAG;AAAA;AAAA,QALC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,SAAS;AAAA,QAElB;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACxB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,sBAAsB,GAAE;AAAA,YAC/B,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACzB,oBAAC,OAAG,YAAE,8FAA8F,GAAE;AAAA,YACtG;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA,gBACxH,GAAG;AAAA;AAAA,YACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"30dc2f79b5d8eab063b35a7a783386d299d39465"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return cn=function(){return l},l}cn();class yde extends ni.Component{render(){return cn().f[0]++,cn().s[0]++,Ae.jsx("div",{className:"maputnik-public-source",children:Ae.jsxs(Fs,{className:"maputnik-public-source-select",onClick:()=>(cn().f[1]++,cn().s[1]++,this.props.onSelect(this.props.id)),children:[Ae.jsxs("div",{className:"maputnik-public-source-info",children:[Ae.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),Ae.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(iF,{})]})})}}function vde(n){return cn().f[2]++,cn().s[2]++,n.type==="raster"?(cn().b[0][0]++,cn().s[3]++,n.tiles?(cn().b[1][0]++,cn().s[4]++,"tile_raster"):(cn().b[1][1]++,cn().s[5]++,"tilejson_raster")):(cn().b[0][1]++,cn().s[6]++,n.type==="raster-dem"?(cn().b[2][0]++,cn().s[7]++,n.tiles?(cn().b[3][0]++,cn().s[8]++,"tilexyz_raster-dem"):(cn().b[3][1]++,cn().s[9]++,"tilejson_raster-dem")):(cn().b[2][1]++,cn().s[10]++,n.type==="vector"?(cn().b[4][0]++,cn().s[11]++,n.tiles?(cn().b[5][0]++,cn().s[12]++,"tile_vector"):(cn().b[5][1]++,cn().s[13]++,cn().b[7][0]++,n.url&&(cn().b[7][1]++,n.url.startsWith("pmtiles://"))?(cn().b[6][0]++,cn().s[14]++,"pmtiles_vector"):(cn().b[6][1]++,cn().s[15]++,"tilejson_vector"))):(cn().b[4][1]++,cn().s[16]++,n.type==="geojson"?(cn().b[8][0]++,cn().s[17]++,typeof n.data=="string"?(cn().b[9][0]++,cn().s[18]++,"geojson_url"):(cn().b[9][1]++,cn().s[19]++,"geojson_json")):(cn().b[8][1]++,cn().s[20]++,n.type==="image"?(cn().b[10][0]++,cn().s[21]++,"image"):(cn().b[10][1]++,cn().s[22]++,n.type==="video"?(cn().b[11][0]++,cn().s[23]++,"video"):(cn().b[11][1]++,cn().s[24]++,null))))))}class Cde extends ni.Component{render(){cn().f[3]++;const e=(cn().s[25]++,this.props.t);return cn().s[26]++,Ae.jsxs("div",{className:"maputnik-active-source-type-editor",children:[Ae.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[Ae.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(Fs,{"aria-label":e("Remove '{{sourceId}}' source",{sourceId:this.props.sourceId}),className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(cn().f[4]++,cn().s[27]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:Ae.jsx(Z1,{})})]}),Ae.jsx("div",{className:"maputnik-active-source-type-editor-content",children:Ae.jsx(cG,{onChange:this.props.onChange,mode:vde(this.props.source),source:this.props.source})})]})}}class _de extends ni.Component{constructor(e){cn().f[5]++,cn().s[28]++,super(e),cn().s[29]++,this.state={mode:"tilejson_vector",sourceId:Vd.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(e){cn().f[6]++;const t=(cn().s[30]++,cn().b[12][0]++,(cn().b[13][0]++,this.state||(cn().b[13][1]++,{})).source||(cn().b[12][1]++,{})),{protocol:i}=(cn().s[31]++,window.location);switch(cn().s[32]++,e){case"pmtiles_vector":return cn().b[14][0]++,cn().s[33]++,{type:"vector",url:`${i}//localhost:3000/file.pmtiles`};case"geojson_url":return cn().b[14][1]++,cn().s[34]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return cn().b[14][2]++,cn().s[35]++,{type:"geojson",cluster:(cn().b[15][0]++,t.cluster||(cn().b[15][1]++,!1)),data:""};case"tilejson_vector":return cn().b[14][3]++,cn().s[36]++,{type:"vector",url:(cn().b[16][0]++,t.url||(cn().b[16][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_vector":return cn().b[14][4]++,cn().s[37]++,{type:"vector",tiles:(cn().b[17][0]++,t.tiles||(cn().b[17][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(cn().b[18][0]++,t.minzoom||(cn().b[18][1]++,0)),maxzoom:(cn().b[19][0]++,t.maxzoom||(cn().b[19][1]++,14)),scheme:(cn().b[20][0]++,t.scheme||(cn().b[20][1]++,"xyz"))};case"tilejson_raster":return cn().b[14][5]++,cn().s[38]++,{type:"raster",url:(cn().b[21][0]++,t.url||(cn().b[21][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_raster":return cn().b[14][6]++,cn().s[39]++,{type:"raster",tiles:(cn().b[22][0]++,t.tiles||(cn().b[22][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.png`])),minzoom:(cn().b[23][0]++,t.minzoom||(cn().b[23][1]++,0)),maxzoom:(cn().b[24][0]++,t.maxzoom||(cn().b[24][1]++,14)),scheme:(cn().b[25][0]++,t.scheme||(cn().b[25][1]++,"xyz")),tileSize:(cn().b[26][0]++,t.tileSize||(cn().b[26][1]++,512))};case"tilejson_raster-dem":return cn().b[14][7]++,cn().s[40]++,{type:"raster-dem",url:(cn().b[27][0]++,t.url||(cn().b[27][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return cn().b[14][8]++,cn().s[41]++,{type:"raster-dem",tiles:(cn().b[28][0]++,t.tiles||(cn().b[28][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.png`])),minzoom:(cn().b[29][0]++,t.minzoom||(cn().b[29][1]++,0)),maxzoom:(cn().b[30][0]++,t.maxzoom||(cn().b[30][1]++,14)),tileSize:(cn().b[31][0]++,t.tileSize||(cn().b[31][1]++,512))};case"image":return cn().b[14][9]++,cn().s[42]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return cn().b[14][10]++,cn().s[43]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return cn().b[14][11]++,cn().s[44]++,{}}}onAdd=(cn().s[45]++,()=>{cn().f[7]++;const{source:e,sourceId:t}=(cn().s[46]++,this.state);cn().s[47]++,this.props.onAdd(t,e)});onChangeSource=(cn().s[48]++,e=>{cn().f[8]++,cn().s[49]++,this.setState({source:e})});render(){cn().f[9]++;const e=(cn().s[50]++,this.props.t),t=(cn().s[51]++,{doc:$o.source_vector.type.doc});return cn().s[52]++,Ae.jsxs("div",{className:"maputnik-add-source",children:[Ae.jsx(Gd,{label:e("Source ID"),fieldSpec:{doc:e("Unique ID that identifies the source and is used in the layer to reference the source.")},value:this.state.sourceId,onChange:i=>(cn().f[10]++,cn().s[53]++,this.setState({sourceId:i})),"data-wd-key":"modal:sources.add.source_id"}),Ae.jsx(J2,{label:e("Source Type"),fieldSpec:t,options:[["geojson_json",e("GeoJSON (JSON)")],["geojson_url",e("GeoJSON (URL)")],["tilejson_vector",e("Vector (TileJSON URL)")],["tile_vector",e("Vector (Tile URLs)")],["tilejson_raster",e("Raster (TileJSON URL)")],["tile_raster",e("Raster (Tile URLs)")],["tilejson_raster-dem",e("Raster DEM (TileJSON URL)")],["tilexyz_raster-dem",e("Raster DEM (XYZ URLs)")],["pmtiles_vector",e("Vector (PMTiles)")],["image",e("Image")],["video",e("Video")]],onChange:i=>(cn().f[11]++,cn().s[54]++,this.setState({mode:i,source:this.defaultSource(i)})),value:this.state.mode,"data-wd-key":"modal:sources.add.source_type"}),Ae.jsx(cG,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),Ae.jsx(Fs,{className:"maputnik-add-source-button",onClick:this.onAdd,"data-wd-key":"modal:sources.add.add_source",children:e("Add Source")})]})}}class bde extends ni.Component{stripTitle(e){cn().f[12]++;const t=(cn().s[55]++,{...e});return cn().s[56]++,delete t.title,cn().s[57]++,t}render(){cn().f[13]++;const{t:e,mapStyle:t}=(cn().s[58]++,this.props),i=(cn().s[59]++,{t:e,i18n:this.props.i18n,tReady:this.props.tReady}),r=(cn().s[60]++,Object.keys(t.sources).map(l=>{cn().f[14]++;const o=(cn().s[61]++,t.sources[l]);return cn().s[62]++,Ae.jsx(Cde,{sourceId:l,source:o,onChange:p=>(cn().f[15]++,cn().s[63]++,this.props.onStyleChanged(hG(t,l,p))),onDelete:()=>(cn().f[16]++,cn().s[64]++,this.props.onStyleChanged(hde(t,l))),...i},l)})),a=(cn().s[65]++,Object.keys(TK).filter(l=>(cn().f[17]++,cn().s[66]++,!(l in t.sources))).map(l=>{cn().f[18]++;const o=(cn().s[67]++,TK[l]);return cn().s[68]++,Ae.jsx(yde,{id:l,type:o.type,title:o.title,onSelect:()=>(cn().f[19]++,cn().s[69]++,this.props.onStyleChanged(IK(t,l,this.stripTitle(o))))},l)}));return cn().s[70]++,Ae.jsxs(Q0,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Sources"),children:[Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Active Sources")}),r]}),Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Choose Public Source")}),Ae.jsx("p",{children:e("Add one of the publicly available sources to your style.")}),Ae.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:a})]}),Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Add New Source")}),Ae.jsx("p",{children:e("Add a new source to your style. You can only choose the source type and id at creation time!")}),Ae.jsx(_de,{onAdd:(l,o)=>(cn().f[20]++,cn().s[71]++,this.props.onStyleChanged(IK(t,l,o))),...i})]})]})}}const xde=(cn().s[72]++,es()(bde));var Cx={},kK;function Mde(){if(kK)return Cx;kK=1,Object.defineProperty(Cx,"__esModule",{value:!0});var n=Object.assign||function(j){for(var W=1;W<arguments.length;W++){var Y=arguments[W];for(var te in Y)Object.prototype.hasOwnProperty.call(Y,te)&&(j[te]=Y[te])}return j},e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},t=function(){function j(W,Y){for(var te=0;te<Y.length;te++){var J=Y[te];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(W,J.key,J)}}return function(W,Y,te){return Y&&j(W.prototype,Y),te&&j(W,te),W}}(),i=Il(),r=p(i),a=I3(),l=o(a);function o(j){return j&&j.__esModule?j:{default:j}}function p(j){if(j&&j.__esModule)return j;var W={};if(j!=null)for(var Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(W[Y]=j[Y]);return W.default=j,W}function C(j,W){var Y={};for(var te in j)W.indexOf(te)>=0||Object.prototype.hasOwnProperty.call(j,te)&&(Y[te]=j[te]);return Y}function M(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function O(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function U(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var K=function(j){U(W,j);function W(Y){M(this,W);var te=O(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Y));te.handleChange=function(oe){var ne=Array.prototype.slice.call(oe.target.files),$=(te.props.as||"url").toLowerCase();Promise.all(ne.map(function(ae){return new Promise(function(G,ce){var ge=new FileReader;switch(ge.onload=function(ye){G([ye,ae])},$){case"binary":{ge.readAsBinaryString(ae);break}case"buffer":{ge.readAsArrayBuffer(ae);break}case"text":{ge.readAsText(ae);break}case"url":{ge.readAsDataURL(ae);break}}})})).then(function(ae){te.props.onChange(oe,ae)})},te.triggerInput=function(){var oe=l.default.findDOMNode(te._reactFileReaderInput);oe&&oe.click()};var J=(typeof window>"u"?"undefined":e(window))==="object"?window:{};return(!J.File||!J.FileReader||!J.FileList||!J.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),te}return t(W,[{key:"render",value:function(){var te=this,J=this.props;J.as;var oe=J.children,ne=J.style,$=C(J,["as","children","style"]),ae=oe?{position:"absolute",top:"-9999px"}:{};return r.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:ne},r.createElement("input",n({},$,{type:"file",ref:function(ce){te._reactFileReaderInput=ce},onChange:this.handleChange,onClick:function(){te._reactFileReaderInput.value=null},style:ae})),oe)}}]),W}(r.Component);return Cx.default=K,Cx}var wde=Mde();const Sde=cu(wde);function jm(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalLoading.tsx",e="14882741b03cd24dba8e21fe7c0f0c38039a7560",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalLoading.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:22,column:6}},2:{start:{line:16,column:28},end:{line:16,column:49}},3:{start:{line:19,column:137},end:{line:19,column:159}},4:{start:{line:25,column:21},end:{line:25,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:23,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:16,column:22},end:{line:16,column:23}},loc:{start:{line:16,column:28},end:{line:16,column:49}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:130},end:{line:19,column:131}},loc:{start:{line:19,column:137},end:{line:19,column:159}},line:19}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalLoading.tsx"],names:[],mappings:"AAkBW,SAOL,KAPK;AAlBX,OAAO,WAAW;AAClB,SAA+B,uBAAuB;AAEtD,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAC/C,YAAE,QAAQ,GACb,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"14882741b03cd24dba8e21fe7c0f0c38039a7560"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return jm=function(){return l},l}jm();class Ede extends ni.Component{render(){jm().f[0]++;const e=(jm().s[0]++,this.props.t);return jm().s[1]++,Ae.jsxs(Q0,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,title:this.props.title,onOpenToggle:()=>(jm().f[1]++,jm().s[2]++,this.props.onCancel()),children:[Ae.jsx("p",{children:this.props.message}),Ae.jsx("p",{className:"maputnik-dialog__buttons",children:Ae.jsx(Fs,{onClick:t=>(jm().f[2]++,jm().s[3]++,this.props.onCancel(t)),children:e("Cancel")})})]})}}const Bde=(jm().s[4]++,es()(Ede)),dG=[{id:"0-empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="},{id:"americana",title:"Americana",url:"https://americanamap.org/style.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/23fa75ad-63e6-43f5-8837-03cdb0428bac"},{id:"aws-hybrid",title:"AWS Hybrid",url:"https://maps.geo.eu-west-1.amazonaws.com/v2/styles/Hybrid/descriptor?key=v1.public.eyJqdGkiOiJiOTNkYjBlZi04OWUzLTQxMGUtODFhMC0zYjZjZjVmZWZmMDgifYtukap0NBaJpcrS6Vit9j03GJgK9Bn-RSu5UCe3jkdSql2kKp3IEgLPtyLssbmKUdVO11sXddjK3ZOZy8V6QG0olv0K_1tOxyMIe4DAO3IV6H4VzHWiaXlbSakGiEgFLuHBdcfLDeMotye7N6rSRxuZb0CN9ytH9VjLly6-NEBRZezO_qPQyvdTFdeZsARIpL0f9YVpxPxPVvUcAWYCk5LpaPseRCDPrY5SlCdA1ZKqUA4F9RzxSTxB73Fel_SoNDkCNaux1VposBu791-uUpDzUpr7leKckrPXrpZ2hwnFbafVxFV9vq4fLTpB5KoBksuLfGNIwAx1RLLxWuMhE4c.ZGQzZDY2OGQtMWQxMy00ZTEwLWIyZGUtOGVjYzUzMjU3OGE4&color-scheme=Light",thumbnail:"https://maputnik.s3.eu-west-1.amazonaws.com/thumbnails/aws-hybrid.jpg"},{id:"aws-standard",title:"AWS Standard",url:"https://maps.geo.eu-west-1.amazonaws.com/v2/styles/Standard/descriptor?key=v1.public.eyJqdGkiOiJiOTNkYjBlZi04OWUzLTQxMGUtODFhMC0zYjZjZjVmZWZmMDgifYtukap0NBaJpcrS6Vit9j03GJgK9Bn-RSu5UCe3jkdSql2kKp3IEgLPtyLssbmKUdVO11sXddjK3ZOZy8V6QG0olv0K_1tOxyMIe4DAO3IV6H4VzHWiaXlbSakGiEgFLuHBdcfLDeMotye7N6rSRxuZb0CN9ytH9VjLly6-NEBRZezO_qPQyvdTFdeZsARIpL0f9YVpxPxPVvUcAWYCk5LpaPseRCDPrY5SlCdA1ZKqUA4F9RzxSTxB73Fel_SoNDkCNaux1VposBu791-uUpDzUpr7leKckrPXrpZ2hwnFbafVxFV9vq4fLTpB5KoBksuLfGNIwAx1RLLxWuMhE4c.ZGQzZDY2OGQtMWQxMy00ZTEwLWIyZGUtOGVjYzUzMjU3OGE4&color-scheme=Light",thumbnail:"https://maputnik.s3.eu-west-1.amazonaws.com/thumbnails/aws-standard.jpg"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"locationiq-streets",title:"LocationIQ Streets",url:"https://tiles.locationiq.com/v3/streets/vector.json?key={key}",thumbnail:"https://static-assets.locationiq.com/maputnik/locationiq-streets.png"},{id:"maptiler-basic-gl-style",title:"MapTiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.10/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@v1.0/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.11/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"osm-openmaptiles",title:"OSM OpenMapTiles",url:"https://api.maptiler.com/maps/openstreetmap/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",thumbnail:"https://openmaptiles.org/img/styles/openmaptiles.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"protomaps-light",title:"Protomaps Light",url:"https://api.protomaps.com/styles/v4/light/en.json?key=d828297496b11844",thumbnail:"https://github.com/user-attachments/assets/911f9765-4a7d-4736-9ec0-f2d4c90ae587"},{id:"stadia-outdoors",title:"Stadia Outdoors",url:"https://tiles.stadiamaps.com/styles/outdoors.json",thumbnail:"https://tiles.stadiamaps.com/static/outdoors.png?size=480x320&center=47.350259,8.49035&zoom=16"},{id:"versatiles-colorful",title:"Versatiles Colorful",url:"https://tiles.versatiles.org/assets/styles/colorful/style.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/6cd69818-c541-46e4-a920-65fb4f654931"}];function ri(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalOpen.tsx",e="4894d4bc5e14f1cec6f3dd742c248014b9e1821b",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalOpen.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:38,column:9}},1:{start:{line:20,column:23},end:{line:20,column:58}},2:{start:{line:43,column:4},end:{line:43,column:17}},3:{start:{line:44,column:4},end:{line:46,column:6}},4:{start:{line:49,column:4},end:{line:51,column:7}},5:{start:{line:54,column:4},end:{line:54,column:31}},6:{start:{line:54,column:11},end:{line:54,column:31}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:15},end:{line:132,column:3}},31:{start:{line:106,column:4},end:{line:106,column:22}},32:{start:{line:107,column:23},end:{line:115,column:5}},33:{start:{line:116,column:25},end:{line:116,column:68}},34:{start:{line:117,column:17},end:{line:117,column:43}},35:{start:{line:118,column:20},end:{line:118,column:37}},36:{start:{line:120,column:4},end:{line:127,column:5}},37:{start:{line:121,column:6},end:{line:121,column:37}},38:{start:{line:123,column:6},end:{line:125,column:9}},39:{start:{line:126,column:6},end:{line:126,column:13}},40:{start:{line:128,column:4},end:{line:128,column:51}},41:{start:{line:129,column:4},end:{line:129,column:49}},42:{start:{line:130,column:4},end:{line:130,column:24}},43:{start:{line:131,column:4},end:{line:131,column:16}},44:{start:{line:135,column:18},end:{line:155,column:3}},45:{start:{line:136,column:21},end:{line:136,column:29}},46:{start:{line:137,column:19},end:{line:137,column:35}},47:{start:{line:138,column:4},end:{line:138,column:22}},48:{start:{line:139,column:4},end:{line:139,column:37}},49:{start:{line:140,column:4},end:{line:153,column:6}},50:{start:{line:142,column:6},end:{line:149,column:7}},51:{start:{line:143,column:8},end:{line:143,column:48}},52:{start:{line:145,column:8},end:{line:147,column:11}},53:{start:{line:148,column:8},end:{line:148,column:15}},54:{start:{line:150,column:6},end:{line:150,column:53}},55:{start:{line:151,column:6},end:{line:151,column:39}},56:{start:{line:152,column:6},end:{line:152,column:26}},57:{start:{line:154,column:4},end:{line:154,column:50}},58:{start:{line:154,column:28},end:{line:154,column:49}},59:{start:{line:157,column:4},end:{line:159,column:7}},60:{start:{line:160,column:4},end:{line:160,column:22}},61:{start:{line:161,column:4},end:{line:161,column:30}},62:{start:{line:163,column:16},end:{line:167,column:3}},63:{start:{line:164,column:4},end:{line:166,column:7}},64:{start:{line:169,column:14},end:{line:169,column:26}},65:{start:{line:170,column:25},end:{line:181,column:6}},66:{start:{line:171,column:6},end:{line:180,column:8}},67:{start:{line:183,column:4},end:{line:188,column:5}},68:{start:{line:184,column:6},end:{line:187,column:11}},69:{start:{line:186,column:61},end:{line:186,column:78}},70:{start:{line:189,column:4},end:{line:267,column:9}},71:{start:{line:195,column:30},end:{line:195,column:49}},72:{start:{line:263,column:27},end:{line:263,column:56}},73:{start:{line:270,column:18},end:{line:270,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:39,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:58}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:21},end:{line:47,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:15},end:{line:52,column:3}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:27},end:{line:62,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:15},end:{line:105,column:16}},loc:{start:{line:105,column:27},end:{line:132,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:135,column:18},end:{line:135,column:19}},loc:{start:{line:135,column:38},end:{line:155,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:140,column:20},end:{line:140,column:21}},loc:{start:{line:140,column:27},end:{line:153,column:5}},line:140},14:{name:"(anonymous_14)",decl:{start:{line:154,column:21},end:{line:154,column:22}},loc:{start:{line:154,column:28},end:{line:154,column:49}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:156,column:2},end:{line:156,column:3}},loc:{start:{line:156,column:17},end:{line:162,column:3}},line:156},16:{name:"(anonymous_16)",decl:{start:{line:163,column:16},end:{line:163,column:17}},loc:{start:{line:163,column:25},end:{line:167,column:3}},line:163},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:268,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:170,column:42},end:{line:170,column:43}},loc:{start:{line:170,column:54},end:{line:181,column:5}},line:170},19:{name:"(anonymous_19)",decl:{start:{line:186,column:55},end:{line:186,column:56}},loc:{start:{line:186,column:61},end:{line:186,column:78}},line:186},20:{name:"(anonymous_20)",decl:{start:{line:195,column:24},end:{line:195,column:25}},loc:{start:{line:195,column:30},end:{line:195,column:49}},line:195},21:{name:"(anonymous_21)",decl:{start:{line:263,column:20},end:{line:263,column:21}},loc:{start:{line:263,column:27},end:{line:263,column:56}},line:263}},branchMap:{0:{loc:{start:{line:54,column:4},end:{line:54,column:31}},type:"if",locations:[{start:{line:54,column:4},end:{line:54,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:54},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:183,column:4},end:{line:188,column:5}},type:"if",locations:[{start:{line:183,column:4},end:{line:188,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:183},4:{loc:{start:{line:202,column:53},end:{line:217,column:21}},type:"cond-expr",locations:[{start:{line:202,column:119},end:{line:213,column:15}},{start:{line:213,column:34},end:{line:217,column:21}}],line:202}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalOpen.tsx"],names:["style"],mappings:"AA6BQ,SACE,KADF;AA7BR,OAAO,WAA+B;AACtC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAsC;AAC7C,SAAS,OAA6B,uBAAuB;AAE7D,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAgBA,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG,EAAG,GAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,aAAa,YAAY;AACvB,SAAK,WAAW;AAEhB,UAAM,aAAoC;AAAA,MACxC,OAAO;AAAA,QACL;AAAA,UACE,aAAa;AAAA,UACb,QAAQ,EAAE,oBAAoB,CAAC,OAAO,EAAE;AAAA,QAC1C;AAAA,MACF;AAAA,MACA,UAAU;AAAA,IACZ;AAEA,UAAM,CAAC,UAAU,IAAI,MAAM,OAAO,mBAAmB,UAAU;AAC/D,UAAM,OAAO,MAAM,WAAW,QAAQ;AACtC,UAAM,UAAU,MAAM,KAAK,KAAK;AAEhC,QAAI;AACJ,QAAI;AACF,iBAAW,KAAK,MAAM,OAAO;AAAA,IAC/B,SAAS,KAAK;AACZ,WAAK,SAAS;AAAA,QACZ,OAAQ,IAAc,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,eAAW,MAAM,oBAAoB,QAAQ;AAE7C,SAAK,MAAM,YAAY,UAAU,UAAU;AAC3C,SAAK,aAAa;AAClB,WAAO;AAAA,EACT;AAAA;AAAA;AAAA,EAIA,gBAAgB,OAAO,GAAQ,UAAoB;AACjD,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAC9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO,EAAE,YAAY;AAAA,UAEpB;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAI,YAAE,kBAAkB,GAAE;AAAA,cAC3B,oBAAC,OAAG,YAAE,6CAA6C,GAAE;AAAA,cACrD,oBAAC,SACE,iBAAO,OAAO,uBAAuB,aACpC;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,KAAK;AAAA,kBAAY;AAAA,wCAAC,gBAAY;AAAA,oBAAE;AAAA,oBAAE,EAAE,YAAY;AAAA;AAAA;AAAA,cAC3D,IAEA,oBAAC,mBAAgB,UAAU,KAAK,eAAe,UAAU,IAAI,cAAY,EAAE,YAAY,GACrF,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,gBAAE,EAAE,YAAY;AAAA,iBAAE,GACpF,GAEJ;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAI,YAAE,eAAe,GAAE;AAAA,cACxB,oBAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,gBACkC,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I,GACF;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAY,EAAE,WAAW;AAAA,kBACzB,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAS,EAAE,cAAc;AAAA,kBACzB,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,cACzB,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO,EAAE,eAAe;AAAA,UACxB,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,EAAE,2BAA2B,EAAE,YAAY,KAAK,MAAM,iBAAiB,CAAC;AAAA;AAAA,MACnF;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4894d4bc5e14f1cec6f3dd742c248014b9e1821b"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return ri=function(){return l},l}ri();class Ode extends ni.Component{render(){return ri().f[0]++,ri().s[0]++,Ae.jsx("div",{className:"maputnik-public-style",children:Ae.jsxs(Fs,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(ri().f[1]++,ri().s[1]++,this.props.onSelect(this.props.url)),children:[Ae.jsxs("div",{className:"maputnik-public-style-header",children:[Ae.jsx("div",{children:this.props.title}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(iF,{})]}),Ae.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class Ide extends ni.Component{constructor(e){ri().f[2]++,ri().s[2]++,super(e),ri().s[3]++,this.state={styleUrl:""}}clearError(){ri().f[3]++,ri().s[4]++,this.setState({error:null})}onCancelActiveRequest(e){ri().f[4]++,ri().s[5]++,e?(ri().b[0][0]++,ri().s[6]++,e.stopPropagation()):ri().b[0][1]++,ri().s[7]++,this.state.activeRequest?(ri().b[1][0]++,ri().s[8]++,this.state.activeRequest.abort(),ri().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):ri().b[1][1]++}onStyleSelect=(ri().s[10]++,e=>{ri().f[5]++,ri().s[11]++,this.clearError();let t=(ri().s[12]++,!1);ri().s[13]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(i){return ri().f[6]++,ri().s[14]++,i.json()}).then(i=>{if(ri().f[7]++,ri().s[15]++,t){ri().b[2][0]++,ri().s[16]++;return}else ri().b[2][1]++;ri().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const r=(ri().s[18]++,Vd.ensureStyleValidity(i));ri().s[19]++,console.log("Loaded style ",r.id),ri().s[20]++,this.props.onStyleOpen(r),ri().s[21]++,this.onOpenToggle()}).catch(i=>{ri().f[8]++,ri().s[22]++,this.setState({error:`Failed to load: '${e}'`,activeRequest:null,activeRequestUrl:null}),ri().s[23]++,console.error(i),ri().s[24]++,console.warn("Could not open the style URL",e)}),ri().s[25]++,this.setState({activeRequest:{abort:function(){ri().f[9]++,ri().s[26]++,t=!0}},activeRequestUrl:e})});onSubmitUrl=(ri().s[27]++,e=>{ri().f[10]++,ri().s[28]++,e.preventDefault(),ri().s[29]++,this.onStyleSelect(this.state.styleUrl)});onOpenFile=(ri().s[30]++,async()=>{ri().f[11]++,ri().s[31]++,this.clearError();const e=(ri().s[32]++,{types:[{description:"json",accept:{"application/json":[".json"]}}],multiple:!1}),[t]=(ri().s[33]++,await window.showOpenFilePicker(e)),i=(ri().s[34]++,await t.getFile()),r=(ri().s[35]++,await i.text());let a;ri().s[36]++;try{ri().s[37]++,a=JSON.parse(r)}catch(l){ri().s[38]++,this.setState({error:l.toString()}),ri().s[39]++;return}return ri().s[40]++,a=Vd.ensureStyleValidity(a),ri().s[41]++,this.props.onStyleOpen(a,t),ri().s[42]++,this.onOpenToggle(),ri().s[43]++,i});onFileChanged=(ri().s[44]++,async(e,t)=>{ri().f[12]++;const[,i]=(ri().s[45]++,t[0]),r=(ri().s[46]++,new FileReader);ri().s[47]++,this.clearError(),ri().s[48]++,r.readAsText(i,"UTF-8"),ri().s[49]++,r.onload=a=>{ri().f[13]++;let l;ri().s[50]++;try{ri().s[51]++,l=JSON.parse(a.target?.result)}catch(o){ri().s[52]++,this.setState({error:o.toString()}),ri().s[53]++;return}ri().s[54]++,l=Vd.ensureStyleValidity(l),ri().s[55]++,this.props.onStyleOpen(l),ri().s[56]++,this.onOpenToggle()},ri().s[57]++,r.onerror=a=>(ri().f[14]++,ri().s[58]++,console.log(a.target))});onOpenToggle(){ri().f[15]++,ri().s[59]++,this.setState({styleUrl:""}),ri().s[60]++,this.clearError(),ri().s[61]++,this.props.onOpenToggle()}onChangeUrl=(ri().s[62]++,e=>{ri().f[16]++,ri().s[63]++,this.setState({styleUrl:e})});render(){ri().f[17]++;const e=(ri().s[64]++,this.props.t),t=(ri().s[65]++,dG.map(r=>(ri().f[18]++,ri().s[66]++,Ae.jsx(Ode,{url:r.url,title:r.title,thumbnailUrl:r.thumbnail,onSelect:this.onStyleSelect},r.id))));let i;return ri().s[67]++,this.state.error?(ri().b[3][0]++,ri().s[68]++,i=Ae.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,Ae.jsx("a",{href:"#",onClick:()=>(ri().f[19]++,ri().s[69]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):ri().b[3][1]++,ri().s[70]++,Ae.jsxs("div",{children:[Ae.jsxs(Q0,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(ri().f[20]++,ri().s[71]++,this.onOpenToggle()),title:e("Open Style"),children:[i,Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Open local Style")}),Ae.jsx("p",{children:e("Open a local JSON style from your computer.")}),Ae.jsx("div",{children:typeof window.showOpenFilePicker=="function"?(ri().b[4][0]++,Ae.jsxs(Fs,{className:"maputnik-big-button",onClick:this.onOpenFile,children:[Ae.jsx(kI,{})," ",e("Open Style")]})):(ri().b[4][1]++,Ae.jsx(Sde,{onChange:this.onFileChanged,tabIndex:-1,"aria-label":e("Open Style"),children:Ae.jsxs(Fs,{className:"maputnik-upload-button",children:[Ae.jsx(kI,{})," ",e("Open Style")]})}))})]}),Ae.jsx("section",{className:"maputnik-modal-section",children:Ae.jsxs("form",{onSubmit:this.onSubmitUrl,children:[Ae.jsx("h1",{children:e("Load from URL")}),Ae.jsx("p",{children:Ae.jsxs(Dg,{t:e,children:["Load from a URL. Note that the URL must have ",Ae.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]})}),Ae.jsx(t7,{"aria-label":e("Style URL"),"data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:e("Enter URL..."),value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),Ae.jsx("div",{children:Ae.jsx(Fs,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),Ae.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[Ae.jsx("h1",{children:e("Gallery Styles")}),Ae.jsx("p",{children:e("Open one of the publicly available styles to start from.")}),Ae.jsx("div",{className:"maputnik-style-gallery-container",children:t})]})]}),Ae.jsx(Bde,{isOpen:!!this.state.activeRequest,title:e("Loading style"),onCancel:r=>(ri().f[21]++,ri().s[72]++,this.onCancelActiveRequest(r)),message:e("Loading: {{requestUrl}}",{requestUrl:this.state.activeRequestUrl})})]})}}const Tde=(ri().s[73]++,es()(Ide));function fp(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalShortcuts.tsx",e="56c3984d0ef3534e088a574117d91f5af2db0afb",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalShortcuts.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:17},end:{line:41,column:5}},2:{start:{line:42,column:25},end:{line:115,column:5}},3:{start:{line:116,column:4},end:{line:145,column:6}},4:{start:{line:130,column:12},end:{line:133,column:22}},5:{start:{line:137,column:12},end:{line:141,column:22}},6:{start:{line:148,column:23},end:{line:148,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:146,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:129,column:57},end:{line:129,column:58}},loc:{start:{line:129,column:72},end:{line:134,column:11}},line:129},2:{name:"(anonymous_2)",decl:{start:{line:136,column:65},end:{line:136,column:66}},loc:{start:{line:136,column:80},end:{line:142,column:11}},line:136}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalShortcuts.tsx"],names:[],mappings:"AAiBa,SAwCA,UAxCA,KAwCA,YAxCA;AAjBb,OAAO,WAAW;AAClB,SAAS,OAA6B,uBAAuB;AAE7D,OAAO,WAAW;AASlB,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,YAAY;AAAA,MACtB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,cAAc;AAAA,MACxB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,oBAAoB;AAAA,MAC9B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,sBAAsB;AAAA,MAChC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,WAAW;AAAA,MACrB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,aAAa;AAAA,MACvB;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM,EAAE,uBAAwB;AAAA,MAClC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM,EAAE,0BAA2B;AAAA,MACrC;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM,EAAE,sCAAuC;AAAA,MACjD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,sCAAsC;AAAA,MAChD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QAEpB,+BAAC,aAAQ,WAAU,mDACjB;AAAA,8BAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB,GACF;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAG,YAAE,8DAA8D,GAAE;AAAA,UACtE,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,iBAAiB,gBAAgB,EAAE,sBAAsB;AAC/D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"56c3984d0ef3534e088a574117d91f5af2db0afb"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return fp=function(){return l},l}fp();class kde extends ni.Component{render(){fp().f[0]++;const e=(fp().s[0]++,this.props.t),t=(fp().s[1]++,[{key:Ae.jsx("kbd",{children:"?"}),text:e("Shortcuts menu")},{key:Ae.jsx("kbd",{children:"o"}),text:e("Open modal")},{key:Ae.jsx("kbd",{children:"e"}),text:e("Export modal")},{key:Ae.jsx("kbd",{children:"d"}),text:e("Data Sources modal")},{key:Ae.jsx("kbd",{children:"s"}),text:e("Style Settings modal")},{key:Ae.jsx("kbd",{children:"i"}),text:e("Toggle inspect")},{key:Ae.jsx("kbd",{children:"m"}),text:e("Focus map")},{key:Ae.jsx("kbd",{children:"!"}),text:e("Debug modal")}]),i=(fp().s[2]++,[{key:Ae.jsx("kbd",{children:"+"}),text:e("Increase the zoom level by 1.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"+"})]}),text:e("Increase the zoom level by 2.")},{key:Ae.jsx("kbd",{children:"-"}),text:e("Decrease the zoom level by 1.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"-"})]}),text:e("Decrease the zoom level by 2.")},{key:Ae.jsx("kbd",{children:"Up"}),text:e("Pan up by 100 pixels.")},{key:Ae.jsx("kbd",{children:"Down"}),text:e("Pan down by 100 pixels.")},{key:Ae.jsx("kbd",{children:"Left"}),text:e("Pan left by 100 pixels.")},{key:Ae.jsx("kbd",{children:"Right"}),text:e("Pan right by 100 pixels.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Right"})]}),text:e("Increase the rotation by 15 degrees.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Left"})]}),text:e("Decrease the rotation by 15 degrees.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Up"})]}),text:e("Increase the pitch by 10 degrees.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Down"})]}),text:e("Decrease the pitch by 10 degrees.")}]);return fp().s[3]++,Ae.jsx(Q0,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Shortcuts"),children:Ae.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[Ae.jsx("p",{children:Ae.jsxs(Dg,{t:e,children:["Press ",Ae.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]})}),Ae.jsx("dl",{children:t.map((r,a)=>(fp().f[1]++,fp().s[4]++,Ae.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[Ae.jsx("dt",{children:r.key},"dt"+a),Ae.jsx("dd",{children:r.text},"dd"+a)]},a)))}),Ae.jsx("p",{children:e("If the Map is in focused you can use the following shortcuts")}),Ae.jsx("ul",{children:i.map((r,a)=>(fp().f[2]++,fp().s[5]++,Ae.jsxs("li",{children:[Ae.jsx("span",{children:r.key})," ",r.text]},a)))})]})})}}const Dde=(fp().s[6]++,es()(kde));function Ru(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalDebug.tsx",e="c09f0bfde95742e69af0d091b2de9baefbfef43a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalDebug.tsx",statementMap:{0:{start:{line:7,column:27},end:{line:7,column:37}},1:{start:{line:8,column:20},end:{line:8,column:48}},2:{start:{line:9,column:19},end:{line:9,column:49}},3:{start:{line:10,column:19},end:{line:10,column:49}},4:{start:{line:11,column:4},end:{line:53,column:6}},5:{start:{line:22,column:14},end:{line:26,column:27}},6:{start:{line:23,column:96},end:{line:23,column:153}},7:{start:{line:29,column:14},end:{line:33,column:27}},8:{start:{line:30,column:96},end:{line:30,column:153}},9:{start:{line:56,column:19},end:{line:56,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:54,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:21,column:140},end:{line:21,column:141}},loc:{start:{line:21,column:156},end:{line:27,column:13}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:89},end:{line:23,column:90}},loc:{start:{line:23,column:96},end:{line:23,column:153}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:28,column:136},end:{line:28,column:137}},loc:{start:{line:28,column:152},end:{line:34,column:13}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:30,column:89},end:{line:30,column:90}},loc:{start:{line:30,column:96},end:{line:30,column:153}},line:30}},branchMap:{0:{loc:{start:{line:21,column:12},end:{line:27,column:17}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:44}},{start:{line:21,column:64},end:{line:27,column:17}}],line:21},1:{loc:{start:{line:28,column:12},end:{line:34,column:17}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:40}},{start:{line:28,column:60},end:{line:34,column:17}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalDebug.tsx"],names:[],mappings:"AAuCQ,cAKQ,YALR;AAvCR,OAAO,WAAW;AAClB,SAAS,OAA6B,uBAAuB;AAE7D,OAAO,WAAW;AAqBlB,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAS;AACP,UAAM,EAAC,GAAG,QAAO,IAAI,KAAK;AAE1B,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,OAAO;AAAA,QAEhB;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAI,YAAE,SAAS,GAAE;AAAA,YACjB,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,OAAO,GAAE;AAAA,YAChB,oBAAC,OACC,+BAAC,SAAM,GACL;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN,GACF;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c09f0bfde95742e69af0d091b2de9baefbfef43a"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Ru=function(){return l},l}Ru();class Rde extends ni.Component{render(){Ru().f[0]++;const{t:e,mapView:t}=(Ru().s[0]++,this.props),i=(Ru().s[1]++,Math.round(t.zoom)+1),r=(Ru().s[2]++,+t.center.lng.toFixed(5)),a=(Ru().s[3]++,+t.center.lat.toFixed(5));return Ru().s[4]++,Ae.jsxs(Q0,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Debug"),children:[Ae.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[Ae.jsx("h1",{children:e("Options")}),(Ru().b[0][0]++,this.props.renderer==="mlgljs"&&(Ru().b[0][1]++,Ae.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([l,o])=>(Ru().f[1]++,Ru().s[5]++,Ae.jsx("li",{children:Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",checked:o,onChange:p=>(Ru().f[2]++,Ru().s[6]++,this.props.onChangeMaplibreGlDebug(l,p.target.checked))})," ",l]})},l)))}))),(Ru().b[1][0]++,this.props.renderer==="ol"&&(Ru().b[1][1]++,Ae.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([l,o])=>(Ru().f[3]++,Ru().s[7]++,Ae.jsx("li",{children:Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",checked:o,onChange:p=>(Ru().f[4]++,Ru().s[8]++,this.props.onChangeOpenlayersDebug(l,p.target.checked))})," ",l]})},l)))})))]}),Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Links")}),Ae.jsx("p",{children:Ae.jsxs(Dg,{t:e,children:[Ae.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${i}/${a}/${r}`,children:"Open in OSM"}),". Opens the current view on openstreetmap.org"]})})]})]})}}const Pde=(Ru().s[9]++,es()(Rde));function Wi(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalGlobalState.tsx",e="681e0b3080d4effb89e735abebd0878f77572d27",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalGlobalState.tsx",statementMap:{0:{start:{line:10,column:33},end:{line:116,column:1}},1:{start:{line:11,column:34},end:{line:18,column:3}},2:{start:{line:12,column:18},end:{line:12,column:32}},3:{start:{line:13,column:24},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:17,column:8}},5:{start:{line:14,column:62},end:{line:17,column:5}},6:{start:{line:19,column:34},end:{line:31,column:3}},7:{start:{line:20,column:18},end:{line:20,column:39}},8:{start:{line:21,column:24},end:{line:21,column:26}},9:{start:{line:22,column:4},end:{line:28,column:5}},10:{start:{line:23,column:6},end:{line:27,column:7}},11:{start:{line:24,column:8},end:{line:26,column:10}},12:{start:{line:29,column:4},end:{line:29,column:77}},13:{start:{line:30,column:4},end:{line:30,column:32}},14:{start:{line:32,column:24},end:{line:40,column:3}},15:{start:{line:33,column:23},end:{line:33,column:48}},16:{start:{line:34,column:16},end:{line:34,column:17}},17:{start:{line:35,column:4},end:{line:37,column:5}},18:{start:{line:35,column:34},end:{line:35,column:57}},19:{start:{line:36,column:6},end:{line:36,column:14}},20:{start:{line:38,column:4},end:{line:38,column:60}},21:{start:{line:39,column:4},end:{line:39,column:40}},22:{start:{line:41,column:27},end:{line:45,column:3}},23:{start:{line:42,column:23},end:{line:42,column:48}},24:{start:{line:43,column:4},end:{line:43,column:32}},25:{start:{line:44,column:4},end:{line:44,column:40}},26:{start:{line:46,column:30},end:{line:50,column:3}},27:{start:{line:47,column:23},end:{line:47,column:48}},28:{start:{line:48,column:4},end:{line:48,column:41}},29:{start:{line:49,column:4},end:{line:49,column:40}},30:{start:{line:51,column:32},end:{line:55,column:3}},31:{start:{line:52,column:23},end:{line:52,column:48}},32:{start:{line:53,column:4},end:{line:53,column:45}},33:{start:{line:54,column:4},end:{line:54,column:40}},34:{start:{line:56,column:20},end:{line:56,column:45}},35:{start:{line:57,column:25},end:{line:85,column:14}},36:{start:{line:57,column:76},end:{line:85,column:13}},37:{start:{line:63,column:29},end:{line:63,column:68}},38:{start:{line:72,column:29},end:{line:72,column:70}},39:{start:{line:79,column:23},end:{line:79,column:46}},40:{start:{line:86,column:2},end:{line:115,column:4}},41:{start:{line:117,column:25},end:{line:117,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:33},end:{line:10,column:34}},loc:{start:{line:10,column:44},end:{line:116,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:11,column:34},end:{line:11,column:35}},loc:{start:{line:11,column:40},end:{line:18,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:43},end:{line:14,column:44}},loc:{start:{line:14,column:62},end:{line:17,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:19,column:34},end:{line:19,column:35}},loc:{start:{line:19,column:50},end:{line:31,column:3}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:32,column:24},end:{line:32,column:25}},loc:{start:{line:32,column:30},end:{line:40,column:3}},line:32},5:{name:"(anonymous_5)",decl:{start:{line:35,column:27},end:{line:35,column:28}},loc:{start:{line:35,column:34},end:{line:35,column:57}},line:35},6:{name:"(anonymous_6)",decl:{start:{line:41,column:27},end:{line:41,column:28}},loc:{start:{line:41,column:38},end:{line:45,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:46,column:30},end:{line:46,column:31}},loc:{start:{line:46,column:49},end:{line:50,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:51,column:32},end:{line:51,column:33}},loc:{start:{line:51,column:53},end:{line:55,column:3}},line:51},9:{name:"(anonymous_9)",decl:{start:{line:57,column:39},end:{line:57,column:40}},loc:{start:{line:57,column:76},end:{line:85,column:13}},line:57},10:{name:"(anonymous_10)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:29},end:{line:63,column:68}},line:63},11:{name:"(anonymous_11)",decl:{start:{line:72,column:18},end:{line:72,column:19}},loc:{start:{line:72,column:29},end:{line:72,column:70}},line:72},12:{name:"(anonymous_12)",decl:{start:{line:79,column:17},end:{line:79,column:18}},loc:{start:{line:79,column:23},end:{line:79,column:46}},line:79}},branchMap:{0:{loc:{start:{line:13,column:24},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:24},end:{line:13,column:35}},{start:{line:13,column:39},end:{line:13,column:41}}],line:13},1:{loc:{start:{line:23,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:23,column:6},end:{line:27,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},2:{loc:{start:{line:29,column:18},end:{line:29,column:76}},type:"cond-expr",locations:[{start:{line:29,column:56},end:{line:29,column:67}},{start:{line:29,column:70},end:{line:29,column:76}}],line:29},3:{loc:{start:{line:48,column:28},end:{line:48,column:40}},type:"binary-expr",locations:[{start:{line:48,column:28},end:{line:48,column:34}},{start:{line:48,column:38},end:{line:48,column:40}}],line:48},4:{loc:{start:{line:53,column:30},end:{line:53,column:44}},type:"binary-expr",locations:[{start:{line:53,column:30},end:{line:53,column:38}},{start:{line:53,column:42},end:{line:53,column:44}}],line:53},5:{loc:{start:{line:63,column:56},end:{line:63,column:67}},type:"binary-expr",locations:[{start:{line:63,column:56},end:{line:63,column:61}},{start:{line:63,column:65},end:{line:63,column:67}}],line:63},6:{loc:{start:{line:72,column:58},end:{line:72,column:69}},type:"binary-expr",locations:[{start:{line:72,column:58},end:{line:72,column:63}},{start:{line:72,column:67},end:{line:72,column:69}}],line:72},7:{loc:{start:{line:94,column:8},end:{line:97,column:12}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:30}},{start:{line:94,column:50},end:{line:97,column:12}}],line:94},8:{loc:{start:{line:98,column:8},end:{line:101,column:12}},type:"binary-expr",locations:[{start:{line:98,column:8},end:{line:98,column:28}},{start:{line:98,column:48},end:{line:101,column:12}}],line:98}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalGlobalState.tsx"],names:["variables"],mappings:"AAsFI,SAEI,KAFJ,YAAA;AArFJ,SAAS,uBAA6C;AACtD,SAAS,gBAAgB;AACzB,OAAO,YAAY;AAEnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,SAAS,sBAAsB;AAG/B,OAAO,SAAS;AAchB,MAAM,2BAAoE,CAAC,UAAU;AACnF,QAAM,0BAA0B,MAA6B;AAC3D,UAAM,QAAQ,MAAM;AACpB,UAAM,cAAc,MAAM,SAAS,CAAC;AAEpC,WAAO,OAAO,QAAQ,WAAW,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,OAAO;AAAA,MACxD;AAAA,MACA,OAAO,MAAM;AAAA,IACf,EAAE;AAAA,EACJ;AAEA,QAAM,0BAA0B,CAACA,eAAqC;AACpE,UAAM,QAAQ,EAAE,GAAG,MAAM,SAAS;AAGlC,UAAM,cAAmD,CAAC;AAC1D,eAAW,YAAYA,YAAW;AAChC,UAAI,SAAS,IAAI,KAAK,MAAM,IAAI;AAC9B,oBAAY,SAAS,GAAG,IAAI;AAAA,UAC1B,SAAS,SAAS;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAEA,UAAM,QAAQ,OAAO,KAAK,WAAW,EAAE,SAAS,IAAI,cAAc;AAElE,UAAM,eAAe,KAAK;AAAA,EAC5B;AAEA,QAAM,gBAAgB,MAAM;AAC1B,UAAMA,aAAY,wBAAwB;AAC1C,QAAI,QAAQ;AACZ,WAAOA,WAAU,KAAK,CAAA,MAAK,EAAE,QAAQ,MAAM,KAAK,EAAE,GAAG;AACnD;AAAA,IACF;AACAA,eAAU,KAAK,EAAE,KAAK,MAAM,KAAK,IAAI,OAAO,QAAQ,CAAC;AACrD,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,mBAAmB,CAAC,UAAkB;AAC1C,UAAMA,aAAY,wBAAwB;AAC1CA,eAAU,OAAO,OAAO,CAAC;AACzB,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,sBAAsB,CAAC,OAAe,WAAmB;AAC7D,UAAMA,aAAY,wBAAwB;AAC1CA,eAAU,KAAK,EAAE,MAAM,UAAU;AACjC,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,wBAAwB,CAAC,OAAe,aAAqB;AACjE,UAAMA,aAAY,wBAAwB;AAE1CA,eAAU,KAAK,EAAE,QAAQ,YAAY;AACrC,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,YAAY,wBAAwB;AAE1C,QAAM,iBAAiB,UAAU,IAAI,CAAC,UAAU,+BAC7C,MAAA,EACC,UAAA;AAAA,IAAA,oBAAC,MAAA,EACC,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,MAAM,EAAE,KAAK;AAAA,QACpB,OAAO,SAAS;AAAA,QAChB,UAAU,CAAC,UAAU,oBAAoB,OAAO,SAAS,EAAE;AAAA,QAC3D,eAAa,+BAA+B;AAAA,MAAA;AAAA,IAC9C,EAAA,CACF;AAAA,wBACC,MAAA,EACC,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,MAAM,EAAE,OAAO;AAAA,QACtB,OAAO,SAAS;AAAA,QAChB,UAAU,CAAC,UAAU,sBAAsB,OAAO,SAAS,EAAE;AAAA,QAC7D,eAAa,iCAAiC;AAAA,MAAA;AAAA,IAChD,EAAA,CACF;AAAA,wBACC,MAAA,EAAG,OAAO,EAAE,eAAe,SAAQ,GAClC,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS,MAAM,iBAAiB,KAAK;AAAA,QACrC,OAAO,MAAM,EAAE,iBAAiB;AAAA,QAChC,eAAY;AAAA,QAEZ,8BAAC,UAAA,CAAA,CAAS;AAAA,MAAA;AAAA,IACZ,EAAA,CACF;AAAA,EAAA,EAAA,GAzBO,KA0BT,CACD;AAED,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,eAAY;AAAA,MACZ,QAAQ,MAAM;AAAA,MACd,cAAc,MAAM;AAAA,MACpB,OAAO,MAAM,EAAE,wBAAwB;AAAA,MAGtC,UAAA;AAAA,QAAA,UAAU,WAAW,KAChB,qBAAC,OAAA,EACC,UAAA;AAAA,UAAA,oBAAC,KAAA,EAAG,UAAA,MAAM,EAAE,2FAA2F,EAAA,CAAE;AAAA,UACzG,oBAAC,OAAA,EAAc,WAAU,uBACvB,UAAA,oBAAC,KAAA,EAAI,WAAW,OAAO,MAAM,MAAA,CAAO,EAAA,GAD7B,KAET;AAAA,QAAA,EAAA,CACF;AAAA,QAEL,UAAU,SAAS,KACpB,qBAAC,SAAA,EACC,UAAA;AAAA,UAAA,oBAAC,SAAA,CAAA,CACD;AAAA,UACA,oBAAC,WACE,UAAA,eAAA,CACH;AAAA,QAAA,EAAA,CACF;AAAA,4BAEC,OAAA,EACC,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS;AAAA,YACT,eAAY;AAAA,YAEZ,UAAA;AAAA,cAAA,oBAAC,gBAAA,CAAA,CAAe;AAAA,cACf,MAAM,EAAE,cAAc;AAAA,YAAA;AAAA,UAAA;AAAA,QACzB,EAAA,CACF;AAAA,MAAA;AAAA,IAAA;AAAA,EACF;AAEJ;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"681e0b3080d4effb89e735abebd0878f77572d27"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Wi=function(){return l},l}Wi();Wi().s[0]++;const Kde=n=>{Wi().f[0]++,Wi().s[1]++;const e=()=>{Wi().f[1]++;const C=(Wi().s[2]++,n.mapStyle),M=(Wi().s[3]++,Wi().b[0][0]++,C.state||(Wi().b[0][1]++,{}));return Wi().s[4]++,Object.entries(M).map(([O,U])=>(Wi().f[2]++,Wi().s[5]++,{key:O,value:U.default}))};Wi().s[6]++;const t=C=>{Wi().f[3]++;const M=(Wi().s[7]++,{...n.mapStyle}),O=(Wi().s[8]++,{});Wi().s[9]++;for(const U of C)Wi().s[10]++,U.key.trim()!==""?(Wi().b[1][0]++,Wi().s[11]++,O[U.key]={default:U.value}):Wi().b[1][1]++;Wi().s[12]++,M.state=Object.keys(O).length>0?(Wi().b[2][0]++,O):(Wi().b[2][1]++,void 0),Wi().s[13]++,n.onStyleChanged(M)};Wi().s[14]++;const i=()=>{Wi().f[4]++;const C=(Wi().s[15]++,e());let M=(Wi().s[16]++,1);for(Wi().s[17]++;C.find(O=>(Wi().f[5]++,Wi().s[18]++,O.key===`key${M}`));)Wi().s[19]++,M++;Wi().s[20]++,C.push({key:`key${M}`,value:"value"}),Wi().s[21]++,t(C)};Wi().s[22]++;const r=C=>{Wi().f[6]++;const M=(Wi().s[23]++,e());Wi().s[24]++,M.splice(C,1),Wi().s[25]++,t(M)};Wi().s[26]++;const a=(C,M)=>{Wi().f[7]++;const O=(Wi().s[27]++,e());Wi().s[28]++,O[C].key=(Wi().b[3][0]++,M||(Wi().b[3][1]++,"")),Wi().s[29]++,t(O)};Wi().s[30]++;const l=(C,M)=>{Wi().f[8]++;const O=(Wi().s[31]++,e());Wi().s[32]++,O[C].value=(Wi().b[4][0]++,M||(Wi().b[4][1]++,"")),Wi().s[33]++,t(O)},o=(Wi().s[34]++,e()),p=(Wi().s[35]++,o.map((C,M)=>(Wi().f[9]++,Wi().s[36]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:Ae.jsx(Gd,{label:n.t("Key"),value:C.key,onChange:O=>(Wi().f[10]++,Wi().s[37]++,a(M,(Wi().b[5][0]++,O||(Wi().b[5][1]++,"")))),"data-wd-key":"global-state-variable-key:"+M})}),Ae.jsx("td",{children:Ae.jsx(Gd,{label:n.t("Value"),value:C.value,onChange:O=>(Wi().f[11]++,Wi().s[38]++,l(M,(Wi().b[6][0]++,O||(Wi().b[6][1]++,"")))),"data-wd-key":"global-state-variable-value:"+M})}),Ae.jsx("td",{style:{verticalAlign:"middle"},children:Ae.jsx(Fs,{onClick:()=>(Wi().f[12]++,Wi().s[39]++,r(M)),title:n.t("Remove variable"),"data-wd-key":"global-state-remove-variable",children:Ae.jsx(Z1,{})})})]},M))));return Wi().s[40]++,Ae.jsxs(Q0,{"data-wd-key":"modal:global-state",isOpen:n.isOpen,onOpenToggle:n.onOpenToggle,title:n.t("Global State Variables"),children:[(Wi().b[7][0]++,o.length===0&&(Wi().b[7][1]++,Ae.jsxs("div",{children:[Ae.jsx("p",{children:n.t("No global state variables defined. Add variables to create reusable values in your style.")}),Ae.jsx("div",{className:"maputnik-doc-inline",children:Ae.jsx(T2,{fieldSpec:$o.$root.state})},"doc")]}))),(Wi().b[8][0]++,o.length>0&&(Wi().b[8][1]++,Ae.jsxs("table",{children:[Ae.jsx("thead",{}),Ae.jsx("tbody",{children:p})]}))),Ae.jsx("div",{children:Ae.jsxs(Fs,{onClick:i,"data-wd-key":"global-state-add-variable",children:[Ae.jsx(j2,{}),n.t("Add Variable")]})})]})},Ude=(Wi().s[41]++,es()(Kde));var _1={},qC={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Lde=qC.exports,DK;function Fde(){return DK||(DK=1,function(n,e){(function(t){var i=e&&!e.nodeType&&e,r=n&&!n.nodeType&&n,a=typeof window=="object"&&window;(a.global===a||a.window===a||a.self===a)&&(t=a);var l,o=2147483647,p=36,C=1,M=26,O=38,U=700,K=72,j=128,W="-",Y=/^xn--/,te=/[^\x20-\x7E]/,J=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=p-C,$=Math.floor,ae=String.fromCharCode,G;function ce(be){throw new RangeError(oe[be])}function ge(be,Ne){for(var tt=be.length,lt=[];tt--;)lt[tt]=Ne(be[tt]);return lt}function ye(be,Ne){var tt=be.split("@"),lt="";tt.length>1&&(lt=tt[0]+"@",be=tt[1]),be=be.replace(J,".");var kt=be.split("."),gt=ge(kt,Ne).join(".");return lt+gt}function we(be){for(var Ne=[],tt=0,lt=be.length,kt,gt;tt<lt;)kt=be.charCodeAt(tt++),kt>=55296&&kt<=56319&&tt<lt?(gt=be.charCodeAt(tt++),(gt&64512)==56320?Ne.push(((kt&1023)<<10)+(gt&1023)+65536):(Ne.push(kt),tt--)):Ne.push(kt);return Ne}function Ie(be){return ge(be,function(Ne){var tt="";return Ne>65535&&(Ne-=65536,tt+=ae(Ne>>>10&1023|55296),Ne=56320|Ne&1023),tt+=ae(Ne),tt}).join("")}function Se(be){return be-48<10?be-22:be-65<26?be-65:be-97<26?be-97:p}function Ve(be,Ne){return be+22+75*(be<26)-((Ne!=0)<<5)}function xe(be,Ne,tt){var lt=0;for(be=tt?$(be/U):be>>1,be+=$(be/Ne);be>ne*M>>1;lt+=p)be=$(be/ne);return $(lt+(ne+1)*be/(be+O))}function ze(be){var Ne=[],tt=be.length,lt,kt=0,gt=j,St=K,Ut,Fe,Ke,Re,He,bt,_t,Ot,qt;for(Ut=be.lastIndexOf(W),Ut<0&&(Ut=0),Fe=0;Fe<Ut;++Fe)be.charCodeAt(Fe)>=128&&ce("not-basic"),Ne.push(be.charCodeAt(Fe));for(Ke=Ut>0?Ut+1:0;Ke<tt;){for(Re=kt,He=1,bt=p;Ke>=tt&&ce("invalid-input"),_t=Se(be.charCodeAt(Ke++)),(_t>=p||_t>$((o-kt)/He))&&ce("overflow"),kt+=_t*He,Ot=bt<=St?C:bt>=St+M?M:bt-St,!(_t<Ot);bt+=p)qt=p-Ot,He>$(o/qt)&&ce("overflow"),He*=qt;lt=Ne.length+1,St=xe(kt-Re,lt,Re==0),$(kt/lt)>o-gt&&ce("overflow"),gt+=$(kt/lt),kt%=lt,Ne.splice(kt++,0,gt)}return Ie(Ne)}function st(be){var Ne,tt,lt,kt,gt,St,Ut,Fe,Ke,Re,He,bt=[],_t,Ot,qt,Kt;for(be=we(be),_t=be.length,Ne=j,tt=0,gt=K,St=0;St<_t;++St)He=be[St],He<128&&bt.push(ae(He));for(lt=kt=bt.length,kt&&bt.push(W);lt<_t;){for(Ut=o,St=0;St<_t;++St)He=be[St],He>=Ne&&He<Ut&&(Ut=He);for(Ot=lt+1,Ut-Ne>$((o-tt)/Ot)&&ce("overflow"),tt+=(Ut-Ne)*Ot,Ne=Ut,St=0;St<_t;++St)if(He=be[St],He<Ne&&++tt>o&&ce("overflow"),He==Ne){for(Fe=tt,Ke=p;Re=Ke<=gt?C:Ke>=gt+M?M:Ke-gt,!(Fe<Re);Ke+=p)Kt=Fe-Re,qt=p-Re,bt.push(ae(Ve(Re+Kt%qt,0))),Fe=$(Kt/qt);bt.push(ae(Ve(Fe,0))),gt=xe(tt,Ot,lt==kt),tt=0,++lt}++tt,++Ne}return bt.join("")}function Ct(be){return ye(be,function(Ne){return Y.test(Ne)?ze(Ne.slice(4).toLowerCase()):Ne})}function nt(be){return ye(be,function(Ne){return te.test(Ne)?"xn--"+st(Ne):Ne})}if(l={version:"1.4.1",ucs2:{decode:we,encode:Ie},decode:ze,encode:st,toASCII:nt,toUnicode:Ct},i&&r)if(n.exports==i)r.exports=l;else for(G in l)l.hasOwnProperty(G)&&(i[G]=l[G]);else t.punycode=l})(Lde)}(qC,qC.exports)),qC.exports}var pE,RK;function iC(){return RK||(RK=1,pE=TypeError),pE}const zde={},jde=Object.freeze(Object.defineProperty({__proto__:null,default:zde},Symbol.toStringTag,{value:"Module"})),Nde=OB(jde);var mE,PK;function e4(){if(PK)return mE;PK=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,i=n&&Map.prototype.forEach,r=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=r&&a&&typeof a.get=="function"?a.get:null,o=r&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,C=p?WeakMap.prototype.has:null,M=typeof WeakSet=="function"&&WeakSet.prototype,O=M?WeakSet.prototype.has:null,U=typeof WeakRef=="function"&&WeakRef.prototype,K=U?WeakRef.prototype.deref:null,j=Boolean.prototype.valueOf,W=Object.prototype.toString,Y=Function.prototype.toString,te=String.prototype.match,J=String.prototype.slice,oe=String.prototype.replace,ne=String.prototype.toUpperCase,$=String.prototype.toLowerCase,ae=RegExp.prototype.test,G=Array.prototype.concat,ce=Array.prototype.join,ge=Array.prototype.slice,ye=Math.floor,we=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ie=Object.getOwnPropertySymbols,Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="object",xe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ve||!0)?Symbol.toStringTag:null,ze=Object.prototype.propertyIsEnumerable,st=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ye){return Ye.__proto__}:null);function Ct(Ye,De){if(Ye===1/0||Ye===-1/0||Ye!==Ye||Ye&&Ye>-1e3&&Ye<1e3||ae.call(/e/,De))return De;var Ze=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ye=="number"){var g=Ye<0?-ye(-Ye):ye(Ye);if(g!==Ye){var mt=String(g),ht=J.call(De,mt.length+1);return oe.call(mt,Ze,"$&_")+"."+oe.call(oe.call(ht,/([0-9]{3})/g,"$&_"),/_$/,"")}}return oe.call(De,Ze,"$&_")}var nt=Nde,be=nt.custom,Ne=_t(be)?be:null,tt={__proto__:null,double:'"',single:"'"},lt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};mE=function Ye(De,Ze,g,mt){var ht=Ze||{};if(Kt(ht,"quoteStyle")&&!Kt(tt,ht.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Kt(ht,"maxStringLength")&&(typeof ht.maxStringLength=="number"?ht.maxStringLength<0&&ht.maxStringLength!==1/0:ht.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Tt=Kt(ht,"customInspect")?ht.customInspect:!0;if(typeof Tt!="boolean"&&Tt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Kt(ht,"indent")&&ht.indent!==null&&ht.indent!=="	"&&!(parseInt(ht.indent,10)===ht.indent&&ht.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Kt(ht,"numericSeparator")&&typeof ht.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var it=ht.numericSeparator;if(typeof De>"u")return"undefined";if(De===null)return"null";if(typeof De=="boolean")return De?"true":"false";if(typeof De=="string")return Kn(De,ht);if(typeof De=="number"){if(De===0)return 1/0/De>0?"0":"-0";var en=String(De);return it?Ct(De,en):en}if(typeof De=="bigint"){var Dn=String(De)+"n";return it?Ct(De,Dn):Dn}var Mn=typeof ht.depth>"u"?5:ht.depth;if(typeof g>"u"&&(g=0),g>=Mn&&Mn>0&&typeof De=="object")return St(De)?"[Array]":"[Object]";var ii=Te(ht,g);if(typeof mt>"u")mt=[];else if(Wt(mt,De)>=0)return"[Circular]";function Wn(kr,ji,yl){if(ji&&(mt=ge.call(mt),mt.push(ji)),yl){var Pa={depth:ht.depth};return Kt(ht,"quoteStyle")&&(Pa.quoteStyle=ht.quoteStyle),Ye(kr,Pa,g+1,mt)}return Ye(kr,ht,g+1,mt)}if(typeof De=="function"&&!Fe(De)){var Hi=Jn(De),tr=dt(De,Wn);return"[Function"+(Hi?": "+Hi:" (anonymous)")+"]"+(tr.length>0?" { "+ce.call(tr,", ")+" }":"")}if(_t(De)){var Ei=Ve?oe.call(String(De),/^(Symbol\(.*\))_[^)]*$/,"$1"):Se.call(De);return typeof De=="object"&&!Ve?de(Ei):Ei}if(ei(De)){for(var hi="<"+$.call(String(De.nodeName)),ti=De.attributes||[],Qi=0;Qi<ti.length;Qi++)hi+=" "+ti[Qi].name+"="+kt(gt(ti[Qi].value),"double",ht);return hi+=">",De.childNodes&&De.childNodes.length&&(hi+="..."),hi+="</"+$.call(String(De.nodeName))+">",hi}if(St(De)){if(De.length===0)return"[]";var wn=dt(De,Wn);return ii&&!pe(wn)?"["+We(wn,ii)+"]":"[ "+ce.call(wn,", ")+" ]"}if(Ke(De)){var uo=dt(De,Wn);return!("cause"in Error.prototype)&&"cause"in De&&!ze.call(De,"cause")?"{ ["+String(De)+"] "+ce.call(G.call("[cause]: "+Wn(De.cause),uo),", ")+" }":uo.length===0?"["+String(De)+"]":"{ ["+String(De)+"] "+ce.call(uo,", ")+" }"}if(typeof De=="object"&&Tt){if(Ne&&typeof De[Ne]=="function"&&nt)return nt(De,{depth:Mn-g});if(Tt!=="symbol"&&typeof De.inspect=="function")return De.inspect()}if($n(De)){var Vi=[];return i&&i.call(De,function(kr,ji){Vi.push(Wn(ji,De,!0)+" => "+Wn(kr,De))}),le("Map",t.call(De),Vi,ii)}if(In(De)){var ya=[];return o&&o.call(De,function(kr){ya.push(Wn(kr,De))}),le("Set",l.call(De),ya,ii)}if(On(De))return re("WeakMap");if(Oi(De))return re("WeakSet");if(Bn(De))return re("WeakRef");if(He(De))return de(Wn(Number(De)));if(Ot(De))return de(Wn(we.call(De)));if(bt(De))return de(j.call(De));if(Re(De))return de(Wn(String(De)));if(typeof window<"u"&&De===window)return"{ [object Window] }";if(typeof globalThis<"u"&&De===globalThis||typeof window<"u"&&De===window)return"{ [object globalThis] }";if(!Ut(De)&&!Fe(De)){var ko=dt(De,Wn),Zn=st?st(De)===Object.prototype:De instanceof Object||De.constructor===Object,Ar=De instanceof Object?"":"null prototype",zi=!Zn&&xe&&Object(De)===De&&xe in De?J.call(on(De),8,-1):Ar?"Object":"",Cr=Zn||typeof De.constructor!="function"?"":De.constructor.name?De.constructor.name+" ":"",ja=Cr+(zi||Ar?"["+ce.call(G.call([],zi||[],Ar||[]),": ")+"] ":"");return ko.length===0?ja+"{}":ii?ja+"{"+We(ko,ii)+"}":ja+"{ "+ce.call(ko,", ")+" }"}return String(De)};function kt(Ye,De,Ze){var g=Ze.quoteStyle||De,mt=tt[g];return mt+Ye+mt}function gt(Ye){return oe.call(String(Ye),/"/g,"&quot;")}function St(Ye){return on(Ye)==="[object Array]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function Ut(Ye){return on(Ye)==="[object Date]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function Fe(Ye){return on(Ye)==="[object RegExp]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function Ke(Ye){return on(Ye)==="[object Error]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function Re(Ye){return on(Ye)==="[object String]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function He(Ye){return on(Ye)==="[object Number]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function bt(Ye){return on(Ye)==="[object Boolean]"&&(!xe||!(typeof Ye=="object"&&xe in Ye))}function _t(Ye){if(Ve)return Ye&&typeof Ye=="object"&&Ye instanceof Symbol;if(typeof Ye=="symbol")return!0;if(!Ye||typeof Ye!="object"||!Se)return!1;try{return Se.call(Ye),!0}catch{}return!1}function Ot(Ye){if(!Ye||typeof Ye!="object"||!we)return!1;try{return we.call(Ye),!0}catch{}return!1}var qt=Object.prototype.hasOwnProperty||function(Ye){return Ye in this};function Kt(Ye,De){return qt.call(Ye,De)}function on(Ye){return W.call(Ye)}function Jn(Ye){if(Ye.name)return Ye.name;var De=te.call(Y.call(Ye),/^function\s*([\w$]+)/);return De?De[1]:null}function Wt(Ye,De){if(Ye.indexOf)return Ye.indexOf(De);for(var Ze=0,g=Ye.length;Ze<g;Ze++)if(Ye[Ze]===De)return Ze;return-1}function $n(Ye){if(!t||!Ye||typeof Ye!="object")return!1;try{t.call(Ye);try{l.call(Ye)}catch{return!0}return Ye instanceof Map}catch{}return!1}function On(Ye){if(!C||!Ye||typeof Ye!="object")return!1;try{C.call(Ye,C);try{O.call(Ye,O)}catch{return!0}return Ye instanceof WeakMap}catch{}return!1}function Bn(Ye){if(!K||!Ye||typeof Ye!="object")return!1;try{return K.call(Ye),!0}catch{}return!1}function In(Ye){if(!l||!Ye||typeof Ye!="object")return!1;try{l.call(Ye);try{t.call(Ye)}catch{return!0}return Ye instanceof Set}catch{}return!1}function Oi(Ye){if(!O||!Ye||typeof Ye!="object")return!1;try{O.call(Ye,O);try{C.call(Ye,C)}catch{return!0}return Ye instanceof WeakSet}catch{}return!1}function ei(Ye){return!Ye||typeof Ye!="object"?!1:typeof HTMLElement<"u"&&Ye instanceof HTMLElement?!0:typeof Ye.nodeName=="string"&&typeof Ye.getAttribute=="function"}function Kn(Ye,De){if(Ye.length>De.maxStringLength){var Ze=Ye.length-De.maxStringLength,g="... "+Ze+" more character"+(Ze>1?"s":"");return Kn(J.call(Ye,0,De.maxStringLength),De)+g}var mt=lt[De.quoteStyle||"single"];mt.lastIndex=0;var ht=oe.call(oe.call(Ye,mt,"\\$1"),/[\x00-\x1f]/g,je);return kt(ht,"single",De)}function je(Ye){var De=Ye.charCodeAt(0),Ze={8:"b",9:"t",10:"n",12:"f",13:"r"}[De];return Ze?"\\"+Ze:"\\x"+(De<16?"0":"")+ne.call(De.toString(16))}function de(Ye){return"Object("+Ye+")"}function re(Ye){return Ye+" { ? }"}function le(Ye,De,Ze,g){var mt=g?We(Ze,g):ce.call(Ze,", ");return Ye+" ("+De+") {"+mt+"}"}function pe(Ye){for(var De=0;De<Ye.length;De++)if(Wt(Ye[De],`
`)>=0)return!1;return!0}function Te(Ye,De){var Ze;if(Ye.indent==="	")Ze="	";else if(typeof Ye.indent=="number"&&Ye.indent>0)Ze=ce.call(Array(Ye.indent+1)," ");else return null;return{base:Ze,prev:ce.call(Array(De+1),Ze)}}function We(Ye,De){if(Ye.length===0)return"";var Ze=`
`+De.prev+De.base;return Ze+ce.call(Ye,","+Ze)+`
`+De.prev}function dt(Ye,De){var Ze=St(Ye),g=[];if(Ze){g.length=Ye.length;for(var mt=0;mt<Ye.length;mt++)g[mt]=Kt(Ye,mt)?De(Ye[mt],Ye):""}var ht=typeof Ie=="function"?Ie(Ye):[],Tt;if(Ve){Tt={};for(var it=0;it<ht.length;it++)Tt["$"+ht[it]]=ht[it]}for(var en in Ye)Kt(Ye,en)&&(Ze&&String(Number(en))===en&&en<Ye.length||Ve&&Tt["$"+en]instanceof Symbol||(ae.call(/[^\w$]/,en)?g.push(De(en,Ye)+": "+De(Ye[en],Ye)):g.push(en+": "+De(Ye[en],Ye))));if(typeof Ie=="function")for(var Dn=0;Dn<ht.length;Dn++)ze.call(Ye,ht[Dn])&&g.push("["+De(ht[Dn])+"]: "+De(Ye[ht[Dn]],Ye));return g}return mE}var gE,KK;function Gde(){if(KK)return gE;KK=1;var n=e4(),e=iC(),t=function(o,p,C){for(var M=o,O;(O=M.next)!=null;M=O)if(O.key===p)return M.next=O.next,C||(O.next=o.next,o.next=O),O},i=function(o,p){if(o){var C=t(o,p);return C&&C.value}},r=function(o,p,C){var M=t(o,p);M?M.value=C:o.next={key:p,next:o.next,value:C}},a=function(o,p){return o?!!t(o,p):!1},l=function(o,p){if(o)return t(o,p,!0)};return gE=function(){var p,C={assert:function(M){if(!C.has(M))throw new e("Side channel does not contain "+n(M))},delete:function(M){var O=p&&p.next,U=l(p,M);return U&&O&&O===U&&(p=void 0),!!U},get:function(M){return i(p,M)},has:function(M){return a(p,M)},set:function(M,O){p||(p={next:void 0}),r(p,M,O)}};return C},gE}var yE,UK;function fG(){return UK||(UK=1,yE=Object),yE}var vE,LK;function Wde(){return LK||(LK=1,vE=Error),vE}var CE,FK;function Qde(){return FK||(FK=1,CE=EvalError),CE}var _E,zK;function Yde(){return zK||(zK=1,_E=RangeError),_E}var bE,jK;function qde(){return jK||(jK=1,bE=ReferenceError),bE}var xE,NK;function Hde(){return NK||(NK=1,xE=SyntaxError),xE}var ME,GK;function Vde(){return GK||(GK=1,ME=URIError),ME}var wE,WK;function $de(){return WK||(WK=1,wE=Math.abs),wE}var SE,QK;function Zde(){return QK||(QK=1,SE=Math.floor),SE}var EE,YK;function Xde(){return YK||(YK=1,EE=Math.max),EE}var BE,qK;function Jde(){return qK||(qK=1,BE=Math.min),BE}var OE,HK;function efe(){return HK||(HK=1,OE=Math.pow),OE}var IE,VK;function tfe(){return VK||(VK=1,IE=Math.round),IE}var TE,$K;function nfe(){return $K||($K=1,TE=Number.isNaN||function(e){return e!==e}),TE}var kE,ZK;function ife(){if(ZK)return kE;ZK=1;var n=nfe();return kE=function(t){return n(t)||t===0?t:t<0?-1:1},kE}var DE,XK;function rfe(){return XK||(XK=1,DE=Object.getOwnPropertyDescriptor),DE}var RE,JK;function pG(){if(JK)return RE;JK=1;var n=rfe();if(n)try{n([],"length")}catch{n=null}return RE=n,RE}var PE,eU;function ofe(){if(eU)return PE;eU=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return PE=n,PE}var KE,tU;function afe(){return tU||(tU=1,KE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||o.enumerable!==!0)return!1}return!0}),KE}var UE,nU;function sfe(){if(nU)return UE;nU=1;var n=typeof Symbol<"u"&&Symbol,e=afe();return UE=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},UE}var LE,iU;function mG(){return iU||(iU=1,LE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),LE}var FE,rU;function gG(){if(rU)return FE;rU=1;var n=fG();return FE=n.getPrototypeOf||null,FE}var zE,oU;function lfe(){if(oU)return zE;oU=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",r=function(p,C){for(var M=[],O=0;O<p.length;O+=1)M[O]=p[O];for(var U=0;U<C.length;U+=1)M[U+p.length]=C[U];return M},a=function(p,C){for(var M=[],O=C,U=0;O<p.length;O+=1,U+=1)M[U]=p[O];return M},l=function(o,p){for(var C="",M=0;M<o.length;M+=1)C+=o[M],M+1<o.length&&(C+=p);return C};return zE=function(p){var C=this;if(typeof C!="function"||e.apply(C)!==i)throw new TypeError(n+C);for(var M=a(arguments,1),O,U=function(){if(this instanceof O){var te=C.apply(this,r(M,arguments));return Object(te)===te?te:this}return C.apply(p,r(M,arguments))},K=t(0,C.length-M.length),j=[],W=0;W<K;W++)j[W]="$"+W;if(O=Function("binder","return function ("+l(j,",")+"){ return binder.apply(this,arguments); }")(U),C.prototype){var Y=function(){};Y.prototype=C.prototype,O.prototype=new Y,Y.prototype=null}return O},zE}var jE,aU;function t4(){if(aU)return jE;aU=1;var n=lfe();return jE=Function.prototype.bind||n,jE}var NE,sU;function r7(){return sU||(sU=1,NE=Function.prototype.call),NE}var GE,lU;function yG(){return lU||(lU=1,GE=Function.prototype.apply),GE}var WE,AU;function Afe(){return AU||(AU=1,WE=typeof Reflect<"u"&&Reflect&&Reflect.apply),WE}var QE,uU;function ufe(){if(uU)return QE;uU=1;var n=t4(),e=yG(),t=r7(),i=Afe();return QE=i||n.call(t,e),QE}var YE,cU;function vG(){if(cU)return YE;cU=1;var n=t4(),e=iC(),t=r7(),i=ufe();return YE=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return i(n,t,a)},YE}var qE,hU;function cfe(){if(hU)return qE;hU=1;var n=vG(),e=pG(),t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var i=!!t&&e&&e(Object.prototype,"__proto__"),r=Object,a=r.getPrototypeOf;return qE=i&&typeof i.get=="function"?n([i.get]):typeof a=="function"?function(o){return a(o==null?o:r(o))}:!1,qE}var HE,dU;function hfe(){if(dU)return HE;dU=1;var n=mG(),e=gG(),t=cfe();return HE=n?function(r){return n(r)}:e?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return e(r)}:t?function(r){return t(r)}:null,HE}var VE,fU;function dfe(){if(fU)return VE;fU=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=t4();return VE=t.call(n,e),VE}var $E,pU;function o7(){if(pU)return $E;pU=1;var n,e=fG(),t=Wde(),i=Qde(),r=Yde(),a=qde(),l=Hde(),o=iC(),p=Vde(),C=$de(),M=Zde(),O=Xde(),U=Jde(),K=efe(),j=tfe(),W=ife(),Y=Function,te=function(Ke){try{return Y('"use strict"; return ('+Ke+").constructor;")()}catch{}},J=pG(),oe=ofe(),ne=function(){throw new o},$=J?function(){try{return arguments.callee,ne}catch{try{return J(arguments,"callee").get}catch{return ne}}}():ne,ae=sfe()(),G=hfe(),ce=gG(),ge=mG(),ye=yG(),we=r7(),Ie={},Se=typeof Uint8Array>"u"||!G?n:G(Uint8Array),Ve={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":ae&&G?G([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":Ie,"%AsyncGenerator%":Ie,"%AsyncGeneratorFunction%":Ie,"%AsyncIteratorPrototype%":Ie,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":Y,"%GeneratorFunction%":Ie,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ae&&G?G(G([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ae||!G?n:G(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":J,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":r,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ae||!G?n:G(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ae&&G?G(""[Symbol.iterator]()):n,"%Symbol%":ae?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":Se,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":we,"%Function.prototype.apply%":ye,"%Object.defineProperty%":oe,"%Object.getPrototypeOf%":ce,"%Math.abs%":C,"%Math.floor%":M,"%Math.max%":O,"%Math.min%":U,"%Math.pow%":K,"%Math.round%":j,"%Math.sign%":W,"%Reflect.getPrototypeOf%":ge};if(G)try{null.error}catch(Ke){var xe=G(G(Ke));Ve["%Error.prototype%"]=xe}var ze=function Ke(Re){var He;if(Re==="%AsyncFunction%")He=te("async function () {}");else if(Re==="%GeneratorFunction%")He=te("function* () {}");else if(Re==="%AsyncGeneratorFunction%")He=te("async function* () {}");else if(Re==="%AsyncGenerator%"){var bt=Ke("%AsyncGeneratorFunction%");bt&&(He=bt.prototype)}else if(Re==="%AsyncIteratorPrototype%"){var _t=Ke("%AsyncGenerator%");_t&&G&&(He=G(_t.prototype))}return Ve[Re]=He,He},st={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ct=t4(),nt=dfe(),be=Ct.call(we,Array.prototype.concat),Ne=Ct.call(ye,Array.prototype.splice),tt=Ct.call(we,String.prototype.replace),lt=Ct.call(we,String.prototype.slice),kt=Ct.call(we,RegExp.prototype.exec),gt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,St=/\\(\\)?/g,Ut=function(Re){var He=lt(Re,0,1),bt=lt(Re,-1);if(He==="%"&&bt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(bt==="%"&&He!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var _t=[];return tt(Re,gt,function(Ot,qt,Kt,on){_t[_t.length]=Kt?tt(on,St,"$1"):qt||Ot}),_t},Fe=function(Re,He){var bt=Re,_t;if(nt(st,bt)&&(_t=st[bt],bt="%"+_t[0]+"%"),nt(Ve,bt)){var Ot=Ve[bt];if(Ot===Ie&&(Ot=ze(bt)),typeof Ot>"u"&&!He)throw new o("intrinsic "+Re+" exists, but is not available. Please file an issue!");return{alias:_t,name:bt,value:Ot}}throw new l("intrinsic "+Re+" does not exist!")};return $E=function(Re,He){if(typeof Re!="string"||Re.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof He!="boolean")throw new o('"allowMissing" argument must be a boolean');if(kt(/^%?[^%]*%?$/,Re)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var bt=Ut(Re),_t=bt.length>0?bt[0]:"",Ot=Fe("%"+_t+"%",He),qt=Ot.name,Kt=Ot.value,on=!1,Jn=Ot.alias;Jn&&(_t=Jn[0],Ne(bt,be([0,1],Jn)));for(var Wt=1,$n=!0;Wt<bt.length;Wt+=1){var On=bt[Wt],Bn=lt(On,0,1),In=lt(On,-1);if((Bn==='"'||Bn==="'"||Bn==="`"||In==='"'||In==="'"||In==="`")&&Bn!==In)throw new l("property names with quotes must have matching quotes");if((On==="constructor"||!$n)&&(on=!0),_t+="."+On,qt="%"+_t+"%",nt(Ve,qt))Kt=Ve[qt];else if(Kt!=null){if(!(On in Kt)){if(!He)throw new o("base intrinsic for "+Re+" exists, but the property is not available.");return}if(J&&Wt+1>=bt.length){var Oi=J(Kt,On);$n=!!Oi,$n&&"get"in Oi&&!("originalValue"in Oi.get)?Kt=Oi.get:Kt=Kt[On]}else $n=nt(Kt,On),Kt=Kt[On];$n&&!on&&(Ve[qt]=Kt)}}return Kt},$E}var ZE,mU;function CG(){if(mU)return ZE;mU=1;var n=o7(),e=vG(),t=e([n("%String.prototype.indexOf%")]);return ZE=function(r,a){var l=n(r,!!a);return typeof l=="function"&&t(r,".prototype.")>-1?e([l]):l},ZE}var XE,gU;function _G(){if(gU)return XE;gU=1;var n=o7(),e=CG(),t=e4(),i=iC(),r=n("%Map%",!0),a=e("Map.prototype.get",!0),l=e("Map.prototype.set",!0),o=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),C=e("Map.prototype.size",!0);return XE=!!r&&function(){var O,U={assert:function(K){if(!U.has(K))throw new i("Side channel does not contain "+t(K))},delete:function(K){if(O){var j=p(O,K);return C(O)===0&&(O=void 0),j}return!1},get:function(K){if(O)return a(O,K)},has:function(K){return O?o(O,K):!1},set:function(K,j){O||(O=new r),l(O,K,j)}};return U},XE}var JE,yU;function ffe(){if(yU)return JE;yU=1;var n=o7(),e=CG(),t=e4(),i=_G(),r=iC(),a=n("%WeakMap%",!0),l=e("WeakMap.prototype.get",!0),o=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),C=e("WeakMap.prototype.delete",!0);return JE=a?function(){var O,U,K={assert:function(j){if(!K.has(j))throw new r("Side channel does not contain "+t(j))},delete:function(j){if(a&&j&&(typeof j=="object"||typeof j=="function")){if(O)return C(O,j)}else if(i&&U)return U.delete(j);return!1},get:function(j){return a&&j&&(typeof j=="object"||typeof j=="function")&&O?l(O,j):U&&U.get(j)},has:function(j){return a&&j&&(typeof j=="object"||typeof j=="function")&&O?p(O,j):!!U&&U.has(j)},set:function(j,W){a&&j&&(typeof j=="object"||typeof j=="function")?(O||(O=new a),o(O,j,W)):i&&(U||(U=i()),U.set(j,W))}};return K}:i,JE}var e6,vU;function pfe(){if(vU)return e6;vU=1;var n=iC(),e=e4(),t=Gde(),i=_G(),r=ffe(),a=r||i||t;return e6=function(){var o,p={assert:function(C){if(!p.has(C))throw new n("Side channel does not contain "+e(C))},delete:function(C){return!!o&&o.delete(C)},get:function(C){return o&&o.get(C)},has:function(C){return!!o&&o.has(C)},set:function(C,M){o||(o=a()),o.set(C,M)}};return p},e6}var t6,CU;function a7(){if(CU)return t6;CU=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return t6={default:t.RFC3986,formatters:{RFC1738:function(i){return n.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},t6}var n6,_U;function bG(){if(_U)return n6;_U=1;var n=a7(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i=function(){for(var Y=[],te=0;te<256;++te)Y.push("%"+((te<16?"0":"")+te.toString(16)).toUpperCase());return Y}(),r=function(te){for(;te.length>1;){var J=te.pop(),oe=J.obj[J.prop];if(t(oe)){for(var ne=[],$=0;$<oe.length;++$)typeof oe[$]<"u"&&ne.push(oe[$]);J.obj[J.prop]=ne}}},a=function(te,J){for(var oe=J&&J.plainObjects?{__proto__:null}:{},ne=0;ne<te.length;++ne)typeof te[ne]<"u"&&(oe[ne]=te[ne]);return oe},l=function Y(te,J,oe){if(!J)return te;if(typeof J!="object"&&typeof J!="function"){if(t(te))te.push(J);else if(te&&typeof te=="object")(oe&&(oe.plainObjects||oe.allowPrototypes)||!e.call(Object.prototype,J))&&(te[J]=!0);else return[te,J];return te}if(!te||typeof te!="object")return[te].concat(J);var ne=te;return t(te)&&!t(J)&&(ne=a(te,oe)),t(te)&&t(J)?(J.forEach(function($,ae){if(e.call(te,ae)){var G=te[ae];G&&typeof G=="object"&&$&&typeof $=="object"?te[ae]=Y(G,$,oe):te.push($)}else te[ae]=$}),te):Object.keys(J).reduce(function($,ae){var G=J[ae];return e.call($,ae)?$[ae]=Y($[ae],G,oe):$[ae]=G,$},ne)},o=function(te,J){return Object.keys(J).reduce(function(oe,ne){return oe[ne]=J[ne],oe},te)},p=function(Y,te,J){var oe=Y.replace(/\+/g," ");if(J==="iso-8859-1")return oe.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(oe)}catch{return oe}},C=1024,M=function(te,J,oe,ne,$){if(te.length===0)return te;var ae=te;if(typeof te=="symbol"?ae=Symbol.prototype.toString.call(te):typeof te!="string"&&(ae=String(te)),oe==="iso-8859-1")return escape(ae).replace(/%u[0-9a-f]{4}/gi,function(Se){return"%26%23"+parseInt(Se.slice(2),16)+"%3B"});for(var G="",ce=0;ce<ae.length;ce+=C){for(var ge=ae.length>=C?ae.slice(ce,ce+C):ae,ye=[],we=0;we<ge.length;++we){var Ie=ge.charCodeAt(we);if(Ie===45||Ie===46||Ie===95||Ie===126||Ie>=48&&Ie<=57||Ie>=65&&Ie<=90||Ie>=97&&Ie<=122||$===n.RFC1738&&(Ie===40||Ie===41)){ye[ye.length]=ge.charAt(we);continue}if(Ie<128){ye[ye.length]=i[Ie];continue}if(Ie<2048){ye[ye.length]=i[192|Ie>>6]+i[128|Ie&63];continue}if(Ie<55296||Ie>=57344){ye[ye.length]=i[224|Ie>>12]+i[128|Ie>>6&63]+i[128|Ie&63];continue}we+=1,Ie=65536+((Ie&1023)<<10|ge.charCodeAt(we)&1023),ye[ye.length]=i[240|Ie>>18]+i[128|Ie>>12&63]+i[128|Ie>>6&63]+i[128|Ie&63]}G+=ye.join("")}return G},O=function(te){for(var J=[{obj:{o:te},prop:"o"}],oe=[],ne=0;ne<J.length;++ne)for(var $=J[ne],ae=$.obj[$.prop],G=Object.keys(ae),ce=0;ce<G.length;++ce){var ge=G[ce],ye=ae[ge];typeof ye=="object"&&ye!==null&&oe.indexOf(ye)===-1&&(J.push({obj:ae,prop:ge}),oe.push(ye))}return r(J),te},U=function(te){return Object.prototype.toString.call(te)==="[object RegExp]"},K=function(te){return!te||typeof te!="object"?!1:!!(te.constructor&&te.constructor.isBuffer&&te.constructor.isBuffer(te))},j=function(te,J){return[].concat(te,J)},W=function(te,J){if(t(te)){for(var oe=[],ne=0;ne<te.length;ne+=1)oe.push(J(te[ne]));return oe}return J(te)};return n6={arrayToObject:a,assign:o,combine:j,compact:O,decode:p,encode:M,isBuffer:K,isRegExp:U,maybeMap:W,merge:l},n6}var i6,bU;function mfe(){if(bU)return i6;bU=1;var n=pfe(),e=bG(),t=a7(),i=Object.prototype.hasOwnProperty,r={brackets:function(Y){return Y+"[]"},comma:"comma",indices:function(Y,te){return Y+"["+te+"]"},repeat:function(Y){return Y}},a=Array.isArray,l=Array.prototype.push,o=function(W,Y){l.apply(W,a(Y)?Y:[Y])},p=Date.prototype.toISOString,C=t.default,M={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:C,formatter:t.formatters[C],indices:!1,serializeDate:function(Y){return p.call(Y)},skipNulls:!1,strictNullHandling:!1},O=function(Y){return typeof Y=="string"||typeof Y=="number"||typeof Y=="boolean"||typeof Y=="symbol"||typeof Y=="bigint"},U={},K=function W(Y,te,J,oe,ne,$,ae,G,ce,ge,ye,we,Ie,Se,Ve,xe,ze,st){for(var Ct=Y,nt=st,be=0,Ne=!1;(nt=nt.get(U))!==void 0&&!Ne;){var tt=nt.get(Y);if(be+=1,typeof tt<"u"){if(tt===be)throw new RangeError("Cyclic object value");Ne=!0}typeof nt.get(U)>"u"&&(be=0)}if(typeof ge=="function"?Ct=ge(te,Ct):Ct instanceof Date?Ct=Ie(Ct):J==="comma"&&a(Ct)&&(Ct=e.maybeMap(Ct,function(qt){return qt instanceof Date?Ie(qt):qt})),Ct===null){if($)return ce&&!xe?ce(te,M.encoder,ze,"key",Se):te;Ct=""}if(O(Ct)||e.isBuffer(Ct)){if(ce){var lt=xe?te:ce(te,M.encoder,ze,"key",Se);return[Ve(lt)+"="+Ve(ce(Ct,M.encoder,ze,"value",Se))]}return[Ve(te)+"="+Ve(String(Ct))]}var kt=[];if(typeof Ct>"u")return kt;var gt;if(J==="comma"&&a(Ct))xe&&ce&&(Ct=e.maybeMap(Ct,ce)),gt=[{value:Ct.length>0?Ct.join(",")||null:void 0}];else if(a(ge))gt=ge;else{var St=Object.keys(Ct);gt=ye?St.sort(ye):St}var Ut=G?String(te).replace(/\./g,"%2E"):String(te),Fe=oe&&a(Ct)&&Ct.length===1?Ut+"[]":Ut;if(ne&&a(Ct)&&Ct.length===0)return Fe+"[]";for(var Ke=0;Ke<gt.length;++Ke){var Re=gt[Ke],He=typeof Re=="object"&&Re&&typeof Re.value<"u"?Re.value:Ct[Re];if(!(ae&&He===null)){var bt=we&&G?String(Re).replace(/\./g,"%2E"):String(Re),_t=a(Ct)?typeof J=="function"?J(Fe,bt):Fe:Fe+(we?"."+bt:"["+bt+"]");st.set(Y,be);var Ot=n();Ot.set(U,st),o(kt,W(He,_t,J,oe,ne,$,ae,G,J==="comma"&&xe&&a(Ct)?null:ce,ge,ye,we,Ie,Se,Ve,xe,ze,Ot))}}return kt},j=function(Y){if(!Y)return M;if(typeof Y.allowEmptyArrays<"u"&&typeof Y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Y.encodeDotInKeys<"u"&&typeof Y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(Y.encoder!==null&&typeof Y.encoder<"u"&&typeof Y.encoder!="function")throw new TypeError("Encoder has to be a function.");var te=Y.charset||M.charset;if(typeof Y.charset<"u"&&Y.charset!=="utf-8"&&Y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var J=t.default;if(typeof Y.format<"u"){if(!i.call(t.formatters,Y.format))throw new TypeError("Unknown format option provided.");J=Y.format}var oe=t.formatters[J],ne=M.filter;(typeof Y.filter=="function"||a(Y.filter))&&(ne=Y.filter);var $;if(Y.arrayFormat in r?$=Y.arrayFormat:"indices"in Y?$=Y.indices?"indices":"repeat":$=M.arrayFormat,"commaRoundTrip"in Y&&typeof Y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var ae=typeof Y.allowDots>"u"?Y.encodeDotInKeys===!0?!0:M.allowDots:!!Y.allowDots;return{addQueryPrefix:typeof Y.addQueryPrefix=="boolean"?Y.addQueryPrefix:M.addQueryPrefix,allowDots:ae,allowEmptyArrays:typeof Y.allowEmptyArrays=="boolean"?!!Y.allowEmptyArrays:M.allowEmptyArrays,arrayFormat:$,charset:te,charsetSentinel:typeof Y.charsetSentinel=="boolean"?Y.charsetSentinel:M.charsetSentinel,commaRoundTrip:!!Y.commaRoundTrip,delimiter:typeof Y.delimiter>"u"?M.delimiter:Y.delimiter,encode:typeof Y.encode=="boolean"?Y.encode:M.encode,encodeDotInKeys:typeof Y.encodeDotInKeys=="boolean"?Y.encodeDotInKeys:M.encodeDotInKeys,encoder:typeof Y.encoder=="function"?Y.encoder:M.encoder,encodeValuesOnly:typeof Y.encodeValuesOnly=="boolean"?Y.encodeValuesOnly:M.encodeValuesOnly,filter:ne,format:J,formatter:oe,serializeDate:typeof Y.serializeDate=="function"?Y.serializeDate:M.serializeDate,skipNulls:typeof Y.skipNulls=="boolean"?Y.skipNulls:M.skipNulls,sort:typeof Y.sort=="function"?Y.sort:null,strictNullHandling:typeof Y.strictNullHandling=="boolean"?Y.strictNullHandling:M.strictNullHandling}};return i6=function(W,Y){var te=W,J=j(Y),oe,ne;typeof J.filter=="function"?(ne=J.filter,te=ne("",te)):a(J.filter)&&(ne=J.filter,oe=ne);var $=[];if(typeof te!="object"||te===null)return"";var ae=r[J.arrayFormat],G=ae==="comma"&&J.commaRoundTrip;oe||(oe=Object.keys(te)),J.sort&&oe.sort(J.sort);for(var ce=n(),ge=0;ge<oe.length;++ge){var ye=oe[ge],we=te[ye];J.skipNulls&&we===null||o($,K(we,ye,ae,G,J.allowEmptyArrays,J.strictNullHandling,J.skipNulls,J.encodeDotInKeys,J.encode?J.encoder:null,J.filter,J.sort,J.allowDots,J.serializeDate,J.format,J.formatter,J.encodeValuesOnly,J.charset,ce))}var Ie=$.join(J.delimiter),Se=J.addQueryPrefix===!0?"?":"";return J.charsetSentinel&&(J.charset==="iso-8859-1"?Se+="utf8=%26%2310003%3B&":Se+="utf8=%E2%9C%93&"),Ie.length>0?Se+Ie:""},i6}var r6,xU;function gfe(){if(xU)return r6;xU=1;var n=bG(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},r=function(U){return U.replace(/&#(\d+);/g,function(K,j){return String.fromCharCode(parseInt(j,10))})},a=function(U,K,j){if(U&&typeof U=="string"&&K.comma&&U.indexOf(",")>-1)return U.split(",");if(K.throwOnLimitExceeded&&j>=K.arrayLimit)throw new RangeError("Array limit exceeded. Only "+K.arrayLimit+" element"+(K.arrayLimit===1?"":"s")+" allowed in an array.");return U},l="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",p=function(K,j){var W={__proto__:null},Y=j.ignoreQueryPrefix?K.replace(/^\?/,""):K;Y=Y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var te=j.parameterLimit===1/0?void 0:j.parameterLimit,J=Y.split(j.delimiter,j.throwOnLimitExceeded?te+1:te);if(j.throwOnLimitExceeded&&J.length>te)throw new RangeError("Parameter limit exceeded. Only "+te+" parameter"+(te===1?"":"s")+" allowed.");var oe=-1,ne,$=j.charset;if(j.charsetSentinel)for(ne=0;ne<J.length;++ne)J[ne].indexOf("utf8=")===0&&(J[ne]===o?$="utf-8":J[ne]===l&&($="iso-8859-1"),oe=ne,ne=J.length);for(ne=0;ne<J.length;++ne)if(ne!==oe){var ae=J[ne],G=ae.indexOf("]="),ce=G===-1?ae.indexOf("="):G+1,ge,ye;ce===-1?(ge=j.decoder(ae,i.decoder,$,"key"),ye=j.strictNullHandling?null:""):(ge=j.decoder(ae.slice(0,ce),i.decoder,$,"key"),ye=n.maybeMap(a(ae.slice(ce+1),j,t(W[ge])?W[ge].length:0),function(Ie){return j.decoder(Ie,i.decoder,$,"value")})),ye&&j.interpretNumericEntities&&$==="iso-8859-1"&&(ye=r(String(ye))),ae.indexOf("[]=")>-1&&(ye=t(ye)?[ye]:ye);var we=e.call(W,ge);we&&j.duplicates==="combine"?W[ge]=n.combine(W[ge],ye):(!we||j.duplicates==="last")&&(W[ge]=ye)}return W},C=function(U,K,j,W){var Y=0;if(U.length>0&&U[U.length-1]==="[]"){var te=U.slice(0,-1).join("");Y=Array.isArray(K)&&K[te]?K[te].length:0}for(var J=W?K:a(K,j,Y),oe=U.length-1;oe>=0;--oe){var ne,$=U[oe];if($==="[]"&&j.parseArrays)ne=j.allowEmptyArrays&&(J===""||j.strictNullHandling&&J===null)?[]:n.combine([],J);else{ne=j.plainObjects?{__proto__:null}:{};var ae=$.charAt(0)==="["&&$.charAt($.length-1)==="]"?$.slice(1,-1):$,G=j.decodeDotInKeys?ae.replace(/%2E/g,"."):ae,ce=parseInt(G,10);!j.parseArrays&&G===""?ne={0:J}:!isNaN(ce)&&$!==G&&String(ce)===G&&ce>=0&&j.parseArrays&&ce<=j.arrayLimit?(ne=[],ne[ce]=J):G!=="__proto__"&&(ne[G]=J)}J=ne}return J},M=function(K,j,W,Y){if(K){var te=W.allowDots?K.replace(/\.([^.[]+)/g,"[$1]"):K,J=/(\[[^[\]]*])/,oe=/(\[[^[\]]*])/g,ne=W.depth>0&&J.exec(te),$=ne?te.slice(0,ne.index):te,ae=[];if($){if(!W.plainObjects&&e.call(Object.prototype,$)&&!W.allowPrototypes)return;ae.push($)}for(var G=0;W.depth>0&&(ne=oe.exec(te))!==null&&G<W.depth;){if(G+=1,!W.plainObjects&&e.call(Object.prototype,ne[1].slice(1,-1))&&!W.allowPrototypes)return;ae.push(ne[1])}if(ne){if(W.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+W.depth+" and strictDepth is true");ae.push("["+te.slice(ne.index)+"]")}return C(ae,j,W,Y)}},O=function(K){if(!K)return i;if(typeof K.allowEmptyArrays<"u"&&typeof K.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof K.decodeDotInKeys<"u"&&typeof K.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(K.decoder!==null&&typeof K.decoder<"u"&&typeof K.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof K.charset<"u"&&K.charset!=="utf-8"&&K.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof K.throwOnLimitExceeded<"u"&&typeof K.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var j=typeof K.charset>"u"?i.charset:K.charset,W=typeof K.duplicates>"u"?i.duplicates:K.duplicates;if(W!=="combine"&&W!=="first"&&W!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var Y=typeof K.allowDots>"u"?K.decodeDotInKeys===!0?!0:i.allowDots:!!K.allowDots;return{allowDots:Y,allowEmptyArrays:typeof K.allowEmptyArrays=="boolean"?!!K.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof K.allowPrototypes=="boolean"?K.allowPrototypes:i.allowPrototypes,allowSparse:typeof K.allowSparse=="boolean"?K.allowSparse:i.allowSparse,arrayLimit:typeof K.arrayLimit=="number"?K.arrayLimit:i.arrayLimit,charset:j,charsetSentinel:typeof K.charsetSentinel=="boolean"?K.charsetSentinel:i.charsetSentinel,comma:typeof K.comma=="boolean"?K.comma:i.comma,decodeDotInKeys:typeof K.decodeDotInKeys=="boolean"?K.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof K.decoder=="function"?K.decoder:i.decoder,delimiter:typeof K.delimiter=="string"||n.isRegExp(K.delimiter)?K.delimiter:i.delimiter,depth:typeof K.depth=="number"||K.depth===!1?+K.depth:i.depth,duplicates:W,ignoreQueryPrefix:K.ignoreQueryPrefix===!0,interpretNumericEntities:typeof K.interpretNumericEntities=="boolean"?K.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof K.parameterLimit=="number"?K.parameterLimit:i.parameterLimit,parseArrays:K.parseArrays!==!1,plainObjects:typeof K.plainObjects=="boolean"?K.plainObjects:i.plainObjects,strictDepth:typeof K.strictDepth=="boolean"?!!K.strictDepth:i.strictDepth,strictNullHandling:typeof K.strictNullHandling=="boolean"?K.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof K.throwOnLimitExceeded=="boolean"?K.throwOnLimitExceeded:!1}};return r6=function(U,K){var j=O(K);if(U===""||U===null||typeof U>"u")return j.plainObjects?{__proto__:null}:{};for(var W=typeof U=="string"?p(U,j):U,Y=j.plainObjects?{__proto__:null}:{},te=Object.keys(W),J=0;J<te.length;++J){var oe=te[J],ne=M(oe,W[oe],j,typeof U=="string");Y=n.merge(Y,ne,j)}return j.allowSparse===!0?Y:n.compact(Y)},r6}var o6,MU;function yfe(){if(MU)return o6;MU=1;var n=mfe(),e=gfe(),t=a7();return o6={formats:t,parse:e,stringify:n},o6}var wU;function vfe(){if(wU)return _1;wU=1;var n=Fde();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(a),o=["'"].concat(l),p=["%","/","?",";","#"].concat(o),C=["/","?","#"],M=255,O=/^[+a-z0-9A-Z_-]{0,63}$/,U=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,K={javascript:!0,"javascript:":!0},j={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y=yfe();function te($,ae,G){if($&&typeof $=="object"&&$ instanceof e)return $;var ce=new e;return ce.parse($,ae,G),ce}e.prototype.parse=function($,ae,G){if(typeof $!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var ce=$.indexOf("?"),ge=ce!==-1&&ce<$.indexOf("#")?"?":"#",ye=$.split(ge),we=/\\/g;ye[0]=ye[0].replace(we,"/"),$=ye.join(ge);var Ie=$;if(Ie=Ie.trim(),!G&&$.split("#").length===1){var Se=r.exec(Ie);if(Se)return this.path=Ie,this.href=Ie,this.pathname=Se[1],Se[2]?(this.search=Se[2],ae?this.query=Y.parse(this.search.substr(1)):this.query=this.search.substr(1)):ae&&(this.search="",this.query={}),this}var Ve=t.exec(Ie);if(Ve){Ve=Ve[0];var xe=Ve.toLowerCase();this.protocol=xe,Ie=Ie.substr(Ve.length)}if(G||Ve||Ie.match(/^\/\/[^@/]+@[^@/]+/)){var ze=Ie.substr(0,2)==="//";ze&&!(Ve&&j[Ve])&&(Ie=Ie.substr(2),this.slashes=!0)}if(!j[Ve]&&(ze||Ve&&!W[Ve])){for(var st=-1,Ct=0;Ct<C.length;Ct++){var nt=Ie.indexOf(C[Ct]);nt!==-1&&(st===-1||nt<st)&&(st=nt)}var be,Ne;st===-1?Ne=Ie.lastIndexOf("@"):Ne=Ie.lastIndexOf("@",st),Ne!==-1&&(be=Ie.slice(0,Ne),Ie=Ie.slice(Ne+1),this.auth=decodeURIComponent(be)),st=-1;for(var Ct=0;Ct<p.length;Ct++){var nt=Ie.indexOf(p[Ct]);nt!==-1&&(st===-1||nt<st)&&(st=nt)}st===-1&&(st=Ie.length),this.host=Ie.slice(0,st),Ie=Ie.slice(st),this.parseHost(),this.hostname=this.hostname||"";var tt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!tt)for(var lt=this.hostname.split(/\./),Ct=0,kt=lt.length;Ct<kt;Ct++){var gt=lt[Ct];if(gt&&!gt.match(O)){for(var St="",Ut=0,Fe=gt.length;Ut<Fe;Ut++)gt.charCodeAt(Ut)>127?St+="x":St+=gt[Ut];if(!St.match(O)){var Ke=lt.slice(0,Ct),Re=lt.slice(Ct+1),He=gt.match(U);He&&(Ke.push(He[1]),Re.unshift(He[2])),Re.length&&(Ie="/"+Re.join(".")+Ie),this.hostname=Ke.join(".");break}}}this.hostname.length>M?this.hostname="":this.hostname=this.hostname.toLowerCase(),tt||(this.hostname=n.toASCII(this.hostname));var bt=this.port?":"+this.port:"",_t=this.hostname||"";this.host=_t+bt,this.href+=this.host,tt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Ie[0]!=="/"&&(Ie="/"+Ie))}if(!K[xe])for(var Ct=0,kt=o.length;Ct<kt;Ct++){var Ot=o[Ct];if(Ie.indexOf(Ot)!==-1){var qt=encodeURIComponent(Ot);qt===Ot&&(qt=escape(Ot)),Ie=Ie.split(Ot).join(qt)}}var Kt=Ie.indexOf("#");Kt!==-1&&(this.hash=Ie.substr(Kt),Ie=Ie.slice(0,Kt));var on=Ie.indexOf("?");if(on!==-1?(this.search=Ie.substr(on),this.query=Ie.substr(on+1),ae&&(this.query=Y.parse(this.query)),Ie=Ie.slice(0,on)):ae&&(this.search="",this.query={}),Ie&&(this.pathname=Ie),W[xe]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var bt=this.pathname||"",Jn=this.search||"";this.path=bt+Jn}return this.href=this.format(),this};function J($){return typeof $=="string"&&($=te($)),$ instanceof e?$.format():e.prototype.format.call($)}e.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var ae=this.protocol||"",G=this.pathname||"",ce=this.hash||"",ge=!1,ye="";this.host?ge=$+this.host:this.hostname&&(ge=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ge+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ye=Y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var we=this.search||ye&&"?"+ye||"";return ae&&ae.substr(-1)!==":"&&(ae+=":"),this.slashes||(!ae||W[ae])&&ge!==!1?(ge="//"+(ge||""),G&&G.charAt(0)!=="/"&&(G="/"+G)):ge||(ge=""),ce&&ce.charAt(0)!=="#"&&(ce="#"+ce),we&&we.charAt(0)!=="?"&&(we="?"+we),G=G.replace(/[?#]/g,function(Ie){return encodeURIComponent(Ie)}),we=we.replace("#","%23"),ae+ge+G+we+ce};function oe($,ae){return te($,!1,!0).resolve(ae)}e.prototype.resolve=function($){return this.resolveObject(te($,!1,!0)).format()};function ne($,ae){return $?te($,!1,!0).resolveObject(ae):ae}return e.prototype.resolveObject=function($){if(typeof $=="string"){var ae=new e;ae.parse($,!1,!0),$=ae}for(var G=new e,ce=Object.keys(this),ge=0;ge<ce.length;ge++){var ye=ce[ge];G[ye]=this[ye]}if(G.hash=$.hash,$.href==="")return G.href=G.format(),G;if($.slashes&&!$.protocol){for(var we=Object.keys($),Ie=0;Ie<we.length;Ie++){var Se=we[Ie];Se!=="protocol"&&(G[Se]=$[Se])}return W[G.protocol]&&G.hostname&&!G.pathname&&(G.pathname="/",G.path=G.pathname),G.href=G.format(),G}if($.protocol&&$.protocol!==G.protocol){if(!W[$.protocol]){for(var Ve=Object.keys($),xe=0;xe<Ve.length;xe++){var ze=Ve[xe];G[ze]=$[ze]}return G.href=G.format(),G}if(G.protocol=$.protocol,!$.host&&!j[$.protocol]){for(var kt=($.pathname||"").split("/");kt.length&&!($.host=kt.shift()););$.host||($.host=""),$.hostname||($.hostname=""),kt[0]!==""&&kt.unshift(""),kt.length<2&&kt.unshift(""),G.pathname=kt.join("/")}else G.pathname=$.pathname;if(G.search=$.search,G.query=$.query,G.host=$.host||"",G.auth=$.auth,G.hostname=$.hostname||$.host,G.port=$.port,G.pathname||G.search){var st=G.pathname||"",Ct=G.search||"";G.path=st+Ct}return G.slashes=G.slashes||$.slashes,G.href=G.format(),G}var nt=G.pathname&&G.pathname.charAt(0)==="/",be=$.host||$.pathname&&$.pathname.charAt(0)==="/",Ne=be||nt||G.host&&$.pathname,tt=Ne,lt=G.pathname&&G.pathname.split("/")||[],kt=$.pathname&&$.pathname.split("/")||[],gt=G.protocol&&!W[G.protocol];if(gt&&(G.hostname="",G.port=null,G.host&&(lt[0]===""?lt[0]=G.host:lt.unshift(G.host)),G.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(kt[0]===""?kt[0]=$.host:kt.unshift($.host)),$.host=null),Ne=Ne&&(kt[0]===""||lt[0]==="")),be)G.host=$.host||$.host===""?$.host:G.host,G.hostname=$.hostname||$.hostname===""?$.hostname:G.hostname,G.search=$.search,G.query=$.query,lt=kt;else if(kt.length)lt||(lt=[]),lt.pop(),lt=lt.concat(kt),G.search=$.search,G.query=$.query;else if($.search!=null){if(gt){G.host=lt.shift(),G.hostname=G.host;var St=G.host&&G.host.indexOf("@")>0?G.host.split("@"):!1;St&&(G.auth=St.shift(),G.hostname=St.shift(),G.host=G.hostname)}return G.search=$.search,G.query=$.query,(G.pathname!==null||G.search!==null)&&(G.path=(G.pathname?G.pathname:"")+(G.search?G.search:"")),G.href=G.format(),G}if(!lt.length)return G.pathname=null,G.search?G.path="/"+G.search:G.path=null,G.href=G.format(),G;for(var Ut=lt.slice(-1)[0],Fe=(G.host||$.host||lt.length>1)&&(Ut==="."||Ut==="..")||Ut==="",Ke=0,Re=lt.length;Re>=0;Re--)Ut=lt[Re],Ut==="."?lt.splice(Re,1):Ut===".."?(lt.splice(Re,1),Ke++):Ke&&(lt.splice(Re,1),Ke--);if(!Ne&&!tt)for(;Ke--;Ke)lt.unshift("..");Ne&&lt[0]!==""&&(!lt[0]||lt[0].charAt(0)!=="/")&&lt.unshift(""),Fe&&lt.join("/").substr(-1)!=="/"&&lt.push("");var He=lt[0]===""||lt[0]&&lt[0].charAt(0)==="/";if(gt){G.hostname=He?"":lt.length?lt.shift():"",G.host=G.hostname;var St=G.host&&G.host.indexOf("@")>0?G.host.split("@"):!1;St&&(G.auth=St.shift(),G.hostname=St.shift(),G.host=G.hostname)}return Ne=Ne||G.host&&lt.length,Ne&&!He&&lt.unshift(""),lt.length>0?G.pathname=lt.join("/"):(G.pathname=null,G.path=null),(G.pathname!==null||G.search!==null)&&(G.path=(G.pathname?G.pathname:"")+(G.search?G.search:"")),G.auth=$.auth||G.auth,G.slashes=G.slashes||$.slashes,G.href=G.format(),G},e.prototype.parseHost=function(){var $=this.host,ae=i.exec($);ae&&(ae=ae[0],ae!==":"&&(this.port=ae.substr(1)),$=$.substr(0,$.length-ae.length)),$&&(this.hostname=$)},_1.parse=te,_1.resolve=oe,_1.resolveObject=ne,_1.format=J,_1.Url=e,_1}var Cfe=vfe();const SU=cu(Cfe);function wa(){var n="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",e="370277aff056c0894d7ae34686219318414cc635",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:16,column:5}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:60}},3:{start:{line:10,column:4},end:{line:10,column:27}},4:{start:{line:12,column:4},end:{line:12,column:13}},5:{start:{line:14,column:4},end:{line:14,column:95}},6:{start:{line:15,column:4},end:{line:15,column:21}},7:{start:{line:19,column:2},end:{line:19,column:34}},8:{start:{line:19,column:20},end:{line:19,column:34}},9:{start:{line:20,column:17},end:{line:20,column:42}},10:{start:{line:21,column:23},end:{line:21,column:57}},11:{start:{line:22,column:2},end:{line:26,column:3}},12:{start:{line:23,column:4},end:{line:23,column:41}},13:{start:{line:25,column:4},end:{line:25,column:69}},14:{start:{line:27,column:14},end:{line:27,column:35}},15:{start:{line:28,column:2},end:{line:28,column:24}},16:{start:{line:31,column:2},end:{line:31,column:30}},17:{start:{line:31,column:16},end:{line:31,column:30}},18:{start:{line:32,column:14},end:{line:32,column:31}},19:{start:{line:33,column:2},end:{line:33,column:57}},20:{start:{line:33,column:32},end:{line:33,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:17,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:24},end:{line:11,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:20},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:11},end:{line:13,column:12}},loc:{start:{line:13,column:17},end:{line:16,column:3}},line:13},4:{name:"downloadGlyphsMetadata",decl:{start:{line:18,column:16},end:{line:18,column:38}},loc:{start:{line:18,column:56},end:{line:29,column:1}},line:18},5:{name:"downloadSpriteMetadata",decl:{start:{line:30,column:16},end:{line:30,column:38}},loc:{start:{line:30,column:52},end:{line:34,column:1}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:33,column:20},end:{line:33,column:21}},loc:{start:{line:33,column:32},end:{line:33,column:55}},line:33}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:19,column:2},end:{line:19,column:34}},type:"if",locations:[{start:{line:19,column:2},end:{line:19,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:22,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:26,column:3}},{start:{line:24,column:9},end:{line:26,column:3}}],line:22},3:{loc:{start:{line:31,column:2},end:{line:31,column:30}},type:"if",locations:[{start:{line:31,column:2},end:{line:31,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,CAAC,aAAa;AAClB,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,MAAM,iCAAiC,GAAG;AAAA,IACtD;AACA,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,MAAM;AACX,YAAQ,KAAK,+BAA+B,MAAM,2BAA2B,YAAY;AACzF,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC,YAAa,QAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC,QAAS,QAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"370277aff056c0894d7ae34686219318414cc635"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return wa=function(){return l},l}wa();function xG(n,e,t){wa().f[0]++,wa().s[0]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(i=>{if(wa().f[1]++,wa().s[1]++,i.ok)wa().b[0][1]++;else throw wa().b[0][0]++,wa().s[2]++,new Error("Failed to load metadata for "+n);return wa().s[3]++,i.json()}).then(i=>{wa().f[2]++,wa().s[4]++,t(i)}).catch(()=>{wa().f[3]++,wa().s[5]++,console.warn("Can not load metadata for "+n+", using default value "+e),wa().s[6]++,t(e)})}function _fe(n,e){if(wa().f[4]++,wa().s[7]++,n)wa().b[1][1]++;else return wa().b[1][0]++,wa().s[8]++,e([]);const t=(wa().s[9]++,SU.parse(n)),i=(wa().s[10]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");wa().s[11]++,t.pathname===i?(wa().b[2][0]++,wa().s[12]++,t.pathname="/fontstacks.json"):(wa().b[2][1]++,wa().s[13]++,t.pathname=t.pathname.replace(i,".json"));const r=(wa().s[14]++,SU.format(t));wa().s[15]++,xG(r,[],e)}function bfe(n,e){if(wa().f[5]++,wa().s[16]++,n)wa().b[3][1]++;else return wa().b[3][0]++,wa().s[17]++,e([]);const t=(wa().s[18]++,n+".json");wa().s[19]++,xG(t,{},i=>(wa().f[6]++,wa().s[20]++,e(Object.keys(i))))}function pd(){var n="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",e="f92fa2abb31199d99fd3ae02d967dc6702faf862",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return pd=function(){return l},l}pd();function MG(n,e){pd().f[0]++;const t=(pd().s[0]++,cq(n,e));return pd().s[1]++,t.map(i=>(pd().f[1]++,pd().s[2]++,i.command+" "+i.args.join(" ")))}function xfe(n,e){return pd().f[2]++,pd().s[3]++,MG(n,e).map(t=>(pd().f[3]++,pd().s[4]++,"Undo "+t))}function Mfe(n,e){return pd().f[4]++,pd().s[5]++,MG(n,e).map(t=>(pd().f[5]++,pd().s[6]++,"Redo "+t))}function _c(){var n="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",e="d72dae9738057e855ea98626011f8090b99877cc",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:19},end:{line:4,column:55}},2:{start:{line:5,column:2},end:{line:8,column:3}},3:{start:{line:6,column:4},end:{line:6,column:44}},4:{start:{line:7,column:4},end:{line:7,column:75}},5:{start:{line:9,column:2},end:{line:9,column:18}},6:{start:{line:12,column:2},end:{line:12,column:41}},7:{start:{line:13,column:2},end:{line:23,column:3}},8:{start:{line:14,column:21},end:{line:17,column:6}},9:{start:{line:18,column:17},end:{line:18,column:38}},10:{start:{line:19,column:4},end:{line:19,column:43}},11:{start:{line:21,column:4},end:{line:21,column:63}},12:{start:{line:22,column:4},end:{line:22,column:28}}},fnMap:{0:{name:"getStyleUrlFromAddressbarAndRemoveItIfNeeded",decl:{start:{line:2,column:16},end:{line:2,column:60}},loc:{start:{line:2,column:63},end:{line:10,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:11,column:22},end:{line:11,column:34}},loc:{start:{line:11,column:45},end:{line:24,column:1}},line:11}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAGX,gBAAS,+CAA8D;AAC5E,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,QAAM,WAAW,WAAW,aAAa,IAAI,OAAO;AACpD,MAAI,UAAU;AACZ,eAAW,aAAa,OAAO,OAAO;AACtC,WAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AAAA,EACvE;AACA,SAAO;AACT;AAEA,sBAAsB,aAAa,UAAqD;AACtF,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,MAAI;AACF,UAAM,WAAW,MAAM,MAAM,UAAU;AAAA,MACrC,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC;AACD,UAAM,OAAO,MAAM,SAAS,KAAK;AACjC,WAAO,MAAM,oBAAoB,IAAI;AAAA,EACvC,QAAQ;AACN,YAAQ,KAAK,oCAAoC,QAAQ;AACzD,WAAO,MAAM;AAAA,EACf;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d72dae9738057e855ea98626011f8090b99877cc"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return _c=function(){return l},l}_c();function wfe(){_c().f[0]++;const n=(_c().s[0]++,new URL(window.location.href)),e=(_c().s[1]++,n.searchParams.get("style"));return _c().s[2]++,e?(_c().b[0][0]++,_c().s[3]++,n.searchParams.delete("style"),_c().s[4]++,window.history.replaceState({},document.title,n.toString())):_c().b[0][1]++,_c().s[5]++,e}async function wG(n){_c().f[1]++,_c().s[6]++,console.log("Loading style",n),_c().s[7]++;try{const e=(_c().s[8]++,await fetch(n,{mode:"cors",credentials:"same-origin"})),t=(_c().s[9]++,await e.json());return _c().s[10]++,Vd.ensureStyleValidity(t)}catch{return _c().s[11]++,console.warn("Could not fetch default style: "+n),_c().s[12]++,Vd.emptyStyle}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var EB=function(n,e){return EB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},EB(n,e)};function SG(n,e){EB(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Sfe(n){var e=typeof Symbol=="function"&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function Efe(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],l;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(o){l={error:o}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(l)throw l.error}}return a}function Bfe(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Efe(arguments[e]));return n}var EG=function(){function n(e,t){this.target=t,this.type=e}return n}(),Ofe=function(n){SG(e,n);function e(t,i){var r=n.call(this,"error",i)||this;return r.message=t.message,r.error=t,r}return e}(EG),Ife=function(n){SG(e,n);function e(t,i,r){t===void 0&&(t=1e3),i===void 0&&(i="");var a=n.call(this,"close",r)||this;return a.wasClean=!0,a.code=t,a.reason=i,a}return e}(EG);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var Tfe=function(){if(typeof WebSocket<"u")return WebSocket},kfe=function(n){return typeof n<"u"&&!!n&&n.CLOSING===2},b1={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0};(function(){function n(e,t,i){var r=this;i===void 0&&(i={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(a){r._debug("open event");var l=r._options.minUptime,o=l===void 0?b1.minUptime:l;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout(function(){return r._acceptOpen()},o),r._ws.binaryType=r._binaryType,r._messageQueue.forEach(function(p){return r._ws.send(p)}),r._messageQueue=[],r.onopen&&r.onopen(a),r._listeners.open.forEach(function(p){return r._callEventListener(a,p)})},this._handleMessage=function(a){r._debug("message event"),r.onmessage&&r.onmessage(a),r._listeners.message.forEach(function(l){return r._callEventListener(a,l)})},this._handleError=function(a){r._debug("error event",a.message),r._disconnect(void 0,a.message==="TIMEOUT"?"timeout":void 0),r.onerror&&r.onerror(a),r._debug("exec error listeners"),r._listeners.error.forEach(function(l){return r._callEventListener(a,l)}),r._connect()},this._handleClose=function(a){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(a),r._listeners.close.forEach(function(l){return r._callEventListener(a,l)})},this._url=e,this._protocols=t,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(n,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CONNECTING",{get:function(){return n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OPEN",{get:function(){return n.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSING",{get:function(){return n.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSED",{get:function(){return n.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(t,i){return typeof i=="string"?t+=i.length:i instanceof Blob?t+=i.size:t+=i.byteLength,t},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?n.CLOSED:n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),n.prototype.close=function(e,t){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,t)},n.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,t),this._connect())},n.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,i=t===void 0?b1.maxEnqueuedMessages:t;this._messageQueue.length<i&&(this._debug("enqueue",e),this._messageQueue.push(e))}},n.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},n.prototype.dispatchEvent=function(e){var t,i,r=this._listeners[e.type];if(r)try{for(var a=Sfe(r),l=a.next();!l.done;l=a.next()){var o=l.value;this._callEventListener(e,o)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return!0},n.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(i){return i!==t}))},n.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,Bfe(["RWS>"],e))},n.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,i=t===void 0?b1.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,a=r===void 0?b1.minReconnectionDelay:r,l=e.maxReconnectionDelay,o=l===void 0?b1.maxReconnectionDelay:l,p=0;return this._retryCount>0&&(p=a*Math.pow(i,this._retryCount-1),p>o&&(p=o)),this._debug("next delay",p),p},n.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},n.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var t=e();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},n.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,i=t.maxRetries,r=i===void 0?b1.maxRetries:i,a=t.connectionTimeout,l=a===void 0?b1.connectionTimeout:a,o=t.WebSocket,p=o===void 0?Tfe():o;if(this._retryCount>=r){this._debug("max retries reached",this._retryCount,">=",r);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!kfe(p))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(C){e._closeCalled||(e._debug("connect",{url:C,protocols:e._protocols}),e._ws=e._protocols?new p(C,e._protocols):new p(C),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},l))})}},n.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new Ofe(Error("TIMEOUT"),this))},n.prototype._disconnect=function(e,t){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new Ife(e,t,this))}catch{}}},n.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},n.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},n.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},n.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},n.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},n})();function BG(){var n="/home/runner/work/maputnik/maputnik/src/libs/store/apistore.ts",e="511b7cd31edca7d05c4852901896ddb82085d1f5",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/store/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:37}},3:{start:{line:13,column:17},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:27,column:5}},8:{start:{line:20,column:23},end:{line:20,column:79}},9:{start:{line:21,column:19},end:{line:21,column:40}},10:{start:{line:22,column:23},end:{line:22,column:27}},11:{start:{line:23,column:6},end:{line:23,column:39}},12:{start:{line:24,column:6},end:{line:24,column:32}},13:{start:{line:26,column:6},end:{line:26,column:54}},14:{start:{line:30,column:23},end:{line:30,column:67}},15:{start:{line:31,column:4},end:{line:42,column:6}},16:{start:{line:32,column:6},end:{line:32,column:26}},17:{start:{line:32,column:19},end:{line:32,column:26}},18:{start:{line:33,column:6},end:{line:33,column:52}},19:{start:{line:34,column:24},end:{line:34,column:40}},20:{start:{line:35,column:6},end:{line:39,column:7}},21:{start:{line:36,column:8},end:{line:36,column:41}},22:{start:{line:38,column:8},end:{line:38,column:27}},23:{start:{line:40,column:27},end:{line:40,column:65}},24:{start:{line:41,column:6},end:{line:41,column:44}},25:{start:{line:45,column:4},end:{line:53,column:5}},26:{start:{line:46,column:23},end:{line:48,column:8}},27:{start:{line:49,column:19},end:{line:49,column:40}},28:{start:{line:50,column:6},end:{line:50,column:45}},29:{start:{line:52,column:6},end:{line:52,column:92}},30:{start:{line:57,column:22},end:{line:61,column:5}},31:{start:{line:62,column:15},end:{line:62,column:26}},32:{start:{line:63,column:4},end:{line:72,column:7}},33:{start:{line:71,column:6},end:{line:71,column:38}},34:{start:{line:71,column:17},end:{line:71,column:38}},35:{start:{line:73,column:4},end:{line:73,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:28,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:23},end:{line:43,column:3}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:31,column:27},end:{line:31,column:28}},loc:{start:{line:31,column:34},end:{line:42,column:5}},line:31},5:{name:"(anonymous_5)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:25},end:{line:54,column:3}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:17},end:{line:74,column:3}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:70,column:13},end:{line:70,column:14}},loc:{start:{line:70,column:29},end:{line:72,column:5}},line:70}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:32,column:6},end:{line:32,column:26}},type:"if",locations:[{start:{line:32,column:6},end:{line:32,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},2:{loc:{start:{line:45,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:53,column:5}},{start:{line:51,column:11},end:{line:53,column:5}}],line:45},3:{loc:{start:{line:71,column:6},end:{line:71,column:38}},type:"if",locations:[{start:{line:71,column:6},end:{line:71,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/store/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,2BAA2B;AAO3B,aAAM,cAAqC;AAAA,EAEhD;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,OAAO,SAAS;AAC7B,UAAM,OAAO;AACb,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,MAAM,OAAsB;AAC1B,QAAI;AACF,YAAM,WAAW,MAAM,MAAM,KAAK,WAAW,WAAW,EAAC,MAAM,OAAM,CAAC;AACtE,YAAM,OAAO,MAAM,SAAS,KAAK;AACjC,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AAAA,IAC1B,QAAQ;AACN,YAAM,IAAI,MAAM,8BAA8B;AAAA,IAChD;AAAA,EACF;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE,KAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,MAAM,iBAAoD;AACxD,QAAG,KAAK,eAAe;AACrB,YAAM,WAAW,MAAM,MAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QAC5E,MAAM;AAAA,MACR,CAAC;AACD,YAAM,OAAO,MAAM,SAAS,KAAK;AACjC,aAAO,MAAM,oBAAoB,IAAI;AAAA,IACvC,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAAoC;AACvC,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG,MAAO,SAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"511b7cd31edca7d05c4852901896ddb82085d1f5"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return BG=function(){return l},l}BG();function Fi(){var n="/home/runner/work/maputnik/maputnik/src/libs/store/stylestore.ts",e="1506dd6f3469e4801b7fd940c02682bf4ad7b098",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/store/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:39}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:51,column:4},end:{line:56,column:5}},22:{start:{line:51,column:17},end:{line:51,column:18}},23:{start:{line:52,column:18},end:{line:52,column:44}},24:{start:{line:53,column:6},end:{line:55,column:7}},25:{start:{line:54,column:8},end:{line:54,column:44}},26:{start:{line:60,column:4},end:{line:62,column:5}},27:{start:{line:61,column:6},end:{line:61,column:32}},28:{start:{line:63,column:20},end:{line:63,column:67}},29:{start:{line:64,column:22},end:{line:64,column:68}},30:{start:{line:65,column:4},end:{line:67,column:5}},31:{start:{line:66,column:6},end:{line:66,column:35}},32:{start:{line:68,column:4},end:{line:68,column:30}},33:{start:{line:72,column:4},end:{line:72,column:51}},34:{start:{line:73,column:16},end:{line:73,column:37}},35:{start:{line:74,column:19},end:{line:77,column:5}},36:{start:{line:75,column:6},end:{line:75,column:65}},37:{start:{line:76,column:6},end:{line:76,column:67}},38:{start:{line:78,column:4},end:{line:89,column:5}},39:{start:{line:79,column:6},end:{line:79,column:15}},40:{start:{line:81,column:6},end:{line:88,column:7}},41:{start:{line:84,column:8},end:{line:84,column:21}},42:{start:{line:85,column:8},end:{line:85,column:17}},43:{start:{line:87,column:8},end:{line:87,column:16}},44:{start:{line:90,column:4},end:{line:90,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:35},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:10},end:{line:57,column:3}},line:50},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:25},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:17},end:{line:91,column:3}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:74,column:19},end:{line:74,column:20}},loc:{start:{line:74,column:25},end:{line:77,column:5}},line:74}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:53,column:6},end:{line:55,column:7}},type:"if",locations:[{start:{line:53,column:6},end:{line:55,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},4:{loc:{start:{line:60,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:62,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},5:{loc:{start:{line:65,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:67,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},6:{loc:{start:{line:81,column:6},end:{line:88,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:88,column:7}},{start:{line:86,column:13},end:{line:88,column:7}}],line:81},7:{loc:{start:{line:81,column:10},end:{line:83,column:81}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:35}},{start:{line:81,column:40},end:{line:81,column:53}},{start:{line:82,column:6},end:{line:82,column:21}},{start:{line:83,column:6},end:{line:83,column:37}},{start:{line:83,column:41},end:{line:83,column:80}}],line:81}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/store/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,mBAAsD;AACpE,SAAO,aAAa,eAAe;AACrC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAkC;AAAA;AAAA;AAAA;AAAA,EAI7C;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,MAAM,iBAAoD;AACxD,QAAG,KAAK,UAAU,WAAW,GAAG;AAC9B,aAAO,iBAAiB;AAAA,IAC1B;AACA,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAI,WAAW;AACb,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AACA,WAAO,iBAAiB;AAAA,EAC1B;AAAA;AAAA,EAGA,KAAK,UAAoC;AACvC,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAEhC,UAAM,SAAS,MAAM;AACnB,aAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,aAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAAA,IAC7D;AAEA,QAAI;AACF,aAAO;AAAA,IACT,SAAS,GAAG;AAEV,UAAI,aAAa,iBACf,EAAE,SAAS;AAAA,MACX,EAAE,SAAS;AAAA,MACX,EAAE,SAAS,wBACX,EAAE,SAAS,+BACV;AACD,aAAK,MAAM;AACX,eAAO;AAAA,MACT,OAAO;AACL,cAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1506dd6f3469e4801b7fd940c02682bf4ad7b098"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Fi=function(){return l},l}Fi();const n4=(Fi().s[0]++,"maputnik"),OG=(Fi().s[1]++,"style"),EU=(Fi().s[2]++,{latest:[n4,"latest_style"].join(":")}),Dfe=(Fi().s[3]++,dG[0].url);function BU(){return Fi().f[0]++,Fi().s[4]++,wG(Dfe)}function Rfe(){Fi().f[1]++;const n=(Fi().s[5]++,[]);Fi().s[6]++;for(let e=(Fi().s[7]++,0);e<window.localStorage.length;e++){const t=(Fi().s[8]++,window.localStorage.key(e));Fi().s[9]++,IG(t)?(Fi().b[0][0]++,Fi().s[10]++,n.push(Pfe(t))):Fi().b[0][1]++}return Fi().s[11]++,n}function IG(n){Fi().f[2]++;const e=(Fi().s[12]++,n.split(":"));return Fi().s[13]++,Fi().b[1][0]++,e.length===3&&(Fi().b[1][1]++,e[0]===n4)&&(Fi().b[1][2]++,e[1]===OG)}function Pfe(n){if(Fi().f[3]++,Fi().s[14]++,IG(n))Fi().b[2][1]++;else throw Fi().b[2][0]++,Fi().s[15]++,"Key is not a valid style key";const e=(Fi().s[16]++,n.split(":")),t=(Fi().s[17]++,e[2]);return Fi().s[18]++,t}function OU(n){return Fi().f[4]++,Fi().s[19]++,[n4,OG,n].join(":")}class Kfe{mapStyles;constructor(){Fi().f[5]++,Fi().s[20]++,this.mapStyles=Rfe()}purge(){Fi().f[6]++,Fi().s[21]++;for(let e=(Fi().s[22]++,0);e<window.localStorage.length;e++){const t=(Fi().s[23]++,window.localStorage.key(e));Fi().s[24]++,t.startsWith(n4)?(Fi().b[3][0]++,Fi().s[25]++,window.localStorage.removeItem(t)):Fi().b[3][1]++}}async getLatestStyle(){if(Fi().f[7]++,Fi().s[26]++,this.mapStyles.length===0)return Fi().b[4][0]++,Fi().s[27]++,BU();Fi().b[4][1]++;const e=(Fi().s[28]++,window.localStorage.getItem(EU.latest)),t=(Fi().s[29]++,window.localStorage.getItem(OU(e)));return Fi().s[30]++,t?(Fi().b[5][0]++,Fi().s[31]++,JSON.parse(t)):(Fi().b[5][1]++,Fi().s[32]++,BU())}save(e){Fi().f[8]++,Fi().s[33]++,e=Vd.ensureStyleValidity(e);const t=(Fi().s[34]++,OU(e.id));Fi().s[35]++;const i=()=>{Fi().f[9]++,Fi().s[36]++,window.localStorage.setItem(t,JSON.stringify(e)),Fi().s[37]++,window.localStorage.setItem(EU.latest,e.id)};Fi().s[38]++;try{Fi().s[39]++,i()}catch(r){if(Fi().s[40]++,Fi().b[7][0]++,r instanceof DOMException&&(Fi().b[7][1]++,r.code===22||(Fi().b[7][2]++,r.code===1014)||(Fi().b[7][3]++,r.name==="QuotaExceededError")||(Fi().b[7][4]++,r.name==="NS_ERROR_DOM_QUOTA_REACHED")))Fi().b[6][0]++,Fi().s[41]++,this.purge(),Fi().s[42]++,i();else throw Fi().b[6][1]++,Fi().s[43]++,r}return Fi().s[44]++,e}}function dd(){var n="/home/runner/work/maputnik/maputnik/src/libs/store/style-store-factory.ts",e="2de8d55bfe17551e08818e39ce7b23b7139f970e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/store/style-store-factory.ts",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:65}},1:{start:{line:6,column:22},end:{line:6,column:118}},2:{start:{line:8,column:2},end:{line:20,column:3}},3:{start:{line:9,column:26},end:{line:11,column:6}},4:{start:{line:10,column:40},end:{line:10,column:81}},5:{start:{line:12,column:4},end:{line:17,column:5}},6:{start:{line:13,column:6},end:{line:13,column:33}},7:{start:{line:14,column:6},end:{line:14,column:33}},8:{start:{line:16,column:6},end:{line:16,column:36}},9:{start:{line:19,column:4},end:{line:19,column:34}},10:{start:{line:21,column:22},end:{line:21,column:100}},11:{start:{line:22,column:2},end:{line:22,column:66}},12:{start:{line:23,column:2},end:{line:23,column:20}}},fnMap:{0:{name:"createStyleStore",decl:{start:{line:4,column:22},end:{line:4,column:38}},loc:{start:{line:4,column:55},end:{line:24,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:10,column:26},end:{line:10,column:27}},loc:{start:{line:10,column:40},end:{line:10,column:81}},line:10}},branchMap:{0:{loc:{start:{line:6,column:22},end:{line:6,column:118}},type:"binary-expr",locations:[{start:{line:6,column:22},end:{line:6,column:30}},{start:{line:6,column:34},end:{line:6,column:118}}],line:6},1:{loc:{start:{line:8,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:20,column:3}},{start:{line:18,column:9},end:{line:20,column:3}}],line:8},2:{loc:{start:{line:21,column:22},end:{line:21,column:100}},type:"cond-expr",locations:[{start:{line:21,column:36},end:{line:21,column:64}},{start:{line:21,column:67},end:{line:21,column:100}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/store/style-store-factory.ts"],names:[],mappings:"AAEA,SAAS,8CAA8C,oBAAoB;AAC3E,SAAS,qBAAqB;AAC9B,SAAS,kBAAkB;AAE3B,sBAAsB,iBAAiB,gBAA8D;AACnG,QAAM,WAAW,6CAA6C;AAC9D,QAAM,cAAc,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B;AACnH,MAAI;AACJ,MAAI,OAAoD;AACtD,UAAM,gBAAgB,IAAI,cAAc;AAAA,MACtC,oBAAoB,CAAA,aAAY,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,IACxE,CAAC;AACD,QAAI;AACF,YAAM,cAAc,KAAK;AACzB,mBAAa;AAAA,IACf,QAAQ;AACN,mBAAa,IAAI,WAAW;AAAA,IAC9B;AAAA,EACF,OAAO;AACL,iBAAa,IAAI,WAAW;AAAA,EAC9B;AACA,QAAM,cAAc,cAAc,MAAM,aAAa,QAAQ,IAAI,MAAM,WAAW,eAAe;AACjG,iBAAe,aAAa,EAAC,aAAa,MAAM,MAAM,MAAK,CAAC;AAC5D,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2de8d55bfe17551e08818e39ce7b23b7139f970e"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return dd=function(){return l},l}dd();async function Ufe(n){dd().f[0]++;const e=(dd().s[0]++,wfe()),t=(dd().s[1]++,dd().b[0][0]++,e&&(dd().b[0][1]++,window.confirm("Load style from URL: "+e+" and discard current changes?")));let i;dd().s[2]++,dd().b[1][1]++,dd().s[9]++,i=new Kfe;const r=(dd().s[10]++,t?(dd().b[2][0]++,await wG(e)):(dd().b[2][1]++,await i.getLatestStyle()));return dd().s[11]++,n(r,{initialLoad:!0,save:!1}),dd().s[12]++,i}function Kl(){var n="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",e="2443d70bd38cc3b176918d5f84a8a7d35a1ef2fe",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAAoC;AAG9C,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2443d70bd38cc3b176918d5f84a8a7d35a1ef2fe"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Kl=function(){return l},l}Kl();class Lfe{revisions;currentIdx;constructor(e=(Kl().b[0][0]++,[])){Kl().f[0]++,Kl().s[0]++,this.revisions=e,Kl().s[1]++,this.currentIdx=e.length-1}get latest(){return Kl().f[1]++,Kl().s[2]++,this.revisions[this.revisions.length-1]}get current(){return Kl().f[2]++,Kl().s[3]++,this.revisions[this.currentIdx]}addRevision(e){Kl().f[3]++,Kl().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),Kl().s[5]++,this.revisions.push(e),Kl().s[6]++,this.currentIdx++}undo(){return Kl().f[4]++,Kl().s[7]++,this.currentIdx>0?(Kl().b[1][0]++,Kl().s[8]++,this.currentIdx--):Kl().b[1][1]++,Kl().s[9]++,this.current}redo(){return Kl().f[5]++,Kl().s[10]++,this.currentIdx<this.revisions.length-1?(Kl().b[2][0]++,Kl().s[11]++,this.currentIdx++):Kl().b[2][1]++,Kl().s[12]++,this.current}}var a6,IU;function Ffe(){if(IU)return a6;IU=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt,p=typeof window=="object"&&window&&window.Object===Object&&window,C=typeof self=="object"&&self&&self.Object===Object&&self,M=p||C||Function("return this")(),O=Object.prototype,U=O.toString,K=Math.max,j=Math.min,W=function(){return M.Date.now()};function Y(ae,G,ce){var ge,ye,we,Ie,Se,Ve,xe=0,ze=!1,st=!1,Ct=!0;if(typeof ae!="function")throw new TypeError(n);G=$(G)||0,J(ce)&&(ze=!!ce.leading,st="maxWait"in ce,we=st?K($(ce.maxWait)||0,G):we,Ct="trailing"in ce?!!ce.trailing:Ct);function nt(Fe){var Ke=ge,Re=ye;return ge=ye=void 0,xe=Fe,Ie=ae.apply(Re,Ke),Ie}function be(Fe){return xe=Fe,Se=setTimeout(lt,G),ze?nt(Fe):Ie}function Ne(Fe){var Ke=Fe-Ve,Re=Fe-xe,He=G-Ke;return st?j(He,we-Re):He}function tt(Fe){var Ke=Fe-Ve,Re=Fe-xe;return Ve===void 0||Ke>=G||Ke<0||st&&Re>=we}function lt(){var Fe=W();if(tt(Fe))return kt(Fe);Se=setTimeout(lt,Ne(Fe))}function kt(Fe){return Se=void 0,Ct&&ge?nt(Fe):(ge=ye=void 0,Ie)}function gt(){Se!==void 0&&clearTimeout(Se),xe=0,ge=Ve=ye=Se=void 0}function St(){return Se===void 0?Ie:kt(W())}function Ut(){var Fe=W(),Ke=tt(Fe);if(ge=arguments,ye=this,Ve=Fe,Ke){if(Se===void 0)return be(Ve);if(st)return Se=setTimeout(lt,G),nt(Ve)}return Se===void 0&&(Se=setTimeout(lt,G)),Ie}return Ut.cancel=gt,Ut.flush=St,Ut}function te(ae,G,ce){var ge=!0,ye=!0;if(typeof ae!="function")throw new TypeError(n);return J(ce)&&(ge="leading"in ce?!!ce.leading:ge,ye="trailing"in ce?!!ce.trailing:ye),Y(ae,G,{leading:ge,maxWait:G,trailing:ye})}function J(ae){var G=typeof ae;return!!ae&&(G=="object"||G=="function")}function oe(ae){return!!ae&&typeof ae=="object"}function ne(ae){return typeof ae=="symbol"||oe(ae)&&U.call(ae)==t}function $(ae){if(typeof ae=="number")return ae;if(ne(ae))return e;if(J(ae)){var G=typeof ae.valueOf=="function"?ae.valueOf():ae;ae=J(G)?G+"":G}if(typeof ae!="string")return ae===0?ae:+ae;ae=ae.replace(i,"");var ce=a.test(ae);return ce||l.test(ae)?o(ae.slice(2),ce?2:8):r.test(ae)?e:+ae}return a6=te,a6}var zfe=Ffe();const jfe=cu(zfe);var HC={exports:{}};HC.exports;var TU;function Nfe(){return TU||(TU=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=1,a=2,l=9007199254740991,o="[object Arguments]",p="[object Array]",C="[object AsyncFunction]",M="[object Boolean]",O="[object Date]",U="[object Error]",K="[object Function]",j="[object GeneratorFunction]",W="[object Map]",Y="[object Number]",te="[object Null]",J="[object Object]",oe="[object Promise]",ne="[object Proxy]",$="[object RegExp]",ae="[object Set]",G="[object String]",ce="[object Symbol]",ge="[object Undefined]",ye="[object WeakMap]",we="[object ArrayBuffer]",Ie="[object DataView]",Se="[object Float32Array]",Ve="[object Float64Array]",xe="[object Int8Array]",ze="[object Int16Array]",st="[object Int32Array]",Ct="[object Uint8Array]",nt="[object Uint8ClampedArray]",be="[object Uint16Array]",Ne="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,lt=/^\[object .+?Constructor\]$/,kt=/^(?:0|[1-9]\d*)$/,gt={};gt[Se]=gt[Ve]=gt[xe]=gt[ze]=gt[st]=gt[Ct]=gt[nt]=gt[be]=gt[Ne]=!0,gt[o]=gt[p]=gt[we]=gt[M]=gt[Ie]=gt[O]=gt[U]=gt[K]=gt[W]=gt[Y]=gt[J]=gt[$]=gt[ae]=gt[G]=gt[ye]=!1;var St=typeof window=="object"&&window&&window.Object===Object&&window,Ut=typeof self=="object"&&self&&self.Object===Object&&self,Fe=St||Ut||Function("return this")(),Ke=e&&!e.nodeType&&e,Re=Ke&&!0&&n&&!n.nodeType&&n,He=Re&&Re.exports===Ke,bt=He&&St.process,_t=function(){try{return bt&&bt.binding&&bt.binding("util")}catch{}}(),Ot=_t&&_t.isTypedArray;function qt(ee,Oe){for(var at=-1,Gt=ee==null?0:ee.length,Si=0,Xn=[];++at<Gt;){var Zi=ee[at];Oe(Zi,at,ee)&&(Xn[Si++]=Zi)}return Xn}function Kt(ee,Oe){for(var at=-1,Gt=Oe.length,Si=ee.length;++at<Gt;)ee[Si+at]=Oe[at];return ee}function on(ee,Oe){for(var at=-1,Gt=ee==null?0:ee.length;++at<Gt;)if(Oe(ee[at],at,ee))return!0;return!1}function Jn(ee,Oe){for(var at=-1,Gt=Array(ee);++at<ee;)Gt[at]=Oe(at);return Gt}function Wt(ee){return function(Oe){return ee(Oe)}}function $n(ee,Oe){return ee.has(Oe)}function On(ee,Oe){return ee?.[Oe]}function Bn(ee){var Oe=-1,at=Array(ee.size);return ee.forEach(function(Gt,Si){at[++Oe]=[Si,Gt]}),at}function In(ee,Oe){return function(at){return ee(Oe(at))}}function Oi(ee){var Oe=-1,at=Array(ee.size);return ee.forEach(function(Gt){at[++Oe]=Gt}),at}var ei=Array.prototype,Kn=Function.prototype,je=Object.prototype,de=Fe["__core-js_shared__"],re=Kn.toString,le=je.hasOwnProperty,pe=function(){var ee=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),Te=je.toString,We=RegExp("^"+re.call(le).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=He?Fe.Buffer:void 0,Ye=Fe.Symbol,De=Fe.Uint8Array,Ze=je.propertyIsEnumerable,g=ei.splice,mt=Ye?Ye.toStringTag:void 0,ht=Object.getOwnPropertySymbols,Tt=dt?dt.isBuffer:void 0,it=In(Object.keys,Object),en=Do(Fe,"DataView"),Dn=Do(Fe,"Map"),Mn=Do(Fe,"Promise"),ii=Do(Fe,"Set"),Wn=Do(Fe,"WeakMap"),Hi=Do(Object,"create"),tr=No(en),Ei=No(Dn),hi=No(Mn),ti=No(ii),Qi=No(Wn),wn=Ye?Ye.prototype:void 0,uo=wn?wn.valueOf:void 0;function Vi(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ya(){this.__data__=Hi?Hi(null):{},this.size=0}function ko(ee){var Oe=this.has(ee)&&delete this.__data__[ee];return this.size-=Oe?1:0,Oe}function Zn(ee){var Oe=this.__data__;if(Hi){var at=Oe[ee];return at===i?void 0:at}return le.call(Oe,ee)?Oe[ee]:void 0}function Ar(ee){var Oe=this.__data__;return Hi?Oe[ee]!==void 0:le.call(Oe,ee)}function zi(ee,Oe){var at=this.__data__;return this.size+=this.has(ee)?0:1,at[ee]=Hi&&Oe===void 0?i:Oe,this}Vi.prototype.clear=ya,Vi.prototype.delete=ko,Vi.prototype.get=Zn,Vi.prototype.has=Ar,Vi.prototype.set=zi;function Cr(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ja(){this.__data__=[],this.size=0}function kr(ee){var Oe=this.__data__,at=si(Oe,ee);if(at<0)return!1;var Gt=Oe.length-1;return at==Gt?Oe.pop():g.call(Oe,at,1),--this.size,!0}function ji(ee){var Oe=this.__data__,at=si(Oe,ee);return at<0?void 0:Oe[at][1]}function yl(ee){return si(this.__data__,ee)>-1}function Pa(ee,Oe){var at=this.__data__,Gt=si(at,ee);return Gt<0?(++this.size,at.push([ee,Oe])):at[Gt][1]=Oe,this}Cr.prototype.clear=ja,Cr.prototype.delete=kr,Cr.prototype.get=ji,Cr.prototype.has=yl,Cr.prototype.set=Pa;function So(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.clear();++Oe<at;){var Gt=ee[Oe];this.set(Gt[0],Gt[1])}}function ts(){this.size=0,this.__data__={hash:new Vi,map:new(Dn||Cr),string:new Vi}}function Tl(ee){var Oe=Xo(this,ee).delete(ee);return this.size-=Oe?1:0,Oe}function co(ee){return Xo(this,ee).get(ee)}function QA(ee){return Xo(this,ee).has(ee)}function Ka(ee,Oe){var at=Xo(this,ee),Gt=at.size;return at.set(ee,Oe),this.size+=at.size==Gt?0:1,this}So.prototype.clear=ts,So.prototype.delete=Tl,So.prototype.get=co,So.prototype.has=QA,So.prototype.set=Ka;function $i(ee){var Oe=-1,at=ee==null?0:ee.length;for(this.__data__=new So;++Oe<at;)this.add(ee[Oe])}function Mi(ee){return this.__data__.set(ee,i),this}function cs(ee){return this.__data__.has(ee)}$i.prototype.add=$i.prototype.push=Mi,$i.prototype.has=cs;function Sa(ee){var Oe=this.__data__=new Cr(ee);this.size=Oe.size}function Zo(){this.__data__=new Cr,this.size=0}function $e(ee){var Oe=this.__data__,at=Oe.delete(ee);return this.size=Oe.size,at}function Et(ee){return this.__data__.get(ee)}function xn(ee){return this.__data__.has(ee)}function Gn(ee,Oe){var at=this.__data__;if(at instanceof Cr){var Gt=at.__data__;if(!Dn||Gt.length<t-1)return Gt.push([ee,Oe]),this.size=++at.size,this;at=this.__data__=new So(Gt)}return at.set(ee,Oe),this.size=at.size,this}Sa.prototype.clear=Zo,Sa.prototype.delete=$e,Sa.prototype.get=Et,Sa.prototype.has=xn,Sa.prototype.set=Gn;function rn(ee,Oe){var at=Ea(ee),Gt=!at&&Na(ee),Si=!at&&!Gt&&Rr(ee),Xn=!at&&!Gt&&!Si&&Cl(ee),Zi=at||Gt||Si||Xn,ar=Zi?Jn(ee.length,String):[],Ri=ar.length;for(var Ji in ee)le.call(ee,Ji)&&!(Zi&&(Ji=="length"||Si&&(Ji=="offset"||Ji=="parent")||Xn&&(Ji=="buffer"||Ji=="byteLength"||Ji=="byteOffset")||Ll(Ji,Ri)))&&ar.push(Ji);return ar}function si(ee,Oe){for(var at=ee.length;at--;)if(Bo(ee[at][0],Oe))return at;return-1}function to(ee,Oe,at){var Gt=Oe(ee);return Ea(ee)?Gt:Kt(Gt,at(ee))}function Eo(ee){return ee==null?ee===void 0?ge:te:mt&&mt in Object(ee)?fr(ee):hu(ee)}function hs(ee){return Pr(ee)&&Eo(ee)==o}function zs(ee,Oe,at,Gt,Si){return ee===Oe?!0:ee==null||Oe==null||!Pr(ee)&&!Pr(Oe)?ee!==ee&&Oe!==Oe:YA(ee,Oe,at,Gt,zs,Si)}function YA(ee,Oe,at,Gt,Si,Xn){var Zi=Ea(ee),ar=Ea(Oe),Ri=Zi?p:va(ee),Ji=ar?p:va(Oe);Ri=Ri==o?J:Ri,Ji=Ji==o?J:Ji;var no=Ri==J,ho=Ji==J,cr=Ri==Ji;if(cr&&Rr(ee)){if(!Rr(Oe))return!1;Zi=!0,no=!1}if(cr&&!no)return Xn||(Xn=new Sa),Zi||Cl(ee)?vl(ee,Oe,at,Gt,Si,Xn):Es(ee,Oe,Ri,at,Gt,Si,Xn);if(!(at&r)){var gr=no&&le.call(ee,"__wrapped__"),fo=ho&&le.call(Oe,"__wrapped__");if(gr||fo){var Go=gr?ee.value():ee,Nr=fo?Oe.value():Oe;return Xn||(Xn=new Sa),Si(Go,Nr,at,Gt,Xn)}}return cr?(Xn||(Xn=new Sa),Mc(ee,Oe,at,Gt,Si,Xn)):!1}function Yi(ee){if(!Ca(ee)||Mr(ee))return!1;var Oe=Ga(ee)?We:lt;return Oe.test(No(ee))}function Pu(ee){return Pr(ee)&&ns(ee.length)&&!!gt[Eo(ee)]}function bA(ee){if(!rA(ee))return it(ee);var Oe=[];for(var at in Object(ee))le.call(ee,at)&&at!="constructor"&&Oe.push(at);return Oe}function vl(ee,Oe,at,Gt,Si,Xn){var Zi=at&r,ar=ee.length,Ri=Oe.length;if(ar!=Ri&&!(Zi&&Ri>ar))return!1;var Ji=Xn.get(ee);if(Ji&&Xn.get(Oe))return Ji==Oe;var no=-1,ho=!0,cr=at&a?new $i:void 0;for(Xn.set(ee,Oe),Xn.set(Oe,ee);++no<ar;){var gr=ee[no],fo=Oe[no];if(Gt)var Go=Zi?Gt(fo,gr,no,Oe,ee,Xn):Gt(gr,fo,no,ee,Oe,Xn);if(Go!==void 0){if(Go)continue;ho=!1;break}if(cr){if(!on(Oe,function(Nr,Vs){if(!$n(cr,Vs)&&(gr===Nr||Si(gr,Nr,at,Gt,Xn)))return cr.push(Vs)})){ho=!1;break}}else if(!(gr===fo||Si(gr,fo,at,Gt,Xn))){ho=!1;break}}return Xn.delete(ee),Xn.delete(Oe),ho}function Es(ee,Oe,at,Gt,Si,Xn,Zi){switch(at){case Ie:if(ee.byteLength!=Oe.byteLength||ee.byteOffset!=Oe.byteOffset)return!1;ee=ee.buffer,Oe=Oe.buffer;case we:return!(ee.byteLength!=Oe.byteLength||!Xn(new De(ee),new De(Oe)));case M:case O:case Y:return Bo(+ee,+Oe);case U:return ee.name==Oe.name&&ee.message==Oe.message;case $:case G:return ee==Oe+"";case W:var ar=Bn;case ae:var Ri=Gt&r;if(ar||(ar=Oi),ee.size!=Oe.size&&!Ri)return!1;var Ji=Zi.get(ee);if(Ji)return Ji==Oe;Gt|=a,Zi.set(ee,Oe);var no=vl(ar(ee),ar(Oe),Gt,Si,Xn,Zi);return Zi.delete(ee),no;case ce:if(uo)return uo.call(ee)==uo.call(Oe)}return!1}function Mc(ee,Oe,at,Gt,Si,Xn){var Zi=at&r,ar=Hs(ee),Ri=ar.length,Ji=Hs(Oe),no=Ji.length;if(Ri!=no&&!Zi)return!1;for(var ho=Ri;ho--;){var cr=ar[ho];if(!(Zi?cr in Oe:le.call(Oe,cr)))return!1}var gr=Xn.get(ee);if(gr&&Xn.get(Oe))return gr==Oe;var fo=!0;Xn.set(ee,Oe),Xn.set(Oe,ee);for(var Go=Zi;++ho<Ri;){cr=ar[ho];var Nr=ee[cr],Vs=Oe[cr];if(Gt)var Fl=Zi?Gt(Vs,Nr,cr,Oe,ee,Xn):Gt(Nr,Vs,cr,ee,Oe,Xn);if(!(Fl===void 0?Nr===Vs||Si(Nr,Vs,at,Gt,Xn):Fl)){fo=!1;break}Go||(Go=cr=="constructor")}if(fo&&!Go){var qA=ee.constructor,gs=Oe.constructor;qA!=gs&&"constructor"in ee&&"constructor"in Oe&&!(typeof qA=="function"&&qA instanceof qA&&typeof gs=="function"&&gs instanceof gs)&&(fo=!1)}return Xn.delete(ee),Xn.delete(Oe),fo}function Hs(ee){return to(ee,Xi,Ul)}function Xo(ee,Oe){var at=ee.__data__;return xA(Oe)?at[typeof Oe=="string"?"string":"hash"]:at.map}function Do(ee,Oe){var at=On(ee,Oe);return Yi(at)?at:void 0}function fr(ee){var Oe=le.call(ee,mt),at=ee[mt];try{ee[mt]=void 0;var Gt=!0}catch{}var Si=Te.call(ee);return Gt&&(Oe?ee[mt]=at:delete ee[mt]),Si}var Ul=ht?function(ee){return ee==null?[]:(ee=Object(ee),qt(ht(ee),function(Oe){return Ze.call(ee,Oe)}))}:wi,va=Eo;(en&&va(new en(new ArrayBuffer(1)))!=Ie||Dn&&va(new Dn)!=W||Mn&&va(Mn.resolve())!=oe||ii&&va(new ii)!=ae||Wn&&va(new Wn)!=ye)&&(va=function(ee){var Oe=Eo(ee),at=Oe==J?ee.constructor:void 0,Gt=at?No(at):"";if(Gt)switch(Gt){case tr:return Ie;case Ei:return W;case hi:return oe;case ti:return ae;case Qi:return ye}return Oe});function Ll(ee,Oe){return Oe=Oe??l,!!Oe&&(typeof ee=="number"||kt.test(ee))&&ee>-1&&ee%1==0&&ee<Oe}function xA(ee){var Oe=typeof ee;return Oe=="string"||Oe=="number"||Oe=="symbol"||Oe=="boolean"?ee!=="__proto__":ee===null}function Mr(ee){return!!pe&&pe in ee}function rA(ee){var Oe=ee&&ee.constructor,at=typeof Oe=="function"&&Oe.prototype||je;return ee===at}function hu(ee){return Te.call(ee)}function No(ee){if(ee!=null){try{return re.call(ee)}catch{}try{return ee+""}catch{}}return""}function Bo(ee,Oe){return ee===Oe||ee!==ee&&Oe!==Oe}var Na=hs(function(){return arguments}())?hs:function(ee){return Pr(ee)&&le.call(ee,"callee")&&!Ze.call(ee,"callee")},Ea=Array.isArray;function sa(ee){return ee!=null&&ns(ee.length)&&!Ga(ee)}var Rr=Tt||qr;function oA(ee,Oe){return zs(ee,Oe)}function Ga(ee){if(!Ca(ee))return!1;var Oe=Eo(ee);return Oe==K||Oe==j||Oe==C||Oe==ne}function ns(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=l}function Ca(ee){var Oe=typeof ee;return ee!=null&&(Oe=="object"||Oe=="function")}function Pr(ee){return ee!=null&&typeof ee=="object"}var Cl=Ot?Wt(Ot):Pu;function Xi(ee){return sa(ee)?rn(ee):bA(ee)}function wi(){return[]}function qr(){return!1}n.exports=oA}(HC,HC.exports)),HC.exports}var Gfe=Nfe();const BB=cu(Gfe);function zr(){var n="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",e="77d2098743f5a64765174c6e14fc4dc25f900f6c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return zr=function(){return l},l}zr();class Wfe{onSourcesChange;onVectorLayersChange;throttledAnalyzeVectorLayerFields;_sources;_vectorLayers;constructor(e=(zr().b[0][0]++,{})){zr().f[0]++,zr().s[0]++,this.onSourcesChange=(zr().b[1][0]++,e.onSourcesChange||(zr().b[1][1]++,()=>{zr().f[1]++})),zr().s[1]++,this.onVectorLayersChange=(zr().b[2][0]++,e.onVectorLayersChange||(zr().b[2][1]++,()=>{zr().f[2]++})),zr().s[2]++,this._sources={},zr().s[3]++,this._vectorLayers={},zr().s[4]++,this.throttledAnalyzeVectorLayerFields=jfe(this.analyzeVectorLayerFields,5e3)}analyzeMap(e){zr().f[3]++;const t=(zr().s[5]++,{...this._sources});zr().s[6]++,Object.keys(e.style.sourceCaches).forEach(i=>{zr().f[4]++,zr().s[7]++,this._sources[i]=e.style.sourceCaches[i]._source.vectorLayerIds}),zr().s[8]++,BB(t,this._sources)?zr().b[3][1]++:(zr().b[3][0]++,zr().s[9]++,this.onSourcesChange(this._sources)),zr().s[10]++,this.throttledAnalyzeVectorLayerFields(e)}analyzeVectorLayerFields(e){zr().f[5]++;const t=(zr().s[11]++,{...this._vectorLayers});zr().s[12]++,Object.keys(this._sources).forEach(i=>{zr().f[6]++,zr().s[13]++,(zr().b[4][0]++,this._sources[i]||(zr().b[4][1]++,[])).forEach(r=>{zr().f[7]++;const a=(zr().s[14]++,zr().b[5][0]++,this._vectorLayers[r]||(zr().b[5][1]++,{})),l=(zr().s[15]++,{sourceLayer:r});zr().s[16]++,e.querySourceFeatures(i,l).forEach(o=>{zr().f[8]++,zr().s[17]++,Object.keys(o.properties).forEach(p=>{zr().f[9]++;const C=(zr().s[18]++,zr().b[6][0]++,a[p]||(zr().b[6][1]++,{}));zr().s[19]++,C[o.properties[p]]={},zr().s[20]++,a[p]=C})}),zr().s[21]++,this._vectorLayers[r]=a})}),zr().s[22]++,BB(t,this._vectorLayers)?zr().b[7][1]++:(zr().b[7][0]++,zr().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return zr().f[10]++,zr().s[24]++,this._sources}get vectorLayers(){return zr().f[11]++,zr().s[25]++,this._vectorLayers}}function Ee(){var n="/home/runner/work/maputnik/maputnik/src/components/App.tsx",e="30a01c814a85b39a887418639a2630c3770d5c04",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:35,column:0},end:{line:35,column:30}},1:{start:{line:37,column:29},end:{line:37,column:60}},2:{start:{line:38,column:26},end:{line:38,column:54}},3:{start:{line:39,column:31},end:{line:39,column:64}},4:{start:{line:40,column:28},end:{line:40,column:58}},5:{start:{line:41,column:2},end:{line:58,column:3}},6:{start:{line:42,column:24},end:{line:42,column:95}},7:{start:{line:43,column:4},end:{line:45,column:5}},8:{start:{line:44,column:6},end:{line:44,column:47}},9:{start:{line:46,column:9},end:{line:58,column:3}},10:{start:{line:47,column:24},end:{line:47,column:96}},11:{start:{line:48,column:4},end:{line:50,column:5}},12:{start:{line:49,column:6},end:{line:49,column:47}},13:{start:{line:51,column:9},end:{line:58,column:3}},14:{start:{line:52,column:24},end:{line:52,column:93}},15:{start:{line:53,column:4},end:{line:55,column:5}},16:{start:{line:54,column:6},end:{line:54,column:47}},17:{start:{line:57,column:4},end:{line:57,column:15}},18:{start:{line:61,column:2},end:{line:70,column:4}},19:{start:{line:74,column:15},end:{line:74,column:19}},20:{start:{line:77,column:4},end:{line:77,column:17}},21:{start:{line:78,column:4},end:{line:78,column:45}},22:{start:{line:79,column:4},end:{line:79,column:38}},23:{start:{line:80,column:4},end:{line:114,column:6}},24:{start:{line:115,column:4},end:{line:117,column:7}},25:{start:{line:116,column:35},end:{line:116,column:69}},26:{start:{line:119,column:31},end:{line:192,column:3}},27:{start:{line:120,column:22},end:{line:177,column:5}},28:{start:{line:124,column:10},end:{line:124,column:40}},29:{start:{line:130,column:10},end:{line:130,column:35}},30:{start:{line:136,column:10},end:{line:136,column:37}},31:{start:{line:142,column:10},end:{line:142,column:38}},32:{start:{line:148,column:10},end:{line:148,column:39}},33:{start:{line:154,column:10},end:{line:154,column:42}},34:{start:{line:160,column:10},end:{line:162,column:12}},35:{start:{line:168,column:10},end:{line:168,column:63}},36:{start:{line:174,column:10},end:{line:174,column:36}},37:{start:{line:178,column:4},end:{line:191,column:7}},38:{start:{line:179,column:6},end:{line:190,column:7}},39:{start:{line:180,column:8},end:{line:180,column:24}},40:{start:{line:181,column:8},end:{line:181,column:30}},41:{start:{line:182,column:13},end:{line:190,column:7}},42:{start:{line:183,column:25},end:{line:185,column:10}},43:{start:{line:184,column:10},end:{line:184,column:41}},44:{start:{line:186,column:8},end:{line:189,column:9}},45:{start:{line:187,column:10},end:{line:187,column:44}},46:{start:{line:188,column:10},end:{line:188,column:29}},47:{start:{line:193,column:19},end:{line:211,column:3}},48:{start:{line:194,column:4},end:{line:210,column:5}},49:{start:{line:195,column:6},end:{line:201,column:7}},50:{start:{line:196,column:8},end:{line:196,column:27}},51:{start:{line:197,column:8},end:{line:197,column:22}},52:{start:{line:198,column:13},end:{line:201,column:7}},53:{start:{line:199,column:8},end:{line:199,column:27}},54:{start:{line:200,column:8},end:{line:200,column:22}},55:{start:{line:203,column:6},end:{line:209,column:7}},56:{start:{line:204,column:8},end:{line:204,column:27}},57:{start:{line:205,column:8},end:{line:205,column:22}},58:{start:{line:206,column:13},end:{line:209,column:7}},59:{start:{line:207,column:8},end:{line:207,column:27}},60:{start:{line:208,column:8},end:{line:208,column:22}},61:{start:{line:213,column:4},end:{line:213,column:102}},62:{start:{line:213,column:65},end:{line:213,column:100}},63:{start:{line:214,column:4},end:{line:214,column:60}},64:{start:{line:217,column:4},end:{line:217,column:63}},65:{start:{line:220,column:4},end:{line:220,column:41}},66:{start:{line:223,column:21},end:{line:223,column:55}},67:{start:{line:224,column:24},end:{line:224,column:93}},68:{start:{line:225,column:21},end:{line:225,column:110}},69:{start:{line:226,column:4},end:{line:228,column:7}},70:{start:{line:227,column:6},end:{line:227,column:80}},71:{start:{line:231,column:4},end:{line:233,column:7}},72:{start:{line:232,column:6},end:{line:232,column:80}},73:{start:{line:235,column:29},end:{line:249,column:3}},74:{start:{line:236,column:4},end:{line:240,column:5}},75:{start:{line:237,column:6},end:{line:239,column:9}},76:{start:{line:241,column:25},end:{line:247,column:5}},77:{start:{line:248,column:4},end:{line:248,column:38}},78:{start:{line:250,column:19},end:{line:373,column:3}},79:{start:{line:251,column:4},end:{line:256,column:6}},80:{start:{line:257,column:4},end:{line:259,column:5}},81:{start:{line:258,column:6},end:{line:258,column:71}},82:{start:{line:260,column:4},end:{line:262,column:5}},83:{start:{line:261,column:6},end:{line:261,column:71}},84:{start:{line:263,column:4},end:{line:267,column:5}},85:{start:{line:264,column:6},end:{line:266,column:7}},86:{start:{line:265,column:8},end:{line:265,column:63}},87:{start:{line:268,column:4},end:{line:270,column:5}},88:{start:{line:269,column:6},end:{line:269,column:44}},89:{start:{line:271,column:19},end:{line:271,column:51}},90:{start:{line:272,column:24},end:{line:272,column:26}},91:{start:{line:273,column:4},end:{line:284,column:5}},92:{start:{line:274,column:26},end:{line:274,column:42}},93:{start:{line:275,column:6},end:{line:283,column:9}},94:{start:{line:276,column:8},end:{line:281,column:9}},95:{start:{line:277,column:24},end:{line:279,column:11}},96:{start:{line:280,column:10},end:{line:280,column:34}},97:{start:{line:282,column:8},end:{line:282,column:40}},98:{start:{line:285,column:25},end:{line:336,column:6}},99:{start:{line:286,column:23},end:{line:286,column:109}},100:{start:{line:287,column:6},end:{line:300,column:7}},101:{start:{line:288,column:35},end:{line:288,column:43}},102:{start:{line:289,column:8},end:{line:299,column:10}},103:{start:{line:301,column:33},end:{line:301,column:100}},104:{start:{line:302,column:6},end:{line:315,column:7}},105:{start:{line:303,column:35},end:{line:303,column:53}},106:{start:{line:304,column:8},end:{line:314,column:10}},107:{start:{line:316,column:25},end:{line:316,column:88}},108:{start:{line:317,column:6},end:{line:335,column:7}},109:{start:{line:318,column:52},end:{line:318,column:62}},110:{start:{line:319,column:20},end:{line:319,column:78}},111:{start:{line:320,column:8},end:{line:330,column:10}},112:{start:{line:332,column:8},end:{line:334,column:10}},113:{start:{line:337,column:24},end:{line:337,column:30}},114:{start:{line:338,column:4},end:{line:352,column:5}},115:{start:{line:339,column:6},end:{line:339,column:42}},116:{start:{line:340,column:6},end:{line:351,column:7}},117:{start:{line:341,column:28},end:{line:341,column:33}},118:{start:{line:342,column:8},end:{line:350,column:9}},119:{start:{line:343,column:10},end:{line:349,column:11}},120:{start:{line:344,column:28},end:{line:344,column:49}},121:{start:{line:345,column:30},end:{line:345,column:69}},122:{start:{line:346,column:12},end:{line:346,column:44}},123:{start:{line:348,column:12},end:{line:348,column:46}},124:{start:{line:353,column:4},end:{line:355,column:5}},125:{start:{line:354,column:6},end:{line:354,column:40}},126:{start:{line:356,column:4},end:{line:358,column:5}},127:{start:{line:357,column:6},end:{line:357,column:40}},128:{start:{line:359,column:4},end:{line:361,column:5}},129:{start:{line:360,column:6},end:{line:360,column:47}},130:{start:{line:362,column:4},end:{line:364,column:5}},131:{start:{line:363,column:6},end:{line:363,column:31}},132:{start:{line:365,column:4},end:{line:372,column:7}},133:{start:{line:370,column:6},end:{line:370,column:26}},134:{start:{line:371,column:6},end:{line:371,column:27}},135:{start:{line:374,column:11},end:{line:381,column:3}},136:{start:{line:375,column:24},end:{line:375,column:49}},137:{start:{line:376,column:21},end:{line:376,column:67}},138:{start:{line:377,column:4},end:{line:377,column:61}},139:{start:{line:378,column:4},end:{line:380,column:7}},140:{start:{line:382,column:11},end:{line:389,column:3}},141:{start:{line:383,column:24},end:{line:383,column:49}},142:{start:{line:384,column:21},end:{line:384,column:67}},143:{start:{line:385,column:4},end:{line:385,column:61}},144:{start:{line:386,column:4},end:{line:388,column:7}},145:{start:{line:390,column:16},end:{line:404,column:3}},146:{start:{line:391,column:33},end:{line:391,column:37}},147:{start:{line:392,column:17},end:{line:392,column:43}},148:{start:{line:393,column:4},end:{line:393,column:53}},149:{start:{line:394,column:4},end:{line:394,column:53}},150:{start:{line:395,column:4},end:{line:395,column:38}},151:{start:{line:395,column:31},end:{line:395,column:38}},152:{start:{line:396,column:4},end:{line:400,column:5}},153:{start:{line:397,column:6},end:{line:399,column:9}},154:{start:{line:401,column:4},end:{line:401,column:29}},155:{start:{line:402,column:4},end:{line:402,column:49}},156:{start:{line:403,column:4},end:{line:403,column:32}},157:{start:{line:405,column:19},end:{line:411,column:3}},158:{start:{line:406,column:25},end:{line:409,column:5}},159:{start:{line:410,column:4},end:{line:410,column:38}},160:{start:{line:412,column:19},end:{line:417,column:3}},161:{start:{line:413,column:19},end:{line:413,column:45}},162:{start:{line:414,column:28},end:{line:414,column:43}},163:{start:{line:415,column:4},end:{line:415,column:37}},164:{start:{line:416,column:4},end:{line:416,column:41}},165:{start:{line:418,column:16},end:{line:425,column:3}},166:{start:{line:419,column:19},end:{line:419,column:45}},167:{start:{line:420,column:26},end:{line:420,column:41}},168:{start:{line:421,column:24},end:{line:421,column:55}},169:{start:{line:422,column:4},end:{line:422,column:46}},170:{start:{line:423,column:4},end:{line:423,column:48}},171:{start:{line:424,column:4},end:{line:424,column:39}},172:{start:{line:426,column:28},end:{line:435,column:3}},173:{start:{line:427,column:19},end:{line:427,column:45}},174:{start:{line:428,column:26},end:{line:428,column:41}},175:{start:{line:429,column:18},end:{line:429,column:45}},176:{start:{line:430,column:26},end:{line:430,column:70}},177:{start:{line:431,column:4},end:{line:431,column:88}},178:{start:{line:432,column:4},end:{line:432,column:33}},179:{start:{line:433,column:4},end:{line:433,column:33}},180:{start:{line:434,column:4},end:{line:434,column:39}},181:{start:{line:436,column:20},end:{line:443,column:3}},182:{start:{line:437,column:26},end:{line:437,column:61}},183:{start:{line:438,column:4},end:{line:441,column:6}},184:{start:{line:442,column:4},end:{line:442,column:39}},185:{start:{line:444,column:19},end:{line:448,column:3}},186:{start:{line:445,column:26},end:{line:445,column:61}},187:{start:{line:446,column:4},end:{line:446,column:33}},188:{start:{line:447,column:4},end:{line:447,column:39}},189:{start:{line:449,column:16},end:{line:453,column:3}},190:{start:{line:450,column:4},end:{line:452,column:27}},191:{start:{line:454,column:21},end:{line:468,column:3}},192:{start:{line:455,column:21},end:{line:455,column:44}},193:{start:{line:456,column:4},end:{line:467,column:5}},194:{start:{line:457,column:27},end:{line:463,column:7}},195:{start:{line:464,column:6},end:{line:464,column:26}},196:{start:{line:466,column:6},end:{line:466,column:22}},197:{start:{line:469,column:14},end:{line:473,column:3}},198:{start:{line:470,column:4},end:{line:470,column:34}},199:{start:{line:471,column:4},end:{line:471,column:47}},200:{start:{line:472,column:4},end:{line:472,column:34}},201:{start:{line:475,column:23},end:{line:475,column:25}},202:{start:{line:476,column:4},end:{line:515,column:5}},203:{start:{line:477,column:21},end:{line:477,column:53}},204:{start:{line:478,column:6},end:{line:514,column:7}},205:{start:{line:479,column:8},end:{line:479,column:93}},206:{start:{line:480,column:8},end:{line:482,column:9}},207:{start:{line:481,column:10},end:{line:481,column:38}},208:{start:{line:484,column:8},end:{line:487,column:10}},209:{start:{line:488,column:18},end:{line:488,column:28}},210:{start:{line:489,column:8},end:{line:493,column:9}},211:{start:{line:490,column:10},end:{line:490,column:62}},212:{start:{line:492,column:10},end:{line:492,column:63}},213:{start:{line:494,column:32},end:{line:501,column:9}},214:{start:{line:495,column:10},end:{line:497,column:11}},215:{start:{line:496,column:12},end:{line:496,column:19}},216:{start:{line:498,column:10},end:{line:500,column:11}},217:{start:{line:499,column:12},end:{line:499,column:50}},218:{start:{line:502,column:8},end:{line:513,column:9}},219:{start:{line:503,column:10},end:{line:510,column:11}},220:{start:{line:504,column:25},end:{line:504,column:77}},221:{start:{line:505,column:12},end:{line:505,column:34}},222:{start:{line:507,column:29},end:{line:507,column:63}},223:{start:{line:508,column:25},end:{line:508,column:46}},224:{start:{line:509,column:12},end:{line:509,column:34}},225:{start:{line:512,column:10},end:{line:512,column:78}},226:{start:{line:516,column:4},end:{line:521,column:5}},227:{start:{line:517,column:6},end:{line:517,column:51}},228:{start:{line:518,column:6},end:{line:520,column:9}},229:{start:{line:524,column:21},end:{line:524,column:55}},230:{start:{line:525,column:4},end:{line:525,column:53}},231:{start:{line:527,column:16},end:{line:531,column:3}},232:{start:{line:528,column:4},end:{line:530,column:7}},233:{start:{line:533,column:40},end:{line:533,column:50}},234:{start:{line:534,column:21},end:{line:545,column:5}},235:{start:{line:537,column:8},end:{line:539,column:11}},236:{start:{line:542,column:8},end:{line:542,column:44}},237:{start:{line:543,column:8},end:{line:543,column:28}},238:{start:{line:546,column:21},end:{line:546,column:40}},239:{start:{line:548,column:4},end:{line:570,column:5}},240:{start:{line:549,column:6},end:{line:557,column:8}},241:{start:{line:555,column:38},end:{line:555,column:66}},242:{start:{line:559,column:6},end:{line:569,column:8}},243:{start:{line:572,column:4},end:{line:574,column:5}},244:{start:{line:573,column:6},end:{line:573,column:63}},245:{start:{line:575,column:25},end:{line:575,column:27}},246:{start:{line:576,column:4},end:{line:578,column:5}},247:{start:{line:577,column:6},end:{line:577,column:52}},248:{start:{line:579,column:4},end:{line:579,column:160}},249:{start:{line:581,column:18},end:{line:599,column:3}},250:{start:{line:582,column:43},end:{line:582,column:53}},251:{start:{line:583,column:35},end:{line:583,column:45}},252:{start:{line:584,column:16},end:{line:584,column:38}},253:{start:{line:585,column:20},end:{line:585,column:50}},254:{start:{line:586,column:4},end:{line:586,column:70}},255:{start:{line:587,column:23},end:{line:587,column:122}},256:{start:{line:587,column:66},end:{line:587,column:91}},257:{start:{line:587,column:109},end:{line:587,column:121}},258:{start:{line:588,column:4},end:{line:592,column:5}},259:{start:{line:589,column:6},end:{line:589,column:58}},260:{start:{line:591,column:6},end:{line:591,column:39}},261:{start:{line:593,column:4},end:{line:597,column:5}},262:{start:{line:594,column:6},end:{line:594,column:38}},263:{start:{line:595,column:11},end:{line:597,column:5}},264:{start:{line:596,column:6},end:{line:596,column:46}},265:{start:{line:598,column:4},end:{line:598,column:71}},266:{start:{line:600,column:27},end:{line:645,column:3}},267:{start:{line:601,column:16},end:{line:601,column:38}},268:{start:{line:602,column:23},end:{line:602,column:52}},269:{start:{line:603,column:4},end:{line:615,column:5}},270:{start:{line:604,column:21},end:{line:604,column:42}},271:{start:{line:605,column:23},end:{line:605,column:25}},272:{start:{line:606,column:6},end:{line:608,column:9}},273:{start:{line:607,column:8},end:{line:607,column:35}},274:{start:{line:609,column:6},end:{line:614,column:9}},275:{start:{line:616,column:17},end:{line:616,column:45}},276:{start:{line:617,column:4},end:{line:619,column:5}},277:{start:{line:618,column:6},end:{line:618,column:29}},278:{start:{line:620,column:17},end:{line:620,column:46}},279:{start:{line:621,column:4},end:{line:644,column:5}},280:{start:{line:622,column:6},end:{line:643,column:7}},281:{start:{line:623,column:22},end:{line:623,column:37}},282:{start:{line:624,column:46},end:{line:627,column:9}},283:{start:{line:628,column:20},end:{line:628,column:24}},284:{start:{line:629,column:8},end:{line:634,column:9}},285:{start:{line:630,column:33},end:{line:630,column:63}},286:{start:{line:631,column:10},end:{line:633,column:11}},287:{start:{line:632,column:12},end:{line:632,column:26}},288:{start:{line:635,column:8},end:{line:640,column:9}},289:{start:{line:636,column:10},end:{line:639,column:13}},290:{start:{line:642,column:8},end:{line:642,column:26}},291:{start:{line:646,column:18},end:{line:651,column:3}},292:{start:{line:647,column:4},end:{line:650,column:27}},293:{start:{line:653,column:4},end:{line:658,column:27}},294:{start:{line:661,column:4},end:{line:661,column:60}},295:{start:{line:663,column:20},end:{line:665,column:3}},296:{start:{line:664,column:4},end:{line:664,column:34}},297:{start:{line:666,column:28},end:{line:673,column:3}},298:{start:{line:667,column:4},end:{line:672,column:7}},299:{start:{line:674,column:28},end:{line:681,column:3}},300:{start:{line:675,column:4},end:{line:680,column:7}},301:{start:{line:683,column:19},end:{line:683,column:51}},302:{start:{line:684,column:26},end:{line:684,column:92}},303:{start:{line:685,column:36},end:{line:698,column:5}},304:{start:{line:699,column:38},end:{line:713,column:5}},305:{start:{line:714,column:24},end:{line:733,column:14}},306:{start:{line:734,column:24},end:{line:744,column:14}},307:{start:{line:745,column:35},end:{line:814,column:8}},308:{start:{line:755,column:30},end:{line:755,column:55}},309:{start:{line:763,column:30},end:{line:763,column:59}},310:{start:{line:773,column:30},end:{line:773,column:58}},311:{start:{line:782,column:30},end:{line:782,column:56}},312:{start:{line:792,column:30},end:{line:792,column:54}},313:{start:{line:802,column:30},end:{line:802,column:57}},314:{start:{line:811,column:30},end:{line:811,column:61}},315:{start:{line:815,column:4},end:{line:825,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:36,column:9},end:{line:36,column:28}},loc:{start:{line:36,column:44},end:{line:59,column:1}},line:36},1:{name:"updateRootSpec",decl:{start:{line:60,column:9},end:{line:60,column:23}},loc:{start:{line:60,column:52},end:{line:71,column:1}},line:60},2:{name:"(anonymous_2)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:21},end:{line:118,column:3}},line:76},3:{name:"(anonymous_3)",decl:{start:{line:116,column:28},end:{line:116,column:29}},loc:{start:{line:116,column:35},end:{line:116,column:69}},line:116},4:{name:"(anonymous_4)",decl:{start:{line:119,column:31},end:{line:119,column:32}},loc:{start:{line:119,column:37},end:{line:192,column:3}},line:119},5:{name:"(anonymous_5)",decl:{start:{line:123,column:17},end:{line:123,column:18}},loc:{start:{line:123,column:23},end:{line:125,column:9}},line:123},6:{name:"(anonymous_6)",decl:{start:{line:129,column:17},end:{line:129,column:18}},loc:{start:{line:129,column:23},end:{line:131,column:9}},line:129},7:{name:"(anonymous_7)",decl:{start:{line:135,column:17},end:{line:135,column:18}},loc:{start:{line:135,column:23},end:{line:137,column:9}},line:135},8:{name:"(anonymous_8)",decl:{start:{line:141,column:17},end:{line:141,column:18}},loc:{start:{line:141,column:23},end:{line:143,column:9}},line:141},9:{name:"(anonymous_9)",decl:{start:{line:147,column:17},end:{line:147,column:18}},loc:{start:{line:147,column:23},end:{line:149,column:9}},line:147},10:{name:"(anonymous_10)",decl:{start:{line:153,column:17},end:{line:153,column:18}},loc:{start:{line:153,column:23},end:{line:155,column:9}},line:153},11:{name:"(anonymous_11)",decl:{start:{line:159,column:17},end:{line:159,column:18}},loc:{start:{line:159,column:23},end:{line:163,column:9}},line:159},12:{name:"(anonymous_12)",decl:{start:{line:167,column:17},end:{line:167,column:18}},loc:{start:{line:167,column:23},end:{line:169,column:9}},line:167},13:{name:"(anonymous_13)",decl:{start:{line:173,column:17},end:{line:173,column:18}},loc:{start:{line:173,column:23},end:{line:175,column:9}},line:173},14:{name:"(anonymous_14)",decl:{start:{line:178,column:44},end:{line:178,column:45}},loc:{start:{line:178,column:51},end:{line:191,column:5}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:183,column:40},end:{line:183,column:41}},loc:{start:{line:183,column:55},end:{line:185,column:9}},line:183},16:{name:"(anonymous_16)",decl:{start:{line:193,column:19},end:{line:193,column:20}},loc:{start:{line:193,column:26},end:{line:211,column:3}},line:193},17:{name:"(anonymous_17)",decl:{start:{line:212,column:2},end:{line:212,column:3}},loc:{start:{line:212,column:28},end:{line:215,column:3}},line:212},18:{name:"(anonymous_18)",decl:{start:{line:213,column:45},end:{line:213,column:46}},loc:{start:{line:213,column:65},end:{line:213,column:100}},line:213},19:{name:"(anonymous_19)",decl:{start:{line:216,column:2},end:{line:216,column:3}},loc:{start:{line:216,column:25},end:{line:218,column:3}},line:216},20:{name:"(anonymous_20)",decl:{start:{line:219,column:2},end:{line:219,column:3}},loc:{start:{line:219,column:27},end:{line:221,column:3}},line:219},21:{name:"(anonymous_21)",decl:{start:{line:222,column:2},end:{line:222,column:3}},loc:{start:{line:222,column:27},end:{line:229,column:3}},line:222},22:{name:"(anonymous_22)",decl:{start:{line:226,column:37},end:{line:226,column:38}},loc:{start:{line:226,column:48},end:{line:228,column:5}},line:226},23:{name:"(anonymous_23)",decl:{start:{line:230,column:2},end:{line:230,column:3}},loc:{start:{line:230,column:23},end:{line:234,column:3}},line:230},24:{name:"(anonymous_24)",decl:{start:{line:231,column:36},end:{line:231,column:37}},loc:{start:{line:231,column:47},end:{line:233,column:5}},line:231},25:{name:"(anonymous_25)",decl:{start:{line:235,column:29},end:{line:235,column:30}},loc:{start:{line:235,column:50},end:{line:249,column:3}},line:235},26:{name:"(anonymous_26)",decl:{start:{line:250,column:19},end:{line:250,column:20}},loc:{start:{line:250,column:44},end:{line:373,column:3}},line:250},27:{name:"(anonymous_27)",decl:{start:{line:275,column:30},end:{line:275,column:31}},loc:{start:{line:275,column:48},end:{line:283,column:7}},line:275},28:{name:"(anonymous_28)",decl:{start:{line:285,column:56},end:{line:285,column:57}},loc:{start:{line:285,column:67},end:{line:336,column:5}},line:285},29:{name:"(anonymous_29)",decl:{start:{line:369,column:7},end:{line:369,column:8}},loc:{start:{line:369,column:13},end:{line:372,column:5}},line:369},30:{name:"(anonymous_30)",decl:{start:{line:374,column:11},end:{line:374,column:12}},loc:{start:{line:374,column:17},end:{line:381,column:3}},line:374},31:{name:"(anonymous_31)",decl:{start:{line:382,column:11},end:{line:382,column:12}},loc:{start:{line:382,column:17},end:{line:389,column:3}},line:382},32:{name:"(anonymous_32)",decl:{start:{line:390,column:16},end:{line:390,column:17}},loc:{start:{line:390,column:26},end:{line:404,column:3}},line:390},33:{name:"(anonymous_33)",decl:{start:{line:405,column:19},end:{line:405,column:20}},loc:{start:{line:405,column:38},end:{line:411,column:3}},line:405},34:{name:"(anonymous_34)",decl:{start:{line:412,column:19},end:{line:412,column:20}},loc:{start:{line:412,column:30},end:{line:417,column:3}},line:412},35:{name:"(anonymous_35)",decl:{start:{line:418,column:16},end:{line:418,column:17}},loc:{start:{line:418,column:27},end:{line:425,column:3}},line:418},36:{name:"(anonymous_36)",decl:{start:{line:426,column:28},end:{line:426,column:29}},loc:{start:{line:426,column:39},end:{line:435,column:3}},line:426},37:{name:"(anonymous_37)",decl:{start:{line:436,column:20},end:{line:436,column:21}},loc:{start:{line:436,column:46},end:{line:443,column:3}},line:436},38:{name:"(anonymous_38)",decl:{start:{line:444,column:19},end:{line:444,column:20}},loc:{start:{line:444,column:37},end:{line:448,column:3}},line:444},39:{name:"(anonymous_39)",decl:{start:{line:449,column:16},end:{line:449,column:17}},loc:{start:{line:449,column:30},end:{line:453,column:3}},line:449},40:{name:"(anonymous_40)",decl:{start:{line:454,column:21},end:{line:454,column:22}},loc:{start:{line:454,column:35},end:{line:468,column:3}},line:454},41:{name:"(anonymous_41)",decl:{start:{line:469,column:14},end:{line:469,column:15}},loc:{start:{line:469,column:40},end:{line:473,column:3}},line:469},42:{name:"(anonymous_42)",decl:{start:{line:474,column:2},end:{line:474,column:3}},loc:{start:{line:474,column:23},end:{line:522,column:3}},line:474},43:{name:"(anonymous_43)",decl:{start:{line:494,column:32},end:{line:494,column:33}},loc:{start:{line:494,column:42},end:{line:501,column:9}},line:494},44:{name:"(anonymous_44)",decl:{start:{line:523,column:2},end:{line:523,column:3}},loc:{start:{line:523,column:17},end:{line:526,column:3}},line:523},45:{name:"(anonymous_45)",decl:{start:{line:527,column:16},end:{line:527,column:17}},loc:{start:{line:527,column:29},end:{line:531,column:3}},line:527},46:{name:"(anonymous_46)",decl:{start:{line:532,column:2},end:{line:532,column:3}},loc:{start:{line:532,column:16},end:{line:580,column:3}},line:532},47:{name:"(anonymous_47)",decl:{start:{line:536,column:27},end:{line:536,column:28}},loc:{start:{line:536,column:42},end:{line:540,column:7}},line:536},48:{name:"(anonymous_48)",decl:{start:{line:541,column:20},end:{line:541,column:21}},loc:{start:{line:541,column:27},end:{line:544,column:7}},line:541},49:{name:"(anonymous_49)",decl:{start:{line:555,column:25},end:{line:555,column:26}},loc:{start:{line:555,column:38},end:{line:555,column:66}},line:555},50:{name:"(anonymous_50)",decl:{start:{line:581,column:18},end:{line:581,column:19}},loc:{start:{line:581,column:24},end:{line:599,column:3}},line:581},51:{name:"(anonymous_51)",decl:{start:{line:587,column:50},end:{line:587,column:51}},loc:{start:{line:587,column:66},end:{line:587,column:91}},line:587},52:{name:"(anonymous_52)",decl:{start:{line:587,column:100},end:{line:587,column:101}},loc:{start:{line:587,column:109},end:{line:587,column:121}},line:587},53:{name:"(anonymous_53)",decl:{start:{line:600,column:27},end:{line:600,column:28}},loc:{start:{line:600,column:41},end:{line:645,column:3}},line:600},54:{name:"(anonymous_54)",decl:{start:{line:606,column:21},end:{line:606,column:22}},loc:{start:{line:606,column:36},end:{line:608,column:7}},line:606},55:{name:"(anonymous_55)",decl:{start:{line:646,column:18},end:{line:646,column:19}},loc:{start:{line:646,column:29},end:{line:651,column:3}},line:646},56:{name:"(anonymous_56)",decl:{start:{line:652,column:2},end:{line:652,column:3}},loc:{start:{line:652,column:29},end:{line:659,column:3}},line:652},57:{name:"(anonymous_57)",decl:{start:{line:660,column:2},end:{line:660,column:3}},loc:{start:{line:660,column:25},end:{line:662,column:3}},line:660},58:{name:"(anonymous_58)",decl:{start:{line:663,column:20},end:{line:663,column:21}},loc:{start:{line:663,column:36},end:{line:665,column:3}},line:663},59:{name:"(anonymous_59)",decl:{start:{line:666,column:28},end:{line:666,column:29}},loc:{start:{line:666,column:44},end:{line:673,column:3}},line:666},60:{name:"(anonymous_60)",decl:{start:{line:674,column:28},end:{line:674,column:29}},loc:{start:{line:674,column:44},end:{line:681,column:3}},line:674},61:{name:"(anonymous_61)",decl:{start:{line:682,column:2},end:{line:682,column:3}},loc:{start:{line:682,column:11},end:{line:826,column:3}},line:682},62:{name:"(anonymous_62)",decl:{start:{line:755,column:24},end:{line:755,column:25}},loc:{start:{line:755,column:30},end:{line:755,column:55}},line:755},63:{name:"(anonymous_63)",decl:{start:{line:763,column:24},end:{line:763,column:25}},loc:{start:{line:763,column:30},end:{line:763,column:59}},line:763},64:{name:"(anonymous_64)",decl:{start:{line:773,column:24},end:{line:773,column:25}},loc:{start:{line:773,column:30},end:{line:773,column:58}},line:773},65:{name:"(anonymous_65)",decl:{start:{line:782,column:24},end:{line:782,column:25}},loc:{start:{line:782,column:30},end:{line:782,column:56}},line:782},66:{name:"(anonymous_66)",decl:{start:{line:792,column:24},end:{line:792,column:25}},loc:{start:{line:792,column:30},end:{line:792,column:54}},line:792},67:{name:"(anonymous_67)",decl:{start:{line:802,column:24},end:{line:802,column:25}},loc:{start:{line:802,column:30},end:{line:802,column:57}},line:802},68:{name:"(anonymous_68)",decl:{start:{line:811,column:24},end:{line:811,column:25}},loc:{start:{line:811,column:30},end:{line:811,column:61}},line:811}},branchMap:{0:{loc:{start:{line:41,column:2},end:{line:58,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:58,column:3}},{start:{line:46,column:9},end:{line:58,column:3}}],line:41},1:{loc:{start:{line:41,column:6},end:{line:41,column:43}},type:"binary-expr",locations:[{start:{line:41,column:6},end:{line:41,column:24}},{start:{line:41,column:28},end:{line:41,column:43}}],line:41},2:{loc:{start:{line:43,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:45,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},3:{loc:{start:{line:46,column:9},end:{line:58,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:58,column:3}},{start:{line:51,column:9},end:{line:58,column:3}}],line:46},4:{loc:{start:{line:48,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:51,column:9},end:{line:58,column:3}},type:"if",locations:[{start:{line:51,column:9},end:{line:58,column:3}},{start:{line:56,column:9},end:{line:58,column:3}}],line:51},6:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},7:{loc:{start:{line:161,column:12},end:{line:161,column:61}},type:"cond-expr",locations:[{start:{line:161,column:44},end:{line:161,column:53}},{start:{line:161,column:56},end:{line:161,column:61}}],line:161},8:{loc:{start:{line:179,column:6},end:{line:190,column:7}},type:"if",locations:[{start:{line:179,column:6},end:{line:190,column:7}},{start:{line:182,column:13},end:{line:190,column:7}}],line:179},9:{loc:{start:{line:182,column:13},end:{line:190,column:7}},type:"if",locations:[{start:{line:182,column:13},end:{line:190,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:182},10:{loc:{start:{line:182,column:17},end:{line:182,column:88}},type:"binary-expr",locations:[{start:{line:182,column:17},end:{line:182,column:44}},{start:{line:182,column:48},end:{line:182,column:88}}],line:182},11:{loc:{start:{line:186,column:8},end:{line:189,column:9}},type:"if",locations:[{start:{line:186,column:8},end:{line:189,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:186},12:{loc:{start:{line:194,column:4},end:{line:210,column:5}},type:"if",locations:[{start:{line:194,column:4},end:{line:210,column:5}},{start:{line:202,column:11},end:{line:210,column:5}}],line:194},13:{loc:{start:{line:195,column:6},end:{line:201,column:7}},type:"if",locations:[{start:{line:195,column:6},end:{line:201,column:7}},{start:{line:198,column:13},end:{line:201,column:7}}],line:195},14:{loc:{start:{line:195,column:10},end:{line:195,column:53}},type:"binary-expr",locations:[{start:{line:195,column:10},end:{line:195,column:19}},{start:{line:195,column:23},end:{line:195,column:33}},{start:{line:195,column:37},end:{line:195,column:53}}],line:195},15:{loc:{start:{line:198,column:13},end:{line:201,column:7}},type:"if",locations:[{start:{line:198,column:13},end:{line:201,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:198},16:{loc:{start:{line:198,column:17},end:{line:198,column:46}},type:"binary-expr",locations:[{start:{line:198,column:17},end:{line:198,column:26}},{start:{line:198,column:30},end:{line:198,column:46}}],line:198},17:{loc:{start:{line:203,column:6},end:{line:209,column:7}},type:"if",locations:[{start:{line:203,column:6},end:{line:209,column:7}},{start:{line:206,column:13},end:{line:209,column:7}}],line:203},18:{loc:{start:{line:203,column:10},end:{line:203,column:39}},type:"binary-expr",locations:[{start:{line:203,column:10},end:{line:203,column:19}},{start:{line:203,column:23},end:{line:203,column:39}}],line:203},19:{loc:{start:{line:206,column:13},end:{line:209,column:7}},type:"if",locations:[{start:{line:206,column:13},end:{line:209,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:206},20:{loc:{start:{line:206,column:17},end:{line:206,column:46}},type:"binary-expr",locations:[{start:{line:206,column:17},end:{line:206,column:26}},{start:{line:206,column:30},end:{line:206,column:46}}],line:206},21:{loc:{start:{line:223,column:21},end:{line:223,column:55}},type:"binary-expr",locations:[{start:{line:223,column:21},end:{line:223,column:49}},{start:{line:223,column:53},end:{line:223,column:55}}],line:223},22:{loc:{start:{line:224,column:24},end:{line:224,column:93}},type:"binary-expr",locations:[{start:{line:224,column:24},end:{line:224,column:70}},{start:{line:224,column:74},end:{line:224,column:93}}],line:224},23:{loc:{start:{line:225,column:21},end:{line:225,column:110}},type:"cond-expr",locations:[{start:{line:225,column:55},end:{line:225,column:96}},{start:{line:225,column:99},end:{line:225,column:110}}],line:225},24:{loc:{start:{line:236,column:4},end:{line:240,column:5}},type:"if",locations:[{start:{line:236,column:4},end:{line:240,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:236},25:{loc:{start:{line:236,column:8},end:{line:236,column:123}},type:"binary-expr",locations:[{start:{line:236,column:8},end:{line:236,column:40}},{start:{line:236,column:44},end:{line:236,column:123}}],line:236},26:{loc:{start:{line:250,column:30},end:{line:250,column:39}},type:"default-arg",locations:[{start:{line:250,column:37},end:{line:250,column:39}}],line:250},27:{loc:{start:{line:257,column:4},end:{line:259,column:5}},type:"if",locations:[{start:{line:257,column:4},end:{line:259,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:257},28:{loc:{start:{line:257,column:8},end:{line:257,column:62}},type:"binary-expr",locations:[{start:{line:257,column:8},end:{line:257,column:23}},{start:{line:257,column:27},end:{line:257,column:62}}],line:257},29:{loc:{start:{line:260,column:4},end:{line:262,column:5}},type:"if",locations:[{start:{line:260,column:4},end:{line:262,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:260},30:{loc:{start:{line:260,column:8},end:{line:260,column:62}},type:"binary-expr",locations:[{start:{line:260,column:8},end:{line:260,column:23}},{start:{line:260,column:27},end:{line:260,column:62}}],line:260},31:{loc:{start:{line:264,column:6},end:{line:266,column:7}},type:"if",locations:[{start:{line:264,column:6},end:{line:266,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:264},32:{loc:{start:{line:264,column:10},end:{line:264,column:69}},type:"binary-expr",locations:[{start:{line:264,column:10},end:{line:264,column:16}},{start:{line:264,column:20},end:{line:264,column:35}},{start:{line:264,column:39},end:{line:264,column:69}}],line:264},33:{loc:{start:{line:268,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:268,column:4},end:{line:270,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:268},34:{loc:{start:{line:271,column:19},end:{line:271,column:51}},type:"binary-expr",locations:[{start:{line:271,column:19},end:{line:271,column:45}},{start:{line:271,column:49},end:{line:271,column:51}}],line:271},35:{loc:{start:{line:273,column:4},end:{line:284,column:5}},type:"if",locations:[{start:{line:273,column:4},end:{line:284,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:273},36:{loc:{start:{line:273,column:8},end:{line:273,column:35}},type:"binary-expr",locations:[{start:{line:273,column:8},end:{line:273,column:16}},{start:{line:273,column:20},end:{line:273,column:35}}],line:273},37:{loc:{start:{line:276,column:8},end:{line:281,column:9}},type:"if",locations:[{start:{line:276,column:8},end:{line:281,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:276},38:{loc:{start:{line:276,column:12},end:{line:276,column:56}},type:"binary-expr",locations:[{start:{line:276,column:12},end:{line:276,column:27}},{start:{line:276,column:31},end:{line:276,column:56}}],line:276},39:{loc:{start:{line:287,column:6},end:{line:300,column:7}},type:"if",locations:[{start:{line:287,column:6},end:{line:300,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:287},40:{loc:{start:{line:302,column:6},end:{line:315,column:7}},type:"if",locations:[{start:{line:302,column:6},end:{line:315,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:302},41:{loc:{start:{line:317,column:6},end:{line:335,column:7}},type:"if",locations:[{start:{line:317,column:6},end:{line:335,column:7}},{start:{line:331,column:13},end:{line:335,column:7}}],line:317},42:{loc:{start:{line:319,column:20},end:{line:319,column:78}},type:"cond-expr",locations:[{start:{line:319,column:40},end:{line:319,column:67}},{start:{line:319,column:70},end:{line:319,column:78}}],line:319},43:{loc:{start:{line:319,column:20},end:{line:319,column:37}},type:"binary-expr",locations:[{start:{line:319,column:20},end:{line:319,column:25}},{start:{line:319,column:29},end:{line:319,column:37}}],line:319},44:{loc:{start:{line:338,column:4},end:{line:352,column:5}},type:"if",locations:[{start:{line:338,column:4},end:{line:352,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:338},45:{loc:{start:{line:342,column:8},end:{line:350,column:9}},type:"if",locations:[{start:{line:342,column:8},end:{line:350,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:342},46:{loc:{start:{line:353,column:4},end:{line:355,column:5}},type:"if",locations:[{start:{line:353,column:4},end:{line:355,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:353},47:{loc:{start:{line:356,column:4},end:{line:358,column:5}},type:"if",locations:[{start:{line:356,column:4},end:{line:358,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:356},48:{loc:{start:{line:359,column:4},end:{line:361,column:5}},type:"if",locations:[{start:{line:359,column:4},end:{line:361,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:359},49:{loc:{start:{line:362,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:362,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:362},50:{loc:{start:{line:395,column:4},end:{line:395,column:38}},type:"if",locations:[{start:{line:395,column:4},end:{line:395,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:395},51:{loc:{start:{line:396,column:4},end:{line:400,column:5}},type:"if",locations:[{start:{line:396,column:4},end:{line:400,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:396},52:{loc:{start:{line:430,column:26},end:{line:430,column:70}},type:"cond-expr",locations:[{start:{line:430,column:46},end:{line:430,column:65}},{start:{line:430,column:68},end:{line:430,column:70}}],line:430},53:{loc:{start:{line:431,column:31},end:{line:431,column:87}},type:"cond-expr",locations:[{start:{line:431,column:69},end:{line:431,column:78}},{start:{line:431,column:81},end:{line:431,column:87}}],line:431},54:{loc:{start:{line:455,column:21},end:{line:455,column:44}},type:"binary-expr",locations:[{start:{line:455,column:21},end:{line:455,column:38}},{start:{line:455,column:42},end:{line:455,column:44}}],line:455},55:{loc:{start:{line:456,column:4},end:{line:467,column:5}},type:"if",locations:[{start:{line:456,column:4},end:{line:467,column:5}},{start:{line:465,column:11},end:{line:467,column:5}}],line:456},56:{loc:{start:{line:478,column:6},end:{line:514,column:7}},type:"if",locations:[{start:{line:478,column:6},end:{line:514,column:7}},{start:{line:483,column:13},end:{line:514,column:7}}],line:478},57:{loc:{start:{line:478,column:10},end:{line:478,column:56}},type:"binary-expr",locations:[{start:{line:478,column:10},end:{line:478,column:34}},{start:{line:478,column:38},end:{line:478,column:56}}],line:478},58:{loc:{start:{line:479,column:26},end:{line:479,column:92}},type:"binary-expr",locations:[{start:{line:479,column:26},end:{line:479,column:49}},{start:{line:479,column:53},end:{line:479,column:92}}],line:479},59:{loc:{start:{line:480,column:8},end:{line:482,column:9}},type:"if",locations:[{start:{line:480,column:8},end:{line:482,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:480},60:{loc:{start:{line:495,column:10},end:{line:497,column:11}},type:"if",locations:[{start:{line:495,column:10},end:{line:497,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:495},61:{loc:{start:{line:503,column:10},end:{line:510,column:11}},type:"if",locations:[{start:{line:503,column:10},end:{line:510,column:11}},{start:{line:506,column:17},end:{line:510,column:11}}],line:503},62:{loc:{start:{line:516,column:4},end:{line:521,column:5}},type:"if",locations:[{start:{line:516,column:4},end:{line:521,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:516},63:{loc:{start:{line:524,column:21},end:{line:524,column:55}},type:"binary-expr",locations:[{start:{line:524,column:21},end:{line:524,column:49}},{start:{line:524,column:53},end:{line:524,column:55}}],line:524},64:{loc:{start:{line:525,column:11},end:{line:525,column:52}},type:"binary-expr",locations:[{start:{line:525,column:11},end:{line:525,column:40}},{start:{line:525,column:44},end:{line:525,column:52}}],line:525},65:{loc:{start:{line:535,column:16},end:{line:535,column:41}},type:"binary-expr",locations:[{start:{line:535,column:16},end:{line:535,column:29}},{start:{line:535,column:33},end:{line:535,column:41}}],line:535},66:{loc:{start:{line:548,column:4},end:{line:570,column:5}},type:"if",locations:[{start:{line:548,column:4},end:{line:570,column:5}},{start:{line:558,column:11},end:{line:570,column:5}}],line:548},67:{loc:{start:{line:572,column:4},end:{line:574,column:5}},type:"if",locations:[{start:{line:572,column:4},end:{line:574,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:572},68:{loc:{start:{line:576,column:4},end:{line:578,column:5}},type:"if",locations:[{start:{line:576,column:4},end:{line:578,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:576},69:{loc:{start:{line:587,column:66},end:{line:587,column:91}},type:"cond-expr",locations:[{start:{line:587,column:81},end:{line:587,column:84}},{start:{line:587,column:87},end:{line:587,column:91}}],line:587},70:{loc:{start:{line:588,column:4},end:{line:592,column:5}},type:"if",locations:[{start:{line:588,column:4},end:{line:592,column:5}},{start:{line:590,column:11},end:{line:592,column:5}}],line:588},71:{loc:{start:{line:593,column:4},end:{line:597,column:5}},type:"if",locations:[{start:{line:593,column:4},end:{line:597,column:5}},{start:{line:595,column:11},end:{line:597,column:5}}],line:593},72:{loc:{start:{line:595,column:11},end:{line:597,column:5}},type:"if",locations:[{start:{line:595,column:11},end:{line:597,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:595},73:{loc:{start:{line:603,column:4},end:{line:615,column:5}},type:"if",locations:[{start:{line:603,column:4},end:{line:615,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:603},74:{loc:{start:{line:603,column:8},end:{line:603,column:39}},type:"binary-expr",locations:[{start:{line:603,column:8},end:{line:603,column:18}},{start:{line:603,column:22},end:{line:603,column:39}}],line:603},75:{loc:{start:{line:617,column:4},end:{line:619,column:5}},type:"if",locations:[{start:{line:617,column:4},end:{line:619,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:617},76:{loc:{start:{line:617,column:8},end:{line:617,column:27}},type:"binary-expr",locations:[{start:{line:617,column:8},end:{line:617,column:12}},{start:{line:617,column:16},end:{line:617,column:27}}],line:617},77:{loc:{start:{line:621,column:4},end:{line:644,column:5}},type:"if",locations:[{start:{line:621,column:4},end:{line:644,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:621},78:{loc:{start:{line:629,column:8},end:{line:634,column:9}},type:"if",locations:[{start:{line:629,column:8},end:{line:634,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:629},79:{loc:{start:{line:631,column:10},end:{line:633,column:11}},type:"if",locations:[{start:{line:631,column:10},end:{line:633,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:631},80:{loc:{start:{line:635,column:8},end:{line:640,column:9}},type:"if",locations:[{start:{line:635,column:8},end:{line:640,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:635},81:{loc:{start:{line:683,column:19},end:{line:683,column:51}},type:"binary-expr",locations:[{start:{line:683,column:19},end:{line:683,column:45}},{start:{line:683,column:49},end:{line:683,column:51}}],line:683},82:{loc:{start:{line:684,column:26},end:{line:684,column:92}},type:"cond-expr",locations:[{start:{line:684,column:46},end:{line:684,column:83}},{start:{line:684,column:86},end:{line:684,column:92}}],line:684},83:{loc:{start:{line:714,column:24},end:{line:733,column:14}},type:"cond-expr",locations:[{start:{line:714,column:56},end:{line:733,column:5}},{start:{line:733,column:8},end:{line:733,column:14}}],line:714},84:{loc:{start:{line:734,column:24},end:{line:744,column:14}},type:"cond-expr",locations:[{start:{line:734,column:97},end:{line:744,column:5}},{start:{line:744,column:8},end:{line:744,column:14}}],line:734}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,313:0,314:0,315:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAgsBmB,SAAA,KAkNA,YAlNA;AAhsBnB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AACjB,SAAS,eAAe;AAExB,SAAQ,wBAAuB;AAC/B,OAAO,YAAY;AAEnB,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAAmC;AAC1C,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,sBAAsB;AAE7B,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,cAAc,oBAAoB;AAC3C,SAAS,wBAA0C;AACnD,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AAKpB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AACtE,QAAM,qBAAqB,IAAI,MAAM,oBAAoB;AACzD,QAAM,kBAAkB,IAAI,MAAM,iBAAiB;AACnD,QAAM,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,QAAM,oBAAoB,IAAI,MAAM,mBAAmB;AACvD,MAAI,sBAAsB,iBAAiB;AACzC,UAAM,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AAC7B,UAAM,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,mBAAmB;AAC1B,UAAM,cAAc,MAAM,eAAe,cAAc,UAAU,EAAC,eAAe,KAAI,CAAC;AACtF,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AACpE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAoDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA,aAAiC;AAAA,EACjC;AAAA,EAEA,YAAY,OAAY;AACtB,UAAM,KAAK;AAEX,SAAK,gBAAgB,IAAI,cAAc;AACvC,SAAK,2BAA2B;AAEhC,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,aAAa;AAAA,MACf;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,MACA,YAAY;AAAA,IACd;AAEA,SAAK,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAA,MAAK,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,6BAA6B,MAAM;AACjC,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,aAAa;AAAA,QAChC;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC7C,UAAG,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AAC5C,iBAAQA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACX,eAAK,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,MAAM,oBAAoB;AACxB,SAAK,aAAa,MAAM,iBAAiB,CAAC,UAAU,SAAS,KAAK,eAAe,UAAU,IAAI,CAAC;AAChG,WAAO,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACrB,WAAO,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAyC;AACjD,SAAK,YAAY,KAAK,aAAa;AAAA,EACrC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAE7E,UAAM,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAA,UAAS;AACxC,WAAK,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAA,UAAS;AACvC,WAAK,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAEA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAoC,OAAyB,CAAC,MAAY;AAC1F,WAAO;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAKA,QAAI,SAAS,UAAU,OAAO,SAAS,WAAW,UAAU;AAC1D,eAAS,SAAS,oBAAoB,SAAS,QAAQ,QAAQ;AAAA,IACjE;AAEA,QAAI,SAAS,UAAU,OAAO,SAAS,WAAW,UAAU;AAC1D,eAAS,SAAS,oBAAoB,SAAS,QAAQ,QAAQ;AAAA,IACjE;AAEA,eAAW,CAAC,WAAW,MAAM,KAAK,OAAO,QAAQ,SAAS,OAAO,GAAG;AAClE,UAAI,UAAU,SAAS,UAAU,OAAO,OAAO,QAAQ,UAAU;AAC/D,eAAO,MAAM,oBAAoB,OAAO,KAAK,QAAQ;AAAA,MACvD;AAAA,IACF;AAGA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAGjE,UAAM,cAA2C,CAAC;AAClD,QAAI,YAAY,SAAS,QAAQ;AAC/B,YAAM,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACA,oBAAY,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAA,UAAS;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AAC3B,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AAC3B,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AAC5C,cAAM,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AAChE,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACH,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AACpD,QAAI,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,iBAAW,SAAS,QAAQ;AAC1B,cAAM,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACX,cAAI;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,UAAU,MAAM,GAAG;AAAA,UAClC;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AACjD,WAAK,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AACjD,WAAK,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAAQ;AAAA,IACzB;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACb,UAAM,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,UAAM,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAA+C;AAC5D,QAAI,EAAE,UAAU,SAAS,IAAI;AAC7B,QAAI,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa,SAAU;AAE1B,QAAI,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAEA,aAAS,OAAO,MAAM,CAAC;AACvB,qBAAiB,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAClC,UAAM,SAAS,KAAK,MAAM,SAAS;AACnC,UAAM,kBAAkB,OAAO,MAAM,CAAC;AACtC,oBAAgB,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AAC/B,UAAM,SAAS,KAAK,MAAM,SAAS;AACnC,UAAM,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AAClD,gBAAY,KAAK,YAAY,KAAK;AAClC,kBAAc,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AAC3C,UAAM,SAAS,KAAK,MAAM,SAAS;AACnC,UAAM,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AACxC,UAAM,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAuC;AACzD,UAAM,WAAoC,SAAS,YAAY,CAAC;AAChE,QAAG,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACA,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,UAAoC,eAA4C;AAC3F,SAAK,SAAS,EAAC,WAAsB,CAAC;AACtC,eAAW,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,MAAM,eAAe;AACnB,UAAM,aAAwE,CAAC;AAC/E,eAAU,OAAO,OAAO,KAAK,KAAK,MAAM,SAAS,OAAO,GAAG;AACzD,YAAM,SAAS,KAAK,MAAM,SAAS,QAAQ,GAAG;AAC9C,UAAG,OAAO,SAAS,YAAY,EAAE,SAAS,SAAS;AACjD,mBAAW,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,EAAC,GAAG,KAAK,MAAM,SAAS,QAAQ,GAAG,EAAC;AACjF,YAAI,WAAW,GAAG,EAAE,WAAW,QAAW;AACxC,qBAAW,GAAG,EAAE,SAAS,CAAC;AAAA,QAC5B;AAAA,MACF,OAAO;AACL,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,OAAO;AAAA,UACb,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,OAAO;AAEjB,YAAI;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACX,kBAAQ,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,kBAAkB,CAAC,SAAa;AACpC,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAEA,qBAAU,SAAS,KAAK,eAAe;AACrC,uBAAW,GAAG,EAAE,OAAO,KAAK,MAAM,EAAE;AAAA,UACtC;AAAA,QACF;AAEA,YAAI;AACF,cAAI,IAAK,WAAW,YAAY,GAAG;AACjC,kBAAM,OAAO,MAAO,IAAI,QAAQ,IAAK,UAAU,EAAE,CAAC,EAAG,YAAY,EAAE;AACnE,4BAAgB,IAAI;AAAA,UACtB,OAAO;AACL,kBAAM,WAAW,MAAM,MAAM,KAAM,EAAE,MAAM,OAAO,CAAC;AACnD,kBAAM,OAAO,MAAM,SAAS,KAAK;AACjC,4BAAgB,IAAI;AAAA,UACtB;AAAA,QACF,SAAQ,KAAK;AACX,kBAAQ,MAAM,sCAAsC,GAAG,MAAM,GAAG,EAAE;AAAA,QACpE;AAAA,MACF;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,mBAAmB,UAAU;AAC3C,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC1E,WAAO,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AACrD,eAAO,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC/B,aAAK,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEA,UAAM,WAAW,KAAK,aAAa;AAEnC,QAAI;AAGJ,QAAG,aAAa,MAAM;AACpB,mBAAa;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,CAAC,YAAY,KAAK,cAAc,CAAC,OAAO;AAAA,QAAA;AAAA,MACzD;AAAA,IACF,OAAO;AAEL,mBAAa;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEA,QAAI;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACd,mBAAa,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEA,WAAO,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UAAA,WAAA,CACH;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AAC1C,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAE7B,QAAI,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACH,UAAI,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AACtB,UAAI,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC/B,UAAI,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAE/C,QAAI,cAAc,eAAe,IAAI;AACnC,YAAM,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAA,cAAa;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACxC,QAAI,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACR,UAAI;AACF,cAAM,QAAQ,KAAK,MAAM,GAAG;AAC5B,cAAM,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AAC5C,oBAAQ;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AAC5D,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,kBAAkB,CAAC,eAA4C;AAC7D,SAAK,SAAS,EAAE,WAAW,CAAC;AAAA,EAC9B;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AAC9C,UAAM,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEL,UAAM,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGL,UAAM,8BAAU,OAAA,EACd,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,OAAO;AAAA,UAC5C,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,WAAW;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,UAAU;AAAA,QAAA;AAAA,MACjD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,QAAQ;AAAA,UAC7C,YAAY,KAAK,MAAM;AAAA,UACvB,iBAAiB,KAAK;AAAA,QAAA;AAAA,MACxB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,MAAM,KAAK,YAAY,MAAM;AAAA,UAC3C,YAAY,KAAK,MAAM;AAAA,QAAA;AAAA,MACzB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,SAAS;AAAA,QAAA;AAAA,MAChD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,aAAa;AAAA,QAAA;AAAA,MACpD;AAAA,IAAA,EAAA,CACF;AAEA,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"30a01c814a85b39a887418639a2630c3770d5c04"},a=t[i]||(t[i]={});(!a[n]||a[n].hash!==e)&&(a[n]=r);var l=a[n];return Ee=function(){return l},l}Ee();Ee().s[0]++;window.Buffer=kQ.Buffer;function _x(n,e){Ee().f[0]++;const t=(Ee().s[1]++,n.match(/\.tilehosting\.com/)),i=(Ee().s[2]++,n.match(/\.maptiler\.com/)),r=(Ee().s[3]++,n.match(/\.thunderforest\.com/)),a=(Ee().s[4]++,n.match(/\.locationiq\.com/));if(Ee().s[5]++,Ee().b[1][0]++,t||(Ee().b[1][1]++,i)){Ee().b[0][0]++;const l=(Ee().s[6]++,Vd.getAccessToken("openmaptiles",e,{allowFallback:!0}));if(Ee().s[7]++,l)return Ee().b[2][0]++,Ee().s[8]++,n.replace("{key}",l);Ee().b[2][1]++}else if(Ee().b[0][1]++,Ee().s[9]++,r){Ee().b[3][0]++;const l=(Ee().s[10]++,Vd.getAccessToken("thunderforest",e,{allowFallback:!0}));if(Ee().s[11]++,l)return Ee().b[4][0]++,Ee().s[12]++,n.replace("{key}",l);Ee().b[4][1]++}else if(Ee().b[3][1]++,Ee().s[13]++,a){Ee().b[5][0]++;const l=(Ee().s[14]++,Vd.getAccessToken("locationiq",e,{allowFallback:!0}));if(Ee().s[15]++,l)return Ee().b[6][0]++,Ee().s[16]++,n.replace("{key}",l);Ee().b[6][1]++}else return Ee().b[5][1]++,Ee().s[17]++,n}function kU(n,e,t){return Ee().f[1]++,Ee().s[18]++,{...n,$root:{...n.$root,[e]:{...n.$root[e],values:t}}}}class Qfe extends ni.Component{revisionStore;styleStore=(Ee().s[19]++,null);layerWatcher;constructor(e){Ee().f[2]++,Ee().s[20]++,super(e),Ee().s[21]++,this.revisionStore=new Lfe,Ee().s[22]++,this.configureKeyboardShortcuts(),Ee().s[23]++,this.state={errors:[],infos:[],mapStyle:Vd.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:$o,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,debug:!1,globalState:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1},fileHandle:null},Ee().s[24]++,this.layerWatcher=new Wfe({onVectorLayersChange:t=>(Ee().f[3]++,Ee().s[25]++,this.setState({vectorLayers:t}))})}configureKeyboardShortcuts=(Ee().s[26]++,()=>{Ee().f[4]++;const e=(Ee().s[27]++,[{key:"?",handler:()=>{Ee().f[5]++,Ee().s[28]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{Ee().f[6]++,Ee().s[29]++,this.toggleModal("open")}},{key:"e",handler:()=>{Ee().f[7]++,Ee().s[30]++,this.toggleModal("export")}},{key:"d",handler:()=>{Ee().f[8]++,Ee().s[31]++,this.toggleModal("sources")}},{key:"s",handler:()=>{Ee().f[9]++,Ee().s[32]++,this.toggleModal("settings")}},{key:"g",handler:()=>{Ee().f[10]++,Ee().s[33]++,this.toggleModal("globalState")}},{key:"i",handler:()=>{Ee().f[11]++,Ee().s[34]++,this.setMapState(this.state.mapState==="map"?(Ee().b[7][0]++,"inspect"):(Ee().b[7][1]++,"map"))}},{key:"m",handler:()=>{Ee().f[12]++,Ee().s[35]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{Ee().f[13]++,Ee().s[36]++,this.toggleModal("debug")}}]);Ee().s[37]++,document.body.addEventListener("keyup",t=>{if(Ee().f[14]++,Ee().s[38]++,t.key==="Escape")Ee().b[8][0]++,Ee().s[39]++,t.target.blur(),Ee().s[40]++,document.body.focus();else if(Ee().b[8][1]++,Ee().s[41]++,Ee().b[10][0]++,this.state.isOpen.shortcuts||(Ee().b[10][1]++,document.activeElement===document.body)){Ee().b[9][0]++;const i=(Ee().s[42]++,e.find(r=>(Ee().f[15]++,Ee().s[43]++,r.key===t.key)));Ee().s[44]++,i?(Ee().b[11][0]++,Ee().s[45]++,this.setModal("shortcuts",!1),Ee().s[46]++,i.handler()):Ee().b[11][1]++}else Ee().b[9][1]++})});handleKeyPress=(Ee().s[47]++,e=>{Ee().f[16]++,Ee().s[48]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(Ee().b[12][0]++,Ee().s[49]++,Ee().b[14][0]++,e.metaKey&&(Ee().b[14][1]++,e.shiftKey)&&(Ee().b[14][2]++,e.keyCode===90)?(Ee().b[13][0]++,Ee().s[50]++,e.preventDefault(),Ee().s[51]++,this.onRedo()):(Ee().b[13][1]++,Ee().s[52]++,Ee().b[16][0]++,e.metaKey&&(Ee().b[16][1]++,e.keyCode===90)?(Ee().b[15][0]++,Ee().s[53]++,e.preventDefault(),Ee().s[54]++,this.onUndo()):Ee().b[15][1]++)):(Ee().b[12][1]++,Ee().s[55]++,Ee().b[18][0]++,e.ctrlKey&&(Ee().b[18][1]++,e.keyCode===90)?(Ee().b[17][0]++,Ee().s[56]++,e.preventDefault(),Ee().s[57]++,this.onUndo()):(Ee().b[17][1]++,Ee().s[58]++,Ee().b[20][0]++,e.ctrlKey&&(Ee().b[20][1]++,e.keyCode===89)?(Ee().b[19][0]++,Ee().s[59]++,e.preventDefault(),Ee().s[60]++,this.onRedo()):Ee().b[19][1]++))});async componentDidMount(){Ee().f[17]++,Ee().s[61]++,this.styleStore=await Ufe((e,t)=>(Ee().f[18]++,Ee().s[62]++,this.onStyleChanged(e,t))),Ee().s[63]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){Ee().f[19]++,Ee().s[64]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(e){Ee().f[20]++,Ee().s[65]++,this.styleStore?.save(e)}updateFonts(e){Ee().f[21]++;const t=(Ee().s[66]++,Ee().b[21][0]++,this.state.mapStyle.metadata||(Ee().b[21][1]++,{})),i=(Ee().s[67]++,Ee().b[22][0]++,t["maputnik:openmaptiles_access_token"]||(Ee().b[22][1]++,aG.openmaptiles)),r=(Ee().s[68]++,typeof e=="string"?(Ee().b[23][0]++,e.replace("{key}",i)):(Ee().b[23][1]++,e));Ee().s[69]++,_fe(r,a=>{Ee().f[22]++,Ee().s[70]++,this.setState({spec:kU(this.state.spec,"glyphs",a)})})}updateIcons(e){Ee().f[23]++,Ee().s[71]++,bfe(e,t=>{Ee().f[24]++,Ee().s[72]++,this.setState({spec:kU(this.state.spec,"sprite",t)})})}onChangeMetadataProperty=(Ee().s[73]++,(e,t)=>{Ee().f[25]++,Ee().s[74]++,Ee().b[25][0]++,e==="maputnik:renderer"&&(Ee().b[25][1]++,t!==PQ(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(Ee().b[24][0]++,Ee().s[75]++,this.setState({mapState:"map"})):Ee().b[24][1]++;const i=(Ee().s[76]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[e]:t}});Ee().s[77]++,this.onStyleChanged(i)});onStyleChanged=(Ee().s[78]++,(e,t=(Ee().b[26][0]++,{}))=>{Ee().f[26]++,Ee().s[79]++,t={save:!0,addRevision:!0,initialLoad:!1,...t},Ee().s[80]++,Ee().b[28][0]++,e.glyphs&&(Ee().b[28][1]++,typeof e.glyphs=="string")?(Ee().b[27][0]++,Ee().s[81]++,e.glyphs=_x(e.glyphs,e)):Ee().b[27][1]++,Ee().s[82]++,Ee().b[30][0]++,e.sprite&&(Ee().b[30][1]++,typeof e.sprite=="string")?(Ee().b[29][0]++,Ee().s[83]++,e.sprite=_x(e.sprite,e)):Ee().b[29][1]++,Ee().s[84]++;for(const[o,p]of Object.entries(e.sources))Ee().s[85]++,Ee().b[32][0]++,p&&(Ee().b[32][1]++,"url"in p)&&(Ee().b[32][2]++,typeof p.url=="string")?(Ee().b[31][0]++,Ee().s[86]++,p.url=_x(p.url,e)):Ee().b[31][1]++;Ee().s[87]++,t.initialLoad?(Ee().b[33][0]++,Ee().s[88]++,this.getInitialStateFromUrl(e)):Ee().b[33][1]++;const i=(Ee().s[89]++,Ee().b[34][0]++,Tf(e)||(Ee().b[34][1]++,[])),r=(Ee().s[90]++,[]);if(Ee().s[91]++,Ee().b[36][0]++,e&&(Ee().b[36][1]++,e.layers)){Ee().b[35][0]++;const o=(Ee().s[92]++,new window.Map);Ee().s[93]++,e.layers.forEach((p,C)=>{if(Ee().f[27]++,Ee().s[94]++,Ee().b[38][0]++,p.id===""&&(Ee().b[38][1]++,o.has(p.id))){Ee().b[37][0]++;const M=(Ee().s[95]++,new Error(`layers[${C}]: duplicate layer id [empty_string], previously used`));Ee().s[96]++,r.push(M)}else Ee().b[37][1]++;Ee().s[97]++,o.set(p.id,!0)})}else Ee().b[35][1]++;const a=(Ee().s[98]++,r.concat(i).map(o=>{Ee().f[28]++;const p=(Ee().s[99]++,o.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(Ee().s[100]++,p){Ee().b[39][0]++;const[,O,U]=(Ee().s[101]++,p);return Ee().s[102]++,{message:o.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:"id",message:U}}}}else Ee().b[39][1]++;const C=(Ee().s[103]++,o.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(Ee().s[104]++,C){Ee().b[40][0]++;const[,O,U]=(Ee().s[105]++,C);return Ee().s[106]++,{message:o.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:"source",message:U}}}}else Ee().b[40][1]++;const M=(Ee().s[107]++,o.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(Ee().s[108]++,M){Ee().b[41][0]++;const[,O,U,K,j]=(Ee().s[109]++,M),W=(Ee().s[110]++,Ee().b[43][0]++,U&&(Ee().b[43][1]++,K)?(Ee().b[42][0]++,[U,K].join(".")):(Ee().b[42][1]++,K));return Ee().s[111]++,{message:o.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:W,message:j}}}}else return Ee().b[41][1]++,Ee().s[112]++,{message:o.message}}));let l=(Ee().s[113]++,void 0);if(Ee().s[114]++,i.length>0){Ee().b[44][0]++,Ee().s[115]++,l=G7(e),Ee().s[116]++;for(const o of i){const{message:p}=(Ee().s[117]++,o);if(Ee().s[118]++,p){Ee().b[45][0]++,Ee().s[119]++;try{const C=(Ee().s[120]++,p.split(":")[0]),M=(Ee().s[121]++,C.match(/^\S+?\[\d+\]\.[^[]+/)[0]);Ee().s[122]++,nb.unset(l,M)}catch(C){Ee().s[123]++,console.warn(p+" "+C)}}else Ee().b[45][1]++}}else Ee().b[44][1]++;Ee().s[124]++,e.glyphs!==this.state.mapStyle.glyphs?(Ee().b[46][0]++,Ee().s[125]++,this.updateFonts(e.glyphs)):Ee().b[46][1]++,Ee().s[126]++,e.sprite!==this.state.mapStyle.sprite?(Ee().b[47][0]++,Ee().s[127]++,this.updateIcons(e.sprite)):Ee().b[47][1]++,Ee().s[128]++,t.addRevision?(Ee().b[48][0]++,Ee().s[129]++,this.revisionStore.addRevision(e)):Ee().b[48][1]++,Ee().s[130]++,t.save?(Ee().b[49][0]++,Ee().s[131]++,this.saveStyle(e)):Ee().b[49][1]++,Ee().s[132]++,this.setState({mapStyle:e,dirtyMapStyle:l,errors:a},()=>{Ee().f[29]++,Ee().s[133]++,this.fetchSources(),Ee().s[134]++,this.setStateInUrl()})});onUndo=(Ee().s[135]++,()=>{Ee().f[30]++;const e=(Ee().s[136]++,this.revisionStore.undo()),t=(Ee().s[137]++,xfe(this.state.mapStyle,e));Ee().s[138]++,this.onStyleChanged(e,{addRevision:!1}),Ee().s[139]++,this.setState({infos:t})});onRedo=(Ee().s[140]++,()=>{Ee().f[31]++;const e=(Ee().s[141]++,this.revisionStore.redo()),t=(Ee().s[142]++,Mfe(this.state.mapStyle,e));Ee().s[143]++,this.onStyleChanged(e,{addRevision:!1}),Ee().s[144]++,this.setState({infos:t})});onMoveLayer=(Ee().s[145]++,e=>{Ee().f[32]++;let{oldIndex:t,newIndex:i}=(Ee().s[146]++,e),r=(Ee().s[147]++,this.state.mapStyle.layers);if(Ee().s[148]++,t=Q7(t,0,r.length-1),Ee().s[149]++,i=Q7(i,0,r.length-1),Ee().s[150]++,t===i){Ee().b[50][0]++,Ee().s[151]++;return}else Ee().b[50][1]++;Ee().s[152]++,t===this.state.selectedLayerIndex?(Ee().b[51][0]++,Ee().s[153]++,this.setState({selectedLayerIndex:i})):Ee().b[51][1]++,Ee().s[154]++,r=r.slice(0),Ee().s[155]++,LQ(r,t,i),Ee().s[156]++,this.onLayersChange(r)});onLayersChange=(Ee().s[157]++,e=>{Ee().f[33]++;const t=(Ee().s[158]++,{...this.state.mapStyle,layers:e});Ee().s[159]++,this.onStyleChanged(t)});onLayerDestroy=(Ee().s[160]++,e=>{Ee().f[34]++;const t=(Ee().s[161]++,this.state.mapStyle.layers),i=(Ee().s[162]++,t.slice(0));Ee().s[163]++,i.splice(e,1),Ee().s[164]++,this.onLayersChange(i)});onLayerCopy=(Ee().s[165]++,e=>{Ee().f[35]++;const t=(Ee().s[166]++,this.state.mapStyle.layers),i=(Ee().s[167]++,t.slice(0)),r=(Ee().s[168]++,G7(i[e]));Ee().s[169]++,r.id=r.id+"-copy",Ee().s[170]++,i.splice(e,0,r),Ee().s[171]++,this.onLayersChange(i)});onLayerVisibilityToggle=(Ee().s[172]++,e=>{Ee().f[36]++;const t=(Ee().s[173]++,this.state.mapStyle.layers),i=(Ee().s[174]++,t.slice(0)),r=(Ee().s[175]++,{...i[e]}),a=(Ee().s[176]++,"layout"in r?(Ee().b[52][0]++,{...r.layout}):(Ee().b[52][1]++,{}));Ee().s[177]++,a.visibility=a.visibility==="none"?(Ee().b[53][0]++,"visible"):(Ee().b[53][1]++,"none"),Ee().s[178]++,r.layout=a,Ee().s[179]++,i[e]=r,Ee().s[180]++,this.onLayersChange(i)});onLayerIdChange=(Ee().s[181]++,(e,t,i)=>{Ee().f[37]++;const r=(Ee().s[182]++,this.state.mapStyle.layers.slice(0));Ee().s[183]++,r[e]={...r[e],id:i},Ee().s[184]++,this.onLayersChange(r)});onLayerChanged=(Ee().s[185]++,(e,t)=>{Ee().f[38]++;const i=(Ee().s[186]++,this.state.mapStyle.layers.slice(0));Ee().s[187]++,i[e]=t,Ee().s[188]++,this.onLayersChange(i)});setMapState=(Ee().s[189]++,e=>{Ee().f[39]++,Ee().s[190]++,this.setState({mapState:e},this.setStateInUrl)});setDefaultValues=(Ee().s[191]++,e=>{Ee().f[40]++;const t=(Ee().s[192]++,Ee().b[54][0]++,e.metadata||(Ee().b[54][1]++,{}));if(Ee().s[193]++,t["maputnik:renderer"]===void 0){Ee().b[55][0]++;const i=(Ee().s[194]++,{...e,metadata:{...e.metadata,"maputnik:renderer":"mlgljs"}});return Ee().s[195]++,i}else return Ee().b[55][1]++,Ee().s[196]++,e});openStyle=(Ee().s[197]++,(e,t)=>{Ee().f[41]++,Ee().s[198]++,this.setState({fileHandle:t}),Ee().s[199]++,e=this.setDefaultValues(e),Ee().s[200]++,this.onStyleChanged(e)});async fetchSources(){Ee().f[42]++;const e=(Ee().s[201]++,{});Ee().s[202]++;for(const t of Object.keys(this.state.mapStyle.sources)){const i=(Ee().s[203]++,this.state.mapStyle.sources[t]);if(Ee().s[204]++,Ee().b[57][0]++,i.type!=="vector"||(Ee().b[57][1]++,!("url"in i)))Ee().b[56][0]++,Ee().s[205]++,e[t]=(Ee().b[58][0]++,this.state.sources[t]||(Ee().b[58][1]++,{...this.state.mapStyle.sources[t]})),Ee().s[206]++,e[t].layers===void 0?(Ee().b[59][0]++,Ee().s[207]++,e[t].layers=[]):Ee().b[59][1]++;else{Ee().b[56][1]++,Ee().s[208]++,e[t]={type:i.type,layers:[]};let r=(Ee().s[209]++,i.url);Ee().s[210]++;try{Ee().s[211]++,r=_x(r,this.state.mapStyle)}catch(l){Ee().s[212]++,console.warn("Failed to setFetchAccessToken: ",l)}Ee().s[213]++;const a=l=>{if(Ee().f[43]++,Ee().s[214]++,Object.prototype.hasOwnProperty.call(l,"vector_layers"))Ee().b[60][1]++;else{Ee().b[60][0]++,Ee().s[215]++;return}Ee().s[216]++;for(const o of l.vector_layers)Ee().s[217]++,e[t].layers.push(o.id)};Ee().s[218]++;try{if(Ee().s[219]++,r.startsWith("pmtiles://")){Ee().b[61][0]++;const l=(Ee().s[220]++,await new f6(r.substring(10)).getTileJson(""));Ee().s[221]++,a(l)}else{Ee().b[61][1]++;const l=(Ee().s[222]++,await fetch(r,{mode:"cors"})),o=(Ee().s[223]++,await l.json());Ee().s[224]++,a(o)}}catch(l){Ee().s[225]++,console.error(`Failed to process source for url: '${r}', ${l}`)}}}Ee().s[226]++,BB(this.state.sources,e)?Ee().b[62][1]++:(Ee().b[62][0]++,Ee().s[227]++,console.debug("Setting sources",e),Ee().s[228]++,this.setState({sources:e}))}_getRenderer(){Ee().f[44]++;const e=(Ee().s[229]++,Ee().b[63][0]++,this.state.mapStyle.metadata||(Ee().b[63][1]++,{}));return Ee().s[230]++,Ee().b[64][0]++,e["maputnik:renderer"]||(Ee().b[64][1]++,"mlgljs")}onMapChange=(Ee().s[231]++,e=>{Ee().f[45]++,Ee().s[232]++,this.setState({mapView:e})});mapRenderer(){Ee().f[46]++;const{mapStyle:e,dirtyMapStyle:t}=(Ee().s[233]++,this.state),i=(Ee().s[234]++,{mapStyle:(Ee().b[65][0]++,t||(Ee().b[65][1]++,e)),replaceAccessTokens:p=>(Ee().f[47]++,Ee().s[235]++,Vd.replaceAccessTokens(p,{allowFallback:!0})),onDataChange:p=>{Ee().f[48]++,Ee().s[236]++,this.layerWatcher.analyzeMap(p.map),Ee().s[237]++,this.fetchSources()}}),r=(Ee().s[238]++,this._getRenderer());let a;Ee().s[239]++,r==="ol"?(Ee().b[66][0]++,Ee().s[240]++,a=Ae.jsx(dre,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:p=>(Ee().f[49]++,Ee().s[241]++,this.onLayerSelect(+p))})):(Ee().b[66][1]++,Ee().s[242]++,a=Ae.jsx(qZ,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let l;Ee().s[243]++,this.state.mapState.match(/^filter-/)?(Ee().b[67][0]++,Ee().s[244]++,l=this.state.mapState.replace(/^filter-/,"")):Ee().b[67][1]++;const o=(Ee().s[245]++,{});return Ee().s[246]++,l?(Ee().b[68][0]++,Ee().s[247]++,o.filter=`url('#${l}')`):Ee().b[68][1]++,Ee().s[248]++,Ae.jsx("div",{style:o,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:a})}setStateInUrl=(Ee().s[249]++,()=>{Ee().f[50]++;const{mapState:e,mapStyle:t,isOpen:i}=(Ee().s[250]++,this.state),{selectedLayerIndex:r}=(Ee().s[251]++,this.state),a=(Ee().s[252]++,new URL(location.href)),l=(Ee().s[253]++,X7(JSON.stringify(t)));Ee().s[254]++,a.searchParams.set("layer",`${l}~${r}`);const o=(Ee().s[255]++,Object.entries(i).map(([p,C])=>(Ee().f[51]++,Ee().s[256]++,C===!0?(Ee().b[69][0]++,p):(Ee().b[69][1]++,null))).filter(p=>(Ee().f[52]++,Ee().s[257]++,p!==null)));Ee().s[258]++,o.length>0?(Ee().b[70][0]++,Ee().s[259]++,a.searchParams.set("modal",o.join(","))):(Ee().b[70][1]++,Ee().s[260]++,a.searchParams.delete("modal")),Ee().s[261]++,e==="map"?(Ee().b[71][0]++,Ee().s[262]++,a.searchParams.delete("view")):(Ee().b[71][1]++,Ee().s[263]++,e==="inspect"?(Ee().b[72][0]++,Ee().s[264]++,a.searchParams.set("view","inspect")):Ee().b[72][1]++),Ee().s[265]++,history.replaceState({selectedLayerIndex:r},"Maputnik",a.href)});getInitialStateFromUrl=(Ee().s[266]++,e=>{Ee().f[53]++;const t=(Ee().s[267]++,new URL(location.href)),i=(Ee().s[268]++,t.searchParams.get("modal"));if(Ee().s[269]++,Ee().b[74][0]++,i&&(Ee().b[74][1]++,i!=="")){Ee().b[73][0]++;const l=(Ee().s[270]++,i.split(",")),o=(Ee().s[271]++,{});Ee().s[272]++,l.forEach(p=>{Ee().f[54]++,Ee().s[273]++,o[p]=!0}),Ee().s[274]++,this.setState({isOpen:{...this.state.isOpen,...o}})}else Ee().b[73][1]++;const r=(Ee().s[275]++,t.searchParams.get("view"));Ee().s[276]++,Ee().b[76][0]++,r&&(Ee().b[76][1]++,r!=="")?(Ee().b[75][0]++,Ee().s[277]++,this.setMapState(r)):Ee().b[75][1]++;const a=(Ee().s[278]++,t.searchParams.get("layer"));if(Ee().s[279]++,a){Ee().b[77][0]++,Ee().s[280]++;try{const l=(Ee().s[281]++,a.split("~")),[o,p]=(Ee().s[282]++,[l[0],parseInt(l[1],10)]);let C=(Ee().s[283]++,!0);if(Ee().s[284]++,o!=="-"){Ee().b[78][0]++;const M=(Ee().s[285]++,X7(JSON.stringify(e)));Ee().s[286]++,M!==parseInt(o,10)?(Ee().b[79][0]++,Ee().s[287]++,C=!1):Ee().b[79][1]++}else Ee().b[78][1]++;Ee().s[288]++,C?(Ee().b[80][0]++,Ee().s[289]++,this.setState({selectedLayerIndex:p,selectedLayerOriginalId:e.layers[p].id})):Ee().b[80][1]++}catch(l){Ee().s[290]++,console.warn(l)}}else Ee().b[77][1]++});onLayerSelect=(Ee().s[291]++,e=>{Ee().f[55]++,Ee().s[292]++,this.setState({selectedLayerIndex:e,selectedLayerOriginalId:this.state.mapStyle.layers[e].id},this.setStateInUrl)});setModal(e,t){Ee().f[56]++,Ee().s[293]++,this.setState({isOpen:{...this.state.isOpen,[e]:t}},this.setStateInUrl)}toggleModal(e){Ee().f[57]++,Ee().s[294]++,this.setModal(e,!this.state.isOpen[e])}onSetFileHandle=(Ee().s[295]++,e=>{Ee().f[58]++,Ee().s[296]++,this.setState({fileHandle:e})});onChangeOpenlayersDebug=(Ee().s[297]++,(e,t)=>{Ee().f[59]++,Ee().s[298]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[e]:t}})});onChangeMaplibreGlDebug=(Ee().s[299]++,(e,t)=>{Ee().f[60]++,Ee().s[300]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[e]:t}})});render(){Ee().f[61]++;const e=(Ee().s[301]++,Ee().b[81][0]++,this.state.mapStyle.layers||(Ee().b[81][1]++,[])),t=(Ee().s[302]++,e.length>0?(Ee().b[82][0]++,e[this.state.selectedLayerIndex]):(Ee().b[82][1]++,void 0)),i=(Ee().s[303]++,Ae.jsx(Ohe,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),r=(Ee().s[304]++,Ae.jsx(Rse,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:e,sources:this.state.sources,errors:this.state.errors})),a=(Ee().s[305]++,t?(Ee().b[83][0]++,Ae.jsx(lhe,{layer:t,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(Ee().b[83][1]++,void 0)),l=(Ee().s[306]++,this.state.errors.length+this.state.infos.length>0?(Ee().b[84][0]++,Ae.jsx(Rhe,{currentLayer:t,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(Ee().b[84][1]++,void 0)),o=(Ee().s[307]++,Ae.jsxs("div",{children:[Ae.jsx(Pde,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:()=>(Ee().f[62]++,Ee().s[308]++,this.toggleModal("debug")),mapView:this.state.mapView}),Ae.jsx(Dde,{isOpen:this.state.isOpen.shortcuts,onOpenToggle:()=>(Ee().f[63]++,Ee().s[309]++,this.toggleModal("shortcuts"))}),Ae.jsx(Lhe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:()=>(Ee().f[64]++,Ee().s[310]++,this.toggleModal("settings"))}),Ae.jsx(rde,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:()=>(Ee().f[65]++,Ee().s[311]++,this.toggleModal("export")),fileHandle:this.state.fileHandle,onSetFileHandle:this.onSetFileHandle}),Ae.jsx(Tde,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:()=>(Ee().f[66]++,Ee().s[312]++,this.toggleModal("open")),fileHandle:this.state.fileHandle}),Ae.jsx(xde,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:()=>(Ee().f[67]++,Ee().s[313]++,this.toggleModal("sources"))}),Ae.jsx(Ude,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.globalState,onOpenToggle:()=>(Ee().f[68]++,Ee().s[314]++,this.toggleModal("globalState"))})]}));return Ee().s[315]++,Ae.jsx(khe,{toolbar:i,layerList:r,layerEditor:a,map:this.mapRenderer(),bottom:l,modals:o})}}const Yfe=PU.createRoot(document.querySelector("#app"));Yfe.render(Ae.jsx(Bv.Provider,{value:{className:"react-icons"},children:Ae.jsx(Qfe,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-ixDJwGBb.js.map
