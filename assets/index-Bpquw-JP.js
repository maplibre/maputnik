(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Bu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function GO(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var H4={exports:{}},FC={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function NY(){if(UI)return FC;UI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var s=null;if(o!==void 0&&(s=""+o),r.key!==void 0&&(s=""+r.key),"key"in r){o={};for(var a in r)a!=="key"&&(o[a]=r[a])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:o}}return FC.Fragment=e,FC.jsx=t,FC.jsxs=t,FC}var KI;function GY(){return KI||(KI=1,H4.exports=NY()),H4.exports}var Ae=GY(),V4={exports:{}},la={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI;function WY(){if(LI)return la;LI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function O(ue){return ue===null||typeof ue!="object"?null:(ue=E&&ue[E]||ue["@@iterator"],typeof ue=="function"?ue:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,N={};function Q(ue,We,tt){this.props=ue,this.context=We,this.refs=N,this.updater=tt||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(ue,We){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,We,"setState")},Q.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function $(){}$.prototype=Q.prototype;function X(ue,We,tt){this.props=ue,this.context=We,this.refs=N,this.updater=tt||B}var re=X.prototype=new $;re.constructor=X,z(re,Q.prototype),re.isPureReactComponent=!0;var ne=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function W(ue,We,tt,ke,Et,gt){return tt=gt.ref,{$$typeof:n,type:ue,key:We,ref:tt!==void 0?tt:null,props:gt}}function he(ue,We){return W(ue.type,We,void 0,void 0,void 0,ue.props)}function ge(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===n}function ve(ue){var We={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(tt){return We[tt]})}var _e=/\/+/g;function Me(ue,We){return typeof ue=="object"&&ue!==null&&ue.key!=null?ve(""+ue.key):We.toString(36)}function be(){}function ze(ue){switch(ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason;default:switch(typeof ue.status=="string"?ue.then(be,be):(ue.status="pending",ue.then(function(We){ue.status==="pending"&&(ue.status="fulfilled",ue.value=We)},function(We){ue.status==="pending"&&(ue.status="rejected",ue.reason=We)})),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason}}throw ue}function Ce(ue,We,tt,ke,Et){var gt=typeof ue;(gt==="undefined"||gt==="boolean")&&(ue=null);var xt=!1;if(ue===null)xt=!0;else switch(gt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(ue.$$typeof){case n:case e:xt=!0;break;case _:return xt=ue._init,Ce(xt(ue._payload),We,tt,ke,Et)}}if(xt)return Et=Et(ue),xt=ke===""?"."+Me(ue,0):ke,ne(Et)?(tt="",xt!=null&&(tt=xt.replace(_e,"$&/")+"/"),Ce(Et,We,tt,"",function(Ke){return Ke})):Et!=null&&(ge(Et)&&(Et=he(Et,tt+(Et.key==null||ue&&ue.key===Et.key?"":(""+Et.key).replace(_e,"$&/")+"/")+xt)),We.push(Et)),1;xt=0;var Kt=ke===""?".":ke+":";if(ne(ue))for(var je=0;je<ue.length;je++)ke=ue[je],gt=Kt+Me(ke,je),xt+=Ce(ke,We,tt,gt,Et);else if(je=O(ue),typeof je=="function")for(ue=je.call(ue),je=0;!(ke=ue.next()).done;)ke=ke.value,gt=Kt+Me(ke,je++),xt+=Ce(ke,We,tt,gt,Et);else if(gt==="object"){if(typeof ue.then=="function")return Ce(ze(ue),We,tt,ke,Et);throw We=String(ue),Error("Objects are not valid as a React child (found: "+(We==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":We)+"). If you meant to render a collection of children, use an array instead.")}return xt}function Fe(ue,We,tt){if(ue==null)return ue;var ke=[],Et=0;return Ce(ue,ke,"","",function(gt){return We.call(tt,gt,Et++)}),ke}function ot(ue){if(ue._status===-1){var We=ue._result;We=We(),We.then(function(tt){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=tt)},function(tt){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=tt)}),ue._status===-1&&(ue._status=0,ue._result=We)}if(ue._status===1)return ue._result.default;throw ue._result}var mt=typeof reportError=="function"?reportError:function(ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var We=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ue=="object"&&ue!==null&&typeof ue.message=="string"?String(ue.message):String(ue),error:ue});if(!window.dispatchEvent(We))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ue);return}console.error(ue)};function it(){}return la.Children={map:Fe,forEach:function(ue,We,tt){Fe(ue,function(){We.apply(this,arguments)},tt)},count:function(ue){var We=0;return Fe(ue,function(){We++}),We},toArray:function(ue){return Fe(ue,function(We){return We})||[]},only:function(ue){if(!ge(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},la.Component=Q,la.Fragment=t,la.Profiler=r,la.PureComponent=X,la.StrictMode=i,la.Suspense=p,la.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,la.__COMPILER_RUNTIME={__proto__:null,c:function(ue){return V.H.useMemoCache(ue)}},la.cache=function(ue){return function(){return ue.apply(null,arguments)}},la.cloneElement=function(ue,We,tt){if(ue==null)throw Error("The argument must be a React element, but you passed "+ue+".");var ke=z({},ue.props),Et=ue.key,gt=void 0;if(We!=null)for(xt in We.ref!==void 0&&(gt=void 0),We.key!==void 0&&(Et=""+We.key),We)!J.call(We,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&We.ref===void 0||(ke[xt]=We[xt]);var xt=arguments.length-2;if(xt===1)ke.children=tt;else if(1<xt){for(var Kt=Array(xt),je=0;je<xt;je++)Kt[je]=arguments[je+2];ke.children=Kt}return W(ue.type,Et,void 0,void 0,gt,ke)},la.createContext=function(ue){return ue={$$typeof:s,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null},ue.Provider=ue,ue.Consumer={$$typeof:o,_context:ue},ue},la.createElement=function(ue,We,tt){var ke,Et={},gt=null;if(We!=null)for(ke in We.key!==void 0&&(gt=""+We.key),We)J.call(We,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&(Et[ke]=We[ke]);var xt=arguments.length-2;if(xt===1)Et.children=tt;else if(1<xt){for(var Kt=Array(xt),je=0;je<xt;je++)Kt[je]=arguments[je+2];Et.children=Kt}if(ue&&ue.defaultProps)for(ke in xt=ue.defaultProps,xt)Et[ke]===void 0&&(Et[ke]=xt[ke]);return W(ue,gt,void 0,void 0,null,Et)},la.createRef=function(){return{current:null}},la.forwardRef=function(ue){return{$$typeof:a,render:ue}},la.isValidElement=ge,la.lazy=function(ue){return{$$typeof:_,_payload:{_status:-1,_result:ue},_init:ot}},la.memo=function(ue,We){return{$$typeof:g,type:ue,compare:We===void 0?null:We}},la.startTransition=function(ue){var We=V.T,tt={};V.T=tt;try{var ke=ue(),Et=V.S;Et!==null&&Et(tt,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(it,mt)}catch(gt){mt(gt)}finally{V.T=We}},la.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},la.use=function(ue){return V.H.use(ue)},la.useActionState=function(ue,We,tt){return V.H.useActionState(ue,We,tt)},la.useCallback=function(ue,We){return V.H.useCallback(ue,We)},la.useContext=function(ue){return V.H.useContext(ue)},la.useDebugValue=function(){},la.useDeferredValue=function(ue,We){return V.H.useDeferredValue(ue,We)},la.useEffect=function(ue,We,tt){var ke=V.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ke.useEffect(ue,We)},la.useId=function(){return V.H.useId()},la.useImperativeHandle=function(ue,We,tt){return V.H.useImperativeHandle(ue,We,tt)},la.useInsertionEffect=function(ue,We){return V.H.useInsertionEffect(ue,We)},la.useLayoutEffect=function(ue,We){return V.H.useLayoutEffect(ue,We)},la.useMemo=function(ue,We){return V.H.useMemo(ue,We)},la.useOptimistic=function(ue,We){return V.H.useOptimistic(ue,We)},la.useReducer=function(ue,We,tt){return V.H.useReducer(ue,We,tt)},la.useRef=function(ue){return V.H.useRef(ue)},la.useState=function(ue){return V.H.useState(ue)},la.useSyncExternalStore=function(ue,We,tt){return V.H.useSyncExternalStore(ue,We,tt)},la.useTransition=function(){return V.H.useTransition()},la.version="19.1.1",la}var FI;function Rl(){return FI||(FI=1,V4.exports=WY()),V4.exports}var Gt=Rl();const ii=Bu(Gt);var QF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xv=ii.createContext&&ii.createContext(QF),QY=["attr","size","title"];function YY(n,e){if(n==null)return{};var t=qY(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function qY(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function M3(){return M3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},M3.apply(this,arguments)}function zI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function w3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(t),!0).forEach(function(i){HY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zI(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HY(n,e,t){return e=VY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VY(n){var e=$Y(n,"string");return typeof e=="symbol"?e:e+""}function $Y(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YF(n){return n&&n.map((e,t)=>ii.createElement(e.tag,w3({key:t},e.attr),YF(e.child)))}function Ka(n){return e=>ii.createElement(ZY,M3({attr:w3({},n.attr)},e),YF(n.child))}function ZY(n){var e=t=>{var{attr:i,size:r,title:o}=n,s=YY(n,QY),a=r||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),ii.createElement("svg",M3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:p,style:w3(w3({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ii.createElement("title",null,o),n.children)};return Xv!==void 0?ii.createElement(Xv.Consumer,null,t=>e(t)):e(QF)}var $4={exports:{}},zC={},Z4={exports:{}},X4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI;function XY(){return jI||(jI=1,function(n){function e(Fe,ot){var mt=Fe.length;Fe.push(ot);e:for(;0<mt;){var it=mt-1>>>1,ue=Fe[it];if(0<r(ue,ot))Fe[it]=ot,Fe[mt]=ue,mt=it;else break e}}function t(Fe){return Fe.length===0?null:Fe[0]}function i(Fe){if(Fe.length===0)return null;var ot=Fe[0],mt=Fe.pop();if(mt!==ot){Fe[0]=mt;e:for(var it=0,ue=Fe.length,We=ue>>>1;it<We;){var tt=2*(it+1)-1,ke=Fe[tt],Et=tt+1,gt=Fe[Et];if(0>r(ke,mt))Et<ue&&0>r(gt,ke)?(Fe[it]=gt,Fe[Et]=mt,it=Et):(Fe[it]=ke,Fe[tt]=mt,it=tt);else if(Et<ue&&0>r(gt,mt))Fe[it]=gt,Fe[Et]=mt,it=Et;else break e}}return ot}function r(Fe,ot){var mt=Fe.sortIndex-ot.sortIndex;return mt!==0?mt:Fe.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var p=[],g=[],_=1,E=null,O=3,B=!1,z=!1,N=!1,Q=!1,$=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ne(Fe){for(var ot=t(g);ot!==null;){if(ot.callback===null)i(g);else if(ot.startTime<=Fe)i(g),ot.sortIndex=ot.expirationTime,e(p,ot);else break;ot=t(g)}}function V(Fe){if(N=!1,ne(Fe),!z)if(t(p)!==null)z=!0,J||(J=!0,Me());else{var ot=t(g);ot!==null&&Ce(V,ot.startTime-Fe)}}var J=!1,W=-1,he=5,ge=-1;function ve(){return Q?!0:!(n.unstable_now()-ge<he)}function _e(){if(Q=!1,J){var Fe=n.unstable_now();ge=Fe;var ot=!0;try{e:{z=!1,N&&(N=!1,X(W),W=-1),B=!0;var mt=O;try{t:{for(ne(Fe),E=t(p);E!==null&&!(E.expirationTime>Fe&&ve());){var it=E.callback;if(typeof it=="function"){E.callback=null,O=E.priorityLevel;var ue=it(E.expirationTime<=Fe);if(Fe=n.unstable_now(),typeof ue=="function"){E.callback=ue,ne(Fe),ot=!0;break t}E===t(p)&&i(p),ne(Fe)}else i(p);E=t(p)}if(E!==null)ot=!0;else{var We=t(g);We!==null&&Ce(V,We.startTime-Fe),ot=!1}}break e}finally{E=null,O=mt,B=!1}ot=void 0}}finally{ot?Me():J=!1}}}var Me;if(typeof re=="function")Me=function(){re(_e)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,ze=be.port2;be.port1.onmessage=_e,Me=function(){ze.postMessage(null)}}else Me=function(){$(_e,0)};function Ce(Fe,ot){W=$(function(){Fe(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Fe){Fe.callback=null},n.unstable_forceFrameRate=function(Fe){0>Fe||125<Fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<Fe?Math.floor(1e3/Fe):5},n.unstable_getCurrentPriorityLevel=function(){return O},n.unstable_next=function(Fe){switch(O){case 1:case 2:case 3:var ot=3;break;default:ot=O}var mt=O;O=ot;try{return Fe()}finally{O=mt}},n.unstable_requestPaint=function(){Q=!0},n.unstable_runWithPriority=function(Fe,ot){switch(Fe){case 1:case 2:case 3:case 4:case 5:break;default:Fe=3}var mt=O;O=Fe;try{return ot()}finally{O=mt}},n.unstable_scheduleCallback=function(Fe,ot,mt){var it=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?it+mt:it):mt=it,Fe){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=mt+ue,Fe={id:_++,callback:ot,priorityLevel:Fe,startTime:mt,expirationTime:ue,sortIndex:-1},mt>it?(Fe.sortIndex=mt,e(g,Fe),t(p)===null&&Fe===t(g)&&(N?(X(W),W=-1):N=!0,Ce(V,mt-it))):(Fe.sortIndex=ue,e(p,Fe),z||B||(z=!0,J||(J=!0,Me()))),Fe},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(Fe){var ot=O;return function(){var mt=O;O=ot;try{return Fe.apply(this,arguments)}finally{O=mt}}}}(X4)),X4}var NI;function JY(){return NI||(NI=1,Z4.exports=XY()),Z4.exports}var J4={exports:{}},Gh={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function eq(){if(GI)return Gh;GI=1;var n=Rl();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gh.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(p,g,null,_)},Gh.flushSync=function(p){var g=s.T,_=i.p;try{if(s.T=null,i.p=2,p)return p()}finally{s.T=g,i.p=_,i.d.f()}},Gh.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Gh.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Gh.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=a(_,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,B=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:O,fetchPriority:B}):_==="script"&&i.d.X(p,{crossOrigin:E,integrity:O,fetchPriority:B,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gh.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=a(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Gh.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=a(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gh.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=a(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Gh.requestFormReset=function(p){i.d.r(p)},Gh.unstable_batchedUpdates=function(p,g){return p(g)},Gh.useFormState=function(p,g,_){return s.H.useFormState(p,g,_)},Gh.useFormStatus=function(){return s.H.useHostTransitionStatus()},Gh.version="19.1.1",Gh}var WI;function v2(){if(WI)return J4.exports;WI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),J4.exports=eq(),J4.exports}var QI;function tq(){if(QI)return zC;QI=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=JY(),e=Rl(),t=v2();function i(A){var m="https://react.dev/errors/"+A;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+A+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function o(A){var m=A,x=A;if(A.alternate)for(;m.return;)m=m.return;else{A=m;do m=A,(m.flags&4098)!==0&&(x=m.return),A=m.return;while(A)}return m.tag===3?x:null}function s(A){if(A.tag===13){var m=A.memoizedState;if(m===null&&(A=A.alternate,A!==null&&(m=A.memoizedState)),m!==null)return m.dehydrated}return null}function a(A){if(o(A)!==A)throw Error(i(188))}function p(A){var m=A.alternate;if(!m){if(m=o(A),m===null)throw Error(i(188));return m!==A?null:A}for(var x=A,D=m;;){var Y=x.return;if(Y===null)break;var se=Y.alternate;if(se===null){if(D=Y.return,D!==null){x=D;continue}break}if(Y.child===se.child){for(se=Y.child;se;){if(se===x)return a(Y),A;if(se===D)return a(Y),m;se=se.sibling}throw Error(i(188))}if(x.return!==D.return)x=Y,D=se;else{for(var Ye=!1,st=Y.child;st;){if(st===x){Ye=!0,x=Y,D=se;break}if(st===D){Ye=!0,D=Y,x=se;break}st=st.sibling}if(!Ye){for(st=se.child;st;){if(st===x){Ye=!0,x=se,D=Y;break}if(st===D){Ye=!0,D=se,x=Y;break}st=st.sibling}if(!Ye)throw Error(i(189))}}if(x.alternate!==D)throw Error(i(190))}if(x.tag!==3)throw Error(i(188));return x.stateNode.current===x?A:m}function g(A){var m=A.tag;if(m===5||m===26||m===27||m===6)return A;for(A=A.child;A!==null;){if(m=g(A),m!==null)return m;A=A.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Me(A){return A===null||typeof A!="object"?null:(A=_e&&A[_e]||A["@@iterator"],typeof A=="function"?A:null)}var be=Symbol.for("react.client.reference");function ze(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===be?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case z:return"Fragment";case Q:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList";case ge:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case B:return"Portal";case re:return(A.displayName||"Context")+".Provider";case X:return(A._context.displayName||"Context")+".Consumer";case ne:var m=A.render;return A=A.displayName,A||(A=m.displayName||m.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case W:return m=A.displayName||null,m!==null?m:ze(A.type)||"Memo";case he:m=A._payload,A=A._init;try{return ze(A(m))}catch{}}return null}var Ce=Array.isArray,Fe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},it=[],ue=-1;function We(A){return{current:A}}function tt(A){0>ue||(A.current=it[ue],it[ue]=null,ue--)}function ke(A,m){ue++,it[ue]=A.current,A.current=m}var Et=We(null),gt=We(null),xt=We(null),Kt=We(null);function je(A,m){switch(ke(xt,m),ke(gt,A),ke(Et,null),m.nodeType){case 9:case 11:A=(A=m.documentElement)&&(A=A.namespaceURI)?dl(A):0;break;default:if(A=m.tagName,m=m.namespaceURI)m=dl(m),A=fl(m,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}tt(Et),ke(Et,A)}function Ke(){tt(Et),tt(gt),tt(xt)}function Ue(A){A.memoizedState!==null&&ke(Kt,A);var m=Et.current,x=fl(m,A.type);m!==x&&(ke(gt,A),ke(Et,x))}function Ve(A){gt.current===A&&(tt(Et),tt(gt)),Kt.current===A&&(tt(Kt),qt._currentValue=mt)}var bt=Object.prototype.hasOwnProperty,vt=n.unstable_scheduleCallback,It=n.unstable_cancelCallback,Yt=n.unstable_shouldYield,Ut=n.unstable_requestPaint,on=n.unstable_now,Hn=n.unstable_getCurrentPriorityLevel,Wt=n.unstable_ImmediatePriority,Gn=n.unstable_UserBlockingPriority,On=n.unstable_NormalPriority,Bn=n.unstable_LowPriority,Tn=n.unstable_IdlePriority,Oi=n.log,Vn=n.unstable_setDisableYieldValue,Lt=null,De=null;function de(A){if(typeof Oi=="function"&&Vn(A),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Lt,A)}catch{}}var oe=Math.clz32?Math.clz32:Ie,le=Math.log,me=Math.LN2;function Ie(A){return A>>>=0,A===0?32:31-(le(A)/me|0)|0}var Qe=256,At=4194304;function He(A){var m=A&42;if(m!==0)return m;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Re(A,m,x){var D=A.pendingLanes;if(D===0)return 0;var Y=0,se=A.suspendedLanes,Ye=A.pingedLanes;A=A.warmLanes;var st=D&134217727;return st!==0?(D=st&~se,D!==0?Y=He(D):(Ye&=st,Ye!==0?Y=He(Ye):x||(x=st&~A,x!==0&&(Y=He(x))))):(st=D&~se,st!==0?Y=He(st):Ye!==0?Y=He(Ye):x||(x=D&~A,x!==0&&(Y=He(x)))),Y===0?0:m!==0&&m!==Y&&(m&se)===0&&(se=Y&-Y,x=m&-m,se>=x||se===32&&(x&4194048)!==0)?m:Y}function Ze(A,m){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&m)===0}function y(A,m){switch(A){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var A=Qe;return Qe<<=1,(Qe&4194048)===0&&(Qe=256),A}function dt(){var A=At;return At<<=1,(At&62914560)===0&&(At=4194304),A}function kt(A){for(var m=[],x=0;31>x;x++)m.push(A);return m}function rt(A,m){A.pendingLanes|=m,m!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function tn(A,m,x,D,Y,se){var Ye=A.pendingLanes;A.pendingLanes=x,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=x,A.entangledLanes&=x,A.errorRecoveryDisabledLanes&=x,A.shellSuspendCounter=0;var st=A.entanglements,jt=A.expirationTimes,dn=A.hiddenUpdates;for(x=Ye&~x;0<x;){var Dn=31-oe(x),Nn=1<<Dn;st[Dn]=0,jt[Dn]=-1;var mn=dn[Dn];if(mn!==null)for(dn[Dn]=null,Dn=0;Dn<mn.length;Dn++){var pn=mn[Dn];pn!==null&&(pn.lane&=-536870913)}x&=~Nn}D!==0&&Rn(A,D,0),se!==0&&Y===0&&A.tag!==0&&(A.suspendedLanes|=se&~(Ye&~m))}function Rn(A,m,x){A.pendingLanes|=m,A.suspendedLanes&=~m;var D=31-oe(m);A.entangledLanes|=m,A.entanglements[D]=A.entanglements[D]|1073741824|x&4194090}function wn(A,m){var x=A.entangledLanes|=m;for(A=A.entanglements;x;){var D=31-oe(x),Y=1<<D;Y&m|A[D]&m&&(A[D]|=m),x&=~Y}}function ri(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Qn(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function $i(){var A=ot.p;return A!==0?A:(A=window.event,A===void 0?32:Ar(A.type))}function ir(A,m){var x=ot.p;try{return ot.p=A,m()}finally{ot.p=x}}var Ii=Math.random().toString(36).slice(2),di="__reactFiber$"+Ii,ti="__reactProps$"+Ii,qi="__reactContainer$"+Ii,Sn="__reactEvents$"+Ii,co="__reactListeners$"+Ii,Zi="__reactHandles$"+Ii,_a="__reactResources$"+Ii,Ro="__reactMarker$"+Ii;function Jn(A){delete A[di],delete A[ti],delete A[Sn],delete A[co],delete A[Zi]}function cr(A){var m=A[di];if(m)return m;for(var x=A.parentNode;x;){if(m=x[qi]||x[di]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(A=Jp(A);A!==null;){if(x=A[di])return x;A=Jp(A)}return m}A=x,x=A.parentNode}return null}function Ni(A){if(A=A[di]||A[qi]){var m=A.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return A}return null}function br(A){var m=A.tag;if(m===5||m===26||m===27||m===6)return A.stateNode;throw Error(i(33))}function Wa(A){var m=A[_a];return m||(m=A[_a]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Rr(A){A[Ro]=!0}var Gi=new Set,bl={};function La(A,m){Bo(A,m),Bo(A+"Capture",m)}function Bo(A,m){for(bl[A]=m,A=0;A<m.length;A++)Gi.add(m[A])}var rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},ho={};function Xu(A){return bt.call(ho,A)?!0:bt.call(Pl,A)?!1:rs.test(A)?ho[A]=!0:(Pl[A]=!0,!1)}function Fa(A,m,x){if(Xu(m))if(x===null)A.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":A.removeAttribute(m);return;case"boolean":var D=m.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){A.removeAttribute(m);return}}A.setAttribute(m,""+x)}}function Xi(A,m,x){if(x===null)A.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(m);return}A.setAttribute(m,""+x)}}function Si(A,m,x,D){if(D===null)A.removeAttribute(x);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(x);return}A.setAttributeNS(m,x,""+D)}}var fs,Oa;function ea(A){if(fs===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);fs=m&&m[1]||"",Oa=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+A+Oa}var Xe=!1;function Bt(A,m){if(!A||Xe)return"";Xe=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(m){var Nn=function(){throw Error()};if(Object.defineProperty(Nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nn,[])}catch(pn){var mn=pn}Reflect.construct(A,[],Nn)}else{try{Nn.call()}catch(pn){mn=pn}A.call(Nn.prototype)}}else{try{throw Error()}catch(pn){mn=pn}(Nn=A())&&typeof Nn.catch=="function"&&Nn.catch(function(){})}}catch(pn){if(pn&&mn&&typeof pn.stack=="string")return[pn.stack,mn.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Y=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");Y&&Y.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var se=D.DetermineComponentFrameRoot(),Ye=se[0],st=se[1];if(Ye&&st){var jt=Ye.split(`
`),dn=st.split(`
`);for(Y=D=0;D<jt.length&&!jt[D].includes("DetermineComponentFrameRoot");)D++;for(;Y<dn.length&&!dn[Y].includes("DetermineComponentFrameRoot");)Y++;if(D===jt.length||Y===dn.length)for(D=jt.length-1,Y=dn.length-1;1<=D&&0<=Y&&jt[D]!==dn[Y];)Y--;for(;1<=D&&0<=Y;D--,Y--)if(jt[D]!==dn[Y]){if(D!==1||Y!==1)do if(D--,Y--,0>Y||jt[D]!==dn[Y]){var Dn=`
`+jt[D].replace(" at new "," at ");return A.displayName&&Dn.includes("<anonymous>")&&(Dn=Dn.replace("<anonymous>",A.displayName)),Dn}while(1<=D&&0<=Y);break}}}finally{Xe=!1,Error.prepareStackTrace=x}return(x=A?A.displayName||A.name:"")?ea(x):""}function Mn(A){switch(A.tag){case 26:case 27:case 5:return ea(A.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return Bt(A.type,!1);case 11:return Bt(A.type.render,!1);case 1:return Bt(A.type,!0);case 31:return ea("Activity");default:return""}}function Wn(A){try{var m="";do m+=Mn(A),A=A.return;while(A);return m}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function an(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function li(A){var m=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function no(A){var m=li(A)?"checked":"value",x=Object.getOwnPropertyDescriptor(A.constructor.prototype,m),D=""+A[m];if(!A.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var Y=x.get,se=x.set;return Object.defineProperty(A,m,{configurable:!0,get:function(){return Y.call(this)},set:function(Ye){D=""+Ye,se.call(this,Ye)}}),Object.defineProperty(A,m,{enumerable:x.enumerable}),{getValue:function(){return D},setValue:function(Ye){D=""+Ye},stopTracking:function(){A._valueTracker=null,delete A[m]}}}}function Oo(A){A._valueTracker||(A._valueTracker=no(A))}function ps(A){if(!A)return!1;var m=A._valueTracker;if(!m)return!0;var x=m.getValue(),D="";return A&&(D=li(A)?A.checked?"true":"false":A.value),A=D,A!==x?(m.setValue(A),!0):!1}function Ws(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Ju=/[\n"\\]/g;function Hi(A){return A.replace(Ju,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function jA(A,m,x,D,Y,se,Ye,st){A.name="",Ye!=null&&typeof Ye!="function"&&typeof Ye!="symbol"&&typeof Ye!="boolean"?A.type=Ye:A.removeAttribute("type"),m!=null?Ye==="number"?(m===0&&A.value===""||A.value!=m)&&(A.value=""+an(m)):A.value!==""+an(m)&&(A.value=""+an(m)):Ye!=="submit"&&Ye!=="reset"||A.removeAttribute("value"),m!=null?xl(A,Ye,an(m)):x!=null?xl(A,Ye,an(x)):D!=null&&A.removeAttribute("value"),Y==null&&se!=null&&(A.defaultChecked=!!se),Y!=null&&(A.checked=Y&&typeof Y!="function"&&typeof Y!="symbol"),st!=null&&typeof st!="function"&&typeof st!="symbol"&&typeof st!="boolean"?A.name=""+an(st):A.removeAttribute("name")}function Ou(A,m,x,D,Y,se,Ye,st){if(se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(A.type=se),m!=null||x!=null){if(!(se!=="submit"&&se!=="reset"||m!=null))return;x=x!=null?""+an(x):"",m=m!=null?""+an(m):x,st||m===A.value||(A.value=m),A.defaultValue=m}D=D??Y,D=typeof D!="function"&&typeof D!="symbol"&&!!D,A.checked=st?A.checked:!!D,A.defaultChecked=!!D,Ye!=null&&typeof Ye!="function"&&typeof Ye!="symbol"&&typeof Ye!="boolean"&&(A.name=Ye)}function xl(A,m,x){m==="number"&&Ws(A.ownerDocument)===A||A.defaultValue===""+x||(A.defaultValue=""+x)}function Is(A,m,x,D){if(A=A.options,m){m={};for(var Y=0;Y<x.length;Y++)m["$"+x[Y]]=!0;for(x=0;x<A.length;x++)Y=m.hasOwnProperty("$"+A[x].value),A[x].selected!==Y&&(A[x].selected=Y),Y&&D&&(A[x].defaultSelected=!0)}else{for(x=""+an(x),m=null,Y=0;Y<A.length;Y++){if(A[Y].value===x){A[Y].selected=!0,D&&(A[Y].defaultSelected=!0);return}m!==null||A[Y].disabled||(m=A[Y])}m!==null&&(m.selected=!0)}}function Tc(A,m,x){if(m!=null&&(m=""+an(m),m!==A.value&&(A.value=m),x==null)){A.defaultValue!==m&&(A.defaultValue=m);return}A.defaultValue=x!=null?""+an(x):""}function Xs(A,m,x,D){if(m==null){if(D!=null){if(x!=null)throw Error(i(92));if(Ce(D)){if(1<D.length)throw Error(i(93));D=D[0]}x=D}x==null&&(x=""),m=x}x=an(m),A.defaultValue=x,D=A.textContent,D===x&&D!==""&&D!==null&&(A.value=D)}function ta(A,m){if(m){var x=A.firstChild;if(x&&x===A.lastChild&&x.nodeType===3){x.nodeValue=m;return}}A.textContent=m}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mr(A,m,x){var D=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?D?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="":D?A.setProperty(m,x):typeof x!="number"||x===0||Po.has(m)?m==="float"?A.cssFloat=x:A[m]=(""+x).trim():A[m]=x+"px"}function Gl(A,m,x){if(m!=null&&typeof m!="object")throw Error(i(62));if(A=A.style,x!=null){for(var D in x)!x.hasOwnProperty(D)||m!=null&&m.hasOwnProperty(D)||(D.indexOf("--")===0?A.setProperty(D,""):D==="float"?A.cssFloat="":A[D]="");for(var Y in m)D=m[Y],m.hasOwnProperty(Y)&&x[Y]!==D&&mr(A,Y,D)}else for(var se in m)m.hasOwnProperty(se)&&mr(A,se,m[se])}function ba(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(A){return Iu.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var Au=null;function yA(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Wo=null,Io=null;function Qa(A){var m=Ni(A);if(m&&(A=m.stateNode)){var x=A[ti]||null;e:switch(A=m.stateNode,m.type){case"input":if(jA(A,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=A;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Hi(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var D=x[m];if(D!==A&&D.form===A.form){var Y=D[ti]||null;if(!Y)throw Error(i(90));jA(D,Y.value,Y.defaultValue,Y.defaultValue,Y.checked,Y.defaultChecked,Y.type,Y.name)}}for(m=0;m<x.length;m++)D=x[m],D.form===A.form&&ps(D)}break e;case"textarea":Tc(A,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&Is(A,!!x.multiple,m,!1)}}}var Ia=!1;function ca(A,m,x){if(Ia)return A(m,x);Ia=!0;try{var D=A(m);return D}finally{if(Ia=!1,(Wo!==null||Io!==null)&&(fg(),Wo&&(m=Wo,A=Io,Io=Wo=null,Qa(m),A)))for(m=0;m<A.length;m++)Qa(A[m])}}function Ur(A,m){var x=A.stateNode;if(x===null)return null;var D=x[ti]||null;if(D===null)return null;x=D[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(A=A.type,D=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!D;break e;default:A=!1}if(A)return null;if(x&&typeof x!="function")throw Error(i(231,m,typeof x));return x}var cu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(cu)try{var os={};Object.defineProperty(os,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Ya=!1}var xa=null,Kr=null,Ml=null;function er(){if(Ml)return Ml;var A,m=Kr,x=m.length,D,Y="value"in xa?xa.value:xa.textContent,se=Y.length;for(A=0;A<x&&m[A]===Y[A];A++);var Ye=x-A;for(D=1;D<=Ye&&m[x-D]===Y[se-D];D++);return Ml=Y.slice(A,1<D?1-D:void 0)}function Ei(A){var m=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&m===13&&(A=13)):A=m,A===10&&(A=13),32<=A||A===13?A:0}function Hr(){return!0}function ie(){return!1}function Te(A){function m(x,D,Y,se,Ye){this._reactName=x,this._targetInst=Y,this.type=D,this.nativeEvent=se,this.target=Ye,this.currentTarget=null;for(var st in A)A.hasOwnProperty(st)&&(x=A[st],this[st]=x?x(se):se[st]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?Hr:ie,this.isPropagationStopped=ie,this}return _(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),m}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=Te(lt),Bi=_({},lt,{view:0,detail:0}),ei=Te(Bi),Ji,lr,Ui,tr=_({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tA,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Ui&&(Ui&&A.type==="mousemove"?(Ji=A.screenX-Ui.screenX,lr=A.screenY-Ui.screenY):lr=Ji=0,Ui=A),Ji)},movementY:function(A){return"movementY"in A?A.movementY:lr}}),io=Te(tr),fo=_({},tr,{dataTransfer:0}),dr=Te(fo),vr=_({},Bi,{relatedTarget:0}),po=Te(vr),Qo=_({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Te(Qo),Js=_({},lt,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Ql=Te(Js),eA=_({},lt,{data:0}),Cs=Te(eA),Sd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},za={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(A){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(A):(A=Ed[A])?!!m[A]:!1}function tA(){return NA}var wh=_({},Bi,{key:function(A){if(A.key){var m=Sd[A.key]||A.key;if(m!=="Unidentified")return m}return A.type==="keypress"?(A=Ei(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?za[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tA,charCode:function(A){return A.type==="keypress"?Ei(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Ei(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),$h=Te(wh),go=_({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=Te(go),Bd=_({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tA}),Bm=Te(Bd),Sh=_({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Od=Te(Sh),b0=_({},tr,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Yf=Te(b0),qf=_({},lt,{newState:0,oldState:0}),nA=Te(qf),as=[9,13,27,32],Id=cu&&"CompositionEvent"in window,Yl=null;cu&&"documentMode"in document&&(Yl=document.documentMode);var Td=cu&&"TextEvent"in window&&!Yl,Zh=cu&&(!Id||Yl&&8<Yl&&11>=Yl),th=" ",Xh=!1;function Hf(A,m){switch(A){case"keyup":return as.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Bh=!1;function Jh(A,m){switch(A){case"compositionend":return Eh(m);case"keypress":return m.which!==32?null:(Xh=!0,th);case"textInput":return A=m.data,A===th&&Xh?null:A;default:return null}}function Vf(A,m){if(Bh)return A==="compositionend"||!Id&&Hf(A,m)?(A=er(),Ml=Kr=xa=null,Bh=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Zh&&m.locale!=="ko"?null:m.data;default:return null}}var hu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m==="input"?!!hu[A.type]:m==="textarea"}function dc(A,m,x,D){Wo?Io?Io.push(D):Io=[D]:Wo=D,m=D0(m,"onChange"),0<m.length&&(x=new Qt("onChange","change",null,x,D),A.push({event:x,listeners:m}))}var du=null,kc=null;function kd(A){jy(A,0)}function Dd(A){var m=br(A);if(ps(m))return A}function GA(A,m){if(A==="change")return m}var iA=!1;if(cu){var ed;if(cu){var Dc="oninput"in document;if(!Dc){var td=document.createElement("div");td.setAttribute("oninput","return;"),Dc=typeof td.oninput=="function"}ed=Dc}else ed=!1;iA=ed&&(!document.documentMode||9<document.documentMode)}function Om(){du&&(du.detachEvent("onpropertychange",nh),kc=du=null)}function nh(A){if(A.propertyName==="value"&&Dd(kc)){var m=[];dc(m,kc,A,yA(A)),ca(kd,m)}}function uf(A,m,x){A==="focusin"?(Om(),du=m,kc=x,du.attachEvent("onpropertychange",nh)):A==="focusout"&&Om()}function vA(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Dd(kc)}function rA(A,m){if(A==="click")return Dd(m)}function Fp(A,m){if(A==="input"||A==="change")return Dd(m)}function Zf(A,m){return A===m&&(A!==0||1/A===1/m)||A!==A&&m!==m}var Tu=typeof Object.is=="function"?Object.is:Zf;function fc(A,m){if(Tu(A,m))return!0;if(typeof A!="object"||A===null||typeof m!="object"||m===null)return!1;var x=Object.keys(A),D=Object.keys(m);if(x.length!==D.length)return!1;for(D=0;D<x.length;D++){var Y=x[D];if(!bt.call(m,Y)||!Tu(A[Y],m[Y]))return!1}return!0}function ku(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function WA(A,m){var x=ku(A);A=0;for(var D;x;){if(x.nodeType===3){if(D=A+x.textContent.length,A<=m&&D>=m)return{node:x,offset:m-A};A=D}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=ku(x)}}function To(A,m){return A&&m?A===m?!0:A&&A.nodeType===3?!1:m&&m.nodeType===3?To(A,m.parentNode):"contains"in A?A.contains(m):A.compareDocumentPosition?!!(A.compareDocumentPosition(m)&16):!1:!1}function Oh(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var m=Ws(A.document);m instanceof A.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)A=m.contentWindow;else break;m=Ws(A.document)}return m}function Rd(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m&&(m==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||m==="textarea"||A.contentEditable==="true")}var zp=cu&&"documentMode"in document&&11>=document.documentMode,Rc=null,ql=null,Xt=null,En=!1;function Cn(A,m,x){var D=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;En||Rc==null||Rc!==Ws(D)||(D=Rc,"selectionStart"in D&&Rd(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Xt&&fc(Xt,D)||(Xt=D,D=D0(ql,"onSelect"),0<D.length&&(m=new Qt("onSelect","select",null,m,x),A.push({event:m,listeners:D}),m.target=Rc)))}function Di(A,m){var x={};return x[A.toLowerCase()]=m.toLowerCase(),x["Webkit"+A]="webkit"+m,x["Moz"+A]="moz"+m,x}var Or={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},ko={},el={};cu&&(el=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Uo(A){if(ko[A])return ko[A];if(!Or[A])return A;var m=Or[A],x;for(x in m)if(m.hasOwnProperty(x)&&x in el)return ko[A]=m[x];return A}var ih=Uo("animationend"),Af=Uo("animationiteration"),fu=Uo("animationstart"),Pd=Uo("transitionrun"),CA=Uo("transitionstart"),Du=Uo("transitioncancel"),Ru=Uo("transitionend"),Ul=new Map,Yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yo.push("scrollEnd");function _A(A,m){Ul.set(A,m),La(m,[A])}var nd=new WeakMap;function qa(A,m){if(typeof A=="object"&&A!==null){var x=nd.get(A);return x!==void 0?x:(m={value:A,source:m,stack:Wn(m)},nd.set(A,m),m)}return{value:A,source:m,stack:Wn(m)}}var tl=[],Ts=0,oA=0;function Hl(){for(var A=Ts,m=oA=Ts=0;m<A;){var x=tl[m];tl[m++]=null;var D=tl[m];tl[m++]=null;var Y=tl[m];tl[m++]=null;var se=tl[m];if(tl[m++]=null,D!==null&&Y!==null){var Ye=D.pending;Ye===null?Y.next=Y:(Y.next=Ye.next,Ye.next=Y),D.pending=Y}se!==0&&Pc(x,Y,se)}}function Pu(A,m,x,D){tl[Ts++]=A,tl[Ts++]=m,tl[Ts++]=x,tl[Ts++]=D,oA|=D,A.lanes|=D,A=A.alternate,A!==null&&(A.lanes|=D)}function pc(A,m,x,D){return Pu(A,m,x,D),Ih(A)}function Uu(A,m){return Pu(A,null,null,m),Ih(A)}function Pc(A,m,x){A.lanes|=x;var D=A.alternate;D!==null&&(D.lanes|=x);for(var Y=!1,se=A.return;se!==null;)se.childLanes|=x,D=se.alternate,D!==null&&(D.childLanes|=x),se.tag===22&&(A=se.stateNode,A===null||A._visibility&1||(Y=!0)),A=se,se=se.return;return A.tag===3?(se=A.stateNode,Y&&m!==null&&(Y=31-oe(x),A=se.hiddenUpdates,D=A[Y],D===null?A[Y]=[m]:D.push(m),m.lane=x|536870912),se):null}function Ih(A){if(50<fp)throw fp=0,pp=null,Error(i(185));for(var m=A.return;m!==null;)A=m,m=A.return;return A.tag===3?A.stateNode:null}var Pr={};function mc(A,m,x,D){this.tag=A,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aA(A,m,x,D){return new mc(A,m,x,D)}function Uc(A){return A=A.prototype,!(!A||!A.isReactComponent)}function ks(A,m){var x=A.alternate;return x===null?(x=aA(A.tag,m,A.key,A.mode),x.elementType=A.elementType,x.type=A.type,x.stateNode=A.stateNode,x.alternate=A,A.alternate=x):(x.pendingProps=m,x.type=A.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=A.flags&65011712,x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,m=A.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=A.sibling,x.index=A.index,x.ref=A.ref,x.refCleanup=A.refCleanup,x}function Th(A,m){A.flags&=65011714;var x=A.alternate;return x===null?(A.childLanes=0,A.lanes=m,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=x.childLanes,A.lanes=x.lanes,A.child=x.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=x.memoizedProps,A.memoizedState=x.memoizedState,A.updateQueue=x.updateQueue,A.type=x.type,m=x.dependencies,A.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A}function Ud(A,m,x,D,Y,se){var Ye=0;if(D=A,typeof A=="function")Uc(A)&&(Ye=1);else if(typeof A=="string")Ye=H(A,x,Et.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case ge:return A=aA(31,x,m,Y),A.elementType=ge,A.lanes=se,A;case z:return bA(x.children,Y,se,m);case N:Ye=8,Y|=24;break;case Q:return A=aA(12,x,m,Y|2),A.elementType=Q,A.lanes=se,A;case V:return A=aA(13,x,m,Y),A.elementType=V,A.lanes=se,A;case J:return A=aA(19,x,m,Y),A.elementType=J,A.lanes=se,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case $:case re:Ye=10;break e;case X:Ye=9;break e;case ne:Ye=11;break e;case W:Ye=14;break e;case he:Ye=16,D=null;break e}Ye=29,x=Error(i(130,A===null?"null":typeof A,"")),D=null}return m=aA(Ye,x,m,Y),m.elementType=A,m.type=D,m.lanes=se,m}function bA(A,m,x,D){return A=aA(7,A,D,m),A.lanes=x,A}function Kd(A,m,x){return A=aA(6,A,null,m),A.lanes=x,A}function rh(A,m,x){return m=aA(4,A.children!==null?A.children:[],A.key,m),m.lanes=x,m.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},m}var Ku=[],QA=0,kh=null,id=0,Lu=[],Kl=0,qo=null,ha=1,YA="";function qA(A,m){Ku[QA++]=id,Ku[QA++]=kh,kh=A,id=m}function Kc(A,m,x){Lu[Kl++]=ha,Lu[Kl++]=YA,Lu[Kl++]=qo,qo=A;var D=ha;A=YA;var Y=32-oe(D)-1;D&=~(1<<Y),x+=1;var se=32-oe(m)+Y;if(30<se){var Ye=Y-Y%5;se=(D&(1<<Ye)-1).toString(32),D>>=Ye,Y-=Ye,ha=1<<32-oe(m)+Y|x<<Y|D,YA=se+A}else ha=1<<se|x<<Y|D,YA=A}function oh(A){A.return!==null&&(qA(A,1),Kc(A,1,0))}function ah(A){for(;A===kh;)kh=Ku[--QA],Ku[QA]=null,id=Ku[--QA],Ku[QA]=null;for(;A===qo;)qo=Lu[--Kl],Lu[Kl]=null,YA=Lu[--Kl],Lu[Kl]=null,ha=Lu[--Kl],Lu[Kl]=null}var Ma=null,Sa=null,Jr=!1,pu=null,Qs=!1,sh=Error(i(519));function xA(A){var m=Error(i(418,""));throw HA(qa(m,A)),sh}function cf(A){var m=A.stateNode,x=A.type,D=A.memoizedProps;switch(m[di]=A,m[ti]=D,x){case"dialog":sa("cancel",m),sa("close",m);break;case"iframe":case"object":case"embed":sa("load",m);break;case"video":case"audio":for(x=0;x<T0.length;x++)sa(T0[x],m);break;case"source":sa("error",m);break;case"img":case"image":case"link":sa("error",m),sa("load",m);break;case"details":sa("toggle",m);break;case"input":sa("invalid",m),Ou(m,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0),Oo(m);break;case"select":sa("invalid",m);break;case"textarea":sa("invalid",m),Xs(m,D.value,D.defaultValue,D.children),Oo(m)}x=D.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||D.suppressHydrationWarning===!0||S1(m.textContent,x)?(D.popover!=null&&(sa("beforetoggle",m),sa("toggle",m)),D.onScroll!=null&&sa("scroll",m),D.onScrollEnd!=null&&sa("scrollend",m),D.onClick!=null&&(m.onclick=oc),m=!0):m=!1,m||xA(A)}function _s(A){for(Ma=A.return;Ma;)switch(Ma.tag){case 5:case 13:Qs=!1;return;case 27:case 3:Qs=!0;return;default:Ma=Ma.return}}function ul(A){if(A!==Ma)return!1;if(!Jr)return _s(A),Jr=!0,!1;var m=A.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=A.type,x=!(x!=="form"&&x!=="button")||md(A.type,A.memoizedProps)),x=!x),x&&Sa&&xA(A),_s(A),m===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));e:{for(A=A.nextSibling,m=0;A;){if(A.nodeType===8)if(x=A.data,x==="/$"){if(m===0){Sa=gd(A.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++;A=A.nextSibling}Sa=null}}else m===27?(m=Sa,yh(A.type)?(A=O1,O1=null,Sa=A):Sa=m):Sa=Ma?gd(A.stateNode.nextSibling):null;return!0}function Ys(){Sa=Ma=null,Jr=!1}function hf(){var A=pu;return A!==null&&(Yc===null?Yc=A:Yc.push.apply(Yc,A),pu=null),A}function HA(A){pu===null?pu=[A]:pu.push(A)}var Dh=We(null),sA=null,at=null;function nl(A,m,x){ke(Dh,m._currentValue),m._currentValue=x}function Ha(A){A._currentValue=Dh.current,tt(Dh)}function na(A,m,x){for(;A!==null;){var D=A.alternate;if((A.childLanes&m)!==m?(A.childLanes|=m,D!==null&&(D.childLanes|=m)):D!==null&&(D.childLanes&m)!==m&&(D.childLanes|=m),A===x)break;A=A.return}}function Cr(A,m,x,D){var Y=A.child;for(Y!==null&&(Y.return=A);Y!==null;){var se=Y.dependencies;if(se!==null){var Ye=Y.child;se=se.firstContext;e:for(;se!==null;){var st=se;se=Y;for(var jt=0;jt<m.length;jt++)if(st.context===m[jt]){se.lanes|=x,st=se.alternate,st!==null&&(st.lanes|=x),na(se.return,x,A),D||(Ye=null);break e}se=st.next}}else if(Y.tag===18){if(Ye=Y.return,Ye===null)throw Error(i(341));Ye.lanes|=x,se=Ye.alternate,se!==null&&(se.lanes|=x),na(Ye,x,A),Ye=null}else Ye=Y.child;if(Ye!==null)Ye.return=Y;else for(Ye=Y;Ye!==null;){if(Ye===A){Ye=null;break}if(Y=Ye.sibling,Y!==null){Y.return=Ye.return,Ye=Y;break}Ye=Ye.return}Y=Ye}}function bs(A,m,x,D){A=null;for(var Y=m,se=!1;Y!==null;){if(!se){if((Y.flags&524288)!==0)se=!0;else if((Y.flags&262144)!==0)break}if(Y.tag===10){var Ye=Y.alternate;if(Ye===null)throw Error(i(387));if(Ye=Ye.memoizedProps,Ye!==null){var st=Y.type;Tu(Y.pendingProps.value,Ye.value)||(A!==null?A.push(st):A=[st])}}else if(Y===Kt.current){if(Ye=Y.alternate,Ye===null)throw Error(i(387));Ye.memoizedState.memoizedState!==Y.memoizedState.memoizedState&&(A!==null?A.push(qt):A=[qt])}Y=Y.return}A!==null&&Cr(m,A,x,D),m.flags|=262144}function lh(A){for(A=A.firstContext;A!==null;){if(!Tu(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Rh(A){sA=A,at=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Ko(A){return Fu(sA,A)}function uh(A,m){return sA===null&&Rh(A),Fu(A,m)}function Fu(A,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},at===null){if(A===null)throw Error(i(308));at=m,A.dependencies={lanes:0,firstContext:m},A.flags|=524288}else at=at.next=m;return x}var Ld=typeof AbortController<"u"?AbortController:function(){var A=[],m=this.signal={aborted:!1,addEventListener:function(x,D){A.push(D)}};this.abort=function(){m.aborted=!0,A.forEach(function(x){return x()})}},df=n.unstable_scheduleCallback,jp=n.unstable_NormalPriority,Ea={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new Ld,data:new Map,refCount:0}}function Ah(A){A.refCount--,A.refCount===0&&df(jp,function(){A.controller.abort()})}var VA=null,ff=0,Al=0,ss=null;function rd(A,m){if(VA===null){var x=VA=[];ff=0,Al=qm(),ss={status:"pending",value:void 0,then:function(D){x.push(D)}}}return ff++,m.then(mu,mu),m}function mu(){if(--ff===0&&VA!==null){ss!==null&&(ss.status="fulfilled");var A=VA;VA=null,Al=0,ss=null;for(var m=0;m<A.length;m++)(0,A[m])()}}function Fd(A,m){var x=[],D={status:"pending",value:null,reason:null,then:function(Y){x.push(Y)}};return A.then(function(){D.status="fulfilled",D.value=m;for(var Y=0;Y<x.length;Y++)(0,x[Y])(m)},function(Y){for(D.status="rejected",D.reason=Y,Y=0;Y<x.length;Y++)(0,x[Y])(void 0)}),D}var pf=Fe.S;Fe.S=function(A,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&rd(A,m),pf!==null&&pf(A,m)};var wl=We(null);function Lc(){var A=wl.current;return A!==null?A:Vs.pooledCache}function Xf(A,m){m===null?ke(wl,wl.current):ke(wl,m.pool)}function od(){var A=Lc();return A===null?null:{parent:Ea._currentValue,pool:A}}var wa=Error(i(460)),eo=Error(i(474)),hi=Error(i(542)),$A={then:function(){}};function ZA(A){return A=A.status,A==="fulfilled"||A==="rejected"}function ad(){}function Fc(A,m,x){switch(x=A[x],x===void 0?A.push(m):x!==m&&(m.then(ad,ad),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw A=m.reason,ro(A),A;default:if(typeof m.status=="string")m.then(ad,ad);else{if(A=Vs,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=m,A.status="pending",A.then(function(D){if(m.status==="pending"){var Y=m;Y.status="fulfilled",Y.value=D}},function(D){if(m.status==="pending"){var Y=m;Y.status="rejected",Y.reason=D}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw A=m.reason,ro(A),A}throw MA=m,wa}}var MA=null;function mf(){if(MA===null)throw Error(i(459));var A=MA;return MA=null,A}function ro(A){if(A===wa||A===hi)throw Error(i(483))}var Vl=!1;function Uh(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(A,m){A=A.updateQueue,m.updateQueue===A&&(m.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function zu(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function yc(A,m,x){var D=A.updateQueue;if(D===null)return null;if(D=D.shared,(cs&2)!==0){var Y=D.pending;return Y===null?m.next=m:(m.next=Y.next,Y.next=m),D.pending=m,m=Ih(A),Pc(A,null,x),m}return Pu(A,D,m,x),Ih(A)}function Kh(A,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var D=m.lanes;D&=A.pendingLanes,x|=D,m.lanes=x,wn(A,x)}}function wA(A,m){var x=A.updateQueue,D=A.alternate;if(D!==null&&(D=D.updateQueue,x===D)){var Y=null,se=null;if(x=x.firstBaseUpdate,x!==null){do{var Ye={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};se===null?Y=se=Ye:se=se.next=Ye,x=x.next}while(x!==null);se===null?Y=se=m:se=se.next=m}else Y=se=m;x={baseState:D.baseState,firstBaseUpdate:Y,lastBaseUpdate:se,shared:D.shared,callbacks:D.callbacks},A.updateQueue=x;return}A=x.lastBaseUpdate,A===null?x.firstBaseUpdate=m:A.next=m,x.lastBaseUpdate=m}var ch=!1;function lA(){if(ch){var A=ss;if(A!==null)throw A}}function Sl(A,m,x,D){ch=!1;var Y=A.updateQueue;Vl=!1;var se=Y.firstBaseUpdate,Ye=Y.lastBaseUpdate,st=Y.shared.pending;if(st!==null){Y.shared.pending=null;var jt=st,dn=jt.next;jt.next=null,Ye===null?se=dn:Ye.next=dn,Ye=jt;var Dn=A.alternate;Dn!==null&&(Dn=Dn.updateQueue,st=Dn.lastBaseUpdate,st!==Ye&&(st===null?Dn.firstBaseUpdate=dn:st.next=dn,Dn.lastBaseUpdate=jt))}if(se!==null){var Nn=Y.baseState;Ye=0,Dn=dn=jt=null,st=se;do{var mn=st.lane&-536870913,pn=mn!==st.lane;if(pn?(Vo&mn)===mn:(D&mn)===mn){mn!==0&&mn===Al&&(ch=!0),Dn!==null&&(Dn=Dn.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});e:{var Fr=A,zr=st;mn=m;var Bs=x;switch(zr.tag){case 1:if(Fr=zr.payload,typeof Fr=="function"){Nn=Fr.call(Bs,Nn,mn);break e}Nn=Fr;break e;case 3:Fr.flags=Fr.flags&-65537|128;case 0:if(Fr=zr.payload,mn=typeof Fr=="function"?Fr.call(Bs,Nn,mn):Fr,mn==null)break e;Nn=_({},Nn,mn);break e;case 2:Vl=!0}}mn=st.callback,mn!==null&&(A.flags|=64,pn&&(A.flags|=8192),pn=Y.callbacks,pn===null?Y.callbacks=[mn]:pn.push(mn))}else pn={lane:mn,tag:st.tag,payload:st.payload,callback:st.callback,next:null},Dn===null?(dn=Dn=pn,jt=Nn):Dn=Dn.next=pn,Ye|=mn;if(st=st.next,st===null){if(st=Y.shared.pending,st===null)break;pn=st,st=pn.next,pn.next=null,Y.lastBaseUpdate=pn,Y.shared.pending=null}}while(!0);Dn===null&&(jt=Nn),Y.baseState=jt,Y.firstBaseUpdate=dn,Y.lastBaseUpdate=Dn,se===null&&(Y.shared.lanes=0),Wd|=Ye,A.lanes=Ye,A.memoizedState=Nn}}function Np(A,m){if(typeof A!="function")throw Error(i(191,A));A.call(m)}function gf(A,m){var x=A.callbacks;if(x!==null)for(A.callbacks=null,A=0;A<x.length;A++)Np(x[A],m)}var $l=We(null),Lo=We(0);function Zl(A,m){A=Mf,ke(Lo,A),ke($l,m),Mf=A|m.baseLanes}function sd(){ke(Lo,Mf),ke($l,$l.current)}function Jf(){Mf=Lo.current,tt($l),tt(Lo)}var SA=0,oo=null,Fo=null,Lr=null,XA=!1,ki=!1,Ri=!1,zc=0,ju=0,gu=null,da=0;function yo(){throw Error(i(321))}function Xl(A,m){if(m===null)return!1;for(var x=0;x<m.length&&x<A.length;x++)if(!Tu(A[x],m[x]))return!1;return!0}function ep(A,m,x,D,Y,se){return SA=se,oo=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Fe.H=A===null||A.memoizedState===null?tc:Bl,Ri=!1,se=x(D,Y),Ri=!1,ki&&(se=zo(m,x,D,Y)),ld(A),se}function ld(A){Fe.H=El;var m=Fo!==null&&Fo.next!==null;if(SA=0,Lr=Fo=oo=null,XA=!1,ju=0,gu=null,m)throw Error(i(300));A===null||rl||(A=A.dependencies,A!==null&&lh(A)&&(rl=!0))}function zo(A,m,x,D){oo=A;var Y=0;do{if(ki&&(gu=null),ju=0,ki=!1,25<=Y)throw Error(i(301));if(Y+=1,Lr=Fo=null,A.updateQueue!=null){var se=A.updateQueue;se.lastEffect=null,se.events=null,se.stores=null,se.memoCache!=null&&(se.memoCache.index=0)}Fe.H=Wc,se=m(x,D)}while(ki);return se}function Va(){var A=Fe.H,m=A.useState()[0];return m=typeof m.then=="function"?Nc(m):m,A=A.useState()[0],(Fo!==null?Fo.memoizedState:null)!==A&&(oo.flags|=1024),m}function ud(){var A=zc!==0;return zc=0,A}function EA(A,m,x){m.updateQueue=A.updateQueue,m.flags&=-2053,A.lanes&=~x}function jc(A){if(XA){for(A=A.memoizedState;A!==null;){var m=A.queue;m!==null&&(m.pending=null),A=A.next}XA=!1}SA=0,Lr=Fo=oo=null,ki=!1,ju=zc=0,gu=null}function il(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?oo.memoizedState=Lr=A:Lr=Lr.next=A,Lr}function ls(){if(Fo===null){var A=oo.alternate;A=A!==null?A.memoizedState:null}else A=Fo.next;var m=Lr===null?oo.memoizedState:Lr.next;if(m!==null)Lr=m,Fo=A;else{if(A===null)throw oo.alternate===null?Error(i(467)):Error(i(310));Fo=A,A={memoizedState:Fo.memoizedState,baseState:Fo.baseState,baseQueue:Fo.baseQueue,queue:Fo.queue,next:null},Lr===null?oo.memoizedState=Lr=A:Lr=Lr.next=A}return Lr}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(A){var m=ju;return ju+=1,gu===null&&(gu=[]),A=Fc(gu,A,m),m=oo,(Lr===null?m.memoizedState:Lr.next)===null&&(m=m.alternate,Fe.H=m===null||m.memoizedState===null?tc:Bl),A}function vc(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Nc(A);if(A.$$typeof===re)return Ko(A)}throw Error(i(438,String(A)))}function Cc(A){var m=null,x=oo.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var D=oo.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(m={data:D.data.map(function(Y){return Y.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=yu(),oo.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(A),D=0;D<A;D++)x[D]=ve;return m.index++,x}function Jl(A,m){return typeof m=="function"?m(A):m}function Ad(A){var m=ls();return cd(m,Fo,A)}function cd(A,m,x){var D=A.queue;if(D===null)throw Error(i(311));D.lastRenderedReducer=x;var Y=A.baseQueue,se=D.pending;if(se!==null){if(Y!==null){var Ye=Y.next;Y.next=se.next,se.next=Ye}m.baseQueue=Y=se,D.pending=null}if(se=A.baseState,Y===null)A.memoizedState=se;else{m=Y.next;var st=Ye=null,jt=null,dn=m,Dn=!1;do{var Nn=dn.lane&-536870913;if(Nn!==dn.lane?(Vo&Nn)===Nn:(SA&Nn)===Nn){var mn=dn.revertLane;if(mn===0)jt!==null&&(jt=jt.next={lane:0,revertLane:0,action:dn.action,hasEagerState:dn.hasEagerState,eagerState:dn.eagerState,next:null}),Nn===Al&&(Dn=!0);else if((SA&mn)===mn){dn=dn.next,mn===Al&&(Dn=!0);continue}else Nn={lane:0,revertLane:dn.revertLane,action:dn.action,hasEagerState:dn.hasEagerState,eagerState:dn.eagerState,next:null},jt===null?(st=jt=Nn,Ye=se):jt=jt.next=Nn,oo.lanes|=mn,Wd|=mn;Nn=dn.action,Ri&&x(se,Nn),se=dn.hasEagerState?dn.eagerState:x(se,Nn)}else mn={lane:Nn,revertLane:dn.revertLane,action:dn.action,hasEagerState:dn.hasEagerState,eagerState:dn.eagerState,next:null},jt===null?(st=jt=mn,Ye=se):jt=jt.next=mn,oo.lanes|=Nn,Wd|=Nn;dn=dn.next}while(dn!==null&&dn!==m);if(jt===null?Ye=se:jt.next=st,!Tu(se,A.memoizedState)&&(rl=!0,Dn&&(x=ss,x!==null)))throw x;A.memoizedState=se,A.baseState=Ye,A.baseQueue=jt,D.lastRenderedState=se}return Y===null&&(D.lanes=0),[A.memoizedState,D.dispatch]}function zd(A){var m=ls(),x=m.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=A;var D=x.dispatch,Y=x.pending,se=m.memoizedState;if(Y!==null){x.pending=null;var Ye=Y=Y.next;do se=A(se,Ye.action),Ye=Ye.next;while(Ye!==Y);Tu(se,m.memoizedState)||(rl=!0),m.memoizedState=se,m.baseQueue===null&&(m.baseState=se),x.lastRenderedState=se}return[se,D]}function k(A,m,x){var D=oo,Y=ls(),se=Jr;if(se){if(x===void 0)throw Error(i(407));x=x()}else x=m();var Ye=!Tu((Fo||Y).memoizedState,x);Ye&&(Y.memoizedState=x,rl=!0),Y=Y.queue;var st=b.bind(null,D,Y,A);if(Ht(2048,8,st,[A]),Y.getSnapshot!==m||Ye||Lr!==null&&Lr.memoizedState.tag&1){if(D.flags|=2048,St(9,Pt(),f.bind(null,D,Y,x,m),null),Vs===null)throw Error(i(349));se||(SA&124)!==0||l(D,m,x)}return x}function l(A,m,x){A.flags|=16384,A={getSnapshot:m,value:x},m=oo.updateQueue,m===null?(m=yu(),oo.updateQueue=m,m.stores=[A]):(x=m.stores,x===null?m.stores=[A]:x.push(A))}function f(A,m,x,D){m.value=x,m.getSnapshot=D,S(m)&&R(A)}function b(A,m,x){return x(function(){S(m)&&R(A)})}function S(A){var m=A.getSnapshot;A=A.value;try{var x=m();return!Tu(A,x)}catch{return!0}}function R(A){var m=Uu(A,2);m!==null&&mh(m,A,2)}function j(A){var m=il();if(typeof A=="function"){var x=A;if(A=x(),Ri){de(!0);try{x()}finally{de(!1)}}}return m.memoizedState=m.baseState=A,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:A},m}function q(A,m,x,D){return A.baseState=x,cd(A,Fo,typeof D=="function"?D:Jl)}function te(A,m,x,D,Y){if(hh(A))throw Error(i(485));if(A=m.action,A!==null){var se={payload:Y,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ye){se.listeners.push(Ye)}};Fe.T!==null?x(!0):se.isTransition=!1,D(se),x=m.pending,x===null?(se.next=m.pending=se,fe(m,se)):(se.next=x.next,m.pending=x.next=se)}}function fe(A,m){var x=m.action,D=m.payload,Y=A.state;if(m.isTransition){var se=Fe.T,Ye={};Fe.T=Ye;try{var st=x(Y,D),jt=Fe.S;jt!==null&&jt(Ye,st),ye(A,m,st)}catch(dn){Ee(A,m,dn)}finally{Fe.T=se}}else try{se=x(Y,D),ye(A,m,se)}catch(dn){Ee(A,m,dn)}}function ye(A,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(D){Oe(A,m,D)},function(D){return Ee(A,m,D)}):Oe(A,m,x)}function Oe(A,m,x){m.status="fulfilled",m.value=x,Ne(m),A.state=x,m=A.pending,m!==null&&(x=m.next,x===m?A.pending=null:(x=x.next,m.next=x,fe(A,x)))}function Ee(A,m,x){var D=A.pending;if(A.pending=null,D!==null){D=D.next;do m.status="rejected",m.reason=x,Ne(m),m=m.next;while(m!==D)}A.action=null}function Ne(A){A=A.listeners;for(var m=0;m<A.length;m++)(0,A[m])()}function Je(A,m){return m}function ut(A,m){if(Jr){var x=Vs.formState;if(x!==null){e:{var D=oo;if(Jr){if(Sa){t:{for(var Y=Sa,se=Qs;Y.nodeType!==8;){if(!se){Y=null;break t}if(Y=gd(Y.nextSibling),Y===null){Y=null;break t}}se=Y.data,Y=se==="F!"||se==="F"?Y:null}if(Y){Sa=gd(Y.nextSibling),D=Y.data==="F!";break e}}xA(D)}D=!1}D&&(m=x[0])}}return x=il(),x.memoizedState=x.baseState=m,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Je,lastRenderedState:m},x.queue=D,x=_c.bind(null,oo,D),D.dispatch=x,D=j(!1),se=Lh.bind(null,oo,!1,D.queue),D=il(),Y={state:m,dispatch:null,action:A,pending:null},D.queue=Y,x=te.bind(null,oo,Y,se,x),Y.dispatch=x,D.memoizedState=A,[m,x,!1]}function ht(A){var m=ls();return ft(m,Fo,A)}function ft(A,m,x){if(m=cd(A,m,Je)[0],A=Ad(Jl)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var D=Nc(m)}catch(Ye){throw Ye===wa?hi:Ye}else D=m;m=ls();var Y=m.queue,se=Y.dispatch;return x!==m.memoizedState&&(oo.flags|=2048,St(9,Pt(),Mt.bind(null,Y,x),null)),[D,se,A]}function Mt(A,m){A.action=m}function Ct(A){var m=ls(),x=Fo;if(x!==null)return ft(m,x,A);ls(),m=m.memoizedState,x=ls();var D=x.queue.dispatch;return x.memoizedState=A,[m,D,!1]}function St(A,m,x,D){return A={tag:A,create:x,deps:D,inst:m,next:null},m=oo.updateQueue,m===null&&(m=yu(),oo.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=A.next=A:(D=x.next,x.next=A,A.next=D,m.lastEffect=A),A}function Pt(){return{destroy:void 0,resource:void 0}}function zt(){return ls().memoizedState}function Ot(A,m,x,D){var Y=il();D=D===void 0?null:D,oo.flags|=A,Y.memoizedState=St(1|m,Pt(),x,D)}function Ht(A,m,x,D){var Y=ls();D=D===void 0?null:D;var se=Y.memoizedState.inst;Fo!==null&&D!==null&&Xl(D,Fo.memoizedState.deps)?Y.memoizedState=St(m,se,x,D):(oo.flags|=A,Y.memoizedState=St(1|m,se,x,D))}function fn(A,m){Ot(8390656,8,A,m)}function Jt(A,m){Ht(2048,8,A,m)}function rn(A,m){return Ht(4,2,A,m)}function An(A,m){return Ht(4,4,A,m)}function $n(A,m){if(typeof m=="function"){A=A();var x=m(A);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return A=A(),m.current=A,function(){m.current=null}}function Yn(A,m,x){x=x!=null?x.concat([A]):null,Ht(4,4,$n.bind(null,m,A),x)}function kn(){}function wi(A,m){var x=ls();m=m===void 0?null:m;var D=x.memoizedState;return m!==null&&Xl(m,D[1])?D[0]:(x.memoizedState=[A,m],A)}function fr(A,m){var x=ls();m=m===void 0?null:m;var D=x.memoizedState;if(m!==null&&Xl(m,D[1]))return D[0];if(D=A(),Ri){de(!0);try{A()}finally{de(!1)}}return x.memoizedState=[D,m],D}function xo(A,m,x){return x===void 0||(SA&1073741824)!==0?A.memoizedState=m:(A.memoizedState=x,A=By(),oo.lanes|=A,Wd|=A,x)}function fa(A,m,x,D){return Tu(x,m)?x:$l.current!==null?(A=xo(A,x,D),Tu(A,m)||(rl=!0),A):(SA&42)===0?(rl=!0,A.memoizedState=x):(A=By(),oo.lanes|=A,Wd|=A,m)}function jo(A,m,x,D,Y){var se=ot.p;ot.p=se!==0&&8>se?se:8;var Ye=Fe.T,st={};Fe.T=st,Lh(A,!1,m,x);try{var jt=Y(),dn=Fe.S;if(dn!==null&&dn(st,jt),jt!==null&&typeof jt=="object"&&typeof jt.then=="function"){var Dn=Fd(jt,D);eu(A,m,Dn,PA(A))}else eu(A,m,D,PA(A))}catch(Nn){eu(A,m,{then:function(){},status:"rejected",reason:Nn},PA())}finally{ot.p=se,Fe.T=Ye}}function ja(){}function pa(A,m,x,D){if(A.tag!==5)throw Error(i(476));var Y=Tr(A).queue;jo(A,Y,m,mt,x===null?ja:function(){return Ho(A),x(D)})}function Tr(A){var m=A.memoizedState;if(m!==null)return m;m={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:mt},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:x},next:null},A.memoizedState=m,A=A.alternate,A!==null&&(A.memoizedState=m),m}function Ho(A){var m=Tr(A).next.queue;eu(A,m,{},PA())}function us(){return Ko(qt)}function $a(){return ls().memoizedState}function Ds(){return ls().memoizedState}function Rs(A){for(var m=A.return;m!==null;){switch(m.tag){case 24:case 3:var x=PA();A=zu(x);var D=yc(m,A,x);D!==null&&(mh(D,m,x),Kh(D,m,x)),m={cache:Ph()},A.payload=m;return}m=m.return}}function JA(A,m,x){var D=PA();x={lane:D,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},hh(A)?ec(m,x):(x=pc(A,m,x,D),x!==null&&(mh(x,A,D),Gc(x,m,D)))}function _c(A,m,x){var D=PA();eu(A,m,x,D)}function eu(A,m,x,D){var Y={lane:D,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(hh(A))ec(m,Y);else{var se=A.alternate;if(A.lanes===0&&(se===null||se.lanes===0)&&(se=m.lastRenderedReducer,se!==null))try{var Ye=m.lastRenderedState,st=se(Ye,x);if(Y.hasEagerState=!0,Y.eagerState=st,Tu(st,Ye))return Pu(A,m,Y,0),Vs===null&&Hl(),!1}catch{}finally{}if(x=pc(A,m,Y,D),x!==null)return mh(x,A,D),Gc(x,m,D),!0}return!1}function Lh(A,m,x,D){if(D={lane:2,revertLane:qm(),action:D,hasEagerState:!1,eagerState:null,next:null},hh(A)){if(m)throw Error(i(479))}else m=pc(A,x,D,2),m!==null&&mh(m,A,2)}function hh(A){var m=A.alternate;return A===oo||m!==null&&m===oo}function ec(A,m){ki=XA=!0;var x=A.pending;x===null?m.next=m:(m.next=x.next,x.next=m),A.pending=m}function Gc(A,m,x){if((x&4194048)!==0){var D=m.lanes;D&=A.pendingLanes,x|=D,m.lanes=x,wn(A,x)}}var El={readContext:Ko,use:vc,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useLayoutEffect:yo,useInsertionEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useSyncExternalStore:yo,useId:yo,useHostTransitionStatus:yo,useFormState:yo,useActionState:yo,useOptimistic:yo,useMemoCache:yo,useCacheRefresh:yo},tc={readContext:Ko,use:vc,useCallback:function(A,m){return il().memoizedState=[A,m===void 0?null:m],A},useContext:Ko,useEffect:fn,useImperativeHandle:function(A,m,x){x=x!=null?x.concat([A]):null,Ot(4194308,4,$n.bind(null,m,A),x)},useLayoutEffect:function(A,m){return Ot(4194308,4,A,m)},useInsertionEffect:function(A,m){Ot(4,2,A,m)},useMemo:function(A,m){var x=il();m=m===void 0?null:m;var D=A();if(Ri){de(!0);try{A()}finally{de(!1)}}return x.memoizedState=[D,m],D},useReducer:function(A,m,x){var D=il();if(x!==void 0){var Y=x(m);if(Ri){de(!0);try{x(m)}finally{de(!1)}}}else Y=m;return D.memoizedState=D.baseState=Y,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:Y},D.queue=A,A=A.dispatch=JA.bind(null,oo,A),[D.memoizedState,A]},useRef:function(A){var m=il();return A={current:A},m.memoizedState=A},useState:function(A){A=j(A);var m=A.queue,x=_c.bind(null,oo,m);return m.dispatch=x,[A.memoizedState,x]},useDebugValue:kn,useDeferredValue:function(A,m){var x=il();return xo(x,A,m)},useTransition:function(){var A=j(!1);return A=jo.bind(null,oo,A.queue,!0,!1),il().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,m,x){var D=oo,Y=il();if(Jr){if(x===void 0)throw Error(i(407));x=x()}else{if(x=m(),Vs===null)throw Error(i(349));(Vo&124)!==0||l(D,m,x)}Y.memoizedState=x;var se={value:x,getSnapshot:m};return Y.queue=se,fn(b.bind(null,D,se,A),[A]),D.flags|=2048,St(9,Pt(),f.bind(null,D,se,x,m),null),x},useId:function(){var A=il(),m=Vs.identifierPrefix;if(Jr){var x=YA,D=ha;x=(D&~(1<<32-oe(D)-1)).toString(32)+x,m="«"+m+"R"+x,x=zc++,0<x&&(m+="H"+x.toString(32)),m+="»"}else x=da++,m="«"+m+"r"+x.toString(32)+"»";return A.memoizedState=m},useHostTransitionStatus:us,useFormState:ut,useActionState:ut,useOptimistic:function(A){var m=il();m.memoizedState=m.baseState=A;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=Lh.bind(null,oo,!0,x),x.dispatch=m,[A,m]},useMemoCache:Cc,useCacheRefresh:function(){return il().memoizedState=Rs.bind(null,oo)}},Bl={readContext:Ko,use:vc,useCallback:wi,useContext:Ko,useEffect:Jt,useImperativeHandle:Yn,useInsertionEffect:rn,useLayoutEffect:An,useMemo:fr,useReducer:Ad,useRef:zt,useState:function(){return Ad(Jl)},useDebugValue:kn,useDeferredValue:function(A,m){var x=ls();return fa(x,Fo.memoizedState,A,m)},useTransition:function(){var A=Ad(Jl)[0],m=ls().memoizedState;return[typeof A=="boolean"?A:Nc(A),m]},useSyncExternalStore:k,useId:$a,useHostTransitionStatus:us,useFormState:ht,useActionState:ht,useOptimistic:function(A,m){var x=ls();return q(x,Fo,A,m)},useMemoCache:Cc,useCacheRefresh:Ds},Wc={readContext:Ko,use:vc,useCallback:wi,useContext:Ko,useEffect:Jt,useImperativeHandle:Yn,useInsertionEffect:rn,useLayoutEffect:An,useMemo:fr,useReducer:zd,useRef:zt,useState:function(){return zd(Jl)},useDebugValue:kn,useDeferredValue:function(A,m){var x=ls();return Fo===null?xo(x,A,m):fa(x,Fo.memoizedState,A,m)},useTransition:function(){var A=zd(Jl)[0],m=ls().memoizedState;return[typeof A=="boolean"?A:Nc(A),m]},useSyncExternalStore:k,useId:$a,useHostTransitionStatus:us,useFormState:Ct,useActionState:Ct,useOptimistic:function(A,m){var x=ls();return Fo!==null?q(x,Fo,A,m):(x.baseState=A,[A,x.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:Ds},Mo=null,ia=0;function vu(A){var m=ia;return ia+=1,Mo===null&&(Mo=[]),Fc(Mo,A,m)}function xs(A,m){m=m.props.ref,A.ref=m!==void 0?m:null}function BA(A,m){throw m.$$typeof===E?Error(i(525)):(A=Object.prototype.toString.call(m),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":A)))}function Cu(A){var m=A._init;return m(A._payload)}function Nu(A){function m(nn,Zt){if(A){var cn=nn.deletions;cn===null?(nn.deletions=[Zt],nn.flags|=16):cn.push(Zt)}}function x(nn,Zt){if(!A)return null;for(;Zt!==null;)m(nn,Zt),Zt=Zt.sibling;return null}function D(nn){for(var Zt=new Map;nn!==null;)nn.key!==null?Zt.set(nn.key,nn):Zt.set(nn.index,nn),nn=nn.sibling;return Zt}function Y(nn,Zt){return nn=ks(nn,Zt),nn.index=0,nn.sibling=null,nn}function se(nn,Zt,cn){return nn.index=cn,A?(cn=nn.alternate,cn!==null?(cn=cn.index,cn<Zt?(nn.flags|=67108866,Zt):cn):(nn.flags|=67108866,Zt)):(nn.flags|=1048576,Zt)}function Ye(nn){return A&&nn.alternate===null&&(nn.flags|=67108866),nn}function st(nn,Zt,cn,Ln){return Zt===null||Zt.tag!==6?(Zt=Kd(cn,nn.mode,Ln),Zt.return=nn,Zt):(Zt=Y(Zt,cn),Zt.return=nn,Zt)}function jt(nn,Zt,cn,Ln){var ar=cn.type;return ar===z?Dn(nn,Zt,cn.props.children,Ln,cn.key):Zt!==null&&(Zt.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===he&&Cu(ar)===Zt.type)?(Zt=Y(Zt,cn.props),xs(Zt,cn),Zt.return=nn,Zt):(Zt=Ud(cn.type,cn.key,cn.props,null,nn.mode,Ln),xs(Zt,cn),Zt.return=nn,Zt)}function dn(nn,Zt,cn,Ln){return Zt===null||Zt.tag!==4||Zt.stateNode.containerInfo!==cn.containerInfo||Zt.stateNode.implementation!==cn.implementation?(Zt=rh(cn,nn.mode,Ln),Zt.return=nn,Zt):(Zt=Y(Zt,cn.children||[]),Zt.return=nn,Zt)}function Dn(nn,Zt,cn,Ln,ar){return Zt===null||Zt.tag!==7?(Zt=bA(cn,nn.mode,Ln,ar),Zt.return=nn,Zt):(Zt=Y(Zt,cn),Zt.return=nn,Zt)}function Nn(nn,Zt,cn){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number"||typeof Zt=="bigint")return Zt=Kd(""+Zt,nn.mode,cn),Zt.return=nn,Zt;if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case O:return cn=Ud(Zt.type,Zt.key,Zt.props,null,nn.mode,cn),xs(cn,Zt),cn.return=nn,cn;case B:return Zt=rh(Zt,nn.mode,cn),Zt.return=nn,Zt;case he:var Ln=Zt._init;return Zt=Ln(Zt._payload),Nn(nn,Zt,cn)}if(Ce(Zt)||Me(Zt))return Zt=bA(Zt,nn.mode,cn,null),Zt.return=nn,Zt;if(typeof Zt.then=="function")return Nn(nn,vu(Zt),cn);if(Zt.$$typeof===re)return Nn(nn,uh(nn,Zt),cn);BA(nn,Zt)}return null}function mn(nn,Zt,cn,Ln){var ar=Zt!==null?Zt.key:null;if(typeof cn=="string"&&cn!==""||typeof cn=="number"||typeof cn=="bigint")return ar!==null?null:st(nn,Zt,""+cn,Ln);if(typeof cn=="object"&&cn!==null){switch(cn.$$typeof){case O:return cn.key===ar?jt(nn,Zt,cn,Ln):null;case B:return cn.key===ar?dn(nn,Zt,cn,Ln):null;case he:return ar=cn._init,cn=ar(cn._payload),mn(nn,Zt,cn,Ln)}if(Ce(cn)||Me(cn))return ar!==null?null:Dn(nn,Zt,cn,Ln,null);if(typeof cn.then=="function")return mn(nn,Zt,vu(cn),Ln);if(cn.$$typeof===re)return mn(nn,Zt,uh(nn,cn),Ln);BA(nn,cn)}return null}function pn(nn,Zt,cn,Ln,ar){if(typeof Ln=="string"&&Ln!==""||typeof Ln=="number"||typeof Ln=="bigint")return nn=nn.get(cn)||null,st(Zt,nn,""+Ln,ar);if(typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case O:return nn=nn.get(Ln.key===null?cn:Ln.key)||null,jt(Zt,nn,Ln,ar);case B:return nn=nn.get(Ln.key===null?cn:Ln.key)||null,dn(Zt,nn,Ln,ar);case he:var $o=Ln._init;return Ln=$o(Ln._payload),pn(nn,Zt,cn,Ln,ar)}if(Ce(Ln)||Me(Ln))return nn=nn.get(cn)||null,Dn(Zt,nn,Ln,ar,null);if(typeof Ln.then=="function")return pn(nn,Zt,cn,vu(Ln),ar);if(Ln.$$typeof===re)return pn(nn,Zt,cn,uh(Zt,Ln),ar);BA(Zt,Ln)}return null}function Fr(nn,Zt,cn,Ln){for(var ar=null,$o=null,or=Zt,Dr=Zt=0,qu=null;or!==null&&Dr<cn.length;Dr++){or.index>Dr?(qu=or,or=null):qu=or.sibling;var Ra=mn(nn,or,cn[Dr],Ln);if(Ra===null){or===null&&(or=qu);break}A&&or&&Ra.alternate===null&&m(nn,or),Zt=se(Ra,Zt,Dr),$o===null?ar=Ra:$o.sibling=Ra,$o=Ra,or=qu}if(Dr===cn.length)return x(nn,or),Jr&&qA(nn,Dr),ar;if(or===null){for(;Dr<cn.length;Dr++)or=Nn(nn,cn[Dr],Ln),or!==null&&(Zt=se(or,Zt,Dr),$o===null?ar=or:$o.sibling=or,$o=or);return Jr&&qA(nn,Dr),ar}for(or=D(or);Dr<cn.length;Dr++)qu=pn(or,nn,Dr,cn[Dr],Ln),qu!==null&&(A&&qu.alternate!==null&&or.delete(qu.key===null?Dr:qu.key),Zt=se(qu,Zt,Dr),$o===null?ar=qu:$o.sibling=qu,$o=qu);return A&&or.forEach(function(_p){return m(nn,_p)}),Jr&&qA(nn,Dr),ar}function zr(nn,Zt,cn,Ln){if(cn==null)throw Error(i(151));for(var ar=null,$o=null,or=Zt,Dr=Zt=0,qu=null,Ra=cn.next();or!==null&&!Ra.done;Dr++,Ra=cn.next()){or.index>Dr?(qu=or,or=null):qu=or.sibling;var _p=mn(nn,or,Ra.value,Ln);if(_p===null){or===null&&(or=qu);break}A&&or&&_p.alternate===null&&m(nn,or),Zt=se(_p,Zt,Dr),$o===null?ar=_p:$o.sibling=_p,$o=_p,or=qu}if(Ra.done)return x(nn,or),Jr&&qA(nn,Dr),ar;if(or===null){for(;!Ra.done;Dr++,Ra=cn.next())Ra=Nn(nn,Ra.value,Ln),Ra!==null&&(Zt=se(Ra,Zt,Dr),$o===null?ar=Ra:$o.sibling=Ra,$o=Ra);return Jr&&qA(nn,Dr),ar}for(or=D(or);!Ra.done;Dr++,Ra=cn.next())Ra=pn(or,nn,Dr,Ra.value,Ln),Ra!==null&&(A&&Ra.alternate!==null&&or.delete(Ra.key===null?Dr:Ra.key),Zt=se(Ra,Zt,Dr),$o===null?ar=Ra:$o.sibling=Ra,$o=Ra);return A&&or.forEach(function(LC){return m(nn,LC)}),Jr&&qA(nn,Dr),ar}function Bs(nn,Zt,cn,Ln){if(typeof cn=="object"&&cn!==null&&cn.type===z&&cn.key===null&&(cn=cn.props.children),typeof cn=="object"&&cn!==null){switch(cn.$$typeof){case O:e:{for(var ar=cn.key;Zt!==null;){if(Zt.key===ar){if(ar=cn.type,ar===z){if(Zt.tag===7){x(nn,Zt.sibling),Ln=Y(Zt,cn.props.children),Ln.return=nn,nn=Ln;break e}}else if(Zt.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===he&&Cu(ar)===Zt.type){x(nn,Zt.sibling),Ln=Y(Zt,cn.props),xs(Ln,cn),Ln.return=nn,nn=Ln;break e}x(nn,Zt);break}else m(nn,Zt);Zt=Zt.sibling}cn.type===z?(Ln=bA(cn.props.children,nn.mode,Ln,cn.key),Ln.return=nn,nn=Ln):(Ln=Ud(cn.type,cn.key,cn.props,null,nn.mode,Ln),xs(Ln,cn),Ln.return=nn,nn=Ln)}return Ye(nn);case B:e:{for(ar=cn.key;Zt!==null;){if(Zt.key===ar)if(Zt.tag===4&&Zt.stateNode.containerInfo===cn.containerInfo&&Zt.stateNode.implementation===cn.implementation){x(nn,Zt.sibling),Ln=Y(Zt,cn.children||[]),Ln.return=nn,nn=Ln;break e}else{x(nn,Zt);break}else m(nn,Zt);Zt=Zt.sibling}Ln=rh(cn,nn.mode,Ln),Ln.return=nn,nn=Ln}return Ye(nn);case he:return ar=cn._init,cn=ar(cn._payload),Bs(nn,Zt,cn,Ln)}if(Ce(cn))return Fr(nn,Zt,cn,Ln);if(Me(cn)){if(ar=Me(cn),typeof ar!="function")throw Error(i(150));return cn=ar.call(cn),zr(nn,Zt,cn,Ln)}if(typeof cn.then=="function")return Bs(nn,Zt,vu(cn),Ln);if(cn.$$typeof===re)return Bs(nn,Zt,uh(nn,cn),Ln);BA(nn,cn)}return typeof cn=="string"&&cn!==""||typeof cn=="number"||typeof cn=="bigint"?(cn=""+cn,Zt!==null&&Zt.tag===6?(x(nn,Zt.sibling),Ln=Y(Zt,cn),Ln.return=nn,nn=Ln):(x(nn,Zt),Ln=Kd(cn,nn.mode,Ln),Ln.return=nn,nn=Ln),Ye(nn)):x(nn,Zt)}return function(nn,Zt,cn,Ln){try{ia=0;var ar=Bs(nn,Zt,cn,Ln);return Mo=null,ar}catch(or){if(or===wa||or===hi)throw or;var $o=aA(29,or,null,nn.mode);return $o.lanes=Ln,$o.return=nn,$o}finally{}}}var tu=Nu(!0),Qc=Nu(!1),uA=We(null),Za=null;function OA(A){var m=A.alternate;ke(Ta,Ta.current&1),ke(uA,A),Za===null&&(m===null||$l.current!==null||m.memoizedState!==null)&&(Za=A)}function tp(A){if(A.tag===22){if(ke(Ta,Ta.current),ke(uA,A),Za===null){var m=A.alternate;m!==null&&m.memoizedState!==null&&(Za=A)}}else IA()}function IA(){ke(Ta,Ta.current),ke(uA,uA.current)}function TA(A){tt(uA),Za===A&&(Za=null),tt(Ta)}var Ta=We(0);function AA(A){for(var m=A;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||hA(x)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function hd(A,m,x,D){m=A.memoizedState,x=x(D,m),x=x==null?m:_({},m,x),A.memoizedState=x,A.lanes===0&&(A.updateQueue.baseState=x)}var np={enqueueSetState:function(A,m,x){A=A._reactInternals;var D=PA(),Y=zu(D);Y.payload=m,x!=null&&(Y.callback=x),m=yc(A,Y,D),m!==null&&(mh(m,A,D),Kh(m,A,D))},enqueueReplaceState:function(A,m,x){A=A._reactInternals;var D=PA(),Y=zu(D);Y.tag=1,Y.payload=m,x!=null&&(Y.callback=x),m=yc(A,Y,D),m!==null&&(mh(m,A,D),Kh(m,A,D))},enqueueForceUpdate:function(A,m){A=A._reactInternals;var x=PA(),D=zu(x);D.tag=2,m!=null&&(D.callback=m),m=yc(A,D,x),m!==null&&(mh(m,A,x),Kh(m,A,x))}};function yf(A,m,x,D,Y,se,Ye){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(D,se,Ye):m.prototype&&m.prototype.isPureReactComponent?!fc(x,D)||!fc(Y,se):!0}function Im(A,m,x,D){A=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,D),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,D),m.state!==A&&np.enqueueReplaceState(m,m.state,null)}function bc(A,m){var x=m;if("ref"in m){x={};for(var D in m)D!=="ref"&&(x[D]=m[D])}if(A=A.defaultProps){x===m&&(x=_({},x));for(var Y in A)x[Y]===void 0&&(x[Y]=A[Y])}return x}var dd=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ip(A){dd(A)}function rp(A){console.error(A)}function ug(A){dd(A)}function vf(A,m){try{var x=A.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(D){setTimeout(function(){throw D})}}function ra(A,m,x){try{var D=A.onCaughtError;D(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(Y){setTimeout(function(){throw Y})}}function Gp(A,m,x){return x=zu(x),x.tag=3,x.payload={element:null},x.callback=function(){vf(A,m)},x}function Fh(A){return A=zu(A),A.tag=3,A}function op(A,m,x,D){var Y=x.type.getDerivedStateFromError;if(typeof Y=="function"){var se=D.value;A.payload=function(){return Y(se)},A.callback=function(){ra(m,x,D)}}var Ye=x.stateNode;Ye!==null&&typeof Ye.componentDidCatch=="function"&&(A.callback=function(){ra(m,x,D),typeof Y!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var st=D.stack;this.componentDidCatch(D.value,{componentStack:st!==null?st:""})})}function cA(A,m,x,D,Y){if(x.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(m=x.alternate,m!==null&&bs(m,x,Y,!0),x=uA.current,x!==null){switch(x.tag){case 13:return Za===null?pg():x.alternate===null&&Il===0&&(Il=3),x.flags&=-257,x.flags|=65536,x.lanes=Y,D===$A?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([D]):m.add(D),v1(A,D,Y)),!1;case 22:return x.flags|=65536,D===$A?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([D])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([D]):x.add(D)),v1(A,D,Y)),!1}throw Error(i(435,x.tag))}return v1(A,D,Y),pg(),!1}if(Jr)return m=uA.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=Y,D!==sh&&(A=Error(i(422),{cause:D}),HA(qa(A,x)))):(D!==sh&&(m=Error(i(423),{cause:D}),HA(qa(m,x))),A=A.current.alternate,A.flags|=65536,Y&=-Y,A.lanes|=Y,D=qa(D,x),Y=Gp(A.stateNode,D,Y),wA(A,Y),Il!==4&&(Il=2)),!1;var se=Error(i(520),{cause:D});if(se=qa(se,x),hp===null?hp=[se]:hp.push(se),Il!==4&&(Il=2),m===null)return!0;D=qa(D,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,A=Y&-Y,x.lanes|=A,A=Gp(x.stateNode,D,A),wA(x,A),!1;case 1:if(m=x.type,se=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(wf===null||!wf.has(se))))return x.flags|=65536,Y&=-Y,x.lanes|=Y,Y=Fh(Y),op(Y,A,x,D),wA(x,Y),!1}x=x.return}while(x!==null);return!1}var jd=Error(i(461)),rl=!1;function ms(A,m,x,D){m.child=A===null?Qc(m,null,x,D):tu(m,A.child,x,D)}function ap(A,m,x,D,Y){x=x.render;var se=m.ref;if("ref"in D){var Ye={};for(var st in D)st!=="ref"&&(Ye[st]=D[st])}else Ye=D;return Rh(m),D=ep(A,m,x,Ye,se,Y),st=ud(),A!==null&&!rl?(EA(A,m,Y),C(A,m,Y)):(Jr&&st&&oh(m),m.flags|=1,ms(A,m,D,Y),m.child)}function Wp(A,m,x,D,Y){if(A===null){var se=x.type;return typeof se=="function"&&!Uc(se)&&se.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=se,sp(A,m,se,D,Y)):(A=Ud(x.type,null,D,m,m.mode,Y),A.ref=m.ref,A.return=m,m.child=A)}if(se=A.child,!T(A,Y)){var Ye=se.memoizedProps;if(x=x.compare,x=x!==null?x:fc,x(Ye,D)&&A.ref===m.ref)return C(A,m,Y)}return m.flags|=1,A=ks(se,D),A.ref=m.ref,A.return=m,m.child=A}function sp(A,m,x,D,Y){if(A!==null){var se=A.memoizedProps;if(fc(se,D)&&A.ref===m.ref)if(rl=!1,m.pendingProps=D=se,T(A,Y))(A.flags&131072)!==0&&(rl=!0);else return m.lanes=A.lanes,C(A,m,Y)}return _f(A,m,x,D,Y)}function Cf(A,m,x){var D=m.pendingProps,Y=D.children,se=A!==null?A.memoizedState:null;if(D.mode==="hidden"){if((m.flags&128)!==0){if(D=se!==null?se.baseLanes|x:x,A!==null){for(Y=m.child=A.child,se=0;Y!==null;)se=se|Y.lanes|Y.childLanes,Y=Y.sibling;m.childLanes=se&~D}else m.childLanes=0,m.child=null;return Nd(A,m,D,x)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},A!==null&&Xf(m,se!==null?se.cachePool:null),se!==null?Zl(m,se):sd(),tp(m);else return m.lanes=m.childLanes=536870912,Nd(A,m,se!==null?se.baseLanes|x:x,x)}else se!==null?(Xf(m,se.cachePool),Zl(m,se),IA(),m.memoizedState=null):(A!==null&&Xf(m,null),sd(),IA());return ms(A,m,Y,x),m.child}function Nd(A,m,x,D){var Y=Lc();return Y=Y===null?null:{parent:Ea._currentValue,pool:Y},m.memoizedState={baseLanes:x,cachePool:Y},A!==null&&Xf(m,null),sd(),tp(m),A!==null&&bs(A,m,D,!0),null}function yr(A,m){var x=m.ref;if(x===null)A!==null&&A.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(i(284));(A===null||A.ref!==x)&&(m.flags|=4194816)}}function _f(A,m,x,D,Y){return Rh(m),x=ep(A,m,x,D,void 0,Y),D=ud(),A!==null&&!rl?(EA(A,m,Y),C(A,m,Y)):(Jr&&D&&oh(m),m.flags|=1,ms(A,m,x,Y),m.child)}function oa(A,m,x,D,Y,se){return Rh(m),m.updateQueue=null,x=zo(m,D,x,Y),ld(A),D=ud(),A!==null&&!rl?(EA(A,m,se),C(A,m,se)):(Jr&&D&&oh(m),m.flags|=1,ms(A,m,x,se),m.child)}function zh(A,m,x,D,Y){if(Rh(m),m.stateNode===null){var se=Pr,Ye=x.contextType;typeof Ye=="object"&&Ye!==null&&(se=Ko(Ye)),se=new x(D,se),m.memoizedState=se.state!==null&&se.state!==void 0?se.state:null,se.updater=np,m.stateNode=se,se._reactInternals=m,se=m.stateNode,se.props=D,se.state=m.memoizedState,se.refs={},Uh(m),Ye=x.contextType,se.context=typeof Ye=="object"&&Ye!==null?Ko(Ye):Pr,se.state=m.memoizedState,Ye=x.getDerivedStateFromProps,typeof Ye=="function"&&(hd(m,x,Ye,D),se.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof se.getSnapshotBeforeUpdate=="function"||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(Ye=se.state,typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount(),Ye!==se.state&&np.enqueueReplaceState(se,se.state,null),Sl(m,D,se,Y),lA(),se.state=m.memoizedState),typeof se.componentDidMount=="function"&&(m.flags|=4194308),D=!0}else if(A===null){se=m.stateNode;var st=m.memoizedProps,jt=bc(x,st);se.props=jt;var dn=se.context,Dn=x.contextType;Ye=Pr,typeof Dn=="object"&&Dn!==null&&(Ye=Ko(Dn));var Nn=x.getDerivedStateFromProps;Dn=typeof Nn=="function"||typeof se.getSnapshotBeforeUpdate=="function",st=m.pendingProps!==st,Dn||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(st||dn!==Ye)&&Im(m,se,D,Ye),Vl=!1;var mn=m.memoizedState;se.state=mn,Sl(m,D,se,Y),lA(),dn=m.memoizedState,st||mn!==dn||Vl?(typeof Nn=="function"&&(hd(m,x,Nn,D),dn=m.memoizedState),(jt=Vl||yf(m,x,jt,D,mn,dn,Ye))?(Dn||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=D,m.memoizedState=dn),se.props=D,se.state=dn,se.context=Ye,D=jt):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),D=!1)}else{se=m.stateNode,gc(A,m),Ye=m.memoizedProps,Dn=bc(x,Ye),se.props=Dn,Nn=m.pendingProps,mn=se.context,dn=x.contextType,jt=Pr,typeof dn=="object"&&dn!==null&&(jt=Ko(dn)),st=x.getDerivedStateFromProps,(dn=typeof st=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ye!==Nn||mn!==jt)&&Im(m,se,D,jt),Vl=!1,mn=m.memoizedState,se.state=mn,Sl(m,D,se,Y),lA();var pn=m.memoizedState;Ye!==Nn||mn!==pn||Vl||A!==null&&A.dependencies!==null&&lh(A.dependencies)?(typeof st=="function"&&(hd(m,x,st,D),pn=m.memoizedState),(Dn=Vl||yf(m,x,Dn,D,mn,pn,jt)||A!==null&&A.dependencies!==null&&lh(A.dependencies))?(dn||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(D,pn,jt),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(D,pn,jt)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||Ye===A.memoizedProps&&mn===A.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ye===A.memoizedProps&&mn===A.memoizedState||(m.flags|=1024),m.memoizedProps=D,m.memoizedState=pn),se.props=D,se.state=pn,se.context=jt,D=Dn):(typeof se.componentDidUpdate!="function"||Ye===A.memoizedProps&&mn===A.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ye===A.memoizedProps&&mn===A.memoizedState||(m.flags|=1024),D=!1)}return se=D,yr(A,m),D=(m.flags&128)!==0,se||D?(se=m.stateNode,x=D&&typeof x.getDerivedStateFromError!="function"?null:se.render(),m.flags|=1,A!==null&&D?(m.child=tu(m,A.child,null,Y),m.child=tu(m,null,x,Y)):ms(A,m,x,Y),m.memoizedState=se.state,A=m.child):A=C(A,m,Y),A}function Tm(A,m,x,D){return Ys(),m.flags|=256,ms(A,m,x,D),m.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _u(A){return{baseLanes:A,cachePool:od()}}function cl(A,m,x){return A=A!==null?A.childLanes&~x:0,m&&(A|=ph),A}function km(A,m,x){var D=m.pendingProps,Y=!1,se=(m.flags&128)!==0,Ye;if((Ye=se)||(Ye=A!==null&&A.memoizedState===null?!1:(Ta.current&2)!==0),Ye&&(Y=!0,m.flags&=-129),Ye=(m.flags&32)!==0,m.flags&=-33,A===null){if(Jr){if(Y?OA(m):IA(),Jr){var st=Sa,jt;if(jt=st){e:{for(jt=st,st=Qs;jt.nodeType!==8;){if(!st){st=null;break e}if(jt=gd(jt.nextSibling),jt===null){st=null;break e}}st=jt}st!==null?(m.memoizedState={dehydrated:st,treeContext:qo!==null?{id:ha,overflow:YA}:null,retryLane:536870912,hydrationErrors:null},jt=aA(18,null,null,0),jt.stateNode=st,jt.return=m,m.child=jt,Ma=m,Sa=null,jt=!0):jt=!1}jt||xA(m)}if(st=m.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return hA(st)?m.lanes=32:m.lanes=536870912,null;TA(m)}return st=D.children,D=D.fallback,Y?(IA(),Y=m.mode,st=lp({mode:"hidden",children:st},Y),D=bA(D,Y,x,null),st.return=m,D.return=m,st.sibling=D,m.child=st,Y=m.child,Y.memoizedState=_u(x),Y.childLanes=cl(A,Ye,x),m.memoizedState=nc,D):(OA(m),qs(m,st))}if(jt=A.memoizedState,jt!==null&&(st=jt.dehydrated,st!==null)){if(se)m.flags&256?(OA(m),m.flags&=-257,m=x0(A,m,x)):m.memoizedState!==null?(IA(),m.child=A.child,m.flags|=128,m=null):(IA(),Y=D.fallback,st=m.mode,D=lp({mode:"visible",children:D.children},st),Y=bA(Y,st,x,null),Y.flags|=2,D.return=m,Y.return=m,D.sibling=Y,m.child=D,tu(m,A.child,null,x),D=m.child,D.memoizedState=_u(x),D.childLanes=cl(A,Ye,x),m.memoizedState=nc,m=Y);else if(OA(m),hA(st)){if(Ye=st.nextSibling&&st.nextSibling.dataset,Ye)var dn=Ye.dgst;Ye=dn,D=Error(i(419)),D.stack="",D.digest=Ye,HA({value:D,source:null,stack:null}),m=x0(A,m,x)}else if(rl||bs(A,m,x,!1),Ye=(x&A.childLanes)!==0,rl||Ye){if(Ye=Vs,Ye!==null&&(D=x&-x,D=(D&42)!==0?1:ri(D),D=(D&(Ye.suspendedLanes|x))!==0?0:D,D!==0&&D!==jt.retryLane))throw jt.retryLane=D,Uu(A,D),mh(Ye,A,D),jd;st.data==="$?"||pg(),m=x0(A,m,x)}else st.data==="$?"?(m.flags|=192,m.child=A.child,m=null):(A=jt.treeContext,Sa=gd(st.nextSibling),Ma=m,Jr=!0,pu=null,Qs=!1,A!==null&&(Lu[Kl++]=ha,Lu[Kl++]=YA,Lu[Kl++]=qo,ha=A.id,YA=A.overflow,qo=m),m=qs(m,D.children),m.flags|=4096);return m}return Y?(IA(),Y=D.fallback,st=m.mode,jt=A.child,dn=jt.sibling,D=ks(jt,{mode:"hidden",children:D.children}),D.subtreeFlags=jt.subtreeFlags&65011712,dn!==null?Y=ks(dn,Y):(Y=bA(Y,st,x,null),Y.flags|=2),Y.return=m,D.return=m,D.sibling=Y,m.child=D,D=Y,Y=m.child,st=A.child.memoizedState,st===null?st=_u(x):(jt=st.cachePool,jt!==null?(dn=Ea._currentValue,jt=jt.parent!==dn?{parent:dn,pool:dn}:jt):jt=od(),st={baseLanes:st.baseLanes|x,cachePool:jt}),Y.memoizedState=st,Y.childLanes=cl(A,Ye,x),m.memoizedState=nc,D):(OA(m),x=A.child,A=x.sibling,x=ks(x,{mode:"visible",children:D.children}),x.return=m,x.sibling=null,A!==null&&(Ye=m.deletions,Ye===null?(m.deletions=[A],m.flags|=16):Ye.push(A)),m.child=x,m.memoizedState=null,x)}function qs(A,m){return m=lp({mode:"visible",children:m},A.mode),m.return=A,A.child=m}function lp(A,m){return A=aA(22,A,null,m),A.lanes=0,A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},A}function x0(A,m,x){return tu(m,A.child,null,x),A=qs(m,m.pendingProps.children),A.flags|=2,m.memoizedState=null,A}function M0(A,m,x){A.lanes|=m;var D=A.alternate;D!==null&&(D.lanes|=m),na(A.return,m,x)}function bf(A,m,x,D,Y){var se=A.memoizedState;se===null?A.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:D,tail:x,tailMode:Y}:(se.isBackwards=m,se.rendering=null,se.renderingStartTime=0,se.last=D,se.tail=x,se.tailMode=Y)}function d(A,m,x){var D=m.pendingProps,Y=D.revealOrder,se=D.tail;if(ms(A,m,D.children,x),D=Ta.current,(D&2)!==0)D=D&1|2,m.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=m.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&M0(A,x,m);else if(A.tag===19)M0(A,x,m);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break e;for(;A.sibling===null;){if(A.return===null||A.return===m)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}D&=1}switch(ke(Ta,D),Y){case"forwards":for(x=m.child,Y=null;x!==null;)A=x.alternate,A!==null&&AA(A)===null&&(Y=x),x=x.sibling;x=Y,x===null?(Y=m.child,m.child=null):(Y=x.sibling,x.sibling=null),bf(m,!1,Y,x,se);break;case"backwards":for(x=null,Y=m.child,m.child=null;Y!==null;){if(A=Y.alternate,A!==null&&AA(A)===null){m.child=Y;break}A=Y.sibling,Y.sibling=x,x=Y,Y=A}bf(m,!0,x,null,se);break;case"together":bf(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function C(A,m,x){if(A!==null&&(m.dependencies=A.dependencies),Wd|=m.lanes,(x&m.childLanes)===0)if(A!==null){if(bs(A,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(A!==null&&m.child!==A.child)throw Error(i(153));if(m.child!==null){for(A=m.child,x=ks(A,A.pendingProps),m.child=x,x.return=m;A.sibling!==null;)A=A.sibling,x=x.sibling=ks(A,A.pendingProps),x.return=m;x.sibling=null}return m.child}function T(A,m){return(A.lanes&m)!==0?!0:(A=A.dependencies,!!(A!==null&&lh(A)))}function I(A,m,x){switch(m.tag){case 3:je(m,m.stateNode.containerInfo),nl(m,Ea,A.memoizedState.cache),Ys();break;case 27:case 5:Ue(m);break;case 4:je(m,m.stateNode.containerInfo);break;case 10:nl(m,m.type,m.memoizedProps.value);break;case 13:var D=m.memoizedState;if(D!==null)return D.dehydrated!==null?(OA(m),m.flags|=128,null):(x&m.child.childLanes)!==0?km(A,m,x):(OA(m),A=C(A,m,x),A!==null?A.sibling:null);OA(m);break;case 19:var Y=(A.flags&128)!==0;if(D=(x&m.childLanes)!==0,D||(bs(A,m,x,!1),D=(x&m.childLanes)!==0),Y){if(D)return d(A,m,x);m.flags|=128}if(Y=m.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),ke(Ta,Ta.current),D)break;return null;case 22:case 23:return m.lanes=0,Cf(A,m,x);case 24:nl(m,Ea,A.memoizedState.cache)}return C(A,m,x)}function F(A,m,x){if(A!==null)if(A.memoizedProps!==m.pendingProps)rl=!0;else{if(!T(A,x)&&(m.flags&128)===0)return rl=!1,I(A,m,x);rl=(A.flags&131072)!==0}else rl=!1,Jr&&(m.flags&1048576)!==0&&Kc(m,id,m.index);switch(m.lanes=0,m.tag){case 16:e:{A=m.pendingProps;var D=m.elementType,Y=D._init;if(D=Y(D._payload),m.type=D,typeof D=="function")Uc(D)?(A=bc(D,A),m.tag=1,m=zh(null,m,D,A,x)):(m.tag=0,m=_f(null,m,D,A,x));else{if(D!=null){if(Y=D.$$typeof,Y===ne){m.tag=11,m=ap(null,m,D,A,x);break e}else if(Y===W){m.tag=14,m=Wp(null,m,D,A,x);break e}}throw m=ze(D)||D,Error(i(306,m,""))}}return m;case 0:return _f(A,m,m.type,m.pendingProps,x);case 1:return D=m.type,Y=bc(D,m.pendingProps),zh(A,m,D,Y,x);case 3:e:{if(je(m,m.stateNode.containerInfo),A===null)throw Error(i(387));D=m.pendingProps;var se=m.memoizedState;Y=se.element,gc(A,m),Sl(m,D,null,x);var Ye=m.memoizedState;if(D=Ye.cache,nl(m,Ea,D),D!==se.cache&&Cr(m,[Ea],x,!0),lA(),D=Ye.element,se.isDehydrated)if(se={element:D,isDehydrated:!1,cache:Ye.cache},m.updateQueue.baseState=se,m.memoizedState=se,m.flags&256){m=Tm(A,m,D,x);break e}else if(D!==Y){Y=qa(Error(i(424)),m),HA(Y),m=Tm(A,m,D,x);break e}else{switch(A=m.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Sa=gd(A.firstChild),Ma=m,Jr=!0,pu=null,Qs=!0,x=Qc(m,null,D,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Ys(),D===Y){m=C(A,m,x);break e}ms(A,m,D,x)}m=m.child}return m;case 26:return yr(A,m),A===null?(x=F0(m.type,null,m.pendingProps,null))?m.memoizedState=x:Jr||(x=m.type,A=m.pendingProps,D=Cp(xt.current).createElement(x),D[di]=m,D[ti]=A,al(D,x,A),Rr(D),m.stateNode=D):m.memoizedState=F0(m.type,A.memoizedProps,m.pendingProps,A.memoizedState),null;case 27:return Ue(m),A===null&&Jr&&(D=m.stateNode=Gu(m.type,m.pendingProps,xt.current),Ma=m,Qs=!0,Y=Sa,yh(m.type)?(O1=Y,Sa=gd(D.firstChild)):Sa=Y),ms(A,m,m.pendingProps.children,x),yr(A,m),A===null&&(m.flags|=4194304),m.child;case 5:return A===null&&Jr&&((Y=D=Sa)&&(D=U0(D,m.type,m.pendingProps,Qs),D!==null?(m.stateNode=D,Ma=m,Sa=gd(D.firstChild),Qs=!1,Y=!0):Y=!1),Y||xA(m)),Ue(m),Y=m.type,se=m.pendingProps,Ye=A!==null?A.memoizedProps:null,D=se.children,md(Y,se)?D=null:Ye!==null&&md(Y,Ye)&&(m.flags|=32),m.memoizedState!==null&&(Y=ep(A,m,Va,null,null,x),qt._currentValue=Y),yr(A,m),ms(A,m,D,x),m.child;case 6:return A===null&&Jr&&((A=x=Sa)&&(x=Xp(x,m.pendingProps,Qs),x!==null?(m.stateNode=x,Ma=m,Sa=null,A=!0):A=!1),A||xA(m)),null;case 13:return km(A,m,x);case 4:return je(m,m.stateNode.containerInfo),D=m.pendingProps,A===null?m.child=tu(m,null,D,x):ms(A,m,D,x),m.child;case 11:return ap(A,m,m.type,m.pendingProps,x);case 7:return ms(A,m,m.pendingProps,x),m.child;case 8:return ms(A,m,m.pendingProps.children,x),m.child;case 12:return ms(A,m,m.pendingProps.children,x),m.child;case 10:return D=m.pendingProps,nl(m,m.type,D.value),ms(A,m,D.children,x),m.child;case 9:return Y=m.type._context,D=m.pendingProps.children,Rh(m),Y=Ko(Y),D=D(Y),m.flags|=1,ms(A,m,D,x),m.child;case 14:return Wp(A,m,m.type,m.pendingProps,x);case 15:return sp(A,m,m.type,m.pendingProps,x);case 19:return d(A,m,x);case 31:return D=m.pendingProps,x=m.mode,D={mode:D.mode,children:D.children},A===null?(x=lp(D,x),x.ref=m.ref,m.child=x,x.return=m,m=x):(x=ks(A.child,D),x.ref=m.ref,m.child=x,x.return=m,m=x),m;case 22:return Cf(A,m,x);case 24:return Rh(m),D=Ko(Ea),A===null?(Y=Lc(),Y===null&&(Y=Vs,se=Ph(),Y.pooledCache=se,se.refCount++,se!==null&&(Y.pooledCacheLanes|=x),Y=se),m.memoizedState={parent:D,cache:Y},Uh(m),nl(m,Ea,Y)):((A.lanes&x)!==0&&(gc(A,m),Sl(m,null,null,x),lA()),Y=A.memoizedState,se=m.memoizedState,Y.parent!==D?(Y={parent:D,cache:D},m.memoizedState=Y,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=Y),nl(m,Ea,D)):(D=se.cache,nl(m,Ea,D),D!==Y.cache&&Cr(m,[Ea],x,!0))),ms(A,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(i(156,m.tag))}function ee(A){A.flags|=4}function pe(A,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!ae(m)){if(m=uA.current,m!==null&&((Vo&4194048)===Vo?Za!==null:(Vo&62914560)!==Vo&&(Vo&536870912)===0||m!==Za))throw MA=$A,eo;A.flags|=8192}}function Se(A,m){m!==null&&(A.flags|=4),A.flags&16384&&(m=A.tag!==22?dt():536870912,A.lanes|=m,Lm|=m)}function Pe(A,m){if(!Jr)switch(A.tailMode){case"hidden":m=A.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?A.tail=null:x.sibling=null;break;case"collapsed":x=A.tail;for(var D=null;x!==null;)x.alternate!==null&&(D=x),x=x.sibling;D===null?m||A.tail===null?A.tail=null:A.tail.sibling=null:D.sibling=null}}function Ge(A){var m=A.alternate!==null&&A.alternate.child===A.child,x=0,D=0;if(m)for(var Y=A.child;Y!==null;)x|=Y.lanes|Y.childLanes,D|=Y.subtreeFlags&65011712,D|=Y.flags&65011712,Y.return=A,Y=Y.sibling;else for(Y=A.child;Y!==null;)x|=Y.lanes|Y.childLanes,D|=Y.subtreeFlags,D|=Y.flags,Y.return=A,Y=Y.sibling;return A.subtreeFlags|=D,A.childLanes=x,m}function _t(A,m,x){var D=m.pendingProps;switch(ah(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(m),null;case 1:return Ge(m),null;case 3:return x=m.stateNode,D=null,A!==null&&(D=A.memoizedState.cache),m.memoizedState.cache!==D&&(m.flags|=2048),Ha(Ea),Ke(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(A===null||A.child===null)&&(ul(m)?ee(m):A===null||A.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,hf())),Ge(m),null;case 26:return x=m.memoizedState,A===null?(ee(m),x!==null?(Ge(m),pe(m,x)):(Ge(m),m.flags&=-16777217)):x?x!==A.memoizedState?(ee(m),Ge(m),pe(m,x)):(Ge(m),m.flags&=-16777217):(A.memoizedProps!==D&&ee(m),Ge(m),m.flags&=-16777217),null;case 27:Ve(m),x=xt.current;var Y=m.type;if(A!==null&&m.stateNode!=null)A.memoizedProps!==D&&ee(m);else{if(!D){if(m.stateNode===null)throw Error(i(166));return Ge(m),null}A=Et.current,ul(m)?cf(m):(A=Gu(Y,D,x),m.stateNode=A,ee(m))}return Ge(m),null;case 5:if(Ve(m),x=m.type,A!==null&&m.stateNode!=null)A.memoizedProps!==D&&ee(m);else{if(!D){if(m.stateNode===null)throw Error(i(166));return Ge(m),null}if(A=Et.current,ul(m))cf(m);else{switch(Y=Cp(xt.current),A){case 1:A=Y.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:A=Y.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":A=Y.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":A=Y.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":A=Y.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof D.is=="string"?Y.createElement("select",{is:D.is}):Y.createElement("select"),D.multiple?A.multiple=!0:D.size&&(A.size=D.size);break;default:A=typeof D.is=="string"?Y.createElement(x,{is:D.is}):Y.createElement(x)}}A[di]=m,A[ti]=D;e:for(Y=m.child;Y!==null;){if(Y.tag===5||Y.tag===6)A.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===m)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===m)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}m.stateNode=A;e:switch(al(A,x,D),x){case"button":case"input":case"select":case"textarea":A=!!D.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&ee(m)}}return Ge(m),m.flags&=-16777217,null;case 6:if(A&&m.stateNode!=null)A.memoizedProps!==D&&ee(m);else{if(typeof D!="string"&&m.stateNode===null)throw Error(i(166));if(A=xt.current,ul(m)){if(A=m.stateNode,x=m.memoizedProps,D=null,Y=Ma,Y!==null)switch(Y.tag){case 27:case 5:D=Y.memoizedProps}A[di]=m,A=!!(A.nodeValue===x||D!==null&&D.suppressHydrationWarning===!0||S1(A.nodeValue,x)),A||xA(m)}else A=Cp(A).createTextNode(D),A[di]=m,m.stateNode=A}return Ge(m),null;case 13:if(D=m.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(Y=ul(m),D!==null&&D.dehydrated!==null){if(A===null){if(!Y)throw Error(i(318));if(Y=m.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(i(317));Y[di]=m}else Ys(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ge(m),Y=!1}else Y=hf(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=Y),Y=!0;if(!Y)return m.flags&256?(TA(m),m):(TA(m),null)}if(TA(m),(m.flags&128)!==0)return m.lanes=x,m;if(x=D!==null,A=A!==null&&A.memoizedState!==null,x){D=m.child,Y=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(Y=D.alternate.memoizedState.cachePool.pool);var se=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(se=D.memoizedState.cachePool.pool),se!==Y&&(D.flags|=2048)}return x!==A&&x&&(m.child.flags|=8192),Se(m,m.updateQueue),Ge(m),null;case 4:return Ke(),A===null&&Cg(m.stateNode.containerInfo),Ge(m),null;case 10:return Ha(m.type),Ge(m),null;case 19:if(tt(Ta),Y=m.memoizedState,Y===null)return Ge(m),null;if(D=(m.flags&128)!==0,se=Y.rendering,se===null)if(D)Pe(Y,!1);else{if(Il!==0||A!==null&&(A.flags&128)!==0)for(A=m.child;A!==null;){if(se=AA(A),se!==null){for(m.flags|=128,Pe(Y,!1),A=se.updateQueue,m.updateQueue=A,Se(m,A),m.subtreeFlags=0,A=x,x=m.child;x!==null;)Th(x,A),x=x.sibling;return ke(Ta,Ta.current&1|2),m.child}A=A.sibling}Y.tail!==null&&on()>Fm&&(m.flags|=128,D=!0,Pe(Y,!1),m.lanes=4194304)}else{if(!D)if(A=AA(se),A!==null){if(m.flags|=128,D=!0,A=A.updateQueue,m.updateQueue=A,Se(m,A),Pe(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!se.alternate&&!Jr)return Ge(m),null}else 2*on()-Y.renderingStartTime>Fm&&x!==536870912&&(m.flags|=128,D=!0,Pe(Y,!1),m.lanes=4194304);Y.isBackwards?(se.sibling=m.child,m.child=se):(A=Y.last,A!==null?A.sibling=se:m.child=se,Y.last=se)}return Y.tail!==null?(m=Y.tail,Y.rendering=m,Y.tail=m.sibling,Y.renderingStartTime=on(),m.sibling=null,A=Ta.current,ke(Ta,D?A&1|2:A&1),m):(Ge(m),null);case 22:case 23:return TA(m),Jf(),D=m.memoizedState!==null,A!==null?A.memoizedState!==null!==D&&(m.flags|=8192):D&&(m.flags|=8192),D?(x&536870912)!==0&&(m.flags&128)===0&&(Ge(m),m.subtreeFlags&6&&(m.flags|=8192)):Ge(m),x=m.updateQueue,x!==null&&Se(m,x.retryQueue),x=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),D=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(D=m.memoizedState.cachePool.pool),D!==x&&(m.flags|=2048),A!==null&&tt(wl),null;case 24:return x=null,A!==null&&(x=A.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Ha(Ea),Ge(m),null;case 25:return null;case 30:return null}throw Error(i(156,m.tag))}function Tt(A,m){switch(ah(m),m.tag){case 1:return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 3:return Ha(Ea),Ke(),A=m.flags,(A&65536)!==0&&(A&128)===0?(m.flags=A&-65537|128,m):null;case 26:case 27:case 5:return Ve(m),null;case 13:if(TA(m),A=m.memoizedState,A!==null&&A.dehydrated!==null){if(m.alternate===null)throw Error(i(340));Ys()}return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 19:return tt(Ta),null;case 4:return Ke(),null;case 10:return Ha(m.type),null;case 22:case 23:return TA(m),Jf(),A!==null&&tt(wl),A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 24:return Ha(Ea),null;case 25:return null;default:return null}}function en(A,m){switch(ah(m),m.tag){case 3:Ha(Ea),Ke();break;case 26:case 27:case 5:Ve(m);break;case 4:Ke();break;case 13:TA(m);break;case 19:tt(Ta);break;case 10:Ha(m.type);break;case 22:case 23:TA(m),Jf(),A!==null&&tt(wl);break;case 24:Ha(Ea)}}function Vt(A,m){try{var x=m.updateQueue,D=x!==null?x.lastEffect:null;if(D!==null){var Y=D.next;x=Y;do{if((x.tag&A)===A){D=void 0;var se=x.create,Ye=x.inst;D=se(),Ye.destroy=D}x=x.next}while(x!==Y)}}catch(st){Ss(m,m.return,st)}}function bn(A,m,x){try{var D=m.updateQueue,Y=D!==null?D.lastEffect:null;if(Y!==null){var se=Y.next;D=se;do{if((D.tag&A)===A){var Ye=D.inst,st=Ye.destroy;if(st!==void 0){Ye.destroy=void 0,Y=m;var jt=x,dn=st;try{dn()}catch(Dn){Ss(Y,jt,Dn)}}}D=D.next}while(D!==se)}}catch(Dn){Ss(m,m.return,Dn)}}function Pn(A){var m=A.updateQueue;if(m!==null){var x=A.stateNode;try{gf(m,x)}catch(D){Ss(A,A.return,D)}}}function ai(A,m,x){x.props=bc(A.type,A.memoizedProps),x.state=A.memoizedState;try{x.componentWillUnmount()}catch(D){Ss(A,m,D)}}function gi(A,m){try{var x=A.ref;if(x!==null){switch(A.tag){case 26:case 27:case 5:var D=A.stateNode;break;case 30:D=A.stateNode;break;default:D=A.stateNode}typeof x=="function"?A.refCleanup=x(D):x.current=D}}catch(Y){Ss(A,m,Y)}}function _i(A,m){var x=A.ref,D=A.refCleanup;if(x!==null)if(typeof D=="function")try{D()}catch(Y){Ss(A,m,Y)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(Y){Ss(A,m,Y)}else x.current=null}function yi(A){var m=A.type,x=A.memoizedProps,D=A.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&D.focus();break e;case"img":x.src?D.src=x.src:x.srcSet&&(D.srcset=x.srcSet)}}catch(Y){Ss(A,A.return,Y)}}function Pi(A,m,x){try{var D=A.stateNode;Ny(D,A.type,x,m),D[ti]=m}catch(Y){Ss(A,A.return,Y)}}function ur(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&yh(A.type)||A.tag===4}function Vi(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||ur(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&yh(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function to(A,m,x){var D=A.tag;if(D===5||D===6)A=A.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(A,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(A),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=oc));else if(D!==4&&(D===27&&yh(A.type)&&(x=A.stateNode,m=null),A=A.child,A!==null))for(to(A,m,x),A=A.sibling;A!==null;)to(A,m,x),A=A.sibling}function Er(A,m,x){var D=A.tag;if(D===5||D===6)A=A.stateNode,m?x.insertBefore(A,m):x.appendChild(A);else if(D!==4&&(D===27&&yh(A.type)&&(x=A.stateNode),A=A.child,A!==null))for(Er(A,m,x),A=A.sibling;A!==null;)Er(A,m,x),A=A.sibling}function As(A){var m=A.stateNode,x=A.memoizedProps;try{for(var D=A.type,Y=m.attributes;Y.length;)m.removeAttributeNode(Y[0]);al(m,D,x),m[di]=A,m[ti]=x}catch(se){Ss(A,A.return,se)}}var ma=!1,Vr=!1,Ms=!1,ws=typeof WeakSet=="function"?WeakSet:Set,ga=null;function nu(A,m){if(A=A.containerInfo,jh=fi,A=Oh(A),Rd(A)){if("selectionStart"in A)var x={start:A.selectionStart,end:A.selectionEnd};else e:{x=(x=A.ownerDocument)&&x.defaultView||window;var D=x.getSelection&&x.getSelection();if(D&&D.rangeCount!==0){x=D.anchorNode;var Y=D.anchorOffset,se=D.focusNode;D=D.focusOffset;try{x.nodeType,se.nodeType}catch{x=null;break e}var Ye=0,st=-1,jt=-1,dn=0,Dn=0,Nn=A,mn=null;t:for(;;){for(var pn;Nn!==x||Y!==0&&Nn.nodeType!==3||(st=Ye+Y),Nn!==se||D!==0&&Nn.nodeType!==3||(jt=Ye+D),Nn.nodeType===3&&(Ye+=Nn.nodeValue.length),(pn=Nn.firstChild)!==null;)mn=Nn,Nn=pn;for(;;){if(Nn===A)break t;if(mn===x&&++dn===Y&&(st=Ye),mn===se&&++Dn===D&&(jt=Ye),(pn=Nn.nextSibling)!==null)break;Nn=mn,mn=Nn.parentNode}Nn=pn}x=st===-1||jt===-1?null:{start:st,end:jt}}else x=null}x=x||{start:0,end:0}}else x=null;for(P0={focusedElem:A,selectionRange:x},fi=!1,ga=m;ga!==null;)if(m=ga,A=m.child,(m.subtreeFlags&1024)!==0&&A!==null)A.return=m,ga=A;else for(;ga!==null;){switch(m=ga,se=m.alternate,A=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&se!==null){A=void 0,x=m,Y=se.memoizedProps,se=se.memoizedState,D=x.stateNode;try{var Fr=bc(x.type,Y,x.elementType===x.type);A=D.getSnapshotBeforeUpdate(Fr,se),D.__reactInternalSnapshotBeforeUpdate=A}catch(zr){Ss(x,x.return,zr)}}break;case 3:if((A&1024)!==0){if(A=m.stateNode.containerInfo,x=A.nodeType,x===9)xg(A);else if(x===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":xg(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=m.sibling,A!==null){A.return=m.return,ga=A;break}ga=m.return}}function Ps(A,m,x){var D=x.flags;switch(x.tag){case 0:case 11:case 15:ic(A,x),D&4&&Vt(5,x);break;case 1:if(ic(A,x),D&4)if(A=x.stateNode,m===null)try{A.componentDidMount()}catch(Ye){Ss(x,x.return,Ye)}else{var Y=bc(x.type,m.memoizedProps);m=m.memoizedState;try{A.componentDidUpdate(Y,m,A.__reactInternalSnapshotBeforeUpdate)}catch(Ye){Ss(x,x.return,Ye)}}D&64&&Pn(x),D&512&&gi(x,x.return);break;case 3:if(ic(A,x),D&64&&(A=x.updateQueue,A!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{gf(A,m)}catch(Ye){Ss(x,x.return,Ye)}}break;case 27:m===null&&D&4&&As(x);case 26:case 5:ic(A,x),m===null&&D&4&&yi(x),D&512&&gi(x,x.return);break;case 12:ic(A,x);break;case 13:ic(A,x),D&4&&bu(A,x),D&64&&(A=x.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(x=yg.bind(null,x),Hm(A,x))));break;case 22:if(D=x.memoizedState!==null||ma,!D){m=m!==null&&m.memoizedState!==null||Vr,Y=ma;var se=Vr;ma=D,(Vr=m)&&!se?xf(A,x,(x.subtreeFlags&8772)!==0):ic(A,x),ma=Y,Vr=se}break;case 30:break;default:ic(A,x)}}function Hs(A){var m=A.alternate;m!==null&&(A.alternate=null,Hs(m)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(m=A.stateNode,m!==null&&Jn(m)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var kr=null,ka=!1;function iu(A,m,x){for(x=x.child;x!==null;)xc(A,m,x),x=x.sibling}function xc(A,m,x){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Lt,x)}catch{}switch(x.tag){case 26:Vr||_i(x,m),iu(A,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Vr||_i(x,m);var D=kr,Y=ka;yh(x.type)&&(kr=x.stateNode,ka=!1),iu(A,m,x),em(x.stateNode),kr=D,ka=Y;break;case 5:Vr||_i(x,m);case 6:if(D=kr,Y=ka,kr=null,iu(A,m,x),kr=D,ka=Y,kr!==null)if(ka)try{(kr.nodeType===9?kr.body:kr.nodeName==="HTML"?kr.ownerDocument.body:kr).removeChild(x.stateNode)}catch(se){Ss(x,m,se)}else try{kr.removeChild(x.stateNode)}catch(se){Ss(x,m,se)}break;case 18:kr!==null&&(ka?(A=kr,Zp(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,x.stateNode),gl(A)):Zp(kr,x.stateNode));break;case 4:D=kr,Y=ka,kr=x.stateNode.containerInfo,ka=!0,iu(A,m,x),kr=D,ka=Y;break;case 0:case 11:case 14:case 15:Vr||bn(2,x,m),Vr||bn(4,x,m),iu(A,m,x);break;case 1:Vr||(_i(x,m),D=x.stateNode,typeof D.componentWillUnmount=="function"&&ai(x,m,D)),iu(A,m,x);break;case 21:iu(A,m,x);break;case 22:Vr=(D=Vr)||x.memoizedState!==null,iu(A,m,x),Vr=D;break;default:iu(A,m,x)}}function bu(A,m){if(m.memoizedState===null&&(A=m.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{gl(A)}catch(x){Ss(m,m.return,x)}}function dh(A){switch(A.tag){case 13:case 19:var m=A.stateNode;return m===null&&(m=A.stateNode=new ws),m;case 22:return A=A.stateNode,m=A._retryCache,m===null&&(m=A._retryCache=new ws),m;default:throw Error(i(435,A.tag))}}function gs(A,m){var x=dh(A);m.forEach(function(D){var Y=DC.bind(null,A,D);x.has(D)||(x.add(D),D.then(Y,Y))})}function kA(A,m){var x=m.deletions;if(x!==null)for(var D=0;D<x.length;D++){var Y=x[D],se=A,Ye=m,st=Ye;e:for(;st!==null;){switch(st.tag){case 27:if(yh(st.type)){kr=st.stateNode,ka=!1;break e}break;case 5:kr=st.stateNode,ka=!1;break e;case 3:case 4:kr=st.stateNode.containerInfo,ka=!0;break e}st=st.return}if(kr===null)throw Error(i(160));xc(se,Ye,Y),kr=null,ka=!1,se=Y.alternate,se!==null&&(se.return=null),Y.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Mc(m,A),m=m.sibling}var Ol=null;function Mc(A,m){var x=A.alternate,D=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:kA(m,A),hl(A),D&4&&(bn(3,A,A.return),Vt(3,A),bn(5,A,A.return));break;case 1:kA(m,A),hl(A),D&512&&(Vr||x===null||_i(x,x.return)),D&64&&ma&&(A=A.updateQueue,A!==null&&(D=A.callbacks,D!==null&&(x=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=x===null?D:x.concat(D))));break;case 26:var Y=Ol;if(kA(m,A),hl(A),D&512&&(Vr||x===null||_i(x,x.return)),D&4){var se=x!==null?x.memoizedState:null;if(D=A.memoizedState,x===null)if(D===null)if(A.stateNode===null){e:{D=A.type,x=A.memoizedProps,Y=Y.ownerDocument||Y;t:switch(D){case"title":se=Y.getElementsByTagName("title")[0],(!se||se[Ro]||se[di]||se.namespaceURI==="http://www.w3.org/2000/svg"||se.hasAttribute("itemprop"))&&(se=Y.createElement(D),Y.head.insertBefore(se,Y.querySelector("head > title"))),al(se,D,x),se[di]=A,Rr(se),D=se;break e;case"link":var Ye=K("link","href",Y).get(D+(x.href||""));if(Ye){for(var st=0;st<Ye.length;st++)if(se=Ye[st],se.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&se.getAttribute("rel")===(x.rel==null?null:x.rel)&&se.getAttribute("title")===(x.title==null?null:x.title)&&se.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){Ye.splice(st,1);break t}}se=Y.createElement(D),al(se,D,x),Y.head.appendChild(se);break;case"meta":if(Ye=K("meta","content",Y).get(D+(x.content||""))){for(st=0;st<Ye.length;st++)if(se=Ye[st],se.getAttribute("content")===(x.content==null?null:""+x.content)&&se.getAttribute("name")===(x.name==null?null:x.name)&&se.getAttribute("property")===(x.property==null?null:x.property)&&se.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&se.getAttribute("charset")===(x.charSet==null?null:x.charSet)){Ye.splice(st,1);break t}}se=Y.createElement(D),al(se,D,x),Y.head.appendChild(se);break;default:throw Error(i(468,D))}se[di]=A,Rr(se),D=se}A.stateNode=D}else G(Y,A.type,A.stateNode);else A.stateNode=u(Y,D,A.memoizedProps);else se!==D?(se===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):se.count--,D===null?G(Y,A.type,A.stateNode):u(Y,D,A.memoizedProps)):D===null&&A.stateNode!==null&&Pi(A,A.memoizedProps,x.memoizedProps)}break;case 27:kA(m,A),hl(A),D&512&&(Vr||x===null||_i(x,x.return)),x!==null&&D&4&&Pi(A,A.memoizedProps,x.memoizedProps);break;case 5:if(kA(m,A),hl(A),D&512&&(Vr||x===null||_i(x,x.return)),A.flags&32){Y=A.stateNode;try{ta(Y,"")}catch(pn){Ss(A,A.return,pn)}}D&4&&A.stateNode!=null&&(Y=A.memoizedProps,Pi(A,Y,x!==null?x.memoizedProps:Y)),D&1024&&(Ms=!0);break;case 6:if(kA(m,A),hl(A),D&4){if(A.stateNode===null)throw Error(i(162));D=A.memoizedProps,x=A.stateNode;try{x.nodeValue=D}catch(pn){Ss(A,A.return,pn)}}break;case 3:if(U=null,Y=Ol,Ol=ao(m.containerInfo),kA(m,A),Ol=Y,hl(A),D&4&&x!==null&&x.memoizedState.isDehydrated)try{gl(m.containerInfo)}catch(pn){Ss(A,A.return,pn)}Ms&&(Ms=!1,xu(A));break;case 4:D=Ol,Ol=ao(A.stateNode.containerInfo),kA(m,A),hl(A),Ol=D;break;case 12:kA(m,A),hl(A);break;case 13:kA(m,A),hl(A),A.child.flags&8192&&A.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(d1=on()),D&4&&(D=A.updateQueue,D!==null&&(A.updateQueue=null,gs(A,D)));break;case 22:Y=A.memoizedState!==null;var jt=x!==null&&x.memoizedState!==null,dn=ma,Dn=Vr;if(ma=dn||Y,Vr=Dn||jt,kA(m,A),Vr=Dn,ma=dn,hl(A),D&8192)e:for(m=A.stateNode,m._visibility=Y?m._visibility&-2:m._visibility|1,Y&&(x===null||jt||ma||Vr||fd(A)),x=null,m=A;;){if(m.tag===5||m.tag===26){if(x===null){jt=x=m;try{if(se=jt.stateNode,Y)Ye=se.style,typeof Ye.setProperty=="function"?Ye.setProperty("display","none","important"):Ye.display="none";else{st=jt.stateNode;var Nn=jt.memoizedProps.style,mn=Nn!=null&&Nn.hasOwnProperty("display")?Nn.display:null;st.style.display=mn==null||typeof mn=="boolean"?"":(""+mn).trim()}}catch(pn){Ss(jt,jt.return,pn)}}}else if(m.tag===6){if(x===null){jt=m;try{jt.stateNode.nodeValue=Y?"":jt.memoizedProps}catch(pn){Ss(jt,jt.return,pn)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===A)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break e;for(;m.sibling===null;){if(m.return===null||m.return===A)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}D&4&&(D=A.updateQueue,D!==null&&(x=D.retryQueue,x!==null&&(D.retryQueue=null,gs(A,x))));break;case 19:kA(m,A),hl(A),D&4&&(D=A.updateQueue,D!==null&&(A.updateQueue=null,gs(A,D)));break;case 30:break;case 21:break;default:kA(m,A),hl(A)}}function hl(A){var m=A.flags;if(m&2){try{for(var x,D=A.return;D!==null;){if(ur(D)){x=D;break}D=D.return}if(x==null)throw Error(i(160));switch(x.tag){case 27:var Y=x.stateNode,se=Vi(A);Er(A,se,Y);break;case 5:var Ye=x.stateNode;x.flags&32&&(ta(Ye,""),x.flags&=-33);var st=Vi(A);Er(A,st,Ye);break;case 3:case 4:var jt=x.stateNode.containerInfo,dn=Vi(A);to(A,dn,jt);break;default:throw Error(i(161))}}catch(Dn){Ss(A,A.return,Dn)}A.flags&=-3}m&4096&&(A.flags&=-4097)}function xu(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var m=A;xu(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),A=A.sibling}}function ic(A,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Ps(A,m.alternate,m),m=m.sibling}function fd(A){for(A=A.child;A!==null;){var m=A;switch(m.tag){case 0:case 11:case 14:case 15:bn(4,m,m.return),fd(m);break;case 1:_i(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&ai(m,m.return,x),fd(m);break;case 27:em(m.stateNode);case 26:case 5:_i(m,m.return),fd(m);break;case 22:m.memoizedState===null&&fd(m);break;case 30:fd(m);break;default:fd(m)}A=A.sibling}}function xf(A,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var D=m.alternate,Y=A,se=m,Ye=se.flags;switch(se.tag){case 0:case 11:case 15:xf(Y,se,x),Vt(4,se);break;case 1:if(xf(Y,se,x),D=se,Y=D.stateNode,typeof Y.componentDidMount=="function")try{Y.componentDidMount()}catch(dn){Ss(D,D.return,dn)}if(D=se,Y=D.updateQueue,Y!==null){var st=D.stateNode;try{var jt=Y.shared.hiddenCallbacks;if(jt!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<jt.length;Y++)Np(jt[Y],st)}catch(dn){Ss(D,D.return,dn)}}x&&Ye&64&&Pn(se),gi(se,se.return);break;case 27:As(se);case 26:case 5:xf(Y,se,x),x&&D===null&&Ye&4&&yi(se),gi(se,se.return);break;case 12:xf(Y,se,x);break;case 13:xf(Y,se,x),x&&Ye&4&&bu(Y,se);break;case 22:se.memoizedState===null&&xf(Y,se,x),gi(se,se.return);break;case 30:break;default:xf(Y,se,x)}m=m.sibling}}function u1(A,m){var x=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==x&&(A!=null&&A.refCount++,x!=null&&Ah(x))}function A1(A,m){A=null,m.alternate!==null&&(A=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==A&&(m.refCount++,A!=null&&Ah(A))}function Gd(A,m,x,D){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Qp(A,m,x,D),m=m.sibling}function Qp(A,m,x,D){var Y=m.flags;switch(m.tag){case 0:case 11:case 15:Gd(A,m,x,D),Y&2048&&Vt(9,m);break;case 1:Gd(A,m,x,D);break;case 3:Gd(A,m,x,D),Y&2048&&(A=null,m.alternate!==null&&(A=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==A&&(m.refCount++,A!=null&&Ah(A)));break;case 12:if(Y&2048){Gd(A,m,x,D),A=m.stateNode;try{var se=m.memoizedProps,Ye=se.id,st=se.onPostCommit;typeof st=="function"&&st(Ye,m.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(jt){Ss(m,m.return,jt)}}else Gd(A,m,x,D);break;case 13:Gd(A,m,x,D);break;case 23:break;case 22:se=m.stateNode,Ye=m.alternate,m.memoizedState!==null?se._visibility&2?Gd(A,m,x,D):w0(A,m):se._visibility&2?Gd(A,m,x,D):(se._visibility|=2,Dm(A,m,x,D,(m.subtreeFlags&10256)!==0)),Y&2048&&u1(Ye,m);break;case 24:Gd(A,m,x,D),Y&2048&&A1(m.alternate,m);break;default:Gd(A,m,x,D)}}function Dm(A,m,x,D,Y){for(Y=Y&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var se=A,Ye=m,st=x,jt=D,dn=Ye.flags;switch(Ye.tag){case 0:case 11:case 15:Dm(se,Ye,st,jt,Y),Vt(8,Ye);break;case 23:break;case 22:var Dn=Ye.stateNode;Ye.memoizedState!==null?Dn._visibility&2?Dm(se,Ye,st,jt,Y):w0(se,Ye):(Dn._visibility|=2,Dm(se,Ye,st,jt,Y)),Y&&dn&2048&&u1(Ye.alternate,Ye);break;case 24:Dm(se,Ye,st,jt,Y),Y&&dn&2048&&A1(Ye.alternate,Ye);break;default:Dm(se,Ye,st,jt,Y)}m=m.sibling}}function w0(A,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=A,D=m,Y=D.flags;switch(D.tag){case 22:w0(x,D),Y&2048&&u1(D.alternate,D);break;case 24:w0(x,D),Y&2048&&A1(D.alternate,D);break;default:w0(x,D)}m=m.sibling}}var DA=8192;function Rm(A){if(A.subtreeFlags&DA)for(A=A.child;A!==null;)c1(A),A=A.sibling}function c1(A){switch(A.tag){case 26:Rm(A),A.flags&DA&&A.memoizedState!==null&&Le(Ol,A.memoizedState,A.memoizedProps);break;case 5:Rm(A);break;case 3:case 4:var m=Ol;Ol=ao(A.stateNode.containerInfo),Rm(A),Ol=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=DA,DA=16777216,Rm(A),DA=m):Rm(A));break;default:Rm(A)}}function Sy(A){var m=A.alternate;if(m!==null&&(A=m.child,A!==null)){m.child=null;do m=A.sibling,A.sibling=null,A=m;while(A!==null)}}function up(A){var m=A.deletions;if((A.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var D=m[x];ga=D,Ey(D,A)}Sy(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)Pm(A),A=A.sibling}function Pm(A){switch(A.tag){case 0:case 11:case 15:up(A),A.flags&2048&&bn(9,A,A.return);break;case 3:up(A);break;case 12:up(A);break;case 22:var m=A.stateNode;A.memoizedState!==null&&m._visibility&2&&(A.return===null||A.return.tag!==13)?(m._visibility&=-3,Um(A)):up(A);break;default:up(A)}}function Um(A){var m=A.deletions;if((A.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var D=m[x];ga=D,Ey(D,A)}Sy(A)}for(A=A.child;A!==null;){switch(m=A,m.tag){case 0:case 11:case 15:bn(8,m,m.return),Um(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,Um(m));break;default:Um(m)}A=A.sibling}}function Ey(A,m){for(;ga!==null;){var x=ga;switch(x.tag){case 0:case 11:case 15:bn(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var D=x.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:Ah(x.memoizedState.cache)}if(D=x.child,D!==null)D.return=x,ga=D;else e:for(x=A;ga!==null;){D=ga;var Y=D.sibling,se=D.return;if(Hs(D),D===x){ga=null;break e}if(Y!==null){Y.return=se,ga=Y;break e}ga=se}}}var IC={getCacheForType:function(A){var m=Ko(Ea),x=m.data.get(A);return x===void 0&&(x=A(),m.data.set(A,x)),x}},Ag=typeof WeakMap=="function"?WeakMap:Map,cs=0,Vs=null,aa=null,Vo=0,hs=0,fh=null,Ap=!1,Km=!1,h1=!1,Mf=0,Il=0,Wd=0,cp=0,cg=0,ph=0,Lm=0,hp=null,Yc=null,hg=!1,d1=0,Fm=1/0,S0=null,wf=null,RA=0,dp=null,Qd=null,ol=0,E0=0,dg=null,f1=null,fp=0,pp=null;function PA(){if((cs&2)!==0&&Vo!==0)return Vo&-Vo;if(Fe.T!==null){var A=Al;return A!==0?A:qm()}return $i()}function By(){ph===0&&(ph=(Vo&536870912)===0||Jr?yt():536870912);var A=uA.current;return A!==null&&(A.flags|=32),ph}function mh(A,m,x){(A===Vs&&(hs===2||hs===9)||A.cancelPendingCommit!==null)&&(zm(A,0),mp(A,Vo,ph,!1)),rt(A,x),((cs&2)===0||A!==Vs)&&(A===Vs&&((cs&2)===0&&(cp|=x),Il===4&&mp(A,Vo,ph,!1)),gh(A))}function Oy(A,m,x){if((cs&6)!==0)throw Error(i(327));var D=!x&&(m&124)===0&&(m&A.expiredLanes)===0||Ze(A,m),Y=D?gp(A,m):B0(A,m,!0),se=D;do{if(Y===0){Km&&!D&&mp(A,m,0,!1);break}else{if(x=A.current.alternate,se&&!TC(x)){Y=B0(A,m,!1),se=!1;continue}if(Y===2){if(se=m,A.errorRecoveryDisabledLanes&se)var Ye=0;else Ye=A.pendingLanes&-536870913,Ye=Ye!==0?Ye:Ye&536870912?536870912:0;if(Ye!==0){m=Ye;e:{var st=A;Y=hp;var jt=st.current.memoizedState.isDehydrated;if(jt&&(zm(st,Ye).flags|=256),Ye=B0(st,Ye,!1),Ye!==2){if(h1&&!jt){st.errorRecoveryDisabledLanes|=se,cp|=se,Y=4;break e}se=Yc,Yc=Y,se!==null&&(Yc===null?Yc=se:Yc.push.apply(Yc,se))}Y=Ye}if(se=!1,Y!==2)continue}}if(Y===1){zm(A,0),mp(A,m,0,!0);break}e:{switch(D=A,se=Y,se){case 0:case 1:throw Error(i(345));case 4:if((m&4194048)!==m)break;case 6:mp(D,m,ph,!Ap);break e;case 2:Yc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((m&62914560)===m&&(Y=d1+300-on(),10<Y)){if(mp(D,m,ph,!Ap),Re(D,0,!0)!==0)break e;D.timeoutHandle=E1(Iy.bind(null,D,x,Yc,S0,hg,m,ph,cp,Lm,Ap,se,2,-0,0),Y);break e}Iy(D,x,Yc,S0,hg,m,ph,cp,Lm,Ap,se,0,-0,0)}}break}while(!0);gh(A)}function Iy(A,m,x,D,Y,se,Ye,st,jt,dn,Dn,Nn,mn,pn){if(A.timeoutHandle=-1,Nn=m.subtreeFlags,(Nn&8192||(Nn&16785408)===16785408)&&(ce={stylesheets:null,count:0,unsuspend:xe},c1(m),Nn=qe(),Nn!==null)){A.cancelPendingCommit=Nn(Nm.bind(null,A,m,se,x,D,Y,Ye,st,jt,Dn,1,mn,pn)),mp(A,se,Ye,!dn);return}Nm(A,m,se,x,D,Y,Ye,st,jt)}function TC(A){for(var m=A;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var D=0;D<x.length;D++){var Y=x[D],se=Y.getSnapshot;Y=Y.value;try{if(!Tu(se(),Y))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function mp(A,m,x,D){m&=~cg,m&=~cp,A.suspendedLanes|=m,A.pingedLanes&=~m,D&&(A.warmLanes|=m),D=A.expirationTimes;for(var Y=m;0<Y;){var se=31-oe(Y),Ye=1<<se;D[se]=-1,Y&=~Ye}x!==0&&Rn(A,x,m)}function fg(){return(cs&6)===0?(Yp(0),!1):!0}function p1(){if(aa!==null){if(hs===0)var A=aa.return;else A=aa,at=sA=null,jc(A),Mo=null,ia=0,A=aa;for(;A!==null;)en(A.alternate,A),A=A.return;aa=null}}function zm(A,m){var x=A.timeoutHandle;x!==-1&&(A.timeoutHandle=-1,Wy(x)),x=A.cancelPendingCommit,x!==null&&(A.cancelPendingCommit=null,x()),p1(),Vs=A,aa=x=ks(A.current,null),Vo=m,hs=0,fh=null,Ap=!1,Km=Ze(A,m),h1=!1,Lm=ph=cg=cp=Wd=Il=0,Yc=hp=null,hg=!1,(m&8)!==0&&(m|=m&32);var D=A.entangledLanes;if(D!==0)for(A=A.entanglements,D&=m;0<D;){var Y=31-oe(D),se=1<<Y;m|=A[Y],D&=~se}return Mf=m,Hl(),x}function Ty(A,m){oo=null,Fe.H=El,m===wa||m===hi?(m=mf(),hs=3):m===eo?(m=mf(),hs=4):hs=m===jd?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,fh=m,aa===null&&(Il=1,vf(A,qa(m,A.current)))}function ky(){var A=Fe.H;return Fe.H=El,A===null?El:A}function Dy(){var A=Fe.A;return Fe.A=IC,A}function pg(){Il=4,Ap||(Vo&4194048)!==Vo&&uA.current!==null||(Km=!0),(Wd&134217727)===0&&(cp&134217727)===0||Vs===null||mp(Vs,Vo,ph,!1)}function B0(A,m,x){var D=cs;cs|=2;var Y=ky(),se=Dy();(Vs!==A||Vo!==m)&&(S0=null,zm(A,m)),m=!1;var Ye=Il;e:do try{if(hs!==0&&aa!==null){var st=aa,jt=fh;switch(hs){case 8:p1(),Ye=6;break e;case 3:case 2:case 9:case 6:uA.current===null&&(m=!0);var dn=hs;if(hs=0,fh=null,Sf(A,st,jt,dn),x&&Km){Ye=0;break e}break;default:dn=hs,hs=0,fh=null,Sf(A,st,jt,dn)}}Ry(),Ye=Il;break}catch(Dn){Ty(A,Dn)}while(!0);return m&&A.shellSuspendCounter++,at=sA=null,cs=D,Fe.H=Y,Fe.A=se,aa===null&&(Vs=null,Vo=0,Hl()),Ye}function Ry(){for(;aa!==null;)yp(aa)}function gp(A,m){var x=cs;cs|=2;var D=ky(),Y=Dy();Vs!==A||Vo!==m?(S0=null,Fm=on()+500,zm(A,m)):Km=Ze(A,m);e:do try{if(hs!==0&&aa!==null){m=aa;var se=fh;t:switch(hs){case 1:hs=0,fh=null,Sf(A,m,se,1);break;case 2:case 9:if(ZA(se)){hs=0,fh=null,O0(m);break}m=function(){hs!==2&&hs!==9||Vs!==A||(hs=7),gh(A)},se.then(m,m);break e;case 3:hs=7;break e;case 4:hs=5;break e;case 7:ZA(se)?(hs=0,fh=null,O0(m)):(hs=0,fh=null,Sf(A,m,se,7));break;case 5:var Ye=null;switch(aa.tag){case 26:Ye=aa.memoizedState;case 5:case 27:var st=aa;if(!Ye||ae(Ye)){hs=0,fh=null;var jt=st.sibling;if(jt!==null)aa=jt;else{var dn=st.return;dn!==null?(aa=dn,mg(dn)):aa=null}break t}}hs=0,fh=null,Sf(A,m,se,5);break;case 6:hs=0,fh=null,Sf(A,m,se,6);break;case 8:p1(),Il=6;break e;default:throw Error(i(462))}}jm();break}catch(Dn){Ty(A,Dn)}while(!0);return at=sA=null,Fe.H=D,Fe.A=Y,cs=x,aa!==null?0:(Vs=null,Vo=0,Hl(),Il)}function jm(){for(;aa!==null&&!Yt();)yp(aa)}function yp(A){var m=F(A.alternate,A,Mf);A.memoizedProps=A.pendingProps,m===null?mg(A):aa=m}function O0(A){var m=A,x=m.alternate;switch(m.tag){case 15:case 0:m=oa(x,m,m.pendingProps,m.type,void 0,Vo);break;case 11:m=oa(x,m,m.pendingProps,m.type.render,m.ref,Vo);break;case 5:jc(m);default:en(x,m),m=aa=Th(m,Mf),m=F(x,m,Mf)}A.memoizedProps=A.pendingProps,m===null?mg(A):aa=m}function Sf(A,m,x,D){at=sA=null,jc(m),Mo=null,ia=0;var Y=m.return;try{if(cA(A,Y,m,x,Vo)){Il=1,vf(A,qa(x,A.current)),aa=null;return}}catch(se){if(Y!==null)throw aa=Y,se;Il=1,vf(A,qa(x,A.current)),aa=null;return}m.flags&32768?(Jr||D===1?A=!0:Km||(Vo&536870912)!==0?A=!1:(Ap=A=!0,(D===2||D===9||D===3||D===6)&&(D=uA.current,D!==null&&D.tag===13&&(D.flags|=16384))),Py(m,A)):mg(m)}function mg(A){var m=A;do{if((m.flags&32768)!==0){Py(m,Ap);return}A=m.return;var x=_t(m.alternate,m,Mf);if(x!==null){aa=x;return}if(m=m.sibling,m!==null){aa=m;return}aa=m=A}while(m!==null);Il===0&&(Il=5)}function Py(A,m){do{var x=Tt(A.alternate,A);if(x!==null){x.flags&=32767,aa=x;return}if(x=A.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(A=A.sibling,A!==null)){aa=A;return}aa=A=x}while(A!==null);Il=6,aa=null}function Nm(A,m,x,D,Y,se,Ye,st,jt){A.cancelPendingCommit=null;do Gm();while(RA!==0);if((cs&6)!==0)throw Error(i(327));if(m!==null){if(m===A.current)throw Error(i(177));if(se=m.lanes|m.childLanes,se|=oA,tn(A,x,se,Ye,st,jt),A===Vs&&(aa=Vs=null,Vo=0),Qd=m,dp=A,ol=x,E0=se,dg=Y,f1=D,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,C1(On,function(){return gg(),null})):(A.callbackNode=null,A.callbackPriority=0),D=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||D){D=Fe.T,Fe.T=null,Y=ot.p,ot.p=2,Ye=cs,cs|=4;try{nu(A,m,x)}finally{cs=Ye,ot.p=Y,Fe.T=D}}RA=1,m1(),Uy(),g1()}}function m1(){if(RA===1){RA=0;var A=dp,m=Qd,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=Fe.T,Fe.T=null;var D=ot.p;ot.p=2;var Y=cs;cs|=4;try{Mc(m,A);var se=P0,Ye=Oh(A.containerInfo),st=se.focusedElem,jt=se.selectionRange;if(Ye!==st&&st&&st.ownerDocument&&To(st.ownerDocument.documentElement,st)){if(jt!==null&&Rd(st)){var dn=jt.start,Dn=jt.end;if(Dn===void 0&&(Dn=dn),"selectionStart"in st)st.selectionStart=dn,st.selectionEnd=Math.min(Dn,st.value.length);else{var Nn=st.ownerDocument||document,mn=Nn&&Nn.defaultView||window;if(mn.getSelection){var pn=mn.getSelection(),Fr=st.textContent.length,zr=Math.min(jt.start,Fr),Bs=jt.end===void 0?zr:Math.min(jt.end,Fr);!pn.extend&&zr>Bs&&(Ye=Bs,Bs=zr,zr=Ye);var nn=WA(st,zr),Zt=WA(st,Bs);if(nn&&Zt&&(pn.rangeCount!==1||pn.anchorNode!==nn.node||pn.anchorOffset!==nn.offset||pn.focusNode!==Zt.node||pn.focusOffset!==Zt.offset)){var cn=Nn.createRange();cn.setStart(nn.node,nn.offset),pn.removeAllRanges(),zr>Bs?(pn.addRange(cn),pn.extend(Zt.node,Zt.offset)):(cn.setEnd(Zt.node,Zt.offset),pn.addRange(cn))}}}}for(Nn=[],pn=st;pn=pn.parentNode;)pn.nodeType===1&&Nn.push({element:pn,left:pn.scrollLeft,top:pn.scrollTop});for(typeof st.focus=="function"&&st.focus(),st=0;st<Nn.length;st++){var Ln=Nn[st];Ln.element.scrollLeft=Ln.left,Ln.element.scrollTop=Ln.top}}fi=!!jh,P0=jh=null}finally{cs=Y,ot.p=D,Fe.T=x}}A.current=m,RA=2}}function Uy(){if(RA===2){RA=0;var A=dp,m=Qd,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=Fe.T,Fe.T=null;var D=ot.p;ot.p=2;var Y=cs;cs|=4;try{Ps(A,m.alternate,m)}finally{cs=Y,ot.p=D,Fe.T=x}}RA=3}}function g1(){if(RA===4||RA===3){RA=0,Ut();var A=dp,m=Qd,x=ol,D=f1;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?RA=5:(RA=0,Qd=dp=null,y1(A,A.pendingLanes));var Y=A.pendingLanes;if(Y===0&&(wf=null),Qn(x),m=m.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Lt,m,void 0,(m.current.flags&128)===128)}catch{}if(D!==null){m=Fe.T,Y=ot.p,ot.p=2,Fe.T=null;try{for(var se=A.onRecoverableError,Ye=0;Ye<D.length;Ye++){var st=D[Ye];se(st.value,{componentStack:st.stack})}}finally{Fe.T=m,ot.p=Y}}(ol&3)!==0&&Gm(),gh(A),Y=A.pendingLanes,(x&4194090)!==0&&(Y&42)!==0?A===pp?fp++:(fp=0,pp=A):fp=0,Yp(0)}}function y1(A,m){(A.pooledCacheLanes&=m)===0&&(m=A.pooledCache,m!=null&&(A.pooledCache=null,Ah(m)))}function Gm(A){return m1(),Uy(),g1(),gg()}function gg(){if(RA!==5)return!1;var A=dp,m=E0;E0=0;var x=Qn(ol),D=Fe.T,Y=ot.p;try{ot.p=32>x?32:x,Fe.T=null,x=dg,dg=null;var se=dp,Ye=ol;if(RA=0,Qd=dp=null,ol=0,(cs&6)!==0)throw Error(i(331));var st=cs;if(cs|=4,Pm(se.current),Qp(se,se.current,Ye,x),cs=st,Yp(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Lt,se)}catch{}return!0}finally{ot.p=Y,Fe.T=D,y1(A,m)}}function Ky(A,m,x){m=qa(x,m),m=Gp(A.stateNode,m,2),A=yc(A,m,2),A!==null&&(rt(A,2),gh(A))}function Ss(A,m,x){if(A.tag===3)Ky(A,A,x);else for(;m!==null;){if(m.tag===3){Ky(m,A,x);break}else if(m.tag===1){var D=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(wf===null||!wf.has(D))){A=qa(x,A),x=Fh(2),D=yc(m,x,2),D!==null&&(op(x,D,m,A),rt(D,2),gh(D));break}}m=m.return}}function v1(A,m,x){var D=A.pingCache;if(D===null){D=A.pingCache=new Ag;var Y=new Set;D.set(m,Y)}else Y=D.get(m),Y===void 0&&(Y=new Set,D.set(m,Y));Y.has(x)||(h1=!0,Y.add(x),A=kC.bind(null,A,m,x),m.then(A,A))}function kC(A,m,x){var D=A.pingCache;D!==null&&D.delete(m),A.pingedLanes|=A.suspendedLanes&x,A.warmLanes&=~x,Vs===A&&(Vo&x)===x&&(Il===4||Il===3&&(Vo&62914560)===Vo&&300>on()-d1?(cs&2)===0&&zm(A,0):cg|=x,Lm===Vo&&(Lm=0)),gh(A)}function Ly(A,m){m===0&&(m=dt()),A=Uu(A,m),A!==null&&(rt(A,m),gh(A))}function yg(A){var m=A.memoizedState,x=0;m!==null&&(x=m.retryLane),Ly(A,x)}function DC(A,m){var x=0;switch(A.tag){case 13:var D=A.stateNode,Y=A.memoizedState;Y!==null&&(x=Y.retryLane);break;case 19:D=A.stateNode;break;case 22:D=A.stateNode._retryCache;break;default:throw Error(i(314))}D!==null&&D.delete(m),Ly(A,x)}function C1(A,m){return vt(A,m)}var Wm=null,rc=null,pd=!1,Qm=!1,Ym=!1,vp=0;function gh(A){A!==rc&&A.next===null&&(rc===null?Wm=rc=A:rc=rc.next=A),Qm=!0,pd||(pd=!0,vg())}function Yp(A,m){if(!Ym&&Qm){Ym=!0;do for(var x=!1,D=Wm;D!==null;){if(A!==0){var Y=D.pendingLanes;if(Y===0)var se=0;else{var Ye=D.suspendedLanes,st=D.pingedLanes;se=(1<<31-oe(42|A)+1)-1,se&=Y&~(Ye&~st),se=se&201326741?se&201326741|1:se?se|2:0}se!==0&&(x=!0,_1(D,se))}else se=Vo,se=Re(D,D===Vs?se:0,D.cancelPendingCommit!==null||D.timeoutHandle!==-1),(se&3)===0||Ze(D,se)||(x=!0,_1(D,se));D=D.next}while(x);Ym=!1}}function RC(){qp()}function qp(){Qm=pd=!1;var A=0;vp!==0&&(Gy()&&(A=vp),vp=0);for(var m=on(),x=null,D=Wm;D!==null;){var Y=D.next,se=Hp(D,m);se===0?(D.next=null,x===null?Wm=Y:x.next=Y,Y===null&&(rc=x)):(x=D,(A!==0||(se&3)!==0)&&(Qm=!0)),D=Y}Yp(A)}function Hp(A,m){for(var x=A.suspendedLanes,D=A.pingedLanes,Y=A.expirationTimes,se=A.pendingLanes&-62914561;0<se;){var Ye=31-oe(se),st=1<<Ye,jt=Y[Ye];jt===-1?((st&x)===0||(st&D)!==0)&&(Y[Ye]=y(st,m)):jt<=m&&(A.expiredLanes|=st),se&=~st}if(m=Vs,x=Vo,x=Re(A,A===m?x:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),D=A.callbackNode,x===0||A===m&&(hs===2||hs===9)||A.cancelPendingCommit!==null)return D!==null&&D!==null&&It(D),A.callbackNode=null,A.callbackPriority=0;if((x&3)===0||Ze(A,x)){if(m=x&-x,m===A.callbackPriority)return m;switch(D!==null&&It(D),Qn(x)){case 2:case 8:x=Gn;break;case 32:x=On;break;case 268435456:x=Tn;break;default:x=On}return D=Vp.bind(null,A),x=vt(x,D),A.callbackPriority=m,A.callbackNode=x,m}return D!==null&&D!==null&&It(D),A.callbackPriority=2,A.callbackNode=null,2}function Vp(A,m){if(RA!==0&&RA!==5)return A.callbackNode=null,A.callbackPriority=0,null;var x=A.callbackNode;if(Gm()&&A.callbackNode!==x)return null;var D=Vo;return D=Re(A,A===Vs?D:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),D===0?null:(Oy(A,D,m),Hp(A,on()),A.callbackNode!=null&&A.callbackNode===x?Vp.bind(null,A):null)}function _1(A,m){if(Gm())return null;Oy(A,m,!0)}function vg(){KC(function(){(cs&6)!==0?vt(Wt,RC):qp()})}function qm(){return vp===0&&(vp=yt()),vp}function b1(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Sr(""+A)}function I0(A,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,A.id&&x.setAttribute("form",A.id),m.parentNode.insertBefore(x,m),A=new FormData(A),x.parentNode.removeChild(x),A}function Fy(A,m,x,D,Y){if(m==="submit"&&x&&x.stateNode===Y){var se=b1((Y[ti]||null).action),Ye=D.submitter;Ye&&(m=(m=Ye[ti]||null)?b1(m.formAction):Ye.getAttribute("formAction"),m!==null&&(se=m,Ye=null));var st=new Qt("action","action",null,D,Y);A.push({event:st,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(vp!==0){var jt=Ye?I0(Y,Ye):new FormData(Y);pa(x,{pending:!0,data:jt,method:Y.method,action:se},null,jt)}}else typeof se=="function"&&(st.preventDefault(),jt=Ye?I0(Y,Ye):new FormData(Y),pa(x,{pending:!0,data:jt,method:Y.method,action:se},se,jt))},currentTarget:Y}]})}}for(var x1=0;x1<Yo.length;x1++){var M1=Yo[x1],zy=M1.toLowerCase(),PC=M1[0].toUpperCase()+M1.slice(1);_A(zy,"on"+PC)}_A(ih,"onAnimationEnd"),_A(Af,"onAnimationIteration"),_A(fu,"onAnimationStart"),_A("dblclick","onDoubleClick"),_A("focusin","onFocus"),_A("focusout","onBlur"),_A(Pd,"onTransitionRun"),_A(CA,"onTransitionStart"),_A(Du,"onTransitionCancel"),_A(Ru,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(T0));function jy(A,m){m=(m&4)!==0;for(var x=0;x<A.length;x++){var D=A[x],Y=D.event;D=D.listeners;e:{var se=void 0;if(m)for(var Ye=D.length-1;0<=Ye;Ye--){var st=D[Ye],jt=st.instance,dn=st.currentTarget;if(st=st.listener,jt!==se&&Y.isPropagationStopped())break e;se=st,Y.currentTarget=dn;try{se(Y)}catch(Dn){dd(Dn)}Y.currentTarget=null,se=jt}else for(Ye=0;Ye<D.length;Ye++){if(st=D[Ye],jt=st.instance,dn=st.currentTarget,st=st.listener,jt!==se&&Y.isPropagationStopped())break e;se=st,Y.currentTarget=dn;try{se(Y)}catch(Dn){dd(Dn)}Y.currentTarget=null,se=jt}}}}function sa(A,m){var x=m[Sn];x===void 0&&(x=m[Sn]=new Set);var D=A+"__bubble";x.has(D)||(w1(m,A,2,!1),x.add(D))}function k0(A,m,x){var D=0;m&&(D|=4),w1(x,A,D,m)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Cg(A){if(!A[ru]){A[ru]=!0,Gi.forEach(function(x){x!=="selectionchange"&&(UC.has(x)||k0(x,!1,A),k0(x,!0,A))});var m=A.nodeType===9?A:A.ownerDocument;m===null||m[ru]||(m[ru]=!0,k0("selectionchange",!1,m))}}function w1(A,m,x,D){switch(Ar(m)){case 2:var Y=rr;break;case 8:Y=Ai;break;default:Y=pi}x=Y.bind(null,m,x,A),Y=void 0,!Ya||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(Y=!0),D?Y!==void 0?A.addEventListener(m,x,{capture:!0,passive:Y}):A.addEventListener(m,x,!0):Y!==void 0?A.addEventListener(m,x,{passive:Y}):A.addEventListener(m,x,!1)}function Yd(A,m,x,D,Y){var se=D;if((m&1)===0&&(m&2)===0&&D!==null)e:for(;;){if(D===null)return;var Ye=D.tag;if(Ye===3||Ye===4){var st=D.stateNode.containerInfo;if(st===Y)break;if(Ye===4)for(Ye=D.return;Ye!==null;){var jt=Ye.tag;if((jt===3||jt===4)&&Ye.stateNode.containerInfo===Y)return;Ye=Ye.return}for(;st!==null;){if(Ye=cr(st),Ye===null)return;if(jt=Ye.tag,jt===5||jt===6||jt===26||jt===27){D=se=Ye;continue e}st=st.parentNode}}D=D.return}ca(function(){var dn=se,Dn=yA(x),Nn=[];e:{var mn=Ul.get(A);if(mn!==void 0){var pn=Qt,Fr=A;switch(A){case"keypress":if(Ei(x)===0)break e;case"keydown":case"keyup":pn=$h;break;case"focusin":Fr="focus",pn=po;break;case"focusout":Fr="blur",pn=po;break;case"beforeblur":case"afterblur":pn=po;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pn=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pn=dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pn=Bm;break;case ih:case Af:case fu:pn=Gr;break;case Ru:pn=Od;break;case"scroll":case"scrollend":pn=ei;break;case"wheel":pn=Yf;break;case"copy":case"cut":case"paste":pn=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pn=hc;break;case"toggle":case"beforetoggle":pn=nA}var zr=(m&4)!==0,Bs=!zr&&(A==="scroll"||A==="scrollend"),nn=zr?mn!==null?mn+"Capture":null:mn;zr=[];for(var Zt=dn,cn;Zt!==null;){var Ln=Zt;if(cn=Ln.stateNode,Ln=Ln.tag,Ln!==5&&Ln!==26&&Ln!==27||cn===null||nn===null||(Ln=Ur(Zt,nn),Ln!=null&&zr.push($r(Zt,Ln,cn))),Bs)break;Zt=Zt.return}0<zr.length&&(mn=new pn(mn,Fr,null,x,Dn),Nn.push({event:mn,listeners:zr}))}}if((m&7)===0){e:{if(mn=A==="mouseover"||A==="pointerover",pn=A==="mouseout"||A==="pointerout",mn&&x!==Au&&(Fr=x.relatedTarget||x.fromElement)&&(cr(Fr)||Fr[qi]))break e;if((pn||mn)&&(mn=Dn.window===Dn?Dn:(mn=Dn.ownerDocument)?mn.defaultView||mn.parentWindow:window,pn?(Fr=x.relatedTarget||x.toElement,pn=dn,Fr=Fr?cr(Fr):null,Fr!==null&&(Bs=o(Fr),zr=Fr.tag,Fr!==Bs||zr!==5&&zr!==27&&zr!==6)&&(Fr=null)):(pn=null,Fr=dn),pn!==Fr)){if(zr=io,Ln="onMouseLeave",nn="onMouseEnter",Zt="mouse",(A==="pointerout"||A==="pointerover")&&(zr=hc,Ln="onPointerLeave",nn="onPointerEnter",Zt="pointer"),Bs=pn==null?mn:br(pn),cn=Fr==null?mn:br(Fr),mn=new zr(Ln,Zt+"leave",pn,x,Dn),mn.target=Bs,mn.relatedTarget=cn,Ln=null,cr(Dn)===dn&&(zr=new zr(nn,Zt+"enter",Fr,x,Dn),zr.target=cn,zr.relatedTarget=Bs,Ln=zr),Bs=Ln,pn&&Fr)t:{for(zr=pn,nn=Fr,Zt=0,cn=zr;cn;cn=ou(cn))Zt++;for(cn=0,Ln=nn;Ln;Ln=ou(Ln))cn++;for(;0<Zt-cn;)zr=ou(zr),Zt--;for(;0<cn-Zt;)nn=ou(nn),cn--;for(;Zt--;){if(zr===nn||nn!==null&&zr===nn.alternate)break t;zr=ou(zr),nn=ou(nn)}zr=null}else zr=null;pn!==null&&Tl(Nn,mn,pn,zr,!1),Fr!==null&&Bs!==null&&Tl(Nn,Bs,Fr,zr,!0)}}e:{if(mn=dn?br(dn):window,pn=mn.nodeName&&mn.nodeName.toLowerCase(),pn==="select"||pn==="input"&&mn.type==="file")var ar=GA;else if($f(mn))if(iA)ar=Fp;else{ar=vA;var $o=uf}else pn=mn.nodeName,!pn||pn.toLowerCase()!=="input"||mn.type!=="checkbox"&&mn.type!=="radio"?dn&&ba(dn.elementType)&&(ar=GA):ar=rA;if(ar&&(ar=ar(A,dn))){dc(Nn,ar,x,Dn);break e}$o&&$o(A,mn,dn),A==="focusout"&&dn&&mn.type==="number"&&dn.memoizedProps.value!=null&&xl(mn,"number",mn.value)}switch($o=dn?br(dn):window,A){case"focusin":($f($o)||$o.contentEditable==="true")&&(Rc=$o,ql=dn,Xt=null);break;case"focusout":Xt=ql=Rc=null;break;case"mousedown":En=!0;break;case"contextmenu":case"mouseup":case"dragend":En=!1,Cn(Nn,x,Dn);break;case"selectionchange":if(zp)break;case"keydown":case"keyup":Cn(Nn,x,Dn)}var or;if(Id)e:{switch(A){case"compositionstart":var Dr="onCompositionStart";break e;case"compositionend":Dr="onCompositionEnd";break e;case"compositionupdate":Dr="onCompositionUpdate";break e}Dr=void 0}else Bh?Hf(A,x)&&(Dr="onCompositionEnd"):A==="keydown"&&x.keyCode===229&&(Dr="onCompositionStart");Dr&&(Zh&&x.locale!=="ko"&&(Bh||Dr!=="onCompositionStart"?Dr==="onCompositionEnd"&&Bh&&(or=er()):(xa=Dn,Kr="value"in xa?xa.value:xa.textContent,Bh=!0)),$o=D0(dn,Dr),0<$o.length&&(Dr=new Cs(Dr,A,null,x,Dn),Nn.push({event:Dr,listeners:$o}),or?Dr.data=or:(or=Eh(x),or!==null&&(Dr.data=or)))),(or=Td?Jh(A,x):Vf(A,x))&&(Dr=D0(dn,"onBeforeInput"),0<Dr.length&&($o=new Cs("onBeforeInput","beforeinput",null,x,Dn),Nn.push({event:$o,listeners:Dr}),$o.data=or)),Fy(Nn,A,dn,x,Dn)}jy(Nn,m)})}function $r(A,m,x){return{instance:A,listener:m,currentTarget:x}}function D0(A,m){for(var x=m+"Capture",D=[];A!==null;){var Y=A,se=Y.stateNode;if(Y=Y.tag,Y!==5&&Y!==26&&Y!==27||se===null||(Y=Ur(A,x),Y!=null&&D.unshift($r(A,Y,se)),Y=Ur(A,m),Y!=null&&D.push($r(A,Y,se))),A.tag===3)return D;A=A.return}return[]}function ou(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function Tl(A,m,x,D,Y){for(var se=m._reactName,Ye=[];x!==null&&x!==D;){var st=x,jt=st.alternate,dn=st.stateNode;if(st=st.tag,jt!==null&&jt===D)break;st!==5&&st!==26&&st!==27||dn===null||(jt=dn,Y?(dn=Ur(x,se),dn!=null&&Ye.unshift($r(x,dn,jt))):Y||(dn=Ur(x,se),dn!=null&&Ye.push($r(x,dn,jt)))),x=x.return}Ye.length!==0&&A.push({event:m,listeners:Ye})}var R0=/\r\n?/g,Ef=/\u0000|\uFFFD/g;function _g(A){return(typeof A=="string"?A:""+A).replace(R0,`
`).replace(Ef,"")}function S1(A,m){return m=_g(m),_g(A)===m}function oc(){}function Da(A,m,x,D,Y,se){switch(x){case"children":typeof D=="string"?m==="body"||m==="textarea"&&D===""||ta(A,D):(typeof D=="number"||typeof D=="bigint")&&m!=="body"&&ta(A,""+D);break;case"className":Xi(A,"class",D);break;case"tabIndex":Xi(A,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(A,x,D);break;case"style":Gl(A,D,se);break;case"data":if(m!=="object"){Xi(A,"data",D);break}case"src":case"href":if(D===""&&(m!=="a"||x!=="href")){A.removeAttribute(x);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){A.removeAttribute(x);break}D=Sr(""+D),A.setAttribute(x,D);break;case"action":case"formAction":if(typeof D=="function"){A.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof se=="function"&&(x==="formAction"?(m!=="input"&&Da(A,m,"name",Y.name,Y,null),Da(A,m,"formEncType",Y.formEncType,Y,null),Da(A,m,"formMethod",Y.formMethod,Y,null),Da(A,m,"formTarget",Y.formTarget,Y,null)):(Da(A,m,"encType",Y.encType,Y,null),Da(A,m,"method",Y.method,Y,null),Da(A,m,"target",Y.target,Y,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){A.removeAttribute(x);break}D=Sr(""+D),A.setAttribute(x,D);break;case"onClick":D!=null&&(A.onclick=oc);break;case"onScroll":D!=null&&sa("scroll",A);break;case"onScrollEnd":D!=null&&sa("scrollend",A);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(i(61));if(x=D.__html,x!=null){if(Y.children!=null)throw Error(i(60));A.innerHTML=x}}break;case"multiple":A.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":A.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){A.removeAttribute("xlink:href");break}x=Sr(""+D),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?A.setAttribute(x,""+D):A.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?A.setAttribute(x,""):A.removeAttribute(x);break;case"capture":case"download":D===!0?A.setAttribute(x,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?A.setAttribute(x,D):A.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?A.setAttribute(x,D):A.removeAttribute(x);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?A.removeAttribute(x):A.setAttribute(x,D);break;case"popover":sa("beforetoggle",A),sa("toggle",A),Fa(A,"popover",D);break;case"xlinkActuate":Si(A,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":Si(A,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":Si(A,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":Si(A,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":Si(A,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":Si(A,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":Si(A,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":Si(A,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":Si(A,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":Fa(A,"is",D);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Wl.get(x)||x,Fa(A,x,D))}}function $p(A,m,x,D,Y,se){switch(x){case"style":Gl(A,D,se);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(i(61));if(x=D.__html,x!=null){if(Y.children!=null)throw Error(i(60));A.innerHTML=x}}break;case"children":typeof D=="string"?ta(A,D):(typeof D=="number"||typeof D=="bigint")&&ta(A,""+D);break;case"onScroll":D!=null&&sa("scroll",A);break;case"onScrollEnd":D!=null&&sa("scrollend",A);break;case"onClick":D!=null&&(A.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(Y=x.endsWith("Capture"),m=x.slice(2,Y?x.length-7:void 0),se=A[ti]||null,se=se!=null?se[x]:null,typeof se=="function"&&A.removeEventListener(m,se,Y),typeof D=="function")){typeof se!="function"&&se!==null&&(x in A?A[x]=null:A.hasAttribute(x)&&A.removeAttribute(x)),A.addEventListener(m,D,Y);break e}x in A?A[x]=D:D===!0?A.setAttribute(x,""):Fa(A,x,D)}}}function al(A,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sa("error",A),sa("load",A);var D=!1,Y=!1,se;for(se in x)if(x.hasOwnProperty(se)){var Ye=x[se];if(Ye!=null)switch(se){case"src":D=!0;break;case"srcSet":Y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,m));default:Da(A,m,se,Ye,x,null)}}Y&&Da(A,m,"srcSet",x.srcSet,x,null),D&&Da(A,m,"src",x.src,x,null);return;case"input":sa("invalid",A);var st=se=Ye=Y=null,jt=null,dn=null;for(D in x)if(x.hasOwnProperty(D)){var Dn=x[D];if(Dn!=null)switch(D){case"name":Y=Dn;break;case"type":Ye=Dn;break;case"checked":jt=Dn;break;case"defaultChecked":dn=Dn;break;case"value":se=Dn;break;case"defaultValue":st=Dn;break;case"children":case"dangerouslySetInnerHTML":if(Dn!=null)throw Error(i(137,m));break;default:Da(A,m,D,Dn,x,null)}}Ou(A,se,st,jt,dn,Ye,Y,!1),Oo(A);return;case"select":sa("invalid",A),D=Ye=se=null;for(Y in x)if(x.hasOwnProperty(Y)&&(st=x[Y],st!=null))switch(Y){case"value":se=st;break;case"defaultValue":Ye=st;break;case"multiple":D=st;default:Da(A,m,Y,st,x,null)}m=se,x=Ye,A.multiple=!!D,m!=null?Is(A,!!D,m,!1):x!=null&&Is(A,!!D,x,!0);return;case"textarea":sa("invalid",A),se=Y=D=null;for(Ye in x)if(x.hasOwnProperty(Ye)&&(st=x[Ye],st!=null))switch(Ye){case"value":D=st;break;case"defaultValue":Y=st;break;case"children":se=st;break;case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(91));break;default:Da(A,m,Ye,st,x,null)}Xs(A,D,Y,se),Oo(A);return;case"option":for(jt in x)if(x.hasOwnProperty(jt)&&(D=x[jt],D!=null))switch(jt){case"selected":A.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Da(A,m,jt,D,x,null)}return;case"dialog":sa("beforetoggle",A),sa("toggle",A),sa("cancel",A),sa("close",A);break;case"iframe":case"object":sa("load",A);break;case"video":case"audio":for(D=0;D<T0.length;D++)sa(T0[D],A);break;case"image":sa("error",A),sa("load",A);break;case"details":sa("toggle",A);break;case"embed":case"source":case"link":sa("error",A),sa("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dn in x)if(x.hasOwnProperty(dn)&&(D=x[dn],D!=null))switch(dn){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,m));default:Da(A,m,dn,D,x,null)}return;default:if(ba(m)){for(Dn in x)x.hasOwnProperty(Dn)&&(D=x[Dn],D!==void 0&&$p(A,m,Dn,D,x,void 0));return}}for(st in x)x.hasOwnProperty(st)&&(D=x[st],D!=null&&Da(A,m,st,D,x,null))}function Ny(A,m,x,D){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Y=null,se=null,Ye=null,st=null,jt=null,dn=null,Dn=null;for(pn in x){var Nn=x[pn];if(x.hasOwnProperty(pn)&&Nn!=null)switch(pn){case"checked":break;case"value":break;case"defaultValue":jt=Nn;default:D.hasOwnProperty(pn)||Da(A,m,pn,null,D,Nn)}}for(var mn in D){var pn=D[mn];if(Nn=x[mn],D.hasOwnProperty(mn)&&(pn!=null||Nn!=null))switch(mn){case"type":se=pn;break;case"name":Y=pn;break;case"checked":dn=pn;break;case"defaultChecked":Dn=pn;break;case"value":Ye=pn;break;case"defaultValue":st=pn;break;case"children":case"dangerouslySetInnerHTML":if(pn!=null)throw Error(i(137,m));break;default:pn!==Nn&&Da(A,m,mn,pn,D,Nn)}}jA(A,Ye,st,jt,dn,Dn,se,Y);return;case"select":pn=Ye=st=mn=null;for(se in x)if(jt=x[se],x.hasOwnProperty(se)&&jt!=null)switch(se){case"value":break;case"multiple":pn=jt;default:D.hasOwnProperty(se)||Da(A,m,se,null,D,jt)}for(Y in D)if(se=D[Y],jt=x[Y],D.hasOwnProperty(Y)&&(se!=null||jt!=null))switch(Y){case"value":mn=se;break;case"defaultValue":st=se;break;case"multiple":Ye=se;default:se!==jt&&Da(A,m,Y,se,D,jt)}m=st,x=Ye,D=pn,mn!=null?Is(A,!!x,mn,!1):!!D!=!!x&&(m!=null?Is(A,!!x,m,!0):Is(A,!!x,x?[]:"",!1));return;case"textarea":pn=mn=null;for(st in x)if(Y=x[st],x.hasOwnProperty(st)&&Y!=null&&!D.hasOwnProperty(st))switch(st){case"value":break;case"children":break;default:Da(A,m,st,null,D,Y)}for(Ye in D)if(Y=D[Ye],se=x[Ye],D.hasOwnProperty(Ye)&&(Y!=null||se!=null))switch(Ye){case"value":mn=Y;break;case"defaultValue":pn=Y;break;case"children":break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:Y!==se&&Da(A,m,Ye,Y,D,se)}Tc(A,mn,pn);return;case"option":for(var Fr in x)if(mn=x[Fr],x.hasOwnProperty(Fr)&&mn!=null&&!D.hasOwnProperty(Fr))switch(Fr){case"selected":A.selected=!1;break;default:Da(A,m,Fr,null,D,mn)}for(jt in D)if(mn=D[jt],pn=x[jt],D.hasOwnProperty(jt)&&mn!==pn&&(mn!=null||pn!=null))switch(jt){case"selected":A.selected=mn&&typeof mn!="function"&&typeof mn!="symbol";break;default:Da(A,m,jt,mn,D,pn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zr in x)mn=x[zr],x.hasOwnProperty(zr)&&mn!=null&&!D.hasOwnProperty(zr)&&Da(A,m,zr,null,D,mn);for(dn in D)if(mn=D[dn],pn=x[dn],D.hasOwnProperty(dn)&&mn!==pn&&(mn!=null||pn!=null))switch(dn){case"children":case"dangerouslySetInnerHTML":if(mn!=null)throw Error(i(137,m));break;default:Da(A,m,dn,mn,D,pn)}return;default:if(ba(m)){for(var Bs in x)mn=x[Bs],x.hasOwnProperty(Bs)&&mn!==void 0&&!D.hasOwnProperty(Bs)&&$p(A,m,Bs,void 0,D,mn);for(Dn in D)mn=D[Dn],pn=x[Dn],!D.hasOwnProperty(Dn)||mn===pn||mn===void 0&&pn===void 0||$p(A,m,Dn,mn,D,pn);return}}for(var nn in x)mn=x[nn],x.hasOwnProperty(nn)&&mn!=null&&!D.hasOwnProperty(nn)&&Da(A,m,nn,null,D,mn);for(Nn in D)mn=D[Nn],pn=x[Nn],!D.hasOwnProperty(Nn)||mn===pn||mn==null&&pn==null||Da(A,m,Nn,mn,D,pn)}var jh=null,P0=null;function Cp(A){return A.nodeType===9?A:A.ownerDocument}function dl(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fl(A,m){if(A===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&m==="foreignObject"?0:A}function md(A,m){return A==="textarea"||A==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var bg=null;function Gy(){var A=window.event;return A&&A.type==="popstate"?A===bg?!1:(bg=A,!0):(bg=null,!1)}var E1=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(A){return Qy.resolve(null).then(A).catch(B1)}:E1;function B1(A){setTimeout(function(){throw A})}function yh(A){return A==="head"}function Zp(A,m){var x=m,D=0,Y=0;do{var se=x.nextSibling;if(A.removeChild(x),se&&se.nodeType===8)if(x=se.data,x==="/$"){if(0<D&&8>D){x=D;var Ye=A.ownerDocument;if(x&1&&em(Ye.documentElement),x&2&&em(Ye.body),x&4)for(x=Ye.head,em(x),Ye=x.firstChild;Ye;){var st=Ye.nextSibling,jt=Ye.nodeName;Ye[Ro]||jt==="SCRIPT"||jt==="STYLE"||jt==="LINK"&&Ye.rel.toLowerCase()==="stylesheet"||x.removeChild(Ye),Ye=st}}if(Y===0){A.removeChild(se),gl(m);return}Y--}else x==="$"||x==="$?"||x==="$!"?Y++:D=x.charCodeAt(0)-48;else D=0;x=se}while(x);gl(m)}function xg(A){var m=A.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":xg(x),Jn(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}A.removeChild(x)}}function U0(A,m,x,D){for(;A.nodeType===1;){var Y=x;if(A.nodeName.toLowerCase()!==m.toLowerCase()){if(!D&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(D){if(!A[Ro])switch(m){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(se=A.getAttribute("rel"),se==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(se!==Y.rel||A.getAttribute("href")!==(Y.href==null||Y.href===""?null:Y.href)||A.getAttribute("crossorigin")!==(Y.crossOrigin==null?null:Y.crossOrigin)||A.getAttribute("title")!==(Y.title==null?null:Y.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(se=A.getAttribute("src"),(se!==(Y.src==null?null:Y.src)||A.getAttribute("type")!==(Y.type==null?null:Y.type)||A.getAttribute("crossorigin")!==(Y.crossOrigin==null?null:Y.crossOrigin))&&se&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(m==="input"&&A.type==="hidden"){var se=Y.name==null?null:""+Y.name;if(Y.type==="hidden"&&A.getAttribute("name")===se)return A}else return A;if(A=gd(A.nextSibling),A===null)break}return null}function Xp(A,m,x){if(m==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!x||(A=gd(A.nextSibling),A===null))return null;return A}function hA(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState==="complete"}function Hm(A,m){var x=A.ownerDocument;if(A.data!=="$?"||x.readyState==="complete")m();else{var D=function(){m(),x.removeEventListener("DOMContentLoaded",D)};x.addEventListener("DOMContentLoaded",D),A._reactRetry=D}}function gd(A){for(;A!=null;A=A.nextSibling){var m=A.nodeType;if(m===1||m===3)break;if(m===8){if(m=A.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return A}var O1=null;function Jp(A){A=A.previousSibling;for(var m=0;A;){if(A.nodeType===8){var x=A.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return A;m--}else x==="/$"&&m++}A=A.previousSibling}return null}function Gu(A,m,x){switch(m=Cp(x),A){case"html":if(A=m.documentElement,!A)throw Error(i(452));return A;case"head":if(A=m.head,!A)throw Error(i(453));return A;case"body":if(A=m.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function em(A){for(var m=A.attributes;m.length;)A.removeAttributeNode(m[0]);Jn(A)}var qc=new Map,yd=new Set;function ao(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var qd=ot.d;ot.d={f:vh,r:I1,D:T1,C:Mg,L:K0,m:L0,X:Yy,S:k1,M:D1};function vh(){var A=qd.f(),m=fg();return A||m}function I1(A){var m=Ni(A);m!==null&&m.tag===5&&m.type==="form"?Ho(m):qd.r(A)}var Vm=typeof document>"u"?null:document;function Na(A,m,x){var D=Vm;if(D&&typeof m=="string"&&m){var Y=Hi(m);Y='link[rel="'+A+'"][href="'+Y+'"]',typeof x=="string"&&(Y+='[crossorigin="'+x+'"]'),yd.has(Y)||(yd.add(Y),A={rel:A,crossOrigin:x,href:m},D.querySelector(Y)===null&&(m=D.createElement("link"),al(m,"link",A),Rr(m),D.head.appendChild(m)))}}function T1(A){qd.D(A),Na("dns-prefetch",A,null)}function Mg(A,m){qd.C(A,m),Na("preconnect",A,m)}function K0(A,m,x){qd.L(A,m,x);var D=Vm;if(D&&A&&m){var Y='link[rel="preload"][as="'+Hi(m)+'"]';m==="image"&&x&&x.imageSrcSet?(Y+='[imagesrcset="'+Hi(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(Y+='[imagesizes="'+Hi(x.imageSizes)+'"]')):Y+='[href="'+Hi(A)+'"]';var se=Y;switch(m){case"style":se=Hd(A);break;case"script":se=$m(A)}qc.has(se)||(A=_({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:A,as:m},x),qc.set(se,A),D.querySelector(Y)!==null||m==="style"&&D.querySelector(tm(se))||m==="script"&&D.querySelector(h(se))||(m=D.createElement("link"),al(m,"link",A),Rr(m),D.head.appendChild(m)))}}function L0(A,m){qd.m(A,m);var x=Vm;if(x&&A){var D=m&&typeof m.as=="string"?m.as:"script",Y='link[rel="modulepreload"][as="'+Hi(D)+'"][href="'+Hi(A)+'"]',se=Y;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":se=$m(A)}if(!qc.has(se)&&(A=_({rel:"modulepreload",href:A},m),qc.set(se,A),x.querySelector(Y)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(h(se)))return}D=x.createElement("link"),al(D,"link",A),Rr(D),x.head.appendChild(D)}}}function k1(A,m,x){qd.S(A,m,x);var D=Vm;if(D&&A){var Y=Wa(D).hoistableStyles,se=Hd(A);m=m||"default";var Ye=Y.get(se);if(!Ye){var st={loading:0,preload:null};if(Ye=D.querySelector(tm(se)))st.loading=5;else{A=_({rel:"stylesheet",href:A,"data-precedence":m},x),(x=qc.get(se))&&v(A,x);var jt=Ye=D.createElement("link");Rr(jt),al(jt,"link",A),jt._p=new Promise(function(dn,Dn){jt.onload=dn,jt.onerror=Dn}),jt.addEventListener("load",function(){st.loading|=1}),jt.addEventListener("error",function(){st.loading|=2}),st.loading|=4,c(Ye,m,D)}Ye={type:"stylesheet",instance:Ye,count:1,state:st},Y.set(se,Ye)}}}function Yy(A,m){qd.X(A,m);var x=Vm;if(x&&A){var D=Wa(x).hoistableScripts,Y=$m(A),se=D.get(Y);se||(se=x.querySelector(h(Y)),se||(A=_({src:A,async:!0},m),(m=qc.get(Y))&&w(A,m),se=x.createElement("script"),Rr(se),al(se,"link",A),x.head.appendChild(se)),se={type:"script",instance:se,count:1,state:null},D.set(Y,se))}}function D1(A,m){qd.M(A,m);var x=Vm;if(x&&A){var D=Wa(x).hoistableScripts,Y=$m(A),se=D.get(Y);se||(se=x.querySelector(h(Y)),se||(A=_({src:A,async:!0,type:"module"},m),(m=qc.get(Y))&&w(A,m),se=x.createElement("script"),Rr(se),al(se,"link",A),x.head.appendChild(se)),se={type:"script",instance:se,count:1,state:null},D.set(Y,se))}}function F0(A,m,x,D){var Y=(Y=xt.current)?ao(Y):null;if(!Y)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=Hd(x.href),x=Wa(Y).hoistableStyles,D=x.get(m),D||(D={type:"style",instance:null,count:0,state:null},x.set(m,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){A=Hd(x.href);var se=Wa(Y).hoistableStyles,Ye=se.get(A);if(Ye||(Y=Y.ownerDocument||Y,Ye={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},se.set(A,Ye),(se=Y.querySelector(tm(A)))&&!se._p&&(Ye.instance=se,Ye.state.loading=5),qc.has(A)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},qc.set(A,x),se||R1(Y,A,x,Ye.state))),m&&D===null)throw Error(i(528,""));return Ye}if(m&&D!==null)throw Error(i(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=$m(x),x=Wa(Y).hoistableScripts,D=x.get(m),D||(D={type:"script",instance:null,count:0,state:null},x.set(m,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function Hd(A){return'href="'+Hi(A)+'"'}function tm(A){return'link[rel="stylesheet"]['+A+"]"}function wg(A){return _({},A,{"data-precedence":A.precedence,precedence:null})}function R1(A,m,x,D){A.querySelector('link[rel="preload"][as="style"]['+m+"]")?D.loading=1:(m=A.createElement("link"),D.preload=m,m.addEventListener("load",function(){return D.loading|=1}),m.addEventListener("error",function(){return D.loading|=2}),al(m,"link",x),Rr(m),A.head.appendChild(m))}function $m(A){return'[src="'+Hi(A)+'"]'}function h(A){return"script[async]"+A}function u(A,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var D=A.querySelector('style[data-href~="'+Hi(x.href)+'"]');if(D)return m.instance=D,Rr(D),D;var Y=_({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return D=(A.ownerDocument||A).createElement("style"),Rr(D),al(D,"style",Y),c(D,x.precedence,A),m.instance=D;case"stylesheet":Y=Hd(x.href);var se=A.querySelector(tm(Y));if(se)return m.state.loading|=4,m.instance=se,Rr(se),se;D=wg(x),(Y=qc.get(Y))&&v(D,Y),se=(A.ownerDocument||A).createElement("link"),Rr(se);var Ye=se;return Ye._p=new Promise(function(st,jt){Ye.onload=st,Ye.onerror=jt}),al(se,"link",D),m.state.loading|=4,c(se,x.precedence,A),m.instance=se;case"script":return se=$m(x.src),(Y=A.querySelector(h(se)))?(m.instance=Y,Rr(Y),Y):(D=x,(Y=qc.get(se))&&(D=_({},x),w(D,Y)),A=A.ownerDocument||A,Y=A.createElement("script"),Rr(Y),al(Y,"link",D),A.head.appendChild(Y),m.instance=Y);case"void":return null;default:throw Error(i(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(D=m.instance,m.state.loading|=4,c(D,x.precedence,A));return m.instance}function c(A,m,x){for(var D=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Y=D.length?D[D.length-1]:null,se=Y,Ye=0;Ye<D.length;Ye++){var st=D[Ye];if(st.dataset.precedence===m)se=st;else if(se!==Y)break}se?se.parentNode.insertBefore(A,se.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(A,m.firstChild))}function v(A,m){A.crossOrigin==null&&(A.crossOrigin=m.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=m.referrerPolicy),A.title==null&&(A.title=m.title)}function w(A,m){A.crossOrigin==null&&(A.crossOrigin=m.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=m.referrerPolicy),A.integrity==null&&(A.integrity=m.integrity)}var U=null;function K(A,m,x){if(U===null){var D=new Map,Y=U=new Map;Y.set(x,D)}else Y=U,D=Y.get(x),D||(D=new Map,Y.set(x,D));if(D.has(A))return D;for(D.set(A,null),x=x.getElementsByTagName(A),Y=0;Y<x.length;Y++){var se=x[Y];if(!(se[Ro]||se[di]||A==="link"&&se.getAttribute("rel")==="stylesheet")&&se.namespaceURI!=="http://www.w3.org/2000/svg"){var Ye=se.getAttribute(m)||"";Ye=A+Ye;var st=D.get(Ye);st?st.push(se):D.set(Ye,[se])}}return D}function G(A,m,x){A=A.ownerDocument||A,A.head.insertBefore(x,m==="title"?A.querySelector("head > title"):null)}function H(A,m,x){if(x===1||m.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return A=m.disabled,typeof m.precedence=="string"&&A==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function ae(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}var ce=null;function xe(){}function Le(A,m,x){if(ce===null)throw Error(i(475));var D=ce;if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var Y=Hd(x.href),se=A.querySelector(tm(Y));if(se){A=se._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(D.count++,D=$e.bind(D),A.then(D,D)),m.state.loading|=4,m.instance=se,Rr(se);return}se=A.ownerDocument||A,x=wg(x),(Y=qc.get(Y))&&v(x,Y),se=se.createElement("link"),Rr(se);var Ye=se;Ye._p=new Promise(function(st,jt){Ye.onload=st,Ye.onerror=jt}),al(se,"link",x),m.instance=se}D.stylesheets===null&&(D.stylesheets=new Map),D.stylesheets.set(m,A),(A=m.state.preload)&&(m.state.loading&3)===0&&(D.count++,m=$e.bind(D),A.addEventListener("load",m),A.addEventListener("error",m))}}function qe(){if(ce===null)throw Error(i(475));var A=ce;return A.stylesheets&&A.count===0&&ct(A,A.stylesheets),0<A.count?function(m){var x=setTimeout(function(){if(A.stylesheets&&ct(A,A.stylesheets),A.unsuspend){var D=A.unsuspend;A.unsuspend=null,D()}},6e4);return A.unsuspend=m,function(){A.unsuspend=null,clearTimeout(x)}}:null}function $e(){if(this.count--,this.count===0){if(this.stylesheets)ct(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var nt=null;function ct(A,m){A.stylesheets=null,A.unsuspend!==null&&(A.count++,nt=new Map,m.forEach(wt,A),nt=null,$e.call(A))}function wt(A,m){if(!(m.state.loading&4)){var x=nt.get(A);if(x)var D=x.get(null);else{x=new Map,nt.set(A,x);for(var Y=A.querySelectorAll("link[data-precedence],style[data-precedence]"),se=0;se<Y.length;se++){var Ye=Y[se];(Ye.nodeName==="LINK"||Ye.getAttribute("media")!=="not all")&&(x.set(Ye.dataset.precedence,Ye),D=Ye)}D&&x.set(null,D)}Y=m.instance,Ye=Y.getAttribute("data-precedence"),se=x.get(Ye)||D,se===D&&x.set(null,Y),x.set(Ye,Y),this.count++,D=$e.bind(this),Y.addEventListener("load",D),Y.addEventListener("error",D),se?se.parentNode.insertBefore(Y,se.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(Y,A.firstChild)),m.state.loading|=4}}var qt={$$typeof:re,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Dt(A,m,x,D,Y,se,Ye,st){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=D,this.onUncaughtError=Y,this.onCaughtError=se,this.onRecoverableError=Ye,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function Nt(A,m,x,D,Y,se,Ye,st,jt,dn,Dn,Nn){return A=new Dt(A,m,x,Ye,st,jt,dn,Nn),m=1,se===!0&&(m|=24),se=aA(3,null,null,m),A.current=se,se.stateNode=A,m=Ph(),m.refCount++,A.pooledCache=m,m.refCount++,se.memoizedState={element:D,isDehydrated:x,cache:m},Uh(se),A}function un(A){return A?(A=Pr,A):Pr}function _n(A,m,x,D,Y,se){Y=un(Y),D.context===null?D.context=Y:D.pendingContext=Y,D=zu(m),D.payload={element:x},se=se===void 0?null:se,se!==null&&(D.callback=se),x=yc(A,D,m),x!==null&&(mh(x,A,m),Kh(x,A,m))}function Kn(A,m){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var x=A.retryLane;A.retryLane=x!==0&&x<m?x:m}}function mi(A,m){Kn(A,m),(A=A.alternate)&&Kn(A,m)}function si(A){if(A.tag===13){var m=Uu(A,67108864);m!==null&&mh(m,A,67108864),mi(A,67108864)}}var fi=!0;function rr(A,m,x,D){var Y=Fe.T;Fe.T=null;var se=ot.p;try{ot.p=2,pi(A,m,x,D)}finally{ot.p=se,Fe.T=Y}}function Ai(A,m,x,D){var Y=Fe.T;Fe.T=null;var se=ot.p;try{ot.p=8,pi(A,m,x,D)}finally{ot.p=se,Fe.T=Y}}function pi(A,m,x,D){if(fi){var Y=In(D);if(Y===null)Yd(A,m,D,gr,x),Us(A,D);else if(Qu(Y,A,m,x,D))D.stopPropagation();else if(Us(A,D),m&4&&-1<Wu.indexOf(A)){for(;Y!==null;){var se=Ni(Y);if(se!==null)switch(se.tag){case 3:if(se=se.stateNode,se.current.memoizedState.isDehydrated){var Ye=He(se.pendingLanes);if(Ye!==0){var st=se;for(st.pendingLanes|=2,st.entangledLanes|=2;Ye;){var jt=1<<31-oe(Ye);st.entanglements[1]|=jt,Ye&=~jt}gh(se),(cs&6)===0&&(Fm=on()+500,Yp(0))}}break;case 13:st=Uu(se,2),st!==null&&mh(st,se,2),fg(),mi(se,2)}if(se=In(D),se===null&&Yd(A,m,D,gr,x),se===Y)break;Y=se}Y!==null&&D.stopPropagation()}else Yd(A,m,D,null,x)}}function In(A){return A=yA(A),Ir(A)}var gr=null;function Ir(A){if(gr=null,A=cr(A),A!==null){var m=o(A);if(m===null)A=null;else{var x=m.tag;if(x===13){if(A=s(m),A!==null)return A;A=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;A=null}else m!==A&&(A=null)}}return gr=A,null}function Ar(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hn()){case Wt:return 2;case Gn:return 8;case On:case Bn:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var Fi=!1,Qr=null,Ga=null,Es=null,Ll=new Map,UA=new Map,Fl=[],Wu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Us(A,m){switch(A){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Ll.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":UA.delete(m.pointerId)}}function pl(A,m,x,D,Y,se){return A===null||A.nativeEvent!==se?(A={blockedOn:m,domEventName:x,eventSystemFlags:D,nativeEvent:se,targetContainers:[Y]},m!==null&&(m=Ni(m),m!==null&&si(m)),A):(A.eventSystemFlags|=D,m=A.targetContainers,Y!==null&&m.indexOf(Y)===-1&&m.push(Y),A)}function Qu(A,m,x,D,Y){switch(m){case"focusin":return Qr=pl(Qr,A,m,x,D,Y),!0;case"dragenter":return Ga=pl(Ga,A,m,x,D,Y),!0;case"mouseover":return Es=pl(Es,A,m,x,D,Y),!0;case"pointerover":var se=Y.pointerId;return Ll.set(se,pl(Ll.get(se)||null,A,m,x,D,Y)),!0;case"gotpointercapture":return se=Y.pointerId,UA.set(se,pl(UA.get(se)||null,A,m,x,D,Y)),!0}return!1}function Mu(A){var m=cr(A.target);if(m!==null){var x=o(m);if(x!==null){if(m=x.tag,m===13){if(m=s(x),m!==null){A.blockedOn=m,ir(A.priority,function(){if(x.tag===13){var D=PA();D=ri(D);var Y=Uu(x,D);Y!==null&&mh(Y,x,D),mi(x,D)}});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){A.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}A.blockedOn=null}function Yu(A){if(A.blockedOn!==null)return!1;for(var m=A.targetContainers;0<m.length;){var x=In(A.nativeEvent);if(x===null){x=A.nativeEvent;var D=new x.constructor(x.type,x);Au=D,x.target.dispatchEvent(D),Au=null}else return m=Ni(x),m!==null&&si(m),A.blockedOn=x,!1;m.shift()}return!0}function Hc(A,m,x){Yu(A)&&x.delete(m)}function wu(){Fi=!1,Qr!==null&&Yu(Qr)&&(Qr=null),Ga!==null&&Yu(Ga)&&(Ga=null),Es!==null&&Yu(Es)&&(Es=null),Ll.forEach(Hc),UA.forEach(Hc)}function dA(A,m){A.blockedOn===m&&(A.blockedOn=null,Fi||(Fi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wu)))}var ml=null;function au(A){ml!==A&&(ml=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ml===A&&(ml=null);for(var m=0;m<A.length;m+=3){var x=A[m],D=A[m+1],Y=A[m+2];if(typeof D!="function"){if(Ir(D||x)===null)continue;break}var se=Ni(x);se!==null&&(A.splice(m,3),m-=3,pa(se,{pending:!0,data:Y,method:x.method,action:D},D,Y))}}))}function gl(A){function m(jt){return dA(jt,A)}Qr!==null&&dA(Qr,A),Ga!==null&&dA(Ga,A),Es!==null&&dA(Es,A),Ll.forEach(m),UA.forEach(m);for(var x=0;x<Fl.length;x++){var D=Fl[x];D.blockedOn===A&&(D.blockedOn=null)}for(;0<Fl.length&&(x=Fl[0],x.blockedOn===null);)Mu(x),x.blockedOn===null&&Fl.shift();if(x=(A.ownerDocument||A).$$reactFormReplay,x!=null)for(D=0;D<x.length;D+=3){var Y=x[D],se=x[D+1],Ye=Y[ti]||null;if(typeof se=="function")Ye||au(x);else if(Ye){var st=null;if(se&&se.hasAttribute("formAction")){if(Y=se,Ye=se[ti]||null)st=Ye.formAction;else if(Ir(Y)!==null)continue}else st=Ye.action;typeof st=="function"?x[D+1]=st:(x.splice(D,3),D-=3),au(x)}}}function yl(A){this._internalRoot=A}Xa.prototype.render=yl.prototype.render=function(A){var m=this._internalRoot;if(m===null)throw Error(i(409));var x=m.current,D=PA();_n(x,D,A,m,null,null)},Xa.prototype.unmount=yl.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var m=A.containerInfo;_n(A.current,2,null,A,null,null),fg(),m[qi]=null}};function Xa(A){this._internalRoot=A}Xa.prototype.unstable_scheduleHydration=function(A){if(A){var m=$i();A={blockedOn:null,target:A,priority:m};for(var x=0;x<Fl.length&&m!==0&&m<Fl[x].priority;x++);Fl.splice(x,0,A),x===0&&Mu(A)}};var Nh=e.version;if(Nh!=="19.1.1")throw Error(i(527,Nh,"19.1.1"));ot.findDOMNode=function(A){var m=A._reactInternals;if(m===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=p(m),A=A!==null?g(A):null,A=A===null?null:A.stateNode,A};var Zm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Fe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Lt=Vc.inject(Zm),De=Vc}catch{}}return zC.createRoot=function(A,m){if(!r(A))throw Error(i(299));var x=!1,D="",Y=ip,se=rp,Ye=ug,st=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(D=m.identifierPrefix),m.onUncaughtError!==void 0&&(Y=m.onUncaughtError),m.onCaughtError!==void 0&&(se=m.onCaughtError),m.onRecoverableError!==void 0&&(Ye=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(st=m.unstable_transitionCallbacks)),m=Nt(A,1,!1,null,null,x,D,Y,se,Ye,st,null),A[qi]=m.current,Cg(A),new yl(m)},zC.hydrateRoot=function(A,m,x){if(!r(A))throw Error(i(299));var D=!1,Y="",se=ip,Ye=rp,st=ug,jt=null,dn=null;return x!=null&&(x.unstable_strictMode===!0&&(D=!0),x.identifierPrefix!==void 0&&(Y=x.identifierPrefix),x.onUncaughtError!==void 0&&(se=x.onUncaughtError),x.onCaughtError!==void 0&&(Ye=x.onCaughtError),x.onRecoverableError!==void 0&&(st=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(jt=x.unstable_transitionCallbacks),x.formState!==void 0&&(dn=x.formState)),m=Nt(A,1,!0,m,x??null,D,Y,se,Ye,st,jt,dn),m.context=un(null),x=m.current,D=PA(),D=ri(D),Y=zu(D),Y.callback=null,yc(x,Y,D),x=D,m.current.lanes=x,rt(m,x),gh(m),A[qi]=m.current,Cg(A),new Xa(m)},zC.version="19.1.1",zC}var YI;function nq(){if(YI)return $4.exports;YI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$4.exports=tq(),$4.exports}var qF=nq();const iq="modulepreload",rq=function(n){return"/maputnik/"+n},qI={},qy=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let g=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};var s=g;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),p=a?.nonce||a?.getAttribute("nonce");r=g(t.map(_=>{if(_=rq(_),_ in qI)return;qI[_]=!0;const E=_.endsWith(".css"),O=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${O}`))return;const B=document.createElement("link");if(B.rel=E?"stylesheet":iq,E||(B.as="script"),B.crossOrigin="",B.href=_,p&&B.setAttribute("nonce",p),document.head.appendChild(B),E)return new Promise((z,N)=>{B.addEventListener("load",z),B.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${_}`)))})}))}function o(a){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=a,window.dispatchEvent(p),!p.defaultPrevented)throw a}return r.then(a=>{for(const p of a||[])p.status==="rejected"&&o(p.reason);return e().catch(o)})},oq=(n,e,t)=>{const i=n[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},Eo=n=>typeof n=="string",jC=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},HI=n=>n==null?"":""+n,aq=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},sq=/###/g,VI=n=>n&&n.indexOf("###")>-1?n.replace(sq,"."):n,$I=n=>!n||Eo(n),w_=(n,e,t)=>{const i=Eo(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if($I(n))return{};const o=VI(i[r]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++r}return $I(n)?{}:{obj:n,k:VI(i[r])}},ZI=(n,e,t)=>{const{obj:i,k:r}=w_(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=w_(n,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=w_(n,s,Object),a?.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t},lq=(n,e,t,i)=>{const{obj:r,k:o}=w_(n,e,Object);r[o]=r[o]||[],r[o].push(t)},S3=(n,e)=>{const{obj:t,k:i}=w_(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},uq=(n,e,t)=>{const i=S3(n,t);return i!==void 0?i:S3(e,t)},HF=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Eo(n[i])||n[i]instanceof String||Eo(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):HF(n[i],e[i],t):n[i]=e[i]);return n},Hy=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Aq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cq=n=>Eo(n)?n.replace(/[&<>"'\/]/g,e=>Aq[e]):n;class hq{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const dq=[" ",",","?","!",";"],fq=new hq(20),pq=(n,e,t)=>{e=e||"",t=t||"";const i=dq.filter(s=>e.indexOf(s)<0&&t.indexOf(s)<0);if(i.length===0)return!0;const r=fq.getRegExp(`(${i.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!r.test(n);if(!o){const s=n.indexOf(t);s>0&&!r.test(n.substring(0,s))&&(o=!0)}return o},cB=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let o=0;o<i.length;){if(!r||typeof r!="object")return;let s,a="";for(let p=o;p<i.length;++p)if(p!==o&&(a+=t),a+=i[p],s=r[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&p<i.length-1)continue;o+=p-o+1;break}r=s}return r},Y_=n=>n?.replace("_","-"),mq={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class E3{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||mq,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(Eo(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new E3(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new E3(this.logger,e)}}var o0=new E3;class C2{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,o])=>{for(let s=0;s<o;s++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,o])=>{for(let s=0;s<o;s++)r.apply(r,[e,...t])})}}class XI extends C2{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,s=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],i&&(Array.isArray(i)?a.push(...i):Eo(i)&&o?a.push(...i.split(o)):a.push(i)));const p=S3(this.data,a);return!p&&!t&&!i&&e.indexOf(".")>-1&&(e=a[0],t=a[1],i=a.slice(2).join(".")),p||!s||!Eo(i)?p:cB(this.data?.[e]?.[t],i,o)}addResource(e,t,i,r,o={silent:!1}){const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,t];i&&(a=a.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),ZI(this.data,a,r),o.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const o in i)(Eo(i[o])||Array.isArray(i[o]))&&this.addResource(e,t,o,i[o],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,o,s={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=i,i=t,t=a[1]),this.addNamespaces(t);let p=S3(this.data,a)||{};s.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?HF(p,i,o):p={...p,...i},ZI(this.data,a,p),s.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var VF={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(o=>{e=this.processors[o]?.process(e,t,i,r)??e}),e}};const $F=Symbol("i18next/PATH_KEY");function gq(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>(t?.revoke?.(),r===$F?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function hB(n,e){const{[$F]:t}=n(gq());return t.join(e?.keySeparator??".")}const JI={},e9=n=>!Eo(n)&&typeof n!="boolean"&&typeof n!="number";class B3 extends C2{constructor(e,t={}){super(),aq(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=o0.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};return e==null?!1:this.resolve(e,i)?.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const s=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!pq(e,i,r);if(s&&!a){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Eo(o)?[o]:o};const g=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(r)}return{key:e,namespaces:Eo(o)?[o]:o}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=hB(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:p}=this.extractFromKey(e[e.length-1],r),g=p[p.length-1];let _=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const E=r.lng||this.language,O=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(E?.toLowerCase()==="cimode")return O?o?{res:`${g}${_}${a}`,usedKey:a,exactUsedKey:a,usedLng:E,usedNS:g,usedParams:this.getUsedParamsDetails(r)}:`${g}${_}${a}`:o?{res:a,usedKey:a,exactUsedKey:a,usedLng:E,usedNS:g,usedParams:this.getUsedParamsDetails(r)}:a;const B=this.resolve(e,r);let z=B?.res;const N=B?.usedKey||a,Q=B?.exactUsedKey||a,$=["[object Number]","[object Function]","[object RegExp]"],X=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,re=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=r.count!==void 0&&!Eo(r.count),V=B3.hasDefaultValue(r),J=ne?this.pluralResolver.getSuffix(E,r.count,r):"",W=r.ordinal&&ne?this.pluralResolver.getSuffix(E,r.count,{ordinal:!1}):"",he=ne&&!r.ordinal&&r.count===0,ge=he&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${J}`]||r[`defaultValue${W}`]||r.defaultValue;let ve=z;re&&!z&&V&&(ve=ge);const _e=e9(ve),Me=Object.prototype.toString.apply(ve);if(re&&ve&&_e&&$.indexOf(Me)<0&&!(Eo(X)&&Array.isArray(ve))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const be=this.options.returnedObjectHandler?this.options.returnedObjectHandler(N,ve,{...r,ns:p}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(B.res=be,B.usedParams=this.getUsedParamsDetails(r),B):be}if(s){const be=Array.isArray(ve),ze=be?[]:{},Ce=be?Q:N;for(const Fe in ve)if(Object.prototype.hasOwnProperty.call(ve,Fe)){const ot=`${Ce}${s}${Fe}`;V&&!z?ze[Fe]=this.translate(ot,{...r,defaultValue:e9(ge)?ge[Fe]:void 0,joinArrays:!1,ns:p}):ze[Fe]=this.translate(ot,{...r,joinArrays:!1,ns:p}),ze[Fe]===ot&&(ze[Fe]=ve[Fe])}z=ze}}else if(re&&Eo(X)&&Array.isArray(z))z=z.join(X),z&&(z=this.extendTranslation(z,e,r,i));else{let be=!1,ze=!1;!this.isValidLookup(z)&&V&&(be=!0,z=ge),this.isValidLookup(z)||(ze=!0,z=a);const Fe=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ze?void 0:z,ot=V&&ge!==z&&this.options.updateMissing;if(ze||be||ot){if(this.logger.log(ot?"updateKey":"missingKey",E,g,a,ot?ge:z),s){const We=this.resolve(a,{...r,keySeparator:!1});We&&We.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let mt=[];const it=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&it&&it[0])for(let We=0;We<it.length;We++)mt.push(it[We]);else this.options.saveMissingTo==="all"?mt=this.languageUtils.toResolveHierarchy(r.lng||this.language):mt.push(r.lng||this.language);const ue=(We,tt,ke)=>{const Et=V&&ke!==z?ke:Fe;this.options.missingKeyHandler?this.options.missingKeyHandler(We,g,tt,Et,ot,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(We,g,tt,Et,ot,r),this.emit("missingKey",We,g,tt,z)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?mt.forEach(We=>{const tt=this.pluralResolver.getSuffixes(We,r);he&&r[`defaultValue${this.options.pluralSeparator}zero`]&&tt.indexOf(`${this.options.pluralSeparator}zero`)<0&&tt.push(`${this.options.pluralSeparator}zero`),tt.forEach(ke=>{ue([We],a+ke,r[`defaultValue${ke}`]||ge)})}):ue(mt,a,ge))}z=this.extendTranslation(z,e,r,B,i),ze&&z===a&&this.options.appendNamespaceToMissingKey&&(z=`${g}${_}${a}`),(ze||be)&&this.options.parseMissingKeyHandler&&(z=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${a}`:a,be?z:void 0,r))}return o?(B.res=z,B.usedParams=this.getUsedParamsDetails(r),B):z}extendTranslation(e,t,i,r,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const p=Eo(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const E=e.match(this.interpolator.nestingRegexp);g=E&&E.length}let _=i.replace&&!Eo(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,i.lng||this.language||r.usedLng,i),p){const E=e.match(this.interpolator.nestingRegexp),O=E&&E.length;g<O&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...E)=>o?.[0]===E[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${E[0]} in key: ${t[0]}`),null):this.translate(...E,t),i)),i.interpolation&&this.interpolator.reset()}const s=i.postProcess||this.options.postProcess,a=Eo(s)?[s]:s;return e!=null&&a?.length&&i.applyPostProcessor!==!1&&(e=VF.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,o,s,a;return Eo(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(p,t),_=g.key;r=_;let E=g.namespaces;this.options.fallbackNS&&(E=E.concat(this.options.fallbackNS));const O=t.count!==void 0&&!Eo(t.count),B=O&&!t.ordinal&&t.count===0,z=t.context!==void 0&&(Eo(t.context)||typeof t.context=="number")&&t.context!=="",N=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);E.forEach(Q=>{this.isValidLookup(i)||(a=Q,!JI[`${N[0]}-${Q}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(JI[`${N[0]}-${Q}`]=!0,this.logger.warn(`key "${r}" for languages "${N.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach($=>{if(this.isValidLookup(i))return;s=$;const X=[_];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(X,_,$,Q,t);else{let ne;O&&(ne=this.pluralResolver.getSuffix($,t.count,t));const V=`${this.options.pluralSeparator}zero`,J=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(O&&(t.ordinal&&ne.indexOf(J)===0&&X.push(_+ne.replace(J,this.options.pluralSeparator)),X.push(_+ne),B&&X.push(_+V)),z){const W=`${_}${this.options.contextSeparator||"_"}${t.context}`;X.push(W),O&&(t.ordinal&&ne.indexOf(J)===0&&X.push(W+ne.replace(J,this.options.pluralSeparator)),X.push(W+ne),B&&X.push(W+V))}}let re;for(;re=X.pop();)this.isValidLookup(i)||(o=re,i=this.getResource($,Q,re,t))}))})}),{res:i,usedKey:r,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Eo(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const o of t)delete r[o]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class t9{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=o0.create("languageUtils")}getScriptPartFromCode(e){if(e=Y_(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Y_(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Eo(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(s=>{if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&(s.indexOf("-")>0&&o.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===o||s.indexOf(o)===0&&o.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Eo(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],o=s=>{s&&(this.isSupportedCode(s)?r.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Eo(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Eo(e)&&o(this.formatLanguageCode(e)),i.forEach(s=>{r.indexOf(s)<0&&o(this.formatLanguageCode(s))}),r}}const n9={zero:0,one:1,two:2,few:3,many:4,other:5},i9={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class yq{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=o0.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=Y_(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),i9;if(!e.match(/-|_/))return i9;const p=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(p,t)}return this.pluralRulesCache[o]=s,s}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,o)=>n9[r]-n9[o]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const r9=(n,e,t,i=".",r=!0)=>{let o=uq(n,e,t);return!o&&r&&Eo(t)&&(o=cB(n,t,i),o===void 0&&(o=cB(e,t,i))),o},e5=n=>n.replace(/\$/g,"$$$$");class vq{constructor(e={}){this.logger=o0.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:E,nestingPrefix:O,nestingPrefixEscaped:B,nestingSuffix:z,nestingSuffixEscaped:N,nestingOptionsSeparator:Q,maxReplaces:$,alwaysFormat:X}=e.interpolation;this.escape=t!==void 0?t:cq,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=o?Hy(o):s||"{{",this.suffix=a?Hy(a):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":E||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=O?Hy(O):B||Hy("$t("),this.nestingSuffix=z?Hy(z):N||Hy(")"),this.nestingOptionsSeparator=Q||",",this.maxReplaces=$||1e3,this.alwaysFormat=X!==void 0?X:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let o,s,a;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=B=>{if(B.indexOf(this.formatSeparator)<0){const $=r9(t,p,B,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,i,{...r,...t,interpolationkey:B}):$}const z=B.split(this.formatSeparator),N=z.shift().trim(),Q=z.join(this.formatSeparator).trim();return this.format(r9(t,p,N,this.options.keySeparator,this.options.ignoreJSONStructure),Q,i,{...r,...t,interpolationkey:N})};this.resetRegExp();const _=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,E=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:B=>e5(B)},{regex:this.regexp,safeValue:B=>this.escapeValue?e5(this.escape(B)):e5(B)}].forEach(B=>{for(a=0;o=B.regex.exec(e);){const z=o[1].trim();if(s=g(z),s===void 0)if(typeof _=="function"){const Q=_(e,o,r);s=Eo(Q)?Q:""}else if(r&&Object.prototype.hasOwnProperty.call(r,z))s="";else if(E){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${z} for interpolating ${e}`),s="";else!Eo(s)&&!this.useRawValueToEscape&&(s=HI(s));const N=B.safeValue(s);if(e=e.replace(o[0],N),E?(B.regex.lastIndex+=s.length,B.regex.lastIndex-=o[0].length):B.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,o,s;const a=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const E=p.split(new RegExp(`${_}[ ]*{`));let O=`{${E[1]}`;p=E[0],O=this.interpolate(O,s);const B=O.match(/'/g),z=O.match(/"/g);((B?.length??0)%2===0&&!z||z.length%2!==0)&&(O=O.replace(/'/g,'"'));try{s=JSON.parse(O),g&&(s={...g,...s})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,N),`${p}${_}${O}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,p};for(;r=this.nestingRegexp.exec(e);){let p=[];s={...i},s=s.replace&&!Eo(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const g=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(g!==-1&&(p=r[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),r[1]=r[1].slice(0,g)),o=t(a.call(this,r[1].trim(),s),s),o&&r[0]===e&&!Eo(o))return o;Eo(o)||(o=HI(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),p.length&&(o=p.reduce((_,E)=>this.format(_,E,i.lng,{...i,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}const Cq=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(s=>{if(s){const[a,...p]=s.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=a.trim();t[_]||(t[_]=g),g==="false"&&(t[_]=!1),g==="true"&&(t[_]=!0),isNaN(g)||(t[_]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},o9=n=>{const e={};return(t,i,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const s=i+JSON.stringify(o);let a=e[s];return a||(a=n(Y_(i),r),e[s]=a),a(t)}},_q=n=>(e,t,i)=>n(Y_(t),i)(e);class bq{constructor(e={}){this.logger=o0.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?o9:_q;this.formats={number:i((r,o)=>{const s=new Intl.NumberFormat(r,{...o});return a=>s.format(a)}),currency:i((r,o)=>{const s=new Intl.NumberFormat(r,{...o,style:"currency"});return a=>s.format(a)}),datetime:i((r,o)=>{const s=new Intl.DateTimeFormat(r,{...o});return a=>s.format(a)}),relativetime:i((r,o)=>{const s=new Intl.RelativeTimeFormat(r,{...o});return a=>s.format(a,o.range||"day")}),list:i((r,o)=>{const s=new Intl.ListFormat(r,{...o});return a=>s.format(a)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=o9(t)}format(e,t,i,r={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(p=>p.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,p)=>{const{formatName:g,formatOptions:_}=Cq(p);if(this.formats[g]){let E=a;try{const O=r?.formatParams?.[r.interpolationkey]||{},B=O.locale||O.lng||r.locale||r.lng||i;E=this.formats[g](a,B,{..._,...r,...O})}catch(O){this.logger.warn(O)}return E}else this.logger.warn(`there was no format function for ${g}`);return a},e)}}const xq=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Mq extends C2{constructor(e,t,i,r={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=o0.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,t,i,r){const o={},s={},a={},p={};return e.forEach(g=>{let _=!0;t.forEach(E=>{const O=`${g}|${E}`;!i.reload&&this.store.hasResourceBundle(g,E)?this.state[O]=2:this.state[O]<0||(this.state[O]===1?s[O]===void 0&&(s[O]=!0):(this.state[O]=1,_=!1,s[O]===void 0&&(s[O]=!0),o[O]===void 0&&(o[O]=!0),p[E]===void 0&&(p[E]=!0)))}),_||(a[g]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(p)}}loaded(e,t,i){const r=e.split("|"),o=r[0],s=r[1];t&&this.emit("failedLoading",o,s,t),!t&&i&&this.store.addResourceBundle(o,s,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const a={};this.queue.forEach(p=>{lq(p.loaded,[o],s),xq(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{a[g]||(a[g]={});const _=p.loaded[g];_.length&&_.forEach(E=>{a[g][E]===void 0&&(a[g][E]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(p=>!p.done)}read(e,t,i,r=0,o=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:o,callback:s});return}this.readingCalls++;const a=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const E=this.waitingReads.shift();this.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(g&&_&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,o*2,s)},o);return}s(g,_)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(_=>a(null,_)).catch(a):a(null,g)}catch(g){a(g)}return}return p(e,t,a)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Eo(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Eo(t)&&(t=[t]);const o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${r} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${r}`,a),this.loaded(e,s,a)})}saveMissing(e,t,i,r,o,s={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const p={...s,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let _;g.length===5?_=g(e,t,i,r,p):_=g(e,t,i,r),_&&typeof _.then=="function"?_.then(E=>a(null,E)).catch(a):a(null,_)}catch(_){a(_)}else g(e,t,i,r,a,p)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const a9=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Eo(n[1])&&(e.defaultValue=n[1]),Eo(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),s9=n=>(Eo(n.ns)&&(n.ns=[n.ns]),Eo(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Eo(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),mx=()=>{},wq=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class q_ extends C2{constructor(e={},t){if(super(),this.options=s9(e),this.services={},this.logger=o0,this.modules={external:[]},wq(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Eo(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=a9();this.options={...i,...this.options,...s9(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?o0.init(r(this.modules.logger),this.options):o0.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=bq;const _=new t9(this.options);this.store=new XI(this.options.resources,this.options);const E=this.services;E.logger=o0,E.resourceStore=this.store,E.languageUtils=_,E.pluralResolver=new yq(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(E.formatter=r(g),E.formatter.init&&E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new vq(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new Mq(r(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",(B,...z)=>{this.emit(B,...z)}),this.modules.languageDetector&&(E.languageDetector=r(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=r(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new B3(this.services,this.options),this.translator.on("*",(B,...z)=>{this.emit(B,...z)}),this.modules.external.forEach(B=>{B.init&&B.init(this)})}if(this.format=this.options.interpolation.format,t||(t=mx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const a=jC(),p=()=>{const g=(_,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(E),t(_,E)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),a}loadResources(e,t=mx){let i=t;const r=Eo(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(g=>{g!=="cimode"&&o.indexOf(g)<0&&o.push(g)})};r?s(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>s(p)),this.options.preload?.forEach?.(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,t,i){const r=jC();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=mx),this.services.backendConnector.reload(e,t,o=>{r.resolve(),i(o)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&VF.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=jC();this.emit("languageChanging",e);const r=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},o=(a,p)=>{p?this.isLanguageChangingTo===e&&(r(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),t&&t(a,(...g)=>this.t(...g))},s=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const p=Eo(a)?a:a&&a[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Eo(a)?[a]:a);g&&(this.language||r(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,_=>{o(_,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,t,i){const r=(o,s,...a)=>{let p;typeof s!="object"?p=this.options.overloadTranslationOptionHandler([o,s].concat(a)):p={...s},p.lng=p.lng||r.lng,p.lngs=p.lngs||r.lngs,p.ns=p.ns||r.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||r.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(o)?_=o.map(E=>(typeof E=="function"&&(E=hB(E,{...this.options,...s})),`${p.keyPrefix}${g}${E}`)):(typeof o=="function"&&(o=hB(o,{...this.options,...s})),_=p.keyPrefix?`${p.keyPrefix}${g}${o}`:o),this.t(_,p)};return Eo(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const s=(a,p)=>{const g=this.services.backendConnector.state[`${a}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!r||s(o,e)))}loadNamespaces(e,t){const i=jC();return this.options.ns?(Eo(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=jC();Eo(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter(s=>r.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=r.concat(o),this.loadResources(s=>{i.resolve(),t&&t(s)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const o=r.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new t9(a9());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new q_(e,t)}cloneInstance(e={},t=mx){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new q_(r);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const a=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,E)=>(_[E]={...p[g][E]},_),p[g]),p),{});o.store=new XI(a,r),o.services.resourceStore=o.store}return o.translator=new B3(o.services,r),o.translator.on("*",(a,...p)=>{o.emit(a,...p)}),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mh=q_.createInstance();Mh.createInstance=q_.createInstance;Mh.createInstance;Mh.dir;Mh.init;Mh.loadResources;Mh.reloadResources;Mh.use;Mh.changeLanguage;Mh.getFixedT;Mh.t;Mh.exists;Mh.setDefaultNamespace;Mh.hasLoadedNamespace;Mh.loadNamespaces;Mh.loadLanguages;const{slice:Sq,forEach:Eq}=[];function Bq(n){return Eq.call(Sq.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function Oq(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const l9=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Iq=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let o=`${n}=${r}`;if(i.maxAge>0){const s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(i.domain){if(!l9.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!l9.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},u9={create(n,e,t,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+t*60*1e3)),i&&(r.domain=i),document.cookie=Iq(n,e,r)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let r=t[i];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var Tq={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return u9.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:r,cookieOptions:o}=e;t&&typeof document<"u"&&u9.create(t,n,i,r,o)}},kq={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let s=0;s<o.length;s++){const a=o[s].indexOf("=");a>0&&o[s].substring(0,a)===e&&(t=o[s].substring(a+1))}}return t}},Dq={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,i;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const o=r.substring(1);if(e){const s=o.split("&");for(let a=0;a<s.length;a++){const p=s[a].indexOf("=");p>0&&s[a].substring(0,p)===e&&(i=s[a].substring(p+1))}}if(i)return i;if(!i&&t>-1){const s=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return i}};let Vy=null;const A9=()=>{if(Vy!==null)return Vy;try{if(Vy=typeof window<"u"&&window.localStorage!==null,!Vy)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Vy=!1}return Vy};var Rq={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&A9())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&A9()&&window.localStorage.setItem(t,n)}};let $y=null;const c9=()=>{if($y!==null)return $y;try{if($y=typeof window<"u"&&window.sessionStorage!==null,!$y)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{$y=!1}return $y};var Pq={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&c9())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&c9()&&window.sessionStorage.setItem(t,n)}},Uq={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:r}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);i&&e.push(i),r&&e.push(r)}return e.length>0?e:void 0}},Kq={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},Lq={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},Fq={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[t]}};let ZF=!1;try{document.cookie,ZF=!0}catch{}const XF=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ZF||XF.splice(1,1);const zq=()=>({order:XF,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class JF{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Bq(t,this.options||{},zq()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Tq),this.addDetector(kq),this.addDetector(Rq),this.addDetector(Pq),this.addDetector(Uq),this.addDetector(Kq),this.addDetector(Lq),this.addDetector(Fq),this.addDetector(Dq)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let r=this.detectors[i].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(i=>i!=null&&!Oq(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}JF.type="languageDetector";var jq=function(e){return{type:"backend",init:function(i,r,o){},read:function(i,r,o){if(typeof e=="function"){if(e.length<3){try{var s=e(i,r);s&&typeof s.then=="function"?s.then(function(a){return o(null,a&&a.default||a)}).catch(o):o(null,s)}catch(a){o(a)}return}e(i,r,o);return}o(null,e&&e[i]&&e[i][r])}}},t5,h9;function Nq(){return h9||(h9=1,t5={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),t5}var Gq=Nq();const Wq=Bu(Gq);var Qq=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function d9(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(Wq[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var i=n.indexOf("-->");return{type:"comment",comment:i!==-1?n.slice(4,i):""}}for(var r=new RegExp(Qq),o=null;(o=r.exec(n))!==null;)if(o[0].trim())if(o[1]){var s=o[1].trim(),a=[s,""];s.indexOf("=")>-1&&(a=s.split("=")),e.attrs[a[0]]=a[1],r.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var Yq=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,qq=/^\s*$/,Hq=Object.create(null);function ez(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var i=[];for(var r in t)i.push(r+'="'+t[r]+'"');return i.length?" "+i.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(ez,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var Vq={parse:function(n,e){e||(e={}),e.components||(e.components=Hq);var t,i=[],r=[],o=-1,s=!1;if(n.indexOf("<")!==0){var a=n.indexOf("<");i.push({type:"text",content:a===-1?n:n.substring(0,a)})}return n.replace(Yq,function(p,g){if(s){if(p!=="</"+t.name+">")return;s=!1}var _,E=p.charAt(1)!=="/",O=p.startsWith("<!--"),B=g+p.length,z=n.charAt(B);if(O){var N=d9(p);return o<0?(i.push(N),i):((_=r[o]).children.push(N),i)}if(E&&(o++,(t=d9(p)).type==="tag"&&e.components[t.name]&&(t.type="component",s=!0),t.voidElement||s||!z||z==="<"||t.children.push({type:"text",content:n.slice(B,n.indexOf("<",B))}),o===0&&i.push(t),(_=r[o-1])&&_.children.push(t),r[o]=t),(!E||t.voidElement)&&(o>-1&&(t.voidElement||t.name===p.slice(2,-1))&&(o--,t=o===-1?i:r[o]),!s&&z!=="<"&&z)){_=o===-1?i:r[o].children;var Q=n.indexOf("<",B),$=n.slice(B,Q===-1?void 0:Q);qq.test($)&&($=" "),(Q>-1&&o+_.length>=0||$!==" ")&&_.push({type:"text",content:$})}}),i},stringify:function(n){return n.reduce(function(e,t){return e+ez("",t)},"")}};const l3=(n,e,t,i)=>{const r=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);jf(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...r):console?.warn&&console.warn(...r)},f9={},H_=(n,e,t,i)=>{jf(t)&&f9[t]||(jf(t)&&(f9[t]=new Date),l3(n,e,t,i))},tz=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},dB=(n,e,t)=>{n.loadNamespaces(e,tz(n,t))},p9=(n,e,t,i)=>{if(jf(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return dB(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,tz(n,i))},$q=(n,e,t={})=>!e.languages||!e.languages.length?(H_(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),Zq=n=>n.displayName||n.name||(jf(n)&&n.length>0?n:"Unknown"),jf=n=>typeof n=="string",Gg=n=>typeof n=="object"&&n!==null,Xq=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Jq={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},eH=n=>Jq[n],tH=n=>n.replace(Xq,eH);let fB={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:tH};const nH=(n={})=>{fB={...fB,...n}},nz=()=>fB;let iz;const iH=n=>{iz=n},WO=()=>iz,n5=(n,e)=>{if(!n)return!1;const t=n.props?.children??n.children;return e?t.length>0:!!t},i5=n=>{if(!n)return[];const e=n.props?.children??n.children;return n.props?.i18nIsDynamicList?Dv(e):e},rH=n=>Array.isArray(n)&&n.every(Gt.isValidElement),Dv=n=>Array.isArray(n)?n:[n],oH=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},rz=(n,e,t,i)=>{if(!n)return"";let r="";const o=Dv(n),s=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return o.forEach((a,p)=>{if(jf(a)){r+=`${a}`;return}if(Gt.isValidElement(a)){const{props:g,type:_}=a,E=Object.keys(g).length,O=s.indexOf(_)>-1,B=g.children;if(!B&&O&&!E){r+=`<${_}/>`;return}if(!B&&(!O||E)||g.i18nIsDynamicList){r+=`<${p}></${p}>`;return}if(O&&E===1&&jf(B)){r+=`<${_}>${B}</${_}>`;return}const z=rz(B,e,t,i);r+=`<${p}>${z}</${p}>`;return}if(a===null){l3(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(Gg(a)){const{format:g,..._}=a,E=Object.keys(_);if(E.length===1){const O=g?`${E[0]}, ${g}`:E[0];r+=`{{${O}}}`;return}l3(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:a});return}l3(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:a})}),r},aH=(n,e,t,i,r,o,s)=>{if(t==="")return[];const a=r.transKeepBasicHtmlNodesFor||[],p=t&&new RegExp(a.map($=>`<${$}`).join("|")).test(t);if(!n&&!e&&!p&&!s)return[t];const g=e??{},_=$=>{Dv($).forEach(re=>{jf(re)||(n5(re)?_(i5(re)):Gg(re)&&!Gt.isValidElement(re)&&Object.assign(g,re))})};_(n);const E=Vq.parse(`<0>${t}</0>`),O={...g,...o},B=($,X,re)=>{const ne=i5($),V=N(ne,X.children,re);return rH(ne)&&V.length===0||$.props?.i18nIsDynamicList?ne:V},z=($,X,re,ne,V)=>{$.dummy?($.children=X,re.push(Gt.cloneElement($,{key:ne},V?void 0:X))):re.push(...Gt.Children.map([$],J=>{const W={...J.props};return delete W.i18nIsDynamicList,Gt.createElement(J.type,{...W,key:ne,ref:J.props.ref??J.ref},V?null:X)}))},N=($,X,re)=>{const ne=Dv($);return Dv(X).reduce((J,W,he)=>{const ge=W.children?.[0]?.content&&i.services.interpolator.interpolate(W.children[0].content,O,i.language);if(W.type==="tag"){let ve=ne[parseInt(W.name,10)];!ve&&e&&(ve=e[W.name]),re.length===1&&!ve&&(ve=re[0][W.name]),ve||(ve={});const _e=Object.keys(W.attrs).length!==0?oH({props:W.attrs},ve):ve,Me=Gt.isValidElement(_e),be=Me&&n5(W,!0)&&!W.voidElement,ze=p&&Gg(_e)&&_e.dummy&&!Me,Ce=Gg(e)&&Object.hasOwnProperty.call(e,W.name);if(jf(_e)){const Fe=i.services.interpolator.interpolate(_e,O,i.language);J.push(Fe)}else if(n5(_e)||be){const Fe=B(_e,W,re);z(_e,Fe,J,he)}else if(ze){const Fe=N(ne,W.children,re);z(_e,Fe,J,he)}else if(Number.isNaN(parseFloat(W.name)))if(Ce){const Fe=B(_e,W,re);z(_e,Fe,J,he,W.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(W.name)>-1)if(W.voidElement)J.push(Gt.createElement(W.name,{key:`${W.name}-${he}`}));else{const Fe=N(ne,W.children,re);J.push(Gt.createElement(W.name,{key:`${W.name}-${he}`},Fe))}else if(W.voidElement)J.push(`<${W.name} />`);else{const Fe=N(ne,W.children,re);J.push(`<${W.name}>${Fe}</${W.name}>`)}else if(Gg(_e)&&!Me){const Fe=W.children[0]?ge:null;Fe&&J.push(Fe)}else z(_e,ge,J,he,W.children.length!==1||!ge)}else if(W.type==="text"){const ve=r.transWrapTextNodes,_e=s?r.unescape(i.services.interpolator.interpolate(W.content,O,i.language)):i.services.interpolator.interpolate(W.content,O,i.language);ve?J.push(Gt.createElement(ve,{key:`${W.name}-${he}`},_e)):J.push(_e)}return J},[])},Q=N([{dummy:!0,children:n||[]}],E,Dv(n||[]));return i5(Q[0])},oz=(n,e,t)=>{const i=n.key||e,r=Gt.cloneElement(n,{key:i});if(!r.props||!r.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return r;function o(){return Gt.createElement(Gt.Fragment,null,r)}return Gt.createElement(o,{key:i})},sH=(n,e)=>n.map((t,i)=>oz(t,i,e)),lH=(n,e)=>{const t={};return Object.keys(n).forEach(i=>{Object.assign(t,{[i]:oz(n[i],i,e)})}),t},uH=(n,e,t,i)=>n?Array.isArray(n)?sH(n,e):Gg(n)?lH(n,e):(H_(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null,AH=n=>!Gg(n)||Array.isArray(n)?!1:Object.keys(n).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0);function cH({children:n,count:e,parent:t,i18nKey:i,context:r,tOptions:o={},values:s,defaults:a,components:p,ns:g,i18n:_,t:E,shouldUnescape:O,...B}){const z=_||WO();if(!z)return H_(z,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),n;const N=E||z.t.bind(z)||(ze=>ze),Q={...nz(),...z.options?.react};let $=g||N.ns||z.options?.defaultNS;$=jf($)?[$]:$||["translation"];const X=rz(n,Q,z,i),re=a||X||Q.transEmptyNodeValue||i,{hashTransKey:ne}=Q,V=i||(ne?ne(X||re):X||re);z.options?.interpolation?.defaultVariables&&(s=s&&Object.keys(s).length>0?{...s,...z.options.interpolation.defaultVariables}:{...z.options.interpolation.defaultVariables});const J=s||e!==void 0&&!z.options?.interpolation?.alwaysFormat||!n?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},W={...o,context:r||o.context,count:e,...s,...J,defaultValue:re,ns:$},he=V?N(V,W):re,ge=uH(p,he,z,i);let ve=ge||n,_e=null;AH(ge)&&(_e=ge,ve=n);const Me=aH(ve,_e,he,z,Q,W,O),be=t??Q.defaultTransParent;return be?Gt.createElement(be,B,Me):Me}const hH={type:"3rdParty",init(n){nH(n.options.react),iH(n)}},az=Gt.createContext();class dH{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Zg({children:n,count:e,parent:t,i18nKey:i,context:r,tOptions:o={},values:s,defaults:a,components:p,ns:g,i18n:_,t:E,shouldUnescape:O,...B}){const{i18n:z,defaultNS:N}=Gt.useContext(az)||{},Q=_||z||WO(),$=E||Q?.t.bind(Q);return cH({children:n,count:e,parent:t,i18nKey:i,context:r,tOptions:o,values:s,defaults:a,components:p,ns:g||$?.ns||N||Q?.options?.defaultNS,i18n:Q,t:E,shouldUnescape:O,...B})}const fH=(n,e)=>{const t=Gt.useRef();return Gt.useEffect(()=>{t.current=n},[n,e]),t.current},sz=(n,e,t,i)=>n.getFixedT(e,t,i),pH=(n,e,t,i)=>Gt.useCallback(sz(n,e,t,i),[n,e,t,i]),mH=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:r}=Gt.useContext(az)||{},o=t||i||WO();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new dH),!o){H_(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ne=(J,W)=>jf(W)?W:Gg(W)&&jf(W.defaultValue)?W.defaultValue:Array.isArray(J)?J[J.length-1]:J,V=[ne,{},!1];return V.t=ne,V.i18n={},V.ready=!1,V}o.options.react?.wait&&H_(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...nz(),...o.options.react,...e},{useSuspense:a,keyPrefix:p}=s;let g=r||o.options?.defaultNS;g=jf(g)?[g]:g||["translation"],o.reportNamespaces.addUsedNamespaces?.(g);const _=(o.isInitialized||o.initializedStoreOnce)&&g.every(ne=>$q(ne,o,s)),E=pH(o,e.lng||null,s.nsMode==="fallback"?g:g[0],p),O=()=>E,B=()=>sz(o,e.lng||null,s.nsMode==="fallback"?g:g[0],p),[z,N]=Gt.useState(O);let Q=g.join();e.lng&&(Q=`${e.lng}${Q}`);const $=fH(Q),X=Gt.useRef(!0);Gt.useEffect(()=>{const{bindI18n:ne,bindI18nStore:V}=s;X.current=!0,!_&&!a&&(e.lng?p9(o,e.lng,g,()=>{X.current&&N(B)}):dB(o,g,()=>{X.current&&N(B)})),_&&$&&$!==Q&&X.current&&N(B);const J=()=>{X.current&&N(B)};return ne&&o?.on(ne,J),V&&o?.store.on(V,J),()=>{X.current=!1,o&&ne&&ne?.split(" ").forEach(W=>o.off(W,J)),V&&o&&V.split(" ").forEach(W=>o.store.off(W,J))}},[o,Q]),Gt.useEffect(()=>{X.current&&_&&N(O)},[o,p,_]);const re=[z,o,_];if(re.t=z,re.i18n=o,re.ready=_,_||!_&&!a)return re;throw new Promise(ne=>{e.lng?p9(o,e.lng,g,()=>ne()):dB(o,g,()=>ne())})},is=(n,e={})=>function(i){function r({forwardedRef:s,...a}){const[p,g,_]=mH(n,{...a,keyPrefix:e.keyPrefix}),E={...a,t:p,i18n:g,tReady:_};return e.withRef&&s?E.ref=s:!e.withRef&&s&&(E.forwardedRef=s),Gt.createElement(i,E)}r.displayName=`withI18nextTranslation(${Zq(i)})`,r.WrappedComponent=i;const o=(s,a)=>Gt.createElement(r,Object.assign({},s,{forwardedRef:a}));return e.withRef?Gt.forwardRef(o):r};function Cl(){var n="/home/runner/work/maputnik/maputnik/src/i18n.ts",e="529ee327821ff95d86675c5d3e41229f0d9cb0df",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/i18n.ts",statementMap:{0:{start:{line:5,column:34},end:{line:13,column:1}},1:{start:{line:14,column:0},end:{line:40,column:3}},2:{start:{line:16,column:4},end:{line:18,column:5}},3:{start:{line:17,column:6},end:{line:17,column:16}},4:{start:{line:19,column:4},end:{line:19,column:593}},5:{start:{line:19,column:119},end:{line:19,column:158}},6:{start:{line:19,column:198},end:{line:19,column:237}},7:{start:{line:19,column:277},end:{line:19,column:316}},8:{start:{line:19,column:356},end:{line:19,column:395}},9:{start:{line:19,column:435},end:{line:19,column:474}},10:{start:{line:19,column:514},end:{line:19,column:553}},11:{start:{line:35,column:4},end:{line:37,column:5}},12:{start:{line:36,column:6},end:{line:36,column:13}},13:{start:{line:38,column:4},end:{line:38,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:21},end:{line:15,column:22}},loc:{start:{line:15,column:35},end:{line:20,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:19,column:113},end:{line:19,column:114}},loc:{start:{line:19,column:119},end:{line:19,column:158}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:19,column:192},end:{line:19,column:193}},loc:{start:{line:19,column:198},end:{line:19,column:237}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:271},end:{line:19,column:272}},loc:{start:{line:19,column:277},end:{line:19,column:316}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:19,column:350},end:{line:19,column:351}},loc:{start:{line:19,column:356},end:{line:19,column:395}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:19,column:429},end:{line:19,column:430}},loc:{start:{line:19,column:435},end:{line:19,column:474}},line:19},6:{name:"(anonymous_6)",decl:{start:{line:19,column:508},end:{line:19,column:509}},loc:{start:{line:19,column:514},end:{line:19,column:553}},line:19},7:{name:"(anonymous_7)",decl:{start:{line:34,column:21},end:{line:34,column:22}},loc:{start:{line:34,column:41},end:{line:39,column:3}},line:34}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/i18n.ts"],names:[],mappings:"AAAA,MAAA,CAAA,oCAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,MAAA,CAAO,IAAA,CAAA,IAAA,CAAU,CAAA,OAAA,CAAA;AACjB,MAAA,CAAO,QAAA,CAAA,IAAA,CAAc,CAAA,OAAA,CAAA,OAAA,CAAA,gBAAA,CAAA;AACrB,MAAA,CAAO,kBAAA,CAAA,IAAA,CAAwB,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA,CAAA,OAAA,CAAA;AAC/B,MAAA,CAAA,CAAA,CAAS,gBAAA,CAAA,CAAA,CAAA,IAAA,CAAwB,CAAA,KAAA,CAAA,OAAA,CAAA;AAE1B,MAAA,CAAA,KAAA,CAAM,kBAAA,CAAA,CAAA,CAAqB;AAAA,CAAA,CAChC,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,OAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,OAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,QAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAA,EAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA;AACR,CAAA;AAEA,IAAA,CACG,GAAA,CAAI,QAAQ,CAAA,CACZ,GAAA;AAAA,CAAA,CACC,kBAAA,CAAmB,CAAC,IAAA,CAAA,CAAc,EAAA,CAAA,CAAA,CAAA,CAAA,CAAe;AAC/C,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,SAAS,CAAA,EAAA,CAAA,CAAA,CAAM;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA;AAAA,CAAA,CAAA,CAAA,CACV;AACA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,oCAAA,CAAA,CAAA,0fAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAA8B;AAAA,CAAA,CACvC,CAAC;AACH,CAAA,CACC,GAAA,CAAI,gBAAgB,CAAA,CACpB,IAAA,CAAK;AAAA,CAAA,CACJ,aAAA,CAAA,CAAe,MAAA,CAAO,IAAA,CAAK,kBAAkB,CAAA;AAAA,CAAA,CAC7C,YAAA,CAAA,CAAc,KAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AAAA,CAAA,CACd,WAAA,CAAA,CAAa,KAAA;AAAA,CAAA,CACb,aAAA,CAAA,CAAe;AAAA,CAAA,CAAA,CAAA,CACb,WAAA,CAAA,CAAa;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,CAAA;AAAA,CAAA,CACf,CAAA;AAAA,CAAA,CACA,WAAA,CAAA,CAAa,IAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,EAAA,CAAA;AAAA,CAAA,CACb,WAAA,CAAA,CAAa,KAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AAAA,CAAA,CACb,iBAAA,CAAA,CAAmB,CAAC,IAAA,CAAA,CAAM,GAAA,CAAA,CAAK,GAAA,CAAA,CAAA,CAAA,CAAA,CAAQ;AACrC,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,IAAA,CAAK,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,EAAA,CAAA,CAAA,CAAM;AAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AAAA,CAAA,CAAA,CAAA,CAAQ;AAChC,CAAA,CAAA,CAAA,CAAA,OAAA,CAAQ,IAAA,CAAK,4BAA4B,GAAG,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAS,KAAK,IAAA,CAAK,CAAA,CAAA,CAAA,CAAI,CAAC,CAAA,CAAA,CAAG,CAAA;AAAA,CAAA,CACzE;AACF,CAAC,CAAA;AAEH,MAAA,CAAA,OAAA,CAAe,IAAA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"529ee327821ff95d86675c5d3e41229f0d9cb0df"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Cl=function(){return s},s}Cl();const lz=(Cl().s[0]++,{de:"Deutsch",en:"English",fr:"Français",he:"עברית",it:"Italiano",ja:"日本語",zh:"简体中文"});Cl().s[1]++;Mh.use(JF).use(jq((n,e)=>(Cl().f[0]++,Cl().s[2]++,n==="en"?(Cl().b[0][0]++,Cl().s[3]++,{}):(Cl().b[0][1]++,Cl().s[4]++,oq(Object.assign({"./locales/de/translation.json":()=>(Cl().f[1]++,Cl().s[5]++,qy(()=>import("./translation-CiEDmoES.js"),[])),"./locales/fr/translation.json":()=>(Cl().f[2]++,Cl().s[6]++,qy(()=>import("./translation-DpmH3u25.js"),[])),"./locales/he/translation.json":()=>(Cl().f[3]++,Cl().s[7]++,qy(()=>import("./translation--csVkTcS.js"),[])),"./locales/it/translation.json":()=>(Cl().f[4]++,Cl().s[8]++,qy(()=>import("./translation-CuNUfALR.js"),[])),"./locales/ja/translation.json":()=>(Cl().f[5]++,Cl().s[9]++,qy(()=>import("./translation-x4SrtxNF.js"),[])),"./locales/zh/translation.json":()=>(Cl().f[6]++,Cl().s[10]++,qy(()=>import("./translation-BmBNlV7n.js"),[]))}),`./locales/${n}/${e}.json`,4))))).use(hH).init({supportedLngs:Object.keys(lz),keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},saveMissing:!0,fallbackLng:!1,missingKeyHandler:(n,e,t)=>{if(Cl().f[7]++,Cl().s[11]++,n[0]==="en"){Cl().b[1][0]++,Cl().s[12]++;return}else Cl().b[1][1]++;Cl().s[13]++,console.warn(`Missing translation for "${t}" in "${n.join(", ")}"`)}});var a_={exports:{}};a_.exports;var m9;function gH(){return m9||(m9=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",p="[object Date]",g="[object Error]",_="[object Function]",E="[object GeneratorFunction]",O="[object Map]",B="[object Number]",z="[object Object]",N="[object Promise]",Q="[object RegExp]",$="[object Set]",X="[object String]",re="[object Symbol]",ne="[object WeakMap]",V="[object ArrayBuffer]",J="[object DataView]",W="[object Float32Array]",he="[object Float64Array]",ge="[object Int8Array]",ve="[object Int16Array]",_e="[object Int32Array]",Me="[object Uint8Array]",be="[object Uint8ClampedArray]",ze="[object Uint16Array]",Ce="[object Uint32Array]",Fe=/[\\^$.*+?()[\]{}|]/g,ot=/\w*$/,mt=/^\[object .+?Constructor\]$/,it=/^(?:0|[1-9]\d*)$/,ue={};ue[o]=ue[s]=ue[V]=ue[J]=ue[a]=ue[p]=ue[W]=ue[he]=ue[ge]=ue[ve]=ue[_e]=ue[O]=ue[B]=ue[z]=ue[Q]=ue[$]=ue[X]=ue[re]=ue[Me]=ue[be]=ue[ze]=ue[Ce]=!0,ue[g]=ue[_]=ue[ne]=!1;var We=typeof window=="object"&&window&&window.Object===Object&&window,tt=typeof self=="object"&&self&&self.Object===Object&&self,ke=We||tt||Function("return this")(),Et=e&&!e.nodeType&&e,gt=Et&&!0&&n&&!n.nodeType&&n,xt=gt&&gt.exports===Et;function Kt(ie,Te){return ie.set(Te[0],Te[1]),ie}function je(ie,Te){return ie.add(Te),ie}function Ke(ie,Te){for(var lt=-1,Qt=ie?ie.length:0;++lt<Qt&&Te(ie[lt],lt,ie)!==!1;);return ie}function Ue(ie,Te){for(var lt=-1,Qt=Te.length,Bi=ie.length;++lt<Qt;)ie[Bi+lt]=Te[lt];return ie}function Ve(ie,Te,lt,Qt){for(var Bi=-1,ei=ie?ie.length:0;++Bi<ei;)lt=Te(lt,ie[Bi],Bi,ie);return lt}function bt(ie,Te){for(var lt=-1,Qt=Array(ie);++lt<ie;)Qt[lt]=Te(lt);return Qt}function vt(ie,Te){return ie?.[Te]}function It(ie){var Te=!1;if(ie!=null&&typeof ie.toString!="function")try{Te=!!(ie+"")}catch{}return Te}function Yt(ie){var Te=-1,lt=Array(ie.size);return ie.forEach(function(Qt,Bi){lt[++Te]=[Bi,Qt]}),lt}function Ut(ie,Te){return function(lt){return ie(Te(lt))}}function on(ie){var Te=-1,lt=Array(ie.size);return ie.forEach(function(Qt){lt[++Te]=Qt}),lt}var Hn=Array.prototype,Wt=Function.prototype,Gn=Object.prototype,On=ke["__core-js_shared__"],Bn=function(){var ie=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),Tn=Wt.toString,Oi=Gn.hasOwnProperty,Vn=Gn.toString,Lt=RegExp("^"+Tn.call(Oi).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=xt?ke.Buffer:void 0,de=ke.Symbol,oe=ke.Uint8Array,le=Ut(Object.getPrototypeOf,Object),me=Object.create,Ie=Gn.propertyIsEnumerable,Qe=Hn.splice,At=Object.getOwnPropertySymbols,He=De?De.isBuffer:void 0,Re=Ut(Object.keys,Object),Ze=ta(ke,"DataView"),y=ta(ke,"Map"),yt=ta(ke,"Promise"),dt=ta(ke,"Set"),kt=ta(ke,"WeakMap"),rt=ta(Object,"create"),tn=Wo(Ze),Rn=Wo(y),wn=Wo(yt),ri=Wo(dt),Qn=Wo(kt),$i=de?de.prototype:void 0,ir=$i?$i.valueOf:void 0;function Ii(ie){var Te=-1,lt=ie?ie.length:0;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function di(){this.__data__=rt?rt(null):{}}function ti(ie){return this.has(ie)&&delete this.__data__[ie]}function qi(ie){var Te=this.__data__;if(rt){var lt=Te[ie];return lt===i?void 0:lt}return Oi.call(Te,ie)?Te[ie]:void 0}function Sn(ie){var Te=this.__data__;return rt?Te[ie]!==void 0:Oi.call(Te,ie)}function co(ie,Te){var lt=this.__data__;return lt[ie]=rt&&Te===void 0?i:Te,this}Ii.prototype.clear=di,Ii.prototype.delete=ti,Ii.prototype.get=qi,Ii.prototype.has=Sn,Ii.prototype.set=co;function Zi(ie){var Te=-1,lt=ie?ie.length:0;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function _a(){this.__data__=[]}function Ro(ie){var Te=this.__data__,lt=fs(Te,ie);if(lt<0)return!1;var Qt=Te.length-1;return lt==Qt?Te.pop():Qe.call(Te,lt,1),!0}function Jn(ie){var Te=this.__data__,lt=fs(Te,ie);return lt<0?void 0:Te[lt][1]}function cr(ie){return fs(this.__data__,ie)>-1}function Ni(ie,Te){var lt=this.__data__,Qt=fs(lt,ie);return Qt<0?lt.push([ie,Te]):lt[Qt][1]=Te,this}Zi.prototype.clear=_a,Zi.prototype.delete=Ro,Zi.prototype.get=Jn,Zi.prototype.has=cr,Zi.prototype.set=Ni;function br(ie){var Te=-1,lt=ie?ie.length:0;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function Wa(){this.__data__={hash:new Ii,map:new(y||Zi),string:new Ii}}function Rr(ie){return Xs(this,ie).delete(ie)}function Gi(ie){return Xs(this,ie).get(ie)}function bl(ie){return Xs(this,ie).has(ie)}function La(ie,Te){return Xs(this,ie).set(ie,Te),this}br.prototype.clear=Wa,br.prototype.delete=Rr,br.prototype.get=Gi,br.prototype.has=bl,br.prototype.set=La;function Bo(ie){this.__data__=new Zi(ie)}function rs(){this.__data__=new Zi}function Pl(ie){return this.__data__.delete(ie)}function ho(ie){return this.__data__.get(ie)}function Xu(ie){return this.__data__.has(ie)}function Fa(ie,Te){var lt=this.__data__;if(lt instanceof Zi){var Qt=lt.__data__;if(!y||Qt.length<t-1)return Qt.push([ie,Te]),this;lt=this.__data__=new br(Qt)}return lt.set(ie,Te),this}Bo.prototype.clear=rs,Bo.prototype.delete=Pl,Bo.prototype.get=ho,Bo.prototype.has=Xu,Bo.prototype.set=Fa;function Xi(ie,Te){var lt=ca(ie)||Ia(ie)?bt(ie.length,String):[],Qt=lt.length,Bi=!!Qt;for(var ei in ie)Oi.call(ie,ei)&&!(Bi&&(ei=="length"||Iu(ei,Qt)))&&lt.push(ei);return lt}function Si(ie,Te,lt){var Qt=ie[Te];(!(Oi.call(ie,Te)&&Qa(Qt,lt))||lt===void 0&&!(Te in ie))&&(ie[Te]=lt)}function fs(ie,Te){for(var lt=ie.length;lt--;)if(Qa(ie[lt][0],Te))return lt;return-1}function Oa(ie,Te){return ie&&xl(Te,er(Te),ie)}function ea(ie,Te,lt,Qt,Bi,ei,Ji){var lr;if(Qt&&(lr=ei?Qt(ie,Bi,ei,Ji):Qt(ie)),lr!==void 0)return lr;if(!Kr(ie))return ie;var Ui=ca(ie);if(Ui){if(lr=Gl(ie),!Te)return Ou(ie,lr)}else{var tr=mr(ie),io=tr==_||tr==E;if(Ya(ie))return li(ie,Te);if(tr==z||tr==o||io&&!ei){if(It(ie))return ei?ie:{};if(lr=ba(io?{}:ie),!Te)return Is(ie,Oa(lr,ie))}else{if(!ue[tr])return ei?ie:{};lr=Wl(ie,tr,ea,Te)}}Ji||(Ji=new Bo);var fo=Ji.get(ie);if(fo)return fo;if(Ji.set(ie,lr),!Ui)var dr=lt?Tc(ie):er(ie);return Ke(dr||ie,function(vr,po){dr&&(po=vr,vr=ie[po]),Si(lr,po,ea(vr,Te,lt,Qt,po,ie,Ji))}),lr}function Xe(ie){return Kr(ie)?me(ie):{}}function Bt(ie,Te,lt){var Qt=Te(ie);return ca(ie)?Qt:Ue(Qt,lt(ie))}function Mn(ie){return Vn.call(ie)}function Wn(ie){if(!Kr(ie)||Au(ie))return!1;var Te=os(ie)||It(ie)?Lt:mt;return Te.test(Wo(ie))}function an(ie){if(!yA(ie))return Re(ie);var Te=[];for(var lt in Object(ie))Oi.call(ie,lt)&&lt!="constructor"&&Te.push(lt);return Te}function li(ie,Te){if(Te)return ie.slice();var lt=new ie.constructor(ie.length);return ie.copy(lt),lt}function no(ie){var Te=new ie.constructor(ie.byteLength);return new oe(Te).set(new oe(ie)),Te}function Oo(ie,Te){var lt=Te?no(ie.buffer):ie.buffer;return new ie.constructor(lt,ie.byteOffset,ie.byteLength)}function ps(ie,Te,lt){var Qt=Te?lt(Yt(ie),!0):Yt(ie);return Ve(Qt,Kt,new ie.constructor)}function Ws(ie){var Te=new ie.constructor(ie.source,ot.exec(ie));return Te.lastIndex=ie.lastIndex,Te}function Ju(ie,Te,lt){var Qt=Te?lt(on(ie),!0):on(ie);return Ve(Qt,je,new ie.constructor)}function Hi(ie){return ir?Object(ir.call(ie)):{}}function jA(ie,Te){var lt=Te?no(ie.buffer):ie.buffer;return new ie.constructor(lt,ie.byteOffset,ie.length)}function Ou(ie,Te){var lt=-1,Qt=ie.length;for(Te||(Te=Array(Qt));++lt<Qt;)Te[lt]=ie[lt];return Te}function xl(ie,Te,lt,Qt){lt||(lt={});for(var Bi=-1,ei=Te.length;++Bi<ei;){var Ji=Te[Bi],lr=void 0;Si(lt,Ji,lr===void 0?ie[Ji]:lr)}return lt}function Is(ie,Te){return xl(ie,Po(ie),Te)}function Tc(ie){return Bt(ie,er,Po)}function Xs(ie,Te){var lt=ie.__data__;return Sr(Te)?lt[typeof Te=="string"?"string":"hash"]:lt.map}function ta(ie,Te){var lt=vt(ie,Te);return Wn(lt)?lt:void 0}var Po=At?Ut(At,Object):Ei,mr=Mn;(Ze&&mr(new Ze(new ArrayBuffer(1)))!=J||y&&mr(new y)!=O||yt&&mr(yt.resolve())!=N||dt&&mr(new dt)!=$||kt&&mr(new kt)!=ne)&&(mr=function(ie){var Te=Vn.call(ie),lt=Te==z?ie.constructor:void 0,Qt=lt?Wo(lt):void 0;if(Qt)switch(Qt){case tn:return J;case Rn:return O;case wn:return N;case ri:return $;case Qn:return ne}return Te});function Gl(ie){var Te=ie.length,lt=ie.constructor(Te);return Te&&typeof ie[0]=="string"&&Oi.call(ie,"index")&&(lt.index=ie.index,lt.input=ie.input),lt}function ba(ie){return typeof ie.constructor=="function"&&!yA(ie)?Xe(le(ie)):{}}function Wl(ie,Te,lt,Qt){var Bi=ie.constructor;switch(Te){case V:return no(ie);case a:case p:return new Bi(+ie);case J:return Oo(ie,Qt);case W:case he:case ge:case ve:case _e:case Me:case be:case ze:case Ce:return jA(ie,Qt);case O:return ps(ie,Qt,lt);case B:case X:return new Bi(ie);case Q:return Ws(ie);case $:return Ju(ie,Qt,lt);case re:return Hi(ie)}}function Iu(ie,Te){return Te=Te??r,!!Te&&(typeof ie=="number"||it.test(ie))&&ie>-1&&ie%1==0&&ie<Te}function Sr(ie){var Te=typeof ie;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?ie!=="__proto__":ie===null}function Au(ie){return!!Bn&&Bn in ie}function yA(ie){var Te=ie&&ie.constructor,lt=typeof Te=="function"&&Te.prototype||Gn;return ie===lt}function Wo(ie){if(ie!=null){try{return Tn.call(ie)}catch{}try{return ie+""}catch{}}return""}function Io(ie){return ea(ie,!0,!0)}function Qa(ie,Te){return ie===Te||ie!==ie&&Te!==Te}function Ia(ie){return cu(ie)&&Oi.call(ie,"callee")&&(!Ie.call(ie,"callee")||Vn.call(ie)==o)}var ca=Array.isArray;function Ur(ie){return ie!=null&&xa(ie.length)&&!os(ie)}function cu(ie){return Ml(ie)&&Ur(ie)}var Ya=He||Hr;function os(ie){var Te=Kr(ie)?Vn.call(ie):"";return Te==_||Te==E}function xa(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=r}function Kr(ie){var Te=typeof ie;return!!ie&&(Te=="object"||Te=="function")}function Ml(ie){return!!ie&&typeof ie=="object"}function er(ie){return Ur(ie)?Xi(ie):an(ie)}function Ei(){return[]}function Hr(){return!1}n.exports=Io}(a_,a_.exports)),a_.exports}var yH=gH();const g9=Bu(yH);var r5,y9;function vH(){if(y9)return r5;y9=1;var n=NaN,e="[object Symbol]",t=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a=Object.prototype,p=a.toString;function g(N,Q,$){return N===N&&($!==void 0&&(N=N<=$?N:$),Q!==void 0&&(N=N>=Q?N:Q)),N}function _(N){var Q=typeof N;return!!N&&(Q=="object"||Q=="function")}function E(N){return!!N&&typeof N=="object"}function O(N){return typeof N=="symbol"||E(N)&&p.call(N)==e}function B(N){if(typeof N=="number")return N;if(O(N))return n;if(_(N)){var Q=typeof N.valueOf=="function"?N.valueOf():N;N=_(Q)?Q+"":Q}if(typeof N!="string")return N===0?N:+N;N=N.replace(t,"");var $=r.test(N);return $||o.test(N)?s(N.slice(2),$?2:8):i.test(N)?n:+N}function z(N,Q,$){return $===void 0&&($=Q,Q=void 0),$!==void 0&&($=B($),$=$===$?$:0),Q!==void 0&&(Q=B(Q),Q=Q===Q?Q:0),g(B(N),Q,$)}return r5=z,r5}var CH=vH();const v9=Bu(CH);var o5={},NC={},C9;function _H(){if(C9)return NC;C9=1,NC.byteLength=a,NC.toByteArray=g,NC.fromByteArray=O;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)n[r]=i[r],e[i.charCodeAt(r)]=r;e[45]=62,e[95]=63;function s(B){var z=B.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=B.indexOf("=");N===-1&&(N=z);var Q=N===z?0:4-N%4;return[N,Q]}function a(B){var z=s(B),N=z[0],Q=z[1];return(N+Q)*3/4-Q}function p(B,z,N){return(z+N)*3/4-N}function g(B){var z,N=s(B),Q=N[0],$=N[1],X=new t(p(B,Q,$)),re=0,ne=$>0?Q-4:Q,V;for(V=0;V<ne;V+=4)z=e[B.charCodeAt(V)]<<18|e[B.charCodeAt(V+1)]<<12|e[B.charCodeAt(V+2)]<<6|e[B.charCodeAt(V+3)],X[re++]=z>>16&255,X[re++]=z>>8&255,X[re++]=z&255;return $===2&&(z=e[B.charCodeAt(V)]<<2|e[B.charCodeAt(V+1)]>>4,X[re++]=z&255),$===1&&(z=e[B.charCodeAt(V)]<<10|e[B.charCodeAt(V+1)]<<4|e[B.charCodeAt(V+2)]>>2,X[re++]=z>>8&255,X[re++]=z&255),X}function _(B){return n[B>>18&63]+n[B>>12&63]+n[B>>6&63]+n[B&63]}function E(B,z,N){for(var Q,$=[],X=z;X<N;X+=3)Q=(B[X]<<16&16711680)+(B[X+1]<<8&65280)+(B[X+2]&255),$.push(_(Q));return $.join("")}function O(B){for(var z,N=B.length,Q=N%3,$=[],X=16383,re=0,ne=N-Q;re<ne;re+=X)$.push(E(B,re,re+X>ne?ne:re+X));return Q===1?(z=B[N-1],$.push(n[z>>2]+n[z<<4&63]+"==")):Q===2&&(z=(B[N-2]<<8)+B[N-1],$.push(n[z>>10]+n[z>>4&63]+n[z<<2&63]+"=")),$.join("")}return NC}var gx={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var _9;function bH(){return _9||(_9=1,gx.read=function(n,e,t,i,r){var o,s,a=r*8-i-1,p=(1<<a)-1,g=p>>1,_=-7,E=t?r-1:0,O=t?-1:1,B=n[e+E];for(E+=O,o=B&(1<<-_)-1,B>>=-_,_+=a;_>0;o=o*256+n[e+E],E+=O,_-=8);for(s=o&(1<<-_)-1,o>>=-_,_+=i;_>0;s=s*256+n[e+E],E+=O,_-=8);if(o===0)o=1-g;else{if(o===p)return s?NaN:(B?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-g}return(B?-1:1)*s*Math.pow(2,o-i)},gx.write=function(n,e,t,i,r,o){var s,a,p,g=o*8-r-1,_=(1<<g)-1,E=_>>1,O=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=i?0:o-1,z=i?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=_):(s=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-s))<1&&(s--,p*=2),s+E>=1?e+=O/p:e+=O*Math.pow(2,1-E),e*p>=2&&(s++,p/=2),s+E>=_?(a=0,s=_):s+E>=1?(a=(e*p-1)*Math.pow(2,r),s=s+E):(a=e*Math.pow(2,E-1)*Math.pow(2,r),s=0));r>=8;n[t+B]=a&255,B+=z,a/=256,r-=8);for(s=s<<r|a,g+=r;g>0;n[t+B]=s&255,B+=z,s/=256,g-=8);n[t+B-z]|=N*128}),gx}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var b9;function xH(){return b9||(b9=1,function(n){const e=_H(),t=bH(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=X,n.INSPECT_MAX_BYTES=50;const r=2147483647;n.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const De=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(De,de),De.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(De){if(De>r)throw new RangeError('The value "'+De+'" is invalid for option "size"');const de=new Uint8Array(De);return Object.setPrototypeOf(de,a.prototype),de}function a(De,de,oe){if(typeof De=="number"){if(typeof de=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(De)}return p(De,de,oe)}a.poolSize=8192;function p(De,de,oe){if(typeof De=="string")return O(De,de);if(ArrayBuffer.isView(De))return z(De);if(De==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof De);if(Bn(De,ArrayBuffer)||De&&Bn(De.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Bn(De,SharedArrayBuffer)||De&&Bn(De.buffer,SharedArrayBuffer)))return N(De,de,oe);if(typeof De=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=De.valueOf&&De.valueOf();if(le!=null&&le!==De)return a.from(le,de,oe);const me=Q(De);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof De[Symbol.toPrimitive]=="function")return a.from(De[Symbol.toPrimitive]("string"),de,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof De)}a.from=function(De,de,oe){return p(De,de,oe)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(De){if(typeof De!="number")throw new TypeError('"size" argument must be of type number');if(De<0)throw new RangeError('The value "'+De+'" is invalid for option "size"')}function _(De,de,oe){return g(De),De<=0?s(De):de!==void 0?typeof oe=="string"?s(De).fill(de,oe):s(De).fill(de):s(De)}a.alloc=function(De,de,oe){return _(De,de,oe)};function E(De){return g(De),s(De<0?0:$(De)|0)}a.allocUnsafe=function(De){return E(De)},a.allocUnsafeSlow=function(De){return E(De)};function O(De,de){if((typeof de!="string"||de==="")&&(de="utf8"),!a.isEncoding(de))throw new TypeError("Unknown encoding: "+de);const oe=re(De,de)|0;let le=s(oe);const me=le.write(De,de);return me!==oe&&(le=le.slice(0,me)),le}function B(De){const de=De.length<0?0:$(De.length)|0,oe=s(de);for(let le=0;le<de;le+=1)oe[le]=De[le]&255;return oe}function z(De){if(Bn(De,Uint8Array)){const de=new Uint8Array(De);return N(de.buffer,de.byteOffset,de.byteLength)}return B(De)}function N(De,de,oe){if(de<0||De.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(De.byteLength<de+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let le;return de===void 0&&oe===void 0?le=new Uint8Array(De):oe===void 0?le=new Uint8Array(De,de):le=new Uint8Array(De,de,oe),Object.setPrototypeOf(le,a.prototype),le}function Q(De){if(a.isBuffer(De)){const de=$(De.length)|0,oe=s(de);return oe.length===0||De.copy(oe,0,0,de),oe}if(De.length!==void 0)return typeof De.length!="number"||Tn(De.length)?s(0):B(De);if(De.type==="Buffer"&&Array.isArray(De.data))return B(De.data)}function $(De){if(De>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return De|0}function X(De){return+De!=De&&(De=0),a.alloc(+De)}a.isBuffer=function(de){return de!=null&&de._isBuffer===!0&&de!==a.prototype},a.compare=function(de,oe){if(Bn(de,Uint8Array)&&(de=a.from(de,de.offset,de.byteLength)),Bn(oe,Uint8Array)&&(oe=a.from(oe,oe.offset,oe.byteLength)),!a.isBuffer(de)||!a.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(de===oe)return 0;let le=de.length,me=oe.length;for(let Ie=0,Qe=Math.min(le,me);Ie<Qe;++Ie)if(de[Ie]!==oe[Ie]){le=de[Ie],me=oe[Ie];break}return le<me?-1:me<le?1:0},a.isEncoding=function(de){switch(String(de).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(de,oe){if(!Array.isArray(de))throw new TypeError('"list" argument must be an Array of Buffers');if(de.length===0)return a.alloc(0);let le;if(oe===void 0)for(oe=0,le=0;le<de.length;++le)oe+=de[le].length;const me=a.allocUnsafe(oe);let Ie=0;for(le=0;le<de.length;++le){let Qe=de[le];if(Bn(Qe,Uint8Array))Ie+Qe.length>me.length?(a.isBuffer(Qe)||(Qe=a.from(Qe)),Qe.copy(me,Ie)):Uint8Array.prototype.set.call(me,Qe,Ie);else if(a.isBuffer(Qe))Qe.copy(me,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=Qe.length}return me};function re(De,de){if(a.isBuffer(De))return De.length;if(ArrayBuffer.isView(De)||Bn(De,ArrayBuffer))return De.byteLength;if(typeof De!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof De);const oe=De.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&oe===0)return 0;let me=!1;for(;;)switch(de){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return on(De).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe*2;case"hex":return oe>>>1;case"base64":return Gn(De).length;default:if(me)return le?-1:on(De).length;de=(""+de).toLowerCase(),me=!0}}a.byteLength=re;function ne(De,de,oe){let le=!1;if((de===void 0||de<0)&&(de=0),de>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0,de>>>=0,oe<=de))return"";for(De||(De="utf8");;)switch(De){case"hex":return it(this,de,oe);case"utf8":case"utf-8":return ze(this,de,oe);case"ascii":return ot(this,de,oe);case"latin1":case"binary":return mt(this,de,oe);case"base64":return be(this,de,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,de,oe);default:if(le)throw new TypeError("Unknown encoding: "+De);De=(De+"").toLowerCase(),le=!0}}a.prototype._isBuffer=!0;function V(De,de,oe){const le=De[de];De[de]=De[oe],De[oe]=le}a.prototype.swap16=function(){const de=this.length;if(de%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let oe=0;oe<de;oe+=2)V(this,oe,oe+1);return this},a.prototype.swap32=function(){const de=this.length;if(de%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let oe=0;oe<de;oe+=4)V(this,oe,oe+3),V(this,oe+1,oe+2);return this},a.prototype.swap64=function(){const de=this.length;if(de%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let oe=0;oe<de;oe+=8)V(this,oe,oe+7),V(this,oe+1,oe+6),V(this,oe+2,oe+5),V(this,oe+3,oe+4);return this},a.prototype.toString=function(){const de=this.length;return de===0?"":arguments.length===0?ze(this,0,de):ne.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(de){if(!a.isBuffer(de))throw new TypeError("Argument must be a Buffer");return this===de?!0:a.compare(this,de)===0},a.prototype.inspect=function(){let de="";const oe=n.INSPECT_MAX_BYTES;return de=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(de+=" ... "),"<Buffer "+de+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(de,oe,le,me,Ie){if(Bn(de,Uint8Array)&&(de=a.from(de,de.offset,de.byteLength)),!a.isBuffer(de))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof de);if(oe===void 0&&(oe=0),le===void 0&&(le=de?de.length:0),me===void 0&&(me=0),Ie===void 0&&(Ie=this.length),oe<0||le>de.length||me<0||Ie>this.length)throw new RangeError("out of range index");if(me>=Ie&&oe>=le)return 0;if(me>=Ie)return-1;if(oe>=le)return 1;if(oe>>>=0,le>>>=0,me>>>=0,Ie>>>=0,this===de)return 0;let Qe=Ie-me,At=le-oe;const He=Math.min(Qe,At),Re=this.slice(me,Ie),Ze=de.slice(oe,le);for(let y=0;y<He;++y)if(Re[y]!==Ze[y]){Qe=Re[y],At=Ze[y];break}return Qe<At?-1:At<Qe?1:0};function J(De,de,oe,le,me){if(De.length===0)return-1;if(typeof oe=="string"?(le=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),oe=+oe,Tn(oe)&&(oe=me?0:De.length-1),oe<0&&(oe=De.length+oe),oe>=De.length){if(me)return-1;oe=De.length-1}else if(oe<0)if(me)oe=0;else return-1;if(typeof de=="string"&&(de=a.from(de,le)),a.isBuffer(de))return de.length===0?-1:W(De,de,oe,le,me);if(typeof de=="number")return de=de&255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call(De,de,oe):Uint8Array.prototype.lastIndexOf.call(De,de,oe):W(De,[de],oe,le,me);throw new TypeError("val must be string, number or Buffer")}function W(De,de,oe,le,me){let Ie=1,Qe=De.length,At=de.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(De.length<2||de.length<2)return-1;Ie=2,Qe/=2,At/=2,oe/=2}function He(Ze,y){return Ie===1?Ze[y]:Ze.readUInt16BE(y*Ie)}let Re;if(me){let Ze=-1;for(Re=oe;Re<Qe;Re++)if(He(De,Re)===He(de,Ze===-1?0:Re-Ze)){if(Ze===-1&&(Ze=Re),Re-Ze+1===At)return Ze*Ie}else Ze!==-1&&(Re-=Re-Ze),Ze=-1}else for(oe+At>Qe&&(oe=Qe-At),Re=oe;Re>=0;Re--){let Ze=!0;for(let y=0;y<At;y++)if(He(De,Re+y)!==He(de,y)){Ze=!1;break}if(Ze)return Re}return-1}a.prototype.includes=function(de,oe,le){return this.indexOf(de,oe,le)!==-1},a.prototype.indexOf=function(de,oe,le){return J(this,de,oe,le,!0)},a.prototype.lastIndexOf=function(de,oe,le){return J(this,de,oe,le,!1)};function he(De,de,oe,le){oe=Number(oe)||0;const me=De.length-oe;le?(le=Number(le),le>me&&(le=me)):le=me;const Ie=de.length;le>Ie/2&&(le=Ie/2);let Qe;for(Qe=0;Qe<le;++Qe){const At=parseInt(de.substr(Qe*2,2),16);if(Tn(At))return Qe;De[oe+Qe]=At}return Qe}function ge(De,de,oe,le){return On(on(de,De.length-oe),De,oe,le)}function ve(De,de,oe,le){return On(Hn(de),De,oe,le)}function _e(De,de,oe,le){return On(Gn(de),De,oe,le)}function Me(De,de,oe,le){return On(Wt(de,De.length-oe),De,oe,le)}a.prototype.write=function(de,oe,le,me){if(oe===void 0)me="utf8",le=this.length,oe=0;else if(le===void 0&&typeof oe=="string")me=oe,le=this.length,oe=0;else if(isFinite(oe))oe=oe>>>0,isFinite(le)?(le=le>>>0,me===void 0&&(me="utf8")):(me=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ie=this.length-oe;if((le===void 0||le>Ie)&&(le=Ie),de.length>0&&(le<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Qe=!1;for(;;)switch(me){case"hex":return he(this,de,oe,le);case"utf8":case"utf-8":return ge(this,de,oe,le);case"ascii":case"latin1":case"binary":return ve(this,de,oe,le);case"base64":return _e(this,de,oe,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,de,oe,le);default:if(Qe)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Qe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function be(De,de,oe){return de===0&&oe===De.length?e.fromByteArray(De):e.fromByteArray(De.slice(de,oe))}function ze(De,de,oe){oe=Math.min(De.length,oe);const le=[];let me=de;for(;me<oe;){const Ie=De[me];let Qe=null,At=Ie>239?4:Ie>223?3:Ie>191?2:1;if(me+At<=oe){let He,Re,Ze,y;switch(At){case 1:Ie<128&&(Qe=Ie);break;case 2:He=De[me+1],(He&192)===128&&(y=(Ie&31)<<6|He&63,y>127&&(Qe=y));break;case 3:He=De[me+1],Re=De[me+2],(He&192)===128&&(Re&192)===128&&(y=(Ie&15)<<12|(He&63)<<6|Re&63,y>2047&&(y<55296||y>57343)&&(Qe=y));break;case 4:He=De[me+1],Re=De[me+2],Ze=De[me+3],(He&192)===128&&(Re&192)===128&&(Ze&192)===128&&(y=(Ie&15)<<18|(He&63)<<12|(Re&63)<<6|Ze&63,y>65535&&y<1114112&&(Qe=y))}}Qe===null?(Qe=65533,At=1):Qe>65535&&(Qe-=65536,le.push(Qe>>>10&1023|55296),Qe=56320|Qe&1023),le.push(Qe),me+=At}return Fe(le)}const Ce=4096;function Fe(De){const de=De.length;if(de<=Ce)return String.fromCharCode.apply(String,De);let oe="",le=0;for(;le<de;)oe+=String.fromCharCode.apply(String,De.slice(le,le+=Ce));return oe}function ot(De,de,oe){let le="";oe=Math.min(De.length,oe);for(let me=de;me<oe;++me)le+=String.fromCharCode(De[me]&127);return le}function mt(De,de,oe){let le="";oe=Math.min(De.length,oe);for(let me=de;me<oe;++me)le+=String.fromCharCode(De[me]);return le}function it(De,de,oe){const le=De.length;(!de||de<0)&&(de=0),(!oe||oe<0||oe>le)&&(oe=le);let me="";for(let Ie=de;Ie<oe;++Ie)me+=Oi[De[Ie]];return me}function ue(De,de,oe){const le=De.slice(de,oe);let me="";for(let Ie=0;Ie<le.length-1;Ie+=2)me+=String.fromCharCode(le[Ie]+le[Ie+1]*256);return me}a.prototype.slice=function(de,oe){const le=this.length;de=~~de,oe=oe===void 0?le:~~oe,de<0?(de+=le,de<0&&(de=0)):de>le&&(de=le),oe<0?(oe+=le,oe<0&&(oe=0)):oe>le&&(oe=le),oe<de&&(oe=de);const me=this.subarray(de,oe);return Object.setPrototypeOf(me,a.prototype),me};function We(De,de,oe){if(De%1!==0||De<0)throw new RangeError("offset is not uint");if(De+de>oe)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(de,oe,le){de=de>>>0,oe=oe>>>0,le||We(de,oe,this.length);let me=this[de],Ie=1,Qe=0;for(;++Qe<oe&&(Ie*=256);)me+=this[de+Qe]*Ie;return me},a.prototype.readUintBE=a.prototype.readUIntBE=function(de,oe,le){de=de>>>0,oe=oe>>>0,le||We(de,oe,this.length);let me=this[de+--oe],Ie=1;for(;oe>0&&(Ie*=256);)me+=this[de+--oe]*Ie;return me},a.prototype.readUint8=a.prototype.readUInt8=function(de,oe){return de=de>>>0,oe||We(de,1,this.length),this[de]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(de,oe){return de=de>>>0,oe||We(de,2,this.length),this[de]|this[de+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(de,oe){return de=de>>>0,oe||We(de,2,this.length),this[de]<<8|this[de+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(de,oe){return de=de>>>0,oe||We(de,4,this.length),(this[de]|this[de+1]<<8|this[de+2]<<16)+this[de+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(de,oe){return de=de>>>0,oe||We(de,4,this.length),this[de]*16777216+(this[de+1]<<16|this[de+2]<<8|this[de+3])},a.prototype.readBigUInt64LE=Vn(function(de){de=de>>>0,vt(de,"offset");const oe=this[de],le=this[de+7];(oe===void 0||le===void 0)&&It(de,this.length-8);const me=oe+this[++de]*2**8+this[++de]*2**16+this[++de]*2**24,Ie=this[++de]+this[++de]*2**8+this[++de]*2**16+le*2**24;return BigInt(me)+(BigInt(Ie)<<BigInt(32))}),a.prototype.readBigUInt64BE=Vn(function(de){de=de>>>0,vt(de,"offset");const oe=this[de],le=this[de+7];(oe===void 0||le===void 0)&&It(de,this.length-8);const me=oe*2**24+this[++de]*2**16+this[++de]*2**8+this[++de],Ie=this[++de]*2**24+this[++de]*2**16+this[++de]*2**8+le;return(BigInt(me)<<BigInt(32))+BigInt(Ie)}),a.prototype.readIntLE=function(de,oe,le){de=de>>>0,oe=oe>>>0,le||We(de,oe,this.length);let me=this[de],Ie=1,Qe=0;for(;++Qe<oe&&(Ie*=256);)me+=this[de+Qe]*Ie;return Ie*=128,me>=Ie&&(me-=Math.pow(2,8*oe)),me},a.prototype.readIntBE=function(de,oe,le){de=de>>>0,oe=oe>>>0,le||We(de,oe,this.length);let me=oe,Ie=1,Qe=this[de+--me];for(;me>0&&(Ie*=256);)Qe+=this[de+--me]*Ie;return Ie*=128,Qe>=Ie&&(Qe-=Math.pow(2,8*oe)),Qe},a.prototype.readInt8=function(de,oe){return de=de>>>0,oe||We(de,1,this.length),this[de]&128?(255-this[de]+1)*-1:this[de]},a.prototype.readInt16LE=function(de,oe){de=de>>>0,oe||We(de,2,this.length);const le=this[de]|this[de+1]<<8;return le&32768?le|4294901760:le},a.prototype.readInt16BE=function(de,oe){de=de>>>0,oe||We(de,2,this.length);const le=this[de+1]|this[de]<<8;return le&32768?le|4294901760:le},a.prototype.readInt32LE=function(de,oe){return de=de>>>0,oe||We(de,4,this.length),this[de]|this[de+1]<<8|this[de+2]<<16|this[de+3]<<24},a.prototype.readInt32BE=function(de,oe){return de=de>>>0,oe||We(de,4,this.length),this[de]<<24|this[de+1]<<16|this[de+2]<<8|this[de+3]},a.prototype.readBigInt64LE=Vn(function(de){de=de>>>0,vt(de,"offset");const oe=this[de],le=this[de+7];(oe===void 0||le===void 0)&&It(de,this.length-8);const me=this[de+4]+this[de+5]*2**8+this[de+6]*2**16+(le<<24);return(BigInt(me)<<BigInt(32))+BigInt(oe+this[++de]*2**8+this[++de]*2**16+this[++de]*2**24)}),a.prototype.readBigInt64BE=Vn(function(de){de=de>>>0,vt(de,"offset");const oe=this[de],le=this[de+7];(oe===void 0||le===void 0)&&It(de,this.length-8);const me=(oe<<24)+this[++de]*2**16+this[++de]*2**8+this[++de];return(BigInt(me)<<BigInt(32))+BigInt(this[++de]*2**24+this[++de]*2**16+this[++de]*2**8+le)}),a.prototype.readFloatLE=function(de,oe){return de=de>>>0,oe||We(de,4,this.length),t.read(this,de,!0,23,4)},a.prototype.readFloatBE=function(de,oe){return de=de>>>0,oe||We(de,4,this.length),t.read(this,de,!1,23,4)},a.prototype.readDoubleLE=function(de,oe){return de=de>>>0,oe||We(de,8,this.length),t.read(this,de,!0,52,8)},a.prototype.readDoubleBE=function(de,oe){return de=de>>>0,oe||We(de,8,this.length),t.read(this,de,!1,52,8)};function tt(De,de,oe,le,me,Ie){if(!a.isBuffer(De))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>me||de<Ie)throw new RangeError('"value" argument is out of bounds');if(oe+le>De.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(de,oe,le,me){if(de=+de,oe=oe>>>0,le=le>>>0,!me){const At=Math.pow(2,8*le)-1;tt(this,de,oe,le,At,0)}let Ie=1,Qe=0;for(this[oe]=de&255;++Qe<le&&(Ie*=256);)this[oe+Qe]=de/Ie&255;return oe+le},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(de,oe,le,me){if(de=+de,oe=oe>>>0,le=le>>>0,!me){const At=Math.pow(2,8*le)-1;tt(this,de,oe,le,At,0)}let Ie=le-1,Qe=1;for(this[oe+Ie]=de&255;--Ie>=0&&(Qe*=256);)this[oe+Ie]=de/Qe&255;return oe+le},a.prototype.writeUint8=a.prototype.writeUInt8=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,1,255,0),this[oe]=de&255,oe+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,2,65535,0),this[oe]=de&255,this[oe+1]=de>>>8,oe+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,2,65535,0),this[oe]=de>>>8,this[oe+1]=de&255,oe+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,4,4294967295,0),this[oe+3]=de>>>24,this[oe+2]=de>>>16,this[oe+1]=de>>>8,this[oe]=de&255,oe+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,4,4294967295,0),this[oe]=de>>>24,this[oe+1]=de>>>16,this[oe+2]=de>>>8,this[oe+3]=de&255,oe+4};function ke(De,de,oe,le,me){bt(de,le,me,De,oe,7);let Ie=Number(de&BigInt(4294967295));De[oe++]=Ie,Ie=Ie>>8,De[oe++]=Ie,Ie=Ie>>8,De[oe++]=Ie,Ie=Ie>>8,De[oe++]=Ie;let Qe=Number(de>>BigInt(32)&BigInt(4294967295));return De[oe++]=Qe,Qe=Qe>>8,De[oe++]=Qe,Qe=Qe>>8,De[oe++]=Qe,Qe=Qe>>8,De[oe++]=Qe,oe}function Et(De,de,oe,le,me){bt(de,le,me,De,oe,7);let Ie=Number(de&BigInt(4294967295));De[oe+7]=Ie,Ie=Ie>>8,De[oe+6]=Ie,Ie=Ie>>8,De[oe+5]=Ie,Ie=Ie>>8,De[oe+4]=Ie;let Qe=Number(de>>BigInt(32)&BigInt(4294967295));return De[oe+3]=Qe,Qe=Qe>>8,De[oe+2]=Qe,Qe=Qe>>8,De[oe+1]=Qe,Qe=Qe>>8,De[oe]=Qe,oe+8}a.prototype.writeBigUInt64LE=Vn(function(de,oe=0){return ke(this,de,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Vn(function(de,oe=0){return Et(this,de,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(de,oe,le,me){if(de=+de,oe=oe>>>0,!me){const He=Math.pow(2,8*le-1);tt(this,de,oe,le,He-1,-He)}let Ie=0,Qe=1,At=0;for(this[oe]=de&255;++Ie<le&&(Qe*=256);)de<0&&At===0&&this[oe+Ie-1]!==0&&(At=1),this[oe+Ie]=(de/Qe>>0)-At&255;return oe+le},a.prototype.writeIntBE=function(de,oe,le,me){if(de=+de,oe=oe>>>0,!me){const He=Math.pow(2,8*le-1);tt(this,de,oe,le,He-1,-He)}let Ie=le-1,Qe=1,At=0;for(this[oe+Ie]=de&255;--Ie>=0&&(Qe*=256);)de<0&&At===0&&this[oe+Ie+1]!==0&&(At=1),this[oe+Ie]=(de/Qe>>0)-At&255;return oe+le},a.prototype.writeInt8=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,1,127,-128),de<0&&(de=255+de+1),this[oe]=de&255,oe+1},a.prototype.writeInt16LE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,2,32767,-32768),this[oe]=de&255,this[oe+1]=de>>>8,oe+2},a.prototype.writeInt16BE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,2,32767,-32768),this[oe]=de>>>8,this[oe+1]=de&255,oe+2},a.prototype.writeInt32LE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,4,2147483647,-2147483648),this[oe]=de&255,this[oe+1]=de>>>8,this[oe+2]=de>>>16,this[oe+3]=de>>>24,oe+4},a.prototype.writeInt32BE=function(de,oe,le){return de=+de,oe=oe>>>0,le||tt(this,de,oe,4,2147483647,-2147483648),de<0&&(de=4294967295+de+1),this[oe]=de>>>24,this[oe+1]=de>>>16,this[oe+2]=de>>>8,this[oe+3]=de&255,oe+4},a.prototype.writeBigInt64LE=Vn(function(de,oe=0){return ke(this,de,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Vn(function(de,oe=0){return Et(this,de,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function gt(De,de,oe,le,me,Ie){if(oe+le>De.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function xt(De,de,oe,le,me){return de=+de,oe=oe>>>0,me||gt(De,de,oe,4),t.write(De,de,oe,le,23,4),oe+4}a.prototype.writeFloatLE=function(de,oe,le){return xt(this,de,oe,!0,le)},a.prototype.writeFloatBE=function(de,oe,le){return xt(this,de,oe,!1,le)};function Kt(De,de,oe,le,me){return de=+de,oe=oe>>>0,me||gt(De,de,oe,8),t.write(De,de,oe,le,52,8),oe+8}a.prototype.writeDoubleLE=function(de,oe,le){return Kt(this,de,oe,!0,le)},a.prototype.writeDoubleBE=function(de,oe,le){return Kt(this,de,oe,!1,le)},a.prototype.copy=function(de,oe,le,me){if(!a.isBuffer(de))throw new TypeError("argument should be a Buffer");if(le||(le=0),!me&&me!==0&&(me=this.length),oe>=de.length&&(oe=de.length),oe||(oe=0),me>0&&me<le&&(me=le),me===le||de.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),de.length-oe<me-le&&(me=de.length-oe+le);const Ie=me-le;return this===de&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,le,me):Uint8Array.prototype.set.call(de,this.subarray(le,me),oe),Ie},a.prototype.fill=function(de,oe,le,me){if(typeof de=="string"){if(typeof oe=="string"?(me=oe,oe=0,le=this.length):typeof le=="string"&&(me=le,le=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!a.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(de.length===1){const Qe=de.charCodeAt(0);(me==="utf8"&&Qe<128||me==="latin1")&&(de=Qe)}}else typeof de=="number"?de=de&255:typeof de=="boolean"&&(de=Number(de));if(oe<0||this.length<oe||this.length<le)throw new RangeError("Out of range index");if(le<=oe)return this;oe=oe>>>0,le=le===void 0?this.length:le>>>0,de||(de=0);let Ie;if(typeof de=="number")for(Ie=oe;Ie<le;++Ie)this[Ie]=de;else{const Qe=a.isBuffer(de)?de:a.from(de,me),At=Qe.length;if(At===0)throw new TypeError('The value "'+de+'" is invalid for argument "value"');for(Ie=0;Ie<le-oe;++Ie)this[Ie+oe]=Qe[Ie%At]}return this};const je={};function Ke(De,de,oe){je[De]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:de.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${De}]`,this.stack,delete this.name}get code(){return De}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${De}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(De){return De?`${De} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(De,de){return`The "${De}" argument must be of type number. Received type ${typeof de}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(De,de,oe){let le=`The value of "${De}" is out of range.`,me=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?me=Ue(String(oe)):typeof oe=="bigint"&&(me=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(me=Ue(me)),me+="n"),le+=` It must be ${de}. Received ${me}`,le},RangeError);function Ue(De){let de="",oe=De.length;const le=De[0]==="-"?1:0;for(;oe>=le+4;oe-=3)de=`_${De.slice(oe-3,oe)}${de}`;return`${De.slice(0,oe)}${de}`}function Ve(De,de,oe){vt(de,"offset"),(De[de]===void 0||De[de+oe]===void 0)&&It(de,De.length-(oe+1))}function bt(De,de,oe,le,me,Ie){if(De>oe||De<de){const Qe=typeof de=="bigint"?"n":"";let At;throw de===0||de===BigInt(0)?At=`>= 0${Qe} and < 2${Qe} ** ${(Ie+1)*8}${Qe}`:At=`>= -(2${Qe} ** ${(Ie+1)*8-1}${Qe}) and < 2 ** ${(Ie+1)*8-1}${Qe}`,new je.ERR_OUT_OF_RANGE("value",At,De)}Ve(le,me,Ie)}function vt(De,de){if(typeof De!="number")throw new je.ERR_INVALID_ARG_TYPE(de,"number",De)}function It(De,de,oe){throw Math.floor(De)!==De?(vt(De,oe),new je.ERR_OUT_OF_RANGE("offset","an integer",De)):de<0?new je.ERR_BUFFER_OUT_OF_BOUNDS:new je.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${de}`,De)}const Yt=/[^+/0-9A-Za-z-_]/g;function Ut(De){if(De=De.split("=")[0],De=De.trim().replace(Yt,""),De.length<2)return"";for(;De.length%4!==0;)De=De+"=";return De}function on(De,de){de=de||1/0;let oe;const le=De.length;let me=null;const Ie=[];for(let Qe=0;Qe<le;++Qe){if(oe=De.charCodeAt(Qe),oe>55295&&oe<57344){if(!me){if(oe>56319){(de-=3)>-1&&Ie.push(239,191,189);continue}else if(Qe+1===le){(de-=3)>-1&&Ie.push(239,191,189);continue}me=oe;continue}if(oe<56320){(de-=3)>-1&&Ie.push(239,191,189),me=oe;continue}oe=(me-55296<<10|oe-56320)+65536}else me&&(de-=3)>-1&&Ie.push(239,191,189);if(me=null,oe<128){if((de-=1)<0)break;Ie.push(oe)}else if(oe<2048){if((de-=2)<0)break;Ie.push(oe>>6|192,oe&63|128)}else if(oe<65536){if((de-=3)<0)break;Ie.push(oe>>12|224,oe>>6&63|128,oe&63|128)}else if(oe<1114112){if((de-=4)<0)break;Ie.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,oe&63|128)}else throw new Error("Invalid code point")}return Ie}function Hn(De){const de=[];for(let oe=0;oe<De.length;++oe)de.push(De.charCodeAt(oe)&255);return de}function Wt(De,de){let oe,le,me;const Ie=[];for(let Qe=0;Qe<De.length&&!((de-=2)<0);++Qe)oe=De.charCodeAt(Qe),le=oe>>8,me=oe%256,Ie.push(me),Ie.push(le);return Ie}function Gn(De){return e.toByteArray(Ut(De))}function On(De,de,oe,le){let me;for(me=0;me<le&&!(me+oe>=de.length||me>=De.length);++me)de[me+oe]=De[me];return me}function Bn(De,de){return De instanceof de||De!=null&&De.constructor!=null&&De.constructor.name!=null&&De.constructor.name===de.name}function Tn(De){return De!==De}const Oi=function(){const De="0123456789abcdef",de=new Array(256);for(let oe=0;oe<16;++oe){const le=oe*16;for(let me=0;me<16;++me)de[le+me]=De[oe]+De[me]}return de}();function Vn(De){return typeof BigInt>"u"?Lt:De}function Lt(){throw new Error("BigInt not supported")}}(o5)),o5}var MH=xH();const wH=Bu(MH);var a5,x9;function SH(){if(x9)return a5;x9=1;var n="Expected a function",e="__lodash_hash_undefined__",t="[object Function]",i="[object GeneratorFunction]",r="[object Symbol]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,a=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/[\\^$.*+?()[\]{}|]/g,_=/\\(\\)?/g,E=/^\[object .+?Constructor\]$/,O=typeof window=="object"&&window&&window.Object===Object&&window,B=typeof self=="object"&&self&&self.Object===Object&&self,z=O||B||Function("return this")();function N(Re,Ze){return Re?.[Ze]}function Q(Re){var Ze=!1;if(Re!=null&&typeof Re.toString!="function")try{Ze=!!(Re+"")}catch{}return Ze}var $=Array.prototype,X=Function.prototype,re=Object.prototype,ne=z["__core-js_shared__"],V=function(){var Re=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return Re?"Symbol(src)_1."+Re:""}(),J=X.toString,W=re.hasOwnProperty,he=re.toString,ge=RegExp("^"+J.call(W).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=z.Symbol,_e=$.splice,Me=Gn(z,"Map"),be=Gn(Object,"create"),ze=ve?ve.prototype:void 0,Ce=ze?ze.toString:void 0;function Fe(Re){var Ze=-1,y=Re?Re.length:0;for(this.clear();++Ze<y;){var yt=Re[Ze];this.set(yt[0],yt[1])}}function ot(){this.__data__=be?be(null):{}}function mt(Re){return this.has(Re)&&delete this.__data__[Re]}function it(Re){var Ze=this.__data__;if(be){var y=Ze[Re];return y===e?void 0:y}return W.call(Ze,Re)?Ze[Re]:void 0}function ue(Re){var Ze=this.__data__;return be?Ze[Re]!==void 0:W.call(Ze,Re)}function We(Re,Ze){var y=this.__data__;return y[Re]=be&&Ze===void 0?e:Ze,this}Fe.prototype.clear=ot,Fe.prototype.delete=mt,Fe.prototype.get=it,Fe.prototype.has=ue,Fe.prototype.set=We;function tt(Re){var Ze=-1,y=Re?Re.length:0;for(this.clear();++Ze<y;){var yt=Re[Ze];this.set(yt[0],yt[1])}}function ke(){this.__data__=[]}function Et(Re){var Ze=this.__data__,y=It(Ze,Re);if(y<0)return!1;var yt=Ze.length-1;return y==yt?Ze.pop():_e.call(Ze,y,1),!0}function gt(Re){var Ze=this.__data__,y=It(Ze,Re);return y<0?void 0:Ze[y][1]}function xt(Re){return It(this.__data__,Re)>-1}function Kt(Re,Ze){var y=this.__data__,yt=It(y,Re);return yt<0?y.push([Re,Ze]):y[yt][1]=Ze,this}tt.prototype.clear=ke,tt.prototype.delete=Et,tt.prototype.get=gt,tt.prototype.has=xt,tt.prototype.set=Kt;function je(Re){var Ze=-1,y=Re?Re.length:0;for(this.clear();++Ze<y;){var yt=Re[Ze];this.set(yt[0],yt[1])}}function Ke(){this.__data__={hash:new Fe,map:new(Me||tt),string:new Fe}}function Ue(Re){return Wt(this,Re).delete(Re)}function Ve(Re){return Wt(this,Re).get(Re)}function bt(Re){return Wt(this,Re).has(Re)}function vt(Re,Ze){return Wt(this,Re).set(Re,Ze),this}je.prototype.clear=Ke,je.prototype.delete=Ue,je.prototype.get=Ve,je.prototype.has=bt,je.prototype.set=vt;function It(Re,Ze){for(var y=Re.length;y--;)if(de(Re[y][0],Ze))return y;return-1}function Yt(Re,Ze){Ze=On(Ze,Re)?[Ze]:Hn(Ze);for(var y=0,yt=Ze.length;Re!=null&&y<yt;)Re=Re[Vn(Ze[y++])];return y&&y==yt?Re:void 0}function Ut(Re){if(!me(Re)||Tn(Re))return!1;var Ze=le(Re)||Q(Re)?ge:E;return Ze.test(Lt(Re))}function on(Re){if(typeof Re=="string")return Re;if(Qe(Re))return Ce?Ce.call(Re):"";var Ze=Re+"";return Ze=="0"&&1/Re==-1/0?"-0":Ze}function Hn(Re){return oe(Re)?Re:Oi(Re)}function Wt(Re,Ze){var y=Re.__data__;return Bn(Ze)?y[typeof Ze=="string"?"string":"hash"]:y.map}function Gn(Re,Ze){var y=N(Re,Ze);return Ut(y)?y:void 0}function On(Re,Ze){if(oe(Re))return!1;var y=typeof Re;return y=="number"||y=="symbol"||y=="boolean"||Re==null||Qe(Re)?!0:s.test(Re)||!o.test(Re)||Ze!=null&&Re in Object(Ze)}function Bn(Re){var Ze=typeof Re;return Ze=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?Re!=="__proto__":Re===null}function Tn(Re){return!!V&&V in Re}var Oi=De(function(Re){Re=At(Re);var Ze=[];return a.test(Re)&&Ze.push(""),Re.replace(p,function(y,yt,dt,kt){Ze.push(dt?kt.replace(_,"$1"):yt||y)}),Ze});function Vn(Re){if(typeof Re=="string"||Qe(Re))return Re;var Ze=Re+"";return Ze=="0"&&1/Re==-1/0?"-0":Ze}function Lt(Re){if(Re!=null){try{return J.call(Re)}catch{}try{return Re+""}catch{}}return""}function De(Re,Ze){if(typeof Re!="function"||Ze&&typeof Ze!="function")throw new TypeError(n);var y=function(){var yt=arguments,dt=Ze?Ze.apply(this,yt):yt[0],kt=y.cache;if(kt.has(dt))return kt.get(dt);var rt=Re.apply(this,yt);return y.cache=kt.set(dt,rt),rt};return y.cache=new(De.Cache||je),y}De.Cache=je;function de(Re,Ze){return Re===Ze||Re!==Re&&Ze!==Ze}var oe=Array.isArray;function le(Re){var Ze=me(Re)?he.call(Re):"";return Ze==t||Ze==i}function me(Re){var Ze=typeof Re;return!!Re&&(Ze=="object"||Ze=="function")}function Ie(Re){return!!Re&&typeof Re=="object"}function Qe(Re){return typeof Re=="symbol"||Ie(Re)&&he.call(Re)==r}function At(Re){return Re==null?"":on(Re)}function He(Re,Ze,y){var yt=Re==null?void 0:Yt(Re,Ze);return yt===void 0?y:yt}return a5=He,a5}var EH=SH();const BH=Bu(EH);var s_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var OH=s_.exports,M9;function IH(){return M9||(M9=1,function(n,e){(function(){var t,i="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",g=500,_="__lodash_placeholder__",E=1,O=2,B=4,z=1,N=2,Q=1,$=2,X=4,re=8,ne=16,V=32,J=64,W=128,he=256,ge=512,ve=30,_e="...",Me=800,be=16,ze=1,Ce=2,Fe=3,ot=1/0,mt=9007199254740991,it=17976931348623157e292,ue=NaN,We=4294967295,tt=We-1,ke=We>>>1,Et=[["ary",W],["bind",Q],["bindKey",$],["curry",re],["curryRight",ne],["flip",ge],["partial",V],["partialRight",J],["rearg",he]],gt="[object Arguments]",xt="[object Array]",Kt="[object AsyncFunction]",je="[object Boolean]",Ke="[object Date]",Ue="[object DOMException]",Ve="[object Error]",bt="[object Function]",vt="[object GeneratorFunction]",It="[object Map]",Yt="[object Number]",Ut="[object Null]",on="[object Object]",Hn="[object Promise]",Wt="[object Proxy]",Gn="[object RegExp]",On="[object Set]",Bn="[object String]",Tn="[object Symbol]",Oi="[object Undefined]",Vn="[object WeakMap]",Lt="[object WeakSet]",De="[object ArrayBuffer]",de="[object DataView]",oe="[object Float32Array]",le="[object Float64Array]",me="[object Int8Array]",Ie="[object Int16Array]",Qe="[object Int32Array]",At="[object Uint8Array]",He="[object Uint8ClampedArray]",Re="[object Uint16Array]",Ze="[object Uint32Array]",y=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,rt=/[&<>"']/g,tn=RegExp(kt.source),Rn=RegExp(rt.source),wn=/<%-([\s\S]+?)%>/g,ri=/<%([\s\S]+?)%>/g,Qn=/<%=([\s\S]+?)%>/g,$i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ir=/^\w*$/,Ii=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,di=/[\\^$.*+?()[\]{}|]/g,ti=RegExp(di.source),qi=/^\s+/,Sn=/\s/,co=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zi=/\{\n\/\* \[wrapped with (.+)\] \*/,_a=/,? & /,Ro=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Jn=/[()=,{}\[\]\/\s]/,cr=/\\(\\)?/g,Ni=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,br=/\w*$/,Wa=/^[-+]0x[0-9a-f]+$/i,Rr=/^0b[01]+$/i,Gi=/^\[object .+?Constructor\]$/,bl=/^0o[0-7]+$/i,La=/^(?:0|[1-9]\d*)$/,Bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rs=/($^)/,Pl=/['\n\r\u2028\u2029\\]/g,ho="\\ud800-\\udfff",Xu="\\u0300-\\u036f",Fa="\\ufe20-\\ufe2f",Xi="\\u20d0-\\u20ff",Si=Xu+Fa+Xi,fs="\\u2700-\\u27bf",Oa="a-z\\xdf-\\xf6\\xf8-\\xff",ea="\\xac\\xb1\\xd7\\xf7",Xe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bt="\\u2000-\\u206f",Mn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wn="A-Z\\xc0-\\xd6\\xd8-\\xde",an="\\ufe0e\\ufe0f",li=ea+Xe+Bt+Mn,no="['’]",Oo="["+ho+"]",ps="["+li+"]",Ws="["+Si+"]",Ju="\\d+",Hi="["+fs+"]",jA="["+Oa+"]",Ou="[^"+ho+li+Ju+fs+Oa+Wn+"]",xl="\\ud83c[\\udffb-\\udfff]",Is="(?:"+Ws+"|"+xl+")",Tc="[^"+ho+"]",Xs="(?:\\ud83c[\\udde6-\\uddff]){2}",ta="[\\ud800-\\udbff][\\udc00-\\udfff]",Po="["+Wn+"]",mr="\\u200d",Gl="(?:"+jA+"|"+Ou+")",ba="(?:"+Po+"|"+Ou+")",Wl="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",Iu="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",Sr=Is+"?",Au="["+an+"]?",yA="(?:"+mr+"(?:"+[Tc,Xs,ta].join("|")+")"+Au+Sr+")*",Wo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Io="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qa=Au+Sr+yA,Ia="(?:"+[Hi,Xs,ta].join("|")+")"+Qa,ca="(?:"+[Tc+Ws+"?",Ws,Xs,ta,Oo].join("|")+")",Ur=RegExp(no,"g"),cu=RegExp(Ws,"g"),Ya=RegExp(xl+"(?="+xl+")|"+ca+Qa,"g"),os=RegExp([Po+"?"+jA+"+"+Wl+"(?="+[ps,Po,"$"].join("|")+")",ba+"+"+Iu+"(?="+[ps,Po+Gl,"$"].join("|")+")",Po+"?"+Gl+"+"+Wl,Po+"+"+Iu,Io,Wo,Ju,Ia].join("|"),"g"),xa=RegExp("["+mr+ho+Si+an+"]"),Kr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ml=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],er=-1,Ei={};Ei[oe]=Ei[le]=Ei[me]=Ei[Ie]=Ei[Qe]=Ei[At]=Ei[He]=Ei[Re]=Ei[Ze]=!0,Ei[gt]=Ei[xt]=Ei[De]=Ei[je]=Ei[de]=Ei[Ke]=Ei[Ve]=Ei[bt]=Ei[It]=Ei[Yt]=Ei[on]=Ei[Gn]=Ei[On]=Ei[Bn]=Ei[Vn]=!1;var Hr={};Hr[gt]=Hr[xt]=Hr[De]=Hr[de]=Hr[je]=Hr[Ke]=Hr[oe]=Hr[le]=Hr[me]=Hr[Ie]=Hr[Qe]=Hr[It]=Hr[Yt]=Hr[on]=Hr[Gn]=Hr[On]=Hr[Bn]=Hr[Tn]=Hr[At]=Hr[He]=Hr[Re]=Hr[Ze]=!0,Hr[Ve]=Hr[bt]=Hr[Vn]=!1;var ie={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bi=parseFloat,ei=parseInt,Ji=typeof window=="object"&&window&&window.Object===Object&&window,lr=typeof self=="object"&&self&&self.Object===Object&&self,Ui=Ji||lr||Function("return this")(),tr=e&&!e.nodeType&&e,io=tr&&!0&&n&&!n.nodeType&&n,fo=io&&io.exports===tr,dr=fo&&Ji.process,vr=function(){try{var Xt=io&&io.require&&io.require("util").types;return Xt||dr&&dr.binding&&dr.binding("util")}catch{}}(),po=vr&&vr.isArrayBuffer,Qo=vr&&vr.isDate,Gr=vr&&vr.isMap,Js=vr&&vr.isRegExp,Ql=vr&&vr.isSet,eA=vr&&vr.isTypedArray;function Cs(Xt,En,Cn){switch(Cn.length){case 0:return Xt.call(En);case 1:return Xt.call(En,Cn[0]);case 2:return Xt.call(En,Cn[0],Cn[1]);case 3:return Xt.call(En,Cn[0],Cn[1],Cn[2])}return Xt.apply(En,Cn)}function Sd(Xt,En,Cn,Di){for(var Or=-1,ko=Xt==null?0:Xt.length;++Or<ko;){var el=Xt[Or];En(Di,el,Cn(el),Xt)}return Di}function za(Xt,En){for(var Cn=-1,Di=Xt==null?0:Xt.length;++Cn<Di&&En(Xt[Cn],Cn,Xt)!==!1;);return Xt}function Ed(Xt,En){for(var Cn=Xt==null?0:Xt.length;Cn--&&En(Xt[Cn],Cn,Xt)!==!1;);return Xt}function NA(Xt,En){for(var Cn=-1,Di=Xt==null?0:Xt.length;++Cn<Di;)if(!En(Xt[Cn],Cn,Xt))return!1;return!0}function tA(Xt,En){for(var Cn=-1,Di=Xt==null?0:Xt.length,Or=0,ko=[];++Cn<Di;){var el=Xt[Cn];En(el,Cn,Xt)&&(ko[Or++]=el)}return ko}function wh(Xt,En){var Cn=Xt==null?0:Xt.length;return!!Cn&&as(Xt,En,0)>-1}function $h(Xt,En,Cn){for(var Di=-1,Or=Xt==null?0:Xt.length;++Di<Or;)if(Cn(En,Xt[Di]))return!0;return!1}function go(Xt,En){for(var Cn=-1,Di=Xt==null?0:Xt.length,Or=Array(Di);++Cn<Di;)Or[Cn]=En(Xt[Cn],Cn,Xt);return Or}function hc(Xt,En){for(var Cn=-1,Di=En.length,Or=Xt.length;++Cn<Di;)Xt[Or+Cn]=En[Cn];return Xt}function Bd(Xt,En,Cn,Di){var Or=-1,ko=Xt==null?0:Xt.length;for(Di&&ko&&(Cn=Xt[++Or]);++Or<ko;)Cn=En(Cn,Xt[Or],Or,Xt);return Cn}function Bm(Xt,En,Cn,Di){var Or=Xt==null?0:Xt.length;for(Di&&Or&&(Cn=Xt[--Or]);Or--;)Cn=En(Cn,Xt[Or],Or,Xt);return Cn}function Sh(Xt,En){for(var Cn=-1,Di=Xt==null?0:Xt.length;++Cn<Di;)if(En(Xt[Cn],Cn,Xt))return!0;return!1}var Od=Zh("length");function b0(Xt){return Xt.split("")}function Yf(Xt){return Xt.match(Ro)||[]}function qf(Xt,En,Cn){var Di;return Cn(Xt,function(Or,ko,el){if(En(Or,ko,el))return Di=ko,!1}),Di}function nA(Xt,En,Cn,Di){for(var Or=Xt.length,ko=Cn+(Di?1:-1);Di?ko--:++ko<Or;)if(En(Xt[ko],ko,Xt))return ko;return-1}function as(Xt,En,Cn){return En===En?Zf(Xt,En,Cn):nA(Xt,Yl,Cn)}function Id(Xt,En,Cn,Di){for(var Or=Cn-1,ko=Xt.length;++Or<ko;)if(Di(Xt[Or],En))return Or;return-1}function Yl(Xt){return Xt!==Xt}function Td(Xt,En){var Cn=Xt==null?0:Xt.length;return Cn?Eh(Xt,En)/Cn:ue}function Zh(Xt){return function(En){return En==null?t:En[Xt]}}function th(Xt){return function(En){return Xt==null?t:Xt[En]}}function Xh(Xt,En,Cn,Di,Or){return Or(Xt,function(ko,el,Uo){Cn=Di?(Di=!1,ko):En(Cn,ko,el,Uo)}),Cn}function Hf(Xt,En){var Cn=Xt.length;for(Xt.sort(En);Cn--;)Xt[Cn]=Xt[Cn].value;return Xt}function Eh(Xt,En){for(var Cn,Di=-1,Or=Xt.length;++Di<Or;){var ko=En(Xt[Di]);ko!==t&&(Cn=Cn===t?ko:Cn+ko)}return Cn}function Bh(Xt,En){for(var Cn=-1,Di=Array(Xt);++Cn<Xt;)Di[Cn]=En(Cn);return Di}function Jh(Xt,En){return go(En,function(Cn){return[Cn,Xt[Cn]]})}function Vf(Xt){return Xt&&Xt.slice(0,WA(Xt)+1).replace(qi,"")}function hu(Xt){return function(En){return Xt(En)}}function $f(Xt,En){return go(En,function(Cn){return Xt[Cn]})}function dc(Xt,En){return Xt.has(En)}function du(Xt,En){for(var Cn=-1,Di=Xt.length;++Cn<Di&&as(En,Xt[Cn],0)>-1;);return Cn}function kc(Xt,En){for(var Cn=Xt.length;Cn--&&as(En,Xt[Cn],0)>-1;);return Cn}function kd(Xt,En){for(var Cn=Xt.length,Di=0;Cn--;)Xt[Cn]===En&&++Di;return Di}var Dd=th(ie),GA=th(Te);function iA(Xt){return"\\"+Qt[Xt]}function ed(Xt,En){return Xt==null?t:Xt[En]}function Dc(Xt){return xa.test(Xt)}function td(Xt){return Kr.test(Xt)}function Om(Xt){for(var En,Cn=[];!(En=Xt.next()).done;)Cn.push(En.value);return Cn}function nh(Xt){var En=-1,Cn=Array(Xt.size);return Xt.forEach(function(Di,Or){Cn[++En]=[Or,Di]}),Cn}function uf(Xt,En){return function(Cn){return Xt(En(Cn))}}function vA(Xt,En){for(var Cn=-1,Di=Xt.length,Or=0,ko=[];++Cn<Di;){var el=Xt[Cn];(el===En||el===_)&&(Xt[Cn]=_,ko[Or++]=Cn)}return ko}function rA(Xt){var En=-1,Cn=Array(Xt.size);return Xt.forEach(function(Di){Cn[++En]=Di}),Cn}function Fp(Xt){var En=-1,Cn=Array(Xt.size);return Xt.forEach(function(Di){Cn[++En]=[Di,Di]}),Cn}function Zf(Xt,En,Cn){for(var Di=Cn-1,Or=Xt.length;++Di<Or;)if(Xt[Di]===En)return Di;return-1}function Tu(Xt,En,Cn){for(var Di=Cn+1;Di--;)if(Xt[Di]===En)return Di;return Di}function fc(Xt){return Dc(Xt)?Oh(Xt):Od(Xt)}function ku(Xt){return Dc(Xt)?Rd(Xt):b0(Xt)}function WA(Xt){for(var En=Xt.length;En--&&Sn.test(Xt.charAt(En)););return En}var To=th(lt);function Oh(Xt){for(var En=Ya.lastIndex=0;Ya.test(Xt);)++En;return En}function Rd(Xt){return Xt.match(Ya)||[]}function zp(Xt){return Xt.match(os)||[]}var Rc=function Xt(En){En=En==null?Ui:ql.defaults(Ui.Object(),En,ql.pick(Ui,Ml));var Cn=En.Array,Di=En.Date,Or=En.Error,ko=En.Function,el=En.Math,Uo=En.Object,ih=En.RegExp,Af=En.String,fu=En.TypeError,Pd=Cn.prototype,CA=ko.prototype,Du=Uo.prototype,Ru=En["__core-js_shared__"],Ul=CA.toString,Yo=Du.hasOwnProperty,_A=0,nd=function(){var M=/[^.]+$/.exec(Ru&&Ru.keys&&Ru.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),qa=Du.toString,tl=Ul.call(Uo),Ts=Ui._,oA=ih("^"+Ul.call(Yo).replace(di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hl=fo?En.Buffer:t,Pu=En.Symbol,pc=En.Uint8Array,Uu=Hl?Hl.allocUnsafe:t,Pc=uf(Uo.getPrototypeOf,Uo),Ih=Uo.create,Pr=Du.propertyIsEnumerable,mc=Pd.splice,aA=Pu?Pu.isConcatSpreadable:t,Uc=Pu?Pu.iterator:t,ks=Pu?Pu.toStringTag:t,Th=function(){try{var M=zh(Uo,"defineProperty");return M({},"",{}),M}catch{}}(),Ud=En.clearTimeout!==Ui.clearTimeout&&En.clearTimeout,bA=Di&&Di.now!==Ui.Date.now&&Di.now,Kd=En.setTimeout!==Ui.setTimeout&&En.setTimeout,rh=el.ceil,Ku=el.floor,QA=Uo.getOwnPropertySymbols,kh=Hl?Hl.isBuffer:t,id=En.isFinite,Lu=Pd.join,Kl=uf(Uo.keys,Uo),qo=el.max,ha=el.min,YA=Di.now,qA=En.parseInt,Kc=el.random,oh=Pd.reverse,ah=zh(En,"DataView"),Ma=zh(En,"Map"),Sa=zh(En,"Promise"),Jr=zh(En,"Set"),pu=zh(En,"WeakMap"),Qs=zh(Uo,"create"),sh=pu&&new pu,xA={},cf=Ms(ah),_s=Ms(Ma),ul=Ms(Sa),Ys=Ms(Jr),hf=Ms(pu),HA=Pu?Pu.prototype:t,Dh=HA?HA.valueOf:t,sA=HA?HA.toString:t;function at(M){if(fl(M)&&!$r(M)&&!(M instanceof Cr)){if(M instanceof na)return M;if(Yo.call(M,"__wrapped__"))return ga(M)}return new na(M)}var nl=function(){function M(){}return function(P){if(!dl(P))return{};if(Ih)return Ih(P);M.prototype=P;var Z=new M;return M.prototype=t,Z}}();function Ha(){}function na(M,P){this.__wrapped__=M,this.__actions__=[],this.__chain__=!!P,this.__index__=0,this.__values__=t}at.templateSettings={escape:wn,evaluate:ri,interpolate:Qn,variable:"",imports:{_:at}},at.prototype=Ha.prototype,at.prototype.constructor=at,na.prototype=nl(Ha.prototype),na.prototype.constructor=na;function Cr(M){this.__wrapped__=M,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=We,this.__views__=[]}function bs(){var M=new Cr(this.__wrapped__);return M.__actions__=Mo(this.__actions__),M.__dir__=this.__dir__,M.__filtered__=this.__filtered__,M.__iteratees__=Mo(this.__iteratees__),M.__takeCount__=this.__takeCount__,M.__views__=Mo(this.__views__),M}function lh(){if(this.__filtered__){var M=new Cr(this);M.__dir__=-1,M.__filtered__=!0}else M=this.clone(),M.__dir__*=-1;return M}function Rh(){var M=this.__wrapped__.value(),P=this.__dir__,Z=$r(M),we=P<0,et=Z?M.length:0,pt=km(0,et,this.__views__),Ft=pt.start,$t=pt.end,ln=$t-Ft,qn=we?$t:Ft-1,Zn=this.__iteratees__,ci=Zn.length,Wi=0,Br=ha(ln,this.__takeCount__);if(!Z||!we&&et==ln&&Br==ln)return ja(M,this.__actions__);var so=[];e:for(;ln--&&Wi<Br;){qn+=P;for(var ya=-1,lo=M[qn];++ya<ci;){var Pa=Zn[ya],Ja=Pa.iteratee,Of=Pa.type,vd=Ja(lo);if(Of==Ce)lo=vd;else if(!vd){if(Of==ze)continue e;break e}}so[Wi++]=lo}return so}Cr.prototype=nl(Ha.prototype),Cr.prototype.constructor=Cr;function Ko(M){var P=-1,Z=M==null?0:M.length;for(this.clear();++P<Z;){var we=M[P];this.set(we[0],we[1])}}function uh(){this.__data__=Qs?Qs(null):{},this.size=0}function Fu(M){var P=this.has(M)&&delete this.__data__[M];return this.size-=P?1:0,P}function Ld(M){var P=this.__data__;if(Qs){var Z=P[M];return Z===p?t:Z}return Yo.call(P,M)?P[M]:t}function df(M){var P=this.__data__;return Qs?P[M]!==t:Yo.call(P,M)}function jp(M,P){var Z=this.__data__;return this.size+=this.has(M)?0:1,Z[M]=Qs&&P===t?p:P,this}Ko.prototype.clear=uh,Ko.prototype.delete=Fu,Ko.prototype.get=Ld,Ko.prototype.has=df,Ko.prototype.set=jp;function Ea(M){var P=-1,Z=M==null?0:M.length;for(this.clear();++P<Z;){var we=M[P];this.set(we[0],we[1])}}function Ph(){this.__data__=[],this.size=0}function Ah(M){var P=this.__data__,Z=gc(P,M);if(Z<0)return!1;var we=P.length-1;return Z==we?P.pop():mc.call(P,Z,1),--this.size,!0}function VA(M){var P=this.__data__,Z=gc(P,M);return Z<0?t:P[Z][1]}function ff(M){return gc(this.__data__,M)>-1}function Al(M,P){var Z=this.__data__,we=gc(Z,M);return we<0?(++this.size,Z.push([M,P])):Z[we][1]=P,this}Ea.prototype.clear=Ph,Ea.prototype.delete=Ah,Ea.prototype.get=VA,Ea.prototype.has=ff,Ea.prototype.set=Al;function ss(M){var P=-1,Z=M==null?0:M.length;for(this.clear();++P<Z;){var we=M[P];this.set(we[0],we[1])}}function rd(){this.size=0,this.__data__={hash:new Ko,map:new(Ma||Ea),string:new Ko}}function mu(M){var P=_f(this,M).delete(M);return this.size-=P?1:0,P}function Fd(M){return _f(this,M).get(M)}function pf(M){return _f(this,M).has(M)}function wl(M,P){var Z=_f(this,M),we=Z.size;return Z.set(M,P),this.size+=Z.size==we?0:1,this}ss.prototype.clear=rd,ss.prototype.delete=mu,ss.prototype.get=Fd,ss.prototype.has=pf,ss.prototype.set=wl;function Lc(M){var P=-1,Z=M==null?0:M.length;for(this.__data__=new ss;++P<Z;)this.add(M[P])}function Xf(M){return this.__data__.set(M,p),this}function od(M){return this.__data__.has(M)}Lc.prototype.add=Lc.prototype.push=Xf,Lc.prototype.has=od;function wa(M){var P=this.__data__=new Ea(M);this.size=P.size}function eo(){this.__data__=new Ea,this.size=0}function hi(M){var P=this.__data__,Z=P.delete(M);return this.size=P.size,Z}function $A(M){return this.__data__.get(M)}function ZA(M){return this.__data__.has(M)}function ad(M,P){var Z=this.__data__;if(Z instanceof Ea){var we=Z.__data__;if(!Ma||we.length<r-1)return we.push([M,P]),this.size=++Z.size,this;Z=this.__data__=new ss(we)}return Z.set(M,P),this.size=Z.size,this}wa.prototype.clear=eo,wa.prototype.delete=hi,wa.prototype.get=$A,wa.prototype.has=ZA,wa.prototype.set=ad;function Fc(M,P){var Z=$r(M),we=!Z&&Yd(M),et=!Z&&!we&&Ef(M),pt=!Z&&!we&&!et&&Hm(M),Ft=Z||we||et||pt,$t=Ft?Bh(M.length,Af):[],ln=$t.length;for(var qn in M)(P||Yo.call(M,qn))&&!(Ft&&(qn=="length"||et&&(qn=="offset"||qn=="parent")||pt&&(qn=="buffer"||qn=="byteLength"||qn=="byteOffset")||T(qn,ln)))&&$t.push(qn);return $t}function MA(M){var P=M.length;return P?M[ht(0,P-1)]:t}function mf(M,P){return As(Mo(M),lA(P,0,M.length))}function ro(M){return As(Mo(M))}function Vl(M,P,Z){(Z!==t&&!ru(M[P],Z)||Z===t&&!(P in M))&&wA(M,P,Z)}function Uh(M,P,Z){var we=M[P];(!(Yo.call(M,P)&&ru(we,Z))||Z===t&&!(P in M))&&wA(M,P,Z)}function gc(M,P){for(var Z=M.length;Z--;)if(ru(M[Z][0],P))return Z;return-1}function zu(M,P,Z,we){return Zl(M,function(et,pt,Ft){P(we,et,Z(et),Ft)}),we}function yc(M,P){return M&&ia(P,ae(P),M)}function Kh(M,P){return M&&ia(P,ce(P),M)}function wA(M,P,Z){P=="__proto__"&&Th?Th(M,P,{configurable:!0,enumerable:!0,value:Z,writable:!0}):M[P]=Z}function ch(M,P){for(var Z=-1,we=P.length,et=Cn(we),pt=M==null;++Z<we;)et[Z]=pt?t:v(M,P[Z]);return et}function lA(M,P,Z){return M===M&&(Z!==t&&(M=M<=Z?M:Z),P!==t&&(M=M>=P?M:P)),M}function Sl(M,P,Z,we,et,pt){var Ft,$t=P&E,ln=P&O,qn=P&B;if(Z&&(Ft=et?Z(M,we,et,pt):Z(M)),Ft!==t)return Ft;if(!dl(M))return M;var Zn=$r(M);if(Zn){if(Ft=x0(M),!$t)return Mo(M,Ft)}else{var ci=cl(M),Wi=ci==bt||ci==vt;if(Ef(M))return _c(M,$t);if(ci==on||ci==gt||Wi&&!et){if(Ft=ln||Wi?{}:M0(M),!$t)return ln?xs(M,Kh(Ft,M)):vu(M,yc(Ft,M))}else{if(!Hr[ci])return et?M:{};Ft=bf(M,ci,$t)}}pt||(pt=new wa);var Br=pt.get(M);if(Br)return Br;pt.set(M,Ft),U0(M)?M.forEach(function(lo){Ft.add(Sl(lo,P,Z,lo,M,pt))}):md(M)&&M.forEach(function(lo,Pa){Ft.set(Pa,Sl(lo,P,Z,Pa,M,pt))});var so=qn?ln?Wp:ap:ln?ce:ae,ya=Zn?t:so(M);return za(ya||M,function(lo,Pa){ya&&(Pa=lo,lo=M[Pa]),Uh(Ft,Pa,Sl(lo,P,Z,Pa,M,pt))}),Ft}function Np(M){var P=ae(M);return function(Z){return gf(Z,M,P)}}function gf(M,P,Z){var we=Z.length;if(M==null)return!we;for(M=Uo(M);we--;){var et=Z[we],pt=P[et],Ft=M[et];if(Ft===t&&!(et in M)||!pt(Ft))return!1}return!0}function $l(M,P,Z){if(typeof M!="function")throw new fu(s);return ur(function(){M.apply(t,Z)},P)}function Lo(M,P,Z,we){var et=-1,pt=wh,Ft=!0,$t=M.length,ln=[],qn=P.length;if(!$t)return ln;Z&&(P=go(P,hu(Z))),we?(pt=$h,Ft=!1):P.length>=r&&(pt=dc,Ft=!1,P=new Lc(P));e:for(;++et<$t;){var Zn=M[et],ci=Z==null?Zn:Z(Zn);if(Zn=we||Zn!==0?Zn:0,Ft&&ci===ci){for(var Wi=qn;Wi--;)if(P[Wi]===ci)continue e;ln.push(Zn)}else pt(P,ci,we)||ln.push(Zn)}return ln}var Zl=Nu(Ri),sd=Nu(zc,!0);function Jf(M,P){var Z=!0;return Zl(M,function(we,et,pt){return Z=!!P(we,et,pt),Z}),Z}function SA(M,P,Z){for(var we=-1,et=M.length;++we<et;){var pt=M[we],Ft=P(pt);if(Ft!=null&&($t===t?Ft===Ft&&!hA(Ft):Z(Ft,$t)))var $t=Ft,ln=pt}return ln}function oo(M,P,Z,we){var et=M.length;for(Z=ao(Z),Z<0&&(Z=-Z>et?0:et+Z),we=we===t||we>et?et:ao(we),we<0&&(we+=et),we=Z>we?0:qd(we);Z<we;)M[Z++]=P;return M}function Fo(M,P){var Z=[];return Zl(M,function(we,et,pt){P(we,et,pt)&&Z.push(we)}),Z}function Lr(M,P,Z,we,et){var pt=-1,Ft=M.length;for(Z||(Z=C),et||(et=[]);++pt<Ft;){var $t=M[pt];P>0&&Z($t)?P>1?Lr($t,P-1,Z,we,et):hc(et,$t):we||(et[et.length]=$t)}return et}var XA=tu(),ki=tu(!0);function Ri(M,P){return M&&XA(M,P,ae)}function zc(M,P){return M&&ki(M,P,ae)}function ju(M,P){return tA(P,function(Z){return jh(M[Z])})}function gu(M,P){P=$a(P,M);for(var Z=0,we=P.length;M!=null&&Z<we;)M=M[Vr(P[Z++])];return Z&&Z==we?M:t}function da(M,P,Z){var we=P(M);return $r(M)?we:hc(we,Z(M))}function yo(M){return M==null?M===t?Oi:Ut:ks&&ks in Uo(M)?Tm(M):Pn(M)}function Xl(M,P){return M>P}function ep(M,P){return M!=null&&Yo.call(M,P)}function ld(M,P){return M!=null&&P in Uo(M)}function zo(M,P,Z){return M>=ha(P,Z)&&M<qo(P,Z)}function Va(M,P,Z){for(var we=Z?$h:wh,et=M[0].length,pt=M.length,Ft=pt,$t=Cn(pt),ln=1/0,qn=[];Ft--;){var Zn=M[Ft];Ft&&P&&(Zn=go(Zn,hu(P))),ln=ha(Zn.length,ln),$t[Ft]=!Z&&(P||et>=120&&Zn.length>=120)?new Lc(Ft&&Zn):t}Zn=M[0];var ci=-1,Wi=$t[0];e:for(;++ci<et&&qn.length<ln;){var Br=Zn[ci],so=P?P(Br):Br;if(Br=Z||Br!==0?Br:0,!(Wi?dc(Wi,so):we(qn,so,Z))){for(Ft=pt;--Ft;){var ya=$t[Ft];if(!(ya?dc(ya,so):we(M[Ft],so,Z)))continue e}Wi&&Wi.push(so),qn.push(Br)}}return qn}function ud(M,P,Z,we){return Ri(M,function(et,pt,Ft){P(we,Z(et),pt,Ft)}),we}function EA(M,P,Z){P=$a(P,M),M=gi(M,P);var we=M==null?M:M[Vr(DA(P))];return we==null?t:Cs(we,M,Z)}function jc(M){return fl(M)&&yo(M)==gt}function il(M){return fl(M)&&yo(M)==De}function ls(M){return fl(M)&&yo(M)==Ke}function yu(M,P,Z,we,et){return M===P?!0:M==null||P==null||!fl(M)&&!fl(P)?M!==M&&P!==P:Nc(M,P,Z,we,yu,et)}function Nc(M,P,Z,we,et,pt){var Ft=$r(M),$t=$r(P),ln=Ft?xt:cl(M),qn=$t?xt:cl(P);ln=ln==gt?on:ln,qn=qn==gt?on:qn;var Zn=ln==on,ci=qn==on,Wi=ln==qn;if(Wi&&Ef(M)){if(!Ef(P))return!1;Ft=!0,Zn=!1}if(Wi&&!Zn)return pt||(pt=new wa),Ft||Hm(M)?cA(M,P,Z,we,et,pt):jd(M,P,ln,Z,we,et,pt);if(!(Z&z)){var Br=Zn&&Yo.call(M,"__wrapped__"),so=ci&&Yo.call(P,"__wrapped__");if(Br||so){var ya=Br?M.value():M,lo=so?P.value():P;return pt||(pt=new wa),et(ya,lo,Z,we,pt)}}return Wi?(pt||(pt=new wa),rl(M,P,Z,we,et,pt)):!1}function vc(M){return fl(M)&&cl(M)==It}function Cc(M,P,Z,we){var et=Z.length,pt=et,Ft=!we;if(M==null)return!pt;for(M=Uo(M);et--;){var $t=Z[et];if(Ft&&$t[2]?$t[1]!==M[$t[0]]:!($t[0]in M))return!1}for(;++et<pt;){$t=Z[et];var ln=$t[0],qn=M[ln],Zn=$t[1];if(Ft&&$t[2]){if(qn===t&&!(ln in M))return!1}else{var ci=new wa;if(we)var Wi=we(qn,Zn,ln,M,P,ci);if(!(Wi===t?yu(Zn,qn,z|N,we,ci):Wi))return!1}}return!0}function Jl(M){if(!dl(M)||Se(M))return!1;var P=jh(M)?oA:Gi;return P.test(Ms(M))}function Ad(M){return fl(M)&&yo(M)==Gn}function cd(M){return fl(M)&&cl(M)==On}function zd(M){return fl(M)&&Cp(M.length)&&!!Ei[yo(M)]}function k(M){return typeof M=="function"?M:M==null?pn:typeof M=="object"?$r(M)?j(M[0],M[1]):R(M):Ra(M)}function l(M){if(!Ge(M))return Kl(M);var P=[];for(var Z in Uo(M))Yo.call(M,Z)&&Z!="constructor"&&P.push(Z);return P}function f(M){if(!dl(M))return bn(M);var P=Ge(M),Z=[];for(var we in M)we=="constructor"&&(P||!Yo.call(M,we))||Z.push(we);return Z}function b(M,P){return M<P}function S(M,P){var Z=-1,we=ou(M)?Cn(M.length):[];return Zl(M,function(et,pt,Ft){we[++Z]=P(et,pt,Ft)}),we}function R(M){var P=oa(M);return P.length==1&&P[0][2]?Tt(P[0][0],P[0][1]):function(Z){return Z===M||Cc(Z,M,P)}}function j(M,P){return F(M)&&_t(P)?Tt(Vr(M),P):function(Z){var we=v(Z,M);return we===t&&we===P?U(Z,M):yu(P,we,z|N)}}function q(M,P,Z,we,et){M!==P&&XA(P,function(pt,Ft){if(et||(et=new wa),dl(pt))te(M,P,Ft,Z,q,we,et);else{var $t=we?we(yi(M,Ft),pt,Ft+"",M,P,et):t;$t===t&&($t=pt),Vl(M,Ft,$t)}},ce)}function te(M,P,Z,we,et,pt,Ft){var $t=yi(M,Z),ln=yi(P,Z),qn=Ft.get(ln);if(qn){Vl(M,Z,qn);return}var Zn=pt?pt($t,ln,Z+"",M,P,Ft):t,ci=Zn===t;if(ci){var Wi=$r(ln),Br=!Wi&&Ef(ln),so=!Wi&&!Br&&Hm(ln);Zn=ln,Wi||Br||so?$r($t)?Zn=$t:Tl($t)?Zn=Mo($t):Br?(ci=!1,Zn=_c(ln,!0)):so?(ci=!1,Zn=Gc(ln,!0)):Zn=[]:yh(ln)||Yd(ln)?(Zn=$t,Yd($t)?Zn=I1($t):(!dl($t)||jh($t))&&(Zn=M0(ln))):ci=!1}ci&&(Ft.set(ln,Zn),et(Zn,ln,we,pt,Ft),Ft.delete(ln)),Vl(M,Z,Zn)}function fe(M,P){var Z=M.length;if(Z)return P+=P<0?Z:0,T(P,Z)?M[P]:t}function ye(M,P,Z){P.length?P=go(P,function(pt){return $r(pt)?function(Ft){return gu(Ft,pt.length===1?pt[0]:pt)}:pt}):P=[pn];var we=-1;P=go(P,hu(yr()));var et=S(M,function(pt,Ft,$t){var ln=go(P,function(qn){return qn(pt)});return{criteria:ln,index:++we,value:pt}});return Hf(et,function(pt,Ft){return tc(pt,Ft,Z)})}function Oe(M,P){return Ee(M,P,function(Z,we){return U(M,we)})}function Ee(M,P,Z){for(var we=-1,et=P.length,pt={};++we<et;){var Ft=P[we],$t=gu(M,Ft);Z($t,Ft)&&zt(pt,$a(Ft,M),$t)}return pt}function Ne(M){return function(P){return gu(P,M)}}function Je(M,P,Z,we){var et=we?Id:as,pt=-1,Ft=P.length,$t=M;for(M===P&&(P=Mo(P)),Z&&($t=go(M,hu(Z)));++pt<Ft;)for(var ln=0,qn=P[pt],Zn=Z?Z(qn):qn;(ln=et($t,Zn,ln,we))>-1;)$t!==M&&mc.call($t,ln,1),mc.call(M,ln,1);return M}function ut(M,P){for(var Z=M?P.length:0,we=Z-1;Z--;){var et=P[Z];if(Z==we||et!==pt){var pt=et;T(et)?mc.call(M,et,1):xo(M,et)}}return M}function ht(M,P){return M+Ku(Kc()*(P-M+1))}function ft(M,P,Z,we){for(var et=-1,pt=qo(rh((P-M)/(Z||1)),0),Ft=Cn(pt);pt--;)Ft[we?pt:++et]=M,M+=Z;return Ft}function Mt(M,P){var Z="";if(!M||P<1||P>mt)return Z;do P%2&&(Z+=M),P=Ku(P/2),P&&(M+=M);while(P);return Z}function Ct(M,P){return Vi(ai(M,P,pn),M+"")}function St(M){return MA(Ai(M))}function Pt(M,P){var Z=Ai(M);return As(Z,lA(P,0,Z.length))}function zt(M,P,Z,we){if(!dl(M))return M;P=$a(P,M);for(var et=-1,pt=P.length,Ft=pt-1,$t=M;$t!=null&&++et<pt;){var ln=Vr(P[et]),qn=Z;if(ln==="__proto__"||ln==="constructor"||ln==="prototype")return M;if(et!=Ft){var Zn=$t[ln];qn=we?we(Zn,ln,$t):t,qn===t&&(qn=dl(Zn)?Zn:T(P[et+1])?[]:{})}Uh($t,ln,qn),$t=$t[ln]}return M}var Ot=sh?function(M,P){return sh.set(M,P),M}:pn,Ht=Th?function(M,P){return Th(M,"toString",{configurable:!0,enumerable:!1,value:dn(P),writable:!0})}:pn;function fn(M){return As(Ai(M))}function Jt(M,P,Z){var we=-1,et=M.length;P<0&&(P=-P>et?0:et+P),Z=Z>et?et:Z,Z<0&&(Z+=et),et=P>Z?0:Z-P>>>0,P>>>=0;for(var pt=Cn(et);++we<et;)pt[we]=M[we+P];return pt}function rn(M,P){var Z;return Zl(M,function(we,et,pt){return Z=P(we,et,pt),!Z}),!!Z}function An(M,P,Z){var we=0,et=M==null?we:M.length;if(typeof P=="number"&&P===P&&et<=ke){for(;we<et;){var pt=we+et>>>1,Ft=M[pt];Ft!==null&&!hA(Ft)&&(Z?Ft<=P:Ft<P)?we=pt+1:et=pt}return et}return $n(M,P,pn,Z)}function $n(M,P,Z,we){var et=0,pt=M==null?0:M.length;if(pt===0)return 0;P=Z(P);for(var Ft=P!==P,$t=P===null,ln=hA(P),qn=P===t;et<pt;){var Zn=Ku((et+pt)/2),ci=Z(M[Zn]),Wi=ci!==t,Br=ci===null,so=ci===ci,ya=hA(ci);if(Ft)var lo=we||so;else qn?lo=so&&(we||Wi):$t?lo=so&&Wi&&(we||!Br):ln?lo=so&&Wi&&!Br&&(we||!ya):Br||ya?lo=!1:lo=we?ci<=P:ci<P;lo?et=Zn+1:pt=Zn}return ha(pt,tt)}function Yn(M,P){for(var Z=-1,we=M.length,et=0,pt=[];++Z<we;){var Ft=M[Z],$t=P?P(Ft):Ft;if(!Z||!ru($t,ln)){var ln=$t;pt[et++]=Ft===0?0:Ft}}return pt}function kn(M){return typeof M=="number"?M:hA(M)?ue:+M}function wi(M){if(typeof M=="string")return M;if($r(M))return go(M,wi)+"";if(hA(M))return sA?sA.call(M):"";var P=M+"";return P=="0"&&1/M==-ot?"-0":P}function fr(M,P,Z){var we=-1,et=wh,pt=M.length,Ft=!0,$t=[],ln=$t;if(Z)Ft=!1,et=$h;else if(pt>=r){var qn=P?null:ug(M);if(qn)return rA(qn);Ft=!1,et=dc,ln=new Lc}else ln=P?[]:$t;e:for(;++we<pt;){var Zn=M[we],ci=P?P(Zn):Zn;if(Zn=Z||Zn!==0?Zn:0,Ft&&ci===ci){for(var Wi=ln.length;Wi--;)if(ln[Wi]===ci)continue e;P&&ln.push(ci),$t.push(Zn)}else et(ln,ci,Z)||(ln!==$t&&ln.push(ci),$t.push(Zn))}return $t}function xo(M,P){return P=$a(P,M),M=gi(M,P),M==null||delete M[Vr(DA(P))]}function fa(M,P,Z,we){return zt(M,P,Z(gu(M,P)),we)}function jo(M,P,Z,we){for(var et=M.length,pt=we?et:-1;(we?pt--:++pt<et)&&P(M[pt],pt,M););return Z?Jt(M,we?0:pt,we?pt+1:et):Jt(M,we?pt+1:0,we?et:pt)}function ja(M,P){var Z=M;return Z instanceof Cr&&(Z=Z.value()),Bd(P,function(we,et){return et.func.apply(et.thisArg,hc([we],et.args))},Z)}function pa(M,P,Z){var we=M.length;if(we<2)return we?fr(M[0]):[];for(var et=-1,pt=Cn(we);++et<we;)for(var Ft=M[et],$t=-1;++$t<we;)$t!=et&&(pt[et]=Lo(pt[et]||Ft,M[$t],P,Z));return fr(Lr(pt,1),P,Z)}function Tr(M,P,Z){for(var we=-1,et=M.length,pt=P.length,Ft={};++we<et;){var $t=we<pt?P[we]:t;Z(Ft,M[we],$t)}return Ft}function Ho(M){return Tl(M)?M:[]}function us(M){return typeof M=="function"?M:pn}function $a(M,P){return $r(M)?M:F(M,P)?[M]:ma(Na(M))}var Ds=Ct;function Rs(M,P,Z){var we=M.length;return Z=Z===t?we:Z,!P&&Z>=we?M:Jt(M,P,Z)}var JA=Ud||function(M){return Ui.clearTimeout(M)};function _c(M,P){if(P)return M.slice();var Z=M.length,we=Uu?Uu(Z):new M.constructor(Z);return M.copy(we),we}function eu(M){var P=new M.constructor(M.byteLength);return new pc(P).set(new pc(M)),P}function Lh(M,P){var Z=P?eu(M.buffer):M.buffer;return new M.constructor(Z,M.byteOffset,M.byteLength)}function hh(M){var P=new M.constructor(M.source,br.exec(M));return P.lastIndex=M.lastIndex,P}function ec(M){return Dh?Uo(Dh.call(M)):{}}function Gc(M,P){var Z=P?eu(M.buffer):M.buffer;return new M.constructor(Z,M.byteOffset,M.length)}function El(M,P){if(M!==P){var Z=M!==t,we=M===null,et=M===M,pt=hA(M),Ft=P!==t,$t=P===null,ln=P===P,qn=hA(P);if(!$t&&!qn&&!pt&&M>P||pt&&Ft&&ln&&!$t&&!qn||we&&Ft&&ln||!Z&&ln||!et)return 1;if(!we&&!pt&&!qn&&M<P||qn&&Z&&et&&!we&&!pt||$t&&Z&&et||!Ft&&et||!ln)return-1}return 0}function tc(M,P,Z){for(var we=-1,et=M.criteria,pt=P.criteria,Ft=et.length,$t=Z.length;++we<Ft;){var ln=El(et[we],pt[we]);if(ln){if(we>=$t)return ln;var qn=Z[we];return ln*(qn=="desc"?-1:1)}}return M.index-P.index}function Bl(M,P,Z,we){for(var et=-1,pt=M.length,Ft=Z.length,$t=-1,ln=P.length,qn=qo(pt-Ft,0),Zn=Cn(ln+qn),ci=!we;++$t<ln;)Zn[$t]=P[$t];for(;++et<Ft;)(ci||et<pt)&&(Zn[Z[et]]=M[et]);for(;qn--;)Zn[$t++]=M[et++];return Zn}function Wc(M,P,Z,we){for(var et=-1,pt=M.length,Ft=-1,$t=Z.length,ln=-1,qn=P.length,Zn=qo(pt-$t,0),ci=Cn(Zn+qn),Wi=!we;++et<Zn;)ci[et]=M[et];for(var Br=et;++ln<qn;)ci[Br+ln]=P[ln];for(;++Ft<$t;)(Wi||et<pt)&&(ci[Br+Z[Ft]]=M[et++]);return ci}function Mo(M,P){var Z=-1,we=M.length;for(P||(P=Cn(we));++Z<we;)P[Z]=M[Z];return P}function ia(M,P,Z,we){var et=!Z;Z||(Z={});for(var pt=-1,Ft=P.length;++pt<Ft;){var $t=P[pt],ln=we?we(Z[$t],M[$t],$t,Z,M):t;ln===t&&(ln=M[$t]),et?wA(Z,$t,ln):Uh(Z,$t,ln)}return Z}function vu(M,P){return ia(M,nc(M),P)}function xs(M,P){return ia(M,_u(M),P)}function BA(M,P){return function(Z,we){var et=$r(Z)?Sd:zu,pt=P?P():{};return et(Z,M,yr(we,2),pt)}}function Cu(M){return Ct(function(P,Z){var we=-1,et=Z.length,pt=et>1?Z[et-1]:t,Ft=et>2?Z[2]:t;for(pt=M.length>3&&typeof pt=="function"?(et--,pt):t,Ft&&I(Z[0],Z[1],Ft)&&(pt=et<3?t:pt,et=1),P=Uo(P);++we<et;){var $t=Z[we];$t&&M(P,$t,we,pt)}return P})}function Nu(M,P){return function(Z,we){if(Z==null)return Z;if(!ou(Z))return M(Z,we);for(var et=Z.length,pt=P?et:-1,Ft=Uo(Z);(P?pt--:++pt<et)&&we(Ft[pt],pt,Ft)!==!1;);return Z}}function tu(M){return function(P,Z,we){for(var et=-1,pt=Uo(P),Ft=we(P),$t=Ft.length;$t--;){var ln=Ft[M?$t:++et];if(Z(pt[ln],ln,pt)===!1)break}return P}}function Qc(M,P,Z){var we=P&Q,et=OA(M);function pt(){var Ft=this&&this!==Ui&&this instanceof pt?et:M;return Ft.apply(we?Z:this,arguments)}return pt}function uA(M){return function(P){P=Na(P);var Z=Dc(P)?ku(P):t,we=Z?Z[0]:P.charAt(0),et=Z?Rs(Z,1).join(""):P.slice(1);return we[M]()+et}}function Za(M){return function(P){return Bd(Y(Qr(P).replace(Ur,"")),M,"")}}function OA(M){return function(){var P=arguments;switch(P.length){case 0:return new M;case 1:return new M(P[0]);case 2:return new M(P[0],P[1]);case 3:return new M(P[0],P[1],P[2]);case 4:return new M(P[0],P[1],P[2],P[3]);case 5:return new M(P[0],P[1],P[2],P[3],P[4]);case 6:return new M(P[0],P[1],P[2],P[3],P[4],P[5]);case 7:return new M(P[0],P[1],P[2],P[3],P[4],P[5],P[6])}var Z=nl(M.prototype),we=M.apply(Z,P);return dl(we)?we:Z}}function tp(M,P,Z){var we=OA(M);function et(){for(var pt=arguments.length,Ft=Cn(pt),$t=pt,ln=Nd(et);$t--;)Ft[$t]=arguments[$t];var qn=pt<3&&Ft[0]!==ln&&Ft[pt-1]!==ln?[]:vA(Ft,ln);if(pt-=qn.length,pt<Z)return ip(M,P,Ta,et.placeholder,t,Ft,qn,t,t,Z-pt);var Zn=this&&this!==Ui&&this instanceof et?we:M;return Cs(Zn,this,Ft)}return et}function IA(M){return function(P,Z,we){var et=Uo(P);if(!ou(P)){var pt=yr(Z,3);P=ae(P),Z=function($t){return pt(et[$t],$t,et)}}var Ft=M(P,Z,we);return Ft>-1?et[pt?P[Ft]:Ft]:t}}function TA(M){return ms(function(P){var Z=P.length,we=Z,et=na.prototype.thru;for(M&&P.reverse();we--;){var pt=P[we];if(typeof pt!="function")throw new fu(s);if(et&&!Ft&&Cf(pt)=="wrapper")var Ft=new na([],!0)}for(we=Ft?we:Z;++we<Z;){pt=P[we];var $t=Cf(pt),ln=$t=="wrapper"?sp(pt):t;ln&&pe(ln[0])&&ln[1]==(W|re|V|he)&&!ln[4].length&&ln[9]==1?Ft=Ft[Cf(ln[0])].apply(Ft,ln[3]):Ft=pt.length==1&&pe(pt)?Ft[$t]():Ft.thru(pt)}return function(){var qn=arguments,Zn=qn[0];if(Ft&&qn.length==1&&$r(Zn))return Ft.plant(Zn).value();for(var ci=0,Wi=Z?P[ci].apply(this,qn):Zn;++ci<Z;)Wi=P[ci].call(this,Wi);return Wi}})}function Ta(M,P,Z,we,et,pt,Ft,$t,ln,qn){var Zn=P&W,ci=P&Q,Wi=P&$,Br=P&(re|ne),so=P&ge,ya=Wi?t:OA(M);function lo(){for(var Pa=arguments.length,Ja=Cn(Pa),Of=Pa;Of--;)Ja[Of]=arguments[Of];if(Br)var vd=Nd(lo),If=kd(Ja,vd);if(we&&(Ja=Bl(Ja,we,et,Br)),pt&&(Ja=Wc(Ja,pt,Ft,Br)),Pa-=If,Br&&Pa<qn){var KA=vA(Ja,vd);return ip(M,P,Ta,lo.placeholder,Z,Ja,KA,$t,ln,qn-Pa)}var im=ci?Z:this,j0=Wi?im[M]:M;return Pa=Ja.length,$t?Ja=_i(Ja,$t):so&&Pa>1&&Ja.reverse(),Zn&&ln<Pa&&(Ja.length=ln),this&&this!==Ui&&this instanceof lo&&(j0=ya||OA(j0)),j0.apply(im,Ja)}return lo}function AA(M,P){return function(Z,we){return ud(Z,M,P(we),{})}}function hd(M,P){return function(Z,we){var et;if(Z===t&&we===t)return P;if(Z!==t&&(et=Z),we!==t){if(et===t)return we;typeof Z=="string"||typeof we=="string"?(Z=wi(Z),we=wi(we)):(Z=kn(Z),we=kn(we)),et=M(Z,we)}return et}}function np(M){return ms(function(P){return P=go(P,hu(yr())),Ct(function(Z){var we=this;return M(P,function(et){return Cs(et,we,Z)})})})}function yf(M,P){P=P===t?" ":wi(P);var Z=P.length;if(Z<2)return Z?Mt(P,M):P;var we=Mt(P,rh(M/fc(P)));return Dc(P)?Rs(ku(we),0,M).join(""):we.slice(0,M)}function Im(M,P,Z,we){var et=P&Q,pt=OA(M);function Ft(){for(var $t=-1,ln=arguments.length,qn=-1,Zn=we.length,ci=Cn(Zn+ln),Wi=this&&this!==Ui&&this instanceof Ft?pt:M;++qn<Zn;)ci[qn]=we[qn];for(;ln--;)ci[qn++]=arguments[++$t];return Cs(Wi,et?Z:this,ci)}return Ft}function bc(M){return function(P,Z,we){return we&&typeof we!="number"&&I(P,Z,we)&&(Z=we=t),P=yd(P),Z===t?(Z=P,P=0):Z=yd(Z),we=we===t?P<Z?1:-1:yd(we),ft(P,Z,we,M)}}function dd(M){return function(P,Z){return typeof P=="string"&&typeof Z=="string"||(P=vh(P),Z=vh(Z)),M(P,Z)}}function ip(M,P,Z,we,et,pt,Ft,$t,ln,qn){var Zn=P&re,ci=Zn?Ft:t,Wi=Zn?t:Ft,Br=Zn?pt:t,so=Zn?t:pt;P|=Zn?V:J,P&=~(Zn?J:V),P&X||(P&=-4);var ya=[M,P,et,Br,ci,so,Wi,$t,ln,qn],lo=Z.apply(t,ya);return pe(M)&&Pi(lo,ya),lo.placeholder=we,to(lo,M,P)}function rp(M){var P=el[M];return function(Z,we){if(Z=vh(Z),we=we==null?0:ha(ao(we),292),we&&id(Z)){var et=(Na(Z)+"e").split("e"),pt=P(et[0]+"e"+(+et[1]+we));return et=(Na(pt)+"e").split("e"),+(et[0]+"e"+(+et[1]-we))}return P(Z)}}var ug=Jr&&1/rA(new Jr([,-0]))[1]==ot?function(M){return new Jr(M)}:ar;function vf(M){return function(P){var Z=cl(P);return Z==It?nh(P):Z==On?Fp(P):Jh(P,M(P))}}function ra(M,P,Z,we,et,pt,Ft,$t){var ln=P&$;if(!ln&&typeof M!="function")throw new fu(s);var qn=we?we.length:0;if(qn||(P&=-97,we=et=t),Ft=Ft===t?Ft:qo(ao(Ft),0),$t=$t===t?$t:ao($t),qn-=et?et.length:0,P&J){var Zn=we,ci=et;we=et=t}var Wi=ln?t:sp(M),Br=[M,P,Z,we,et,Zn,ci,pt,Ft,$t];if(Wi&&Vt(Br,Wi),M=Br[0],P=Br[1],Z=Br[2],we=Br[3],et=Br[4],$t=Br[9]=Br[9]===t?ln?0:M.length:qo(Br[9]-qn,0),!$t&&P&(re|ne)&&(P&=-25),!P||P==Q)var so=Qc(M,P,Z);else P==re||P==ne?so=tp(M,P,$t):(P==V||P==(Q|V))&&!et.length?so=Im(M,P,Z,we):so=Ta.apply(t,Br);var ya=Wi?Ot:Pi;return to(ya(so,Br),M,P)}function Gp(M,P,Z,we){return M===t||ru(M,Du[Z])&&!Yo.call(we,Z)?P:M}function Fh(M,P,Z,we,et,pt){return dl(M)&&dl(P)&&(pt.set(P,M),q(M,P,t,Fh,pt),pt.delete(P)),M}function op(M){return yh(M)?t:M}function cA(M,P,Z,we,et,pt){var Ft=Z&z,$t=M.length,ln=P.length;if($t!=ln&&!(Ft&&ln>$t))return!1;var qn=pt.get(M),Zn=pt.get(P);if(qn&&Zn)return qn==P&&Zn==M;var ci=-1,Wi=!0,Br=Z&N?new Lc:t;for(pt.set(M,P),pt.set(P,M);++ci<$t;){var so=M[ci],ya=P[ci];if(we)var lo=Ft?we(ya,so,ci,P,M,pt):we(so,ya,ci,M,P,pt);if(lo!==t){if(lo)continue;Wi=!1;break}if(Br){if(!Sh(P,function(Pa,Ja){if(!dc(Br,Ja)&&(so===Pa||et(so,Pa,Z,we,pt)))return Br.push(Ja)})){Wi=!1;break}}else if(!(so===ya||et(so,ya,Z,we,pt))){Wi=!1;break}}return pt.delete(M),pt.delete(P),Wi}function jd(M,P,Z,we,et,pt,Ft){switch(Z){case de:if(M.byteLength!=P.byteLength||M.byteOffset!=P.byteOffset)return!1;M=M.buffer,P=P.buffer;case De:return!(M.byteLength!=P.byteLength||!pt(new pc(M),new pc(P)));case je:case Ke:case Yt:return ru(+M,+P);case Ve:return M.name==P.name&&M.message==P.message;case Gn:case Bn:return M==P+"";case It:var $t=nh;case On:var ln=we&z;if($t||($t=rA),M.size!=P.size&&!ln)return!1;var qn=Ft.get(M);if(qn)return qn==P;we|=N,Ft.set(M,P);var Zn=cA($t(M),$t(P),we,et,pt,Ft);return Ft.delete(M),Zn;case Tn:if(Dh)return Dh.call(M)==Dh.call(P)}return!1}function rl(M,P,Z,we,et,pt){var Ft=Z&z,$t=ap(M),ln=$t.length,qn=ap(P),Zn=qn.length;if(ln!=Zn&&!Ft)return!1;for(var ci=ln;ci--;){var Wi=$t[ci];if(!(Ft?Wi in P:Yo.call(P,Wi)))return!1}var Br=pt.get(M),so=pt.get(P);if(Br&&so)return Br==P&&so==M;var ya=!0;pt.set(M,P),pt.set(P,M);for(var lo=Ft;++ci<ln;){Wi=$t[ci];var Pa=M[Wi],Ja=P[Wi];if(we)var Of=Ft?we(Ja,Pa,Wi,P,M,pt):we(Pa,Ja,Wi,M,P,pt);if(!(Of===t?Pa===Ja||et(Pa,Ja,Z,we,pt):Of)){ya=!1;break}lo||(lo=Wi=="constructor")}if(ya&&!lo){var vd=M.constructor,If=P.constructor;vd!=If&&"constructor"in M&&"constructor"in P&&!(typeof vd=="function"&&vd instanceof vd&&typeof If=="function"&&If instanceof If)&&(ya=!1)}return pt.delete(M),pt.delete(P),ya}function ms(M){return Vi(ai(M,t,hl),M+"")}function ap(M){return da(M,ae,nc)}function Wp(M){return da(M,ce,_u)}var sp=sh?function(M){return sh.get(M)}:ar;function Cf(M){for(var P=M.name+"",Z=xA[P],we=Yo.call(xA,P)?Z.length:0;we--;){var et=Z[we],pt=et.func;if(pt==null||pt==M)return et.name}return P}function Nd(M){var P=Yo.call(at,"placeholder")?at:M;return P.placeholder}function yr(){var M=at.iteratee||Fr;return M=M===Fr?k:M,arguments.length?M(arguments[0],arguments[1]):M}function _f(M,P){var Z=M.__data__;return ee(P)?Z[typeof P=="string"?"string":"hash"]:Z.map}function oa(M){for(var P=ae(M),Z=P.length;Z--;){var we=P[Z],et=M[we];P[Z]=[we,et,_t(et)]}return P}function zh(M,P){var Z=ed(M,P);return Jl(Z)?Z:t}function Tm(M){var P=Yo.call(M,ks),Z=M[ks];try{M[ks]=t;var we=!0}catch{}var et=qa.call(M);return we&&(P?M[ks]=Z:delete M[ks]),et}var nc=QA?function(M){return M==null?[]:(M=Uo(M),tA(QA(M),function(P){return Pr.call(M,P)}))}:Ch,_u=QA?function(M){for(var P=[];M;)hc(P,nc(M)),M=Pc(M);return P}:Ch,cl=yo;(ah&&cl(new ah(new ArrayBuffer(1)))!=de||Ma&&cl(new Ma)!=It||Sa&&cl(Sa.resolve())!=Hn||Jr&&cl(new Jr)!=On||pu&&cl(new pu)!=Vn)&&(cl=function(M){var P=yo(M),Z=P==on?M.constructor:t,we=Z?Ms(Z):"";if(we)switch(we){case cf:return de;case _s:return It;case ul:return Hn;case Ys:return On;case hf:return Vn}return P});function km(M,P,Z){for(var we=-1,et=Z.length;++we<et;){var pt=Z[we],Ft=pt.size;switch(pt.type){case"drop":M+=Ft;break;case"dropRight":P-=Ft;break;case"take":P=ha(P,M+Ft);break;case"takeRight":M=qo(M,P-Ft);break}}return{start:M,end:P}}function qs(M){var P=M.match(Zi);return P?P[1].split(_a):[]}function lp(M,P,Z){P=$a(P,M);for(var we=-1,et=P.length,pt=!1;++we<et;){var Ft=Vr(P[we]);if(!(pt=M!=null&&Z(M,Ft)))break;M=M[Ft]}return pt||++we!=et?pt:(et=M==null?0:M.length,!!et&&Cp(et)&&T(Ft,et)&&($r(M)||Yd(M)))}function x0(M){var P=M.length,Z=new M.constructor(P);return P&&typeof M[0]=="string"&&Yo.call(M,"index")&&(Z.index=M.index,Z.input=M.input),Z}function M0(M){return typeof M.constructor=="function"&&!Ge(M)?nl(Pc(M)):{}}function bf(M,P,Z){var we=M.constructor;switch(P){case De:return eu(M);case je:case Ke:return new we(+M);case de:return Lh(M,Z);case oe:case le:case me:case Ie:case Qe:case At:case He:case Re:case Ze:return Gc(M,Z);case It:return new we;case Yt:case Bn:return new we(M);case Gn:return hh(M);case On:return new we;case Tn:return ec(M)}}function d(M,P){var Z=P.length;if(!Z)return M;var we=Z-1;return P[we]=(Z>1?"& ":"")+P[we],P=P.join(Z>2?", ":" "),M.replace(co,`{
/* [wrapped with `+P+`] */
`)}function C(M){return $r(M)||Yd(M)||!!(aA&&M&&M[aA])}function T(M,P){var Z=typeof M;return P=P??mt,!!P&&(Z=="number"||Z!="symbol"&&La.test(M))&&M>-1&&M%1==0&&M<P}function I(M,P,Z){if(!dl(Z))return!1;var we=typeof P;return(we=="number"?ou(Z)&&T(P,Z.length):we=="string"&&P in Z)?ru(Z[P],M):!1}function F(M,P){if($r(M))return!1;var Z=typeof M;return Z=="number"||Z=="symbol"||Z=="boolean"||M==null||hA(M)?!0:ir.test(M)||!$i.test(M)||P!=null&&M in Uo(P)}function ee(M){var P=typeof M;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?M!=="__proto__":M===null}function pe(M){var P=Cf(M),Z=at[P];if(typeof Z!="function"||!(P in Cr.prototype))return!1;if(M===Z)return!0;var we=sp(Z);return!!we&&M===we[0]}function Se(M){return!!nd&&nd in M}var Pe=Ru?jh:nm;function Ge(M){var P=M&&M.constructor,Z=typeof P=="function"&&P.prototype||Du;return M===Z}function _t(M){return M===M&&!dl(M)}function Tt(M,P){return function(Z){return Z==null?!1:Z[M]===P&&(P!==t||M in Uo(Z))}}function en(M){var P=qp(M,function(we){return Z.size===g&&Z.clear(),we}),Z=P.cache;return P}function Vt(M,P){var Z=M[1],we=P[1],et=Z|we,pt=et<(Q|$|W),Ft=we==W&&Z==re||we==W&&Z==he&&M[7].length<=P[8]||we==(W|he)&&P[7].length<=P[8]&&Z==re;if(!(pt||Ft))return M;we&Q&&(M[2]=P[2],et|=Z&Q?0:X);var $t=P[3];if($t){var ln=M[3];M[3]=ln?Bl(ln,$t,P[4]):$t,M[4]=ln?vA(M[3],_):P[4]}return $t=P[5],$t&&(ln=M[5],M[5]=ln?Wc(ln,$t,P[6]):$t,M[6]=ln?vA(M[5],_):P[6]),$t=P[7],$t&&(M[7]=$t),we&W&&(M[8]=M[8]==null?P[8]:ha(M[8],P[8])),M[9]==null&&(M[9]=P[9]),M[0]=P[0],M[1]=et,M}function bn(M){var P=[];if(M!=null)for(var Z in Uo(M))P.push(Z);return P}function Pn(M){return qa.call(M)}function ai(M,P,Z){return P=qo(P===t?M.length-1:P,0),function(){for(var we=arguments,et=-1,pt=qo(we.length-P,0),Ft=Cn(pt);++et<pt;)Ft[et]=we[P+et];et=-1;for(var $t=Cn(P+1);++et<P;)$t[et]=we[et];return $t[P]=Z(Ft),Cs(M,this,$t)}}function gi(M,P){return P.length<2?M:gu(M,Jt(P,0,-1))}function _i(M,P){for(var Z=M.length,we=ha(P.length,Z),et=Mo(M);we--;){var pt=P[we];M[we]=T(pt,Z)?et[pt]:t}return M}function yi(M,P){if(!(P==="constructor"&&typeof M[P]=="function")&&P!="__proto__")return M[P]}var Pi=Er(Ot),ur=Kd||function(M,P){return Ui.setTimeout(M,P)},Vi=Er(Ht);function to(M,P,Z){var we=P+"";return Vi(M,d(we,ws(qs(we),Z)))}function Er(M){var P=0,Z=0;return function(){var we=YA(),et=be-(we-Z);if(Z=we,et>0){if(++P>=Me)return arguments[0]}else P=0;return M.apply(t,arguments)}}function As(M,P){var Z=-1,we=M.length,et=we-1;for(P=P===t?we:P;++Z<P;){var pt=ht(Z,et),Ft=M[pt];M[pt]=M[Z],M[Z]=Ft}return M.length=P,M}var ma=en(function(M){var P=[];return M.charCodeAt(0)===46&&P.push(""),M.replace(Ii,function(Z,we,et,pt){P.push(et?pt.replace(cr,"$1"):we||Z)}),P});function Vr(M){if(typeof M=="string"||hA(M))return M;var P=M+"";return P=="0"&&1/M==-ot?"-0":P}function Ms(M){if(M!=null){try{return Ul.call(M)}catch{}try{return M+""}catch{}}return""}function ws(M,P){return za(Et,function(Z){var we="_."+Z[0];P&Z[1]&&!wh(M,we)&&M.push(we)}),M.sort()}function ga(M){if(M instanceof Cr)return M.clone();var P=new na(M.__wrapped__,M.__chain__);return P.__actions__=Mo(M.__actions__),P.__index__=M.__index__,P.__values__=M.__values__,P}function nu(M,P,Z){(Z?I(M,P,Z):P===t)?P=1:P=qo(ao(P),0);var we=M==null?0:M.length;if(!we||P<1)return[];for(var et=0,pt=0,Ft=Cn(rh(we/P));et<we;)Ft[pt++]=Jt(M,et,et+=P);return Ft}function Ps(M){for(var P=-1,Z=M==null?0:M.length,we=0,et=[];++P<Z;){var pt=M[P];pt&&(et[we++]=pt)}return et}function Hs(){var M=arguments.length;if(!M)return[];for(var P=Cn(M-1),Z=arguments[0],we=M;we--;)P[we-1]=arguments[we];return hc($r(Z)?Mo(Z):[Z],Lr(P,1))}var kr=Ct(function(M,P){return Tl(M)?Lo(M,Lr(P,1,Tl,!0)):[]}),ka=Ct(function(M,P){var Z=DA(P);return Tl(Z)&&(Z=t),Tl(M)?Lo(M,Lr(P,1,Tl,!0),yr(Z,2)):[]}),iu=Ct(function(M,P){var Z=DA(P);return Tl(Z)&&(Z=t),Tl(M)?Lo(M,Lr(P,1,Tl,!0),t,Z):[]});function xc(M,P,Z){var we=M==null?0:M.length;return we?(P=Z||P===t?1:ao(P),Jt(M,P<0?0:P,we)):[]}function bu(M,P,Z){var we=M==null?0:M.length;return we?(P=Z||P===t?1:ao(P),P=we-P,Jt(M,0,P<0?0:P)):[]}function dh(M,P){return M&&M.length?jo(M,yr(P,3),!0,!0):[]}function gs(M,P){return M&&M.length?jo(M,yr(P,3),!0):[]}function kA(M,P,Z,we){var et=M==null?0:M.length;return et?(Z&&typeof Z!="number"&&I(M,P,Z)&&(Z=0,we=et),oo(M,P,Z,we)):[]}function Ol(M,P,Z){var we=M==null?0:M.length;if(!we)return-1;var et=Z==null?0:ao(Z);return et<0&&(et=qo(we+et,0)),nA(M,yr(P,3),et)}function Mc(M,P,Z){var we=M==null?0:M.length;if(!we)return-1;var et=we-1;return Z!==t&&(et=ao(Z),et=Z<0?qo(we+et,0):ha(et,we-1)),nA(M,yr(P,3),et,!0)}function hl(M){var P=M==null?0:M.length;return P?Lr(M,1):[]}function xu(M){var P=M==null?0:M.length;return P?Lr(M,ot):[]}function ic(M,P){var Z=M==null?0:M.length;return Z?(P=P===t?1:ao(P),Lr(M,P)):[]}function fd(M){for(var P=-1,Z=M==null?0:M.length,we={};++P<Z;){var et=M[P];we[et[0]]=et[1]}return we}function xf(M){return M&&M.length?M[0]:t}function u1(M,P,Z){var we=M==null?0:M.length;if(!we)return-1;var et=Z==null?0:ao(Z);return et<0&&(et=qo(we+et,0)),as(M,P,et)}function A1(M){var P=M==null?0:M.length;return P?Jt(M,0,-1):[]}var Gd=Ct(function(M){var P=go(M,Ho);return P.length&&P[0]===M[0]?Va(P):[]}),Qp=Ct(function(M){var P=DA(M),Z=go(M,Ho);return P===DA(Z)?P=t:Z.pop(),Z.length&&Z[0]===M[0]?Va(Z,yr(P,2)):[]}),Dm=Ct(function(M){var P=DA(M),Z=go(M,Ho);return P=typeof P=="function"?P:t,P&&Z.pop(),Z.length&&Z[0]===M[0]?Va(Z,t,P):[]});function w0(M,P){return M==null?"":Lu.call(M,P)}function DA(M){var P=M==null?0:M.length;return P?M[P-1]:t}function Rm(M,P,Z){var we=M==null?0:M.length;if(!we)return-1;var et=we;return Z!==t&&(et=ao(Z),et=et<0?qo(we+et,0):ha(et,we-1)),P===P?Tu(M,P,et):nA(M,Yl,et,!0)}function c1(M,P){return M&&M.length?fe(M,ao(P)):t}var Sy=Ct(up);function up(M,P){return M&&M.length&&P&&P.length?Je(M,P):M}function Pm(M,P,Z){return M&&M.length&&P&&P.length?Je(M,P,yr(Z,2)):M}function Um(M,P,Z){return M&&M.length&&P&&P.length?Je(M,P,t,Z):M}var Ey=ms(function(M,P){var Z=M==null?0:M.length,we=ch(M,P);return ut(M,go(P,function(et){return T(et,Z)?+et:et}).sort(El)),we});function IC(M,P){var Z=[];if(!(M&&M.length))return Z;var we=-1,et=[],pt=M.length;for(P=yr(P,3);++we<pt;){var Ft=M[we];P(Ft,we,M)&&(Z.push(Ft),et.push(we))}return ut(M,et),Z}function Ag(M){return M==null?M:oh.call(M)}function cs(M,P,Z){var we=M==null?0:M.length;return we?(Z&&typeof Z!="number"&&I(M,P,Z)?(P=0,Z=we):(P=P==null?0:ao(P),Z=Z===t?we:ao(Z)),Jt(M,P,Z)):[]}function Vs(M,P){return An(M,P)}function aa(M,P,Z){return $n(M,P,yr(Z,2))}function Vo(M,P){var Z=M==null?0:M.length;if(Z){var we=An(M,P);if(we<Z&&ru(M[we],P))return we}return-1}function hs(M,P){return An(M,P,!0)}function fh(M,P,Z){return $n(M,P,yr(Z,2),!0)}function Ap(M,P){var Z=M==null?0:M.length;if(Z){var we=An(M,P,!0)-1;if(ru(M[we],P))return we}return-1}function Km(M){return M&&M.length?Yn(M):[]}function h1(M,P){return M&&M.length?Yn(M,yr(P,2)):[]}function Mf(M){var P=M==null?0:M.length;return P?Jt(M,1,P):[]}function Il(M,P,Z){return M&&M.length?(P=Z||P===t?1:ao(P),Jt(M,0,P<0?0:P)):[]}function Wd(M,P,Z){var we=M==null?0:M.length;return we?(P=Z||P===t?1:ao(P),P=we-P,Jt(M,P<0?0:P,we)):[]}function cp(M,P){return M&&M.length?jo(M,yr(P,3),!1,!0):[]}function cg(M,P){return M&&M.length?jo(M,yr(P,3)):[]}var ph=Ct(function(M){return fr(Lr(M,1,Tl,!0))}),Lm=Ct(function(M){var P=DA(M);return Tl(P)&&(P=t),fr(Lr(M,1,Tl,!0),yr(P,2))}),hp=Ct(function(M){var P=DA(M);return P=typeof P=="function"?P:t,fr(Lr(M,1,Tl,!0),t,P)});function Yc(M){return M&&M.length?fr(M):[]}function hg(M,P){return M&&M.length?fr(M,yr(P,2)):[]}function d1(M,P){return P=typeof P=="function"?P:t,M&&M.length?fr(M,t,P):[]}function Fm(M){if(!(M&&M.length))return[];var P=0;return M=tA(M,function(Z){if(Tl(Z))return P=qo(Z.length,P),!0}),Bh(P,function(Z){return go(M,Zh(Z))})}function S0(M,P){if(!(M&&M.length))return[];var Z=Fm(M);return P==null?Z:go(Z,function(we){return Cs(P,t,we)})}var wf=Ct(function(M,P){return Tl(M)?Lo(M,P):[]}),RA=Ct(function(M){return pa(tA(M,Tl))}),dp=Ct(function(M){var P=DA(M);return Tl(P)&&(P=t),pa(tA(M,Tl),yr(P,2))}),Qd=Ct(function(M){var P=DA(M);return P=typeof P=="function"?P:t,pa(tA(M,Tl),t,P)}),ol=Ct(Fm);function E0(M,P){return Tr(M||[],P||[],Uh)}function dg(M,P){return Tr(M||[],P||[],zt)}var f1=Ct(function(M){var P=M.length,Z=P>1?M[P-1]:t;return Z=typeof Z=="function"?(M.pop(),Z):t,S0(M,Z)});function fp(M){var P=at(M);return P.__chain__=!0,P}function pp(M,P){return P(M),M}function PA(M,P){return P(M)}var By=ms(function(M){var P=M.length,Z=P?M[0]:0,we=this.__wrapped__,et=function(pt){return ch(pt,M)};return P>1||this.__actions__.length||!(we instanceof Cr)||!T(Z)?this.thru(et):(we=we.slice(Z,+Z+(P?1:0)),we.__actions__.push({func:PA,args:[et],thisArg:t}),new na(we,this.__chain__).thru(function(pt){return P&&!pt.length&&pt.push(t),pt}))});function mh(){return fp(this)}function Oy(){return new na(this.value(),this.__chain__)}function Iy(){this.__values__===t&&(this.__values__=qc(this.value()));var M=this.__index__>=this.__values__.length,P=M?t:this.__values__[this.__index__++];return{done:M,value:P}}function TC(){return this}function mp(M){for(var P,Z=this;Z instanceof Ha;){var we=ga(Z);we.__index__=0,we.__values__=t,P?et.__wrapped__=we:P=we;var et=we;Z=Z.__wrapped__}return et.__wrapped__=M,P}function fg(){var M=this.__wrapped__;if(M instanceof Cr){var P=M;return this.__actions__.length&&(P=new Cr(this)),P=P.reverse(),P.__actions__.push({func:PA,args:[Ag],thisArg:t}),new na(P,this.__chain__)}return this.thru(Ag)}function p1(){return ja(this.__wrapped__,this.__actions__)}var zm=BA(function(M,P,Z){Yo.call(M,Z)?++M[Z]:wA(M,Z,1)});function Ty(M,P,Z){var we=$r(M)?NA:Jf;return Z&&I(M,P,Z)&&(P=t),we(M,yr(P,3))}function ky(M,P){var Z=$r(M)?tA:Fo;return Z(M,yr(P,3))}var Dy=IA(Ol),pg=IA(Mc);function B0(M,P){return Lr(Nm(M,P),1)}function Ry(M,P){return Lr(Nm(M,P),ot)}function gp(M,P,Z){return Z=Z===t?1:ao(Z),Lr(Nm(M,P),Z)}function jm(M,P){var Z=$r(M)?za:Zl;return Z(M,yr(P,3))}function yp(M,P){var Z=$r(M)?Ed:sd;return Z(M,yr(P,3))}var O0=BA(function(M,P,Z){Yo.call(M,Z)?M[Z].push(P):wA(M,Z,[P])});function Sf(M,P,Z,we){M=ou(M)?M:Ai(M),Z=Z&&!we?ao(Z):0;var et=M.length;return Z<0&&(Z=qo(et+Z,0)),Xp(M)?Z<=et&&M.indexOf(P,Z)>-1:!!et&&as(M,P,Z)>-1}var mg=Ct(function(M,P,Z){var we=-1,et=typeof P=="function",pt=ou(M)?Cn(M.length):[];return Zl(M,function(Ft){pt[++we]=et?Cs(P,Ft,Z):EA(Ft,P,Z)}),pt}),Py=BA(function(M,P,Z){wA(M,Z,P)});function Nm(M,P){var Z=$r(M)?go:S;return Z(M,yr(P,3))}function m1(M,P,Z,we){return M==null?[]:($r(P)||(P=P==null?[]:[P]),Z=we?t:Z,$r(Z)||(Z=Z==null?[]:[Z]),ye(M,P,Z))}var Uy=BA(function(M,P,Z){M[Z?0:1].push(P)},function(){return[[],[]]});function g1(M,P,Z){var we=$r(M)?Bd:Xh,et=arguments.length<3;return we(M,yr(P,4),Z,et,Zl)}function y1(M,P,Z){var we=$r(M)?Bm:Xh,et=arguments.length<3;return we(M,yr(P,4),Z,et,sd)}function Gm(M,P){var Z=$r(M)?tA:Fo;return Z(M,Hp(yr(P,3)))}function gg(M){var P=$r(M)?MA:St;return P(M)}function Ky(M,P,Z){(Z?I(M,P,Z):P===t)?P=1:P=ao(P);var we=$r(M)?mf:Pt;return we(M,P)}function Ss(M){var P=$r(M)?ro:fn;return P(M)}function v1(M){if(M==null)return 0;if(ou(M))return Xp(M)?fc(M):M.length;var P=cl(M);return P==It||P==On?M.size:l(M).length}function kC(M,P,Z){var we=$r(M)?Sh:rn;return Z&&I(M,P,Z)&&(P=t),we(M,yr(P,3))}var Ly=Ct(function(M,P){if(M==null)return[];var Z=P.length;return Z>1&&I(M,P[0],P[1])?P=[]:Z>2&&I(P[0],P[1],P[2])&&(P=[P[0]]),ye(M,Lr(P,1),[])}),yg=bA||function(){return Ui.Date.now()};function DC(M,P){if(typeof P!="function")throw new fu(s);return M=ao(M),function(){if(--M<1)return P.apply(this,arguments)}}function C1(M,P,Z){return P=Z?t:P,P=M&&P==null?M.length:P,ra(M,W,t,t,t,t,P)}function Wm(M,P){var Z;if(typeof P!="function")throw new fu(s);return M=ao(M),function(){return--M>0&&(Z=P.apply(this,arguments)),M<=1&&(P=t),Z}}var rc=Ct(function(M,P,Z){var we=Q;if(Z.length){var et=vA(Z,Nd(rc));we|=V}return ra(M,we,P,Z,et)}),pd=Ct(function(M,P,Z){var we=Q|$;if(Z.length){var et=vA(Z,Nd(pd));we|=V}return ra(P,we,M,Z,et)});function Qm(M,P,Z){P=Z?t:P;var we=ra(M,re,t,t,t,t,t,P);return we.placeholder=Qm.placeholder,we}function Ym(M,P,Z){P=Z?t:P;var we=ra(M,ne,t,t,t,t,t,P);return we.placeholder=Ym.placeholder,we}function vp(M,P,Z){var we,et,pt,Ft,$t,ln,qn=0,Zn=!1,ci=!1,Wi=!0;if(typeof M!="function")throw new fu(s);P=vh(P)||0,dl(Z)&&(Zn=!!Z.leading,ci="maxWait"in Z,pt=ci?qo(vh(Z.maxWait)||0,P):pt,Wi="trailing"in Z?!!Z.trailing:Wi);function Br(KA){var im=we,j0=et;return we=et=t,qn=KA,Ft=M.apply(j0,im),Ft}function so(KA){return qn=KA,$t=ur(Pa,P),Zn?Br(KA):Ft}function ya(KA){var im=KA-ln,j0=KA-qn,PI=P-im;return ci?ha(PI,pt-j0):PI}function lo(KA){var im=KA-ln,j0=KA-qn;return ln===t||im>=P||im<0||ci&&j0>=pt}function Pa(){var KA=yg();if(lo(KA))return Ja(KA);$t=ur(Pa,ya(KA))}function Ja(KA){return $t=t,Wi&&we?Br(KA):(we=et=t,Ft)}function Of(){$t!==t&&JA($t),qn=0,we=ln=et=$t=t}function vd(){return $t===t?Ft:Ja(yg())}function If(){var KA=yg(),im=lo(KA);if(we=arguments,et=this,ln=KA,im){if($t===t)return so(ln);if(ci)return JA($t),$t=ur(Pa,P),Br(ln)}return $t===t&&($t=ur(Pa,P)),Ft}return If.cancel=Of,If.flush=vd,If}var gh=Ct(function(M,P){return $l(M,1,P)}),Yp=Ct(function(M,P,Z){return $l(M,vh(P)||0,Z)});function RC(M){return ra(M,ge)}function qp(M,P){if(typeof M!="function"||P!=null&&typeof P!="function")throw new fu(s);var Z=function(){var we=arguments,et=P?P.apply(this,we):we[0],pt=Z.cache;if(pt.has(et))return pt.get(et);var Ft=M.apply(this,we);return Z.cache=pt.set(et,Ft)||pt,Ft};return Z.cache=new(qp.Cache||ss),Z}qp.Cache=ss;function Hp(M){if(typeof M!="function")throw new fu(s);return function(){var P=arguments;switch(P.length){case 0:return!M.call(this);case 1:return!M.call(this,P[0]);case 2:return!M.call(this,P[0],P[1]);case 3:return!M.call(this,P[0],P[1],P[2])}return!M.apply(this,P)}}function Vp(M){return Wm(2,M)}var _1=Ds(function(M,P){P=P.length==1&&$r(P[0])?go(P[0],hu(yr())):go(Lr(P,1),hu(yr()));var Z=P.length;return Ct(function(we){for(var et=-1,pt=ha(we.length,Z);++et<pt;)we[et]=P[et].call(this,we[et]);return Cs(M,this,we)})}),vg=Ct(function(M,P){var Z=vA(P,Nd(vg));return ra(M,V,t,P,Z)}),qm=Ct(function(M,P){var Z=vA(P,Nd(qm));return ra(M,J,t,P,Z)}),b1=ms(function(M,P){return ra(M,he,t,t,t,P)});function I0(M,P){if(typeof M!="function")throw new fu(s);return P=P===t?P:ao(P),Ct(M,P)}function Fy(M,P){if(typeof M!="function")throw new fu(s);return P=P==null?0:qo(ao(P),0),Ct(function(Z){var we=Z[P],et=Rs(Z,0,P);return we&&hc(et,we),Cs(M,this,et)})}function x1(M,P,Z){var we=!0,et=!0;if(typeof M!="function")throw new fu(s);return dl(Z)&&(we="leading"in Z?!!Z.leading:we,et="trailing"in Z?!!Z.trailing:et),vp(M,P,{leading:we,maxWait:P,trailing:et})}function M1(M){return C1(M,1)}function zy(M,P){return vg(us(P),M)}function PC(){if(!arguments.length)return[];var M=arguments[0];return $r(M)?M:[M]}function T0(M){return Sl(M,B)}function UC(M,P){return P=typeof P=="function"?P:t,Sl(M,B,P)}function jy(M){return Sl(M,E|B)}function sa(M,P){return P=typeof P=="function"?P:t,Sl(M,E|B,P)}function k0(M,P){return P==null||gf(M,P,ae(P))}function ru(M,P){return M===P||M!==M&&P!==P}var Cg=dd(Xl),w1=dd(function(M,P){return M>=P}),Yd=jc(function(){return arguments}())?jc:function(M){return fl(M)&&Yo.call(M,"callee")&&!Pr.call(M,"callee")},$r=Cn.isArray,D0=po?hu(po):il;function ou(M){return M!=null&&Cp(M.length)&&!jh(M)}function Tl(M){return fl(M)&&ou(M)}function R0(M){return M===!0||M===!1||fl(M)&&yo(M)==je}var Ef=kh||nm,_g=Qo?hu(Qo):ls;function S1(M){return fl(M)&&M.nodeType===1&&!yh(M)}function oc(M){if(M==null)return!0;if(ou(M)&&($r(M)||typeof M=="string"||typeof M.splice=="function"||Ef(M)||Hm(M)||Yd(M)))return!M.length;var P=cl(M);if(P==It||P==On)return!M.size;if(Ge(M))return!l(M).length;for(var Z in M)if(Yo.call(M,Z))return!1;return!0}function Da(M,P){return yu(M,P)}function $p(M,P,Z){Z=typeof Z=="function"?Z:t;var we=Z?Z(M,P):t;return we===t?yu(M,P,t,Z):!!we}function al(M){if(!fl(M))return!1;var P=yo(M);return P==Ve||P==Ue||typeof M.message=="string"&&typeof M.name=="string"&&!yh(M)}function Ny(M){return typeof M=="number"&&id(M)}function jh(M){if(!dl(M))return!1;var P=yo(M);return P==bt||P==vt||P==Kt||P==Wt}function P0(M){return typeof M=="number"&&M==ao(M)}function Cp(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=mt}function dl(M){var P=typeof M;return M!=null&&(P=="object"||P=="function")}function fl(M){return M!=null&&typeof M=="object"}var md=Gr?hu(Gr):vc;function bg(M,P){return M===P||Cc(M,P,oa(P))}function Gy(M,P,Z){return Z=typeof Z=="function"?Z:t,Cc(M,P,oa(P),Z)}function E1(M){return B1(M)&&M!=+M}function Wy(M){if(Pe(M))throw new Or(o);return Jl(M)}function Qy(M){return M===null}function KC(M){return M==null}function B1(M){return typeof M=="number"||fl(M)&&yo(M)==Yt}function yh(M){if(!fl(M)||yo(M)!=on)return!1;var P=Pc(M);if(P===null)return!0;var Z=Yo.call(P,"constructor")&&P.constructor;return typeof Z=="function"&&Z instanceof Z&&Ul.call(Z)==tl}var Zp=Js?hu(Js):Ad;function xg(M){return P0(M)&&M>=-mt&&M<=mt}var U0=Ql?hu(Ql):cd;function Xp(M){return typeof M=="string"||!$r(M)&&fl(M)&&yo(M)==Bn}function hA(M){return typeof M=="symbol"||fl(M)&&yo(M)==Tn}var Hm=eA?hu(eA):zd;function gd(M){return M===t}function O1(M){return fl(M)&&cl(M)==Vn}function Jp(M){return fl(M)&&yo(M)==Lt}var Gu=dd(b),em=dd(function(M,P){return M<=P});function qc(M){if(!M)return[];if(ou(M))return Xp(M)?ku(M):Mo(M);if(Uc&&M[Uc])return Om(M[Uc]());var P=cl(M),Z=P==It?nh:P==On?rA:Ai;return Z(M)}function yd(M){if(!M)return M===0?M:0;if(M=vh(M),M===ot||M===-ot){var P=M<0?-1:1;return P*it}return M===M?M:0}function ao(M){var P=yd(M),Z=P%1;return P===P?Z?P-Z:P:0}function qd(M){return M?lA(ao(M),0,We):0}function vh(M){if(typeof M=="number")return M;if(hA(M))return ue;if(dl(M)){var P=typeof M.valueOf=="function"?M.valueOf():M;M=dl(P)?P+"":P}if(typeof M!="string")return M===0?M:+M;M=Vf(M);var Z=Rr.test(M);return Z||bl.test(M)?ei(M.slice(2),Z?2:8):Wa.test(M)?ue:+M}function I1(M){return ia(M,ce(M))}function Vm(M){return M?lA(ao(M),-mt,mt):M===0?M:0}function Na(M){return M==null?"":wi(M)}var T1=Cu(function(M,P){if(Ge(P)||ou(P)){ia(P,ae(P),M);return}for(var Z in P)Yo.call(P,Z)&&Uh(M,Z,P[Z])}),Mg=Cu(function(M,P){ia(P,ce(P),M)}),K0=Cu(function(M,P,Z,we){ia(P,ce(P),M,we)}),L0=Cu(function(M,P,Z,we){ia(P,ae(P),M,we)}),k1=ms(ch);function Yy(M,P){var Z=nl(M);return P==null?Z:yc(Z,P)}var D1=Ct(function(M,P){M=Uo(M);var Z=-1,we=P.length,et=we>2?P[2]:t;for(et&&I(P[0],P[1],et)&&(we=1);++Z<we;)for(var pt=P[Z],Ft=ce(pt),$t=-1,ln=Ft.length;++$t<ln;){var qn=Ft[$t],Zn=M[qn];(Zn===t||ru(Zn,Du[qn])&&!Yo.call(M,qn))&&(M[qn]=pt[qn])}return M}),F0=Ct(function(M){return M.push(t,Fh),Cs($e,t,M)});function Hd(M,P){return qf(M,yr(P,3),Ri)}function tm(M,P){return qf(M,yr(P,3),zc)}function wg(M,P){return M==null?M:XA(M,yr(P,3),ce)}function R1(M,P){return M==null?M:ki(M,yr(P,3),ce)}function $m(M,P){return M&&Ri(M,yr(P,3))}function h(M,P){return M&&zc(M,yr(P,3))}function u(M){return M==null?[]:ju(M,ae(M))}function c(M){return M==null?[]:ju(M,ce(M))}function v(M,P,Z){var we=M==null?t:gu(M,P);return we===t?Z:we}function w(M,P){return M!=null&&lp(M,P,ep)}function U(M,P){return M!=null&&lp(M,P,ld)}var K=AA(function(M,P,Z){P!=null&&typeof P.toString!="function"&&(P=qa.call(P)),M[P]=Z},dn(pn)),G=AA(function(M,P,Z){P!=null&&typeof P.toString!="function"&&(P=qa.call(P)),Yo.call(M,P)?M[P].push(Z):M[P]=[Z]},yr),H=Ct(EA);function ae(M){return ou(M)?Fc(M):l(M)}function ce(M){return ou(M)?Fc(M,!0):f(M)}function xe(M,P){var Z={};return P=yr(P,3),Ri(M,function(we,et,pt){wA(Z,P(we,et,pt),we)}),Z}function Le(M,P){var Z={};return P=yr(P,3),Ri(M,function(we,et,pt){wA(Z,et,P(we,et,pt))}),Z}var qe=Cu(function(M,P,Z){q(M,P,Z)}),$e=Cu(function(M,P,Z,we){q(M,P,Z,we)}),nt=ms(function(M,P){var Z={};if(M==null)return Z;var we=!1;P=go(P,function(pt){return pt=$a(pt,M),we||(we=pt.length>1),pt}),ia(M,Wp(M),Z),we&&(Z=Sl(Z,E|O|B,op));for(var et=P.length;et--;)xo(Z,P[et]);return Z});function ct(M,P){return qt(M,Hp(yr(P)))}var wt=ms(function(M,P){return M==null?{}:Oe(M,P)});function qt(M,P){if(M==null)return{};var Z=go(Wp(M),function(we){return[we]});return P=yr(P),Ee(M,Z,function(we,et){return P(we,et[0])})}function Dt(M,P,Z){P=$a(P,M);var we=-1,et=P.length;for(et||(et=1,M=t);++we<et;){var pt=M==null?t:M[Vr(P[we])];pt===t&&(we=et,pt=Z),M=jh(pt)?pt.call(M):pt}return M}function Nt(M,P,Z){return M==null?M:zt(M,P,Z)}function un(M,P,Z,we){return we=typeof we=="function"?we:t,M==null?M:zt(M,P,Z,we)}var _n=vf(ae),Kn=vf(ce);function mi(M,P,Z){var we=$r(M),et=we||Ef(M)||Hm(M);if(P=yr(P,4),Z==null){var pt=M&&M.constructor;et?Z=we?new pt:[]:dl(M)?Z=jh(pt)?nl(Pc(M)):{}:Z={}}return(et?za:Ri)(M,function(Ft,$t,ln){return P(Z,Ft,$t,ln)}),Z}function si(M,P){return M==null?!0:xo(M,P)}function fi(M,P,Z){return M==null?M:fa(M,P,us(Z))}function rr(M,P,Z,we){return we=typeof we=="function"?we:t,M==null?M:fa(M,P,us(Z),we)}function Ai(M){return M==null?[]:$f(M,ae(M))}function pi(M){return M==null?[]:$f(M,ce(M))}function In(M,P,Z){return Z===t&&(Z=P,P=t),Z!==t&&(Z=vh(Z),Z=Z===Z?Z:0),P!==t&&(P=vh(P),P=P===P?P:0),lA(vh(M),P,Z)}function gr(M,P,Z){return P=yd(P),Z===t?(Z=P,P=0):Z=yd(Z),M=vh(M),zo(M,P,Z)}function Ir(M,P,Z){if(Z&&typeof Z!="boolean"&&I(M,P,Z)&&(P=Z=t),Z===t&&(typeof P=="boolean"?(Z=P,P=t):typeof M=="boolean"&&(Z=M,M=t)),M===t&&P===t?(M=0,P=1):(M=yd(M),P===t?(P=M,M=0):P=yd(P)),M>P){var we=M;M=P,P=we}if(Z||M%1||P%1){var et=Kc();return ha(M+et*(P-M+Bi("1e-"+((et+"").length-1))),P)}return ht(M,P)}var Ar=Za(function(M,P,Z){return P=P.toLowerCase(),M+(Z?Fi(P):P)});function Fi(M){return D(Na(M).toLowerCase())}function Qr(M){return M=Na(M),M&&M.replace(Bo,Dd).replace(cu,"")}function Ga(M,P,Z){M=Na(M),P=wi(P);var we=M.length;Z=Z===t?we:lA(ao(Z),0,we);var et=Z;return Z-=P.length,Z>=0&&M.slice(Z,et)==P}function Es(M){return M=Na(M),M&&Rn.test(M)?M.replace(rt,GA):M}function Ll(M){return M=Na(M),M&&ti.test(M)?M.replace(di,"\\$&"):M}var UA=Za(function(M,P,Z){return M+(Z?"-":"")+P.toLowerCase()}),Fl=Za(function(M,P,Z){return M+(Z?" ":"")+P.toLowerCase()}),Wu=uA("toLowerCase");function Us(M,P,Z){M=Na(M),P=ao(P);var we=P?fc(M):0;if(!P||we>=P)return M;var et=(P-we)/2;return yf(Ku(et),Z)+M+yf(rh(et),Z)}function pl(M,P,Z){M=Na(M),P=ao(P);var we=P?fc(M):0;return P&&we<P?M+yf(P-we,Z):M}function Qu(M,P,Z){M=Na(M),P=ao(P);var we=P?fc(M):0;return P&&we<P?yf(P-we,Z)+M:M}function Mu(M,P,Z){return Z||P==null?P=0:P&&(P=+P),qA(Na(M).replace(qi,""),P||0)}function Yu(M,P,Z){return(Z?I(M,P,Z):P===t)?P=1:P=ao(P),Mt(Na(M),P)}function Hc(){var M=arguments,P=Na(M[0]);return M.length<3?P:P.replace(M[1],M[2])}var wu=Za(function(M,P,Z){return M+(Z?"_":"")+P.toLowerCase()});function dA(M,P,Z){return Z&&typeof Z!="number"&&I(M,P,Z)&&(P=Z=t),Z=Z===t?We:Z>>>0,Z?(M=Na(M),M&&(typeof P=="string"||P!=null&&!Zp(P))&&(P=wi(P),!P&&Dc(M))?Rs(ku(M),0,Z):M.split(P,Z)):[]}var ml=Za(function(M,P,Z){return M+(Z?" ":"")+D(P)});function au(M,P,Z){return M=Na(M),Z=Z==null?0:lA(ao(Z),0,M.length),P=wi(P),M.slice(Z,Z+P.length)==P}function gl(M,P,Z){var we=at.templateSettings;Z&&I(M,P,Z)&&(P=t),M=Na(M),P=K0({},P,we,Gp);var et=K0({},P.imports,we.imports,Gp),pt=ae(et),Ft=$f(et,pt),$t,ln,qn=0,Zn=P.interpolate||rs,ci="__p += '",Wi=ih((P.escape||rs).source+"|"+Zn.source+"|"+(Zn===Qn?Ni:rs).source+"|"+(P.evaluate||rs).source+"|$","g"),Br="//# sourceURL="+(Yo.call(P,"sourceURL")?(P.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++er+"]")+`
`;M.replace(Wi,function(lo,Pa,Ja,Of,vd,If){return Ja||(Ja=Of),ci+=M.slice(qn,If).replace(Pl,iA),Pa&&($t=!0,ci+=`' +
__e(`+Pa+`) +
'`),vd&&(ln=!0,ci+=`';
`+vd+`;
__p += '`),Ja&&(ci+=`' +
((__t = (`+Ja+`)) == null ? '' : __t) +
'`),qn=If+lo.length,lo}),ci+=`';
`;var so=Yo.call(P,"variable")&&P.variable;if(!so)ci=`with (obj) {
`+ci+`
}
`;else if(Jn.test(so))throw new Or(a);ci=(ln?ci.replace(y,""):ci).replace(yt,"$1").replace(dt,"$1;"),ci="function("+(so||"obj")+`) {
`+(so?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($t?", __e = _.escape":"")+(ln?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ci+`return __p
}`;var ya=se(function(){return ko(pt,Br+"return "+ci).apply(t,Ft)});if(ya.source=ci,al(ya))throw ya;return ya}function yl(M){return Na(M).toLowerCase()}function Xa(M){return Na(M).toUpperCase()}function Nh(M,P,Z){if(M=Na(M),M&&(Z||P===t))return Vf(M);if(!M||!(P=wi(P)))return M;var we=ku(M),et=ku(P),pt=du(we,et),Ft=kc(we,et)+1;return Rs(we,pt,Ft).join("")}function Zm(M,P,Z){if(M=Na(M),M&&(Z||P===t))return M.slice(0,WA(M)+1);if(!M||!(P=wi(P)))return M;var we=ku(M),et=kc(we,ku(P))+1;return Rs(we,0,et).join("")}function Vc(M,P,Z){if(M=Na(M),M&&(Z||P===t))return M.replace(qi,"");if(!M||!(P=wi(P)))return M;var we=ku(M),et=du(we,ku(P));return Rs(we,et).join("")}function A(M,P){var Z=ve,we=_e;if(dl(P)){var et="separator"in P?P.separator:et;Z="length"in P?ao(P.length):Z,we="omission"in P?wi(P.omission):we}M=Na(M);var pt=M.length;if(Dc(M)){var Ft=ku(M);pt=Ft.length}if(Z>=pt)return M;var $t=Z-fc(we);if($t<1)return we;var ln=Ft?Rs(Ft,0,$t).join(""):M.slice(0,$t);if(et===t)return ln+we;if(Ft&&($t+=ln.length-$t),Zp(et)){if(M.slice($t).search(et)){var qn,Zn=ln;for(et.global||(et=ih(et.source,Na(br.exec(et))+"g")),et.lastIndex=0;qn=et.exec(Zn);)var ci=qn.index;ln=ln.slice(0,ci===t?$t:ci)}}else if(M.indexOf(wi(et),$t)!=$t){var Wi=ln.lastIndexOf(et);Wi>-1&&(ln=ln.slice(0,Wi))}return ln+we}function m(M){return M=Na(M),M&&tn.test(M)?M.replace(kt,To):M}var x=Za(function(M,P,Z){return M+(Z?" ":"")+P.toUpperCase()}),D=uA("toUpperCase");function Y(M,P,Z){return M=Na(M),P=Z?t:P,P===t?td(M)?zp(M):Yf(M):M.match(P)||[]}var se=Ct(function(M,P){try{return Cs(M,t,P)}catch(Z){return al(Z)?Z:new Or(Z)}}),Ye=ms(function(M,P){return za(P,function(Z){Z=Vr(Z),wA(M,Z,rc(M[Z],M))}),M});function st(M){var P=M==null?0:M.length,Z=yr();return M=P?go(M,function(we){if(typeof we[1]!="function")throw new fu(s);return[Z(we[0]),we[1]]}):[],Ct(function(we){for(var et=-1;++et<P;){var pt=M[et];if(Cs(pt[0],this,we))return Cs(pt[1],this,we)}})}function jt(M){return Np(Sl(M,E))}function dn(M){return function(){return M}}function Dn(M,P){return M==null||M!==M?P:M}var Nn=TA(),mn=TA(!0);function pn(M){return M}function Fr(M){return k(typeof M=="function"?M:Sl(M,E))}function zr(M){return R(Sl(M,E))}function Bs(M,P){return j(M,Sl(P,E))}var nn=Ct(function(M,P){return function(Z){return EA(Z,M,P)}}),Zt=Ct(function(M,P){return function(Z){return EA(M,Z,P)}});function cn(M,P,Z){var we=ae(P),et=ju(P,we);Z==null&&!(dl(P)&&(et.length||!we.length))&&(Z=P,P=M,M=this,et=ju(P,ae(P)));var pt=!(dl(Z)&&"chain"in Z)||!!Z.chain,Ft=jh(M);return za(et,function($t){var ln=P[$t];M[$t]=ln,Ft&&(M.prototype[$t]=function(){var qn=this.__chain__;if(pt||qn){var Zn=M(this.__wrapped__),ci=Zn.__actions__=Mo(this.__actions__);return ci.push({func:ln,args:arguments,thisArg:M}),Zn.__chain__=qn,Zn}return ln.apply(M,hc([this.value()],arguments))})}),M}function Ln(){return Ui._===this&&(Ui._=Ts),this}function ar(){}function $o(M){return M=ao(M),Ct(function(P){return fe(P,M)})}var or=np(go),Dr=np(NA),qu=np(Sh);function Ra(M){return F(M)?Zh(Vr(M)):Ne(M)}function _p(M){return function(P){return M==null?t:gu(M,P)}}var LC=bc(),wc=bc(!0);function Ch(){return[]}function nm(){return!1}function Bf(){return{}}function z0(){return""}function bp(){return!0}function MY(M,P){if(M=ao(M),M<1||M>mt)return[];var Z=We,we=ha(M,We);P=yr(P),M-=We;for(var et=Bh(we,P);++Z<M;)P(Z);return et}function wY(M){return $r(M)?go(M,Vr):hA(M)?[M]:Mo(ma(Na(M)))}function SY(M){var P=++_A;return Na(M)+P}var EY=hd(function(M,P){return M+P},0),BY=rp("ceil"),OY=hd(function(M,P){return M/P},1),IY=rp("floor");function TY(M){return M&&M.length?SA(M,pn,Xl):t}function kY(M,P){return M&&M.length?SA(M,yr(P,2),Xl):t}function DY(M){return Td(M,pn)}function RY(M,P){return Td(M,yr(P,2))}function PY(M){return M&&M.length?SA(M,pn,b):t}function UY(M,P){return M&&M.length?SA(M,yr(P,2),b):t}var KY=hd(function(M,P){return M*P},1),LY=rp("round"),FY=hd(function(M,P){return M-P},0);function zY(M){return M&&M.length?Eh(M,pn):0}function jY(M,P){return M&&M.length?Eh(M,yr(P,2)):0}return at.after=DC,at.ary=C1,at.assign=T1,at.assignIn=Mg,at.assignInWith=K0,at.assignWith=L0,at.at=k1,at.before=Wm,at.bind=rc,at.bindAll=Ye,at.bindKey=pd,at.castArray=PC,at.chain=fp,at.chunk=nu,at.compact=Ps,at.concat=Hs,at.cond=st,at.conforms=jt,at.constant=dn,at.countBy=zm,at.create=Yy,at.curry=Qm,at.curryRight=Ym,at.debounce=vp,at.defaults=D1,at.defaultsDeep=F0,at.defer=gh,at.delay=Yp,at.difference=kr,at.differenceBy=ka,at.differenceWith=iu,at.drop=xc,at.dropRight=bu,at.dropRightWhile=dh,at.dropWhile=gs,at.fill=kA,at.filter=ky,at.flatMap=B0,at.flatMapDeep=Ry,at.flatMapDepth=gp,at.flatten=hl,at.flattenDeep=xu,at.flattenDepth=ic,at.flip=RC,at.flow=Nn,at.flowRight=mn,at.fromPairs=fd,at.functions=u,at.functionsIn=c,at.groupBy=O0,at.initial=A1,at.intersection=Gd,at.intersectionBy=Qp,at.intersectionWith=Dm,at.invert=K,at.invertBy=G,at.invokeMap=mg,at.iteratee=Fr,at.keyBy=Py,at.keys=ae,at.keysIn=ce,at.map=Nm,at.mapKeys=xe,at.mapValues=Le,at.matches=zr,at.matchesProperty=Bs,at.memoize=qp,at.merge=qe,at.mergeWith=$e,at.method=nn,at.methodOf=Zt,at.mixin=cn,at.negate=Hp,at.nthArg=$o,at.omit=nt,at.omitBy=ct,at.once=Vp,at.orderBy=m1,at.over=or,at.overArgs=_1,at.overEvery=Dr,at.overSome=qu,at.partial=vg,at.partialRight=qm,at.partition=Uy,at.pick=wt,at.pickBy=qt,at.property=Ra,at.propertyOf=_p,at.pull=Sy,at.pullAll=up,at.pullAllBy=Pm,at.pullAllWith=Um,at.pullAt=Ey,at.range=LC,at.rangeRight=wc,at.rearg=b1,at.reject=Gm,at.remove=IC,at.rest=I0,at.reverse=Ag,at.sampleSize=Ky,at.set=Nt,at.setWith=un,at.shuffle=Ss,at.slice=cs,at.sortBy=Ly,at.sortedUniq=Km,at.sortedUniqBy=h1,at.split=dA,at.spread=Fy,at.tail=Mf,at.take=Il,at.takeRight=Wd,at.takeRightWhile=cp,at.takeWhile=cg,at.tap=pp,at.throttle=x1,at.thru=PA,at.toArray=qc,at.toPairs=_n,at.toPairsIn=Kn,at.toPath=wY,at.toPlainObject=I1,at.transform=mi,at.unary=M1,at.union=ph,at.unionBy=Lm,at.unionWith=hp,at.uniq=Yc,at.uniqBy=hg,at.uniqWith=d1,at.unset=si,at.unzip=Fm,at.unzipWith=S0,at.update=fi,at.updateWith=rr,at.values=Ai,at.valuesIn=pi,at.without=wf,at.words=Y,at.wrap=zy,at.xor=RA,at.xorBy=dp,at.xorWith=Qd,at.zip=ol,at.zipObject=E0,at.zipObjectDeep=dg,at.zipWith=f1,at.entries=_n,at.entriesIn=Kn,at.extend=Mg,at.extendWith=K0,cn(at,at),at.add=EY,at.attempt=se,at.camelCase=Ar,at.capitalize=Fi,at.ceil=BY,at.clamp=In,at.clone=T0,at.cloneDeep=jy,at.cloneDeepWith=sa,at.cloneWith=UC,at.conformsTo=k0,at.deburr=Qr,at.defaultTo=Dn,at.divide=OY,at.endsWith=Ga,at.eq=ru,at.escape=Es,at.escapeRegExp=Ll,at.every=Ty,at.find=Dy,at.findIndex=Ol,at.findKey=Hd,at.findLast=pg,at.findLastIndex=Mc,at.findLastKey=tm,at.floor=IY,at.forEach=jm,at.forEachRight=yp,at.forIn=wg,at.forInRight=R1,at.forOwn=$m,at.forOwnRight=h,at.get=v,at.gt=Cg,at.gte=w1,at.has=w,at.hasIn=U,at.head=xf,at.identity=pn,at.includes=Sf,at.indexOf=u1,at.inRange=gr,at.invoke=H,at.isArguments=Yd,at.isArray=$r,at.isArrayBuffer=D0,at.isArrayLike=ou,at.isArrayLikeObject=Tl,at.isBoolean=R0,at.isBuffer=Ef,at.isDate=_g,at.isElement=S1,at.isEmpty=oc,at.isEqual=Da,at.isEqualWith=$p,at.isError=al,at.isFinite=Ny,at.isFunction=jh,at.isInteger=P0,at.isLength=Cp,at.isMap=md,at.isMatch=bg,at.isMatchWith=Gy,at.isNaN=E1,at.isNative=Wy,at.isNil=KC,at.isNull=Qy,at.isNumber=B1,at.isObject=dl,at.isObjectLike=fl,at.isPlainObject=yh,at.isRegExp=Zp,at.isSafeInteger=xg,at.isSet=U0,at.isString=Xp,at.isSymbol=hA,at.isTypedArray=Hm,at.isUndefined=gd,at.isWeakMap=O1,at.isWeakSet=Jp,at.join=w0,at.kebabCase=UA,at.last=DA,at.lastIndexOf=Rm,at.lowerCase=Fl,at.lowerFirst=Wu,at.lt=Gu,at.lte=em,at.max=TY,at.maxBy=kY,at.mean=DY,at.meanBy=RY,at.min=PY,at.minBy=UY,at.stubArray=Ch,at.stubFalse=nm,at.stubObject=Bf,at.stubString=z0,at.stubTrue=bp,at.multiply=KY,at.nth=c1,at.noConflict=Ln,at.noop=ar,at.now=yg,at.pad=Us,at.padEnd=pl,at.padStart=Qu,at.parseInt=Mu,at.random=Ir,at.reduce=g1,at.reduceRight=y1,at.repeat=Yu,at.replace=Hc,at.result=Dt,at.round=LY,at.runInContext=Xt,at.sample=gg,at.size=v1,at.snakeCase=wu,at.some=kC,at.sortedIndex=Vs,at.sortedIndexBy=aa,at.sortedIndexOf=Vo,at.sortedLastIndex=hs,at.sortedLastIndexBy=fh,at.sortedLastIndexOf=Ap,at.startCase=ml,at.startsWith=au,at.subtract=FY,at.sum=zY,at.sumBy=jY,at.template=gl,at.times=MY,at.toFinite=yd,at.toInteger=ao,at.toLength=qd,at.toLower=yl,at.toNumber=vh,at.toSafeInteger=Vm,at.toString=Na,at.toUpper=Xa,at.trim=Nh,at.trimEnd=Zm,at.trimStart=Vc,at.truncate=A,at.unescape=m,at.uniqueId=SY,at.upperCase=x,at.upperFirst=D,at.each=jm,at.eachRight=yp,at.first=xf,cn(at,function(){var M={};return Ri(at,function(P,Z){Yo.call(at.prototype,Z)||(M[Z]=P)}),M}(),{chain:!1}),at.VERSION=i,za(["bind","bindKey","curry","curryRight","partial","partialRight"],function(M){at[M].placeholder=at}),za(["drop","take"],function(M,P){Cr.prototype[M]=function(Z){Z=Z===t?1:qo(ao(Z),0);var we=this.__filtered__&&!P?new Cr(this):this.clone();return we.__filtered__?we.__takeCount__=ha(Z,we.__takeCount__):we.__views__.push({size:ha(Z,We),type:M+(we.__dir__<0?"Right":"")}),we},Cr.prototype[M+"Right"]=function(Z){return this.reverse()[M](Z).reverse()}}),za(["filter","map","takeWhile"],function(M,P){var Z=P+1,we=Z==ze||Z==Fe;Cr.prototype[M]=function(et){var pt=this.clone();return pt.__iteratees__.push({iteratee:yr(et,3),type:Z}),pt.__filtered__=pt.__filtered__||we,pt}}),za(["head","last"],function(M,P){var Z="take"+(P?"Right":"");Cr.prototype[M]=function(){return this[Z](1).value()[0]}}),za(["initial","tail"],function(M,P){var Z="drop"+(P?"":"Right");Cr.prototype[M]=function(){return this.__filtered__?new Cr(this):this[Z](1)}}),Cr.prototype.compact=function(){return this.filter(pn)},Cr.prototype.find=function(M){return this.filter(M).head()},Cr.prototype.findLast=function(M){return this.reverse().find(M)},Cr.prototype.invokeMap=Ct(function(M,P){return typeof M=="function"?new Cr(this):this.map(function(Z){return EA(Z,M,P)})}),Cr.prototype.reject=function(M){return this.filter(Hp(yr(M)))},Cr.prototype.slice=function(M,P){M=ao(M);var Z=this;return Z.__filtered__&&(M>0||P<0)?new Cr(Z):(M<0?Z=Z.takeRight(-M):M&&(Z=Z.drop(M)),P!==t&&(P=ao(P),Z=P<0?Z.dropRight(-P):Z.take(P-M)),Z)},Cr.prototype.takeRightWhile=function(M){return this.reverse().takeWhile(M).reverse()},Cr.prototype.toArray=function(){return this.take(We)},Ri(Cr.prototype,function(M,P){var Z=/^(?:filter|find|map|reject)|While$/.test(P),we=/^(?:head|last)$/.test(P),et=at[we?"take"+(P=="last"?"Right":""):P],pt=we||/^find/.test(P);et&&(at.prototype[P]=function(){var Ft=this.__wrapped__,$t=we?[1]:arguments,ln=Ft instanceof Cr,qn=$t[0],Zn=ln||$r(Ft),ci=function(Pa){var Ja=et.apply(at,hc([Pa],$t));return we&&Wi?Ja[0]:Ja};Zn&&Z&&typeof qn=="function"&&qn.length!=1&&(ln=Zn=!1);var Wi=this.__chain__,Br=!!this.__actions__.length,so=pt&&!Wi,ya=ln&&!Br;if(!pt&&Zn){Ft=ya?Ft:new Cr(this);var lo=M.apply(Ft,$t);return lo.__actions__.push({func:PA,args:[ci],thisArg:t}),new na(lo,Wi)}return so&&ya?M.apply(this,$t):(lo=this.thru(ci),so?we?lo.value()[0]:lo.value():lo)})}),za(["pop","push","shift","sort","splice","unshift"],function(M){var P=Pd[M],Z=/^(?:push|sort|unshift)$/.test(M)?"tap":"thru",we=/^(?:pop|shift)$/.test(M);at.prototype[M]=function(){var et=arguments;if(we&&!this.__chain__){var pt=this.value();return P.apply($r(pt)?pt:[],et)}return this[Z](function(Ft){return P.apply($r(Ft)?Ft:[],et)})}}),Ri(Cr.prototype,function(M,P){var Z=at[P];if(Z){var we=Z.name+"";Yo.call(xA,we)||(xA[we]=[]),xA[we].push({name:P,func:Z})}}),xA[Ta(t,$).name]=[{name:"wrapper",func:t}],Cr.prototype.clone=bs,Cr.prototype.reverse=lh,Cr.prototype.value=Rh,at.prototype.at=By,at.prototype.chain=mh,at.prototype.commit=Oy,at.prototype.next=Iy,at.prototype.plant=mp,at.prototype.reverse=fg,at.prototype.toJSON=at.prototype.valueOf=at.prototype.value=p1,at.prototype.first=at.prototype.head,Uc&&(at.prototype[Uc]=TC),at},ql=Rc();io?((io.exports=ql)._=ql,tr._=ql):Ui._=ql}).call(OH)}(s_,s_.exports)),s_.exports}var Kb=IH();const pB=Bu(Kb);function TH(n,e,t){const i=e<0?n.length+e:e;if(i>=0&&i<n.length){const r=t<0?n.length+t:t,[o]=n.splice(e,1);n.splice(r,0,o)}}var s5,w9;function kH(){if(w9)return s5;w9=1;function n(e){for(var t=5381,i=e.length;i;)t=t*33^e.charCodeAt(--i);return t>>>0}return s5=n,s5}var DH=kH();const S9=Bu(DH);var Pf=Uint8Array,Rv=Uint16Array,RH=Int32Array,uz=new Pf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Az=new Pf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PH=new Pf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cz=function(n,e){for(var t=new Rv(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new RH(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return{b:t,r}},hz=cz(uz,2),dz=hz.b,UH=hz.r;dz[28]=258,UH[258]=28;var KH=cz(Az,0),LH=KH.b,mB=new Rv(32768);for(var uu=0;uu<32768;++uu){var Sg=(uu&43690)>>1|(uu&21845)<<1;Sg=(Sg&52428)>>2|(Sg&13107)<<2,Sg=(Sg&61680)>>4|(Sg&3855)<<4,mB[uu]=((Sg&65280)>>8|(Sg&255)<<8)>>1}var S_=function(n,e,t){for(var i=n.length,r=0,o=new Rv(e);r<i;++r)n[r]&&++o[n[r]-1];var s=new Rv(e);for(r=1;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(t){a=new Rv(1<<e);var p=15-e;for(r=0;r<i;++r)if(n[r])for(var g=r<<4|n[r],_=e-n[r],E=s[n[r]-1]++<<_,O=E|(1<<_)-1;E<=O;++E)a[mB[E]>>p]=g}else for(a=new Rv(i),r=0;r<i;++r)n[r]&&(a[r]=mB[s[n[r]-1]++]>>15-n[r]);return a},Lb=new Pf(288);for(var uu=0;uu<144;++uu)Lb[uu]=8;for(var uu=144;uu<256;++uu)Lb[uu]=9;for(var uu=256;uu<280;++uu)Lb[uu]=7;for(var uu=280;uu<288;++uu)Lb[uu]=8;var fz=new Pf(32);for(var uu=0;uu<32;++uu)fz[uu]=5;var FH=S_(Lb,9,1),zH=S_(fz,5,1),l5=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},rm=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},u5=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},jH=function(n){return(n+7)/8|0},NH=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Pf(n.subarray(e,t))},GH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],kf=function(n,e,t){var i=new Error(e||GH[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,kf),!t)throw i;return i},QO=function(n,e,t,i){var r=n.length,o=0;if(!r||e.f&&!e.l)return t||new Pf(0);var s=!t,a=s||e.i!=2,p=e.i;s&&(t=new Pf(r*3));var g=function(Ve){var bt=t.length;if(Ve>bt){var vt=new Pf(Math.max(bt*2,Ve));vt.set(t),t=vt}},_=e.f||0,E=e.p||0,O=e.b||0,B=e.l,z=e.d,N=e.m,Q=e.n,$=r*8;do{if(!B){_=rm(n,E,1);var X=rm(n,E+1,3);if(E+=3,X)if(X==1)B=FH,z=zH,N=9,Q=5;else if(X==2){var J=rm(n,E,31)+257,W=rm(n,E+10,15)+4,he=J+rm(n,E+5,31)+1;E+=14;for(var ge=new Pf(he),ve=new Pf(19),_e=0;_e<W;++_e)ve[PH[_e]]=rm(n,E+_e*3,7);E+=W*3;for(var Me=l5(ve),be=(1<<Me)-1,ze=S_(ve,Me,1),_e=0;_e<he;){var Ce=ze[rm(n,E,be)];E+=Ce&15;var re=Ce>>4;if(re<16)ge[_e++]=re;else{var Fe=0,ot=0;for(re==16?(ot=3+rm(n,E,3),E+=2,Fe=ge[_e-1]):re==17?(ot=3+rm(n,E,7),E+=3):re==18&&(ot=11+rm(n,E,127),E+=7);ot--;)ge[_e++]=Fe}}var mt=ge.subarray(0,J),it=ge.subarray(J);N=l5(mt),Q=l5(it),B=S_(mt,N,1),z=S_(it,Q,1)}else kf(1);else{var re=jH(E)+4,ne=n[re-4]|n[re-3]<<8,V=re+ne;if(V>r){p&&kf(0);break}a&&g(O+ne),t.set(n.subarray(re,V),O),e.b=O+=ne,e.p=E=V*8,e.f=_;continue}if(E>$){p&&kf(0);break}}a&&g(O+131072);for(var ue=(1<<N)-1,We=(1<<Q)-1,tt=E;;tt=E){var Fe=B[u5(n,E)&ue],ke=Fe>>4;if(E+=Fe&15,E>$){p&&kf(0);break}if(Fe||kf(2),ke<256)t[O++]=ke;else if(ke==256){tt=E,B=null;break}else{var Et=ke-254;if(ke>264){var _e=ke-257,gt=uz[_e];Et=rm(n,E,(1<<gt)-1)+dz[_e],E+=gt}var xt=z[u5(n,E)&We],Kt=xt>>4;xt||kf(3),E+=xt&15;var it=LH[Kt];if(Kt>3){var gt=Az[Kt];it+=u5(n,E)&(1<<gt)-1,E+=gt}if(E>$){p&&kf(0);break}a&&g(O+131072);var je=O+Et;if(O<it){var Ke=o-it,Ue=Math.min(it,je);for(Ke+O<0&&kf(3);O<Ue;++O)t[O]=i[Ke+O]}for(;O<je;++O)t[O]=t[O-it]}}e.l=B,e.p=tt,e.b=O,e.f=_,B&&(_=1,e.m=N,e.d=z,e.n=Q)}while(!_);return O!=t.length&&s?NH(t,0,O):t.subarray(0,O)},WH=new Pf(0),QH=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&kf(6,"invalid gzip data");var e=n[3],t=10;e&4&&(t+=(n[10]|n[11]<<8)+2);for(var i=(e>>3&1)+(e>>4&1);i>0;i-=!n[t++]);return t+(e&2)},YH=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},qH=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&kf(6,"invalid zlib data"),(n[1]>>5&1)==1&&kf(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function HH(n,e){return QO(n,{i:2},e,e)}function VH(n,e){var t=QH(n);return t+8>n.length&&kf(6,"invalid gzip data"),QO(n.subarray(t,-8),{i:2},new Pf(YH(n)),e)}function $H(n,e){return QO(n.subarray(qH(n),-4),{i:2},e,e)}function ZH(n,e){return n[0]==31&&n[1]==139&&n[2]==8?VH(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?HH(n,e):$H(n,e)}var XH=typeof TextDecoder<"u"&&new TextDecoder,JH=0;try{XH.decode(WH,{stream:!0}),JH=1}catch{}var eV=Object.defineProperty,E_=Math.pow,_l=(n,e)=>eV(n,"name",{value:e,configurable:!0}),Jc=(n,e,t)=>new Promise((i,r)=>{var o=p=>{try{a(t.next(p))}catch(g){r(g)}},s=p=>{try{a(t.throw(p))}catch(g){r(g)}},a=p=>p.done?i(p.value):Promise.resolve(p.value).then(o,s);a((t=t.apply(n,e)).next())});_l((n,e)=>{let t=!1,i="",r=L.GridLayer.extend({createTile:_l((o,s)=>{let a=document.createElement("img"),p=new AbortController,g=p.signal;return a.cancel=()=>{p.abort()},t||(n.getHeader().then(_=>{_.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):_.tileType===2?i="image/png":_.tileType===3?i="image/jpeg":_.tileType===4?i="image/webp":_.tileType===5&&(i="image/avif")}),t=!0),n.getZxy(o.z,o.x,o.y,g).then(_=>{if(_){let E=new Blob([_.data],{type:i}),O=window.URL.createObjectURL(E);a.src=O,a.cancel=void 0,s(void 0,a)}}).catch(_=>{if(_.name!=="AbortError")throw _}),a},"createTile"),_removeTile:_l(function(o){let s=this._tiles[o];s&&(s.el.cancel&&s.el.cancel(),s.el.width=0,s.el.height=0,s.el.deleted=!0,L.DomUtil.remove(s.el),delete this._tiles[o],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(o)}))},"_removeTile")});return new r(e)},"leafletRasterLayer");var tV=_l(n=>(e,t)=>{if(t instanceof AbortController)return n(e,t);let i=new AbortController;return n(e,i).then(r=>t(void 0,r.data,r.cacheControl||"",r.expires||""),r=>t(r)).catch(r=>t(r)),{cancel:_l(()=>i.abort(),"cancel")}},"v3compat"),pz=class{constructor(e){this.tilev4=_l((t,i)=>Jc(this,null,function*(){if(t.type==="json"){let B=t.url.substr(10),z=this.tiles.get(B);if(z||(z=new yB(B),this.tiles.set(B,z)),this.metadata)return{data:yield z.getTileJson(t.url)};let N=yield z.getHeader();return(N.minLon>=N.maxLon||N.minLat>=N.maxLat)&&console.error(`Bounds of PMTiles archive ${N.minLon},${N.minLat},${N.maxLon},${N.maxLat} are not valid.`),{data:{tiles:[`${t.url}/{z}/{x}/{y}`],minzoom:N.minZoom,maxzoom:N.maxZoom,bounds:[N.minLon,N.minLat,N.maxLon,N.maxLat]}}}let r=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),o=t.url.match(r);if(!o)throw new Error("Invalid PMTiles protocol URL");let s=o[1],a=this.tiles.get(s);a||(a=new yB(s),this.tiles.set(s,a));let p=o[2],g=o[3],_=o[4],E=yield a.getHeader(),O=yield a?.getZxy(+p,+g,+_,i.signal);if(O)return{data:new Uint8Array(O.data),cacheControl:O.cacheControl,expires:O.expires};if(E.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=tV(this.tilev4),this.tiles=new Map,this.metadata=e?.metadata||!1,this.errorOnMissingTile=e?.errorOnMissingTile||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};_l(pz,"Protocol");var nV=pz;function mz(n,e){return(e>>>0)*4294967296+(n>>>0)}_l(mz,"toNum");function gz(n,e){let t=e.buf,i=t[e.pos++],r=(i&112)>>4;if(i<128||(i=t[e.pos++],r|=(i&127)<<3,i<128)||(i=t[e.pos++],r|=(i&127)<<10,i<128)||(i=t[e.pos++],r|=(i&127)<<17,i<128)||(i=t[e.pos++],r|=(i&127)<<24,i<128)||(i=t[e.pos++],r|=(i&1)<<31,i<128))return mz(n,r);throw new Error("Expected varint not more than 10 bytes")}_l(gz,"readVarintRemainder");function wv(n){let e=n.buf,t=e[n.pos++],i=t&127;return t<128||(t=e[n.pos++],i|=(t&127)<<7,t<128)||(t=e[n.pos++],i|=(t&127)<<14,t<128)||(t=e[n.pos++],i|=(t&127)<<21,t<128)?i:(t=e[n.pos],i|=(t&15)<<28,gz(i,n))}_l(wv,"readVarint");function YO(n,e,t,i){if(i===0){t===1&&(e[0]=n-1-e[0],e[1]=n-1-e[1]);let r=e[0];e[0]=e[1],e[1]=r}}_l(YO,"rotate");function yz(n,e){let t=E_(2,n),i=e,r=e,o=e,s=[0,0],a=1;for(;a<t;)i=1&o/2,r=1&(o^i),YO(a,s,i,r),s[0]+=a*i,s[1]+=a*r,o=o/4,a*=2;return[n,s[0],s[1]]}_l(yz,"idOnLevel");var iV=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function vz(n,e,t){if(n>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>E_(2,n)-1||t>E_(2,n)-1)throw new Error("tile x/y outside zoom level bounds");let i=iV[n],r=E_(2,n),o=0,s=0,a=0,p=[e,t],g=r/2;for(;g>0;)o=(p[0]&g)>0?1:0,s=(p[1]&g)>0?1:0,a+=g*g*(3*o^s),YO(g,p,o,s),g=g/2;return i+a}_l(vz,"zxyToTileId");function rV(n){let e=0;for(let t=0;t<27;t++){let i=(1<<t)*(1<<t);if(e+i>n)return yz(t,n-e);e+=i}throw new Error("Tile zoom level exceeds max safe number limit (26)")}_l(rV,"tileIdToZxy");var oV=(n=>(n[n.Unknown=0]="Unknown",n[n.None=1]="None",n[n.Gzip=2]="Gzip",n[n.Brotli=3]="Brotli",n[n.Zstd=4]="Zstd",n))(oV||{});function _2(n,e){return Jc(this,null,function*(){if(e===1||e===0)return n;if(e===2){if(typeof globalThis.DecompressionStream>"u")return ZH(new Uint8Array(n));let t=new Response(n).body;if(!t)throw new Error("Failed to read response stream");let i=t.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(i).arrayBuffer()}throw new Error("Compression method not supported")})}_l(_2,"defaultDecompress");var aV=(n=>(n[n.Unknown=0]="Unknown",n[n.Mvt=1]="Mvt",n[n.Png=2]="Png",n[n.Jpeg=3]="Jpeg",n[n.Webp=4]="Webp",n[n.Avif=5]="Avif",n))(aV||{});function Cz(n){return n===1?".mvt":n===2?".png":n===3?".jpg":n===4?".webp":n===5?".avif":""}_l(Cz,"tileTypeExt");var sV=127;function _z(n,e){let t=0,i=n.length-1;for(;t<=i;){let r=i+t>>1,o=e-n[r].tileId;if(o>0)t=r+1;else if(o<0)i=r-1;else return n[r]}return i>=0&&(n[i].runLength===0||e-n[i].tileId<n[i].runLength)?n[i]:null}_l(_z,"findTile");var lV=class{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,t){return Jc(this,null,function*(){return{data:yield this.file.slice(e,e+t).arrayBuffer()}})}};_l(lV,"FileSource");var bz=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1;let i="";"navigator"in globalThis&&(i=globalThis.navigator.userAgent||"");let r=i.indexOf("Windows")>-1,o=/Chrome|Chromium|Edg|OPR|Brave/.test(i);this.chromeWindowsNoCache=!1,r&&o&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,i,r){return Jc(this,null,function*(){let o,s;i?s=i:(o=new AbortController,s=o.signal);let a=new Headers(this.customHeaders);a.set("range",`bytes=${e}-${e+t-1}`);let p;this.mustReload?p="reload":this.chromeWindowsNoCache&&(p="no-store");let g=yield fetch(this.url,{signal:s,cache:p,headers:a});if(e===0&&g.status===416){let O=g.headers.get("Content-Range");if(!O||!O.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let B=+O.substr(8);g=yield fetch(this.url,{signal:s,cache:"reload",headers:{range:`bytes=0-${B-1}`}})}let _=g.headers.get("Etag");if(_!=null&&_.startsWith("W/")&&(_=null),g.status===416||r&&_&&_!==r)throw this.mustReload=!0,new gB(`Server returned non-matching ETag ${r} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(g.status>=300)throw new Error(`Bad response code: ${g.status}`);let E=g.headers.get("Content-Length");if(g.status===200&&(!E||+E>t))throw o&&o.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield g.arrayBuffer(),etag:_||void 0,cacheControl:g.headers.get("Cache-Control")||void 0,expires:g.headers.get("Expires")||void 0}})}};_l(bz,"FetchSource");var uV=bz;function Mp(n,e){let t=n.getUint32(e+4,!0),i=n.getUint32(e+0,!0);return t*E_(2,32)+i}_l(Mp,"getUint64");function xz(n,e){let t=new DataView(n),i=t.getUint8(7);if(i>3)throw new Error(`Archive is spec version ${i} but this library supports up to spec version 3`);return{specVersion:i,rootDirectoryOffset:Mp(t,8),rootDirectoryLength:Mp(t,16),jsonMetadataOffset:Mp(t,24),jsonMetadataLength:Mp(t,32),leafDirectoryOffset:Mp(t,40),leafDirectoryLength:Mp(t,48),tileDataOffset:Mp(t,56),tileDataLength:Mp(t,64),numAddressedTiles:Mp(t,72),numTileEntries:Mp(t,80),numTileContents:Mp(t,88),clustered:t.getUint8(96)===1,internalCompression:t.getUint8(97),tileCompression:t.getUint8(98),tileType:t.getUint8(99),minZoom:t.getUint8(100),maxZoom:t.getUint8(101),minLon:t.getInt32(102,!0)/1e7,minLat:t.getInt32(106,!0)/1e7,maxLon:t.getInt32(110,!0)/1e7,maxLat:t.getInt32(114,!0)/1e7,centerZoom:t.getUint8(118),centerLon:t.getInt32(119,!0)/1e7,centerLat:t.getInt32(123,!0)/1e7,etag:e}}_l(xz,"bytesToHeader");function qO(n){let e={buf:new Uint8Array(n),pos:0},t=wv(e),i=[],r=0;for(let o=0;o<t;o++){let s=wv(e);i.push({tileId:r+s,offset:0,length:0,runLength:1}),r+=s}for(let o=0;o<t;o++)i[o].runLength=wv(e);for(let o=0;o<t;o++)i[o].length=wv(e);for(let o=0;o<t;o++){let s=wv(e);s===0&&o>0?i[o].offset=i[o-1].offset+i[o-1].length:i[o].offset=s-1}return i}_l(qO,"deserializeIndex");var Mz=class extends Error{};_l(Mz,"EtagMismatch");var gB=Mz;function HO(n,e){return Jc(this,null,function*(){let t=yield n.getBytes(0,16384);if(new DataView(t.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let i=t.data.slice(0,sV),r=xz(i,t.etag),o=t.data.slice(r.rootDirectoryOffset,r.rootDirectoryOffset+r.rootDirectoryLength),s=`${n.getKey()}|${r.etag||""}|${r.rootDirectoryOffset}|${r.rootDirectoryLength}`,a=qO(yield e(o,r.internalCompression));return[r,[s,a.length,a]]})}_l(HO,"getHeaderAndRoot");function VO(n,e,t,i,r){return Jc(this,null,function*(){let o=yield n.getBytes(t,i,void 0,r.etag),s=yield e(o.data,r.internalCompression),a=qO(s);if(a.length===0)throw new Error("Empty directory is invalid");return a})}_l(VO,"getDirectory");var AV=class{constructor(e=100,t=!0,i=_2){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=i}getHeader(e){return Jc(this,null,function*(){let t=e.getKey(),i=this.cache.get(t);if(i)return i.lastUsed=this.counter++,i.data;let r=yield HO(e,this.decompress);return r[1]&&this.cache.set(r[1][0],{lastUsed:this.counter++,data:r[1][2]}),this.cache.set(t,{lastUsed:this.counter++,data:r[0]}),this.prune(),r[0]})}getDirectory(e,t,i,r){return Jc(this,null,function*(){let o=`${e.getKey()}|${r.etag||""}|${t}|${i}`,s=this.cache.get(o);if(s)return s.lastUsed=this.counter++,s.data;let a=yield VO(e,this.decompress,t,i,r);return this.cache.set(o,{lastUsed:this.counter++,data:a}),this.prune(),a})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,t;this.cache.forEach((i,r)=>{i.lastUsed<e&&(e=i.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(e){return Jc(this,null,function*(){this.cache.delete(e.getKey())})}};_l(AV,"ResolvedValueCache");var wz=class{constructor(e=100,t=!0,i=_2){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=i}getHeader(e){return Jc(this,null,function*(){let t=e.getKey(),i=this.cache.get(t);if(i)return i.lastUsed=this.counter++,yield i.data;let r=new Promise((o,s)=>{HO(e,this.decompress).then(a=>{a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:Promise.resolve(a[1][2])}),o(a[0]),this.prune()}).catch(a=>{s(a)})});return this.cache.set(t,{lastUsed:this.counter++,data:r}),r})}getDirectory(e,t,i,r){return Jc(this,null,function*(){let o=`${e.getKey()}|${r.etag||""}|${t}|${i}`,s=this.cache.get(o);if(s)return s.lastUsed=this.counter++,yield s.data;let a=new Promise((p,g)=>{VO(e,this.decompress,t,i,r).then(_=>{p(_),this.prune()}).catch(_=>{g(_)})});return this.cache.set(o,{lastUsed:this.counter++,data:a}),a})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((i,r)=>{i.lastUsed<e&&(e=i.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(e){return Jc(this,null,function*(){let t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());let i=new Promise((r,o)=>{this.getHeader(e).then(s=>{r(),this.invalidations.delete(t)}).catch(s=>{o(s)})});this.invalidations.set(t,i)})}};_l(wz,"SharedPromiseCache");var cV=wz,Sz=class{constructor(e,t,i){typeof e=="string"?this.source=new uV(e):this.source=e,i?this.decompress=i:this.decompress=_2,t?this.cache=t:this.cache=new cV}getHeader(){return Jc(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,i,r){return Jc(this,null,function*(){let o=vz(e,t,i),s=yield this.cache.getHeader(this.source);if(e<s.minZoom||e>s.maxZoom)return;let a=s.rootDirectoryOffset,p=s.rootDirectoryLength;for(let g=0;g<=3;g++){let _=yield this.cache.getDirectory(this.source,a,p,s),E=_z(_,o);if(E){if(E.runLength>0){let O=yield this.source.getBytes(s.tileDataOffset+E.offset,E.length,r,s.etag);return{data:yield this.decompress(O.data,s.tileCompression),cacheControl:O.cacheControl,expires:O.expires}}a=s.leafDirectoryOffset+E.offset,p=E.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,t,i,r){return Jc(this,null,function*(){try{return yield this.getZxyAttempt(e,t,i,r)}catch(o){if(o instanceof gB)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,i,r);throw o}})}getMetadataAttempt(){return Jc(this,null,function*(){let e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),i=yield this.decompress(t.data,e.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(i))})}getMetadata(){return Jc(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof gB)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return Jc(this,null,function*(){let t=yield this.getHeader(),i=yield this.getMetadata(),r=Cz(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${r}`],vector_layers:i.vector_layers,attribution:i.attribution,description:i.description,name:i.name,version:i.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};_l(Sz,"PMTiles");var yB=Sz,hV=8,dV={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},fV={"*":{type:"source"}},pV=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],mV={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},gV={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},yV={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},vV={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},CV={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},_V={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},bV={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},xV=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],MV={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},wV={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},SV={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},EV={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},BV={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},OV={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},IV={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},TV={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},kV={type:"array",value:"*"},DV={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},RV={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},PV={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},UV={type:"array",value:"*",minimum:1},KV={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},LV={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},FV={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},zV={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},jV=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],NV={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},GV={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},WV={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},QV={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},YV={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},qV={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},HV={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},VV={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},$V={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},ZV={"*":{type:"string"}},ts={$version:hV,$root:dV,sources:fV,source:pV,source_vector:mV,source_raster:gV,source_raster_dem:yV,source_geojson:vV,source_video:CV,source_image:_V,layer:bV,layout:xV,layout_background:MV,layout_fill:wV,layout_circle:SV,layout_heatmap:EV,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:BV,layout_symbol:OV,layout_raster:IV,layout_hillshade:TV,"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:kV,filter_operator:DV,geometry_type:RV,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:PV,expression:UV,light:KV,sky:LV,terrain:FV,projection:zV,paint:jV,paint_fill:NV,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:GV,paint_circle:WV,paint_heatmap:QV,paint_symbol:YV,paint_raster:qV,paint_hillshade:HV,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:VV,transition:$V,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:ZV};const XV=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function JV(n,e){const t={};for(const i in n)i!=="ref"&&(t[i]=n[i]);return XV.forEach(i=>{i in e&&(t[i]=e[i])}),t}function $O(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=JV(n[t],e[n[t].ref]));return n}function Fs(n,e){if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!Fs(n[t],e[t]))return!1;return!0}if(typeof n=="object"&&n!==null&&e!==null){if(typeof e!="object"||Object.keys(n).length!==Object.keys(e).length)return!1;for(const i in n)if(!Fs(n[i],e[i]))return!1;return!0}return n===e}function Sp(n,e){n.push(e)}function Ez(n,e,t){Sp(t,{command:"addSource",args:[n,e[n]]})}function Bz(n,e,t){Sp(e,{command:"removeSource",args:[n]}),t[n]=!0}function e$(n,e,t,i){Bz(n,t,i),Ez(n,e,t)}function t$(n,e,t){let i;for(i in n[t])if(Object.prototype.hasOwnProperty.call(n[t],i)&&i!=="data"&&!Fs(n[t][i],e[t][i]))return!1;for(i in e[t])if(Object.prototype.hasOwnProperty.call(e[t],i)&&i!=="data"&&!Fs(n[t][i],e[t][i]))return!1;return!0}function n$(n,e,t,i){n=n||{},e=e||{};let r;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(Object.prototype.hasOwnProperty.call(e,r)||Bz(r,t,i));for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(n,r)?Fs(n[r],e[r])||(n[r].type==="geojson"&&e[r].type==="geojson"&&t$(n,e,r)?Sp(t,{command:"setGeoJSONSourceData",args:[r,e[r].data]}):e$(r,e,t,i)):Ez(r,e,t))}function yx(n,e,t,i,r,o){n=n||{},e=e||{};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(Fs(n[s],e[s])||t.push({command:o,args:[i,s,e[s],r]}));for(const s in e)!Object.prototype.hasOwnProperty.call(e,s)||Object.prototype.hasOwnProperty.call(n,s)||Fs(n[s],e[s])||t.push({command:o,args:[i,s,e[s],r]})}function E9(n){return n.id}function B9(n,e){return n[e.id]=e,n}function i$(n,e,t){n=n||[],e=e||[];const i=n.map(E9),r=e.map(E9),o=n.reduce(B9,{}),s=e.reduce(B9,{}),a=i.slice(),p=Object.create(null);let g,_,E,O,B;for(let z=0,N=0;z<i.length;z++)g=i[z],Object.prototype.hasOwnProperty.call(s,g)?N++:(Sp(t,{command:"removeLayer",args:[g]}),a.splice(a.indexOf(g,N),1));for(let z=0,N=0;z<r.length;z++)g=r[r.length-1-z],a[a.length-1-z]!==g&&(Object.prototype.hasOwnProperty.call(o,g)?(Sp(t,{command:"removeLayer",args:[g]}),a.splice(a.lastIndexOf(g,a.length-N),1)):N++,O=a[a.length-z],Sp(t,{command:"addLayer",args:[s[g],O]}),a.splice(a.length-z,0,g),p[g]=!0);for(let z=0;z<r.length;z++)if(g=r[z],_=o[g],E=s[g],!(p[g]||Fs(_,E))){if(!Fs(_.source,E.source)||!Fs(_["source-layer"],E["source-layer"])||!Fs(_.type,E.type)){Sp(t,{command:"removeLayer",args:[g]}),O=a[a.lastIndexOf(g)+1],Sp(t,{command:"addLayer",args:[E,O]});continue}yx(_.layout,E.layout,t,g,null,"setLayoutProperty"),yx(_.paint,E.paint,t,g,null,"setPaintProperty"),Fs(_.filter,E.filter)||Sp(t,{command:"setFilter",args:[g,E.filter]}),(!Fs(_.minzoom,E.minzoom)||!Fs(_.maxzoom,E.maxzoom))&&Sp(t,{command:"setLayerZoomRange",args:[g,E.minzoom,E.maxzoom]});for(B in _)Object.prototype.hasOwnProperty.call(_,B)&&(B==="layout"||B==="paint"||B==="filter"||B==="metadata"||B==="minzoom"||B==="maxzoom"||(B.indexOf("paint.")===0?yx(_[B],E[B],t,g,B.slice(6),"setPaintProperty"):Fs(_[B],E[B])||Sp(t,{command:"setLayerProperty",args:[g,B,E[B]]})));for(B in E)!Object.prototype.hasOwnProperty.call(E,B)||Object.prototype.hasOwnProperty.call(_,B)||B==="layout"||B==="paint"||B==="filter"||B==="metadata"||B==="minzoom"||B==="maxzoom"||(B.indexOf("paint.")===0?yx(_[B],E[B],t,g,B.slice(6),"setPaintProperty"):Fs(_[B],E[B])||Sp(t,{command:"setLayerProperty",args:[g,B,E[B]]}))}}function r$(n,e){if(!n)return[{command:"setStyle",args:[e]}];let t=[];try{if(!Fs(n.version,e.version))return[{command:"setStyle",args:[e]}];Fs(n.center,e.center)||t.push({command:"setCenter",args:[e.center]}),Fs(n.state,e.state)||t.push({command:"setGlobalState",args:[e.state]}),Fs(n.centerAltitude,e.centerAltitude)||t.push({command:"setCenterAltitude",args:[e.centerAltitude]}),Fs(n.zoom,e.zoom)||t.push({command:"setZoom",args:[e.zoom]}),Fs(n.bearing,e.bearing)||t.push({command:"setBearing",args:[e.bearing]}),Fs(n.pitch,e.pitch)||t.push({command:"setPitch",args:[e.pitch]}),Fs(n.roll,e.roll)||t.push({command:"setRoll",args:[e.roll]}),Fs(n.sprite,e.sprite)||t.push({command:"setSprite",args:[e.sprite]}),Fs(n.glyphs,e.glyphs)||t.push({command:"setGlyphs",args:[e.glyphs]}),Fs(n.transition,e.transition)||t.push({command:"setTransition",args:[e.transition]}),Fs(n.light,e.light)||t.push({command:"setLight",args:[e.light]}),Fs(n.terrain,e.terrain)||t.push({command:"setTerrain",args:[e.terrain]}),Fs(n.sky,e.sky)||t.push({command:"setSky",args:[e.sky]}),Fs(n.projection,e.projection)||t.push({command:"setProjection",args:[e.projection]});const i={},r=[];n$(n.sources,e.sources,r,i);const o=[];n.layers&&n.layers.forEach(s=>{"source"in s&&i[s.source]?t.push({command:"removeLayer",args:[s.id]}):o.push(s)}),t=t.concat(r),i$(o,e.layers,t)}catch(i){console.warn("Unable to compute style diff:",i),t=[{command:"setStyle",args:[e]}]}return t}class bi{constructor(e,t,i,r){this.message=(e?`${e}: `:"")+i,r&&(this.identifier=r),t!=null&&t.__line__&&(this.line=t.__line__)}}function Jv(n,...e){for(const t of e)for(const i in t)n[i]=t[i];return n}class i0 extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ZO{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[i,r]of t)this.bindings[i]=r}concat(e){return new ZO(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}const b2={kind:"null"},Ti={kind:"number"},va={kind:"string"},Xo={kind:"boolean"},A0={kind:"color"},x2={kind:"projectionDefinition"},J1={kind:"object"},Go={kind:"value"},o$={kind:"error"},M2={kind:"collator"},w2={kind:"formatted"},S2={kind:"padding"},V_={kind:"colorArray"},E2={kind:"numberArray"},Fb={kind:"resolvedImage"},B2={kind:"variableAnchorOffsetCollection"};function Uf(n,e){return{kind:"array",itemType:n,N:e}}function Eu(n){if(n.kind==="array"){const e=Eu(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const a$=[b2,Ti,va,Xo,A0,x2,w2,J1,Uf(Go),S2,E2,V_,Fb,B2];function $_(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!$_(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of a$)if(!$_(t,e))return null}}return`Expected ${Eu(n)} but found ${Eu(e)} instead.`}function XO(n,e){return e.some(t=>t.kind===n.kind)}function ey(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}function Eg(n,e){return n.kind==="array"&&e.kind==="array"?n.itemType.kind===e.itemType.kind&&typeof n.N=="number":n.kind===e.kind}const Oz=.96422,Iz=1,Tz=.82521,kz=4/29,zv=6/29,Dz=3*zv*zv,s$=zv*zv*zv,l$=Math.PI/180,u$=180/Math.PI;function Rz(n){return n=n%360,n<0&&(n+=360),n}function Pz([n,e,t,i]){n=A5(n),e=A5(e),t=A5(t);let r,o;const s=c5((.2225045*n+.7168786*e+.0606169*t)/Iz);n===e&&e===t?r=o=s:(r=c5((.4360747*n+.3850649*e+.1430804*t)/Oz),o=c5((.0139322*n+.0971045*e+.7141733*t)/Tz));const a=116*s-16;return[a<0?0:a,500*(r-s),200*(s-o),i]}function A5(n){return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function c5(n){return n>s$?Math.pow(n,1/3):n/Dz+kz}function Uz([n,e,t,i]){let r=(n+16)/116,o=isNaN(e)?r:r+e/500,s=isNaN(t)?r:r-t/200;return r=Iz*d5(r),o=Oz*d5(o),s=Tz*d5(s),[h5(3.1338561*o-1.6168667*r-.4906146*s),h5(-.9787684*o+1.9161415*r+.033454*s),h5(.0719453*o-.2289914*r+1.4052427*s),i]}function h5(n){return n=n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055,n<0?0:n>1?1:n}function d5(n){return n>zv?n*n*n:Dz*(n-kz)}function A$(n){const[e,t,i,r]=Pz(n),o=Math.sqrt(t*t+i*i);return[Math.round(o*1e4)?Rz(Math.atan2(i,t)*u$):NaN,o,e,r]}function c$([n,e,t,i]){return n=isNaN(n)?0:n*l$,Uz([t,Math.cos(n)*e,Math.sin(n)*e,i])}function h$([n,e,t,i]){n=Rz(n),e/=100,t/=100;function r(o){const s=(o+n/30)%12,a=e*Math.min(t,1-t);return t-a*Math.max(-1,Math.min(s-3,9-s,1))}return[r(0),r(8),r(4),i]}const d$=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function B_(n,e){return d$(n,e)?n[e]:void 0}function f$(n){if(n=n.toLowerCase().trim(),n==="transparent")return[0,0,0,0];const e=B_(p$,n);if(e){const[r,o,s]=e;return[r/255,o/255,s/255,1]}if(n.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(n)){const o=n.length<6?1:2;let s=1;return[vx(n.slice(s,s+=o)),vx(n.slice(s,s+=o)),vx(n.slice(s,s+=o)),vx(n.slice(s,s+o)||"ff")]}if(n.startsWith("rgb")){const r=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=n.match(r);if(o){const[s,a,p,g,_,E,O,B,z,N,Q,$]=o,X=[g||" ",O||" ",N].join("");if(X==="  "||X==="  /"||X===",,"||X===",,,"){const re=[p,E,z].join(""),ne=re==="%%%"?100:re===""?255:0;if(ne){const V=[Sv(+a/ne,0,1),Sv(+_/ne,0,1),Sv(+B/ne,0,1),Q?O9(+Q,$):1];if(I9(V))return V}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,i=n.match(t);if(i){const[r,o,s,a,p,g,_,E,O]=i,B=[s||" ",p||" ",_].join("");if(B==="  "||B==="  /"||B===",,"||B===",,,"){const z=[+o,Sv(+a,0,100),Sv(+g,0,100),E?O9(+E,O):1];if(I9(z))return h$(z)}}}function vx(n){return parseInt(n.padEnd(2,n),16)/255}function O9(n,e){return Sv(e?n/100:n,0,1)}function Sv(n,e,t){return Math.min(Math.max(e,n),t)}function I9(n){return!n.some(Number.isNaN)}const p$={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Xg(n,e,t){return n+t*(e-n)}function eC(n,e,t){return n.map((i,r)=>Xg(i,e[r],t))}function m$(n){return n==="rgb"||n==="hcl"||n==="lab"}let ll=class Ev{constructor(e,t,i,r=1,o=!0){this.r=e,this.g=t,this.b=i,this.a=r,o||(this.r*=r,this.g*=r,this.b*=r,r||this.overwriteGetter("rgb",[e,t,i,r]))}static parse(e){if(e instanceof Ev)return e;if(typeof e!="string")return;const t=f$(e);if(t)return new Ev(...t,!1)}get rgb(){const{r:e,g:t,b:i,a:r}=this,o=r||1/0;return this.overwriteGetter("rgb",[e/o,t/o,i/o,r])}get hcl(){return this.overwriteGetter("hcl",A$(this.rgb))}get lab(){return this.overwriteGetter("lab",Pz(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,i,r]=this.rgb;return`rgba(${[e,t,i].map(o=>Math.round(o*255)).join(",")},${r})`}static interpolate(e,t,i,r="rgb"){switch(r){case"rgb":{const[o,s,a,p]=eC(e.rgb,t.rgb,i);return new Ev(o,s,a,p,!1)}case"hcl":{const[o,s,a,p]=e.hcl,[g,_,E,O]=t.hcl;let B,z;if(!isNaN(o)&&!isNaN(g)){let re=g-o;g>o&&re>180?re-=360:g<o&&o-g>180&&(re+=360),B=o+i*re}else isNaN(o)?isNaN(g)?B=NaN:(B=g,(a===1||a===0)&&(z=_)):(B=o,(E===1||E===0)&&(z=s));const[N,Q,$,X]=c$([B,z??Xg(s,_,i),Xg(a,E,i),Xg(p,O,i)]);return new Ev(N,Q,$,X,!1)}case"lab":{const[o,s,a,p]=Uz(eC(e.lab,t.lab,i));return new Ev(o,s,a,p,!1)}}}};ll.black=new ll(0,0,0,1);ll.white=new ll(1,1,1,1);ll.transparent=new ll(0,0,0,0);ll.red=new ll(1,0,0,1);class JO{constructor(e,t,i){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const g$=["bottom","center","top"];class vB{constructor(e,t,i,r,o,s){this.text=e,this.image=t,this.scale=i,this.fontStack=r,this.textColor=o,this.verticalAlign=s}}class c0{constructor(e){this.sections=e}static fromString(e){return new c0([new vB(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof c0?e:c0.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}}class Md{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Md)return e;if(typeof e=="number")return new Md([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new Md(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){return new Md(eC(e.values,t.values,i))}}class wd{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof wd)return e;if(typeof e=="number")return new wd([e]);if(Array.isArray(e)){for(const t of e)if(typeof t!="number")return;return new wd(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){return new wd(eC(e.values,t.values,i))}}class bh{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof bh)return e;if(typeof e=="string"){const i=ll.parse(e);return i?new bh([i]):void 0}if(!Array.isArray(e))return;const t=[];for(const i of e){if(typeof i!="string")return;const r=ll.parse(i);if(!r)return;t.push(r)}return new bh(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i,r="rgb"){const o=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let s=0;s<e.values.length;s++)o.push(ll.interpolate(e.values[s],t.values[s],i,r));return new bh(o)}}class Vu extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const y$=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Rp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Rp)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const i=e[t],r=e[t+1];if(typeof i!="string"||!y$.has(i)||!Array.isArray(r)||r.length!==2||typeof r[0]!="number"||typeof r[1]!="number")return}return new Rp(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){const r=e.values,o=t.values;if(r.length!==o.length)throw new Vu(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const s=[];for(let a=0;a<r.length;a+=2){if(r[a]!==o[a])throw new Vu(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${o[a]}`);s.push(r[a]);const[p,g]=r[a+1],[_,E]=o[a+1];s.push([Xg(p,_,i),Xg(g,E,i)])}return new Rp(s)}}class rg{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new rg({name:e,available:!1}):null}}class Ip{constructor(e,t,i){this.from=e,this.to=t,this.transition=i}static interpolate(e,t,i){return new Ip(e,t,i)}static parse(e){if(e instanceof Ip)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new Ip(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new Ip(e.from,e.to,e.transition);if(typeof e=="string")return new Ip(e,e,1)}}function Kz(n,e,t,i){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof i>"u"||typeof i=="number"&&i>=0&&i<=1?null:`Invalid rgba value [${[n,e,t,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof i=="number"?[n,e,t,i]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Z_(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof Ip||n instanceof ll||n instanceof JO||n instanceof c0||n instanceof Md||n instanceof wd||n instanceof bh||n instanceof Rp||n instanceof rg)return!0;if(Array.isArray(n)){for(const e of n)if(!Z_(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!Z_(n[e]))return!1;return!0}else return!1}function Ac(n){if(n===null)return b2;if(typeof n=="string")return va;if(typeof n=="boolean")return Xo;if(typeof n=="number")return Ti;if(n instanceof ll)return A0;if(n instanceof Ip)return x2;if(n instanceof JO)return M2;if(n instanceof c0)return w2;if(n instanceof Md)return S2;if(n instanceof wd)return E2;if(n instanceof bh)return V_;if(n instanceof Rp)return B2;if(n instanceof rg)return Fb;if(Array.isArray(n)){const e=n.length;let t;for(const i of n){const r=Ac(i);if(!t)t=r;else{if(t===r)continue;t=Go;break}}return Uf(t||Go,e)}else return J1}function O_(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof ll||n instanceof Ip||n instanceof c0||n instanceof Md||n instanceof wd||n instanceof bh||n instanceof Rp||n instanceof rg?n.toString():JSON.stringify(n)}class tC{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Z_(e[1]))return t.error("invalid value");const i=e[1];let r=Ac(i);const o=t.expectedType;return r.kind==="array"&&r.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(r=o),new tC(r,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Cx={string:va,number:Ti,boolean:Xo,object:J1};class hm{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i=1,r;const o=e[0];if(o==="array"){let a;if(e.length>2){const g=e[1];if(typeof g!="string"||!(g in Cx)||g==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=Cx[g],i++}else a=Go;let p;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);p=e[2],i++}r=Uf(a,p)}else{if(!Cx[o])throw new Error(`Types doesn't contain name = ${o}`);r=Cx[o]}const s=[];for(;i<e.length;i++){const a=t.parse(e[i],i,Go);if(!a)return null;s.push(a)}return new hm(r,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const i=this.args[t].evaluate(e);if($_(this.type,Ac(i))){if(t===this.args.length-1)throw new Vu(`Expected value to be of type ${Eu(this.type)}, but found ${Eu(Ac(i))} instead.`)}else return i}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const T9={"to-boolean":Xo,"to-color":A0,"to-number":Ti,"to-string":va};class Wg{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[0];if(!T9[i])throw new Error(`Can't parse ${i} as it is not part of the known types`);if((i==="to-boolean"||i==="to-string")&&e.length!==2)return t.error("Expected one argument.");const r=T9[i],o=[];for(let s=1;s<e.length;s++){const a=t.parse(e[s],s,Go);if(!a)return null;o.push(a)}return new Wg(r,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,i;for(const r of this.args){if(t=r.evaluate(e),i=null,t instanceof ll)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?i=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:i=Kz(t[0],t[1],t[2],t[3]),!i))return new ll(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Vu(i||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const i of this.args){t=i.evaluate(e);const r=Md.parse(t);if(r)return r}throw new Vu(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const i of this.args){t=i.evaluate(e);const r=wd.parse(t);if(r)return r}throw new Vu(`Could not parse numberArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const i of this.args){t=i.evaluate(e);const r=bh.parse(t);if(r)return r}throw new Vu(`Could not parse colorArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const i of this.args){t=i.evaluate(e);const r=Rp.parse(t);if(r)return r}throw new Vu(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const i of this.args){if(t=i.evaluate(e),t===null)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Vu(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return c0.fromString(O_(this.args[0].evaluate(e)));case"resolvedImage":return rg.fromString(O_(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return O_(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const v$=["Unknown","Point","LineString","Polygon"];class Lz{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?v$[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=ll.parse(e),this._parseColorCache.set(e,t)),t}}class O2{constructor(e,t,i=[],r,o=new ZO,s=[]){this.registry=e,this.path=i,this.key=i.map(a=>`[${a}]`).join(""),this.scope=o,this.errors=s,this.expectedType=r,this._isConstant=t}parse(e,t,i,r,o={}){return t?this.concat(t,i,r)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function i(r,o,s){return s==="assert"?new hm(o,[r]):s==="coerce"?new Wg(o,[r]):r}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[r];if(o){let s=o.parse(e,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,p=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&p.kind==="value")s=i(s,a,t.typeAnnotation||"assert");else if(a.kind==="projectionDefinition"&&["string","array"].includes(p.kind)||["color","formatted","resolvedImage"].includes(a.kind)&&["value","string"].includes(p.kind)||["padding","numberArray"].includes(a.kind)&&["value","number","array"].includes(p.kind)||a.kind==="colorArray"&&["value","string","array"].includes(p.kind)||a.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(p.kind))s=i(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,p))return null}if(!(s instanceof tC)&&s.type.kind!=="resolvedImage"&&this._isConstant(s)){const a=new Lz;try{s=new tC(s.type,s.evaluate(a))}catch(p){return this.error(p.message),null}}return s}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,i){const r=typeof e=="number"?this.path.concat(e):this.path,o=i?this.scope.concat(i):this.scope;return new O2(this.registry,this._isConstant,r,t||null,o,this.errors)}error(e,...t){const i=`${this.key}${t.map(r=>`[${r}]`).join("")}`;this.errors.push(new i0(i,e))}checkSubtype(e,t){const i=$_(e,t);return i&&this.error(i),i}}class I2{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const i=[];for(let o=1;o<e.length-1;o+=2){const s=e[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(e[o+1],o+1);if(!a)return null;i.push([s,a])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,i);return r?new I2(i,r):null}outputDefined(){return this.result.outputDefined()}}class T2{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const i=e[1];return t.scope.has(i)?new T2(i,t.scope.get(i)):t.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class e8{constructor(e,t,i){this.type=e,this.index=t,this.input=i}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Ti),r=t.parse(e[2],2,Uf(t.expectedType||Go));if(!i||!r)return null;const o=r.type;return new e8(o.itemType,i,r)}evaluate(e){const t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new Vu(`Array index out of bounds: ${t} < 0.`);if(t>=i.length)throw new Vu(`Array index out of bounds: ${t} > ${i.length-1}.`);if(t!==Math.floor(t))throw new Vu(`Array index must be an integer, but found ${t} instead.`);return i[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class t8{constructor(e,t){this.type=Xo,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Go),r=t.parse(e[2],2,Go);return!i||!r?null:XO(i.type,[Xo,va,Ti,b2,Go])?new t8(i,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Eu(i.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!i)return!1;if(!ey(t,["boolean","string","number","null"]))throw new Vu(`Expected first argument to be of type boolean, string, number or null, but found ${Eu(Ac(t))} instead.`);if(!ey(i,["string","array"]))throw new Vu(`Expected second argument to be of type array or string, but found ${Eu(Ac(i))} instead.`);return i.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class O3{constructor(e,t,i){this.type=Ti,this.needle=e,this.haystack=t,this.fromIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Go),r=t.parse(e[2],2,Go);if(!i||!r)return null;if(!XO(i.type,[Xo,va,Ti,b2,Go]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Eu(i.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Ti);return o?new O3(i,r,o):null}else return new O3(i,r)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!ey(t,["boolean","string","number","null"]))throw new Vu(`Expected first argument to be of type boolean, string, number or null, but found ${Eu(Ac(t))} instead.`);let r;if(this.fromIndex&&(r=this.fromIndex.evaluate(e)),ey(i,["string"])){const o=i.indexOf(t,r);return o===-1?-1:[...i.slice(0,o)].length}else{if(ey(i,["array"]))return i.indexOf(t,r);throw new Vu(`Expected second argument to be of type array or string, but found ${Eu(Ac(i))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class n8{constructor(e,t,i,r,o,s){this.inputType=e,this.type=t,this.input=i,this.cases=r,this.outputs=o,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let i,r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const o={},s=[];for(let g=2;g<e.length-1;g+=2){let _=e[g];const E=e[g+1];Array.isArray(_)||(_=[_]);const O=t.concat(g);if(_.length===0)return O.error("Expected at least one branch label.");for(const z of _){if(typeof z!="number"&&typeof z!="string")return O.error("Branch labels must be numbers or strings.");if(typeof z=="number"&&Math.abs(z)>Number.MAX_SAFE_INTEGER)return O.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof z=="number"&&Math.floor(z)!==z)return O.error("Numeric branch labels must be integer values.");if(!i)i=Ac(z);else if(O.checkSubtype(i,Ac(z)))return null;if(typeof o[String(z)]<"u")return O.error("Branch labels must be unique.");o[String(z)]=s.length}const B=t.parse(E,g,r);if(!B)return null;r=r||B.type,s.push(B)}const a=t.parse(e[1],1,Go);if(!a)return null;const p=t.parse(e[e.length-1],e.length-1,r);return!p||a.type.kind!=="value"&&t.concat(1).checkSubtype(i,a.type)?null:new n8(i,r,a,o,s,p)}evaluate(e){const t=this.input.evaluate(e);return(Ac(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class i8{constructor(e,t,i){this.type=e,this.branches=t,this.otherwise=i}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const r=[];for(let s=1;s<e.length-1;s+=2){const a=t.parse(e[s],s,Xo);if(!a)return null;const p=t.parse(e[s+1],s+1,i);if(!p)return null;r.push([a,p]),i=i||p.type}const o=t.parse(e[e.length-1],e.length-1,i);if(!o)return null;if(!i)throw new Error("Can't infer output type");return new i8(i,r,o)}evaluate(e){for(const[t,i]of this.branches)if(t.evaluate(e))return i.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,i]of this.branches)e(t),e(i);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class I3{constructor(e,t,i,r){this.type=e,this.input=t,this.beginIndex=i,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Go),r=t.parse(e[2],2,Ti);if(!i||!r)return null;if(!XO(i.type,[Uf(Go),va,Go]))return t.error(`Expected first argument to be of type array or string, but found ${Eu(i.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Ti);return o?new I3(i.type,i,r,o):null}else return new I3(i.type,i,r)}evaluate(e){const t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);let r;if(this.endIndex&&(r=this.endIndex.evaluate(e)),ey(t,["string"]))return[...t].slice(i,r).join("");if(ey(t,["array"]))return t.slice(i,r);throw new Vu(`Expected first argument to be of type array or string, but found ${Eu(Ac(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function k2(n,e){const t=n.length-1;let i=0,r=t,o=0,s,a;for(;i<=r;)if(o=Math.floor((i+r)/2),s=n[o],a=n[o+1],s<=e){if(o===t||e<a)return o;i=o+1}else if(s>e)r=o-1;else throw new Vu("Input is not a number.");return 0}class D2{constructor(e,t,i){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,o]of i)this.labels.push(r),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const i=t.parse(e[1],1,Ti);if(!i)return null;const r=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<e.length;s+=2){const a=s===1?-1/0:e[s],p=e[s+1],g=s,_=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const E=t.parse(p,_,o);if(!E)return null;o=o||E.type,r.push([a,E])}return new D2(o,i,r)}evaluate(e){const t=this.labels,i=this.outputs;if(t.length===1)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const o=t.length;if(r>=t[o-1])return i[o-1].evaluate(e);const s=k2(t,r);return i[s].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function C$(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var f5,k9;function _$(){if(k9)return f5;k9=1,f5=n;function n(e,t,i,r){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=i,this.p2y=r}return n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var i=e,r=0;r<8;r++){var o=this.sampleCurveX(i)-e;if(Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i=i-o/s}var a=0,p=1;for(i=e,r=0;r<20&&(o=this.sampleCurveX(i),!(Math.abs(o-e)<t));r++)e>o?a=i:p=i,i=(p-a)*.5+a;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},f5}var b$=_$(),x$=C$(b$);class Pp{constructor(e,t,i,r,o){this.type=e,this.operator=t,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(e,t,i,r){let o=0;if(e.name==="exponential")o=p5(t,e.base,i,r);else if(e.name==="linear")o=p5(t,1,i,r);else if(e.name==="cubic-bezier"){const s=e.controlPoints;o=new x$(s[0],s[1],s[2],s[3]).solve(p5(t,1,i,r))}return o}static parse(e,t){let[i,r,o,...s]=e;if(!Array.isArray(r)||r.length===0)return t.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const g=r[1];if(typeof g!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:g}}else if(r[0]==="cubic-bezier"){const g=r.slice(1);if(g.length!==4||g.some(_=>typeof _!="number"||_<0||_>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:g}}else return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Ti),!o)return null;const a=[];let p=null;(i==="interpolate-hcl"||i==="interpolate-lab")&&t.expectedType!=V_?p=A0:t.expectedType&&t.expectedType.kind!=="value"&&(p=t.expectedType);for(let g=0;g<s.length;g+=2){const _=s[g],E=s[g+1],O=g+3,B=g+4;if(typeof _!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(a.length&&a[a.length-1][0]>=_)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',O);const z=t.parse(E,B,p);if(!z)return null;p=p||z.type,a.push([_,z])}return!Eg(p,Ti)&&!Eg(p,x2)&&!Eg(p,A0)&&!Eg(p,S2)&&!Eg(p,E2)&&!Eg(p,V_)&&!Eg(p,B2)&&!Eg(p,Uf(Ti))?t.error(`Type ${Eu(p)} is not interpolatable.`):new Pp(p,i,r,o,a)}evaluate(e){const t=this.labels,i=this.outputs;if(t.length===1)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const o=t.length;if(r>=t[o-1])return i[o-1].evaluate(e);const s=k2(t,r),a=t[s],p=t[s+1],g=Pp.interpolationFactor(this.interpolation,r,a,p),_=i[s].evaluate(e),E=i[s+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Xg(_,E,g);case"color":return ll.interpolate(_,E,g);case"padding":return Md.interpolate(_,E,g);case"colorArray":return bh.interpolate(_,E,g);case"numberArray":return wd.interpolate(_,E,g);case"variableAnchorOffsetCollection":return Rp.interpolate(_,E,g);case"array":return eC(_,E,g);case"projectionDefinition":return Ip.interpolate(_,E,g)}case"interpolate-hcl":switch(this.type.kind){case"color":return ll.interpolate(_,E,g,"hcl");case"colorArray":return bh.interpolate(_,E,g,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return ll.interpolate(_,E,g,"lab");case"colorArray":return bh.interpolate(_,E,g,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function p5(n,e,t,i){const r=i-t,o=n-t;return r===0?0:e===1?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}const M$={color:ll.interpolate,number:Xg,padding:Md.interpolate,numberArray:wd.interpolate,colorArray:bh.interpolate,variableAnchorOffsetCollection:Rp.interpolate,array:eC};class X_{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i=null;const r=t.expectedType;r&&r.kind!=="value"&&(i=r);const o=[];for(const a of e.slice(1)){const p=t.parse(a,1+o.length,i,void 0,{typeAnnotation:"omit"});if(!p)return null;i=i||p.type,o.push(p)}if(!i)throw new Error("No output type");return r&&o.some(a=>$_(r,a.type))?new X_(Go,o):new X_(i,o)}evaluate(e){let t=null,i=0,r;for(const o of this.args)if(i++,t=o.evaluate(e),t&&t instanceof rg&&!t.available&&(r||(r=t.name),t=null,i===this.args.length&&(t=r)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function D9(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function w$(n,e,t){return e===t}function S$(n,e,t){return e!==t}function E$(n,e,t){return e<t}function B$(n,e,t){return e>t}function O$(n,e,t){return e<=t}function I$(n,e,t){return e>=t}function Fz(n,e,t,i){return i.compare(e,t)===0}function T$(n,e,t,i){return!Fz(n,e,t,i)}function k$(n,e,t,i){return i.compare(e,t)<0}function D$(n,e,t,i){return i.compare(e,t)>0}function R$(n,e,t,i){return i.compare(e,t)<=0}function P$(n,e,t,i){return i.compare(e,t)>=0}function fC(n,e,t){const i=n!=="=="&&n!=="!=";return class zz{constructor(o,s,a){this.type=Xo,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let p=s.parse(o[1],1,Go);if(!p)return null;if(!D9(a,p.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${Eu(p.type)}'.`);let g=s.parse(o[2],2,Go);if(!g)return null;if(!D9(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${Eu(g.type)}'.`);if(p.type.kind!==g.type.kind&&p.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${Eu(p.type)}' and '${Eu(g.type)}'.`);i&&(p.type.kind==="value"&&g.type.kind!=="value"?p=new hm(g.type,[p]):p.type.kind!=="value"&&g.type.kind==="value"&&(g=new hm(p.type,[g])));let _=null;if(o.length===4){if(p.type.kind!=="string"&&g.type.kind!=="string"&&p.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(_=s.parse(o[3],3,M2),!_)return null}return new zz(p,g,_)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(i&&this.hasUntypedArgument){const p=Ac(s),g=Ac(a);if(p.kind!==g.kind||!(p.kind==="string"||p.kind==="number"))throw new Vu(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${p.kind}, ${g.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const p=Ac(s),g=Ac(a);if(p.kind!=="string"||g.kind!=="string")return e(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):e(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const U$=fC("==",w$,Fz),K$=fC("!=",S$,T$),L$=fC("<",E$,k$),F$=fC(">",B$,D$),z$=fC("<=",O$,R$),j$=fC(">=",I$,P$);class R2{constructor(e,t,i){this.type=M2,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const i=e[1];if(typeof i!="object"||Array.isArray(i))return t.error("Collator options argument must be an object.");const r=t.parse(i["case-sensitive"]===void 0?!1:i["case-sensitive"],1,Xo);if(!r)return null;const o=t.parse(i["diacritic-sensitive"]===void 0?!1:i["diacritic-sensitive"],1,Xo);if(!o)return null;let s=null;return i.locale&&(s=t.parse(i.locale,1,va),!s)?null:new R2(r,o,s)}evaluate(e){return new JO(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class r8{constructor(e,t,i,r,o){this.type=va,this.number=e,this.locale=t,this.currency=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const i=t.parse(e[1],1,Ti);if(!i)return null;const r=e[2];if(typeof r!="object"||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let o=null;if(r.locale&&(o=t.parse(r.locale,1,va),!o))return null;let s=null;if(r.currency&&(s=t.parse(r.currency,1,va),!s))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,Ti),!a))return null;let p=null;return r["max-fraction-digits"]&&(p=t.parse(r["max-fraction-digits"],1,Ti),!p)?null:new r8(i,o,s,a,p)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class o8{constructor(e){this.type=w2,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[1];if(!Array.isArray(i)&&typeof i=="object")return t.error("First argument must be an image or text section.");const r=[];let o=!1;for(let s=1;s<=e.length-1;++s){const a=e[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let p=null;if(a["font-scale"]&&(p=t.parse(a["font-scale"],1,Ti),!p))return null;let g=null;if(a["text-font"]&&(g=t.parse(a["text-font"],1,Uf(va)),!g))return null;let _=null;if(a["text-color"]&&(_=t.parse(a["text-color"],1,A0),!_))return null;let E=null;if(a["vertical-align"]){if(typeof a["vertical-align"]=="string"&&!g$.includes(a["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${a["vertical-align"]}' instead.`);if(E=t.parse(a["vertical-align"],1,va),!E)return null}const O=r[r.length-1];O.scale=p,O.font=g,O.textColor=_,O.verticalAlign=E}else{const p=t.parse(e[s],1,Go);if(!p)return null;const g=p.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,r.push({content:p,scale:null,font:null,textColor:null,verticalAlign:null})}}return new o8(r)}evaluate(e){const t=i=>{const r=i.content.evaluate(e);return Ac(r)===Fb?new vB("",r,null,null,null,i.verticalAlign?i.verticalAlign.evaluate(e):null):new vB(O_(r),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null,i.verticalAlign?i.verticalAlign.evaluate(e):null)};return new c0(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class a8{constructor(e){this.type=Fb,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const i=t.parse(e[1],1,va);return i?new a8(i):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),i=rg.fromString(t);return i&&e.availableImages&&(i.available=e.availableImages.indexOf(t)>-1),i}eachChild(e){e(this.input)}outputDefined(){return!1}}class s8{constructor(e){this.type=Ti,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=t.parse(e[1],1);return i?i.type.kind!=="array"&&i.type.kind!=="string"&&i.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${Eu(i.type)} instead.`):new s8(i):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new Vu(`Expected value to be of type string or array, but found ${Eu(Ac(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const h0=8192;function N$(n,e){const t=G$(n[0]),i=Q$(n[1]),r=Math.pow(2,e.z);return[Math.round(t*r*h0),Math.round(i*r*h0)]}function l8(n,e){const t=Math.pow(2,e.z),i=(n[0]/h0+e.x)/t,r=(n[1]/h0+e.y)/t;return[W$(i),Y$(r)]}function G$(n){return(180+n)/360}function W$(n){return n*360-180}function Q$(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Y$(n){return 360/Math.PI*Math.atan(Math.exp((180-n*360)*Math.PI/180))-90}function zb(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function J_(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function q$(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function H$(n,e,t){const i=n[0]-e[0],r=n[1]-e[1],o=n[0]-t[0],s=n[1]-t[1];return i*s-o*r===0&&i*o<=0&&r*s<=0}function P2(n,e,t,i){const r=[e[0]-n[0],e[1]-n[1]],o=[i[0]-t[0],i[1]-t[1]];return X$(o,r)===0?!1:!!(R9(n,e,t,i)&&R9(t,i,n,e))}function V$(n,e,t){for(const i of t)for(let r=0;r<i.length-1;++r)if(P2(n,e,i[r],i[r+1]))return!0;return!1}function pC(n,e,t=!1){let i=!1;for(const r of e)for(let o=0;o<r.length-1;o++){if(H$(n,r[o],r[o+1]))return t;q$(n,r[o],r[o+1])&&(i=!i)}return i}function $$(n,e){for(const t of e)if(pC(n,t))return!0;return!1}function jz(n,e){for(const t of n)if(!pC(t,e))return!1;for(let t=0;t<n.length-1;++t)if(V$(n[t],n[t+1],e))return!1;return!0}function Z$(n,e){for(const t of e)if(jz(n,t))return!0;return!1}function X$(n,e){return n[0]*e[1]-n[1]*e[0]}function R9(n,e,t,i){const r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1],p=i[0]-t[0],g=i[1]-t[1],_=r*g-p*o,E=s*g-p*a;return _>0&&E<0||_<0&&E>0}function u8(n,e,t){const i=[];for(let r=0;r<n.length;r++){const o=[];for(let s=0;s<n[r].length;s++){const a=N$(n[r][s],t);zb(e,a),o.push(a)}i.push(o)}return i}function Nz(n,e,t){const i=[];for(let r=0;r<n.length;r++){const o=u8(n[r],e,t);i.push(o)}return i}function Gz(n,e,t,i){if(n[0]<t[0]||n[0]>t[2]){const r=i*.5;let o=n[0]-t[0]>r?-i:t[0]-n[0]>r?i:0;o===0&&(o=n[0]-t[2]>r?-i:t[2]-n[0]>r?i:0),n[0]+=o}zb(e,n)}function J$(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function P9(n,e,t,i){const r=Math.pow(2,i.z)*h0,o=[i.x*h0,i.y*h0],s=[];for(const a of n)for(const p of a){const g=[p.x+o[0],p.y+o[1]];Gz(g,e,t,r),s.push(g)}return s}function U9(n,e,t,i){const r=Math.pow(2,i.z)*h0,o=[i.x*h0,i.y*h0],s=[];for(const a of n){const p=[];for(const g of a){const _=[g.x+o[0],g.y+o[1]];zb(e,_),p.push(_)}s.push(p)}if(e[2]-e[0]<=r/2){J$(e);for(const a of s)for(const p of a)Gz(p,e,t,r)}return s}function eZ(n,e){const t=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=n.canonicalID();if(e.type==="Polygon"){const o=u8(e.coordinates,i,r),s=P9(n.geometry(),t,i,r);if(!J_(t,i))return!1;for(const a of s)if(!pC(a,o))return!1}if(e.type==="MultiPolygon"){const o=Nz(e.coordinates,i,r),s=P9(n.geometry(),t,i,r);if(!J_(t,i))return!1;for(const a of s)if(!$$(a,o))return!1}return!0}function tZ(n,e){const t=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=n.canonicalID();if(e.type==="Polygon"){const o=u8(e.coordinates,i,r),s=U9(n.geometry(),t,i,r);if(!J_(t,i))return!1;for(const a of s)if(!jz(a,o))return!1}if(e.type==="MultiPolygon"){const o=Nz(e.coordinates,i,r),s=U9(n.geometry(),t,i,r);if(!J_(t,i))return!1;for(const a of s)if(!Z$(a,o))return!1}return!0}class ty{constructor(e,t){this.type=Xo,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Z_(e[1])){const i=e[1];if(i.type==="FeatureCollection"){const r=[];for(const o of i.features){const{type:s,coordinates:a}=o.geometry;s==="Polygon"&&r.push(a),s==="MultiPolygon"&&r.push(...a)}if(r.length){const o={type:"MultiPolygon",coordinates:r};return new ty(i,o)}}else if(i.type==="Feature"){const r=i.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new ty(i,i.geometry)}else if(i.type==="Polygon"||i.type==="MultiPolygon")return new ty(i,i)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return eZ(e,this.geometries);if(e.geometryType()==="LineString")return tZ(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Wz{constructor(e=[],t=(i,r)=>i<r?-1:i>r?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,r=t[e];for(;e>0;){const o=e-1>>1,s=t[o];if(i(r,s)>=0)break;t[e]=s,e=o}t[e]=r}_down(e){const{data:t,compare:i}=this,r=this.length>>1,o=t[e];for(;e<r;){let s=(e<<1)+1;const a=s+1;if(a<this.length&&i(t[a],t[s])<0&&(s=a),i(t[s],o)>=0)break;t[e]=t[s],e=s}t[e]=o}}function nZ(n,e){if(n.length<=1)return[n];const i=[];let r,o;for(const s of n){const a=iZ(s);a!==0&&(s.area=Math.abs(a),o===void 0&&(o=a<0),o===a<0?(r&&i.push(r),r=[s]):r.push(s))}return r&&i.push(r),i}function iZ(n){let e=0;for(let t=0,i=n.length,r=i-1,o,s;t<i;r=t++)o=n[t],s=n[r],e+=(s.x-o.x)*(o.y+s.y);return e}const rZ=6378.137,K9=1/298.257223563,L9=K9*(2-K9),F9=Math.PI/180;class A8{constructor(e){const t=F9*rZ*1e3,i=Math.cos(e*F9),r=1/(1-L9*(1-i*i)),o=Math.sqrt(r);this.kx=t*o*i,this.ky=t*o*r*(1-L9)}distance(e,t){const i=this.wrap(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(i*i+r*r)}pointOnLine(e,t){let i=1/0,r,o,s,a;for(let p=0;p<e.length-1;p++){let g=e[p][0],_=e[p][1],E=this.wrap(e[p+1][0]-g)*this.kx,O=(e[p+1][1]-_)*this.ky,B=0;(E!==0||O!==0)&&(B=(this.wrap(t[0]-g)*this.kx*E+(t[1]-_)*this.ky*O)/(E*E+O*O),B>1?(g=e[p+1][0],_=e[p+1][1]):B>0&&(g+=E/this.kx*B,_+=O/this.ky*B)),E=this.wrap(t[0]-g)*this.kx,O=(t[1]-_)*this.ky;const z=E*E+O*O;z<i&&(i=z,r=g,o=_,s=p,a=B)}return{point:[r,o],index:s,t:Math.max(0,Math.min(1,a))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const CB=100,_B=50;function Qz(n,e){return e[0]-n[0]}function T3(n){return n[1]-n[0]+1}function J0(n,e){return n[1]>=n[0]&&n[1]<e}function bB(n,e){if(n[0]>n[1])return[null,null];const t=T3(n);if(e){if(t===2)return[n,null];const r=Math.floor(t/2);return[[n[0],n[0]+r],[n[0]+r,n[1]]]}if(t===1)return[n,null];const i=Math.floor(t/2)-1;return[[n[0],n[0]+i],[n[0]+i+1,n[1]]]}function xB(n,e){if(!J0(e,n.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let i=e[0];i<=e[1];++i)zb(t,n[i]);return t}function MB(n){const e=[1/0,1/0,-1/0,-1/0];for(const t of n)for(const i of t)zb(e,i);return e}function z9(n){return n[0]!==-1/0&&n[1]!==-1/0&&n[2]!==1/0&&n[3]!==1/0}function c8(n,e,t){if(!z9(n)||!z9(e))return NaN;let i=0,r=0;return n[2]<e[0]&&(i=e[0]-n[2]),n[0]>e[2]&&(i=n[0]-e[2]),n[1]>e[3]&&(r=n[1]-e[3]),n[3]<e[1]&&(r=e[1]-n[3]),t.distance([0,0],[i,r])}function q1(n,e,t){const i=t.pointOnLine(e,n);return t.distance(n,i.point)}function h8(n,e,t,i,r){const o=Math.min(q1(n,[t,i],r),q1(e,[t,i],r)),s=Math.min(q1(t,[n,e],r),q1(i,[n,e],r));return Math.min(o,s)}function oZ(n,e,t,i,r){if(!(J0(e,n.length)&&J0(i,t.length)))return 1/0;let s=1/0;for(let a=e[0];a<e[1];++a){const p=n[a],g=n[a+1];for(let _=i[0];_<i[1];++_){const E=t[_],O=t[_+1];if(P2(p,g,E,O))return 0;s=Math.min(s,h8(p,g,E,O,r))}}return s}function aZ(n,e,t,i,r){if(!(J0(e,n.length)&&J0(i,t.length)))return NaN;let s=1/0;for(let a=e[0];a<=e[1];++a)for(let p=i[0];p<=i[1];++p)if(s=Math.min(s,r.distance(n[a],t[p])),s===0)return s;return s}function sZ(n,e,t){if(pC(n,e,!0))return 0;let i=1/0;for(const r of e){const o=r[0],s=r[r.length-1];if(o!==s&&(i=Math.min(i,q1(n,[s,o],t)),i===0))return i;const a=t.pointOnLine(r,n);if(i=Math.min(i,t.distance(n,a.point)),i===0)return i}return i}function lZ(n,e,t,i){if(!J0(e,n.length))return NaN;for(let o=e[0];o<=e[1];++o)if(pC(n[o],t,!0))return 0;let r=1/0;for(let o=e[0];o<e[1];++o){const s=n[o],a=n[o+1];for(const p of t)for(let g=0,_=p.length,E=_-1;g<_;E=g++){const O=p[E],B=p[g];if(P2(s,a,O,B))return 0;r=Math.min(r,h8(s,a,O,B,i))}}return r}function j9(n,e){for(const t of n)for(const i of t)if(pC(i,e,!0))return!0;return!1}function uZ(n,e,t,i=1/0){const r=MB(n),o=MB(e);if(i!==1/0&&c8(r,o,t)>=i)return i;if(J_(r,o)){if(j9(n,e))return 0}else if(j9(e,n))return 0;let s=1/0;for(const a of n)for(let p=0,g=a.length,_=g-1;p<g;_=p++){const E=a[_],O=a[p];for(const B of e)for(let z=0,N=B.length,Q=N-1;z<N;Q=z++){const $=B[Q],X=B[z];if(P2(E,O,$,X))return 0;s=Math.min(s,h8(E,O,$,X,t))}}return s}function N9(n,e,t,i,r,o){if(!o)return;const s=c8(xB(i,o),r,t);s<e&&n.push([s,o,[0,0]])}function _x(n,e,t,i,r,o,s){if(!o||!s)return;const a=c8(xB(i,o),xB(r,s),t);a<e&&n.push([a,o,s])}function k3(n,e,t,i,r=1/0){let o=Math.min(i.distance(n[0],t[0][0]),r);if(o===0)return o;const s=new Wz([[0,[0,n.length-1],[0,0]]],Qz),a=MB(t);for(;s.length>0;){const p=s.pop();if(p[0]>=o)continue;const g=p[1],_=e?_B:CB;if(T3(g)<=_){if(!J0(g,n.length))return NaN;if(e){const E=lZ(n,g,t,i);if(isNaN(E)||E===0)return E;o=Math.min(o,E)}else for(let E=g[0];E<=g[1];++E){const O=sZ(n[E],t,i);if(o=Math.min(o,O),o===0)return 0}}else{const E=bB(g,e);N9(s,o,i,n,a,E[0]),N9(s,o,i,n,a,E[1])}}return o}function D3(n,e,t,i,r,o=1/0){let s=Math.min(o,r.distance(n[0],t[0]));if(s===0)return s;const a=new Wz([[0,[0,n.length-1],[0,t.length-1]]],Qz);for(;a.length>0;){const p=a.pop();if(p[0]>=s)continue;const g=p[1],_=p[2],E=e?_B:CB,O=i?_B:CB;if(T3(g)<=E&&T3(_)<=O){if(!J0(g,n.length)&&J0(_,t.length))return NaN;let B;if(e&&i)B=oZ(n,g,t,_,r),s=Math.min(s,B);else if(e&&!i){const z=n.slice(g[0],g[1]+1);for(let N=_[0];N<=_[1];++N)if(B=q1(t[N],z,r),s=Math.min(s,B),s===0)return s}else if(!e&&i){const z=t.slice(_[0],_[1]+1);for(let N=g[0];N<=g[1];++N)if(B=q1(n[N],z,r),s=Math.min(s,B),s===0)return s}else B=aZ(n,g,t,_,r),s=Math.min(s,B)}else{const B=bB(g,e),z=bB(_,i);_x(a,s,r,n,t,B[0],z[0]),_x(a,s,r,n,t,B[0],z[1]),_x(a,s,r,n,t,B[1],z[0]),_x(a,s,r,n,t,B[1],z[1])}}return s}function AZ(n,e){const t=n.geometry(),i=t.flat().map(s=>l8([s.x,s.y],n.canonical));if(t.length===0)return NaN;const r=new A8(i[0][1]);let o=1/0;for(const s of e){switch(s.type){case"Point":o=Math.min(o,D3(i,!1,[s.coordinates],!1,r,o));break;case"LineString":o=Math.min(o,D3(i,!1,s.coordinates,!0,r,o));break;case"Polygon":o=Math.min(o,k3(i,!1,s.coordinates,r,o));break}if(o===0)return o}return o}function cZ(n,e){const t=n.geometry(),i=t.flat().map(s=>l8([s.x,s.y],n.canonical));if(t.length===0)return NaN;const r=new A8(i[0][1]);let o=1/0;for(const s of e){switch(s.type){case"Point":o=Math.min(o,D3(i,!0,[s.coordinates],!1,r,o));break;case"LineString":o=Math.min(o,D3(i,!0,s.coordinates,!0,r,o));break;case"Polygon":o=Math.min(o,k3(i,!0,s.coordinates,r,o));break}if(o===0)return o}return o}function hZ(n,e){const t=n.geometry();if(t.length===0||t[0].length===0)return NaN;const i=nZ(t).map(s=>s.map(a=>a.map(p=>l8([p.x,p.y],n.canonical)))),r=new A8(i[0][0][0][1]);let o=1/0;for(const s of e)for(const a of i){switch(s.type){case"Point":o=Math.min(o,k3([s.coordinates],!1,a,r,o));break;case"LineString":o=Math.min(o,k3(s.coordinates,!0,a,r,o));break;case"Polygon":o=Math.min(o,uZ(a,s.coordinates,r,o));break}if(o===0)return o}return o}function m5(n){return n.type==="MultiPolygon"?n.coordinates.map(e=>({type:"Polygon",coordinates:e})):n.type==="MultiLineString"?n.coordinates.map(e=>({type:"LineString",coordinates:e})):n.type==="MultiPoint"?n.coordinates.map(e=>({type:"Point",coordinates:e})):[n]}class ny{constructor(e,t){this.type=Ti,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Z_(e[1])){const i=e[1];if(i.type==="FeatureCollection")return new ny(i,i.features.map(r=>m5(r.geometry)).flat());if(i.type==="Feature")return new ny(i,m5(i.geometry));if("type"in i&&"coordinates"in i)return new ny(i,m5(i))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return AZ(e,this.geometries);if(e.geometryType()==="LineString")return cZ(e,this.geometries);if(e.geometryType()==="Polygon")return hZ(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class jb{constructor(e){this.type=Go,this.key=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=e[1];return i==null?t.error("Global state property must be defined."):typeof i!="string"?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new jb(i)}evaluate(e){var t;const i=(t=e.globals)===null||t===void 0?void 0:t.globalState;return!i||Object.keys(i).length===0?null:B_(i,this.key)}eachChild(){}outputDefined(){return!1}}const U2={"==":U$,"!=":K$,">":F$,"<":L$,">=":j$,"<=":z$,array:hm,at:e8,boolean:hm,case:i8,coalesce:X_,collator:R2,format:o8,image:a8,in:t8,"index-of":O3,interpolate:Pp,"interpolate-hcl":Pp,"interpolate-lab":Pp,length:s8,let:I2,literal:tC,match:n8,number:hm,"number-format":r8,object:hm,slice:I3,step:D2,string:hm,"to-boolean":Wg,"to-color":Wg,"to-number":Wg,"to-string":Wg,var:T2,within:ty,distance:ny,"global-state":jb};class Ff{constructor(e,t,i,r){this.name=e,this.type=t,this._evaluate=i,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const i=e[0],r=Ff.definitions[i];if(!r)return t.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(r)?r[0]:r.type,s=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===e.length-1);let p=null;for(const[g,_]of a){p=new O2(t.registry,R3,t.path,null,t.scope);const E=[];let O=!1;for(let B=1;B<e.length;B++){const z=e[B],N=Array.isArray(g)?g[B-1]:g.type,Q=p.parse(z,1+E.length,N);if(!Q){O=!0;break}E.push(Q)}if(!O){if(Array.isArray(g)&&g.length!==E.length){p.error(`Expected ${g.length} arguments, but found ${E.length} instead.`);continue}for(let B=0;B<E.length;B++){const z=Array.isArray(g)?g[B]:g.type,N=E[B];p.concat(B+1).checkSubtype(z,N.type)}if(p.errors.length===0)return new Ff(i,o,_,E)}}if(a.length===1)t.errors.push(...p.errors);else{const _=(a.length?a:s).map(([O])=>fZ(O)).join(" | "),E=[];for(let O=1;O<e.length;O++){const B=t.parse(e[O],1+E.length);if(!B)return null;E.push(Eu(B.type))}t.error(`Expected arguments of type ${_}, but found (${E.join(", ")}) instead.`)}return null}static register(e,t){Ff.definitions=t;for(const i in t)e[i]=Ff}}function G9(n,[e,t,i,r]){e=e.evaluate(n),t=t.evaluate(n),i=i.evaluate(n);const o=r?r.evaluate(n):1,s=Kz(e,t,i,o);if(s)throw new Vu(s);return new ll(e/255,t/255,i/255,o,!1)}function W9(n,e){return n in e}function g5(n,e){const t=e[n];return typeof t>"u"?null:t}function dZ(n,e,t,i){for(;t<=i;){const r=t+i>>1;if(e[r]===n)return!0;e[r]>n?i=r-1:t=r+1}return!1}function P1(n){return{type:n}}Ff.register(U2,{error:[o$,[va],(n,[e])=>{throw new Vu(e.evaluate(n))}],typeof:[va,[Go],(n,[e])=>Eu(Ac(e.evaluate(n)))],"to-rgba":[Uf(Ti,4),[A0],(n,[e])=>{const[t,i,r,o]=e.evaluate(n).rgb;return[t*255,i*255,r*255,o]}],rgb:[A0,[Ti,Ti,Ti],G9],rgba:[A0,[Ti,Ti,Ti,Ti],G9],has:{type:Xo,overloads:[[[va],(n,[e])=>W9(e.evaluate(n),n.properties())],[[va,J1],(n,[e,t])=>W9(e.evaluate(n),t.evaluate(n))]]},get:{type:Go,overloads:[[[va],(n,[e])=>g5(e.evaluate(n),n.properties())],[[va,J1],(n,[e,t])=>g5(e.evaluate(n),t.evaluate(n))]]},"feature-state":[Go,[va],(n,[e])=>g5(e.evaluate(n),n.featureState||{})],properties:[J1,[],n=>n.properties()],"geometry-type":[va,[],n=>n.geometryType()],id:[Go,[],n=>n.id()],zoom:[Ti,[],n=>n.globals.zoom],"heatmap-density":[Ti,[],n=>n.globals.heatmapDensity||0],elevation:[Ti,[],n=>n.globals.elevation||0],"line-progress":[Ti,[],n=>n.globals.lineProgress||0],accumulated:[Go,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Ti,P1(Ti),(n,e)=>{let t=0;for(const i of e)t+=i.evaluate(n);return t}],"*":[Ti,P1(Ti),(n,e)=>{let t=1;for(const i of e)t*=i.evaluate(n);return t}],"-":{type:Ti,overloads:[[[Ti,Ti],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[Ti],(n,[e])=>-e.evaluate(n)]]},"/":[Ti,[Ti,Ti],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[Ti,[Ti,Ti],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[Ti,[],()=>Math.LN2],pi:[Ti,[],()=>Math.PI],e:[Ti,[],()=>Math.E],"^":[Ti,[Ti,Ti],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[Ti,[Ti],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[Ti,[Ti],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[Ti,[Ti],(n,[e])=>Math.log(e.evaluate(n))],log2:[Ti,[Ti],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[Ti,[Ti],(n,[e])=>Math.sin(e.evaluate(n))],cos:[Ti,[Ti],(n,[e])=>Math.cos(e.evaluate(n))],tan:[Ti,[Ti],(n,[e])=>Math.tan(e.evaluate(n))],asin:[Ti,[Ti],(n,[e])=>Math.asin(e.evaluate(n))],acos:[Ti,[Ti],(n,[e])=>Math.acos(e.evaluate(n))],atan:[Ti,[Ti],(n,[e])=>Math.atan(e.evaluate(n))],min:[Ti,P1(Ti),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[Ti,P1(Ti),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[Ti,[Ti],(n,[e])=>Math.abs(e.evaluate(n))],round:[Ti,[Ti],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[Ti,[Ti],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[Ti,[Ti],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[Xo,[va,Go],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[Xo,[Go],(n,[e])=>n.id()===e.value],"filter-type-==":[Xo,[va],(n,[e])=>n.geometryType()===e.value],"filter-<":[Xo,[va,Go],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i<r}],"filter-id-<":[Xo,[Go],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t<i}],"filter->":[Xo,[va,Go],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i>r}],"filter-id->":[Xo,[Go],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t>i}],"filter-<=":[Xo,[va,Go],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[Xo,[Go],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t<=i}],"filter->=":[Xo,[va,Go],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[Xo,[Go],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t>=i}],"filter-has":[Xo,[Go],(n,[e])=>e.value in n.properties()],"filter-has-id":[Xo,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[Xo,[Uf(va)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[Xo,[Uf(Go)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[Xo,[va,Uf(Go)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[Xo,[va,Uf(Go)],(n,[e,t])=>dZ(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Xo,overloads:[[[Xo,Xo],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[P1(Xo),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:Xo,overloads:[[[Xo,Xo],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[P1(Xo),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[Xo,[Xo],(n,[e])=>!e.evaluate(n)],"is-supported-script":[Xo,[va],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[va,[va],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[va,[va],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[va,P1(Go),(n,e)=>e.map(t=>O_(t.evaluate(n))).join("")],"resolved-locale":[va,[M2],(n,[e])=>e.evaluate(n).resolvedLocale()]});function fZ(n){return Array.isArray(n)?`(${n.map(Eu).join(", ")})`:`(${Eu(n.type)}...)`}function R3(n){if(n instanceof T2)return R3(n.boundExpression);if(n instanceof Ff&&n.name==="error")return!1;if(n instanceof R2)return!1;if(n instanceof ty)return!1;if(n instanceof ny)return!1;if(n instanceof jb)return!1;const e=n instanceof Wg||n instanceof hm;let t=!0;return n.eachChild(i=>{e?t=t&&R3(i):t=t&&i instanceof tC}),t?K2(n)&&L2(n,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]):!1}function K2(n){if(n instanceof Ff){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof ty||n instanceof ny)return!1;let e=!0;return n.eachChild(t=>{e&&!K2(t)&&(e=!1)}),e}function eb(n){if(n instanceof Ff&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!eb(t)&&(e=!1)}),e}function L2(n,e){if(n instanceof Ff&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(i=>{t&&!L2(i,e)&&(t=!1)}),t}function wB(n){return{result:"success",value:n}}function Bv(n){return{result:"error",value:n}}function P3(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function Yz(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function d8(n){return!!n.expression&&n.expression.interpolated}function Ca(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function mC(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&Ac(n)===J1}function pZ(n){return n}function mZ(n){switch(n.type){case"color":return ll.parse;case"padding":return Md.parse;case"numberArray":return wd.parse;case"colorArray":return bh.parse;default:return null}}function gZ(n){switch(n){case"exponential":return qz;case"interval":return vZ;case"categorical":return yZ;case"identity":return CZ;default:throw new Error(`Unknown function type "${n}"`)}}function f8(n,e){const t=n.stops&&typeof n.stops[0][0]=="object",i=t||n.property!==void 0,r=t||!i,o=n.type||(d8(e)?"exponential":"interval"),s=mZ(e);if(s&&(n=Jv({},n),n.stops&&(n.stops=n.stops.map(_=>[_[0],s(_[1])])),n.default?n.default=s(n.default):n.default=s(e.default)),n.colorSpace&&!m$(n.colorSpace))throw new Error(`Unknown color space: "${n.colorSpace}"`);const a=gZ(o);let p,g;if(o==="categorical"){p=Object.create(null);for(const _ of n.stops)p[_[0]]=_[1];g=typeof n.stops[0][0]}if(t){const _={},E=[];for(let z=0;z<n.stops.length;z++){const N=n.stops[z],Q=N[0].zoom;_[Q]===void 0&&(_[Q]={zoom:Q,type:n.type,property:n.property,default:n.default,stops:[]},E.push(Q)),_[Q].stops.push([N[0].value,N[1]])}const O=[];for(const z of E)O.push([_[z].zoom,f8(_[z],e)]);const B={name:"linear"};return{kind:"composite",interpolationType:B,interpolationFactor:Pp.interpolationFactor.bind(void 0,B),zoomStops:O.map(z=>z[0]),evaluate({zoom:z},N){return qz({stops:O,base:n.base},e,z).evaluate(z,N)}}}else if(r){const _=o==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:Pp.interpolationFactor.bind(void 0,_),zoomStops:n.stops.map(E=>E[0]),evaluate:({zoom:E})=>a(n,e,E,p,g)}}else return{kind:"source",evaluate(_,E){const O=E&&E.properties?E.properties[n.property]:void 0;return O===void 0?Nb(n.default,e.default):a(n,e,O,p,g)}}}function Nb(n,e,t){if(n!==void 0)return n;if(e!==void 0)return e;if(t!==void 0)return t}function yZ(n,e,t,i,r){const o=typeof t===r?i[t]:void 0;return Nb(o,n.default,e.default)}function vZ(n,e,t){if(Ca(t)!=="number")return Nb(n.default,e.default);const i=n.stops.length;if(i===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[i-1][0])return n.stops[i-1][1];const r=k2(n.stops.map(o=>o[0]),t);return n.stops[r][1]}function qz(n,e,t){const i=n.base!==void 0?n.base:1;if(Ca(t)!=="number")return Nb(n.default,e.default);const r=n.stops.length;if(r===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[r-1][0])return n.stops[r-1][1];const o=k2(n.stops.map(_=>_[0]),t),s=_Z(t,i,n.stops[o][0],n.stops[o+1][0]),a=n.stops[o][1],p=n.stops[o+1][1],g=M$[e.type]||pZ;return typeof a.evaluate=="function"?{evaluate(..._){const E=a.evaluate.apply(void 0,_),O=p.evaluate.apply(void 0,_);if(!(E===void 0||O===void 0))return g(E,O,s,n.colorSpace)}}:g(a,p,s,n.colorSpace)}function CZ(n,e,t){switch(e.type){case"color":t=ll.parse(t);break;case"formatted":t=c0.fromString(t.toString());break;case"resolvedImage":t=rg.fromString(t.toString());break;case"padding":t=Md.parse(t);break;case"colorArray":t=bh.parse(t);break;case"numberArray":t=wd.parse(t);break;default:Ca(t)!==e.type&&(e.type!=="enum"||!e.values[t])&&(t=void 0)}return Nb(t,n.default,e.default)}function _Z(n,e,t,i){const r=i-t,o=n-t;return r===0?0:e===1?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}class Hz{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Lz,this._defaultValue=t?wZ(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,i,r,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=r,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(e,t,i,r,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=r,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new Vu(`Expected value to be one of ${Object.keys(this._enumValues).map(p=>JSON.stringify(p)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}}function gC(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in U2}function F2(n,e){const t=new O2(U2,R3,[],e?MZ(e):void 0),i=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return i?wB(new Hz(i,e)):Bv(t.errors)}class SB{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!eb(t.expression),this.globalStateRefs=N2(t.expression)}evaluateWithoutErrorHandling(e,t,i,r,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,o,s)}evaluate(e,t,i,r,o,s){return this._styleExpression.evaluate(e,t,i,r,o,s)}}class EB{constructor(e,t,i,r){this.kind=e,this.zoomStops=i,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!eb(t.expression),this.globalStateRefs=N2(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,i,r,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,o,s)}evaluate(e,t,i,r,o,s){return this._styleExpression.evaluate(e,t,i,r,o,s)}interpolationFactor(e,t,i){return this.interpolationType?Pp.interpolationFactor(this.interpolationType,e,t,i):0}}function bZ(n){return n._styleExpression!==void 0}function z2(n,e){const t=F2(n,e);if(t.result==="error")return t;const i=t.value.expression,r=K2(i);if(!r&&!P3(e))return Bv([new i0("","data expressions not supported")]);const o=L2(i,["zoom"]);if(!o&&!Yz(e))return Bv([new i0("","zoom expressions not supported")]);const s=u3(i);if(!s&&!o)return Bv([new i0("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof i0)return Bv([s]);if(s instanceof Pp&&!d8(e))return Bv([new i0("",'"interpolate" expressions cannot be used with this property')]);if(!s)return wB(r?new SB("constant",t.value):new SB("source",t.value));const a=s instanceof Pp?s.interpolation:void 0;return wB(r?new EB("camera",t.value,s.labels,a):new EB("composite",t.value,s.labels,a))}class j2{constructor(e,t){this._parameters=e,this._specification=t,Jv(this,f8(this._parameters,this._specification))}static deserialize(e){return new j2(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function xZ(n,e){if(mC(n))return new j2(n,e);if(gC(n)){const t=z2(n,e);if(t.result==="error")throw new Error(t.value.map(i=>`${i.key}: ${i.message}`).join(", "));return t.value}else{let t=n;return e.type==="color"&&typeof n=="string"?t=ll.parse(n):e.type==="padding"&&(typeof n=="number"||Array.isArray(n))?t=Md.parse(n):e.type==="numberArray"&&(typeof n=="number"||Array.isArray(n))?t=wd.parse(n):e.type==="colorArray"&&(typeof n=="string"||Array.isArray(n))?t=bh.parse(n):e.type==="variableAnchorOffsetCollection"&&Array.isArray(n)?t=Rp.parse(n):e.type==="projectionDefinition"&&typeof n=="string"&&(t=Ip.parse(n)),{globalStateRefs:new Set,kind:"constant",evaluate:()=>t}}}function u3(n){let e=null;if(n instanceof I2)e=u3(n.result);else if(n instanceof X_){for(const t of n.args)if(e=u3(t),e)break}else(n instanceof D2||n instanceof Pp)&&n.input instanceof Ff&&n.input.name==="zoom"&&(e=n);return e instanceof i0||n.eachChild(t=>{const i=u3(t);i instanceof i0?e=i:!e&&i?e=new i0("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new i0("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function N2(n,e=new Set){return n instanceof jb&&e.add(n.key),n.eachChild(t=>{N2(t,e)}),e}function MZ(n){const e={color:A0,string:va,number:Ti,enum:va,boolean:Xo,formatted:w2,padding:S2,numberArray:E2,colorArray:V_,projectionDefinition:x2,resolvedImage:Fb,variableAnchorOffsetCollection:B2};return n.type==="array"?Uf(e[n.value]||Go,n.length):e[n.type]}function wZ(n){if(n.type==="color"&&mC(n.default))return new ll(0,0,0,0);switch(n.type){case"color":return ll.parse(n.default)||null;case"padding":return Md.parse(n.default)||null;case"numberArray":return wd.parse(n.default)||null;case"colorArray":return bh.parse(n.default)||null;case"variableAnchorOffsetCollection":return Rp.parse(n.default)||null;case"projectionDefinition":return Ip.parse(n.default)||null;default:return n.default===void 0?null:n.default}}function Gb(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!Gb(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const SZ={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function EZ(n){if(n==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Gb(n)||(n=U3(n));const e=F2(n,SZ);if(e.result==="error")throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));{const t=Vz(n);return{filter:(i,r,o)=>e.value.evaluate(i,r,{},o),needGeometry:t,getGlobalStateRefs:()=>N2(e.value.expression)}}}function BZ(n,e){return n<e?-1:n>e?1:0}function Vz(n){if(!Array.isArray(n))return!1;if(n[0]==="within"||n[0]==="distance")return!0;for(let e=1;e<n.length;e++)if(Vz(n[e]))return!0;return!1}function U3(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?y5(n[1],n[2],"=="):e==="!="?bx(y5(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?y5(n[1],n[2],e):e==="any"?OZ(n.slice(1)):e==="all"?["all"].concat(n.slice(1).map(U3)):e==="none"?["all"].concat(n.slice(1).map(U3).map(bx)):e==="in"?Q9(n[1],n.slice(2)):e==="!in"?bx(Q9(n[1],n.slice(2))):e==="has"?Y9(n[1]):e==="!has"?bx(Y9(n[1])):!0}function y5(n,e,t){switch(n){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,n,e]}}function OZ(n){return["any"].concat(n.map(U3))}function Q9(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",n,["literal",e.sort(BZ)]]:["filter-in-small",n,["literal",e]]}}function Y9(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function bx(n){return["!",n]}function I_(n,e={}){if(Gb(n))return n;if(!n)return!0;const t=n,i=t[0];if(n.length<=1)return i!=="any";switch(i){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,r,o]=n;return TZ(r,o,i,e)}case"any":{const[,...r]=t;return["any",...r.map(s=>{const a={},p=I_(s,a),g=IZ(a);return g===!0?p:["case",g,p,!1]})]}case"all":{const[,...r]=t,o=r.map(s=>I_(s,e));return o.length>1?["all",...o]:o[0]}case"none":{const[,...r]=t;return["!",I_(["any",...r],{})]}case"in":{const[,r,...o]=t;return q9(r,o)}case"!in":{const[,r,...o]=t;return q9(r,o,!0)}case"has":return H9(t[1]);case"!has":return["!",H9(t[1])];default:return!0}}function IZ(n){const e=[];for(const t in n){const i=t==="$id"?["id"]:["get",t];e.push(["==",["typeof",i],n[t]])}return e.length===0?!0:e.length===1?e[0]:["all",...e]}function TZ(n,e,t,i){let r;if(n==="$type")return[t,["geometry-type"],e];if(n==="$id"?r=["id"]:r=["get",n],i&&e!==null){const o=typeof e;i[n]=o}return t==="=="&&n!=="$id"&&e===null?["all",["has",n],["==",r,null]]:t==="!="&&n!=="$id"&&e===null?["any",["!",["has",n]],["!=",r,null]]:[t,r,e]}function q9(n,e,t=!1){if(e.length===0)return t;let i;n==="$type"?i=["geometry-type"]:n==="$id"?i=["id"]:i=["get",n];let r=!0;const o=typeof e[0];for(const s of e)if(typeof s!==o){r=!1;break}if(r&&(o==="string"||o==="number")){const s=e.sort().filter((a,p)=>p===0||e[p-1]!==a);return["match",i,s,!t,t]}return t?["all",...e.map(s=>["!=",i,s])]:["any",...e.map(s=>["==",i,s])]}function H9(n){return n==="$type"?!0:n==="$id"?["!=",["id"],null]:["has",n]}function tb(n){return typeof n=="object"?["literal",n]:n}function p8(n,e){let t=n.stops;if(!t)return kZ(n,e);const i=t&&typeof t[0][0]=="object",r=i||n.property!==void 0,o=i||!r;return t=t.map(s=>!r&&e.tokens&&typeof s[1]=="string"?[s[0],$z(s[1])]:[s[0],tb(s[1])]),i?DZ(n,e,t):o?PZ(n,e,t):BB(n,e,t)}function kZ(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const i=[e.type==="color"?"to-color":e.type,t,tb(n.default)];return e.type==="array"&&i.splice(1,0,e.value,e.length||null),i}}function m8(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function DZ(n,e,t){const i={},r={},o=[];for(let a=0;a<t.length;a++){const p=t[a],g=p[0].zoom;i[g]===void 0&&(i[g]={zoom:g,type:n.type,property:n.property,default:n.default},r[g]=[],o.push(g)),r[g].push([p[0].value,p[1]])}if(y8({},e)==="exponential"){const a=[m8(n),["linear"],["zoom"]];for(const p of o){const g=BB(i[p],e,r[p]);jv(a,p,g,!1)}return a}else{const a=["step",["zoom"]];for(const p of o){const g=BB(i[p],e,r[p]);jv(a,p,g,!0)}return g8(a),a}}function RZ(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function V9(n,e){const t=tb(RZ(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function BB(n,e,t){const i=y8(n,e),r=["get",n.property];if(i==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",r,s[0]],s[1]);return o.push(V9(n,e)),o}else if(i==="categorical"){const o=["match",r];for(const s of t)jv(o,s[0],s[1],!1);return o.push(V9(n,e)),o}else if(i==="interval"){const o=["step",["number",r]];for(const s of t)jv(o,s[0],s[1],!0);return g8(o),n.default===void 0?o:["case",["==",["typeof",r],"number"],o,tb(n.default)]}else if(i==="exponential"){const o=n.base!==void 0?n.base:1,s=[m8(n),o===1?["linear"]:["exponential",o],["number",r]];for(const a of t)jv(s,a[0],a[1],!1);return n.default===void 0?s:["case",["==",["typeof",r],"number"],s,tb(n.default)]}else throw new Error(`Unknown property function type ${i}`)}function PZ(n,e,t,i=["zoom"]){const r=y8(n,e);let o,s=!1;if(r==="interval")o=["step",i],s=!0;else if(r==="exponential"){const a=n.base!==void 0?n.base:1;o=[m8(n),a===1?["linear"]:["exponential",a],i]}else throw new Error(`Unknown zoom function type "${r}"`);for(const a of t)jv(o,a[0],a[1],s);return g8(o),o}function g8(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function jv(n,e,t,i){n.length>3&&e===n[n.length-2]||(i&&n.length===2||n.push(e),n.push(t))}function y8(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function $z(n){const e=["concat"],t=/{([^{}]+)}/g;let i=0;for(let r=t.exec(n);r!==null;r=t.exec(n)){const o=n.slice(i,t.lastIndex-r[0].length);i=t.lastIndex,o.length>0&&e.push(o),e.push(["get",r[1]])}if(e.length===1)return n;if(i<n.length)e.push(n.slice(i));else if(e.length===2)return["to-string",e[1]];return e}function UZ(n){for(let e=0;e<ts.layout.length;e++)for(const t in ts[ts.layout[e]])if(t===n)return ts[ts.layout[e]][t];for(let e=0;e<ts.paint.length;e++)for(const t in ts[ts.paint[e]])if(t===n)return ts[ts.paint[e]][t];return null}function KZ(n,e){for(const t in n.sources)e(n.sources[t])}function T_(n,e){for(const t of n.layers)e(t)}function v8(n,e,t){function i(r,o){const s=r[o];s&&Object.keys(s).forEach(a=>{t({path:[r.id,o,a],key:a,value:s[a],reference:UZ(a),set(p){s[a]=p}})})}T_(n,r=>{e.paint&&i(r,"paint"),e.layout&&i(r,"layout")})}function Zz(n){const e=n.key,t=n.value;return t?[new bi(e,t,"constants have been deprecated as of v8")]:[]}function mA(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function ly(n){if(Array.isArray(n))return n.map(ly);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const t in n)e[t]=ly(n[t]);return e}return mA(n)}function Tp(n){const e=n.key,t=n.value,i=n.valueSpec||{},r=n.objectElementValidators||{},o=n.style,s=n.styleSpec,a=n.validateSpec;let p=[];const g=Ca(t);if(g!=="object")return[new bi(e,t,`object expected, ${g} found`)];for(const _ in t){const E=_.split(".")[0],O=B_(i,E)||i["*"];let B;if(B_(r,E))B=r[E];else if(B_(i,E))B=a;else if(r["*"])B=r["*"];else if(i["*"])B=a;else{p.push(new bi(e,t[_],`unknown property "${_}"`));continue}p=p.concat(B({key:(e&&`${e}.`)+_,value:t[_],valueSpec:O,style:o,styleSpec:s,object:t,objectKey:_,validateSpec:a},t))}for(const _ in i)r[_]||i[_].required&&i[_].default===void 0&&t[_]===void 0&&p.push(new bi(e,t,`missing required property "${_}"`));return p}function C8(n){const e=n.value,t=n.valueSpec,i=n.validateSpec,r=n.style,o=n.styleSpec,s=n.key,a=n.arrayElementValidator||i;if(Ca(e)!=="array")return[new bi(s,e,`array expected, ${Ca(e)} found`)];if(t.length&&e.length!==t.length)return[new bi(s,e,`array length ${t.length} expected, length ${e.length} found`)];if(t["min-length"]&&e.length<t["min-length"])return[new bi(s,e,`array length at least ${t["min-length"]} expected, length ${e.length} found`)];let p={type:t.value,values:t.values};o.$version<7&&(p.function=t.function),Ca(t.value)==="object"&&(p=t.value);let g=[];for(let _=0;_<e.length;_++)g=g.concat(a({array:e,arrayIndex:_,value:e[_],valueSpec:p,validateSpec:n.validateSpec,style:r,styleSpec:o,key:`${s}[${_}]`}));return g}function G2(n){const e=n.key,t=n.value,i=n.valueSpec;let r=Ca(t);return r==="number"&&t!==t&&(r="NaN"),r!=="number"?[new bi(e,t,`number expected, ${r} found`)]:"minimum"in i&&t<i.minimum?[new bi(e,t,`${t} is less than the minimum value ${i.minimum}`)]:"maximum"in i&&t>i.maximum?[new bi(e,t,`${t} is greater than the maximum value ${i.maximum}`)]:[]}function Xz(n){const e=n.valueSpec,t=mA(n.value.type);let i,r={},o,s;const a=t!=="categorical"&&n.value.property===void 0,p=!a,g=Ca(n.value.stops)==="array"&&Ca(n.value.stops[0])==="array"&&Ca(n.value.stops[0][0])==="object",_=Tp({key:n.key,value:n.value,valueSpec:n.styleSpec.function,validateSpec:n.validateSpec,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:E,default:z}});return t==="identity"&&a&&_.push(new bi(n.key,n.value,'missing required property "property"')),t!=="identity"&&!n.value.stops&&_.push(new bi(n.key,n.value,'missing required property "stops"')),t==="exponential"&&n.valueSpec.expression&&!d8(n.valueSpec)&&_.push(new bi(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(p&&!P3(n.valueSpec)?_.push(new bi(n.key,n.value,"property functions not supported")):a&&!Yz(n.valueSpec)&&_.push(new bi(n.key,n.value,"zoom functions not supported"))),(t==="categorical"||g)&&n.value.property===void 0&&_.push(new bi(n.key,n.value,'"property" property is required')),_;function E(N){if(t==="identity")return[new bi(N.key,N.value,'identity function may not have a "stops" property')];let Q=[];const $=N.value;return Q=Q.concat(C8({key:N.key,value:$,valueSpec:N.valueSpec,validateSpec:N.validateSpec,style:N.style,styleSpec:N.styleSpec,arrayElementValidator:O})),Ca($)==="array"&&$.length===0&&Q.push(new bi(N.key,$,"array must have at least one stop")),Q}function O(N){let Q=[];const $=N.value,X=N.key;if(Ca($)!=="array")return[new bi(X,$,`array expected, ${Ca($)} found`)];if($.length!==2)return[new bi(X,$,`array length 2 expected, length ${$.length} found`)];if(g){if(Ca($[0])!=="object")return[new bi(X,$,`object expected, ${Ca($[0])} found`)];if($[0].zoom===void 0)return[new bi(X,$,"object stop key must have zoom")];if($[0].value===void 0)return[new bi(X,$,"object stop key must have value")];if(s&&s>mA($[0].zoom))return[new bi(X,$[0].zoom,"stop zoom values must appear in ascending order")];mA($[0].zoom)!==s&&(s=mA($[0].zoom),o=void 0,r={}),Q=Q.concat(Tp({key:`${X}[0]`,value:$[0],valueSpec:{zoom:{}},validateSpec:N.validateSpec,style:N.style,styleSpec:N.styleSpec,objectElementValidators:{zoom:G2,value:B}}))}else Q=Q.concat(B({key:`${X}[0]`,value:$[0],validateSpec:N.validateSpec,style:N.style,styleSpec:N.styleSpec},$));return gC(ly($[1]))?Q.concat([new bi(`${X}[1]`,$[1],"expressions are not allowed in function stops.")]):Q.concat(N.validateSpec({key:`${X}[1]`,value:$[1],valueSpec:e,validateSpec:N.validateSpec,style:N.style,styleSpec:N.styleSpec}))}function B(N,Q){const $=Ca(N.value),X=mA(N.value),re=N.value!==null?N.value:Q;if(!i)i=$;else if($!==i)return[new bi(N.key,re,`${$} stop domain type must match previous stop domain type ${i}`)];if($!=="number"&&$!=="string"&&$!=="boolean")return[new bi(N.key,re,"stop domain value must be a number, string, or boolean")];if($!=="number"&&t!=="categorical"){let ne=`number expected, ${$} found`;return P3(e)&&t===void 0&&(ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new bi(N.key,re,ne)]}return t==="categorical"&&$==="number"&&(!isFinite(X)||Math.floor(X)!==X)?[new bi(N.key,re,`integer expected, found ${X}`)]:t!=="categorical"&&$==="number"&&o!==void 0&&X<o?[new bi(N.key,re,"stop domain values must appear in ascending order")]:(o=X,t==="categorical"&&X in r?[new bi(N.key,re,"stop domain values must be unique")]:(r[X]=!0,[]))}function z(N){return N.validateSpec({key:N.key,value:N.value,valueSpec:e,validateSpec:N.validateSpec,style:N.style,styleSpec:N.styleSpec})}}function nC(n){const e=(n.expressionContext==="property"?z2:F2)(ly(n.value),n.valueSpec);if(e.result==="error")return e.value.map(i=>new bi(`${n.key}${i.key}`,n.value,i.message));const t=e.value.expression||e.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!t.outputDefined())return[new bi(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!eb(t))return[new bi(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!eb(t))return[new bi(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!L2(t,["zoom","feature-state"]))return[new bi(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!K2(t))return[new bi(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function LZ(n){const e=n.value,t=n.key,i=Ca(e);return i!=="boolean"?[new bi(t,e,`boolean expected, ${i} found`)]:[]}function OB(n){const e=n.key,t=n.value,i=Ca(t);return i!=="string"?[new bi(e,t,`color expected, ${i} found`)]:ll.parse(String(t))?[]:[new bi(e,t,`color expected, "${t}" found`)]}function nb(n){const e=n.key,t=n.value,i=n.valueSpec,r=[];return Array.isArray(i.values)?i.values.indexOf(mA(t))===-1&&r.push(new bi(e,t,`expected one of [${i.values.join(", ")}], ${JSON.stringify(t)} found`)):Object.keys(i.values).indexOf(mA(t))===-1&&r.push(new bi(e,t,`expected one of [${Object.keys(i.values).join(", ")}], ${JSON.stringify(t)} found`)),r}function _8(n){return Gb(ly(n.value))?nC(Jv({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Jz(n)}function Jz(n){const e=n.value,t=n.key;if(Ca(e)!=="array")return[new bi(t,e,`array expected, ${Ca(e)} found`)];const i=n.styleSpec;let r,o=[];if(e.length<1)return[new bi(t,e,"filter array must have at least 1 element")];switch(o=o.concat(nb({key:`${t}[0]`,value:e[0],valueSpec:i.filter_operator,style:n.style,styleSpec:n.styleSpec})),mA(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&mA(e[1])==="$type"&&o.push(new bi(t,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&o.push(new bi(t,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(r=Ca(e[1]),r!=="string"&&o.push(new bi(`${t}[1]`,e[1],`string expected, ${r} found`)));for(let s=2;s<e.length;s++)r=Ca(e[s]),mA(e[1])==="$type"?o=o.concat(nb({key:`${t}[${s}]`,value:e[s],valueSpec:i.geometry_type,style:n.style,styleSpec:n.styleSpec})):r!=="string"&&r!=="number"&&r!=="boolean"&&o.push(new bi(`${t}[${s}]`,e[s],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let s=1;s<e.length;s++)o=o.concat(Jz({key:`${t}[${s}]`,value:e[s],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":r=Ca(e[1]),e.length!==2?o.push(new bi(t,e,`filter array for "${e[0]}" operator must have 2 elements`)):r!=="string"&&o.push(new bi(`${t}[1]`,e[1],`string expected, ${r} found`));break}return o}function ej(n,e){const t=n.key,i=n.validateSpec,r=n.style,o=n.styleSpec,s=n.value,a=n.objectKey,p=o[`${e}_${n.layerType}`];if(!p)return[];const g=a.match(/^(.*)-transition$/);if(e==="paint"&&g&&p[g[1]]&&p[g[1]].transition)return i({key:t,value:s,valueSpec:o.transition,style:r,styleSpec:o});const _=n.valueSpec||p[a];if(!_)return[new bi(t,s,`unknown property "${a}"`)];let E;if(Ca(s)==="string"&&P3(_)&&!_.tokens&&(E=/^{([^}]+)}$/.exec(s)))return[new bi(t,s,`"${a}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(E[1])} }\`.`)];const O=[];return n.layerType==="symbol"&&(a==="text-field"&&r&&!r.glyphs&&O.push(new bi(t,s,'use of "text-field" requires a style "glyphs" property')),a==="text-font"&&mC(ly(s))&&mA(s.type)==="identity"&&O.push(new bi(t,s,'"text-font" does not support identity functions'))),O.concat(i({key:n.key,value:s,valueSpec:_,style:r,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:a}))}function tj(n){return ej(n,"paint")}function nj(n){return ej(n,"layout")}function ij(n){let e=[];const t=n.value,i=n.key,r=n.style,o=n.styleSpec;if(Ca(t)!=="object")return[new bi(i,t,`object expected, ${Ca(t)} found`)];!t.type&&!t.ref&&e.push(new bi(i,t,'either "type" or "ref" is required'));let s=mA(t.type);const a=mA(t.ref);if(t.id){const p=mA(t.id);for(let g=0;g<n.arrayIndex;g++){const _=r.layers[g];mA(_.id)===p&&e.push(new bi(i,t.id,`duplicate layer id "${t.id}", previously used at line ${_.id.__line__}`))}}if("ref"in t){["type","source","source-layer","filter","layout"].forEach(g=>{g in t&&e.push(new bi(i,t[g],`"${g}" is prohibited for ref layers`))});let p;r.layers.forEach(g=>{mA(g.id)===a&&(p=g)}),p?p.ref?e.push(new bi(i,t.ref,"ref cannot reference another ref layer")):s=mA(p.type):e.push(new bi(i,t.ref,`ref layer "${a}" not found`))}else if(s!=="background")if(!t.source)e.push(new bi(i,t,'missing required property "source"'));else{const p=r.sources&&r.sources[t.source],g=p&&mA(p.type);p?g==="vector"&&s==="raster"?e.push(new bi(i,t.source,`layer "${t.id}" requires a raster source`)):g!=="raster-dem"&&s==="hillshade"?e.push(new bi(i,t.source,`layer "${t.id}" requires a raster-dem source`)):g!=="raster-dem"&&s==="color-relief"?e.push(new bi(i,t.source,`layer "${t.id}" requires a raster-dem source`)):g==="raster"&&s!=="raster"?e.push(new bi(i,t.source,`layer "${t.id}" requires a vector source`)):g==="vector"&&!t["source-layer"]?e.push(new bi(i,t,`layer "${t.id}" must specify a "source-layer"`)):g==="raster-dem"&&s!=="hillshade"&&s!=="color-relief"?e.push(new bi(i,t.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):s==="line"&&t.paint&&t.paint["line-gradient"]&&(g!=="geojson"||!p.lineMetrics)&&e.push(new bi(i,t,`layer "${t.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new bi(i,t.source,`source "${t.source}" not found`))}return e=e.concat(Tp({key:i,value:t,valueSpec:o.layer,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,objectElementValidators:{"*"(){return[]},type(){return n.validateSpec({key:`${i}.type`,value:t.type,valueSpec:o.layer.type,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,object:t,objectKey:"type"})},filter:_8,layout(p){return Tp({layer:t,key:p.key,value:p.value,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*"(g){return nj(Jv({layerType:s},g))}}})},paint(p){return Tp({layer:t,key:p.key,value:p.value,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*"(g){return tj(Jv({layerType:s},g))}}})}}})),e}function uy(n){const e=n.value,t=n.key,i=Ca(e);return i!=="string"?[new bi(t,e,`string expected, ${i} found`)]:[]}function FZ(n){var e;const t=(e=n.sourceName)!==null&&e!==void 0?e:"",i=n.value,r=n.styleSpec,o=r.source_raster_dem,s=n.style;let a=[];const p=Ca(i);if(i===void 0)return a;if(p!=="object")return a.push(new bi("source_raster_dem",i,`object expected, ${p} found`)),a;const _=mA(i.encoding)==="custom",E=["redFactor","greenFactor","blueFactor","baseShift"],O=n.value.encoding?`"${n.value.encoding}"`:"Default";for(const B in i)!_&&E.includes(B)?a.push(new bi(B,i[B],`In "${t}": "${B}" is only valid when "encoding" is set to "custom". ${O} encoding found`)):o[B]?a=a.concat(n.validateSpec({key:B,value:i[B],valueSpec:o[B],validateSpec:n.validateSpec,style:s,styleSpec:r})):a.push(new bi(B,i[B],`unknown property "${B}"`));return a}const $9={promoteId:zZ};function rj(n){const e=n.value,t=n.key,i=n.styleSpec,r=n.style,o=n.validateSpec;if(!e.type)return[new bi(t,e,'"type" is required')];const s=mA(e.type);let a;switch(s){case"vector":case"raster":return a=Tp({key:t,value:e,valueSpec:i[`source_${s.replace("-","_")}`],style:n.style,styleSpec:i,objectElementValidators:$9,validateSpec:o}),a;case"raster-dem":return a=FZ({sourceName:t,value:e,style:n.style,styleSpec:i,validateSpec:o}),a;case"geojson":if(a=Tp({key:t,value:e,valueSpec:i.source_geojson,style:r,styleSpec:i,validateSpec:o,objectElementValidators:$9}),e.cluster)for(const p in e.clusterProperties){const[g,_]=e.clusterProperties[p],E=typeof g=="string"?[g,["accumulated"],["get",p]]:g;a.push(...nC({key:`${t}.${p}.map`,value:_,expressionContext:"cluster-map"})),a.push(...nC({key:`${t}.${p}.reduce`,value:E,expressionContext:"cluster-reduce"}))}return a;case"video":return Tp({key:t,value:e,valueSpec:i.source_video,style:r,validateSpec:o,styleSpec:i});case"image":return Tp({key:t,value:e,valueSpec:i.source_image,style:r,validateSpec:o,styleSpec:i});case"canvas":return[new bi(t,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nb({key:`${t}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function zZ({key:n,value:e}){if(Ca(e)==="string")return uy({key:n,value:e});{const t=[];for(const i in e)t.push(...uy({key:`${n}.${i}`,value:e[i]}));return t}}function oj(n){const e=n.value,t=n.styleSpec,i=t.light,r=n.style;let o=[];const s=Ca(e);if(e===void 0)return o;if(s!=="object")return o=o.concat([new bi("light",e,`object expected, ${s} found`)]),o;for(const a in e){const p=a.match(/^(.*)-transition$/);p&&i[p[1]]&&i[p[1]].transition?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:t.transition,validateSpec:n.validateSpec,style:r,styleSpec:t})):i[a]?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:i[a],validateSpec:n.validateSpec,style:r,styleSpec:t})):o=o.concat([new bi(a,e[a],`unknown property "${a}"`)])}return o}function aj(n){const e=n.value,t=n.styleSpec,i=t.sky,r=n.style,o=Ca(e);if(e===void 0)return[];if(o!=="object")return[new bi("sky",e,`object expected, ${o} found`)];let s=[];for(const a in e)i[a]?s=s.concat(n.validateSpec({key:a,value:e[a],valueSpec:i[a],style:r,styleSpec:t})):s=s.concat([new bi(a,e[a],`unknown property "${a}"`)]);return s}function sj(n){const e=n.value,t=n.styleSpec,i=t.terrain,r=n.style;let o=[];const s=Ca(e);if(e===void 0)return o;if(s!=="object")return o=o.concat([new bi("terrain",e,`object expected, ${s} found`)]),o;for(const a in e)i[a]?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:i[a],validateSpec:n.validateSpec,style:r,styleSpec:t})):o=o.concat([new bi(a,e[a],`unknown property "${a}"`)]);return o}function jZ(n){return uy(n).length===0?[]:nC(n)}function NZ(n){return uy(n).length===0?[]:nC(n)}function GZ(n){const e=n.key,t=n.value;if(Ca(t)==="array"){if(t.length<1||t.length>4)return[new bi(e,t,`padding requires 1 to 4 values; ${t.length} values found`)];const r={type:"number"};let o=[];for(let s=0;s<t.length;s++)o=o.concat(n.validateSpec({key:`${e}[${s}]`,value:t[s],validateSpec:n.validateSpec,valueSpec:r}));return o}else return G2({key:e,value:t,valueSpec:{}})}function WZ(n){const e=n.key,t=n.value;if(Ca(t)==="array"){const r={type:"number"};if(t.length<1)return[new bi(e,t,"array length at least 1 expected, length 0 found")];let o=[];for(let s=0;s<t.length;s++)o=o.concat(n.validateSpec({key:`${e}[${s}]`,value:t[s],validateSpec:n.validateSpec,valueSpec:r}));return o}else return G2({key:e,value:t,valueSpec:{}})}function QZ(n){const e=n.key,t=n.value;if(Ca(t)==="array"){if(t.length<1)return[new bi(e,t,"array length at least 1 expected, length 0 found")];let r=[];for(let o=0;o<t.length;o++)r=r.concat(OB({key:`${e}[${o}]`,value:t[o]}));return r}else return OB({key:e,value:t})}function YZ(n){const e=n.key,t=n.value,i=Ca(t),r=n.styleSpec;if(i!=="array"||t.length<1||t.length%2!==0)return[new bi(e,t,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let s=0;s<t.length;s+=2)o=o.concat(nb({key:`${e}[${s}]`,value:t[s],valueSpec:r.layout_symbol["text-anchor"]})),o=o.concat(C8({key:`${e}[${s+1}]`,value:t[s+1],valueSpec:{length:2,value:"number"},validateSpec:n.validateSpec,style:n.style,styleSpec:r}));return o}function lj(n){let e=[];const t=n.value,i=n.key;if(Array.isArray(t)){const r=[],o=[];for(const s in t){t[s].id&&r.includes(t[s].id)&&e.push(new bi(i,t,`all the sprites' ids must be unique, but ${t[s].id} is duplicated`)),r.push(t[s].id),t[s].url&&o.includes(t[s].url)&&e.push(new bi(i,t,`all the sprites' URLs must be unique, but ${t[s].url} is duplicated`)),o.push(t[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};e=e.concat(Tp({key:`${i}[${s}]`,value:t[s],valueSpec:a,validateSpec:n.validateSpec}))}return e}else return uy({key:i,value:t})}function qZ(n){const e=n.value,t=n.styleSpec,i=t.projection,r=n.style,o=Ca(e);if(e===void 0)return[];if(o!=="object")return[new bi("projection",e,`object expected, ${o} found`)];let s=[];for(const a in e)i[a]?s=s.concat(n.validateSpec({key:a,value:e[a],valueSpec:i[a],style:r,styleSpec:t})):s=s.concat([new bi(a,e[a],`unknown property "${a}"`)]);return s}function HZ(n){const e=n.key;let t=n.value;t=t instanceof String?t.valueOf():t;const i=Ca(t);return i==="array"&&!$Z(t)&&!VZ(t)?[new bi(e,t,`projection expected, invalid array ${JSON.stringify(t)} found`)]:["array","string"].includes(i)?[]:[new bi(e,t,`projection expected, invalid type "${i}" found`)]}function VZ(n){return!!["interpolate","step","literal"].includes(n[0])}function $Z(n){return Array.isArray(n)&&n.length===3&&typeof n[0]=="string"&&typeof n[1]=="string"&&typeof n[2]=="number"}function ZZ(n){return!!n&&n.constructor===Object}function uj(n){return ZZ(n.value)?[]:[new bi(n.key,n.value,`object expected, ${Ca(n.value)} found`)]}const Z9={"*"(){return[]},array:C8,boolean:LZ,number:G2,color:OB,constants:Zz,enum:nb,filter:_8,function:Xz,layer:ij,object:Tp,source:rj,light:oj,sky:aj,terrain:sj,projection:qZ,projectionDefinition:HZ,string:uy,formatted:jZ,resolvedImage:NZ,padding:GZ,numberArray:WZ,colorArray:QZ,variableAnchorOffsetCollection:YZ,sprite:lj,state:uj};function K3(n){const e=n.value,t=n.valueSpec,i=n.styleSpec;return n.validateSpec=K3,t.expression&&mC(mA(e))?Xz(n):t.expression&&gC(ly(e))?nC(n):t.type&&Z9[t.type]?Z9[t.type](n):Tp(Jv({},n,{valueSpec:t.type?i[t.type]:t}))}function Aj(n){const e=n.value,t=n.key,i=uy(n);return i.length||(e.indexOf("{fontstack}")===-1&&i.push(new bi(t,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&i.push(new bi(t,e,'"glyphs" url must include a "{range}" token'))),i}function Wf(n,e=ts){let t=[];return t=t.concat(K3({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,validateSpec:K3,objectElementValidators:{glyphs:Aj,"*"(){return[]}}})),n.constants&&(t=t.concat(Zz({key:"constants",value:n.constants}))),cj(t)}Wf.source=xm(bm(rj));Wf.sprite=xm(bm(lj));Wf.glyphs=xm(bm(Aj));Wf.light=xm(bm(oj));Wf.sky=xm(bm(aj));Wf.terrain=xm(bm(sj));Wf.state=xm(bm(uj));Wf.layer=xm(bm(ij));Wf.filter=xm(bm(_8));Wf.paintProperty=xm(bm(tj));Wf.layoutProperty=xm(bm(nj));function bm(n){return function(e){return n({...e,validateSpec:K3})}}function cj(n){return[].concat(n).sort((e,t)=>e.line-t.line)}function xm(n){return function(...e){return cj(n.apply(this,e))}}const XZ=/("(?:[^\\"]|\\.)*")|[:,]/g;function JZ(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:r}=e;return function o(s,a,p){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const g=JSON.stringify(s,r);if(g===void 0)return g;const _=i-a.length-p;if(g.length<=_){const E=g.replace(XZ,(O,B)=>B||`${O} `);if(E.length<=_)return E}if(r!=null&&(s=JSON.parse(g),r=void 0),typeof s=="object"&&s!==null){const E=a+t,O=[];let B=0,z,N;if(Array.isArray(s)){z="[",N="]";const{length:Q}=s;for(;B<Q;B++)O.push(o(s[B],E,B===Q-1?0:1)||"null")}else{z="{",N="}";const Q=Object.keys(s),{length:$}=Q;for(;B<$;B++){const X=Q[B],re=`${JSON.stringify(X)}: `,ne=o(s[X],E,re.length+(B===$-1?0:1));ne!==void 0&&O.push(re+ne)}}if(O.length>0)return[z,t+O.join(`,
${E}`),N].join(`
${a}`)}return g}(n,"",0)}function X9(n,e){const t={};for(const i in e)n[i]!==void 0&&(t[i]=n[i]);for(const i in n)t[i]===void 0&&(t[i]=n[i]);return t}function eX(n,e=2){return n=X9(n,ts.$root),n.layers&&(n.layers=n.layers.map(t=>X9(t,ts.layer))),JZ(n,{indent:e})}function v5(n,e){for(const t in n)t.indexOf("layout")===0&&e(n[t],t)}function J9(n,e){for(const t in n)t.indexOf("paint")===0&&e(n[t],t)}function IB(n,e){return typeof e=="string"&&e[0]==="@"?IB(n,n.constants[e]):e}function tX(n){return Array.isArray(n.stops)}function GC(n,e,t){n[t]=n[e],delete n[e]}function nX(n){n.version=8,KZ(n,r=>{r.type==="video"&&r.url!==void 0&&GC(r,"url","urls"),r.type==="video"&&r.coordinates.forEach(o=>o.reverse())}),T_(n,r=>{v5(r,o=>{o["symbol-min-distance"]!==void 0&&GC(o,"symbol-min-distance","symbol-spacing")}),J9(r,o=>{o["background-image"]!==void 0&&GC(o,"background-image","background-pattern"),o["line-image"]!==void 0&&GC(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&GC(o,"fill-image","fill-pattern")})}),v8(n,{paint:!0,layout:!0},r=>{const o=IB(n,r.value);tX(o)&&o.stops.forEach(s=>{s[1]=IB(n,s[1])}),r.set(o)}),delete n.constants,T_(n,r=>{v5(r,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),J9(r,o=>{o["text-size"]&&(r.layout||(r.layout={}),r.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(r.layout||(r.layout={}),r.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function e(r){function o(s){return s.split(",").map(a=>a.trim())}if(Array.isArray(r))return r;if(typeof r=="string")return o(r);if(typeof r=="object")return r.stops.forEach(s=>{s[1]=o(s[1])}),r;throw new Error("unexpected font value")}T_(n,r=>{v5(r,o=>{o["text-font"]&&(o["text-font"]=e(o["text-font"]))})});let t=0;for(let r=n.layers.length-1;r>=0;r--)if(n.layers[r].type!=="symbol"){t=r+1;break}const i=n.layers.splice(t);return i.reverse(),n.layers=n.layers.concat(i),n}function iX(n){const e=[];return T_(n,t=>{t.filter&&(t.filter=I_(t.filter))}),v8(n,{paint:!0,layout:!0},({path:t,value:i,reference:r,set:o})=>{gC(i)||(typeof i=="object"&&!Array.isArray(i)?(o(p8(i,r)),e.push(t.join("."))):r.tokens&&typeof i=="string"&&o($z(i)))}),n}function rX(n){return JSON.parse(oX(JSON.stringify(n)))}function oX(n){return n.replace(/"hsla?\((.+?)\)"/gi,(e,t)=>{const i=t.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(i){let[r,o,s,a]=i.slice(1);return[o,s]=[o,s].map(p=>p.endsWith("%")?p:`${parseFloat(p)*100}%`),`"hsl${typeof a=="string"?"a":""}(${[r,o,s,a].filter(Boolean).join(",")})"`}return e})}function aX(n){let e=!1;if(n.version===7&&(n=nX(n),e=!0),n.version===8&&(e=!!iX(n),e=!0),v8(n,{paint:!0,layout:!0},({value:t,reference:i,set:r})=>{i.type==="color"&&r(rX(t))}),!e)throw new Error(`Cannot migrate from ${n.version}`);return n}const Kf=ts,sX={StyleExpression:Hz,StylePropertyFunction:j2,ZoomConstantExpression:SB,ZoomDependentExpression:EB,createExpression:F2,createPropertyExpression:z2,isExpression:gC,isExpressionFilter:Gb,isZoomExpression:bZ,normalizePropertyExpression:xZ},lX={convertFunction:p8,createFunction:f8,isFunction:mC},uX=8,AX={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},centerAltitude:{type:"number",doc:"Default map center altitude in meters above sea level. The style center altitude defines the altitude where the camera is looking at and will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:123.4,"sdk-support":{"basic functionality":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/2980",ios:"https://github.com/maplibre/maplibre-native/issues/2980"}}},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50,"sdk-support":{"0-60 degrees":{js:"0.8.0",android:"1.0.0",ios:"1.0.0"},"0-85 degrees":{js:"2.0.0",android:"https://github.com/maplibre/maplibre-native/issues/1909",ios:"https://github.com/maplibre/maplibre-native/issues/1909"},"0-180 degrees":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/1909",ios:"https://github.com/maplibre/maplibre-native/issues/1909"}}},roll:{type:"number",default:0,units:"degrees",doc:"Default roll, in degrees. The roll angle is measured counterclockwise about the camera boresight. The style roll will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:45,"sdk-support":{"basic functionality":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/2941",ios:"https://github.com/maplibre/maplibre-native/issues/2941"}}},state:{type:"state",default:{},doc:"An object used to define default values when using the [`global-state`](https://maplibre.org/maplibre-style-spec/expressions/#global-state) expression.",example:{chargerType:{default:["CCS","CHAdeMO","Type2"]},minPreferredChargingSpeed:{default:50}},"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/4964",android:"https://github.com/maplibre/maplibre-native/issues/3302",ios:"https://github.com/maplibre/maplibre-native/issues/3302"}}},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration. **Note:** this definition is still experimental and is under development in maplibre-gl-js.",example:{"sky-color":"#199EF3","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#0000ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]}},projection:{type:"projection",doc:"The projection configuration",example:{type:["interpolate",["linear"],["zoom"],10,"vertical-perspective",12,"mercator"]}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Sources state which data the map should display. Specify the type of source with the `type` property. Adding a source isn't enough to make data appear on the map because sources don't contain styling details like color or width. Layers refer to a source and give it a visual representation. This makes it possible to style the same source in different ways, like differentiating between types of roads in a highways layer.\n\nTiled sources (vector and raster) must specify their details according to the [TileJSON specification](https://github.com/mapbox/tilejson-spec).",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"},"maplibre-tilejson":{type:"vector",url:"http://api.example.com/tilejson.json"},"maplibre-streets":{type:"vector",tiles:["http://a.example.com/tiles/{z}/{x}/{y}.pbf","http://b.example.com/tiles/{z}/{x}/{y}.pbf"],maxzoom:14},"wms-imagery":{type:"raster",tiles:["http://a.example.com/wms?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&layers=example"],tileSize:256}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format.\n\nIf this property is set, any text in the `text-field` layout property is displayed in the font stack named by the `text-font` layout property based on glyphs located at the URL specified by this property. Otherwise, font faces will be determined by the `text-font` property based on the local environment.\n\nThe URL must include:\n\n - `{fontstack}` - When requesting glyphs, this token is replaced with a comma separated list of fonts from a font stack specified in the `text-font` property of a symbol layer. \n\n - `{range}` - When requesting glyphs, this token is replaced with a range of 256 Unicode code points. For example, to load glyphs for the Unicode Basic Latin and Basic Latin-1 Supplement blocks, the range would be 0-255. The actual ranges that are loaded are determined at runtime based on what text needs to be displayed.\n\nThe URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf","sdk-support":{"basic functionality":{js:"0.0.16",android:"0.1.1",ios:"0.1.0"},"omit to use local fonts":{js:"https://github.com/maplibre/maplibre-gl-js/issues/3302",android:"https://github.com/maplibre/maplibre-native/issues/165",ios:"https://github.com/maplibre/maplibre-native/issues/165"}}},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"A style's `layers` property lists all the layers available in that style. The type of layer is specified by the `type` property, and must be one of `background`, `fill`, `line`, `symbol`, `raster`, `circle`, `fill-extrusion`, `heatmap`, `hillshade`, `color-relief`.\n\nExcept for layers of the `background` type, each layer needs to refer to a source. Layers take the data that they get from a source, optionally filter features, and then define how those features are styled.",example:[{id:"coastline",source:"maplibre","source-layer":"countries",type:"line",paint:{"line-color":"#198EC8"}}]}},cX={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},hX=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],dX={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},fX={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},pX={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default.","sdk-support":{"mapbox, terrarium":{js:"0.43.0",ios:"6.0.0",android:"6.0.0"},custom:{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2358",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},mX={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n\n * `cluster` Is `true` if the point is a cluster \n\n * `cluster_id` A unique id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js/docs/API/classes/GeoJSONSource/#getclusterexpansionzoom)\n\n * `point_count` Number of original points grouped into this cluster\n\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},gX={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},yX={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},vX={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},"additional methods":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}}},"color-relief":{doc:"Client-side elevation coloring based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5666",android:"https://github.com/maplibre/maplibre-native/issues/3408",ios:"https://github.com/maplibre/maplibre-native/issues/3408"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},CX=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],_X={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},bX={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},xX={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},MX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},wX={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},SX=JSON.parse('{"symbol-placement":{"type":"enum","values":{"point":{"doc":"The label is placed at the point where the geometry is located."},"line":{"doc":"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{"doc":"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point","doc":"Label placement relative to its geometry.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"`line-center` value":{"js":"0.47.0","android":"6.4.0","ios":"4.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","doc":"Distance between two symbol anchors.","requires":[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"doc":"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don\'t have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","doc":"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{"js":"0.53.0","android":"7.4.0","ios":"4.11.0"},"data-driven styling":{"js":"0.53.0","android":"7.4.0","ios":"4.11.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{"doc":"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{"doc":"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"source":{"doc":"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto","doc":"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{"js":"0.49.0","android":"6.6.0","ios":"4.5.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"doc":"If true, the icon will be visible even if it collides with other previously drawn symbols.","requires":["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-overlap":{"type":"enum","values":{"never":{"doc":"The icon will be hidden if it collides with any other previously drawn symbol."},"always":{"doc":"The icon will be visible even if it collides with any other previously drawn symbol."},"cooperative":{"doc":"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},"doc":"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"2.1.0","android":"https://github.com/maplibre/maplibre-native/issues/251","ios":"https://github.com/maplibre/maplibre-native/issues/251"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"doc":"If true, other symbols can be visible even if they collide with the icon.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"doc":"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.","requires":["icon-image","text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{"doc":"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},"viewport":{"doc":"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"auto":{"doc":"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto","doc":"In combination with `symbol-placement`, determines the rotation behavior of icons.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","doc":"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{"doc":"The icon is displayed at its intrinsic aspect ratio."},"width":{"doc":"The icon is scaled in the x-dimension to fit the width of the text."},"height":{"doc":"The icon is scaled in the y-dimension to fit the height of the text."},"both":{"doc":"The icon is scaled in both x- and y-dimensions."}},"default":"none","doc":"Scales the icon to fit around the associated text.","requires":["icon-image","text-field"],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0"},"stretchable icons":{"js":"1.6.0","android":"9.2.0","ios":"5.8.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","doc":"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","doc":"Name of image in sprite to use for drawing an image background.","tokens":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","doc":"Rotates the icon clockwise.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.21.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"padding","default":[2],"units":"pixels","doc":"Size of additional area round the icon bounding box used for detecting symbol collisions.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"2.2.0","android":"https://github.com/maplibre/maplibre-native/issues/2754","ios":"https://github.com/maplibre/maplibre-native/issues/2754"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{"type":"boolean","default":false,"doc":"If true, the icon may be flipped to prevent it from being rendered upside-down.","requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"doc":"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{"doc":"The center of the icon is placed closest to the anchor."},"left":{"doc":"The left side of the icon is placed closest to the anchor."},"right":{"doc":"The right side of the icon is placed closest to the anchor."},"top":{"doc":"The top of the icon is placed closest to the anchor."},"bottom":{"doc":"The bottom of the icon is placed closest to the anchor."},"top-left":{"doc":"The top left corner of the icon is placed closest to the anchor."},"top-right":{"doc":"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{"doc":"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{"doc":"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center","doc":"Part of the icon placed closest to the anchor.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{"doc":"The icon is aligned to the plane of the map."},"viewport":{"doc":"The icon is aligned to the plane of the viewport."},"auto":{"doc":"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto","doc":"Orientation of icon when map is pitched.","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{"doc":"The text is aligned to the plane of the map."},"viewport":{"doc":"The text is aligned to the plane of the viewport."},"auto":{"doc":"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto","doc":"Orientation of text when map is pitched.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{"doc":"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},"viewport":{"doc":"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{"doc":"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},"auto":{"doc":"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto","doc":"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0"},"`viewport-glyph` value":{"js":"2.1.8","android":"https://github.com/maplibre/maplibre-native/issues/250","ios":"https://github.com/maplibre/maplibre-native/issues/250"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"doc":"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"doc":"Fonts to use for displaying text. If the `glyphs` root property is specified, this array is joined together and interpreted as a font stack name. Otherwise, it is interpreted as a cascading fallback list of local font names.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0"},"local fonts":{"js":"https://github.com/maplibre/maplibre-gl-js/issues/3302","android":"https://github.com/maplibre/maplibre-native/issues/165","ios":"https://github.com/maplibre/maplibre-native/issues/165"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","doc":"Font size.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","doc":"The maximum line width for text wrapping.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","doc":"Text leading value for multi-line text.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","doc":"Text tracking amount.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{"doc":"The text is aligned towards the anchor position."},"left":{"doc":"The text is aligned to the left."},"center":{"doc":"The text is centered."},"right":{"doc":"The text is aligned to the right."}},"default":"center","doc":"Text justification options.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0"},"auto":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"doc":"Radial offset of text, in the direction of the symbol\'s anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"},"data-driven styling":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"}},"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{"doc":"The center of the text is placed closest to the anchor."},"left":{"doc":"The left side of the text is placed closest to the anchor."},"right":{"doc":"The right side of the text is placed closest to the anchor."},"top":{"doc":"The top of the text is placed closest to the anchor."},"bottom":{"doc":"The bottom of the text is placed closest to the anchor."},"top-left":{"doc":"The top left corner of the text is placed closest to the anchor."},"top-right":{"doc":"The top right corner of the text is placed closest to the anchor."},"bottom-left":{"doc":"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{"doc":"The bottom right corner of the text is placed closest to the anchor."}},"requires":["text-field",{"symbol-placement":["point"]}],"doc":"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{"type":"variableAnchorOffsetCollection","requires":["text-field",{"symbol-placement":["point"]}],"doc":"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \\n\\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \\n\\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \\n\\n ```json \\n\\n { \\"text-variable-anchor-offset\\": [\\"top\\", [0, 4], \\"left\\", [3,0], \\"bottom\\", [1, 1]] } \\n\\n ``` \\n\\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \\n\\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.","sdk-support":{"basic functionality":{"js":"3.3.0","ios":"6.8.0","android":"11.6.0"},"data-driven styling":{"js":"3.3.0","ios":"https://github.com/maplibre/maplibre-native/issues/2358","android":"https://github.com/maplibre/maplibre-native/issues/2358"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{"type":"enum","values":{"center":{"doc":"The center of the text is placed closest to the anchor."},"left":{"doc":"The left side of the text is placed closest to the anchor."},"right":{"doc":"The right side of the text is placed closest to the anchor."},"top":{"doc":"The top of the text is placed closest to the anchor."},"bottom":{"doc":"The bottom of the text is placed closest to the anchor."},"top-left":{"doc":"The top left corner of the text is placed closest to the anchor."},"top-right":{"doc":"The top right corner of the text is placed closest to the anchor."},"bottom-left":{"doc":"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{"doc":"The bottom right corner of the text is placed closest to the anchor."}},"default":"center","doc":"Part of the text placed closest to the anchor.","requires":["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","doc":"Maximum angle change between adjacent characters.","requires":["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{"doc":"If a text\'s language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},"vertical":{"doc":"If a text\'s language supports vertical writing mode, symbols with point placement would be laid out vertically."}},"doc":"The property allows control over a symbol\'s orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single \'vertical\' enum value. The order of elements in an array define priority order for the placement of an orientation variant.","requires":["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{"js":"1.3.0","android":"8.3.0","ios":"5.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","doc":"Rotates the text clockwise.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","doc":"Size of the additional area around the text bounding box used for detecting symbol collisions.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"doc":"If true, the text may be flipped vertically to prevent it from being rendered upside-down.","requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{"doc":"The text is not altered."},"uppercase":{"doc":"Forces all letters to be displayed in uppercase."},"lowercase":{"doc":"Forces all letters to be displayed in lowercase."}},"default":"none","doc":"Specifies how to capitalize text, similar to the CSS `text-transform` property.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","doc":"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"doc":"If true, the text will be visible even if it collides with other previously drawn symbols.","requires":["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-overlap":{"type":"enum","values":{"never":{"doc":"The text will be hidden if it collides with any other previously drawn symbol."},"always":{"doc":"The text will be visible even if it collides with any other previously drawn symbol."},"cooperative":{"doc":"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},"doc":"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"2.1.0","android":"https://github.com/maplibre/maplibre-native/issues/251","ios":"https://github.com/maplibre/maplibre-native/issues/251"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"doc":"If true, other symbols can be visible even if they collide with the text.","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"doc":"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.","requires":["text-field","icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{"doc":"The layer is shown."},"none":{"doc":"The layer is not shown."}},"default":"visible","doc":"Whether this layer is displayed.","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0"}},"property-type":"constant"}}'),EX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},BX={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},OX={type:"array",value:"*",doc:"A filter selects specific features from a layer."},IX={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'}},doc:"The filter operator."},TX={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},kX={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},DX={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},RX=JSON.parse('{"doc":"","type":"enum","values":{"let":{"doc":"Binds expressions to named variables, which can then be referenced in the result expression using `[\\"var\\", \\"variable_name\\"]`.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["var_1_name","var_1_value","...","var_n_name","var_n_value","expression"],"output-type":"any"}],"parameters":[{"name":"var_i_name","type":"string literal","description":"The name of the i-th variable."},{"name":"var_i_value","type":"any","description":"The value of the i-th variable."},{"name":"expression","type":"any","description":"The expression within which the named variables can be referenced."}]},"example":["let","someNumber",500,["interpolate",["linear"],["var","someNumber"],274,"#edf8e9",1551,"#006d2c"]],"group":"Variable binding","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"var":{"doc":"References variable bound using `let`.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["var_name"],"output-type":"any"}],"parameters":[{"name":"var_name","type":"string literal","description":"The name of the variable bound using `let`."}]},"example":["var","density"],"group":"Variable binding","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"literal":{"doc":"Provides a literal array or object value.\\n\\n - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)","syntax":{"overloads":[{"parameters":["json_object"],"output-type":"object"},{"parameters":["json_array"],"output-type":"array"}],"parameters":[{"name":"json_object","type":"JSON object"},{"name":"json_array","type":"JSON array"}]},"example":["literal",["DIN Offc Pro Italic","Arial Unicode MS Regular"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"array":{"doc":"Asserts that the input is an array (optionally with a specific item type and length). If, when the input expression is evaluated, it is not of the asserted type or length, then this assertion will cause the whole expression to be aborted.","syntax":{"overloads":[{"parameters":["value"],"output-type":"array"},{"parameters":["type","value"],"output-type":"array<type>"},{"parameters":["type","length","value"],"output-type":"array<type, length>"}],"parameters":[{"name":"value","type":"any"},{"name":"type","type":"\\"string\\" | \\"number\\" | \\"boolean\\"","description":"The asserted type of the input array."},{"name":"length","type":"number literal","description":"The asserted length of the input array."}]},"example":["array",["literal",["a","b","c"]],"string",3],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"at":{"doc":"Retrieves an item from an array.","syntax":{"overloads":[{"parameters":["index","array"],"output-type":"T"}],"parameters":[{"name":"index","type":"number","description":"The index into `array`."},{"name":"array","type":"array<T>","description":"The array of items to retrieve the specified item from."}]},"example":["at",1,["literal",["a","b","c"]]],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"in":{"doc":"Determines whether an item exists in an array or a substring exists in a string.\\n\\n - [Measure distances](https://maplibre.org/maplibre-gl-js/docs/examples/measure/)","syntax":{"overloads":[{"parameters":["item","array"],"output-type":"boolean"},{"parameters":["substring","string"],"output-type":"boolean"}],"parameters":[{"name":"item","type":"T","description":"The needle to search for within `array`."},{"name":"array","type":"array<T>","description":"The haystack through which to search for `item`."},{"name":"substring","type":"string","description":"The needle to search for within `string`."},{"name":"string","type":"string","description":"The haystack through which to search for `substring`."}]},"example":["in","$type","Point"],"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.6.0","android":"9.1.0","ios":"5.8.0"}}},"index-of":{"doc":"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search. In a string, a UTF-16 surrogate pair counts as a single position.","syntax":{"overloads":[{"parameters":["item","array","from_index?"],"output-type":"number"},{"parameters":["substring","string","from_index?"],"output-type":"number"}],"parameters":[{"name":"item","type":"T","description":"The needle to search for within `array`."},{"name":"array","type":"array<T>","description":"The haystack through which to search for `item`."},{"name":"substring","type":"string","description":"The needle to search for within `string`."},{"name":"string","type":"string","description":"The haystack through which to search for `substring`."},{"name":"from_index","type":"number","description":"The index from where to begin the search."}]},"example":["index-of","foo",["baz","bar","hello","foo","world"]],"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.10.0","android":"10.3.0","ios":"6.0.0"}}},"slice":{"doc":"Returns a subarray from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index. In a string, a UTF-16 surrogate pair counts as a single position.","syntax":{"overloads":[{"parameters":["array","start_index","end_index?"],"output-type":"array<T>"},{"parameters":["string","start_index","end_index?"],"output-type":"string"}],"parameters":[{"name":"array","type":"array<T>","description":"The original array from which to extract the subarray."},{"name":"string","type":"string","description":"The original string from which to extract the substring."},{"name":"start_index","type":"number","description":"The inclusive index from which `slice` extracts items or characters from the subarray or substring."},{"name":"end_index","type":"number","description":"The non-inclusive index up to which `slice` extracts items or characters from the subarray or substring."}]},"example":["slice",["get","name"],0,3],"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.10.0","android":"10.3.0","ios":"6.0.0"}}},"case":{"doc":"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.\\n\\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["condition_1","output_1","...","condition_n","output_n","fallback"],"output-type":"any"}],"parameters":[{"name":"condition_i","type":"boolean"},{"name":"output_i","type":"any"},{"name":"fallback","type":"any","description":"The result when no condition evaluates to true."}]},"example":["case",["boolean",["feature-state","hover"],false],1,0.5],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"match":{"doc":"Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `[\\"get\\", \\"building_type\\"]`). Each label must be either:\\n\\n - a single literal value; or\\n\\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `[\\"c\\", \\"b\\"]`). The input matches if any of the values in the array matches, similar to the `\\"in\\"` operator.\\n\\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.","syntax":{"overloads":[{"parameters":["input","label_1","output_1","...","label_n","output_n","fallback"],"output-type":"any"}],"parameters":[{"name":"input","type":"any","description":"Any expression."},{"name":"label_i","type":"string literal | array<string literal> | array<number literal>","description":"The i-th literal value or array of literal values to match the input against."},{"name":"output_i","type":"any","description":"The result when the i-th label is the first label to match the input."},{"name":"fallback","type":"any","description":"The result when no label matches the input."}]},"example":["match",["get","building_type"],"residential","#f00","commercial","#0f0","#000"],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"coalesce":{"doc":"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.\\n\\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)","syntax":{"overloads":[{"parameters":["expression_1","...","expression_n"],"output-type":"any"}],"parameters":[{"name":"expression_i","type":"any"}]},"example":["coalesce",["image",["concat",["get","icon"],"_15"]],["image","marker_15"]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"step":{"doc":"Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values (\\"stops\\"). The `input` may be any numeric expression (e.g., `[\\"get\\", \\"population\\"]`). Stop inputs must be numeric literals in strictly ascending order.\\n\\nReturns the output value of the stop just less than the input, or the first output if the input is less than the first stop.\\n\\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)","syntax":{"overloads":[{"parameters":["input","output_0","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"any"}],"parameters":[{"name":"input","type":"number","description":"Any numeric expression."},{"name":"output_0","type":"any","description":"The result when the `input` is less than the first stop."},{"name":"stop_i_input","type":"number literal","description":"The value of the i-th stop against which the `input` is compared."},{"name":"stop_i_output","type":"any","description":"The result when the i-th stop is the last stop less than the `input`."}]},"example":["step",["get","point_count"],20,100,30,750,40],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0"}}},"interpolate":{"doc":"Produces continuous, smooth results by interpolating between pairs of input and output values (\\"stops\\"). The `input` may be any numeric expression (e.g., `[\\"get\\", \\"population\\"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\\n\\nInterpolation types:\\n\\n- `[\\"linear\\"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\\n\\n- `[\\"exponential\\", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\\n\\n- `[\\"cubic-bezier\\", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.\\n\\n - [Animate map camera around a point](https://maplibre.org/maplibre-gl-js/docs/examples/animate-camera-around-point/)\\n\\n - [Change building color based on zoom level](https://maplibre.org/maplibre-gl-js/docs/examples/change-building-color-based-on-zoom-level/)\\n\\n - [Create a heatmap layer](https://maplibre.org/maplibre-gl-js/docs/examples/heatmap-layer/)\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["interpolation_type","input","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"any"}],"parameters":[{"name":"interpolation_type","type":"[\\"linear\\"] | [\\"exponential\\", base] | [\\"cubic-bezier\\", x1, y1, x2, y2]","description":"The interpolation type."},{"name":"input","type":"number","description":"Any numeric expression."},{"name":"stop_i_input","type":"number literal","description":"The value of the i-th stop against which the `input` is compared."},{"name":"stop_i_output","type":"number | array<number> | color","description":"The output value corresponding to the i-th stop."}]},"example":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0"}}},"interpolate-hcl":{"doc":"Produces continuous, smooth results by interpolating between pairs of input and output values (\\"stops\\"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.","syntax":{"overloads":[{"parameters":["interpolation_type","input","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"color"}],"parameters":[{"name":"interpolation_type","type":"[\\"linear\\"] | [\\"exponential\\", base] | [\\"cubic-bezier\\", x1, y1, x2, y2]"},{"name":"input","type":"number"},{"name":"stop_i_input","type":"number literal"},{"name":"stop_i_output","type":"color"}]},"example":["interpolate-hcl",["linear"],["zoom"],15,"#f00",15.05,"#00f"],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.49.0","ios":"https://github.com/maplibre/maplibre-native/issues/2784","android":"https://github.com/maplibre/maplibre-native/issues/2784"}}},"interpolate-lab":{"doc":"Produces continuous, smooth results by interpolating between pairs of input and output values (\\"stops\\"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.","syntax":{"overloads":[{"parameters":["interpolation_type","input","stop_1_input","stop_1_output","...","stop_n_input","stop_n_output"],"output-type":"color"}],"parameters":[{"name":"interpolation_type","type":"[\\"linear\\"] | [\\"exponential\\", base] | [\\"cubic-bezier\\", x1, y1, x2, y2]"},{"name":"input","type":"number"},{"name":"stop_i_input","type":"number literal"},{"name":"stop_i_output","type":"color"}]},"example":["interpolate-lab",["linear"],["zoom"],15,"#f00",15.05,"#00f"],"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.49.0","ios":"https://github.com/maplibre/maplibre-native/issues/2784","android":"https://github.com/maplibre/maplibre-native/issues/2784"}}},"ln2":{"doc":"Returns the mathematical constant ln(2).","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["ln2"],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"pi":{"doc":"Returns the mathematical constant pi.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["pi"],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"e":{"doc":"Returns the mathematical constant e.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["e"],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"typeof":{"doc":"Returns a string describing the type of the given value.","syntax":{"overloads":[{"parameters":["value"],"output-type":"string"}],"parameters":[{"name":"value","type":"any"}]},"example":["typeof",["get","name"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"string":{"doc":"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"string"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["string",["get","name"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"number":{"doc":"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"number"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["number",["get","population"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"boolean":{"doc":"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.\\n\\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"boolean"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["boolean",["feature-state","hover"],false],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"object":{"doc":"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"object"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["object",["get","some-property"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"collator":{"doc":"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.","syntax":{"overloads":[{"parameters":["options"],"output-type":"collator"}],"parameters":[{"name":"options","type":"{ \\"case-sensitive\\"?: boolean, \\"diacritic-sensitive\\"?: boolean, \\"locale\\"?: string }"}]},"example":["collator",{"case-sensitive":true,"diacritic-sensitive":true,"locale":"fr"}],"group":"Types","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"format":{"doc":"Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#image) expression. Strings may be followed by a style override object that supports the following properties:\\n\\n- `\\"text-font\\"`: Overrides the font stack specified by the root layout property.\\n\\n- `\\"text-color\\"`: Overrides the color specified by the root paint property.\\n\\n- `\\"font-scale\\"`: Applies a scaling factor on `text-size` as specified by the root layout property.\\n\\n- `\\"vertical-align\\"`: Aligns vertically text section or image in relation to the row it belongs to. Possible values are: \\n\\t- `\\"bottom\\"` *default*: align the bottom of this section with the bottom of other sections.\\n<img alt=\\"Visual representation of bottom alignment\\" src=\\"https://github.com/user-attachments/assets/0474a2fd-a4b2-417c-9187-7a13a28695bc\\"/>\\n\\t- `\\"center\\"`: align the center of this section with the center of other sections.\\n<img alt=\\"Visual representation of center alignment\\" src=\\"https://github.com/user-attachments/assets/92237455-be6d-4c5d-b8f6-8127effc1950\\"/>\\n\\t- `\\"top\\"`: align the top of this section with the top of other sections.\\n<img alt=\\"Visual representation of top alignment\\" src=\\"https://github.com/user-attachments/assets/45dccb28-d977-4abb-a006-4ea9792b7c53\\"/>\\n\\t- Refer to [the design proposal](https://github.com/maplibre/maplibre-style-spec/issues/832) for more details.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)\\n\\n - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)","syntax":{"overloads":[{"parameters":["input_1","style_overrides_1?","...","input_n","style_overrides_n?"],"output-type":"formatted"}],"parameters":[{"name":"input_i","type":"string | image"},{"name":"style_overrides_i","type":"{ \\"text-font\\"?: string, \\"text-color\\"?: color, \\"font-scale\\"?: number, \\"vertical-align\\"?: \\"bottom\\" | \\"center\\" | \\"top\\" }"}]},"example":["format",["upcase",["get","FacilityName"]],{"font-scale":0.8},"\\n\\n",{},["downcase",["get","Comments"]],{"font-scale":0.6,"vertical-align":"center"}],"group":"Types","sdk-support":{"basic functionality":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0"},"text-font":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0"},"font-scale":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0"},"text-color":{"js":"1.3.0","android":"7.3.0","ios":"4.10.0"},"vertical-align":{"js":"5.1.0","android":"https://github.com/maplibre/maplibre-native/issues/3055","ios":"https://github.com/maplibre/maplibre-native/issues/3055"},"image":{"js":"1.6.0","android":"8.6.0","ios":"5.7.0"}}},"image":{"doc":"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.\\n\\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)","syntax":{"overloads":[{"parameters":["image_name"],"output-type":"image"}],"parameters":[{"name":"image_name","type":"string"}]},"example":["image","marker_15"],"group":"Types","sdk-support":{"basic functionality":{"js":"1.4.0","android":"8.6.0","ios":"5.7.0"}}},"global-state":{"doc":"Retrieves a property value from global state that can be set with platform-specific APIs. Defaults can be provided using the [`state`](https://maplibre.org/maplibre-style-spec/root/#state) root property. Returns `null` if no value nor default value is set for the retrieved property.","group":"Lookup","syntax":{"overloads":[{"parameters":["property_name"],"output-type":"any"}],"parameters":[{"name":"property_name","type":"string literal","description":"The name of the global state property to retrieve."}]},"example":["global-state","someProperty"],"sdk-support":{"basic functionality":{"js":"https://github.com/maplibre/maplibre-gl-js/issues/4964","android":"https://github.com/maplibre/maplibre-native/issues/3302","ios":"https://github.com/maplibre/maplibre-native/issues/3302"}}},"number-format":{"doc":"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["input","format_options"],"output-type":"string"}],"parameters":[{"name":"input","type":"number"},{"name":"format_options","type":"{ \\"locale\\"?: string, \\"currency\\"?: string, \\"min-fraction-digits\\"?: number, \\"max-fraction-digits\\"?: number }"}]},"example":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"group":"Types","sdk-support":{"basic functionality":{"js":"0.54.0","android":"8.4.0","ios":"supported"}}},"to-string":{"doc":"Converts the input value to a string. If the input is `null`, the result is `\\"\\"`. If the input is a boolean, the result is `\\"true\\"` or `\\"false\\"`. If the input is a number, it is converted to a string as specified by the [\\"NumberToString\\" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `\\"rgba(r,g,b,a)\\"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.\\n\\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)","syntax":{"overloads":[{"parameters":["value"],"output-type":"string"}],"parameters":[{"name":"value","type":"any"}]},"example":["to-string",["get","mag"]],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-number":{"doc":"Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the [\\"ToNumber Applied to the String Type\\" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"number"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["to-number","someProperty"],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-boolean":{"doc":"Converts the input value to a boolean. The result is `false` when the input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.","syntax":{"overloads":[{"parameters":["value"],"output-type":"boolean"}],"parameters":[{"name":"value","type":"any"}]},"example":["to-boolean","someProperty"],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-rgba":{"doc":"Returns a four-element array containing the input color\'s red, green, blue, and alpha components, in that order.","syntax":{"overloads":[{"parameters":["color"],"output-type":"array"}],"parameters":[{"name":"color","type":"color"}]},"example":["to-rgba","#ff0000"],"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"to-color":{"doc":"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["value_1","...","value_n"],"output-type":"color"}],"parameters":[{"name":"value_i","type":"any"}]},"example":["to-color","#edf8e9"],"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"rgb":{"doc":"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.","syntax":{"overloads":[{"parameters":["red","green","blue"],"output-type":"color"}],"parameters":[{"name":"red","type":"number"},{"name":"green","type":"number"},{"name":"blue","type":"number"}]},"example":["rgb",255,0,0],"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"rgba":{"doc":"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.","syntax":{"overloads":[{"parameters":["red","green","blue","alpha"],"output-type":"color"}],"parameters":[{"name":"red","type":"number"},{"name":"green","type":"number"},{"name":"blue","type":"number"},{"name":"alpha","type":"number"}]},"example":["rgba",255,0,0,1],"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"get":{"doc":"Retrieves a property value from the current feature\'s properties, or from another object if a second argument is provided. Returns null if the requested property is missing.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)\\n\\n - [Extrude polygons for 3D indoor mapping](https://maplibre.org/maplibre-gl-js/docs/examples/3d-extrusion-floorplan/)","syntax":{"overloads":[{"parameters":["property_name","object?"],"output-type":"any"}],"parameters":[{"name":"property_name","type":"string","description":"The name of the property to retrieve the value of."},{"name":"object","type":"object","description":"The object to retrieve the value from."}]},"example":["get","someProperty"],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"has":{"doc":"Tests for the presence of a property value in the current feature\'s properties, or from another object if a second argument is provided.\\n\\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)","syntax":{"overloads":[{"parameters":["property_name","object?"],"output-type":"boolean"}],"parameters":[{"name":"property_name","type":"string","description":"The name of the property to test for the presence of."},{"name":"object","type":"object","description":"The object in which to test for the presence of the `property_name` property."}]},"example":["has","someProperty"],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"length":{"doc":"Gets the length of an array or string. In a string, a UTF-16 surrogate pair counts as a single position.","syntax":{"overloads":[{"parameters":["array_or_string"],"output-type":"number"}],"parameters":[{"name":"array_or_string","type":"array | string"}]},"example":["length",["get","myArray"]],"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"properties":{"doc":"Gets the feature properties object.  Note that in some cases, it may be more efficient to use [\\"get\\", \\"property_name\\"] directly.","syntax":{"overloads":[{"parameters":[],"output-type":"object"}]},"example":["properties"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"feature-state":{"doc":"Retrieves a property value from the current feature\'s state. Returns null if the requested property is not present on the feature\'s state. A feature\'s state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\\"feature-state\\"] can only be used with paint properties that support data-driven styling.\\n\\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)","syntax":{"overloads":[{"parameters":["property_name"],"output-type":"any"}],"parameters":[{"name":"property_name","type":"string"}]},"example":["feature-state","hover"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.46.0","ios":"https://github.com/maplibre/maplibre-native/issues/1698","android":"https://github.com/maplibre/maplibre-native/issues/1698"}}},"geometry-type":{"doc":"Returns the feature\'s simple geometry type: `Point`, `LineString`, or `Polygon`. `MultiPoint`, `MultiLineString`, and `MultiPolygon` are returned as `Point`, `LineString`, and `Polygon`, respectively.","syntax":{"overloads":[{"parameters":[],"output-type":"string"}]},"example":["==",["geometry-type"],"Polygon"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"id":{"doc":"Gets the feature\'s id, if it has one.","syntax":{"overloads":[{"parameters":[],"output-type":"any"}]},"example":["id"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"zoom":{"doc":"Gets the current zoom level.  Note that in style layout and paint properties, [\\"zoom\\"] may only appear as the input to a top-level \\"step\\" or \\"interpolate\\" expression.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"group":"Zoom","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"heatmap-density":{"doc":"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["heatmap-density"],"group":"Heatmap","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"elevation":{"doc":"Gets the elevation of a pixel (in meters above the vertical datum reference of the `raster-dem` tiles) from a `raster-dem` source. Can only be used in the `color-relief-color` property of a `color-relief` layer.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["elevation"],"group":"Color Relief","sdk-support":{"basic functionality":{"js":"https://github.com/maplibre/maplibre-gl-js/issues/5666","android":"https://github.com/maplibre/maplibre-native/issues/3408","ios":"https://github.com/maplibre/maplibre-native/issues/3408"}}},"line-progress":{"doc":"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.","syntax":{"overloads":[{"parameters":[],"output-type":"number"}]},"example":["line-progress"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.6.0"}}},"accumulated":{"doc":"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.","syntax":{"overloads":[{"parameters":[],"output-type":"any"}]},"example":["accumulated"],"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.53.0","ios":"supported","android":"supported"}}},"+":{"doc":"Returns the sum of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["+",2,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"*":{"doc":"Returns the product of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["*",2,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"-":{"doc":"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"},{"parameters":["single_input"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The number from which to subtract `input_2`."},{"name":"input_2","type":"number","description":"The number to subtract from `input_1`."},{"name":"single_input","type":"number","description":"The number to subtract from 0."}]},"example":["-",10],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"/":{"doc":"Returns the result of floating point division of the first input by the second.\\n\\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The dividend."},{"name":"input_2","type":"number","description":"The divisor."}]},"example":["/",["get","population"],["get","sq-km"]],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"%":{"doc":"Returns the remainder after integer division of the first input by the second.","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The dividend."},{"name":"input_2","type":"number","description":"The divisor."}]},"example":["%",10,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"^":{"doc":"Returns the result of raising the first input to the power specified by the second.","syntax":{"overloads":[{"parameters":["input_1","input_2"],"output-type":"number"}],"parameters":[{"name":"input_1","type":"number","description":"The base."},{"name":"input_2","type":"number","description":"The exponent."}]},"example":["^",2,3],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"sqrt":{"doc":"Returns the square root of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number","description":"The radicand."}]},"example":["sqrt",9],"group":"Math","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0"}}},"log10":{"doc":"Returns the base-ten logarithm of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["log10",8],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"ln":{"doc":"Returns the natural logarithm of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["ln",8],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"log2":{"doc":"Returns the base-two logarithm of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["log2",8],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"sin":{"doc":"Returns the sine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["sin",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"cos":{"doc":"Returns the cosine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["cos",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"tan":{"doc":"Returns the tangent of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["tan",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"asin":{"doc":"Returns the arcsine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["asin",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"acos":{"doc":"Returns the arccosine of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["acos",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"atan":{"doc":"Returns the arctangent of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["atan",1],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"min":{"doc":"Returns the minimum value of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["min",1,2],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"max":{"doc":"Returns the maximum value of the inputs.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"number"}],"parameters":[{"name":"input_i","type":"number"}]},"example":["max",1,2],"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"round":{"doc":"Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `[\\"round\\", -1.5]` evaluates to -2.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["round",1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"abs":{"doc":"Returns the absolute value of the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["abs",-1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"ceil":{"doc":"Returns the smallest integer that is greater than or equal to the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["ceil",1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"floor":{"doc":"Returns the largest integer that is less than or equal to the input.","syntax":{"overloads":[{"parameters":["input"],"output-type":"number"}],"parameters":[{"name":"input","type":"number"}]},"example":["floor",1.5],"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0"}}},"distance":{"doc":"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.","syntax":{"overloads":[{"parameters":["geojson"],"output-type":"number"}],"parameters":[{"name":"geojson","type":"GeoJSON object"}]},"example":["distance",{"type":"Point","coordinates":[0,0]}],"group":"Math","sdk-support":{"basic functionality":{"js":"4.2.0","android":"9.2.0","ios":"5.9.0"}}},"==":{"doc":"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Add multiple geometries from one GeoJSON source](https://maplibre.org/maplibre-gl-js/docs/examples/multiple-geometries/)\\n\\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)\\n\\n - [Display buildings in 3D](https://maplibre.org/maplibre-gl-js/docs/examples/3d-buildings/)\\n\\n - [Filter symbols by toggling a list](https://maplibre.org/maplibre-gl-js/docs/examples/filter-markers/)","syntax":{"overloads":[{"parameters":["input_1","input_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"input_1","type":"any"},{"name":"input_2","type":"any"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["==","$type","Polygon"],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"!=":{"doc":"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["input_1","input_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"input_1","type":"any"},{"name":"input_2","type":"any"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["!=","cluster",true],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},">":{"doc":"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":[">",["get","mag"],2],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"<":{"doc":"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["<",["get","mag"],2],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},">=":{"doc":"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":[">=",["get","mag"],6],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"<=":{"doc":"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.","syntax":{"overloads":[{"parameters":["string_1","string_2","collator?"],"output-type":"boolean"},{"parameters":["number_1","number_2","collator?"],"output-type":"boolean"}],"parameters":[{"name":"string_i","type":"string"},{"name":"number_i","type":"number"},{"name":"collator","type":"collator","description":"Options for locale-dependent comparison."}]},"example":["<=",["get","mag"],6],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}},"all":{"doc":"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.\\n\\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"boolean"}],"parameters":[{"name":"input_i","type":"boolean"}]},"example":["all",[">=",["get","mag"],4],["<",["get","mag"],5]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"any":{"doc":"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"boolean"}],"parameters":[{"name":"input_i","type":"boolean"}]},"example":["any",[">=",["get","mag"],4],["<",["get","mag"],5]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"!":{"doc":"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.\\n\\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)","syntax":{"overloads":[{"parameters":["input"],"output-type":"boolean"}],"parameters":[{"name":"input","type":"boolean"}]},"example":["!",["has","point_count"]],"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"within":{"doc":"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\\n\\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\\n\\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line\'s endpoint is on the boundary.","syntax":{"overloads":[{"parameters":["geojson"],"output-type":"boolean"}],"parameters":[{"name":"geojson","type":"GeoJSON object"}]},"example":["within",{"type":"Polygon","coordinates":[[[0,0],[0,5],[5,5],[5,0],[0,0]]]}],"group":"Decision","sdk-support":{"basic functionality":{"js":"1.9.0","android":"9.1.0","ios":"5.8.0"}}},"is-supported-script":{"doc":"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).","syntax":{"overloads":[{"parameters":["input"],"output-type":"boolean"}],"parameters":[{"name":"input","type":"string"}]},"example":["is-supported-script","दिल्ली"],"group":"String","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.6.0","ios":"supported"}}},"upcase":{"doc":"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)","syntax":{"overloads":[{"parameters":["input"],"output-type":"string"}],"parameters":[{"name":"input","type":"string"}]},"example":["upcase",["get","name"]],"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"downcase":{"doc":"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.\\n\\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)","syntax":{"overloads":[{"parameters":["input"],"output-type":"string"}],"parameters":[{"name":"input","type":"string"}]},"example":["downcase",["get","name"]],"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"concat":{"doc":"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.\\n\\n - [Add a generated icon to the map](https://maplibre.org/maplibre-gl-js/docs/examples/add-image-missing-generated/)\\n\\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)\\n\\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)\\n\\n - [Variable label placement](https://maplibre.org/maplibre-gl-js/docs/examples/variable-label-placement/)","syntax":{"overloads":[{"parameters":["input_1","...","input_n"],"output-type":"string"}],"parameters":[{"name":"input_i","type":"any"}]},"example":["concat","square-rgb-",["get","color"]],"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0"}}},"resolved-locale":{"doc":"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.","syntax":{"overloads":[{"parameters":["collator"],"output-type":"string"}],"parameters":[{"name":"collator","type":"collator"}]},"example":["resolved-locale",["collator",{"case-sensitive":true,"diacritic-sensitive":false,"locale":"de"}]],"group":"String","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0"}}}}}'),PX={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}}},UX={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color at the horizon."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog. Requires 3D terrain."},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. Where 0 is the map center and 1 is the horizon."},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog color and the horizon color. Where 0 is using the horizon color only and 1 is using the fog color only."},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the sky color and the horizon color. Where 1 is blending the color at the middle of the sky and 0 is not blending at all and using the sky color only."},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the atmosphere. Where 1 is visible atmosphere and 0 is hidden. It is best to interpolate this expression when using globe projection."}},KX={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0",ios:"https://github.com/maplibre/maplibre-native/issues/252",android:"https://github.com/maplibre/maplibre-native/issues/252"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0",ios:"https://github.com/maplibre/maplibre-native/issues/252",android:"https://github.com/maplibre/maplibre-native/issues/252"}}}},LX={type:{type:"projectionDefinition",doc:"The projection definition type. Can be specified as a string, a transition state, or an expression.",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},FX=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],zX={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},jX={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"https://github.com/maplibre/maplibre-gl-js/issues/1235",ios:"https://github.com/maplibre/maplibre-native/issues/744",android:"https://github.com/maplibre/maplibre-native/issues/744"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},NX={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},GX={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},WX={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline. \n\nThe unit is in pixels only for SDF sprites that were created with a blur radius of 8, multiplied by the display density. I.e., the radius needs to be 16 for `@2x` sprites, etc.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},QX={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},YX={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,doc:"The direction of the light source(s) used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`. Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,doc:"The altitude of the light source(s) used to generate the hillshading with 0 as sunset and 90 as noon. Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!1,"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",doc:"The shading color of areas that face away from the light source(s). Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source(s). Only when `hillshade-method` is set to `multidirectional` can you specify multiple light sources.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"},multidirectional:{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{doc:"The legacy hillshade method."},basic:{doc:"Basic hillshade. Uses a simple physics model where the reflected light intensity is proportional to the cosine of the angle between the incident light and the surface normal. Similar to GDAL's `gdaldem` default algorithm."},combined:{doc:"Hillshade algorithm whose intensity scales with slope. Similar to GDAL's `gdaldem` with `-combined` option."},igor:{doc:"Hillshade algorithm which tries to minimize effects on other map features beneath. Similar to GDAL's `gdaldem` with `-igor` option."},multidirectional:{doc:"Hillshade with multiple illumination directions. Uses the basic hillshade model with multiple independent light sources."}},default:"standard",doc:"The hillshade algorithm to use, one of `standard`, `basic`, `combined`, `igor`, or `multidirectional`. ![image](assets/hillshade_methods.png)","sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5665",android:"https://github.com/maplibre/maplibre-native/issues/3396",ios:"https://github.com/maplibre/maplibre-native/issues/3396"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},qX={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},HX={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},VX={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},Jo={$version:uX,$root:AX,sources:cX,source:hX,source_vector:dX,source_raster:fX,source_raster_dem:pX,source_geojson:mX,source_video:gX,source_image:yX,layer:vX,layout:CX,layout_background:_X,layout_fill:bX,layout_circle:xX,layout_heatmap:MX,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},"property-type":"constant"}},layout_line:wX,layout_symbol:SX,layout_raster:EX,layout_hillshade:BX,"layout_color-relief":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{}},"property-type":"constant"}},filter:OX,filter_operator:IX,geometry_type:TX,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:

* In categorical functions, when the feature value does not match any of the stop domain values.

* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.

* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).

* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.

If no default is provided, the style property's default is used in these circumstances.`}},function_stop:kX,expression:DX,expression_name:RX,light:PX,sky:UX,terrain:KX,projection:LX,paint:FX,paint_fill:zX,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",android:"7.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:jX,paint_circle:NX,paint_heatmap:GX,paint_symbol:WX,paint_raster:QX,paint_hillshade:YX,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the color-relief will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5666",android:"https://github.com/maplibre/maplibre-native/issues/3408",ios:"https://github.com/maplibre/maplibre-native/issues/3408"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",doc:'Defines the color of each pixel based on its elevation. Should be an expression that uses `["elevation"]` as input.',example:["interpolate",["linear"],["elevation"],0,"black",8849,"white"],transition:!1,"sdk-support":{"basic functionality":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5666",android:"https://github.com/maplibre/maplibre-native/issues/3408",ios:"https://github.com/maplibre/maplibre-native/issues/3408"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:qX,transition:HX,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:VX};var A3={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.7.1/LICENSE.txt
 */var $X=A3.exports,eT;function ZX(){return eT||(eT=1,function(n,e){(function(t,i){n.exports=i()})($X,function(){var t={},i={};function r(s,a,p){if(i[s]=p,s==="index"){var g="var sharedModule = {}; ("+i.shared+")(sharedModule); ("+i.worker+")(sharedModule);",_={};return i.shared(_),i.index(t,_),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),t}}r("shared",["exports"],function(s){function a(h,u,c,v){return new(c||(c=Promise))(function(w,U){function K(ae){try{H(v.next(ae))}catch(ce){U(ce)}}function G(ae){try{H(v.throw(ae))}catch(ce){U(ce)}}function H(ae){var ce;ae.done?w(ae.value):(ce=ae.value,ce instanceof c?ce:new c(function(xe){xe(ce)})).then(K,G)}H((v=v.apply(h,u||[])).next())})}function p(h,u){this.x=h,this.y=u}function g(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var _,E;typeof SuppressedError=="function"&&SuppressedError,p.prototype={clone(){return new p(this.x,this.y)},add(h){return this.clone()._add(h)},sub(h){return this.clone()._sub(h)},multByPoint(h){return this.clone()._multByPoint(h)},divByPoint(h){return this.clone()._divByPoint(h)},mult(h){return this.clone()._mult(h)},div(h){return this.clone()._div(h)},rotate(h){return this.clone()._rotate(h)},rotateAround(h,u){return this.clone()._rotateAround(h,u)},matMult(h){return this.clone()._matMult(h)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(h){return this.x===h.x&&this.y===h.y},dist(h){return Math.sqrt(this.distSqr(h))},distSqr(h){const u=h.x-this.x,c=h.y-this.y;return u*u+c*c},angle(){return Math.atan2(this.y,this.x)},angleTo(h){return Math.atan2(this.y-h.y,this.x-h.x)},angleWith(h){return this.angleWithSep(h.x,h.y)},angleWithSep(h,u){return Math.atan2(this.x*u-this.y*h,this.x*h+this.y*u)},_matMult(h){const u=h[2]*this.x+h[3]*this.y;return this.x=h[0]*this.x+h[1]*this.y,this.y=u,this},_add(h){return this.x+=h.x,this.y+=h.y,this},_sub(h){return this.x-=h.x,this.y-=h.y,this},_mult(h){return this.x*=h,this.y*=h,this},_div(h){return this.x/=h,this.y/=h,this},_multByPoint(h){return this.x*=h.x,this.y*=h.y,this},_divByPoint(h){return this.x/=h.x,this.y/=h.y,this},_unit(){return this._div(this.mag()),this},_perp(){const h=this.y;return this.y=this.x,this.x=-h,this},_rotate(h){const u=Math.cos(h),c=Math.sin(h),v=c*this.x+u*this.y;return this.x=u*this.x-c*this.y,this.y=v,this},_rotateAround(h,u){const c=Math.cos(h),v=Math.sin(h),w=u.y+v*(this.x-u.x)+c*(this.y-u.y);return this.x=u.x+c*(this.x-u.x)-v*(this.y-u.y),this.y=w,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:p},p.convert=function(h){if(h instanceof p)return h;if(Array.isArray(h))return new p(+h[0],+h[1]);if(h.x!==void 0&&h.y!==void 0)return new p(+h.x,+h.y);throw new Error("Expected [x, y] or {x, y} point format")};var O=function(){if(E)return _;function h(u,c,v,w){this.cx=3*u,this.bx=3*(v-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(w-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=c,this.p2x=v,this.p2y=w}return E=1,_=h,h.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,c){if(c===void 0&&(c=1e-6),u<0)return 0;if(u>1)return 1;for(var v=u,w=0;w<8;w++){var U=this.sampleCurveX(v)-u;if(Math.abs(U)<c)return v;var K=this.sampleCurveDerivativeX(v);if(Math.abs(K)<1e-6)break;v-=U/K}var G=0,H=1;for(v=u,w=0;w<20&&(U=this.sampleCurveX(v),!(Math.abs(U-u)<c));w++)u>U?G=v:H=v,v=.5*(H-G)+G;return v},solve:function(u,c){return this.sampleCurveY(this.solveCurveX(u,c))}},_}(),B=g(O);let z,N;function Q(){return z==null&&(z=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),z}function $(){if(N==null&&(N=!1,Q())){const u=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(u){for(let v=0;v<5*5;v++){const w=4*v;u.fillStyle=`rgb(${w},${w+1},${w+2})`,u.fillRect(v%5,Math.floor(v/5),1,1)}const c=u.getImageData(0,0,5,5).data;for(let v=0;v<5*5*4;v++)if(v%4!=3&&c[v]!==v){N=!0;break}}}return N||!1}var X=1e-6,re=typeof Float32Array<"u"?Float32Array:Array;function ne(){var h=new re(9);return re!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h}function V(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function J(){var h=new re(3);return re!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h}function W(h){var u=h[0],c=h[1],v=h[2];return Math.sqrt(u*u+c*c+v*v)}function he(h,u,c){var v=new re(3);return v[0]=h,v[1]=u,v[2]=c,v}function ge(h,u,c){return h[0]=u[0]+c[0],h[1]=u[1]+c[1],h[2]=u[2]+c[2],h}function ve(h,u,c){return h[0]=u[0]*c,h[1]=u[1]*c,h[2]=u[2]*c,h}function _e(h,u,c){var v=u[0],w=u[1],U=u[2],K=c[0],G=c[1],H=c[2];return h[0]=w*H-U*G,h[1]=U*K-v*H,h[2]=v*G-w*K,h}var Me,be=W;function ze(h,u,c){var v=u[0],w=u[1],U=u[2],K=u[3];return h[0]=c[0]*v+c[4]*w+c[8]*U+c[12]*K,h[1]=c[1]*v+c[5]*w+c[9]*U+c[13]*K,h[2]=c[2]*v+c[6]*w+c[10]*U+c[14]*K,h[3]=c[3]*v+c[7]*w+c[11]*U+c[15]*K,h}function Ce(){var h=new re(4);return re!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h[3]=1,h}function Fe(h,u,c,v){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",U=Math.PI/360;u*=U,v*=U,c*=U;var K=Math.sin(u),G=Math.cos(u),H=Math.sin(c),ae=Math.cos(c),ce=Math.sin(v),xe=Math.cos(v);switch(w){case"xyz":h[0]=K*ae*xe+G*H*ce,h[1]=G*H*xe-K*ae*ce,h[2]=G*ae*ce+K*H*xe,h[3]=G*ae*xe-K*H*ce;break;case"xzy":h[0]=K*ae*xe-G*H*ce,h[1]=G*H*xe-K*ae*ce,h[2]=G*ae*ce+K*H*xe,h[3]=G*ae*xe+K*H*ce;break;case"yxz":h[0]=K*ae*xe+G*H*ce,h[1]=G*H*xe-K*ae*ce,h[2]=G*ae*ce-K*H*xe,h[3]=G*ae*xe+K*H*ce;break;case"yzx":h[0]=K*ae*xe+G*H*ce,h[1]=G*H*xe+K*ae*ce,h[2]=G*ae*ce-K*H*xe,h[3]=G*ae*xe-K*H*ce;break;case"zxy":h[0]=K*ae*xe-G*H*ce,h[1]=G*H*xe+K*ae*ce,h[2]=G*ae*ce+K*H*xe,h[3]=G*ae*xe-K*H*ce;break;case"zyx":h[0]=K*ae*xe-G*H*ce,h[1]=G*H*xe+K*ae*ce,h[2]=G*ae*ce-K*H*xe,h[3]=G*ae*xe+K*H*ce;break;default:throw new Error("Unknown angle order "+w)}return h}function ot(){var h=new re(2);return re!=Float32Array&&(h[0]=0,h[1]=0),h}function mt(h,u){var c=new re(2);return c[0]=h,c[1]=u,c}J(),Me=new re(4),re!=Float32Array&&(Me[0]=0,Me[1]=0,Me[2]=0,Me[3]=0),J(),he(1,0,0),he(0,1,0),Ce(),Ce(),ne(),ot();const it=8192;function ue(h,u,c){return u*(it/(h.tileSize*Math.pow(2,c-h.tileID.overscaledZ)))}function We(h,u){return(h%u+u)%u}function tt(h,u,c){return h*(1-c)+u*c}function ke(h){if(h<=0)return 0;if(h>=1)return 1;const u=h*h,c=u*h;return 4*(h<.5?c:3*(h-u)+c-.75)}function Et(h,u,c,v){const w=new B(h,u,c,v);return U=>w.solve(U)}const gt=Et(.25,.1,.25,1);function xt(h,u,c){return Math.min(c,Math.max(u,h))}function Kt(h,u,c){const v=c-u,w=((h-u)%v+v)%v+u;return w===u?c:w}function je(h,...u){for(const c of u)for(const v in c)h[v]=c[v];return h}let Ke=1;function Ue(h,u,c){const v={};for(const w in h)v[w]=u.call(this,h[w],w,h);return v}function Ve(h,u,c){const v={};for(const w in h)u.call(this,h[w],w,h)&&(v[w]=h[w]);return v}function bt(h){return Array.isArray(h)?h.map(bt):typeof h=="object"&&h?Ue(h,bt):h}const vt={};function It(h){vt[h]||(typeof console<"u"&&console.warn(h),vt[h]=!0)}function Yt(h,u,c){return(c.y-h.y)*(u.x-h.x)>(u.y-h.y)*(c.x-h.x)}function Ut(h){return typeof WorkerGlobalScope<"u"&&h!==void 0&&h instanceof WorkerGlobalScope}let on=null;function Hn(h){return typeof ImageBitmap<"u"&&h instanceof ImageBitmap}const Wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Gn(h,u,c,v,w){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const U=new VideoFrame(h,{timestamp:0});try{const K=U?.format;if(!K||!K.startsWith("BGR")&&!K.startsWith("RGB"))throw new Error(`Unrecognized format ${K}`);const G=K.startsWith("BGR"),H=new Uint8ClampedArray(v*w*4);if(yield U.copyTo(H,function(ae,ce,xe,Le,qe){const $e=4*Math.max(-ce,0),nt=(Math.max(0,xe)-xe)*Le*4+$e,ct=4*Le,wt=Math.max(0,ce),qt=Math.max(0,xe);return{rect:{x:wt,y:qt,width:Math.min(ae.width,ce+Le)-wt,height:Math.min(ae.height,xe+qe)-qt},layout:[{offset:nt,stride:ct}]}}(h,u,c,v,w)),G)for(let ae=0;ae<H.length;ae+=4){const ce=H[ae];H[ae]=H[ae+2],H[ae+2]=ce}return H}finally{U.close()}})}let On,Bn;function Tn(h,u,c,v){return h.addEventListener(u,c,v),{unsubscribe:()=>{h.removeEventListener(u,c,v)}}}function Oi(h){return h*Math.PI/180}function Vn(h){return h/Math.PI*180}const Lt={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},De={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},de="AbortError";function oe(){return new Error(de)}const le={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function me(h){return le.REGISTERED_PROTOCOLS[h.substring(0,h.indexOf("://"))]}const Ie="global-dispatcher";class Qe extends Error{constructor(u,c,v,w){super(`AJAXError: ${c} (${u}): ${v}`),this.status=u,this.statusText=c,this.url=v,this.body=w}}const At=()=>Ut(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,He=function(h,u){if(/:\/\//.test(h.url)&&!/^https?:|^file:/.test(h.url)){const v=me(h.url);if(v)return v(h,u);if(Ut(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:h,targetMapId:Ie},u)}if(!(/^file:/.test(c=h.url)||/^file:/.test(At())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(v,w){return a(this,void 0,void 0,function*(){const U=new Request(v.url,{method:v.method||"GET",body:v.body,credentials:v.credentials,headers:v.headers,cache:v.cache,referrer:At(),signal:w.signal});let K,G;v.type!=="json"||U.headers.has("Accept")||U.headers.set("Accept","application/json");try{K=yield fetch(U)}catch(ae){throw new Qe(0,ae.message,v.url,new Blob)}if(!K.ok){const ae=yield K.blob();throw new Qe(K.status,K.statusText,v.url,ae)}G=v.type==="arrayBuffer"||v.type==="image"?K.arrayBuffer():v.type==="json"?K.json():K.text();const H=yield G;if(w.signal.aborted)throw oe();return{data:H,cacheControl:K.headers.get("Cache-Control"),expires:K.headers.get("Expires")}})}(h,u);if(Ut(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:h,mustQueue:!0,targetMapId:Ie},u)}var c;return function(v,w){return new Promise((U,K)=>{var G;const H=new XMLHttpRequest;H.open(v.method||"GET",v.url,!0),v.type!=="arrayBuffer"&&v.type!=="image"||(H.responseType="arraybuffer");for(const ae in v.headers)H.setRequestHeader(ae,v.headers[ae]);v.type==="json"&&(H.responseType="text",!((G=v.headers)===null||G===void 0)&&G.Accept||H.setRequestHeader("Accept","application/json")),H.withCredentials=v.credentials==="include",H.onerror=()=>{K(new Error(H.statusText))},H.onload=()=>{if(!w.signal.aborted)if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){let ae=H.response;if(v.type==="json")try{ae=JSON.parse(H.response)}catch(ce){return void K(ce)}U({data:ae,cacheControl:H.getResponseHeader("Cache-Control"),expires:H.getResponseHeader("Expires")})}else{const ae=new Blob([H.response],{type:H.getResponseHeader("Content-Type")});K(new Qe(H.status,H.statusText,v.url,ae))}},w.signal.addEventListener("abort",()=>{H.abort(),K(oe())}),H.send(v.body)})}(h,u)};function Re(h){if(!h||h.indexOf("://")<=0||h.indexOf("data:image/")===0||h.indexOf("blob:")===0)return!0;const u=new URL(h),c=window.location;return u.protocol===c.protocol&&u.host===c.host}function Ze(h,u,c){c[h]&&c[h].indexOf(u)!==-1||(c[h]=c[h]||[],c[h].push(u))}function y(h,u,c){if(c&&c[h]){const v=c[h].indexOf(u);v!==-1&&c[h].splice(v,1)}}class yt{constructor(u,c={}){je(this,c),this.type=u}}class dt extends yt{constructor(u,c={}){super("error",je({error:u},c))}}class kt{on(u,c){return this._listeners=this._listeners||{},Ze(u,c,this._listeners),{unsubscribe:()=>{this.off(u,c)}}}off(u,c){return y(u,c,this._listeners),y(u,c,this._oneTimeListeners),this}once(u,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(u,c,this._oneTimeListeners),this):new Promise(v=>this.once(u,v))}fire(u,c){typeof u=="string"&&(u=new yt(u,c||{}));const v=u.type;if(this.listens(v)){u.target=this;const w=this._listeners&&this._listeners[v]?this._listeners[v].slice():[];for(const G of w)G.call(this,u);const U=this._oneTimeListeners&&this._oneTimeListeners[v]?this._oneTimeListeners[v].slice():[];for(const G of U)y(v,G,this._oneTimeListeners),G.call(this,u);const K=this._eventedParent;K&&(je(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),K.fire(u))}else u instanceof dt&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&this._listeners[u].length>0||this._oneTimeListeners&&this._oneTimeListeners[u]&&this._oneTimeListeners[u].length>0||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,c){return this._eventedParent=u,this._eventedParentData=c,this}}var rt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const tn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Rn(h,u){const c={};for(const v in h)v!=="ref"&&(c[v]=h[v]);return tn.forEach(v=>{v in u&&(c[v]=u[v])}),c}function wn(h,u){if(Array.isArray(h)){if(!Array.isArray(u)||h.length!==u.length)return!1;for(let c=0;c<h.length;c++)if(!wn(h[c],u[c]))return!1;return!0}if(typeof h=="object"&&h!==null&&u!==null){if(typeof u!="object"||Object.keys(h).length!==Object.keys(u).length)return!1;for(const c in h)if(!wn(h[c],u[c]))return!1;return!0}return h===u}function ri(h,u){h.push(u)}function Qn(h,u,c){ri(c,{command:"addSource",args:[h,u[h]]})}function $i(h,u,c){ri(u,{command:"removeSource",args:[h]}),c[h]=!0}function ir(h,u,c,v){$i(h,c,v),Qn(h,u,c)}function Ii(h,u,c){let v;for(v in h[c])if(Object.prototype.hasOwnProperty.call(h[c],v)&&v!=="data"&&!wn(h[c][v],u[c][v]))return!1;for(v in u[c])if(Object.prototype.hasOwnProperty.call(u[c],v)&&v!=="data"&&!wn(h[c][v],u[c][v]))return!1;return!0}function di(h,u,c,v,w,U){h=h||{},u=u||{};for(const K in h)Object.prototype.hasOwnProperty.call(h,K)&&(wn(h[K],u[K])||c.push({command:U,args:[v,K,u[K],w]}));for(const K in u)Object.prototype.hasOwnProperty.call(u,K)&&!Object.prototype.hasOwnProperty.call(h,K)&&(wn(h[K],u[K])||c.push({command:U,args:[v,K,u[K],w]}))}function ti(h){return h.id}function qi(h,u){return h[u.id]=u,h}class Sn{constructor(u,c,v,w){this.message=(u?`${u}: `:"")+v,w&&(this.identifier=w),c!=null&&c.__line__&&(this.line=c.__line__)}}function co(h,...u){for(const c of u)for(const v in c)h[v]=c[v];return h}class Zi extends Error{constructor(u,c){super(c),this.message=c,this.key=u}}class _a{constructor(u,c=[]){this.parent=u,this.bindings={};for(const[v,w]of c)this.bindings[v]=w}concat(u){return new _a(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(`${u} not found in scope.`)}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const Ro={kind:"null"},Jn={kind:"number"},cr={kind:"string"},Ni={kind:"boolean"},br={kind:"color"},Wa={kind:"projectionDefinition"},Rr={kind:"object"},Gi={kind:"value"},bl={kind:"collator"},La={kind:"formatted"},Bo={kind:"padding"},rs={kind:"colorArray"},Pl={kind:"numberArray"},ho={kind:"resolvedImage"},Xu={kind:"variableAnchorOffsetCollection"};function Fa(h,u){return{kind:"array",itemType:h,N:u}}function Xi(h){if(h.kind==="array"){const u=Xi(h.itemType);return typeof h.N=="number"?`array<${u}, ${h.N}>`:h.itemType.kind==="value"?"array":`array<${u}>`}return h.kind}const Si=[Ro,Jn,cr,Ni,br,Wa,La,Rr,Fa(Gi),Bo,Pl,rs,ho,Xu];function fs(h,u){if(u.kind==="error")return null;if(h.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!fs(h.itemType,u.itemType))&&(typeof h.N!="number"||h.N===u.N))return null}else{if(h.kind===u.kind)return null;if(h.kind==="value"){for(const c of Si)if(!fs(c,u))return null}}return`Expected ${Xi(h)} but found ${Xi(u)} instead.`}function Oa(h,u){return u.some(c=>c.kind===h.kind)}function ea(h,u){return u.some(c=>c==="null"?h===null:c==="array"?Array.isArray(h):c==="object"?h&&!Array.isArray(h)&&typeof h=="object":c===typeof h)}function Xe(h,u){return h.kind==="array"&&u.kind==="array"?h.itemType.kind===u.itemType.kind&&typeof h.N=="number":h.kind===u.kind}const Bt=.96422,Mn=.82521,Wn=4/29,an=6/29,li=3*an*an,no=an*an*an,Oo=Math.PI/180,ps=180/Math.PI;function Ws(h){return(h%=360)<0&&(h+=360),h}function Ju([h,u,c,v]){let w,U;const K=jA((.2225045*(h=Hi(h))+.7168786*(u=Hi(u))+.0606169*(c=Hi(c)))/1);h===u&&u===c?w=U=K:(w=jA((.4360747*h+.3850649*u+.1430804*c)/Bt),U=jA((.0139322*h+.0971045*u+.7141733*c)/Mn));const G=116*K-16;return[G<0?0:G,500*(w-K),200*(K-U),v]}function Hi(h){return h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)}function jA(h){return h>no?Math.pow(h,1/3):h/li+Wn}function Ou([h,u,c,v]){let w=(h+16)/116,U=isNaN(u)?w:w+u/500,K=isNaN(c)?w:w-c/200;return w=1*Is(w),U=Bt*Is(U),K=Mn*Is(K),[xl(3.1338561*U-1.6168667*w-.4906146*K),xl(-.9787684*U+1.9161415*w+.033454*K),xl(.0719453*U-.2289914*w+1.4052427*K),v]}function xl(h){return(h=h<=.00304?12.92*h:1.055*Math.pow(h,1/2.4)-.055)<0?0:h>1?1:h}function Is(h){return h>an?h*h*h:li*(h-Wn)}const Tc=Object.hasOwn||function(h,u){return Object.prototype.hasOwnProperty.call(h,u)};function Xs(h,u){return Tc(h,u)?h[u]:void 0}function ta(h){return parseInt(h.padEnd(2,h),16)/255}function Po(h,u){return mr(u?h/100:h,0,1)}function mr(h,u,c){return Math.min(Math.max(u,h),c)}function Gl(h){return!h.some(Number.isNaN)}const ba={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Wl(h,u,c){return h+c*(u-h)}function Iu(h,u,c){return h.map((v,w)=>Wl(v,u[w],c))}class Sr{constructor(u,c,v,w=1,U=!0){this.r=u,this.g=c,this.b=v,this.a=w,U||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[u,c,v,w]))}static parse(u){if(u instanceof Sr)return u;if(typeof u!="string")return;const c=function(v){if((v=v.toLowerCase().trim())==="transparent")return[0,0,0,0];const w=Xs(ba,v);if(w){const[K,G,H]=w;return[K/255,G/255,H/255,1]}if(v.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(v)){const K=v.length<6?1:2;let G=1;return[ta(v.slice(G,G+=K)),ta(v.slice(G,G+=K)),ta(v.slice(G,G+=K)),ta(v.slice(G,G+K)||"ff")]}if(v.startsWith("rgb")){const K=v.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(K){const[G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt,qt]=K,Dt=[ce||" ",qe||" ",ct].join("");if(Dt==="  "||Dt==="  /"||Dt===",,"||Dt===",,,"){const Nt=[ae,Le,nt].join(""),un=Nt==="%%%"?100:Nt===""?255:0;if(un){const _n=[mr(+H/un,0,1),mr(+xe/un,0,1),mr(+$e/un,0,1),wt?Po(+wt,qt):1];if(Gl(_n))return _n}}return}}const U=v.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(U){const[K,G,H,ae,ce,xe,Le,qe,$e]=U,nt=[H||" ",ce||" ",Le].join("");if(nt==="  "||nt==="  /"||nt===",,"||nt===",,,"){const ct=[+G,mr(+ae,0,100),mr(+xe,0,100),qe?Po(+qe,$e):1];if(Gl(ct))return function([wt,qt,Dt,Nt]){function un(_n){const Kn=(_n+wt/30)%12,mi=qt*Math.min(Dt,1-Dt);return Dt-mi*Math.max(-1,Math.min(Kn-3,9-Kn,1))}return wt=Ws(wt),qt/=100,Dt/=100,[un(0),un(8),un(4),Nt]}(ct)}}}(u);return c?new Sr(...c,!1):void 0}get rgb(){const{r:u,g:c,b:v,a:w}=this,U=w||1/0;return this.overwriteGetter("rgb",[u/U,c/U,v/U,w])}get hcl(){return this.overwriteGetter("hcl",function(u){const[c,v,w,U]=Ju(u),K=Math.sqrt(v*v+w*w);return[Math.round(1e4*K)?Ws(Math.atan2(w,v)*ps):NaN,K,c,U]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Ju(this.rgb))}overwriteGetter(u,c){return Object.defineProperty(this,u,{value:c}),c}toString(){const[u,c,v,w]=this.rgb;return`rgba(${[u,c,v].map(U=>Math.round(255*U)).join(",")},${w})`}static interpolate(u,c,v,w="rgb"){switch(w){case"rgb":{const[U,K,G,H]=Iu(u.rgb,c.rgb,v);return new Sr(U,K,G,H,!1)}case"hcl":{const[U,K,G,H]=u.hcl,[ae,ce,xe,Le]=c.hcl;let qe,$e;if(isNaN(U)||isNaN(ae))isNaN(U)?isNaN(ae)?qe=NaN:(qe=ae,G!==1&&G!==0||($e=ce)):(qe=U,xe!==1&&xe!==0||($e=K));else{let Dt=ae-U;ae>U&&Dt>180?Dt-=360:ae<U&&U-ae>180&&(Dt+=360),qe=U+v*Dt}const[nt,ct,wt,qt]=function([Dt,Nt,un,_n]){return Dt=isNaN(Dt)?0:Dt*Oo,Ou([un,Math.cos(Dt)*Nt,Math.sin(Dt)*Nt,_n])}([qe,$e??Wl(K,ce,v),Wl(G,xe,v),Wl(H,Le,v)]);return new Sr(nt,ct,wt,qt,!1)}case"lab":{const[U,K,G,H]=Ou(Iu(u.lab,c.lab,v));return new Sr(U,K,G,H,!1)}}}}Sr.black=new Sr(0,0,0,1),Sr.white=new Sr(1,1,1,1),Sr.transparent=new Sr(0,0,0,0),Sr.red=new Sr(1,0,0,1);class Au{constructor(u,c,v){this.sensitivity=u?c?"variant":"case":c?"accent":"base",this.locale=v,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,c){return this.collator.compare(u,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const yA=["bottom","center","top"];class Wo{constructor(u,c,v,w,U,K){this.text=u,this.image=c,this.scale=v,this.fontStack=w,this.textColor=U,this.verticalAlign=K}}class Io{constructor(u){this.sections=u}static fromString(u){return new Io([new Wo(u,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(u=>u.text.length!==0||u.image&&u.image.name.length!==0)}static factory(u){return u instanceof Io?u:Io.fromString(u)}toString(){return this.sections.length===0?"":this.sections.map(u=>u.text).join("")}}class Qa{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Qa)return u;if(typeof u=="number")return new Qa([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||u.length>4)){for(const c of u)if(typeof c!="number")return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new Qa(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,c,v){return new Qa(Iu(u.values,c.values,v))}}class Ia{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Ia)return u;if(typeof u=="number")return new Ia([u]);if(Array.isArray(u)){for(const c of u)if(typeof c!="number")return;return new Ia(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,c,v){return new Ia(Iu(u.values,c.values,v))}}class ca{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof ca)return u;if(typeof u=="string"){const v=Sr.parse(u);return v?new ca([v]):void 0}if(!Array.isArray(u))return;const c=[];for(const v of u){if(typeof v!="string")return;const w=Sr.parse(v);if(!w)return;c.push(w)}return new ca(c)}toString(){return JSON.stringify(this.values)}static interpolate(u,c,v,w="rgb"){const U=[];if(u.values.length!=c.values.length)throw new Error(`colorArray: Arrays have mismatched length (${u.values.length} vs. ${c.values.length}), cannot interpolate.`);for(let K=0;K<u.values.length;K++)U.push(Sr.interpolate(u.values[K],c.values[K],v,w));return new ca(U)}}class Ur extends Error{constructor(u){super(u),this.name="RuntimeError"}toJSON(){return this.message}}const cu=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ya{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Ya)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let c=0;c<u.length;c+=2){const v=u[c],w=u[c+1];if(typeof v!="string"||!cu.has(v)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new Ya(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,c,v){const w=u.values,U=c.values;if(w.length!==U.length)throw new Ur(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${c.toString()}`);const K=[];for(let G=0;G<w.length;G+=2){if(w[G]!==U[G])throw new Ur(`Cannot interpolate values containing mismatched anchors. from[${G}]: ${w[G]}, to[${G}]: ${U[G]}`);K.push(w[G]);const[H,ae]=w[G+1],[ce,xe]=U[G+1];K.push([Wl(H,ce,v),Wl(ae,xe,v)])}return new Ya(K)}}class os{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new os({name:u,available:!1}):null}}class xa{constructor(u,c,v){this.from=u,this.to=c,this.transition=v}static interpolate(u,c,v){return new xa(u,c,v)}static parse(u){return u instanceof xa?u:Array.isArray(u)&&u.length===3&&typeof u[0]=="string"&&typeof u[1]=="string"&&typeof u[2]=="number"?new xa(u[0],u[1],u[2]):typeof u=="object"&&typeof u.from=="string"&&typeof u.to=="string"&&typeof u.transition=="number"?new xa(u.from,u.to,u.transition):typeof u=="string"?new xa(u,u,1):void 0}}function Kr(h,u,c,v){return typeof h=="number"&&h>=0&&h<=255&&typeof u=="number"&&u>=0&&u<=255&&typeof c=="number"&&c>=0&&c<=255?v===void 0||typeof v=="number"&&v>=0&&v<=1?null:`Invalid rgba value [${[h,u,c,v].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof v=="number"?[h,u,c,v]:[h,u,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ml(h){if(h===null||typeof h=="string"||typeof h=="boolean"||typeof h=="number"||h instanceof xa||h instanceof Sr||h instanceof Au||h instanceof Io||h instanceof Qa||h instanceof Ia||h instanceof ca||h instanceof Ya||h instanceof os)return!0;if(Array.isArray(h)){for(const u of h)if(!Ml(u))return!1;return!0}if(typeof h=="object"){for(const u in h)if(!Ml(h[u]))return!1;return!0}return!1}function er(h){if(h===null)return Ro;if(typeof h=="string")return cr;if(typeof h=="boolean")return Ni;if(typeof h=="number")return Jn;if(h instanceof Sr)return br;if(h instanceof xa)return Wa;if(h instanceof Au)return bl;if(h instanceof Io)return La;if(h instanceof Qa)return Bo;if(h instanceof Ia)return Pl;if(h instanceof ca)return rs;if(h instanceof Ya)return Xu;if(h instanceof os)return ho;if(Array.isArray(h)){const u=h.length;let c;for(const v of h){const w=er(v);if(c){if(c===w)continue;c=Gi;break}c=w}return Fa(c||Gi,u)}return Rr}function Ei(h){const u=typeof h;return h===null?"":u==="string"||u==="number"||u==="boolean"?String(h):h instanceof Sr||h instanceof xa||h instanceof Io||h instanceof Qa||h instanceof Ia||h instanceof ca||h instanceof Ya||h instanceof os?h.toString():JSON.stringify(h)}class Hr{constructor(u,c){this.type=u,this.value=c}static parse(u,c){if(u.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!Ml(u[1]))return c.error("invalid value");const v=u[1];let w=er(v);const U=c.expectedType;return w.kind!=="array"||w.N!==0||!U||U.kind!=="array"||typeof U.N=="number"&&U.N!==0||(w=U),new Hr(w,v)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const ie={string:cr,number:Jn,boolean:Ni,object:Rr};class Te{constructor(u,c){this.type=u,this.args=c}static parse(u,c){if(u.length<2)return c.error("Expected at least one argument.");let v,w=1;const U=u[0];if(U==="array"){let G,H;if(u.length>2){const ae=u[1];if(typeof ae!="string"||!(ae in ie)||ae==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);G=ie[ae],w++}else G=Gi;if(u.length>3){if(u[2]!==null&&(typeof u[2]!="number"||u[2]<0||u[2]!==Math.floor(u[2])))return c.error('The length argument to "array" must be a positive integer literal',2);H=u[2],w++}v=Fa(G,H)}else{if(!ie[U])throw new Error(`Types doesn't contain name = ${U}`);v=ie[U]}const K=[];for(;w<u.length;w++){const G=c.parse(u[w],w,Gi);if(!G)return null;K.push(G)}return new Te(v,K)}evaluate(u){for(let c=0;c<this.args.length;c++){const v=this.args[c].evaluate(u);if(!fs(this.type,er(v)))return v;if(c===this.args.length-1)throw new Ur(`Expected value to be of type ${Xi(this.type)}, but found ${Xi(er(v))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const lt={"to-boolean":Ni,"to-color":br,"to-number":Jn,"to-string":cr};class Qt{constructor(u,c){this.type=u,this.args=c}static parse(u,c){if(u.length<2)return c.error("Expected at least one argument.");const v=u[0];if(!lt[v])throw new Error(`Can't parse ${v} as it is not part of the known types`);if((v==="to-boolean"||v==="to-string")&&u.length!==2)return c.error("Expected one argument.");const w=lt[v],U=[];for(let K=1;K<u.length;K++){const G=c.parse(u[K],K,Gi);if(!G)return null;U.push(G)}return new Qt(w,U)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let c,v;for(const w of this.args){if(c=w.evaluate(u),v=null,c instanceof Sr)return c;if(typeof c=="string"){const U=u.parseColor(c);if(U)return U}else if(Array.isArray(c)&&(v=c.length<3||c.length>4?`Invalid rgba value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Kr(c[0],c[1],c[2],c[3]),!v))return new Sr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Ur(v||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const v of this.args){c=v.evaluate(u);const w=Qa.parse(c);if(w)return w}throw new Ur(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"numberArray":{let c;for(const v of this.args){c=v.evaluate(u);const w=Ia.parse(c);if(w)return w}throw new Ur(`Could not parse numberArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"colorArray":{let c;for(const v of this.args){c=v.evaluate(u);const w=ca.parse(c);if(w)return w}throw new Ur(`Could not parse colorArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const v of this.args){c=v.evaluate(u);const w=Ya.parse(c);if(w)return w}throw new Ur(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const v of this.args){if(c=v.evaluate(u),c===null)return 0;const w=Number(c);if(!isNaN(w))return w}throw new Ur(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Io.fromString(Ei(this.args[0].evaluate(u)));case"resolvedImage":return os.fromString(Ei(this.args[0].evaluate(u)));case"projectionDefinition":return this.args[0].evaluate(u);default:return Ei(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Bi=["Unknown","Point","LineString","Polygon"];class ei{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Bi[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let c=this._parseColorCache.get(u);return c||(c=Sr.parse(u),this._parseColorCache.set(u,c)),c}}class Ji{constructor(u,c,v=[],w,U=new _a,K=[]){this.registry=u,this.path=v,this.key=v.map(G=>`[${G}]`).join(""),this.scope=U,this.errors=K,this.expectedType=w,this._isConstant=c}parse(u,c,v,w,U={}){return c?this.concat(c,v,w)._parse(u,U):this._parse(u,U)}_parse(u,c){function v(w,U,K){return K==="assert"?new Te(U,[w]):K==="coerce"?new Qt(U,[w]):w}if(u!==null&&typeof u!="string"&&typeof u!="boolean"&&typeof u!="number"||(u=["literal",u]),Array.isArray(u)){if(u.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=u[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const U=this.registry[w];if(U){let K=U.parse(u,this);if(!K)return null;if(this.expectedType){const G=this.expectedType,H=K.type;if(G.kind!=="string"&&G.kind!=="number"&&G.kind!=="boolean"&&G.kind!=="object"&&G.kind!=="array"||H.kind!=="value"){if(G.kind==="projectionDefinition"&&["string","array"].includes(H.kind)||["color","formatted","resolvedImage"].includes(G.kind)&&["value","string"].includes(H.kind)||["padding","numberArray"].includes(G.kind)&&["value","number","array"].includes(H.kind)||G.kind==="colorArray"&&["value","string","array"].includes(H.kind)||G.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(H.kind))K=v(K,G,c.typeAnnotation||"coerce");else if(this.checkSubtype(G,H))return null}else K=v(K,G,c.typeAnnotation||"assert")}if(!(K instanceof Hr)&&K.type.kind!=="resolvedImage"&&this._isConstant(K)){const G=new ei;try{K=new Hr(K.type,K.evaluate(G))}catch(H){return this.error(H.message),null}}return K}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(u===void 0?"'undefined' value invalid. Use null instead.":typeof u=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof u} instead.`)}concat(u,c,v){const w=typeof u=="number"?this.path.concat(u):this.path,U=v?this.scope.concat(v):this.scope;return new Ji(this.registry,this._isConstant,w,c||null,U,this.errors)}error(u,...c){const v=`${this.key}${c.map(w=>`[${w}]`).join("")}`;this.errors.push(new Zi(v,u))}checkSubtype(u,c){const v=fs(u,c);return v&&this.error(v),v}}class lr{constructor(u,c){this.type=c.type,this.bindings=[].concat(u),this.result=c}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const c of this.bindings)u(c[1]);u(this.result)}static parse(u,c){if(u.length<4)return c.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);const v=[];for(let U=1;U<u.length-1;U+=2){const K=u[U];if(typeof K!="string")return c.error(`Expected string, but found ${typeof K} instead.`,U);if(/[^a-zA-Z0-9_]/.test(K))return c.error("Variable names must contain only alphanumeric characters or '_'.",U);const G=c.parse(u[U+1],U+1);if(!G)return null;v.push([K,G])}const w=c.parse(u[u.length-1],u.length-1,c.expectedType,v);return w?new lr(v,w):null}outputDefined(){return this.result.outputDefined()}}class Ui{constructor(u,c){this.type=c.type,this.name=u,this.boundExpression=c}static parse(u,c){if(u.length!==2||typeof u[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const v=u[1];return c.scope.has(v)?new Ui(v,c.scope.get(v)):c.error(`Unknown variable "${v}". Make sure "${v}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class tr{constructor(u,c,v){this.type=u,this.index=c,this.input=v}static parse(u,c){if(u.length!==3)return c.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const v=c.parse(u[1],1,Jn),w=c.parse(u[2],2,Fa(c.expectedType||Gi));return v&&w?new tr(w.type.itemType,v,w):null}evaluate(u){const c=this.index.evaluate(u),v=this.input.evaluate(u);if(c<0)throw new Ur(`Array index out of bounds: ${c} < 0.`);if(c>=v.length)throw new Ur(`Array index out of bounds: ${c} > ${v.length-1}.`);if(c!==Math.floor(c))throw new Ur(`Array index must be an integer, but found ${c} instead.`);return v[c]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}}class io{constructor(u,c){this.type=Ni,this.needle=u,this.haystack=c}static parse(u,c){if(u.length!==3)return c.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const v=c.parse(u[1],1,Gi),w=c.parse(u[2],2,Gi);return v&&w?Oa(v.type,[Ni,cr,Jn,Ro,Gi])?new io(v,w):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Xi(v.type)} instead`):null}evaluate(u){const c=this.needle.evaluate(u),v=this.haystack.evaluate(u);if(!v)return!1;if(!ea(c,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Xi(er(c))} instead.`);if(!ea(v,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Xi(er(v))} instead.`);return v.indexOf(c)>=0}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}}class fo{constructor(u,c,v){this.type=Jn,this.needle=u,this.haystack=c,this.fromIndex=v}static parse(u,c){if(u.length<=2||u.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const v=c.parse(u[1],1,Gi),w=c.parse(u[2],2,Gi);if(!v||!w)return null;if(!Oa(v.type,[Ni,cr,Jn,Ro,Gi]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Xi(v.type)} instead`);if(u.length===4){const U=c.parse(u[3],3,Jn);return U?new fo(v,w,U):null}return new fo(v,w)}evaluate(u){const c=this.needle.evaluate(u),v=this.haystack.evaluate(u);if(!ea(c,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Xi(er(c))} instead.`);let w;if(this.fromIndex&&(w=this.fromIndex.evaluate(u)),ea(v,["string"])){const U=v.indexOf(c,w);return U===-1?-1:[...v.slice(0,U)].length}if(ea(v,["array"]))return v.indexOf(c,w);throw new Ur(`Expected second argument to be of type array or string, but found ${Xi(er(v))} instead.`)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}}class dr{constructor(u,c,v,w,U,K){this.inputType=u,this.type=c,this.input=v,this.cases=w,this.outputs=U,this.otherwise=K}static parse(u,c){if(u.length<5)return c.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return c.error("Expected an even number of arguments.");let v,w;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);const U={},K=[];for(let ae=2;ae<u.length-1;ae+=2){let ce=u[ae];const xe=u[ae+1];Array.isArray(ce)||(ce=[ce]);const Le=c.concat(ae);if(ce.length===0)return Le.error("Expected at least one branch label.");for(const $e of ce){if(typeof $e!="number"&&typeof $e!="string")return Le.error("Branch labels must be numbers or strings.");if(typeof $e=="number"&&Math.abs($e)>Number.MAX_SAFE_INTEGER)return Le.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof $e=="number"&&Math.floor($e)!==$e)return Le.error("Numeric branch labels must be integer values.");if(v){if(Le.checkSubtype(v,er($e)))return null}else v=er($e);if(U[String($e)]!==void 0)return Le.error("Branch labels must be unique.");U[String($e)]=K.length}const qe=c.parse(xe,ae,w);if(!qe)return null;w=w||qe.type,K.push(qe)}const G=c.parse(u[1],1,Gi);if(!G)return null;const H=c.parse(u[u.length-1],u.length-1,w);return H?G.type.kind!=="value"&&c.concat(1).checkSubtype(v,G.type)?null:new dr(v,w,G,U,K,H):null}evaluate(u){const c=this.input.evaluate(u);return(er(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}}class vr{constructor(u,c,v){this.type=u,this.branches=c,this.otherwise=v}static parse(u,c){if(u.length<4)return c.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return c.error("Expected an odd number of arguments.");let v;c.expectedType&&c.expectedType.kind!=="value"&&(v=c.expectedType);const w=[];for(let K=1;K<u.length-1;K+=2){const G=c.parse(u[K],K,Ni);if(!G)return null;const H=c.parse(u[K+1],K+1,v);if(!H)return null;w.push([G,H]),v=v||H.type}const U=c.parse(u[u.length-1],u.length-1,v);if(!U)return null;if(!v)throw new Error("Can't infer output type");return new vr(v,w,U)}evaluate(u){for(const[c,v]of this.branches)if(c.evaluate(u))return v.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(const[c,v]of this.branches)u(c),u(v);u(this.otherwise)}outputDefined(){return this.branches.every(([u,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class po{constructor(u,c,v,w){this.type=u,this.input=c,this.beginIndex=v,this.endIndex=w}static parse(u,c){if(u.length<=2||u.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const v=c.parse(u[1],1,Gi),w=c.parse(u[2],2,Jn);if(!v||!w)return null;if(!Oa(v.type,[Fa(Gi),cr,Gi]))return c.error(`Expected first argument to be of type array or string, but found ${Xi(v.type)} instead`);if(u.length===4){const U=c.parse(u[3],3,Jn);return U?new po(v.type,v,w,U):null}return new po(v.type,v,w)}evaluate(u){const c=this.input.evaluate(u),v=this.beginIndex.evaluate(u);let w;if(this.endIndex&&(w=this.endIndex.evaluate(u)),ea(c,["string"]))return[...c].slice(v,w).join("");if(ea(c,["array"]))return c.slice(v,w);throw new Ur(`Expected first argument to be of type array or string, but found ${Xi(er(c))} instead.`)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}}function Qo(h,u){const c=h.length-1;let v,w,U=0,K=c,G=0;for(;U<=K;)if(G=Math.floor((U+K)/2),v=h[G],w=h[G+1],v<=u){if(G===c||u<w)return G;U=G+1}else{if(!(v>u))throw new Ur("Input is not a number.");K=G-1}return 0}class Gr{constructor(u,c,v){this.type=u,this.input=c,this.labels=[],this.outputs=[];for(const[w,U]of v)this.labels.push(w),this.outputs.push(U)}static parse(u,c){if(u.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return c.error("Expected an even number of arguments.");const v=c.parse(u[1],1,Jn);if(!v)return null;const w=[];let U=null;c.expectedType&&c.expectedType.kind!=="value"&&(U=c.expectedType);for(let K=1;K<u.length;K+=2){const G=K===1?-1/0:u[K],H=u[K+1],ae=K,ce=K+1;if(typeof G!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ae);if(w.length&&w[w.length-1][0]>=G)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ae);const xe=c.parse(H,ce,U);if(!xe)return null;U=U||xe.type,w.push([G,xe])}return new Gr(U,v,w)}evaluate(u){const c=this.labels,v=this.outputs;if(c.length===1)return v[0].evaluate(u);const w=this.input.evaluate(u);if(w<=c[0])return v[0].evaluate(u);const U=c.length;return w>=c[U-1]?v[U-1].evaluate(u):v[Qo(c,w)].evaluate(u)}eachChild(u){u(this.input);for(const c of this.outputs)u(c)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function Js(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ql,eA,Cs=function(){if(eA)return Ql;function h(u,c,v,w){this.cx=3*u,this.bx=3*(v-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(w-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=c,this.p2x=v,this.p2y=w}return eA=1,Ql=h,h.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,c){if(c===void 0&&(c=1e-6),u<0)return 0;if(u>1)return 1;for(var v=u,w=0;w<8;w++){var U=this.sampleCurveX(v)-u;if(Math.abs(U)<c)return v;var K=this.sampleCurveDerivativeX(v);if(Math.abs(K)<1e-6)break;v-=U/K}var G=0,H=1;for(v=u,w=0;w<20&&(U=this.sampleCurveX(v),!(Math.abs(U-u)<c));w++)u>U?G=v:H=v,v=.5*(H-G)+G;return v},solve:function(u,c){return this.sampleCurveY(this.solveCurveX(u,c))}},Ql}(),Sd=Js(Cs);class za{constructor(u,c,v,w,U){this.type=u,this.operator=c,this.interpolation=v,this.input=w,this.labels=[],this.outputs=[];for(const[K,G]of U)this.labels.push(K),this.outputs.push(G)}static interpolationFactor(u,c,v,w){let U=0;if(u.name==="exponential")U=Ed(c,u.base,v,w);else if(u.name==="linear")U=Ed(c,1,v,w);else if(u.name==="cubic-bezier"){const K=u.controlPoints;U=new Sd(K[0],K[1],K[2],K[3]).solve(Ed(c,1,v,w))}return U}static parse(u,c){let[v,w,U,...K]=u;if(!Array.isArray(w)||w.length===0)return c.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const ae=w[1];if(typeof ae!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:ae}}else{if(w[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const ae=w.slice(1);if(ae.length!==4||ae.some(ce=>typeof ce!="number"||ce<0||ce>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:ae}}}if(u.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(U=c.parse(U,2,Jn),!U)return null;const G=[];let H=null;v!=="interpolate-hcl"&&v!=="interpolate-lab"||c.expectedType==rs?c.expectedType&&c.expectedType.kind!=="value"&&(H=c.expectedType):H=br;for(let ae=0;ae<K.length;ae+=2){const ce=K[ae],xe=K[ae+1],Le=ae+3,qe=ae+4;if(typeof ce!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Le);if(G.length&&G[G.length-1][0]>=ce)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Le);const $e=c.parse(xe,qe,H);if(!$e)return null;H=H||$e.type,G.push([ce,$e])}return Xe(H,Jn)||Xe(H,Wa)||Xe(H,br)||Xe(H,Bo)||Xe(H,Pl)||Xe(H,rs)||Xe(H,Xu)||Xe(H,Fa(Jn))?new za(H,v,w,U,G):c.error(`Type ${Xi(H)} is not interpolatable.`)}evaluate(u){const c=this.labels,v=this.outputs;if(c.length===1)return v[0].evaluate(u);const w=this.input.evaluate(u);if(w<=c[0])return v[0].evaluate(u);const U=c.length;if(w>=c[U-1])return v[U-1].evaluate(u);const K=Qo(c,w),G=za.interpolationFactor(this.interpolation,w,c[K],c[K+1]),H=v[K].evaluate(u),ae=v[K+1].evaluate(u);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Wl(H,ae,G);case"color":return Sr.interpolate(H,ae,G);case"padding":return Qa.interpolate(H,ae,G);case"colorArray":return ca.interpolate(H,ae,G);case"numberArray":return Ia.interpolate(H,ae,G);case"variableAnchorOffsetCollection":return Ya.interpolate(H,ae,G);case"array":return Iu(H,ae,G);case"projectionDefinition":return xa.interpolate(H,ae,G)}case"interpolate-hcl":switch(this.type.kind){case"color":return Sr.interpolate(H,ae,G,"hcl");case"colorArray":return ca.interpolate(H,ae,G,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Sr.interpolate(H,ae,G,"lab");case"colorArray":return ca.interpolate(H,ae,G,"lab")}}}eachChild(u){u(this.input);for(const c of this.outputs)u(c)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function Ed(h,u,c,v){const w=v-c,U=h-c;return w===0?0:u===1?U/w:(Math.pow(u,U)-1)/(Math.pow(u,w)-1)}const NA={color:Sr.interpolate,number:Wl,padding:Qa.interpolate,numberArray:Ia.interpolate,colorArray:ca.interpolate,variableAnchorOffsetCollection:Ya.interpolate,array:Iu};class tA{constructor(u,c){this.type=u,this.args=c}static parse(u,c){if(u.length<2)return c.error("Expected at least one argument.");let v=null;const w=c.expectedType;w&&w.kind!=="value"&&(v=w);const U=[];for(const G of u.slice(1)){const H=c.parse(G,1+U.length,v,void 0,{typeAnnotation:"omit"});if(!H)return null;v=v||H.type,U.push(H)}if(!v)throw new Error("No output type");const K=w&&U.some(G=>fs(w,G.type));return new tA(K?Gi:v,U)}evaluate(u){let c,v=null,w=0;for(const U of this.args)if(w++,v=U.evaluate(u),v&&v instanceof os&&!v.available&&(c||(c=v.name),v=null,w===this.args.length&&(v=c)),v!==null)break;return v}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}function wh(h,u){return h==="=="||h==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function $h(h,u,c,v){return v.compare(u,c)===0}function go(h,u,c){const v=h!=="=="&&h!=="!=";return class hj{constructor(U,K,G){this.type=Ni,this.lhs=U,this.rhs=K,this.collator=G,this.hasUntypedArgument=U.type.kind==="value"||K.type.kind==="value"}static parse(U,K){if(U.length!==3&&U.length!==4)return K.error("Expected two or three arguments.");const G=U[0];let H=K.parse(U[1],1,Gi);if(!H)return null;if(!wh(G,H.type))return K.concat(1).error(`"${G}" comparisons are not supported for type '${Xi(H.type)}'.`);let ae=K.parse(U[2],2,Gi);if(!ae)return null;if(!wh(G,ae.type))return K.concat(2).error(`"${G}" comparisons are not supported for type '${Xi(ae.type)}'.`);if(H.type.kind!==ae.type.kind&&H.type.kind!=="value"&&ae.type.kind!=="value")return K.error(`Cannot compare types '${Xi(H.type)}' and '${Xi(ae.type)}'.`);v&&(H.type.kind==="value"&&ae.type.kind!=="value"?H=new Te(ae.type,[H]):H.type.kind!=="value"&&ae.type.kind==="value"&&(ae=new Te(H.type,[ae])));let ce=null;if(U.length===4){if(H.type.kind!=="string"&&ae.type.kind!=="string"&&H.type.kind!=="value"&&ae.type.kind!=="value")return K.error("Cannot use collator to compare non-string types.");if(ce=K.parse(U[3],3,bl),!ce)return null}return new hj(H,ae,ce)}evaluate(U){const K=this.lhs.evaluate(U),G=this.rhs.evaluate(U);if(v&&this.hasUntypedArgument){const H=er(K),ae=er(G);if(H.kind!==ae.kind||H.kind!=="string"&&H.kind!=="number")throw new Ur(`Expected arguments for "${h}" to be (string, string) or (number, number), but found (${H.kind}, ${ae.kind}) instead.`)}if(this.collator&&!v&&this.hasUntypedArgument){const H=er(K),ae=er(G);if(H.kind!=="string"||ae.kind!=="string")return u(U,K,G)}return this.collator?c(U,K,G,this.collator.evaluate(U)):u(U,K,G)}eachChild(U){U(this.lhs),U(this.rhs),this.collator&&U(this.collator)}outputDefined(){return!0}}}const hc=go("==",function(h,u,c){return u===c},$h),Bd=go("!=",function(h,u,c){return u!==c},function(h,u,c,v){return!$h(0,u,c,v)}),Bm=go("<",function(h,u,c){return u<c},function(h,u,c,v){return v.compare(u,c)<0}),Sh=go(">",function(h,u,c){return u>c},function(h,u,c,v){return v.compare(u,c)>0}),Od=go("<=",function(h,u,c){return u<=c},function(h,u,c,v){return v.compare(u,c)<=0}),b0=go(">=",function(h,u,c){return u>=c},function(h,u,c,v){return v.compare(u,c)>=0});class Yf{constructor(u,c,v){this.type=bl,this.locale=v,this.caseSensitive=u,this.diacriticSensitive=c}static parse(u,c){if(u.length!==2)return c.error("Expected one argument.");const v=u[1];if(typeof v!="object"||Array.isArray(v))return c.error("Collator options argument must be an object.");const w=c.parse(v["case-sensitive"]!==void 0&&v["case-sensitive"],1,Ni);if(!w)return null;const U=c.parse(v["diacritic-sensitive"]!==void 0&&v["diacritic-sensitive"],1,Ni);if(!U)return null;let K=null;return v.locale&&(K=c.parse(v.locale,1,cr),!K)?null:new Yf(w,U,K)}evaluate(u){return new Au(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}class qf{constructor(u,c,v,w,U){this.type=cr,this.number=u,this.locale=c,this.currency=v,this.minFractionDigits=w,this.maxFractionDigits=U}static parse(u,c){if(u.length!==3)return c.error("Expected two arguments.");const v=c.parse(u[1],1,Jn);if(!v)return null;const w=u[2];if(typeof w!="object"||Array.isArray(w))return c.error("NumberFormat options argument must be an object.");let U=null;if(w.locale&&(U=c.parse(w.locale,1,cr),!U))return null;let K=null;if(w.currency&&(K=c.parse(w.currency,1,cr),!K))return null;let G=null;if(w["min-fraction-digits"]&&(G=c.parse(w["min-fraction-digits"],1,Jn),!G))return null;let H=null;return w["max-fraction-digits"]&&(H=c.parse(w["max-fraction-digits"],1,Jn),!H)?null:new qf(v,U,K,G,H)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}}class nA{constructor(u){this.type=La,this.sections=u}static parse(u,c){if(u.length<2)return c.error("Expected at least one argument.");const v=u[1];if(!Array.isArray(v)&&typeof v=="object")return c.error("First argument must be an image or text section.");const w=[];let U=!1;for(let K=1;K<=u.length-1;++K){const G=u[K];if(U&&typeof G=="object"&&!Array.isArray(G)){U=!1;let H=null;if(G["font-scale"]&&(H=c.parse(G["font-scale"],1,Jn),!H))return null;let ae=null;if(G["text-font"]&&(ae=c.parse(G["text-font"],1,Fa(cr)),!ae))return null;let ce=null;if(G["text-color"]&&(ce=c.parse(G["text-color"],1,br),!ce))return null;let xe=null;if(G["vertical-align"]){if(typeof G["vertical-align"]=="string"&&!yA.includes(G["vertical-align"]))return c.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${G["vertical-align"]}' instead.`);if(xe=c.parse(G["vertical-align"],1,cr),!xe)return null}const Le=w[w.length-1];Le.scale=H,Le.font=ae,Le.textColor=ce,Le.verticalAlign=xe}else{const H=c.parse(u[K],1,Gi);if(!H)return null;const ae=H.type.kind;if(ae!=="string"&&ae!=="value"&&ae!=="null"&&ae!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");U=!0,w.push({content:H,scale:null,font:null,textColor:null,verticalAlign:null})}}return new nA(w)}evaluate(u){return new Io(this.sections.map(c=>{const v=c.content.evaluate(u);return er(v)===ho?new Wo("",v,null,null,null,c.verticalAlign?c.verticalAlign.evaluate(u):null):new Wo(Ei(v),null,c.scale?c.scale.evaluate(u):null,c.font?c.font.evaluate(u).join(","):null,c.textColor?c.textColor.evaluate(u):null,c.verticalAlign?c.verticalAlign.evaluate(u):null)}))}eachChild(u){for(const c of this.sections)u(c.content),c.scale&&u(c.scale),c.font&&u(c.font),c.textColor&&u(c.textColor),c.verticalAlign&&u(c.verticalAlign)}outputDefined(){return!1}}class as{constructor(u){this.type=ho,this.input=u}static parse(u,c){if(u.length!==2)return c.error("Expected two arguments.");const v=c.parse(u[1],1,cr);return v?new as(v):c.error("No image name provided.")}evaluate(u){const c=this.input.evaluate(u),v=os.fromString(c);return v&&u.availableImages&&(v.available=u.availableImages.indexOf(c)>-1),v}eachChild(u){u(this.input)}outputDefined(){return!1}}class Id{constructor(u){this.type=Jn,this.input=u}static parse(u,c){if(u.length!==2)return c.error(`Expected 1 argument, but found ${u.length-1} instead.`);const v=c.parse(u[1],1);return v?v.type.kind!=="array"&&v.type.kind!=="string"&&v.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${Xi(v.type)} instead.`):new Id(v):null}evaluate(u){const c=this.input.evaluate(u);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Ur(`Expected value to be of type string or array, but found ${Xi(er(c))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}}const Yl=8192;function Td(h,u){const c=(180+h[0])/360,v=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h[1]*Math.PI/360)))/360,w=Math.pow(2,u.z);return[Math.round(c*w*Yl),Math.round(v*w*Yl)]}function Zh(h,u){const c=Math.pow(2,u.z);return[(w=(h[0]/Yl+u.x)/c,360*w-180),(v=(h[1]/Yl+u.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*v)*Math.PI/180))-90)];var v,w}function th(h,u){h[0]=Math.min(h[0],u[0]),h[1]=Math.min(h[1],u[1]),h[2]=Math.max(h[2],u[0]),h[3]=Math.max(h[3],u[1])}function Xh(h,u){return!(h[0]<=u[0]||h[2]>=u[2]||h[1]<=u[1]||h[3]>=u[3])}function Hf(h,u,c){const v=h[0]-u[0],w=h[1]-u[1],U=h[0]-c[0],K=h[1]-c[1];return v*K-U*w==0&&v*U<=0&&w*K<=0}function Eh(h,u,c,v){return(w=[v[0]-c[0],v[1]-c[1]])[0]*(U=[u[0]-h[0],u[1]-h[1]])[1]-w[1]*U[0]!=0&&!(!dc(h,u,c,v)||!dc(c,v,h,u));var w,U}function Bh(h,u,c){for(const v of c)for(let w=0;w<v.length-1;++w)if(Eh(h,u,v[w],v[w+1]))return!0;return!1}function Jh(h,u,c=!1){let v=!1;for(const G of u)for(let H=0;H<G.length-1;H++){if(Hf(h,G[H],G[H+1]))return c;(U=G[H])[1]>(w=h)[1]!=(K=G[H+1])[1]>w[1]&&w[0]<(K[0]-U[0])*(w[1]-U[1])/(K[1]-U[1])+U[0]&&(v=!v)}var w,U,K;return v}function Vf(h,u){for(const c of u)if(Jh(h,c))return!0;return!1}function hu(h,u){for(const c of h)if(!Jh(c,u))return!1;for(let c=0;c<h.length-1;++c)if(Bh(h[c],h[c+1],u))return!1;return!0}function $f(h,u){for(const c of u)if(hu(h,c))return!0;return!1}function dc(h,u,c,v){const w=v[0]-c[0],U=v[1]-c[1],K=(h[0]-c[0])*U-w*(h[1]-c[1]),G=(u[0]-c[0])*U-w*(u[1]-c[1]);return K>0&&G<0||K<0&&G>0}function du(h,u,c){const v=[];for(let w=0;w<h.length;w++){const U=[];for(let K=0;K<h[w].length;K++){const G=Td(h[w][K],c);th(u,G),U.push(G)}v.push(U)}return v}function kc(h,u,c){const v=[];for(let w=0;w<h.length;w++){const U=du(h[w],u,c);v.push(U)}return v}function kd(h,u,c,v){if(h[0]<c[0]||h[0]>c[2]){const w=.5*v;let U=h[0]-c[0]>w?-v:c[0]-h[0]>w?v:0;U===0&&(U=h[0]-c[2]>w?-v:c[2]-h[0]>w?v:0),h[0]+=U}th(u,h)}function Dd(h,u,c,v){const w=Math.pow(2,v.z)*Yl,U=[v.x*Yl,v.y*Yl],K=[];for(const G of h)for(const H of G){const ae=[H.x+U[0],H.y+U[1]];kd(ae,u,c,w),K.push(ae)}return K}function GA(h,u,c,v){const w=Math.pow(2,v.z)*Yl,U=[v.x*Yl,v.y*Yl],K=[];for(const H of h){const ae=[];for(const ce of H){const xe=[ce.x+U[0],ce.y+U[1]];th(u,xe),ae.push(xe)}K.push(ae)}if(u[2]-u[0]<=w/2){(G=u)[0]=G[1]=1/0,G[2]=G[3]=-1/0;for(const H of K)for(const ae of H)kd(ae,u,c,w)}var G;return K}class iA{constructor(u,c){this.type=Ni,this.geojson=u,this.geometries=c}static parse(u,c){if(u.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ml(u[1])){const v=u[1];if(v.type==="FeatureCollection"){const w=[];for(const U of v.features){const{type:K,coordinates:G}=U.geometry;K==="Polygon"&&w.push(G),K==="MultiPolygon"&&w.push(...G)}if(w.length)return new iA(v,{type:"MultiPolygon",coordinates:w})}else if(v.type==="Feature"){const w=v.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new iA(v,v.geometry)}else if(v.type==="Polygon"||v.type==="MultiPolygon")return new iA(v,v)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(c,v){const w=[1/0,1/0,-1/0,-1/0],U=[1/0,1/0,-1/0,-1/0],K=c.canonicalID();if(v.type==="Polygon"){const G=du(v.coordinates,U,K),H=Dd(c.geometry(),w,U,K);if(!Xh(w,U))return!1;for(const ae of H)if(!Jh(ae,G))return!1}if(v.type==="MultiPolygon"){const G=kc(v.coordinates,U,K),H=Dd(c.geometry(),w,U,K);if(!Xh(w,U))return!1;for(const ae of H)if(!Vf(ae,G))return!1}return!0}(u,this.geometries);if(u.geometryType()==="LineString")return function(c,v){const w=[1/0,1/0,-1/0,-1/0],U=[1/0,1/0,-1/0,-1/0],K=c.canonicalID();if(v.type==="Polygon"){const G=du(v.coordinates,U,K),H=GA(c.geometry(),w,U,K);if(!Xh(w,U))return!1;for(const ae of H)if(!hu(ae,G))return!1}if(v.type==="MultiPolygon"){const G=kc(v.coordinates,U,K),H=GA(c.geometry(),w,U,K);if(!Xh(w,U))return!1;for(const ae of H)if(!$f(ae,G))return!1}return!0}(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let ed=class{constructor(h=[],u=(c,v)=>c<v?-1:c>v?1:0){if(this.data=h,this.length=this.data.length,this.compare=u,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(h){this.data.push(h),this._up(this.length++)}pop(){if(this.length===0)return;const h=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),h}peek(){return this.data[0]}_up(h){const{data:u,compare:c}=this,v=u[h];for(;h>0;){const w=h-1>>1,U=u[w];if(c(v,U)>=0)break;u[h]=U,h=w}u[h]=v}_down(h){const{data:u,compare:c}=this,v=this.length>>1,w=u[h];for(;h<v;){let U=1+(h<<1);const K=U+1;if(K<this.length&&c(u[K],u[U])<0&&(U=K),c(u[U],w)>=0)break;u[h]=u[U],h=U}u[h]=w}};function Dc(h,u,c=0,v=h.length-1,w=Om){for(;v>c;){if(v-c>600){const H=v-c+1,ae=u-c+1,ce=Math.log(H),xe=.5*Math.exp(2*ce/3),Le=.5*Math.sqrt(ce*xe*(H-xe)/H)*(ae-H/2<0?-1:1);Dc(h,u,Math.max(c,Math.floor(u-ae*xe/H+Le)),Math.min(v,Math.floor(u+(H-ae)*xe/H+Le)),w)}const U=h[u];let K=c,G=v;for(td(h,c,u),w(h[v],U)>0&&td(h,c,v);K<G;){for(td(h,K,G),K++,G--;w(h[K],U)<0;)K++;for(;w(h[G],U)>0;)G--}w(h[c],U)===0?td(h,c,G):(G++,td(h,G,v)),G<=u&&(c=G+1),u<=G&&(v=G-1)}}function td(h,u,c){const v=h[u];h[u]=h[c],h[c]=v}function Om(h,u){return h<u?-1:h>u?1:0}function nh(h,u){if(h.length<=1)return[h];const c=[];let v,w;for(const U of h){const K=vA(U);K!==0&&(U.area=Math.abs(K),w===void 0&&(w=K<0),w===K<0?(v&&c.push(v),v=[U]):v.push(U))}if(v&&c.push(v),u>1)for(let U=0;U<c.length;U++)c[U].length<=u||(Dc(c[U],u,1,c[U].length-1,uf),c[U]=c[U].slice(0,u));return c}function uf(h,u){return u.area-h.area}function vA(h){let u=0;for(let c,v,w=0,U=h.length,K=U-1;w<U;K=w++)c=h[w],v=h[K],u+=(v.x-c.x)*(c.y+v.y);return u}const rA=1/298.257223563,Fp=rA*(2-rA),Zf=Math.PI/180;class Tu{constructor(u){const c=6378.137*Zf*1e3,v=Math.cos(u*Zf),w=1/(1-Fp*(1-v*v)),U=Math.sqrt(w);this.kx=c*U*v,this.ky=c*U*w*(1-Fp)}distance(u,c){const v=this.wrap(u[0]-c[0])*this.kx,w=(u[1]-c[1])*this.ky;return Math.sqrt(v*v+w*w)}pointOnLine(u,c){let v,w,U,K,G=1/0;for(let H=0;H<u.length-1;H++){let ae=u[H][0],ce=u[H][1],xe=this.wrap(u[H+1][0]-ae)*this.kx,Le=(u[H+1][1]-ce)*this.ky,qe=0;xe===0&&Le===0||(qe=(this.wrap(c[0]-ae)*this.kx*xe+(c[1]-ce)*this.ky*Le)/(xe*xe+Le*Le),qe>1?(ae=u[H+1][0],ce=u[H+1][1]):qe>0&&(ae+=xe/this.kx*qe,ce+=Le/this.ky*qe)),xe=this.wrap(c[0]-ae)*this.kx,Le=(c[1]-ce)*this.ky;const $e=xe*xe+Le*Le;$e<G&&(G=$e,v=ae,w=ce,U=H,K=qe)}return{point:[v,w],index:U,t:Math.max(0,Math.min(1,K))}}wrap(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}}function fc(h,u){return u[0]-h[0]}function ku(h){return h[1]-h[0]+1}function WA(h,u){return h[1]>=h[0]&&h[1]<u}function To(h,u){if(h[0]>h[1])return[null,null];const c=ku(h);if(u){if(c===2)return[h,null];const w=Math.floor(c/2);return[[h[0],h[0]+w],[h[0]+w,h[1]]]}if(c===1)return[h,null];const v=Math.floor(c/2)-1;return[[h[0],h[0]+v],[h[0]+v+1,h[1]]]}function Oh(h,u){if(!WA(u,h.length))return[1/0,1/0,-1/0,-1/0];const c=[1/0,1/0,-1/0,-1/0];for(let v=u[0];v<=u[1];++v)th(c,h[v]);return c}function Rd(h){const u=[1/0,1/0,-1/0,-1/0];for(const c of h)for(const v of c)th(u,v);return u}function zp(h){return h[0]!==-1/0&&h[1]!==-1/0&&h[2]!==1/0&&h[3]!==1/0}function Rc(h,u,c){if(!zp(h)||!zp(u))return NaN;let v=0,w=0;return h[2]<u[0]&&(v=u[0]-h[2]),h[0]>u[2]&&(v=h[0]-u[2]),h[1]>u[3]&&(w=h[1]-u[3]),h[3]<u[1]&&(w=u[1]-h[3]),c.distance([0,0],[v,w])}function ql(h,u,c){const v=c.pointOnLine(u,h);return c.distance(h,v.point)}function Xt(h,u,c,v,w){const U=Math.min(ql(h,[c,v],w),ql(u,[c,v],w)),K=Math.min(ql(c,[h,u],w),ql(v,[h,u],w));return Math.min(U,K)}function En(h,u,c,v,w){if(!WA(u,h.length)||!WA(v,c.length))return 1/0;let U=1/0;for(let K=u[0];K<u[1];++K){const G=h[K],H=h[K+1];for(let ae=v[0];ae<v[1];++ae){const ce=c[ae],xe=c[ae+1];if(Eh(G,H,ce,xe))return 0;U=Math.min(U,Xt(G,H,ce,xe,w))}}return U}function Cn(h,u,c,v,w){if(!WA(u,h.length)||!WA(v,c.length))return NaN;let U=1/0;for(let K=u[0];K<=u[1];++K)for(let G=v[0];G<=v[1];++G)if(U=Math.min(U,w.distance(h[K],c[G])),U===0)return U;return U}function Di(h,u,c){if(Jh(h,u,!0))return 0;let v=1/0;for(const w of u){const U=w[0],K=w[w.length-1];if(U!==K&&(v=Math.min(v,ql(h,[K,U],c)),v===0))return v;const G=c.pointOnLine(w,h);if(v=Math.min(v,c.distance(h,G.point)),v===0)return v}return v}function Or(h,u,c,v){if(!WA(u,h.length))return NaN;for(let U=u[0];U<=u[1];++U)if(Jh(h[U],c,!0))return 0;let w=1/0;for(let U=u[0];U<u[1];++U){const K=h[U],G=h[U+1];for(const H of c)for(let ae=0,ce=H.length,xe=ce-1;ae<ce;xe=ae++){const Le=H[xe],qe=H[ae];if(Eh(K,G,Le,qe))return 0;w=Math.min(w,Xt(K,G,Le,qe,v))}}return w}function ko(h,u){for(const c of h)for(const v of c)if(Jh(v,u,!0))return!0;return!1}function el(h,u,c,v=1/0){const w=Rd(h),U=Rd(u);if(v!==1/0&&Rc(w,U,c)>=v)return v;if(Xh(w,U)){if(ko(h,u))return 0}else if(ko(u,h))return 0;let K=1/0;for(const G of h)for(let H=0,ae=G.length,ce=ae-1;H<ae;ce=H++){const xe=G[ce],Le=G[H];for(const qe of u)for(let $e=0,nt=qe.length,ct=nt-1;$e<nt;ct=$e++){const wt=qe[ct],qt=qe[$e];if(Eh(xe,Le,wt,qt))return 0;K=Math.min(K,Xt(xe,Le,wt,qt,c))}}return K}function Uo(h,u,c,v,w,U){if(!U)return;const K=Rc(Oh(v,U),w,c);K<u&&h.push([K,U,[0,0]])}function ih(h,u,c,v,w,U,K){if(!U||!K)return;const G=Rc(Oh(v,U),Oh(w,K),c);G<u&&h.push([G,U,K])}function Af(h,u,c,v,w=1/0){let U=Math.min(v.distance(h[0],c[0][0]),w);if(U===0)return U;const K=new ed([[0,[0,h.length-1],[0,0]]],fc),G=Rd(c);for(;K.length>0;){const H=K.pop();if(H[0]>=U)continue;const ae=H[1],ce=u?50:100;if(ku(ae)<=ce){if(!WA(ae,h.length))return NaN;if(u){const xe=Or(h,ae,c,v);if(isNaN(xe)||xe===0)return xe;U=Math.min(U,xe)}else for(let xe=ae[0];xe<=ae[1];++xe){const Le=Di(h[xe],c,v);if(U=Math.min(U,Le),U===0)return 0}}else{const xe=To(ae,u);Uo(K,U,v,h,G,xe[0]),Uo(K,U,v,h,G,xe[1])}}return U}function fu(h,u,c,v,w,U=1/0){let K=Math.min(U,w.distance(h[0],c[0]));if(K===0)return K;const G=new ed([[0,[0,h.length-1],[0,c.length-1]]],fc);for(;G.length>0;){const H=G.pop();if(H[0]>=K)continue;const ae=H[1],ce=H[2],xe=u?50:100,Le=v?50:100;if(ku(ae)<=xe&&ku(ce)<=Le){if(!WA(ae,h.length)&&WA(ce,c.length))return NaN;let qe;if(u&&v)qe=En(h,ae,c,ce,w),K=Math.min(K,qe);else if(u&&!v){const $e=h.slice(ae[0],ae[1]+1);for(let nt=ce[0];nt<=ce[1];++nt)if(qe=ql(c[nt],$e,w),K=Math.min(K,qe),K===0)return K}else if(!u&&v){const $e=c.slice(ce[0],ce[1]+1);for(let nt=ae[0];nt<=ae[1];++nt)if(qe=ql(h[nt],$e,w),K=Math.min(K,qe),K===0)return K}else qe=Cn(h,ae,c,ce,w),K=Math.min(K,qe)}else{const qe=To(ae,u),$e=To(ce,v);ih(G,K,w,h,c,qe[0],$e[0]),ih(G,K,w,h,c,qe[0],$e[1]),ih(G,K,w,h,c,qe[1],$e[0]),ih(G,K,w,h,c,qe[1],$e[1])}}return K}function Pd(h){return h.type==="MultiPolygon"?h.coordinates.map(u=>({type:"Polygon",coordinates:u})):h.type==="MultiLineString"?h.coordinates.map(u=>({type:"LineString",coordinates:u})):h.type==="MultiPoint"?h.coordinates.map(u=>({type:"Point",coordinates:u})):[h]}class CA{constructor(u,c){this.type=Jn,this.geojson=u,this.geometries=c}static parse(u,c){if(u.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ml(u[1])){const v=u[1];if(v.type==="FeatureCollection")return new CA(v,v.features.map(w=>Pd(w.geometry)).flat());if(v.type==="Feature")return new CA(v,Pd(v.geometry));if("type"in v&&"coordinates"in v)return new CA(v,Pd(v))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(c,v){const w=c.geometry(),U=w.flat().map(H=>Zh([H.x,H.y],c.canonical));if(w.length===0)return NaN;const K=new Tu(U[0][1]);let G=1/0;for(const H of v){switch(H.type){case"Point":G=Math.min(G,fu(U,!1,[H.coordinates],!1,K,G));break;case"LineString":G=Math.min(G,fu(U,!1,H.coordinates,!0,K,G));break;case"Polygon":G=Math.min(G,Af(U,!1,H.coordinates,K,G))}if(G===0)return G}return G}(u,this.geometries);if(u.geometryType()==="LineString")return function(c,v){const w=c.geometry(),U=w.flat().map(H=>Zh([H.x,H.y],c.canonical));if(w.length===0)return NaN;const K=new Tu(U[0][1]);let G=1/0;for(const H of v){switch(H.type){case"Point":G=Math.min(G,fu(U,!0,[H.coordinates],!1,K,G));break;case"LineString":G=Math.min(G,fu(U,!0,H.coordinates,!0,K,G));break;case"Polygon":G=Math.min(G,Af(U,!0,H.coordinates,K,G))}if(G===0)return G}return G}(u,this.geometries);if(u.geometryType()==="Polygon")return function(c,v){const w=c.geometry();if(w.length===0||w[0].length===0)return NaN;const U=nh(w,0).map(H=>H.map(ae=>ae.map(ce=>Zh([ce.x,ce.y],c.canonical)))),K=new Tu(U[0][0][0][1]);let G=1/0;for(const H of v)for(const ae of U){switch(H.type){case"Point":G=Math.min(G,Af([H.coordinates],!1,ae,K,G));break;case"LineString":G=Math.min(G,Af(H.coordinates,!0,ae,K,G));break;case"Polygon":G=Math.min(G,el(ae,H.coordinates,K,G))}if(G===0)return G}return G}(u,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Du{constructor(u){this.type=Gi,this.key=u}static parse(u,c){if(u.length!==2)return c.error(`Expected 1 argument, but found ${u.length-1} instead.`);const v=u[1];return v==null?c.error("Global state property must be defined."):typeof v!="string"?c.error(`Global state property must be string, but found ${typeof u[1]} instead.`):new Du(v)}evaluate(u){var c;const v=(c=u.globals)===null||c===void 0?void 0:c.globalState;return v&&Object.keys(v).length!==0?Xs(v,this.key):null}eachChild(){}outputDefined(){return!1}}const Ru={"==":hc,"!=":Bd,">":Sh,"<":Bm,">=":b0,"<=":Od,array:Te,at:tr,boolean:Te,case:vr,coalesce:tA,collator:Yf,format:nA,image:as,in:io,"index-of":fo,interpolate:za,"interpolate-hcl":za,"interpolate-lab":za,length:Id,let:lr,literal:Hr,match:dr,number:Te,"number-format":qf,object:Te,slice:po,step:Gr,string:Te,"to-boolean":Qt,"to-color":Qt,"to-number":Qt,"to-string":Qt,var:Ui,within:iA,distance:CA,"global-state":Du};class Ul{constructor(u,c,v,w){this.name=u,this.type=c,this._evaluate=v,this.args=w}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,c){const v=u[0],w=Ul.definitions[v];if(!w)return c.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0);const U=Array.isArray(w)?w[0]:w.type,K=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,G=K.filter(([ae])=>!Array.isArray(ae)||ae.length===u.length-1);let H=null;for(const[ae,ce]of G){H=new Ji(c.registry,tl,c.path,null,c.scope);const xe=[];let Le=!1;for(let qe=1;qe<u.length;qe++){const $e=u[qe],nt=Array.isArray(ae)?ae[qe-1]:ae.type,ct=H.parse($e,1+xe.length,nt);if(!ct){Le=!0;break}xe.push(ct)}if(!Le)if(Array.isArray(ae)&&ae.length!==xe.length)H.error(`Expected ${ae.length} arguments, but found ${xe.length} instead.`);else{for(let qe=0;qe<xe.length;qe++){const $e=Array.isArray(ae)?ae[qe]:ae.type,nt=xe[qe];H.concat(qe+1).checkSubtype($e,nt.type)}if(H.errors.length===0)return new Ul(v,U,ce,xe)}}if(G.length===1)c.errors.push(...H.errors);else{const ae=(G.length?G:K).map(([xe])=>{return Le=xe,Array.isArray(Le)?`(${Le.map(Xi).join(", ")})`:`(${Xi(Le.type)}...)`;var Le}).join(" | "),ce=[];for(let xe=1;xe<u.length;xe++){const Le=c.parse(u[xe],1+ce.length);if(!Le)return null;ce.push(Xi(Le.type))}c.error(`Expected arguments of type ${ae}, but found (${ce.join(", ")}) instead.`)}return null}static register(u,c){Ul.definitions=c;for(const v in c)u[v]=Ul}}function Yo(h,[u,c,v,w]){u=u.evaluate(h),c=c.evaluate(h),v=v.evaluate(h);const U=w?w.evaluate(h):1,K=Kr(u,c,v,U);if(K)throw new Ur(K);return new Sr(u/255,c/255,v/255,U,!1)}function _A(h,u){return h in u}function nd(h,u){const c=u[h];return c===void 0?null:c}function qa(h){return{type:h}}function tl(h){if(h instanceof Ui)return tl(h.boundExpression);if(h instanceof Ul&&h.name==="error"||h instanceof Yf||h instanceof iA||h instanceof CA||h instanceof Du)return!1;const u=h instanceof Qt||h instanceof Te;let c=!0;return h.eachChild(v=>{c=u?c&&tl(v):c&&v instanceof Hr}),!!c&&Ts(h)&&Hl(h,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Ts(h){if(h instanceof Ul&&(h.name==="get"&&h.args.length===1||h.name==="feature-state"||h.name==="has"&&h.args.length===1||h.name==="properties"||h.name==="geometry-type"||h.name==="id"||/^filter-/.test(h.name))||h instanceof iA||h instanceof CA)return!1;let u=!0;return h.eachChild(c=>{u&&!Ts(c)&&(u=!1)}),u}function oA(h){if(h instanceof Ul&&h.name==="feature-state")return!1;let u=!0;return h.eachChild(c=>{u&&!oA(c)&&(u=!1)}),u}function Hl(h,u){if(h instanceof Ul&&u.indexOf(h.name)>=0)return!1;let c=!0;return h.eachChild(v=>{c&&!Hl(v,u)&&(c=!1)}),c}function Pu(h){return{result:"success",value:h}}function pc(h){return{result:"error",value:h}}function Uu(h){return h["property-type"]==="data-driven"||h["property-type"]==="cross-faded-data-driven"}function Pc(h){return!!h.expression&&h.expression.parameters.indexOf("zoom")>-1}function Ih(h){return!!h.expression&&h.expression.interpolated}function Pr(h){return h instanceof Number?"number":h instanceof String?"string":h instanceof Boolean?"boolean":Array.isArray(h)?"array":h===null?"null":typeof h}function mc(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&er(h)===Rr}function aA(h){return h}function Uc(h,u){const c=h.stops&&typeof h.stops[0][0]=="object",v=c||!(c||h.property!==void 0),w=h.type||(Ih(u)?"exponential":"interval"),U=function(ce){switch(ce.type){case"color":return Sr.parse;case"padding":return Qa.parse;case"numberArray":return Ia.parse;case"colorArray":return ca.parse;default:return null}}(u);if(U&&((h=co({},h)).stops&&(h.stops=h.stops.map(ce=>[ce[0],U(ce[1])])),h.default=U(h.default?h.default:u.default)),h.colorSpace&&(K=h.colorSpace)!=="rgb"&&K!=="hcl"&&K!=="lab")throw new Error(`Unknown color space: "${h.colorSpace}"`);var K;const G=function(ce){switch(ce){case"exponential":return bA;case"interval":return Ud;case"categorical":return Th;case"identity":return Kd;default:throw new Error(`Unknown function type "${ce}"`)}}(w);let H,ae;if(w==="categorical"){H=Object.create(null);for(const ce of h.stops)H[ce[0]]=ce[1];ae=typeof h.stops[0][0]}if(c){const ce={},xe=[];for(let $e=0;$e<h.stops.length;$e++){const nt=h.stops[$e],ct=nt[0].zoom;ce[ct]===void 0&&(ce[ct]={zoom:ct,type:h.type,property:h.property,default:h.default,stops:[]},xe.push(ct)),ce[ct].stops.push([nt[0].value,nt[1]])}const Le=[];for(const $e of xe)Le.push([ce[$e].zoom,Uc(ce[$e],u)]);const qe={name:"linear"};return{kind:"composite",interpolationType:qe,interpolationFactor:za.interpolationFactor.bind(void 0,qe),zoomStops:Le.map($e=>$e[0]),evaluate:({zoom:$e},nt)=>bA({stops:Le,base:h.base},u,$e).evaluate($e,nt)}}if(v){const ce=w==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:ce,interpolationFactor:za.interpolationFactor.bind(void 0,ce),zoomStops:h.stops.map(xe=>xe[0]),evaluate:({zoom:xe})=>G(h,u,xe,H,ae)}}return{kind:"source",evaluate(ce,xe){const Le=xe&&xe.properties?xe.properties[h.property]:void 0;return Le===void 0?ks(h.default,u.default):G(h,u,Le,H,ae)}}}function ks(h,u,c){return h!==void 0?h:u!==void 0?u:c!==void 0?c:void 0}function Th(h,u,c,v,w){return ks(typeof c===w?v[c]:void 0,h.default,u.default)}function Ud(h,u,c){if(Pr(c)!=="number")return ks(h.default,u.default);const v=h.stops.length;if(v===1||c<=h.stops[0][0])return h.stops[0][1];if(c>=h.stops[v-1][0])return h.stops[v-1][1];const w=Qo(h.stops.map(U=>U[0]),c);return h.stops[w][1]}function bA(h,u,c){const v=h.base!==void 0?h.base:1;if(Pr(c)!=="number")return ks(h.default,u.default);const w=h.stops.length;if(w===1||c<=h.stops[0][0])return h.stops[0][1];if(c>=h.stops[w-1][0])return h.stops[w-1][1];const U=Qo(h.stops.map(ce=>ce[0]),c),K=function(ce,xe,Le,qe){const $e=qe-Le,nt=ce-Le;return $e===0?0:xe===1?nt/$e:(Math.pow(xe,nt)-1)/(Math.pow(xe,$e)-1)}(c,v,h.stops[U][0],h.stops[U+1][0]),G=h.stops[U][1],H=h.stops[U+1][1],ae=NA[u.type]||aA;return typeof G.evaluate=="function"?{evaluate(...ce){const xe=G.evaluate.apply(void 0,ce),Le=H.evaluate.apply(void 0,ce);if(xe!==void 0&&Le!==void 0)return ae(xe,Le,K,h.colorSpace)}}:ae(G,H,K,h.colorSpace)}function Kd(h,u,c){switch(u.type){case"color":c=Sr.parse(c);break;case"formatted":c=Io.fromString(c.toString());break;case"resolvedImage":c=os.fromString(c.toString());break;case"padding":c=Qa.parse(c);break;case"colorArray":c=ca.parse(c);break;case"numberArray":c=Ia.parse(c);break;default:Pr(c)===u.type||u.type==="enum"&&u.values[c]||(c=void 0)}return ks(c,h.default,u.default)}Ul.register(Ru,{error:[{kind:"error"},[cr],(h,[u])=>{throw new Ur(u.evaluate(h))}],typeof:[cr,[Gi],(h,[u])=>Xi(er(u.evaluate(h)))],"to-rgba":[Fa(Jn,4),[br],(h,[u])=>{const[c,v,w,U]=u.evaluate(h).rgb;return[255*c,255*v,255*w,U]}],rgb:[br,[Jn,Jn,Jn],Yo],rgba:[br,[Jn,Jn,Jn,Jn],Yo],has:{type:Ni,overloads:[[[cr],(h,[u])=>_A(u.evaluate(h),h.properties())],[[cr,Rr],(h,[u,c])=>_A(u.evaluate(h),c.evaluate(h))]]},get:{type:Gi,overloads:[[[cr],(h,[u])=>nd(u.evaluate(h),h.properties())],[[cr,Rr],(h,[u,c])=>nd(u.evaluate(h),c.evaluate(h))]]},"feature-state":[Gi,[cr],(h,[u])=>nd(u.evaluate(h),h.featureState||{})],properties:[Rr,[],h=>h.properties()],"geometry-type":[cr,[],h=>h.geometryType()],id:[Gi,[],h=>h.id()],zoom:[Jn,[],h=>h.globals.zoom],"heatmap-density":[Jn,[],h=>h.globals.heatmapDensity||0],elevation:[Jn,[],h=>h.globals.elevation||0],"line-progress":[Jn,[],h=>h.globals.lineProgress||0],accumulated:[Gi,[],h=>h.globals.accumulated===void 0?null:h.globals.accumulated],"+":[Jn,qa(Jn),(h,u)=>{let c=0;for(const v of u)c+=v.evaluate(h);return c}],"*":[Jn,qa(Jn),(h,u)=>{let c=1;for(const v of u)c*=v.evaluate(h);return c}],"-":{type:Jn,overloads:[[[Jn,Jn],(h,[u,c])=>u.evaluate(h)-c.evaluate(h)],[[Jn],(h,[u])=>-u.evaluate(h)]]},"/":[Jn,[Jn,Jn],(h,[u,c])=>u.evaluate(h)/c.evaluate(h)],"%":[Jn,[Jn,Jn],(h,[u,c])=>u.evaluate(h)%c.evaluate(h)],ln2:[Jn,[],()=>Math.LN2],pi:[Jn,[],()=>Math.PI],e:[Jn,[],()=>Math.E],"^":[Jn,[Jn,Jn],(h,[u,c])=>Math.pow(u.evaluate(h),c.evaluate(h))],sqrt:[Jn,[Jn],(h,[u])=>Math.sqrt(u.evaluate(h))],log10:[Jn,[Jn],(h,[u])=>Math.log(u.evaluate(h))/Math.LN10],ln:[Jn,[Jn],(h,[u])=>Math.log(u.evaluate(h))],log2:[Jn,[Jn],(h,[u])=>Math.log(u.evaluate(h))/Math.LN2],sin:[Jn,[Jn],(h,[u])=>Math.sin(u.evaluate(h))],cos:[Jn,[Jn],(h,[u])=>Math.cos(u.evaluate(h))],tan:[Jn,[Jn],(h,[u])=>Math.tan(u.evaluate(h))],asin:[Jn,[Jn],(h,[u])=>Math.asin(u.evaluate(h))],acos:[Jn,[Jn],(h,[u])=>Math.acos(u.evaluate(h))],atan:[Jn,[Jn],(h,[u])=>Math.atan(u.evaluate(h))],min:[Jn,qa(Jn),(h,u)=>Math.min(...u.map(c=>c.evaluate(h)))],max:[Jn,qa(Jn),(h,u)=>Math.max(...u.map(c=>c.evaluate(h)))],abs:[Jn,[Jn],(h,[u])=>Math.abs(u.evaluate(h))],round:[Jn,[Jn],(h,[u])=>{const c=u.evaluate(h);return c<0?-Math.round(-c):Math.round(c)}],floor:[Jn,[Jn],(h,[u])=>Math.floor(u.evaluate(h))],ceil:[Jn,[Jn],(h,[u])=>Math.ceil(u.evaluate(h))],"filter-==":[Ni,[cr,Gi],(h,[u,c])=>h.properties()[u.value]===c.value],"filter-id-==":[Ni,[Gi],(h,[u])=>h.id()===u.value],"filter-type-==":[Ni,[cr],(h,[u])=>h.geometryType()===u.value],"filter-<":[Ni,[cr,Gi],(h,[u,c])=>{const v=h.properties()[u.value],w=c.value;return typeof v==typeof w&&v<w}],"filter-id-<":[Ni,[Gi],(h,[u])=>{const c=h.id(),v=u.value;return typeof c==typeof v&&c<v}],"filter->":[Ni,[cr,Gi],(h,[u,c])=>{const v=h.properties()[u.value],w=c.value;return typeof v==typeof w&&v>w}],"filter-id->":[Ni,[Gi],(h,[u])=>{const c=h.id(),v=u.value;return typeof c==typeof v&&c>v}],"filter-<=":[Ni,[cr,Gi],(h,[u,c])=>{const v=h.properties()[u.value],w=c.value;return typeof v==typeof w&&v<=w}],"filter-id-<=":[Ni,[Gi],(h,[u])=>{const c=h.id(),v=u.value;return typeof c==typeof v&&c<=v}],"filter->=":[Ni,[cr,Gi],(h,[u,c])=>{const v=h.properties()[u.value],w=c.value;return typeof v==typeof w&&v>=w}],"filter-id->=":[Ni,[Gi],(h,[u])=>{const c=h.id(),v=u.value;return typeof c==typeof v&&c>=v}],"filter-has":[Ni,[Gi],(h,[u])=>u.value in h.properties()],"filter-has-id":[Ni,[],h=>h.id()!==null&&h.id()!==void 0],"filter-type-in":[Ni,[Fa(cr)],(h,[u])=>u.value.indexOf(h.geometryType())>=0],"filter-id-in":[Ni,[Fa(Gi)],(h,[u])=>u.value.indexOf(h.id())>=0],"filter-in-small":[Ni,[cr,Fa(Gi)],(h,[u,c])=>c.value.indexOf(h.properties()[u.value])>=0],"filter-in-large":[Ni,[cr,Fa(Gi)],(h,[u,c])=>function(v,w,U,K){for(;U<=K;){const G=U+K>>1;if(w[G]===v)return!0;w[G]>v?K=G-1:U=G+1}return!1}(h.properties()[u.value],c.value,0,c.value.length-1)],all:{type:Ni,overloads:[[[Ni,Ni],(h,[u,c])=>u.evaluate(h)&&c.evaluate(h)],[qa(Ni),(h,u)=>{for(const c of u)if(!c.evaluate(h))return!1;return!0}]]},any:{type:Ni,overloads:[[[Ni,Ni],(h,[u,c])=>u.evaluate(h)||c.evaluate(h)],[qa(Ni),(h,u)=>{for(const c of u)if(c.evaluate(h))return!0;return!1}]]},"!":[Ni,[Ni],(h,[u])=>!u.evaluate(h)],"is-supported-script":[Ni,[cr],(h,[u])=>{const c=h.globals&&h.globals.isSupportedScript;return!c||c(u.evaluate(h))}],upcase:[cr,[cr],(h,[u])=>u.evaluate(h).toUpperCase()],downcase:[cr,[cr],(h,[u])=>u.evaluate(h).toLowerCase()],concat:[cr,qa(Gi),(h,u)=>u.map(c=>Ei(c.evaluate(h))).join("")],"resolved-locale":[cr,[bl],(h,[u])=>u.evaluate(h).resolvedLocale()]});class rh{constructor(u,c){this.expression=u,this._warningHistory={},this._evaluator=new ei,this._defaultValue=c?function(v){if(v.type==="color"&&mc(v.default))return new Sr(0,0,0,0);switch(v.type){case"color":return Sr.parse(v.default)||null;case"padding":return Qa.parse(v.default)||null;case"numberArray":return Ia.parse(v.default)||null;case"colorArray":return ca.parse(v.default)||null;case"variableAnchorOffsetCollection":return Ya.parse(v.default)||null;case"projectionDefinition":return xa.parse(v.default)||null;default:return v.default===void 0?null:v.default}}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(u,c,v,w,U,K){return this._evaluator.globals=u,this._evaluator.feature=c,this._evaluator.featureState=v,this._evaluator.canonical=w,this._evaluator.availableImages=U||null,this._evaluator.formattedSection=K,this.expression.evaluate(this._evaluator)}evaluate(u,c,v,w,U,K){this._evaluator.globals=u,this._evaluator.feature=c||null,this._evaluator.featureState=v||null,this._evaluator.canonical=w,this._evaluator.availableImages=U||null,this._evaluator.formattedSection=K||null;try{const G=this.expression.evaluate(this._evaluator);if(G==null||typeof G=="number"&&G!=G)return this._defaultValue;if(this._enumValues&&!(G in this._enumValues))throw new Ur(`Expected value to be one of ${Object.keys(this._enumValues).map(H=>JSON.stringify(H)).join(", ")}, but found ${JSON.stringify(G)} instead.`);return G}catch(G){return this._warningHistory[G.message]||(this._warningHistory[G.message]=!0,typeof console<"u"&&console.warn(G.message)),this._defaultValue}}}function Ku(h){return Array.isArray(h)&&h.length>0&&typeof h[0]=="string"&&h[0]in Ru}function QA(h,u){const c=new Ji(Ru,tl,[],u?function(w){const U={color:br,string:cr,number:Jn,enum:cr,boolean:Ni,formatted:La,padding:Bo,numberArray:Pl,colorArray:rs,projectionDefinition:Wa,resolvedImage:ho,variableAnchorOffsetCollection:Xu};return w.type==="array"?Fa(U[w.value]||Gi,w.length):U[w.type]}(u):void 0),v=c.parse(h,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?Pu(new rh(v,u)):pc(c.errors)}class kh{constructor(u,c){this.kind=u,this._styleExpression=c,this.isStateDependent=u!=="constant"&&!oA(c.expression),this.globalStateRefs=ha(c.expression)}evaluateWithoutErrorHandling(u,c,v,w,U,K){return this._styleExpression.evaluateWithoutErrorHandling(u,c,v,w,U,K)}evaluate(u,c,v,w,U,K){return this._styleExpression.evaluate(u,c,v,w,U,K)}}class id{constructor(u,c,v,w){this.kind=u,this.zoomStops=v,this._styleExpression=c,this.isStateDependent=u!=="camera"&&!oA(c.expression),this.globalStateRefs=ha(c.expression),this.interpolationType=w}evaluateWithoutErrorHandling(u,c,v,w,U,K){return this._styleExpression.evaluateWithoutErrorHandling(u,c,v,w,U,K)}evaluate(u,c,v,w,U,K){return this._styleExpression.evaluate(u,c,v,w,U,K)}interpolationFactor(u,c,v){return this.interpolationType?za.interpolationFactor(this.interpolationType,u,c,v):0}}function Lu(h,u){const c=QA(h,u);if(c.result==="error")return c;const v=c.value.expression,w=Ts(v);if(!w&&!Uu(u))return pc([new Zi("","data expressions not supported")]);const U=Hl(v,["zoom"]);if(!U&&!Pc(u))return pc([new Zi("","zoom expressions not supported")]);const K=qo(v);return K||U?K instanceof Zi?pc([K]):K instanceof za&&!Ih(u)?pc([new Zi("",'"interpolate" expressions cannot be used with this property')]):Pu(K?new id(w?"camera":"composite",c.value,K.labels,K instanceof za?K.interpolation:void 0):new kh(w?"constant":"source",c.value)):pc([new Zi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Kl{constructor(u,c){this._parameters=u,this._specification=c,co(this,Uc(this._parameters,this._specification))}static deserialize(u){return new Kl(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function qo(h){let u=null;if(h instanceof lr)u=qo(h.result);else if(h instanceof tA){for(const c of h.args)if(u=qo(c),u)break}else(h instanceof Gr||h instanceof za)&&h.input instanceof Ul&&h.input.name==="zoom"&&(u=h);return u instanceof Zi||h.eachChild(c=>{const v=qo(c);v instanceof Zi?u=v:!u&&v?u=new Zi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):u&&v&&u!==v&&(u=new Zi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),u}function ha(h,u=new Set){return h instanceof Du&&u.add(h.key),h.eachChild(c=>{ha(c,u)}),u}function YA(h){if(h===!0||h===!1)return!0;if(!Array.isArray(h)||h.length===0)return!1;switch(h[0]){case"has":return h.length>=2&&h[1]!=="$id"&&h[1]!=="$type";case"in":return h.length>=3&&(typeof h[1]!="string"||Array.isArray(h[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return h.length!==3||Array.isArray(h[1])||Array.isArray(h[2]);case"any":case"all":for(const u of h.slice(1))if(!YA(u)&&typeof u!="boolean")return!1;return!0;default:return!0}}const qA={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Kc(h){if(h==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};YA(h)||(h=Ma(h));const u=QA(h,qA);if(u.result==="error")throw new Error(u.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,v,w)=>u.value.evaluate(c,v,{},w),needGeometry:ah(h),getGlobalStateRefs:()=>ha(u.value.expression)}}function oh(h,u){return h<u?-1:h>u?1:0}function ah(h){if(!Array.isArray(h))return!1;if(h[0]==="within"||h[0]==="distance")return!0;for(let u=1;u<h.length;u++)if(ah(h[u]))return!0;return!1}function Ma(h){if(!h)return!0;const u=h[0];return h.length<=1?u!=="any":u==="=="?Sa(h[1],h[2],"=="):u==="!="?Qs(Sa(h[1],h[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Sa(h[1],h[2],u):u==="any"?(c=h.slice(1),["any"].concat(c.map(Ma))):u==="all"?["all"].concat(h.slice(1).map(Ma)):u==="none"?["all"].concat(h.slice(1).map(Ma).map(Qs)):u==="in"?Jr(h[1],h.slice(2)):u==="!in"?Qs(Jr(h[1],h.slice(2))):u==="has"?pu(h[1]):u!=="!has"||Qs(pu(h[1]));var c}function Sa(h,u,c){switch(h){case"$type":return[`filter-type-${c}`,u];case"$id":return[`filter-id-${c}`,u];default:return[`filter-${c}`,h,u]}}function Jr(h,u){if(u.length===0)return!1;switch(h){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(c=>typeof c!=typeof u[0])?["filter-in-large",h,["literal",u.sort(oh)]]:["filter-in-small",h,["literal",u]]}}function pu(h){switch(h){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",h]}}function Qs(h){return["!",h]}function sh(h){const u=typeof h;if(u==="number"||u==="boolean"||u==="string"||h==null)return JSON.stringify(h);if(Array.isArray(h)){let w="[";for(const U of h)w+=`${sh(U)},`;return`${w}]`}const c=Object.keys(h).sort();let v="{";for(let w=0;w<c.length;w++)v+=`${JSON.stringify(c[w])}:${sh(h[c[w]])},`;return`${v}}`}function xA(h){let u="";for(const c of tn)u+=`/${sh(h[c])}`;return u}function cf(h){const u=h.value;return u?[new Sn(h.key,u,"constants have been deprecated as of v8")]:[]}function _s(h){return h instanceof Number||h instanceof String||h instanceof Boolean?h.valueOf():h}function ul(h){if(Array.isArray(h))return h.map(ul);if(h instanceof Object&&!(h instanceof Number||h instanceof String||h instanceof Boolean)){const u={};for(const c in h)u[c]=ul(h[c]);return u}return _s(h)}function Ys(h){const u=h.key,c=h.value,v=h.valueSpec||{},w=h.objectElementValidators||{},U=h.style,K=h.styleSpec,G=h.validateSpec;let H=[];const ae=Pr(c);if(ae!=="object")return[new Sn(u,c,`object expected, ${ae} found`)];for(const ce in c){const xe=ce.split(".")[0],Le=Xs(v,xe)||v["*"];let qe;if(Xs(w,xe))qe=w[xe];else if(Xs(v,xe))qe=G;else if(w["*"])qe=w["*"];else{if(!v["*"]){H.push(new Sn(u,c[ce],`unknown property "${ce}"`));continue}qe=G}H=H.concat(qe({key:(u&&`${u}.`)+ce,value:c[ce],valueSpec:Le,style:U,styleSpec:K,object:c,objectKey:ce,validateSpec:G},c))}for(const ce in v)w[ce]||v[ce].required&&v[ce].default===void 0&&c[ce]===void 0&&H.push(new Sn(u,c,`missing required property "${ce}"`));return H}function hf(h){const u=h.value,c=h.valueSpec,v=h.style,w=h.styleSpec,U=h.key,K=h.arrayElementValidator||h.validateSpec;if(Pr(u)!=="array")return[new Sn(U,u,`array expected, ${Pr(u)} found`)];if(c.length&&u.length!==c.length)return[new Sn(U,u,`array length ${c.length} expected, length ${u.length} found`)];if(c["min-length"]&&u.length<c["min-length"])return[new Sn(U,u,`array length at least ${c["min-length"]} expected, length ${u.length} found`)];let G={type:c.value,values:c.values};w.$version<7&&(G.function=c.function),Pr(c.value)==="object"&&(G=c.value);let H=[];for(let ae=0;ae<u.length;ae++)H=H.concat(K({array:u,arrayIndex:ae,value:u[ae],valueSpec:G,validateSpec:h.validateSpec,style:v,styleSpec:w,key:`${U}[${ae}]`}));return H}function HA(h){const u=h.key,c=h.value,v=h.valueSpec;let w=Pr(c);return w==="number"&&c!=c&&(w="NaN"),w!=="number"?[new Sn(u,c,`number expected, ${w} found`)]:"minimum"in v&&c<v.minimum?[new Sn(u,c,`${c} is less than the minimum value ${v.minimum}`)]:"maximum"in v&&c>v.maximum?[new Sn(u,c,`${c} is greater than the maximum value ${v.maximum}`)]:[]}function Dh(h){const u=h.valueSpec,c=_s(h.value.type);let v,w,U,K={};const G=c!=="categorical"&&h.value.property===void 0,H=!G,ae=Pr(h.value.stops)==="array"&&Pr(h.value.stops[0])==="array"&&Pr(h.value.stops[0][0])==="object",ce=Ys({key:h.key,value:h.value,valueSpec:h.styleSpec.function,validateSpec:h.validateSpec,style:h.style,styleSpec:h.styleSpec,objectElementValidators:{stops:function(qe){if(c==="identity")return[new Sn(qe.key,qe.value,'identity function may not have a "stops" property')];let $e=[];const nt=qe.value;return $e=$e.concat(hf({key:qe.key,value:nt,valueSpec:qe.valueSpec,validateSpec:qe.validateSpec,style:qe.style,styleSpec:qe.styleSpec,arrayElementValidator:xe})),Pr(nt)==="array"&&nt.length===0&&$e.push(new Sn(qe.key,nt,"array must have at least one stop")),$e},default:function(qe){return qe.validateSpec({key:qe.key,value:qe.value,valueSpec:u,validateSpec:qe.validateSpec,style:qe.style,styleSpec:qe.styleSpec})}}});return c==="identity"&&G&&ce.push(new Sn(h.key,h.value,'missing required property "property"')),c==="identity"||h.value.stops||ce.push(new Sn(h.key,h.value,'missing required property "stops"')),c==="exponential"&&h.valueSpec.expression&&!Ih(h.valueSpec)&&ce.push(new Sn(h.key,h.value,"exponential functions not supported")),h.styleSpec.$version>=8&&(H&&!Uu(h.valueSpec)?ce.push(new Sn(h.key,h.value,"property functions not supported")):G&&!Pc(h.valueSpec)&&ce.push(new Sn(h.key,h.value,"zoom functions not supported"))),c!=="categorical"&&!ae||h.value.property!==void 0||ce.push(new Sn(h.key,h.value,'"property" property is required')),ce;function xe(qe){let $e=[];const nt=qe.value,ct=qe.key;if(Pr(nt)!=="array")return[new Sn(ct,nt,`array expected, ${Pr(nt)} found`)];if(nt.length!==2)return[new Sn(ct,nt,`array length 2 expected, length ${nt.length} found`)];if(ae){if(Pr(nt[0])!=="object")return[new Sn(ct,nt,`object expected, ${Pr(nt[0])} found`)];if(nt[0].zoom===void 0)return[new Sn(ct,nt,"object stop key must have zoom")];if(nt[0].value===void 0)return[new Sn(ct,nt,"object stop key must have value")];if(U&&U>_s(nt[0].zoom))return[new Sn(ct,nt[0].zoom,"stop zoom values must appear in ascending order")];_s(nt[0].zoom)!==U&&(U=_s(nt[0].zoom),w=void 0,K={}),$e=$e.concat(Ys({key:`${ct}[0]`,value:nt[0],valueSpec:{zoom:{}},validateSpec:qe.validateSpec,style:qe.style,styleSpec:qe.styleSpec,objectElementValidators:{zoom:HA,value:Le}}))}else $e=$e.concat(Le({key:`${ct}[0]`,value:nt[0],validateSpec:qe.validateSpec,style:qe.style,styleSpec:qe.styleSpec},nt));return Ku(ul(nt[1]))?$e.concat([new Sn(`${ct}[1]`,nt[1],"expressions are not allowed in function stops.")]):$e.concat(qe.validateSpec({key:`${ct}[1]`,value:nt[1],valueSpec:u,validateSpec:qe.validateSpec,style:qe.style,styleSpec:qe.styleSpec}))}function Le(qe,$e){const nt=Pr(qe.value),ct=_s(qe.value),wt=qe.value!==null?qe.value:$e;if(v){if(nt!==v)return[new Sn(qe.key,wt,`${nt} stop domain type must match previous stop domain type ${v}`)]}else v=nt;if(nt!=="number"&&nt!=="string"&&nt!=="boolean")return[new Sn(qe.key,wt,"stop domain value must be a number, string, or boolean")];if(nt!=="number"&&c!=="categorical"){let qt=`number expected, ${nt} found`;return Uu(u)&&c===void 0&&(qt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Sn(qe.key,wt,qt)]}return c!=="categorical"||nt!=="number"||isFinite(ct)&&Math.floor(ct)===ct?c!=="categorical"&&nt==="number"&&w!==void 0&&ct<w?[new Sn(qe.key,wt,"stop domain values must appear in ascending order")]:(w=ct,c==="categorical"&&ct in K?[new Sn(qe.key,wt,"stop domain values must be unique")]:(K[ct]=!0,[])):[new Sn(qe.key,wt,`integer expected, found ${ct}`)]}}function sA(h){const u=(h.expressionContext==="property"?Lu:QA)(ul(h.value),h.valueSpec);if(u.result==="error")return u.value.map(v=>new Sn(`${h.key}${v.key}`,h.value,v.message));const c=u.value.expression||u.value._styleExpression.expression;if(h.expressionContext==="property"&&h.propertyKey==="text-font"&&!c.outputDefined())return[new Sn(h.key,h.value,`Invalid data expression for "${h.propertyKey}". Output values must be contained as literals within the expression.`)];if(h.expressionContext==="property"&&h.propertyType==="layout"&&!oA(c))return[new Sn(h.key,h.value,'"feature-state" data expressions are not supported with layout properties.')];if(h.expressionContext==="filter"&&!oA(c))return[new Sn(h.key,h.value,'"feature-state" data expressions are not supported with filters.')];if(h.expressionContext&&h.expressionContext.indexOf("cluster")===0){if(!Hl(c,["zoom","feature-state"]))return[new Sn(h.key,h.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(h.expressionContext==="cluster-initial"&&!Ts(c))return[new Sn(h.key,h.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function at(h){const u=h.key,c=h.value,v=Pr(c);return v!=="string"?[new Sn(u,c,`color expected, ${v} found`)]:Sr.parse(String(c))?[]:[new Sn(u,c,`color expected, "${c}" found`)]}function nl(h){const u=h.key,c=h.value,v=h.valueSpec,w=[];return Array.isArray(v.values)?v.values.indexOf(_s(c))===-1&&w.push(new Sn(u,c,`expected one of [${v.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(v.values).indexOf(_s(c))===-1&&w.push(new Sn(u,c,`expected one of [${Object.keys(v.values).join(", ")}], ${JSON.stringify(c)} found`)),w}function Ha(h){return YA(ul(h.value))?sA(co({},h,{expressionContext:"filter",valueSpec:{value:"boolean"}})):na(h)}function na(h){const u=h.value,c=h.key;if(Pr(u)!=="array")return[new Sn(c,u,`array expected, ${Pr(u)} found`)];const v=h.styleSpec;let w,U=[];if(u.length<1)return[new Sn(c,u,"filter array must have at least 1 element")];switch(U=U.concat(nl({key:`${c}[0]`,value:u[0],valueSpec:v.filter_operator,style:h.style,styleSpec:h.styleSpec})),_s(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&_s(u[1])==="$type"&&U.push(new Sn(c,u,`"$type" cannot be use with operator "${u[0]}"`));case"==":case"!=":u.length!==3&&U.push(new Sn(c,u,`filter array for operator "${u[0]}" must have 3 elements`));case"in":case"!in":u.length>=2&&(w=Pr(u[1]),w!=="string"&&U.push(new Sn(`${c}[1]`,u[1],`string expected, ${w} found`)));for(let K=2;K<u.length;K++)w=Pr(u[K]),_s(u[1])==="$type"?U=U.concat(nl({key:`${c}[${K}]`,value:u[K],valueSpec:v.geometry_type,style:h.style,styleSpec:h.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&U.push(new Sn(`${c}[${K}]`,u[K],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let K=1;K<u.length;K++)U=U.concat(na({key:`${c}[${K}]`,value:u[K],style:h.style,styleSpec:h.styleSpec}));break;case"has":case"!has":w=Pr(u[1]),u.length!==2?U.push(new Sn(c,u,`filter array for "${u[0]}" operator must have 2 elements`)):w!=="string"&&U.push(new Sn(`${c}[1]`,u[1],`string expected, ${w} found`))}return U}function Cr(h,u){const c=h.key,v=h.validateSpec,w=h.style,U=h.styleSpec,K=h.value,G=h.objectKey,H=U[`${u}_${h.layerType}`];if(!H)return[];const ae=G.match(/^(.*)-transition$/);if(u==="paint"&&ae&&H[ae[1]]&&H[ae[1]].transition)return v({key:c,value:K,valueSpec:U.transition,style:w,styleSpec:U});const ce=h.valueSpec||H[G];if(!ce)return[new Sn(c,K,`unknown property "${G}"`)];let xe;if(Pr(K)==="string"&&Uu(ce)&&!ce.tokens&&(xe=/^{([^}]+)}$/.exec(K)))return[new Sn(c,K,`"${G}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(xe[1])} }\`.`)];const Le=[];return h.layerType==="symbol"&&(G==="text-field"&&w&&!w.glyphs&&Le.push(new Sn(c,K,'use of "text-field" requires a style "glyphs" property')),G==="text-font"&&mc(ul(K))&&_s(K.type)==="identity"&&Le.push(new Sn(c,K,'"text-font" does not support identity functions'))),Le.concat(v({key:h.key,value:K,valueSpec:ce,style:w,styleSpec:U,expressionContext:"property",propertyType:u,propertyKey:G}))}function bs(h){return Cr(h,"paint")}function lh(h){return Cr(h,"layout")}function Rh(h){let u=[];const c=h.value,v=h.key,w=h.style,U=h.styleSpec;if(Pr(c)!=="object")return[new Sn(v,c,`object expected, ${Pr(c)} found`)];c.type||c.ref||u.push(new Sn(v,c,'either "type" or "ref" is required'));let K=_s(c.type);const G=_s(c.ref);if(c.id){const H=_s(c.id);for(let ae=0;ae<h.arrayIndex;ae++){const ce=w.layers[ae];_s(ce.id)===H&&u.push(new Sn(v,c.id,`duplicate layer id "${c.id}", previously used at line ${ce.id.__line__}`))}}if("ref"in c){let H;["type","source","source-layer","filter","layout"].forEach(ae=>{ae in c&&u.push(new Sn(v,c[ae],`"${ae}" is prohibited for ref layers`))}),w.layers.forEach(ae=>{_s(ae.id)===G&&(H=ae)}),H?H.ref?u.push(new Sn(v,c.ref,"ref cannot reference another ref layer")):K=_s(H.type):u.push(new Sn(v,c.ref,`ref layer "${G}" not found`))}else if(K!=="background")if(c.source){const H=w.sources&&w.sources[c.source],ae=H&&_s(H.type);H?ae==="vector"&&K==="raster"?u.push(new Sn(v,c.source,`layer "${c.id}" requires a raster source`)):ae!=="raster-dem"&&K==="hillshade"||ae!=="raster-dem"&&K==="color-relief"?u.push(new Sn(v,c.source,`layer "${c.id}" requires a raster-dem source`)):ae==="raster"&&K!=="raster"?u.push(new Sn(v,c.source,`layer "${c.id}" requires a vector source`)):ae!=="vector"||c["source-layer"]?ae==="raster-dem"&&K!=="hillshade"&&K!=="color-relief"?u.push(new Sn(v,c.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):K!=="line"||!c.paint||!c.paint["line-gradient"]||ae==="geojson"&&H.lineMetrics||u.push(new Sn(v,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new Sn(v,c,`layer "${c.id}" must specify a "source-layer"`)):u.push(new Sn(v,c.source,`source "${c.source}" not found`))}else u.push(new Sn(v,c,'missing required property "source"'));return u=u.concat(Ys({key:v,value:c,valueSpec:U.layer,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*":()=>[],type:()=>h.validateSpec({key:`${v}.type`,value:c.type,valueSpec:U.layer.type,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,object:c,objectKey:"type"}),filter:Ha,layout:H=>Ys({layer:c,key:H.key,value:H.value,style:H.style,styleSpec:H.styleSpec,validateSpec:H.validateSpec,objectElementValidators:{"*":ae=>lh(co({layerType:K},ae))}}),paint:H=>Ys({layer:c,key:H.key,value:H.value,style:H.style,styleSpec:H.styleSpec,validateSpec:H.validateSpec,objectElementValidators:{"*":ae=>bs(co({layerType:K},ae))}})}})),u}function Ko(h){const u=h.value,c=h.key,v=Pr(u);return v!=="string"?[new Sn(c,u,`string expected, ${v} found`)]:[]}const uh={promoteId:function({key:h,value:u}){if(Pr(u)==="string")return Ko({key:h,value:u});{const c=[];for(const v in u)c.push(...Ko({key:`${h}.${v}`,value:u[v]}));return c}}};function Fu(h){const u=h.value,c=h.key,v=h.styleSpec,w=h.style,U=h.validateSpec;if(!u.type)return[new Sn(c,u,'"type" is required')];const K=_s(u.type);let G;switch(K){case"vector":case"raster":return G=Ys({key:c,value:u,valueSpec:v[`source_${K.replace("-","_")}`],style:h.style,styleSpec:v,objectElementValidators:uh,validateSpec:U}),G;case"raster-dem":return G=function(H){var ae;const ce=(ae=H.sourceName)!==null&&ae!==void 0?ae:"",xe=H.value,Le=H.styleSpec,qe=Le.source_raster_dem,$e=H.style;let nt=[];const ct=Pr(xe);if(xe===void 0)return nt;if(ct!=="object")return nt.push(new Sn("source_raster_dem",xe,`object expected, ${ct} found`)),nt;const wt=_s(xe.encoding)==="custom",qt=["redFactor","greenFactor","blueFactor","baseShift"],Dt=H.value.encoding?`"${H.value.encoding}"`:"Default";for(const Nt in xe)!wt&&qt.includes(Nt)?nt.push(new Sn(Nt,xe[Nt],`In "${ce}": "${Nt}" is only valid when "encoding" is set to "custom". ${Dt} encoding found`)):qe[Nt]?nt=nt.concat(H.validateSpec({key:Nt,value:xe[Nt],valueSpec:qe[Nt],validateSpec:H.validateSpec,style:$e,styleSpec:Le})):nt.push(new Sn(Nt,xe[Nt],`unknown property "${Nt}"`));return nt}({sourceName:c,value:u,style:h.style,styleSpec:v,validateSpec:U}),G;case"geojson":if(G=Ys({key:c,value:u,valueSpec:v.source_geojson,style:w,styleSpec:v,validateSpec:U,objectElementValidators:uh}),u.cluster)for(const H in u.clusterProperties){const[ae,ce]=u.clusterProperties[H],xe=typeof ae=="string"?[ae,["accumulated"],["get",H]]:ae;G.push(...sA({key:`${c}.${H}.map`,value:ce,expressionContext:"cluster-map"})),G.push(...sA({key:`${c}.${H}.reduce`,value:xe,expressionContext:"cluster-reduce"}))}return G;case"video":return Ys({key:c,value:u,valueSpec:v.source_video,style:w,validateSpec:U,styleSpec:v});case"image":return Ys({key:c,value:u,valueSpec:v.source_image,style:w,validateSpec:U,styleSpec:v});case"canvas":return[new Sn(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nl({key:`${c}.type`,value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Ld(h){const u=h.value,c=h.styleSpec,v=c.light,w=h.style;let U=[];const K=Pr(u);if(u===void 0)return U;if(K!=="object")return U=U.concat([new Sn("light",u,`object expected, ${K} found`)]),U;for(const G in u){const H=G.match(/^(.*)-transition$/);U=U.concat(H&&v[H[1]]&&v[H[1]].transition?h.validateSpec({key:G,value:u[G],valueSpec:c.transition,validateSpec:h.validateSpec,style:w,styleSpec:c}):v[G]?h.validateSpec({key:G,value:u[G],valueSpec:v[G],validateSpec:h.validateSpec,style:w,styleSpec:c}):[new Sn(G,u[G],`unknown property "${G}"`)])}return U}function df(h){const u=h.value,c=h.styleSpec,v=c.sky,w=h.style,U=Pr(u);if(u===void 0)return[];if(U!=="object")return[new Sn("sky",u,`object expected, ${U} found`)];let K=[];for(const G in u)K=K.concat(v[G]?h.validateSpec({key:G,value:u[G],valueSpec:v[G],style:w,styleSpec:c}):[new Sn(G,u[G],`unknown property "${G}"`)]);return K}function jp(h){const u=h.value,c=h.styleSpec,v=c.terrain,w=h.style;let U=[];const K=Pr(u);if(u===void 0)return U;if(K!=="object")return U=U.concat([new Sn("terrain",u,`object expected, ${K} found`)]),U;for(const G in u)U=U.concat(v[G]?h.validateSpec({key:G,value:u[G],valueSpec:v[G],validateSpec:h.validateSpec,style:w,styleSpec:c}):[new Sn(G,u[G],`unknown property "${G}"`)]);return U}function Ea(h){let u=[];const c=h.value,v=h.key;if(Array.isArray(c)){const w=[],U=[];for(const K in c)c[K].id&&w.includes(c[K].id)&&u.push(new Sn(v,c,`all the sprites' ids must be unique, but ${c[K].id} is duplicated`)),w.push(c[K].id),c[K].url&&U.includes(c[K].url)&&u.push(new Sn(v,c,`all the sprites' URLs must be unique, but ${c[K].url} is duplicated`)),U.push(c[K].url),u=u.concat(Ys({key:`${v}[${K}]`,value:c[K],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:h.validateSpec}));return u}return Ko({key:v,value:c})}function Ph(h){return u=h.value,u&&u.constructor===Object?[]:[new Sn(h.key,h.value,`object expected, ${Pr(h.value)} found`)];var u}const Ah={"*":()=>[],array:hf,boolean:function(h){const u=h.value,c=h.key,v=Pr(u);return v!=="boolean"?[new Sn(c,u,`boolean expected, ${v} found`)]:[]},number:HA,color:at,constants:cf,enum:nl,filter:Ha,function:Dh,layer:Rh,object:Ys,source:Fu,light:Ld,sky:df,terrain:jp,projection:function(h){const u=h.value,c=h.styleSpec,v=c.projection,w=h.style,U=Pr(u);if(u===void 0)return[];if(U!=="object")return[new Sn("projection",u,`object expected, ${U} found`)];let K=[];for(const G in u)K=K.concat(v[G]?h.validateSpec({key:G,value:u[G],valueSpec:v[G],style:w,styleSpec:c}):[new Sn(G,u[G],`unknown property "${G}"`)]);return K},projectionDefinition:function(h){const u=h.key;let c=h.value;c=c instanceof String?c.valueOf():c;const v=Pr(c);return v!=="array"||function(w){return Array.isArray(w)&&w.length===3&&typeof w[0]=="string"&&typeof w[1]=="string"&&typeof w[2]=="number"}(c)||function(w){return!!["interpolate","step","literal"].includes(w[0])}(c)?["array","string"].includes(v)?[]:[new Sn(u,c,`projection expected, invalid type "${v}" found`)]:[new Sn(u,c,`projection expected, invalid array ${JSON.stringify(c)} found`)]},string:Ko,formatted:function(h){return Ko(h).length===0?[]:sA(h)},resolvedImage:function(h){return Ko(h).length===0?[]:sA(h)},padding:function(h){const u=h.key,c=h.value;if(Pr(c)==="array"){if(c.length<1||c.length>4)return[new Sn(u,c,`padding requires 1 to 4 values; ${c.length} values found`)];const v={type:"number"};let w=[];for(let U=0;U<c.length;U++)w=w.concat(h.validateSpec({key:`${u}[${U}]`,value:c[U],validateSpec:h.validateSpec,valueSpec:v}));return w}return HA({key:u,value:c,valueSpec:{}})},numberArray:function(h){const u=h.key,c=h.value;if(Pr(c)==="array"){const v={type:"number"};if(c.length<1)return[new Sn(u,c,"array length at least 1 expected, length 0 found")];let w=[];for(let U=0;U<c.length;U++)w=w.concat(h.validateSpec({key:`${u}[${U}]`,value:c[U],validateSpec:h.validateSpec,valueSpec:v}));return w}return HA({key:u,value:c,valueSpec:{}})},colorArray:function(h){const u=h.key,c=h.value;if(Pr(c)==="array"){if(c.length<1)return[new Sn(u,c,"array length at least 1 expected, length 0 found")];let v=[];for(let w=0;w<c.length;w++)v=v.concat(at({key:`${u}[${w}]`,value:c[w]}));return v}return at({key:u,value:c})},variableAnchorOffsetCollection:function(h){const u=h.key,c=h.value,v=Pr(c),w=h.styleSpec;if(v!=="array"||c.length<1||c.length%2!=0)return[new Sn(u,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let U=[];for(let K=0;K<c.length;K+=2)U=U.concat(nl({key:`${u}[${K}]`,value:c[K],valueSpec:w.layout_symbol["text-anchor"]})),U=U.concat(hf({key:`${u}[${K+1}]`,value:c[K+1],valueSpec:{length:2,value:"number"},validateSpec:h.validateSpec,style:h.style,styleSpec:w}));return U},sprite:Ea,state:Ph};function VA(h){const u=h.value,c=h.valueSpec,v=h.styleSpec;return h.validateSpec=VA,c.expression&&mc(_s(u))?Dh(h):c.expression&&Ku(ul(u))?sA(h):c.type&&Ah[c.type]?Ah[c.type](h):Ys(co({},h,{valueSpec:c.type?v[c.type]:c}))}function ff(h){const u=h.value,c=h.key,v=Ko(h);return v.length||(u.indexOf("{fontstack}")===-1&&v.push(new Sn(c,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&v.push(new Sn(c,u,'"glyphs" url must include a "{range}" token'))),v}function Al(h,u=rt){let c=[];return c=c.concat(VA({key:"",value:h,valueSpec:u.$root,styleSpec:u,style:h,validateSpec:VA,objectElementValidators:{glyphs:ff,"*":()=>[]}})),h.constants&&(c=c.concat(cf({key:"constants",value:h.constants}))),rd(c)}function ss(h){return function(u){return h({...u,validateSpec:VA})}}function rd(h){return[].concat(h).sort((u,c)=>u.line-c.line)}function mu(h){return function(...u){return rd(h.apply(this,u))}}Al.source=mu(ss(Fu)),Al.sprite=mu(ss(Ea)),Al.glyphs=mu(ss(ff)),Al.light=mu(ss(Ld)),Al.sky=mu(ss(df)),Al.terrain=mu(ss(jp)),Al.state=mu(ss(Ph)),Al.layer=mu(ss(Rh)),Al.filter=mu(ss(Ha)),Al.paintProperty=mu(ss(bs)),Al.layoutProperty=mu(ss(lh));const Fd=Al,pf=Fd.light,wl=Fd.sky,Lc=Fd.paintProperty,Xf=Fd.layoutProperty;function od(h,u){let c=!1;if(u&&u.length)for(const v of u)h.fire(new dt(new Error(v.message))),c=!0;return c}class wa{constructor(u,c,v){const w=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;const K=new Int32Array(this.arrayBuffer);u=K[0],this.d=(c=K[1])+2*(v=K[2]);for(let H=0;H<this.d*this.d;H++){const ae=K[3+H],ce=K[3+H+1];w.push(ae===ce?null:K.subarray(ae,ce))}const G=K[3+w.length+1];this.keys=K.subarray(K[3+w.length],G),this.bboxes=K.subarray(G),this.insert=this._insertReadonly}else{this.d=c+2*v;for(let K=0;K<this.d*this.d;K++)w.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=u,this.padding=v,this.scale=c/u,this.uid=0;const U=v/c*u;this.min=-U,this.max=u+U}insert(u,c,v,w,U){this._forEachCell(c,v,w,U,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(c),this.bboxes.push(v),this.bboxes.push(w),this.bboxes.push(U)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,c,v,w,U,K){this.cells[U].push(K)}query(u,c,v,w,U){const K=this.min,G=this.max;if(u<=K&&c<=K&&G<=v&&G<=w&&!U)return Array.prototype.slice.call(this.keys);{const H=[];return this._forEachCell(u,c,v,w,this._queryCell,H,{},U),H}}_queryCell(u,c,v,w,U,K,G,H){const ae=this.cells[U];if(ae!==null){const ce=this.keys,xe=this.bboxes;for(let Le=0;Le<ae.length;Le++){const qe=ae[Le];if(G[qe]===void 0){const $e=4*qe;(H?H(xe[$e+0],xe[$e+1],xe[$e+2],xe[$e+3]):u<=xe[$e+2]&&c<=xe[$e+3]&&v>=xe[$e+0]&&w>=xe[$e+1])?(G[qe]=!0,K.push(ce[qe])):G[qe]=!1}}}}_forEachCell(u,c,v,w,U,K,G,H){const ae=this._convertToCellCoord(u),ce=this._convertToCellCoord(c),xe=this._convertToCellCoord(v),Le=this._convertToCellCoord(w);for(let qe=ae;qe<=xe;qe++)for(let $e=ce;$e<=Le;$e++){const nt=this.d*$e+qe;if((!H||H(this._convertFromCellCoord(qe),this._convertFromCellCoord($e),this._convertFromCellCoord(qe+1),this._convertFromCellCoord($e+1)))&&U.call(this,u,c,v,w,nt,K,G,H))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const u=this.cells,c=3+this.cells.length+1+1;let v=0;for(let K=0;K<this.cells.length;K++)v+=this.cells[K].length;const w=new Int32Array(c+v+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let U=c;for(let K=0;K<u.length;K++){const G=u[K];w[3+K]=U,w.set(G,U),U+=G.length}return w[3+u.length]=U,w.set(this.keys,U),U+=this.keys.length,w[3+u.length+1]=U,w.set(this.bboxes,U),U+=this.bboxes.length,w.buffer}static serialize(u,c){const v=u.toArrayBuffer();return c&&c.push(v),{buffer:v}}static deserialize(u){return new wa(u.buffer)}}const eo={};function hi(h,u,c={}){if(eo[h])throw new Error(`${h} is already registered.`);Object.defineProperty(u,"_classRegistryKey",{value:h,writeable:!1}),eo[h]={klass:u,omit:c.omit||[],shallow:c.shallow||[]}}hi("Object",Object),hi("Set",Set),hi("TransferableGridIndex",wa),hi("Color",Sr),hi("Error",Error),hi("AJAXError",Qe),hi("ResolvedImage",os),hi("StylePropertyFunction",Kl),hi("StyleExpression",rh,{omit:["_evaluator"]}),hi("ZoomDependentExpression",id),hi("ZoomConstantExpression",kh),hi("CompoundExpression",Ul,{omit:["_evaluate"]});for(const h in Ru)Ru[h]._classRegistryKey||hi(`Expression_${h}`,Ru[h]);function $A(h){return h&&typeof ArrayBuffer<"u"&&(h instanceof ArrayBuffer||h.constructor&&h.constructor.name==="ArrayBuffer")}function ZA(h){return h.$name||h.constructor._classRegistryKey}function ad(h){return!function(u){if(u===null||typeof u!="object")return!1;const c=ZA(u);return!(!c||c==="Object")}(h)&&(h==null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h instanceof Boolean||h instanceof Number||h instanceof String||h instanceof Date||h instanceof RegExp||h instanceof Blob||h instanceof Error||$A(h)||Hn(h)||ArrayBuffer.isView(h)||h instanceof ImageData)}function Fc(h,u){if(ad(h))return($A(h)||Hn(h))&&u&&u.push(h),ArrayBuffer.isView(h)&&u&&u.push(h.buffer),h instanceof ImageData&&u&&u.push(h.data.buffer),h;if(Array.isArray(h)){const U=[];for(const K of h)U.push(Fc(K,u));return U}if(typeof h!="object")throw new Error("can't serialize object of type "+typeof h);const c=ZA(h);if(!c)throw new Error(`can't serialize object of unregistered class ${h.constructor.name}`);if(!eo[c])throw new Error(`${c} is not registered.`);const{klass:v}=eo[c],w=v.serialize?v.serialize(h,u):{};if(v.serialize){if(u&&w===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const U in h){if(!h.hasOwnProperty(U)||eo[c].omit.indexOf(U)>=0)continue;const K=h[U];w[U]=eo[c].shallow.indexOf(U)>=0?K:Fc(K,u)}h instanceof Error&&(w.message=h.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(w.$name=c),w}function MA(h){if(ad(h))return h;if(Array.isArray(h))return h.map(MA);if(typeof h!="object")throw new Error("can't deserialize object of type "+typeof h);const u=ZA(h)||"Object";if(!eo[u])throw new Error(`can't deserialize unregistered class ${u}`);const{klass:c}=eo[u];if(!c)throw new Error(`can't deserialize unregistered class ${u}`);if(c.deserialize)return c.deserialize(h);const v=Object.create(c.prototype);for(const w of Object.keys(h)){if(w==="$name")continue;const U=h[w];v[w]=eo[u].shallow.indexOf(w)>=0?U:MA(U)}return v}class mf{constructor(){this.first=!0}update(u,c){const v=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=v,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=v,!0):(this.lastFloorZoom>v?(this.lastIntegerZoom=v+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<v&&(this.lastIntegerZoom=v,this.lastIntegerZoomTime=c),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=v,!0))}}const ro={"Latin-1 Supplement":h=>h>=128&&h<=255,"Hangul Jamo":h=>h>=4352&&h<=4607,Khmer:h=>h>=6016&&h<=6143,"General Punctuation":h=>h>=8192&&h<=8303,"Letterlike Symbols":h=>h>=8448&&h<=8527,"Number Forms":h=>h>=8528&&h<=8591,"Miscellaneous Technical":h=>h>=8960&&h<=9215,"Control Pictures":h=>h>=9216&&h<=9279,"Optical Character Recognition":h=>h>=9280&&h<=9311,"Enclosed Alphanumerics":h=>h>=9312&&h<=9471,"Geometric Shapes":h=>h>=9632&&h<=9727,"Miscellaneous Symbols":h=>h>=9728&&h<=9983,"Miscellaneous Symbols and Arrows":h=>h>=11008&&h<=11263,"Ideographic Description Characters":h=>h>=12272&&h<=12287,"CJK Symbols and Punctuation":h=>h>=12288&&h<=12351,Hiragana:h=>h>=12352&&h<=12447,Katakana:h=>h>=12448&&h<=12543,Kanbun:h=>h>=12688&&h<=12703,"CJK Strokes":h=>h>=12736&&h<=12783,"Enclosed CJK Letters and Months":h=>h>=12800&&h<=13055,"CJK Compatibility":h=>h>=13056&&h<=13311,"Yijing Hexagram Symbols":h=>h>=19904&&h<=19967,"CJK Unified Ideographs":h=>h>=19968&&h<=40959,"Hangul Syllables":h=>h>=44032&&h<=55215,"Private Use Area":h=>h>=57344&&h<=63743,"Vertical Forms":h=>h>=65040&&h<=65055,"CJK Compatibility Forms":h=>h>=65072&&h<=65103,"Small Form Variants":h=>h>=65104&&h<=65135,"Halfwidth and Fullwidth Forms":h=>h>=65280&&h<=65519};function Vl(h){for(const u of h)if(wA(u.charCodeAt(0)))return!0;return!1}function Uh(h){for(const u of h)if(!yc(u.charCodeAt(0)))return!1;return!0}function gc(h){const u=h.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch{return null}}).filter(c=>c);return new RegExp(u.join("|"),"u")}const zu=gc(["Arab","Dupl","Mong","Ougr","Syrc"]);function yc(h){return!zu.test(String.fromCodePoint(h))}const Kh=gc(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function wA(h){return!(h!==746&&h!==747&&(h<4352||!(ro["CJK Compatibility Forms"](h)&&!(h>=65097&&h<=65103)||ro["CJK Compatibility"](h)||ro["CJK Strokes"](h)||!(!ro["CJK Symbols and Punctuation"](h)||h>=12296&&h<=12305||h>=12308&&h<=12319||h===12336)||ro["Enclosed CJK Letters and Months"](h)||ro["Ideographic Description Characters"](h)||ro.Kanbun(h)||ro.Katakana(h)&&h!==12540||!(!ro["Halfwidth and Fullwidth Forms"](h)||h===65288||h===65289||h===65293||h>=65306&&h<=65310||h===65339||h===65341||h===65343||h>=65371&&h<=65503||h===65507||h>=65512&&h<=65519)||!(!ro["Small Form Variants"](h)||h>=65112&&h<=65118||h>=65123&&h<=65126)||ro["Vertical Forms"](h)||ro["Yijing Hexagram Symbols"](h)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(h))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(h))||Kh.test(String.fromCodePoint(h)))))}function ch(h){return!(wA(h)||function(u){return!!(ro["Latin-1 Supplement"](u)&&(u===167||u===169||u===174||u===177||u===188||u===189||u===190||u===215||u===247)||ro["General Punctuation"](u)&&(u===8214||u===8224||u===8225||u===8240||u===8241||u===8251||u===8252||u===8258||u===8263||u===8264||u===8265||u===8273)||ro["Letterlike Symbols"](u)||ro["Number Forms"](u)||ro["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||u===9003||u>=9085&&u<=9114||u>=9150&&u<=9165||u===9167||u>=9169&&u<=9179||u>=9186&&u<=9215)||ro["Control Pictures"](u)&&u!==9251||ro["Optical Character Recognition"](u)||ro["Enclosed Alphanumerics"](u)||ro["Geometric Shapes"](u)||ro["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||ro["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||ro["CJK Symbols and Punctuation"](u)||ro.Katakana(u)||ro["Private Use Area"](u)||ro["CJK Compatibility Forms"](u)||ro["Small Form Variants"](u)||ro["Halfwidth and Fullwidth Forms"](u)||u===8734||u===8756||u===8757||u>=9984&&u<=10087||u>=10102&&u<=10131||u===65532||u===65533)}(h))}const lA=gc(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Sl(h){return lA.test(String.fromCodePoint(h))}function Np(h,u){return!(!u&&Sl(h)||h>=2304&&h<=3583||h>=3840&&h<=4255||ro.Khmer(h))}function gf(h){for(const u of h)if(Sl(u.charCodeAt(0)))return!0;return!1}const $l=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(h){this.pluginStatus=h.pluginStatus,this.pluginURL=h.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(h){if($l.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=h.applyArabicShaping,this.processBidirectionalText=h.processBidirectionalText,this.processStyledBidirectionalText=h.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(h,u){return a(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(h.pluginStatus!=="loading")return this.setState(h),h;const c=h.pluginURL,v=new Promise(U=>{this.loadScriptResolve=U});u(c);const w=new Promise(U=>setTimeout(()=>U(),this.TIMEOUT));if(yield Promise.race([v,w]),this.isParsed()){const U={pluginStatus:"loaded",pluginURL:c};return this.setState(U),U}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${c}`)})}};class Lo{constructor(u,c){this.zoom=u,c?(this.now=c.now||0,this.fadeDuration=c.fadeDuration||0,this.zoomHistory=c.zoomHistory||new mf,this.transition=c.transition||{},this.globalState=c.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new mf,this.transition={},this.globalState={})}isSupportedScript(u){return function(c,v){for(const w of c)if(!Np(w.charCodeAt(0),v))return!1;return!0}(u,$l.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const u=this.zoom,c=u-Math.floor(u),v=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*v}:{fromScale:.5,toScale:1,t:1-(1-v)*c}}}class Zl{constructor(u,c){this.property=u,this.value=c,this.expression=function(v,w){if(mc(v))return new Kl(v,w);if(Ku(v)){const U=Lu(v,w);if(U.result==="error")throw new Error(U.value.map(K=>`${K.key}: ${K.message}`).join(", "));return U.value}{let U=v;return w.type==="color"&&typeof v=="string"?U=Sr.parse(v):w.type!=="padding"||typeof v!="number"&&!Array.isArray(v)?w.type!=="numberArray"||typeof v!="number"&&!Array.isArray(v)?w.type!=="colorArray"||typeof v!="string"&&!Array.isArray(v)?w.type==="variableAnchorOffsetCollection"&&Array.isArray(v)?U=Ya.parse(v):w.type==="projectionDefinition"&&typeof v=="string"&&(U=xa.parse(v)):U=ca.parse(v):U=Ia.parse(v):U=Qa.parse(v),{globalStateRefs:new Set,kind:"constant",evaluate:()=>U}}}(c===void 0?u.specification.default:c,u.specification),this._evaluate=this.expression.evaluate}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(u,c,v){return this.property.possiblyEvaluate(this,u,c,v)}setGlobalState(u){this.expression.evaluate=(c,v,w,U,K,G)=>(c.globalState=u,this._evaluate.call(this.expression,c,v,w,U,K,G))}}class sd{constructor(u){this.property=u,this.value=new Zl(u,void 0)}transitioned(u,c){return new SA(this.property,this.value,c,je({},u.transition,this.transition),u.now)}untransitioned(){return new SA(this.property,this.value,null,{},0)}}class Jf{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return bt(this._values[u].value.value)}setValue(u,c){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new sd(this._values[u].property)),this._values[u].value=new Zl(this._values[u].property,c===null?void 0:bt(c))}getTransition(u){return bt(this._values[u].transition)}setTransition(u,c){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new sd(this._values[u].property)),this._values[u].transition=bt(c)||void 0}serialize(){const u={};for(const c of Object.keys(this._values)){const v=this.getValue(c);v!==void 0&&(u[c]=v);const w=this.getTransition(c);w!==void 0&&(u[`${c}-transition`]=w)}return u}transitioned(u,c){const v=new oo(this._properties);for(const w of Object.keys(this._values))v._values[w]=this._values[w].transitioned(u,c._values[w]);return v}untransitioned(){const u=new oo(this._properties);for(const c of Object.keys(this._values))u._values[c]=this._values[c].untransitioned();return u}}class SA{constructor(u,c,v,w,U){this.property=u,this.value=c,this.begin=U+w.delay||0,this.end=this.begin+w.duration||0,u.specification.transition&&(w.delay||w.duration)&&(this.prior=v)}possiblyEvaluate(u,c,v){const w=u.now||0,U=this.value.possiblyEvaluate(u,c,v),K=this.prior;if(K){if(w>this.end)return this.prior=null,U;if(this.value.isDataDriven())return this.prior=null,U;if(w<this.begin)return K.possiblyEvaluate(u,c,v);{const G=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(K.possiblyEvaluate(u,c,v),U,ke(G))}}return U}}class oo{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,c,v){const w=new XA(this._properties);for(const U of Object.keys(this._values))w._values[U]=this._values[U].possiblyEvaluate(u,c,v);return w}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class Fo{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues),this._globalState={}}hasValue(u){return this._values[u].value!==void 0}getValue(u){return bt(this._values[u].value)}setValue(u,c){this._values[u]=new Zl(this._values[u].property,c===null?void 0:bt(c)),this._values[u].setGlobalState(this._globalState)}serialize(){const u={};for(const c of Object.keys(this._values)){const v=this.getValue(c);v!==void 0&&(u[c]=v)}return u}possiblyEvaluate(u,c,v){const w=new XA(this._properties);for(const U of Object.keys(this._values))w._values[U]=this._values[U].possiblyEvaluate(u,c,v);return w}setGlobalState(u){this._globalState=u;for(const c of Object.values(this._values))c.setGlobalState(u)}}class Lr{constructor(u,c,v){this.property=u,this.value=c,this.parameters=v}isConstant(){return this.value.kind==="constant"}constantOr(u){return this.value.kind==="constant"?this.value.value:u}evaluate(u,c,v,w){return this.property.evaluate(this.value,this.parameters,u,c,v,w)}}class XA{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class ki{constructor(u){this.specification=u}possiblyEvaluate(u,c){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(c)}interpolate(u,c,v){const w=NA[this.specification.type];return w?w(u,c,v):u}}class Ri{constructor(u,c){this.specification=u,this.overrides=c}possiblyEvaluate(u,c,v,w){return new Lr(this,u.expression.kind==="constant"||u.expression.kind==="camera"?{kind:"constant",value:u.expression.evaluate(c,null,{},v,w)}:u.expression,c)}interpolate(u,c,v){if(u.value.kind!=="constant"||c.value.kind!=="constant")return u;if(u.value.value===void 0||c.value.value===void 0)return new Lr(this,{kind:"constant",value:void 0},u.parameters);const w=NA[this.specification.type];if(w){const U=w(u.value.value,c.value.value,v);return new Lr(this,{kind:"constant",value:U},u.parameters)}return u}evaluate(u,c,v,w,U,K){return u.kind==="constant"?u.value:u.evaluate(c,v,w,U,K)}}class zc extends Ri{possiblyEvaluate(u,c,v,w){if(u.value===void 0)return new Lr(this,{kind:"constant",value:void 0},c);if(u.expression.kind==="constant"){const U=u.expression.evaluate(c,null,{},v,w),K=u.property.specification.type==="resolvedImage"&&typeof U!="string"?U.name:U,G=this._calculate(K,K,K,c);return new Lr(this,{kind:"constant",value:G},c)}if(u.expression.kind==="camera"){const U=this._calculate(u.expression.evaluate({zoom:c.zoom-1}),u.expression.evaluate({zoom:c.zoom}),u.expression.evaluate({zoom:c.zoom+1}),c);return new Lr(this,{kind:"constant",value:U},c)}return new Lr(this,u.expression,c)}evaluate(u,c,v,w,U,K){if(u.kind==="source"){const G=u.evaluate(c,v,w,U,K);return this._calculate(G,G,G,c)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(c.zoom)-1},v,w),u.evaluate({zoom:Math.floor(c.zoom)},v,w),u.evaluate({zoom:Math.floor(c.zoom)+1},v,w),c):u.value}_calculate(u,c,v,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:u,to:c}:{from:v,to:c}}interpolate(u){return u}}class ju{constructor(u){this.specification=u}possiblyEvaluate(u,c,v,w){if(u.value!==void 0){if(u.expression.kind==="constant"){const U=u.expression.evaluate(c,null,{},v,w);return this._calculate(U,U,U,c)}return this._calculate(u.expression.evaluate(new Lo(Math.floor(c.zoom-1),c)),u.expression.evaluate(new Lo(Math.floor(c.zoom),c)),u.expression.evaluate(new Lo(Math.floor(c.zoom+1),c)),c)}}_calculate(u,c,v,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:u,to:c}:{from:v,to:c}}interpolate(u){return u}}class gu{constructor(u){this.specification=u}possiblyEvaluate(u,c,v,w){return!!u.expression.evaluate(c,null,{},v,w)}interpolate(){return!1}}class da{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in u){const v=u[c];v.specification.overridable&&this.overridableProperties.push(c);const w=this.defaultPropertyValues[c]=new Zl(v,void 0),U=this.defaultTransitionablePropertyValues[c]=new sd(v);this.defaultTransitioningPropertyValues[c]=U.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=w.possiblyEvaluate({})}}}hi("DataDrivenProperty",Ri),hi("DataConstantProperty",ki),hi("CrossFadedDataDrivenProperty",zc),hi("CrossFadedProperty",ju),hi("ColorRampProperty",gu);const yo="-transition";class Xl extends kt{constructor(u,c){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},u.type!=="custom"&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,this._globalState={},u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter,this._featureFilter=Kc(u.filter)),c.layout&&(this._unevaluatedLayout=new Fo(c.layout)),c.paint)){this._transitionablePaint=new Jf(c.paint);for(const v in u.paint)this.setPaintProperty(v,u.paint[v],{validate:!1});for(const v in u.layout)this.setLayoutProperty(v,u.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new XA(c.paint)}}setFilter(u){this.filter=u,this._featureFilter=Kc(u)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)}getLayoutAffectingGlobalStateRefs(){const u=new Set;if(this._unevaluatedLayout)for(const c in this._unevaluatedLayout._values){const v=this._unevaluatedLayout._values[c];for(const w of v.getGlobalStateRefs())u.add(w)}for(const c of this._featureFilter.getGlobalStateRefs())u.add(c);return u}getPaintAffectingGlobalStateRefs(){var u;const c=new globalThis.Map;if(this._transitionablePaint)for(const v in this._transitionablePaint._values){const w=this._transitionablePaint._values[v].value;for(const U of w.getGlobalStateRefs()){const K=(u=c.get(U))!==null&&u!==void 0?u:[];K.push({name:v,value:w.value}),c.set(U,K)}}return c}setLayoutProperty(u,c,v={}){c!=null&&this._validate(Xf,`layers.${this.id}.layout.${u}`,u,c,v)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,c):this.visibility=c)}getPaintProperty(u){return u.endsWith(yo)?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)}setPaintProperty(u,c,v={}){if(c!=null&&this._validate(Lc,`layers.${this.id}.paint.${u}`,u,c,v))return!1;if(u.endsWith(yo))return this._transitionablePaint.setTransition(u.slice(0,-11),c||void 0),!1;{const w=this._transitionablePaint._values[u],U=w.property.specification["property-type"]==="cross-faded-data-driven",K=w.value.isDataDriven(),G=w.value;this._transitionablePaint.setValue(u,c),this._handleSpecialPaintPropertyUpdate(u);const H=this._transitionablePaint._values[u].value;return H.isDataDriven()||K||U||this._handleOverridablePaintPropertyUpdate(u,G,H)}}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,c,v){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,c){u.globalState=this._globalState,u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,c)}setGlobalState(u){this._globalState=u,this._unevaluatedLayout&&this._unevaluatedLayout.setGlobalState(u)}serialize(){const u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),Ve(u,(c,v)=>!(c===void 0||v==="layout"&&!Object.keys(c).length||v==="paint"&&!Object.keys(c).length))}_validate(u,c,v,w,U={}){return(!U||U.validate!==!1)&&od(this,u.call(Fd,{key:c,layerType:this.type,objectKey:v,value:w,styleSpec:rt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const u in this.paint._values){const c=this.paint.get(u);if(c instanceof Lr&&Uu(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const ep={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ld{constructor(u,c){this._structArray=u,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,c){return u._trim(),c&&(u.isTransferred=!0,c.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){const c=Object.create(this.prototype);return c.arrayBuffer=u.arrayBuffer,c.length=u.length,c.capacity=u.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){if(u>this.capacity){this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Va(h,u=1){let c=0,v=0;return{members:h.map(w=>{const U=ep[w.type].BYTES_PER_ELEMENT,K=c=ud(c,Math.max(u,U)),G=w.components||1;return v=Math.max(v,U),c+=U*G,{name:w.name,type:w.type,components:G,offset:K}}),size:ud(c,Math.max(v,u)),alignment:u}}function ud(h,u){return Math.ceil(h/u)*u}class EA extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c){const v=this.length;return this.resize(v+1),this.emplace(v,u,c)}emplace(u,c,v){const w=2*u;return this.int16[w+0]=c,this.int16[w+1]=v,u}}EA.prototype.bytesPerElement=4,hi("StructArrayLayout2i4",EA);class jc extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v){const w=this.length;return this.resize(w+1),this.emplace(w,u,c,v)}emplace(u,c,v,w){const U=3*u;return this.int16[U+0]=c,this.int16[U+1]=v,this.int16[U+2]=w,u}}jc.prototype.bytesPerElement=6,hi("StructArrayLayout3i6",jc);class il extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v,w){const U=this.length;return this.resize(U+1),this.emplace(U,u,c,v,w)}emplace(u,c,v,w,U){const K=4*u;return this.int16[K+0]=c,this.int16[K+1]=v,this.int16[K+2]=w,this.int16[K+3]=U,u}}il.prototype.bytesPerElement=8,hi("StructArrayLayout4i8",il);class ls extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K){const G=this.length;return this.resize(G+1),this.emplace(G,u,c,v,w,U,K)}emplace(u,c,v,w,U,K,G){const H=6*u;return this.int16[H+0]=c,this.int16[H+1]=v,this.int16[H+2]=w,this.int16[H+3]=U,this.int16[H+4]=K,this.int16[H+5]=G,u}}ls.prototype.bytesPerElement=12,hi("StructArrayLayout2i4i12",ls);class yu extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K){const G=this.length;return this.resize(G+1),this.emplace(G,u,c,v,w,U,K)}emplace(u,c,v,w,U,K,G){const H=4*u,ae=8*u;return this.int16[H+0]=c,this.int16[H+1]=v,this.uint8[ae+4]=w,this.uint8[ae+5]=U,this.uint8[ae+6]=K,this.uint8[ae+7]=G,u}}yu.prototype.bytesPerElement=8,hi("StructArrayLayout2i4ub8",yu);class Nc extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,c){const v=this.length;return this.resize(v+1),this.emplace(v,u,c)}emplace(u,c,v){const w=2*u;return this.float32[w+0]=c,this.float32[w+1]=v,u}}Nc.prototype.bytesPerElement=8,hi("StructArrayLayout2f8",Nc);class vc extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K,G,H,ae,ce){const xe=this.length;return this.resize(xe+1),this.emplace(xe,u,c,v,w,U,K,G,H,ae,ce)}emplace(u,c,v,w,U,K,G,H,ae,ce,xe){const Le=10*u;return this.uint16[Le+0]=c,this.uint16[Le+1]=v,this.uint16[Le+2]=w,this.uint16[Le+3]=U,this.uint16[Le+4]=K,this.uint16[Le+5]=G,this.uint16[Le+6]=H,this.uint16[Le+7]=ae,this.uint16[Le+8]=ce,this.uint16[Le+9]=xe,u}}vc.prototype.bytesPerElement=20,hi("StructArrayLayout10ui20",vc);class Cc extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K,G,H,ae,ce,xe,Le){const qe=this.length;return this.resize(qe+1),this.emplace(qe,u,c,v,w,U,K,G,H,ae,ce,xe,Le)}emplace(u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe){const $e=12*u;return this.int16[$e+0]=c,this.int16[$e+1]=v,this.int16[$e+2]=w,this.int16[$e+3]=U,this.uint16[$e+4]=K,this.uint16[$e+5]=G,this.uint16[$e+6]=H,this.uint16[$e+7]=ae,this.int16[$e+8]=ce,this.int16[$e+9]=xe,this.int16[$e+10]=Le,this.int16[$e+11]=qe,u}}Cc.prototype.bytesPerElement=24,hi("StructArrayLayout4i4ui4i24",Cc);class Jl extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,c,v){const w=this.length;return this.resize(w+1),this.emplace(w,u,c,v)}emplace(u,c,v,w){const U=3*u;return this.float32[U+0]=c,this.float32[U+1]=v,this.float32[U+2]=w,u}}Jl.prototype.bytesPerElement=12,hi("StructArrayLayout3f12",Jl);class Ad extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){const c=this.length;return this.resize(c+1),this.emplace(c,u)}emplace(u,c){return this.uint32[1*u+0]=c,u}}Ad.prototype.bytesPerElement=4,hi("StructArrayLayout1ul4",Ad);class cd extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K,G,H,ae){const ce=this.length;return this.resize(ce+1),this.emplace(ce,u,c,v,w,U,K,G,H,ae)}emplace(u,c,v,w,U,K,G,H,ae,ce){const xe=10*u,Le=5*u;return this.int16[xe+0]=c,this.int16[xe+1]=v,this.int16[xe+2]=w,this.int16[xe+3]=U,this.int16[xe+4]=K,this.int16[xe+5]=G,this.uint32[Le+3]=H,this.uint16[xe+8]=ae,this.uint16[xe+9]=ce,u}}cd.prototype.bytesPerElement=20,hi("StructArrayLayout6i1ul2ui20",cd);class zd extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K){const G=this.length;return this.resize(G+1),this.emplace(G,u,c,v,w,U,K)}emplace(u,c,v,w,U,K,G){const H=6*u;return this.int16[H+0]=c,this.int16[H+1]=v,this.int16[H+2]=w,this.int16[H+3]=U,this.int16[H+4]=K,this.int16[H+5]=G,u}}zd.prototype.bytesPerElement=12,hi("StructArrayLayout2i2i2i12",zd);class k extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U){const K=this.length;return this.resize(K+1),this.emplace(K,u,c,v,w,U)}emplace(u,c,v,w,U,K){const G=4*u,H=8*u;return this.float32[G+0]=c,this.float32[G+1]=v,this.float32[G+2]=w,this.int16[H+6]=U,this.int16[H+7]=K,u}}k.prototype.bytesPerElement=16,hi("StructArrayLayout2f1f2i16",k);class l extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K){const G=this.length;return this.resize(G+1),this.emplace(G,u,c,v,w,U,K)}emplace(u,c,v,w,U,K,G){const H=16*u,ae=4*u,ce=8*u;return this.uint8[H+0]=c,this.uint8[H+1]=v,this.float32[ae+1]=w,this.float32[ae+2]=U,this.int16[ce+6]=K,this.int16[ce+7]=G,u}}l.prototype.bytesPerElement=16,hi("StructArrayLayout2ub2f2i16",l);class f extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,c,v){const w=this.length;return this.resize(w+1),this.emplace(w,u,c,v)}emplace(u,c,v,w){const U=3*u;return this.uint16[U+0]=c,this.uint16[U+1]=v,this.uint16[U+2]=w,u}}f.prototype.bytesPerElement=6,hi("StructArrayLayout3ui6",f);class b extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt){const qt=this.length;return this.resize(qt+1),this.emplace(qt,u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt)}emplace(u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt,qt){const Dt=24*u,Nt=12*u,un=48*u;return this.int16[Dt+0]=c,this.int16[Dt+1]=v,this.uint16[Dt+2]=w,this.uint16[Dt+3]=U,this.uint32[Nt+2]=K,this.uint32[Nt+3]=G,this.uint32[Nt+4]=H,this.uint16[Dt+10]=ae,this.uint16[Dt+11]=ce,this.uint16[Dt+12]=xe,this.float32[Nt+7]=Le,this.float32[Nt+8]=qe,this.uint8[un+36]=$e,this.uint8[un+37]=nt,this.uint8[un+38]=ct,this.uint32[Nt+10]=wt,this.int16[Dt+22]=qt,u}}b.prototype.bytesPerElement=48,hi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",b);class S extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt,qt,Dt,Nt,un,_n,Kn,mi,si,fi,rr,Ai){const pi=this.length;return this.resize(pi+1),this.emplace(pi,u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt,qt,Dt,Nt,un,_n,Kn,mi,si,fi,rr,Ai)}emplace(u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt,qt,Dt,Nt,un,_n,Kn,mi,si,fi,rr,Ai,pi){const In=32*u,gr=16*u;return this.int16[In+0]=c,this.int16[In+1]=v,this.int16[In+2]=w,this.int16[In+3]=U,this.int16[In+4]=K,this.int16[In+5]=G,this.int16[In+6]=H,this.int16[In+7]=ae,this.uint16[In+8]=ce,this.uint16[In+9]=xe,this.uint16[In+10]=Le,this.uint16[In+11]=qe,this.uint16[In+12]=$e,this.uint16[In+13]=nt,this.uint16[In+14]=ct,this.uint16[In+15]=wt,this.uint16[In+16]=qt,this.uint16[In+17]=Dt,this.uint16[In+18]=Nt,this.uint16[In+19]=un,this.uint16[In+20]=_n,this.uint16[In+21]=Kn,this.uint16[In+22]=mi,this.uint32[gr+12]=si,this.float32[gr+13]=fi,this.float32[gr+14]=rr,this.uint16[In+30]=Ai,this.uint16[In+31]=pi,u}}S.prototype.bytesPerElement=64,hi("StructArrayLayout8i15ui1ul2f2ui64",S);class R extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){const c=this.length;return this.resize(c+1),this.emplace(c,u)}emplace(u,c){return this.float32[1*u+0]=c,u}}R.prototype.bytesPerElement=4,hi("StructArrayLayout1f4",R);class j extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,c,v){const w=this.length;return this.resize(w+1),this.emplace(w,u,c,v)}emplace(u,c,v,w){const U=3*u;return this.uint16[6*u+0]=c,this.float32[U+1]=v,this.float32[U+2]=w,u}}j.prototype.bytesPerElement=12,hi("StructArrayLayout1ui2f12",j);class q extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,c,v){const w=this.length;return this.resize(w+1),this.emplace(w,u,c,v)}emplace(u,c,v,w){const U=4*u;return this.uint32[2*u+0]=c,this.uint16[U+2]=v,this.uint16[U+3]=w,u}}q.prototype.bytesPerElement=8,hi("StructArrayLayout1ul2ui8",q);class te extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,c){const v=this.length;return this.resize(v+1),this.emplace(v,u,c)}emplace(u,c,v){const w=2*u;return this.uint16[w+0]=c,this.uint16[w+1]=v,u}}te.prototype.bytesPerElement=4,hi("StructArrayLayout2ui4",te);class fe extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){const c=this.length;return this.resize(c+1),this.emplace(c,u)}emplace(u,c){return this.uint16[1*u+0]=c,u}}fe.prototype.bytesPerElement=2,hi("StructArrayLayout1ui2",fe);class ye extends zo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,c,v,w){const U=this.length;return this.resize(U+1),this.emplace(U,u,c,v,w)}emplace(u,c,v,w,U){const K=4*u;return this.float32[K+0]=c,this.float32[K+1]=v,this.float32[K+2]=w,this.float32[K+3]=U,u}}ye.prototype.bytesPerElement=16,hi("StructArrayLayout4f16",ye);class Oe extends ld{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new p(this.anchorPointX,this.anchorPointY)}}Oe.prototype.size=20;class Ee extends cd{get(u){return new Oe(this,u)}}hi("CollisionBoxArray",Ee);class Ne extends ld{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ne.prototype.size=48;class Je extends b{get(u){return new Ne(this,u)}}hi("PlacedSymbolArray",Je);class ut extends ld{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ut.prototype.size=64;class ht extends S{get(u){return new ut(this,u)}}hi("SymbolInstanceArray",ht);class ft extends R{getoffsetX(u){return this.float32[1*u+0]}}hi("GlyphOffsetArray",ft);class Mt extends jc{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}hi("SymbolLineVertexArray",Mt);class Ct extends ld{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ct.prototype.size=12;class St extends j{get(u){return new Ct(this,u)}}hi("TextAnchorOffsetArray",St);class Pt extends ld{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Pt.prototype.size=8;class zt extends q{get(u){return new Pt(this,u)}}hi("FeatureIndexArray",zt);class Ot extends EA{}class Ht extends EA{}class fn extends EA{}class Jt extends ls{}class rn extends yu{}class An extends Nc{}class $n extends vc{}class Yn extends Cc{}class kn extends Jl{}class wi extends Ad{}class fr extends zd{}class xo extends l{}class fa extends f{}class jo extends te{}const ja=Va([{name:"a_pos",components:2,type:"Int16"}],4),{members:pa}=ja;class Tr{constructor(u=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=u}prepareSegment(u,c,v,w){const U=this.segments[this.segments.length-1];return u>Tr.MAX_VERTEX_ARRAY_LENGTH&&It(`Max vertices per segment is ${Tr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${u}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Tr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!U||U.vertexLength+u>Tr.MAX_VERTEX_ARRAY_LENGTH||U.sortKey!==w?this.createNewSegment(c,v,w):U}createNewSegment(u,c,v){const w={vertexOffset:u.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0,vaos:{}};return v!==void 0&&(w.sortKey=v),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(w),w}getOrCreateLatestSegment(u,c,v){return this.prepareSegment(0,u,c,v)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const u of this.segments)for(const c in u.vaos)u.vaos[c].destroy()}static simpleSegment(u,c,v,w){return new Tr([{vertexOffset:u,primitiveOffset:c,vertexLength:v,primitiveLength:w,vaos:{},sortKey:0}])}}function Ho(h,u){return 256*(h=xt(Math.floor(h),0,255))+xt(Math.floor(u),0,255)}Tr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hi("SegmentVector",Tr);const us=Va([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var $a,Ds,Rs,JA={exports:{}},_c={exports:{}},eu={exports:{}},Lh=function(){if(Rs)return JA.exports;Rs=1;var h=($a||($a=1,_c.exports=function(c,v){var w,U,K,G,H,ae,ce,xe;for(U=c.length-(w=3&c.length),K=v,H=3432918353,ae=461845907,xe=0;xe<U;)ce=255&c.charCodeAt(xe)|(255&c.charCodeAt(++xe))<<8|(255&c.charCodeAt(++xe))<<16|(255&c.charCodeAt(++xe))<<24,++xe,K=27492+(65535&(G=5*(65535&(K=(K^=ce=(65535&(ce=(ce=(65535&ce)*H+(((ce>>>16)*H&65535)<<16)&4294967295)<<15|ce>>>17))*ae+(((ce>>>16)*ae&65535)<<16)&4294967295)<<13|K>>>19))+((5*(K>>>16)&65535)<<16)&4294967295))+((58964+(G>>>16)&65535)<<16);switch(ce=0,w){case 3:ce^=(255&c.charCodeAt(xe+2))<<16;case 2:ce^=(255&c.charCodeAt(xe+1))<<8;case 1:K^=ce=(65535&(ce=(ce=(65535&(ce^=255&c.charCodeAt(xe)))*H+(((ce>>>16)*H&65535)<<16)&4294967295)<<15|ce>>>17))*ae+(((ce>>>16)*ae&65535)<<16)&4294967295}return K^=c.length,K=2246822507*(65535&(K^=K>>>16))+((2246822507*(K>>>16)&65535)<<16)&4294967295,K=3266489909*(65535&(K^=K>>>13))+((3266489909*(K>>>16)&65535)<<16)&4294967295,(K^=K>>>16)>>>0}),_c.exports),u=(Ds||(Ds=1,eu.exports=function(c,v){for(var w,U=c.length,K=v^U,G=0;U>=4;)w=1540483477*(65535&(w=255&c.charCodeAt(G)|(255&c.charCodeAt(++G))<<8|(255&c.charCodeAt(++G))<<16|(255&c.charCodeAt(++G))<<24))+((1540483477*(w>>>16)&65535)<<16),K=1540483477*(65535&K)+((1540483477*(K>>>16)&65535)<<16)^(w=1540483477*(65535&(w^=w>>>24))+((1540483477*(w>>>16)&65535)<<16)),U-=4,++G;switch(U){case 3:K^=(255&c.charCodeAt(G+2))<<16;case 2:K^=(255&c.charCodeAt(G+1))<<8;case 1:K=1540483477*(65535&(K^=255&c.charCodeAt(G)))+((1540483477*(K>>>16)&65535)<<16)}return K=1540483477*(65535&(K^=K>>>13))+((1540483477*(K>>>16)&65535)<<16),(K^=K>>>15)>>>0}),eu.exports);return JA.exports=h,JA.exports.murmur3=h,JA.exports.murmur2=u,JA.exports}(),hh=g(Lh);class ec{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,c,v,w){this.ids.push(Gc(u)),this.positions.push(c,v,w)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=Gc(u);let v=0,w=this.ids.length-1;for(;v<w;){const K=v+w>>1;this.ids[K]>=c?w=K:v=K+1}const U=[];for(;this.ids[v]===c;)U.push({index:this.positions[3*v],start:this.positions[3*v+1],end:this.positions[3*v+2]}),v++;return U}static serialize(u,c){const v=new Float64Array(u.ids),w=new Uint32Array(u.positions);return El(v,w,0,v.length-1),c&&c.push(v.buffer,w.buffer),{ids:v,positions:w}}static deserialize(u){const c=new ec;return c.ids=u.ids,c.positions=u.positions,c.indexed=!0,c}}function Gc(h){const u=+h;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:hh(String(h))}function El(h,u,c,v){for(;c<v;){const w=h[c+v>>1];let U=c-1,K=v+1;for(;;){do U++;while(h[U]<w);do K--;while(h[K]>w);if(U>=K)break;tc(h,U,K),tc(u,3*U,3*K),tc(u,3*U+1,3*K+1),tc(u,3*U+2,3*K+2)}K-c<v-K?(El(h,u,c,K),c=K+1):(El(h,u,K+1,v),v=K)}}function tc(h,u,c){const v=h[u];h[u]=h[c],h[c]=v}hi("FeaturePositionMap",ec);class Bl{constructor(u,c){this.gl=u.gl,this.location=c}}class Wc extends Bl{constructor(u,c){super(u,c),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class Mo extends Bl{constructor(u,c){super(u,c),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class ia extends Bl{constructor(u,c){super(u,c),this.current=Sr.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const vu=new Float32Array(16);function xs(h){return[Ho(255*h.r,255*h.g),Ho(255*h.b,255*h.a)]}class BA{constructor(u,c,v){this.value=u,this.uniformNames=c.map(w=>`u_${w}`),this.type=v}setUniform(u,c,v){u.set(v.constantOr(this.value))}getBinding(u,c,v){return this.type==="color"?new ia(u,c):new Wc(u,c)}}class Cu{constructor(u,c){this.uniformNames=c.map(v=>`u_${v}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=u.tlbr}setUniform(u,c,v,w){const U=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;U&&u.set(U)}getBinding(u,c,v){return v.substr(0,9)==="u_pattern"?new Mo(u,c):new Wc(u,c)}}class Nu{constructor(u,c,v,w){this.expression=u,this.type=v,this.maxValue=0,this.paintVertexAttributes=c.map(U=>({name:`a_${U}`,type:"Float32",components:v==="color"?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(u,c,v){const w=this.paintVertexArray.length,U=this.expression.evaluate(new Lo(0,v),c,{},v.canonical,[],v.formattedSection);this.paintVertexArray.resize(u),this._setPaintValue(w,u,U)}updatePaintArray(u,c,v,w,U){const K=this.expression.evaluate(new Lo(0,U),v,w);this._setPaintValue(u,c,K)}_setPaintValue(u,c,v){if(this.type==="color"){const w=xs(v);for(let U=u;U<c;U++)this.paintVertexArray.emplace(U,w[0],w[1])}else{for(let w=u;w<c;w++)this.paintVertexArray.emplace(w,v);this.maxValue=Math.max(this.maxValue,Math.abs(v))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class tu{constructor(u,c,v,w,U,K){this.expression=u,this.uniformNames=c.map(G=>`u_${G}_t`),this.type=v,this.useIntegerZoom=w,this.zoom=U,this.maxValue=0,this.paintVertexAttributes=c.map(G=>({name:`a_${G}`,type:"Float32",components:v==="color"?4:2,offset:0})),this.paintVertexArray=new K}populatePaintArray(u,c,v){const w=this.expression.evaluate(new Lo(this.zoom,v),c,{},v.canonical,[],v.formattedSection),U=this.expression.evaluate(new Lo(this.zoom+1,v),c,{},v.canonical,[],v.formattedSection),K=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(K,u,w,U)}updatePaintArray(u,c,v,w,U){const K=this.expression.evaluate(new Lo(this.zoom,U),v,w),G=this.expression.evaluate(new Lo(this.zoom+1,U),v,w);this._setPaintValue(u,c,K,G)}_setPaintValue(u,c,v,w){if(this.type==="color"){const U=xs(v),K=xs(w);for(let G=u;G<c;G++)this.paintVertexArray.emplace(G,U[0],U[1],K[0],K[1])}else{for(let U=u;U<c;U++)this.paintVertexArray.emplace(U,v,w);this.maxValue=Math.max(this.maxValue,Math.abs(v),Math.abs(w))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,c){const v=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,w=xt(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);u.set(w)}getBinding(u,c,v){return new Wc(u,c)}}class Qc{constructor(u,c,v,w,U,K){this.expression=u,this.type=c,this.useIntegerZoom=v,this.zoom=w,this.layerId=K,this.zoomInPaintVertexArray=new U,this.zoomOutPaintVertexArray=new U}populatePaintArray(u,c,v){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(w,u,c.patterns&&c.patterns[this.layerId],v.imagePositions)}updatePaintArray(u,c,v,w,U){this._setPaintValues(u,c,v.patterns&&v.patterns[this.layerId],U.imagePositions)}_setPaintValues(u,c,v,w){if(!w||!v)return;const{min:U,mid:K,max:G}=v,H=w[U],ae=w[K],ce=w[G];if(H&&ae&&ce)for(let xe=u;xe<c;xe++)this.zoomInPaintVertexArray.emplace(xe,ae.tl[0],ae.tl[1],ae.br[0],ae.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],ae.pixelRatio,H.pixelRatio),this.zoomOutPaintVertexArray.emplace(xe,ae.tl[0],ae.tl[1],ae.br[0],ae.br[1],ce.tl[0],ce.tl[1],ce.br[0],ce.br[1],ae.pixelRatio,ce.pixelRatio)}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,us.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,us.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class uA{constructor(u,c,v){this.binders={},this._buffers=[];const w=[];for(const U in u.paint._values){if(!v(U))continue;const K=u.paint.get(U);if(!(K instanceof Lr&&Uu(K.property.specification)))continue;const G=OA(U,u.type),H=K.value,ae=K.property.specification.type,ce=K.property.useIntegerZoom,xe=K.property.specification["property-type"],Le=xe==="cross-faded"||xe==="cross-faded-data-driven";if(H.kind==="constant")this.binders[U]=Le?new Cu(H.value,G):new BA(H.value,G,ae),w.push(`/u_${U}`);else if(H.kind==="source"||Le){const qe=tp(U,ae,"source");this.binders[U]=Le?new Qc(H,ae,ce,c,qe,u.id):new Nu(H,G,ae,qe),w.push(`/a_${U}`)}else{const qe=tp(U,ae,"composite");this.binders[U]=new tu(H,G,ae,ce,c,qe),w.push(`/z_${U}`)}}this.cacheKey=w.sort().join("")}getMaxValue(u){const c=this.binders[u];return c instanceof Nu||c instanceof tu?c.maxValue:0}populatePaintArrays(u,c,v){for(const w in this.binders){const U=this.binders[w];(U instanceof Nu||U instanceof tu||U instanceof Qc)&&U.populatePaintArray(u,c,v)}}setConstantPatternPositions(u,c){for(const v in this.binders){const w=this.binders[v];w instanceof Cu&&w.setConstantPatternPositions(u,c)}}updatePaintArrays(u,c,v,w,U){let K=!1;for(const G in u){const H=c.getPositions(G);for(const ae of H){const ce=v.feature(ae.index);for(const xe in this.binders){const Le=this.binders[xe];if((Le instanceof Nu||Le instanceof tu||Le instanceof Qc)&&Le.expression.isStateDependent===!0){const qe=w.paint.get(xe);Le.expression=qe.value,Le.updatePaintArray(ae.start,ae.end,ce,u[G],U),K=!0}}}}return K}defines(){const u=[];for(const c in this.binders){const v=this.binders[c];(v instanceof BA||v instanceof Cu)&&u.push(...v.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return u}getBinderAttributes(){const u=[];for(const c in this.binders){const v=this.binders[c];if(v instanceof Nu||v instanceof tu)for(let w=0;w<v.paintVertexAttributes.length;w++)u.push(v.paintVertexAttributes[w].name);else if(v instanceof Qc)for(let w=0;w<us.members.length;w++)u.push(us.members[w].name)}return u}getBinderUniforms(){const u=[];for(const c in this.binders){const v=this.binders[c];if(v instanceof BA||v instanceof Cu||v instanceof tu)for(const w of v.uniformNames)u.push(w)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,c){const v=[];for(const w in this.binders){const U=this.binders[w];if(U instanceof BA||U instanceof Cu||U instanceof tu){for(const K of U.uniformNames)if(c[K]){const G=U.getBinding(u,c[K],K);v.push({name:K,property:w,binding:G})}}}return v}setUniforms(u,c,v,w){for(const{name:U,property:K,binding:G}of c)this.binders[K].setUniform(G,w,v.get(K),U)}updatePaintBuffers(u){this._buffers=[];for(const c in this.binders){const v=this.binders[c];if(u&&v instanceof Qc){const w=u.fromScale===2?v.zoomInPaintVertexBuffer:v.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(v instanceof Nu||v instanceof tu)&&v.paintVertexBuffer&&this._buffers.push(v.paintVertexBuffer)}}upload(u){for(const c in this.binders){const v=this.binders[c];(v instanceof Nu||v instanceof tu||v instanceof Qc)&&v.upload(u)}this.updatePaintBuffers()}destroy(){for(const u in this.binders){const c=this.binders[u];(c instanceof Nu||c instanceof tu||c instanceof Qc)&&c.destroy()}}}class Za{constructor(u,c,v=()=>!0){this.programConfigurations={};for(const w of u)this.programConfigurations[w.id]=new uA(w,c,v);this.needsUpload=!1,this._featureMap=new ec,this._bufferOffset=0}populatePaintArrays(u,c,v,w){for(const U in this.programConfigurations)this.programConfigurations[U].populatePaintArrays(u,c,w);c.id!==void 0&&this._featureMap.add(c.id,v,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,c,v,w){for(const U of v)this.needsUpload=this.programConfigurations[U.id].updatePaintArrays(u,this._featureMap,c,U,w)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function OA(h,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[h]||[h.replace(`${u}-`,"").replace(/-/g,"_")]}function tp(h,u,c){const v={color:{source:Nc,composite:ye},number:{source:R,composite:Nc}},w=function(U){return{"line-pattern":{source:$n,composite:$n},"fill-pattern":{source:$n,composite:$n},"fill-extrusion-pattern":{source:$n,composite:$n}}[U]}(h);return w&&w[c]||v[u][c]}hi("ConstantBinder",BA),hi("CrossFadedConstantBinder",Cu),hi("SourceExpressionBinder",Nu),hi("CrossFadedCompositeBinder",Qc),hi("CompositeExpressionBinder",tu),hi("ProgramConfiguration",uA,{omit:["_buffers"]}),hi("ProgramConfigurationSet",Za);const IA=Math.pow(2,14)-1,TA=-IA-1;function Ta(h){const u=it/h.extent,c=h.loadGeometry();for(let v=0;v<c.length;v++){const w=c[v];for(let U=0;U<w.length;U++){const K=w[U],G=Math.round(K.x*u),H=Math.round(K.y*u);K.x=xt(G,TA,IA),K.y=xt(H,TA,IA),(G<K.x||G>K.x+1||H<K.y||H>K.y+1)&&It("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function AA(h,u){return{type:h.type,id:h.id,properties:h.properties,geometry:u?Ta(h):[]}}const hd=-32768;function np(h,u,c,v,w){h.emplaceBack(hd+8*u+v,hd+8*c+w)}class yf{constructor(u){this.zoom=u.zoom,this.globalState=u.globalState,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(c=>c.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Ht,this.indexArray=new fa,this.segments=new Tr,this.programConfigurations=new Za(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(u,c,v){const w=this.layers[0],U=[];let K=null,G=!1,H=w.type==="heatmap";if(w.type==="circle"){const ce=w;K=ce.layout.get("circle-sort-key"),G=!K.isConstant(),H=H||ce.paint.get("circle-pitch-alignment")==="map"}const ae=H?c.subdivisionGranularity.circle:1;for(const{feature:ce,id:xe,index:Le,sourceLayerIndex:qe}of u){const $e=this.layers[0]._featureFilter.needGeometry,nt=AA(ce,$e);if(!this.layers[0]._featureFilter.filter(new Lo(this.zoom,{globalState:this.globalState}),nt,v))continue;const ct=G?K.evaluate(nt,{},v):void 0,wt={id:xe,properties:ce.properties,type:ce.type,sourceLayerIndex:qe,index:Le,geometry:$e?nt.geometry:Ta(ce),patterns:{},sortKey:ct};U.push(wt)}G&&U.sort((ce,xe)=>ce.sortKey-xe.sortKey);for(const ce of U){const{geometry:xe,index:Le,sourceLayerIndex:qe}=ce,$e=u[Le].feature;this.addFeature(ce,xe,Le,v,ae),c.featureIndex.insert($e,xe,Le,qe,this.index)}}update(u,c,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,c,this.stateDependentLayers,{imagePositions:v,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,pa),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,c,v,w,U=1){let K;switch(U){case 1:K=[0,7];break;case 3:K=[0,2,5,7];break;case 5:K=[0,1,3,4,6,7];break;case 7:K=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${U}; valid values are 1, 3, 5, 7.`)}const G=K.length;for(const H of c)for(const ae of H){const ce=ae.x,xe=ae.y;if(ce<0||ce>=it||xe<0||xe>=it)continue;const Le=this.segments.prepareSegment(G*G,this.layoutVertexArray,this.indexArray,u.sortKey),qe=Le.vertexLength;for(let $e=0;$e<G;$e++)for(let nt=0;nt<G;nt++)np(this.layoutVertexArray,ce,xe,K[nt],K[$e]);for(let $e=0;$e<G-1;$e++)for(let nt=0;nt<G-1;nt++){const ct=qe+$e*G+nt,wt=qe+($e+1)*G+nt;this.indexArray.emplaceBack(ct,wt+1,ct+1),this.indexArray.emplaceBack(ct,wt,wt+1)}Le.vertexLength+=G*G,Le.primitiveLength+=(G-1)*(G-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,{imagePositions:{},canonical:w,globalState:this.globalState})}}function Im(h,u){for(let c=0;c<h.length;c++)if(Fh(u,h[c]))return!0;for(let c=0;c<u.length;c++)if(Fh(h,u[c]))return!0;return!!rp(h,u)}function bc(h,u,c){return!!Fh(h,u)||!!vf(u,h,c)}function dd(h,u){if(h.length===1)return Gp(u,h[0]);for(let c=0;c<u.length;c++){const v=u[c];for(let w=0;w<v.length;w++)if(Fh(h,v[w]))return!0}for(let c=0;c<h.length;c++)if(Gp(u,h[c]))return!0;for(let c=0;c<u.length;c++)if(rp(h,u[c]))return!0;return!1}function ip(h,u,c){if(h.length>1){if(rp(h,u))return!0;for(let v=0;v<u.length;v++)if(vf(u[v],h,c))return!0}for(let v=0;v<h.length;v++)if(vf(h[v],u,c))return!0;return!1}function rp(h,u){if(h.length===0||u.length===0)return!1;for(let c=0;c<h.length-1;c++){const v=h[c],w=h[c+1];for(let U=0;U<u.length-1;U++)if(ug(v,w,u[U],u[U+1]))return!0}return!1}function ug(h,u,c,v){return Yt(h,c,v)!==Yt(u,c,v)&&Yt(h,u,c)!==Yt(h,u,v)}function vf(h,u,c){const v=c*c;if(u.length===1)return h.distSqr(u[0])<v;for(let w=1;w<u.length;w++)if(ra(h,u[w-1],u[w])<v)return!0;return!1}function ra(h,u,c){const v=u.distSqr(c);if(v===0)return h.distSqr(u);const w=((h.x-u.x)*(c.x-u.x)+(h.y-u.y)*(c.y-u.y))/v;return h.distSqr(w<0?u:w>1?c:c.sub(u)._mult(w)._add(u))}function Gp(h,u){let c,v,w,U=!1;for(let K=0;K<h.length;K++){c=h[K];for(let G=0,H=c.length-1;G<c.length;H=G++)v=c[G],w=c[H],v.y>u.y!=w.y>u.y&&u.x<(w.x-v.x)*(u.y-v.y)/(w.y-v.y)+v.x&&(U=!U)}return U}function Fh(h,u){let c=!1;for(let v=0,w=h.length-1;v<h.length;w=v++){const U=h[v],K=h[w];U.y>u.y!=K.y>u.y&&u.x<(K.x-U.x)*(u.y-U.y)/(K.y-U.y)+U.x&&(c=!c)}return c}function op(h,u,c){const v=c[0],w=c[2];if(h.x<v.x&&u.x<v.x||h.x>w.x&&u.x>w.x||h.y<v.y&&u.y<v.y||h.y>w.y&&u.y>w.y)return!1;const U=Yt(h,u,c[0]);return U!==Yt(h,u,c[1])||U!==Yt(h,u,c[2])||U!==Yt(h,u,c[3])}function cA(h,u,c){const v=u.paint.get(h).value;return v.kind==="constant"?v.value:c.programConfigurations.get(u.id).getMaxValue(h)}function jd(h){return Math.sqrt(h[0]*h[0]+h[1]*h[1])}function rl(h,u,c,v,w){if(!u[0]&&!u[1])return h;const U=p.convert(u)._mult(w);c==="viewport"&&U._rotate(-v);const K=[];for(let G=0;G<h.length;G++)K.push(h[G].sub(U));return K}let ms,ap;hi("CircleBucket",yf,{omit:["layers"]});var Wp={get paint(){return ap=ap||new da({"circle-radius":new Ri(rt.paint_circle["circle-radius"]),"circle-color":new Ri(rt.paint_circle["circle-color"]),"circle-blur":new Ri(rt.paint_circle["circle-blur"]),"circle-opacity":new Ri(rt.paint_circle["circle-opacity"]),"circle-translate":new ki(rt.paint_circle["circle-translate"]),"circle-translate-anchor":new ki(rt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ki(rt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ki(rt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ri(rt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ri(rt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ri(rt.paint_circle["circle-stroke-opacity"])})},get layout(){return ms=ms||new da({"circle-sort-key":new Ri(rt.layout_circle["circle-sort-key"])})}};class sp extends Xl{constructor(u){super(u,Wp)}createBucket(u){return new yf(u)}queryRadius(u){const c=u;return cA("circle-radius",this,c)+cA("circle-stroke-width",this,c)+jd(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:u,feature:c,featureState:v,geometry:w,transform:U,pixelsToTileUnits:K,unwrappedTileID:G,getElevation:H}){const ae=rl(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-U.bearingInRadians,K),ce=this.paint.get("circle-radius").evaluate(c,v)+this.paint.get("circle-stroke-width").evaluate(c,v),xe=this.paint.get("circle-pitch-alignment")==="map",Le=xe?ae:function($e,nt,ct,wt){return $e.map(qt=>Cf(qt,nt,ct,wt))}(ae,U,G,H),qe=xe?ce*K:ce;for(const $e of w)for(const nt of $e){const ct=xe?nt:Cf(nt,U,G,H);let wt=qe;const qt=U.projectTileCoordinates(nt.x,nt.y,G,H).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?wt*=qt/U.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(wt*=U.cameraToCenterDistance/qt),bc(Le,ct,wt))return!0}return!1}}function Cf(h,u,c,v){const w=u.projectTileCoordinates(h.x,h.y,c,v).point;return new p((.5*w.x+.5)*u.width,(.5*-w.y+.5)*u.height)}class Nd extends yf{}let yr;hi("HeatmapBucket",Nd,{omit:["layers"]});var _f={get paint(){return yr=yr||new da({"heatmap-radius":new Ri(rt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ri(rt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ki(rt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gu(rt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ki(rt.paint_heatmap["heatmap-opacity"])})}};function oa(h,{width:u,height:c},v,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==u*c*v)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${u*c*v}`)}else w=new Uint8Array(u*c*v);return h.width=u,h.height=c,h.data=w,h}function zh(h,{width:u,height:c},v){if(u===h.width&&c===h.height)return;const w=oa({},{width:u,height:c},v);Tm(h,w,{x:0,y:0},{x:0,y:0},{width:Math.min(h.width,u),height:Math.min(h.height,c)},v),h.width=u,h.height=c,h.data=w.data}function Tm(h,u,c,v,w,U){if(w.width===0||w.height===0)return u;if(w.width>h.width||w.height>h.height||c.x>h.width-w.width||c.y>h.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>u.width||w.height>u.height||v.x>u.width-w.width||v.y>u.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const K=h.data,G=u.data;if(K===G)throw new Error("srcData equals dstData, so image is already copied");for(let H=0;H<w.height;H++){const ae=((c.y+H)*h.width+c.x)*U,ce=((v.y+H)*u.width+v.x)*U;for(let xe=0;xe<w.width*U;xe++)G[ce+xe]=K[ae+xe]}return u}class nc{constructor(u,c){oa(this,u,1,c)}resize(u){zh(this,u,1)}clone(){return new nc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,c,v,w,U){Tm(u,c,v,w,U,1)}}class _u{constructor(u,c){oa(this,u,4,c)}resize(u){zh(this,u,4)}replace(u,c){c?this.data.set(u):this.data=u instanceof Uint8ClampedArray?new Uint8Array(u.buffer):u}clone(){return new _u({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,c,v,w,U){Tm(u,c,v,w,U,4)}setPixel(u,c,v){const w=4*(u*this.width+c);this.data[w+0]=Math.round(255*v.r/v.a),this.data[w+1]=Math.round(255*v.g/v.a),this.data[w+2]=Math.round(255*v.b/v.a),this.data[w+3]=Math.round(255*v.a)}}function cl(h){const u={},c=h.resolution||256,v=h.clips?h.clips.length:1,w=h.image||new _u({width:c,height:v});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const U=(K,G,H)=>{u[h.evaluationKey]=H;const ae=h.expression.evaluate(u);w.setPixel(K/4/c,G/4,ae)};if(h.clips)for(let K=0,G=0;K<v;++K,G+=4*c)for(let H=0,ae=0;H<c;H++,ae+=4){const ce=H/(c-1),{start:xe,end:Le}=h.clips[K];U(G,ae,xe*(1-ce)+Le*ce)}else for(let K=0,G=0;K<c;K++,G+=4)U(0,G,K/(c-1));return w}hi("AlphaImage",nc),hi("RGBAImage",_u);const km="big-fb";class qs extends Xl{createBucket(u){return new Nd(u)}constructor(u){super(u,_f),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=cl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(km)&&this.heatmapFbos.delete(km)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let lp;var x0={get paint(){return lp=lp||new da({"hillshade-illumination-direction":new ki(rt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new ki(rt.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new ki(rt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ki(rt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ki(rt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ki(rt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ki(rt.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new ki(rt.paint_hillshade["hillshade-method"])})}};class M0 extends Xl{constructor(u){super(u,x0),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let u=this.paint.get("hillshade-illumination-direction").values,c=this.paint.get("hillshade-illumination-altitude").values,v=this.paint.get("hillshade-highlight-color").values,w=this.paint.get("hillshade-shadow-color").values;const U=Math.max(u.length,c.length,v.length,w.length);u=u.concat(Array(U-u.length).fill(u.at(-1))),c=c.concat(Array(U-c.length).fill(c.at(-1))),v=v.concat(Array(U-v.length).fill(v.at(-1))),w=w.concat(Array(U-w.length).fill(w.at(-1)));const K=c.map(Oi);return{directionRadians:u.map(Oi),altitudeRadians:K,shadowColor:w,highlightColor:v}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let bf;var d={get paint(){return bf=bf||new da({"color-relief-opacity":new ki(rt["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new gu(rt["paint_color-relief"]["color-relief-color"])})}};class C{constructor(u,c,v,w){this.context=u,this.format=v,this.texture=u.gl.createTexture(),this.update(c,w)}update(u,c,v){const{width:w,height:U}=u,K=!(this.size&&this.size[0]===w&&this.size[1]===U||v),{context:G}=this,{gl:H}=G;if(this.useMipmap=!!(c&&c.useMipmap),H.bindTexture(H.TEXTURE_2D,this.texture),G.pixelStoreUnpackFlipY.set(!1),G.pixelStoreUnpack.set(1),G.pixelStoreUnpackPremultiplyAlpha.set(this.format===H.RGBA&&(!c||c.premultiply!==!1)),K)this.size=[w,U],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||Hn(u)?H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,H.UNSIGNED_BYTE,u):H.texImage2D(H.TEXTURE_2D,0,this.format,w,U,0,this.format,H.UNSIGNED_BYTE,u.data);else{const{x:ae,y:ce}=v||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||Hn(u)?H.texSubImage2D(H.TEXTURE_2D,0,ae,ce,H.RGBA,H.UNSIGNED_BYTE,u):H.texSubImage2D(H.TEXTURE_2D,0,ae,ce,w,U,H.RGBA,H.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&H.generateMipmap(H.TEXTURE_2D),G.pixelStoreUnpackFlipY.setDefault(),G.pixelStoreUnpack.setDefault(),G.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(u,c,v){const{context:w}=this,{gl:U}=w;U.bindTexture(U.TEXTURE_2D,this.texture),v!==U.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=U.LINEAR),u!==this.filter&&(U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,u),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,v||u),this.filter=u),c!==this.wrap&&(U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,c),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}class T{constructor(u,c,v,w=1,U=1,K=1,G=0){if(this.uid=u,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(v&&!["mapbox","terrarium","custom"].includes(v))return void It(`"${v}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const H=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),v){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=w,this.greenFactor=U,this.blueFactor=K,this.baseShift=G;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let ae=0;ae<H;ae++)this.data[this._idx(-1,ae)]=this.data[this._idx(0,ae)],this.data[this._idx(H,ae)]=this.data[this._idx(H-1,ae)],this.data[this._idx(ae,-1)]=this.data[this._idx(ae,0)],this.data[this._idx(ae,H)]=this.data[this._idx(ae,H-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(H,-1)]=this.data[this._idx(H-1,0)],this.data[this._idx(-1,H)]=this.data[this._idx(0,H-1)],this.data[this._idx(H,H)]=this.data[this._idx(H-1,H-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let ae=0;ae<H;ae++)for(let ce=0;ce<H;ce++){const xe=this.get(ae,ce);xe>this.max&&(this.max=xe),xe<this.min&&(this.min=xe)}}get(u,c){const v=new Uint8Array(this.data.buffer),w=4*this._idx(u,c);return this.unpack(v[w],v[w+1],v[w+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,c){if(u<-1||u>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(u+1)}unpack(u,c,v){return u*this.redFactor+c*this.greenFactor+v*this.blueFactor-this.baseShift}pack(u){return I(u,this.getUnpackVector())}getPixels(){return new _u({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,c,v){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let w=c*this.dim,U=c*this.dim+this.dim,K=v*this.dim,G=v*this.dim+this.dim;switch(c){case-1:w=U-1;break;case 1:U=w+1}switch(v){case-1:K=G-1;break;case 1:G=K+1}const H=-c*this.dim,ae=-v*this.dim;for(let ce=K;ce<G;ce++)for(let xe=w;xe<U;xe++)this.data[this._idx(xe,ce)]=u.data[this._idx(xe+H,ce+ae)]}}function I(h,u){const c=u[0],v=u[1],w=u[2],U=u[3],K=Math.min(c,v,w),G=Math.round((h+U)/K);return{r:Math.floor(G*K/c)%256,g:Math.floor(G*K/v)%256,b:Math.floor(G*K/w)%256}}hi("DEMData",T);class F extends Xl{constructor(u){super(u,d)}_createColorRamp(u){const c={elevationStops:[],colorStops:[]},v=this._transitionablePaint._values["color-relief-color"].value.expression;if(v instanceof kh&&v._styleExpression.expression instanceof za){this.colorRampExpression=v;const K=v._styleExpression.expression;c.elevationStops=K.labels,c.colorStops=[];for(const G of c.elevationStops)c.colorStops.push(K.evaluate({globals:{elevation:G}}))}if(c.elevationStops.length<1&&(c.elevationStops=[0],c.colorStops=[Sr.transparent]),c.elevationStops.length<2&&(c.elevationStops.push(c.elevationStops[0]+1),c.colorStops.push(c.colorStops[0])),c.elevationStops.length<=u)return c;const w={elevationStops:[],colorStops:[]},U=(c.elevationStops.length-1)/(u-1);for(let K=0;K<c.elevationStops.length-.5;K+=U)w.elevationStops.push(c.elevationStops[Math.round(K)]),w.colorStops.push(c.colorStops[Math.round(K)]);return It(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),w}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(u,c,v){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const w=this._createColorRamp(c),U=new _u({width:w.colorStops.length,height:1}),K=new _u({width:w.colorStops.length,height:1});for(let G=0;G<w.elevationStops.length;G++){const H=I(w.elevationStops[G],v);K.setPixel(0,G,new Sr(H.r/255,H.g/255,H.b/255,1)),U.setPixel(0,G,w.colorStops[G])}return this.colorRampTextures={elevationTexture:new C(u,K,u.gl.RGBA),colorTexture:new C(u,U,u.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const ee=Va([{name:"a_pos",components:2,type:"Int16"}],4),{members:pe}=ee;function Se(h,u,c){const v=c.patternDependencies;let w=!1;for(const U of u){const K=U.paint.get(`${h}-pattern`);K.isConstant()||(w=!0);const G=K.constantOr(null);G&&(w=!0,v[G.to]=!0,v[G.from]=!0)}return w}function Pe(h,u,c,v,w){const{zoom:U,globalState:K}=v,G=w.patternDependencies;for(const H of u){const ae=H.paint.get(`${h}-pattern`).value;if(ae.kind!=="constant"){let ce=ae.evaluate({zoom:U-1,globalState:K},c,{},w.availableImages),xe=ae.evaluate({zoom:U,globalState:K},c,{},w.availableImages),Le=ae.evaluate({zoom:U+1,globalState:K},c,{},w.availableImages);ce=ce&&ce.name?ce.name:ce,xe=xe&&xe.name?xe.name:xe,Le=Le&&Le.name?Le.name:Le,G[ce]=!0,G[xe]=!0,G[Le]=!0,c.patterns[H.id]={min:ce,mid:xe,max:Le}}}return c}function Ge(h,u,c,v,w){let U;if(w===function(K,G,H,ae){let ce=0;for(let xe=G,Le=H-ae;xe<H;xe+=ae)ce+=(K[Le]-K[xe])*(K[xe+1]+K[Le+1]),Le=xe;return ce}(h,u,c,v)>0)for(let K=u;K<c;K+=v)U=nu(K/v|0,h[K],h[K+1],U);else for(let K=c-v;K>=u;K-=v)U=nu(K/v|0,h[K],h[K+1],U);return U&&As(U,U.next)&&(Ps(U),U=U.next),U}function _t(h,u){if(!h)return h;u||(u=h);let c,v=h;do if(c=!1,v.steiner||!As(v,v.next)&&Er(v.prev,v,v.next)!==0)v=v.next;else{if(Ps(v),v=u=v.prev,v===v.next)break;c=!0}while(c||v!==u);return u}function Tt(h,u,c,v,w,U,K){if(!h)return;!K&&U&&function(H,ae,ce,xe){let Le=H;do Le.z===0&&(Le.z=yi(Le.x,Le.y,ae,ce,xe)),Le.prevZ=Le.prev,Le.nextZ=Le.next,Le=Le.next;while(Le!==H);Le.prevZ.nextZ=null,Le.prevZ=null,function(qe){let $e,nt=1;do{let ct,wt=qe;qe=null;let qt=null;for($e=0;wt;){$e++;let Dt=wt,Nt=0;for(let _n=0;_n<nt&&(Nt++,Dt=Dt.nextZ,Dt);_n++);let un=nt;for(;Nt>0||un>0&&Dt;)Nt!==0&&(un===0||!Dt||wt.z<=Dt.z)?(ct=wt,wt=wt.nextZ,Nt--):(ct=Dt,Dt=Dt.nextZ,un--),qt?qt.nextZ=ct:qe=ct,ct.prevZ=qt,qt=ct;wt=Dt}qt.nextZ=null,nt*=2}while($e>1)}(Le)}(h,v,w,U);let G=h;for(;h.prev!==h.next;){const H=h.prev,ae=h.next;if(U?Vt(h,v,w,U):en(h))u.push(H.i,h.i,ae.i),Ps(h),h=ae.next,G=ae.next;else if((h=ae)===G){K?K===1?Tt(h=bn(_t(h),u),u,c,v,w,U,2):K===2&&Pn(h,u,c,v,w,U):Tt(_t(h),u,c,v,w,U,1);break}}}function en(h){const u=h.prev,c=h,v=h.next;if(Er(u,c,v)>=0)return!1;const w=u.x,U=c.x,K=v.x,G=u.y,H=c.y,ae=v.y,ce=Math.min(w,U,K),xe=Math.min(G,H,ae),Le=Math.max(w,U,K),qe=Math.max(G,H,ae);let $e=v.next;for(;$e!==u;){if($e.x>=ce&&$e.x<=Le&&$e.y>=xe&&$e.y<=qe&&Vi(w,G,U,H,K,ae,$e.x,$e.y)&&Er($e.prev,$e,$e.next)>=0)return!1;$e=$e.next}return!0}function Vt(h,u,c,v){const w=h.prev,U=h,K=h.next;if(Er(w,U,K)>=0)return!1;const G=w.x,H=U.x,ae=K.x,ce=w.y,xe=U.y,Le=K.y,qe=Math.min(G,H,ae),$e=Math.min(ce,xe,Le),nt=Math.max(G,H,ae),ct=Math.max(ce,xe,Le),wt=yi(qe,$e,u,c,v),qt=yi(nt,ct,u,c,v);let Dt=h.prevZ,Nt=h.nextZ;for(;Dt&&Dt.z>=wt&&Nt&&Nt.z<=qt;){if(Dt.x>=qe&&Dt.x<=nt&&Dt.y>=$e&&Dt.y<=ct&&Dt!==w&&Dt!==K&&Vi(G,ce,H,xe,ae,Le,Dt.x,Dt.y)&&Er(Dt.prev,Dt,Dt.next)>=0||(Dt=Dt.prevZ,Nt.x>=qe&&Nt.x<=nt&&Nt.y>=$e&&Nt.y<=ct&&Nt!==w&&Nt!==K&&Vi(G,ce,H,xe,ae,Le,Nt.x,Nt.y)&&Er(Nt.prev,Nt,Nt.next)>=0))return!1;Nt=Nt.nextZ}for(;Dt&&Dt.z>=wt;){if(Dt.x>=qe&&Dt.x<=nt&&Dt.y>=$e&&Dt.y<=ct&&Dt!==w&&Dt!==K&&Vi(G,ce,H,xe,ae,Le,Dt.x,Dt.y)&&Er(Dt.prev,Dt,Dt.next)>=0)return!1;Dt=Dt.prevZ}for(;Nt&&Nt.z<=qt;){if(Nt.x>=qe&&Nt.x<=nt&&Nt.y>=$e&&Nt.y<=ct&&Nt!==w&&Nt!==K&&Vi(G,ce,H,xe,ae,Le,Nt.x,Nt.y)&&Er(Nt.prev,Nt,Nt.next)>=0)return!1;Nt=Nt.nextZ}return!0}function bn(h,u){let c=h;do{const v=c.prev,w=c.next.next;!As(v,w)&&ma(v,c,c.next,w)&&ws(v,w)&&ws(w,v)&&(u.push(v.i,c.i,w.i),Ps(c),Ps(c.next),c=h=w),c=c.next}while(c!==h);return _t(c)}function Pn(h,u,c,v,w,U){let K=h;do{let G=K.next.next;for(;G!==K.prev;){if(K.i!==G.i&&to(K,G)){let H=ga(K,G);return K=_t(K,K.next),H=_t(H,H.next),Tt(K,u,c,v,w,U,0),void Tt(H,u,c,v,w,U,0)}G=G.next}K=K.next}while(K!==h)}function ai(h,u){let c=h.x-u.x;return c===0&&(c=h.y-u.y,c===0)&&(c=(h.next.y-h.y)/(h.next.x-h.x)-(u.next.y-u.y)/(u.next.x-u.x)),c}function gi(h,u){const c=function(w,U){let K=U;const G=w.x,H=w.y;let ae,ce=-1/0;if(As(w,K))return K;do{if(As(w,K.next))return K.next;if(H<=K.y&&H>=K.next.y&&K.next.y!==K.y){const nt=K.x+(H-K.y)*(K.next.x-K.x)/(K.next.y-K.y);if(nt<=G&&nt>ce&&(ce=nt,ae=K.x<K.next.x?K:K.next,nt===G))return ae}K=K.next}while(K!==U);if(!ae)return null;const xe=ae,Le=ae.x,qe=ae.y;let $e=1/0;K=ae;do{if(G>=K.x&&K.x>=Le&&G!==K.x&&ur(H<qe?G:ce,H,Le,qe,H<qe?ce:G,H,K.x,K.y)){const nt=Math.abs(H-K.y)/(G-K.x);ws(K,w)&&(nt<$e||nt===$e&&(K.x>ae.x||K.x===ae.x&&_i(ae,K)))&&(ae=K,$e=nt)}K=K.next}while(K!==xe);return ae}(h,u);if(!c)return u;const v=ga(c,h);return _t(v,v.next),_t(c,c.next)}function _i(h,u){return Er(h.prev,h,u.prev)<0&&Er(u.next,h,h.next)<0}function yi(h,u,c,v,w){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=(h-c)*w|0)|h<<8))|h<<4))|h<<2))|h<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-v)*w|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function Pi(h){let u=h,c=h;do(u.x<c.x||u.x===c.x&&u.y<c.y)&&(c=u),u=u.next;while(u!==h);return c}function ur(h,u,c,v,w,U,K,G){return(w-K)*(u-G)>=(h-K)*(U-G)&&(h-K)*(v-G)>=(c-K)*(u-G)&&(c-K)*(U-G)>=(w-K)*(v-G)}function Vi(h,u,c,v,w,U,K,G){return!(h===K&&u===G)&&ur(h,u,c,v,w,U,K,G)}function to(h,u){return h.next.i!==u.i&&h.prev.i!==u.i&&!function(c,v){let w=c;do{if(w.i!==c.i&&w.next.i!==c.i&&w.i!==v.i&&w.next.i!==v.i&&ma(w,w.next,c,v))return!0;w=w.next}while(w!==c);return!1}(h,u)&&(ws(h,u)&&ws(u,h)&&function(c,v){let w=c,U=!1;const K=(c.x+v.x)/2,G=(c.y+v.y)/2;do w.y>G!=w.next.y>G&&w.next.y!==w.y&&K<(w.next.x-w.x)*(G-w.y)/(w.next.y-w.y)+w.x&&(U=!U),w=w.next;while(w!==c);return U}(h,u)&&(Er(h.prev,h,u.prev)||Er(h,u.prev,u))||As(h,u)&&Er(h.prev,h,h.next)>0&&Er(u.prev,u,u.next)>0)}function Er(h,u,c){return(u.y-h.y)*(c.x-u.x)-(u.x-h.x)*(c.y-u.y)}function As(h,u){return h.x===u.x&&h.y===u.y}function ma(h,u,c,v){const w=Ms(Er(h,u,c)),U=Ms(Er(h,u,v)),K=Ms(Er(c,v,h)),G=Ms(Er(c,v,u));return w!==U&&K!==G||!(w!==0||!Vr(h,c,u))||!(U!==0||!Vr(h,v,u))||!(K!==0||!Vr(c,h,v))||!(G!==0||!Vr(c,u,v))}function Vr(h,u,c){return u.x<=Math.max(h.x,c.x)&&u.x>=Math.min(h.x,c.x)&&u.y<=Math.max(h.y,c.y)&&u.y>=Math.min(h.y,c.y)}function Ms(h){return h>0?1:h<0?-1:0}function ws(h,u){return Er(h.prev,h,h.next)<0?Er(h,u,h.next)>=0&&Er(h,h.prev,u)>=0:Er(h,u,h.prev)<0||Er(h,h.next,u)<0}function ga(h,u){const c=Hs(h.i,h.x,h.y),v=Hs(u.i,u.x,u.y),w=h.next,U=u.prev;return h.next=u,u.prev=h,c.next=w,w.prev=c,v.next=c,c.prev=v,U.next=v,v.prev=U,v}function nu(h,u,c,v){const w=Hs(h,u,c);return v?(w.next=v.next,w.prev=v,v.next.prev=w,v.next=w):(w.prev=w,w.next=w),w}function Ps(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function Hs(h,u,c){return{i:h,x:u,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class kr{constructor(u,c){if(c>u)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=u,this._minGranularity=c}getGranularityForZoomLevel(u){return Math.max(Math.floor(this._baseZoomGranularity/(1<<u)),this._minGranularity,1)}}class ka{constructor(u){this.fill=u.fill,this.line=u.line,this.tile=u.tile,this.stencil=u.stencil,this.circle=u.circle}}ka.noSubdivision=new ka({fill:new kr(0,0),line:new kr(0,0),tile:new kr(0,0),stencil:new kr(0,0),circle:1}),hi("SubdivisionGranularityExpression",kr),hi("SubdivisionGranularitySetting",ka);const iu=-32768,xc=32767;class bu{constructor(u,c){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=u,this._granularityCellSize=it/u,this._canonical=c}_getKey(u,c){return(u+=32768)<<16|c+32768}_vertexToIndex(u,c){if(u<-32768||c<-32768||u>32767||c>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const v=0|Math.round(u),w=0|Math.round(c),U=this._getKey(v,w);if(this._vertexDictionary.has(U))return this._vertexDictionary.get(U);const K=this._vertexBuffer.length/2;return this._vertexDictionary.set(U,K),this._vertexBuffer.push(v,w),K}_subdivideTrianglesScanline(u){if(this._granularity<2)return function(w,U){const K=[];for(let G=0;G<U.length;G+=3){const H=U[G],ae=U[G+1],ce=U[G+2],xe=w[2*H],Le=w[2*H+1];(w[2*ae]-xe)*(w[2*ce+1]-Le)-(w[2*ae+1]-Le)*(w[2*ce]-xe)>0?(K.push(H),K.push(ce),K.push(ae)):(K.push(H),K.push(ae),K.push(ce))}return K}(this._vertexBuffer,u);const c=[],v=u.length;for(let w=0;w<v;w+=3){const U=[u[w+0],u[w+1],u[w+2]],K=[this._vertexBuffer[2*u[w+0]+0],this._vertexBuffer[2*u[w+0]+1],this._vertexBuffer[2*u[w+1]+0],this._vertexBuffer[2*u[w+1]+1],this._vertexBuffer[2*u[w+2]+0],this._vertexBuffer[2*u[w+2]+1]];let G=1/0,H=1/0,ae=-1/0,ce=-1/0;for(let nt=0;nt<3;nt++){const ct=K[2*nt],wt=K[2*nt+1];G=Math.min(G,ct),ae=Math.max(ae,ct),H=Math.min(H,wt),ce=Math.max(ce,wt)}if(G===ae||H===ce)continue;const xe=Math.floor(G/this._granularityCellSize),Le=Math.ceil(ae/this._granularityCellSize),qe=Math.floor(H/this._granularityCellSize),$e=Math.ceil(ce/this._granularityCellSize);if(xe!==Le||qe!==$e)for(let nt=qe;nt<$e;nt++){const ct=this._scanlineGenerateVertexRingForCellRow(nt,K,U);kA(this._vertexBuffer,ct,c)}else c.push(...U)}return c}_scanlineGenerateVertexRingForCellRow(u,c,v){const w=u*this._granularityCellSize,U=w+this._granularityCellSize,K=[];for(let G=0;G<3;G++){const H=c[2*G],ae=c[2*G+1],ce=c[2*(G+1)%6],xe=c[(2*(G+1)+1)%6],Le=c[2*(G+2)%6],qe=c[(2*(G+2)+1)%6],$e=ce-H,nt=xe-ae,ct=$e===0,wt=nt===0,qt=(w-ae)/nt,Dt=(U-ae)/nt,Nt=Math.min(qt,Dt),un=Math.max(qt,Dt);if(!wt&&(Nt>=1||un<=0)||wt&&(ae<w||ae>U)){xe>=w&&xe<=U&&K.push(v[(G+1)%3]);continue}!wt&&Nt>0&&K.push(this._vertexToIndex(H+$e*Nt,ae+nt*Nt));const _n=H+$e*Math.max(Nt,0),Kn=H+$e*Math.min(un,1);ct||this._generateIntraEdgeVertices(K,H,ae,ce,xe,_n,Kn),!wt&&un<1&&K.push(this._vertexToIndex(H+$e*un,ae+nt*un)),(wt||xe>=w&&xe<=U)&&K.push(v[(G+1)%3]),!wt&&(xe<=w||xe>=U)&&this._generateInterEdgeVertices(K,H,ae,ce,xe,Le,qe,Kn,w,U)}return K}_generateIntraEdgeVertices(u,c,v,w,U,K,G){const H=w-c,ae=U-v,ce=ae===0,xe=ce?Math.min(c,w):Math.min(K,G),Le=ce?Math.max(c,w):Math.max(K,G),qe=Math.floor(xe/this._granularityCellSize)+1,$e=Math.ceil(Le/this._granularityCellSize)-1;if(ce?c<w:K<G)for(let nt=qe;nt<=$e;nt++){const ct=nt*this._granularityCellSize;u.push(this._vertexToIndex(ct,v+ae*(ct-c)/H))}else for(let nt=$e;nt>=qe;nt--){const ct=nt*this._granularityCellSize;u.push(this._vertexToIndex(ct,v+ae*(ct-c)/H))}}_generateInterEdgeVertices(u,c,v,w,U,K,G,H,ae,ce){const xe=U-v,Le=K-w,qe=G-U,$e=(ae-U)/qe,nt=(ce-U)/qe,ct=Math.min($e,nt),wt=Math.max($e,nt),qt=w+Le*ct;let Dt=Math.floor(Math.min(qt,H)/this._granularityCellSize)+1,Nt=Math.ceil(Math.max(qt,H)/this._granularityCellSize)-1,un=H<qt;const _n=qe===0;if(_n&&(G===ae||G===ce))return;if(_n||ct>=1||wt<=0){const mi=v-G,si=K+(c-K)*Math.min((ae-G)/mi,(ce-G)/mi);Dt=Math.floor(Math.min(si,H)/this._granularityCellSize)+1,Nt=Math.ceil(Math.max(si,H)/this._granularityCellSize)-1,un=H<si}const Kn=xe>0?ce:ae;if(un)for(let mi=Dt;mi<=Nt;mi++)u.push(this._vertexToIndex(mi*this._granularityCellSize,Kn));else for(let mi=Nt;mi>=Dt;mi--)u.push(this._vertexToIndex(mi*this._granularityCellSize,Kn))}_generateOutline(u){const c=[];for(const v of u){const w=gs(v,this._granularity,!0),U=this._pointArrayToIndices(w),K=[];for(let G=1;G<U.length;G++)K.push(U[G-1]),K.push(U[G]);c.push(K)}return c}_handlePoles(u){let c=!1,v=!1;this._canonical&&(this._canonical.y===0&&(c=!0),this._canonical.y===(1<<this._canonical.z)-1&&(v=!0)),(c||v)&&this._fillPoles(u,c,v)}_ensureNoPoleVertices(){const u=this._vertexBuffer;for(let c=0;c<u.length;c+=2){const v=u[c+1];v===iu&&(u[c+1]=-32767),v===xc&&(u[c+1]=32766)}}_generatePoleQuad(u,c,v,w,U,K){w>U!=(K===iu)?(u.push(c),u.push(v),u.push(this._vertexToIndex(w,K)),u.push(v),u.push(this._vertexToIndex(U,K)),u.push(this._vertexToIndex(w,K))):(u.push(v),u.push(c),u.push(this._vertexToIndex(w,K)),u.push(this._vertexToIndex(U,K)),u.push(v),u.push(this._vertexToIndex(w,K)))}_fillPoles(u,c,v){const w=this._vertexBuffer,U=it,K=u.length;for(let G=2;G<K;G+=3){const H=u[G-2],ae=u[G-1],ce=u[G],xe=w[2*H],Le=w[2*H+1],qe=w[2*ae],$e=w[2*ae+1],nt=w[2*ce],ct=w[2*ce+1];c&&(Le===0&&$e===0&&this._generatePoleQuad(u,H,ae,xe,qe,iu),$e===0&&ct===0&&this._generatePoleQuad(u,ae,ce,qe,nt,iu),ct===0&&Le===0&&this._generatePoleQuad(u,ce,H,nt,xe,iu)),v&&(Le===U&&$e===U&&this._generatePoleQuad(u,H,ae,xe,qe,xc),$e===U&&ct===U&&this._generatePoleQuad(u,ae,ce,qe,nt,xc),ct===U&&Le===U&&this._generatePoleQuad(u,ce,H,nt,xe,xc))}}_initializeVertices(u){for(let c=0;c<u.length;c+=2)this._vertexToIndex(u[c],u[c+1])}subdividePolygonInternal(u,c){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:v,holeIndices:w}=function(G){const H=[],ae=[];for(const ce of G)if(ce.length!==0){ce!==G[0]&&H.push(ae.length/2);for(let xe=0;xe<ce.length;xe++)ae.push(ce[xe].x),ae.push(ce[xe].y)}return{flattened:ae,holeIndices:H}}(u);let U;this._initializeVertices(v);try{const G=function(ae,ce,xe=2){const Le=ce&&ce.length,qe=Le?ce[0]*xe:ae.length;let $e=Ge(ae,0,qe,xe,!0);const nt=[];if(!$e||$e.next===$e.prev)return nt;let ct,wt,qt;if(Le&&($e=function(Dt,Nt,un,_n){const Kn=[];for(let mi=0,si=Nt.length;mi<si;mi++){const fi=Ge(Dt,Nt[mi]*_n,mi<si-1?Nt[mi+1]*_n:Dt.length,_n,!1);fi===fi.next&&(fi.steiner=!0),Kn.push(Pi(fi))}Kn.sort(ai);for(let mi=0;mi<Kn.length;mi++)un=gi(Kn[mi],un);return un}(ae,ce,$e,xe)),ae.length>80*xe){ct=ae[0],wt=ae[1];let Dt=ct,Nt=wt;for(let un=xe;un<qe;un+=xe){const _n=ae[un],Kn=ae[un+1];_n<ct&&(ct=_n),Kn<wt&&(wt=Kn),_n>Dt&&(Dt=_n),Kn>Nt&&(Nt=Kn)}qt=Math.max(Dt-ct,Nt-wt),qt=qt!==0?32767/qt:0}return Tt($e,nt,xe,ct,wt,qt,0),nt}(v,w),H=this._convertIndices(v,G);U=this._subdivideTrianglesScanline(H)}catch(G){console.error(G)}let K=[];return c&&(K=this._generateOutline(u)),this._ensureNoPoleVertices(),this._handlePoles(U),{verticesFlattened:this._vertexBuffer,indicesTriangles:U,indicesLineList:K}}_convertIndices(u,c){const v=[];for(let w=0;w<c.length;w++)v.push(this._vertexToIndex(u[2*c[w]],u[2*c[w]+1]));return v}_pointArrayToIndices(u){const c=[];for(let v=0;v<u.length;v++){const w=u[v];c.push(this._vertexToIndex(w.x,w.y))}return c}}function dh(h,u,c,v=!0){return new bu(c,u).subdividePolygonInternal(h,v)}function gs(h,u,c=!1){if(!h||h.length<1)return[];if(h.length<2)return[];const v=h[0],w=h[h.length-1],U=c&&(v.x!==w.x||v.y!==w.y);if(u<2)return U?[...h,h[0]]:[...h];const K=Math.floor(it/u),G=[];G.push(new p(h[0].x,h[0].y));const H=h.length,ae=U?H:H-1;for(let ce=0;ce<ae;ce++){const xe=h[ce],Le=ce<H-1?h[ce+1]:h[0],qe=xe.x,$e=xe.y,nt=Le.x,ct=Le.y,wt=qe!==nt,qt=$e!==ct;if(!wt&&!qt)continue;const Dt=nt-qe,Nt=ct-$e,un=Math.abs(Dt),_n=Math.abs(Nt);let Kn=qe,mi=$e;for(;;){const fi=Dt>0?(Math.floor(Kn/K)+1)*K:(Math.ceil(Kn/K)-1)*K,rr=Nt>0?(Math.floor(mi/K)+1)*K:(Math.ceil(mi/K)-1)*K,Ai=Math.abs(Kn-fi),pi=Math.abs(mi-rr),In=Math.abs(Kn-nt),gr=Math.abs(mi-ct),Ir=wt?Ai/un:Number.POSITIVE_INFINITY,Ar=qt?pi/_n:Number.POSITIVE_INFINITY;if((In<=Ai||!wt)&&(gr<=pi||!qt))break;if(Ir<Ar&&wt||!qt){Kn=fi,mi+=Nt*Ir;const Fi=new p(Kn,Math.round(mi));G[G.length-1].x===Fi.x&&G[G.length-1].y===Fi.y||G.push(Fi)}else{Kn+=Dt*Ar,mi=rr;const Fi=new p(Math.round(Kn),mi);G[G.length-1].x===Fi.x&&G[G.length-1].y===Fi.y||G.push(Fi)}}const si=new p(nt,ct);G[G.length-1].x===si.x&&G[G.length-1].y===si.y||G.push(si)}return G}function kA(h,u,c){if(u.length===0)throw new Error("Subdivision vertex ring is empty.");let v=0,w=h[2*u[0]];for(let H=1;H<u.length;H++){const ae=h[2*u[H]];ae<w&&(w=ae,v=H)}const U=u.length;let K=v,G=(K+1)%U;for(;;){const H=K-1>=0?K-1:U-1,ae=(G+1)%U,ce=h[2*u[H]],xe=h[2*u[ae]],Le=h[2*u[K]],qe=h[2*u[K]+1],$e=h[2*u[G]+1];let nt=!1;if(ce<xe)nt=!0;else if(ce>xe)nt=!1;else{const ct=$e-qe,wt=-(h[2*u[G]]-Le),qt=qe<$e?1:-1;((ce-Le)*ct+(h[2*u[H]+1]-qe)*wt)*qt>((xe-Le)*ct+(h[2*u[ae]+1]-qe)*wt)*qt&&(nt=!0)}if(nt){const ct=u[H],wt=u[K],qt=u[G];ct!==wt&&ct!==qt&&wt!==qt&&c.push(qt,wt,ct),K--,K<0&&(K=U-1)}else{const ct=u[ae],wt=u[K],qt=u[G];ct!==wt&&ct!==qt&&wt!==qt&&c.push(qt,wt,ct),G++,G>=U&&(G=0)}if(H===ae)break}}function Ol(h,u,c,v,w,U,K,G,H){const ae=w.length/2,ce=K&&G&&H;if(ae<Tr.MAX_VERTEX_ARRAY_LENGTH){const xe=u.prepareSegment(ae,c,v),Le=xe.vertexLength;for(let nt=0;nt<U.length;nt+=3)v.emplaceBack(Le+U[nt],Le+U[nt+1],Le+U[nt+2]);let qe,$e;xe.vertexLength+=ae,xe.primitiveLength+=U.length/3,ce&&($e=K.prepareSegment(ae,c,G),qe=$e.vertexLength,$e.vertexLength+=ae);for(let nt=0;nt<w.length;nt+=2)h(w[nt],w[nt+1]);if(ce)for(let nt=0;nt<H.length;nt++){const ct=H[nt];for(let wt=1;wt<ct.length;wt+=2)G.emplaceBack(qe+ct[wt-1],qe+ct[wt]);$e.primitiveLength+=ct.length/2}}else(function(xe,Le,qe,$e,nt,ct){const wt=[];for(let _n=0;_n<$e.length/2;_n++)wt.push(-1);const qt={count:0};let Dt=0,Nt=xe.getOrCreateLatestSegment(Le,qe),un=Nt.vertexLength;for(let _n=2;_n<nt.length;_n+=3){const Kn=nt[_n-2],mi=nt[_n-1],si=nt[_n];let fi=wt[Kn]<Dt,rr=wt[mi]<Dt,Ai=wt[si]<Dt;Nt.vertexLength+((fi?1:0)+(rr?1:0)+(Ai?1:0))>Tr.MAX_VERTEX_ARRAY_LENGTH&&(Nt=xe.createNewSegment(Le,qe),Dt=qt.count,fi=!0,rr=!0,Ai=!0,un=0);const pi=Mc(wt,$e,ct,qt,Kn,fi,Nt),In=Mc(wt,$e,ct,qt,mi,rr,Nt),gr=Mc(wt,$e,ct,qt,si,Ai,Nt);qe.emplaceBack(un+pi-Dt,un+In-Dt,un+gr-Dt),Nt.primitiveLength++}})(u,c,v,w,U,h),ce&&function(xe,Le,qe,$e,nt,ct){const wt=[];for(let _n=0;_n<$e.length/2;_n++)wt.push(-1);const qt={count:0};let Dt=0,Nt=xe.getOrCreateLatestSegment(Le,qe),un=Nt.vertexLength;for(let _n=0;_n<nt.length;_n++){const Kn=nt[_n];for(let mi=1;mi<nt[_n].length;mi+=2){const si=Kn[mi-1],fi=Kn[mi];let rr=wt[si]<Dt,Ai=wt[fi]<Dt;Nt.vertexLength+((rr?1:0)+(Ai?1:0))>Tr.MAX_VERTEX_ARRAY_LENGTH&&(Nt=xe.createNewSegment(Le,qe),Dt=qt.count,rr=!0,Ai=!0,un=0);const pi=Mc(wt,$e,ct,qt,si,rr,Nt),In=Mc(wt,$e,ct,qt,fi,Ai,Nt);qe.emplaceBack(un+pi-Dt,un+In-Dt),Nt.primitiveLength++}}}(K,c,G,w,H,h),u.forceNewSegmentOnNextPrepare(),K?.forceNewSegmentOnNextPrepare()}function Mc(h,u,c,v,w,U,K){if(U){const G=v.count;return c(u[2*w],u[2*w+1]),h[w]=v.count,v.count++,K.vertexLength++,G}return h[w]}class hl{constructor(u){this.zoom=u.zoom,this.globalState=u.globalState,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(c=>c.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new fn,this.indexArray=new fa,this.indexArray2=new jo,this.programConfigurations=new Za(u.layers,u.zoom),this.segments=new Tr,this.segments2=new Tr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(u,c,v){this.hasPattern=Se("fill",this.layers,c);const w=this.layers[0].layout.get("fill-sort-key"),U=!w.isConstant(),K=[];for(const{feature:G,id:H,index:ae,sourceLayerIndex:ce}of u){const xe=this.layers[0]._featureFilter.needGeometry,Le=AA(G,xe);if(!this.layers[0]._featureFilter.filter(new Lo(this.zoom,{globalState:this.globalState}),Le,v))continue;const qe=U?w.evaluate(Le,{},v,c.availableImages):void 0,$e={id:H,properties:G.properties,type:G.type,sourceLayerIndex:ce,index:ae,geometry:xe?Le.geometry:Ta(G),patterns:{},sortKey:qe};K.push($e)}U&&K.sort((G,H)=>G.sortKey-H.sortKey);for(const G of K){const{geometry:H,index:ae,sourceLayerIndex:ce}=G;if(this.hasPattern){const xe=Pe("fill",this.layers,G,{zoom:this.zoom,globalState:this.globalState},c);this.patternFeatures.push(xe)}else this.addFeature(G,H,ae,v,{},c.subdivisionGranularity);c.featureIndex.insert(u[ae].feature,H,ae,ce,this.index)}}update(u,c,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,c,this.stateDependentLayers,{imagePositions:v,globalState:this.globalState})}addFeatures(u,c,v){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,c,v,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,pe),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,c,v,w,U,K){for(const G of nh(c,500)){const H=dh(G,w,K.fill.getGranularityForZoomLevel(w.z)),ae=this.layoutVertexArray;Ol((ce,xe)=>{ae.emplaceBack(ce,xe)},this.segments,this.layoutVertexArray,this.indexArray,H.verticesFlattened,H.indicesTriangles,this.segments2,this.indexArray2,H.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,{imagePositions:U,canonical:w,globalState:this.globalState})}}let xu,ic;hi("FillBucket",hl,{omit:["layers","patternFeatures"]});var fd={get paint(){return ic=ic||new da({"fill-antialias":new ki(rt.paint_fill["fill-antialias"]),"fill-opacity":new Ri(rt.paint_fill["fill-opacity"]),"fill-color":new Ri(rt.paint_fill["fill-color"]),"fill-outline-color":new Ri(rt.paint_fill["fill-outline-color"]),"fill-translate":new ki(rt.paint_fill["fill-translate"]),"fill-translate-anchor":new ki(rt.paint_fill["fill-translate-anchor"]),"fill-pattern":new zc(rt.paint_fill["fill-pattern"])})},get layout(){return xu=xu||new da({"fill-sort-key":new Ri(rt.layout_fill["fill-sort-key"])})}};class xf extends Xl{constructor(u){super(u,fd)}recalculate(u,c){super.recalculate(u,c);const v=this.paint._values["fill-outline-color"];v.value.kind==="constant"&&v.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new hl(u)}queryRadius(){return jd(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:u,geometry:c,transform:v,pixelsToTileUnits:w}){return dd(rl(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-v.bearingInRadians,w),c)}isTileClipped(){return!0}}const u1=Va([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),A1=Va([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Gd}=u1;class Qp{constructor(u,c,v,w,U){this.properties={},this.extent=v,this.type=0,this.id=void 0,this._pbf=u,this._geometry=-1,this._keys=w,this._values=U,u.readFields(Dm,this,c)}loadGeometry(){const u=this._pbf;u.pos=this._geometry;const c=u.readVarint()+u.pos,v=[];let w,U=1,K=0,G=0,H=0;for(;u.pos<c;){if(K<=0){const ae=u.readVarint();U=7&ae,K=ae>>3}if(K--,U===1||U===2)G+=u.readSVarint(),H+=u.readSVarint(),U===1&&(w&&v.push(w),w=[]),w&&w.push(new p(G,H));else{if(U!==7)throw new Error(`unknown command ${U}`);w&&w.push(w[0].clone())}}return w&&v.push(w),v}bbox(){const u=this._pbf;u.pos=this._geometry;const c=u.readVarint()+u.pos;let v=1,w=0,U=0,K=0,G=1/0,H=-1/0,ae=1/0,ce=-1/0;for(;u.pos<c;){if(w<=0){const xe=u.readVarint();v=7&xe,w=xe>>3}if(w--,v===1||v===2)U+=u.readSVarint(),K+=u.readSVarint(),U<G&&(G=U),U>H&&(H=U),K<ae&&(ae=K),K>ce&&(ce=K);else if(v!==7)throw new Error(`unknown command ${v}`)}return[G,ae,H,ce]}toGeoJSON(u,c,v){const w=this.extent*Math.pow(2,v),U=this.extent*u,K=this.extent*c,G=this.loadGeometry();function H(Le){return[360*(Le.x+U)/w-180,360/Math.PI*Math.atan(Math.exp((1-2*(Le.y+K)/w)*Math.PI))-90]}function ae(Le){return Le.map(H)}let ce;if(this.type===1){const Le=[];for(const $e of G)Le.push($e[0]);const qe=ae(Le);ce=Le.length===1?{type:"Point",coordinates:qe[0]}:{type:"MultiPoint",coordinates:qe}}else if(this.type===2){const Le=G.map(ae);ce=Le.length===1?{type:"LineString",coordinates:Le[0]}:{type:"MultiLineString",coordinates:Le}}else{if(this.type!==3)throw new Error("unknown feature type");{const Le=function($e){const nt=$e.length;if(nt<=1)return[$e];const ct=[];let wt,qt;for(let Dt=0;Dt<nt;Dt++){const Nt=w0($e[Dt]);Nt!==0&&(qt===void 0&&(qt=Nt<0),qt===Nt<0?(wt&&ct.push(wt),wt=[$e[Dt]]):wt&&wt.push($e[Dt]))}return wt&&ct.push(wt),ct}(G),qe=[];for(const $e of Le)qe.push($e.map(ae));ce=qe.length===1?{type:"Polygon",coordinates:qe[0]}:{type:"MultiPolygon",coordinates:qe}}}const xe={type:"Feature",geometry:ce,properties:this.properties};return this.id!=null&&(xe.id=this.id),xe}}function Dm(h,u,c){h===1?u.id=c.readVarint():h===2?function(v,w){const U=v.readVarint()+v.pos;for(;v.pos<U;){const K=w._keys[v.readVarint()],G=w._values[v.readVarint()];w.properties[K]=G}}(c,u):h===3?u.type=c.readVarint():h===4&&(u._geometry=c.pos)}function w0(h){let u=0;for(let c,v,w=0,U=h.length,K=U-1;w<U;K=w++)c=h[w],v=h[K],u+=(v.x-c.x)*(c.y+v.y);return u}Qp.types=["Unknown","Point","LineString","Polygon"];class DA{constructor(u,c){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(Rm,this,c),this.length=this._features.length}feature(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];const c=this._pbf.readVarint()+this._pbf.pos;return new Qp(this._pbf,c,this.extent,this._keys,this._values)}}function Rm(h,u,c){h===15?u.version=c.readVarint():h===1?u.name=c.readString():h===5?u.extent=c.readVarint():h===2?u._features.push(c.pos):h===3?u._keys.push(c.readString()):h===4&&u._values.push(function(v){let w=null;const U=v.readVarint()+v.pos;for(;v.pos<U;){const K=v.readVarint()>>3;w=K===1?v.readString():K===2?v.readFloat():K===3?v.readDouble():K===4?v.readVarint64():K===5?v.readVarint():K===6?v.readSVarint():K===7?v.readBoolean():null}if(w==null)throw new Error("unknown feature value");return w}(c))}class c1{constructor(u,c){this.layers=u.readFields(Sy,{},c)}}function Sy(h,u,c){if(h===3){const v=new DA(c,c.readVarint()+c.pos);v.length&&(u[v.name]=v)}}const up=Math.pow(2,13);function Pm(h,u,c,v,w,U,K,G){h.emplaceBack(u,c,2*Math.floor(v*up)+K,w*up*2,U*up*2,Math.round(G))}class Um{constructor(u){this.zoom=u.zoom,this.globalState=u.globalState,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(c=>c.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Jt,this.centroidVertexArray=new Ot,this.indexArray=new fa,this.programConfigurations=new Za(u.layers,u.zoom),this.segments=new Tr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(u,c,v){this.features=[],this.hasPattern=Se("fill-extrusion",this.layers,c);for(const{feature:w,id:U,index:K,sourceLayerIndex:G}of u){const H=this.layers[0]._featureFilter.needGeometry,ae=AA(w,H);if(!this.layers[0]._featureFilter.filter(new Lo(this.zoom,{globalState:this.globalState}),ae,v))continue;const ce={id:U,sourceLayerIndex:G,index:K,geometry:H?ae.geometry:Ta(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(Pe("fill-extrusion",this.layers,ce,{zoom:this.zoom,globalState:this.globalState},c)):this.addFeature(ce,ce.geometry,K,v,{},c.subdivisionGranularity),c.featureIndex.insert(w,ce.geometry,K,G,this.index,!0)}}addFeatures(u,c,v){for(const w of this.features){const{geometry:U}=w;this.addFeature(w,U,w.index,c,v,u.subdivisionGranularity)}}update(u,c,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,c,this.stateDependentLayers,{imagePositions:v,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Gd),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,A1.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,c,v,w,U,K){for(const G of nh(c,500)){const H={x:0,y:0,sampleCount:0},ae=this.layoutVertexArray.length;this.processPolygon(H,w,u,G,K);const ce=this.layoutVertexArray.length-ae,xe=Math.floor(H.x/H.sampleCount),Le=Math.floor(H.y/H.sampleCount);for(let qe=0;qe<ce;qe++)this.centroidVertexArray.emplaceBack(xe,Le)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,{imagePositions:U,canonical:w,globalState:this.globalState})}processPolygon(u,c,v,w,U){if(w.length<1||Ag(w[0]))return;for(const xe of w)xe.length!==0&&Ey(u,xe);const K={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},G=U.fill.getGranularityForZoomLevel(c.z),H=Qp.types[v.type]==="Polygon";for(const xe of w){if(xe.length===0||Ag(xe))continue;const Le=gs(xe,G,H);this._generateSideFaces(Le,K)}if(!H)return;const ae=dh(w,c,G,!1),ce=this.layoutVertexArray;Ol((xe,Le)=>{Pm(ce,xe,Le,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,ae.verticesFlattened,ae.indicesTriangles)}_generateSideFaces(u,c){let v=0;for(let w=1;w<u.length;w++){const U=u[w],K=u[w-1];if(IC(U,K))continue;c.segment.vertexLength+4>Tr.MAX_VERTEX_ARRAY_LENGTH&&(c.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const G=U.sub(K)._perp()._unit(),H=K.dist(U);v+H>32768&&(v=0),Pm(this.layoutVertexArray,U.x,U.y,G.x,G.y,0,0,v),Pm(this.layoutVertexArray,U.x,U.y,G.x,G.y,0,1,v),v+=H,Pm(this.layoutVertexArray,K.x,K.y,G.x,G.y,0,0,v),Pm(this.layoutVertexArray,K.x,K.y,G.x,G.y,0,1,v);const ae=c.segment.vertexLength;this.indexArray.emplaceBack(ae,ae+2,ae+1),this.indexArray.emplaceBack(ae+1,ae+2,ae+3),c.segment.vertexLength+=4,c.segment.primitiveLength+=2}}}function Ey(h,u){for(let c=0;c<u.length;c++){const v=u[c];c===u.length-1&&u[0].x===v.x&&u[0].y===v.y||(h.x+=v.x,h.y+=v.y,h.sampleCount++)}}function IC(h,u){return h.x===u.x&&(h.x<0||h.x>it)||h.y===u.y&&(h.y<0||h.y>it)}function Ag(h){return h.every(u=>u.x<0)||h.every(u=>u.x>it)||h.every(u=>u.y<0)||h.every(u=>u.y>it)}let cs;hi("FillExtrusionBucket",Um,{omit:["layers","features"]});var Vs={get paint(){return cs=cs||new da({"fill-extrusion-opacity":new ki(rt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ri(rt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ki(rt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ki(rt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new zc(rt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ri(rt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ri(rt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ki(rt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class aa extends Xl{constructor(u){super(u,Vs)}createBucket(u){return new Um(u)}queryRadius(){return jd(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:u,feature:c,featureState:v,geometry:w,transform:U,pixelsToTileUnits:K,pixelPosMatrix:G}){const H=rl(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-U.bearingInRadians,K),ae=this.paint.get("fill-extrusion-height").evaluate(c,v),ce=this.paint.get("fill-extrusion-base").evaluate(c,v),xe=function(qe,$e){const nt=[];for(const ct of qe){const wt=[ct.x,ct.y,0,1];ze(wt,wt,$e),nt.push(new p(wt[0]/wt[3],wt[1]/wt[3]))}return nt}(H,G),Le=function(qe,$e,nt,ct){const wt=[],qt=[],Dt=ct[8]*$e,Nt=ct[9]*$e,un=ct[10]*$e,_n=ct[11]*$e,Kn=ct[8]*nt,mi=ct[9]*nt,si=ct[10]*nt,fi=ct[11]*nt;for(const rr of qe){const Ai=[],pi=[];for(const In of rr){const gr=In.x,Ir=In.y,Ar=ct[0]*gr+ct[4]*Ir+ct[12],Fi=ct[1]*gr+ct[5]*Ir+ct[13],Qr=ct[2]*gr+ct[6]*Ir+ct[14],Ga=ct[3]*gr+ct[7]*Ir+ct[15],Es=Qr+un,Ll=Ga+_n,UA=Ar+Kn,Fl=Fi+mi,Wu=Qr+si,Us=Ga+fi,pl=new p((Ar+Dt)/Ll,(Fi+Nt)/Ll);pl.z=Es/Ll,Ai.push(pl);const Qu=new p(UA/Us,Fl/Us);Qu.z=Wu/Us,pi.push(Qu)}wt.push(Ai),qt.push(pi)}return[wt,qt]}(w,ce,ae,G);return function(qe,$e,nt){let ct=1/0;dd(nt,$e)&&(ct=hs(nt,$e[0]));for(let wt=0;wt<$e.length;wt++){const qt=$e[wt],Dt=qe[wt];for(let Nt=0;Nt<qt.length-1;Nt++){const un=qt[Nt],_n=[un,qt[Nt+1],Dt[Nt+1],Dt[Nt],un];Im(nt,_n)&&(ct=Math.min(ct,hs(nt,_n)))}}return ct!==1/0&&ct}(Le[0],Le[1],xe)}}function Vo(h,u){return h.x*u.x+h.y*u.y}function hs(h,u){if(h.length===1){let c=0;const v=u[c++];let w;for(;!w||v.equals(w);)if(w=u[c++],!w)return 1/0;for(;c<u.length;c++){const U=u[c],K=h[0],G=w.sub(v),H=U.sub(v),ae=K.sub(v),ce=Vo(G,G),xe=Vo(G,H),Le=Vo(H,H),qe=Vo(ae,G),$e=Vo(ae,H),nt=ce*Le-xe*xe,ct=(Le*qe-xe*$e)/nt,wt=(ce*$e-xe*qe)/nt,qt=v.z*(1-ct-wt)+w.z*ct+U.z*wt;if(isFinite(qt))return qt}return 1/0}{let c=1/0;for(const v of u)c=Math.min(c,v.z);return c}}const fh=Va([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Ap}=fh,Km=Va([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:h1}=Km,Mf=Math.cos(Math.PI/180*37.5),Il=Math.pow(2,14)/.5;class Wd{constructor(u){this.zoom=u.zoom,this.globalState=u.globalState,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(c=>c.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new rn,this.layoutVertexArray2=new An,this.indexArray=new fa,this.programConfigurations=new Za(u.layers,u.zoom),this.segments=new Tr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(u,c,v){this.hasPattern=Se("line",this.layers,c);const w=this.layers[0].layout.get("line-sort-key"),U=!w.isConstant(),K=[];for(const{feature:G,id:H,index:ae,sourceLayerIndex:ce}of u){const xe=this.layers[0]._featureFilter.needGeometry,Le=AA(G,xe);if(!this.layers[0]._featureFilter.filter(new Lo(this.zoom,{globalState:this.globalState}),Le,v))continue;const qe=U?w.evaluate(Le,{},v):void 0,$e={id:H,properties:G.properties,type:G.type,sourceLayerIndex:ce,index:ae,geometry:xe?Le.geometry:Ta(G),patterns:{},sortKey:qe};K.push($e)}U&&K.sort((G,H)=>G.sortKey-H.sortKey);for(const G of K){const{geometry:H,index:ae,sourceLayerIndex:ce}=G;if(this.hasPattern){const xe=Pe("line",this.layers,G,{zoom:this.zoom,globalState:this.globalState},c);this.patternFeatures.push(xe)}else this.addFeature(G,H,ae,v,{},c.subdivisionGranularity);c.featureIndex.insert(u[ae].feature,H,ae,ce,this.index)}}update(u,c,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,c,this.stateDependentLayers,{imagePositions:v,globalState:this.globalState})}addFeatures(u,c,v){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,c,v,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,h1)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Ap),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,c,v,w,U,K){const G=this.layers[0].layout,H=G.get("line-join").evaluate(u,{}),ae=G.get("line-cap"),ce=G.get("line-miter-limit"),xe=G.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const Le of c)this.addLine(Le,u,H,ae,ce,xe,w,K);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,{imagePositions:U,canonical:w,globalState:this.globalState})}addLine(u,c,v,w,U,K,G,H){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,u=gs(u,G?H.line.getGranularityForZoomLevel(G.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Dt=0;Dt<u.length-1;Dt++)this.totalDistance+=u[Dt].dist(u[Dt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ae=Qp.types[c.type]==="Polygon";let ce=u.length;for(;ce>=2&&u[ce-1].equals(u[ce-2]);)ce--;let xe=0;for(;xe<ce-1&&u[xe].equals(u[xe+1]);)xe++;if(ce<(ae?3:2))return;v==="bevel"&&(U=1.05);const Le=this.overscaling<=16?122880/(512*this.overscaling):0,qe=this.segments.prepareSegment(10*ce,this.layoutVertexArray,this.indexArray);let $e,nt,ct,wt,qt;this.e1=this.e2=-1,ae&&($e=u[ce-2],qt=u[xe].sub($e)._unit()._perp());for(let Dt=xe;Dt<ce;Dt++){if(ct=Dt===ce-1?ae?u[xe+1]:void 0:u[Dt+1],ct&&u[Dt].equals(ct))continue;qt&&(wt=qt),$e&&(nt=$e),$e=u[Dt],qt=ct?ct.sub($e)._unit()._perp():wt,wt=wt||qt;let Nt=wt.add(qt);Nt.x===0&&Nt.y===0||Nt._unit();const un=wt.x*qt.x+wt.y*qt.y,_n=Nt.x*qt.x+Nt.y*qt.y,Kn=_n!==0?1/_n:1/0,mi=2*Math.sqrt(2-2*_n),si=_n<Mf&&nt&&ct,fi=wt.x*qt.y-wt.y*qt.x>0;if(si&&Dt>xe){const pi=$e.dist(nt);if(pi>2*Le){const In=$e.sub($e.sub(nt)._mult(Le/pi)._round());this.updateDistance(nt,In),this.addCurrentVertex(In,wt,0,0,qe),nt=In}}const rr=nt&&ct;let Ai=rr?v:ae?"butt":w;if(rr&&Ai==="round"&&(Kn<K?Ai="miter":Kn<=2&&(Ai="fakeround")),Ai==="miter"&&Kn>U&&(Ai="bevel"),Ai==="bevel"&&(Kn>2&&(Ai="flipbevel"),Kn<U&&(Ai="miter")),nt&&this.updateDistance(nt,$e),Ai==="miter")Nt._mult(Kn),this.addCurrentVertex($e,Nt,0,0,qe);else if(Ai==="flipbevel"){if(Kn>100)Nt=qt.mult(-1);else{const pi=Kn*wt.add(qt).mag()/wt.sub(qt).mag();Nt._perp()._mult(pi*(fi?-1:1))}this.addCurrentVertex($e,Nt,0,0,qe),this.addCurrentVertex($e,Nt.mult(-1),0,0,qe)}else if(Ai==="bevel"||Ai==="fakeround"){const pi=-Math.sqrt(Kn*Kn-1),In=fi?pi:0,gr=fi?0:pi;if(nt&&this.addCurrentVertex($e,wt,In,gr,qe),Ai==="fakeround"){const Ir=Math.round(180*mi/Math.PI/20);for(let Ar=1;Ar<Ir;Ar++){let Fi=Ar/Ir;if(Fi!==.5){const Ga=Fi-.5;Fi+=Fi*Ga*(Fi-1)*((1.0904+un*(un*(3.55645-1.43519*un)-3.2452))*Ga*Ga+(.848013+un*(.215638*un-1.06021)))}const Qr=qt.sub(wt)._mult(Fi)._add(wt)._unit()._mult(fi?-1:1);this.addHalfVertex($e,Qr.x,Qr.y,!1,fi,0,qe)}}ct&&this.addCurrentVertex($e,qt,-In,-gr,qe)}else if(Ai==="butt")this.addCurrentVertex($e,Nt,0,0,qe);else if(Ai==="square"){const pi=nt?1:-1;this.addCurrentVertex($e,Nt,pi,pi,qe)}else Ai==="round"&&(nt&&(this.addCurrentVertex($e,wt,0,0,qe),this.addCurrentVertex($e,wt,1,1,qe,!0)),ct&&(this.addCurrentVertex($e,qt,-1,-1,qe,!0),this.addCurrentVertex($e,qt,0,0,qe)));if(si&&Dt<ce-1){const pi=$e.dist(ct);if(pi>2*Le){const In=$e.add(ct.sub($e)._mult(Le/pi)._round());this.updateDistance($e,In),this.addCurrentVertex(In,qt,0,0,qe),$e=In}}}}addCurrentVertex(u,c,v,w,U,K=!1){const G=c.y*w-c.x,H=-c.y-c.x*w;this.addHalfVertex(u,c.x+c.y*v,c.y-c.x*v,K,!1,v,U),this.addHalfVertex(u,G,H,K,!0,-w,U),this.distance>Il/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,c,v,w,U,K))}addHalfVertex({x:u,y:c},v,w,U,K,G,H){const ae=.5*(this.lineClips?this.scaledDistance*(Il-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((u<<1)+(U?1:0),(c<<1)+(K?1:0),Math.round(63*v)+128,Math.round(63*w)+128,1+(G===0?0:G<0?-1:1)|(63&ae)<<2,ae>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ce=H.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,ce,this.e2),H.primitiveLength++),K?this.e2=ce:this.e1=ce}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,c){this.distance+=u.dist(c),this.updateScaledDistance()}}let cp,cg;hi("LineBucket",Wd,{omit:["layers","patternFeatures"]});var ph={get paint(){return cg=cg||new da({"line-opacity":new Ri(rt.paint_line["line-opacity"]),"line-color":new Ri(rt.paint_line["line-color"]),"line-translate":new ki(rt.paint_line["line-translate"]),"line-translate-anchor":new ki(rt.paint_line["line-translate-anchor"]),"line-width":new Ri(rt.paint_line["line-width"]),"line-gap-width":new Ri(rt.paint_line["line-gap-width"]),"line-offset":new Ri(rt.paint_line["line-offset"]),"line-blur":new Ri(rt.paint_line["line-blur"]),"line-dasharray":new ju(rt.paint_line["line-dasharray"]),"line-pattern":new zc(rt.paint_line["line-pattern"]),"line-gradient":new gu(rt.paint_line["line-gradient"])})},get layout(){return cp=cp||new da({"line-cap":new ki(rt.layout_line["line-cap"]),"line-join":new Ri(rt.layout_line["line-join"]),"line-miter-limit":new ki(rt.layout_line["line-miter-limit"]),"line-round-limit":new ki(rt.layout_line["line-round-limit"]),"line-sort-key":new Ri(rt.layout_line["line-sort-key"])})}};class Lm extends Ri{possiblyEvaluate(u,c){return c=new Lo(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(u,c)}evaluate(u,c,v,w){return c=je({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(u,c,v,w)}}let hp;class Yc extends Xl{constructor(u){super(u,ph),this.gradientVersion=0,hp||(hp=new Lm(ph.paint.properties["line-width"].specification),hp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(v){return v._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof Gr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,c){super.recalculate(u,c),this.paint._values["line-floorwidth"]=hp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new Wd(u)}queryRadius(u){const c=u,v=hg(cA("line-width",this,c),cA("line-gap-width",this,c)),w=cA("line-offset",this,c);return v/2+Math.abs(w)+jd(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:u,feature:c,featureState:v,geometry:w,transform:U,pixelsToTileUnits:K}){const G=rl(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-U.bearingInRadians,K),H=K/2*hg(this.paint.get("line-width").evaluate(c,v),this.paint.get("line-gap-width").evaluate(c,v)),ae=this.paint.get("line-offset").evaluate(c,v);return ae&&(w=function(ce,xe){const Le=[];for(let qe=0;qe<ce.length;qe++){const $e=ce[qe],nt=[];for(let ct=0;ct<$e.length;ct++){const wt=$e[ct-1],qt=$e[ct],Dt=$e[ct+1],Nt=ct===0?new p(0,0):qt.sub(wt)._unit()._perp(),un=ct===$e.length-1?new p(0,0):Dt.sub(qt)._unit()._perp(),_n=Nt._add(un)._unit(),Kn=_n.x*un.x+_n.y*un.y;Kn!==0&&_n._mult(1/Kn),nt.push(_n._mult(xe)._add(qt))}Le.push(nt)}return Le}(w,ae*K)),function(ce,xe,Le){for(let qe=0;qe<xe.length;qe++){const $e=xe[qe];if(ce.length>=3){for(let nt=0;nt<$e.length;nt++)if(Fh(ce,$e[nt]))return!0}if(ip(ce,$e,Le))return!0}return!1}(G,w,H)}isTileClipped(){return!0}}function hg(h,u){return u>0?u+2*h:h}const d1=Va([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Fm=Va([{name:"a_projected_pos",components:3,type:"Float32"}],4);Va([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const S0=Va([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Va([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const wf=Va([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),RA=Va([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function dp(h,u,c){return h.sections.forEach(v=>{v.text=function(w,U,K){const G=U.layout.get("text-transform").evaluate(K,{});return G==="uppercase"?w=w.toLocaleUpperCase():G==="lowercase"&&(w=w.toLocaleLowerCase()),$l.applyArabicShaping&&(w=$l.applyArabicShaping(w)),w}(v.text,u,c)}),h}Va([{name:"triangle",components:3,type:"Uint16"}]),Va([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Va([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Va([{type:"Float32",name:"offsetX"}]),Va([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Va([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Qd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ol=24;const E0=4294967296,dg=1/E0,f1=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class fp{constructor(u=new Uint8Array(16)){this.buf=ArrayBuffer.isView(u)?u:new Uint8Array(u),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(u,c,v=this.length){for(;this.pos<v;){const w=this.readVarint(),U=w>>3,K=this.pos;this.type=7&w,u(U,c,this),this.pos===K&&this.skip(w)}return c}readMessage(u,c){return this.readFields(u,c,this.readVarint()+this.pos)}readFixed32(){const u=this.dataView.getUint32(this.pos,!0);return this.pos+=4,u}readSFixed32(){const u=this.dataView.getInt32(this.pos,!0);return this.pos+=4,u}readFixed64(){const u=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*E0;return this.pos+=8,u}readSFixed64(){const u=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*E0;return this.pos+=8,u}readFloat(){const u=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,u}readDouble(){const u=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,u}readVarint(u){const c=this.buf;let v,w;return w=c[this.pos++],v=127&w,w<128?v:(w=c[this.pos++],v|=(127&w)<<7,w<128?v:(w=c[this.pos++],v|=(127&w)<<14,w<128?v:(w=c[this.pos++],v|=(127&w)<<21,w<128?v:(w=c[this.pos],v|=(15&w)<<28,function(U,K,G){const H=G.buf;let ae,ce;if(ce=H[G.pos++],ae=(112&ce)>>4,ce<128||(ce=H[G.pos++],ae|=(127&ce)<<3,ce<128)||(ce=H[G.pos++],ae|=(127&ce)<<10,ce<128)||(ce=H[G.pos++],ae|=(127&ce)<<17,ce<128)||(ce=H[G.pos++],ae|=(127&ce)<<24,ce<128)||(ce=H[G.pos++],ae|=(1&ce)<<31,ce<128))return pp(U,ae,K);throw new Error("Expected varint not more than 10 bytes")}(v,u,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const u=this.readVarint();return u%2==1?(u+1)/-2:u/2}readBoolean(){return!!this.readVarint()}readString(){const u=this.readVarint()+this.pos,c=this.pos;return this.pos=u,u-c>=12&&f1?f1.decode(this.buf.subarray(c,u)):function(v,w,U){let K="",G=w;for(;G<U;){const H=v[G];let ae,ce,xe,Le=null,qe=H>239?4:H>223?3:H>191?2:1;if(G+qe>U)break;qe===1?H<128&&(Le=H):qe===2?(ae=v[G+1],(192&ae)==128&&(Le=(31&H)<<6|63&ae,Le<=127&&(Le=null))):qe===3?(ae=v[G+1],ce=v[G+2],(192&ae)==128&&(192&ce)==128&&(Le=(15&H)<<12|(63&ae)<<6|63&ce,(Le<=2047||Le>=55296&&Le<=57343)&&(Le=null))):qe===4&&(ae=v[G+1],ce=v[G+2],xe=v[G+3],(192&ae)==128&&(192&ce)==128&&(192&xe)==128&&(Le=(15&H)<<18|(63&ae)<<12|(63&ce)<<6|63&xe,(Le<=65535||Le>=1114112)&&(Le=null))),Le===null?(Le=65533,qe=1):Le>65535&&(Le-=65536,K+=String.fromCharCode(Le>>>10&1023|55296),Le=56320|1023&Le),K+=String.fromCharCode(Le),G+=qe}return K}(this.buf,c,u)}readBytes(){const u=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,u);return this.pos=u,c}readPackedVarint(u=[],c){const v=this.readPackedEnd();for(;this.pos<v;)u.push(this.readVarint(c));return u}readPackedSVarint(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readSVarint());return u}readPackedBoolean(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readBoolean());return u}readPackedFloat(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readFloat());return u}readPackedDouble(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readDouble());return u}readPackedFixed32(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readFixed32());return u}readPackedSFixed32(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readSFixed32());return u}readPackedFixed64(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readFixed64());return u}readPackedSFixed64(u=[]){const c=this.readPackedEnd();for(;this.pos<c;)u.push(this.readSFixed64());return u}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(u){const c=7&u;if(c===0)for(;this.buf[this.pos++]>127;);else if(c===2)this.pos=this.readVarint()+this.pos;else if(c===5)this.pos+=4;else{if(c!==1)throw new Error(`Unimplemented type: ${c}`);this.pos+=8}}writeTag(u,c){this.writeVarint(u<<3|c)}realloc(u){let c=this.length||16;for(;c<this.pos+u;)c*=2;if(c!==this.length){const v=new Uint8Array(c);v.set(this.buf),this.buf=v,this.dataView=new DataView(v.buffer),this.length=c}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(u){this.realloc(4),this.dataView.setInt32(this.pos,u,!0),this.pos+=4}writeSFixed32(u){this.realloc(4),this.dataView.setInt32(this.pos,u,!0),this.pos+=4}writeFixed64(u){this.realloc(8),this.dataView.setInt32(this.pos,-1&u,!0),this.dataView.setInt32(this.pos+4,Math.floor(u*dg),!0),this.pos+=8}writeSFixed64(u){this.realloc(8),this.dataView.setInt32(this.pos,-1&u,!0),this.dataView.setInt32(this.pos+4,Math.floor(u*dg),!0),this.pos+=8}writeVarint(u){(u=+u||0)>268435455||u<0?function(c,v){let w,U;if(c>=0?(w=c%4294967296|0,U=c/4294967296|0):(w=~(-c%4294967296),U=~(-c/4294967296),4294967295^w?w=w+1|0:(w=0,U=U+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");v.realloc(10),function(K,G,H){H.buf[H.pos++]=127&K|128,K>>>=7,H.buf[H.pos++]=127&K|128,K>>>=7,H.buf[H.pos++]=127&K|128,K>>>=7,H.buf[H.pos++]=127&K|128,H.buf[H.pos]=127&(K>>>=7)}(w,0,v),function(K,G){const H=(7&K)<<4;G.buf[G.pos++]|=H|((K>>>=3)?128:0),K&&(G.buf[G.pos++]=127&K|((K>>>=7)?128:0),K&&(G.buf[G.pos++]=127&K|((K>>>=7)?128:0),K&&(G.buf[G.pos++]=127&K|((K>>>=7)?128:0),K&&(G.buf[G.pos++]=127&K|((K>>>=7)?128:0),K&&(G.buf[G.pos++]=127&K)))))}(U,v)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))}writeSVarint(u){this.writeVarint(u<0?2*-u-1:2*u)}writeBoolean(u){this.writeVarint(+u)}writeString(u){u=String(u),this.realloc(4*u.length),this.pos++;const c=this.pos;this.pos=function(w,U,K){for(let G,H,ae=0;ae<U.length;ae++){if(G=U.charCodeAt(ae),G>55295&&G<57344){if(!H){G>56319||ae+1===U.length?(w[K++]=239,w[K++]=191,w[K++]=189):H=G;continue}if(G<56320){w[K++]=239,w[K++]=191,w[K++]=189,H=G;continue}G=H-55296<<10|G-56320|65536,H=null}else H&&(w[K++]=239,w[K++]=191,w[K++]=189,H=null);G<128?w[K++]=G:(G<2048?w[K++]=G>>6|192:(G<65536?w[K++]=G>>12|224:(w[K++]=G>>18|240,w[K++]=G>>12&63|128),w[K++]=G>>6&63|128),w[K++]=63&G|128)}return K}(this.buf,u,this.pos);const v=this.pos-c;v>=128&&PA(c,v,this),this.pos=c-1,this.writeVarint(v),this.pos+=v}writeFloat(u){this.realloc(4),this.dataView.setFloat32(this.pos,u,!0),this.pos+=4}writeDouble(u){this.realloc(8),this.dataView.setFloat64(this.pos,u,!0),this.pos+=8}writeBytes(u){const c=u.length;this.writeVarint(c),this.realloc(c);for(let v=0;v<c;v++)this.buf[this.pos++]=u[v]}writeRawMessage(u,c){this.pos++;const v=this.pos;u(c,this);const w=this.pos-v;w>=128&&PA(v,w,this),this.pos=v-1,this.writeVarint(w),this.pos+=w}writeMessage(u,c,v){this.writeTag(u,2),this.writeRawMessage(c,v)}writePackedVarint(u,c){c.length&&this.writeMessage(u,By,c)}writePackedSVarint(u,c){c.length&&this.writeMessage(u,mh,c)}writePackedBoolean(u,c){c.length&&this.writeMessage(u,TC,c)}writePackedFloat(u,c){c.length&&this.writeMessage(u,Oy,c)}writePackedDouble(u,c){c.length&&this.writeMessage(u,Iy,c)}writePackedFixed32(u,c){c.length&&this.writeMessage(u,mp,c)}writePackedSFixed32(u,c){c.length&&this.writeMessage(u,fg,c)}writePackedFixed64(u,c){c.length&&this.writeMessage(u,p1,c)}writePackedSFixed64(u,c){c.length&&this.writeMessage(u,zm,c)}writeBytesField(u,c){this.writeTag(u,2),this.writeBytes(c)}writeFixed32Field(u,c){this.writeTag(u,5),this.writeFixed32(c)}writeSFixed32Field(u,c){this.writeTag(u,5),this.writeSFixed32(c)}writeFixed64Field(u,c){this.writeTag(u,1),this.writeFixed64(c)}writeSFixed64Field(u,c){this.writeTag(u,1),this.writeSFixed64(c)}writeVarintField(u,c){this.writeTag(u,0),this.writeVarint(c)}writeSVarintField(u,c){this.writeTag(u,0),this.writeSVarint(c)}writeStringField(u,c){this.writeTag(u,2),this.writeString(c)}writeFloatField(u,c){this.writeTag(u,5),this.writeFloat(c)}writeDoubleField(u,c){this.writeTag(u,1),this.writeDouble(c)}writeBooleanField(u,c){this.writeVarintField(u,+c)}}function pp(h,u,c){return c?4294967296*u+(h>>>0):4294967296*(u>>>0)+(h>>>0)}function PA(h,u,c){const v=u<=16383?1:u<=2097151?2:u<=268435455?3:Math.floor(Math.log(u)/(7*Math.LN2));c.realloc(v);for(let w=c.pos-1;w>=h;w--)c.buf[w+v]=c.buf[w]}function By(h,u){for(let c=0;c<h.length;c++)u.writeVarint(h[c])}function mh(h,u){for(let c=0;c<h.length;c++)u.writeSVarint(h[c])}function Oy(h,u){for(let c=0;c<h.length;c++)u.writeFloat(h[c])}function Iy(h,u){for(let c=0;c<h.length;c++)u.writeDouble(h[c])}function TC(h,u){for(let c=0;c<h.length;c++)u.writeBoolean(h[c])}function mp(h,u){for(let c=0;c<h.length;c++)u.writeFixed32(h[c])}function fg(h,u){for(let c=0;c<h.length;c++)u.writeSFixed32(h[c])}function p1(h,u){for(let c=0;c<h.length;c++)u.writeFixed64(h[c])}function zm(h,u){for(let c=0;c<h.length;c++)u.writeSFixed64(h[c])}function Ty(h,u,c){h===1&&c.readMessage(ky,u)}function ky(h,u,c){if(h===3){const{id:v,bitmap:w,width:U,height:K,left:G,top:H,advance:ae}=c.readMessage(Dy,{});u.push({id:v,bitmap:new nc({width:U+6,height:K+6},w),metrics:{width:U,height:K,left:G,top:H,advance:ae}})}}function Dy(h,u,c){h===1?u.id=c.readVarint():h===2?u.bitmap=c.readBytes():h===3?u.width=c.readVarint():h===4?u.height=c.readVarint():h===5?u.left=c.readSVarint():h===6?u.top=c.readSVarint():h===7&&(u.advance=c.readVarint())}function pg(h){let u=0,c=0;for(const K of h)u+=K.w*K.h,c=Math.max(c,K.w);h.sort((K,G)=>G.h-K.h);const v=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),c),h:1/0}];let w=0,U=0;for(const K of h)for(let G=v.length-1;G>=0;G--){const H=v[G];if(!(K.w>H.w||K.h>H.h)){if(K.x=H.x,K.y=H.y,U=Math.max(U,K.y+K.h),w=Math.max(w,K.x+K.w),K.w===H.w&&K.h===H.h){const ae=v.pop();ae&&G<v.length&&(v[G]=ae)}else K.h===H.h?(H.x+=K.w,H.w-=K.w):K.w===H.w?(H.y+=K.h,H.h-=K.h):(v.push({x:H.x+K.w,y:H.y,w:H.w-K.w,h:K.h}),H.y+=K.h,H.h-=K.h);break}}return{w,h:U,fill:u/(w*U)||0}}class B0{constructor(u,{pixelRatio:c,version:v,stretchX:w,stretchY:U,content:K,textFitWidth:G,textFitHeight:H}){this.paddedRect=u,this.pixelRatio=c,this.stretchX=w,this.stretchY=U,this.content=K,this.version=v,this.textFitWidth=G,this.textFitHeight=H}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Ry{constructor(u,c){const v={},w={};this.haveRenderCallbacks=[];const U=[];this.addImages(u,v,U),this.addImages(c,w,U);const{w:K,h:G}=pg(U),H=new _u({width:K||1,height:G||1});for(const ae in u){const ce=u[ae],xe=v[ae].paddedRect;_u.copy(ce.data,H,{x:0,y:0},{x:xe.x+1,y:xe.y+1},ce.data)}for(const ae in c){const ce=c[ae],xe=w[ae].paddedRect,Le=xe.x+1,qe=xe.y+1,$e=ce.data.width,nt=ce.data.height;_u.copy(ce.data,H,{x:0,y:0},{x:Le,y:qe},ce.data),_u.copy(ce.data,H,{x:0,y:nt-1},{x:Le,y:qe-1},{width:$e,height:1}),_u.copy(ce.data,H,{x:0,y:0},{x:Le,y:qe+nt},{width:$e,height:1}),_u.copy(ce.data,H,{x:$e-1,y:0},{x:Le-1,y:qe},{width:1,height:nt}),_u.copy(ce.data,H,{x:0,y:0},{x:Le+$e,y:qe},{width:1,height:nt})}this.image=H,this.iconPositions=v,this.patternPositions=w}addImages(u,c,v){for(const w in u){const U=u[w],K={x:0,y:0,w:U.data.width+2,h:U.data.height+2};v.push(K),c[w]=new B0(K,U),U.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(u,c){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const v in u.updatedImages)this.patchUpdatedImage(this.iconPositions[v],u.getImage(v),c),this.patchUpdatedImage(this.patternPositions[v],u.getImage(v),c)}patchUpdatedImage(u,c,v){if(!u||!c||u.version===c.version)return;u.version=c.version;const[w,U]=u.tl;v.update(c.data,void 0,{x:w,y:U})}}var gp;hi("ImagePosition",B0),hi("ImageAtlas",Ry),s.ao=void 0,(gp=s.ao||(s.ao={}))[gp.none=0]="none",gp[gp.horizontal=1]="horizontal",gp[gp.vertical=2]="vertical",gp[gp.horizontalOnly=3]="horizontalOnly";class jm{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(u,c,v){const w=new jm;return w.scale=u||1,w.fontStack=c,w.verticalAlign=v||"bottom",w}static forImage(u,c){const v=new jm;return v.imageName=u,v.verticalAlign=c||"bottom",v}}class yp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,c){const v=new yp;for(let w=0;w<u.sections.length;w++){const U=u.sections[w];U.image?v.addImageSection(U):v.addTextSection(U,c)}return v}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=function(u){let c="";for(let v=0;v<u.length;v++){const w=u.charCodeAt(v+1)||null,U=u.charCodeAt(v-1)||null;c+=w&&ch(w)&&!Qd[u[v+1]]||U&&ch(U)&&!Qd[u[v-1]]||!Qd[u[v]]?u[v]:Qd[u[v]]}return c}(this.text)}trim(){let u=0;for(let v=0;v<this.text.length&&Sf[this.text.charCodeAt(v)];v++)u++;let c=this.text.length;for(let v=this.text.length-1;v>=0&&v>=u&&Sf[this.text.charCodeAt(v)];v--)c--;this.text=this.text.substring(u,c),this.sectionIndex=this.sectionIndex.slice(u,c)}substring(u,c){const v=new yp;return v.text=this.text.substring(u,c),v.sectionIndex=this.sectionIndex.slice(u,c),v.sections=this.sections,v}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,c)=>Math.max(u,this.sections[c].scale),0)}getMaxImageSize(u){let c=0,v=0;for(let w=0;w<this.length();w++){const U=this.getSection(w);if(U.imageName){const K=u[U.imageName];if(!K)continue;const G=K.displaySize;c=Math.max(c,G[0]),v=Math.max(v,G[1])}}return{maxImageWidth:c,maxImageHeight:v}}addTextSection(u,c){this.text+=u.text,this.sections.push(jm.forText(u.scale,u.fontStack||c,u.verticalAlign));const v=this.sections.length-1;for(let w=0;w<u.text.length;++w)this.sectionIndex.push(v)}addImageSection(u){const c=u.image?u.image.name:"";if(c.length===0)return void It("Can't add FormattedSection with an empty image.");const v=this.getNextImageSectionCharCode();v?(this.text+=String.fromCharCode(v),this.sections.push(jm.forImage(c,u.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):It("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function O0(h,u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e){const nt=yp.fromFeature(h,w);let ct;xe===s.ao.vertical&&nt.verticalizePunctuation();const{processBidirectionalText:wt,processStyledBidirectionalText:qt}=$l;if(wt&&nt.sections.length===1){ct=[];const un=wt(nt.toString(),Gm(nt,ae,U,u,v,qe));for(const _n of un){const Kn=new yp;Kn.text=_n,Kn.sections=nt.sections;for(let mi=0;mi<_n.length;mi++)Kn.sectionIndex.push(0);ct.push(Kn)}}else if(qt){ct=[];const un=qt(nt.text,nt.sectionIndex,Gm(nt,ae,U,u,v,qe));for(const _n of un){const Kn=new yp;Kn.text=_n[0],Kn.sectionIndex=_n[1],Kn.sections=nt.sections,ct.push(Kn)}}else ct=function(un,_n){const Kn=[],mi=un.text;let si=0;for(const fi of _n)Kn.push(un.substring(si,fi)),si=fi;return si<mi.length&&Kn.push(un.substring(si,mi.length)),Kn}(nt,Gm(nt,ae,U,u,v,qe));const Dt=[],Nt={positionedLines:Dt,text:nt.toString(),top:ce[1],bottom:ce[1],left:ce[0],right:ce[0],writingMode:xe,iconsInText:!1,verticalizable:!1};return function(un,_n,Kn,mi,si,fi,rr,Ai,pi,In,gr,Ir){let Ar=0,Fi=0,Qr=0,Ga=0;const Es=Ai==="right"?1:Ai==="left"?0:.5,Ll=ol/Ir;let UA=0;for(const Us of si){Us.trim();const pl=Us.getMaxScale(),Qu={positionedGlyphs:[],lineOffset:0};un.positionedLines[UA]=Qu;const Mu=Qu.positionedGlyphs;let Yu=0;if(!Us.length()){Fi+=fi,++UA;continue}const Hc=Ky(mi,Us,Ll);for(let dA=0;dA<Us.length();dA++){const ml=Us.getSection(dA),au=Us.getSectionIndex(dA),gl=Us.getCharCode(dA),yl=v1(pi,gr,gl);let Xa;if(ml.imageName){if(un.iconsInText=!0,ml.scale=ml.scale*Ll,Xa=Ly(ml,yl,pl,Hc,mi),!Xa)continue;Yu=Math.max(Yu,Xa.imageOffset)}else if(Xa=kC(ml,gl,yl,Hc,_n,Kn),!Xa)continue;const{rect:Nh,metrics:Zm,baselineOffset:Vc}=Xa;Mu.push({glyph:gl,imageName:ml.imageName,x:Ar,y:Fi+Vc+-17,vertical:yl,scale:ml.scale,fontStack:ml.fontStack,sectionIndex:au,metrics:Zm,rect:Nh}),yl?(un.verticalizable=!0,Ar+=(ml.imageName?Zm.advance:ol)*ml.scale+In):Ar+=Zm.advance*ml.scale+In}Mu.length!==0&&(Qr=Math.max(Ar-In,Qr),yg(Mu,0,Mu.length-1,Es)),Ar=0,Qu.lineOffset=Math.max(Yu,(pl-1)*ol);const wu=fi*pl+Yu;Fi+=wu,Ga=Math.max(wu,Ga),++UA}const{horizontalAlign:Fl,verticalAlign:Wu}=gg(rr);(function(Us,pl,Qu,Mu,Yu,Hc,wu,dA,ml){const au=(pl-Qu)*Yu;let gl=0;gl=Hc!==wu?-dA*Mu- -17:-Mu*ml*wu+.5*wu;for(const yl of Us)for(const Xa of yl.positionedGlyphs)Xa.x+=au,Xa.y+=gl})(un.positionedLines,Es,Fl,Wu,Qr,Ga,fi,Fi,si.length),un.top+=-Wu*Fi,un.bottom=un.top+Fi,un.left+=-Fl*Qr,un.right=un.left+Qr}(Nt,u,c,v,ct,K,G,H,xe,ae,Le,$e),!function(un){for(const _n of un)if(_n.positionedGlyphs.length!==0)return!1;return!0}(Dt)&&Nt}const Sf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},mg={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Py={40:!0};function Nm(h,u,c,v,w,U){if(u.imageName){const K=v[u.imageName];return K?K.displaySize[0]*u.scale*ol/U+w:0}{const K=c[u.fontStack],G=K&&K[h];return G?G.metrics.advance*u.scale+w:0}}function m1(h,u,c,v){const w=Math.pow(h-u,2);return v?h<u?w/2:2*w:w+Math.abs(c)*c}function Uy(h,u,c){let v=0;return h===10&&(v-=1e4),c&&(v+=150),h!==40&&h!==65288||(v+=50),u!==41&&u!==65289||(v+=50),v}function g1(h,u,c,v,w,U){let K=null,G=m1(u,c,w,U);for(const H of v){const ae=m1(u-H.x,c,w,U)+H.badness;ae<=G&&(K=H,G=ae)}return{index:h,x:u,priorBreak:K,badness:G}}function y1(h){return h?y1(h.priorBreak).concat(h.index):[]}function Gm(h,u,c,v,w,U){if(!h)return[];const K=[],G=function(xe,Le,qe,$e,nt,ct){let wt=0;for(let qt=0;qt<xe.length();qt++){const Dt=xe.getSection(qt);wt+=Nm(xe.getCharCode(qt),Dt,$e,nt,Le,ct)}return wt/Math.max(1,Math.ceil(wt/qe))}(h,u,c,v,w,U),H=h.text.indexOf("​")>=0;let ae=0;for(let xe=0;xe<h.length();xe++){const Le=h.getSection(xe),qe=h.getCharCode(xe);if(Sf[qe]||(ae+=Nm(qe,Le,v,w,u,U)),xe<h.length()-1){const $e=!((ce=qe)<11904)&&(!!ro["CJK Compatibility Forms"](ce)||!!ro["CJK Compatibility"](ce)||!!ro["CJK Strokes"](ce)||!!ro["CJK Symbols and Punctuation"](ce)||!!ro["Enclosed CJK Letters and Months"](ce)||!!ro["Halfwidth and Fullwidth Forms"](ce)||!!ro["Ideographic Description Characters"](ce)||!!ro["Vertical Forms"](ce)||Kh.test(String.fromCodePoint(ce)));(mg[qe]||$e||Le.imageName||xe!==h.length()-2&&Py[h.getCharCode(xe+1)])&&K.push(g1(xe+1,ae,G,K,Uy(qe,h.getCharCode(xe+1),$e&&H),!1))}}var ce;return y1(g1(h.length(),ae,G,K,0,!0))}function gg(h){let u=.5,c=.5;switch(h){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(h){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:u,verticalAlign:c}}function Ky(h,u,c){const v=u.getMaxScale()*ol,{maxImageWidth:w,maxImageHeight:U}=u.getMaxImageSize(h),K=Math.max(v,U*c);return{verticalLineContentWidth:Math.max(v,w*c),horizontalLineContentHeight:K}}function Ss(h){switch(h){case"top":return 0;case"center":return .5;default:return 1}}function v1(h,u,c){return!(h===s.ao.horizontal||!u&&!wA(c)||u&&(Sf[c]||(v=c,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(v)))));var v}function kC(h,u,c,v,w,U){const K=U[h.fontStack],G=function(ae,ce,xe,Le){if(ae&&ae.rect)return ae;const qe=ce[xe.fontStack],$e=qe&&qe[Le];return $e?{rect:null,metrics:$e.metrics}:null}(K&&K[u],w,h,u);if(G===null)return null;let H;if(c)H=v.verticalLineContentWidth-h.scale*ol;else{const ae=Ss(h.verticalAlign);H=(v.horizontalLineContentHeight-h.scale*ol)*ae}return{rect:G.rect,metrics:G.metrics,baselineOffset:H}}function Ly(h,u,c,v,w){const U=w[h.imageName];if(!U)return null;const K=U.paddedRect,G=U.displaySize,H={width:G[0],height:G[1],left:1,top:-3,advance:u?G[1]:G[0]};let ae;if(u)ae=v.verticalLineContentWidth-G[1]*h.scale;else{const ce=Ss(h.verticalAlign);ae=(v.horizontalLineContentHeight-G[1]*h.scale)*ce}return{rect:K,metrics:H,baselineOffset:ae,imageOffset:(u?G[0]:G[1])*h.scale-ol*c}}function yg(h,u,c,v){if(v===0)return;const w=h[c],U=(h[c].x+w.metrics.advance*w.scale)*v;for(let K=u;K<=c;K++)h[K].x-=U}function DC(h,u,c){const{horizontalAlign:v,verticalAlign:w}=gg(c),U=u[0]-h.displaySize[0]*v,K=u[1]-h.displaySize[1]*w;return{image:h,top:K,bottom:K+h.displaySize[1],left:U,right:U+h.displaySize[0]}}function C1(h){var u,c;let v=h.left,w=h.top,U=h.right-v,K=h.bottom-w;const G=(u=h.image.textFitWidth)!==null&&u!==void 0?u:"stretchOrShrink",H=(c=h.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",ae=(h.image.content[2]-h.image.content[0])/(h.image.content[3]-h.image.content[1]);if(H==="proportional"){if(G==="stretchOnly"&&U/K<ae||G==="proportional"){const ce=Math.ceil(K*ae);v*=ce/U,U=ce}}else if(G==="proportional"&&H==="stretchOnly"&&ae!==0&&U/K>ae){const ce=Math.ceil(U/ae);w*=ce/K,K=ce}return{x1:v,y1:w,x2:v+U,y2:w+K}}function Wm(h,u,c,v,w,U){const K=h.image;let G;if(K.content){const ct=K.content,wt=K.pixelRatio||1;G=[ct[0]/wt,ct[1]/wt,K.displaySize[0]-ct[2]/wt,K.displaySize[1]-ct[3]/wt]}const H=u.left*U,ae=u.right*U;let ce,xe,Le,qe;c==="width"||c==="both"?(qe=w[0]+H-v[3],xe=w[0]+ae+v[1]):(qe=w[0]+(H+ae-K.displaySize[0])/2,xe=qe+K.displaySize[0]);const $e=u.top*U,nt=u.bottom*U;return c==="height"||c==="both"?(ce=w[1]+$e-v[0],Le=w[1]+nt+v[2]):(ce=w[1]+($e+nt-K.displaySize[1])/2,Le=ce+K.displaySize[1]),{image:K,top:ce,right:xe,bottom:Le,left:qe,collisionPadding:G}}const rc=128,pd=32640;function Qm(h,u){const{expression:c}=u;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Lo(h+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:v,interpolationType:w}=c;let U=0;for(;U<v.length&&v[U]<=h;)U++;U=Math.max(0,U-1);let K=U;for(;K<v.length&&v[K]<h+1;)K++;K=Math.min(v.length-1,K);const G=v[U],H=v[K];return c.kind==="composite"?{kind:"composite",minZoom:G,maxZoom:H,interpolationType:w}:{kind:"camera",minZoom:G,maxZoom:H,minSize:c.evaluate(new Lo(G)),maxSize:c.evaluate(new Lo(H)),interpolationType:w}}}function Ym(h,u,c){let v="never";const w=h.get(u);return w?v=w:h.get(c)&&(v="always"),v}const vp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function gh(h,u,c,v,w,U,K,G,H,ae,ce,xe,Le){const qe=G?Math.min(pd,Math.round(G[0])):0,$e=G?Math.min(pd,Math.round(G[1])):0;h.emplaceBack(u,c,Math.round(32*v),Math.round(32*w),U,K,(qe<<1)+(H?1:0),$e,16*ae,16*ce,256*xe,256*Le)}function Yp(h,u,c){h.emplaceBack(u.x,u.y,c),h.emplaceBack(u.x,u.y,c),h.emplaceBack(u.x,u.y,c),h.emplaceBack(u.x,u.y,c)}function RC(h){for(const u of h.sections)if(gf(u.text))return!0;return!1}class qp{constructor(u){this.layoutVertexArray=new Yn,this.indexArray=new fa,this.programConfigurations=u,this.segments=new Tr,this.dynamicLayoutVertexArray=new kn,this.opacityVertexArray=new wi,this.hasVisibleVertices=!1,this.placedSymbolArray=new Je}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(u,c,v,w){this.isEmpty()||(v&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,d1.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,Fm.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,vp,!0),this.opacityVertexBuffer.itemSize=1),(v||w)&&this.programConfigurations.upload(u))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}hi("SymbolBuffers",qp);class Hp{constructor(u,c,v){this.layoutVertexArray=new u,this.layoutAttributes=c,this.indexArray=new v,this.segments=new Tr,this.collisionVertexArray=new xo}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,S0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}hi("CollisionBuffers",Hp);class Vp{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.globalState=u.globalState,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(K=>K.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qm(this.zoom,c["text-size"]),this.iconSizeData=Qm(this.zoom,c["icon-size"]);const v=this.layers[0].layout,w=v.get("symbol-sort-key"),U=v.get("symbol-z-order");this.canOverlap=Ym(v,"text-overlap","text-allow-overlap")!=="never"||Ym(v,"icon-overlap","icon-allow-overlap")!=="never"||v.get("text-ignore-placement")||v.get("icon-ignore-placement"),this.sortFeaturesByKey=U!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(U==="viewport-y"||U==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,v.get("symbol-placement")==="point"&&(this.writingModes=v.get("text-writing-mode").map(K=>s.ao[K])),this.stateDependentLayerIds=this.layers.filter(K=>K.isStateDependent()).map(K=>K.id),this.sourceID=u.sourceID}createArrays(){this.text=new qp(new Za(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new qp(new Za(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new ft,this.lineVertexArray=new Mt,this.symbolInstances=new ht,this.textAnchorOffsets=new St}calculateGlyphDependencies(u,c,v,w,U){for(let K=0;K<u.length;K++)if(c[u.charCodeAt(K)]=!0,(v||w)&&U){const G=Qd[u.charAt(K)];G&&(c[G.charCodeAt(0)]=!0)}}populate(u,c,v){const w=this.layers[0],U=w.layout,K=U.get("text-font"),G=U.get("text-field"),H=U.get("icon-image"),ae=(G.value.kind!=="constant"||G.value.value instanceof Io&&!G.value.value.isEmpty()||G.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),ce=H.value.kind!=="constant"||!!H.value.value||Object.keys(H.parameters).length>0,xe=U.get("symbol-sort-key");if(this.features=[],!ae&&!ce)return;const Le=c.iconDependencies,qe=c.glyphDependencies,$e=c.availableImages,nt=new Lo(this.zoom,{globalState:this.globalState});for(const{feature:ct,id:wt,index:qt,sourceLayerIndex:Dt}of u){const Nt=w._featureFilter.needGeometry,un=AA(ct,Nt);if(!w._featureFilter.filter(nt,un,v))continue;let _n,Kn;if(Nt||(un.geometry=Ta(ct)),ae){const si=w.getValueAndResolveTokens("text-field",un,v,$e),fi=Io.factory(si),rr=this.hasRTLText=this.hasRTLText||RC(fi);(!rr||$l.getRTLTextPluginStatus()==="unavailable"||rr&&$l.isParsed())&&(_n=dp(fi,w,un))}if(ce){const si=w.getValueAndResolveTokens("icon-image",un,v,$e);Kn=si instanceof os?si:os.fromString(si)}if(!_n&&!Kn)continue;const mi=this.sortFeaturesByKey?xe.evaluate(un,{},v):void 0;if(this.features.push({id:wt,text:_n,icon:Kn,index:qt,sourceLayerIndex:Dt,geometry:un.geometry,properties:ct.properties,type:Qp.types[ct.type],sortKey:mi}),Kn&&(Le[Kn.name]=!0),_n){const si=K.evaluate(un,{},v).join(","),fi=U.get("text-rotation-alignment")!=="viewport"&&U.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ao.vertical)>=0;for(const rr of _n.sections)if(rr.image)Le[rr.image.name]=!0;else{const Ai=Vl(_n.toString()),pi=rr.fontStack||si,In=qe[pi]=qe[pi]||{};this.calculateGlyphDependencies(rr.text,In,fi,this.allowVerticalPlacement,Ai)}}}U.get("symbol-placement")==="line"&&(this.features=function(ct){const wt={},qt={},Dt=[];let Nt=0;function un(si){Dt.push(ct[si]),Nt++}function _n(si,fi,rr){const Ai=qt[si];return delete qt[si],qt[fi]=Ai,Dt[Ai].geometry[0].pop(),Dt[Ai].geometry[0]=Dt[Ai].geometry[0].concat(rr[0]),Ai}function Kn(si,fi,rr){const Ai=wt[fi];return delete wt[fi],wt[si]=Ai,Dt[Ai].geometry[0].shift(),Dt[Ai].geometry[0]=rr[0].concat(Dt[Ai].geometry[0]),Ai}function mi(si,fi,rr){const Ai=rr?fi[0][fi[0].length-1]:fi[0][0];return`${si}:${Ai.x}:${Ai.y}`}for(let si=0;si<ct.length;si++){const fi=ct[si],rr=fi.geometry,Ai=fi.text?fi.text.toString():null;if(!Ai){un(si);continue}const pi=mi(Ai,rr),In=mi(Ai,rr,!0);if(pi in qt&&In in wt&&qt[pi]!==wt[In]){const gr=Kn(pi,In,rr),Ir=_n(pi,In,Dt[gr].geometry);delete wt[pi],delete qt[In],qt[mi(Ai,Dt[Ir].geometry,!0)]=Ir,Dt[gr].geometry=null}else pi in qt?_n(pi,In,rr):In in wt?Kn(pi,In,rr):(un(si),wt[pi]=Nt-1,qt[In]=Nt-1)}return Dt.filter(si=>si.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ct,wt)=>ct.sortKey-wt.sortKey)}update(u,c,v){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,c,this.layers,{imagePositions:v,globalState:this.globalState}),this.icon.programConfigurations.updatePaintArrays(u,c,this.layers,{imagePositions:v,globalState:this.globalState}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,c){const v=this.lineVertexArray.length;if(u.segment!==void 0){let w=u.dist(c[u.segment+1]),U=u.dist(c[u.segment]);const K={};for(let G=u.segment+1;G<c.length;G++)K[G]={x:c[G].x,y:c[G].y,tileUnitDistanceFromAnchor:w},G<c.length-1&&(w+=c[G+1].dist(c[G]));for(let G=u.segment||0;G>=0;G--)K[G]={x:c[G].x,y:c[G].y,tileUnitDistanceFromAnchor:U},G>0&&(U+=c[G-1].dist(c[G]));for(let G=0;G<c.length;G++){const H=K[G];this.lineVertexArray.emplaceBack(H.x,H.y,H.tileUnitDistanceFromAnchor)}}return{lineStartIndex:v,lineLength:this.lineVertexArray.length-v}}addSymbols(u,c,v,w,U,K,G,H,ae,ce,xe,Le){const qe=u.indexArray,$e=u.layoutVertexArray,nt=u.segments.prepareSegment(4*c.length,$e,qe,this.canOverlap?K.sortKey:void 0),ct=this.glyphOffsetArray.length,wt=nt.vertexLength,qt=this.allowVerticalPlacement&&G===s.ao.vertical?Math.PI/2:0,Dt=K.text&&K.text.sections;for(let Nt=0;Nt<c.length;Nt++){const{tl:un,tr:_n,bl:Kn,br:mi,tex:si,pixelOffsetTL:fi,pixelOffsetBR:rr,minFontScaleX:Ai,minFontScaleY:pi,glyphOffset:In,isSDF:gr,sectionIndex:Ir}=c[Nt],Ar=nt.vertexLength,Fi=In[1];gh($e,H.x,H.y,un.x,Fi+un.y,si.x,si.y,v,gr,fi.x,fi.y,Ai,pi),gh($e,H.x,H.y,_n.x,Fi+_n.y,si.x+si.w,si.y,v,gr,rr.x,fi.y,Ai,pi),gh($e,H.x,H.y,Kn.x,Fi+Kn.y,si.x,si.y+si.h,v,gr,fi.x,rr.y,Ai,pi),gh($e,H.x,H.y,mi.x,Fi+mi.y,si.x+si.w,si.y+si.h,v,gr,rr.x,rr.y,Ai,pi),Yp(u.dynamicLayoutVertexArray,H,qt),qe.emplaceBack(Ar,Ar+2,Ar+1),qe.emplaceBack(Ar+1,Ar+2,Ar+3),nt.vertexLength+=4,nt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(In[0]),Nt!==c.length-1&&Ir===c[Nt+1].sectionIndex||u.programConfigurations.populatePaintArrays($e.length,K,K.index,{imagePositions:{},canonical:Le,formattedSection:Dt&&Dt[Ir],globalState:this.globalState})}u.placedSymbolArray.emplaceBack(H.x,H.y,ct,this.glyphOffsetArray.length-ct,wt,ae,ce,H.segment,v?v[0]:0,v?v[1]:0,w[0],w[1],G,0,!1,0,xe)}_addCollisionDebugVertex(u,c,v,w,U,K){return c.emplaceBack(0,0),u.emplaceBack(v.x,v.y,w,U,Math.round(K.x),Math.round(K.y))}addCollisionDebugVertices(u,c,v,w,U,K,G){const H=U.segments.prepareSegment(4,U.layoutVertexArray,U.indexArray),ae=H.vertexLength,ce=U.layoutVertexArray,xe=U.collisionVertexArray,Le=G.anchorX,qe=G.anchorY;this._addCollisionDebugVertex(ce,xe,K,Le,qe,new p(u,c)),this._addCollisionDebugVertex(ce,xe,K,Le,qe,new p(v,c)),this._addCollisionDebugVertex(ce,xe,K,Le,qe,new p(v,w)),this._addCollisionDebugVertex(ce,xe,K,Le,qe,new p(u,w)),H.vertexLength+=4;const $e=U.indexArray;$e.emplaceBack(ae,ae+1),$e.emplaceBack(ae+1,ae+2),$e.emplaceBack(ae+2,ae+3),$e.emplaceBack(ae+3,ae),H.primitiveLength+=4}addDebugCollisionBoxes(u,c,v,w){for(let U=u;U<c;U++){const K=this.collisionBoxArray.get(U);this.addCollisionDebugVertices(K.x1,K.y1,K.x2,K.y2,w?this.textCollisionBox:this.iconCollisionBox,K.anchorPoint,v)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Hp(fr,wf.members,jo),this.iconCollisionBox=new Hp(fr,wf.members,jo);for(let u=0;u<this.symbolInstances.length;u++){const c=this.symbolInstances.get(u);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(u,c,v,w,U,K,G,H,ae){const ce={};for(let xe=c;xe<v;xe++){const Le=u.get(xe);ce.textBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},ce.textFeatureIndex=Le.featureIndex;break}for(let xe=w;xe<U;xe++){const Le=u.get(xe);ce.verticalTextBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},ce.verticalTextFeatureIndex=Le.featureIndex;break}for(let xe=K;xe<G;xe++){const Le=u.get(xe);ce.iconBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},ce.iconFeatureIndex=Le.featureIndex;break}for(let xe=H;xe<ae;xe++){const Le=u.get(xe);ce.verticalIconBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},ce.verticalIconFeatureIndex=Le.featureIndex;break}return ce}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const v=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,v.textBoxStartIndex,v.textBoxEndIndex,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v.iconBoxStartIndex,v.iconBoxEndIndex,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(u,c){const v=u.placedSymbolArray.get(c),w=v.vertexStartIndex+4*v.numGlyphs;for(let U=v.vertexStartIndex;U<w;U+=4)u.indexArray.emplaceBack(U,U+2,U+1),u.indexArray.emplaceBack(U+1,U+2,U+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(u),v=Math.cos(u),w=[],U=[],K=[];for(let G=0;G<this.symbolInstances.length;++G){K.push(G);const H=this.symbolInstances.get(G);w.push(0|Math.round(c*H.anchorX+v*H.anchorY)),U.push(H.featureIndex)}return K.sort((G,H)=>w[G]-w[H]||U[H]-U[G]),K}addToSortKeyRanges(u,c){const v=this.sortKeyRanges[this.sortKeyRanges.length-1];v&&v.sortKey===c?v.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const v=this.symbolInstances.get(c);this.featureSortOrder.push(v.featureIndex),[v.rightJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.leftJustifiedTextSymbolIndex].forEach((w,U,K)=>{w>=0&&K.indexOf(w)===U&&this.addIndicesForPlacedSymbol(this.text,w)}),v.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,v.verticalPlacedTextSymbolIndex),v.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,v.placedIconSymbolIndex),v.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,v.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let _1,vg;hi("SymbolBucket",Vp,{omit:["layers","collisionBoxArray","features","compareText"]}),Vp.MAX_GLYPHS=65535,Vp.addDynamicAttributes=Yp;var qm={get paint(){return vg=vg||new da({"icon-opacity":new Ri(rt.paint_symbol["icon-opacity"]),"icon-color":new Ri(rt.paint_symbol["icon-color"]),"icon-halo-color":new Ri(rt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ri(rt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ri(rt.paint_symbol["icon-halo-blur"]),"icon-translate":new ki(rt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ki(rt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ri(rt.paint_symbol["text-opacity"]),"text-color":new Ri(rt.paint_symbol["text-color"],{runtimeType:br,getOverride:h=>h.textColor,hasOverride:h=>!!h.textColor}),"text-halo-color":new Ri(rt.paint_symbol["text-halo-color"]),"text-halo-width":new Ri(rt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ri(rt.paint_symbol["text-halo-blur"]),"text-translate":new ki(rt.paint_symbol["text-translate"]),"text-translate-anchor":new ki(rt.paint_symbol["text-translate-anchor"])})},get layout(){return _1=_1||new da({"symbol-placement":new ki(rt.layout_symbol["symbol-placement"]),"symbol-spacing":new ki(rt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ki(rt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ri(rt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ki(rt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ki(rt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ki(rt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ki(rt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ki(rt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ki(rt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ri(rt.layout_symbol["icon-size"]),"icon-text-fit":new ki(rt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ki(rt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ri(rt.layout_symbol["icon-image"]),"icon-rotate":new Ri(rt.layout_symbol["icon-rotate"]),"icon-padding":new Ri(rt.layout_symbol["icon-padding"]),"icon-keep-upright":new ki(rt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ri(rt.layout_symbol["icon-offset"]),"icon-anchor":new Ri(rt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ki(rt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ki(rt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ki(rt.layout_symbol["text-rotation-alignment"]),"text-field":new Ri(rt.layout_symbol["text-field"]),"text-font":new Ri(rt.layout_symbol["text-font"]),"text-size":new Ri(rt.layout_symbol["text-size"]),"text-max-width":new Ri(rt.layout_symbol["text-max-width"]),"text-line-height":new ki(rt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ri(rt.layout_symbol["text-letter-spacing"]),"text-justify":new Ri(rt.layout_symbol["text-justify"]),"text-radial-offset":new Ri(rt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ki(rt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Ri(rt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Ri(rt.layout_symbol["text-anchor"]),"text-max-angle":new ki(rt.layout_symbol["text-max-angle"]),"text-writing-mode":new ki(rt.layout_symbol["text-writing-mode"]),"text-rotate":new Ri(rt.layout_symbol["text-rotate"]),"text-padding":new ki(rt.layout_symbol["text-padding"]),"text-keep-upright":new ki(rt.layout_symbol["text-keep-upright"]),"text-transform":new Ri(rt.layout_symbol["text-transform"]),"text-offset":new Ri(rt.layout_symbol["text-offset"]),"text-allow-overlap":new ki(rt.layout_symbol["text-allow-overlap"]),"text-overlap":new ki(rt.layout_symbol["text-overlap"]),"text-ignore-placement":new ki(rt.layout_symbol["text-ignore-placement"]),"text-optional":new ki(rt.layout_symbol["text-optional"])})}};class b1{constructor(u){if(u.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:Ro,this.defaultValue=u}evaluate(u){if(u.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(u.formattedSection))return c.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}hi("FormatSectionOverride",b1,{omit:["defaultValue"]});class I0 extends Xl{constructor(u){super(u,qm)}recalculate(u,c){if(super.recalculate(u,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const v=this.layout.get("text-writing-mode");if(v){const w=[];for(const U of v)w.indexOf(U)<0&&w.push(U);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(u,c,v,w){const U=this.layout.get(u).evaluate(c,{},v,w),K=this._unevaluatedLayout._values[u];return K.isDataDriven()||Ku(K.value)||!U?U:function(G,H){return H.replace(/{([^{}]+)}/g,(ae,ce)=>G&&ce in G?String(G[ce]):"")}(c.properties,U)}createBucket(u){return new Vp(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const u of qm.paint.overridableProperties){if(!I0.hasPaintOverride(this.layout,u))continue;const c=this.paint.get(u),v=new b1(c),w=new rh(v,c.property.specification);let U=null;U=c.value.kind==="constant"||c.value.kind==="source"?new kh("source",w):new id("composite",w,c.value.zoomStops),this.paint._values[u]=new Lr(c.property,U,c.parameters)}}_handleOverridablePaintPropertyUpdate(u,c,v){return!(!this.layout||c.isDataDriven()||v.isDataDriven())&&I0.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,c){const v=u.get("text-field"),w=qm.paint.properties[c];let U=!1;const K=G=>{for(const H of G)if(w.overrides&&w.overrides.hasOverride(H))return void(U=!0)};if(v.value.kind==="constant"&&v.value.value instanceof Io)K(v.value.value.sections);else if(v.value.kind==="source"||v.value.kind==="composite"){const G=ae=>{U||(ae instanceof Hr&&er(ae.value)===La?K(ae.value.sections):ae instanceof nA?K(ae.sections):ae.eachChild(G))},H=v.value;H._styleExpression&&G(H._styleExpression.expression)}return U}}let Fy;var x1={get paint(){return Fy=Fy||new da({"background-color":new ki(rt.paint_background["background-color"]),"background-pattern":new ju(rt.paint_background["background-pattern"]),"background-opacity":new ki(rt.paint_background["background-opacity"])})}};class M1 extends Xl{constructor(u){super(u,x1)}}let zy;var PC={get paint(){return zy=zy||new da({"raster-opacity":new ki(rt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ki(rt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ki(rt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ki(rt.paint_raster["raster-brightness-max"]),"raster-saturation":new ki(rt.paint_raster["raster-saturation"]),"raster-contrast":new ki(rt.paint_raster["raster-contrast"]),"raster-resampling":new ki(rt.paint_raster["raster-resampling"]),"raster-fade-duration":new ki(rt.paint_raster["raster-fade-duration"])})}};class T0 extends Xl{constructor(u){super(u,PC)}}class UC extends Xl{constructor(u){super(u,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=u}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class jy{constructor(u){this._methodToThrottle=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const sa={once:!0},k0=63710088e-1;class ru{constructor(u,c){if(isNaN(u)||isNaN(c))throw new Error(`Invalid LngLat object: (${u}, ${c})`);if(this.lng=+u,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ru(Kt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){const c=Math.PI/180,v=this.lat*c,w=u.lat*c,U=Math.sin(v)*Math.sin(w)+Math.cos(v)*Math.cos(w)*Math.cos((u.lng-this.lng)*c);return k0*Math.acos(Math.min(U,1))}static convert(u){if(u instanceof ru)return u;if(Array.isArray(u)&&(u.length===2||u.length===3))return new ru(Number(u[0]),Number(u[1]));if(!Array.isArray(u)&&typeof u=="object"&&u!==null)return new ru(Number("lng"in u?u.lng:u.lon),Number(u.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Cg=2*Math.PI*k0;function w1(h){return Cg*Math.cos(h*Math.PI/180)}function Yd(h){return(180+h)/360}function $r(h){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h*Math.PI/360)))/360}function D0(h,u){return h/w1(u)}function ou(h){return 360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90}function Tl(h,u){return h*w1(ou(u))}class R0{constructor(u,c,v=0){this.x=+u,this.y=+c,this.z=+v}static fromLngLat(u,c=0){const v=ru.convert(u);return new R0(Yd(v.lng),$r(v.lat),D0(c,v.lat))}toLngLat(){return new ru(360*this.x-180,ou(this.y))}toAltitude(){return Tl(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Cg*(u=ou(this.y),1/Math.cos(u*Math.PI/180));var u}}function Ef(h,u,c){var v=2*Math.PI*6378137/256/Math.pow(2,c);return[h*v-2*Math.PI*6378137/2,u*v-2*Math.PI*6378137/2]}class _g{constructor(u,c,v){if(!function(w,U,K){return!(w<0||w>25||K<0||K>=Math.pow(2,w)||U<0||U>=Math.pow(2,w))}(u,c,v))throw new Error(`x=${c}, y=${v}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=c,this.y=v,this.key=Da(0,u,u,c,v)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,c,v){const w=(K=this.y,G=this.z,H=Ef(256*(U=this.x),256*(K=Math.pow(2,G)-K-1),G),ae=Ef(256*(U+1),256*(K+1),G),H[0]+","+H[1]+","+ae[0]+","+ae[1]);var U,K,G,H,ae;const ce=function(xe,Le,qe){let $e,nt="";for(let ct=xe;ct>0;ct--)$e=1<<ct-1,nt+=(Le&$e?1:0)+(qe&$e?2:0);return nt}(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(v==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,ce).replace(/{bbox-epsg-3857}/g,w)}isChildOf(u){const c=this.z-u.z;return c>0&&u.x===this.x>>c&&u.y===this.y>>c}getTilePoint(u){const c=Math.pow(2,this.z);return new p((u.x*c-this.x)*it,(u.y*c-this.y)*it)}toString(){return`${this.z}/${this.x}/${this.y}`}}class S1{constructor(u,c){this.wrap=u,this.canonical=c,this.key=Da(u,c.z,c.z,c.x,c.y)}}class oc{constructor(u,c,v,w,U){if(this.terrainRttPosMatrix32f=null,u<v)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = ${v}`);this.overscaledZ=u,this.wrap=c,this.canonical=new _g(v,+w,+U),this.key=Da(c,u,v,w,U)}clone(){return new oc(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-u;return u>this.canonical.z?new oc(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new oc(u,this.wrap,u,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(u,c){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const v=this.canonical.z-u;return u>this.canonical.z?Da(this.wrap*+c,u,this.canonical.z,this.canonical.x,this.canonical.y):Da(this.wrap*+c,u,u,this.canonical.x>>v,this.canonical.y>>v)}isChildOf(u){if(u.wrap!==this.wrap)return!1;const c=this.canonical.z-u.canonical.z;return u.overscaledZ===0||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>c&&u.canonical.y===this.canonical.y>>c}children(u){if(this.overscaledZ>=u)return[new oc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,v=2*this.canonical.x,w=2*this.canonical.y;return[new oc(c,this.wrap,c,v,w),new oc(c,this.wrap,c,v+1,w),new oc(c,this.wrap,c,v,w+1),new oc(c,this.wrap,c,v+1,w+1)]}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new oc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new oc(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new S1(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(u){return this.canonical.getTilePoint(new R0(u.x-this.wrap,u.y))}}function Da(h,u,c,v,w){(h*=2)<0&&(h=-1*h-1);const U=1<<c;return(U*U*h+U*w+v).toString(36)+c.toString(36)+u.toString(36)}function $p(h,u){return u?h.properties[u]:h.id}hi("CanonicalTileID",_g),hi("OverscaledTileID",oc,{omit:["terrainRttPosMatrix32f"]});class al{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(u){return this.minX=Math.min(this.minX,u.x),this.minY=Math.min(this.minY,u.y),this.maxX=Math.max(this.maxX,u.x),this.maxY=Math.max(this.maxY,u.y),this}expandBy(u){return this.minX-=u,this.minY-=u,this.maxX+=u,this.maxY+=u,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(u){return this.expandBy(-u)}map(u){const c=new al;return c.extend(u(new p(this.minX,this.minY))),c.extend(u(new p(this.maxX,this.minY))),c.extend(u(new p(this.minX,this.maxY))),c.extend(u(new p(this.maxX,this.maxY))),c}static fromPoints(u){const c=new al;for(const v of u)c.extend(v);return c}contains(u){return u.x>=this.minX&&u.x<=this.maxX&&u.y>=this.minY&&u.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(u){return!this.empty()&&!u.empty()&&u.minX>=this.minX&&u.maxX<=this.maxX&&u.minY>=this.minY&&u.maxY<=this.maxY}intersects(u){return!this.empty()&&!u.empty()&&u.minX<=this.maxX&&u.maxX>=this.minX&&u.minY<=this.maxY&&u.maxY>=this.minY}}class Ny{constructor(u){this._stringToNumber={},this._numberToString=[];for(let c=0;c<u.length;c++){const v=u[c];this._stringToNumber[v]=c,this._numberToString[c]=v}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[u]}}class jh{constructor(u,c,v,w,U){this.type="Feature",this._vectorTileFeature=u,u._z=c,u._x=v,u._y=w,this.properties=u.properties,this.id=U}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){const u={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(u[c]=this[c]);return u}}class P0{constructor(u,c){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new wa(it,16,0),this.grid3D=new wa(it,16,0),this.featureIndexArray=new zt,this.promoteId=c}insert(u,c,v,w,U,K){const G=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(v,w,U);const H=K?this.grid3D:this.grid;for(let ae=0;ae<c.length;ae++){const ce=c[ae],xe=[1/0,1/0,-1/0,-1/0];for(let Le=0;Le<ce.length;Le++){const qe=ce[Le];xe[0]=Math.min(xe[0],qe.x),xe[1]=Math.min(xe[1],qe.y),xe[2]=Math.max(xe[2],qe.x),xe[3]=Math.max(xe[3],qe.y)}xe[0]<it&&xe[1]<it&&xe[2]>=0&&xe[3]>=0&&H.insert(G,xe[0],xe[1],xe[2],xe[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new c1(new fp(this.rawTileData)).layers,this.sourceLayerCoder=new Ny(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,c,v,w){this.loadVTLayers();const U=u.params,K=it/u.tileSize/u.scale,G=Kc(U.filter),H=u.queryGeometry,ae=u.queryPadding*K,ce=al.fromPoints(H),xe=this.grid.query(ce.minX-ae,ce.minY-ae,ce.maxX+ae,ce.maxY+ae),Le=al.fromPoints(u.cameraQueryGeometry).expandBy(ae),qe=this.grid3D.query(Le.minX,Le.minY,Le.maxX,Le.maxY,(ct,wt,qt,Dt)=>function(Nt,un,_n,Kn,mi){for(const fi of Nt)if(un<=fi.x&&_n<=fi.y&&Kn>=fi.x&&mi>=fi.y)return!0;const si=[new p(un,_n),new p(un,mi),new p(Kn,mi),new p(Kn,_n)];if(Nt.length>2){for(const fi of si)if(Fh(Nt,fi))return!0}for(let fi=0;fi<Nt.length-1;fi++)if(op(Nt[fi],Nt[fi+1],si))return!0;return!1}(u.cameraQueryGeometry,ct-ae,wt-ae,qt+ae,Dt+ae));for(const ct of qe)xe.push(ct);xe.sort(dl);const $e={};let nt;for(let ct=0;ct<xe.length;ct++){const wt=xe[ct];if(wt===nt)continue;nt=wt;const qt=this.featureIndexArray.get(wt);let Dt=null;this.loadMatchingFeature($e,qt.bucketIndex,qt.sourceLayerIndex,qt.featureIndex,G,U.layers,U.availableImages,c,v,w,(Nt,un,_n)=>(Dt||(Dt=Ta(Nt)),un.queryIntersectsFeature({queryGeometry:H,feature:Nt,featureState:_n,geometry:Dt,zoom:this.z,transform:u.transform,pixelsToTileUnits:K,pixelPosMatrix:u.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:u.getElevation})))}return $e}loadMatchingFeature(u,c,v,w,U,K,G,H,ae,ce,xe){const Le=this.bucketLayerIDs[c];if(K&&!Le.some(ct=>K.has(ct)))return;const qe=this.sourceLayerCoder.decode(v),$e=this.vtLayers[qe].feature(w);if(U.needGeometry){const ct=AA($e,!0);if(!U.filter(new Lo(this.tileID.overscaledZ),ct,this.tileID.canonical))return}else if(!U.filter(new Lo(this.tileID.overscaledZ),$e))return;const nt=this.getId($e,qe);for(let ct=0;ct<Le.length;ct++){const wt=Le[ct];if(K&&!K.has(wt))continue;const qt=H[wt];if(!qt)continue;let Dt={};nt&&ce&&(Dt=ce.getState(qt.sourceLayer||"_geojsonTileLayer",nt));const Nt=je({},ae[wt]);Nt.paint=Cp(Nt.paint,qt.paint,$e,Dt,G),Nt.layout=Cp(Nt.layout,qt.layout,$e,Dt,G);const un=!xe||xe($e,qt,Dt);if(!un)continue;const _n=new jh($e,this.z,this.x,this.y,nt);_n.layer=Nt;let Kn=u[wt];Kn===void 0&&(Kn=u[wt]=[]),Kn.push({featureIndex:w,feature:_n,intersectionZ:un})}}lookupSymbolFeatures(u,c,v,w,U,K,G,H){const ae={};this.loadVTLayers();const ce=Kc(U);for(const xe of u)this.loadMatchingFeature(ae,v,w,xe,ce,K,G,H,c);return ae}hasLayer(u){for(const c of this.bucketLayerIDs)for(const v of c)if(u===v)return!0;return!1}getId(u,c){var v;let w=u.id;return this.promoteId&&(w=u.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof w=="boolean"&&(w=Number(w)),w===void 0&&(!((v=u.properties)===null||v===void 0)&&v.cluster)&&this.promoteId&&(w=Number(u.properties.cluster_id))),w}}function Cp(h,u,c,v,w){return Ue(h,(U,K)=>{const G=u instanceof XA?u.get(K):null;return G&&G.evaluate?G.evaluate(c,v,w):G})}function dl(h,u){return u-h}function fl(h,u,c,v,w){const U=[];for(let K=0;K<h.length;K++){const G=h[K];let H;for(let ae=0;ae<G.length-1;ae++){let ce=G[ae],xe=G[ae+1];ce.x<u&&xe.x<u||(ce.x<u?ce=new p(u,ce.y+(u-ce.x)/(xe.x-ce.x)*(xe.y-ce.y))._round():xe.x<u&&(xe=new p(u,ce.y+(u-ce.x)/(xe.x-ce.x)*(xe.y-ce.y))._round()),ce.y<c&&xe.y<c||(ce.y<c?ce=new p(ce.x+(c-ce.y)/(xe.y-ce.y)*(xe.x-ce.x),c)._round():xe.y<c&&(xe=new p(ce.x+(c-ce.y)/(xe.y-ce.y)*(xe.x-ce.x),c)._round()),ce.x>=v&&xe.x>=v||(ce.x>=v?ce=new p(v,ce.y+(v-ce.x)/(xe.x-ce.x)*(xe.y-ce.y))._round():xe.x>=v&&(xe=new p(v,ce.y+(v-ce.x)/(xe.x-ce.x)*(xe.y-ce.y))._round()),ce.y>=w&&xe.y>=w||(ce.y>=w?ce=new p(ce.x+(w-ce.y)/(xe.y-ce.y)*(xe.x-ce.x),w)._round():xe.y>=w&&(xe=new p(ce.x+(w-ce.y)/(xe.y-ce.y)*(xe.x-ce.x),w)._round()),H&&ce.equals(H[H.length-1])||(H=[ce],U.push(H)),H.push(xe)))))}}return U}hi("FeatureIndex",P0,{omit:["rawTileData","sourceLayerCoder"]});class md extends p{constructor(u,c,v,w){super(u,c),this.angle=v,w!==void 0&&(this.segment=w)}clone(){return new md(this.x,this.y,this.angle,this.segment)}}function bg(h,u,c,v,w){if(u.segment===void 0||c===0)return!0;let U=u,K=u.segment+1,G=0;for(;G>-c/2;){if(K--,K<0)return!1;G-=h[K].dist(U),U=h[K]}G+=h[K].dist(h[K+1]),K++;const H=[];let ae=0;for(;G<c/2;){const ce=h[K],xe=h[K+1];if(!xe)return!1;let Le=h[K-1].angleTo(ce)-ce.angleTo(xe);for(Le=Math.abs((Le+3*Math.PI)%(2*Math.PI)-Math.PI),H.push({distance:G,angleDelta:Le}),ae+=Le;G-H[0].distance>v;)ae-=H.shift().angleDelta;if(ae>w)return!1;K++,G+=ce.dist(xe)}return!0}function Gy(h){let u=0;for(let c=0;c<h.length-1;c++)u+=h[c].dist(h[c+1]);return u}function E1(h,u,c){return h?.6*u*c:0}function Wy(h,u){return Math.max(h?h.right-h.left:0,u?u.right-u.left:0)}function Qy(h,u,c,v,w,U){const K=E1(c,w,U),G=Wy(c,v)*U;let H=0;const ae=Gy(h)/2;for(let ce=0;ce<h.length-1;ce++){const xe=h[ce],Le=h[ce+1],qe=xe.dist(Le);if(H+qe>ae){const $e=(ae-H)/qe,nt=NA.number(xe.x,Le.x,$e),ct=NA.number(xe.y,Le.y,$e),wt=new md(nt,ct,Le.angleTo(xe),ce);return wt._round(),!K||bg(h,wt,G,K,u)?wt:void 0}H+=qe}}function KC(h,u,c,v,w,U,K,G,H){const ae=E1(v,U,K),ce=Wy(v,w),xe=ce*K,Le=h[0].x===0||h[0].x===H||h[0].y===0||h[0].y===H;return u-xe<u/4&&(u=xe+u/4),B1(h,Le?u/2*G%u:(ce/2+2*U)*K*G%u,u,ae,c,xe,Le,!1,H)}function B1(h,u,c,v,w,U,K,G,H){const ae=U/2,ce=Gy(h);let xe=0,Le=u-c,qe=[];for(let $e=0;$e<h.length-1;$e++){const nt=h[$e],ct=h[$e+1],wt=nt.dist(ct),qt=ct.angleTo(nt);for(;Le+c<xe+wt;){Le+=c;const Dt=(Le-xe)/wt,Nt=NA.number(nt.x,ct.x,Dt),un=NA.number(nt.y,ct.y,Dt);if(Nt>=0&&Nt<H&&un>=0&&un<H&&Le-ae>=0&&Le+ae<=ce){const _n=new md(Nt,un,qt,$e);_n._round(),v&&!bg(h,_n,U,v,w)||qe.push(_n)}}xe+=wt}return G||qe.length||K||(qe=B1(h,xe/2,c,v,w,U,K,!0,H)),qe}function yh(h,u,c,v){const w=[],U=h.image,K=U.pixelRatio,G=U.paddedRect.w-2,H=U.paddedRect.h-2;let ae={x1:h.left,y1:h.top,x2:h.right,y2:h.bottom};const ce=U.stretchX||[[0,G]],xe=U.stretchY||[[0,H]],Le=(In,gr)=>In+gr[1]-gr[0],qe=ce.reduce(Le,0),$e=xe.reduce(Le,0),nt=G-qe,ct=H-$e;let wt=0,qt=qe,Dt=0,Nt=$e,un=0,_n=nt,Kn=0,mi=ct;if(U.content&&v){const In=U.content,gr=In[2]-In[0],Ir=In[3]-In[1];(U.textFitWidth||U.textFitHeight)&&(ae=C1(h)),wt=Zp(ce,0,In[0]),Dt=Zp(xe,0,In[1]),qt=Zp(ce,In[0],In[2]),Nt=Zp(xe,In[1],In[3]),un=In[0]-wt,Kn=In[1]-Dt,_n=gr-qt,mi=Ir-Nt}const si=ae.x1,fi=ae.y1,rr=ae.x2-si,Ai=ae.y2-fi,pi=(In,gr,Ir,Ar)=>{const Fi=U0(In.stretch-wt,qt,rr,si),Qr=Xp(In.fixed-un,_n,In.stretch,qe),Ga=U0(gr.stretch-Dt,Nt,Ai,fi),Es=Xp(gr.fixed-Kn,mi,gr.stretch,$e),Ll=U0(Ir.stretch-wt,qt,rr,si),UA=Xp(Ir.fixed-un,_n,Ir.stretch,qe),Fl=U0(Ar.stretch-Dt,Nt,Ai,fi),Wu=Xp(Ar.fixed-Kn,mi,Ar.stretch,$e),Us=new p(Fi,Ga),pl=new p(Ll,Ga),Qu=new p(Ll,Fl),Mu=new p(Fi,Fl),Yu=new p(Qr/K,Es/K),Hc=new p(UA/K,Wu/K),wu=u*Math.PI/180;if(wu){const au=Math.sin(wu),gl=Math.cos(wu),yl=[gl,-au,au,gl];Us._matMult(yl),pl._matMult(yl),Mu._matMult(yl),Qu._matMult(yl)}const dA=In.stretch+In.fixed,ml=gr.stretch+gr.fixed;return{tl:Us,tr:pl,bl:Mu,br:Qu,tex:{x:U.paddedRect.x+1+dA,y:U.paddedRect.y+1+ml,w:Ir.stretch+Ir.fixed-dA,h:Ar.stretch+Ar.fixed-ml},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yu,pixelOffsetBR:Hc,minFontScaleX:_n/K/rr,minFontScaleY:mi/K/Ai,isSDF:c}};if(v&&(U.stretchX||U.stretchY)){const In=xg(ce,nt,qe),gr=xg(xe,ct,$e);for(let Ir=0;Ir<In.length-1;Ir++){const Ar=In[Ir],Fi=In[Ir+1];for(let Qr=0;Qr<gr.length-1;Qr++)w.push(pi(Ar,gr[Qr],Fi,gr[Qr+1]))}}else w.push(pi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:G+1},{fixed:0,stretch:H+1}));return w}function Zp(h,u,c){let v=0;for(const w of h)v+=Math.max(u,Math.min(c,w[1]))-Math.max(u,Math.min(c,w[0]));return v}function xg(h,u,c){const v=[{fixed:-1,stretch:0}];for(const[w,U]of h){const K=v[v.length-1];v.push({fixed:w-K.stretch,stretch:K.stretch}),v.push({fixed:w-K.stretch,stretch:K.stretch+(U-w)})}return v.push({fixed:u+1,stretch:c}),v}function U0(h,u,c,v){return h/u*c+v}function Xp(h,u,c,v){return h-u*c/v}hi("Anchor",md);class hA{constructor(u,c,v,w,U,K,G,H,ae,ce){var xe;if(this.boxStartIndex=u.length,ae){let Le=K.top,qe=K.bottom;const $e=K.collisionPadding;$e&&(Le-=$e[1],qe+=$e[3]);let nt=qe-Le;nt>0&&(nt=Math.max(10,nt),this.circleDiameter=nt)}else{const Le=!((xe=K.image)===null||xe===void 0)&&xe.content&&(K.image.textFitWidth||K.image.textFitHeight)?C1(K):{x1:K.left,y1:K.top,x2:K.right,y2:K.bottom};Le.y1=Le.y1*G-H[0],Le.y2=Le.y2*G+H[2],Le.x1=Le.x1*G-H[3],Le.x2=Le.x2*G+H[1];const qe=K.collisionPadding;if(qe&&(Le.x1-=qe[0]*G,Le.y1-=qe[1]*G,Le.x2+=qe[2]*G,Le.y2+=qe[3]*G),ce){const $e=new p(Le.x1,Le.y1),nt=new p(Le.x2,Le.y1),ct=new p(Le.x1,Le.y2),wt=new p(Le.x2,Le.y2),qt=ce*Math.PI/180;$e._rotate(qt),nt._rotate(qt),ct._rotate(qt),wt._rotate(qt),Le.x1=Math.min($e.x,nt.x,ct.x,wt.x),Le.x2=Math.max($e.x,nt.x,ct.x,wt.x),Le.y1=Math.min($e.y,nt.y,ct.y,wt.y),Le.y2=Math.max($e.y,nt.y,ct.y,wt.y)}u.emplaceBack(c.x,c.y,Le.x1,Le.y1,Le.x2,Le.y2,v,w,U)}this.boxEndIndex=u.length}}class Hm{constructor(u=[],c=(v,w)=>v<w?-1:v>w?1:0){if(this.data=u,this.length=this.data.length,this.compare=c,this.length>0)for(let v=(this.length>>1)-1;v>=0;v--)this._down(v)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:c,compare:v}=this,w=c[u];for(;u>0;){const U=u-1>>1,K=c[U];if(v(w,K)>=0)break;c[u]=K,u=U}c[u]=w}_down(u){const{data:c,compare:v}=this,w=this.length>>1,U=c[u];for(;u<w;){let K=1+(u<<1);const G=K+1;if(G<this.length&&v(c[G],c[K])<0&&(K=G),v(c[K],U)>=0)break;c[u]=c[K],u=K}c[u]=U}}function gd(h,u=1,c=!1){const v=al.fromPoints(h[0]),w=Math.min(v.width(),v.height());let U=w/2;const K=new Hm([],O1),{minX:G,minY:H,maxX:ae,maxY:ce}=v;if(w===0)return new p(G,H);for(let qe=G;qe<ae;qe+=w)for(let $e=H;$e<ce;$e+=w)K.push(new Jp(qe+U,$e+U,U,h));let xe=function(qe){let $e=0,nt=0,ct=0;const wt=qe[0];for(let qt=0,Dt=wt.length,Nt=Dt-1;qt<Dt;Nt=qt++){const un=wt[qt],_n=wt[Nt],Kn=un.x*_n.y-_n.x*un.y;nt+=(un.x+_n.x)*Kn,ct+=(un.y+_n.y)*Kn,$e+=3*Kn}return new Jp(nt/$e,ct/$e,0,qe)}(h),Le=K.length;for(;K.length;){const qe=K.pop();(qe.d>xe.d||!xe.d)&&(xe=qe,c&&console.log("found best %d after %d probes",Math.round(1e4*qe.d)/1e4,Le)),qe.max-xe.d<=u||(U=qe.h/2,K.push(new Jp(qe.p.x-U,qe.p.y-U,U,h)),K.push(new Jp(qe.p.x+U,qe.p.y-U,U,h)),K.push(new Jp(qe.p.x-U,qe.p.y+U,U,h)),K.push(new Jp(qe.p.x+U,qe.p.y+U,U,h)),Le+=4)}return c&&(console.log(`num probes: ${Le}`),console.log(`best distance: ${xe.d}`)),xe.p}function O1(h,u){return u.max-h.max}function Jp(h,u,c,v){this.p=new p(h,u),this.h=c,this.d=function(w,U){let K=!1,G=1/0;for(let H=0;H<U.length;H++){const ae=U[H];for(let ce=0,xe=ae.length,Le=xe-1;ce<xe;Le=ce++){const qe=ae[ce],$e=ae[Le];qe.y>w.y!=$e.y>w.y&&w.x<($e.x-qe.x)*(w.y-qe.y)/($e.y-qe.y)+qe.x&&(K=!K),G=Math.min(G,ra(w,qe,$e))}}return(K?1:-1)*Math.sqrt(G)}(this.p,v),this.max=this.d+this.h*Math.SQRT2}var Gu;s.aE=void 0,(Gu=s.aE||(s.aE={}))[Gu.center=1]="center",Gu[Gu.left=2]="left",Gu[Gu.right=3]="right",Gu[Gu.top=4]="top",Gu[Gu.bottom=5]="bottom",Gu[Gu["top-left"]=6]="top-left",Gu[Gu["top-right"]=7]="top-right",Gu[Gu["bottom-left"]=8]="bottom-left",Gu[Gu["bottom-right"]=9]="bottom-right";const em=Number.POSITIVE_INFINITY;function qc(h,u){return u[1]!==em?function(c,v,w){let U=0,K=0;switch(v=Math.abs(v),w=Math.abs(w),c){case"top-right":case"top-left":case"top":K=w-7;break;case"bottom-right":case"bottom-left":case"bottom":K=7-w}switch(c){case"top-right":case"bottom-right":case"right":U=-v;break;case"top-left":case"bottom-left":case"left":U=v}return[U,K]}(h,u[0],u[1]):function(c,v){let w=0,U=0;v<0&&(v=0);const K=v/Math.SQRT2;switch(c){case"top-right":case"top-left":U=K-7;break;case"bottom-right":case"bottom-left":U=7-K;break;case"bottom":U=7-v;break;case"top":U=v-7}switch(c){case"top-right":case"bottom-right":w=-K;break;case"top-left":case"bottom-left":w=K;break;case"left":w=v;break;case"right":w=-v}return[w,U]}(h,u[0])}function yd(h,u,c){var v;const w=h.layout,U=(v=w.get("text-variable-anchor-offset"))===null||v===void 0?void 0:v.evaluate(u,{},c);if(U){const G=U.values,H=[];for(let ae=0;ae<G.length;ae+=2){const ce=H[ae]=G[ae],xe=G[ae+1].map(Le=>Le*ol);ce.startsWith("top")?xe[1]-=7:ce.startsWith("bottom")&&(xe[1]+=7),H[ae+1]=xe}return new Ya(H)}const K=w.get("text-variable-anchor");if(K){let G;G=h._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(u,{},c)*ol,em]:w.get("text-offset").evaluate(u,{},c).map(ae=>ae*ol);const H=[];for(const ae of K)H.push(ae,qc(ae,G));return new Ya(H)}return null}function ao(h){switch(h){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function qd(h,u,c,v,w,U,K,G,H,ae,ce,xe){let Le=U.textMaxSize.evaluate(u,{});Le===void 0&&(Le=K);const qe=h.layers[0].layout,$e=qe.get("icon-offset").evaluate(u,{},ce),nt=I1(c.horizontal),ct=K/24,wt=h.tilePixelRatio*ct,qt=h.tilePixelRatio*Le/24,Dt=h.tilePixelRatio*G,Nt=h.tilePixelRatio*qe.get("symbol-spacing"),un=qe.get("text-padding")*h.tilePixelRatio,_n=function(Ir,Ar,Fi,Qr=1){const Ga=Ir.get("icon-padding").evaluate(Ar,{},Fi),Es=Ga&&Ga.values;return[Es[0]*Qr,Es[1]*Qr,Es[2]*Qr,Es[3]*Qr]}(qe,u,ce,h.tilePixelRatio),Kn=qe.get("text-max-angle")/180*Math.PI,mi=qe.get("text-rotation-alignment")!=="viewport"&&qe.get("symbol-placement")!=="point",si=qe.get("icon-rotation-alignment")==="map"&&qe.get("symbol-placement")!=="point",fi=qe.get("symbol-placement"),rr=Nt/2,Ai=qe.get("icon-text-fit");let pi;v&&Ai!=="none"&&(h.allowVerticalPlacement&&c.vertical&&(pi=Wm(v,c.vertical,Ai,qe.get("icon-text-fit-padding"),$e,ct)),nt&&(v=Wm(v,nt,Ai,qe.get("icon-text-fit-padding"),$e,ct)));const In=ce?xe.line.getGranularityForZoomLevel(ce.z):1,gr=(Ir,Ar)=>{Ar.x<0||Ar.x>=it||Ar.y<0||Ar.y>=it||function(Fi,Qr,Ga,Es,Ll,UA,Fl,Wu,Us,pl,Qu,Mu,Yu,Hc,wu,dA,ml,au,gl,yl,Xa,Nh,Zm,Vc,A){const m=Fi.addToLineVertexArray(Qr,Ga);let x,D,Y,se,Ye=0,st=0,jt=0,dn=0,Dn=-1,Nn=-1;const mn={};let pn=hh("");if(Fi.allowVerticalPlacement&&Es.vertical){const wc=Wu.layout.get("text-rotate").evaluate(Xa,{},Vc)+90;Y=new hA(Us,Qr,pl,Qu,Mu,Es.vertical,Yu,Hc,wu,wc),Fl&&(se=new hA(Us,Qr,pl,Qu,Mu,Fl,ml,au,wu,wc))}if(Ll){const wc=Wu.layout.get("icon-rotate").evaluate(Xa,{}),Ch=Wu.layout.get("icon-text-fit")!=="none",nm=yh(Ll,wc,Zm,Ch),Bf=Fl?yh(Fl,wc,Zm,Ch):void 0;D=new hA(Us,Qr,pl,Qu,Mu,Ll,ml,au,!1,wc),Ye=4*nm.length;const z0=Fi.iconSizeData;let bp=null;z0.kind==="source"?(bp=[rc*Wu.layout.get("icon-size").evaluate(Xa,{})],bp[0]>pd&&It(`${Fi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):z0.kind==="composite"&&(bp=[rc*Nh.compositeIconSizes[0].evaluate(Xa,{},Vc),rc*Nh.compositeIconSizes[1].evaluate(Xa,{},Vc)],(bp[0]>pd||bp[1]>pd)&&It(`${Fi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Fi.addSymbols(Fi.icon,nm,bp,yl,gl,Xa,s.ao.none,Qr,m.lineStartIndex,m.lineLength,-1,Vc),Dn=Fi.icon.placedSymbolArray.length-1,Bf&&(st=4*Bf.length,Fi.addSymbols(Fi.icon,Bf,bp,yl,gl,Xa,s.ao.vertical,Qr,m.lineStartIndex,m.lineLength,-1,Vc),Nn=Fi.icon.placedSymbolArray.length-1)}const Fr=Object.keys(Es.horizontal);for(const wc of Fr){const Ch=Es.horizontal[wc];if(!x){pn=hh(Ch.text);const Bf=Wu.layout.get("text-rotate").evaluate(Xa,{},Vc);x=new hA(Us,Qr,pl,Qu,Mu,Ch,Yu,Hc,wu,Bf)}const nm=Ch.positionedLines.length===1;if(jt+=vh(Fi,Qr,Ch,UA,Wu,wu,Xa,dA,m,Es.vertical?s.ao.horizontal:s.ao.horizontalOnly,nm?Fr:[wc],mn,Dn,Nh,Vc),nm)break}Es.vertical&&(dn+=vh(Fi,Qr,Es.vertical,UA,Wu,wu,Xa,dA,m,s.ao.vertical,["vertical"],mn,Nn,Nh,Vc));const zr=x?x.boxStartIndex:Fi.collisionBoxArray.length,Bs=x?x.boxEndIndex:Fi.collisionBoxArray.length,nn=Y?Y.boxStartIndex:Fi.collisionBoxArray.length,Zt=Y?Y.boxEndIndex:Fi.collisionBoxArray.length,cn=D?D.boxStartIndex:Fi.collisionBoxArray.length,Ln=D?D.boxEndIndex:Fi.collisionBoxArray.length,ar=se?se.boxStartIndex:Fi.collisionBoxArray.length,$o=se?se.boxEndIndex:Fi.collisionBoxArray.length;let or=-1;const Dr=(wc,Ch)=>wc&&wc.circleDiameter?Math.max(wc.circleDiameter,Ch):Ch;or=Dr(x,or),or=Dr(Y,or),or=Dr(D,or),or=Dr(se,or);const qu=or>-1?1:0;qu&&(or*=A/ol),Fi.glyphOffsetArray.length>=Vp.MAX_GLYPHS&&It("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xa.sortKey!==void 0&&Fi.addToSortKeyRanges(Fi.symbolInstances.length,Xa.sortKey);const Ra=yd(Wu,Xa,Vc),[_p,LC]=function(wc,Ch){const nm=wc.length,Bf=Ch?.values;if(Bf?.length>0)for(let z0=0;z0<Bf.length;z0+=2){const bp=Bf[z0+1];wc.emplaceBack(s.aE[Bf[z0]],bp[0],bp[1])}return[nm,wc.length]}(Fi.textAnchorOffsets,Ra);Fi.symbolInstances.emplaceBack(Qr.x,Qr.y,mn.right>=0?mn.right:-1,mn.center>=0?mn.center:-1,mn.left>=0?mn.left:-1,mn.vertical||-1,Dn,Nn,pn,zr,Bs,nn,Zt,cn,Ln,ar,$o,pl,jt,dn,Ye,st,qu,0,Yu,or,_p,LC)}(h,Ar,Ir,c,v,w,pi,h.layers[0],h.collisionBoxArray,u.index,u.sourceLayerIndex,h.index,wt,[un,un,un,un],mi,H,Dt,_n,si,$e,u,U,ae,ce,K)};if(fi==="line")for(const Ir of fl(u.geometry,0,0,it,it)){const Ar=gs(Ir,In),Fi=KC(Ar,Nt,Kn,c.vertical||nt,v,24,qt,h.overscaling,it);for(const Qr of Fi)nt&&Vm(h,nt.text,rr,Qr)||gr(Ar,Qr)}else if(fi==="line-center"){for(const Ir of u.geometry)if(Ir.length>1){const Ar=gs(Ir,In),Fi=Qy(Ar,Kn,c.vertical||nt,v,24,qt);Fi&&gr(Ar,Fi)}}else if(u.type==="Polygon")for(const Ir of nh(u.geometry,0)){const Ar=gd(Ir,16);gr(gs(Ir[0],In,!0),new md(Ar.x,Ar.y,0))}else if(u.type==="LineString")for(const Ir of u.geometry){const Ar=gs(Ir,In);gr(Ar,new md(Ar[0].x,Ar[0].y,0))}else if(u.type==="Point")for(const Ir of u.geometry)for(const Ar of Ir)gr([Ar],new md(Ar.x,Ar.y,0))}function vh(h,u,c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e){const nt=function(qt,Dt,Nt,un,_n,Kn,mi,si){const fi=un.layout.get("text-rotate").evaluate(Kn,{})*Math.PI/180,rr=[];for(const Ai of Dt.positionedLines)for(const pi of Ai.positionedGlyphs){if(!pi.rect)continue;const In=pi.rect||{};let gr=4,Ir=!0,Ar=1,Fi=0;const Qr=(_n||si)&&pi.vertical,Ga=pi.metrics.advance*pi.scale/2;if(si&&Dt.verticalizable&&(Fi=Ai.lineOffset/2-(pi.imageName?-(ol-pi.metrics.width*pi.scale)/2:(pi.scale-1)*ol)),pi.imageName){const au=mi[pi.imageName];Ir=au.sdf,Ar=au.pixelRatio,gr=1/Ar}const Es=_n?[pi.x+Ga,pi.y]:[0,0];let Ll=_n?[0,0]:[pi.x+Ga+Nt[0],pi.y+Nt[1]-Fi],UA=[0,0];Qr&&(UA=Ll,Ll=[0,0]);const Fl=pi.metrics.isDoubleResolution?2:1,Wu=(pi.metrics.left-gr)*pi.scale-Ga+Ll[0],Us=(-pi.metrics.top-gr)*pi.scale+Ll[1],pl=Wu+In.w/Fl*pi.scale/Ar,Qu=Us+In.h/Fl*pi.scale/Ar,Mu=new p(Wu,Us),Yu=new p(pl,Us),Hc=new p(Wu,Qu),wu=new p(pl,Qu);if(Qr){const au=new p(-Ga,Ga- -17),gl=-Math.PI/2,yl=12-Ga,Xa=new p(22-yl,-(pi.imageName?yl:0)),Nh=new p(...UA);Mu._rotateAround(gl,au)._add(Xa)._add(Nh),Yu._rotateAround(gl,au)._add(Xa)._add(Nh),Hc._rotateAround(gl,au)._add(Xa)._add(Nh),wu._rotateAround(gl,au)._add(Xa)._add(Nh)}if(fi){const au=Math.sin(fi),gl=Math.cos(fi),yl=[gl,-au,au,gl];Mu._matMult(yl),Yu._matMult(yl),Hc._matMult(yl),wu._matMult(yl)}const dA=new p(0,0),ml=new p(0,0);rr.push({tl:Mu,tr:Yu,bl:Hc,br:wu,tex:In,writingMode:Dt.writingMode,glyphOffset:Es,sectionIndex:pi.sectionIndex,isSDF:Ir,pixelOffsetTL:dA,pixelOffsetBR:ml,minFontScaleX:0,minFontScaleY:0})}return rr}(0,c,G,w,U,K,v,h.allowVerticalPlacement),ct=h.textSizeData;let wt=null;ct.kind==="source"?(wt=[rc*w.layout.get("text-size").evaluate(K,{})],wt[0]>pd&&It(`${h.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ct.kind==="composite"&&(wt=[rc*qe.compositeTextSizes[0].evaluate(K,{},$e),rc*qe.compositeTextSizes[1].evaluate(K,{},$e)],(wt[0]>pd||wt[1]>pd)&&It(`${h.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),h.addSymbols(h.text,nt,wt,G,U,K,ae,u,H.lineStartIndex,H.lineLength,Le,$e);for(const qt of ce)xe[qt]=h.text.placedSymbolArray.length-1;return 4*nt.length}function I1(h){for(const u in h)return h[u];return null}function Vm(h,u,c,v){const w=h.compareText;if(u in w){const U=w[u];for(let K=U.length-1;K>=0;K--)if(v.dist(U[K])<c)return!0}else w[u]=[];return w[u].push(v),!1}const Na=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class T1{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,v]=new Uint8Array(u,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const w=v>>4;if(w!==1)throw new Error(`Got v${w} data when expected v1.`);const U=Na[15&v];if(!U)throw new Error("Unrecognized array type.");const[K]=new Uint16Array(u,2,1),[G]=new Uint32Array(u,4,1);return new T1(G,K,U,u)}constructor(u,c=64,v=Float64Array,w){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=v,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;const U=Na.indexOf(this.ArrayType),K=2*u*this.ArrayType.BYTES_PER_ELEMENT,G=u*this.IndexArrayType.BYTES_PER_ELEMENT,H=(8-G%8)%8;if(U<0)throw new Error(`Unexpected typed array class: ${v}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+G+H,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+K+G+H),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+G+H,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+U]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=u)}add(u,c){const v=this._pos>>1;return this.ids[v]=v,this.coords[this._pos++]=u,this.coords[this._pos++]=c,v}finish(){const u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return Mg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,c,v,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:U,coords:K,nodeSize:G}=this,H=[0,U.length-1,0],ae=[];for(;H.length;){const ce=H.pop()||0,xe=H.pop()||0,Le=H.pop()||0;if(xe-Le<=G){for(let ct=Le;ct<=xe;ct++){const wt=K[2*ct],qt=K[2*ct+1];wt>=u&&wt<=v&&qt>=c&&qt<=w&&ae.push(U[ct])}continue}const qe=Le+xe>>1,$e=K[2*qe],nt=K[2*qe+1];$e>=u&&$e<=v&&nt>=c&&nt<=w&&ae.push(U[qe]),(ce===0?u<=$e:c<=nt)&&(H.push(Le),H.push(qe-1),H.push(1-ce)),(ce===0?v>=$e:w>=nt)&&(H.push(qe+1),H.push(xe),H.push(1-ce))}return ae}within(u,c,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:U,nodeSize:K}=this,G=[0,w.length-1,0],H=[],ae=v*v;for(;G.length;){const ce=G.pop()||0,xe=G.pop()||0,Le=G.pop()||0;if(xe-Le<=K){for(let ct=Le;ct<=xe;ct++)Yy(U[2*ct],U[2*ct+1],u,c)<=ae&&H.push(w[ct]);continue}const qe=Le+xe>>1,$e=U[2*qe],nt=U[2*qe+1];Yy($e,nt,u,c)<=ae&&H.push(w[qe]),(ce===0?u-v<=$e:c-v<=nt)&&(G.push(Le),G.push(qe-1),G.push(1-ce)),(ce===0?u+v>=$e:c+v>=nt)&&(G.push(qe+1),G.push(xe),G.push(1-ce))}return H}}function Mg(h,u,c,v,w,U){if(w-v<=c)return;const K=v+w>>1;K0(h,u,K,v,w,U),Mg(h,u,c,v,K-1,1-U),Mg(h,u,c,K+1,w,1-U)}function K0(h,u,c,v,w,U){for(;w>v;){if(w-v>600){const ae=w-v+1,ce=c-v+1,xe=Math.log(ae),Le=.5*Math.exp(2*xe/3),qe=.5*Math.sqrt(xe*Le*(ae-Le)/ae)*(ce-ae/2<0?-1:1);K0(h,u,c,Math.max(v,Math.floor(c-ce*Le/ae+qe)),Math.min(w,Math.floor(c+(ae-ce)*Le/ae+qe)),U)}const K=u[2*c+U];let G=v,H=w;for(L0(h,u,v,c),u[2*w+U]>K&&L0(h,u,v,w);G<H;){for(L0(h,u,G,H),G++,H--;u[2*G+U]<K;)G++;for(;u[2*H+U]>K;)H--}u[2*v+U]===K?L0(h,u,v,H):(H++,L0(h,u,H,w)),H<=c&&(v=H+1),c<=H&&(w=H-1)}}function L0(h,u,c,v){k1(h,c,v),k1(u,2*c,2*v),k1(u,2*c+1,2*v+1)}function k1(h,u,c){const v=h[u];h[u]=h[c],h[c]=v}function Yy(h,u,c,v){const w=h-c,U=u-v;return w*w+U*U}var D1;s.cx=void 0,(D1=s.cx||(s.cx={})).create="create",D1.load="load",D1.fullLoad="fullLoad";let F0=null,Hd=[];const tm=1e3/60,wg="loadTime",R1="fullLoadTime",$m={mark(h){performance.mark(h)},frame(h){const u=h;F0!=null&&Hd.push(u-F0),F0=u},clearMetrics(){F0=null,Hd=[],performance.clearMeasures(wg),performance.clearMeasures(R1);for(const h in s.cx)performance.clearMarks(s.cx[h])},getPerformanceMetrics(){performance.measure(wg,s.cx.create,s.cx.load),performance.measure(R1,s.cx.create,s.cx.fullLoad);const h=performance.getEntriesByName(wg)[0].duration,u=performance.getEntriesByName(R1)[0].duration,c=Hd.length,v=1/(Hd.reduce((U,K)=>U+K,0)/c/1e3),w=Hd.filter(U=>U>tm).reduce((U,K)=>U+(K-tm)/tm,0);return{loadTime:h,fullLoadTime:u,fps:v,percentDroppedFrames:w/(c+w)*100,totalFrames:c}}};s.$=it,s.A=re,s.B=function([h,u,c]){return u+=90,u*=Math.PI/180,c*=Math.PI/180,{x:h*Math.cos(u)*Math.sin(c),y:h*Math.sin(u)*Math.sin(c),z:h*Math.cos(c)}},s.C=NA,s.D=ki,s.E=kt,s.F=Lo,s.G=wl,s.H=function(h){if(on==null){const u=h.navigator?h.navigator.userAgent:null;on=!!h.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return on},s.I=B0,s.J=class{constructor(h,u){this.target=h,this.mapId=u,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new jy(()=>this.process()),this.subscription=Tn(this.target,"message",c=>this.receive(c),!1),this.globalScope=Ut(self)?h:window}registerMessageHandler(h,u){this.messageHandlers[h]=u}sendAsync(h,u){return new Promise((c,v)=>{const w=Math.round(1e18*Math.random()).toString(36).substring(0,10),U=u?Tn(u.signal,"abort",()=>{U?.unsubscribe(),delete this.resolveRejects[w];const H={id:w,type:"<cancel>",origin:location.origin,targetMapId:h.targetMapId,sourceMapId:this.mapId};this.target.postMessage(H)},sa):null;this.resolveRejects[w]={resolve:H=>{U?.unsubscribe(),c(H)},reject:H=>{U?.unsubscribe(),v(H)}};const K=[],G=Object.assign(Object.assign({},h),{id:w,sourceMapId:this.mapId,origin:location.origin,data:Fc(h.data,K)});this.target.postMessage(G,{transfer:K})})}receive(h){const u=h.data,c=u.id;if(!(u.origin!=="file://"&&location.origin!=="file://"&&u.origin!=="resource://android"&&location.origin!=="resource://android"&&u.origin!==location.origin||u.targetMapId&&this.mapId!==u.targetMapId)){if(u.type==="<cancel>"){delete this.tasks[c];const v=this.abortControllers[c];return delete this.abortControllers[c],void(v&&v.abort())}if(Ut(self)||u.mustQueue)return this.tasks[c]=u,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,u)}}process(){if(this.taskQueue.length===0)return;const h=this.taskQueue.shift(),u=this.tasks[h];delete this.tasks[h],this.taskQueue.length>0&&this.invoker.trigger(),u&&this.processTask(h,u)}processTask(h,u){return a(this,void 0,void 0,function*(){if(u.type==="<response>"){const w=this.resolveRejects[h];return delete this.resolveRejects[h],w?void(u.error?w.reject(MA(u.error)):w.resolve(MA(u.data))):void 0}if(!this.messageHandlers[u.type])return void this.completeTask(h,new Error(`Could not find a registered handler for ${u.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const c=MA(u.data),v=new AbortController;this.abortControllers[h]=v;try{const w=yield this.messageHandlers[u.type](u.sourceMapId,c,v);this.completeTask(h,null,w)}catch(w){this.completeTask(h,w)}})}completeTask(h,u,c){const v=[];delete this.abortControllers[h];const w={id:h,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:u?Fc(u):null,data:Fc(c,v)};this.target.postMessage(w,{transfer:v})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.K=Ie,s.L=function(){var h=new re(16);return re!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h},s.M=function(h,u,c){var v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt=c[0],ct=c[1],wt=c[2];return u===h?(h[12]=u[0]*nt+u[4]*ct+u[8]*wt+u[12],h[13]=u[1]*nt+u[5]*ct+u[9]*wt+u[13],h[14]=u[2]*nt+u[6]*ct+u[10]*wt+u[14],h[15]=u[3]*nt+u[7]*ct+u[11]*wt+u[15]):(w=u[1],U=u[2],K=u[3],G=u[4],H=u[5],ae=u[6],ce=u[7],xe=u[8],Le=u[9],qe=u[10],$e=u[11],h[0]=v=u[0],h[1]=w,h[2]=U,h[3]=K,h[4]=G,h[5]=H,h[6]=ae,h[7]=ce,h[8]=xe,h[9]=Le,h[10]=qe,h[11]=$e,h[12]=v*nt+G*ct+xe*wt+u[12],h[13]=w*nt+H*ct+Le*wt+u[13],h[14]=U*nt+ae*ct+qe*wt+u[14],h[15]=K*nt+ce*ct+$e*wt+u[15]),h},s.N=function(h,u,c){var v=c[0],w=c[1],U=c[2];return h[0]=u[0]*v,h[1]=u[1]*v,h[2]=u[2]*v,h[3]=u[3]*v,h[4]=u[4]*w,h[5]=u[5]*w,h[6]=u[6]*w,h[7]=u[7]*w,h[8]=u[8]*U,h[9]=u[9]*U,h[10]=u[10]*U,h[11]=u[11]*U,h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15],h},s.O=function(h,u,c){var v=u[0],w=u[1],U=u[2],K=u[3],G=u[4],H=u[5],ae=u[6],ce=u[7],xe=u[8],Le=u[9],qe=u[10],$e=u[11],nt=u[12],ct=u[13],wt=u[14],qt=u[15],Dt=c[0],Nt=c[1],un=c[2],_n=c[3];return h[0]=Dt*v+Nt*G+un*xe+_n*nt,h[1]=Dt*w+Nt*H+un*Le+_n*ct,h[2]=Dt*U+Nt*ae+un*qe+_n*wt,h[3]=Dt*K+Nt*ce+un*$e+_n*qt,h[4]=(Dt=c[4])*v+(Nt=c[5])*G+(un=c[6])*xe+(_n=c[7])*nt,h[5]=Dt*w+Nt*H+un*Le+_n*ct,h[6]=Dt*U+Nt*ae+un*qe+_n*wt,h[7]=Dt*K+Nt*ce+un*$e+_n*qt,h[8]=(Dt=c[8])*v+(Nt=c[9])*G+(un=c[10])*xe+(_n=c[11])*nt,h[9]=Dt*w+Nt*H+un*Le+_n*ct,h[10]=Dt*U+Nt*ae+un*qe+_n*wt,h[11]=Dt*K+Nt*ce+un*$e+_n*qt,h[12]=(Dt=c[12])*v+(Nt=c[13])*G+(un=c[14])*xe+(_n=c[15])*nt,h[13]=Dt*w+Nt*H+un*Le+_n*ct,h[14]=Dt*U+Nt*ae+un*qe+_n*wt,h[15]=Dt*K+Nt*ce+un*$e+_n*qt,h},s.P=p,s.Q=function(h,u){const c={};for(let v=0;v<u.length;v++){const w=u[v];w in h&&(c[w]=h[w])}return c},s.R=_u,s.S=ru,s.T=C,s.U=$r,s.V=Yd,s.W=Q,s.X=$,s.Y=Gn,s.Z=oc,s._=a,s.a=le,s.a$=be,s.a0=function(h,u){var c,v,w,U,K;if(!h)return u??{};if(!u)return h;let G=Object.assign({},h);if(u.removeAll&&(G={removeAll:!0}),u.remove){const H=new Set(u.remove);G.add&&(G.add=G.add.filter(ce=>!H.has(ce.id))),G.update&&(G.update=G.update.filter(ce=>!H.has(ce.id)));const ae=new Set(((c=h.add)!==null&&c!==void 0?c:[]).map(ce=>ce.id));u.remove=u.remove.filter(ce=>!ae.has(ce))}if(u.remove){const H=new Set(G.remove?G.remove.concat(u.remove):u.remove);G.remove=Array.from(H.values())}if(u.add){const H=G.add?G.add.concat(u.add):u.add,ae=new Map(H.map(ce=>[ce.id,ce]));G.add=Array.from(ae.values())}if(u.update){const H=new Map((v=G.update)===null||v===void 0?void 0:v.map(ae=>[ae.id,ae]));for(const ae of u.update){const ce=(w=H.get(ae.id))!==null&&w!==void 0?w:{id:ae.id};ae.newGeometry&&(ce.newGeometry=ae.newGeometry),ae.addOrUpdateProperties&&(ce.addOrUpdateProperties=((U=ce.addOrUpdateProperties)!==null&&U!==void 0?U:[]).concat(ae.addOrUpdateProperties)),ae.removeProperties&&(ce.removeProperties=((K=ce.removeProperties)!==null&&K!==void 0?K:[]).concat(ae.removeProperties)),ae.removeAllProperties&&(ce.removeAllProperties=!0),H.set(ae.id,ce)}G.update=Array.from(H.values())}return G.remove&&G.add&&(G.remove=G.remove.filter(H=>G.add.findIndex(ae=>ae.id===H)===-1)),G},s.a1=R0,s.a2=al,s.a3=25,s.a4=_g,s.a5=h=>{const u=window.document.createElement("video");return u.muted=!0,new Promise(c=>{u.onloadstart=()=>{c(u)};for(const v of h){const w=window.document.createElement("source");Re(v)||(u.crossOrigin="Anonymous"),w.src=v,u.appendChild(w)}})},s.a6=Sn,s.a7=function(){return Ke++},s.a8=Ee,s.a9=Vp,s.aA=function(h){let u=1/0,c=1/0,v=-1/0,w=-1/0;for(const U of h)u=Math.min(u,U.x),c=Math.min(c,U.y),v=Math.max(v,U.x),w=Math.max(w,U.y);return[u,c,v,w]},s.aB=ol,s.aC=ue,s.aD=function(h,u,c,v,w=!1){if(!c[0]&&!c[1])return[0,0];const U=w?v==="map"?-h.bearingInRadians:0:v==="viewport"?h.bearingInRadians:0;if(U){const K=Math.sin(U),G=Math.cos(U);c=[c[0]*G-c[1]*K,c[0]*K+c[1]*G]}return[w?c[0]:ue(u,c[0],h.zoom),w?c[1]:ue(u,c[1],h.zoom)]},s.aF=Ym,s.aG=ao,s.aH=gg,s.aI=T1,s.aJ=Va,s.aK=ka,s.aL=Ot,s.aM=Tr,s.aN=fa,s.aO=Kt,s.aP=Vn,s.aQ=Tl,s.aR=ve,s.aS=ge,s.aT=function(h){var u=new re(3);return u[0]=h[0],u[1]=h[1],u[2]=h[2],u},s.aU=function(h,u,c){return h[0]=u[0]-c[0],h[1]=u[1]-c[1],h[2]=u[2]-c[2],h},s.aV=function(h,u){var c=u[0],v=u[1],w=u[2],U=c*c+v*v+w*w;return U>0&&(U=1/Math.sqrt(U)),h[0]=u[0]*U,h[1]=u[1]*U,h[2]=u[2]*U,h},s.aW=_e,s.aX=function(h,u){return h[0]*u[0]+h[1]*u[1]+h[2]*u[2]},s.aY=function(h,u,c){return h[0]=u[0]*c[0],h[1]=u[1]*c[1],h[2]=u[2]*c[2],h[3]=u[3]*c[3],h},s.aZ=W,s.a_=function(h,u,c){const v=u[0]*c[0]+u[1]*c[1]+u[2]*c[2];return v===0?null:(-(h[0]*c[0]+h[1]*c[1]+h[2]*c[2])-c[3])/v},s.aa=Kc,s.ab=AA,s.ac=jh,s.ad=function(h){const u={};if(h.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,v,w,U)=>{const K=w||U;return u[v]=!K||K.toLowerCase(),""}),u["max-age"]){const c=parseInt(u["max-age"],10);isNaN(c)?delete u["max-age"]:u["max-age"]=c}return u},s.ae=Oi,s.af=function(h){return Math.pow(2,h)},s.ag=V,s.ah=xt,s.ai=85.051129,s.aj=D0,s.ak=function(h){return Math.log(h)/Math.LN2},s.al=function(h){var u=h[0],c=h[1];return u*u+c*c},s.am=function(h,u){const c=[];for(const v in h)v in u||c.push(v);return c},s.an=function(h,u){let c=0,v=0;if(h.kind==="constant")v=h.layoutSize;else if(h.kind!=="source"){const{interpolationType:w,minZoom:U,maxZoom:K}=h,G=w?xt(za.interpolationFactor(w,u,U,K),0,1):0;h.kind==="camera"?v=NA.number(h.minSize,h.maxSize,G):c=G}return{uSizeT:c,uSize:v}},s.ap=function(h,{uSize:u,uSizeT:c},{lowerSize:v,upperSize:w}){return h.kind==="source"?v/rc:h.kind==="composite"?NA.number(v/rc,w/rc,c):u},s.aq=function(h,u){var c=u[0],v=u[1],w=u[2],U=u[3],K=u[4],G=u[5],H=u[6],ae=u[7],ce=u[8],xe=u[9],Le=u[10],qe=u[11],$e=u[12],nt=u[13],ct=u[14],wt=u[15],qt=c*G-v*K,Dt=c*H-w*K,Nt=c*ae-U*K,un=v*H-w*G,_n=v*ae-U*G,Kn=w*ae-U*H,mi=ce*nt-xe*$e,si=ce*ct-Le*$e,fi=ce*wt-qe*$e,rr=xe*ct-Le*nt,Ai=xe*wt-qe*nt,pi=Le*wt-qe*ct,In=qt*pi-Dt*Ai+Nt*rr+un*fi-_n*si+Kn*mi;return In?(h[0]=(G*pi-H*Ai+ae*rr)*(In=1/In),h[1]=(w*Ai-v*pi-U*rr)*In,h[2]=(nt*Kn-ct*_n+wt*un)*In,h[3]=(Le*_n-xe*Kn-qe*un)*In,h[4]=(H*fi-K*pi-ae*si)*In,h[5]=(c*pi-w*fi+U*si)*In,h[6]=(ct*Nt-$e*Kn-wt*Dt)*In,h[7]=(ce*Kn-Le*Nt+qe*Dt)*In,h[8]=(K*Ai-G*fi+ae*mi)*In,h[9]=(v*fi-c*Ai-U*mi)*In,h[10]=($e*_n-nt*Nt+wt*qt)*In,h[11]=(xe*Nt-ce*_n-qe*qt)*In,h[12]=(G*si-K*rr-H*mi)*In,h[13]=(c*rr-v*si+w*mi)*In,h[14]=(nt*Dt-$e*un-ct*qt)*In,h[15]=(ce*un-xe*Dt+Le*qt)*In,h):null},s.ar=ot,s.as=function(h){var u=h[0],c=h[1];return Math.sqrt(u*u+c*c)},s.at=function(h){return h[0]=0,h[1]=0,h},s.au=function(h,u,c){return h[0]=u[0]*c,h[1]=u[1]*c,h},s.av=Yp,s.aw=ze,s.ax=function(h,u,c,v){const w=u.y-h.y,U=u.x-h.x,K=v.y-c.y,G=v.x-c.x,H=K*U-G*w;if(H===0)return null;const ae=(G*(h.y-c.y)-K*(h.x-c.x))/H;return new p(h.x+ae*U,h.y+ae*w)},s.ay=fl,s.az=Im,s.b=Hn,s.b$=class extends k{},s.b0=function(h,u,c){return h[0]=u[0]*c,h[1]=u[1]*c,h[2]=u[2]*c,h[3]=u[3]*c,h},s.b1=function(h,u){return h[0]*u[0]+h[1]*u[1]+h[2]*u[2]+h[3]},s.b2=S1,s.b3=Da,s.b4=function(h,u,c,v,w){var U=1/Math.tan(u/2);if(h[0]=U/c,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=U,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,w!=null&&w!==1/0){var K=1/(v-w);h[10]=(w+v)*K,h[14]=2*w*v*K}else h[10]=-1,h[14]=-2*v;return h},s.b5=function(h){var u=new re(16);return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=h[6],u[7]=h[7],u[8]=h[8],u[9]=h[9],u[10]=h[10],u[11]=h[11],u[12]=h[12],u[13]=h[13],u[14]=h[14],u[15]=h[15],u},s.b6=function(h,u,c){var v=Math.sin(c),w=Math.cos(c),U=u[0],K=u[1],G=u[2],H=u[3],ae=u[4],ce=u[5],xe=u[6],Le=u[7];return u!==h&&(h[8]=u[8],h[9]=u[9],h[10]=u[10],h[11]=u[11],h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15]),h[0]=U*w+ae*v,h[1]=K*w+ce*v,h[2]=G*w+xe*v,h[3]=H*w+Le*v,h[4]=ae*w-U*v,h[5]=ce*w-K*v,h[6]=xe*w-G*v,h[7]=Le*w-H*v,h},s.b7=function(h,u,c){var v=Math.sin(c),w=Math.cos(c),U=u[4],K=u[5],G=u[6],H=u[7],ae=u[8],ce=u[9],xe=u[10],Le=u[11];return u!==h&&(h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15]),h[4]=U*w+ae*v,h[5]=K*w+ce*v,h[6]=G*w+xe*v,h[7]=H*w+Le*v,h[8]=ae*w-U*v,h[9]=ce*w-K*v,h[10]=xe*w-G*v,h[11]=Le*w-H*v,h},s.b8=function(){const h=new Float32Array(16);return V(h),h},s.b9=function(){const h=new Float64Array(16);return V(h),h},s.bA=function(h,u){const c=We(h,360),v=We(u,360),w=v-c,U=v>c?w-360:w+360;return Math.abs(w)<Math.abs(U)?w:U},s.bB=function(h){return h[0]=0,h[1]=0,h[2]=0,h},s.bC=function(h,u,c,v){const w=Math.sqrt(h*h+u*u),U=Math.sqrt(c*c+v*v);h/=w,u/=w,c/=U,v/=U;const K=Math.acos(h*c+u*v);return-u*c+h*v>0?K:-K},s.bD=function(h,u){const c=We(h,2*Math.PI),v=We(u,2*Math.PI);return Math.min(Math.abs(c-v),Math.abs(c-v+2*Math.PI),Math.abs(c-v-2*Math.PI))},s.bE=function(){const h={},u=rt.$version;for(const c in rt.$root){const v=rt.$root[c];if(v.required){let w=null;w=c==="version"?u:v.type==="array"?[]:{},w!=null&&(h[c]=w)}}return h},s.bF=mf,s.bG=At,s.bH=function h(u,c){if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(let v=0;v<u.length;v++)if(!h(u[v],c[v]))return!1;return!0}if(typeof u=="object"&&u!==null&&c!==null){if(typeof c!="object"||Object.keys(u).length!==Object.keys(c).length)return!1;for(const v in u)if(!h(u[v],c[v]))return!1;return!0}return u===c},s.bI=function(h){h=h.slice();const u=Object.create(null);for(let c=0;c<h.length;c++)u[h[c].id]=h[c];for(let c=0;c<h.length;c++)"ref"in h[c]&&(h[c]=Rn(h[c],u[h[c].ref]));return h},s.bJ=function(h){if(h.type==="custom")return new UC(h);switch(h.type){case"background":return new M1(h);case"circle":return new sp(h);case"color-relief":return new F(h);case"fill":return new xf(h);case"fill-extrusion":return new aa(h);case"heatmap":return new qs(h);case"hillshade":return new M0(h);case"line":return new Yc(h);case"raster":return new T0(h);case"symbol":return new I0(h)}},s.bK=bt,s.bL=function(h,u){if(!h)return[{command:"setStyle",args:[u]}];let c=[];try{if(!wn(h.version,u.version))return[{command:"setStyle",args:[u]}];wn(h.center,u.center)||c.push({command:"setCenter",args:[u.center]}),wn(h.state,u.state)||c.push({command:"setGlobalState",args:[u.state]}),wn(h.centerAltitude,u.centerAltitude)||c.push({command:"setCenterAltitude",args:[u.centerAltitude]}),wn(h.zoom,u.zoom)||c.push({command:"setZoom",args:[u.zoom]}),wn(h.bearing,u.bearing)||c.push({command:"setBearing",args:[u.bearing]}),wn(h.pitch,u.pitch)||c.push({command:"setPitch",args:[u.pitch]}),wn(h.roll,u.roll)||c.push({command:"setRoll",args:[u.roll]}),wn(h.sprite,u.sprite)||c.push({command:"setSprite",args:[u.sprite]}),wn(h.glyphs,u.glyphs)||c.push({command:"setGlyphs",args:[u.glyphs]}),wn(h.transition,u.transition)||c.push({command:"setTransition",args:[u.transition]}),wn(h.light,u.light)||c.push({command:"setLight",args:[u.light]}),wn(h.terrain,u.terrain)||c.push({command:"setTerrain",args:[u.terrain]}),wn(h.sky,u.sky)||c.push({command:"setSky",args:[u.sky]}),wn(h.projection,u.projection)||c.push({command:"setProjection",args:[u.projection]});const v={},w=[];(function(K,G,H,ae){let ce;for(ce in G=G||{},K=K||{})Object.prototype.hasOwnProperty.call(K,ce)&&(Object.prototype.hasOwnProperty.call(G,ce)||$i(ce,H,ae));for(ce in G)Object.prototype.hasOwnProperty.call(G,ce)&&(Object.prototype.hasOwnProperty.call(K,ce)?wn(K[ce],G[ce])||(K[ce].type==="geojson"&&G[ce].type==="geojson"&&Ii(K,G,ce)?ri(H,{command:"setGeoJSONSourceData",args:[ce,G[ce].data]}):ir(ce,G,H,ae)):Qn(ce,G,H))})(h.sources,u.sources,w,v);const U=[];h.layers&&h.layers.forEach(K=>{"source"in K&&v[K.source]?c.push({command:"removeLayer",args:[K.id]}):U.push(K)}),c=c.concat(w),function(K,G,H){G=G||[];const ae=(K=K||[]).map(ti),ce=G.map(ti),xe=K.reduce(qi,{}),Le=G.reduce(qi,{}),qe=ae.slice(),$e=Object.create(null);let nt,ct,wt,qt,Dt;for(let Nt=0,un=0;Nt<ae.length;Nt++)nt=ae[Nt],Object.prototype.hasOwnProperty.call(Le,nt)?un++:(ri(H,{command:"removeLayer",args:[nt]}),qe.splice(qe.indexOf(nt,un),1));for(let Nt=0,un=0;Nt<ce.length;Nt++)nt=ce[ce.length-1-Nt],qe[qe.length-1-Nt]!==nt&&(Object.prototype.hasOwnProperty.call(xe,nt)?(ri(H,{command:"removeLayer",args:[nt]}),qe.splice(qe.lastIndexOf(nt,qe.length-un),1)):un++,qt=qe[qe.length-Nt],ri(H,{command:"addLayer",args:[Le[nt],qt]}),qe.splice(qe.length-Nt,0,nt),$e[nt]=!0);for(let Nt=0;Nt<ce.length;Nt++)if(nt=ce[Nt],ct=xe[nt],wt=Le[nt],!$e[nt]&&!wn(ct,wt))if(wn(ct.source,wt.source)&&wn(ct["source-layer"],wt["source-layer"])&&wn(ct.type,wt.type)){for(Dt in di(ct.layout,wt.layout,H,nt,null,"setLayoutProperty"),di(ct.paint,wt.paint,H,nt,null,"setPaintProperty"),wn(ct.filter,wt.filter)||ri(H,{command:"setFilter",args:[nt,wt.filter]}),wn(ct.minzoom,wt.minzoom)&&wn(ct.maxzoom,wt.maxzoom)||ri(H,{command:"setLayerZoomRange",args:[nt,wt.minzoom,wt.maxzoom]}),ct)Object.prototype.hasOwnProperty.call(ct,Dt)&&Dt!=="layout"&&Dt!=="paint"&&Dt!=="filter"&&Dt!=="metadata"&&Dt!=="minzoom"&&Dt!=="maxzoom"&&(Dt.indexOf("paint.")===0?di(ct[Dt],wt[Dt],H,nt,Dt.slice(6),"setPaintProperty"):wn(ct[Dt],wt[Dt])||ri(H,{command:"setLayerProperty",args:[nt,Dt,wt[Dt]]}));for(Dt in wt)Object.prototype.hasOwnProperty.call(wt,Dt)&&!Object.prototype.hasOwnProperty.call(ct,Dt)&&Dt!=="layout"&&Dt!=="paint"&&Dt!=="filter"&&Dt!=="metadata"&&Dt!=="minzoom"&&Dt!=="maxzoom"&&(Dt.indexOf("paint.")===0?di(ct[Dt],wt[Dt],H,nt,Dt.slice(6),"setPaintProperty"):wn(ct[Dt],wt[Dt])||ri(H,{command:"setLayerProperty",args:[nt,Dt,wt[Dt]]}))}else ri(H,{command:"removeLayer",args:[nt]}),qt=qe[qe.lastIndexOf(nt)+1],ri(H,{command:"addLayer",args:[wt,qt]})}(U,u.layers,c)}catch(v){console.warn("Unable to compute style diff:",v),c=[{command:"setStyle",args:[u]}]}return c},s.bM=function(h){const u=[],c=h.id;return c===void 0&&u.push({message:`layers.${c}: missing required property "id"`}),h.render===void 0&&u.push({message:`layers.${c}: missing required method "render"`}),h.renderingMode&&h.renderingMode!=="2d"&&h.renderingMode!=="3d"&&u.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),u},s.bN=Ue,s.bO=Ve,s.bP=class extends Bl{constructor(h,u){super(h,u),this.current=0}set(h){this.current!==h&&(this.current=h,this.gl.uniform1i(this.location,h))}},s.bQ=ia,s.bR=class extends Bl{constructor(h,u){super(h,u),this.current=vu}set(h){if(h[12]!==this.current[12]||h[0]!==this.current[0])return this.current=h,void this.gl.uniformMatrix4fv(this.location,!1,h);for(let u=1;u<16;u++)if(h[u]!==this.current[u]){this.current=h,this.gl.uniformMatrix4fv(this.location,!1,h);break}}},s.bS=Mo,s.bT=class extends Bl{constructor(h,u){super(h,u),this.current=[0,0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]||(this.current=h,this.gl.uniform3f(this.location,h[0],h[1],h[2]))}},s.bU=class extends Bl{constructor(h,u){super(h,u),this.current=[0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]||(this.current=h,this.gl.uniform2f(this.location,h[0],h[1]))}},s.bV=ne,s.bW=function(h,u){var c=Math.sin(u),v=Math.cos(u);return h[0]=v,h[1]=c,h[2]=0,h[3]=-c,h[4]=v,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},s.bX=function(h,u,c){var v=u[0],w=u[1],U=u[2];return h[0]=v*c[0]+w*c[3]+U*c[6],h[1]=v*c[1]+w*c[4]+U*c[7],h[2]=v*c[2]+w*c[5]+U*c[8],h},s.bY=function(h,u,c,v,w,U,K){var G=1/(u-c),H=1/(v-w),ae=1/(U-K);return h[0]=-2*G,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*H,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*ae,h[11]=0,h[12]=(u+c)*G,h[13]=(w+v)*H,h[14]=(K+U)*ae,h[15]=1,h},s.bZ=class extends Bl{constructor(h,u){super(h,u),this.current=new Array}set(h){if(h!=this.current){this.current=h;const u=new Float32Array(4*h.length);for(let c=0;c<h.length;c++)u[4*c]=h[c].r,u[4*c+1]=h[c].g,u[4*c+2]=h[c].b,u[4*c+3]=h[c].a;this.gl.uniform4fv(this.location,u)}}},s.b_=class extends Bl{constructor(h,u){super(h,u),this.current=new Array}set(h){if(h!=this.current){this.current=h;const u=new Float32Array(h);this.gl.uniform1fv(this.location,u)}}},s.ba=function(){return new Float64Array(16)},s.bb=function(h,u,c){const v=new Float64Array(4);return Fe(v,h,u-90,c),v},s.bc=function(h,u,c,v){var w,U,K,G,H,ae=u[0],ce=u[1],xe=u[2],Le=u[3],qe=c[0],$e=c[1],nt=c[2],ct=c[3];return(U=ae*qe+ce*$e+xe*nt+Le*ct)<0&&(U=-U,qe=-qe,$e=-$e,nt=-nt,ct=-ct),1-U>X?(w=Math.acos(U),K=Math.sin(w),G=Math.sin((1-v)*w)/K,H=Math.sin(v*w)/K):(G=1-v,H=v),h[0]=G*ae+H*qe,h[1]=G*ce+H*$e,h[2]=G*xe+H*nt,h[3]=G*Le+H*ct,h},s.bd=function(h){const u=new Float64Array(9);var c,v,w,U,K,G,H,ae,ce,xe,Le,qe,$e,nt,ct,wt,qt,Dt;xe=(w=(v=h)[0])*(H=w+w),Le=(U=v[1])*H,$e=(K=v[2])*H,nt=K*(ae=U+U),wt=(G=v[3])*H,qt=G*ae,Dt=G*(ce=K+K),(c=u)[0]=1-(qe=U*ae)-(ct=K*ce),c[3]=Le-Dt,c[6]=$e+qt,c[1]=Le+Dt,c[4]=1-xe-ct,c[7]=nt-wt,c[2]=$e-qt,c[5]=nt+wt,c[8]=1-xe-qe;const Nt=Vn(-Math.asin(xt(u[2],-1,1)));let un,_n;return Math.hypot(u[5],u[8])<.001?(un=0,_n=-Vn(Math.atan2(u[3],u[4]))):(un=Vn(u[5]===0&&u[8]===0?0:Math.atan2(u[5],u[8])),_n=Vn(u[1]===0&&u[0]===0?0:Math.atan2(u[1],u[0]))),{roll:un,pitch:Nt+90,bearing:_n}},s.be=function(h,u){return h.roll==u.roll&&h.pitch==u.pitch&&h.bearing==u.bearing},s.bf=Sr,s.bg=Wc,s.bh=iu,s.bi=xc,s.bj=kr,s.bk=tt,s.bl=ke,s.bm=xa,s.bn=function(h,u,c,v,w){return tt(v,w,xt((h-u)/(c-u),0,1))},s.bo=We,s.bp=function(){return new Float64Array(3)},s.bq=function(h,u,c,v){return h[0]=u[0]+c[0]*v,h[1]=u[1]+c[1]*v,h[2]=u[2]+c[2]*v,h},s.br=Fe,s.bs=function(h,u,c){var v=c[0],w=c[1],U=c[2],K=c[3],G=u[0],H=u[1],ae=u[2],ce=w*ae-U*H,xe=U*G-v*ae,Le=v*H-w*G;return h[0]=G+K*(ce+=ce)+w*(Le+=Le)-U*(xe+=xe),h[1]=H+K*xe+U*ce-v*Le,h[2]=ae+K*Le+v*xe-w*ce,h},s.bt=function(h,u,c){const v=(w=[h[0],h[1],h[2],u[0],u[1],u[2],c[0],c[1],c[2]])[0]*((ce=w[8])*(K=w[4])-(G=w[5])*(ae=w[7]))+w[1]*(-ce*(U=w[3])+G*(H=w[6]))+w[2]*(ae*U-K*H);var w,U,K,G,H,ae,ce;if(v===0)return null;const xe=_e([],[u[0],u[1],u[2]],[c[0],c[1],c[2]]),Le=_e([],[c[0],c[1],c[2]],[h[0],h[1],h[2]]),qe=_e([],[h[0],h[1],h[2]],[u[0],u[1],u[2]]),$e=ve([],xe,-h[3]);return ge($e,$e,ve([],Le,-u[3])),ge($e,$e,ve([],qe,-c[3])),ve($e,$e,1/v),$e},s.bu=k0,s.bv=function(){return new Float64Array(4)},s.bw=function(h,u,c,v){var w=[],U=[];return w[0]=u[0]-c[0],w[1]=u[1]-c[1],w[2]=u[2]-c[2],U[0]=w[0]*Math.cos(v)-w[1]*Math.sin(v),U[1]=w[0]*Math.sin(v)+w[1]*Math.cos(v),U[2]=w[2],h[0]=U[0]+c[0],h[1]=U[1]+c[1],h[2]=U[2]+c[2],h},s.bx=function(h,u,c,v){var w=[],U=[];return w[0]=u[0]-c[0],w[1]=u[1]-c[1],w[2]=u[2]-c[2],U[0]=w[0],U[1]=w[1]*Math.cos(v)-w[2]*Math.sin(v),U[2]=w[1]*Math.sin(v)+w[2]*Math.cos(v),h[0]=U[0]+c[0],h[1]=U[1]+c[1],h[2]=U[2]+c[2],h},s.by=function(h,u,c,v){var w=[],U=[];return w[0]=u[0]-c[0],w[1]=u[1]-c[1],w[2]=u[2]-c[2],U[0]=w[2]*Math.sin(v)+w[0]*Math.cos(v),U[1]=w[1],U[2]=w[2]*Math.cos(v)-w[0]*Math.sin(v),h[0]=U[0]+c[0],h[1]=U[1]+c[1],h[2]=U[2]+c[2],h},s.bz=function(h,u,c){var v=Math.sin(c),w=Math.cos(c),U=u[0],K=u[1],G=u[2],H=u[3],ae=u[8],ce=u[9],xe=u[10],Le=u[11];return u!==h&&(h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15]),h[0]=U*w-ae*v,h[1]=K*w-ce*v,h[2]=G*w-xe*v,h[3]=H*w-Le*v,h[8]=U*v+ae*w,h[9]=K*v+ce*w,h[10]=G*v+xe*w,h[11]=H*v+Le*w,h},s.c=oe,s.c0=RA,s.c1=class extends f{},s.c2=km,s.c3=function(h){return h<=1?1:Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))},s.c4=cl,s.c5=function(h,u,c){var v=u[0],w=u[1],U=u[2],K=c[3]*v+c[7]*w+c[11]*U+c[15];return h[0]=(c[0]*v+c[4]*w+c[8]*U+c[12])/(K=K||1),h[1]=(c[1]*v+c[5]*w+c[9]*U+c[13])/K,h[2]=(c[2]*v+c[6]*w+c[10]*U+c[14])/K,h},s.c6=class extends il{},s.c7=class extends fe{},s.c8=function(h,u){return h[0]===u[0]&&h[1]===u[1]&&h[2]===u[2]&&h[3]===u[3]&&h[4]===u[4]&&h[5]===u[5]&&h[6]===u[6]&&h[7]===u[7]&&h[8]===u[8]&&h[9]===u[9]&&h[10]===u[10]&&h[11]===u[11]&&h[12]===u[12]&&h[13]===u[13]&&h[14]===u[14]&&h[15]===u[15]},s.c9=function(h,u){var c=h[0],v=h[1],w=h[2],U=h[3],K=h[4],G=h[5],H=h[6],ae=h[7],ce=h[8],xe=h[9],Le=h[10],qe=h[11],$e=h[12],nt=h[13],ct=h[14],wt=h[15],qt=u[0],Dt=u[1],Nt=u[2],un=u[3],_n=u[4],Kn=u[5],mi=u[6],si=u[7],fi=u[8],rr=u[9],Ai=u[10],pi=u[11],In=u[12],gr=u[13],Ir=u[14],Ar=u[15];return Math.abs(c-qt)<=X*Math.max(1,Math.abs(c),Math.abs(qt))&&Math.abs(v-Dt)<=X*Math.max(1,Math.abs(v),Math.abs(Dt))&&Math.abs(w-Nt)<=X*Math.max(1,Math.abs(w),Math.abs(Nt))&&Math.abs(U-un)<=X*Math.max(1,Math.abs(U),Math.abs(un))&&Math.abs(K-_n)<=X*Math.max(1,Math.abs(K),Math.abs(_n))&&Math.abs(G-Kn)<=X*Math.max(1,Math.abs(G),Math.abs(Kn))&&Math.abs(H-mi)<=X*Math.max(1,Math.abs(H),Math.abs(mi))&&Math.abs(ae-si)<=X*Math.max(1,Math.abs(ae),Math.abs(si))&&Math.abs(ce-fi)<=X*Math.max(1,Math.abs(ce),Math.abs(fi))&&Math.abs(xe-rr)<=X*Math.max(1,Math.abs(xe),Math.abs(rr))&&Math.abs(Le-Ai)<=X*Math.max(1,Math.abs(Le),Math.abs(Ai))&&Math.abs(qe-pi)<=X*Math.max(1,Math.abs(qe),Math.abs(pi))&&Math.abs($e-In)<=X*Math.max(1,Math.abs($e),Math.abs(In))&&Math.abs(nt-gr)<=X*Math.max(1,Math.abs(nt),Math.abs(gr))&&Math.abs(ct-Ir)<=X*Math.max(1,Math.abs(ct),Math.abs(Ir))&&Math.abs(wt-Ar)<=X*Math.max(1,Math.abs(wt),Math.abs(Ar))},s.cA=function(h,u){le.REGISTERED_PROTOCOLS[h]=u},s.cB=function(h){delete le.REGISTERED_PROTOCOLS[h]},s.cC=function(h,u){const c={};for(let w=0;w<h.length;w++){const U=u&&u[h[w].id]||xA(h[w]);u&&(u[h[w].id]=U);let K=c[U];K||(K=c[U]=[]),K.push(h[w])}const v=[];for(const w in c)v.push(c[w]);return v},s.cD=hi,s.cE=Ny,s.cF=P0,s.cG=Ry,s.cH=function(h){h.bucket.createArrays(),h.bucket.tilePixelRatio=it/(512*h.bucket.overscaling),h.bucket.compareText={},h.bucket.iconsNeedLinear=!1;const u=h.bucket.layers[0],c=u.layout,v=u._unevaluatedLayout._values,w={layoutIconSize:v["icon-size"].possiblyEvaluate(new Lo(h.bucket.zoom+1),h.canonical),layoutTextSize:v["text-size"].possiblyEvaluate(new Lo(h.bucket.zoom+1),h.canonical),textMaxSize:v["text-size"].possiblyEvaluate(new Lo(18))};if(h.bucket.textSizeData.kind==="composite"){const{minZoom:ae,maxZoom:ce}=h.bucket.textSizeData;w.compositeTextSizes=[v["text-size"].possiblyEvaluate(new Lo(ae),h.canonical),v["text-size"].possiblyEvaluate(new Lo(ce),h.canonical)]}if(h.bucket.iconSizeData.kind==="composite"){const{minZoom:ae,maxZoom:ce}=h.bucket.iconSizeData;w.compositeIconSizes=[v["icon-size"].possiblyEvaluate(new Lo(ae),h.canonical),v["icon-size"].possiblyEvaluate(new Lo(ce),h.canonical)]}const U=c.get("text-line-height")*ol,K=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",G=c.get("text-keep-upright"),H=c.get("text-size");for(const ae of h.bucket.features){const ce=c.get("text-font").evaluate(ae,{},h.canonical).join(","),xe=H.evaluate(ae,{},h.canonical),Le=w.layoutTextSize.evaluate(ae,{},h.canonical),qe=w.layoutIconSize.evaluate(ae,{},h.canonical),$e={horizontal:{},vertical:void 0},nt=ae.text;let ct,wt=[0,0];if(nt){const Nt=nt.toString(),un=c.get("text-letter-spacing").evaluate(ae,{},h.canonical)*ol,_n=Uh(Nt)?un:0,Kn=c.get("text-anchor").evaluate(ae,{},h.canonical),mi=yd(u,ae,h.canonical);if(!mi){const Ai=c.get("text-radial-offset").evaluate(ae,{},h.canonical);wt=Ai?qc(Kn,[Ai*ol,em]):c.get("text-offset").evaluate(ae,{},h.canonical).map(pi=>pi*ol)}let si=K?"center":c.get("text-justify").evaluate(ae,{},h.canonical);const fi=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(ae,{},h.canonical)*ol:1/0,rr=()=>{h.bucket.allowVerticalPlacement&&Vl(Nt)&&($e.vertical=O0(nt,h.glyphMap,h.glyphPositions,h.imagePositions,ce,fi,U,Kn,"left",_n,wt,s.ao.vertical,!0,Le,xe))};if(!K&&mi){const Ai=new Set;if(si==="auto")for(let In=0;In<mi.values.length;In+=2)Ai.add(ao(mi.values[In]));else Ai.add(si);let pi=!1;for(const In of Ai)if(!$e.horizontal[In])if(pi)$e.horizontal[In]=$e.horizontal[0];else{const gr=O0(nt,h.glyphMap,h.glyphPositions,h.imagePositions,ce,fi,U,"center",In,_n,wt,s.ao.horizontal,!1,Le,xe);gr&&($e.horizontal[In]=gr,pi=gr.positionedLines.length===1)}rr()}else{si==="auto"&&(si=ao(Kn));const Ai=O0(nt,h.glyphMap,h.glyphPositions,h.imagePositions,ce,fi,U,Kn,si,_n,wt,s.ao.horizontal,!1,Le,xe);Ai&&($e.horizontal[si]=Ai),rr(),Vl(Nt)&&K&&G&&($e.vertical=O0(nt,h.glyphMap,h.glyphPositions,h.imagePositions,ce,fi,U,Kn,si,_n,wt,s.ao.vertical,!1,Le,xe))}}let qt=!1;if(ae.icon&&ae.icon.name){const Nt=h.imageMap[ae.icon.name];Nt&&(ct=DC(h.imagePositions[ae.icon.name],c.get("icon-offset").evaluate(ae,{},h.canonical),c.get("icon-anchor").evaluate(ae,{},h.canonical)),qt=!!Nt.sdf,h.bucket.sdfIcons===void 0?h.bucket.sdfIcons=qt:h.bucket.sdfIcons!==qt&&It("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Nt.pixelRatio!==h.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(h.bucket.iconsNeedLinear=!0))}const Dt=I1($e.horizontal)||$e.vertical;h.bucket.iconsInText=!!Dt&&Dt.iconsInText,(Dt||ct)&&qd(h.bucket,ae,$e,ct,h.imageMap,w,Le,qe,wt,qt,h.canonical,h.subdivisionGranularity)}h.showCollisionBoxes&&h.bucket.generateCollisionDebugBuffers()},s.cI=Wd,s.cJ=hl,s.cK=Um,s.cL=c1,s.cM=fp,s.cN=class{constructor(h){this._marks={start:[h.url,"start"].join("#"),end:[h.url,"end"].join("#"),measure:h.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let h=performance.getEntriesByName(this._marks.measure);return h.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),h=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),h}},s.cO=function(h,u,c,v,w){return a(this,void 0,void 0,function*(){if($())try{return yield Gn(h,u,c,v,w)}catch{}return function(U,K,G,H,ae){const ce=U.width,xe=U.height;On&&Bn||(On=new OffscreenCanvas(ce,xe),Bn=On.getContext("2d",{willReadFrequently:!0})),On.width=ce,On.height=xe,Bn.drawImage(U,0,0,ce,xe);const Le=Bn.getImageData(K,G,H,ae);return Bn.clearRect(0,0,ce,xe),Le.data}(h,u,c,v,w)})},s.cP=T,s.cQ=g,s.cR=DA,s.cS=Qp,s.cT=QA,s.cU=function(h,u){const c=new Map;if(h!=null)if(h.type==="Feature")c.set($p(h,u),h);else for(const v of h.features)c.set($p(v,u),v);return c},s.cV=function(h,u){if(h==null)return!0;if(h.type==="Feature")return $p(h,u)!=null;if(h.type==="FeatureCollection"){const c=new Set;for(const v of h.features){const w=$p(v,u);if(w==null||c.has(w))return!1;c.add(w)}return!0}return!1},s.cW=function(h,u,c){var v,w,U,K;if(u.removeAll&&h.clear(),u.remove)for(const G of u.remove)h.delete(G);if(u.add)for(const G of u.add){const H=$p(G,c);H!=null&&h.set(H,G)}if(u.update)for(const G of u.update){let H=h.get(G.id);if(H==null)continue;const ae=!G.removeAllProperties&&(((v=G.removeProperties)===null||v===void 0?void 0:v.length)>0||((w=G.addOrUpdateProperties)===null||w===void 0?void 0:w.length)>0);if((G.newGeometry||G.removeAllProperties||ae)&&(H=Object.assign({},H),h.set(G.id,H),ae&&(H.properties=Object.assign({},H.properties))),G.newGeometry&&(H.geometry=G.newGeometry),G.removeAllProperties)H.properties={};else if(((U=G.removeProperties)===null||U===void 0?void 0:U.length)>0)for(const ce of G.removeProperties)Object.prototype.hasOwnProperty.call(H.properties,ce)&&delete H.properties[ce];if(((K=G.addOrUpdateProperties)===null||K===void 0?void 0:K.length)>0)for(const{key:ce,value:xe}of G.addOrUpdateProperties)H.properties[ce]=xe}},s.cX=$l,s.ca=function(h,u){return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[8]=u[8],h[9]=u[9],h[10]=u[10],h[11]=u[11],h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15],h},s.cb=h=>h.type==="symbol",s.cc=h=>h.type==="circle",s.cd=h=>h.type==="heatmap",s.ce=h=>h.type==="line",s.cf=h=>h.type==="fill",s.cg=h=>h.type==="fill-extrusion",s.ch=h=>h.type==="hillshade",s.ci=h=>h.type==="color-relief",s.cj=h=>h.type==="raster",s.ck=h=>h.type==="background",s.cl=h=>h.type==="custom",s.cm=Et,s.cn=function(h,u,c){const v=mt(u.x-c.x,u.y-c.y),w=mt(h.x-c.x,h.y-c.y);var U,K;return Vn(Math.atan2(v[0]*w[1]-v[1]*w[0],(U=v)[0]*(K=w)[0]+U[1]*K[1]))},s.co=gt,s.cp=function(h,u){return De[u]&&(h instanceof MouseEvent||h instanceof WheelEvent)},s.cq=function(h,u){return Lt[u]&&"touches"in h},s.cr=function(h){return Lt[h]||De[h]},s.cs=function(h,u,c){var v=u[0],w=u[1];return h[0]=c[0]*v+c[4]*w+c[12],h[1]=c[1]*v+c[5]*w+c[13],h},s.ct=function(h,u){const{x:c,y:v}=R0.fromLngLat(u);return!(h<0||h>25||v<0||v>=1||c<0||c>=1)},s.cu=function(h,u){return h[0]=u[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=u[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=u[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h},s.cv=class extends jc{},s.cw=$m,s.cy=function(h){return h.message===de},s.cz=Qe,s.d=Re,s.e=je,s.f=h=>a(void 0,void 0,void 0,function*(){if(h.byteLength===0)return createImageBitmap(new ImageData(1,1));const u=new Blob([new Uint8Array(h)],{type:"image/png"});try{return createImageBitmap(u)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.g=me,s.h=h=>new Promise((u,c)=>{const v=new Image;v.onload=()=>{u(v),URL.revokeObjectURL(v.src),v.onload=null,window.requestAnimationFrame(()=>{v.src=Wt})},v.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const w=new Blob([new Uint8Array(h)],{type:"image/png"});v.src=h.byteLength?URL.createObjectURL(w):Wt}),s.i=Ut,s.j=(h,u)=>He(je(h,{type:"json"}),u),s.k=dt,s.l=yt,s.m=He,s.n=(h,u)=>He(je(h,{type:"arrayBuffer"}),u),s.o=function(h){return new fp(h).readFields(Ty,[])},s.p=pg,s.q=nc,s.r=da,s.s=Tn,s.t=Jf,s.u=ro,s.v=rt,s.w=It,s.x=pf,s.y=od,s.z=Fd}),r("worker",["./shared"],function(s){class a{constructor(le){this.keyCache={},le&&this.replace(le)}replace(le){this._layerConfigs={},this._layers={},this.update(le,[])}update(le,me){for(const Qe of le){this._layerConfigs[Qe.id]=Qe;const At=this._layers[Qe.id]=s.bJ(Qe);At._featureFilter=s.aa(At.filter),this.keyCache[Qe.id]&&delete this.keyCache[Qe.id]}for(const Qe of me)delete this.keyCache[Qe],delete this._layerConfigs[Qe],delete this._layers[Qe];this.familiesBySource={};const Ie=s.cC(Object.values(this._layerConfigs),this.keyCache);for(const Qe of Ie){const At=Qe.map(dt=>this._layers[dt.id]),He=At[0];if(He.visibility==="none")continue;const Re=He.source||"";let Ze=this.familiesBySource[Re];Ze||(Ze=this.familiesBySource[Re]={});const y=He.sourceLayer||"_geojsonTileLayer";let yt=Ze[y];yt||(yt=Ze[y]=[]),yt.push(At)}}}class p{constructor(le){const me={},Ie=[];for(const Re in le){const Ze=le[Re],y=me[Re]={};for(const yt in Ze){const dt=Ze[+yt];if(!dt||dt.bitmap.width===0||dt.bitmap.height===0)continue;const kt={x:0,y:0,w:dt.bitmap.width+2,h:dt.bitmap.height+2};Ie.push(kt),y[yt]={rect:kt,metrics:dt.metrics}}}const{w:Qe,h:At}=s.p(Ie),He=new s.q({width:Qe||1,height:At||1});for(const Re in le){const Ze=le[Re];for(const y in Ze){const yt=Ze[+y];if(!yt||yt.bitmap.width===0||yt.bitmap.height===0)continue;const dt=me[Re][y].rect;s.q.copy(yt.bitmap,He,{x:0,y:0},{x:dt.x+1,y:dt.y+1},yt.bitmap)}}this.image=He,this.positions=me}}s.cD("GlyphAtlas",p);class g{constructor(le){this.tileID=new s.Z(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.uid=le.uid,this.zoom=le.zoom,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=le.showCollisionBoxes,this.collectResourceTiming=!!le.collectResourceTiming,this.returnDependencies=!!le.returnDependencies,this.promoteId=le.promoteId,this.inFlightDependencies=[],this.globalState=le.globalState}parse(le,me,Ie,Qe,At){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=le,this.collisionBoxArray=new s.a8;const He=new s.cE(Object.keys(le.layers).sort()),Re=new s.cF(this.tileID,this.promoteId);Re.bucketLayerIDs=[];const Ze={},y={featureIndex:Re,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ie,subdivisionGranularity:At},yt=me.familiesBySource[this.source];for(const di in yt){const ti=le.layers[di];if(!ti)continue;ti.version===1&&s.w(`Vector tile source "${this.source}" layer "${di}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const qi=He.encode(di),Sn=[];for(let co=0;co<ti.length;co++){const Zi=ti.feature(co),_a=Re.getId(Zi,di);Sn.push({feature:Zi,id:_a,index:co,sourceLayerIndex:qi})}for(const co of yt[di]){const Zi=co[0];Zi.source!==this.source&&s.w(`layer.source = ${Zi.source} does not equal this.source = ${this.source}`),Zi.minzoom&&this.zoom<Math.floor(Zi.minzoom)||Zi.maxzoom&&this.zoom>=Zi.maxzoom||Zi.visibility!=="none"&&(_(co,this.zoom,Ie,this.globalState),(Ze[Zi.id]=Zi.createBucket({index:Re.bucketLayerIDs.length,layers:co,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:qi,sourceID:this.source,globalState:this.globalState})).populate(Sn,y,this.tileID.canonical),Re.bucketLayerIDs.push(co.map(_a=>_a.id)))}}const dt=s.bN(y.glyphDependencies,di=>Object.keys(di).map(Number));this.inFlightDependencies.forEach(di=>di?.abort()),this.inFlightDependencies=[];let kt=Promise.resolve({});if(Object.keys(dt).length){const di=new AbortController;this.inFlightDependencies.push(di),kt=Qe.sendAsync({type:"GG",data:{stacks:dt,source:this.source,tileID:this.tileID,type:"glyphs"}},di)}const rt=Object.keys(y.iconDependencies);let tn=Promise.resolve({});if(rt.length){const di=new AbortController;this.inFlightDependencies.push(di),tn=Qe.sendAsync({type:"GI",data:{icons:rt,source:this.source,tileID:this.tileID,type:"icons"}},di)}const Rn=Object.keys(y.patternDependencies);let wn=Promise.resolve({});if(Rn.length){const di=new AbortController;this.inFlightDependencies.push(di),wn=Qe.sendAsync({type:"GI",data:{icons:Rn,source:this.source,tileID:this.tileID,type:"patterns"}},di)}const[ri,Qn,$i]=yield Promise.all([kt,tn,wn]),ir=new p(ri),Ii=new s.cG(Qn,$i);for(const di in Ze){const ti=Ze[di];ti instanceof s.a9?(_(ti.layers,this.zoom,Ie,this.globalState),s.cH({bucket:ti,glyphMap:ri,glyphPositions:ir.positions,imageMap:Qn,imagePositions:Ii.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:y.subdivisionGranularity})):ti.hasPattern&&(ti instanceof s.cI||ti instanceof s.cJ||ti instanceof s.cK)&&(_(ti.layers,this.zoom,Ie,this.globalState),ti.addFeatures(y,this.tileID.canonical,Ii.patternPositions))}return this.status="done",{buckets:Object.values(Ze).filter(di=>!di.isEmpty()),featureIndex:Re,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ir.image,imageAtlas:Ii,glyphMap:this.returnDependencies?ri:null,iconMap:this.returnDependencies?Qn:null,glyphPositions:this.returnDependencies?ir.positions:null}})}}function _(oe,le,me,Ie){const Qe=new s.F(le);for(const At of oe)At.setGlobalState(Ie),At.recalculate(Qe,me)}class E{constructor(le,me,Ie){this.actor=le,this.layerIndex=me,this.availableImages=Ie,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(le,me){return s._(this,void 0,void 0,function*(){const Ie=yield s.n(le.request,me);try{return{vectorTile:new s.cL(new s.cM(Ie.data)),rawData:Ie.data,cacheControl:Ie.cacheControl,expires:Ie.expires}}catch(Qe){const At=new Uint8Array(Ie.data);let He=`Unable to parse the tile at ${le.request.url}, `;throw He+=At[0]===31&&At[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Qe.message}`,new Error(He)}})}loadTile(le){return s._(this,void 0,void 0,function*(){const me=le.uid,Ie=!!(le&&le.request&&le.request.collectResourceTiming)&&new s.cN(le.request),Qe=new g(le);this.loading[me]=Qe;const At=new AbortController;Qe.abort=At;try{const He=yield this.loadVectorTile(le,At);if(delete this.loading[me],!He)return null;const Re=He.rawData,Ze={};He.expires&&(Ze.expires=He.expires),He.cacheControl&&(Ze.cacheControl=He.cacheControl);const y={};if(Ie){const dt=Ie.finish();dt&&(y.resourceTiming=JSON.parse(JSON.stringify(dt)))}Qe.vectorTile=He.vectorTile;const yt=Qe.parse(He.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);this.loaded[me]=Qe,this.fetching[me]={rawTileData:Re,cacheControl:Ze,resourceTiming:y};try{const dt=yield yt;return s.e({rawTileData:Re.slice(0)},dt,Ze,y)}finally{delete this.fetching[me]}}catch(He){throw delete this.loading[me],Qe.status="done",this.loaded[me]=Qe,He}})}reloadTile(le){return s._(this,void 0,void 0,function*(){const me=le.uid;if(!this.loaded||!this.loaded[me])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ie=this.loaded[me];if(Ie.showCollisionBoxes=le.showCollisionBoxes,Ie.globalState=le.globalState,Ie.status==="parsing"){const Qe=yield Ie.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);let At;if(this.fetching[me]){const{rawTileData:He,cacheControl:Re,resourceTiming:Ze}=this.fetching[me];delete this.fetching[me],At=s.e({rawTileData:He.slice(0)},Qe,Re,Ze)}else At=Qe;return At}if(Ie.status==="done"&&Ie.vectorTile)return Ie.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity)})}abortTile(le){return s._(this,void 0,void 0,function*(){const me=this.loading,Ie=le.uid;me&&me[Ie]&&me[Ie].abort&&(me[Ie].abort.abort(),delete me[Ie])})}removeTile(le){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[le.uid]&&delete this.loaded[le.uid]})}}class O{constructor(){this.loaded={}}loadTile(le){return s._(this,void 0,void 0,function*(){const{uid:me,encoding:Ie,rawImageData:Qe,redFactor:At,greenFactor:He,blueFactor:Re,baseShift:Ze}=le,y=Qe.width+2,yt=Qe.height+2,dt=s.b(Qe)?new s.R({width:y,height:yt},yield s.cO(Qe,-1,-1,y,yt)):Qe,kt=new s.cP(me,dt,Ie,At,He,Re,Ze);return this.loaded=this.loaded||{},this.loaded[me]=kt,kt})}removeTile(le){const me=this.loaded,Ie=le.uid;me&&me[Ie]&&delete me[Ie]}}var B,z,N=function(){if(z)return B;function oe(me,Ie){if(me.length!==0){le(me[0],Ie);for(var Qe=1;Qe<me.length;Qe++)le(me[Qe],!Ie)}}function le(me,Ie){for(var Qe=0,At=0,He=0,Re=me.length,Ze=Re-1;He<Re;Ze=He++){var y=(me[He][0]-me[Ze][0])*(me[Ze][1]+me[He][1]),yt=Qe+y;At+=Math.abs(Qe)>=Math.abs(y)?Qe-yt+y:y-yt+Qe,Qe=yt}Qe+At>=0!=!!Ie&&me.reverse()}return z=1,B=function me(Ie,Qe){var At,He=Ie&&Ie.type;if(He==="FeatureCollection")for(At=0;At<Ie.features.length;At++)me(Ie.features[At],Qe);else if(He==="GeometryCollection")for(At=0;At<Ie.geometries.length;At++)me(Ie.geometries[At],Qe);else if(He==="Feature")me(Ie.geometry,Qe);else if(He==="Polygon")oe(Ie.coordinates,Qe);else if(He==="MultiPolygon")for(At=0;At<Ie.coordinates.length;At++)oe(Ie.coordinates[At],Qe);return Ie}}(),Q=s.cQ(N);class $ extends s.cS{constructor(le,me){super(new s.cM,0,me,[],[]),this.feature=le,this.type=le.type,this.properties=le.tags?le.tags:{},"id"in le&&(typeof le.id=="string"?this.id=parseInt(le.id,10):typeof le.id!="number"||isNaN(le.id)||(this.id=le.id))}loadGeometry(){const le=[],me=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const Ie of me){const Qe=[];for(const At of Ie)Qe.push(new s.P(At[0],At[1]));le.push(Qe)}return le}}class X extends s.cR{constructor(le,me){super(new s.cM),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=me?me.version:1,this.extent=me?me.extent:4096,this.length=le.length,this.features=le}feature(le){return new $(this.features[le],this.extent)}}function re(oe,le){le.writeVarintField(15,oe.version||1),le.writeStringField(1,oe.name||""),le.writeVarintField(5,oe.extent||4096);const me={keys:[],values:[],keycache:{},valuecache:{}};for(let At=0;At<oe.length;At++)me.feature=oe.feature(At),le.writeMessage(2,ne,me);const Ie=me.keys;for(const At of Ie)le.writeStringField(3,At);const Qe=me.values;for(const At of Qe)le.writeMessage(4,ge,At)}function ne(oe,le){if(!oe.feature)return;const me=oe.feature;me.id!==void 0&&le.writeVarintField(1,me.id),le.writeMessage(2,V,oe),le.writeVarintField(3,me.type),le.writeMessage(4,he,me)}function V(oe,le){for(const me in oe.feature?.properties){let Ie=oe.feature.properties[me],Qe=oe.keycache[me];if(Ie===null)continue;Qe===void 0&&(oe.keys.push(me),Qe=oe.keys.length-1,oe.keycache[me]=Qe),le.writeVarint(Qe),typeof Ie!="string"&&typeof Ie!="boolean"&&typeof Ie!="number"&&(Ie=JSON.stringify(Ie));const At=typeof Ie+":"+Ie;let He=oe.valuecache[At];He===void 0&&(oe.values.push(Ie),He=oe.values.length-1,oe.valuecache[At]=He),le.writeVarint(He)}}function J(oe,le){return(le<<3)+(7&oe)}function W(oe){return oe<<1^oe>>31}function he(oe,le){const me=oe.loadGeometry(),Ie=oe.type;let Qe=0,At=0;for(const He of me){let Re=1;Ie===1&&(Re=He.length),le.writeVarint(J(1,Re));const Ze=Ie===3?He.length-1:He.length;for(let y=0;y<Ze;y++){y===1&&Ie!==1&&le.writeVarint(J(2,Ze-1));const yt=He[y].x-Qe,dt=He[y].y-At;le.writeVarint(W(yt)),le.writeVarint(W(dt)),Qe+=yt,At+=dt}oe.type===3&&le.writeVarint(J(7,1))}}function ge(oe,le){const me=typeof oe;me==="string"?le.writeStringField(1,oe):me==="boolean"?le.writeBooleanField(7,oe):me==="number"&&(oe%1!=0?le.writeDoubleField(3,oe):oe<0?le.writeSVarintField(6,oe):le.writeVarintField(5,oe))}const ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:oe=>oe},_e=Math.fround||(Me=new Float32Array(1),oe=>(Me[0]=+oe,Me[0]));var Me;class be{constructor(le){this.options=Object.assign(Object.create(ve),le),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(le){const{log:me,minZoom:Ie,maxZoom:Qe}=this.options;me&&console.time("total time");const At=`prepare ${le.length} points`;me&&console.time(At),this.points=le;const He=[];for(let Ze=0;Ze<le.length;Ze++){const y=le[Ze];if(!y.geometry)continue;const[yt,dt]=y.geometry.coordinates,kt=_e(Fe(yt)),rt=_e(ot(dt));He.push(kt,rt,1/0,Ze,-1,1),this.options.reduce&&He.push(0)}let Re=this.trees[Qe+1]=this._createTree(He);me&&console.timeEnd(At);for(let Ze=Qe;Ze>=Ie;Ze--){const y=+Date.now();Re=this.trees[Ze]=this._createTree(this._cluster(Re,Ze)),me&&console.log("z%d: %d clusters in %dms",Ze,Re.numItems,+Date.now()-y)}return me&&console.timeEnd("total time"),this}getClusters(le,me){let Ie=((le[0]+180)%360+360)%360-180;const Qe=Math.max(-90,Math.min(90,le[1]));let At=le[2]===180?180:((le[2]+180)%360+360)%360-180;const He=Math.max(-90,Math.min(90,le[3]));if(le[2]-le[0]>=360)Ie=-180,At=180;else if(Ie>At){const dt=this.getClusters([Ie,Qe,180,He],me),kt=this.getClusters([-180,Qe,At,He],me);return dt.concat(kt)}const Re=this.trees[this._limitZoom(me)],Ze=Re.range(Fe(Ie),ot(He),Fe(At),ot(Qe)),y=Re.data,yt=[];for(const dt of Ze){const kt=this.stride*dt;yt.push(y[kt+5]>1?ze(y,kt,this.clusterProps):this.points[y[kt+3]])}return yt}getChildren(le){const me=this._getOriginId(le),Ie=this._getOriginZoom(le),Qe="No cluster with the specified id.",At=this.trees[Ie];if(!At)throw new Error(Qe);const He=At.data;if(me*this.stride>=He.length)throw new Error(Qe);const Re=this.options.radius/(this.options.extent*Math.pow(2,Ie-1)),Ze=At.within(He[me*this.stride],He[me*this.stride+1],Re),y=[];for(const yt of Ze){const dt=yt*this.stride;He[dt+4]===le&&y.push(He[dt+5]>1?ze(He,dt,this.clusterProps):this.points[He[dt+3]])}if(y.length===0)throw new Error(Qe);return y}getLeaves(le,me,Ie){const Qe=[];return this._appendLeaves(Qe,le,me=me||10,Ie=Ie||0,0),Qe}getTile(le,me,Ie){const Qe=this.trees[this._limitZoom(le)],At=Math.pow(2,le),{extent:He,radius:Re}=this.options,Ze=Re/He,y=(Ie-Ze)/At,yt=(Ie+1+Ze)/At,dt={features:[]};return this._addTileFeatures(Qe.range((me-Ze)/At,y,(me+1+Ze)/At,yt),Qe.data,me,Ie,At,dt),me===0&&this._addTileFeatures(Qe.range(1-Ze/At,y,1,yt),Qe.data,At,Ie,At,dt),me===At-1&&this._addTileFeatures(Qe.range(0,y,Ze/At,yt),Qe.data,-1,Ie,At,dt),dt.features.length?dt:null}getClusterExpansionZoom(le){let me=this._getOriginZoom(le)-1;for(;me<=this.options.maxZoom;){const Ie=this.getChildren(le);if(me++,Ie.length!==1)break;le=Ie[0].properties.cluster_id}return me}_appendLeaves(le,me,Ie,Qe,At){const He=this.getChildren(me);for(const Re of He){const Ze=Re.properties;if(Ze&&Ze.cluster?At+Ze.point_count<=Qe?At+=Ze.point_count:At=this._appendLeaves(le,Ze.cluster_id,Ie,Qe,At):At<Qe?At++:le.push(Re),le.length===Ie)break}return At}_createTree(le){const me=new s.aI(le.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ie=0;Ie<le.length;Ie+=this.stride)me.add(le[Ie],le[Ie+1]);return me.finish(),me.data=le,me}_addTileFeatures(le,me,Ie,Qe,At,He){for(const Re of le){const Ze=Re*this.stride,y=me[Ze+5]>1;let yt,dt,kt;if(y)yt=Ce(me,Ze,this.clusterProps),dt=me[Ze],kt=me[Ze+1];else{const Rn=this.points[me[Ze+3]];yt=Rn.properties;const[wn,ri]=Rn.geometry.coordinates;dt=Fe(wn),kt=ot(ri)}const rt={type:1,geometry:[[Math.round(this.options.extent*(dt*At-Ie)),Math.round(this.options.extent*(kt*At-Qe))]],tags:yt};let tn;tn=y||this.options.generateId?me[Ze+3]:this.points[me[Ze+3]].id,tn!==void 0&&(rt.id=tn),He.features.push(rt)}}_limitZoom(le){return Math.max(this.options.minZoom,Math.min(Math.floor(+le),this.options.maxZoom+1))}_cluster(le,me){const{radius:Ie,extent:Qe,reduce:At,minPoints:He}=this.options,Re=Ie/(Qe*Math.pow(2,me)),Ze=le.data,y=[],yt=this.stride;for(let dt=0;dt<Ze.length;dt+=yt){if(Ze[dt+2]<=me)continue;Ze[dt+2]=me;const kt=Ze[dt],rt=Ze[dt+1],tn=le.within(Ze[dt],Ze[dt+1],Re),Rn=Ze[dt+5];let wn=Rn;for(const ri of tn){const Qn=ri*yt;Ze[Qn+2]>me&&(wn+=Ze[Qn+5])}if(wn>Rn&&wn>=He){let ri,Qn=kt*Rn,$i=rt*Rn,ir=-1;const Ii=(dt/yt<<5)+(me+1)+this.points.length;for(const di of tn){const ti=di*yt;if(Ze[ti+2]<=me)continue;Ze[ti+2]=me;const qi=Ze[ti+5];Qn+=Ze[ti]*qi,$i+=Ze[ti+1]*qi,Ze[ti+4]=Ii,At&&(ri||(ri=this._map(Ze,dt,!0),ir=this.clusterProps.length,this.clusterProps.push(ri)),At(ri,this._map(Ze,ti)))}Ze[dt+4]=Ii,y.push(Qn/wn,$i/wn,1/0,Ii,-1,wn),At&&y.push(ir)}else{for(let ri=0;ri<yt;ri++)y.push(Ze[dt+ri]);if(wn>1)for(const ri of tn){const Qn=ri*yt;if(!(Ze[Qn+2]<=me)){Ze[Qn+2]=me;for(let $i=0;$i<yt;$i++)y.push(Ze[Qn+$i])}}}}return y}_getOriginId(le){return le-this.points.length>>5}_getOriginZoom(le){return(le-this.points.length)%32}_map(le,me,Ie){if(le[me+5]>1){const He=this.clusterProps[le[me+6]];return Ie?Object.assign({},He):He}const Qe=this.points[le[me+3]].properties,At=this.options.map(Qe);return Ie&&At===Qe?Object.assign({},At):At}}function ze(oe,le,me){return{type:"Feature",id:oe[le+3],properties:Ce(oe,le,me),geometry:{type:"Point",coordinates:[(Ie=oe[le],360*(Ie-.5)),mt(oe[le+1])]}};var Ie}function Ce(oe,le,me){const Ie=oe[le+5],Qe=Ie>=1e4?`${Math.round(Ie/1e3)}k`:Ie>=1e3?Math.round(Ie/100)/10+"k":Ie,At=oe[le+6],He=At===-1?{}:Object.assign({},me[At]);return Object.assign(He,{cluster:!0,cluster_id:oe[le+3],point_count:Ie,point_count_abbreviated:Qe})}function Fe(oe){return oe/360+.5}function ot(oe){const le=Math.sin(oe*Math.PI/180),me=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return me<0?0:me>1?1:me}function mt(oe){const le=(180-360*oe)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function it(oe,le,me,Ie){let Qe=Ie;const At=le+(me-le>>1);let He,Re=me-le;const Ze=oe[le],y=oe[le+1],yt=oe[me],dt=oe[me+1];for(let kt=le+3;kt<me;kt+=3){const rt=ue(oe[kt],oe[kt+1],Ze,y,yt,dt);if(rt>Qe)He=kt,Qe=rt;else if(rt===Qe){const tn=Math.abs(kt-At);tn<Re&&(He=kt,Re=tn)}}Qe>Ie&&(He-le>3&&it(oe,le,He,Ie),oe[He+2]=Qe,me-He>3&&it(oe,He,me,Ie))}function ue(oe,le,me,Ie,Qe,At){let He=Qe-me,Re=At-Ie;if(He!==0||Re!==0){const Ze=((oe-me)*He+(le-Ie)*Re)/(He*He+Re*Re);Ze>1?(me=Qe,Ie=At):Ze>0&&(me+=He*Ze,Ie+=Re*Ze)}return He=oe-me,Re=le-Ie,He*He+Re*Re}function We(oe,le,me,Ie){const Qe={id:oe??null,type:le,geometry:me,tags:Ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(le==="Point"||le==="MultiPoint"||le==="LineString")tt(Qe,me);else if(le==="Polygon")tt(Qe,me[0]);else if(le==="MultiLineString")for(const At of me)tt(Qe,At);else if(le==="MultiPolygon")for(const At of me)tt(Qe,At[0]);return Qe}function tt(oe,le){for(let me=0;me<le.length;me+=3)oe.minX=Math.min(oe.minX,le[me]),oe.minY=Math.min(oe.minY,le[me+1]),oe.maxX=Math.max(oe.maxX,le[me]),oe.maxY=Math.max(oe.maxY,le[me+1])}function ke(oe,le,me,Ie){if(!le.geometry)return;const Qe=le.geometry.coordinates;if(Qe&&Qe.length===0)return;const At=le.geometry.type,He=Math.pow(me.tolerance/((1<<me.maxZoom)*me.extent),2);let Re=[],Ze=le.id;if(me.promoteId?Ze=le.properties[me.promoteId]:me.generateId&&(Ze=Ie||0),At==="Point")Et(Qe,Re);else if(At==="MultiPoint")for(const y of Qe)Et(y,Re);else if(At==="LineString")gt(Qe,Re,He,!1);else if(At==="MultiLineString"){if(me.lineMetrics){for(const y of Qe)Re=[],gt(y,Re,He,!1),oe.push(We(Ze,"LineString",Re,le.properties));return}xt(Qe,Re,He,!1)}else if(At==="Polygon")xt(Qe,Re,He,!0);else{if(At!=="MultiPolygon"){if(At==="GeometryCollection"){for(const y of le.geometry.geometries)ke(oe,{id:Ze,geometry:y,properties:le.properties},me,Ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const y of Qe){const yt=[];xt(y,yt,He,!0),Re.push(yt)}}oe.push(We(Ze,At,Re,le.properties))}function Et(oe,le){le.push(Kt(oe[0]),je(oe[1]),0)}function gt(oe,le,me,Ie){let Qe,At,He=0;for(let Ze=0;Ze<oe.length;Ze++){const y=Kt(oe[Ze][0]),yt=je(oe[Ze][1]);le.push(y,yt,0),Ze>0&&(He+=Ie?(Qe*yt-y*At)/2:Math.sqrt(Math.pow(y-Qe,2)+Math.pow(yt-At,2))),Qe=y,At=yt}const Re=le.length-3;le[2]=1,it(le,0,Re,me),le[Re+2]=1,le.size=Math.abs(He),le.start=0,le.end=le.size}function xt(oe,le,me,Ie){for(let Qe=0;Qe<oe.length;Qe++){const At=[];gt(oe[Qe],At,me,Ie),le.push(At)}}function Kt(oe){return oe/360+.5}function je(oe){const le=Math.sin(oe*Math.PI/180),me=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return me<0?0:me>1?1:me}function Ke(oe,le,me,Ie,Qe,At,He,Re){if(Ie/=le,At>=(me/=le)&&He<Ie)return oe;if(He<me||At>=Ie)return null;const Ze=[];for(const y of oe){const yt=y.geometry;let dt=y.type;const kt=Qe===0?y.minX:y.minY,rt=Qe===0?y.maxX:y.maxY;if(kt>=me&&rt<Ie){Ze.push(y);continue}if(rt<me||kt>=Ie)continue;let tn=[];if(dt==="Point"||dt==="MultiPoint")Ue(yt,tn,me,Ie,Qe);else if(dt==="LineString")Ve(yt,tn,me,Ie,Qe,!1,Re.lineMetrics);else if(dt==="MultiLineString")vt(yt,tn,me,Ie,Qe,!1);else if(dt==="Polygon")vt(yt,tn,me,Ie,Qe,!0);else if(dt==="MultiPolygon")for(const Rn of yt){const wn=[];vt(Rn,wn,me,Ie,Qe,!0),wn.length&&tn.push(wn)}if(tn.length){if(Re.lineMetrics&&dt==="LineString"){for(const Rn of tn)Ze.push(We(y.id,dt,Rn,y.tags));continue}dt!=="LineString"&&dt!=="MultiLineString"||(tn.length===1?(dt="LineString",tn=tn[0]):dt="MultiLineString"),dt!=="Point"&&dt!=="MultiPoint"||(dt=tn.length===3?"Point":"MultiPoint"),Ze.push(We(y.id,dt,tn,y.tags))}}return Ze.length?Ze:null}function Ue(oe,le,me,Ie,Qe){for(let At=0;At<oe.length;At+=3){const He=oe[At+Qe];He>=me&&He<=Ie&&It(le,oe[At],oe[At+1],oe[At+2])}}function Ve(oe,le,me,Ie,Qe,At,He){let Re=bt(oe);const Ze=Qe===0?Yt:Ut;let y,yt,dt=oe.start;for(let wn=0;wn<oe.length-3;wn+=3){const ri=oe[wn],Qn=oe[wn+1],$i=oe[wn+2],ir=oe[wn+3],Ii=oe[wn+4],di=Qe===0?ri:Qn,ti=Qe===0?ir:Ii;let qi=!1;He&&(y=Math.sqrt(Math.pow(ri-ir,2)+Math.pow(Qn-Ii,2))),di<me?ti>me&&(yt=Ze(Re,ri,Qn,ir,Ii,me),He&&(Re.start=dt+y*yt)):di>Ie?ti<Ie&&(yt=Ze(Re,ri,Qn,ir,Ii,Ie),He&&(Re.start=dt+y*yt)):It(Re,ri,Qn,$i),ti<me&&di>=me&&(yt=Ze(Re,ri,Qn,ir,Ii,me),qi=!0),ti>Ie&&di<=Ie&&(yt=Ze(Re,ri,Qn,ir,Ii,Ie),qi=!0),!At&&qi&&(He&&(Re.end=dt+y*yt),le.push(Re),Re=bt(oe)),He&&(dt+=y)}let kt=oe.length-3;const rt=oe[kt],tn=oe[kt+1],Rn=Qe===0?rt:tn;Rn>=me&&Rn<=Ie&&It(Re,rt,tn,oe[kt+2]),kt=Re.length-3,At&&kt>=3&&(Re[kt]!==Re[0]||Re[kt+1]!==Re[1])&&It(Re,Re[0],Re[1],Re[2]),Re.length&&le.push(Re)}function bt(oe){const le=[];return le.size=oe.size,le.start=oe.start,le.end=oe.end,le}function vt(oe,le,me,Ie,Qe,At){for(const He of oe)Ve(He,le,me,Ie,Qe,At,!1)}function It(oe,le,me,Ie){oe.push(le,me,Ie)}function Yt(oe,le,me,Ie,Qe,At){const He=(At-le)/(Ie-le);return It(oe,At,me+(Qe-me)*He,1),He}function Ut(oe,le,me,Ie,Qe,At){const He=(At-me)/(Qe-me);return It(oe,le+(Ie-le)*He,At,1),He}function on(oe,le){const me=[];for(let Ie=0;Ie<oe.length;Ie++){const Qe=oe[Ie],At=Qe.type;let He;if(At==="Point"||At==="MultiPoint"||At==="LineString")He=Hn(Qe.geometry,le);else if(At==="MultiLineString"||At==="Polygon"){He=[];for(const Re of Qe.geometry)He.push(Hn(Re,le))}else if(At==="MultiPolygon"){He=[];for(const Re of Qe.geometry){const Ze=[];for(const y of Re)Ze.push(Hn(y,le));He.push(Ze)}}me.push(We(Qe.id,At,He,Qe.tags))}return me}function Hn(oe,le){const me=[];me.size=oe.size,oe.start!==void 0&&(me.start=oe.start,me.end=oe.end);for(let Ie=0;Ie<oe.length;Ie+=3)me.push(oe[Ie]+le,oe[Ie+1],oe[Ie+2]);return me}function Wt(oe,le){if(oe.transformed)return oe;const me=1<<oe.z,Ie=oe.x,Qe=oe.y;for(const At of oe.features){const He=At.geometry,Re=At.type;if(At.geometry=[],Re===1)for(let Ze=0;Ze<He.length;Ze+=2)At.geometry.push(Gn(He[Ze],He[Ze+1],le,me,Ie,Qe));else for(let Ze=0;Ze<He.length;Ze++){const y=[];for(let yt=0;yt<He[Ze].length;yt+=2)y.push(Gn(He[Ze][yt],He[Ze][yt+1],le,me,Ie,Qe));At.geometry.push(y)}}return oe.transformed=!0,oe}function Gn(oe,le,me,Ie,Qe,At){return[Math.round(me*(oe*Ie-Qe)),Math.round(me*(le*Ie-At))]}function On(oe,le,me,Ie,Qe){const At=le===Qe.maxZoom?0:Qe.tolerance/((1<<le)*Qe.extent),He={features:[],numPoints:0,numSimplified:0,numFeatures:oe.length,source:null,x:me,y:Ie,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Re of oe)Bn(He,Re,At,Qe);return He}function Bn(oe,le,me,Ie){const Qe=le.geometry,At=le.type,He=[];if(oe.minX=Math.min(oe.minX,le.minX),oe.minY=Math.min(oe.minY,le.minY),oe.maxX=Math.max(oe.maxX,le.maxX),oe.maxY=Math.max(oe.maxY,le.maxY),At==="Point"||At==="MultiPoint")for(let Re=0;Re<Qe.length;Re+=3)He.push(Qe[Re],Qe[Re+1]),oe.numPoints++,oe.numSimplified++;else if(At==="LineString")Tn(He,Qe,oe,me,!1,!1);else if(At==="MultiLineString"||At==="Polygon")for(let Re=0;Re<Qe.length;Re++)Tn(He,Qe[Re],oe,me,At==="Polygon",Re===0);else if(At==="MultiPolygon")for(let Re=0;Re<Qe.length;Re++){const Ze=Qe[Re];for(let y=0;y<Ze.length;y++)Tn(He,Ze[y],oe,me,!0,y===0)}if(He.length){let Re=le.tags||null;if(At==="LineString"&&Ie.lineMetrics){Re={};for(const y in le.tags)Re[y]=le.tags[y];Re.mapbox_clip_start=Qe.start/Qe.size,Re.mapbox_clip_end=Qe.end/Qe.size}const Ze={geometry:He,type:At==="Polygon"||At==="MultiPolygon"?3:At==="LineString"||At==="MultiLineString"?2:1,tags:Re};le.id!==null&&(Ze.id=le.id),oe.features.push(Ze)}}function Tn(oe,le,me,Ie,Qe,At){const He=Ie*Ie;if(Ie>0&&le.size<(Qe?He:Ie))return void(me.numPoints+=le.length/3);const Re=[];for(let Ze=0;Ze<le.length;Ze+=3)(Ie===0||le[Ze+2]>He)&&(me.numSimplified++,Re.push(le[Ze],le[Ze+1])),me.numPoints++;Qe&&function(Ze,y){let yt=0;for(let dt=0,kt=Ze.length,rt=kt-2;dt<kt;rt=dt,dt+=2)yt+=(Ze[dt]-Ze[rt])*(Ze[dt+1]+Ze[rt+1]);if(yt>0===y)for(let dt=0,kt=Ze.length;dt<kt/2;dt+=2){const rt=Ze[dt],tn=Ze[dt+1];Ze[dt]=Ze[kt-2-dt],Ze[dt+1]=Ze[kt-1-dt],Ze[kt-2-dt]=rt,Ze[kt-1-dt]=tn}}(Re,At),oe.push(Re)}const Oi={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Vn{constructor(le,me){const Ie=(me=this.options=function(At,He){for(const Re in He)At[Re]=He[Re];return At}(Object.create(Oi),me)).debug;if(Ie&&console.time("preprocess data"),me.maxZoom<0||me.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(me.promoteId&&me.generateId)throw new Error("promoteId and generateId cannot be used together.");let Qe=function(At,He){const Re=[];if(At.type==="FeatureCollection")for(let Ze=0;Ze<At.features.length;Ze++)ke(Re,At.features[Ze],He,Ze);else ke(Re,At.type==="Feature"?At:{geometry:At},He);return Re}(le,me);this.tiles={},this.tileCoords=[],Ie&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",me.indexMaxZoom,me.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Qe=function(At,He){const Re=He.buffer/He.extent;let Ze=At;const y=Ke(At,1,-1-Re,Re,0,-1,2,He),yt=Ke(At,1,1-Re,2+Re,0,-1,2,He);return(y||yt)&&(Ze=Ke(At,1,-Re,1+Re,0,-1,2,He)||[],y&&(Ze=on(y,1).concat(Ze)),yt&&(Ze=Ze.concat(on(yt,-1)))),Ze}(Qe,me),Qe.length&&this.splitTile(Qe,0,0,0),Ie&&(Qe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(le,me,Ie,Qe,At,He,Re){const Ze=[le,me,Ie,Qe],y=this.options,yt=y.debug;for(;Ze.length;){Qe=Ze.pop(),Ie=Ze.pop(),me=Ze.pop(),le=Ze.pop();const dt=1<<me,kt=Lt(me,Ie,Qe);let rt=this.tiles[kt];if(!rt&&(yt>1&&console.time("creation"),rt=this.tiles[kt]=On(le,me,Ie,Qe,y),this.tileCoords.push({z:me,x:Ie,y:Qe}),yt)){yt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",me,Ie,Qe,rt.numFeatures,rt.numPoints,rt.numSimplified),console.timeEnd("creation"));const qi=`z${me}`;this.stats[qi]=(this.stats[qi]||0)+1,this.total++}if(rt.source=le,At==null){if(me===y.indexMaxZoom||rt.numPoints<=y.indexMaxPoints)continue}else{if(me===y.maxZoom||me===At)continue;if(At!=null){const qi=At-me;if(Ie!==He>>qi||Qe!==Re>>qi)continue}}if(rt.source=null,le.length===0)continue;yt>1&&console.time("clipping");const tn=.5*y.buffer/y.extent,Rn=.5-tn,wn=.5+tn,ri=1+tn;let Qn=null,$i=null,ir=null,Ii=null,di=Ke(le,dt,Ie-tn,Ie+wn,0,rt.minX,rt.maxX,y),ti=Ke(le,dt,Ie+Rn,Ie+ri,0,rt.minX,rt.maxX,y);le=null,di&&(Qn=Ke(di,dt,Qe-tn,Qe+wn,1,rt.minY,rt.maxY,y),$i=Ke(di,dt,Qe+Rn,Qe+ri,1,rt.minY,rt.maxY,y),di=null),ti&&(ir=Ke(ti,dt,Qe-tn,Qe+wn,1,rt.minY,rt.maxY,y),Ii=Ke(ti,dt,Qe+Rn,Qe+ri,1,rt.minY,rt.maxY,y),ti=null),yt>1&&console.timeEnd("clipping"),Ze.push(Qn||[],me+1,2*Ie,2*Qe),Ze.push($i||[],me+1,2*Ie,2*Qe+1),Ze.push(ir||[],me+1,2*Ie+1,2*Qe),Ze.push(Ii||[],me+1,2*Ie+1,2*Qe+1)}}getTile(le,me,Ie){le=+le,me=+me,Ie=+Ie;const Qe=this.options,{extent:At,debug:He}=Qe;if(le<0||le>24)return null;const Re=1<<le,Ze=Lt(le,me=me+Re&Re-1,Ie);if(this.tiles[Ze])return Wt(this.tiles[Ze],At);He>1&&console.log("drilling down to z%d-%d-%d",le,me,Ie);let y,yt=le,dt=me,kt=Ie;for(;!y&&yt>0;)yt--,dt>>=1,kt>>=1,y=this.tiles[Lt(yt,dt,kt)];return y&&y.source?(He>1&&(console.log("found parent tile z%d-%d-%d",yt,dt,kt),console.time("drilling down")),this.splitTile(y.source,yt,dt,kt,le,me,Ie),He>1&&console.timeEnd("drilling down"),this.tiles[Ze]?Wt(this.tiles[Ze],At):null):null}}function Lt(oe,le,me){return 32*((1<<oe)*me+le)+oe}class De extends E{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(le,me){return s._(this,void 0,void 0,function*(){const Ie=le.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Qe=this._geoJSONIndex.getTile(Ie.z,Ie.x,Ie.y);if(!Qe)return null;const At=new X(Qe.features,{version:2,extent:s.$});let He=function(Re){const Ze=new s.cM;return function(y,yt){for(const dt in y.layers)yt.writeMessage(3,re,y.layers[dt])}(Re,Ze),Ze.finish()}(At);return He.byteOffset===0&&He.byteLength===He.buffer.byteLength||(He=new Uint8Array(He)),{vectorTile:At,rawData:He.buffer}})}loadData(le){return s._(this,void 0,void 0,function*(){var me;(me=this._pendingRequest)===null||me===void 0||me.abort();const Ie=!!(le&&le.request&&le.request.collectResourceTiming)&&new s.cN(le.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(le,this._pendingRequest);const Qe=yield this._pendingData;this._geoJSONIndex=le.cluster?new be(function({superclusterOptions:He,clusterProperties:Re}){if(!Re||!He)return He;const Ze={},y={},yt={accumulated:null,zoom:0},dt={properties:null},kt=Object.keys(Re);for(const rt of kt){const[tn,Rn]=Re[rt],wn=s.cT(Rn),ri=s.cT(typeof tn=="string"?[tn,["accumulated"],["get",rt]]:tn);Ze[rt]=wn.value,y[rt]=ri.value}return He.map=rt=>{dt.properties=rt;const tn={};for(const Rn of kt)tn[Rn]=Ze[Rn].evaluate(yt,dt);return tn},He.reduce=(rt,tn)=>{dt.properties=tn;for(const Rn of kt)yt.accumulated=rt[Rn],rt[Rn]=y[Rn].evaluate(yt,dt)},He}(le)).load(Qe.features):function(He,Re){return new Vn(He,Re)}(Qe,le.geojsonVtOptions),this.loaded={};const At={data:Qe};if(Ie){const He=Ie.finish();He&&(At.resourceTiming={},At.resourceTiming[le.source]=JSON.parse(JSON.stringify(He)))}return At}catch(Qe){if(delete this._pendingRequest,s.cy(Qe))return{abandoned:!0};throw Qe}})}getData(){return s._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(le){const me=this.loaded;return me&&me[le.uid]?super.reloadTile(le):this.loadTile(le)}loadAndProcessGeoJSON(le,me){return s._(this,void 0,void 0,function*(){let Ie=yield this.loadGeoJSON(le,me);if(delete this._pendingRequest,typeof Ie!="object")throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(Q(Ie,!0),le.filter){const Qe=s.cT(le.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Qe.result==="error")throw new Error(Qe.value.map(He=>`${He.key}: ${He.message}`).join(", "));Ie={type:"FeatureCollection",features:Ie.features.filter(He=>Qe.value.evaluate({zoom:0},He))}}return Ie})}loadGeoJSON(le,me){return s._(this,void 0,void 0,function*(){const{promoteId:Ie}=le;if(le.request){const Qe=yield s.j(le.request,me);return this._dataUpdateable=s.cV(Qe.data,Ie)?s.cU(Qe.data,Ie):void 0,Qe.data}if(typeof le.data=="string")try{const Qe=JSON.parse(le.data);return this._dataUpdateable=s.cV(Qe,Ie)?s.cU(Qe,Ie):void 0,Qe}catch{throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`)}if(!le.dataDiff)throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${le.source}`);return s.cW(this._dataUpdateable,le.dataDiff,Ie),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(le){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(le){return this._geoJSONIndex.getClusterExpansionZoom(le.clusterId)}getClusterChildren(le){return this._geoJSONIndex.getChildren(le.clusterId)}getClusterLeaves(le){return this._geoJSONIndex.getLeaves(le.clusterId,le.limit,le.offset)}}class de{constructor(le){this.self=le,this.actor=new s.J(le),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(me,Ie)=>{if(this.externalWorkerSourceTypes[me])throw new Error(`Worker source with name "${me}" already registered.`);this.externalWorkerSourceTypes[me]=Ie},this.self.addProtocol=s.cA,this.self.removeProtocol=s.cB,this.self.registerRTLTextPlugin=me=>{s.cX.setMethods(me)},this.actor.registerMessageHandler("LDT",(me,Ie)=>this._getDEMWorkerSource(me,Ie.source).loadTile(Ie)),this.actor.registerMessageHandler("RDT",(me,Ie)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(me,Ie.source).removeTile(Ie)})),this.actor.registerMessageHandler("GCEZ",(me,Ie)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(me,Ie.type,Ie.source).getClusterExpansionZoom(Ie)})),this.actor.registerMessageHandler("GCC",(me,Ie)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(me,Ie.type,Ie.source).getClusterChildren(Ie)})),this.actor.registerMessageHandler("GCL",(me,Ie)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(me,Ie.type,Ie.source).getClusterLeaves(Ie)})),this.actor.registerMessageHandler("LD",(me,Ie)=>this._getWorkerSource(me,Ie.type,Ie.source).loadData(Ie)),this.actor.registerMessageHandler("GD",(me,Ie)=>this._getWorkerSource(me,Ie.type,Ie.source).getData()),this.actor.registerMessageHandler("LT",(me,Ie)=>this._getWorkerSource(me,Ie.type,Ie.source).loadTile(Ie)),this.actor.registerMessageHandler("RT",(me,Ie)=>this._getWorkerSource(me,Ie.type,Ie.source).reloadTile(Ie)),this.actor.registerMessageHandler("AT",(me,Ie)=>this._getWorkerSource(me,Ie.type,Ie.source).abortTile(Ie)),this.actor.registerMessageHandler("RMT",(me,Ie)=>this._getWorkerSource(me,Ie.type,Ie.source).removeTile(Ie)),this.actor.registerMessageHandler("RS",(me,Ie)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[me]||!this.workerSources[me][Ie.type]||!this.workerSources[me][Ie.type][Ie.source])return;const Qe=this.workerSources[me][Ie.type][Ie.source];delete this.workerSources[me][Ie.type][Ie.source],Qe.removeSource!==void 0&&Qe.removeSource(Ie)})),this.actor.registerMessageHandler("RM",me=>s._(this,void 0,void 0,function*(){delete this.layerIndexes[me],delete this.availableImages[me],delete this.workerSources[me],delete this.demWorkerSources[me]})),this.actor.registerMessageHandler("SR",(me,Ie)=>s._(this,void 0,void 0,function*(){this.referrer=Ie})),this.actor.registerMessageHandler("SRPS",(me,Ie)=>this._syncRTLPluginState(me,Ie)),this.actor.registerMessageHandler("IS",(me,Ie)=>s._(this,void 0,void 0,function*(){this.self.importScripts(Ie)})),this.actor.registerMessageHandler("SI",(me,Ie)=>this._setImages(me,Ie)),this.actor.registerMessageHandler("UL",(me,Ie)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(me).update(Ie.layers,Ie.removedIds)})),this.actor.registerMessageHandler("SL",(me,Ie)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(me).replace(Ie)}))}_setImages(le,me){return s._(this,void 0,void 0,function*(){this.availableImages[le]=me;for(const Ie in this.workerSources[le]){const Qe=this.workerSources[le][Ie];for(const At in Qe)Qe[At].availableImages=me}})}_syncRTLPluginState(le,me){return s._(this,void 0,void 0,function*(){return yield s.cX.syncState(me,this.self.importScripts)})}_getAvailableImages(le){let me=this.availableImages[le];return me||(me=[]),me}_getLayerIndex(le){let me=this.layerIndexes[le];return me||(me=this.layerIndexes[le]=new a),me}_getWorkerSource(le,me,Ie){if(this.workerSources[le]||(this.workerSources[le]={}),this.workerSources[le][me]||(this.workerSources[le][me]={}),!this.workerSources[le][me][Ie]){const Qe={sendAsync:(At,He)=>(At.targetMapId=le,this.actor.sendAsync(At,He))};switch(me){case"vector":this.workerSources[le][me][Ie]=new E(Qe,this._getLayerIndex(le),this._getAvailableImages(le));break;case"geojson":this.workerSources[le][me][Ie]=new De(Qe,this._getLayerIndex(le),this._getAvailableImages(le));break;default:this.workerSources[le][me][Ie]=new this.externalWorkerSourceTypes[me](Qe,this._getLayerIndex(le),this._getAvailableImages(le))}}return this.workerSources[le][me][Ie]}_getDEMWorkerSource(le,me){return this.demWorkerSources[le]||(this.demWorkerSources[le]={}),this.demWorkerSources[le][me]||(this.demWorkerSources[le][me]=new O),this.demWorkerSources[le][me]}}return s.i(self)&&(self.worker=new de(self)),de}),r("index",["exports","./shared"],function(s,a){var p="5.7.1";function g(){var k=new a.A(4);return a.A!=Float32Array&&(k[1]=0,k[2]=0),k[0]=1,k[3]=1,k}let _,E;const O={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(k,l,f){const b=requestAnimationFrame(R=>{S(),l(R)}),{unsubscribe:S}=a.s(k.signal,"abort",()=>{S(),cancelAnimationFrame(b),f(a.c())},!1)},frameAsync(k){return new Promise((l,f)=>{this.frame(k,l,f)})},getImageData(k,l=0){return this.getImageCanvasContext(k).getImageData(-l,-l,k.width+2*l,k.height+2*l)},getImageCanvasContext(k){const l=window.document.createElement("canvas"),f=l.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return l.width=k.width,l.height=k.height,f.drawImage(k,0,0,k.width,k.height),f},resolveURL:k=>(_||(_=document.createElement("a")),_.href=k,_.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(E==null&&(E=matchMedia("(prefers-reduced-motion: reduce)")),E.matches)}};class B{static testProp(l){if(!B.docStyle)return l[0];for(let f=0;f<l.length;f++)if(l[f]in B.docStyle)return l[f];return l[0]}static create(l,f,b){const S=window.document.createElement(l);return f!==void 0&&(S.className=f),b&&b.appendChild(S),S}static createNS(l,f){return window.document.createElementNS(l,f)}static disableDrag(){B.docStyle&&B.selectProp&&(B.userSelect=B.docStyle[B.selectProp],B.docStyle[B.selectProp]="none")}static enableDrag(){B.docStyle&&B.selectProp&&(B.docStyle[B.selectProp]=B.userSelect)}static setTransform(l,f){l.style[B.transformProp]=f}static addEventListener(l,f,b,S={}){l.addEventListener(f,b,"passive"in S?S:S.capture)}static removeEventListener(l,f,b,S={}){l.removeEventListener(f,b,"passive"in S?S:S.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",B.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",B.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",B.suppressClickInternal,!0)},0)}static getScale(l){const f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}static getPoint(l,f,b){const S=f.boundingClientRect;return new a.P((b.clientX-S.left)/f.x-l.clientLeft,(b.clientY-S.top)/f.y-l.clientTop)}static mousePos(l,f){const b=B.getScale(l);return B.getPoint(l,b,f)}static touchPos(l,f){const b=[],S=B.getScale(l);for(let R=0;R<f.length;R++)b.push(B.getPoint(l,S,f[R]));return b}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}static sanitize(l){const f=new DOMParser().parseFromString(l,"text/html").body||document.createElement("body"),b=f.querySelectorAll("script");for(const S of b)S.remove();return B.clean(f),f.innerHTML}static isPossiblyDangerous(l,f){const b=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(l)||!b.includes("javascript:")&&!b.includes("data:"))||!!l.startsWith("on")||void 0}static clean(l){const f=l.children;for(const b of f)B.removeAttributes(b),B.clean(b)}static removeAttributes(l){for(const{name:f,value:b}of l.attributes)B.isPossiblyDangerous(f,b)&&l.removeAttribute(f)}}B.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,B.selectProp=B.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),B.transformProp=B.testProp(["transform","WebkitTransform"]);const z={supported:!1,testSupport:function(k){!$&&Q&&(X?re(k):N=k)}};let N,Q,$=!1,X=!1;function re(k){const l=k.createTexture();k.bindTexture(k.TEXTURE_2D,l);try{if(k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,Q),k.isContextLost())return;z.supported=!0}catch{}k.deleteTexture(l),$=!0}var ne;typeof document<"u"&&(Q=document.createElement("img"),Q.onload=()=>{N&&re(N),N=null,X=!0},Q.onerror=()=>{$=!0,N=null},Q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(k){let l,f,b,S;k.resetRequestQueue=()=>{l=[],f=0,b=0,S={}},k.addThrottleControl=te=>{const fe=b++;return S[fe]=te,fe},k.removeThrottleControl=te=>{delete S[te],j()},k.getImage=(te,fe,ye=!0)=>new Promise((Oe,Ee)=>{z.supported&&(te.headers||(te.headers={}),te.headers.accept="image/webp,*/*"),a.e(te,{type:"image"}),l.push({abortController:fe,requestParameters:te,supportImageRefresh:ye,state:"queued",onError:Ne=>{Ee(Ne)},onSuccess:Ne=>{Oe(Ne)}}),j()});const R=te=>a._(this,void 0,void 0,function*(){te.state="running";const{requestParameters:fe,supportImageRefresh:ye,onError:Oe,onSuccess:Ee,abortController:Ne}=te,Je=ye===!1&&!a.i(self)&&!a.g(fe.url)&&(!fe.headers||Object.keys(fe.headers).reduce((ft,Mt)=>ft&&Mt==="accept",!0));f++;const ut=Je?q(fe,Ne):a.m(fe,Ne);try{const ft=yield ut;delete te.abortController,te.state="completed",ft.data instanceof HTMLImageElement||a.b(ft.data)?Ee(ft):ft.data&&Ee({data:yield(ht=ft.data,typeof createImageBitmap=="function"?a.f(ht):a.h(ht)),cacheControl:ft.cacheControl,expires:ft.expires})}catch(ft){delete te.abortController,Oe(ft)}finally{f--,j()}var ht}),j=()=>{const te=(()=>{for(const fe of Object.keys(S))if(S[fe]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let fe=f;fe<te&&l.length>0;fe++){const ye=l.shift();ye.abortController.signal.aborted?fe--:R(ye)}},q=(te,fe)=>new Promise((ye,Oe)=>{const Ee=new Image,Ne=te.url,Je=te.credentials;Je&&Je==="include"?Ee.crossOrigin="use-credentials":(Je&&Je==="same-origin"||!a.d(Ne))&&(Ee.crossOrigin="anonymous"),fe.signal.addEventListener("abort",()=>{Ee.src="",Oe(a.c())}),Ee.fetchPriority="high",Ee.onload=()=>{Ee.onerror=Ee.onload=null,ye({data:Ee})},Ee.onerror=()=>{Ee.onerror=Ee.onload=null,fe.signal.aborted||Oe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Ee.src=Ne})}(ne||(ne={})),ne.resetRequestQueue();class V{constructor(l){this._transformRequestFn=l??null}transformRequest(l,f){return this._transformRequestFn&&this._transformRequestFn(l,f)||{url:l}}setTransformRequest(l){this._transformRequestFn=l}}function J(k){const l=[];if(typeof k=="string")l.push({id:"default",url:k});else if(k&&k.length>0){const f=[];for(const{id:b,url:S}of k){const R=`${b}${S}`;f.indexOf(R)===-1&&(f.push(R),l.push({id:b,url:S}))}}return l}function W(k,l,f){try{const b=new URL(k);return b.pathname+=`${l}${f}`,b.toString()}catch{throw new Error(`Invalid sprite URL "${k}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function he(k){const{userImage:l}=k;return!!(l&&l.render&&l.render())&&(k.data.replace(new Uint8Array(l.data.buffer)),!0)}class ge extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:f,promiseResolve:b}of this.requestors)b(this._getImagesForIds(f));this.requestors=[]}}getImage(l){const f=this.images[l];if(f&&!f.data&&f.spriteData){const b=f.spriteData;f.data=new a.R({width:b.width,height:b.height},b.context.getImageData(b.x,b.y,b.width,b.height).data),f.spriteData=null}return f}addImage(l,f){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,f)&&(this.images[l]=f)}_validate(l,f){let b=!0;const S=f.data||f.spriteData;return this._validateStretch(f.stretchX,S&&S.width)||(this.fire(new a.k(new Error(`Image "${l}" has invalid "stretchX" value`))),b=!1),this._validateStretch(f.stretchY,S&&S.height)||(this.fire(new a.k(new Error(`Image "${l}" has invalid "stretchY" value`))),b=!1),this._validateContent(f.content,f)||(this.fire(new a.k(new Error(`Image "${l}" has invalid "content" value`))),b=!1),b}_validateStretch(l,f){if(!l)return!0;let b=0;for(const S of l){if(S[0]<b||S[1]<S[0]||f<S[1])return!1;b=S[1]}return!0}_validateContent(l,f){if(!l)return!0;if(l.length!==4)return!1;const b=f.spriteData,S=b&&b.width||f.data.width,R=b&&b.height||f.data.height;return!(l[0]<0||S<l[0]||l[1]<0||R<l[1]||l[2]<0||S<l[2]||l[3]<0||R<l[3]||l[2]<l[0]||l[3]<l[1])}updateImage(l,f,b=!0){const S=this.getImage(l);if(b&&(S.data.width!==f.data.width||S.data.height!==f.data.height))throw new Error(`size mismatch between old image (${S.data.width}x${S.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=S.version+1,this.images[l]=f,this.updatedImages[l]=!0}removeImage(l){const f=this.images[l];delete this.images[l],delete this.patterns[l],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l){return new Promise((f,b)=>{let S=!0;if(!this.isLoaded())for(const R of l)this.images[R]||(S=!1);this.isLoaded()||S?f(this._getImagesForIds(l)):this.requestors.push({ids:l,promiseResolve:f})})}_getImagesForIds(l){const f={};for(const b of l){let S=this.getImage(b);S||(this.fire(new a.l("styleimagemissing",{id:b})),S=this.getImage(b)),S?f[b]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,textFitWidth:S.textFitWidth,textFitHeight:S.textFitHeight,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:a.w(`Image "${b}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){const{width:l,height:f}=this.atlasImage;return{width:l,height:f}}getPattern(l){const f=this.patterns[l],b=this.getImage(l);if(!b)return null;if(f&&f.position.version===b.version)return f.position;if(f)f.position.version=b.version;else{const S={w:b.data.width+2,h:b.data.height+2,x:0,y:0},R=new a.I(S,b);this.patterns[l]={bin:S,position:R}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const f=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(l,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const R in this.patterns)l.push(this.patterns[R].bin);const{w:f,h:b}=a.p(l),S=this.atlasImage;S.resize({width:f||1,height:b||1});for(const R in this.patterns){const{bin:j}=this.patterns[R],q=j.x+1,te=j.y+1,fe=this.getImage(R).data,ye=fe.width,Oe=fe.height;a.R.copy(fe,S,{x:0,y:0},{x:q,y:te},{width:ye,height:Oe}),a.R.copy(fe,S,{x:0,y:Oe-1},{x:q,y:te-1},{width:ye,height:1}),a.R.copy(fe,S,{x:0,y:0},{x:q,y:te+Oe},{width:ye,height:1}),a.R.copy(fe,S,{x:ye-1,y:0},{x:q-1,y:te},{width:1,height:Oe}),a.R.copy(fe,S,{x:0,y:0},{x:q+ye,y:te},{width:1,height:Oe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const f of l){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const b=this.getImage(f);b||a.w(`Image with ID: "${f}" was not found`),he(b)&&this.updateImage(f,b)}}}const ve=1e20;function _e(k,l,f,b,S,R,j,q,te){for(let fe=l;fe<l+b;fe++)Me(k,f*R+fe,R,S,j,q,te);for(let fe=f;fe<f+S;fe++)Me(k,fe*R+l,1,b,j,q,te)}function Me(k,l,f,b,S,R,j){R[0]=0,j[0]=-ve,j[1]=ve,S[0]=k[l];for(let q=1,te=0,fe=0;q<b;q++){S[q]=k[l+q*f];const ye=q*q;do{const Oe=R[te];fe=(S[q]-S[Oe]+ye-Oe*Oe)/(q-Oe)/2}while(fe<=j[te]&&--te>-1);te++,R[te]=q,j[te]=fe,j[te+1]=ve}for(let q=0,te=0;q<b;q++){for(;j[te+1]<q;)te++;const fe=R[te],ye=q-fe;k[l+q*f]=S[fe]+ye*ye}}class be{constructor(l,f,b){this.requestManager=l,this.localIdeographFontFamily=f,this.entries={},this.lang=b}setURL(l){this.url=l}getGlyphs(l){return a._(this,void 0,void 0,function*(){const f=[];for(const R in l)for(const j of l[R])f.push(this._getAndCacheGlyphsPromise(R,j));const b=yield Promise.all(f),S={};for(const{stack:R,id:j,glyph:q}of b)S[R]||(S[R]={}),S[R][j]=q&&{id:q.id,bitmap:q.bitmap.clone(),metrics:q.metrics};return S})}_getAndCacheGlyphsPromise(l,f){return a._(this,void 0,void 0,function*(){let b=this.entries[l];b||(b=this.entries[l]={glyphs:{},requests:{},ranges:{}});let S=b.glyphs[f];if(S!==void 0)return{stack:l,id:f,glyph:S};if(S=this._tinySDF(b,l,f),S)return b.glyphs[f]=S,{stack:l,id:f,glyph:S};const R=Math.floor(f/256);if(256*R>65535)throw new Error("glyphs > 65535 not supported");if(b.ranges[R])return{stack:l,id:f,glyph:S};if(!this.url)throw new Error("glyphsUrl is not set");if(!b.requests[R]){const q=be.loadGlyphRange(l,R,this.url,this.requestManager);b.requests[R]=q}const j=yield b.requests[R];for(const q in j)this._doesCharSupportLocalGlyph(+q)||(b.glyphs[+q]=j[+q]);return b.ranges[R]=!0,{stack:l,id:f,glyph:j[f]||null}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(l))||a.u["CJK Unified Ideographs"](l)||a.u["Hangul Syllables"](l)||a.u.Hiragana(l)||a.u.Katakana(l)||a.u["CJK Symbols and Punctuation"](l)||a.u["Halfwidth and Fullwidth Forms"](l))}_tinySDF(l,f,b){const S=this.localIdeographFontFamily;if(!S||!this._doesCharSupportLocalGlyph(b))return;let R=l.tinySDF;if(!R){let q="400";/bold/i.test(f)?q="900":/medium/i.test(f)?q="500":/light/i.test(f)&&(q="200"),R=l.tinySDF=new be.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,lang:this.lang,fontFamily:S,fontWeight:q})}const j=R.draw(String.fromCharCode(b));return{id:b,bitmap:new a.q({width:j.width||60,height:j.height||60},j.data),metrics:{width:j.glyphWidth/2||24,height:j.glyphHeight/2||24,left:j.glyphLeft/2+.5||0,top:j.glyphTop/2-27.5||-8,advance:j.glyphAdvance/2||24,isDoubleResolution:!0}}}}be.loadGlyphRange=function(k,l,f,b){return a._(this,void 0,void 0,function*(){const S=256*l,R=S+255,j=b.transformRequest(f.replace("{fontstack}",k).replace("{range}",`${S}-${R}`),"Glyphs"),q=yield a.n(j,new AbortController);if(!q||!q.data)throw new Error(`Could not load glyph range. range: ${l}, ${S}-${R}`);const te={};for(const fe of a.o(q.data))te[fe.id]=fe;return te})},be.TinySDF=class{constructor({fontSize:k=24,buffer:l=3,radius:f=8,cutoff:b=.25,fontFamily:S="sans-serif",fontWeight:R="normal",fontStyle:j="normal",lang:q=null}={}){this.buffer=l,this.cutoff=b,this.radius=f,this.lang=q;const te=this.size=k+4*l,fe=this._createCanvas(te),ye=this.ctx=fe.getContext("2d",{willReadFrequently:!0});ye.font=`${j} ${R} ${k}px ${S}`,ye.textBaseline="alphabetic",ye.textAlign="left",ye.fillStyle="black",this.gridOuter=new Float64Array(te*te),this.gridInner=new Float64Array(te*te),this.f=new Float64Array(te),this.z=new Float64Array(te+1),this.v=new Uint16Array(te)}_createCanvas(k){const l=document.createElement("canvas");return l.width=l.height=k,l}draw(k){const{width:l,actualBoundingBoxAscent:f,actualBoundingBoxDescent:b,actualBoundingBoxLeft:S,actualBoundingBoxRight:R}=this.ctx.measureText(k),j=Math.ceil(f),q=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(R-S))),te=Math.min(this.size-this.buffer,j+Math.ceil(b)),fe=q+2*this.buffer,ye=te+2*this.buffer,Oe=Math.max(fe*ye,0),Ee=new Uint8ClampedArray(Oe),Ne={data:Ee,width:fe,height:ye,glyphWidth:q,glyphHeight:te,glyphTop:j,glyphLeft:0,glyphAdvance:l};if(q===0||te===0)return Ne;const{ctx:Je,buffer:ut,gridInner:ht,gridOuter:ft}=this;this.lang&&(Je.lang=this.lang),Je.clearRect(ut,ut,q,te),Je.fillText(k,ut,ut+j);const Mt=Je.getImageData(ut,ut,q,te);ft.fill(ve,0,Oe),ht.fill(0,0,Oe);for(let Ct=0;Ct<te;Ct++)for(let St=0;St<q;St++){const Pt=Mt.data[4*(Ct*q+St)+3]/255;if(Pt===0)continue;const zt=(Ct+ut)*fe+St+ut;if(Pt===1)ft[zt]=0,ht[zt]=ve;else{const Ot=.5-Pt;ft[zt]=Ot>0?Ot*Ot:0,ht[zt]=Ot<0?Ot*Ot:0}}_e(ft,0,0,fe,ye,fe,this.f,this.v,this.z),_e(ht,ut,ut,q,te,fe,this.f,this.v,this.z);for(let Ct=0;Ct<Oe;Ct++){const St=Math.sqrt(ft[Ct])-Math.sqrt(ht[Ct]);Ee[Ct]=Math.round(255-255*(St/this.radius+this.cutoff))}return Ne}};class ze{constructor(){this.specification=a.v.light.position}possiblyEvaluate(l,f){return a.B(l.expression.evaluate(f))}interpolate(l,f,b){return{x:a.C.number(l.x,f.x,b),y:a.C.number(l.y,f.y,b),z:a.C.number(l.z,f.z,b)}}}let Ce;class Fe extends a.E{constructor(l){super(),Ce=Ce||new a.r({anchor:new a.D(a.v.light.anchor),position:new ze,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.t(Ce),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,f={}){if(!this._validate(a.x,l,f))for(const b in l){const S=l[b];b.endsWith("-transition")?this._transitionable.setTransition(b.slice(0,-11),S):this._transitionable.setValue(b,S)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,b){return(!b||b.validate!==!1)&&a.y(this,l.call(a.z,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}const ot=new a.r({"sky-color":new a.D(a.v.sky["sky-color"]),"horizon-color":new a.D(a.v.sky["horizon-color"]),"fog-color":new a.D(a.v.sky["fog-color"]),"fog-ground-blend":new a.D(a.v.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.v.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.v.sky["atmosphere-blend"])});class mt extends a.E{constructor(l){super(),this._transitionable=new a.t(ot),this.setSky(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.F(0))}setSky(l,f={}){if(!this._validate(a.G,l,f)){l||(l={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const b in l){const S=l[b];b.endsWith("-transition")?this._transitionable.setTransition(b.slice(0,-11),S):this._transitionable.setValue(b,S)}}}getSky(){return this._transitionable.serialize()}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,b={}){return b?.validate!==!1&&a.y(this,l.call(a.z,a.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}calculateFogBlendOpacity(l){return l<60?0:l<70?(l-60)/10:1}}class it{constructor(l,f){this.width=l,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,f){const b=l.join(",")+String(f);return this.dashEntry[b]||(this.dashEntry[b]=this.addDash(l,f)),this.dashEntry[b]}getDashRanges(l,f,b){const S=[];let R=l.length%2==1?-l[l.length-1]*b:0,j=l[0]*b,q=!0;S.push({left:R,right:j,isDash:q,zeroLength:l[0]===0});let te=l[0];for(let fe=1;fe<l.length;fe++){q=!q;const ye=l[fe];R=te*b,te+=ye,j=te*b,S.push({left:R,right:j,isDash:q,zeroLength:ye===0})}return S}addRoundDash(l,f,b){const S=f/2;for(let R=-b;R<=b;R++){const j=this.width*(this.nextRow+b+R);let q=0,te=l[q];for(let fe=0;fe<this.width;fe++){fe/te.right>1&&(te=l[++q]);const ye=Math.abs(fe-te.left),Oe=Math.abs(fe-te.right),Ee=Math.min(ye,Oe);let Ne;const Je=R/b*(S+1);if(te.isDash){const ut=S-Math.abs(Je);Ne=Math.sqrt(Ee*Ee+ut*ut)}else Ne=S-Math.sqrt(Ee*Ee+Je*Je);this.data[j+fe]=Math.max(0,Math.min(255,Ne+128))}}}addRegularDash(l){for(let q=l.length-1;q>=0;--q){const te=l[q],fe=l[q+1];te.zeroLength?l.splice(q,1):fe&&fe.isDash===te.isDash&&(fe.left=te.left,l.splice(q,1))}const f=l[0],b=l[l.length-1];f.isDash===b.isDash&&(f.left=b.left-this.width,b.right=f.right+this.width);const S=this.width*this.nextRow;let R=0,j=l[R];for(let q=0;q<this.width;q++){q/j.right>1&&(j=l[++R]);const te=Math.abs(q-j.left),fe=Math.abs(q-j.right),ye=Math.min(te,fe);this.data[S+q]=Math.max(0,Math.min(255,(j.isDash?ye:-ye)+128))}}addDash(l,f){const b=f?7:0,S=2*b+1;if(this.nextRow+S>this.height)return a.w("LineAtlas out of space"),null;let R=0;for(let q=0;q<l.length;q++)R+=l[q];if(R!==0){const q=this.width/R,te=this.getDashRanges(l,this.width,q);f?this.addRoundDash(te,q,b):this.addRegularDash(te)}const j={y:(this.nextRow+b+.5)/this.height,height:2*b/this.height,width:R};return this.nextRow+=S,this.dirty=!0,j}bind(l){const f=l.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}const ue="maplibre_preloaded_worker_pool";class We{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<We.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ue]}numActive(){return Object.keys(this.active).length}}const tt=Math.floor(O.hardwareConcurrency/2);let ke,Et;function gt(){return ke||(ke=new We),ke}We.workerCount=a.H(globalThis)?Math.max(Math.min(tt,3),1):1;class xt{constructor(l,f){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=f;const b=this.workerPool.acquire(f);for(let S=0;S<b.length;S++){const R=new a.J(b[S],f);R.name=`Worker ${S}`,this.actors.push(R)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,f){const b=[];for(const S of this.actors)b.push(S.sendAsync({type:l,data:f}));return Promise.all(b)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(l=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],l&&this.workerPool.release(this.id)}registerMessageHandler(l,f){for(const b of this.actors)b.registerMessageHandler(l,f)}}function Kt(){return Et||(Et=new xt(gt(),a.K),Et.registerMessageHandler("GR",(k,l,f)=>a.m(l,f))),Et}function je(k,l){const f=a.L();return a.M(f,f,[1,1,0]),a.N(f,f,[.5*k.width,.5*k.height,1]),k.calculatePosMatrix?a.O(f,f,k.calculatePosMatrix(l.toUnwrapped())):f}function Ke(k,l,f,b,S,R,j){var q;const te=function(Ee,Ne,Je){if(Ee)for(const ut of Ee){const ht=Ne[ut];if(ht&&ht.source===Je&&ht.type==="fill-extrusion")return!0}else for(const ut in Ne){const ht=Ne[ut];if(ht.source===Je&&ht.type==="fill-extrusion")return!0}return!1}((q=S?.layers)!==null&&q!==void 0?q:null,l,k.id),fe=R.maxPitchScaleFactor(),ye=k.tilesIn(b,fe,te);ye.sort(Ue);const Oe=[];for(const Ee of ye)Oe.push({wrappedTileID:Ee.tileID.wrapped().key,queryResults:Ee.tile.queryRenderedFeatures(l,f,k._state,Ee.queryGeometry,Ee.cameraQueryGeometry,Ee.scale,S,R,fe,je(k.transform,Ee.tileID),j?(Ne,Je)=>j(Ee.tileID,Ne,Je):void 0)});return function(Ee,Ne){for(const Je in Ee)for(const ut of Ee[Je])Ve(ut,Ne);return Ee}(function(Ee){const Ne={},Je={};for(const ut of Ee){const ht=ut.queryResults,ft=ut.wrappedTileID,Mt=Je[ft]=Je[ft]||{};for(const Ct in ht){const St=ht[Ct],Pt=Mt[Ct]=Mt[Ct]||{},zt=Ne[Ct]=Ne[Ct]||[];for(const Ot of St)Pt[Ot.featureIndex]||(Pt[Ot.featureIndex]=!0,zt.push(Ot))}}return Ne}(Oe),k)}function Ue(k,l){const f=k.tileID,b=l.tileID;return f.overscaledZ-b.overscaledZ||f.canonical.y-b.canonical.y||f.wrap-b.wrap||f.canonical.x-b.canonical.x}function Ve(k,l){const f=k.feature,b=l.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=b}function bt(k,l,f){return a._(this,void 0,void 0,function*(){let b=k;if(k.url?b=(yield a.j(l.transformRequest(k.url,"Source"),f)).data:yield O.frameAsync(f),!b)return null;const S=a.Q(a.e(b,k),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in b&&b.vector_layers&&(S.vectorLayerIds=b.vector_layers.map(R=>R.id)),S})}class vt{constructor(l,f){l&&(f?this.setSouthWest(l).setNorthEast(f):Array.isArray(l)&&(l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1])))}setNorthEast(l){return this._ne=l instanceof a.S?new a.S(l.lng,l.lat):a.S.convert(l),this}setSouthWest(l){return this._sw=l instanceof a.S?new a.S(l.lng,l.lat):a.S.convert(l),this}extend(l){const f=this._sw,b=this._ne;let S,R;if(l instanceof a.S)S=l,R=l;else{if(!(l instanceof vt))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(vt.convert(l)):this.extend(a.S.convert(l)):l&&("lng"in l||"lon"in l)&&"lat"in l?this.extend(a.S.convert(l)):this;if(S=l._sw,R=l._ne,!S||!R)return this}return f||b?(f.lng=Math.min(S.lng,f.lng),f.lat=Math.min(S.lat,f.lat),b.lng=Math.max(R.lng,b.lng),b.lat=Math.max(R.lat,b.lat)):(this._sw=new a.S(S.lng,S.lat),this._ne=new a.S(R.lng,R.lat)),this}getCenter(){return new a.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.S(this.getWest(),this.getNorth())}getSouthEast(){return new a.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:f,lat:b}=a.S.convert(l);let S=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=b&&b<=this._ne.lat&&S}static convert(l){return l instanceof vt?l:l&&new vt(l)}static fromLngLat(l,f=0){const b=360*f/40075017,S=b/Math.cos(Math.PI/180*l.lat);return new vt(new a.S(l.lng-S,l.lat-b),new a.S(l.lng+S,l.lat+b))}adjustAntiMeridian(){const l=new a.S(this._sw.lng,this._sw.lat),f=new a.S(this._ne.lng,this._ne.lat);return new vt(l,l.lng>f.lng?new a.S(f.lng+360,f.lat):f)}}class It{constructor(l,f,b){this.bounds=vt.convert(this.validateBounds(l)),this.minzoom=f||0,this.maxzoom=b||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const f=Math.pow(2,l.z),b=Math.floor(a.V(this.bounds.getWest())*f),S=Math.floor(a.U(this.bounds.getNorth())*f),R=Math.ceil(a.V(this.bounds.getEast())*f),j=Math.ceil(a.U(this.bounds.getSouth())*f);return l.x>=b&&l.x<R&&l.y>=S&&l.y<j}}class Yt extends a.E{constructor(l,f,b,S){if(super(),this.id=l,this.dispatcher=b,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.Q(f,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const l=yield bt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l&&(a.e(this,l),l.bounds&&(this.tileBounds=new It(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(l){this._tileJSONRequest=null,this.fire(new a.k(l))}})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.abort(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b={request:this.map._requestManager.transformRequest(f,"Tile"),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};b.request.collectResourceTiming=this._collectResourceTiming;let S="RT";if(l.actor&&l.state!=="expired"){if(l.state==="loading")return new Promise((R,j)=>{l.reloadPromise={resolve:R,reject:j}})}else l.actor=this.dispatcher.getActor(),S="LT";l.abortController=new AbortController;try{const R=yield l.actor.sendAsync({type:S,data:b},l.abortController);if(delete l.abortController,l.aborted)return;this._afterTileLoadWorkerResponse(l,R)}catch(R){if(delete l.abortController,l.aborted)return;if(R&&R.status!==404)throw R;this._afterTileLoadWorkerResponse(l,null)}})}_afterTileLoadWorkerResponse(l,f){if(f&&f.resourceTiming&&(l.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&l.setExpiryData(f),l.loadVectorData(f,this.map.painter),l.reloadPromise){const b=l.reloadPromise;l.reloadPromise=null,this.loadTile(l).then(b.resolve).catch(b.reject)}}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.actor&&(yield l.actor.sendAsync({type:"AT",data:{uid:l.uid,type:this.type,source:this.id}}))})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),l.actor&&(yield l.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Ut extends a.E{constructor(l,f,b,S){super(),this.id=l,this.dispatcher=b,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},f),a.e(this,a.Q(f,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,function*(l=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const f=yield bt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(a.e(this,f),f.bounds&&(this.tileBounds=new It(f.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:l})))}catch(f){this._tileJSONRequest=null,this.fire(new a.k(f))}})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(l){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),l(),this.load(!0)}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}serialize(){return a.e({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.abortController=new AbortController;try{const b=yield ne.getImage(this.map._requestManager.transformRequest(f,"Tile"),l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(b&&b.data){this.map._refreshExpiredTiles&&(b.cacheControl||b.expires)&&l.setExpiryData({cacheControl:b.cacheControl,expires:b.expires});const S=this.map.painter.context,R=S.gl,j=b.data;l.texture=this.map.painter.getTileTexture(j.width),l.texture?l.texture.update(j,{useMipmap:!0}):(l.texture=new a.T(S,j,R.RGBA,{useMipmap:!0}),l.texture.bind(R.LINEAR,R.CLAMP_TO_EDGE,R.LINEAR_MIPMAP_NEAREST)),l.state="loaded"}}catch(b){if(delete l.abortController,l.aborted)l.state="unloaded";else if(b)throw l.state="errored",b}})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController)})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.texture&&this.map.painter.saveTileTexture(l.texture)})}hasTransition(){return!1}}class on extends Ut{constructor(l,f,b,S){super(l,f,b,S),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b=this.map._requestManager.transformRequest(f,"Tile");l.neighboringTiles=this._getNeighboringTiles(l.tileID),l.abortController=new AbortController;try{const S=yield ne.getImage(b,l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(S&&S.data){const R=S.data;this.map._refreshExpiredTiles&&(S.cacheControl||S.expires)&&l.setExpiryData({cacheControl:S.cacheControl,expires:S.expires});const j=a.b(R)&&a.W()?R:yield this.readImageNow(R),q={type:this.type,uid:l.uid,source:this.id,rawImageData:j,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!l.actor||l.state==="expired"){l.actor=this.dispatcher.getActor();const te=yield l.actor.sendAsync({type:"LDT",data:q});l.dem=te,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded"}}}catch(S){if(delete l.abortController,l.aborted)l.state="unloaded";else if(S)throw l.state="errored",S}})}readImageNow(l){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.X()){const f=l.width+2,b=l.height+2;try{return new a.R({width:f,height:b},yield a.Y(l,-1,-1,f,b))}catch{}}return O.getImageData(l,1)})}_getNeighboringTiles(l){const f=l.canonical,b=Math.pow(2,f.z),S=(f.x-1+b)%b,R=f.x===0?l.wrap-1:l.wrap,j=(f.x+1+b)%b,q=f.x+1===b?l.wrap+1:l.wrap,te={};return te[new a.Z(l.overscaledZ,R,f.z,S,f.y).key]={backfilled:!1},te[new a.Z(l.overscaledZ,q,f.z,j,f.y).key]={backfilled:!1},f.y>0&&(te[new a.Z(l.overscaledZ,R,f.z,S,f.y-1).key]={backfilled:!1},te[new a.Z(l.overscaledZ,l.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},te[new a.Z(l.overscaledZ,q,f.z,j,f.y-1).key]={backfilled:!1}),f.y+1<b&&(te[new a.Z(l.overscaledZ,R,f.z,S,f.y+1).key]={backfilled:!1},te[new a.Z(l.overscaledZ,l.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},te[new a.Z(l.overscaledZ,q,f.z,j,f.y+1).key]={backfilled:!1}),te}unloadTile(l){return a._(this,void 0,void 0,function*(){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&(yield l.actor.sendAsync({type:"RDT",data:{type:this.type,uid:l.uid,source:this.id}}))})}}class Hn extends a.E{constructor(l,f,b,S){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:f.data},this.actor=b.getActor(),this.setEventedParent(S),this._data=f.data,this._options=a.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:a.$,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(f.clusterMaxZoom),minPoints:Math.max(2,f.clusterMinPoints||2),extent:a.$,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(l){return l*(a.$/this.tileSize)}_getClusterMaxZoom(l){const f=l?Math.round(l):this.maxzoom-1;return Number.isInteger(l)||l===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${l}" rounded to "${f}"`),f}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._pendingWorkerUpdate={data:l},this._updateWorkerData(),this}updateData(l){return this._pendingWorkerUpdate.diff=a.a0(this._pendingWorkerUpdate.diff,l),this._updateWorkerData(),this}getData(){return a._(this,void 0,void 0,function*(){const l=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:l})})}getCoordinatesFromGeometry(l){return l.type==="GeometryCollection"?l.geometries.map(f=>f.coordinates).flat(1/0):l.coordinates.flat(1/0)}getBounds(){return a._(this,void 0,void 0,function*(){const l=new vt,f=yield this.getData();let b;switch(f.type){case"FeatureCollection":b=f.features.map(S=>this.getCoordinatesFromGeometry(S.geometry)).flat(1/0);break;case"Feature":b=this.getCoordinatesFromGeometry(f.geometry);break;default:b=this.getCoordinatesFromGeometry(f)}if(b.length==0)return l;for(let S=0;S<b.length-1;S+=2)l.extend([b[S],b[S+1]]);return l})}setClusterOptions(l){return this.workerOptions.cluster=l.cluster,l&&(l.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(l.clusterRadius)),l.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(l.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(l){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:l,source:this.id}})}getClusterChildren(l){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:l,source:this.id}})}getClusterLeaves(l,f,b){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:l,limit:f,offset:b}})}_updateWorkerData(){return a._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;const{data:l,diff:f}=this._pendingWorkerUpdate;if(!l&&!f)return void a.w(`No data or diff provided to GeoJSONSource ${this.id}.`);const b=a.e({type:this.type},this.workerOptions);l?(typeof l=="string"?(b.request=this.map._requestManager.transformRequest(O.resolveURL(l),"Source"),b.request.collectResourceTiming=this._collectResourceTiming):b.data=JSON.stringify(l),this._pendingWorkerUpdate.data=void 0):f&&(b.dataDiff=f,this._pendingWorkerUpdate.diff=void 0),this._isUpdatingWorker=!0,this.fire(new a.l("dataloading",{dataType:"source"}));try{const S=yield this.actor.sendAsync({type:"LD",data:b});if(this._isUpdatingWorker=!1,this._removed||S.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));this._data=S.data;let R=null;S.resourceTiming&&S.resourceTiming[this.id]&&(R=S.resourceTiming[this.id].slice(0));const j={dataType:"source"};this._collectResourceTiming&&R&&R.length>0&&a.e(j,{resourceTiming:R}),this.fire(new a.l("data",Object.assign(Object.assign({},j),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},j),{sourceDataType:"content"})))}catch(S){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(S))}finally{(this._pendingWorkerUpdate.data||this._pendingWorkerUpdate.diff)&&this._updateWorkerData()}})}loaded(){return!this._isUpdatingWorker&&this._pendingWorkerUpdate.data===void 0&&this._pendingWorkerUpdate.diff===void 0}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.actor?"RT":"LT";l.actor=this.actor;const b={type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};l.abortController=new AbortController;const S=yield this.actor.sendAsync({type:f,data:b},l.abortController);delete l.abortController,l.unloadVectorData(),l.aborted||l.loadVectorData(S,this.map.painter,f==="RT")})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.aborted=!0})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Wt extends a.E{constructor(l,f,b,S){super(),this.flippedWindingOrder=!1,this.id=l,this.dispatcher=b,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=f}load(l){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const f=yield ne.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,l&&(this.coordinates=l),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,this.fire(new a.k(f))}})}loaded(){return this._loaded}updateImage(l){return l.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=l.url,this.load(l.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(l){this.coordinates=l;const f=l.map(a.a1.fromLngLat);var b;return this.tileID=function(S){const R=a.a2.fromPoints(S),j=R.width(),q=R.height(),te=Math.max(j,q),fe=Math.max(0,Math.floor(-Math.log(te)/Math.LN2)),ye=Math.pow(2,fe);return new a.a4(fe,Math.floor((R.minX+R.maxX)/2*ye),Math.floor((R.minY+R.maxY)/2*ye))}(f),this.terrainTileRanges=this._getOverlappingTileRanges(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map(S=>this.tileID.getTilePoint(S)._round()),this.flippedWindingOrder=((b=this.tileCoords)[1].x-b[0].x)*(b[2].y-b[0].y)-(b[1].y-b[0].y)*(b[2].x-b[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,f=l.gl;this.texture||(this.texture=new a.T(l,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const S in this.tiles){const R=this.tiles[S];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,b=!0)}b&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(l){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={}):l.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(l){const{minX:f,minY:b,maxX:S,maxY:R}=a.a2.fromPoints(l),j={};for(let q=0;q<=a.a3;q++){const te=Math.pow(2,q),fe=Math.floor(f*te),ye=Math.floor(b*te),Oe=Math.floor(S*te),Ee=Math.floor(R*te);j[q]={minTileX:fe,minTileY:ye,maxTileX:Oe,maxTileY:Ee}}return j}}class Gn extends Wt{constructor(l,f,b,S){super(l,f,b,S),this.roundZoom=!0,this.type="video",this.options=f}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;const l=this.options;this.urls=[];for(const f of l.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{const f=yield a.a5(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new a.k(f))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const f=this.video.seekable;l<f.start(0)||l>f.end(0)?this.fire(new a.k(new a.a6(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,f=l.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(l,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const S in this.tiles){const R=this.tiles[S];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,b=!0)}b&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class On extends Wt{constructor(l,f,b,S){super(l,f,b,S),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(R=>!Array.isArray(R)||R.length!==2||R.some(j=>typeof j!="number"))||this.fire(new a.k(new a.a6(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.a6(`sources.${l}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new a.k(new a.a6(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.a6(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.a6(`sources.${l}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,b=f.gl;this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(f,this.canvas,b.RGBA,{premultiply:!0});let S=!1;for(const R in this.tiles){const j=this.tiles[R];j.state!=="loaded"&&(j.state="loaded",j.texture=this.texture,S=!0)}S&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const Bn={},Tn=k=>{switch(k){case"geojson":return Hn;case"image":return Wt;case"raster":return Ut;case"raster-dem":return on;case"vector":return Yt;case"video":return Gn;case"canvas":return On}return Bn[k]},Oi="RTLPluginLoaded";class Vn extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Kt()}_syncState(l){return this.status=l,this.dispatcher.broadcast("SRPS",{pluginStatus:l,pluginURL:this.url}).catch(f=>{throw this.status="error",f})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(l){return a._(this,arguments,void 0,function*(f,b=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=O.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!b)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(Oi))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Lt=null;function De(){return Lt||(Lt=new Vn),Lt}class de{constructor(l,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=l,this.uid=a.a7(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){const f=l+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(l,f,b){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=function(S,R){const j={};if(!R)return j;for(const q of S){const te=q.layerIds.map(fe=>R.getLayer(fe)).filter(Boolean);if(te.length!==0){q.layers=te,q.stateDependentLayerIds&&(q.stateDependentLayers=q.stateDependentLayerIds.map(fe=>te.filter(ye=>ye.id===fe)[0]));for(const fe of te)j[fe.id]=q}}return j}(l.buckets,f?.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const R=this.buckets[S];if(R instanceof a.a9){if(this.hasSymbolBuckets=!0,!b)break;R.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const R=this.buckets[S];if(R instanceof a.a9&&R.hasRTLText){this.hasRTLText=!0,De().lazyLoad();break}}this.queryPadding=0;for(const S in this.buckets){const R=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(S).queryRadius(R))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new a.a8}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const b in this.buckets){const S=this.buckets[b];S.uploadPending()&&S.upload(l)}const f=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(l,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(l,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,f,b,S,R,j,q,te,fe,ye,Oe){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:S,cameraQueryGeometry:R,scale:j,tileSize:this.tileSize,pixelPosMatrix:ye,transform:te,params:q,queryPadding:this.queryPadding*fe,getElevation:Oe},l,f,b):{}}querySourceFeatures(l,f){const b=this.latestFeatureIndex;if(!b||!b.rawTileData)return;const S=b.loadVTLayers(),R=f&&f.sourceLayer?f.sourceLayer:"",j=S._geojsonTileLayer||S[R];if(!j)return;const q=a.aa(f&&f.filter),{z:te,x:fe,y:ye}=this.tileID.canonical,Oe={z:te,x:fe,y:ye};for(let Ee=0;Ee<j.length;Ee++){const Ne=j.feature(Ee);if(q.needGeometry){const ht=a.ab(Ne,!0);if(!q.filter(new a.F(this.tileID.overscaledZ),ht,this.tileID.canonical))continue}else if(!q.filter(new a.F(this.tileID.overscaledZ),Ne))continue;const Je=b.getId(Ne,R),ut=new a.ac(Ne,te,fe,ye,Je);ut.tile=Oe,l.push(ut)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){const f=this.expirationTime;if(l.cacheControl){const b=a.ad(l.cacheControl);b["max-age"]&&(this.expirationTime=Date.now()+1e3*b["max-age"])}else l.expires&&(this.expirationTime=new Date(l.expires).getTime());if(this.expirationTime){const b=Date.now();let S=!1;if(this.expirationTime>b)S=!1;else if(f)if(this.expirationTime<f)S=!0;else{const R=this.expirationTime-f;R?this.expirationTime=b+Math.max(R,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(l).length===0)return;const b=this.latestFeatureIndex.loadVTLayers();for(const S in this.buckets){if(!f.style.hasLayer(S))continue;const R=this.buckets[S],j=R.layers[0].sourceLayer||"_geojsonTileLayer",q=b[j],te=l[j];if(!q||!te||Object.keys(te).length===0)continue;R.update(te,q,this.imageAtlas&&this.imageAtlas.patternPositions||{});const fe=f&&f.style&&f.style.getLayer(S);fe&&(this.queryPadding=Math.max(this.queryPadding,fe.queryRadius(R)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<O.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=O.now()+l}setDependencies(l,f){const b={};for(const S of f)b[S]=!0;this.dependencies[l]=b}hasDependency(l,f){for(const b of l){const S=this.dependencies[b];if(S){for(const R of f)if(S[R])return!0}}return!1}}class oe{constructor(l,f){this.max=l,this.onRemove=f,this.reset()}reset(){for(const l in this.data)for(const f of this.data[l])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(l,f,b){const S=l.wrapped().key;this.data[S]===void 0&&(this.data[S]=[]);const R={value:f,timeout:void 0};if(b!==void 0&&(R.timeout=setTimeout(()=>{this.remove(l,R)},b)),this.data[S].push(R),this.order.push(S),this.order.length>this.max){const j=this._getAndRemoveByKey(this.order[0]);j&&this.onRemove(j)}return this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){const f=this.data[l].shift();return f.timeout&&clearTimeout(f.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),f.value}getByKey(l){const f=this.data[l];return f?f[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,f){if(!this.has(l))return this;const b=l.wrapped().key,S=f===void 0?0:this.data[b].indexOf(f),R=this.data[b][S];return this.data[b].splice(S,1),R.timeout&&clearTimeout(R.timeout),this.data[b].length===0&&delete this.data[b],this.onRemove(R.value),this.order.splice(this.order.indexOf(b),1),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(l){const f=[];for(const b in this.data)for(const S of this.data[b])l(S.value)||f.push(S);for(const b of f)this.remove(b.value.tileID,b)}}class le{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,f,b){const S=String(f);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][S]=this.stateChanges[l][S]||{},a.e(this.stateChanges[l][S],b),this.deletedStates[l]===null){this.deletedStates[l]={};for(const R in this.state[l])R!==S&&(this.deletedStates[l][R]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][S]===null){this.deletedStates[l][S]={};for(const R in this.state[l][S])b[R]||(this.deletedStates[l][S][R]=null)}else for(const R in b)this.deletedStates[l]&&this.deletedStates[l][S]&&this.deletedStates[l][S][R]===null&&delete this.deletedStates[l][S][R]}removeFeatureState(l,f,b){if(this.deletedStates[l]===null)return;const S=String(f);if(this.deletedStates[l]=this.deletedStates[l]||{},b&&f!==void 0)this.deletedStates[l][S]!==null&&(this.deletedStates[l][S]=this.deletedStates[l][S]||{},this.deletedStates[l][S][b]=null);else if(f!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][S])for(b in this.deletedStates[l][S]={},this.stateChanges[l][S])this.deletedStates[l][S][b]=null;else this.deletedStates[l][S]=null;else this.deletedStates[l]=null}getState(l,f){const b=String(f),S=a.e({},(this.state[l]||{})[b],(this.stateChanges[l]||{})[b]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){const R=this.deletedStates[l][f];if(R===null)return{};for(const j in R)delete S[j]}return S}initializeTileState(l,f){l.setFeatureState(this.state,f)}coalesceChanges(l,f){const b={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const R={};for(const j in this.stateChanges[S])this.state[S][j]||(this.state[S][j]={}),a.e(this.state[S][j],this.stateChanges[S][j]),R[j]=this.state[S][j];b[S]=R}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const R={};if(this.deletedStates[S]===null)for(const j in this.state[S])R[j]={},this.state[S][j]={};else for(const j in this.deletedStates[S]){if(this.deletedStates[S][j]===null)this.state[S][j]={};else for(const q of Object.keys(this.deletedStates[S][j]))delete this.state[S][j][q];R[j]=this.state[S][j]}b[S]=b[S]||{},a.e(b[S],R)}if(this.stateChanges={},this.deletedStates={},Object.keys(b).length!==0)for(const S in l)l[S].setFeatureState(b,f)}}const me=89.25;function Ie(k,l){const f=a.ah(l.lat,-a.ai,a.ai);return new a.P(a.V(l.lng)*k,a.U(f)*k)}function Qe(k,l){return new a.a1(l.x/k,l.y/k).toLngLat()}function At(k){return k.cameraToCenterDistance*Math.min(.85*Math.tan(a.ae(90-k.pitch)),Math.tan(a.ae(me-k.pitch)))}function He(k,l){const f=k.canonical,b=l/a.af(f.z),S=f.x+Math.pow(2,f.z)*k.wrap,R=a.ag(new Float64Array(16));return a.M(R,R,[S*b,f.y*b,0]),a.N(R,R,[b/a.$,b/a.$,1]),R}function Re(k,l,f,b,S){const R=a.a1.fromLngLat(k,l),j=S*a.aj(1,k.lat),q=j*Math.cos(a.ae(f)),te=Math.sqrt(j*j-q*q),fe=te*Math.sin(a.ae(-b)),ye=te*Math.cos(a.ae(-b));return new a.a1(R.x+fe,R.y+ye,R.z+q)}function Ze(k,l,f){const b=l.intersectsFrustum(k);if(!f||b===0)return b;const S=l.intersectsPlane(f);return S===0?0:b===2&&S===2?2:1}function y(k,l,f){let b=0;const S=(f-l)/10;for(let R=0;R<10;R++)b+=S*Math.pow(Math.cos(l+(R+.5)/10*(f-l)),k);return b}function yt(k,l){return function(f,b,S,R,j){const q=2*((k-1)/a.ak(Math.cos(a.ae(me-j))/Math.cos(a.ae(me)))-1),te=Math.acos(S/R),fe=2*y(q-1,0,a.ae(j/2)),ye=Math.min(a.ae(me),te+a.ae(j/2)),Oe=y(q-1,Math.min(ye,te-a.ae(j/2)),ye),Ee=Math.atan(b/S),Ne=Math.hypot(b,S);let Je=f;return Je+=a.ak(R/Ne/Math.max(.5,Math.cos(a.ae(j/2)))),Je+=q*a.ak(Math.cos(Ee))/2,Je-=a.ak(Math.max(1,Oe/fe/l))/2,Je}}const dt=yt(9.314,3);function kt(k,l){const f=(l.roundZoom?Math.round:Math.floor)(k.zoom+a.ak(k.tileSize/l.tileSize));return Math.max(0,f)}function rt(k,l){const f=k.getCameraFrustum(),b=k.getClippingPlane(),S=k.screenPointToMercatorCoordinate(k.getCameraPoint()),R=a.a1.fromLngLat(k.center,k.elevation);S.z=R.z+Math.cos(k.pitchInRadians)*k.cameraToCenterDistance/k.worldSize;const j=k.getCoveringTilesDetailsProvider(),q=j.allowVariableZoom(k,l),te=kt(k,l),fe=l.minzoom||0,ye=l.maxzoom!==void 0?l.maxzoom:k.maxZoom,Oe=Math.min(Math.max(0,te),ye),Ee=Math.pow(2,Oe),Ne=[Ee*S.x,Ee*S.y,0],Je=[Ee*R.x,Ee*R.y,0],ut=Math.hypot(R.x-S.x,R.y-S.y),ht=Math.abs(R.z-S.z),ft=Math.hypot(ut,ht),Mt=Pt=>({zoom:0,x:0,y:0,wrap:Pt,fullyVisible:!1}),Ct=[],St=[];if(k.renderWorldCopies&&j.allowWorldCopies())for(let Pt=1;Pt<=3;Pt++)Ct.push(Mt(-Pt)),Ct.push(Mt(Pt));for(Ct.push(Mt(0));Ct.length>0;){const Pt=Ct.pop(),zt=Pt.x,Ot=Pt.y;let Ht=Pt.fullyVisible;const fn={x:zt,y:Ot,z:Pt.zoom},Jt=j.getTileBoundingVolume(fn,Pt.wrap,k.elevation,l);if(!Ht){const Yn=Ze(f,Jt,b);if(Yn===0)continue;Ht=Yn===2}const rn=j.distanceToTile2d(S.x,S.y,fn,Jt);let An=te;q&&(An=(l.calculateTileZoom||dt)(k.zoom+a.ak(k.tileSize/l.tileSize),rn,ht,ft,k.fov)),An=(l.roundZoom?Math.round:Math.floor)(An),An=Math.max(0,An);const $n=Math.min(An,ye);if(Pt.wrap=j.getWrap(R,fn,Pt.wrap),Pt.zoom>=$n){if(Pt.zoom<fe)continue;const Yn=Oe-Pt.zoom,kn=Ne[0]-.5-(zt<<Yn),wi=Ne[1]-.5-(Ot<<Yn),fr=l.reparseOverscaled?Math.max(Pt.zoom,An):Pt.zoom;St.push({tileID:new a.Z(Pt.zoom===ye?fr:Pt.zoom,Pt.wrap,Pt.zoom,zt,Ot),distanceSq:a.al([Je[0]-.5-zt,Je[1]-.5-Ot]),tileDistanceToCamera:Math.sqrt(kn*kn+wi*wi)})}else for(let Yn=0;Yn<4;Yn++)Ct.push({zoom:Pt.zoom+1,x:(zt<<1)+Yn%2,y:(Ot<<1)+(Yn>>1),wrap:Pt.wrap,fullyVisible:Ht})}return St.sort((Pt,zt)=>Pt.distanceSq-zt.distanceSq).map(Pt=>Pt.tileID)}const tn=a.a2.fromPoints([new a.P(0,0),new a.P(a.$,a.$)]);class Rn extends a.E{constructor(l,f,b){super(),this.id=l,this.dispatcher=b,this.on("data",S=>this._dataHandler(S)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((S,R,j,q)=>{const te=new(Tn(R.type))(S,R,j,q);if(te.id!==S)throw new Error(`Expected Source id to be ${S} instead of ${te.id}`);return te})(l,f,b,this),this._tiles={},this._cache=new oe(0,S=>this._unloadTile(S)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new le,this._didEmitContent=!1,this._updated=!1}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._maxTileCacheZoomLevels=l?l._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const l in this._tiles){const f=this._tiles[l];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(l,f,b){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(l),this._tileLoaded(l,f,b)}catch(S){l.state="errored",S.status!==404?this._source.fire(new a.k(S,{tile:l})):this.update(this.transform,this.terrain)}})}_unloadTile(l){this._source.unloadTile&&this._source.unloadTile(l)}_abortTile(l){this._source.abortTile&&this._source.abortTile(l),this._source.fire(new a.l("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const b=this._tiles[f];b.upload(l),b.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(wn).map(l=>l.key)}getRenderableIds(l){const f=[];for(const b in this._tiles)this._isIdRenderable(b,l)&&f.push(this._tiles[b]);return l?f.sort((b,S)=>{const R=b.tileID,j=S.tileID,q=new a.P(R.canonical.x,R.canonical.y)._rotate(-this.transform.bearingInRadians),te=new a.P(j.canonical.x,j.canonical.y)._rotate(-this.transform.bearingInRadians);return R.overscaledZ-j.overscaledZ||te.y-q.y||te.x-q.x}).map(b=>b.tileID.key):f.map(b=>b.tileID).sort(wn).map(b=>b.key)}hasRenderableParent(l){const f=this.findLoadedParent(l,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(l,f){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(f||!this._tiles[l].holdingForFade())}reload(l){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const f in this._tiles)l?this._reloadTile(f,"expired"):this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")}}_reloadTile(l,f){return a._(this,void 0,void 0,function*(){const b=this._tiles[l];b&&(b.state!=="loading"&&(b.state=f),yield this._loadTile(b,l,f))})}_tileLoaded(l,f,b){l.timeAdded=O.now(),b==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(f,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){const f=this.getRenderableIds();for(let S=0;S<f.length;S++){const R=f[S];if(l.neighboringTiles&&l.neighboringTiles[R]){const j=this.getTileByID(R);b(l,j),b(j,l)}}function b(S,R){S.needsHillshadePrepare=!0,S.needsTerrainPrepare=!0;let j=R.tileID.canonical.x-S.tileID.canonical.x;const q=R.tileID.canonical.y-S.tileID.canonical.y,te=Math.pow(2,S.tileID.canonical.z),fe=R.tileID.key;j===0&&q===0||Math.abs(q)>1||(Math.abs(j)>1&&(Math.abs(j+te)===1?j+=te:Math.abs(j-te)===1&&(j-=te)),R.dem&&S.dem&&(S.dem.backfillBorder(R.dem,j,q),S.neighboringTiles&&S.neighboringTiles[fe]&&(S.neighboringTiles[fe].backfilled=!0)))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,f,b,S){for(const R in this._tiles){let j=this._tiles[R];if(S[R]||!j.hasData()||j.tileID.overscaledZ<=f||j.tileID.overscaledZ>b)continue;let q=j.tileID;for(;j&&j.tileID.overscaledZ>f+1;){const fe=j.tileID.scaledTo(j.tileID.overscaledZ-1);j=this._tiles[fe.key],j&&j.hasData()&&(q=fe)}let te=q;for(;te.overscaledZ>f;)if(te=te.scaledTo(te.overscaledZ-1),l[te.key]||l[te.canonical.key]){S[q.key]=q;break}}}findLoadedParent(l,f){if(l.key in this._loadedParentTiles){const b=this._loadedParentTiles[l.key];return b&&b.tileID.overscaledZ>=f?b:null}for(let b=l.overscaledZ-1;b>=f;b--){const S=l.scaledTo(b),R=this._getLoadedTile(S);if(R)return R}}findLoadedSibling(l){return this._getLoadedTile(l)}_getLoadedTile(l){const f=this._tiles[l.key];return f&&f.hasData()?f:this._cache.getByKey(l.wrapped().key)}updateCacheSize(l){const f=Math.ceil(l.width/this._source.tileSize)+1,b=Math.ceil(l.height/this._source.tileSize)+1,S=Math.floor(f*b*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(R)}handleWrapJump(l){const f=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,f){const b={};for(const S in this._tiles){const R=this._tiles[S];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+f),b[R.tileID.key]=R}this._tiles=b;for(const S in this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(const S in this._tiles)this._setTileReloadTimer(S,this._tiles[S])}}_updateCoveredAndRetainedTiles(l,f,b,S,R,j){const q={},te={},fe=Object.keys(l),ye=O.now();for(const Oe of fe){const Ee=l[Oe],Ne=this._tiles[Oe];if(!Ne||Ne.fadeEndTime!==0&&Ne.fadeEndTime<=ye)continue;const Je=this.findLoadedParent(Ee,f),ut=this.findLoadedSibling(Ee),ht=Je||ut||null;ht&&(this._addTile(ht.tileID),q[ht.tileID.key]=ht.tileID),te[Oe]=Ee}this._retainLoadedChildren(te,S,b,l);for(const Oe in q)l[Oe]||(this._coveredTiles[Oe]=!0,l[Oe]=q[Oe]);if(j){const Oe={},Ee={};for(const Ne of R)this._tiles[Ne.key].hasData()?Oe[Ne.key]=Ne:Ee[Ne.key]=Ne;for(const Ne in Ee){const Je=Ee[Ne].children(this._source.maxzoom);this._tiles[Je[0].key]&&this._tiles[Je[1].key]&&this._tiles[Je[2].key]&&this._tiles[Je[3].key]&&(Oe[Je[0].key]=l[Je[0].key]=Je[0],Oe[Je[1].key]=l[Je[1].key]=Je[1],Oe[Je[2].key]=l[Je[2].key]=Je[2],Oe[Je[3].key]=l[Je[3].key]=Je[3],delete Ee[Ne])}for(const Ne in Ee){const Je=Ee[Ne],ut=this.findLoadedParent(Je,this._source.minzoom),ht=this.findLoadedSibling(Je),ft=ut||ht||null;if(ft){Oe[ft.tileID.key]=l[ft.tileID.key]=ft.tileID;for(const Mt in Oe)Oe[Mt].isChildOf(ft.tileID)&&delete Oe[Mt]}}for(const Ne in this._tiles)Oe[Ne]||(this._coveredTiles[Ne]=!0)}}update(l,f){if(!this._sourceLoaded||this._paused)return;let b;this.transform=l,this.terrain=f,this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?b=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(ye=>new a.Z(ye.canonical.z,ye.wrap,ye.canonical.z,ye.canonical.x,ye.canonical.y)):(b=rt(l,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(b=b.filter(ye=>this._source.hasTile(ye)))):b=[];const S=kt(l,this._source),R=Math.max(S-Rn.maxOverzooming,this._source.minzoom),j=Math.max(S+Rn.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const ye={};for(const Oe of b)if(Oe.canonical.z>this._source.minzoom){const Ee=Oe.scaledTo(Oe.canonical.z-1);ye[Ee.key]=Ee;const Ne=Oe.scaledTo(Math.max(this._source.minzoom,Math.min(Oe.canonical.z,5)));ye[Ne.key]=Ne}b=b.concat(Object.values(ye))}const q=b.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,q&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const te=this._updateRetainedTiles(b,S);ri(this._source.type)&&this._updateCoveredAndRetainedTiles(te,R,j,S,b,f);for(const ye in te)this._tiles[ye].clearFadeHold();const fe=a.am(this._tiles,te);for(const ye of fe){const Oe=this._tiles[ye];Oe.hasSymbolBuckets&&!Oe.holdingForFade()?Oe.setHoldDuration(this.map._fadeDuration):Oe.hasSymbolBuckets&&!Oe.symbolFadeFinished()||this._removeTile(ye)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,f){var b;const S={},R={},j=Math.max(f-Rn.maxOverzooming,this._source.minzoom),q=Math.max(f+Rn.maxUnderzooming,this._source.minzoom),te={};for(const fe of l){const ye=this._addTile(fe);S[fe.key]=fe,ye.hasData()||f<this._source.maxzoom&&(te[fe.key]=fe)}this._retainLoadedChildren(te,f,q,S);for(const fe of l){let ye=this._tiles[fe.key];if(ye.hasData())continue;if(f+1>this._source.maxzoom){const Ee=fe.children(this._source.maxzoom)[0],Ne=this.getTile(Ee);if(Ne&&Ne.hasData()){S[Ee.key]=Ee;continue}}else{const Ee=fe.children(this._source.maxzoom);if(S[Ee[0].key]&&S[Ee[1].key]&&S[Ee[2].key]&&S[Ee[3].key])continue}let Oe=ye.wasRequested();for(let Ee=fe.overscaledZ-1;Ee>=j;--Ee){const Ne=fe.scaledTo(Ee);if(R[Ne.key])break;if(R[Ne.key]=!0,ye=this.getTile(Ne),!ye&&Oe&&(ye=this._addTile(Ne)),ye){const Je=ye.hasData();if((Je||!(!((b=this.map)===null||b===void 0)&&b.cancelPendingTileRequestsWhileZooming)||Oe)&&(S[Ne.key]=Ne),Oe=ye.wasRequested(),Je)break}}}return S}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const l in this._tiles){const f=[];let b,S=this._tiles[l].tileID;for(;S.overscaledZ>0;){if(S.key in this._loadedParentTiles){b=this._loadedParentTiles[S.key];break}f.push(S.key);const R=S.scaledTo(S.overscaledZ-1);if(b=this._getLoadedTile(R),b)break;S=R}for(const R of f)this._loadedParentTiles[R]=b}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const l in this._tiles){const f=this._tiles[l].tileID,b=this._getLoadedTile(f);this._loadedSiblingTiles[f.key]=b}}_addTile(l){let f=this._tiles[l.key];if(f)return f;f=this._cache.getAndRemove(l),f&&(this._setTileReloadTimer(l.key,f),f.tileID=l,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,f)));const b=f;return f||(f=new de(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(f,l.key,f.state)),f.uses++,this._tiles[l.key]=f,b||this._source.fire(new a.l("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(l,f){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);const b=f.getExpiryTimeout();b&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},b))}refreshTiles(l){for(const f in this._tiles)(this._isIdRenderable(f)||this._tiles[f].state=="errored")&&l.some(b=>b.equals(this._tiles[f].tileID.canonical))&&this._reloadTile(f,"expired")}_removeTile(l){const f=this._tiles[l];f&&(f.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(l){const f=l.sourceDataType;l.dataType==="source"&&f==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&l.dataType==="source"&&f==="content"&&(this.reload(l.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,f,b){const S=[],R=this.transform;if(!R)return S;const j=R.getCoveringTilesDetailsProvider().allowWorldCopies(),q=b?R.getCameraQueryGeometry(l):l,te=Ne=>R.screenPointToMercatorCoordinate(Ne,this.terrain),fe=this.transformBbox(l,te,!j),ye=this.transformBbox(q,te,!j),Oe=this.getIds(),Ee=a.a2.fromPoints(ye);for(let Ne=0;Ne<Oe.length;Ne++){const Je=this._tiles[Oe[Ne]];if(Je.holdingForFade())continue;const ut=j?[Je.tileID]:[Je.tileID.unwrapTo(-1),Je.tileID.unwrapTo(0)],ht=Math.pow(2,R.zoom-Je.tileID.overscaledZ),ft=f*Je.queryPadding*a.$/Je.tileSize/ht;for(const Mt of ut){const Ct=Ee.map(St=>Mt.getTilePoint(new a.a1(St.x,St.y)));if(Ct.expandBy(ft),Ct.intersects(tn)){const St=fe.map(zt=>Mt.getTilePoint(zt)),Pt=ye.map(zt=>Mt.getTilePoint(zt));S.push({tile:Je,tileID:j?Mt:Mt.unwrapTo(0),queryGeometry:St,cameraQueryGeometry:Pt,scale:ht})}}}return S}transformBbox(l,f,b){let S=l.map(f);if(b){const R=a.a2.fromPoints(l);R.shrinkBy(.001*Math.min(R.width(),R.height()));const j=R.map(f);a.a2.fromPoints(S).covers(j)||(S=S.map(q=>q.x>.5?new a.a1(q.x-1,q.y,q.z):q))}return S}getVisibleCoordinates(l){const f=this.getRenderableIds(l).map(b=>this._tiles[b].tileID);return this.transform&&this.transform.populateCache(f),f}hasTransition(){if(this._source.hasTransition())return!0;if(ri(this._source.type)){const l=O.now();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=l)return!0}return!1}setFeatureState(l,f,b){this._state.updateState(l=l||"_geojsonTileLayer",f,b)}removeFeatureState(l,f,b){this._state.removeFeatureState(l=l||"_geojsonTileLayer",f,b)}getFeatureState(l,f){return this._state.getState(l=l||"_geojsonTileLayer",f)}setDependencies(l,f,b){const S=this._tiles[l];S&&S.setDependencies(f,b)}reloadTilesForDependencies(l,f){for(const b in this._tiles)this._tiles[b].hasDependency(l,f)&&this._reloadTile(b,"reloading");this._cache.filter(b=>!b.hasDependency(l,f))}}function wn(k,l){const f=Math.abs(2*k.wrap)-+(k.wrap<0),b=Math.abs(2*l.wrap)-+(l.wrap<0);return k.overscaledZ-l.overscaledZ||b-f||l.canonical.y-k.canonical.y||l.canonical.x-k.canonical.x}function ri(k){return k==="raster"||k==="image"||k==="video"}Rn.maxOverzooming=10,Rn.maxUnderzooming=3;class Qn{constructor(l,f){this.reset(l,f)}reset(l,f){this.points=l||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=a.ah(l,0,1);let f=1,b=this._distances[f];const S=l*this.paddedLength+this.padding;for(;b<S&&f<this._distances.length;)b=this._distances[++f];const R=f-1,j=this._distances[R],q=b-j,te=q>0?(S-j)/q:0;return this.points[R].mult(1-te).add(this.points[f].mult(te))}}function $i(k,l){let f=!0;return k==="always"||k!=="never"&&l!=="never"||(f=!1),f}class ir{constructor(l,f,b){const S=this.boxCells=[],R=this.circleCells=[];this.xCellCount=Math.ceil(l/b),this.yCellCount=Math.ceil(f/b);for(let j=0;j<this.xCellCount*this.yCellCount;j++)S.push([]),R.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=f,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,f,b,S,R){this._forEachCell(f,b,S,R,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(f),this.bboxes.push(b),this.bboxes.push(S),this.bboxes.push(R)}insertCircle(l,f,b,S){this._forEachCell(f-S,b-S,f+S,b+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(f),this.circles.push(b),this.circles.push(S)}_insertBoxCell(l,f,b,S,R,j){this.boxCells[R].push(j)}_insertCircleCell(l,f,b,S,R,j){this.circleCells[R].push(j)}_query(l,f,b,S,R,j,q){if(b<0||l>this.width||S<0||f>this.height)return[];const te=[];if(l<=0&&f<=0&&this.width<=b&&this.height<=S){if(R)return[{key:null,x1:l,y1:f,x2:b,y2:S}];for(let fe=0;fe<this.boxKeys.length;fe++)te.push({key:this.boxKeys[fe],x1:this.bboxes[4*fe],y1:this.bboxes[4*fe+1],x2:this.bboxes[4*fe+2],y2:this.bboxes[4*fe+3]});for(let fe=0;fe<this.circleKeys.length;fe++){const ye=this.circles[3*fe],Oe=this.circles[3*fe+1],Ee=this.circles[3*fe+2];te.push({key:this.circleKeys[fe],x1:ye-Ee,y1:Oe-Ee,x2:ye+Ee,y2:Oe+Ee})}}else this._forEachCell(l,f,b,S,this._queryCell,te,{hitTest:R,overlapMode:j,seenUids:{box:{},circle:{}}},q);return te}query(l,f,b,S){return this._query(l,f,b,S,!1,null)}hitTest(l,f,b,S,R,j){return this._query(l,f,b,S,!0,R,j).length>0}hitTestCircle(l,f,b,S,R){const j=l-b,q=l+b,te=f-b,fe=f+b;if(q<0||j>this.width||fe<0||te>this.height)return!1;const ye=[];return this._forEachCell(j,te,q,fe,this._queryCellCircle,ye,{hitTest:!0,overlapMode:S,circle:{x:l,y:f,radius:b},seenUids:{box:{},circle:{}}},R),ye.length>0}_queryCell(l,f,b,S,R,j,q,te){const{seenUids:fe,hitTest:ye,overlapMode:Oe}=q,Ee=this.boxCells[R];if(Ee!==null){const Je=this.bboxes;for(const ut of Ee)if(!fe.box[ut]){fe.box[ut]=!0;const ht=4*ut,ft=this.boxKeys[ut];if(l<=Je[ht+2]&&f<=Je[ht+3]&&b>=Je[ht+0]&&S>=Je[ht+1]&&(!te||te(ft))&&(!ye||!$i(Oe,ft.overlapMode))&&(j.push({key:ft,x1:Je[ht],y1:Je[ht+1],x2:Je[ht+2],y2:Je[ht+3]}),ye))return!0}}const Ne=this.circleCells[R];if(Ne!==null){const Je=this.circles;for(const ut of Ne)if(!fe.circle[ut]){fe.circle[ut]=!0;const ht=3*ut,ft=this.circleKeys[ut];if(this._circleAndRectCollide(Je[ht],Je[ht+1],Je[ht+2],l,f,b,S)&&(!te||te(ft))&&(!ye||!$i(Oe,ft.overlapMode))){const Mt=Je[ht],Ct=Je[ht+1],St=Je[ht+2];if(j.push({key:ft,x1:Mt-St,y1:Ct-St,x2:Mt+St,y2:Ct+St}),ye)return!0}}}return!1}_queryCellCircle(l,f,b,S,R,j,q,te){const{circle:fe,seenUids:ye,overlapMode:Oe}=q,Ee=this.boxCells[R];if(Ee!==null){const Je=this.bboxes;for(const ut of Ee)if(!ye.box[ut]){ye.box[ut]=!0;const ht=4*ut,ft=this.boxKeys[ut];if(this._circleAndRectCollide(fe.x,fe.y,fe.radius,Je[ht+0],Je[ht+1],Je[ht+2],Je[ht+3])&&(!te||te(ft))&&!$i(Oe,ft.overlapMode))return j.push(!0),!0}}const Ne=this.circleCells[R];if(Ne!==null){const Je=this.circles;for(const ut of Ne)if(!ye.circle[ut]){ye.circle[ut]=!0;const ht=3*ut,ft=this.circleKeys[ut];if(this._circlesCollide(Je[ht],Je[ht+1],Je[ht+2],fe.x,fe.y,fe.radius)&&(!te||te(ft))&&!$i(Oe,ft.overlapMode))return j.push(!0),!0}}}_forEachCell(l,f,b,S,R,j,q,te){const fe=this._convertToXCellCoord(l),ye=this._convertToYCellCoord(f),Oe=this._convertToXCellCoord(b),Ee=this._convertToYCellCoord(S);for(let Ne=fe;Ne<=Oe;Ne++)for(let Je=ye;Je<=Ee;Je++)if(R.call(this,l,f,b,S,this.xCellCount*Je+Ne,j,q,te))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,f,b,S,R,j){const q=S-l,te=R-f,fe=b+j;return fe*fe>q*q+te*te}_circleAndRectCollide(l,f,b,S,R,j,q){const te=(j-S)/2,fe=Math.abs(l-(S+te));if(fe>te+b)return!1;const ye=(q-R)/2,Oe=Math.abs(f-(R+ye));if(Oe>ye+b)return!1;if(fe<=te||Oe<=ye)return!0;const Ee=fe-te,Ne=Oe-ye;return Ee*Ee+Ne*Ne<=b*b}}function Ii(k,l,f){const b=a.L();if(!k){const{vecSouth:Oe,vecEast:Ee}=ti(l),Ne=g();Ne[0]=Ee[0],Ne[1]=Ee[1],Ne[2]=Oe[0],Ne[3]=Oe[1],S=Ne,(ye=(j=(R=Ne)[0])*(fe=R[3])-(te=R[2])*(q=R[1]))&&(S[0]=fe*(ye=1/ye),S[1]=-q*ye,S[2]=-te*ye,S[3]=j*ye),b[0]=Ne[0],b[1]=Ne[1],b[4]=Ne[2],b[5]=Ne[3]}var S,R,j,q,te,fe,ye;return a.N(b,b,[1/f,1/f,1]),b}function di(k,l,f,b){if(k){const S=a.L();if(!l){const{vecSouth:R,vecEast:j}=ti(f);S[0]=j[0],S[1]=j[1],S[4]=R[0],S[5]=R[1]}return a.N(S,S,[b,b,1]),S}return f.pixelsToClipSpaceMatrix}function ti(k){const l=Math.cos(k.rollInRadians),f=Math.sin(k.rollInRadians),b=Math.cos(k.pitchInRadians),S=Math.cos(k.bearingInRadians),R=Math.sin(k.bearingInRadians),j=a.ar();j[0]=-S*b*f-R*l,j[1]=-R*b*f+S*l;const q=a.as(j);q<1e-9?a.at(j):a.au(j,j,1/q);const te=a.ar();te[0]=S*b*l-R*f,te[1]=R*b*l+S*f;const fe=a.as(te);return fe<1e-9?a.at(te):a.au(te,te,1/fe),{vecEast:te,vecSouth:j}}function qi(k,l,f,b){let S;b?(S=[k,l,b(k,l),1],a.aw(S,S,f)):(S=[k,l,0,1],Pl(S,S,f));const R=S[3];return{point:new a.P(S[0]/R,S[1]/R),signedDistanceFromCamera:R,isOccluded:!1}}function Sn(k,l){return .5+k/l*.5}function co(k,l){return k.x>=-l[0]&&k.x<=l[0]&&k.y>=-l[1]&&k.y<=l[1]}function Zi(k,l,f,b,S,R,j,q,te,fe,ye,Oe,Ee){const Ne=f?k.textSizeData:k.iconSizeData,Je=a.an(Ne,l.transform.zoom),ut=[256/l.width*2+1,256/l.height*2+1],ht=f?k.text.dynamicLayoutVertexArray:k.icon.dynamicLayoutVertexArray;ht.clear();const ft=k.lineVertexArray,Mt=f?k.text.placedSymbolArray:k.icon.placedSymbolArray,Ct=l.transform.width/l.transform.height;let St=!1;for(let Pt=0;Pt<Mt.length;Pt++){const zt=Mt.get(Pt);if(zt.hidden||zt.writingMode===a.ao.vertical&&!St){rs(zt.numGlyphs,ht);continue}St=!1;const Ot=new a.P(zt.anchorX,zt.anchorY),Ht={getElevation:Ee,pitchedLabelPlaneMatrix:b,lineVertexArray:ft,pitchWithMap:R,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:l.transform,tileAnchorPoint:Ot,unwrappedTileID:te,width:fe,height:ye,translation:Oe},fn=Rr(zt.anchorX,zt.anchorY,Ht);if(!co(fn.point,ut)){rs(zt.numGlyphs,ht);continue}const Jt=Sn(l.transform.cameraToCenterDistance,fn.signedDistanceFromCamera),rn=a.ap(Ne,Je,zt),An=R?rn*l.transform.getPitchedTextCorrection(zt.anchorX,zt.anchorY,te)/Jt:rn*Jt,$n=Jn({projectionContext:Ht,pitchedLabelPlaneMatrixInverse:S,symbol:zt,fontSize:An,flip:!1,keepUpright:j,glyphOffsetArray:k.glyphOffsetArray,dynamicLayoutVertexArray:ht,aspectRatio:Ct,rotateToLine:q});St=$n.useVertical,($n.notEnoughRoom||St||$n.needsFlipping&&Jn({projectionContext:Ht,pitchedLabelPlaneMatrixInverse:S,symbol:zt,fontSize:An,flip:!0,keepUpright:j,glyphOffsetArray:k.glyphOffsetArray,dynamicLayoutVertexArray:ht,aspectRatio:Ct,rotateToLine:q}).notEnoughRoom)&&rs(zt.numGlyphs,ht)}f?k.text.dynamicLayoutVertexBuffer.updateData(ht):k.icon.dynamicLayoutVertexBuffer.updateData(ht)}function _a(k,l,f,b,S,R,j,q){const te=R.glyphStartIndex+R.numGlyphs,fe=R.lineStartIndex,ye=R.lineStartIndex+R.lineLength,Oe=l.getoffsetX(R.glyphStartIndex),Ee=l.getoffsetX(te-1),Ne=La(k*Oe,f,b,S,R.segment,fe,ye,q,j);if(!Ne)return null;const Je=La(k*Ee,f,b,S,R.segment,fe,ye,q,j);return Je?q.projectionCache.anyProjectionOccluded?null:{first:Ne,last:Je}:null}function Ro(k,l,f,b){return k===a.ao.horizontal&&Math.abs(f.y-l.y)>Math.abs(f.x-l.x)*b?{useVertical:!0}:(k===a.ao.vertical?l.y<f.y:l.x>f.x)?{needsFlipping:!0}:null}function Jn(k){const{projectionContext:l,pitchedLabelPlaneMatrixInverse:f,symbol:b,fontSize:S,flip:R,keepUpright:j,glyphOffsetArray:q,dynamicLayoutVertexArray:te,aspectRatio:fe,rotateToLine:ye}=k,Oe=S/24,Ee=b.lineOffsetX*Oe,Ne=b.lineOffsetY*Oe;let Je;if(b.numGlyphs>1){const ut=b.glyphStartIndex+b.numGlyphs,ht=b.lineStartIndex,ft=b.lineStartIndex+b.lineLength,Mt=_a(Oe,q,Ee,Ne,R,b,ye,l);if(!Mt)return{notEnoughRoom:!0};const Ct=Wa(Mt.first.point.x,Mt.first.point.y,l,f),St=Wa(Mt.last.point.x,Mt.last.point.y,l,f);if(j&&!R){const Pt=Ro(b.writingMode,Ct,St,fe);if(Pt)return Pt}Je=[Mt.first];for(let Pt=b.glyphStartIndex+1;Pt<ut-1;Pt++){const zt=La(Oe*q.getoffsetX(Pt),Ee,Ne,R,b.segment,ht,ft,l,ye);if(!zt)return{notEnoughRoom:!0};Je.push(zt)}Je.push(Mt.last)}else{if(j&&!R){const ht=br(l.tileAnchorPoint.x,l.tileAnchorPoint.y,l).point,ft=b.lineStartIndex+b.segment+1,Mt=new a.P(l.lineVertexArray.getx(ft),l.lineVertexArray.gety(ft)),Ct=br(Mt.x,Mt.y,l),St=Ct.signedDistanceFromCamera>0?Ct.point:cr(l.tileAnchorPoint,Mt,ht,1,l),Pt=Wa(ht.x,ht.y,l,f),zt=Wa(St.x,St.y,l,f),Ot=Ro(b.writingMode,Pt,zt,fe);if(Ot)return Ot}const ut=La(Oe*q.getoffsetX(b.glyphStartIndex),Ee,Ne,R,b.segment,b.lineStartIndex,b.lineStartIndex+b.lineLength,l,ye);if(!ut||l.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Je=[ut]}for(const ut of Je)a.av(te,ut.point,ut.angle);return{}}function cr(k,l,f,b,S){const R=k.add(k.sub(l)._unit()),j=br(R.x,R.y,S).point,q=f.sub(j);return f.add(q._mult(b/q.mag()))}function Ni(k,l,f){const b=l.projectionCache;if(b.projections[k])return b.projections[k];const S=new a.P(l.lineVertexArray.getx(k),l.lineVertexArray.gety(k)),R=br(S.x,S.y,l);if(R.signedDistanceFromCamera>0)return b.projections[k]=R.point,b.anyProjectionOccluded=b.anyProjectionOccluded||R.isOccluded,R.point;const j=k-f.direction;return cr(f.distanceFromAnchor===0?l.tileAnchorPoint:new a.P(l.lineVertexArray.getx(j),l.lineVertexArray.gety(j)),S,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,l)}function br(k,l,f){const b=k+f.translation[0],S=l+f.translation[1];let R;return f.pitchWithMap?(R=qi(b,S,f.pitchedLabelPlaneMatrix,f.getElevation),R.isOccluded=!1):(R=f.transform.projectTileCoordinates(b,S,f.unwrappedTileID,f.getElevation),R.point.x=(.5*R.point.x+.5)*f.width,R.point.y=(.5*-R.point.y+.5)*f.height),R}function Wa(k,l,f,b){if(f.pitchWithMap){const S=[k,l,0,1];return a.aw(S,S,b),f.transform.projectTileCoordinates(S[0]/S[3],S[1]/S[3],f.unwrappedTileID,f.getElevation).point}return{x:k/f.width*2-1,y:1-l/f.height*2}}function Rr(k,l,f){return f.transform.projectTileCoordinates(k,l,f.unwrappedTileID,f.getElevation)}function Gi(k,l,f){return k._unit()._perp()._mult(l*f)}function bl(k,l,f,b,S,R,j,q,te){if(q.projectionCache.offsets[k])return q.projectionCache.offsets[k];const fe=f.add(l);if(k+te.direction<b||k+te.direction>=S)return q.projectionCache.offsets[k]=fe,fe;const ye=Ni(k+te.direction,q,te),Oe=Gi(ye.sub(f),j,te.direction),Ee=f.add(Oe),Ne=ye.add(Oe);return q.projectionCache.offsets[k]=a.ax(R,fe,Ee,Ne)||fe,q.projectionCache.offsets[k]}function La(k,l,f,b,S,R,j,q,te){const fe=b?k-l:k+l;let ye=fe>0?1:-1,Oe=0;b&&(ye*=-1,Oe=Math.PI),ye<0&&(Oe+=Math.PI);let Ee,Ne=ye>0?R+S:R+S+1;q.projectionCache.cachedAnchorPoint?Ee=q.projectionCache.cachedAnchorPoint:(Ee=br(q.tileAnchorPoint.x,q.tileAnchorPoint.y,q).point,q.projectionCache.cachedAnchorPoint=Ee);let Je,ut,ht=Ee,ft=Ee,Mt=0,Ct=0;const St=Math.abs(fe),Pt=[];let zt;for(;Mt+Ct<=St;){if(Ne+=ye,Ne<R||Ne>=j)return null;Mt+=Ct,ft=ht,ut=Je;const fn={absOffsetX:St,direction:ye,distanceFromAnchor:Mt,previousVertex:ft};if(ht=Ni(Ne,q,fn),f===0)Pt.push(ft),zt=ht.sub(ft);else{let Jt;const rn=ht.sub(ft);Jt=rn.mag()===0?Gi(Ni(Ne+ye,q,fn).sub(ht),f,ye):Gi(rn,f,ye),ut||(ut=ft.add(Jt)),Je=bl(Ne,Jt,ht,R,j,ut,f,q,fn),Pt.push(ut),zt=Je.sub(ut)}Ct=zt.mag()}const Ot=zt._mult((St-Mt)/Ct)._add(ut||ft),Ht=Oe+Math.atan2(ht.y-ft.y,ht.x-ft.x);return Pt.push(Ot),{point:Ot,angle:te?Ht:0,path:Pt}}const Bo=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function rs(k,l){for(let f=0;f<k;f++){const b=l.length;l.resize(b+4),l.float32.set(Bo,3*b)}}function Pl(k,l,f){const b=l[0],S=l[1];return k[0]=f[0]*b+f[4]*S+f[12],k[1]=f[1]*b+f[5]*S+f[13],k[3]=f[3]*b+f[7]*S+f[15],k}const ho=100;class Xu{constructor(l,f=new ir(l.width+200,l.height+200,25),b=new ir(l.width+200,l.height+200,25)){this.transform=l,this.grid=f,this.ignoredGrid=b,this.pitchFactor=Math.cos(l.pitch*Math.PI/180)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+ho,this.screenBottomBoundary=l.height+ho,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(l,f,b,S,R,j,q,te,fe,ye,Oe,Ee){const Ne=this.projectAndGetPerspectiveRatio(l.anchorPointX+te[0],l.anchorPointY+te[1],R,ye,Ee),Je=b*Ne.perspectiveRatio;let ut;if(j||q)ut=this._projectCollisionBox(l,Je,S,R,j,q,te,Ne,ye,Oe,Ee);else{const zt=Ne.x+(Oe?Oe.x*Je:0),Ot=Ne.y+(Oe?Oe.y*Je:0);ut={allPointsOccluded:!1,box:[zt+l.x1*Je,Ot+l.y1*Je,zt+l.x2*Je,Ot+l.y2*Je]}}const[ht,ft,Mt,Ct]=ut.box,St=j?ut.allPointsOccluded:Ne.isOccluded;let Pt=St;return Pt||(Pt=Ne.perspectiveRatio<this.perspectiveRatioCutoff),Pt||(Pt=!this.isInsideGrid(ht,ft,Mt,Ct)),Pt||f!=="always"&&this.grid.hitTest(ht,ft,Mt,Ct,f,fe)?{box:[ht,ft,Mt,Ct],placeable:!1,offscreen:!1,occluded:St}:{box:[ht,ft,Mt,Ct],placeable:!0,offscreen:this.isOffscreen(ht,ft,Mt,Ct),occluded:St}}placeCollisionCircles(l,f,b,S,R,j,q,te,fe,ye,Oe,Ee,Ne,Je){const ut=[],ht=new a.P(f.anchorX,f.anchorY),ft=this.getPerspectiveRatio(ht.x,ht.y,j,Je),Mt=(fe?R*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,j)/ft:R*ft)/a.aB,Ct={getElevation:Je,pitchedLabelPlaneMatrix:q,lineVertexArray:b,pitchWithMap:fe,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ht,unwrappedTileID:j,width:this.transform.width,height:this.transform.height,translation:Ne},St=_a(Mt,S,f.lineOffsetX*Mt,f.lineOffsetY*Mt,!1,f,!1,Ct);let Pt=!1,zt=!1,Ot=!0;if(St){const Ht=.5*Oe*ft+Ee,fn=new a.P(-100,-100),Jt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),rn=new Qn,An=St.first,$n=St.last;let Yn=[];for(let fr=An.path.length-1;fr>=1;fr--)Yn.push(An.path[fr]);for(let fr=1;fr<$n.path.length;fr++)Yn.push($n.path[fr]);const kn=2.5*Ht;if(fe){const fr=this.projectPathToScreenSpace(Yn,Ct);Yn=fr.some(xo=>xo.signedDistanceFromCamera<=0)?[]:fr.map(xo=>xo.point)}let wi=[];if(Yn.length>0){const fr=Yn[0].clone(),xo=Yn[0].clone();for(let fa=1;fa<Yn.length;fa++)fr.x=Math.min(fr.x,Yn[fa].x),fr.y=Math.min(fr.y,Yn[fa].y),xo.x=Math.max(xo.x,Yn[fa].x),xo.y=Math.max(xo.y,Yn[fa].y);wi=fr.x>=fn.x&&xo.x<=Jt.x&&fr.y>=fn.y&&xo.y<=Jt.y?[Yn]:xo.x<fn.x||fr.x>Jt.x||xo.y<fn.y||fr.y>Jt.y?[]:a.ay([Yn],fn.x,fn.y,Jt.x,Jt.y)}for(const fr of wi){rn.reset(fr,.25*Ht);let xo=0;xo=rn.length<=.5*Ht?1:Math.ceil(rn.paddedLength/kn)+1;for(let fa=0;fa<xo;fa++){const jo=fa/Math.max(xo-1,1),ja=rn.lerp(jo),pa=ja.x+ho,Tr=ja.y+ho;ut.push(pa,Tr,Ht,0);const Ho=pa-Ht,us=Tr-Ht,$a=pa+Ht,Ds=Tr+Ht;if(Ot=Ot&&this.isOffscreen(Ho,us,$a,Ds),zt=zt||this.isInsideGrid(Ho,us,$a,Ds),l!=="always"&&this.grid.hitTestCircle(pa,Tr,Ht,l,ye)&&(Pt=!0,!te))return{circles:[],offscreen:!1,collisionDetected:Pt}}}}return{circles:!te&&Pt||!zt||ft<this.perspectiveRatioCutoff?[]:ut,offscreen:Ot,collisionDetected:Pt}}projectPathToScreenSpace(l,f){const b=function(S,R){const j=a.L();return a.aq(j,R.pitchedLabelPlaneMatrix),S.map(q=>{const te=qi(q.x,q.y,j,R.getElevation),fe=R.transform.projectTileCoordinates(te.point.x,te.point.y,R.unwrappedTileID,R.getElevation);return fe.point.x=(.5*fe.point.x+.5)*R.width,fe.point.y=(.5*-fe.point.y+.5)*R.height,fe})}(l,f);return function(S){let R=0,j=0,q=0,te=0;for(let fe=0;fe<S.length;fe++)S[fe].isOccluded?(q=fe+1,te=0):(te++,te>j&&(j=te,R=q));return S.slice(R,R+j)}(b)}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[],b=new a.a2;for(const Oe of l){const Ee=new a.P(Oe.x+ho,Oe.y+ho);b.extend(Ee),f.push(Ee)}const{minX:S,minY:R,maxX:j,maxY:q}=b,te=this.grid.query(S,R,j,q).concat(this.ignoredGrid.query(S,R,j,q)),fe={},ye={};for(const Oe of te){const Ee=Oe.key;if(fe[Ee.bucketInstanceId]===void 0&&(fe[Ee.bucketInstanceId]={}),fe[Ee.bucketInstanceId][Ee.featureIndex])continue;const Ne=[new a.P(Oe.x1,Oe.y1),new a.P(Oe.x2,Oe.y1),new a.P(Oe.x2,Oe.y2),new a.P(Oe.x1,Oe.y2)];a.az(f,Ne)&&(fe[Ee.bucketInstanceId][Ee.featureIndex]=!0,ye[Ee.bucketInstanceId]===void 0&&(ye[Ee.bucketInstanceId]=[]),ye[Ee.bucketInstanceId].push(Ee.featureIndex))}return ye}insertCollisionBox(l,f,b,S,R,j){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:S,featureIndex:R,collisionGroupID:j,overlapMode:f},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,f,b,S,R,j){const q=b?this.ignoredGrid:this.grid,te={bucketInstanceId:S,featureIndex:R,collisionGroupID:j,overlapMode:f};for(let fe=0;fe<l.length;fe+=4)q.insertCircle(te,l[fe],l[fe+1],l[fe+2])}projectAndGetPerspectiveRatio(l,f,b,S,R){if(R){let j;S?(j=[l,f,S(l,f),1],a.aw(j,j,R)):(j=[l,f,0,1],Pl(j,j,R));const q=j[3];return{x:(j[0]/q+1)/2*this.transform.width+ho,y:(-j[1]/q+1)/2*this.transform.height+ho,perspectiveRatio:.5+this.transform.cameraToCenterDistance/q*.5,isOccluded:!1,signedDistanceFromCamera:q}}{const j=this.transform.projectTileCoordinates(l,f,b,S);return{x:(j.point.x+1)/2*this.transform.width+ho,y:(1-j.point.y)/2*this.transform.height+ho,perspectiveRatio:.5+this.transform.cameraToCenterDistance/j.signedDistanceFromCamera*.5,isOccluded:j.isOccluded,signedDistanceFromCamera:j.signedDistanceFromCamera}}}getPerspectiveRatio(l,f,b,S){const R=this.transform.projectTileCoordinates(l,f,b,S);return .5+this.transform.cameraToCenterDistance/R.signedDistanceFromCamera*.5}isOffscreen(l,f,b,S){return b<ho||l>=this.screenRightBoundary||S<ho||f>this.screenBottomBoundary}isInsideGrid(l,f,b,S){return b>=0&&l<this.gridRightBoundary&&S>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const l=a.ag([]);return a.M(l,l,[-100,-100,0]),l}_projectCollisionBox(l,f,b,S,R,j,q,te,fe,ye,Oe){let Ee=1,Ne=0,Je=0,ut=1;const ht=l.anchorPointX+q[0],ft=l.anchorPointY+q[1];if(j&&!R){const Yn=this.projectAndGetPerspectiveRatio(ht+1,ft,S,fe,Oe),kn=Yn.x-te.x,wi=Math.atan((Yn.y-te.y)/kn)+(kn<0?Math.PI:0),fr=Math.sin(wi),xo=Math.cos(wi);Ee=xo,Ne=fr,Je=-fr,ut=xo}else if(!j&&R){const Yn=ti(this.transform);Ee=Yn.vecEast[0],Ne=Yn.vecEast[1],Je=Yn.vecSouth[0],ut=Yn.vecSouth[1]}let Mt=te.x,Ct=te.y,St=f;R&&(Mt=ht,Ct=ft,St=Math.pow(2,-(this.transform.zoom-b.overscaledZ)),St*=this.transform.getPitchedTextCorrection(ht,ft,S),ye||(St*=a.ah(.5+te.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),ye&&(Mt+=Ee*ye.x*St+Je*ye.y*St,Ct+=Ne*ye.x*St+ut*ye.y*St);const Pt=l.x1*St,zt=l.x2*St,Ot=(Pt+zt)/2,Ht=l.y1*St,fn=l.y2*St,Jt=(Ht+fn)/2,rn=[{offsetX:Pt,offsetY:Ht},{offsetX:Ot,offsetY:Ht},{offsetX:zt,offsetY:Ht},{offsetX:zt,offsetY:Jt},{offsetX:zt,offsetY:fn},{offsetX:Ot,offsetY:fn},{offsetX:Pt,offsetY:fn},{offsetX:Pt,offsetY:Jt}];let An=[];for(const{offsetX:Yn,offsetY:kn}of rn)An.push(new a.P(Mt+Ee*Yn+Je*kn,Ct+Ne*Yn+ut*kn));let $n=!1;if(R){const Yn=An.map(kn=>this.projectAndGetPerspectiveRatio(kn.x,kn.y,S,fe,Oe));$n=Yn.some(kn=>!kn.isOccluded),An=Yn.map(kn=>new a.P(kn.x,kn.y))}else $n=!0;return{box:a.aA(An),allPointsOccluded:!$n}}}class Fa{constructor(l,f,b,S){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?f:-f))):S&&b?1:0,this.placed=b}isHidden(){return this.opacity===0&&!this.placed}}class Xi{constructor(l,f,b,S,R){this.text=new Fa(l?l.text:null,f,b,R),this.icon=new Fa(l?l.icon:null,f,S,R)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Si{constructor(l,f,b){this.text=l,this.icon=f,this.skipFade=b}}class fs{constructor(l,f,b,S,R){this.bucketInstanceId=l,this.featureIndex=f,this.sourceLayerIndex=b,this.bucketIndex=S,this.tileID=R}}class Oa{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const f=++this.maxGroupID;this.collisionGroups[l]={ID:f,predicate:b=>b.collisionGroupID===f}}return this.collisionGroups[l]}}function ea(k,l,f,b,S){const{horizontalAlign:R,verticalAlign:j}=a.aH(k);return new a.P(-(R-.5)*l+b[0]*S,-(j-.5)*f+b[1]*S)}class Xe{constructor(l,f,b,S,R){this.transform=l.clone(),this.terrain=f,this.collisionIndex=new Xu(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new Oa(S),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=R,R&&(R.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(l){const f=this.terrain;return f?(b,S)=>f.getElevation(l,b,S):null}getBucketParts(l,f,b,S){const R=b.getBucket(f),j=b.latestFeatureIndex;if(!R||!j||f.id!==R.layerIds[0])return;const q=b.collisionBoxArray,te=R.layers[0].layout,fe=R.layers[0].paint,ye=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),Oe=b.tileSize/a.$,Ee=b.tileID.toUnwrapped(),Ne=te.get("text-rotation-alignment")==="map",Je=a.aC(b,1,this.transform.zoom),ut=a.aD(this.collisionIndex.transform,b,fe.get("text-translate"),fe.get("text-translate-anchor")),ht=a.aD(this.collisionIndex.transform,b,fe.get("icon-translate"),fe.get("icon-translate-anchor")),ft=Ii(Ne,this.transform,Je);this.retainedQueryData[R.bucketInstanceId]=new fs(R.bucketInstanceId,j,R.sourceLayerIndex,R.index,b.tileID);const Mt={bucket:R,layout:te,translationText:ut,translationIcon:ht,unwrappedTileID:Ee,pitchedLabelPlaneMatrix:ft,scale:ye,textPixelRatio:Oe,holdingForFade:b.holdingForFade(),collisionBoxArray:q,partiallyEvaluatedTextSize:a.an(R.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(R.sourceID)};if(S)for(const Ct of R.sortKeyRanges){const{sortKey:St,symbolInstanceStart:Pt,symbolInstanceEnd:zt}=Ct;l.push({sortKey:St,symbolInstanceStart:Pt,symbolInstanceEnd:zt,parameters:Mt})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:R.symbolInstances.length,parameters:Mt})}attemptAnchorPlacement(l,f,b,S,R,j,q,te,fe,ye,Oe,Ee,Ne,Je,ut,ht,ft,Mt,Ct,St){const Pt=a.aE[l.textAnchor],zt=[l.textOffset0,l.textOffset1],Ot=ea(Pt,b,S,zt,R),Ht=this.collisionIndex.placeCollisionBox(f,Ee,te,fe,ye,q,j,ht,Oe.predicate,Ct,Ot,St);if((!Mt||this.collisionIndex.placeCollisionBox(Mt,Ee,te,fe,ye,q,j,ft,Oe.predicate,Ct,Ot,St).placeable)&&Ht.placeable){let fn;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ne.crossTileID]&&this.prevPlacement.placements[Ne.crossTileID]&&this.prevPlacement.placements[Ne.crossTileID].text&&(fn=this.prevPlacement.variableOffsets[Ne.crossTileID].anchor),Ne.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ne.crossTileID]={textOffset:zt,width:b,height:S,anchor:Pt,textBoxScale:R,prevAnchor:fn},this.markUsedJustification(Je,Pt,Ne,ut),Je.allowVerticalPlacement&&(this.markUsedOrientation(Je,ut,Ne),this.placedOrientations[Ne.crossTileID]=ut),{shift:Ot,placedGlyphBoxes:Ht}}}placeLayerBucketPart(l,f,b){const{bucket:S,layout:R,translationText:j,translationIcon:q,unwrappedTileID:te,pitchedLabelPlaneMatrix:fe,textPixelRatio:ye,holdingForFade:Oe,collisionBoxArray:Ee,partiallyEvaluatedTextSize:Ne,collisionGroup:Je}=l.parameters,ut=R.get("text-optional"),ht=R.get("icon-optional"),ft=a.aF(R,"text-overlap","text-allow-overlap"),Mt=ft==="always",Ct=a.aF(R,"icon-overlap","icon-allow-overlap"),St=Ct==="always",Pt=R.get("text-rotation-alignment")==="map",zt=R.get("text-pitch-alignment")==="map",Ot=R.get("icon-text-fit")!=="none",Ht=R.get("symbol-z-order")==="viewport-y",fn=Mt&&(St||!S.hasIconData()||ht),Jt=St&&(Mt||!S.hasTextData()||ut);!S.collisionArrays&&Ee&&S.deserializeCollisionBoxes(Ee);const rn=this.retainedQueryData[S.bucketInstanceId].tileID,An=this._getTerrainElevationFunc(rn),$n=this.transform.getFastPathSimpleProjectionMatrix(rn),Yn=(kn,wi,fr)=>{var xo,fa;if(f[kn.crossTileID])return;if(Oe)return void(this.placements[kn.crossTileID]=new Si(!1,!1,!1));let jo=!1,ja=!1,pa=!0,Tr=null,Ho={box:null,placeable:!1,offscreen:null,occluded:!1},us={placeable:!1},$a=null,Ds=null,Rs=null,JA=0,_c=0,eu=0;wi.textFeatureIndex?JA=wi.textFeatureIndex:kn.useRuntimeCollisionCircles&&(JA=kn.featureIndex),wi.verticalTextFeatureIndex&&(_c=wi.verticalTextFeatureIndex);const Lh=wi.textBox;if(Lh){const El=Mo=>{let ia=a.ao.horizontal;if(S.allowVerticalPlacement&&!Mo&&this.prevPlacement){const vu=this.prevPlacement.placedOrientations[kn.crossTileID];vu&&(this.placedOrientations[kn.crossTileID]=vu,ia=vu,this.markUsedOrientation(S,ia,kn))}return ia},tc=(Mo,ia)=>{if(S.allowVerticalPlacement&&kn.numVerticalGlyphVertices>0&&wi.verticalTextBox){for(const vu of S.writingModes)if(vu===a.ao.vertical?(Ho=ia(),us=Ho):Ho=Mo(),Ho&&Ho.placeable)break}else Ho=Mo()},Bl=kn.textAnchorOffsetStartIndex,Wc=kn.textAnchorOffsetEndIndex;if(Wc===Bl){const Mo=(ia,vu)=>{const xs=this.collisionIndex.placeCollisionBox(ia,ft,ye,rn,te,zt,Pt,j,Je.predicate,An,void 0,$n);return xs&&xs.placeable&&(this.markUsedOrientation(S,vu,kn),this.placedOrientations[kn.crossTileID]=vu),xs};tc(()=>Mo(Lh,a.ao.horizontal),()=>{const ia=wi.verticalTextBox;return S.allowVerticalPlacement&&kn.numVerticalGlyphVertices>0&&ia?Mo(ia,a.ao.vertical):{box:null,offscreen:null}}),El(Ho&&Ho.placeable)}else{let Mo=a.aE[(fa=(xo=this.prevPlacement)===null||xo===void 0?void 0:xo.variableOffsets[kn.crossTileID])===null||fa===void 0?void 0:fa.anchor];const ia=(xs,BA,Cu)=>{const Nu=xs.x2-xs.x1,tu=xs.y2-xs.y1,Qc=kn.textBoxScale,uA=Ot&&Ct==="never"?BA:null;let Za=null,OA=ft==="never"?1:2,tp="never";Mo&&OA++;for(let IA=0;IA<OA;IA++){for(let TA=Bl;TA<Wc;TA++){const Ta=S.textAnchorOffsets.get(TA);if(Mo&&Ta.textAnchor!==Mo)continue;const AA=this.attemptAnchorPlacement(Ta,xs,Nu,tu,Qc,Pt,zt,ye,rn,te,Je,tp,kn,S,Cu,j,q,uA,An);if(AA&&(Za=AA.placedGlyphBoxes,Za&&Za.placeable))return jo=!0,Tr=AA.shift,Za}Mo?Mo=null:tp=ft}return b&&!Za&&(Za={box:this.collisionIndex.placeCollisionBox(Lh,"always",ye,rn,te,zt,Pt,j,Je.predicate,An,void 0,$n).box,offscreen:!1,placeable:!1,occluded:!1}),Za};tc(()=>ia(Lh,wi.iconBox,a.ao.horizontal),()=>{const xs=wi.verticalTextBox;return S.allowVerticalPlacement&&(!Ho||!Ho.placeable)&&kn.numVerticalGlyphVertices>0&&xs?ia(xs,wi.verticalIconBox,a.ao.vertical):{box:null,occluded:!0,offscreen:null}}),Ho&&(jo=Ho.placeable,pa=Ho.offscreen);const vu=El(Ho&&Ho.placeable);if(!jo&&this.prevPlacement){const xs=this.prevPlacement.variableOffsets[kn.crossTileID];xs&&(this.variableOffsets[kn.crossTileID]=xs,this.markUsedJustification(S,xs.anchor,kn,vu))}}}if($a=Ho,jo=$a&&$a.placeable,pa=$a&&$a.offscreen,kn.useRuntimeCollisionCircles){const El=S.text.placedSymbolArray.get(kn.centerJustifiedTextSymbolIndex),tc=a.ap(S.textSizeData,Ne,El),Bl=R.get("text-padding");Ds=this.collisionIndex.placeCollisionCircles(ft,El,S.lineVertexArray,S.glyphOffsetArray,tc,te,fe,b,zt,Je.predicate,kn.collisionCircleDiameter,Bl,j,An),Ds.circles.length&&Ds.collisionDetected&&!b&&a.w("Collisions detected, but collision boxes are not shown"),jo=Mt||Ds.circles.length>0&&!Ds.collisionDetected,pa=pa&&Ds.offscreen}if(wi.iconFeatureIndex&&(eu=wi.iconFeatureIndex),wi.iconBox){const El=tc=>this.collisionIndex.placeCollisionBox(tc,Ct,ye,rn,te,zt,Pt,q,Je.predicate,An,Ot&&Tr?Tr:void 0,$n);us&&us.placeable&&wi.verticalIconBox?(Rs=El(wi.verticalIconBox),ja=Rs.placeable):(Rs=El(wi.iconBox),ja=Rs.placeable),pa=pa&&Rs.offscreen}const hh=ut||kn.numHorizontalGlyphVertices===0&&kn.numVerticalGlyphVertices===0,ec=ht||kn.numIconVertices===0;hh||ec?ec?hh||(ja=ja&&jo):jo=ja&&jo:ja=jo=ja&&jo;const Gc=ja&&Rs.placeable;if(jo&&$a.placeable&&this.collisionIndex.insertCollisionBox($a.box,ft,R.get("text-ignore-placement"),S.bucketInstanceId,us&&us.placeable&&_c?_c:JA,Je.ID),Gc&&this.collisionIndex.insertCollisionBox(Rs.box,Ct,R.get("icon-ignore-placement"),S.bucketInstanceId,eu,Je.ID),Ds&&jo&&this.collisionIndex.insertCollisionCircles(Ds.circles,ft,R.get("text-ignore-placement"),S.bucketInstanceId,JA,Je.ID),b&&this.storeCollisionData(S.bucketInstanceId,fr,wi,$a,Rs,Ds),kn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(S.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[kn.crossTileID]=new Si((jo||fn)&&!$a?.occluded,(ja||Jt)&&!Rs?.occluded,pa||S.justReloaded),f[kn.crossTileID]=!0};if(Ht){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const kn=S.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let wi=kn.length-1;wi>=0;--wi){const fr=kn[wi];Yn(S.symbolInstances.get(fr),S.collisionArrays[fr],fr)}}else for(let kn=l.symbolInstanceStart;kn<l.symbolInstanceEnd;kn++)Yn(S.symbolInstances.get(kn),S.collisionArrays[kn],kn);S.justReloaded=!1}storeCollisionData(l,f,b,S,R,j){if(b.textBox||b.iconBox){let q,te;this.collisionBoxArrays.has(l)?q=this.collisionBoxArrays.get(l):(q=new Map,this.collisionBoxArrays.set(l,q)),q.has(f)?te=q.get(f):(te={text:null,icon:null},q.set(f,te)),b.textBox&&(te.text=S.box),b.iconBox&&(te.icon=R.box)}if(j){let q=this.collisionCircleArrays[l];q===void 0&&(q=this.collisionCircleArrays[l]=[]);for(let te=0;te<j.circles.length;te+=4)q.push(j.circles[te+0]-ho),q.push(j.circles[te+1]-ho),q.push(j.circles[te+2]),q.push(j.collisionDetected?1:0)}}markUsedJustification(l,f,b,S){let R;R=S===a.ao.vertical?b.verticalPlacedTextSymbolIndex:{left:b.leftJustifiedTextSymbolIndex,center:b.centerJustifiedTextSymbolIndex,right:b.rightJustifiedTextSymbolIndex}[a.aG(f)];const j=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex,b.verticalPlacedTextSymbolIndex];for(const q of j)q>=0&&(l.text.placedSymbolArray.get(q).crossTileID=R>=0&&q!==R?0:b.crossTileID)}markUsedOrientation(l,f,b){const S=f===a.ao.horizontal||f===a.ao.horizontalOnly?f:0,R=f===a.ao.vertical?f:0,j=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex];for(const q of j)l.text.placedSymbolArray.get(q).placedOrientation=S;b.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(b.verticalPlacedTextSymbolIndex).placedOrientation=R)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let b=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const S=f?f.symbolFadeChange(l):1,R=f?f.opacities:{},j=f?f.variableOffsets:{},q=f?f.placedOrientations:{};for(const te in this.placements){const fe=this.placements[te],ye=R[te];ye?(this.opacities[te]=new Xi(ye,S,fe.text,fe.icon),b=b||fe.text!==ye.text.placed||fe.icon!==ye.icon.placed):(this.opacities[te]=new Xi(null,S,fe.text,fe.icon,fe.skipFade),b=b||fe.text||fe.icon)}for(const te in R){const fe=R[te];if(!this.opacities[te]){const ye=new Xi(fe,S,!1,!1);ye.isHidden()||(this.opacities[te]=ye,b=b||fe.text.placed||fe.icon.placed)}}for(const te in j)this.variableOffsets[te]||!this.opacities[te]||this.opacities[te].isHidden()||(this.variableOffsets[te]=j[te]);for(const te in q)this.placedOrientations[te]||!this.opacities[te]||this.opacities[te].isHidden()||(this.placedOrientations[te]=q[te]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");b?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:l)}updateLayerOpacities(l,f){const b={};for(const S of f){const R=S.getBucket(l);R&&S.latestFeatureIndex&&l.id===R.layerIds[0]&&this.updateBucketOpacities(R,S.tileID,b,S.collisionBoxArray)}}updateBucketOpacities(l,f,b,S){l.hasTextData()&&(l.text.opacityVertexArray.clear(),l.text.hasVisibleVertices=!1),l.hasIconData()&&(l.icon.opacityVertexArray.clear(),l.icon.hasVisibleVertices=!1),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const R=l.layers[0],j=R.layout,q=new Xi(null,0,!1,!1,!0),te=j.get("text-allow-overlap"),fe=j.get("icon-allow-overlap"),ye=R._unevaluatedLayout.hasValue("text-variable-anchor")||R._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Oe=j.get("text-rotation-alignment")==="map",Ee=j.get("text-pitch-alignment")==="map",Ne=j.get("icon-text-fit")!=="none",Je=new Xi(null,0,te&&(fe||!l.hasIconData()||j.get("icon-optional")),fe&&(te||!l.hasTextData()||j.get("text-optional")),!0);!l.collisionArrays&&S&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(S);const ut=(ft,Mt,Ct)=>{for(let St=0;St<Mt/4;St++)ft.opacityVertexArray.emplaceBack(Ct);ft.hasVisibleVertices=ft.hasVisibleVertices||Ct!==Ju},ht=this.collisionBoxArrays.get(l.bucketInstanceId);for(let ft=0;ft<l.symbolInstances.length;ft++){const Mt=l.symbolInstances.get(ft),{numHorizontalGlyphVertices:Ct,numVerticalGlyphVertices:St,crossTileID:Pt}=Mt;let zt=this.opacities[Pt];b[Pt]?zt=q:zt||(zt=Je,this.opacities[Pt]=zt),b[Pt]=!0;const Ot=Mt.numIconVertices>0,Ht=this.placedOrientations[Mt.crossTileID],fn=Ht===a.ao.vertical,Jt=Ht===a.ao.horizontal||Ht===a.ao.horizontalOnly;if(Ct>0||St>0){const An=Ws(zt.text);ut(l.text,Ct,fn?Ju:An),ut(l.text,St,Jt?Ju:An);const $n=zt.text.isHidden();[Mt.rightJustifiedTextSymbolIndex,Mt.centerJustifiedTextSymbolIndex,Mt.leftJustifiedTextSymbolIndex].forEach(wi=>{wi>=0&&(l.text.placedSymbolArray.get(wi).hidden=$n||fn?1:0)}),Mt.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(Mt.verticalPlacedTextSymbolIndex).hidden=$n||Jt?1:0);const Yn=this.variableOffsets[Mt.crossTileID];Yn&&this.markUsedJustification(l,Yn.anchor,Mt,Ht);const kn=this.placedOrientations[Mt.crossTileID];kn&&(this.markUsedJustification(l,"left",Mt,kn),this.markUsedOrientation(l,kn,Mt))}if(Ot){const An=Ws(zt.icon),$n=!(Ne&&Mt.verticalPlacedIconSymbolIndex&&fn);Mt.placedIconSymbolIndex>=0&&(ut(l.icon,Mt.numIconVertices,$n?An:Ju),l.icon.placedSymbolArray.get(Mt.placedIconSymbolIndex).hidden=zt.icon.isHidden()),Mt.verticalPlacedIconSymbolIndex>=0&&(ut(l.icon,Mt.numVerticalIconVertices,$n?Ju:An),l.icon.placedSymbolArray.get(Mt.verticalPlacedIconSymbolIndex).hidden=zt.icon.isHidden())}const rn=ht&&ht.has(ft)?ht.get(ft):{text:null,icon:null};if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const An=l.collisionArrays[ft];if(An){let $n=new a.P(0,0);if(An.textBox||An.verticalTextBox){let Yn=!0;if(ye){const kn=this.variableOffsets[Pt];kn?($n=ea(kn.anchor,kn.width,kn.height,kn.textOffset,kn.textBoxScale),Oe&&$n._rotate(Ee?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Yn=!1}if(An.textBox||An.verticalTextBox){let kn;An.textBox&&(kn=fn),An.verticalTextBox&&(kn=Jt),Bt(l.textCollisionBox.collisionVertexArray,zt.text.placed,!Yn||kn,rn.text,$n.x,$n.y)}}if(An.iconBox||An.verticalIconBox){const Yn=!!(!Jt&&An.verticalIconBox);let kn;An.iconBox&&(kn=Yn),An.verticalIconBox&&(kn=!Yn),Bt(l.iconCollisionBox.collisionVertexArray,zt.icon.placed,kn,rn.icon,Ne?$n.x:0,Ne?$n.y:0)}}}}if(l.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);l.bucketInstanceId in this.collisionCircleArrays&&(l.collisionCircleArray=this.collisionCircleArrays[l.bucketInstanceId],delete this.collisionCircleArrays[l.bucketInstanceId])}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,f){const b=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*b>l}setStale(){this.stale=!0}}function Bt(k,l,f,b,S,R){b&&b.length!==0||(b=[0,0,0,0]);const j=b[0]-ho,q=b[1]-ho,te=b[2]-ho,fe=b[3]-ho;k.emplaceBack(l?1:0,f?1:0,S||0,R||0,j,q),k.emplaceBack(l?1:0,f?1:0,S||0,R||0,te,q),k.emplaceBack(l?1:0,f?1:0,S||0,R||0,te,fe),k.emplaceBack(l?1:0,f?1:0,S||0,R||0,j,fe)}const Mn=Math.pow(2,25),Wn=Math.pow(2,24),an=Math.pow(2,17),li=Math.pow(2,16),no=Math.pow(2,9),Oo=Math.pow(2,8),ps=Math.pow(2,1);function Ws(k){if(k.opacity===0&&!k.placed)return 0;if(k.opacity===1&&k.placed)return 4294967295;const l=k.placed?1:0,f=Math.floor(127*k.opacity);return f*Mn+l*Wn+f*an+l*li+f*no+l*Oo+f*ps+l}const Ju=0;class Hi{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,f,b,S,R){const j=this._bucketParts;for(;this._currentTileIndex<l.length;)if(f.getBucketParts(j,S,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,R())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,j.sort((q,te)=>q.sortKey-te.sortKey));this._currentPartIndex<j.length;)if(f.placeLayerBucketPart(j[this._currentPartIndex],this._seenCrossTileIDs,b),this._currentPartIndex++,R())return!0;return!1}}class jA{constructor(l,f,b,S,R,j,q,te){this.placement=new Xe(l,f,j,q,te),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=S,this._showCollisionBoxes=R,this._done=!1}isDone(){return this._done}continuePlacement(l,f,b){const S=O.now(),R=()=>!this._forceFullPlacement&&O.now()-S>2;for(;this._currentPlacementIndex>=0;){const j=f[l[this._currentPlacementIndex]],q=this.placement.collisionIndex.transform.zoom;if(j.type==="symbol"&&(!j.minzoom||j.minzoom<=q)&&(!j.maxzoom||j.maxzoom>q)){if(this._inProgressLayer||(this._inProgressLayer=new Hi(j)),this._inProgressLayer.continuePlacement(b[j.source],this.placement,this._showCollisionBoxes,j,R))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Ou=512/a.$/2;class xl{constructor(l,f,b){this.tileID=l,this.bucketInstanceId=b,this._symbolsByKey={};const S=new Map;for(let R=0;R<f.length;R++){const j=f.get(R),q=j.key,te=S.get(q);te?te.push(j):S.set(q,[j])}for(const[R,j]of S){const q={positions:j.map(te=>({x:Math.floor(te.anchorX*Ou),y:Math.floor(te.anchorY*Ou)})),crossTileIDs:j.map(te=>te.crossTileID)};if(q.positions.length>128){const te=new a.aI(q.positions.length,16,Uint16Array);for(const{x:fe,y:ye}of q.positions)te.add(fe,ye);te.finish(),delete q.positions,q.index=te}this._symbolsByKey[R]=q}}getScaledCoordinates(l,f){const{x:b,y:S,z:R}=this.tileID.canonical,{x:j,y:q,z:te}=f.canonical,fe=Ou/Math.pow(2,te-R),ye=(q*a.$+l.anchorY)*fe,Oe=S*a.$*Ou;return{x:Math.floor((j*a.$+l.anchorX)*fe-b*a.$*Ou),y:Math.floor(ye-Oe)}}findMatches(l,f,b){const S=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let R=0;R<l.length;R++){const j=l.get(R);if(j.crossTileID)continue;const q=this._symbolsByKey[j.key];if(!q)continue;const te=this.getScaledCoordinates(j,f);if(q.index){const fe=q.index.range(te.x-S,te.y-S,te.x+S,te.y+S).sort();for(const ye of fe){const Oe=q.crossTileIDs[ye];if(!b[Oe]){b[Oe]=!0,j.crossTileID=Oe;break}}}else if(q.positions)for(let fe=0;fe<q.positions.length;fe++){const ye=q.positions[fe],Oe=q.crossTileIDs[fe];if(Math.abs(ye.x-te.x)<=S&&Math.abs(ye.y-te.y)<=S&&!b[Oe]){b[Oe]=!0,j.crossTileID=Oe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:l})=>l)}}class Is{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Tc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const f=Math.round((l-this.lng)/360);if(f!==0)for(const b in this.indexes){const S=this.indexes[b],R={};for(const j in S){const q=S[j];q.tileID=q.tileID.unwrapTo(q.tileID.wrap+f),R[q.tileID.key]=q}this.indexes[b]=R}this.lng=l}addBucket(l,f,b){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let R=0;R<f.symbolInstances.length;R++)f.symbolInstances.get(R).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const S=this.usedCrossTileIDs[l.overscaledZ];for(const R in this.indexes){const j=this.indexes[R];if(Number(R)>l.overscaledZ)for(const q in j){const te=j[q];te.tileID.isChildOf(l)&&te.findMatches(f.symbolInstances,l,S)}else{const q=j[l.scaledTo(Number(R)).key];q&&q.findMatches(f.symbolInstances,l,S)}}for(let R=0;R<f.symbolInstances.length;R++){const j=f.symbolInstances.get(R);j.crossTileID||(j.crossTileID=b.generate(),S[j.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new xl(l,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(l,f){for(const b of f.getCrossTileIDsLists())for(const S of b)delete this.usedCrossTileIDs[l][S]}removeStaleBuckets(l){let f=!1;for(const b in this.indexes){const S=this.indexes[b];for(const R in S)l[S[R].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,S[R]),delete S[R],f=!0)}return f}}class Xs{constructor(){this.layerIndexes={},this.crossTileIDs=new Is,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,f,b){let S=this.layerIndexes[l.id];S===void 0&&(S=this.layerIndexes[l.id]=new Tc);let R=!1;const j={};S.handleWrapJump(b);for(const q of f){const te=q.getBucket(l);te&&l.id===te.layerIds[0]&&(te.bucketInstanceId||(te.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(q.tileID,te,this.crossTileIDs)&&(R=!0),j[te.bucketInstanceId]=!0)}return S.removeStaleBuckets(j)&&(R=!0),R}pruneUnusedLayers(l){const f={};l.forEach(b=>{f[b]=!0});for(const b in this.layerIndexes)f[b]||delete this.layerIndexes[b]}}var ta="void main() {fragColor=vec4(1.0);}";const Po={prelude:mr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:mr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:mr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:mr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:mr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:mr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:mr(ta,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:mr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:mr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:mr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:mr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:mr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:mr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:mr(ta,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:mr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:mr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:mr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:mr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:mr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:mr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:mr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:mr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:mr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:mr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:mr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:mr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:mr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:mr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:mr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:mr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:mr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:mr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:mr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:mr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:mr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:mr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function mr(k,l){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=l.match(/in ([\w]+) ([\w]+)/g),S=k.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),R=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),j=R?R.concat(S):S,q={};return{fragmentSource:k=k.replace(f,(te,fe,ye,Oe,Ee)=>(q[Ee]=!0,fe==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
in ${ye} ${Oe} ${Ee};
#else
uniform ${ye} ${Oe} u_${Ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ee}
    ${ye} ${Oe} ${Ee} = u_${Ee};
#endif
`)),vertexSource:l=l.replace(f,(te,fe,ye,Oe,Ee)=>{const Ne=Oe==="float"?"vec2":"vec4",Je=Ee.match(/color/)?"color":Ne;return q[Ee]?fe==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
in ${ye} ${Ne} a_${Ee};
out ${ye} ${Oe} ${Ee};
#else
uniform ${ye} ${Oe} u_${Ee};
#endif
`:Je==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = a_${Ee};
#else
    ${ye} ${Oe} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = unpack_mix_${Je}(a_${Ee}, u_${Ee}_t);
#else
    ${ye} ${Oe} ${Ee} = u_${Ee};
#endif
`:fe==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
in ${ye} ${Ne} a_${Ee};
#else
uniform ${ye} ${Oe} u_${Ee};
#endif
`:Je==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${ye} ${Oe} ${Ee} = a_${Ee};
#else
    ${ye} ${Oe} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${ye} ${Oe} ${Ee} = unpack_mix_${Je}(a_${Ee}, u_${Ee}_t);
#else
    ${ye} ${Oe} ${Ee} = u_${Ee};
#endif
`}),staticAttributes:b,staticUniforms:j}}class Gl{constructor(l,f,b){this.vertexBuffer=l,this.indexBuffer=f,this.segments=b}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var ba=a.aJ([{name:"a_pos",type:"Int16",components:2}]);const Wl="#define PROJECTION_MERCATOR",Iu="mercator";class Sr{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Iu}get shaderDefine(){return Wl}get shaderPreludeCode(){return Po.projectionMercator}get vertexShaderPreludeCode(){return Po.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aK.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(l){}getMeshFromTileID(l,f,b,S,R){if(this._cachedMesh)return this._cachedMesh;const j=new a.aL;j.emplaceBack(0,0),j.emplaceBack(a.$,0),j.emplaceBack(0,a.$),j.emplaceBack(a.$,a.$);const q=l.createVertexBuffer(j,ba.members),te=a.aM.simpleSegment(0,0,4,2),fe=new a.aN;fe.emplaceBack(1,0,2),fe.emplaceBack(1,2,3);const ye=l.createIndexBuffer(fe);return this._cachedMesh=new Gl(q,ye,te),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(l){}}class Au{constructor(l=0,f=0,b=0,S=0){if(isNaN(l)||l<0||isNaN(f)||f<0||isNaN(b)||b<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=f,this.left=b,this.right=S}interpolate(l,f,b){return f.top!=null&&l.top!=null&&(this.top=a.C.number(l.top,f.top,b)),f.bottom!=null&&l.bottom!=null&&(this.bottom=a.C.number(l.bottom,f.bottom,b)),f.left!=null&&l.left!=null&&(this.left=a.C.number(l.left,f.left,b)),f.right!=null&&l.right!=null&&(this.right=a.C.number(l.right,f.right,b)),this}getCenter(l,f){const b=a.ah((this.left+l-this.right)/2,0,l),S=a.ah((this.top+f-this.bottom)/2,0,f);return new a.P(b,S)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Au(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function yA(k,l){if(!k.renderWorldCopies||k.lngRange)return;const f=l.lng-k.center.lng;l.lng+=f>180?-360:f<-180?360:0}function Wo(k){return Math.max(0,Math.floor(k))}class Io{constructor(l,f,b,S,R,j){this._callbacks=l,this._tileSize=512,this._renderWorldCopies=j===void 0||!!j,this._minZoom=f||0,this._maxZoom=b||22,this._minPitch=S??0,this._maxPitch=R??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Wo(this._zoom),this._scale=a.af(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Au,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(l,f,b){this._latRange=l.latRange,this._lngRange=l.lngRange,this._width=l.width,this._height=l.height,this._center=l.center,this._elevation=l.elevation,this._minElevationForCurrentTile=l.minElevationForCurrentTile,this._zoom=l.zoom,this._tileZoom=Wo(this._zoom),this._scale=a.af(this._zoom),this._bearingInRadians=l.bearingInRadians,this._fovInRadians=l.fovInRadians,this._pitchInRadians=l.pitchInRadians,this._rollInRadians=l.rollInRadians,this._unmodified=l.unmodified,this._edgeInsets=new Au(l.padding.top,l.padding.bottom,l.padding.left,l.padding.right),this._minZoom=l.minZoom,this._maxZoom=l.maxZoom,this._minPitch=l.minPitch,this._maxPitch=l.maxPitch,this._renderWorldCopies=l.renderWorldCopies,this._cameraToCenterDistance=l.cameraToCenterDistance,this._nearZ=l.nearZ,this._farZ=l.farZ,this._autoCalculateNearFarZ=!b&&l.autoCalculateNearFarZ,f&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(l){this._minElevationForCurrentTile=l}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(l){this._minZoom!==l&&(this._minZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(l){this._minPitch!==l&&(this._minPitch=l,this.setPitch(Math.max(this.pitch,l)))}get maxPitch(){return this._maxPitch}setMaxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.setPitch(Math.min(this.pitch,l)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(l){const f=a.aO(l,-180,180)*Math.PI/180;var b,S,R,j,q,te,fe,ye,Oe;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=g(),b=this._rotationMatrix,R=-this._bearingInRadians,j=(S=this._rotationMatrix)[0],q=S[1],te=S[2],fe=S[3],ye=Math.sin(R),Oe=Math.cos(R),b[0]=j*Oe+te*ye,b[1]=q*Oe+fe*ye,b[2]=j*-ye+te*Oe,b[3]=q*-ye+fe*Oe)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(l){const f=a.ah(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(l){const f=l/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aP(this._fovInRadians)}setFov(l){l=a.ah(l,.1,150),this.fov!==l&&(this._unmodified=!1,this._fovInRadians=a.ae(l),this._calcMatrices())}get zoom(){return this._zoom}setZoom(l){const f=this.getConstrained(this._center,l).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=a.af(f),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(l,f){this._autoCalculateNearFarZ=!1,this._nearZ=l,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,f,b){this._unmodified=!1,this._edgeInsets.interpolate(l,f,b),this._constrain(),this._calcMatrices()}resize(l,f,b=!0){this._width=l,this._height=f,b&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new vt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(l){l?(this._lngRange=[l.getWest(),l.getEast()],this._latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-a.ai,a.ai])}getConstrained(l,f){return this._callbacks.getConstrained(l,f)}getCameraQueryGeometry(l,f){if(f.length===1)return[f[0],l];{const{minX:b,minY:S,maxX:R,maxY:j}=a.a2.fromPoints(f).extend(l);return[new a.P(b,S),new a.P(R,S),new a.P(R,j),new a.P(b,j),new a.P(b,S)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const l=this._unmodified,{center:f,zoom:b}=this.getConstrained(this.center,this.zoom);this.setCenter(f),this.setZoom(b),this._unmodified=l,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let l=a.ag(new Float64Array(16));a.N(l,l,[this._width/2,-this._height/2,1]),a.M(l,l,[1,-1,0]),this._clipSpaceToPixelsMatrix=l,l=a.ag(new Float64Array(16)),a.N(l,l,[1,-1,1]),a.M(l,l,[-1,-1,0]),a.N(l,l,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=l,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(l,f,b,S){const R=b!==void 0?b:this.bearing,j=S=S!==void 0?S:this.pitch,q=a.a1.fromLngLat(l,f),te=-Math.cos(a.ae(j)),fe=Math.sin(a.ae(j)),ye=fe*Math.sin(a.ae(R)),Oe=-fe*Math.cos(a.ae(R));let Ee=this.elevation;const Ne=f-Ee;let Je;te*Ne>=0||Math.abs(te)<.1?(Je=1e4,Ee=f+Je*te):Je=-Ne/te;let ut,ht,ft=a.aQ(1,q.y),Mt=0;do{if(Mt+=1,Mt>10)break;ht=Je/ft,ut=new a.a1(q.x+ye*ht,q.y+Oe*ht),ft=1/ut.meterInMercatorCoordinateUnits()}while(Math.abs(Je-ht*ft)>1e-12);return{center:ut.toLngLat(),elevation:Ee,zoom:a.ak(this.height/2/Math.tan(this.fovInRadians/2)/ht/this.tileSize)}}recalculateZoomAndCenter(l){if(this.elevation-l==0)return;const f=a.aj(1,this.center.lat)*this.worldSize,b=this.cameraToCenterDistance/f,S=a.a1.fromLngLat(this.center,this.elevation),R=Re(this.center,this.elevation,this.pitch,this.bearing,b);this._elevation=l;const j=this.calculateCenterFromCameraLngLatAlt(R.toLngLat(),a.aQ(R.z,S.y),this.bearing,this.pitch);this._elevation=j.elevation,this._center=j.center,this.setZoom(j.zoom)}getCameraPoint(){const l=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(l*Math.sin(this.rollInRadians),l*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const l=a.aj(1,this.center.lat)*this.worldSize;return Re(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/l).toLngLat()}getMercatorTileCoordinates(l){if(!l)return[0,0,1,1];const f=l.canonical.z>=0?1<<l.canonical.z:Math.pow(2,l.canonical.z);return[l.canonical.x/f,l.canonical.y/f,1/f/a.$,1/f/a.$]}}class Qa{constructor(l,f){this.min=l,this.max=f,this.center=a.aR([],a.aS([],this.min,this.max),.5)}quadrant(l){const f=[l%2==0,l<2],b=a.aT(this.min),S=a.aT(this.max);for(let R=0;R<f.length;R++)b[R]=f[R]?this.min[R]:this.center[R],S[R]=f[R]?this.center[R]:this.max[R];return S[2]=this.max[2],new Qa(b,S)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersectsFrustum(l){let f=!0;for(let b=0;b<l.planes.length;b++){const S=this.intersectsPlane(l.planes[b]);if(S===0)return 0;S===1&&(f=!1)}return f?2:l.aabb.min[0]>this.max[0]||l.aabb.min[1]>this.max[1]||l.aabb.min[2]>this.max[2]||l.aabb.max[0]<this.min[0]||l.aabb.max[1]<this.min[1]||l.aabb.max[2]<this.min[2]?0:1}intersectsPlane(l){let f=l[3],b=l[3];for(let S=0;S<3;S++)l[S]>0?(f+=l[S]*this.min[S],b+=l[S]*this.max[S]):(b+=l[S]*this.min[S],f+=l[S]*this.max[S]);return f>=0?2:b<0?0:1}}class Ia{distanceToTile2d(l,f,b,S){const R=S.distanceX([l,f]),j=S.distanceY([l,f]);return Math.hypot(R,j)}getWrap(l,f,b){return b}getTileBoundingVolume(l,f,b,S){var R,j;let q=0,te=0;if(S?.terrain){const ye=new a.Z(l.z,f,l.z,l.x,l.y),Oe=S.terrain.getMinMaxElevation(ye);q=(R=Oe.minElevation)!==null&&R!==void 0?R:Math.min(0,b),te=(j=Oe.maxElevation)!==null&&j!==void 0?j:Math.max(0,b)}const fe=1<<l.z;return new Qa([f+l.x/fe,l.y/fe,q],[f+(l.x+1)/fe,(l.y+1)/fe,te])}allowVariableZoom(l,f){const b=l.fov*(Math.abs(Math.cos(l.rollInRadians))*l.height+Math.abs(Math.sin(l.rollInRadians))*l.width)/l.height,S=a.ah(78.5-b/2,0,60);return!!f.terrain||l.pitch>S}allowWorldCopies(){return!0}prepareNextFrame(){}}class ca{constructor(l,f,b){this.points=l,this.planes=f,this.aabb=b}static fromInvProjectionMatrix(l,f=1,b=0,S,R){const j=R?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],q=Math.pow(2,b),te=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Ee=>function(Ne,Je,ut,ht){const ft=a.aw([],Ne,Je),Mt=1/ft[3]/ut*ht;return a.aY(ft,ft,[Mt,Mt,1/ft[3],Mt])}(Ee,l,f,q));S&&function(Ee,Ne,Je,ut){const ht=ut?4:0,ft=ut?0:4;let Mt=0;const Ct=[],St=[];for(let Ot=0;Ot<4;Ot++){const Ht=a.aU([],Ee[Ot+ft],Ee[Ot+ht]),fn=a.aZ(Ht);a.aR(Ht,Ht,1/fn),Ct.push(fn),St.push(Ht)}for(let Ot=0;Ot<4;Ot++){const Ht=a.a_(Ee[Ot+ht],St[Ot],Je);Mt=Ht!==null&&Ht>=0?Math.max(Mt,Ht):Math.max(Mt,Ct[Ot])}const Pt=function(Ot,Ht){const fn=a.aU([],Ot[Ht[0]],Ot[Ht[1]]),Jt=a.aU([],Ot[Ht[2]],Ot[Ht[1]]),rn=[0,0,0,0];return a.aV(rn,a.aW([],fn,Jt)),rn[3]=-a.aX(rn,Ot[Ht[0]]),rn}(Ee,Ne),zt=function(Ot,Ht){const fn=a.a$(Ot),Jt=a.b0([],Ot,1/fn),rn=a.aU([],Ht,a.aR([],Jt,a.aX(Ht,Jt))),An=a.a$(rn);if(An>0){const $n=Math.sqrt(1-Jt[3]*Jt[3]),Yn=a.aR([],Jt,-Jt[3]),kn=a.aS([],Yn,a.aR([],rn,$n/An));return a.b1(Ht,kn)}return null}(Je,Pt);if(zt!==null){const Ot=zt/a.aX(St[0],Pt);Mt=Math.min(Mt,Ot)}for(let Ot=0;Ot<4;Ot++){const Ht=Math.min(Mt,Ct[Ot]);Ee[Ot+ft]=[Ee[Ot+ht][0]+St[Ot][0]*Ht,Ee[Ot+ht][1]+St[Ot][1]*Ht,Ee[Ot+ht][2]+St[Ot][2]*Ht,1]}}(te,j[0],S,R);const fe=j.map(Ee=>{const Ne=a.aU([],te[Ee[0]],te[Ee[1]]),Je=a.aU([],te[Ee[2]],te[Ee[1]]),ut=a.aV([],a.aW([],Ne,Je)),ht=-a.aX(ut,te[Ee[1]]);return ut.concat(ht)}),ye=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],Oe=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Ee of te)for(let Ne=0;Ne<3;Ne++)ye[Ne]=Math.min(ye[Ne],Ee[Ne]),Oe[Ne]=Math.max(Oe[Ne],Ee[Ne]);return new ca(te,fe,new Qa(ye,Oe))}}class Ur{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,f,b){return this._helper.interpolatePadding(l,f,b)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,f,b=!0){this._helper.resize(l,f,b)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,f){this._helper.overrideNearFarZ(l,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(l,f){}constructor(l,f,b,S,R){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Io({calcMatrices:()=>{this._calcMatrices()},getConstrained:(j,q)=>this.getConstrained(j,q)},l,f,b,S,R),this._coveringTilesDetailsProvider=new Ia}clone(){const l=new Ur;return l.apply(this),l}apply(l,f,b){this._helper.apply(l,f,b)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(l){const f=[new a.b2(0,l)];if(this._helper._renderWorldCopies){const b=this.screenPointToMercatorCoordinate(new a.P(0,0)),S=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),R=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),j=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),q=Math.floor(Math.min(b.x,S.x,R.x,j.x)),te=Math.floor(Math.max(b.x,S.x,R.x,j.x)),fe=1;for(let ye=q-fe;ye<=te+fe;ye++)ye!==0&&f.push(new a.b2(ye,l))}return f}getCameraFrustum(){return ca.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(l){const f=this.screenPointToLocation(this.centerPoint,l),b=l?l.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(b)}setLocationAtPoint(l,f){const b=a.aj(this.elevation,this.center.lat),S=this.screenPointToMercatorCoordinateAtZ(f,b),R=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,b),j=a.a1.fromLngLat(l),q=new a.a1(j.x-(S.x-R.x),j.y-(S.y-R.y));this.setCenter(q?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(l,f){return f?this.coordinatePoint(a.a1.fromLngLat(l),f.getElevationForLngLatZoom(l,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(a.a1.fromLngLat(l))}screenPointToLocation(l,f){var b;return(b=this.screenPointToMercatorCoordinate(l,f))===null||b===void 0?void 0:b.toLngLat()}screenPointToMercatorCoordinate(l,f){if(f){const b=f.pointCoordinate(l);if(b!=null)return b}return this.screenPointToMercatorCoordinateAtZ(l)}screenPointToMercatorCoordinateAtZ(l,f){const b=f||0,S=[l.x,l.y,0,1],R=[l.x,l.y,1,1];a.aw(S,S,this._pixelMatrixInverse),a.aw(R,R,this._pixelMatrixInverse);const j=S[3],q=R[3],te=S[1]/j,fe=R[1]/q,ye=S[2]/j,Oe=R[2]/q,Ee=ye===Oe?0:(b-ye)/(Oe-ye);return new a.a1(a.C.number(S[0]/j,R[0]/q,Ee)/this.worldSize,a.C.number(te,fe,Ee)/this.worldSize,b)}coordinatePoint(l,f=0,b=this._pixelMatrix){const S=[l.x*this.worldSize,l.y*this.worldSize,f,1];return a.aw(S,S,b),new a.P(S[0]/S[3],S[1]/S[3])}getBounds(){const l=Math.max(0,this._helper._height/2-At(this));return new vt().extend(this.screenPointToLocation(new a.P(0,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(l,f){return f?f.pointCoordinate(l)!=null:l.y>this.height/2-At(this)}calculatePosMatrix(l,f=!1,b){var S;const R=(S=l.key)!==null&&S!==void 0?S:a.b3(l.wrap,l.canonical.z,l.canonical.z,l.canonical.x,l.canonical.y),j=f?this._alignedPosMatrixCache:this._posMatrixCache;if(j.has(R)){const fe=j.get(R);return b?fe.f32:fe.f64}const q=He(l,this.worldSize);a.O(q,f?this._alignedProjMatrix:this._viewProjMatrix,q);const te={f64:q,f32:new Float32Array(q)};return j.set(R,te),b?te.f32:te.f64}calculateFogMatrix(l){const f=l.key,b=this._fogMatrixCacheF32;if(b.has(f))return b.get(f);const S=He(l,this.worldSize);return a.O(S,this._fogMatrix,S),b.set(f,new Float32Array(S)),b.get(f)}getConstrained(l,f){f=a.ah(+f,this.minZoom,this.maxZoom);const b={center:new a.S(l.lng,l.lat),zoom:f};let S=this._helper._lngRange;if(!this._helper._renderWorldCopies&&S===null){const Ct=179.9999999999;S=[-Ct,Ct]}const R=this.tileSize*a.af(b.zoom);let j=0,q=R,te=0,fe=R,ye=0,Oe=0;const{x:Ee,y:Ne}=this.size;if(this._helper._latRange){const Ct=this._helper._latRange;j=a.U(Ct[1])*R,q=a.U(Ct[0])*R,q-j<Ne&&(ye=Ne/(q-j))}S&&(te=a.aO(a.V(S[0])*R,0,R),fe=a.aO(a.V(S[1])*R,0,R),fe<te&&(fe+=R),fe-te<Ee&&(Oe=Ee/(fe-te)));const{x:Je,y:ut}=Ie(R,l);let ht,ft;const Mt=Math.max(Oe||0,ye||0);if(Mt){const Ct=new a.P(Oe?(fe+te)/2:Je,ye?(q+j)/2:ut);return b.center=Qe(R,Ct).wrap(),b.zoom+=a.ak(Mt),b}if(this._helper._latRange){const Ct=Ne/2;ut-Ct<j&&(ft=j+Ct),ut+Ct>q&&(ft=q-Ct)}if(S){const Ct=(te+fe)/2;let St=Je;this._helper._renderWorldCopies&&(St=a.aO(Je,Ct-R/2,Ct+R/2));const Pt=Ee/2;St-Pt<te&&(ht=te+Pt),St+Pt>fe&&(ht=fe-Pt)}if(ht!==void 0||ft!==void 0){const Ct=new a.P(ht??Je,ft??ut);b.center=Qe(R,Ct).wrap()}return b}calculateCenterFromCameraLngLatAlt(l,f,b,S){return this._helper.calculateCenterFromCameraLngLatAlt(l,f,b,S)}_calculateNearFarZIfNeeded(l,f,b){if(!this._helper.autoCalculateNearFarZ)return;const S=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),R=l-S*this._helper._pixelPerMeter/Math.cos(f),j=S<0?R:l,q=Math.PI/2+this.pitchInRadians,te=a.ae(this.fov)*(Math.abs(Math.cos(a.ae(this.roll)))*this.height+Math.abs(Math.sin(a.ae(this.roll)))*this.width)/this.height*(.5+b.y/this.height),fe=Math.sin(te)*j/Math.sin(a.ah(Math.PI-q-te,.01,Math.PI-.01)),ye=At(this),Oe=Math.atan(ye/this._helper.cameraToCenterDistance),Ee=a.ae(.75),Ne=Oe>Ee?2*Oe*(.5+b.y/(2*ye)):Ee,Je=Math.sin(Ne)*j/Math.sin(a.ah(Math.PI-q-Ne,.01,Math.PI-.01)),ut=Math.min(fe,Je);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*ut+j),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const l=this.centerOffset,f=Ie(this.worldSize,this.center),b=f.x,S=f.y;this._helper._pixelPerMeter=a.aj(1,this.center.lat)*this.worldSize;const R=a.ae(Math.min(this.pitch,me)),j=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(R));let q;this._calculateNearFarZIfNeeded(j,R,l),q=new Float64Array(16),a.b4(q,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.aq(this._invProjMatrix,q),q[8]=2*-l.x/this._helper._width,q[9]=2*l.y/this._helper._height,this._projectionMatrix=a.b5(q),a.N(q,q,[1,-1,1]),a.M(q,q,[0,0,-this._helper.cameraToCenterDistance]),a.b6(q,q,-this.rollInRadians),a.b7(q,q,this.pitchInRadians),a.b6(q,q,-this.bearingInRadians),a.M(q,q,[-b,-S,0]),this._mercatorMatrix=a.N([],q,[this.worldSize,this.worldSize,this.worldSize]),a.N(q,q,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,q),a.M(q,q,[0,0,-this.elevation]),this._viewProjMatrix=q,this._invViewProjMatrix=a.aq([],q);const te=[0,0,-1,1];a.aw(te,te,this._invViewProjMatrix),this._cameraPosition=[te[0]/te[3],te[1]/te[3],te[2]/te[3]],this._fogMatrix=new Float64Array(16),a.b4(this._fogMatrix,this.fovInRadians,this.width/this.height,j,this._helper._farZ),this._fogMatrix[8]=2*-l.x/this.width,this._fogMatrix[9]=2*l.y/this.height,a.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.b6(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.b7(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.b6(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.M(this._fogMatrix,this._fogMatrix,[-b,-S,0]),a.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,q);const fe=this._helper._width%2/2,ye=this._helper._height%2/2,Oe=Math.cos(this.bearingInRadians),Ee=Math.sin(-this.bearingInRadians),Ne=b-Math.round(b)+Oe*fe+Ee*ye,Je=S-Math.round(S)+Oe*ye+Ee*fe,ut=new Float64Array(q);if(a.M(ut,ut,[Ne>.5?Ne-1:Ne,Je>.5?Je-1:Je,0]),this._alignedProjMatrix=ut,q=a.aq(new Float64Array(16),this._pixelMatrix),!q)throw new Error("failed to invert matrix");this._pixelMatrixInverse=q,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const l=this.screenPointToMercatorCoordinate(new a.P(0,0)),f=[l.x*this.worldSize,l.y*this.worldSize,0,1];return a.aw(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const l=a.aj(1,this.center.lat)*this.worldSize;return Re(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/l).toLngLat()}lngLatToCameraDepth(l,f){const b=a.a1.fromLngLat(l),S=[b.x*this.worldSize,b.y*this.worldSize,f,1];return a.aw(S,S,this._viewProjMatrix),S[2]/S[3]}getProjectionData(l){const{overscaledTileID:f,aligned:b,applyTerrainMatrix:S}=l,R=this._helper.getMercatorTileCoordinates(f),j=f?this.calculatePosMatrix(f,b,!0):null;let q;return q=f&&f.terrainRttPosMatrix32f&&S?f.terrainRttPosMatrix32f:j||a.b8(),{mainMatrix:q,tileMercatorCoords:R,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:q}}isLocationOccluded(l){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(l,f,b){return 1}transformLightDirection(l){return a.aT(l)}getRayDirectionFromPixel(l){throw new Error("Not implemented.")}projectTileCoordinates(l,f,b,S){const R=this.calculatePosMatrix(b);let j;S?(j=[l,f,S(l,f),1],a.aw(j,j,R)):(j=[l,f,0,1],Pl(j,j,R));const q=j[3];return{point:new a.P(j[0]/q,j[1]/q),signedDistanceFromCamera:q,isOccluded:!1}}populateCache(l){for(const f of l)this.calculatePosMatrix(f)}getMatrixForModel(l,f){const b=a.a1.fromLngLat(l,f),S=b.meterInMercatorCoordinateUnits(),R=a.b9();return a.M(R,R,[b.x,b.y,b.z]),a.b6(R,R,Math.PI),a.b7(R,R,Math.PI/2),a.N(R,R,[-S,S,S]),R}getProjectionDataForCustomLayer(l=!0){const f=new a.Z(0,0,0,0,0),b=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:l}),S=He(f,this.worldSize);a.O(S,this._viewProjMatrix,S),b.tileMercatorCoords=[0,0,1,1];const R=[a.$,a.$,this.worldSize/this._helper.pixelsPerMeter],j=a.ba();return a.N(j,S,R),b.fallbackMatrix=j,b.mainMatrix=j,b}getFastPathSimpleProjectionMatrix(l){return this.calculatePosMatrix(l)}}function cu(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Ya(k){if(k.useSlerp)if(k.k<1){const l=a.bb(k.startEulerAngles.roll,k.startEulerAngles.pitch,k.startEulerAngles.bearing),f=a.bb(k.endEulerAngles.roll,k.endEulerAngles.pitch,k.endEulerAngles.bearing),b=new Float64Array(4);a.bc(b,l,f,k.k);const S=a.bd(b);k.tr.setRoll(S.roll),k.tr.setPitch(S.pitch),k.tr.setBearing(S.bearing)}else k.tr.setRoll(k.endEulerAngles.roll),k.tr.setPitch(k.endEulerAngles.pitch),k.tr.setBearing(k.endEulerAngles.bearing);else k.tr.setRoll(a.C.number(k.startEulerAngles.roll,k.endEulerAngles.roll,k.k)),k.tr.setPitch(a.C.number(k.startEulerAngles.pitch,k.endEulerAngles.pitch,k.k)),k.tr.setBearing(a.C.number(k.startEulerAngles.bearing,k.endEulerAngles.bearing,k.k))}function os(k,l,f,b,S){const R=S.padding,j=Ie(S.worldSize,f.getNorthWest()),q=Ie(S.worldSize,f.getNorthEast()),te=Ie(S.worldSize,f.getSouthEast()),fe=Ie(S.worldSize,f.getSouthWest()),ye=a.ae(-b),Oe=j.rotate(ye),Ee=q.rotate(ye),Ne=te.rotate(ye),Je=fe.rotate(ye),ut=new a.P(Math.max(Oe.x,Ee.x,Je.x,Ne.x),Math.max(Oe.y,Ee.y,Je.y,Ne.y)),ht=new a.P(Math.min(Oe.x,Ee.x,Je.x,Ne.x),Math.min(Oe.y,Ee.y,Je.y,Ne.y)),ft=ut.sub(ht),Mt=(S.width-(R.left+R.right+l.left+l.right))/ft.x,Ct=(S.height-(R.top+R.bottom+l.top+l.bottom))/ft.y;if(Ct<0||Mt<0)return void cu();const St=Math.min(a.ak(S.scale*Math.min(Mt,Ct)),k.maxZoom),Pt=a.P.convert(k.offset),zt=new a.P((l.left-l.right)/2,(l.top-l.bottom)/2).rotate(a.ae(b)),Ot=Pt.add(zt).mult(S.scale/a.af(St));return{center:Qe(S.worldSize,j.add(te).div(2).sub(Ot)),zoom:St,bearing:b}}class xa{get useGlobeControls(){return!1}handlePanInertia(l,f){const b=l.mag(),S=Math.abs(At(f));return{easingOffset:l.mult(Math.min(.75*S/b,1)),easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(l,f){l.bearingDelta&&f.setBearing(f.bearing+l.bearingDelta),l.pitchDelta&&f.setPitch(f.pitch+l.pitchDelta),l.rollDelta&&f.setRoll(f.roll+l.rollDelta),l.zoomDelta&&f.setZoom(f.zoom+l.zoomDelta)}handleMapControlsPan(l,f,b){l.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(b,l.around)}cameraForBoxAndBearing(l,f,b,S,R){return os(l,f,b,S,R)}handleJumpToCenterZoom(l,f){l.zoom!==(f.zoom!==void 0?+f.zoom:l.zoom)&&l.setZoom(+f.zoom),f.center!==void 0&&l.setCenter(a.S.convert(f.center))}handleEaseTo(l,f){const b=l.zoom,S=l.padding,R={roll:l.roll,pitch:l.pitch,bearing:l.bearing},j={roll:f.roll===void 0?l.roll:f.roll,pitch:f.pitch===void 0?l.pitch:f.pitch,bearing:f.bearing===void 0?l.bearing:f.bearing},q=f.zoom!==void 0,te=!l.isPaddingEqual(f.padding);let fe=!1;const ye=q?+f.zoom:l.zoom;let Oe=l.centerPoint.add(f.offsetAsPoint);const Ee=l.screenPointToLocation(Oe),{center:Ne,zoom:Je}=l.getConstrained(a.S.convert(f.center||Ee),ye??b);yA(l,Ne);const ut=Ie(l.worldSize,Ee),ht=Ie(l.worldSize,Ne).sub(ut),ft=a.af(Je-b);return fe=Je!==b,{easeFunc:Mt=>{if(fe&&l.setZoom(a.C.number(b,Je,Mt)),a.be(R,j)||Ya({startEulerAngles:R,endEulerAngles:j,tr:l,k:Mt,useSlerp:R.roll!=j.roll}),te&&(l.interpolatePadding(S,f.padding,Mt),Oe=l.centerPoint.add(f.offsetAsPoint)),f.around)l.setLocationAtPoint(f.around,f.aroundPoint);else{const Ct=a.af(l.zoom-b),St=Je>b?Math.min(2,ft):Math.max(.5,ft),Pt=Math.pow(St,1-Mt),zt=Qe(l.worldSize,ut.add(ht.mult(Mt*Pt)).mult(Ct));l.setLocationAtPoint(l.renderWorldCopies?zt.wrap():zt,Oe)}},isZooming:fe,elevationCenter:Ne}}handleFlyTo(l,f){const b=f.zoom!==void 0,S=l.zoom,R=l.getConstrained(a.S.convert(f.center||f.locationAtOffset),b?+f.zoom:S),j=R.center,q=R.zoom;yA(l,j);const te=Ie(l.worldSize,f.locationAtOffset),fe=Ie(l.worldSize,j).sub(te),ye=fe.mag(),Oe=a.af(q-S);let Ee;if(f.minZoom!==void 0){const Ne=Math.min(+f.minZoom,S,q),Je=l.getConstrained(j,Ne).zoom;Ee=a.af(Je-S)}return{easeFunc:(Ne,Je,ut,ht)=>{l.setZoom(Ne===1?q:S+a.ak(Je));const ft=Ne===1?j:Qe(l.worldSize,te.add(fe.mult(ut)).mult(Je));l.setLocationAtPoint(l.renderWorldCopies?ft.wrap():ft,ht)},scaleOfZoom:Oe,targetCenter:j,scaleOfMinZoom:Ee,pixelPathLength:ye}}}class Kr{constructor(l,f,b){this.blendFunction=l,this.blendColor=f,this.mask=b}}Kr.Replace=[1,0],Kr.disabled=new Kr(Kr.Replace,a.bf.transparent,[!1,!1,!1,!1]),Kr.unblended=new Kr(Kr.Replace,a.bf.transparent,[!0,!0,!0,!0]),Kr.alphaBlended=new Kr([1,771],a.bf.transparent,[!0,!0,!0,!0]);const Ml=2305;class er{constructor(l,f,b){this.enable=l,this.mode=f,this.frontFace=b}}er.disabled=new er(!1,1029,Ml),er.backCCW=new er(!0,1029,Ml),er.frontCCW=new er(!0,1028,Ml);class Ei{constructor(l,f,b){this.func=l,this.mask=f,this.range=b}}Ei.ReadOnly=!1,Ei.ReadWrite=!0,Ei.disabled=new Ei(519,Ei.ReadOnly,[0,1]);const Hr=7680;class ie{constructor(l,f,b,S,R,j){this.test=l,this.ref=f,this.mask=b,this.fail=S,this.depthFail=R,this.pass=j}}ie.disabled=new ie({func:519,mask:0},0,0,Hr,Hr,Hr);const Te=new WeakMap;function lt(k){var l;if(Te.has(k))return Te.get(k);{const f=(l=k.getParameter(k.VERSION))===null||l===void 0?void 0:l.startsWith("WebGL 2.0");return Te.set(k,f),f}}class Qt{get awaitingQuery(){return!!this._readbackQueue}constructor(l){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=l;const f=l.context,b=f.gl;this._texFormat=b.RGBA,this._texType=b.UNSIGNED_BYTE;const S=new a.aL;S.emplaceBack(-1,-1),S.emplaceBack(2,-1),S.emplaceBack(-1,2);const R=new a.aN;R.emplaceBack(0,1,2),this._fullscreenTriangle=new Gl(f.createVertexBuffer(S,ba.members),f.createIndexBuffer(R),a.aM.simpleSegment(0,0,S.length,R.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(b.TEXTURE1);const j=b.createTexture();b.bindTexture(b.TEXTURE_2D,j),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texImage2D(b.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(j),lt(b)&&(this._pbo=b.createBuffer(),b.bindBuffer(b.PIXEL_PACK_BUFFER,this._pbo),b.bufferData(b.PIXEL_PACK_BUFFER,4,b.STREAM_READ),b.bindBuffer(b.PIXEL_PACK_BUFFER,null))}destroy(){const l=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),l.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(l,f){const b=this._updateCount;return this._readbackQueue?b>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():b>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(l,f),this._updateCount++,this._measuredError}_bindFramebuffer(){const l=this._cachedRenderContext.context,f=l.gl;l.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),l.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(l,f){const b=this._cachedRenderContext.context,S=b.gl;if(this._bindFramebuffer(),b.viewport.set([0,0,this._texWidth,this._texHeight]),b.clear({color:a.bf.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(b,S.TRIANGLES,Ei.disabled,ie.disabled,Kr.unblended,er.disabled,((R,j)=>({u_input:R,u_output_expected:j}))(l,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&lt(S)){S.bindBuffer(S.PIXEL_PACK_BUFFER,this._pbo),S.readBuffer(S.COLOR_ATTACHMENT0),S.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),S.bindBuffer(S.PIXEL_PACK_BUFFER,null);const R=S.fenceSync(S.SYNC_GPU_COMMANDS_COMPLETE,0);S.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:R}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const l=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&lt(l)){const f=l.clientWaitSync(this._readbackQueue.sync,0,0);if(f===l.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===l.TIMEOUT_EXPIRED)return;l.bindBuffer(l.PIXEL_PACK_BUFFER,this._pbo),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),l.bindBuffer(l.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),l.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Qt._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(l){let f=0;return f+=l[0]/256,f+=l[1]/65536,f+=l[2]/16777216,l[3]<127&&(f=-f),f/128}}const Bi=a.$/128;function ei(k,l){const f=k.granularity!==void 0?Math.max(k.granularity,1):1,b=f+(k.generateBorders?2:0),S=f+(k.extendToNorthPole||k.generateBorders?1:0)+(k.extendToSouthPole||k.generateBorders?1:0),R=b+1,j=S+1,q=k.generateBorders?-1:0,te=k.generateBorders||k.extendToNorthPole?-1:0,fe=f+(k.generateBorders?1:0),ye=f+(k.generateBorders||k.extendToSouthPole?1:0),Oe=R*j,Ee=b*S*6,Ne=R*j>65536;if(Ne&&l==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Je=Ne||l==="32bit",ut=new Int16Array(2*Oe);let ht=0;for(let Ct=te;Ct<=ye;Ct++)for(let St=q;St<=fe;St++){let Pt=St/f*a.$;St===-1&&(Pt=-Bi),St===f+1&&(Pt=a.$+Bi);let zt=Ct/f*a.$;Ct===-1&&(zt=k.extendToNorthPole?a.bh:-Bi),Ct===f+1&&(zt=k.extendToSouthPole?a.bi:a.$+Bi),ut[ht++]=Pt,ut[ht++]=zt}const ft=Je?new Uint32Array(Ee):new Uint16Array(Ee);let Mt=0;for(let Ct=0;Ct<S;Ct++)for(let St=0;St<b;St++){const Pt=St+1+Ct*R,zt=St+(Ct+1)*R,Ot=St+1+(Ct+1)*R;ft[Mt++]=St+Ct*R,ft[Mt++]=zt,ft[Mt++]=Pt,ft[Mt++]=Pt,ft[Mt++]=zt,ft[Mt++]=Ot}return{vertices:ut.buffer.slice(0),indices:ft.buffer.slice(0),uses32bitIndices:Je}}const Ji=new a.aK({fill:new a.bj(128,2),line:new a.bj(512,0),tile:new a.bj(128,32),stencil:new a.bj(128,1),circle:3});class lr{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Po.projectionGlobe}get vertexShaderPreludeCode(){return Po.projectionMercator.vertexSource}get subdivisionGranularity(){return Ji}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(l){this._errorMeasurement||(this._errorMeasurement=new Qt(l));const f=a.U(this._errorQueryLatitudeDegrees),b=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,S=this._errorMeasurement.updateErrorLoop(f,b),R=O.now();S!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=S,this._errorMeasurementLastChangeTime=R);const j=Math.min(Math.max((R-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bk(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bl(j))}_getMeshKey(l){return`${l.granularity.toString(36)}_${l.generateBorders?"b":""}${l.extendToNorthPole?"n":""}${l.extendToSouthPole?"s":""}`}getMeshFromTileID(l,f,b,S,R){const j=(R==="stencil"?Ji.stencil:Ji.tile).getGranularityForZoomLevel(f.z);return this._getMesh(l,{granularity:j,generateBorders:b,extendToNorthPole:f.y===0&&S,extendToSouthPole:f.y===(1<<f.z)-1&&S})}_getMesh(l,f){const b=this._getMeshKey(f);if(b in this._tileMeshCache)return this._tileMeshCache[b];const S=function(R,j){const q=ei(j,"16bit"),te=a.aL.deserialize({arrayBuffer:q.vertices,length:q.vertices.byteLength/2/2}),fe=a.aN.deserialize({arrayBuffer:q.indices,length:q.indices.byteLength/2/3});return new Gl(R.createVertexBuffer(te,ba.members),R.createIndexBuffer(fe),a.aM.simpleSegment(0,0,te.length,fe.length))}(l,f);return this._tileMeshCache[b]=S,S}recalculate(l){}hasTransition(){const l=O.now();let f=!1;return f=f||(l-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(l){this._errorQueryLatitudeDegrees=l}}const Ui=new a.r({type:new a.D(a.v.projection.type)});class tr extends a.E{constructor(l){super(),this._transitionable=new a.t(Ui),this.setProjection(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.F(0)),this._mercatorProjection=new Sr,this._verticalPerspectiveProjection=new lr}get transitionState(){const l=this.properties.get("type");if(typeof l=="string"&&l==="mercator")return 0;if(typeof l=="string"&&l==="vertical-perspective")return 1;if(l instanceof a.bm){if(l.from==="vertical-perspective"&&l.to==="mercator")return 1-l.transition;if(l.from==="mercator"&&l.to==="vertical-perspective")return l.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(l){this._mercatorProjection.updateGPUdependent(l),this._verticalPerspectiveProjection.updateGPUdependent(l)}getMeshFromTileID(l,f,b,S,R){return this.currentProjection.getMeshFromTileID(l,f,b,S,R)}setProjection(l){this._transitionable.setValue("type",l?.type||"mercator")}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}setErrorQueryLatitudeDegrees(l){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(l),this._mercatorProjection.setErrorQueryLatitudeDegrees(l)}}function io(k){const l=vr(k.worldSize,k.center.lat);return 2*Math.PI*l}function fo(k,l,f,b,S){const R=1/(1<<S),j=l/a.$*R+b*R,q=a.bo((k/a.$*R+f*R)*Math.PI*2+Math.PI,2*Math.PI),te=2*Math.atan(Math.exp(Math.PI-j*Math.PI*2))-.5*Math.PI,fe=Math.cos(te),ye=new Float64Array(3);return ye[0]=Math.sin(q)*fe,ye[1]=Math.sin(te),ye[2]=Math.cos(q)*fe,ye}function dr(k){return function(l,f){const b=Math.cos(f),S=new Float64Array(3);return S[0]=Math.sin(l)*b,S[1]=Math.sin(f),S[2]=Math.cos(l)*b,S}(k.lng*Math.PI/180,k.lat*Math.PI/180)}function vr(k,l){return k/(2*Math.PI)/Math.cos(l*Math.PI/180)}function po(k){const l=Math.asin(k[1])/Math.PI*180,f=Math.sqrt(k[0]*k[0]+k[2]*k[2]);if(f>1e-6){const b=k[0]/f,S=Math.acos(k[2]/f),R=(b>0?S:-S)/Math.PI*180;return new a.S(a.aO(R,-180,180),l)}return new a.S(0,l)}function Qo(k){return Math.cos(k*Math.PI/180)}function Gr(k,l){const f=Qo(k),b=Qo(l);return a.ak(b/f)}function Js(k,l){const f=k.rotate(l.bearingInRadians),b=l.zoom+Gr(l.center.lat,0),S=a.bk(1/Qo(l.center.lat),1/Qo(Math.min(Math.abs(l.center.lat),60)),a.bn(b,7,3,0,1)),R=360/io({worldSize:l.worldSize,center:{lat:l.center.lat}});return new a.S(l.center.lng-f.x*R*S,a.ah(l.center.lat+f.y*R,-a.ai,a.ai))}function Ql(k){const l=.5*k,f=Math.sin(l),b=Math.cos(l);return Math.log(f+b)-Math.log(b-f)}function eA(k,l,f,b){const S=k.lat+f*b;if(Math.abs(f)>1){const R=(Math.sign(k.lat+f)!==Math.sign(k.lat)?-Math.abs(k.lat):Math.abs(k.lat))*Math.PI/180,j=Math.abs(k.lat+f)*Math.PI/180,q=Ql(R+b*(j-R)),te=Ql(R),fe=Ql(j);return new a.S(k.lng+l*((q-te)/(fe-te)),S)}return new a.S(k.lng+l*b,S)}class Cs{constructor(l){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=l}swapBuffers(){if(!this._hadAnyChanges)return;const l=this._cachePrevious;this._cachePrevious=this._cache,this._cache=l,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(l,f,b,S){const R=`${l.z}_${l.x}_${l.y}_${S?.terrain?"t":""}`,j=this._cache.get(R);if(j)return j;const q=this._cachePrevious.get(R);if(q)return this._cache.set(R,q),q;const te=this._boundingVolumeFactory(l,f,b,S);return this._cache.set(R,te),this._hadAnyChanges=!0,te}}class Sd{constructor(l,f,b,S){this.min=b,this.max=S,this.points=l,this.planes=f}static fromAabb(l,f){const b=[];for(let S=0;S<8;S++)b.push([1&~S?l[0]:f[0],(S>>1&1)==1?f[1]:l[1],(S>>2&1)==1?f[2]:l[2]]);return new Sd(b,[[-1,0,0,f[0]],[1,0,0,-l[0]],[0,-1,0,f[1]],[0,1,0,-l[1]],[0,0,-1,f[2]],[0,0,1,-l[2]]],l,f)}static fromCenterSizeAngles(l,f,b){const S=a.br([],b[0],b[1],b[2]),R=a.bs([],[f[0],0,0],S),j=a.bs([],[0,f[1],0],S),q=a.bs([],[0,0,f[2]],S),te=[...l],fe=[...l];for(let Oe=0;Oe<8;Oe++)for(let Ee=0;Ee<3;Ee++){const Ne=l[Ee]+R[Ee]*(1&~Oe?-1:1)+j[Ee]*((Oe>>1&1)==1?1:-1)+q[Ee]*((Oe>>2&1)==1?1:-1);te[Ee]=Math.min(te[Ee],Ne),fe[Ee]=Math.max(fe[Ee],Ne)}const ye=[];for(let Oe=0;Oe<8;Oe++){const Ee=[...l];a.aS(Ee,Ee,a.aR([],R,1&~Oe?-1:1)),a.aS(Ee,Ee,a.aR([],j,(Oe>>1&1)==1?1:-1)),a.aS(Ee,Ee,a.aR([],q,(Oe>>2&1)==1?1:-1)),ye.push(Ee)}return new Sd(ye,[[...R,-a.aX(R,ye[0])],[...j,-a.aX(j,ye[0])],[...q,-a.aX(q,ye[0])],[-R[0],-R[1],-R[2],-a.aX(R,ye[7])],[-j[0],-j[1],-j[2],-a.aX(j,ye[7])],[-q[0],-q[1],-q[2],-a.aX(q,ye[7])]],te,fe)}intersectsFrustum(l){let f=!0;const b=this.points.length,S=this.planes.length,R=l.planes.length,j=l.points.length;for(let q=0;q<R;q++){const te=l.planes[q];let fe=0;for(let ye=0;ye<b;ye++){const Oe=this.points[ye];te[0]*Oe[0]+te[1]*Oe[1]+te[2]*Oe[2]+te[3]>=0&&fe++}if(fe===0)return 0;fe<b&&(f=!1)}if(f)return 2;for(let q=0;q<S;q++){const te=this.planes[q];let fe=0;for(let ye=0;ye<j;ye++){const Oe=l.points[ye];te[0]*Oe[0]+te[1]*Oe[1]+te[2]*Oe[2]+te[3]>=0&&fe++}if(fe===0)return 0}return 1}intersectsPlane(l){const f=this.points.length;let b=0;for(let S=0;S<f;S++){const R=this.points[S];l[0]*R[0]+l[1]*R[1]+l[2]*R[2]+l[3]>=0&&b++}return b===f?2:b===0?0:1}}function za(k,l,f){const b=k-l;return b<0?-b:Math.max(0,b-f)}function Ed(k,l,f,b,S){const R=k-f;let j;return j=R<0?Math.min(-R,1+R-S):R>1?Math.min(Math.max(R-S,0),1-R):0,Math.max(j,za(l,b,S))}class NA{constructor(){this._boundingVolumeCache=new Cs(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(l,f,b,S){const R=1<<b.z,j=1/R,q=b.x/R,te=b.y/R;let fe=2;return fe=Math.min(fe,Ed(l,f,q,te,j)),fe=Math.min(fe,Ed(l,f,q+.5,-te-j,j)),fe=Math.min(fe,Ed(l,f,q+.5,2-te-j,j)),fe}getWrap(l,f,b){const S=1<<f.z,R=1/S,j=f.x/S,q=za(l.x,j,R),te=za(l.x,j-1,R),fe=za(l.x,j+1,R),ye=Math.min(q,te,fe);return ye===fe?1:ye===te?-1:0}allowVariableZoom(l,f){return kt(l,f)>4}allowWorldCopies(){return!1}getTileBoundingVolume(l,f,b,S){return this._boundingVolumeCache.getTileBoundingVolume(l,f,b,S)}_computeTileBoundingVolume(l,f,b,S){var R,j;let q=0,te=0;if(S?.terrain){const fe=new a.Z(l.z,f,l.z,l.x,l.y),ye=S.terrain.getMinMaxElevation(fe);q=(R=ye.minElevation)!==null&&R!==void 0?R:Math.min(0,b),te=(j=ye.maxElevation)!==null&&j!==void 0?j:Math.max(0,b)}if(q/=a.bu,te/=a.bu,q+=1,te+=1,l.z<=0)return Sd.fromAabb([-te,-te,-te],[te,te,te]);if(l.z===1)return Sd.fromAabb([l.x===0?-te:0,l.y===0?0:-te,-te],[l.x===0?0:te,l.y===0?te:0,te]);{const fe=[fo(0,0,l.x,l.y,l.z),fo(a.$,0,l.x,l.y,l.z),fo(a.$,a.$,l.x,l.y,l.z),fo(0,a.$,l.x,l.y,l.z)],ye=[];for(const rn of fe)ye.push(a.aR([],rn,te));if(te!==q)for(const rn of fe)ye.push(a.aR([],rn,q));l.y===0&&ye.push([0,1,0]),l.y===(1<<l.z)-1&&ye.push([0,-1,0]);const Oe=[1,1,1],Ee=[-1,-1,-1];for(const rn of ye)for(let An=0;An<3;An++)Oe[An]=Math.min(Oe[An],rn[An]),Ee[An]=Math.max(Ee[An],rn[An]);const Ne=fo(a.$/2,a.$/2,l.x,l.y,l.z),Je=a.aW([],[0,1,0],Ne);a.aV(Je,Je);const ut=a.aW([],Ne,Je);a.aV(ut,ut);const ht=a.aW([],fe[2],fe[1]);a.aV(ht,ht);const ft=a.aW([],fe[0],fe[3]);a.aV(ft,ft),ye.push(a.aR([],Ne,te)),l.y>=(1<<l.z)/2&&ye.push(a.aR([],fo(a.$/2,0,l.x,l.y,l.z),te)),l.y<(1<<l.z)/2&&ye.push(a.aR([],fo(a.$/2,a.$,l.x,l.y,l.z),te));const Mt=tA(Ne,ye),Ct=tA(ut,ye),St=[-Ne[0],-Ne[1],-Ne[2],Mt.max],Pt=[Ne[0],Ne[1],Ne[2],-Mt.min],zt=[-ut[0],-ut[1],-ut[2],Ct.max],Ot=[ut[0],ut[1],ut[2],-Ct.min],Ht=[...ht,0],fn=[...ft,0],Jt=[];return l.y===0?Jt.push(a.bt(fn,Ht,St),a.bt(fn,Ht,Pt)):Jt.push(a.bt(zt,Ht,St),a.bt(zt,Ht,Pt),a.bt(zt,fn,St),a.bt(zt,fn,Pt)),l.y===(1<<l.z)-1?Jt.push(a.bt(fn,Ht,St),a.bt(fn,Ht,Pt)):Jt.push(a.bt(Ot,Ht,St),a.bt(Ot,Ht,Pt),a.bt(Ot,fn,St),a.bt(Ot,fn,Pt)),new Sd(Jt,[St,Pt,zt,Ot,Ht,fn],Oe,Ee)}}}function tA(k,l){let f=1/0,b=-1/0;for(const S of l){const R=a.aX(k,S);f=Math.min(f,R),b=Math.max(b,R)}return{min:f,max:b}}class wh{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,f,b){return this._helper.interpolatePadding(l,f,b)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,f){this._helper.resize(l,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,f){this._helper.overrideNearFarZ(l,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(l){}constructor(){this._cachedClippingPlane=a.bv(),this._projectionMatrix=a.b9(),this._globeViewProjMatrix32f=a.b8(),this._globeViewProjMatrixNoCorrection=a.b9(),this._globeViewProjMatrixNoCorrectionInverted=a.b9(),this._globeProjMatrixInverted=a.b9(),this._cameraPosition=a.bp(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Io({calcMatrices:()=>{this._calcMatrices()},getConstrained:(l,f)=>this.getConstrained(l,f)}),this._coveringTilesDetailsProvider=new NA}clone(){const l=new wh;return l.apply(this),l}apply(l,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(l)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const l=a.bp();return l[0]=this._cameraPosition[0],l[1]=this._cameraPosition[1],l[2]=this._cameraPosition[2],l}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(l){const{overscaledTileID:f,applyGlobeMatrix:b}=l,S=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:S,clippingPlane:this._cachedClippingPlane,projectionTransition:b?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(l){const f=this.pitchInRadians,b=this.cameraToCenterDistance/l,S=Math.sin(f)*b,R=Math.cos(f)*b+1,j=1/Math.sqrt(S*S+R*R)*1;let q=-S,te=R;const fe=Math.sqrt(q*q+te*te);q/=fe,te/=fe;const ye=[0,q,te];a.bw(ye,ye,[0,0,0],-this.bearingInRadians),a.bx(ye,ye,[0,0,0],-1*this.center.lat*Math.PI/180),a.by(ye,ye,[0,0,0],this.center.lng*Math.PI/180);const Oe=1/a.aZ(ye);return a.aR(ye,ye,Oe),[...ye,-j*Oe]}isLocationOccluded(l){return!this.isSurfacePointVisible(dr(l))}transformLightDirection(l){const f=this._helper._center.lng*Math.PI/180,b=this._helper._center.lat*Math.PI/180,S=Math.cos(b),R=[Math.sin(f)*S,Math.sin(b),Math.cos(f)*S],j=[R[2],0,-R[0]],q=[0,0,0];a.aW(q,j,R),a.aV(j,j),a.aV(q,q);const te=[0,0,0];return a.aV(te,[j[0]*l[0]+q[0]*l[1]+R[0]*l[2],j[1]*l[0]+q[1]*l[1]+R[1]*l[2],j[2]*l[0]+q[2]*l[1]+R[2]*l[2]]),te}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(l,f,b){const S=function(q,te,fe){const ye=1/(1<<fe.z);return new a.a1(q/a.$*ye+fe.x*ye,te/a.$*ye+fe.y*ye)}(l,f,b.canonical),R=(j=S.y,[a.bo(S.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-j*Math.PI*2))-.5*Math.PI]);var j;return this.getCircleRadiusCorrection()/Math.cos(R[1])}projectTileCoordinates(l,f,b,S){const R=b.canonical,j=fo(l,f,R.x,R.y,R.z),q=1+(S?S(l,f):0)/a.bu,te=[j[0]*q,j[1]*q,j[2]*q,1];a.aw(te,te,this._globeViewProjMatrixNoCorrection);const fe=this._cachedClippingPlane,ye=fe[0]*j[0]+fe[1]*j[1]+fe[2]*j[2]+fe[3]<0;return{point:new a.P(te[0]/te[3],te[1]/te[3]),signedDistanceFromCamera:te[3],isOccluded:ye}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const l=vr(this.worldSize,this.center.lat),f=a.ba(),b=a.ba();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*l),a.b4(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const S=this.centerOffset;f[8]=2*-S.x/this._helper._width,f[9]=2*S.y/this._helper._height,this._projectionMatrix=a.b5(f),this._globeProjMatrixInverted=a.ba(),a.aq(this._globeProjMatrixInverted,f),a.M(f,f,[0,0,-this.cameraToCenterDistance]),a.b6(f,f,this.rollInRadians),a.b7(f,f,-this.pitchInRadians),a.b6(f,f,this.bearingInRadians),a.M(f,f,[0,0,-l]);const R=a.bp();R[0]=l,R[1]=l,R[2]=l,a.b7(b,f,this.center.lat*Math.PI/180),a.bz(b,b,-this.center.lng*Math.PI/180),a.N(b,b,R),this._globeViewProjMatrixNoCorrection=b,a.b7(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bz(f,f,-this.center.lng*Math.PI/180),a.N(f,f,R),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=a.ba(),a.aq(this._globeViewProjMatrixNoCorrectionInverted,b);const j=a.bp();this._cameraPosition=a.bp(),this._cameraPosition[2]=this.cameraToCenterDistance/l,a.bw(this._cameraPosition,this._cameraPosition,j,-this.rollInRadians),a.bx(this._cameraPosition,this._cameraPosition,j,this.pitchInRadians),a.bw(this._cameraPosition,this._cameraPosition,j,-this.bearingInRadians),a.aS(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bx(this._cameraPosition,this._cameraPosition,j,-this.center.lat*Math.PI/180),a.by(this._cameraPosition,this._cameraPosition,j,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(l);const q=a.b5(this._globeViewProjMatrixNoCorrectionInverted);a.N(q,q,[1,1,-1]),this._cachedFrustum=ca.fromInvProjectionMatrix(q,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(l){a.w("calculateFogMatrix is not supported on globe projection.");const f=a.ba();return a.ag(f),f}getVisibleUnwrappedCoordinates(l){return[new a.b2(0,l)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(l){l&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(l,f){if(!this._globeViewProjMatrixNoCorrection)return 1;const b=dr(l);a.aR(b,b,1+f/a.bu);const S=a.bv();return a.aw(S,[b[0],b[1],b[2],1],this._globeViewProjMatrixNoCorrection),S[2]/S[3]}populateCache(l){}getBounds(){const l=.5*this.width,f=.5*this.height,b=[new a.P(0,0),new a.P(l,0),new a.P(this.width,0),new a.P(this.width,f),new a.P(this.width,this.height),new a.P(l,this.height),new a.P(0,this.height),new a.P(0,f)],S=[];for(const Oe of b)S.push(this.unprojectScreenPoint(Oe));let R=0,j=0,q=0,te=0;const fe=this.center;for(const Oe of S){const Ee=a.bA(fe.lng,Oe.lng),Ne=a.bA(fe.lat,Oe.lat);Ee<j&&(j=Ee),Ee>R&&(R=Ee),Ne<te&&(te=Ne),Ne>q&&(q=Ne)}const ye=[fe.lng+j,fe.lat+te,fe.lng+R,fe.lat+q];return this.isSurfacePointOnScreen([0,1,0])&&(ye[3]=90,ye[0]=-180,ye[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(ye[1]=-90,ye[0]=-180,ye[2]=180),new vt(ye)}getConstrained(l,f){const b=a.ah(l.lat,-a.ai,a.ai),S=a.ah(+f,this.minZoom+Gr(0,b),this.maxZoom);return{center:new a.S(l.lng,b),zoom:S}}calculateCenterFromCameraLngLatAlt(l,f,b,S){return this._helper.calculateCenterFromCameraLngLatAlt(l,f,b,S)}setLocationAtPoint(l,f){const b=dr(this.unprojectScreenPoint(f)),S=dr(l),R=a.bp();a.bB(R);const j=a.bp();a.by(j,b,R,-this.center.lng*Math.PI/180),a.bx(j,j,R,this.center.lat*Math.PI/180);const q=S[0]*S[0]+S[2]*S[2],te=j[0]*j[0];if(q<te)return;const fe=Math.sqrt(q-te),ye=-fe,Oe=a.bC(S[0],S[2],j[0],fe),Ee=a.bC(S[0],S[2],j[0],ye),Ne=a.bp();a.by(Ne,S,R,-Oe);const Je=a.bC(Ne[1],Ne[2],j[1],j[2]),ut=a.bp();a.by(ut,S,R,-Ee);const ht=a.bC(ut[1],ut[2],j[1],j[2]),ft=.5*Math.PI,Mt=Je>=-ft&&Je<=ft,Ct=ht>=-ft&&ht<=ft;let St,Pt;if(Mt&&Ct){const fn=this.center.lng*Math.PI/180,Jt=this.center.lat*Math.PI/180;a.bD(Oe,fn)+a.bD(Je,Jt)<a.bD(Ee,fn)+a.bD(ht,Jt)?(St=Oe,Pt=Je):(St=Ee,Pt=ht)}else if(Mt)St=Oe,Pt=Je;else{if(!Ct)return;St=Ee,Pt=ht}const zt=St/Math.PI*180,Ot=Pt/Math.PI*180,Ht=this.center.lat;this.setCenter(new a.S(zt,a.ah(Ot,-90,90))),this.setZoom(this.zoom+Gr(Ht,this.center.lat))}locationToScreenPoint(l,f){const b=dr(l);if(f){const S=f.getElevationForLngLatZoom(l,this._helper._tileZoom);a.aR(b,b,1+S/a.bu)}return this._projectSurfacePointToScreen(b)}_projectSurfacePointToScreen(l){const f=a.bv();return a.aw(f,[...l,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new a.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(l,f){if(f){const b=f.pointCoordinate(l);if(b)return b}return a.a1.fromLngLat(this.unprojectScreenPoint(l))}screenPointToLocation(l,f){var b;return(b=this.screenPointToMercatorCoordinate(l,f))===null||b===void 0?void 0:b.toLngLat()}isPointOnMapSurface(l,f){const b=this._cameraPosition,S=this.getRayDirectionFromPixel(l);return!!this.rayPlanetIntersection(b,S)}getRayDirectionFromPixel(l){const f=a.bv();f[0]=l.x/this.width*2-1,f[1]=-1*(l.y/this.height*2-1),f[2]=1,f[3]=1,a.aw(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];const b=a.bp();b[0]=f[0]-this._cameraPosition[0],b[1]=f[1]-this._cameraPosition[1],b[2]=f[2]-this._cameraPosition[2];const S=a.bp();return a.aV(S,b),S}isSurfacePointVisible(l){const f=this._cachedClippingPlane;return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]>=0}isSurfacePointOnScreen(l){if(!this.isSurfacePointVisible(l))return!1;const f=a.bv();return a.aw(f,[...l,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(l,f){const b=a.aX(l,f),S=a.bp(),R=a.bp();a.aR(R,f,b),a.aU(S,l,R);const j=1-a.aX(S,S);if(j<0)return null;const q=a.aX(l,l)-1,te=-b+(b<0?1:-1)*Math.sqrt(j),fe=q/te,ye=te;return{tMin:Math.min(fe,ye),tMax:Math.max(fe,ye)}}unprojectScreenPoint(l){const f=this._cameraPosition,b=this.getRayDirectionFromPixel(l),S=this.rayPlanetIntersection(f,b);if(S){const ye=a.bp();a.aS(ye,f,[b[0]*S.tMin,b[1]*S.tMin,b[2]*S.tMin]);const Oe=a.bp();return a.aV(Oe,ye),po(Oe)}const R=this._cachedClippingPlane,j=R[0]*b[0]+R[1]*b[1]+R[2]*b[2],q=-a.b1(R,f)/j,te=a.bp();if(q>0)a.aS(te,f,[b[0]*q,b[1]*q,b[2]*q]);else{const ye=a.bp();a.aS(ye,f,[2*b[0],2*b[1],2*b[2]]);const Oe=a.b1(this._cachedClippingPlane,ye);a.aU(te,ye,[this._cachedClippingPlane[0]*Oe,this._cachedClippingPlane[1]*Oe,this._cachedClippingPlane[2]*Oe])}const fe=function(ye){const Oe=a.bp();return Oe[0]=ye[0]*-ye[3],Oe[1]=ye[1]*-ye[3],Oe[2]=ye[2]*-ye[3],{center:Oe,radius:Math.sqrt(1-ye[3]*ye[3])}}(R);return po(function(ye,Oe,Ee){const Ne=a.bp();a.aU(Ne,Ee,ye);const Je=a.bp();return a.bq(Je,ye,Ne,Oe/a.a$(Ne)),Je}(fe.center,fe.radius,te))}getMatrixForModel(l,f){const b=a.S.convert(l),S=1/a.bu,R=a.b9();return a.bz(R,R,b.lng/180*Math.PI),a.b7(R,R,-b.lat/180*Math.PI),a.M(R,R,[0,0,1+f/a.bu]),a.b7(R,R,.5*Math.PI),a.N(R,R,[S,S,S]),R}getProjectionDataForCustomLayer(l=!0){const f=this.getProjectionData({overscaledTileID:new a.Z(0,0,0,0,0),applyGlobeMatrix:l});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(l){}}class $h{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,f,b){return this._helper.interpolatePadding(l,f,b)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,f,b=!0){this._helper.resize(l,f,b)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,f){this._helper.overrideNearFarZ(l,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(l,f){this._globeness=l,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Io({calcMatrices:()=>{this._calcMatrices()},getConstrained:(l,f)=>this.getConstrained(l,f)}),this._globeness=1,this._mercatorTransform=new Ur,this._verticalPerspectiveTransform=new wh}clone(){const l=new $h;return l._globeness=this._globeness,l._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,l.apply(this),l}apply(l){this._helper.apply(l),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(l){const f=this._mercatorTransform.getProjectionData(l),b=this._verticalPerspectiveTransform.getProjectionData(l);return{mainMatrix:this.isGlobeRendering?b.mainMatrix:f.mainMatrix,clippingPlane:b.clippingPlane,tileMercatorCoords:b.tileMercatorCoords,projectionTransition:l.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(l){return this.currentTransform.isLocationOccluded(l)}transformLightDirection(l){return this.currentTransform.transformLightDirection(l)}getPixelScale(){return a.bk(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bk(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(l,f,b){const S=this._mercatorTransform.getPitchedTextCorrection(l,f,b),R=this._verticalPerspectiveTransform.getPitchedTextCorrection(l,f,b);return a.bk(S,R,this._globeness)}projectTileCoordinates(l,f,b,S){return this.currentTransform.projectTileCoordinates(l,f,b,S)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(l){return this.currentTransform.calculateFogMatrix(l)}getVisibleUnwrappedCoordinates(l){return this.currentTransform.getVisibleUnwrappedCoordinates(l)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(l){this._mercatorTransform.recalculateZoomAndCenter(l),this._verticalPerspectiveTransform.recalculateZoomAndCenter(l)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(l,f){return this.currentTransform.lngLatToCameraDepth(l,f)}populateCache(l){this._mercatorTransform.populateCache(l),this._verticalPerspectiveTransform.populateCache(l)}getBounds(){return this.currentTransform.getBounds()}getConstrained(l,f){return this.currentTransform.getConstrained(l,f)}calculateCenterFromCameraLngLatAlt(l,f,b,S){return this._helper.calculateCenterFromCameraLngLatAlt(l,f,b,S)}setLocationAtPoint(l,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(l,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(l,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(l,f){return this.currentTransform.locationToScreenPoint(l,f)}screenPointToMercatorCoordinate(l,f){return this.currentTransform.screenPointToMercatorCoordinate(l,f)}screenPointToLocation(l,f){return this.currentTransform.screenPointToLocation(l,f)}isPointOnMapSurface(l,f){return this.currentTransform.isPointOnMapSurface(l,f)}getRayDirectionFromPixel(l){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(l)}getMatrixForModel(l,f){return this.currentTransform.getMatrixForModel(l,f)}getProjectionDataForCustomLayer(l=!0){const f=this._mercatorTransform.getProjectionDataForCustomLayer(l);if(!this.isGlobeRendering)return f;const b=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(l);return b.fallbackMatrix=f.mainMatrix,b}getFastPathSimpleProjectionMatrix(l){return this.currentTransform.getFastPathSimpleProjectionMatrix(l)}}class go{get useGlobeControls(){return!0}handlePanInertia(l,f){const b=Js(l,f);return Math.abs(b.lng-f.center.lng)>180&&(b.lng=f.center.lng+179.5*Math.sign(b.lng-f.center.lng)),{easingCenter:b,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(l,f){const b=l.around,S=f.screenPointToLocation(b);l.bearingDelta&&f.setBearing(f.bearing+l.bearingDelta),l.pitchDelta&&f.setPitch(f.pitch+l.pitchDelta),l.rollDelta&&f.setRoll(f.roll+l.rollDelta);const R=f.zoom;l.zoomDelta&&f.setZoom(f.zoom+l.zoomDelta);const j=f.zoom-R;if(j===0)return;const q=a.bA(f.center.lng,S.lng),te=q/(Math.abs(q/180)+1),fe=a.bA(f.center.lat,S.lat),ye=f.getRayDirectionFromPixel(b),Oe=f.cameraPosition,Ee=-1*a.aX(Oe,ye),Ne=a.bp();a.aS(Ne,Oe,[ye[0]*Ee,ye[1]*Ee,ye[2]*Ee]);const Je=a.aZ(Ne)-1,ut=Math.exp(.5*-Math.max(Je-.3,0)),ht=vr(f.worldSize,f.center.lat)/Math.min(f.width,f.height),ft=a.bn(ht,.9,.5,1,.25),Mt=(1-a.af(-j))*Math.min(ut,ft),Ct=f.center.lat,St=f.zoom,Pt=new a.S(f.center.lng+te*Mt,a.ah(f.center.lat+fe*Mt,-a.ai,a.ai));f.setLocationAtPoint(S,b);const zt=f.center,Ot=a.bn(Math.abs(q),45,85,0,1),Ht=a.bn(ht,.75,.35,0,1),fn=Math.pow(Math.max(Ot,Ht),.25),Jt=a.bA(zt.lng,Pt.lng),rn=a.bA(zt.lat,Pt.lat);f.setCenter(new a.S(zt.lng+Jt*fn,zt.lat+rn*fn).wrap()),f.setZoom(St+Gr(Ct,f.center.lat))}handleMapControlsPan(l,f,b){if(!l.panDelta)return;const S=f.center.lat,R=f.zoom;f.setCenter(Js(l.panDelta,f).wrap()),f.setZoom(R+Gr(S,f.center.lat))}cameraForBoxAndBearing(l,f,b,S,R){const j=os(l,f,b,S,R),q=f.left/R.width*2-1,te=(R.width-f.right)/R.width*2-1,fe=f.top/R.height*-2+1,ye=(R.height-f.bottom)/R.height*-2+1,Oe=a.bA(b.getWest(),b.getEast())<0,Ee=Oe?b.getEast():b.getWest(),Ne=Oe?b.getWest():b.getEast(),Je=Math.max(b.getNorth(),b.getSouth()),ut=Math.min(b.getNorth(),b.getSouth()),ht=Ee+.5*a.bA(Ee,Ne),ft=Je+.5*a.bA(Je,ut),Mt=R.clone();Mt.setCenter(j.center),Mt.setBearing(j.bearing),Mt.setPitch(0),Mt.setRoll(0),Mt.setZoom(j.zoom);const Ct=Mt.modelViewProjectionMatrix,St=[dr(b.getNorthWest()),dr(b.getNorthEast()),dr(b.getSouthWest()),dr(b.getSouthEast()),dr(new a.S(Ne,ft)),dr(new a.S(Ee,ft)),dr(new a.S(ht,Je)),dr(new a.S(ht,ut))],Pt=dr(j.center);let zt=Number.POSITIVE_INFINITY;for(const Ot of St)q<0&&(zt=go.getLesserNonNegativeNonNull(zt,go.solveVectorScale(Ot,Pt,Ct,"x",q))),te>0&&(zt=go.getLesserNonNegativeNonNull(zt,go.solveVectorScale(Ot,Pt,Ct,"x",te))),fe>0&&(zt=go.getLesserNonNegativeNonNull(zt,go.solveVectorScale(Ot,Pt,Ct,"y",fe))),ye<0&&(zt=go.getLesserNonNegativeNonNull(zt,go.solveVectorScale(Ot,Pt,Ct,"y",ye)));if(Number.isFinite(zt)&&zt!==0)return j.zoom=Mt.zoom+a.ak(zt),j;cu()}handleJumpToCenterZoom(l,f){const b=l.center.lat,S=l.getConstrained(f.center?a.S.convert(f.center):l.center,l.zoom).center;l.setCenter(S.wrap());const R=f.zoom!==void 0?+f.zoom:l.zoom+Gr(b,S.lat);l.zoom!==R&&l.setZoom(R)}handleEaseTo(l,f){const b=l.zoom,S=l.center,R=l.padding,j={roll:l.roll,pitch:l.pitch,bearing:l.bearing},q={roll:f.roll===void 0?l.roll:f.roll,pitch:f.pitch===void 0?l.pitch:f.pitch,bearing:f.bearing===void 0?l.bearing:f.bearing},te=f.zoom!==void 0,fe=!l.isPaddingEqual(f.padding);let ye=!1;const Oe=f.center?a.S.convert(f.center):S,Ee=l.getConstrained(Oe,b).center;yA(l,Ee);const Ne=l.clone();Ne.setCenter(Ee),Ne.setZoom(te?+f.zoom:b+Gr(S.lat,Oe.lat)),Ne.setBearing(f.bearing);const Je=new a.P(a.ah(l.centerPoint.x+f.offsetAsPoint.x,0,l.width),a.ah(l.centerPoint.y+f.offsetAsPoint.y,0,l.height));Ne.setLocationAtPoint(Ee,Je);const ut=(f.offset&&f.offsetAsPoint.mag())>0?Ne.center:Ee,ht=te?+f.zoom:b+Gr(S.lat,ut.lat),ft=b+Gr(S.lat,0),Mt=ht+Gr(ut.lat,0),Ct=a.bA(S.lng,ut.lng),St=a.bA(S.lat,ut.lat),Pt=a.af(Mt-ft);return ye=ht!==b,{easeFunc:zt=>{if(a.be(j,q)||Ya({startEulerAngles:j,endEulerAngles:q,tr:l,k:zt,useSlerp:j.roll!=q.roll}),fe&&l.interpolatePadding(R,f.padding,zt),f.around)a.w("Easing around a point is not supported under globe projection."),l.setLocationAtPoint(f.around,f.aroundPoint);else{const Ot=Mt>ft?Math.min(2,Pt):Math.max(.5,Pt),Ht=Math.pow(Ot,1-zt),fn=eA(S,Ct,St,zt*Ht);l.setCenter(fn.wrap())}if(ye){const Ot=a.C.number(ft,Mt,zt)+Gr(0,l.center.lat);l.setZoom(Ot)}},isZooming:ye,elevationCenter:ut}}handleFlyTo(l,f){const b=f.zoom!==void 0,S=l.center,R=l.zoom,j=l.padding,q=!l.isPaddingEqual(f.padding),te=l.getConstrained(a.S.convert(f.center||f.locationAtOffset),R).center,fe=b?+f.zoom:l.zoom+Gr(l.center.lat,te.lat),ye=l.clone();ye.setCenter(te),ye.setZoom(fe),ye.setBearing(f.bearing);const Oe=new a.P(a.ah(l.centerPoint.x+f.offsetAsPoint.x,0,l.width),a.ah(l.centerPoint.y+f.offsetAsPoint.y,0,l.height));ye.setLocationAtPoint(te,Oe);const Ee=ye.center;yA(l,Ee);const Ne=function(St,Pt,zt){const Ot=dr(Pt),Ht=dr(zt),fn=a.aX(Ot,Ht),Jt=Math.acos(fn),rn=io(St);return Jt/(2*Math.PI)*rn}(l,S,Ee),Je=R+Gr(S.lat,0),ut=fe+Gr(Ee.lat,0),ht=a.af(ut-Je);let ft;if(typeof f.minZoom=="number"){const St=+f.minZoom+Gr(Ee.lat,0),Pt=Math.min(St,Je,ut)+Gr(0,Ee.lat),zt=l.getConstrained(Ee,Pt).zoom+Gr(Ee.lat,0);ft=a.af(zt-Je)}const Mt=a.bA(S.lng,Ee.lng),Ct=a.bA(S.lat,Ee.lat);return{easeFunc:(St,Pt,zt,Ot)=>{const Ht=eA(S,Mt,Ct,zt);q&&l.interpolatePadding(j,f.padding,St);const fn=St===1?Ee:Ht;l.setCenter(fn.wrap());const Jt=Je+a.ak(Pt);l.setZoom(St===1?fe:Jt+Gr(0,fn.lat))},scaleOfZoom:ht,targetCenter:Ee,scaleOfMinZoom:ft,pixelPathLength:Ne}}static solveVectorScale(l,f,b,S,R){const j=S==="x"?[b[0],b[4],b[8],b[12]]:[b[1],b[5],b[9],b[13]],q=[b[3],b[7],b[11],b[15]],te=l[0]*j[0]+l[1]*j[1]+l[2]*j[2],fe=l[0]*q[0]+l[1]*q[1]+l[2]*q[2],ye=f[0]*j[0]+f[1]*j[1]+f[2]*j[2],Oe=f[0]*q[0]+f[1]*q[1]+f[2]*q[2];return ye+R*fe===te+R*Oe||q[3]*(te-ye)+j[3]*(Oe-fe)+te*Oe==ye*fe?null:(ye+j[3]-R*Oe-R*q[3])/(ye-te-R*Oe+R*fe)}static getLesserNonNegativeNonNull(l,f){return f!==null&&f>=0&&f<l?f:l}}class hc{constructor(l){this._globe=l,this._mercatorCameraHelper=new xa,this._verticalPerspectiveCameraHelper=new go}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(l,f){return this.currentHelper.handlePanInertia(l,f)}handleMapControlsRollPitchBearingZoom(l,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(l,f)}handleMapControlsPan(l,f,b){this.currentHelper.handleMapControlsPan(l,f,b)}cameraForBoxAndBearing(l,f,b,S,R){return this.currentHelper.cameraForBoxAndBearing(l,f,b,S,R)}handleJumpToCenterZoom(l,f){this.currentHelper.handleJumpToCenterZoom(l,f)}handleEaseTo(l,f){return this.currentHelper.handleEaseTo(l,f)}handleFlyTo(l,f){return this.currentHelper.handleFlyTo(l,f)}}const Bd=(k,l)=>a.y(k,l&&l.filter(f=>f.identifier!=="source.canvas")),Bm=a.bE();class Sh extends a.E{constructor(l,f={}){var b,S;super(),this._rtlPluginLoaded=()=>{for(const j in this.sourceCaches){const q=this.sourceCaches[j].getSource().type;q!=="vector"&&q!=="geojson"||this.sourceCaches[j].reload()}},this.map=l,this.dispatcher=new xt(gt(),l._getMapId()),this.dispatcher.registerMessageHandler("GG",(j,q)=>this.getGlyphs(j,q)),this.dispatcher.registerMessageHandler("GI",(j,q)=>this.getImages(j,q)),this.imageManager=new ge,this.imageManager.setEventedParent(this);const R=((b=l._container)===null||b===void 0?void 0:b.lang)||typeof document<"u"&&((S=document.documentElement)===null||S===void 0?void 0:S.lang)||void 0;this.glyphManager=new be(l._requestManager,f.localIdeographFontFamily,R),this.lineAtlas=new it(256,512),this.crossTileSymbolIndex=new Xs,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.bF,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",a.bG()),De().on(Oi,this._rtlPluginLoaded),this.on("data",j=>{if(j.dataType!=="source"||j.sourceDataType!=="metadata")return;const q=this.sourceCaches[j.sourceId];if(!q)return;const te=q.getSource();if(te&&te.vectorLayerIds)for(const fe in this._layers){const ye=this._layers[fe];ye.source===te.id&&this._validateLayer(ye)}})}setGlobalStateProperty(l,f){var b,S,R;this._checkLoaded();const j=f===null?(R=(S=(b=this.stylesheet.state)===null||b===void 0?void 0:b[l])===null||S===void 0?void 0:S.default)!==null&&R!==void 0?R:null:f;if(a.bH(j,this._globalState[l]))return this;this._globalState[l]=j,this._applyGlobalStateChanges([l])}getGlobalState(){return this._globalState}setGlobalState(l){this._checkLoaded();const f=[];for(const b in l)!a.bH(this._globalState[b],l[b].default)&&(f.push(b),this._globalState[b]=l[b].default);this._applyGlobalStateChanges(f)}_applyGlobalStateChanges(l){if(l.length===0)return;const f=new Set;for(const b in this._layers){const S=this._layers[b],R=S.getLayoutAffectingGlobalStateRefs(),j=S.getPaintAffectingGlobalStateRefs();for(const q of l)if(R.has(q)&&f.add(S.source),j.has(q))for(const{name:te,value:fe}of j.get(q))this._updatePaintProperty(S,te,fe)}for(const b in this.sourceCaches)f.has(b)&&(this._reloadSource(b),this._changed=!0)}loadURL(l,f={},b){this.fire(new a.l("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const S=this.map._requestManager.transformRequest(l,"Style");this._loadStyleRequest=new AbortController;const R=this._loadStyleRequest;a.j(S,this._loadStyleRequest).then(j=>{this._loadStyleRequest=null,this._load(j.data,f,b)}).catch(j=>{this._loadStyleRequest=null,j&&!R.signal.aborted&&this.fire(new a.k(j))})}loadJSON(l,f={},b){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,O.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(l,f,b)}).catch(()=>{})}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(Bm,{validate:!1})}_load(l,f,b){var S,R;let j=f.transformStyle?f.transformStyle(b,l):l;if(!f.validate||!Bd(this,a.z(j))){j=Object.assign({},j),this._loaded=!0,this.stylesheet=j;for(const q in j.sources)this.addSource(q,j.sources[q],{validate:!1});j.sprite?this._loadSprite(j.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(j.glyphs),this._createLayers(),this.light=new Fe(this.stylesheet.light),this._setProjectionInternal(((S=this.stylesheet.projection)===null||S===void 0?void 0:S.type)||"mercator"),this.sky=new mt(this.stylesheet.sky),this.map.setTerrain((R=this.stylesheet.terrain)!==null&&R!==void 0?R:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){var l;const f=a.bI(this.stylesheet.layers);this.dispatcher.broadcast("SL",f),this._order=f.map(b=>b.id),this._layers={},this.setGlobalState((l=this.stylesheet.state)!==null&&l!==void 0?l:null),this._serializedLayers=null;for(const b of f){const S=a.bJ(b);S.setEventedParent(this,{layer:{id:b.id}}),S.setGlobalState(this._globalState),this._layers[b.id]=S}}_loadSprite(l,f=!1,b=void 0){let S;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(R,j,q,te){return a._(this,void 0,void 0,function*(){const fe=J(R),ye=q>1?"@2x":"",Oe={},Ee={};for(const{id:Ne,url:Je}of fe){const ut=j.transformRequest(W(Je,ye,".json"),"SpriteJSON");Oe[Ne]=a.j(ut,te);const ht=j.transformRequest(W(Je,ye,".png"),"SpriteImage");Ee[Ne]=ne.getImage(ht,te)}return yield Promise.all([...Object.values(Oe),...Object.values(Ee)]),function(Ne,Je){return a._(this,void 0,void 0,function*(){const ut={};for(const ht in Ne){ut[ht]={};const ft=O.getImageCanvasContext((yield Je[ht]).data),Mt=(yield Ne[ht]).data;for(const Ct in Mt){const{width:St,height:Pt,x:zt,y:Ot,sdf:Ht,pixelRatio:fn,stretchX:Jt,stretchY:rn,content:An,textFitWidth:$n,textFitHeight:Yn}=Mt[Ct];ut[ht][Ct]={data:null,pixelRatio:fn,sdf:Ht,stretchX:Jt,stretchY:rn,content:An,textFitWidth:$n,textFitHeight:Yn,spriteData:{width:St,height:Pt,x:zt,y:Ot,context:ft}}}}return ut})}(Oe,Ee)})}(l,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(R=>{if(this._spriteRequest=null,R)for(const j in R){this._spritesImagesIds[j]=[];const q=this._spritesImagesIds[j]?this._spritesImagesIds[j].filter(te=>!(te in R)):[];for(const te of q)this.imageManager.removeImage(te),this._changedImages[te]=!0;for(const te in R[j]){const fe=j==="default"?te:`${j}:${te}`;this._spritesImagesIds[j].push(fe),fe in this.imageManager.images?this.imageManager.updateImage(fe,R[j][te],!1):this.imageManager.addImage(fe,R[j][te]),f&&(this._changedImages[fe]=!0)}}}).catch(R=>{this._spriteRequest=null,S=R,this.fire(new a.k(S))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),b&&b(S)})}_unloadSprite(){for(const l of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(l),this._changedImages[l]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(l){const f=this.sourceCaches[l.source];if(!f)return;const b=l.sourceLayer;if(!b)return;const S=f.getSource();(S.type==="geojson"||S.vectorLayerIds&&S.vectorLayerIds.indexOf(b)===-1)&&this.fire(new a.k(new Error(`Source layer "${b}" does not exist on source "${S.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(l,f=!1){const b=this._serializedAllLayers();if(!l||l.length===0)return Object.values(f?a.bK(b):b);const S=[];for(const R of l)if(b[R]){const j=f?a.bK(b[R]):b[R];S.push(j)}return S}_serializedAllLayers(){let l=this._serializedLayers;if(l)return l;l=this._serializedLayers={};const f=Object.keys(this._layers);for(const b of f){const S=this._layers[b];S.type!=="custom"&&(l[b]=S.serialize())}return l}hasTransitions(){var l,f,b;if(!((l=this.light)===null||l===void 0)&&l.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((b=this.projection)===null||b===void 0)&&b.hasTransition())return!0;for(const S in this.sourceCaches)if(this.sourceCaches[S].hasTransition())return!0;for(const S in this._layers)if(this._layers[S].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(!this._loaded)return;const f=this._changed;if(f){const S=Object.keys(this._updatedLayers),R=Object.keys(this._removedLayers);(S.length||R.length)&&this._updateWorkerLayers(S,R);for(const j in this._updatedSources){const q=this._updatedSources[j];if(q==="reload")this._reloadSource(j);else{if(q!=="clear")throw new Error(`Invalid action ${q}`);this._clearSource(j)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const j in this._updatedPaintProps)this._layers[j].updateTransitions(l);this.light.updateTransitions(l),this.sky.updateTransitions(l),this._resetUpdates()}const b={};for(const S in this.sourceCaches){const R=this.sourceCaches[S];b[S]=R.used,R.used=!1}for(const S of this._order){const R=this._layers[S];R.recalculate(l,this._availableImages),!R.isHidden(l.zoom)&&R.source&&(this.sourceCaches[R.source].used=!0)}for(const S in b){const R=this.sourceCaches[S];!!b[S]!=!!R.used&&R.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:S}))}this.light.recalculate(l),this.sky.recalculate(l),this.projection.recalculate(l),this.z=l.zoom,f&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(l,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(l,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(l,f={}){var b;this._checkLoaded();const S=this.serialize();if(l=f.transformStyle?f.transformStyle(S,l):l,((b=f.validate)===null||b===void 0||b)&&Bd(this,a.z(l)))return!1;(l=a.bK(l)).layers=a.bI(l.layers);const R=a.bL(S,l),j=this._getOperationsToPerform(R);if(j.unimplemented.length>0)throw new Error(`Unimplemented: ${j.unimplemented.join(", ")}.`);if(j.operations.length===0)return!1;for(const q of j.operations)q();return this.stylesheet=l,this._serializedLayers=null,!0}_getOperationsToPerform(l){const f=[],b=[];for(const S of l)switch(S.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push(()=>this.addLayer.apply(this,S.args));break;case"removeLayer":f.push(()=>this.removeLayer.apply(this,S.args));break;case"setPaintProperty":f.push(()=>this.setPaintProperty.apply(this,S.args));break;case"setLayoutProperty":f.push(()=>this.setLayoutProperty.apply(this,S.args));break;case"setFilter":f.push(()=>this.setFilter.apply(this,S.args));break;case"addSource":f.push(()=>this.addSource.apply(this,S.args));break;case"removeSource":f.push(()=>this.removeSource.apply(this,S.args));break;case"setLayerZoomRange":f.push(()=>this.setLayerZoomRange.apply(this,S.args));break;case"setLight":f.push(()=>this.setLight.apply(this,S.args));break;case"setGeoJSONSourceData":f.push(()=>this.setGeoJSONSourceData.apply(this,S.args));break;case"setGlyphs":f.push(()=>this.setGlyphs.apply(this,S.args));break;case"setSprite":f.push(()=>this.setSprite.apply(this,S.args));break;case"setTerrain":f.push(()=>this.map.setTerrain.apply(this,S.args));break;case"setSky":f.push(()=>this.setSky.apply(this,S.args));break;case"setProjection":this.setProjection.apply(this,S.args);break;case"setGlobalState":f.push(()=>this.setGlobalState.apply(this,S.args));break;case"setTransition":f.push(()=>{});break;default:b.push(S.command)}return{operations:f,unimplemented:b}}addImage(l,f){if(this.getImage(l))return this.fire(new a.k(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,f),this._afterImageUpdated(l)}updateImage(l,f){this.imageManager.updateImage(l,f)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new a.k(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,f,b={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(a.z.source,`sources.${l}`,f,null,b))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const S=this.sourceCaches[l]=new Rn(l,f,this.dispatcher);S.style=this,S.setEventedParent(this,()=>({isSourceLoaded:S.loaded(),source:S.serialize(),sourceId:l})),S.onAdd(this.map),this._changed=!0}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===l)return this.fire(new a.k(new Error(`Source "${l}" cannot be removed while layer "${b}" is using it.`)));const f=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],f.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,f){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error(`There is no source with this ID=${l}`);const b=this.sourceCaches[l].getSource();if(b.type!=="geojson")throw new Error(`geojsonSource.type is ${b.type}, which is !== 'geojson`);b.setData(f),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,f,b={}){this._checkLoaded();const S=l.id;if(this.getLayer(S))return void this.fire(new a.k(new Error(`Layer "${S}" already exists on this map.`)));let R;if(l.type==="custom"){if(Bd(this,a.bM(l)))return;R=a.bJ(l)}else{if("source"in l&&typeof l.source=="object"&&(this.addSource(S,l.source),l=a.bK(l),l=a.e(l,{source:S})),this._validate(a.z.layer,`layers.${S}`,l,{arrayIndex:-1},b))return;R=a.bJ(l),this._validateLayer(R),R.setEventedParent(this,{layer:{id:S}})}const j=f?this._order.indexOf(f):this._order.length;if(f&&j===-1)this.fire(new a.k(new Error(`Cannot add layer "${S}" before non-existing layer "${f}".`)));else{if(this._order.splice(j,0,S),this._layerOrderChanged=!0,this._layers[S]=R,this._removedLayers[S]&&R.source&&R.type!=="custom"){const q=this._removedLayers[S];delete this._removedLayers[S],q.type!==R.type?this._updatedSources[R.source]="clear":(this._updatedSources[R.source]="reload",this.sourceCaches[R.source].pause())}this._updateLayer(R),R.onAdd&&R.onAdd(this.map)}}moveLayer(l,f){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new a.k(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===f)return;const b=this._order.indexOf(l);this._order.splice(b,1);const S=f?this._order.indexOf(f):this._order.length;f&&S===-1?this.fire(new a.k(new Error(`Cannot move layer "${l}" before non-existing layer "${f}".`))):(this._order.splice(S,0,l),this._layerOrderChanged=!0)}removeLayer(l){this._checkLoaded();const f=this._layers[l];if(!f)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${l}".`)));f.setEventedParent(null);const b=this._order.indexOf(l);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=f,delete this._layers[l],this._serializedLayers&&delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],f.onRemove&&f.onRemove(this.map)}getLayer(l){return this._layers[l]}getLayersOrder(){return[...this._order]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,f,b){this._checkLoaded();const S=this.getLayer(l);S?S.minzoom===f&&S.maxzoom===b||(f!=null&&(S.minzoom=f),b!=null&&(S.maxzoom=b),this._updateLayer(S)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,f,b={}){this._checkLoaded();const S=this.getLayer(l);if(S){if(!a.bH(S.filter,f))return f==null?(S.setFilter(void 0),void this._updateLayer(S)):void(this._validate(a.z.filter,`layers.${S.id}.filter`,f,null,b)||(S.setFilter(a.bK(f)),this._updateLayer(S)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return a.bK(this.getLayer(l).filter)}setLayoutProperty(l,f,b,S={}){this._checkLoaded();const R=this.getLayer(l);R?a.bH(R.getLayoutProperty(f),b)||(R.setLayoutProperty(f,b,S),this._updateLayer(R)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,f){const b=this.getLayer(l);if(b)return b.getLayoutProperty(f);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,f,b,S={}){this._checkLoaded();const R=this.getLayer(l);R?a.bH(R.getPaintProperty(f),b)||this._updatePaintProperty(R,f,b,S):this.fire(new a.k(new Error(`Cannot style non-existing layer "${l}".`)))}_updatePaintProperty(l,f,b,S={}){l.setPaintProperty(f,b,S)&&this._updateLayer(l),this._changed=!0,this._updatedPaintProps[l.id]=!0,this._serializedLayers=null}getPaintProperty(l,f){return this.getLayer(l).getPaintProperty(f)}setFeatureState(l,f){this._checkLoaded();const b=l.source,S=l.sourceLayer,R=this.sourceCaches[b];if(R===void 0)return void this.fire(new a.k(new Error(`The source '${b}' does not exist in the map's style.`)));const j=R.getSource().type;j==="geojson"&&S?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):j!=="vector"||S?(l.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),R.setFeatureState(S,l.id,f)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,f){this._checkLoaded();const b=l.source,S=this.sourceCaches[b];if(S===void 0)return void this.fire(new a.k(new Error(`The source '${b}' does not exist in the map's style.`)));const R=S.getSource().type,j=R==="vector"?l.sourceLayer:void 0;R!=="vector"||j?f&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):S.removeFeatureState(j,l.id,f):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(l){this._checkLoaded();const f=l.source,b=l.sourceLayer,S=this.sourceCaches[f];if(S!==void 0)return S.getSource().type!=="vector"||b?(l.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),S.getFeatureState(b,l.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const l=a.bN(this.sourceCaches,R=>R.serialize()),f=this._serializeByIds(this._order,!0),b=this.map.getTerrain()||void 0,S=this.stylesheet;return a.bO({version:S.version,name:S.name,metadata:S.metadata,light:S.light,sky:S.sky,center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,sprite:S.sprite,glyphs:S.glyphs,transition:S.transition,projection:S.projection,sources:l,layers:f,terrain:b},R=>R!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(l){const f=j=>this._layers[j].type==="fill-extrusion",b={},S=[];for(let j=this._order.length-1;j>=0;j--){const q=this._order[j];if(f(q)){b[q]=j;for(const te of l){const fe=te[q];if(fe)for(const ye of fe)S.push(ye)}}}S.sort((j,q)=>q.intersectionZ-j.intersectionZ);const R=[];for(let j=this._order.length-1;j>=0;j--){const q=this._order[j];if(f(q))for(let te=S.length-1;te>=0;te--){const fe=S[te].feature;if(b[fe.layer.id]<j)break;R.push(fe),S.pop()}else for(const te of l){const fe=te[q];if(fe)for(const ye of fe)R.push(ye.feature)}}return R}queryRenderedFeatures(l,f,b){f&&f.filter&&this._validate(a.z.filter,"queryRenderedFeatures.filter",f.filter,null,f);const S={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const fe of f.layers){const ye=this._layers[fe];if(!ye)return this.fire(new a.k(new Error(`The layer '${fe}' does not exist in the map's style and cannot be queried for features.`))),[];S[ye.source]=!0}}const R=[];f.availableImages=this._availableImages;const j=this._serializedAllLayers(),q=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,te=Object.assign(Object.assign({},f),{layers:q});for(const fe in this.sourceCaches)f.layers&&!S[fe]||R.push(Ke(this.sourceCaches[fe],this._layers,j,l,te,b,this.map.terrain?(ye,Oe,Ee)=>this.map.terrain.getElevation(ye,Oe,Ee):void 0));return this.placement&&R.push(function(fe,ye,Oe,Ee,Ne,Je,ut){const ht={},ft=Je.queryRenderedSymbols(Ee),Mt=[];for(const Ct of Object.keys(ft).map(Number))Mt.push(ut[Ct]);Mt.sort(Ue);for(const Ct of Mt){const St=Ct.featureIndex.lookupSymbolFeatures(ft[Ct.bucketInstanceId],ye,Ct.bucketIndex,Ct.sourceLayerIndex,Ne.filter,Ne.layers,Ne.availableImages,fe);for(const Pt in St){const zt=ht[Pt]=ht[Pt]||[],Ot=St[Pt];Ot.sort((Ht,fn)=>{const Jt=Ct.featureSortOrder;if(Jt){const rn=Jt.indexOf(Ht.featureIndex);return Jt.indexOf(fn.featureIndex)-rn}return fn.featureIndex-Ht.featureIndex});for(const Ht of Ot)zt.push(Ht)}}return function(Ct,St,Pt){for(const zt in Ct)for(const Ot of Ct[zt])Ve(Ot,Pt[St[zt].source]);return Ct}(ht,fe,Oe)}(this._layers,j,this.sourceCaches,l,te,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(R)}querySourceFeatures(l,f){f&&f.filter&&this._validate(a.z.filter,"querySourceFeatures.filter",f.filter,null,f);const b=this.sourceCaches[l];return b?function(S,R){const j=S.getRenderableIds().map(fe=>S.getTileByID(fe)),q=[],te={};for(let fe=0;fe<j.length;fe++){const ye=j[fe],Oe=ye.tileID.canonical.key;te[Oe]||(te[Oe]=!0,ye.querySourceFeatures(q,R))}return q}(b,f):[]}getLight(){return this.light.getLight()}setLight(l,f={}){this._checkLoaded();const b=this.light.getLight();let S=!1;for(const j in l)if(!a.bH(l[j],b[j])){S=!0;break}if(!S)return;const R={now:O.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,f),this.light.updateTransitions(R)}getProjection(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.projection}setProjection(l){if(this._checkLoaded(),this.projection){if(this.projection.name===l.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=l,this._setProjectionInternal(l.type)}getSky(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.sky}setSky(l,f={}){this._checkLoaded();const b=this.getSky();let S=!1;if(!l&&!b)return;if(l&&!b)S=!0;else if(!l&&b)S=!0;else for(const j in l)if(!a.bH(l[j],b[j])){S=!0;break}if(!S)return;const R={now:O.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=l,this.sky.setSky(l,f),this.sky.updateTransitions(R)}_setProjectionInternal(l){const f=function(b){if(Array.isArray(b)){const S=new tr({type:b});return{projection:S,transform:new $h,cameraHelper:new hc(S)}}switch(b){case"mercator":return{projection:new Sr,transform:new Ur,cameraHelper:new xa};case"globe":{const S=new tr({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:S,transform:new $h,cameraHelper:new hc(S)}}case"vertical-perspective":return{projection:new lr,transform:new wh,cameraHelper:new go};default:return a.w(`Unknown projection name: ${b}. Falling back to mercator projection.`),{projection:new Sr,transform:new Ur,cameraHelper:new xa}}}(l);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(const b in this.sourceCaches)this.sourceCaches[b].reload()}_validate(l,f,b,S,R={}){return(!R||R.validate!==!1)&&Bd(this,l.call(a.z,a.e({key:f,style:this.serialize(),value:b,styleSpec:a.v},S)))}_remove(l=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),De().off(Oi,this._rtlPluginLoaded);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const b=this.sourceCaches[f];b.setEventedParent(null),b.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),l&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(l)}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const f in this.sourceCaches)this.sourceCaches[f].update(l,this.map.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,f,b,S,R=!1){let j=!1,q=!1;const te={};for(const fe of this._order){const ye=this._layers[fe];if(ye.type!=="symbol")continue;if(!te[ye.source]){const Ee=this.sourceCaches[ye.source];te[ye.source]=Ee.getRenderableIds(!0).map(Ne=>Ee.getTileByID(Ne)).sort((Ne,Je)=>Je.tileID.overscaledZ-Ne.tileID.overscaledZ||(Ne.tileID.isLessThan(Je.tileID)?-1:1))}const Oe=this.crossTileSymbolIndex.addLayer(ye,te[ye.source],l.center.lng);j=j||Oe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((R=R||this._layerOrderChanged||b===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(O.now(),l.zoom))&&(this.pauseablePlacement=new jA(l,this.map.terrain,this._order,R,f,b,S,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,te),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(O.now()),q=!0),j&&this.pauseablePlacement.placement.setStale()),q||j)for(const fe of this._order){const ye=this._layers[fe];ye.type==="symbol"&&this.placement.updateLayerOpacities(ye,te[ye.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(O.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,f){return a._(this,void 0,void 0,function*(){const b=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();const S=this.sourceCaches[f.source];return S&&S.setDependencies(f.tileID.key,f.type,f.icons),b})}getGlyphs(l,f){return a._(this,void 0,void 0,function*(){const b=yield this.glyphManager.getGlyphs(f.stacks),S=this.sourceCaches[f.source];return S&&S.setDependencies(f.tileID.key,f.type,[""]),b})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(l,f={}){this._checkLoaded(),l&&this._validate(a.z.glyphs,"glyphs",l,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=l,this.glyphManager.entries={},this.glyphManager.setURL(l))}addSprite(l,f,b={},S){this._checkLoaded();const R=[{id:l,url:f}],j=[...J(this.stylesheet.sprite),...R];this._validate(a.z.sprite,"sprite",j,null,b)||(this.stylesheet.sprite=j,this._loadSprite(R,!0,S))}removeSprite(l){this._checkLoaded();const f=J(this.stylesheet.sprite);if(f.find(b=>b.id===l)){if(this._spritesImagesIds[l])for(const b of this._spritesImagesIds[l])this.imageManager.removeImage(b),this._changedImages[b]=!0;f.splice(f.findIndex(b=>b.id===l),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[l],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${l}" doesn't exists on this map.`)))}getSprite(){return J(this.stylesheet.sprite)}setSprite(l,f={},b){this._checkLoaded(),l&&this._validate(a.z.sprite,"sprite",l,null,f)||(this.stylesheet.sprite=l,l?this._loadSprite(l,!0,b):(this._unloadSprite(),b&&b(null)))}}var Od=a.aJ([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class b0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,f,b,S,R,j,q,te,fe){this.context=l;let ye=this.boundPaintVertexBuffers.length!==S.length;for(let Oe=0;!ye&&Oe<S.length;Oe++)this.boundPaintVertexBuffers[Oe]!==S[Oe]&&(ye=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==b||ye||this.boundIndexBuffer!==R||this.boundVertexOffset!==j||this.boundDynamicVertexBuffer!==q||this.boundDynamicVertexBuffer2!==te||this.boundDynamicVertexBuffer3!==fe?this.freshBind(f,b,S,R,j,q,te,fe):(l.bindVertexArray.set(this.vao),q&&q.bind(),R&&R.dynamicDraw&&R.bind(),te&&te.bind(),fe&&fe.bind())}freshBind(l,f,b,S,R,j,q,te){const fe=l.numAttributes,ye=this.context,Oe=ye.gl;this.vao&&this.destroy(),this.vao=ye.createVertexArray(),ye.bindVertexArray.set(this.vao),this.boundProgram=l,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=S,this.boundVertexOffset=R,this.boundDynamicVertexBuffer=j,this.boundDynamicVertexBuffer2=q,this.boundDynamicVertexBuffer3=te,f.enableAttributes(Oe,l);for(const Ee of b)Ee.enableAttributes(Oe,l);j&&j.enableAttributes(Oe,l),q&&q.enableAttributes(Oe,l),te&&te.enableAttributes(Oe,l),f.bind(),f.setVertexAttribPointers(Oe,l,R);for(const Ee of b)Ee.bind(),Ee.setVertexAttribPointers(Oe,l,R);j&&(j.bind(),j.setVertexAttribPointers(Oe,l,R)),S&&S.bind(),q&&(q.bind(),q.setVertexAttribPointers(Oe,l,R)),te&&(te.bind(),te.setVertexAttribPointers(Oe,l,R)),ye.currentNumAttributes=fe}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Yf=(k,l,f,b,S)=>({u_texture:0,u_ele_delta:k,u_fog_matrix:l,u_fog_color:f?f.properties.get("fog-color"):a.bf.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:S?0:f?f.calculateFogBlendOpacity(b):0,u_horizon_color:f?f.properties.get("horizon-color"):a.bf.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:S?1:0}),qf={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function nA(k){const l=[];for(let f=0;f<k.length;f++){if(k[f]===null)continue;const b=k[f].split(" ");l.push(b.pop())}return l}class as{constructor(l,f,b,S,R,j,q,te,fe=[]){const ye=l.gl;this.program=ye.createProgram();const Oe=nA(f.staticAttributes),Ee=b?b.getBinderAttributes():[],Ne=Oe.concat(Ee),Je=Po.prelude.staticUniforms?nA(Po.prelude.staticUniforms):[],ut=q.staticUniforms?nA(q.staticUniforms):[],ht=f.staticUniforms?nA(f.staticUniforms):[],ft=b?b.getBinderUniforms():[],Mt=Je.concat(ut).concat(ht).concat(ft),Ct=[];for(const Jt of Mt)Ct.indexOf(Jt)<0&&Ct.push(Jt);const St=b?b.defines():[];lt(ye)&&St.unshift("#version 300 es"),R&&St.push("#define OVERDRAW_INSPECTOR;"),j&&St.push("#define TERRAIN3D;"),te&&St.push(te),fe&&St.push(...fe);let Pt=St.concat(Po.prelude.fragmentSource,q.fragmentSource,f.fragmentSource).join(`
`),zt=St.concat(Po.prelude.vertexSource,q.vertexSource,f.vertexSource).join(`
`);lt(ye)||(Pt=function(Jt){return Jt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Pt),zt=function(Jt){return Jt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(zt));const Ot=ye.createShader(ye.FRAGMENT_SHADER);if(ye.isContextLost())return void(this.failedToCreate=!0);if(ye.shaderSource(Ot,Pt),ye.compileShader(Ot),!ye.getShaderParameter(Ot,ye.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${ye.getShaderInfoLog(Ot)}`);ye.attachShader(this.program,Ot);const Ht=ye.createShader(ye.VERTEX_SHADER);if(ye.isContextLost())return void(this.failedToCreate=!0);if(ye.shaderSource(Ht,zt),ye.compileShader(Ht),!ye.getShaderParameter(Ht,ye.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${ye.getShaderInfoLog(Ht)}`);ye.attachShader(this.program,Ht),this.attributes={};const fn={};this.numAttributes=Ne.length;for(let Jt=0;Jt<this.numAttributes;Jt++)Ne[Jt]&&(ye.bindAttribLocation(this.program,Jt,Ne[Jt]),this.attributes[Ne[Jt]]=Jt);if(ye.linkProgram(this.program),!ye.getProgramParameter(this.program,ye.LINK_STATUS))throw new Error(`Program failed to link: ${ye.getProgramInfoLog(this.program)}`);ye.deleteShader(Ht),ye.deleteShader(Ot);for(let Jt=0;Jt<Ct.length;Jt++){const rn=Ct[Jt];if(rn&&!fn[rn]){const An=ye.getUniformLocation(this.program,rn);An&&(fn[rn]=An)}}this.fixedUniforms=S(l,fn),this.terrainUniforms=((Jt,rn)=>({u_depth:new a.bP(Jt,rn.u_depth),u_terrain:new a.bP(Jt,rn.u_terrain),u_terrain_dim:new a.bg(Jt,rn.u_terrain_dim),u_terrain_matrix:new a.bR(Jt,rn.u_terrain_matrix),u_terrain_unpack:new a.bS(Jt,rn.u_terrain_unpack),u_terrain_exaggeration:new a.bg(Jt,rn.u_terrain_exaggeration)}))(l,fn),this.projectionUniforms=((Jt,rn)=>({u_projection_matrix:new a.bR(Jt,rn.u_projection_matrix),u_projection_tile_mercator_coords:new a.bS(Jt,rn.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.bS(Jt,rn.u_projection_clipping_plane),u_projection_transition:new a.bg(Jt,rn.u_projection_transition),u_projection_fallback_matrix:new a.bR(Jt,rn.u_projection_fallback_matrix)}))(l,fn),this.binderUniforms=b?b.getUniforms(l,fn):[]}draw(l,f,b,S,R,j,q,te,fe,ye,Oe,Ee,Ne,Je,ut,ht,ft,Mt,Ct){const St=l.gl;if(this.failedToCreate)return;if(l.program.set(this.program),l.setDepthMode(b),l.setStencilMode(S),l.setColorMode(R),l.setCullFace(j),te){l.activeTexture.set(St.TEXTURE2),St.bindTexture(St.TEXTURE_2D,te.depthTexture),l.activeTexture.set(St.TEXTURE3),St.bindTexture(St.TEXTURE_2D,te.texture);for(const zt in this.terrainUniforms)this.terrainUniforms[zt].set(te[zt])}if(fe)for(const zt in fe)this.projectionUniforms[qf[zt]].set(fe[zt]);if(q)for(const zt in this.fixedUniforms)this.fixedUniforms[zt].set(q[zt]);ht&&ht.setUniforms(l,this.binderUniforms,Je,{zoom:ut});let Pt=0;switch(f){case St.LINES:Pt=2;break;case St.TRIANGLES:Pt=3;break;case St.LINE_STRIP:Pt=1}for(const zt of Ne.get()){const Ot=zt.vaos||(zt.vaos={});(Ot[ye]||(Ot[ye]=new b0)).bind(l,this,Oe,ht?ht.getPaintVertexBuffers():[],Ee,zt.vertexOffset,ft,Mt,Ct),St.drawElements(f,zt.primitiveLength*Pt,St.UNSIGNED_SHORT,zt.primitiveOffset*Pt*2)}}}function Id(k,l,f){const b=1/a.aC(f,1,l.transform.tileZoom),S=Math.pow(2,f.tileID.overscaledZ),R=f.tileSize*Math.pow(2,l.transform.tileZoom)/S,j=R*(f.tileID.canonical.x+f.tileID.wrap*S),q=R*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[b,k.fromScale,k.toScale],u_fade:k.t,u_pixel_coord_upper:[j>>16,q>>16],u_pixel_coord_lower:[65535&j,65535&q]}}const Yl=(k,l,f,b)=>{const S=k.style.light,R=S.properties.get("position"),j=[R.x,R.y,R.z],q=a.bV();S.properties.get("anchor")==="viewport"&&a.bW(q,k.transform.bearingInRadians),a.bX(j,j,q);const te=k.transform.transformLightDirection(j),fe=S.properties.get("color");return{u_lightpos:j,u_lightpos_globe:te,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[fe.r,fe.g,fe.b],u_vertical_gradient:+l,u_opacity:f,u_fill_translate:b}},Td=(k,l,f,b,S,R,j)=>a.e(Yl(k,l,f,b),Id(R,k,j),{u_height_factor:-Math.pow(2,S.overscaledZ)/j.tileSize/8}),Zh=(k,l,f,b)=>a.e(Id(l,k,f),{u_fill_translate:b}),th=(k,l)=>({u_world:k,u_fill_translate:l}),Xh=(k,l,f,b,S)=>a.e(Zh(k,l,f,S),{u_world:b}),Hf=(k,l,f,b,S)=>{const R=k.transform;let j,q,te=0;if(f.paint.get("circle-pitch-alignment")==="map"){const fe=a.aC(l,1,R.zoom);j=!0,q=[fe,fe],te=fe/(a.$*Math.pow(2,l.tileID.overscaledZ))*2*Math.PI*S}else j=!1,q=R.pixelsToGLUnits;return{u_camera_to_center_distance:R.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+j,u_device_pixel_ratio:k.pixelRatio,u_extrude_scale:q,u_globe_extrude_scale:te,u_translate:b}},Eh=k=>({u_pixel_extrude_scale:[1/k.width,1/k.height]}),Bh=k=>({u_viewport_size:[k.width,k.height]}),Jh=(k,l=1)=>({u_color:k,u_overlay:0,u_overlay_scale:l}),Vf=(k,l,f,b)=>{const S=a.aC(k,1,l)/(a.$*Math.pow(2,k.tileID.overscaledZ))*2*Math.PI*b;return{u_extrude_scale:a.aC(k,1,l),u_intensity:f,u_globe_extrude_scale:S}},hu=(k,l,f,b)=>{const S=a.L();a.bY(S,0,k.width,k.height,0,0,1);const R=k.context.gl;return{u_matrix:S,u_world:[R.drawingBufferWidth,R.drawingBufferHeight],u_image:f,u_color_ramp:b,u_opacity:l.paint.get("heatmap-opacity")}},$f=(k,l,f)=>{const b=f.paint.get("hillshade-accent-color");let S;switch(f.paint.get("hillshade-method")){case"basic":S=4;break;case"combined":S=1;break;case"igor":S=2;break;case"multidirectional":S=3;break;default:S=0}const R=f.getIlluminationProperties();for(let j=0;j<R.directionRadians.length;j++)f.paint.get("hillshade-illumination-anchor")==="viewport"&&(R.directionRadians[j]+=k.transform.bearingInRadians);return{u_image:0,u_latrange:du(0,l.tileID),u_exaggeration:f.paint.get("hillshade-exaggeration"),u_altitudes:R.altitudeRadians,u_azimuths:R.directionRadians,u_accent:b,u_method:S,u_highlights:R.highlightColor,u_shadows:R.shadowColor}},dc=(k,l)=>{const f=l.stride,b=a.L();return a.bY(b,0,a.$,-a.$,0,0,1),a.M(b,b,[0,-a.$,0]),{u_matrix:b,u_image:1,u_dimension:[f,f],u_zoom:k.overscaledZ,u_unpack:l.getUnpackVector()}};function du(k,l){const f=Math.pow(2,l.canonical.z),b=l.canonical.y;return[new a.a1(0,b/f).toLngLat().lat,new a.a1(0,(b+1)/f).toLngLat().lat]}const kc=(k,l,f=0)=>({u_image:0,u_unpack:l.getUnpackVector(),u_dimension:[l.stride,l.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:f,u_opacity:k.paint.get("color-relief-opacity")}),kd=(k,l,f,b)=>{const S=k.transform;return{u_translation:Dc(k,l,f),u_ratio:b/a.aC(l,1,S.zoom),u_device_pixel_ratio:k.pixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},Dd=(k,l,f,b,S)=>a.e(kd(k,l,f,b),{u_image:0,u_image_height:S}),GA=(k,l,f,b,S)=>{const R=k.transform,j=ed(l,R);return{u_translation:Dc(k,l,f),u_texsize:l.imageAtlasTexture.size,u_ratio:b/a.aC(l,1,R.zoom),u_device_pixel_ratio:k.pixelRatio,u_image:0,u_scale:[j,S.fromScale,S.toScale],u_fade:S.t,u_units_to_pixels:[1/R.pixelsToGLUnits[0],1/R.pixelsToGLUnits[1]]}},iA=(k,l,f,b,S,R)=>{const j=k.lineAtlas,q=ed(l,k.transform),te=f.layout.get("line-cap")==="round",fe=j.getDash(S.from,te),ye=j.getDash(S.to,te),Oe=fe.width*R.fromScale,Ee=ye.width*R.toScale;return a.e(kd(k,l,f,b),{u_patternscale_a:[q/Oe,-fe.height/2],u_patternscale_b:[q/Ee,-ye.height/2],u_sdfgamma:j.width/(256*Math.min(Oe,Ee)*k.pixelRatio)/2,u_image:0,u_tex_y_a:fe.y,u_tex_y_b:ye.y,u_mix:R.t})};function ed(k,l){return 1/a.aC(k,1,l.tileZoom)}function Dc(k,l,f){return a.aD(k.transform,l,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const td=(k,l,f,b,S)=>{return{u_tl_parent:k,u_scale_parent:l,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*b.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:b.paint.get("raster-brightness-min"),u_brightness_high:b.paint.get("raster-brightness-max"),u_saturation_factor:(j=b.paint.get("raster-saturation"),j>0?1-1/(1.001-j):-j),u_contrast_factor:(R=b.paint.get("raster-contrast"),R>0?1/(1-R):1+R),u_spin_weights:Om(b.paint.get("raster-hue-rotate")),u_coords_top:[S[0].x,S[0].y,S[1].x,S[1].y],u_coords_bottom:[S[3].x,S[3].y,S[2].x,S[2].y]};var R,j};function Om(k){k*=Math.PI/180;const l=Math.sin(k),f=Math.cos(k);return[(2*f+1)/3,(-Math.sqrt(3)*l-f+1)/3,(Math.sqrt(3)*l-f+1)/3]}const nh=(k,l,f,b,S,R,j,q,te,fe,ye,Oe,Ee)=>{const Ne=j.transform;return{u_is_size_zoom_constant:+(k==="constant"||k==="source"),u_is_size_feature_constant:+(k==="constant"||k==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:Ne.cameraToCenterDistance,u_pitch:Ne.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:Ne.width/Ne.height,u_fade_change:j.options.fadeDuration?j.symbolFadeChange:1,u_label_plane_matrix:q,u_coord_matrix:te,u_is_text:+ye,u_pitch_with_map:+b,u_is_along_line:S,u_is_variable_anchor:R,u_texsize:Oe,u_texture:0,u_translation:fe,u_pitched_scale:Ee}},uf=(k,l,f,b,S,R,j,q,te,fe,ye,Oe,Ee,Ne)=>{const Je=j.transform;return a.e(nh(k,l,f,b,S,R,j,q,te,fe,ye,Oe,Ne),{u_gamma_scale:b?Math.cos(Je.pitch*Math.PI/180)*Je.cameraToCenterDistance:1,u_device_pixel_ratio:j.pixelRatio,u_is_halo:1})},vA=(k,l,f,b,S,R,j,q,te,fe,ye,Oe,Ee)=>a.e(uf(k,l,f,b,S,R,j,q,te,fe,!0,ye,0,Ee),{u_texsize_icon:Oe,u_texture_icon:1}),rA=(k,l)=>({u_opacity:k,u_color:l}),Fp=(k,l,f,b,S)=>a.e(function(R,j,q,te){const fe=q.imageManager.getPattern(R.from.toString()),ye=q.imageManager.getPattern(R.to.toString()),{width:Oe,height:Ee}=q.imageManager.getPixelSize(),Ne=Math.pow(2,te.tileID.overscaledZ),Je=te.tileSize*Math.pow(2,q.transform.tileZoom)/Ne,ut=Je*(te.tileID.canonical.x+te.tileID.wrap*Ne),ht=Je*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:fe.tl,u_pattern_br_a:fe.br,u_pattern_tl_b:ye.tl,u_pattern_br_b:ye.br,u_texsize:[Oe,Ee],u_mix:j.t,u_pattern_size_a:fe.displaySize,u_pattern_size_b:ye.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/a.aC(te,1,q.transform.tileZoom),u_pixel_coord_upper:[ut>>16,ht>>16],u_pixel_coord_lower:[65535&ut,65535&ht]}}(f,S,l,b),{u_opacity:k}),Zf=(k,l)=>{},Tu={fillExtrusion:(k,l)=>({u_lightpos:new a.bT(k,l.u_lightpos),u_lightpos_globe:new a.bT(k,l.u_lightpos_globe),u_lightintensity:new a.bg(k,l.u_lightintensity),u_lightcolor:new a.bT(k,l.u_lightcolor),u_vertical_gradient:new a.bg(k,l.u_vertical_gradient),u_opacity:new a.bg(k,l.u_opacity),u_fill_translate:new a.bU(k,l.u_fill_translate)}),fillExtrusionPattern:(k,l)=>({u_lightpos:new a.bT(k,l.u_lightpos),u_lightpos_globe:new a.bT(k,l.u_lightpos_globe),u_lightintensity:new a.bg(k,l.u_lightintensity),u_lightcolor:new a.bT(k,l.u_lightcolor),u_vertical_gradient:new a.bg(k,l.u_vertical_gradient),u_height_factor:new a.bg(k,l.u_height_factor),u_opacity:new a.bg(k,l.u_opacity),u_fill_translate:new a.bU(k,l.u_fill_translate),u_image:new a.bP(k,l.u_image),u_texsize:new a.bU(k,l.u_texsize),u_pixel_coord_upper:new a.bU(k,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bU(k,l.u_pixel_coord_lower),u_scale:new a.bT(k,l.u_scale),u_fade:new a.bg(k,l.u_fade)}),fill:(k,l)=>({u_fill_translate:new a.bU(k,l.u_fill_translate)}),fillPattern:(k,l)=>({u_image:new a.bP(k,l.u_image),u_texsize:new a.bU(k,l.u_texsize),u_pixel_coord_upper:new a.bU(k,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bU(k,l.u_pixel_coord_lower),u_scale:new a.bT(k,l.u_scale),u_fade:new a.bg(k,l.u_fade),u_fill_translate:new a.bU(k,l.u_fill_translate)}),fillOutline:(k,l)=>({u_world:new a.bU(k,l.u_world),u_fill_translate:new a.bU(k,l.u_fill_translate)}),fillOutlinePattern:(k,l)=>({u_world:new a.bU(k,l.u_world),u_image:new a.bP(k,l.u_image),u_texsize:new a.bU(k,l.u_texsize),u_pixel_coord_upper:new a.bU(k,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bU(k,l.u_pixel_coord_lower),u_scale:new a.bT(k,l.u_scale),u_fade:new a.bg(k,l.u_fade),u_fill_translate:new a.bU(k,l.u_fill_translate)}),circle:(k,l)=>({u_camera_to_center_distance:new a.bg(k,l.u_camera_to_center_distance),u_scale_with_map:new a.bP(k,l.u_scale_with_map),u_pitch_with_map:new a.bP(k,l.u_pitch_with_map),u_extrude_scale:new a.bU(k,l.u_extrude_scale),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_globe_extrude_scale:new a.bg(k,l.u_globe_extrude_scale),u_translate:new a.bU(k,l.u_translate)}),collisionBox:(k,l)=>({u_pixel_extrude_scale:new a.bU(k,l.u_pixel_extrude_scale)}),collisionCircle:(k,l)=>({u_viewport_size:new a.bU(k,l.u_viewport_size)}),debug:(k,l)=>({u_color:new a.bQ(k,l.u_color),u_overlay:new a.bP(k,l.u_overlay),u_overlay_scale:new a.bg(k,l.u_overlay_scale)}),depth:Zf,clippingMask:Zf,heatmap:(k,l)=>({u_extrude_scale:new a.bg(k,l.u_extrude_scale),u_intensity:new a.bg(k,l.u_intensity),u_globe_extrude_scale:new a.bg(k,l.u_globe_extrude_scale)}),heatmapTexture:(k,l)=>({u_matrix:new a.bR(k,l.u_matrix),u_world:new a.bU(k,l.u_world),u_image:new a.bP(k,l.u_image),u_color_ramp:new a.bP(k,l.u_color_ramp),u_opacity:new a.bg(k,l.u_opacity)}),hillshade:(k,l)=>({u_image:new a.bP(k,l.u_image),u_latrange:new a.bU(k,l.u_latrange),u_exaggeration:new a.bg(k,l.u_exaggeration),u_altitudes:new a.b_(k,l.u_altitudes),u_azimuths:new a.b_(k,l.u_azimuths),u_accent:new a.bQ(k,l.u_accent),u_method:new a.bP(k,l.u_method),u_shadows:new a.bZ(k,l.u_shadows),u_highlights:new a.bZ(k,l.u_highlights)}),hillshadePrepare:(k,l)=>({u_matrix:new a.bR(k,l.u_matrix),u_image:new a.bP(k,l.u_image),u_dimension:new a.bU(k,l.u_dimension),u_zoom:new a.bg(k,l.u_zoom),u_unpack:new a.bS(k,l.u_unpack)}),colorRelief:(k,l)=>({u_image:new a.bP(k,l.u_image),u_unpack:new a.bS(k,l.u_unpack),u_dimension:new a.bU(k,l.u_dimension),u_elevation_stops:new a.bP(k,l.u_elevation_stops),u_color_stops:new a.bP(k,l.u_color_stops),u_color_ramp_size:new a.bP(k,l.u_color_ramp_size),u_opacity:new a.bg(k,l.u_opacity)}),line:(k,l)=>({u_translation:new a.bU(k,l.u_translation),u_ratio:new a.bg(k,l.u_ratio),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_units_to_pixels:new a.bU(k,l.u_units_to_pixels)}),lineGradient:(k,l)=>({u_translation:new a.bU(k,l.u_translation),u_ratio:new a.bg(k,l.u_ratio),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_units_to_pixels:new a.bU(k,l.u_units_to_pixels),u_image:new a.bP(k,l.u_image),u_image_height:new a.bg(k,l.u_image_height)}),linePattern:(k,l)=>({u_translation:new a.bU(k,l.u_translation),u_texsize:new a.bU(k,l.u_texsize),u_ratio:new a.bg(k,l.u_ratio),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_image:new a.bP(k,l.u_image),u_units_to_pixels:new a.bU(k,l.u_units_to_pixels),u_scale:new a.bT(k,l.u_scale),u_fade:new a.bg(k,l.u_fade)}),lineSDF:(k,l)=>({u_translation:new a.bU(k,l.u_translation),u_ratio:new a.bg(k,l.u_ratio),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_units_to_pixels:new a.bU(k,l.u_units_to_pixels),u_patternscale_a:new a.bU(k,l.u_patternscale_a),u_patternscale_b:new a.bU(k,l.u_patternscale_b),u_sdfgamma:new a.bg(k,l.u_sdfgamma),u_image:new a.bP(k,l.u_image),u_tex_y_a:new a.bg(k,l.u_tex_y_a),u_tex_y_b:new a.bg(k,l.u_tex_y_b),u_mix:new a.bg(k,l.u_mix)}),raster:(k,l)=>({u_tl_parent:new a.bU(k,l.u_tl_parent),u_scale_parent:new a.bg(k,l.u_scale_parent),u_buffer_scale:new a.bg(k,l.u_buffer_scale),u_fade_t:new a.bg(k,l.u_fade_t),u_opacity:new a.bg(k,l.u_opacity),u_image0:new a.bP(k,l.u_image0),u_image1:new a.bP(k,l.u_image1),u_brightness_low:new a.bg(k,l.u_brightness_low),u_brightness_high:new a.bg(k,l.u_brightness_high),u_saturation_factor:new a.bg(k,l.u_saturation_factor),u_contrast_factor:new a.bg(k,l.u_contrast_factor),u_spin_weights:new a.bT(k,l.u_spin_weights),u_coords_top:new a.bS(k,l.u_coords_top),u_coords_bottom:new a.bS(k,l.u_coords_bottom)}),symbolIcon:(k,l)=>({u_is_size_zoom_constant:new a.bP(k,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bP(k,l.u_is_size_feature_constant),u_size_t:new a.bg(k,l.u_size_t),u_size:new a.bg(k,l.u_size),u_camera_to_center_distance:new a.bg(k,l.u_camera_to_center_distance),u_pitch:new a.bg(k,l.u_pitch),u_rotate_symbol:new a.bP(k,l.u_rotate_symbol),u_aspect_ratio:new a.bg(k,l.u_aspect_ratio),u_fade_change:new a.bg(k,l.u_fade_change),u_label_plane_matrix:new a.bR(k,l.u_label_plane_matrix),u_coord_matrix:new a.bR(k,l.u_coord_matrix),u_is_text:new a.bP(k,l.u_is_text),u_pitch_with_map:new a.bP(k,l.u_pitch_with_map),u_is_along_line:new a.bP(k,l.u_is_along_line),u_is_variable_anchor:new a.bP(k,l.u_is_variable_anchor),u_texsize:new a.bU(k,l.u_texsize),u_texture:new a.bP(k,l.u_texture),u_translation:new a.bU(k,l.u_translation),u_pitched_scale:new a.bg(k,l.u_pitched_scale)}),symbolSDF:(k,l)=>({u_is_size_zoom_constant:new a.bP(k,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bP(k,l.u_is_size_feature_constant),u_size_t:new a.bg(k,l.u_size_t),u_size:new a.bg(k,l.u_size),u_camera_to_center_distance:new a.bg(k,l.u_camera_to_center_distance),u_pitch:new a.bg(k,l.u_pitch),u_rotate_symbol:new a.bP(k,l.u_rotate_symbol),u_aspect_ratio:new a.bg(k,l.u_aspect_ratio),u_fade_change:new a.bg(k,l.u_fade_change),u_label_plane_matrix:new a.bR(k,l.u_label_plane_matrix),u_coord_matrix:new a.bR(k,l.u_coord_matrix),u_is_text:new a.bP(k,l.u_is_text),u_pitch_with_map:new a.bP(k,l.u_pitch_with_map),u_is_along_line:new a.bP(k,l.u_is_along_line),u_is_variable_anchor:new a.bP(k,l.u_is_variable_anchor),u_texsize:new a.bU(k,l.u_texsize),u_texture:new a.bP(k,l.u_texture),u_gamma_scale:new a.bg(k,l.u_gamma_scale),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_is_halo:new a.bP(k,l.u_is_halo),u_translation:new a.bU(k,l.u_translation),u_pitched_scale:new a.bg(k,l.u_pitched_scale)}),symbolTextAndIcon:(k,l)=>({u_is_size_zoom_constant:new a.bP(k,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bP(k,l.u_is_size_feature_constant),u_size_t:new a.bg(k,l.u_size_t),u_size:new a.bg(k,l.u_size),u_camera_to_center_distance:new a.bg(k,l.u_camera_to_center_distance),u_pitch:new a.bg(k,l.u_pitch),u_rotate_symbol:new a.bP(k,l.u_rotate_symbol),u_aspect_ratio:new a.bg(k,l.u_aspect_ratio),u_fade_change:new a.bg(k,l.u_fade_change),u_label_plane_matrix:new a.bR(k,l.u_label_plane_matrix),u_coord_matrix:new a.bR(k,l.u_coord_matrix),u_is_text:new a.bP(k,l.u_is_text),u_pitch_with_map:new a.bP(k,l.u_pitch_with_map),u_is_along_line:new a.bP(k,l.u_is_along_line),u_is_variable_anchor:new a.bP(k,l.u_is_variable_anchor),u_texsize:new a.bU(k,l.u_texsize),u_texsize_icon:new a.bU(k,l.u_texsize_icon),u_texture:new a.bP(k,l.u_texture),u_texture_icon:new a.bP(k,l.u_texture_icon),u_gamma_scale:new a.bg(k,l.u_gamma_scale),u_device_pixel_ratio:new a.bg(k,l.u_device_pixel_ratio),u_is_halo:new a.bP(k,l.u_is_halo),u_translation:new a.bU(k,l.u_translation),u_pitched_scale:new a.bg(k,l.u_pitched_scale)}),background:(k,l)=>({u_opacity:new a.bg(k,l.u_opacity),u_color:new a.bQ(k,l.u_color)}),backgroundPattern:(k,l)=>({u_opacity:new a.bg(k,l.u_opacity),u_image:new a.bP(k,l.u_image),u_pattern_tl_a:new a.bU(k,l.u_pattern_tl_a),u_pattern_br_a:new a.bU(k,l.u_pattern_br_a),u_pattern_tl_b:new a.bU(k,l.u_pattern_tl_b),u_pattern_br_b:new a.bU(k,l.u_pattern_br_b),u_texsize:new a.bU(k,l.u_texsize),u_mix:new a.bg(k,l.u_mix),u_pattern_size_a:new a.bU(k,l.u_pattern_size_a),u_pattern_size_b:new a.bU(k,l.u_pattern_size_b),u_scale_a:new a.bg(k,l.u_scale_a),u_scale_b:new a.bg(k,l.u_scale_b),u_pixel_coord_upper:new a.bU(k,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bU(k,l.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bg(k,l.u_tile_units_to_pixels)}),terrain:(k,l)=>({u_texture:new a.bP(k,l.u_texture),u_ele_delta:new a.bg(k,l.u_ele_delta),u_fog_matrix:new a.bR(k,l.u_fog_matrix),u_fog_color:new a.bQ(k,l.u_fog_color),u_fog_ground_blend:new a.bg(k,l.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bg(k,l.u_fog_ground_blend_opacity),u_horizon_color:new a.bQ(k,l.u_horizon_color),u_horizon_fog_blend:new a.bg(k,l.u_horizon_fog_blend),u_is_globe_mode:new a.bg(k,l.u_is_globe_mode)}),terrainDepth:(k,l)=>({u_ele_delta:new a.bg(k,l.u_ele_delta)}),terrainCoords:(k,l)=>({u_texture:new a.bP(k,l.u_texture),u_terrain_coords_id:new a.bg(k,l.u_terrain_coords_id),u_ele_delta:new a.bg(k,l.u_ele_delta)}),projectionErrorMeasurement:(k,l)=>({u_input:new a.bg(k,l.u_input),u_output_expected:new a.bg(k,l.u_output_expected)}),atmosphere:(k,l)=>({u_sun_pos:new a.bT(k,l.u_sun_pos),u_atmosphere_blend:new a.bg(k,l.u_atmosphere_blend),u_globe_position:new a.bT(k,l.u_globe_position),u_globe_radius:new a.bg(k,l.u_globe_radius),u_inv_proj_matrix:new a.bR(k,l.u_inv_proj_matrix)}),sky:(k,l)=>({u_sky_color:new a.bQ(k,l.u_sky_color),u_horizon_color:new a.bQ(k,l.u_horizon_color),u_horizon:new a.bU(k,l.u_horizon),u_horizon_normal:new a.bU(k,l.u_horizon_normal),u_sky_horizon_blend:new a.bg(k,l.u_sky_horizon_blend),u_sky_blend:new a.bg(k,l.u_sky_blend)})};class fc{constructor(l,f,b){this.context=l;const S=l.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ku={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class WA{constructor(l,f,b,S){this.length=f.length,this.attributes=b,this.itemSize=f.bytesPerElement,this.dynamicDraw=S,this.context=l;const R=l.gl;this.buffer=R.createBuffer(),l.bindVertexBuffer.set(this.buffer),R.bufferData(R.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?R.DYNAMIC_DRAW:R.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,f){for(let b=0;b<this.attributes.length;b++){const S=f.attributes[this.attributes[b].name];S!==void 0&&l.enableVertexAttribArray(S)}}setVertexAttribPointers(l,f,b){for(let S=0;S<this.attributes.length;S++){const R=this.attributes[S],j=f.attributes[R.name];j!==void 0&&l.vertexAttribPointer(j,R.components,l[ku[R.type]],!1,this.itemSize,R.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class To{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Oh extends To{getDefault(){return a.bf.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Rd extends To{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class zp extends To{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class Rc extends To{getDefault(){return[!0,!0,!0,!0]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class ql extends To{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class Xt extends To{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class En extends To{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const f=this.current;(l.func!==f.func||l.ref!==f.ref||l.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class Cn extends To{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class Di extends To{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=l,this.dirty=!1}}class Or extends To{getDefault(){return[0,1]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class ko extends To{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=l,this.dirty=!1}}class el extends To{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class Uo extends To{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.BLEND):f.disable(f.BLEND),this.current=l,this.dirty=!1}}class ih extends To{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class Af extends To{getDefault(){return a.bf.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class fu extends To{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class Pd extends To{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=l,this.dirty=!1}}class CA extends To{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class Du extends To{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class Ru extends To{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class Ul extends To{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class Yo extends To{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class _A extends To{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class nd extends To{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class qa extends To{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class tl extends To{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Ts extends To{getDefault(){return null}set(l){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class oA extends To{getDefault(){return null}set(l){var f;if(l===this.current&&!this.dirty)return;const b=this.gl;lt(b)?b.bindVertexArray(l):(f=b.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(l),this.current=l,this.dirty=!1}}class Hl extends To{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class Pu extends To{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class pc extends To{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class Uu extends To{constructor(l,f){super(l),this.context=l,this.parent=f}getDefault(){return null}}class Pc extends Uu{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class Ih extends Uu{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Pr extends Uu{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}const mc="Framebuffer is not complete";class aA{constructor(l,f,b,S,R){this.context=l,this.width=f,this.height=b;const j=l.gl,q=this.framebuffer=j.createFramebuffer();if(this.colorAttachment=new Pc(l,q),S)this.depthAttachment=R?new Pr(l,q):new Ih(l,q);else if(R)throw new Error("Stencil cannot be set without depth");if(j.checkFramebufferStatus(j.FRAMEBUFFER)!==j.FRAMEBUFFER_COMPLETE)throw new Error(mc)}destroy(){const l=this.context.gl,f=this.colorAttachment.get();if(f&&l.deleteTexture(f),this.depthAttachment){const b=this.depthAttachment.get();b&&l.deleteRenderbuffer(b)}l.deleteFramebuffer(this.framebuffer)}}class Uc{constructor(l){var f,b;if(this.gl=l,this.clearColor=new Oh(this),this.clearDepth=new Rd(this),this.clearStencil=new zp(this),this.colorMask=new Rc(this),this.depthMask=new ql(this),this.stencilMask=new Xt(this),this.stencilFunc=new En(this),this.stencilOp=new Cn(this),this.stencilTest=new Di(this),this.depthRange=new Or(this),this.depthTest=new ko(this),this.depthFunc=new el(this),this.blend=new Uo(this),this.blendFunc=new ih(this),this.blendColor=new Af(this),this.blendEquation=new fu(this),this.cullFace=new Pd(this),this.cullFaceSide=new CA(this),this.frontFace=new Du(this),this.program=new Ru(this),this.activeTexture=new Ul(this),this.viewport=new Yo(this),this.bindFramebuffer=new _A(this),this.bindRenderbuffer=new nd(this),this.bindTexture=new qa(this),this.bindVertexBuffer=new tl(this),this.bindElementBuffer=new Ts(this),this.bindVertexArray=new oA(this),this.pixelStoreUnpack=new Hl(this),this.pixelStoreUnpackPremultiplyAlpha=new Pu(this),this.pixelStoreUnpackFlipY=new pc(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),lt(l)){this.HALF_FLOAT=l.HALF_FLOAT;const S=l.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=l.RGBA16F)!==null&&f!==void 0?f:S?.RGBA16F_EXT,this.RGB16F=(b=l.RGB16F)!==null&&b!==void 0?b:S?.RGB16F_EXT,l.getExtension("EXT_color_buffer_float")}else{l.getExtension("EXT_color_buffer_half_float"),l.getExtension("OES_texture_half_float_linear");const S=l.getExtension("OES_texture_half_float");this.HALF_FLOAT=S?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,f){return new fc(this,l,f)}createVertexBuffer(l,f,b){return new WA(this,l,f,b)}createRenderbuffer(l,f,b){const S=this.gl,R=S.createRenderbuffer();return this.bindRenderbuffer.set(R),S.renderbufferStorage(S.RENDERBUFFER,l,f,b),this.bindRenderbuffer.set(null),R}createFramebuffer(l,f,b,S){return new aA(this,l,f,b,S)}clear({color:l,depth:f,stencil:b}){const S=this.gl;let R=0;l&&(R|=S.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(R|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),b!==void 0&&(R|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(b),this.stencilMask.set(255)),S.clear(R)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){a.bH(l.blendFunction,Kr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}createVertexArray(){var l;return lt(this.gl)?this.gl.createVertexArray():(l=this.gl.getExtension("OES_vertex_array_object"))===null||l===void 0?void 0:l.createVertexArrayOES()}deleteVertexArray(l){var f;return lt(this.gl)?this.gl.deleteVertexArray(l):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(l)}unbindVAO(){this.bindVertexArray.set(null)}}let ks;function Th(k,l,f,b,S){const R=k.context,j=k.transform,q=R.gl,te=k.useProgram("collisionBox"),fe=[];let ye=0,Oe=0;for(let ft=0;ft<b.length;ft++){const Mt=b[ft],Ct=l.getTile(Mt).getBucket(f);if(!Ct)continue;const St=S?Ct.textCollisionBox:Ct.iconCollisionBox,Pt=Ct.collisionCircleArray;Pt.length>0&&(fe.push({circleArray:Pt,circleOffset:Oe,coord:Mt}),ye+=Pt.length/4,Oe=ye),St&&te.draw(R,q.LINES,Ei.disabled,ie.disabled,k.colorModeForRenderPass(),er.disabled,Eh(k.transform),k.style.map.terrain&&k.style.map.terrain.getTerrainData(Mt),j.getProjectionData({overscaledTileID:Mt,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,null,k.transform.zoom,null,null,St.collisionVertexBuffer)}if(!S||!fe.length)return;const Ee=k.useProgram("collisionCircle"),Ne=new a.b$;Ne.resize(4*ye),Ne._trim();let Je=0;for(const ft of fe)for(let Mt=0;Mt<ft.circleArray.length/4;Mt++){const Ct=4*Mt,St=ft.circleArray[Ct+0],Pt=ft.circleArray[Ct+1],zt=ft.circleArray[Ct+2],Ot=ft.circleArray[Ct+3];Ne.emplace(Je++,St,Pt,zt,Ot,0),Ne.emplace(Je++,St,Pt,zt,Ot,1),Ne.emplace(Je++,St,Pt,zt,Ot,2),Ne.emplace(Je++,St,Pt,zt,Ot,3)}(!ks||ks.length<2*ye)&&(ks=function(ft){const Mt=2*ft,Ct=new a.c1;Ct.resize(Mt),Ct._trim();for(let St=0;St<Mt;St++){const Pt=6*St;Ct.uint16[Pt+0]=4*St+0,Ct.uint16[Pt+1]=4*St+1,Ct.uint16[Pt+2]=4*St+2,Ct.uint16[Pt+3]=4*St+2,Ct.uint16[Pt+4]=4*St+3,Ct.uint16[Pt+5]=4*St+0}return Ct}(ye));const ut=R.createIndexBuffer(ks,!0),ht=R.createVertexBuffer(Ne,a.c0.members,!0);for(const ft of fe){const Mt=Bh(k.transform);Ee.draw(R,q.TRIANGLES,Ei.disabled,ie.disabled,k.colorModeForRenderPass(),er.disabled,Mt,k.style.map.terrain&&k.style.map.terrain.getTerrainData(ft.coord),null,f.id,ht,ut,a.aM.simpleSegment(0,2*ft.circleOffset,ft.circleArray.length,ft.circleArray.length/2),null,k.transform.zoom,null,null,null)}ht.destroy(),ut.destroy()}const Ud=a.ag(new Float32Array(16));function bA(k,l,f,b,S,R){const{horizontalAlign:j,verticalAlign:q}=a.aH(k);return new a.P((-(j-.5)*l/S+b[0])*R,(-(q-.5)*f/S+b[1])*R)}function Kd(k,l,f,b,S,R){const j=l.tileAnchorPoint.add(new a.P(l.translation[0],l.translation[1]));if(l.pitchWithMap){let q=b.mult(R);f||(q=q.rotate(-S));const te=j.add(q);return qi(te.x,te.y,l.pitchedLabelPlaneMatrix,l.getElevation).point}if(f){const q=br(l.tileAnchorPoint.x+1,l.tileAnchorPoint.y,l).point.sub(k),te=Math.atan(q.y/q.x)+(q.x<0?Math.PI:0);return k.add(b.rotate(te))}return k.add(b)}function rh(k,l,f,b,S,R,j,q,te,fe,ye,Oe){const Ee=k.text.placedSymbolArray,Ne=k.text.dynamicLayoutVertexArray,Je=k.icon.dynamicLayoutVertexArray,ut={};Ne.clear();for(let ht=0;ht<Ee.length;ht++){const ft=Ee.get(ht),Mt=ft.hidden||!ft.crossTileID||k.allowVerticalPlacement&&!ft.placedOrientation?null:b[ft.crossTileID];if(Mt){const Ct=new a.P(ft.anchorX,ft.anchorY),St={getElevation:Oe,width:S.width,height:S.height,pitchedLabelPlaneMatrix:R,pitchWithMap:f,transform:S,tileAnchorPoint:Ct,translation:fe,unwrappedTileID:ye},Pt=f?Rr(Ct.x,Ct.y,St):br(Ct.x,Ct.y,St),zt=Sn(S.cameraToCenterDistance,Pt.signedDistanceFromCamera);let Ot=a.ap(k.textSizeData,q,ft)*zt/a.aB;f&&(Ot*=k.tilePixelRatio/j);const{width:Ht,height:fn,anchor:Jt,textOffset:rn,textBoxScale:An}=Mt,$n=bA(Jt,Ht,fn,rn,An,Ot),Yn=S.getPitchedTextCorrection(Ct.x+fe[0],Ct.y+fe[1],ye),kn=Kd(Pt.point,St,l,$n,-S.bearingInRadians,Yn),wi=k.allowVerticalPlacement&&ft.placedOrientation===a.ao.vertical?Math.PI/2:0;for(let fr=0;fr<ft.numGlyphs;fr++)a.av(Ne,kn,wi);te&&ft.associatedIconIndex>=0&&(ut[ft.associatedIconIndex]={shiftedAnchor:kn,angle:wi})}else rs(ft.numGlyphs,Ne)}if(te){Je.clear();const ht=k.icon.placedSymbolArray;for(let ft=0;ft<ht.length;ft++){const Mt=ht.get(ft);if(Mt.hidden)rs(Mt.numGlyphs,Je);else{const Ct=ut[ft];if(Ct)for(let St=0;St<Mt.numGlyphs;St++)a.av(Je,Ct.shiftedAnchor,Ct.angle);else rs(Mt.numGlyphs,Je)}}k.icon.dynamicLayoutVertexBuffer.updateData(Je)}k.text.dynamicLayoutVertexBuffer.updateData(Ne)}function Ku(k,l,f){return f.iconsInText&&l?"symbolTextAndIcon":k?"symbolSDF":"symbolIcon"}function QA(k,l,f,b,S,R,j,q,te,fe,ye,Oe,Ee){const Ne=k.context,Je=Ne.gl,ut=k.transform,ht=q==="map",ft=te==="map",Mt=q!=="viewport"&&f.layout.get("symbol-placement")!=="point",Ct=ht&&!ft&&!Mt,St=!f.layout.get("symbol-sort-key").isConstant();let Pt=!1;const zt=k.getDepthModeForSublayer(0,Ei.ReadOnly),Ot=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ht=[],fn=ut.getCircleRadiusCorrection();for(const Jt of b){const rn=l.getTile(Jt),An=rn.getBucket(f);if(!An)continue;const $n=S?An.text:An.icon;if(!$n||!$n.segments.get().length||!$n.hasVisibleVertices)continue;const Yn=$n.programConfigurations.get(f.id),kn=S||An.sdfIcons,wi=S?An.textSizeData:An.iconSizeData,fr=ft||ut.pitch!==0,xo=k.useProgram(Ku(kn,S,An),Yn),fa=a.an(wi,ut.zoom),jo=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Jt);let ja,pa,Tr,Ho,us=[0,0],$a=null;if(S)pa=rn.glyphAtlasTexture,Tr=Je.LINEAR,ja=rn.glyphAtlasTexture.size,An.iconsInText&&(us=rn.imageAtlasTexture.size,$a=rn.imageAtlasTexture,Ho=fr||k.options.rotating||k.options.zooming||wi.kind==="composite"||wi.kind==="camera"?Je.LINEAR:Je.NEAREST);else{const Mo=f.layout.get("icon-size").constantOr(0)!==1||An.iconsNeedLinear;pa=rn.imageAtlasTexture,Tr=kn||k.options.rotating||k.options.zooming||Mo||fr?Je.LINEAR:Je.NEAREST,ja=rn.imageAtlasTexture.size}const Ds=a.aC(rn,1,k.transform.zoom),Rs=Ii(ht,k.transform,Ds),JA=a.L();a.aq(JA,Rs);const _c=di(ft,ht,k.transform,Ds),eu=a.aD(ut,rn,R,j),Lh=ut.getProjectionData({overscaledTileID:Jt,applyGlobeMatrix:!Ee,applyTerrainMatrix:!0}),hh=Ot&&An.hasTextData(),ec=f.layout.get("icon-text-fit")!=="none"&&hh&&An.hasIconData();if(Mt){const Mo=k.style.map.terrain?(vu,xs)=>k.style.map.terrain.getElevation(Jt,vu,xs):null,ia=f.layout.get("text-rotation-alignment")==="map";Zi(An,k,S,Rs,JA,ft,fe,ia,Jt.toUnwrapped(),ut.width,ut.height,eu,Mo)}const Gc=S&&Ot||ec,El=Mt||Gc?Ud:ft?Rs:k.transform.clipSpaceToPixelsMatrix,tc=kn&&f.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Bl;Bl=kn?An.iconsInText?vA(wi.kind,fa,Ct,ft,Mt,Gc,k,El,_c,eu,ja,us,fn):uf(wi.kind,fa,Ct,ft,Mt,Gc,k,El,_c,eu,S,ja,0,fn):nh(wi.kind,fa,Ct,ft,Mt,Gc,k,El,_c,eu,S,ja,fn);const Wc={program:xo,buffers:$n,uniformValues:Bl,projectionData:Lh,atlasTexture:pa,atlasTextureIcon:$a,atlasInterpolation:Tr,atlasInterpolationIcon:Ho,isSDF:kn,hasHalo:tc};if(St&&An.canOverlap){Pt=!0;const Mo=$n.segments.get();for(const ia of Mo)Ht.push({segments:new a.aM([ia]),sortKey:ia.sortKey,state:Wc,terrainData:jo})}else Ht.push({segments:$n.segments,sortKey:0,state:Wc,terrainData:jo})}Pt&&Ht.sort((Jt,rn)=>Jt.sortKey-rn.sortKey);for(const Jt of Ht){const rn=Jt.state;if(Ne.activeTexture.set(Je.TEXTURE0),rn.atlasTexture.bind(rn.atlasInterpolation,Je.CLAMP_TO_EDGE),rn.atlasTextureIcon&&(Ne.activeTexture.set(Je.TEXTURE1),rn.atlasTextureIcon&&rn.atlasTextureIcon.bind(rn.atlasInterpolationIcon,Je.CLAMP_TO_EDGE)),rn.isSDF){const An=rn.uniformValues;rn.hasHalo&&(An.u_is_halo=1,kh(rn.buffers,Jt.segments,f,k,rn.program,zt,ye,Oe,An,rn.projectionData,Jt.terrainData)),An.u_is_halo=0}kh(rn.buffers,Jt.segments,f,k,rn.program,zt,ye,Oe,rn.uniformValues,rn.projectionData,Jt.terrainData)}}function kh(k,l,f,b,S,R,j,q,te,fe,ye){const Oe=b.context;S.draw(Oe,Oe.gl.TRIANGLES,R,j,q,er.backCCW,te,ye,fe,f.id,k.layoutVertexBuffer,k.indexBuffer,l,f.paint,b.transform.zoom,k.programConfigurations.get(f.id),k.dynamicLayoutVertexBuffer,k.opacityVertexBuffer)}function id(k,l,f,b,S){const R=k.context,j=R.gl,q=ie.disabled,te=new Kr([j.ONE,j.ONE],a.bf.transparent,[!0,!0,!0,!0]),fe=l.getBucket(f);if(!fe)return;const ye=b.key;let Oe=f.heatmapFbos.get(ye);Oe||(Oe=Kl(R,l.tileSize,l.tileSize),f.heatmapFbos.set(ye,Oe)),R.bindFramebuffer.set(Oe.framebuffer),R.viewport.set([0,0,l.tileSize,l.tileSize]),R.clear({color:a.bf.transparent});const Ee=fe.programConfigurations.get(f.id),Ne=k.useProgram("heatmap",Ee,!S),Je=k.transform.getProjectionData({overscaledTileID:l.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),ut=k.style.map.terrain.getTerrainData(b);Ne.draw(R,j.TRIANGLES,Ei.disabled,q,te,er.disabled,Vf(l,k.transform.zoom,f.paint.get("heatmap-intensity"),1),ut,Je,f.id,fe.layoutVertexBuffer,fe.indexBuffer,fe.segments,f.paint,k.transform.zoom,Ee)}function Lu(k,l,f,b,S){const R=k.context,j=R.gl,q=k.transform;R.setColorMode(k.colorModeForRenderPass());const te=qo(R,l),fe=f.key,ye=l.heatmapFbos.get(fe);if(!ye)return;R.activeTexture.set(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,ye.colorAttachment.get()),R.activeTexture.set(j.TEXTURE1),te.bind(j.LINEAR,j.CLAMP_TO_EDGE);const Oe=q.getProjectionData({overscaledTileID:f,applyTerrainMatrix:S,applyGlobeMatrix:!b});k.useProgram("heatmapTexture").draw(R,j.TRIANGLES,Ei.disabled,ie.disabled,k.colorModeForRenderPass(),er.disabled,hu(k,l,0,1),null,Oe,l.id,k.rasterBoundsBuffer,k.quadTriangleIndexBuffer,k.rasterBoundsSegments,l.paint,q.zoom),ye.destroy(),l.heatmapFbos.delete(fe)}function Kl(k,l,f){var b,S;const R=k.gl,j=R.createTexture();R.bindTexture(R.TEXTURE_2D,j),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.LINEAR);const q=(b=k.HALF_FLOAT)!==null&&b!==void 0?b:R.UNSIGNED_BYTE,te=(S=k.RGBA16F)!==null&&S!==void 0?S:R.RGBA;R.texImage2D(R.TEXTURE_2D,0,te,l,f,0,R.RGBA,q,null);const fe=k.createFramebuffer(l,f,!1,!1);return fe.colorAttachment.set(j),fe}function qo(k,l){return l.colorRampTexture||(l.colorRampTexture=new a.T(k,l.colorRamp,k.gl.RGBA)),l.colorRampTexture}function ha(k,l,f,b,S){if(!f||!b||!b.imageAtlas)return;const R=b.imageAtlas.patternPositions;let j=R[f.to.toString()],q=R[f.from.toString()];if(!j&&q&&(j=q),!q&&j&&(q=j),!j||!q){const te=S.getPaintProperty(l);j=R[te],q=R[te]}j&&q&&k.setConstantPatternPositions(j,q)}function YA(k,l,f,b,S,R,j,q){const te=k.context.gl,fe="fill-pattern",ye=f.paint.get(fe),Oe=ye&&ye.constantOr(1),Ee=f.getCrossfadeParameters();let Ne,Je,ut,ht,ft;const Mt=k.transform,Ct=f.paint.get("fill-translate"),St=f.paint.get("fill-translate-anchor");j?(Je=Oe&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ne=te.LINES):(Je=Oe?"fillPattern":"fill",Ne=te.TRIANGLES);const Pt=ye.constantOr(null);for(const zt of b){const Ot=l.getTile(zt);if(Oe&&!Ot.patternsLoaded())continue;const Ht=Ot.getBucket(f);if(!Ht)continue;const fn=Ht.programConfigurations.get(f.id),Jt=k.useProgram(Je,fn),rn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(zt);Oe&&(k.context.activeTexture.set(te.TEXTURE0),Ot.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),fn.updatePaintBuffers(Ee)),ha(fn,fe,Pt,Ot,f);const An=Mt.getProjectionData({overscaledTileID:zt,applyGlobeMatrix:!q,applyTerrainMatrix:!0}),$n=a.aD(Mt,Ot,Ct,St);if(j){ht=Ht.indexBuffer2,ft=Ht.segments2;const kn=[te.drawingBufferWidth,te.drawingBufferHeight];ut=Je==="fillOutlinePattern"&&Oe?Xh(k,Ee,Ot,kn,$n):th(kn,$n)}else ht=Ht.indexBuffer,ft=Ht.segments,ut=Oe?Zh(k,Ee,Ot,$n):{u_fill_translate:$n};const Yn=k.stencilModeForClipping(zt);Jt.draw(k.context,Ne,S,Yn,R,er.backCCW,ut,rn,An,f.id,Ht.layoutVertexBuffer,ht,ft,f.paint,k.transform.zoom,fn)}}function qA(k,l,f,b,S,R,j,q){const te=k.context,fe=te.gl,ye="fill-extrusion-pattern",Oe=f.paint.get(ye),Ee=Oe.constantOr(1),Ne=f.getCrossfadeParameters(),Je=f.paint.get("fill-extrusion-opacity"),ut=Oe.constantOr(null),ht=k.transform;for(const ft of b){const Mt=l.getTile(ft),Ct=Mt.getBucket(f);if(!Ct)continue;const St=k.style.map.terrain&&k.style.map.terrain.getTerrainData(ft),Pt=Ct.programConfigurations.get(f.id),zt=k.useProgram(Ee?"fillExtrusionPattern":"fillExtrusion",Pt);Ee&&(k.context.activeTexture.set(fe.TEXTURE0),Mt.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),Pt.updatePaintBuffers(Ne));const Ot=ht.getProjectionData({overscaledTileID:ft,applyGlobeMatrix:!q,applyTerrainMatrix:!0});ha(Pt,ye,ut,Mt,f);const Ht=a.aD(ht,Mt,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),fn=f.paint.get("fill-extrusion-vertical-gradient"),Jt=Ee?Td(k,fn,Je,Ht,ft,Ne,Mt):Yl(k,fn,Je,Ht);zt.draw(te,te.gl.TRIANGLES,S,R,j,er.backCCW,Jt,St,Ot,f.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,f.paint,k.transform.zoom,Pt,k.style.map.terrain&&Ct.centroidVertexBuffer)}}function Kc(k,l,f,b,S,R,j,q,te){var fe;const ye=k.style.projection,Oe=k.context,Ee=k.transform,Ne=Oe.gl,Je=[`#define NUM_ILLUMINATION_SOURCES ${f.paint.get("hillshade-highlight-color").values.length}`],ut=k.useProgram("hillshade",null,!1,Je),ht=!k.options.moving;for(const ft of b){const Mt=l.getTile(ft),Ct=Mt.fbo;if(!Ct)continue;const St=ye.getMeshFromTileID(Oe,ft.canonical,q,!0,"raster"),Pt=(fe=k.style.map.terrain)===null||fe===void 0?void 0:fe.getTerrainData(ft);Oe.activeTexture.set(Ne.TEXTURE0),Ne.bindTexture(Ne.TEXTURE_2D,Ct.colorAttachment.get());const zt=Ee.getProjectionData({overscaledTileID:ft,aligned:ht,applyGlobeMatrix:!te,applyTerrainMatrix:!0});ut.draw(Oe,Ne.TRIANGLES,R,S[ft.overscaledZ],j,er.backCCW,$f(k,Mt,f),Pt,zt,f.id,St.vertexBuffer,St.indexBuffer,St.segments)}}function oh(k,l,f,b,S,R,j,q,te){var fe;const ye=k.style.projection,Oe=k.context,Ee=k.transform,Ne=Oe.gl,Je=k.useProgram("colorRelief"),ut=!k.options.moving;let ht=!0,ft=0;for(const Mt of b){const Ct=l.getTile(Mt),St=Ct.dem;if(ht){const Jt=Ne.getParameter(Ne.MAX_TEXTURE_SIZE),{elevationTexture:rn,colorTexture:An}=f.getColorRampTextures(Oe,Jt,St.getUnpackVector());Oe.activeTexture.set(Ne.TEXTURE1),rn.bind(Ne.NEAREST,Ne.CLAMP_TO_EDGE),Oe.activeTexture.set(Ne.TEXTURE4),An.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE),ht=!1,ft=rn.size[0]}if(!St||!St.data)continue;const Pt=St.stride,zt=St.getPixels();if(Oe.activeTexture.set(Ne.TEXTURE0),Oe.pixelStoreUnpackPremultiplyAlpha.set(!1),Ct.demTexture=Ct.demTexture||k.getTileTexture(Pt),Ct.demTexture){const Jt=Ct.demTexture;Jt.update(zt,{premultiply:!1}),Jt.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE)}else Ct.demTexture=new a.T(Oe,zt,Ne.RGBA,{premultiply:!1}),Ct.demTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE);const Ot=ye.getMeshFromTileID(Oe,Mt.canonical,q,!0,"raster"),Ht=(fe=k.style.map.terrain)===null||fe===void 0?void 0:fe.getTerrainData(Mt),fn=Ee.getProjectionData({overscaledTileID:Mt,aligned:ut,applyGlobeMatrix:!te,applyTerrainMatrix:!0});Je.draw(Oe,Ne.TRIANGLES,R,S[Mt.overscaledZ],j,er.backCCW,kc(f,Ct.dem,ft),Ht,fn,f.id,Ot.vertexBuffer,Ot.indexBuffer,Ot.segments)}}const ah=[new a.P(0,0),new a.P(a.$,0),new a.P(a.$,a.$),new a.P(0,a.$)];function Ma(k,l,f,b,S,R,j,q,te=!1,fe=!1){const ye=b[b.length-1].overscaledZ,Oe=k.context,Ee=Oe.gl,Ne=k.useProgram("raster"),Je=k.transform,ut=k.style.projection,ht=k.colorModeForRenderPass(),ft=!k.options.moving;for(const Mt of b){const Ct=k.getDepthModeForSublayer(Mt.overscaledZ-ye,f.paint.get("raster-opacity")===1?Ei.ReadWrite:Ei.ReadOnly,Ee.LESS),St=l.getTile(Mt);St.registerFadeDuration(f.paint.get("raster-fade-duration"));const Pt=l.findLoadedParent(Mt,0),zt=l.findLoadedSibling(Mt),Ot=Sa(St,Pt||zt||null,l,f,k.transform,k.style.map.terrain);let Ht,fn;const Jt=f.paint.get("raster-resampling")==="nearest"?Ee.NEAREST:Ee.LINEAR;Oe.activeTexture.set(Ee.TEXTURE0),St.texture.bind(Jt,Ee.CLAMP_TO_EDGE,Ee.LINEAR_MIPMAP_NEAREST),Oe.activeTexture.set(Ee.TEXTURE1),Pt?(Pt.texture.bind(Jt,Ee.CLAMP_TO_EDGE,Ee.LINEAR_MIPMAP_NEAREST),Ht=Math.pow(2,Pt.tileID.overscaledZ-St.tileID.overscaledZ),fn=[St.tileID.canonical.x*Ht%1,St.tileID.canonical.y*Ht%1]):St.texture.bind(Jt,Ee.CLAMP_TO_EDGE,Ee.LINEAR_MIPMAP_NEAREST),St.texture.useMipmap&&Oe.extTextureFilterAnisotropic&&k.transform.pitch>20&&Ee.texParameterf(Ee.TEXTURE_2D,Oe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Oe.extTextureFilterAnisotropicMax);const rn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Mt),An=Je.getProjectionData({overscaledTileID:Mt,aligned:ft,applyGlobeMatrix:!fe,applyTerrainMatrix:!0}),$n=td(fn||[0,0],Ht||1,Ot,f,q),Yn=ut.getMeshFromTileID(Oe,Mt.canonical,R,j,"raster");Ne.draw(Oe,Ee.TRIANGLES,Ct,S?S[Mt.overscaledZ]:ie.disabled,ht,te?er.frontCCW:er.backCCW,$n,rn,An,f.id,Yn.vertexBuffer,Yn.indexBuffer,Yn.segments)}}function Sa(k,l,f,b,S,R){const j=b.paint.get("raster-fade-duration");if(!R&&j>0){const q=O.now(),te=(q-k.timeAdded)/j,fe=l?(q-l.timeAdded)/j:-1,ye=f.getSource(),Oe=kt(S,{tileSize:ye.tileSize,roundZoom:ye.roundZoom}),Ee=!l||Math.abs(l.tileID.overscaledZ-Oe)>Math.abs(k.tileID.overscaledZ-Oe),Ne=Ee&&k.refreshedUponExpiration?1:a.ah(Ee?te:1-fe,0,1);return k.refreshedUponExpiration&&te>=1&&(k.refreshedUponExpiration=!1),l?{opacity:1,mix:1-Ne}:{opacity:Ne,mix:0}}return{opacity:1,mix:0}}const Jr=new a.bf(1,0,0,1),pu=new a.bf(0,1,0,1),Qs=new a.bf(0,0,1,1),sh=new a.bf(1,0,1,1),xA=new a.bf(0,1,1,1);function cf(k,l,f,b){ul(k,0,l+f/2,k.transform.width,f,b)}function _s(k,l,f,b){ul(k,l-f/2,0,f,k.transform.height,b)}function ul(k,l,f,b,S,R){const j=k.context,q=j.gl;q.enable(q.SCISSOR_TEST),q.scissor(l*k.pixelRatio,f*k.pixelRatio,b*k.pixelRatio,S*k.pixelRatio),j.clear({color:R}),q.disable(q.SCISSOR_TEST)}function Ys(k,l,f){const b=k.context,S=b.gl,R=k.useProgram("debug"),j=Ei.disabled,q=ie.disabled,te=k.colorModeForRenderPass(),fe="$debug",ye=k.style.map.terrain&&k.style.map.terrain.getTerrainData(f);b.activeTexture.set(S.TEXTURE0);const Oe=l.getTileByID(f.key).latestRawTileData,Ee=Math.floor((Oe&&Oe.byteLength||0)/1024),Ne=l.getTile(f).tileSize,Je=512/Math.min(Ne,512)*(f.overscaledZ/k.transform.zoom)*.5;let ut=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(ut+=` => ${f.overscaledZ}`),function(ft,Mt){ft.initDebugOverlayCanvas();const Ct=ft.debugOverlayCanvas,St=ft.context.gl,Pt=ft.debugOverlayCanvas.getContext("2d");Pt.clearRect(0,0,Ct.width,Ct.height),Pt.shadowColor="white",Pt.shadowBlur=2,Pt.lineWidth=1.5,Pt.strokeStyle="white",Pt.textBaseline="top",Pt.font="bold 36px Open Sans, sans-serif",Pt.fillText(Mt,5,5),Pt.strokeText(Mt,5,5),ft.debugOverlayTexture.update(Ct),ft.debugOverlayTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE)}(k,`${ut} ${Ee}kB`);const ht=k.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});R.draw(b,S.TRIANGLES,j,q,Kr.alphaBlended,er.disabled,Jh(a.bf.transparent,Je),null,ht,fe,k.debugBuffer,k.quadTriangleIndexBuffer,k.debugSegments),R.draw(b,S.LINE_STRIP,j,q,te,er.disabled,Jh(a.bf.red),ye,ht,fe,k.debugBuffer,k.tileBorderIndexBuffer,k.debugSegments)}function hf(k,l,f,b){const{isRenderingGlobe:S}=b,R=k.context,j=R.gl,q=k.transform,te=k.colorModeForRenderPass(),fe=k.getDepthModeFor3D(),ye=k.useProgram("terrain");R.bindFramebuffer.set(null),R.viewport.set([0,0,k.width,k.height]);for(const Oe of f){const Ee=l.getTerrainMesh(Oe.tileID),Ne=k.renderToTexture.getTexture(Oe),Je=l.getTerrainData(Oe.tileID);R.activeTexture.set(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,Ne.texture);const ut=l.getMeshFrameDelta(q.zoom),ht=q.calculateFogMatrix(Oe.tileID.toUnwrapped()),ft=Yf(ut,ht,k.style.sky,q.pitch,S),Mt=q.getProjectionData({overscaledTileID:Oe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ye.draw(R,j.TRIANGLES,fe,ie.disabled,te,er.backCCW,ft,Je,Mt,"terrain",Ee.vertexBuffer,Ee.indexBuffer,Ee.segments)}}function HA(k,l){if(!l.mesh){const f=new a.aL;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);const b=new a.aN;b.emplaceBack(0,1,2),b.emplaceBack(0,2,3),l.mesh=new Gl(k.createVertexBuffer(f,ba.members),k.createIndexBuffer(b),a.aM.simpleSegment(0,0,f.length,b.length))}return l.mesh}class Dh{constructor(l,f){this.context=new Uc(l),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.ag(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Rn.maxUnderzooming+Rn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Xs}resize(l,f,b){if(this.width=Math.floor(l*b),this.height=Math.floor(f*b),this.pixelRatio=b,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const S of this.style._order)this.style._layers[S].resize()}setup(){const l=this.context,f=new a.aL;f.emplaceBack(0,0),f.emplaceBack(a.$,0),f.emplaceBack(0,a.$),f.emplaceBack(a.$,a.$),this.tileExtentBuffer=l.createVertexBuffer(f,ba.members),this.tileExtentSegments=a.aM.simpleSegment(0,0,4,2);const b=new a.aL;b.emplaceBack(0,0),b.emplaceBack(a.$,0),b.emplaceBack(0,a.$),b.emplaceBack(a.$,a.$),this.debugBuffer=l.createVertexBuffer(b,ba.members),this.debugSegments=a.aM.simpleSegment(0,0,4,5);const S=new a.c6;S.emplaceBack(0,0,0,0),S.emplaceBack(a.$,0,a.$,0),S.emplaceBack(0,a.$,0,a.$),S.emplaceBack(a.$,a.$,a.$,a.$),this.rasterBoundsBuffer=l.createVertexBuffer(S,Od.members),this.rasterBoundsSegments=a.aM.simpleSegment(0,0,4,2);const R=new a.aL;R.emplaceBack(0,0),R.emplaceBack(a.$,0),R.emplaceBack(0,a.$),R.emplaceBack(a.$,a.$),this.rasterBoundsBufferPosOnly=l.createVertexBuffer(R,ba.members),this.rasterBoundsSegmentsPosOnly=a.aM.simpleSegment(0,0,4,5);const j=new a.aL;j.emplaceBack(0,0),j.emplaceBack(1,0),j.emplaceBack(0,1),j.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(j,ba.members),this.viewportSegments=a.aM.simpleSegment(0,0,4,2);const q=new a.c7;q.emplaceBack(0),q.emplaceBack(1),q.emplaceBack(3),q.emplaceBack(2),q.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer(q);const te=new a.aN;te.emplaceBack(1,0,2),te.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(te);const fe=this.context.gl;this.stencilClearMode=new ie({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO),this.tileExtentMesh=new Gl(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const l=this.context,f=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const b=a.L();a.bY(b,0,this.width,this.height,0,0,1),a.N(b,b,[f.drawingBufferWidth,f.drawingBufferHeight,0]);const S={mainMatrix:b,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:b};this.useProgram("clippingMask",null,!0).draw(l,f.TRIANGLES,Ei.disabled,this.stencilClearMode,Kr.disabled,er.disabled,null,null,S,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,f,b){if(this.currentStencilSource===l.source||!l.isTileClipped()||!f||!f.length)return;this.currentStencilSource=l.source,this.nextStencilID+f.length>256&&this.clearStencil();const S=this.context;S.setColorMode(Kr.disabled),S.setDepthMode(Ei.disabled);const R={};for(const j of f)R[j.key]=this.nextStencilID++;this._renderTileMasks(R,f,b,!0),this._renderTileMasks(R,f,b,!1),this._tileClippingMaskIDs=R}_renderTileMasks(l,f,b,S){const R=this.context,j=R.gl,q=this.style.projection,te=this.transform,fe=this.useProgram("clippingMask");for(const ye of f){const Oe=l[ye.key],Ee=this.style.map.terrain&&this.style.map.terrain.getTerrainData(ye),Ne=q.getMeshFromTileID(this.context,ye.canonical,S,!0,"stencil"),Je=te.getProjectionData({overscaledTileID:ye,applyGlobeMatrix:!b,applyTerrainMatrix:!0});fe.draw(R,j.TRIANGLES,Ei.disabled,new ie({func:j.ALWAYS,mask:0},Oe,255,j.KEEP,j.KEEP,j.REPLACE),Kr.disabled,b?er.disabled:er.backCCW,null,Ee,Je,"$clipping",Ne.vertexBuffer,Ne.indexBuffer,Ne.segments)}}_renderTilesDepthBuffer(){const l=this.context,f=l.gl,b=this.style.projection,S=this.transform,R=this.useProgram("depth"),j=this.getDepthModeFor3D(),q=rt(S,{tileSize:S.tileSize});for(const te of q){const fe=this.style.map.terrain&&this.style.map.terrain.getTerrainData(te),ye=b.getMeshFromTileID(this.context,te.canonical,!0,!0,"raster"),Oe=S.getProjectionData({overscaledTileID:te,applyGlobeMatrix:!0,applyTerrainMatrix:!0});R.draw(l,f.TRIANGLES,j,ie.disabled,Kr.disabled,er.backCCW,null,fe,Oe,"$clipping",ye.vertexBuffer,ye.indexBuffer,ye.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,f=this.context.gl;return new ie({func:f.NOTEQUAL,mask:255},l,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(l){const f=this.context.gl;return new ie({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(l){const f=this.context.gl,b=l.sort((j,q)=>q.overscaledZ-j.overscaledZ),S=b[b.length-1].overscaledZ,R=b[0].overscaledZ-S+1;if(R>1){this.currentStencilSource=void 0,this.nextStencilID+R>256&&this.clearStencil();const j={};for(let q=0;q<R;q++)j[q+S]=new ie({func:f.GEQUAL,mask:255},q+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=R,[j,b]}return[{[S]:ie.disabled},b]}stencilConfigForOverlapTwoPass(l){const f=this.context.gl,b=l.sort((j,q)=>q.overscaledZ-j.overscaledZ),S=b[b.length-1].overscaledZ,R=b[0].overscaledZ-S+1;if(this.clearStencil(),R>1){const j={},q={};for(let te=0;te<R;te++)j[te+S]=new ie({func:f.GREATER,mask:255},R+1+te,255,f.KEEP,f.KEEP,f.REPLACE),q[te+S]=new ie({func:f.GREATER,mask:255},1+te,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*R+1,[j,q,b]}return this.nextStencilID=3,[{[S]:new ie({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[S]:new ie({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},b]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new Kr([l.CONSTANT_COLOR,l.ONE],new a.bf(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Kr.unblended:Kr.alphaBlended}getDepthModeForSublayer(l,f,b){if(!this.opaquePassEnabledForLayer())return Ei.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new Ei(b||this.context.gl.LEQUAL,f,[S,S])}getDepthModeFor3D(){return new Ei(this.context.gl.LEQUAL,Ei.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,f){var b,S;this.style=l,this.options=f,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(O.now()),this.imageManager.beginFrame();const R=this.style._order,j=this.style.sourceCaches,q={},te={},fe={},ye={isRenderingToTexture:!1,isRenderingGlobe:((b=l.projection)===null||b===void 0?void 0:b.transitionState)>0};for(const Ee in j){const Ne=j[Ee];Ne.used&&Ne.prepare(this.context),q[Ee]=Ne.getVisibleCoordinates(!1),te[Ee]=q[Ee].slice().reverse(),fe[Ee]=Ne.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Ee=0;Ee<R.length;Ee++)if(this.style._layers[R[Ee]].is3D()){this.opaquePassCutoff=Ee;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Ee of R){const Ne=this.style._layers[Ee];if(!Ne.hasOffscreenPass()||Ne.isHidden(this.transform.zoom))continue;const Je=te[Ne.source];(Ne.type==="custom"||Je.length)&&this.renderLayer(this,j[Ne.source],Ne,Je,ye)}if((S=this.style.projection)===null||S===void 0||S.updateGPUdependent({context:this.context,useProgram:Ee=>this.useProgram(Ee)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?a.bf.black:a.bf.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(Ee,Ne){const Je=Ee.context,ut=Je.gl,ht=((zt,Ot,Ht)=>{const fn=Math.cos(Ot.rollInRadians),Jt=Math.sin(Ot.rollInRadians),rn=At(Ot),An=Ot.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:zt.properties.get("sky-color"),u_horizon_color:zt.properties.get("horizon-color"),u_horizon:[(Ot.width/2-rn*Jt)*Ht,(Ot.height/2+rn*fn)*Ht],u_horizon_normal:[-Jt,fn],u_sky_horizon_blend:zt.properties.get("sky-horizon-blend")*Ot.height/2*Ht,u_sky_blend:An}})(Ne,Ee.style.map.transform,Ee.pixelRatio),ft=new Ei(ut.LEQUAL,Ei.ReadWrite,[0,1]),Mt=ie.disabled,Ct=Ee.colorModeForRenderPass(),St=Ee.useProgram("sky"),Pt=HA(Je,Ne);St.draw(Je,ut.TRIANGLES,ft,Mt,Ct,er.disabled,ht,null,void 0,"sky",Pt.vertexBuffer,Pt.indexBuffer,Pt.segments)}(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=R.length-1;this.currentLayer>=0;this.currentLayer--){const Ee=this.style._layers[R[this.currentLayer]],Ne=j[Ee.source],Je=q[Ee.source];this._renderTileClippingMasks(Ee,Je,!1),this.renderLayer(this,Ne,Ee,Je,ye)}this.renderPass="translucent";let Oe=!1;for(this.currentLayer=0;this.currentLayer<R.length;this.currentLayer++){const Ee=this.style._layers[R[this.currentLayer]],Ne=j[Ee.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Ee,ye))continue;this.opaquePassEnabledForLayer()||Oe||(Oe=!0,ye.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Je=(Ee.type==="symbol"?fe:te)[Ee.source];this._renderTileClippingMasks(Ee,q[Ee.source],!!this.renderToTexture),this.renderLayer(this,Ne,Ee,Je,ye)}if(ye.isRenderingGlobe&&function(Ee,Ne,Je){const ut=Ee.context,ht=ut.gl,ft=Ee.useProgram("atmosphere"),Mt=new Ei(ht.LEQUAL,Ei.ReadOnly,[0,1]),Ct=Ee.transform,St=function(An,$n){const Yn=An.properties.get("position"),kn=[-Yn.x,-Yn.y,-Yn.z],wi=a.ag(new Float64Array(16));return An.properties.get("anchor")==="map"&&(a.b6(wi,wi,$n.rollInRadians),a.b7(wi,wi,-$n.pitchInRadians),a.b6(wi,wi,$n.bearingInRadians),a.b7(wi,wi,$n.center.lat*Math.PI/180),a.bz(wi,wi,-$n.center.lng*Math.PI/180)),a.c5(kn,kn,wi),kn}(Je,Ee.transform),Pt=Ct.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),zt=Ne.properties.get("atmosphere-blend")*Pt.projectionTransition;if(zt===0)return;const Ot=vr(Ct.worldSize,Ct.center.lat),Ht=Ct.inverseProjectionMatrix,fn=new Float64Array(4);fn[3]=1,a.aw(fn,fn,Ct.modelViewProjectionMatrix),fn[0]/=fn[3],fn[1]/=fn[3],fn[2]/=fn[3],fn[3]=1,a.aw(fn,fn,Ht),fn[0]/=fn[3],fn[1]/=fn[3],fn[2]/=fn[3],fn[3]=1;const Jt=((An,$n,Yn,kn,wi)=>({u_sun_pos:An,u_atmosphere_blend:$n,u_globe_position:Yn,u_globe_radius:kn,u_inv_proj_matrix:wi}))(St,zt,[fn[0],fn[1],fn[2]],Ot,Ht),rn=HA(ut,Ne);ft.draw(ut,ht.TRIANGLES,Mt,ie.disabled,Kr.alphaBlended,er.disabled,Jt,null,null,"atmosphere",rn.vertexBuffer,rn.indexBuffer,rn.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Ee=function(Ne,Je){let ut=null;const ht=Object.values(Ne._layers).flatMap(St=>St.source&&!St.isHidden(Je)?[Ne.sourceCaches[St.source]]:[]),ft=ht.filter(St=>St.getSource().type==="vector"),Mt=ht.filter(St=>St.getSource().type!=="vector"),Ct=St=>{(!ut||ut.getSource().maxzoom<St.getSource().maxzoom)&&(ut=St)};return ft.forEach(St=>Ct(St)),ut||Mt.forEach(St=>Ct(St)),ut}(this.style,this.transform.zoom);Ee&&function(Ne,Je,ut){for(let ht=0;ht<ut.length;ht++)Ys(Ne,Je,ut[ht])}(this,Ee,Ee.getVisibleCoordinates())}this.options.showPadding&&function(Ee){const Ne=Ee.transform.padding;cf(Ee,Ee.transform.height-(Ne.top||0),3,Jr),cf(Ee,Ne.bottom||0,3,pu),_s(Ee,Ne.left||0,3,Qs),_s(Ee,Ee.transform.width-(Ne.right||0),3,sh);const Je=Ee.transform.centerPoint;(function(ut,ht,ft,Mt){ul(ut,ht-1,ft-10,2,20,Mt),ul(ut,ht-10,ft-1,20,2,Mt)})(Ee,Je.x,Ee.transform.height-Je.y,xA)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(l){if(!this.style||!this.style.map||!this.style.map.terrain)return;const f=this.terrainFacilitator.matrix,b=this.transform.modelViewProjectionMatrix;let S=this.terrainFacilitator.dirty;S||(S=l?!a.c8(f,b):!a.c9(f,b)),S||(S=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),S&&(a.ca(f,b),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(R,j){const q=R.context,te=q.gl,fe=R.transform,ye=Kr.unblended,Oe=new Ei(te.LEQUAL,Ei.ReadWrite,[0,1]),Ee=j.sourceCache.getRenderableTiles(),Ne=R.useProgram("terrainDepth");q.bindFramebuffer.set(j.getFramebuffer("depth").framebuffer),q.viewport.set([0,0,R.width/devicePixelRatio,R.height/devicePixelRatio]),q.clear({color:a.bf.transparent,depth:1});for(const Je of Ee){const ut=j.getTerrainMesh(Je.tileID),ht=j.getTerrainData(Je.tileID),ft=fe.getProjectionData({overscaledTileID:Je.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Mt={u_ele_delta:j.getMeshFrameDelta(fe.zoom)};Ne.draw(q,te.TRIANGLES,Oe,ie.disabled,ye,er.backCCW,Mt,ht,ft,"terrain",ut.vertexBuffer,ut.indexBuffer,ut.segments)}q.bindFramebuffer.set(null),q.viewport.set([0,0,R.width,R.height])}(this,this.style.map.terrain),function(R,j){const q=R.context,te=q.gl,fe=R.transform,ye=Kr.unblended,Oe=new Ei(te.LEQUAL,Ei.ReadWrite,[0,1]),Ee=j.getCoordsTexture(),Ne=j.sourceCache.getRenderableTiles(),Je=R.useProgram("terrainCoords");q.bindFramebuffer.set(j.getFramebuffer("coords").framebuffer),q.viewport.set([0,0,R.width/devicePixelRatio,R.height/devicePixelRatio]),q.clear({color:a.bf.transparent,depth:1}),j.coordsIndex=[];for(const ut of Ne){const ht=j.getTerrainMesh(ut.tileID),ft=j.getTerrainData(ut.tileID);q.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,Ee.texture);const Mt={u_terrain_coords_id:(255-j.coordsIndex.length)/255,u_texture:0,u_ele_delta:j.getMeshFrameDelta(fe.zoom)},Ct=fe.getProjectionData({overscaledTileID:ut.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Je.draw(q,te.TRIANGLES,Oe,ie.disabled,ye,er.backCCW,Mt,ft,Ct,"terrain",ht.vertexBuffer,ht.indexBuffer,ht.segments),j.coordsIndex.push(ut.tileID.key)}q.bindFramebuffer.set(null),q.viewport.set([0,0,R.width,R.height])}(this,this.style.map.terrain))}renderLayer(l,f,b,S,R){b.isHidden(this.transform.zoom)||(b.type==="background"||b.type==="custom"||(S||[]).length)&&(this.id=b.id,a.cb(b)?function(j,q,te,fe,ye,Oe){if(j.renderPass!=="translucent")return;const{isRenderingToTexture:Ee}=Oe,Ne=ie.disabled,Je=j.colorModeForRenderPass();(te._unevaluatedLayout.hasValue("text-variable-anchor")||te._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(ut,ht,ft,Mt,Ct,St,Pt,zt,Ot){const Ht=ht.transform,fn=ht.style.map.terrain,Jt=Ct==="map",rn=St==="map";for(const An of ut){const $n=Mt.getTile(An),Yn=$n.getBucket(ft);if(!Yn||!Yn.text||!Yn.text.segments.get().length)continue;const kn=a.an(Yn.textSizeData,Ht.zoom),wi=a.aC($n,1,ht.transform.zoom),fr=Ii(Jt,ht.transform,wi),xo=ft.layout.get("icon-text-fit")!=="none"&&Yn.hasIconData();if(kn){const fa=Math.pow(2,Ht.zoom-$n.tileID.overscaledZ),jo=fn?(ja,pa)=>fn.getElevation(An,ja,pa):null;rh(Yn,Jt,rn,Ot,Ht,fr,fa,kn,xo,a.aD(Ht,$n,Pt,zt),An.toUnwrapped(),jo)}}}(fe,j,te,q,te.layout.get("text-rotation-alignment"),te.layout.get("text-pitch-alignment"),te.paint.get("text-translate"),te.paint.get("text-translate-anchor"),ye),te.paint.get("icon-opacity").constantOr(1)!==0&&QA(j,q,te,fe,!1,te.paint.get("icon-translate"),te.paint.get("icon-translate-anchor"),te.layout.get("icon-rotation-alignment"),te.layout.get("icon-pitch-alignment"),te.layout.get("icon-keep-upright"),Ne,Je,Ee),te.paint.get("text-opacity").constantOr(1)!==0&&QA(j,q,te,fe,!0,te.paint.get("text-translate"),te.paint.get("text-translate-anchor"),te.layout.get("text-rotation-alignment"),te.layout.get("text-pitch-alignment"),te.layout.get("text-keep-upright"),Ne,Je,Ee),q.map.showCollisionBoxes&&(Th(j,q,te,fe,!0),Th(j,q,te,fe,!1))}(l,f,b,S,this.style.placement.variableOffsets,R):a.cc(b)?function(j,q,te,fe,ye){if(j.renderPass!=="translucent")return;const{isRenderingToTexture:Oe}=ye,Ee=te.paint.get("circle-opacity"),Ne=te.paint.get("circle-stroke-width"),Je=te.paint.get("circle-stroke-opacity"),ut=!te.layout.get("circle-sort-key").isConstant();if(Ee.constantOr(1)===0&&(Ne.constantOr(1)===0||Je.constantOr(1)===0))return;const ht=j.context,ft=ht.gl,Mt=j.transform,Ct=j.getDepthModeForSublayer(0,Ei.ReadOnly),St=ie.disabled,Pt=j.colorModeForRenderPass(),zt=[],Ot=Mt.getCircleRadiusCorrection();for(let Ht=0;Ht<fe.length;Ht++){const fn=fe[Ht],Jt=q.getTile(fn),rn=Jt.getBucket(te);if(!rn)continue;const An=te.paint.get("circle-translate"),$n=te.paint.get("circle-translate-anchor"),Yn=a.aD(Mt,Jt,An,$n),kn=rn.programConfigurations.get(te.id),wi=j.useProgram("circle",kn),fr=rn.layoutVertexBuffer,xo=rn.indexBuffer,fa=j.style.map.terrain&&j.style.map.terrain.getTerrainData(fn),jo={programConfiguration:kn,program:wi,layoutVertexBuffer:fr,indexBuffer:xo,uniformValues:Hf(j,Jt,te,Yn,Ot),terrainData:fa,projectionData:Mt.getProjectionData({overscaledTileID:fn,applyGlobeMatrix:!Oe,applyTerrainMatrix:!0})};if(ut){const ja=rn.segments.get();for(const pa of ja)zt.push({segments:new a.aM([pa]),sortKey:pa.sortKey,state:jo})}else zt.push({segments:rn.segments,sortKey:0,state:jo})}ut&&zt.sort((Ht,fn)=>Ht.sortKey-fn.sortKey);for(const Ht of zt){const{programConfiguration:fn,program:Jt,layoutVertexBuffer:rn,indexBuffer:An,uniformValues:$n,terrainData:Yn,projectionData:kn}=Ht.state;Jt.draw(ht,ft.TRIANGLES,Ct,St,Pt,er.backCCW,$n,Yn,kn,te.id,rn,An,Ht.segments,te.paint,j.transform.zoom,fn)}}(l,f,b,S,R):a.cd(b)?function(j,q,te,fe,ye){if(te.paint.get("heatmap-opacity")===0)return;const Oe=j.context,{isRenderingToTexture:Ee,isRenderingGlobe:Ne}=ye;if(j.style.map.terrain){for(const Je of fe){const ut=q.getTile(Je);q.hasRenderableParent(Je)||(j.renderPass==="offscreen"?id(j,ut,te,Je,Ne):j.renderPass==="translucent"&&Lu(j,te,Je,Ee,Ne))}Oe.viewport.set([0,0,j.width,j.height])}else j.renderPass==="offscreen"?function(Je,ut,ht,ft){const Mt=Je.context,Ct=Mt.gl,St=Je.transform,Pt=ie.disabled,zt=new Kr([Ct.ONE,Ct.ONE],a.bf.transparent,[!0,!0,!0,!0]);(function(Ot,Ht,fn){const Jt=Ot.gl;Ot.activeTexture.set(Jt.TEXTURE1),Ot.viewport.set([0,0,Ht.width/4,Ht.height/4]);let rn=fn.heatmapFbos.get(a.c2);rn?(Jt.bindTexture(Jt.TEXTURE_2D,rn.colorAttachment.get()),Ot.bindFramebuffer.set(rn.framebuffer)):(rn=Kl(Ot,Ht.width/4,Ht.height/4),fn.heatmapFbos.set(a.c2,rn))})(Mt,Je,ht),Mt.clear({color:a.bf.transparent});for(let Ot=0;Ot<ft.length;Ot++){const Ht=ft[Ot];if(ut.hasRenderableParent(Ht))continue;const fn=ut.getTile(Ht),Jt=fn.getBucket(ht);if(!Jt)continue;const rn=Jt.programConfigurations.get(ht.id),An=Je.useProgram("heatmap",rn),$n=St.getProjectionData({overscaledTileID:Ht,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Yn=St.getCircleRadiusCorrection();An.draw(Mt,Ct.TRIANGLES,Ei.disabled,Pt,zt,er.backCCW,Vf(fn,St.zoom,ht.paint.get("heatmap-intensity"),Yn),null,$n,ht.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Jt.segments,ht.paint,St.zoom,rn)}Mt.viewport.set([0,0,Je.width,Je.height])}(j,q,te,fe):j.renderPass==="translucent"&&function(Je,ut){const ht=Je.context,ft=ht.gl;ht.setColorMode(Je.colorModeForRenderPass());const Mt=ut.heatmapFbos.get(a.c2);Mt&&(ht.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,Mt.colorAttachment.get()),ht.activeTexture.set(ft.TEXTURE1),qo(ht,ut).bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Je.useProgram("heatmapTexture").draw(ht,ft.TRIANGLES,Ei.disabled,ie.disabled,Je.colorModeForRenderPass(),er.disabled,hu(Je,ut,0,1),null,null,ut.id,Je.viewportBuffer,Je.quadTriangleIndexBuffer,Je.viewportSegments,ut.paint,Je.transform.zoom))}(j,te)}(l,f,b,S,R):a.ce(b)?function(j,q,te,fe,ye){if(j.renderPass!=="translucent")return;const{isRenderingToTexture:Oe}=ye,Ee=te.paint.get("line-opacity"),Ne=te.paint.get("line-width");if(Ee.constantOr(1)===0||Ne.constantOr(1)===0)return;const Je=j.getDepthModeForSublayer(0,Ei.ReadOnly),ut=j.colorModeForRenderPass(),ht=te.paint.get("line-dasharray"),ft=te.paint.get("line-pattern"),Mt=ft.constantOr(1),Ct=te.paint.get("line-gradient"),St=te.getCrossfadeParameters(),Pt=Mt?"linePattern":ht?"lineSDF":Ct?"lineGradient":"line",zt=j.context,Ot=zt.gl,Ht=j.transform;let fn=!0;for(const Jt of fe){const rn=q.getTile(Jt);if(Mt&&!rn.patternsLoaded())continue;const An=rn.getBucket(te);if(!An)continue;const $n=An.programConfigurations.get(te.id),Yn=j.context.program.get(),kn=j.useProgram(Pt,$n),wi=fn||kn.program!==Yn,fr=j.style.map.terrain&&j.style.map.terrain.getTerrainData(Jt),xo=ft.constantOr(null);if(xo&&rn.imageAtlas){const Tr=rn.imageAtlas,Ho=Tr.patternPositions[xo.to.toString()],us=Tr.patternPositions[xo.from.toString()];Ho&&us&&$n.setConstantPatternPositions(Ho,us)}const fa=Ht.getProjectionData({overscaledTileID:Jt,applyGlobeMatrix:!Oe,applyTerrainMatrix:!0}),jo=Ht.getPixelScale(),ja=Mt?GA(j,rn,te,jo,St):ht?iA(j,rn,te,jo,ht,St):Ct?Dd(j,rn,te,jo,An.lineClipsArray.length):kd(j,rn,te,jo);if(Mt)zt.activeTexture.set(Ot.TEXTURE0),rn.imageAtlasTexture.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE),$n.updatePaintBuffers(St);else if(ht&&(wi||j.lineAtlas.dirty))zt.activeTexture.set(Ot.TEXTURE0),j.lineAtlas.bind(zt);else if(Ct){const Tr=An.gradients[te.id];let Ho=Tr.texture;if(te.gradientVersion!==Tr.version){let us=256;if(te.stepInterpolant){const $a=q.getSource().maxzoom,Ds=Jt.canonical.z===$a?Math.ceil(1<<j.transform.maxZoom-Jt.canonical.z):1;us=a.ah(a.c3(An.maxLineLength/a.$*1024*Ds),256,zt.maxTextureSize)}Tr.gradient=a.c4({expression:te.gradientExpression(),evaluationKey:"lineProgress",resolution:us,image:Tr.gradient||void 0,clips:An.lineClipsArray}),Tr.texture?Tr.texture.update(Tr.gradient):Tr.texture=new a.T(zt,Tr.gradient,Ot.RGBA),Tr.version=te.gradientVersion,Ho=Tr.texture}zt.activeTexture.set(Ot.TEXTURE0),Ho.bind(te.stepInterpolant?Ot.NEAREST:Ot.LINEAR,Ot.CLAMP_TO_EDGE)}const pa=j.stencilModeForClipping(Jt);kn.draw(zt,Ot.TRIANGLES,Je,pa,ut,er.disabled,ja,fr,fa,te.id,An.layoutVertexBuffer,An.indexBuffer,An.segments,te.paint,j.transform.zoom,$n,An.layoutVertexBuffer2),fn=!1}}(l,f,b,S,R):a.cf(b)?function(j,q,te,fe,ye){const Oe=te.paint.get("fill-color"),Ee=te.paint.get("fill-opacity");if(Ee.constantOr(1)===0)return;const{isRenderingToTexture:Ne}=ye,Je=j.colorModeForRenderPass(),ut=te.paint.get("fill-pattern"),ht=j.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&Oe.constantOr(a.bf.transparent).a===1&&Ee.constantOr(0)===1?"opaque":"translucent";if(j.renderPass===ht){const ft=j.getDepthModeForSublayer(1,j.renderPass==="opaque"?Ei.ReadWrite:Ei.ReadOnly);YA(j,q,te,fe,ft,Je,!1,Ne)}if(j.renderPass==="translucent"&&te.paint.get("fill-antialias")){const ft=j.getDepthModeForSublayer(te.getPaintProperty("fill-outline-color")?2:0,Ei.ReadOnly);YA(j,q,te,fe,ft,Je,!0,Ne)}}(l,f,b,S,R):a.cg(b)?function(j,q,te,fe,ye){const Oe=te.paint.get("fill-extrusion-opacity");if(Oe===0)return;const{isRenderingToTexture:Ee}=ye;if(j.renderPass==="translucent"){const Ne=new Ei(j.context.gl.LEQUAL,Ei.ReadWrite,j.depthRangeFor3D);if(Oe!==1||te.paint.get("fill-extrusion-pattern").constantOr(1))qA(j,q,te,fe,Ne,ie.disabled,Kr.disabled,Ee),qA(j,q,te,fe,Ne,j.stencilModeFor3D(),j.colorModeForRenderPass(),Ee);else{const Je=j.colorModeForRenderPass();qA(j,q,te,fe,Ne,ie.disabled,Je,Ee)}}}(l,f,b,S,R):a.ch(b)?function(j,q,te,fe,ye){if(j.renderPass!=="offscreen"&&j.renderPass!=="translucent")return;const{isRenderingToTexture:Oe}=ye,Ee=j.context,Ne=j.style.projection.useSubdivision,Je=j.getDepthModeForSublayer(0,Ei.ReadOnly),ut=j.colorModeForRenderPass();if(j.renderPass==="offscreen")(function(ht,ft,Mt,Ct,St,Pt,zt){const Ot=ht.context,Ht=Ot.gl;for(const fn of Mt){const Jt=ft.getTile(fn),rn=Jt.dem;if(!rn||!rn.data||!Jt.needsHillshadePrepare)continue;const An=rn.dim,$n=rn.stride,Yn=rn.getPixels();if(Ot.activeTexture.set(Ht.TEXTURE1),Ot.pixelStoreUnpackPremultiplyAlpha.set(!1),Jt.demTexture=Jt.demTexture||ht.getTileTexture($n),Jt.demTexture){const wi=Jt.demTexture;wi.update(Yn,{premultiply:!1}),wi.bind(Ht.NEAREST,Ht.CLAMP_TO_EDGE)}else Jt.demTexture=new a.T(Ot,Yn,Ht.RGBA,{premultiply:!1}),Jt.demTexture.bind(Ht.NEAREST,Ht.CLAMP_TO_EDGE);Ot.activeTexture.set(Ht.TEXTURE0);let kn=Jt.fbo;if(!kn){const wi=new a.T(Ot,{width:An,height:An,data:null},Ht.RGBA);wi.bind(Ht.LINEAR,Ht.CLAMP_TO_EDGE),kn=Jt.fbo=Ot.createFramebuffer(An,An,!0,!1),kn.colorAttachment.set(wi.texture)}Ot.bindFramebuffer.set(kn.framebuffer),Ot.viewport.set([0,0,An,An]),ht.useProgram("hillshadePrepare").draw(Ot,Ht.TRIANGLES,St,Pt,zt,er.disabled,dc(Jt.tileID,rn),null,null,Ct.id,ht.rasterBoundsBuffer,ht.quadTriangleIndexBuffer,ht.rasterBoundsSegments),Jt.needsHillshadePrepare=!1}})(j,q,fe,te,Je,ie.disabled,ut),Ee.viewport.set([0,0,j.width,j.height]);else if(j.renderPass==="translucent")if(Ne){const[ht,ft,Mt]=j.stencilConfigForOverlapTwoPass(fe);Kc(j,q,te,Mt,ht,Je,ut,!1,Oe),Kc(j,q,te,Mt,ft,Je,ut,!0,Oe)}else{const[ht,ft]=j.getStencilConfigForOverlapAndUpdateStencilID(fe);Kc(j,q,te,ft,ht,Je,ut,!1,Oe)}}(l,f,b,S,R):a.ci(b)?function(j,q,te,fe,ye){if(j.renderPass!=="translucent"||!fe.length)return;const{isRenderingToTexture:Oe}=ye,Ee=j.style.projection.useSubdivision,Ne=j.getDepthModeForSublayer(0,Ei.ReadOnly),Je=j.colorModeForRenderPass();if(Ee){const[ut,ht,ft]=j.stencilConfigForOverlapTwoPass(fe);oh(j,q,te,ft,ut,Ne,Je,!1,Oe),oh(j,q,te,ft,ht,Ne,Je,!0,Oe)}else{const[ut,ht]=j.getStencilConfigForOverlapAndUpdateStencilID(fe);oh(j,q,te,ht,ut,Ne,Je,!1,Oe)}}(l,f,b,S,R):a.cj(b)?function(j,q,te,fe,ye){if(j.renderPass!=="translucent"||te.paint.get("raster-opacity")===0||!fe.length)return;const{isRenderingToTexture:Oe}=ye,Ee=q.getSource(),Ne=j.style.projection.useSubdivision;if(Ee instanceof Wt)Ma(j,q,te,fe,null,!1,!1,Ee.tileCoords,Ee.flippedWindingOrder,Oe);else if(Ne){const[Je,ut,ht]=j.stencilConfigForOverlapTwoPass(fe);Ma(j,q,te,ht,Je,!1,!0,ah,!1,Oe),Ma(j,q,te,ht,ut,!0,!0,ah,!1,Oe)}else{const[Je,ut]=j.getStencilConfigForOverlapAndUpdateStencilID(fe);Ma(j,q,te,ut,Je,!1,!0,ah,!1,Oe)}}(l,f,b,S,R):a.ck(b)?function(j,q,te,fe,ye){const Oe=te.paint.get("background-color"),Ee=te.paint.get("background-opacity");if(Ee===0)return;const{isRenderingToTexture:Ne}=ye,Je=j.context,ut=Je.gl,ht=j.style.projection,ft=j.transform,Mt=ft.tileSize,Ct=te.paint.get("background-pattern");if(j.isPatternMissing(Ct))return;const St=!Ct&&Oe.a===1&&Ee===1&&j.opaquePassEnabledForLayer()?"opaque":"translucent";if(j.renderPass!==St)return;const Pt=ie.disabled,zt=j.getDepthModeForSublayer(0,St==="opaque"?Ei.ReadWrite:Ei.ReadOnly),Ot=j.colorModeForRenderPass(),Ht=j.useProgram(Ct?"backgroundPattern":"background"),fn=fe||rt(ft,{tileSize:Mt,terrain:j.style.map.terrain});Ct&&(Je.activeTexture.set(ut.TEXTURE0),j.imageManager.bind(j.context));const Jt=te.getCrossfadeParameters();for(const rn of fn){const An=ft.getProjectionData({overscaledTileID:rn,applyGlobeMatrix:!Ne,applyTerrainMatrix:!0}),$n=Ct?Fp(Ee,j,Ct,{tileID:rn,tileSize:Mt},Jt):rA(Ee,Oe),Yn=j.style.map.terrain&&j.style.map.terrain.getTerrainData(rn),kn=ht.getMeshFromTileID(Je,rn.canonical,!1,!0,"raster");Ht.draw(Je,ut.TRIANGLES,zt,Pt,Ot,er.backCCW,$n,Yn,An,te.id,kn.vertexBuffer,kn.indexBuffer,kn.segments)}}(l,0,b,S,R):a.cl(b)&&function(j,q,te,fe){const{isRenderingGlobe:ye}=fe,Oe=j.context,Ee=te.implementation,Ne=j.style.projection,Je=j.transform,ut=Je.getProjectionDataForCustomLayer(ye),ht={farZ:Je.farZ,nearZ:Je.nearZ,fov:Je.fov*Math.PI/180,modelViewProjectionMatrix:Je.modelViewProjectionMatrix,projectionMatrix:Je.projectionMatrix,shaderData:{variantName:Ne.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Ne.shaderPreludeCode.vertexSource}`,define:Ne.shaderDefine},defaultProjectionData:ut},ft=Ee.renderingMode?Ee.renderingMode:"2d";if(j.renderPass==="offscreen"){const Mt=Ee.prerender;Mt&&(j.setCustomLayerDefaults(),Oe.setColorMode(j.colorModeForRenderPass()),Mt.call(Ee,Oe.gl,ht),Oe.setDirty(),j.setBaseState())}else if(j.renderPass==="translucent"){j.setCustomLayerDefaults(),Oe.setColorMode(j.colorModeForRenderPass()),Oe.setStencilMode(ie.disabled);const Mt=ft==="3d"?j.getDepthModeFor3D():j.getDepthModeForSublayer(0,Ei.ReadOnly);Oe.setDepthMode(Mt),Ee.render(Oe.gl,ht),Oe.setDirty(),j.setBaseState(),Oe.bindFramebuffer.set(null)}}(l,0,b,R))}saveTileTexture(l){const f=this._tileTextures[l.size[0]];f?f.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const f=this._tileTextures[l];return f&&f.length>0?f.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const f=this.imageManager.getPattern(l.from.toString()),b=this.imageManager.getPattern(l.to.toString());return!f||!b}useProgram(l,f,b=!1,S=[]){this.cache=this.cache||{};const R=!!this.style.map.terrain,j=this.style.projection,q=b?Po.projectionMercator:j.shaderPreludeCode,te=b?Wl:j.shaderDefine,fe=l+(f?f.cacheKey:"")+`/${b?Iu:j.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(R?"/terrain":"")+(S?`/${S.join("/")}`:"");return this.cache[fe]||(this.cache[fe]=new as(this.context,Po[l],f,Tu[l],this._showOverdrawInspector,R,q,te,S)),this.cache[fe]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:l,drawingBufferHeight:f}=this.context.gl;return this.width!==l||this.height!==f}}function sA(k,l){let f,b=!1,S=null,R=null;const j=()=>{S=null,b&&(k.apply(R,f),S=setTimeout(j,l),b=!1)};return(...q)=>(b=!0,R=this,f=q,S||j(),S)}class at{constructor(l){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let b;return f.split("&").map(S=>S.split("=")).forEach(S=>{S[0]===this._hashName&&(b=S)}),(b&&b[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(!this._isValidHash(f))return!1;const b=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:b,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{const f=this._getCurrentHash();if(f.length===0)return;const b=f.join("/");let S=b;S.split("&").length>0&&(S=S.split("&")[0]),this._hashName&&(S=`${this._hashName}=${b}`);let R=window.location.hash.replace(S,"");R.startsWith("#&")?R=R.slice(0,1)+R.slice(2):R==="#"&&(R="");let j=window.location.href.replace(/(#.+)?$/,R);j=j.replace("&&","&"),window.history.replaceState(window.history.state,null,j)},this._updateHash=sA(this._updateHashUnthrottled,300),this._hashName=l&&encodeURIComponent(l)}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(l){const f=this._map.getCenter(),b=Math.round(100*this._map.getZoom())/100,S=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),R=Math.pow(10,S),j=Math.round(f.lng*R)/R,q=Math.round(f.lat*R)/R,te=this._map.getBearing(),fe=this._map.getPitch();let ye="";if(ye+=l?`/${j}/${q}/${b}`:`${b}/${q}/${j}`,(te||fe)&&(ye+="/"+Math.round(10*te)/10),fe&&(ye+=`/${Math.round(fe)}`),this._hashName){const Oe=this._hashName;let Ee=!1;const Ne=window.location.hash.slice(1).split("&").map(Je=>{const ut=Je.split("=")[0];return ut===Oe?(Ee=!0,`${ut}=${ye}`):Je}).filter(Je=>Je);return Ee||Ne.push(`${Oe}=${ye}`),`#${Ne.join("&")}`}return`#${ye}`}_isValidHash(l){if(l.length<3||l.some(isNaN))return!1;try{new a.S(+l[2],+l[1])}catch{return!1}const f=+l[0],b=+(l[3]||0),S=+(l[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&b>=-180&&b<=180&&S>=this._map.getMinPitch()&&S<=this._map.getMaxPitch()}}const nl={linearity:.3,easing:a.cm(0,0,.3,1)},Ha=a.e({deceleration:2500,maxSpeed:1400},nl),na=a.e({deceleration:20,maxSpeed:1400},nl),Cr=a.e({deceleration:1e3,maxSpeed:360},nl),bs=a.e({deceleration:1e3,maxSpeed:90},nl),lh=a.e({deceleration:1e3,maxSpeed:360},nl);class Rh{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:O.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,f=O.now();for(;l.length>0&&f-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:R}of this._inertiaBuffer)f.zoom+=R.zoomDelta||0,f.bearing+=R.bearingDelta||0,f.pitch+=R.pitchDelta||0,f.roll+=R.rollDelta||0,R.panDelta&&f.pan._add(R.panDelta),R.around&&(f.around=R.around),R.pinchAround&&(f.pinchAround=R.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(f.pan.mag()){const R=uh(f.pan.mag(),b,a.e({},Ha,l||{})),j=f.pan.mult(R.amount/f.pan.mag()),q=this._map.cameraHelper.handlePanInertia(j,this._map.transform);S.center=q.easingCenter,S.offset=q.easingOffset,Ko(S,R)}if(f.zoom){const R=uh(f.zoom,b,na);S.zoom=this._map.transform.zoom+R.amount,Ko(S,R)}if(f.bearing){const R=uh(f.bearing,b,Cr);S.bearing=this._map.transform.bearing+a.ah(R.amount,-179,179),Ko(S,R)}if(f.pitch){const R=uh(f.pitch,b,bs);S.pitch=this._map.transform.pitch+R.amount,Ko(S,R)}if(f.roll){const R=uh(f.roll,b,lh);S.roll=this._map.transform.roll+a.ah(R.amount,-179,179),Ko(S,R)}if(S.zoom||S.bearing){const R=f.pinchAround===void 0?f.around:f.pinchAround;S.around=R?this._map.unproject(R):this._map.getCenter()}return this.clear(),a.e(S,{noMoveStart:!0})}}function Ko(k,l){(!k.duration||k.duration<l.duration)&&(k.duration=l.duration,k.easing=l.easing)}function uh(k,l,f){const{maxSpeed:b,linearity:S,deceleration:R}=f,j=a.ah(k*S/(l/1e3),-b,b),q=Math.abs(j)/(R*S);return{easing:f.easing,duration:1e3*q,amount:j*(q/2)}}class Fu extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,b,S={}){b=b instanceof MouseEvent?b:new MouseEvent(l,b);const R=B.mousePos(f.getCanvas(),b),j=f.unproject(R);super(l,a.e({point:R,lngLat:j,originalEvent:b},S)),this._defaultPrevented=!1,this.target=f}}class Ld extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,b){const S=l==="touchend"?b.changedTouches:b.touches,R=B.touchPos(f.getCanvasContainer(),S),j=R.map(te=>f.unproject(te)),q=R.reduce((te,fe,ye,Oe)=>te.add(fe.div(Oe.length)),new a.P(0,0));super(l,{points:R,point:q,lngLats:j,lngLat:f.unproject(q),originalEvent:b}),this._defaultPrevented=!1}}class df extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,b){super(l,{originalEvent:b}),this._defaultPrevented=!1}}class jp{constructor(l,f){this._map=l,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new df(l.type,this._map,l))}mousedown(l,f){return this._mousedownPos=f,this._firePreventable(new Fu(l.type,this._map,l))}mouseup(l){this._map.fire(new Fu(l.type,this._map,l))}click(l,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new Fu(l.type,this._map,l))}dblclick(l){return this._firePreventable(new Fu(l.type,this._map,l))}mouseover(l){this._map.fire(new Fu(l.type,this._map,l))}mouseout(l){this._map.fire(new Fu(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Ld(l.type,this._map,l))}touchmove(l){this._map.fire(new Ld(l.type,this._map,l))}touchend(l){this._map.fire(new Ld(l.type,this._map,l))}touchcancel(l){this._map.fire(new Ld(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ea{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new Fu(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Fu("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new Fu(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ph{constructor(l){this._map=l}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(l){return this.transform.screenPointToLocation(a.P.convert(l),this._map.terrain)}}class Ah{constructor(l,f){this._map=l,this._tr=new Ph(l),this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,f){this.isEnabled()&&l.shiftKey&&l.button===0&&(B.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(l,f){if(!this._active)return;const b=f;if(this._lastPos.equals(b)||!this._box&&b.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=b,this._box||(this._box=B.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",l));const R=Math.min(S.x,b.x),j=Math.max(S.x,b.x),q=Math.min(S.y,b.y),te=Math.max(S.y,b.y);B.setTransform(this._box,`translate(${R}px,${q}px)`),this._box.style.width=j-R+"px",this._box.style.height=te-q+"px"}mouseupWindow(l,f){if(!this._active||l.button!==0)return;const b=this._startPos,S=f;if(this.reset(),B.suppressClick(),b.x!==S.x||b.y!==S.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:l})),{cameraAnimation:R=>R.fitScreenCoordinates(b,S,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(B.remove(this._box),this._box=null),B.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,f){return this._map.fire(new a.l(l,{originalEvent:f}))}}function VA(k,l){if(k.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${k.length}, points ${l.length}`);const f={};for(let b=0;b<k.length;b++)f[k[b].identifier]=l[b];return f}class ff{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,f,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),b.length===this.numTouches&&(this.centroid=function(S){const R=new a.P(0,0);for(const j of S)R._add(j);return R.div(S.length)}(f),this.touches=VA(b,f)))}touchmove(l,f,b){if(this.aborted||!this.centroid)return;const S=VA(b,f);for(const R in this.touches){const j=S[R];(!j||j.dist(this.touches[R])>30)&&(this.aborted=!0)}}touchend(l,f,b){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),b.length===0){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class Al{constructor(l){this.singleTap=new ff(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,f,b){this.singleTap.touchstart(l,f,b)}touchmove(l,f,b){this.singleTap.touchmove(l,f,b)}touchend(l,f,b){const S=this.singleTap.touchend(l,f,b);if(S){const R=l.timeStamp-this.lastTime<500,j=!this.lastTap||this.lastTap.dist(S)<30;if(R&&j||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class ss{constructor(l){this._tr=new Ph(l),this._zoomIn=new Al({numTouches:1,numTaps:2}),this._zoomOut=new Al({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,f,b){this._zoomIn.touchstart(l,f,b),this._zoomOut.touchstart(l,f,b)}touchmove(l,f,b){this._zoomIn.touchmove(l,f,b),this._zoomOut.touchmove(l,f,b)}touchend(l,f,b){const S=this._zoomIn.touchend(l,f,b),R=this._zoomOut.touchend(l,f,b),j=this._tr;return S?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:q=>q.easeTo({duration:300,zoom:j.zoom+1,around:j.unproject(S)},{originalEvent:l})}):R?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:q=>q.easeTo({duration:300,zoom:j.zoom-1,around:j.unproject(R)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rd{constructor(l){this._enabled=!!l.enable,this._moveStateManager=l.moveStateManager,this._clickTolerance=l.clickTolerance||1,this._moveFunction=l.move,this._activateOnStart=!!l.activateOnStart,l.assignEvents(this),this.reset()}reset(l){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(l)}_move(...l){const f=this._moveFunction(...l);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(l,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(l)&&(this._moveStateManager.startMove(l),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(l,f){if(!this.isEnabled())return;const b=this._lastPoint;if(!b)return;if(l.preventDefault(),!this._moveStateManager.isValidMoveEvent(l))return void this.reset(l);const S=Array.isArray(f)?f[0]:f;return!this._moved&&S.dist(b)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=S,this._move(b,S))}dragEnd(l){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(l)&&(this._moved&&B.suppressClick(),this.reset(l))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const mu=0,Fd=2,pf={[mu]:1,[Fd]:2};class wl{constructor(l){this._correctEvent=l.checkCorrectEvent}startMove(l){const f=B.mouseButton(l);this._eventButton=f}endMove(l){delete this._eventButton}isValidStartEvent(l){return this._correctEvent(l)}isValidMoveEvent(l){return!function(f,b){const S=pf[b];return f.buttons===void 0||(f.buttons&S)!==S}(l,this._eventButton)}isValidEndEvent(l){return B.mouseButton(l)===this._eventButton}}class Lc{constructor(){this._firstTouch=void 0}_isOneFingerTouch(l){return l.targetTouches.length===1}_isSameTouchEvent(l){return l.targetTouches[0].identifier===this._firstTouch}startMove(l){this._firstTouch=l.targetTouches[0].identifier}endMove(l){delete this._firstTouch}isValidStartEvent(l){return this._isOneFingerTouch(l)}isValidMoveEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}isValidEndEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}}class Xf{constructor(l=new wl({checkCorrectEvent:()=>!0}),f=new Lc){this.mouseMoveStateManager=l,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(l,f,b){return l instanceof MouseEvent?f(l):typeof TouchEvent<"u"&&l instanceof TouchEvent?b(l):void 0}startMove(l){this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.startMove(f),f=>this.oneFingerTouchMoveStateManager.startMove(f))}endMove(l){this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.endMove(f),f=>this.oneFingerTouchMoveStateManager.endMove(f))}isValidStartEvent(l){return this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.isValidStartEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f))}isValidMoveEvent(l){return this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.isValidMoveEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f))}isValidEndEvent(l){return this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.isValidEndEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f))}}const od=k=>{k.mousedown=k.dragStart,k.mousemoveWindow=k.dragMove,k.mouseup=k.dragEnd,k.contextmenu=l=>{l.preventDefault()}};class wa{constructor(l,f){this._clickTolerance=l.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(l){return l<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(l,f,b){return this._calculateTransform(l,f,b)}touchmove(l,f,b){if(this._active){if(!this._shouldBePrevented(b.length))return l.preventDefault(),this._calculateTransform(l,f,b);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",l)}}touchend(l,f,b){this._calculateTransform(l,f,b),this._active&&this._shouldBePrevented(b.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,f,b){b.length>0&&(this._active=!0);const S=VA(b,f),R=new a.P(0,0),j=new a.P(0,0);let q=0;for(const fe in S){const ye=S[fe],Oe=this._touches[fe];Oe&&(R._add(ye),j._add(ye.sub(Oe)),q++,S[fe]=ye)}if(this._touches=S,this._shouldBePrevented(q)||!j.mag())return;const te=j.div(q);return this._sum._add(te),this._sum.mag()<this._clickTolerance?void 0:{around:R.div(q),panDelta:te}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class eo{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(l,f,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([f[0],f[1]]))}touchmove(l,f,b){if(!this._firstTwoTouches)return;l.preventDefault();const[S,R]=this._firstTwoTouches,j=hi(b,f,S),q=hi(b,f,R);if(!j||!q)return;const te=this._aroundCenter?null:j.add(q).div(2);return this._move([j,q],te,l)}touchend(l,f,b){if(!this._firstTwoTouches)return;const[S,R]=this._firstTwoTouches,j=hi(b,f,S),q=hi(b,f,R);j&&q||(this._active&&B.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function hi(k,l,f){for(let b=0;b<k.length;b++)if(k[b].identifier===f)return l[b]}function $A(k,l){return Math.log(k/l)/Math.LN2}class ZA extends eo{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,f){const b=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs($A(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:$A(this._distance,b),pinchAround:f}}}function ad(k,l){return 180*k.angleWith(l)/Math.PI}class Fc extends eo{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,f,b){const S=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ad(this._vector,S),pinchAround:f}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const f=25/(Math.PI*this._minDiameter)*360,b=ad(l,this._startVector);return Math.abs(b)<f}}function MA(k){return Math.abs(k.y)>Math.abs(k.x)}class mf extends eo{constructor(l){super(),this._currentTouchCount=0,this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,f,b){super.touchstart(l,f,b),this._currentTouchCount=b.length}_start(l){this._lastPoints=l,MA(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,f,b){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const S=l[0].sub(this._lastPoints[0]),R=l[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(S,R,b.timeStamp),this._valid?(this._lastPoints=l,this._active=!0,{pitchDelta:(S.y+R.y)/2*-.5}):void 0}gestureBeginsVertically(l,f,b){if(this._valid!==void 0)return this._valid;const S=l.mag()>=2,R=f.mag()>=2;if(!S&&!R)return;if(!S||!R)return this._firstMove===void 0&&(this._firstMove=b),b-this._firstMove<100&&void 0;const j=l.y>0==f.y>0;return MA(l)&&MA(f)&&j}}const ro={panStep:100,bearingStep:15,pitchStep:10};class Vl{constructor(l){this._tr=new Ph(l);const f=ro;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let f=0,b=0,S=0,R=0,j=0;switch(l.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:l.shiftKey?b=-1:(l.preventDefault(),R=-1);break;case 39:l.shiftKey?b=1:(l.preventDefault(),R=1);break;case 38:l.shiftKey?S=1:(l.preventDefault(),j=-1);break;case 40:l.shiftKey?S=-1:(l.preventDefault(),j=1);break;default:return}return this._rotationDisabled&&(b=0,S=0),{cameraAnimation:q=>{const te=this._tr;q.easeTo({duration:300,easeId:"keyboardHandler",easing:Uh,zoom:f?Math.round(te.zoom)+f*(l.shiftKey?2:1):te.zoom,bearing:te.bearing+b*this._bearingStep,pitch:te.pitch+S*this._pitchStep,offset:[-R*this._panStep,-j*this._panStep],center:te.center},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Uh(k){return k*(2-k)}const gc=4.000244140625,zu=1/450;class yc{constructor(l,f){this._onTimeout=b=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(b)},this._map=l,this._tr=new Ph(l),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=zu}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(l){return!!this._map.cooperativeGestures.isEnabled()&&!(l.ctrlKey||this._map.cooperativeGestures.isBypassed(l))}wheel(l){if(!this.isEnabled())return;if(this._shouldBePrevented(l))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",l);let f=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const b=O.now(),S=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,f!==0&&f%gc==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(S*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),l.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=l,this._delta-=f,this._active||this._start(l)),l.preventDefault()}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=B.mousePos(this._map.getCanvas(),l),b=this._tr;this._aroundPoint=this._aroundCenter?b.transform.locationToScreenPoint(a.S.convert(b.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const q=l.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=q),typeof this._targetZoom=="number"&&(this._targetZoom+=q)}if(this._delta!==0){const q=this._type==="wheel"&&Math.abs(this._delta)>gc?this._wheelZoomRate:this._defaultZoomRate;let te=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&te!==0&&(te=1/te);const fe=typeof this._targetZoom!="number"?l.scale:a.af(this._targetZoom);this._targetZoom=l.getConstrained(l.getCameraLngLat(),a.ak(fe*te)).zoom,this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom!="number"?l.zoom:this._targetZoom,b=this._startZoom,S=this._easing;let R,j=!1;if(this._type==="wheel"&&b&&S){const q=O.now()-this._lastWheelEventTime,te=Math.min((q+5)/200,1),fe=S(te);R=a.C.number(b,f,fe),te<1?this._frameId||(this._frameId=!0):j=!0}else R=f,j=!0;return this._active=!0,j&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=R,{noInertia:!0,needsRenderFrame:!j,zoomDelta:R-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let f=a.co;if(this._prevEase){const b=this._prevEase,S=(O.now()-b.start)/b.duration,R=b.easing(S+.01)-b.easing(S),j=.27/Math.sqrt(R*R+1e-4)*.01,q=Math.sqrt(.0729-j*j);f=a.cm(j,q,.25,1)}return this._prevEase={start:O.now(),duration:l,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Kh{constructor(l,f){this._clickZoom=l,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class wA{constructor(l){this._tr=new Ph(l),this.reset()}reset(){this._active=!1}dblclick(l,f){return l.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:this._tr.zoom+(l.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ch{constructor(){this._tap=new Al({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(l,f,b){if(!this._swipePoint)if(this._tapTime){const S=f[0],R=l.timeStamp-this._tapTime<500,j=this._tapPoint.dist(S)<30;R&&j?b.length>0&&(this._swipePoint=S,this._swipeTouch=b[0].identifier):this.reset()}else this._tap.touchstart(l,f,b)}touchmove(l,f,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const S=f[0],R=S.y-this._swipePoint.y;return this._swipePoint=S,l.preventDefault(),this._active=!0,{zoomDelta:R/128}}}else this._tap.touchmove(l,f,b)}touchend(l,f,b){if(this._tapTime)this._swipePoint&&b.length===0&&this.reset();else{const S=this._tap.touchend(l,f,b);S&&(this._tapTime=l.timeStamp,this._tapPoint=S)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lA{constructor(l,f,b){this._el=l,this._mousePan=f,this._touchPan=b}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Sl{constructor(l,f,b,S){this._pitchWithRotate=l.pitchWithRotate,this._rollEnabled=l.rollEnabled,this._mouseRotate=f,this._mousePitch=b,this._mouseRoll=S}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Np{constructor(l,f,b,S){this._el=l,this._touchZoom=f,this._touchRotate=b,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class gf{constructor(l,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=l,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const l=this._map.getCanvasContainer();l.classList.add("maplibregl-cooperative-gestures"),this._container=B.create("div","maplibregl-cooperative-gesture-screen",l);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const b=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),S=document.createElement("div");S.className="maplibregl-desktop-message",S.textContent=f,this._container.appendChild(S);const R=document.createElement("div");R.className="maplibregl-mobile-message",R.textContent=b,this._container.appendChild(R),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(B.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(l){return l[this._bypassKey]}notifyGestureBlocked(l,f){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:l,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const $l=k=>k.zoom||k.drag||k.roll||k.pitch||k.rotate;class Lo extends a.l{}function Zl(k){return k.panDelta&&k.panDelta.mag()||k.zoomDelta||k.bearingDelta||k.pitchDelta||k.rollDelta}class sd{constructor(l,f){this.handleWindowEvent=S=>{this.handleEvent(S,`${S.type}Window`)},this.handleEvent=(S,R)=>{if(S.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const j=S.type==="renderFrame"?void 0:S,q={needsRenderFrame:!1},te={},fe={};for(const{handlerName:Ee,handler:Ne,allowed:Je}of this._handlers){if(!Ne.isEnabled())continue;let ut;if(this._blockedByActive(fe,Je,Ee))Ne.reset();else if(Ne[R||S.type]){if(a.cp(S,R||S.type)){const ht=B.mousePos(this._map.getCanvas(),S);ut=Ne[R||S.type](S,ht)}else if(a.cq(S,R||S.type)){const ht=this._getMapTouches(S.touches),ft=B.touchPos(this._map.getCanvas(),ht);ut=Ne[R||S.type](S,ft,ht)}else a.cr(R||S.type)||(ut=Ne[R||S.type](S));this.mergeHandlerResult(q,te,ut,Ee,j),ut&&ut.needsRenderFrame&&this._triggerRenderFrame()}(ut||Ne.isActive())&&(fe[Ee]=Ne)}const ye={};for(const Ee in this._previousActiveHandlers)fe[Ee]||(ye[Ee]=j);this._previousActiveHandlers=fe,(Object.keys(ye).length||Zl(q))&&(this._changes.push([q,te,ye]),this._triggerRenderFrame()),(Object.keys(fe).length||Zl(q))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Oe}=q;Oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Oe(this._map))},this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Rh(l),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[window,"blur",void 0]];for(const[S,R,j]of this._listeners)B.addEventListener(S,R,S===document?this.handleWindowEvent:this.handleEvent,j)}destroy(){for(const[l,f,b]of this._listeners)B.removeEventListener(l,f,l===document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(l){const f=this._map,b=f.getCanvasContainer();this._add("mapEvent",new jp(f,l));const S=f.boxZoom=new Ah(f,l);this._add("boxZoom",S),l.interactive&&l.boxZoom&&S.enable();const R=f.cooperativeGestures=new gf(f,l.cooperativeGestures);this._add("cooperativeGestures",R),l.cooperativeGestures&&R.enable();const j=new ss(f),q=new wA(f);f.doubleClickZoom=new Kh(q,j),this._add("tapZoom",j),this._add("clickZoom",q),l.interactive&&l.doubleClickZoom&&f.doubleClickZoom.enable();const te=new ch;this._add("tapDragZoom",te);const fe=f.touchPitch=new mf(f);this._add("touchPitch",fe),l.interactive&&l.touchPitch&&f.touchPitch.enable(l.touchPitch);const ye=()=>f.project(f.getCenter()),Oe=function({enable:St,clickTolerance:Pt,aroundCenter:zt=!0,minPixelCenterThreshold:Ot=100,rotateDegreesPerPixelMoved:Ht=.8},fn){const Jt=new wl({checkCorrectEvent:rn=>B.mouseButton(rn)===0&&rn.ctrlKey||B.mouseButton(rn)===2&&!rn.ctrlKey});return new rd({clickTolerance:Pt,move:(rn,An)=>{const $n=fn();if(zt&&Math.abs($n.y-rn.y)>Ot)return{bearingDelta:a.cn(new a.P(rn.x,An.y),An,$n)};let Yn=(An.x-rn.x)*Ht;return zt&&An.y<$n.y&&(Yn=-Yn),{bearingDelta:Yn}},moveStateManager:Jt,enable:St,assignEvents:od})}(l,ye),Ee=function({enable:St,clickTolerance:Pt,pitchDegreesPerPixelMoved:zt=-.5}){const Ot=new wl({checkCorrectEvent:Ht=>B.mouseButton(Ht)===0&&Ht.ctrlKey||B.mouseButton(Ht)===2});return new rd({clickTolerance:Pt,move:(Ht,fn)=>({pitchDelta:(fn.y-Ht.y)*zt}),moveStateManager:Ot,enable:St,assignEvents:od})}(l),Ne=function({enable:St,clickTolerance:Pt,rollDegreesPerPixelMoved:zt=.3},Ot){const Ht=new wl({checkCorrectEvent:fn=>B.mouseButton(fn)===2&&fn.ctrlKey});return new rd({clickTolerance:Pt,move:(fn,Jt)=>{const rn=Ot();let An=(Jt.x-fn.x)*zt;return Jt.y<rn.y&&(An=-An),{rollDelta:An}},moveStateManager:Ht,enable:St,assignEvents:od})}(l,ye);f.dragRotate=new Sl(l,Oe,Ee,Ne),this._add("mouseRotate",Oe,["mousePitch"]),this._add("mousePitch",Ee,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Ne,["mousePitch"]),l.interactive&&l.dragRotate&&f.dragRotate.enable();const Je=function({enable:St,clickTolerance:Pt}){const zt=new wl({checkCorrectEvent:Ot=>B.mouseButton(Ot)===0&&!Ot.ctrlKey});return new rd({clickTolerance:Pt,move:(Ot,Ht)=>({around:Ht,panDelta:Ht.sub(Ot)}),activateOnStart:!0,moveStateManager:zt,enable:St,assignEvents:od})}(l),ut=new wa(l,f);f.dragPan=new lA(b,Je,ut),this._add("mousePan",Je),this._add("touchPan",ut,["touchZoom","touchRotate"]),l.interactive&&l.dragPan&&f.dragPan.enable(l.dragPan);const ht=new Fc,ft=new ZA;f.touchZoomRotate=new Np(b,ft,ht,te),this._add("touchRotate",ht,["touchPan","touchZoom"]),this._add("touchZoom",ft,["touchPan","touchRotate"]),l.interactive&&l.touchZoomRotate&&f.touchZoomRotate.enable(l.touchZoomRotate);const Mt=f.scrollZoom=new yc(f,()=>this._triggerRenderFrame());this._add("scrollZoom",Mt,["mousePan"]),l.interactive&&l.scrollZoom&&f.scrollZoom.enable(l.scrollZoom);const Ct=f.keyboard=new Vl(f);this._add("keyboard",Ct),l.interactive&&l.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new Ea(f))}_add(l,f,b){this._handlers.push({handlerName:l,handler:f,allowed:b}),this._handlersById[l]=f}stop(l){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$l(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,f,b){for(const S in l)if(S!==b&&(!f||f.indexOf(S)<0))return!0;return!1}_getMapTouches(l){const f=[];for(const b of l)this._el.contains(b.target)&&f.push(b);return f}mergeHandlerResult(l,f,b,S,R){if(!b)return;a.e(l,b);const j={handlerName:S,originalEvent:b.originalEvent||R};b.zoomDelta!==void 0&&(f.zoom=j),b.panDelta!==void 0&&(f.drag=j),b.rollDelta!==void 0&&(f.roll=j),b.pitchDelta!==void 0&&(f.pitch=j),b.bearingDelta!==void 0&&(f.rotate=j)}_applyChanges(){const l={},f={},b={};for(const[S,R,j]of this._changes)S.panDelta&&(l.panDelta=(l.panDelta||new a.P(0,0))._add(S.panDelta)),S.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+S.pitchDelta),S.rollDelta&&(l.rollDelta=(l.rollDelta||0)+S.rollDelta),S.around!==void 0&&(l.around=S.around),S.pinchAround!==void 0&&(l.pinchAround=S.pinchAround),S.noInertia&&(l.noInertia=S.noInertia),a.e(f,R),a.e(b,j);this._updateMapTransform(l,f,b),this._changes=[]}_updateMapTransform(l,f,b){const S=this._map,R=S._getTransformForUpdate(),j=S.terrain;if(!(Zl(l)||j&&this._terrainMovement))return this._fireEvents(f,b,!0);S._stop(!0);let{panDelta:q,zoomDelta:te,bearingDelta:fe,pitchDelta:ye,rollDelta:Oe,around:Ee,pinchAround:Ne}=l;Ne!==void 0&&(Ee=Ne),Ee=Ee||S.transform.centerPoint,j&&!R.isPointOnMapSurface(Ee)&&(Ee=R.centerPoint);const Je={panDelta:q,zoomDelta:te,rollDelta:Oe,pitchDelta:ye,bearingDelta:fe,around:Ee};this._map.cameraHelper.useGlobeControls&&!R.isPointOnMapSurface(Ee)&&(Ee=R.centerPoint);const ut=Ee.distSqr(R.centerPoint)<.01?R.center:R.screenPointToLocation(q?Ee.sub(q):Ee);j?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Je,R),this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?R.setCenter(R.screenPointToLocation(R.centerPoint.sub(q))):this._map.cameraHelper.handleMapControlsPan(Je,R,ut):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Je,R,ut))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Je,R),this._map.cameraHelper.handleMapControlsPan(Je,R,ut)),S._applyUpdatedTransform(R),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(f,b,!0)}_fireEvents(l,f,b){const S=$l(this._eventsInProgress),R=$l(l),j={};for(const Oe in l){const{originalEvent:Ee}=l[Oe];this._eventsInProgress[Oe]||(j[`${Oe}start`]=Ee),this._eventsInProgress[Oe]=l[Oe]}!S&&R&&this._fireEvent("movestart",R.originalEvent);for(const Oe in j)this._fireEvent(Oe,j[Oe]);R&&this._fireEvent("move",R.originalEvent);for(const Oe in l){const{originalEvent:Ee}=l[Oe];this._fireEvent(Oe,Ee)}const q={};let te;for(const Oe in this._eventsInProgress){const{handlerName:Ee,originalEvent:Ne}=this._eventsInProgress[Oe];this._handlersById[Ee].isActive()||(delete this._eventsInProgress[Oe],te=f[Ee]||Ne,q[`${Oe}end`]=te)}for(const Oe in q)this._fireEvent(Oe,q[Oe]);const fe=$l(this._eventsInProgress),ye=(S||R)&&!fe;if(ye&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Oe=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Oe.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Oe)}if(b&&ye){this._updatingCamera=!0;const Oe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ee=Ne=>Ne!==0&&-this._bearingSnap<Ne&&Ne<this._bearingSnap;!Oe||!Oe.essential&&O.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:te})),Ee(this._map.getBearing())&&this._map.resetNorth()):(Ee(Oe.bearing||this._map.getBearing())&&(Oe.bearing=0),Oe.freezeElevation=!0,this._map.easeTo(Oe,{originalEvent:te})),this._updatingCamera=!1}}_fireEvent(l,f){this._map.fire(new a.l(l,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Lo("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Jf extends a.E{constructor(l,f,b){super(),this._renderFrameCallback=()=>{const S=Math.min((O.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(S)),S<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=b.bearingSnap,this.cameraHelper=f,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(l,f){l.apply(this.transform),this.transform=l,this.cameraHelper=f}getCenter(){return new a.S(this.transform.center.lng,this.transform.center.lat)}setCenter(l,f){return this.jumpTo({center:l},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(l,f){return this.jumpTo({elevation:l},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(l){this._centerClampedToGround=l}panBy(l,f,b){return l=a.P.convert(l).mult(-1),this.panTo(this.transform.center,a.e({offset:l},f),b)}panTo(l,f,b){return this.easeTo(a.e({center:l},f),b)}getZoom(){return this.transform.zoom}setZoom(l,f){return this.jumpTo({zoom:l},f),this}zoomTo(l,f,b){return this.easeTo(a.e({zoom:l},f),b)}zoomIn(l,f){return this.zoomTo(this.getZoom()+1,l,f),this}zoomOut(l,f){return this.zoomTo(this.getZoom()-1,l,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(l,f){return l!=this.transform.fov&&(this.transform.setFov(l),this.fire(new a.l("movestart",f)).fire(new a.l("move",f)).fire(new a.l("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(l,f){return this.jumpTo({bearing:l},f),this}getPadding(){return this.transform.padding}setPadding(l,f){return this.jumpTo({padding:l},f),this}rotateTo(l,f,b){return this.easeTo(a.e({bearing:l},f),b)}resetNorth(l,f){return this.rotateTo(0,a.e({duration:1e3},l),f),this}resetNorthPitch(l,f){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},l),f),this}snapToNorth(l,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,f):this}getPitch(){return this.transform.pitch}setPitch(l,f){return this.jumpTo({pitch:l},f),this}getRoll(){return this.transform.roll}setRoll(l,f){return this.jumpTo({roll:l},f),this}cameraForBounds(l,f){l=vt.convert(l).adjustAntiMeridian();const b=f&&f.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),b,f)}_cameraForBoxAndBearing(l,f,b,S){const R={top:0,bottom:0,right:0,left:0};if(typeof(S=a.e({padding:R,offset:[0,0],maxZoom:this.transform.maxZoom},S)).padding=="number"){const fe=S.padding;S.padding={top:fe,bottom:fe,right:fe,left:fe}}const j=a.e(R,S.padding);S.padding=j;const q=this.transform,te=new vt(l,f);return this.cameraHelper.cameraForBoxAndBearing(S,j,te,b,q)}fitBounds(l,f,b){return this._fitInternal(this.cameraForBounds(l,f),f,b)}fitScreenCoordinates(l,f,b,S,R){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(l)),this.transform.screenPointToLocation(a.P.convert(f)),b,S),S,R)}_fitInternal(l,f,b){return l?(delete(f=a.e(l,f)).padding,f.linear?this.easeTo(f,b):this.flyTo(f,b)):this}jumpTo(l,f){this.stop();const b=this._getTransformForUpdate();let S=!1,R=!1,j=!1;const q=b.zoom;this.cameraHelper.handleJumpToCenterZoom(b,l);const te=b.zoom!==q;return"elevation"in l&&b.elevation!==+l.elevation&&b.setElevation(+l.elevation),"bearing"in l&&b.bearing!==+l.bearing&&(S=!0,b.setBearing(+l.bearing)),"pitch"in l&&b.pitch!==+l.pitch&&(R=!0,b.setPitch(+l.pitch)),"roll"in l&&b.roll!==+l.roll&&(j=!0,b.setRoll(+l.roll)),l.padding==null||b.isPaddingEqual(l.padding)||b.setPadding(l.padding),this._applyUpdatedTransform(b),this.fire(new a.l("movestart",f)).fire(new a.l("move",f)),te&&this.fire(new a.l("zoomstart",f)).fire(new a.l("zoom",f)).fire(new a.l("zoomend",f)),S&&this.fire(new a.l("rotatestart",f)).fire(new a.l("rotate",f)).fire(new a.l("rotateend",f)),R&&this.fire(new a.l("pitchstart",f)).fire(new a.l("pitch",f)).fire(new a.l("pitchend",f)),j&&this.fire(new a.l("rollstart",f)).fire(new a.l("roll",f)).fire(new a.l("rollend",f)),this.fire(new a.l("moveend",f))}calculateCameraOptionsFromTo(l,f,b,S=0){const R=a.a1.fromLngLat(l,f),j=a.a1.fromLngLat(b,S),q=j.x-R.x,te=j.y-R.y,fe=j.z-R.z,ye=Math.hypot(q,te,fe);if(ye===0)throw new Error("Can't calculate camera options with same From and To");const Oe=Math.hypot(q,te),Ee=a.ak(this.transform.cameraToCenterDistance/ye/this.transform.tileSize),Ne=180*Math.atan2(q,-te)/Math.PI;let Je=180*Math.acos(Oe/ye)/Math.PI;return Je=fe<0?90-Je:90+Je,{center:j.toLngLat(),elevation:S,zoom:Ee,pitch:Je,bearing:Ne}}calculateCameraOptionsFromCameraLngLatAltRotation(l,f,b,S,R){const j=this.transform.calculateCenterFromCameraLngLatAlt(l,f,b,S);return{center:j.center,elevation:j.elevation,zoom:j.zoom,bearing:b,pitch:S,roll:R}}easeTo(l,f){this._stop(!1,l.easeId),((l=a.e({offset:[0,0],duration:500,easing:a.co},l)).animate===!1||!l.essential&&O.prefersReducedMotion)&&(l.duration=0);const b=this._getTransformForUpdate(),S=this.getBearing(),R=b.pitch,j=b.roll,q="bearing"in l?this._normalizeBearing(l.bearing,S):S,te="pitch"in l?+l.pitch:R,fe="roll"in l?this._normalizeBearing(l.roll,j):j,ye="padding"in l?l.padding:b.padding,Oe=a.P.convert(l.offset);let Ee,Ne;l.around&&(Ee=a.S.convert(l.around),Ne=b.locationToScreenPoint(Ee));const Je={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},ut=this.cameraHelper.handleEaseTo(b,{bearing:q,pitch:te,roll:fe,padding:ye,around:Ee,aroundPoint:Ne,offsetAsPoint:Oe,offset:l.offset,zoom:l.zoom,center:l.center});return this._rotating=this._rotating||S!==q,this._pitching=this._pitching||te!==R,this._rolling=this._rolling||fe!==j,this._padding=!b.isPaddingEqual(ye),this._zooming=this._zooming||ut.isZooming,this._easeId=l.easeId,this._prepareEase(f,l.noMoveStart,Je),this.terrain&&this._prepareElevation(ut.elevationCenter),this._ease(ht=>{ut.easeFunc(ht),this.terrain&&!l.freezeElevation&&this._updateElevation(ht),this._applyUpdatedTransform(b),this._fireMoveEvents(f)},ht=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(f,ht)},l),this}_prepareEase(l,f,b={}){this._moving=!0,f||b.moving||this.fire(new a.l("movestart",l)),this._zooming&&!b.zooming&&this.fire(new a.l("zoomstart",l)),this._rotating&&!b.rotating&&this.fire(new a.l("rotatestart",l)),this._pitching&&!b.pitching&&this.fire(new a.l("pitchstart",l)),this._rolling&&!b.rolling&&this.fire(new a.l("rollstart",l))}_prepareElevation(l){this._elevationCenter=l,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(l,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(l){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(l<1&&f!==this._elevationTarget){const b=this._elevationTarget-this._elevationStart;this._elevationStart+=l*(b-(f-(b*l+this._elevationStart))/(1-l)),this._elevationTarget=f}this.transform.setElevation(a.C.number(this._elevationStart,this._elevationTarget,l))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(l){if(!this.terrain&&l.elevation>=0&&l.pitch<=90)return{};const f=l.getCameraLngLat(),b=l.getCameraAltitude(),S=this.terrain?this.terrain.getElevationForLngLatZoom(f,l.zoom):0;if(b<S){const R=this.calculateCameraOptionsFromTo(f,S,l.center,l.elevation);return{pitch:R.pitch,zoom:R.zoom}}return{}}_applyUpdatedTransform(l){const f=[];if(f.push(S=>this._elevateCameraIfInsideTerrain(S)),this.transformCameraUpdate&&f.push(S=>this.transformCameraUpdate(S)),!f.length)return;const b=l.clone();for(const S of f){const R=b.clone(),{center:j,zoom:q,roll:te,pitch:fe,bearing:ye,elevation:Oe}=S(R);j&&R.setCenter(j),Oe!==void 0&&R.setElevation(Oe),q!==void 0&&R.setZoom(q),te!==void 0&&R.setRoll(te),fe!==void 0&&R.setPitch(fe),ye!==void 0&&R.setBearing(ye),b.apply(R)}this.transform.apply(b)}_fireMoveEvents(l){this.fire(new a.l("move",l)),this._zooming&&this.fire(new a.l("zoom",l)),this._rotating&&this.fire(new a.l("rotate",l)),this._pitching&&this.fire(new a.l("pitch",l)),this._rolling&&this.fire(new a.l("roll",l))}_afterEase(l,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const b=this._zooming,S=this._rotating,R=this._pitching,j=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,b&&this.fire(new a.l("zoomend",l)),S&&this.fire(new a.l("rotateend",l)),R&&this.fire(new a.l("pitchend",l)),j&&this.fire(new a.l("rollend",l)),this.fire(new a.l("moveend",l))}flyTo(l,f){if(!l.essential&&O.prefersReducedMotion){const An=a.Q(l,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(An,f)}this.stop(),l=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.co},l);const b=this._getTransformForUpdate(),S=b.bearing,R=b.pitch,j=b.roll,q=b.padding,te="bearing"in l?this._normalizeBearing(l.bearing,S):S,fe="pitch"in l?+l.pitch:R,ye="roll"in l?this._normalizeBearing(l.roll,j):j,Oe="padding"in l?l.padding:b.padding,Ee=a.P.convert(l.offset);let Ne=b.centerPoint.add(Ee);const Je=b.screenPointToLocation(Ne),ut=this.cameraHelper.handleFlyTo(b,{bearing:te,pitch:fe,roll:ye,padding:Oe,locationAtOffset:Je,offsetAsPoint:Ee,center:l.center,minZoom:l.minZoom,zoom:l.zoom});let ht=l.curve;const ft=Math.max(b.width,b.height),Mt=ft/ut.scaleOfZoom,Ct=ut.pixelPathLength;typeof ut.scaleOfMinZoom=="number"&&(ht=Math.sqrt(ft/ut.scaleOfMinZoom/Ct*2));const St=ht*ht;function Pt(An){const $n=(Mt*Mt-ft*ft+(An?-1:1)*St*St*Ct*Ct)/(2*(An?Mt:ft)*St*Ct);return Math.log(Math.sqrt($n*$n+1)-$n)}function zt(An){return(Math.exp(An)-Math.exp(-An))/2}function Ot(An){return(Math.exp(An)+Math.exp(-An))/2}const Ht=Pt(!1);let fn=function(An){return Ot(Ht)/Ot(Ht+ht*An)},Jt=function(An){return ft*((Ot(Ht)*(zt($n=Ht+ht*An)/Ot($n))-zt(Ht))/St)/Ct;var $n},rn=(Pt(!0)-Ht)/ht;if(Math.abs(Ct)<2e-6||!isFinite(rn)){if(Math.abs(ft-Mt)<1e-6)return this.easeTo(l,f);const An=Mt<ft?-1:1;rn=Math.abs(Math.log(Mt/ft))/ht,Jt=()=>0,fn=$n=>Math.exp(An*ht*$n)}return l.duration="duration"in l?+l.duration:1e3*rn/("screenSpeed"in l?+l.screenSpeed/ht:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=S!==te,this._pitching=fe!==R,this._rolling=ye!==j,this._padding=!b.isPaddingEqual(Oe),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(ut.targetCenter),this._ease(An=>{const $n=An*rn,Yn=1/fn($n),kn=Jt($n);this._rotating&&b.setBearing(a.C.number(S,te,An)),this._pitching&&b.setPitch(a.C.number(R,fe,An)),this._rolling&&b.setRoll(a.C.number(j,ye,An)),this._padding&&(b.interpolatePadding(q,Oe,An),Ne=b.centerPoint.add(Ee)),ut.easeFunc(An,Yn,kn,Ne),this.terrain&&!l.freezeElevation&&this._updateElevation(An),this._applyUpdatedTransform(b),this._fireMoveEvents(f)},()=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(f)},l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,f){var b;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const S=this._onEaseEnd;delete this._onEaseEnd,S.call(this,f)}return l||(b=this.handlers)===null||b===void 0||b.stop(!1),this}_ease(l,f,b){b.animate===!1||b.duration===0?(l(1),f()):(this._easeStart=O.now(),this._easeOptions=b,this._onEaseFrame=l,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(l,f){l=a.aO(l,-180,180);const b=Math.abs(l-f);return Math.abs(l-360-f)<b&&(l-=360),Math.abs(l+360-f)<b&&(l+=360),l}queryTerrainElevation(l){return this.terrain?this.terrain.getElevationForLngLatZoom(a.S.convert(l),this.transform.tileZoom):null}}const SA={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class oo{constructor(l=SA){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=l}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options.compact,this._container=B.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=B.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=B.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){B.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(l,f){const b=this._map._getUIString(`AttributionControl.${f}`);l.title=b,l.setAttribute("aria-label",b)}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map(S=>typeof S!="string"?"":S)):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const f=this._map.style.sourceCaches;for(const S in f){const R=f[S];if(R.used||R.usedForTerrain){const j=R.getSource();j.attribution&&l.indexOf(j.attribution)<0&&l.push(j.attribution)}}l=l.filter(S=>String(S).trim()),l.sort((S,R)=>S.length-R.length),l=l.filter((S,R)=>{for(let j=R+1;j<l.length;j++)if(l[j].indexOf(S)>=0)return!1;return!0});const b=l.join(" | ");b!==this._attribHTML&&(this._attribHTML=b,l.length?(this._innerContainer.innerHTML=B.sanitize(b),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Fo{constructor(l={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const b=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&b.classList.add("maplibregl-compact"):b.classList.remove("maplibregl-compact")}},this.options=l}getDefaultPosition(){return"bottom-left"}onAdd(l){this._map=l,this._compact=this.options&&this.options.compact,this._container=B.create("div","maplibregl-ctrl");const f=B.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){B.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Lr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const f=++this._id;return this._queue.push({callback:l,id:f,cancelled:!1}),f}remove(l){const f=this._currentlyRunning,b=f?this._queue.concat(f):this._queue;for(const S of b)if(S.id===l)return void(S.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const b of f)if(!b.cancelled&&(b.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var XA=a.aJ([{name:"a_pos3d",type:"Int16",components:3}]);class ki extends a.E{constructor(l){super(),this._lastTilesetChange=O.now(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=l._source.tileSize*2**this.deltaZoom,l.usedForTerrain=!0,l.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(l,f){this.sourceCache.update(l,f),this._renderableTilesKeys=[];const b={};for(const S of rt(l,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))b[S.key]=!0,this._renderableTilesKeys.push(S.key),this._tiles[S.key]||(S.terrainRttPosMatrix32f=new Float64Array(16),a.bY(S.terrainRttPosMatrix32f,0,a.$,a.$,0,0,1),this._tiles[S.key]=new de(S,this.tileSize),this._lastTilesetChange=O.now());for(const S in this._tiles)b[S]||delete this._tiles[S]}freeRtt(l){for(const f in this._tiles){const b=this._tiles[f];(!l||b.tileID.equals(l)||b.tileID.isChildOf(l)||l.isChildOf(b.tileID))&&(b.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l,f){return f?this._getTerrainCoordsForTileRanges(l,f):this._getTerrainCoordsForRegularTile(l)}_getTerrainCoordsForRegularTile(l){const f={};for(const b of this._renderableTilesKeys){const S=this._tiles[b].tileID,R=l.clone(),j=a.ba();if(S.canonical.equals(l.canonical))a.bY(j,0,a.$,a.$,0,0,1);else if(S.canonical.isChildOf(l.canonical)){const q=S.canonical.z-l.canonical.z,te=S.canonical.x-(S.canonical.x>>q<<q),fe=S.canonical.y-(S.canonical.y>>q<<q),ye=a.$>>q;a.bY(j,0,ye,ye,0,0,1),a.M(j,j,[-te*ye,-fe*ye,0])}else{if(!l.canonical.isChildOf(S.canonical))continue;{const q=l.canonical.z-S.canonical.z,te=l.canonical.x-(l.canonical.x>>q<<q),fe=l.canonical.y-(l.canonical.y>>q<<q),ye=a.$>>q;a.bY(j,0,a.$,a.$,0,0,1),a.M(j,j,[te*ye,fe*ye,0]),a.N(j,j,[1/2**q,1/2**q,0])}}R.terrainRttPosMatrix32f=new Float32Array(j),f[b]=R}return f}_getTerrainCoordsForTileRanges(l,f){const b={};for(const S of this._renderableTilesKeys){const R=this._tiles[S].tileID;if(!this._isWithinTileRanges(R,f))continue;const j=l.clone(),q=a.ba();if(R.canonical.z===l.canonical.z){const te=l.canonical.x-R.canonical.x,fe=l.canonical.y-R.canonical.y;a.bY(q,0,a.$,a.$,0,0,1),a.M(q,q,[te*a.$,fe*a.$,0])}else if(R.canonical.z>l.canonical.z){const te=R.canonical.z-l.canonical.z,fe=R.canonical.x-(R.canonical.x>>te<<te),ye=R.canonical.y-(R.canonical.y>>te<<te),Oe=l.canonical.x-(R.canonical.x>>te),Ee=l.canonical.y-(R.canonical.y>>te),Ne=a.$>>te;a.bY(q,0,Ne,Ne,0,0,1),a.M(q,q,[-fe*Ne+Oe*a.$,-ye*Ne+Ee*a.$,0])}else{const te=l.canonical.z-R.canonical.z,fe=l.canonical.x-(l.canonical.x>>te<<te),ye=l.canonical.y-(l.canonical.y>>te<<te),Oe=(l.canonical.x>>te)-R.canonical.x,Ee=(l.canonical.y>>te)-R.canonical.y,Ne=a.$<<te;a.bY(q,0,Ne,Ne,0,0,1),a.M(q,q,[fe*a.$+Oe*Ne,ye*a.$+Ee*Ne,0])}j.terrainRttPosMatrix32f=new Float32Array(q),b[S]=j}return b}getSourceTile(l,f){const b=this.sourceCache._source;let S=l.overscaledZ-this.deltaZoom;if(S>b.maxzoom&&(S=b.maxzoom),S<b.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo(S).key);let R=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!R||!R.dem)&&f)for(;S>=b.minzoom&&(!R||!R.dem);)R=this.sourceCache.getTileByID(l.scaledTo(S--).key);return R}anyTilesAfterTime(l=Date.now()){return this._lastTilesetChange>=l}_isWithinTileRanges(l,f){return f[l.canonical.z]&&l.canonical.x>=f[l.canonical.z].minTileX&&l.canonical.x<=f[l.canonical.z].maxTileX&&l.canonical.y>=f[l.canonical.z].minTileY&&l.canonical.y<=f[l.canonical.z].maxTileY}}class Ri{constructor(l,f,b){this._meshCache={},this.painter=l,this.sourceCache=new ki(f),this.options=b,this.exaggeration=typeof b.exaggeration=="number"?b.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(l,f,b,S=a.$){var R;if(!(f>=0&&f<S&&b>=0&&b<S))return 0;const j=this.getTerrainData(l),q=(R=j.tile)===null||R===void 0?void 0:R.dem;if(!q)return 0;const te=a.cs([],[f/S*a.$,b/S*a.$],j.u_terrain_matrix),fe=[te[0]*q.dim,te[1]*q.dim],ye=Math.floor(fe[0]),Oe=Math.floor(fe[1]),Ee=fe[0]-ye,Ne=fe[1]-Oe;return q.get(ye,Oe)*(1-Ee)*(1-Ne)+q.get(ye+1,Oe)*Ee*(1-Ne)+q.get(ye,Oe+1)*(1-Ee)*Ne+q.get(ye+1,Oe+1)*Ee*Ne}getElevationForLngLatZoom(l,f){if(!a.ct(f,l.wrap()))return 0;const{tileID:b,mercatorX:S,mercatorY:R}=this._getOverscaledTileIDFromLngLatZoom(l,f);return this.getElevation(b,S%a.$,R%a.$,a.$)}getElevation(l,f,b,S=a.$){return this.getDEMElevation(l,f,b,S)*this.exaggeration}getTerrainData(l){if(!this._emptyDemTexture){const S=this.painter.context,R=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(S,R,S.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(S,new a.R({width:1,height:1}),S.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ag([])}const f=this.sourceCache.getSourceTile(l,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const S=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new a.T(S,f.dem.getPixels(),S.gl.RGBA,{premultiply:!1}),f.demTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const b=f&&f+f.tileID.key+l.key;if(b&&!this._demMatrixCache[b]){const S=this.sourceCache.sourceCache._source.maxzoom;let R=l.canonical.z-f.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=S?R=l.canonical.z-S:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const j=l.canonical.x-(l.canonical.x>>R<<R),q=l.canonical.y-(l.canonical.y>>R<<R),te=a.cu(new Float64Array(16),[1/(a.$<<R),1/(a.$<<R),0]);a.M(te,te,[j*a.$,q*a.$,0]),this._demMatrixCache[l.key]={matrix:te,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:b?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(l){const f=this.painter,b=f.width/devicePixelRatio,S=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===b&&this._fbo.height===S||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(f.context,{width:b,height:S,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(f.context,{width:b,height:S,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(b,S,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,b,S))),this._fbo.colorAttachment.set(l==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const l=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let R=0,j=0;R<this._coordsTextureSize;R++)for(let q=0;q<this._coordsTextureSize;q++,j+=4)f[j+0]=255&q,f[j+1]=255&R,f[j+2]=q>>8<<4|R>>8,f[j+3]=0;const b=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),S=new a.T(l,b,l.gl.RGBA,{premultiply:!1});return S.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=S,S}pointCoordinate(l){this.painter.maybeDrawDepthAndCoords(!0);const f=new Uint8Array(4),b=this.painter.context,S=b.gl,R=Math.round(l.x*this.painter.pixelRatio/devicePixelRatio),j=Math.round(l.y*this.painter.pixelRatio/devicePixelRatio),q=Math.round(this.painter.height/devicePixelRatio);b.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),S.readPixels(R,q-j-1,1,1,S.RGBA,S.UNSIGNED_BYTE,f),b.bindFramebuffer.set(null);const te=f[0]+(f[2]>>4<<8),fe=f[1]+((15&f[2])<<8),ye=this.coordsIndex[255-f[3]],Oe=ye&&this.sourceCache.getTileByID(ye);if(!Oe)return null;const Ee=this._coordsTextureSize,Ne=(1<<Oe.tileID.canonical.z)*Ee;return new a.a1((Oe.tileID.canonical.x*Ee+te)/Ne+Oe.tileID.wrap,(Oe.tileID.canonical.y*Ee+fe)/Ne,this.getElevation(Oe.tileID,te,fe,Ee))}depthAtPoint(l){const f=new Uint8Array(4),b=this.painter.context,S=b.gl;return b.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),S.readPixels(l.x,this.painter.height/devicePixelRatio-l.y-1,1,1,S.RGBA,S.UNSIGNED_BYTE,f),b.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(l){var f;const b=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,S=b&&l.canonical.y===0,R=b&&l.canonical.y===(1<<l.canonical.z)-1,j=`m_${S?"n":""}_${R?"s":""}`;if(this._meshCache[j])return this._meshCache[j];const q=this.painter.context,te=new a.cv,fe=new a.aN,ye=this.meshSize,Oe=a.$/ye,Ee=ye*ye;for(let Ot=0;Ot<=ye;Ot++)for(let Ht=0;Ht<=ye;Ht++)te.emplaceBack(Ht*Oe,Ot*Oe,0);for(let Ot=0;Ot<Ee;Ot+=ye+1)for(let Ht=0;Ht<ye;Ht++)fe.emplaceBack(Ht+Ot,ye+Ht+Ot+1,ye+Ht+Ot+2),fe.emplaceBack(Ht+Ot,ye+Ht+Ot+2,Ht+Ot+1);const Ne=te.length,Je=Ne+(ye+1),ut=(ye+1)*ye,ht=S?a.bh:0,ft=S?0:1,Mt=R?a.bi:a.$,Ct=R?0:1;for(let Ot=0;Ot<=ye;Ot++)te.emplaceBack(Ot*Oe,ht,ft);for(let Ot=0;Ot<=ye;Ot++)te.emplaceBack(Ot*Oe,Mt,Ct);for(let Ot=0;Ot<ye;Ot++)fe.emplaceBack(ut+Ot,Je+Ot,Je+Ot+1),fe.emplaceBack(ut+Ot,Je+Ot+1,ut+Ot+1),fe.emplaceBack(0+Ot,Ne+Ot+1,Ne+Ot),fe.emplaceBack(0+Ot,0+Ot+1,Ne+Ot+1);const St=te.length,Pt=St+2*(ye+1);for(const Ot of[0,1])for(let Ht=0;Ht<=ye;Ht++)for(const fn of[0,1])te.emplaceBack(Ot*a.$,Ht*Oe,fn);for(let Ot=0;Ot<2*ye;Ot+=2)fe.emplaceBack(St+Ot,St+Ot+1,St+Ot+3),fe.emplaceBack(St+Ot,St+Ot+3,St+Ot+2),fe.emplaceBack(Pt+Ot,Pt+Ot+3,Pt+Ot+1),fe.emplaceBack(Pt+Ot,Pt+Ot+2,Pt+Ot+3);const zt=new Gl(q.createVertexBuffer(te,XA.members),q.createIndexBuffer(fe),a.aM.simpleSegment(0,0,te.length,fe.length));return this._meshCache[j]=zt,zt}getMeshFrameDelta(l){return 2*Math.PI*a.bu/Math.pow(2,Math.max(l,0))/5}getMinTileElevationForLngLatZoom(l,f){var b;const{tileID:S}=this._getOverscaledTileIDFromLngLatZoom(l,f);return(b=this.getMinMaxElevation(S).minElevation)!==null&&b!==void 0?b:0}getMinMaxElevation(l){const f=this.getTerrainData(l).tile,b={minElevation:null,maxElevation:null};return f&&f.dem&&(b.minElevation=f.dem.min*this.exaggeration,b.maxElevation=f.dem.max*this.exaggeration),b}_getOverscaledTileIDFromLngLatZoom(l,f){const b=a.a1.fromLngLat(l.wrap()),S=(1<<f)*a.$,R=b.x*S,j=b.y*S,q=Math.floor(R/a.$),te=Math.floor(j/a.$);return{tileID:new a.Z(f,0,f,q,te),mercatorX:R,mercatorY:j}}}class zc{constructor(l,f,b){this._context=l,this._size=f,this._tileSize=b,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const l of this._objects)l.texture.destroy(),l.fbo.destroy()}_createObject(l){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),b=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return b.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(b.texture),{id:l,fbo:f,texture:b,stamp:-1,inUse:!1}}getObjectForId(l){return this._objects[l]}useObject(l){l.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>l.id!==f),this._recentlyUsed.push(l.id)}stampObject(l){l.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const l=this._createObject(this._objects.length);return this._objects.push(l),l}freeObject(l){l.inUse=!1}freeAllObjects(){for(const l of this._objects)this.freeObject(l)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(l=>!l.inUse)===!1}}const ju={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class gu{constructor(l,f){this.painter=l,this.terrain=f,this.pool=new zc(l.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(l){return this.pool.getObjectForId(l.rtt[this._stacks.length-1].id).texture}prepareForRender(l,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=l._order.filter(b=>!l._layers[b].isHidden(f)),this._coordsAscending={};for(const b in l.sourceCaches){this._coordsAscending[b]={};const S=l.sourceCaches[b].getVisibleCoordinates(),R=l.sourceCaches[b].getSource(),j=R instanceof Wt?R.terrainTileRanges:null;for(const q of S){const te=this.terrain.sourceCache.getTerrainCoords(q,j);for(const fe in te)this._coordsAscending[b][fe]||(this._coordsAscending[b][fe]=[]),this._coordsAscending[b][fe].push(te[fe])}}this._coordsAscendingStr={};for(const b of l._order){const S=l._layers[b],R=S.source;if(ju[S.type]&&!this._coordsAscendingStr[R]){this._coordsAscendingStr[R]={};for(const j in this._coordsAscending[R])this._coordsAscendingStr[R][j]=this._coordsAscending[R][j].map(q=>q.key).sort().join()}}for(const b of this._renderableTiles)for(const S in this._coordsAscendingStr){const R=this._coordsAscendingStr[S][b.tileID.key];R&&R!==b.rttCoords[S]&&(b.rtt=[])}}renderLayer(l,f){if(l.isHidden(this.painter.transform.zoom))return!1;const b=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),S=l.type,R=this.painter,j=this._renderableLayerIds[this._renderableLayerIds.length-1]===l.id;if(ju[S]&&(this._prevType&&ju[this._prevType]||this._stacks.push([]),this._prevType=S,this._stacks[this._stacks.length-1].push(l.id),!j))return!0;if(ju[this._prevType]||ju[S]&&j){this._prevType=S;const q=this._stacks.length-1,te=this._stacks[q]||[];for(const fe of this._renderableTiles){if(this.pool.isFull()&&(hf(this.painter,this.terrain,this._rttTiles,b),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(fe),fe.rtt[q]){const Oe=this.pool.getObjectForId(fe.rtt[q].id);if(Oe.stamp===fe.rtt[q].stamp){this.pool.useObject(Oe);continue}}const ye=this.pool.getOrCreateFreeObject();this.pool.useObject(ye),this.pool.stampObject(ye),fe.rtt[q]={id:ye.id,stamp:ye.stamp},R.context.bindFramebuffer.set(ye.fbo.framebuffer),R.context.clear({color:a.bf.transparent,stencil:0}),R.currentStencilSource=void 0;for(let Oe=0;Oe<te.length;Oe++){const Ee=R.style._layers[te[Oe]],Ne=Ee.source?this._coordsAscending[Ee.source][fe.tileID.key]:[fe.tileID];R.context.viewport.set([0,0,ye.fbo.width,ye.fbo.height]),R._renderTileClippingMasks(Ee,Ne,!0),R.renderLayer(R,R.style.sourceCaches[Ee.source],Ee,Ne,b),Ee.source&&(fe.rttCoords[Ee.source]=this._coordsAscendingStr[Ee.source][fe.tileID.key])}}return hf(this.painter,this.terrain,this._rttTiles,b),this._rttTiles=[],this.pool.freeAllObjects(),ju[S]}return!1}}const da={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},yo=p,Xl={hash:!1,interactive:!0,bearingSnap:7,attributionControl:SA,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},ep={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class ld{constructor(l,f,b=!1){this.mousedown=R=>{this.startMove(R,B.mousePos(this.element,R)),B.addEventListener(window,"mousemove",this.mousemove),B.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=R=>{this.move(R,B.mousePos(this.element,R))},this.mouseup=R=>{this._rotatePitchHandler.dragEnd(R),this.offTemp()},this.touchstart=R=>{R.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=B.touchPos(this.element,R.targetTouches)[0],this.startMove(R,this._startPos),B.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),B.addEventListener(window,"touchend",this.touchend))},this.touchmove=R=>{R.targetTouches.length!==1?this.reset():(this._lastPos=B.touchPos(this.element,R.targetTouches)[0],this.move(R,this._lastPos))},this.touchend=R=>{R.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;const S=new Xf;this._rotatePitchHandler=new rd({clickTolerance:3,move:(R,j)=>{const q=f.getBoundingClientRect(),te=new a.P((q.bottom-q.top)/2,(q.right-q.left)/2);return{bearingDelta:a.cn(new a.P(R.x,j.y),j,te),pitchDelta:b?-.5*(j.y-R.y):void 0}},moveStateManager:S,enable:!0,assignEvents:()=>{}}),this.map=l,B.addEventListener(f,"mousedown",this.mousedown),B.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),B.addEventListener(f,"touchcancel",this.reset)}startMove(l,f){this._rotatePitchHandler.dragStart(l,f),B.disableDrag()}move(l,f){const b=this.map,{bearingDelta:S,pitchDelta:R}=this._rotatePitchHandler.dragMove(l,f)||{};S&&b.setBearing(b.getBearing()+S),R&&b.setPitch(b.getPitch()+R)}off(){const l=this.element;B.removeEventListener(l,"mousedown",this.mousedown),B.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),B.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),B.removeEventListener(window,"touchend",this.touchend),B.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){B.enableDrag(),B.removeEventListener(window,"mousemove",this.mousemove),B.removeEventListener(window,"mouseup",this.mouseup),B.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),B.removeEventListener(window,"touchend",this.touchend)}}let zo;function Va(k,l,f,b=!1){if(b||!f.getCoveringTilesDetailsProvider().allowWorldCopies())return k?.wrap();const S=new a.S(k.lng,k.lat);if(k=new a.S(k.lng,k.lat),l){const R=new a.S(k.lng-360,k.lat),j=new a.S(k.lng+360,k.lat),q=f.locationToScreenPoint(k).distSqr(l);f.locationToScreenPoint(R).distSqr(l)<q?k=R:f.locationToScreenPoint(j).distSqr(l)<q&&(k=j)}for(;Math.abs(k.lng-f.center.lng)>180;){const R=f.locationToScreenPoint(k);if(R.x>=0&&R.y>=0&&R.x<=f.width&&R.y<=f.height)break;k.lng>f.center.lng?k.lng-=360:k.lng+=360}return k.lng!==S.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(k))?k:S}const ud={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function EA(k,l,f){const b=k.classList;for(const S in ud)b.remove(`maplibregl-${f}-anchor-${S}`);b.add(`maplibregl-${f}-anchor-${l}`)}class jc extends a.E{constructor(l){if(super(),this._onKeyPress=f=>{const b=f.code,S=f.charCode||f.keyCode;b!=="Space"&&b!=="Enter"&&S!==32&&S!==13||this.togglePopup()},this._onMapClick=f=>{const b=f.originalEvent.target,S=this._element;this._popup&&(b===S||S.contains(b))&&this.togglePopup()},this._update=f=>{if(!this._map)return;const b=this._map.loaded()&&!this._map.isMoving();(f?.type==="terrain"||f?.type==="render"&&!b)&&this._map.once("render",this._update),this._lngLat=Va(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let S="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?S=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(S=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let R="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?R="rotateX(0deg)":this._pitchAlignment==="map"&&(R=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),B.setTransform(this._element,`${ud[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${R} ${S}`),O.frameAsync(new AbortController).then(()=>{this._updateOpacity(f&&f.type==="moveend")}).catch(()=>{})},this._onMove=f=>{if(!this._isDragging){const b=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=b}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._subpixelPositioning=l&&l.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,this.setOpacity(l?.opacity,l?.opacityWhenCovered),l&&l.element)this._element=l.element,this._offset=a.P.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=B.create("div");const f=B.createNS("http://www.w3.org/2000/svg","svg"),b=41,S=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${b}px`),f.setAttributeNS(null,"width",`${S}px`),f.setAttributeNS(null,"viewBox",`0 0 ${S} ${b}`);const R=B.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"stroke","none"),R.setAttributeNS(null,"stroke-width","1"),R.setAttributeNS(null,"fill","none"),R.setAttributeNS(null,"fill-rule","evenodd");const j=B.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"fill-rule","nonzero");const q=B.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"transform","translate(3.0, 29.0)"),q.setAttributeNS(null,"fill","#000000");const te=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ft of te){const Mt=B.createNS("http://www.w3.org/2000/svg","ellipse");Mt.setAttributeNS(null,"opacity","0.04"),Mt.setAttributeNS(null,"cx","10.5"),Mt.setAttributeNS(null,"cy","5.80029008"),Mt.setAttributeNS(null,"rx",ft.rx),Mt.setAttributeNS(null,"ry",ft.ry),q.appendChild(Mt)}const fe=B.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"fill",this._color);const ye=B.createNS("http://www.w3.org/2000/svg","path");ye.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),fe.appendChild(ye);const Oe=B.createNS("http://www.w3.org/2000/svg","g");Oe.setAttributeNS(null,"opacity","0.25"),Oe.setAttributeNS(null,"fill","#000000");const Ee=B.createNS("http://www.w3.org/2000/svg","path");Ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Oe.appendChild(Ee);const Ne=B.createNS("http://www.w3.org/2000/svg","g");Ne.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ne.setAttributeNS(null,"fill","#FFFFFF");const Je=B.createNS("http://www.w3.org/2000/svg","g");Je.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ut=B.createNS("http://www.w3.org/2000/svg","circle");ut.setAttributeNS(null,"fill","#000000"),ut.setAttributeNS(null,"opacity","0.25"),ut.setAttributeNS(null,"cx","5.5"),ut.setAttributeNS(null,"cy","5.5"),ut.setAttributeNS(null,"r","5.4999962");const ht=B.createNS("http://www.w3.org/2000/svg","circle");ht.setAttributeNS(null,"fill","#FFFFFF"),ht.setAttributeNS(null,"cx","5.5"),ht.setAttributeNS(null,"cy","5.5"),ht.setAttributeNS(null,"r","5.4999962"),Je.appendChild(ut),Je.appendChild(ht),j.appendChild(q),j.appendChild(fe),j.appendChild(Oe),j.appendChild(Ne),j.appendChild(Je),f.appendChild(j),f.setAttributeNS(null,"height",b*this._scale+"px"),f.setAttributeNS(null,"width",S*this._scale+"px"),this._element.appendChild(f),this._offset=a.P.convert(l&&l.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),EA(this._element,this._anchor,"marker"),l&&l.className)for(const f of l.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(l){return this.remove(),this._map=l,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",l._getUIString("Marker.Title")),l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),l.on("terrain",this._update),l.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),B.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.S.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const S=Math.abs(13.5)/Math.SQRT2;l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(38.1-13.5+S)],"bottom-right":[-S,-1*(38.1-13.5+S)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(l){return this._subpixelPositioning=l,this}getPopup(){return this._popup}togglePopup(){const l=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:l?(l.isOpen()?l.remove():(l.setLngLat(this._lngLat),l.addTo(this._map)),this):this}_updateOpacity(l=!1){var f,b;const S=(f=this._map)===null||f===void 0?void 0:f.terrain,R=this._map.transform.isLocationOccluded(this._lngLat);if(!S||R){const Ne=R?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Ne&&(this._element.style.opacity=Ne))}if(l)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const j=this._map,q=j.terrain.depthAtPoint(this._pos),te=j.terrain.getElevationForLngLatZoom(this._lngLat,j.transform.tileZoom);if(j.transform.lngLatToCameraDepth(this._lngLat,te)-q<.006)return void(this._element.style.opacity=this._opacity);const fe=-this._offset.y/j.transform.pixelsPerMeter,ye=Math.sin(j.getPitch()*Math.PI/180)*fe,Oe=j.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),Ee=j.transform.lngLatToCameraDepth(this._lngLat,te+ye)-Oe>.006;!((b=this._popup)===null||b===void 0)&&b.isOpen()&&Ee&&this._popup.remove(),this._element.style.opacity=Ee?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(l){return this._offset=a.P.convert(l),this._update(),this}addClassName(l){this._element.classList.add(l)}removeClassName(l){this._element.classList.remove(l)}toggleClassName(l){return this._element.classList.toggle(l)}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(l,f){return(this._opacity===void 0||l===void 0&&f===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),l!==void 0&&(this._opacity=l),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}const il={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ls=0,yu=!1;const Nc={maxWidth:100,unit:"metric"};function vc(k,l,f){const b=f&&f.maxWidth||100,S=k._container.clientHeight/2,R=k._container.clientWidth/2,j=k.unproject([R-b/2,S]),q=k.unproject([R+b/2,S]),te=Math.round(k.project(q).x-k.project(j).x),fe=Math.min(b,te,k._container.clientWidth),ye=j.distanceTo(q);if(f&&f.unit==="imperial"){const Oe=3.2808*ye;Oe>5280?Cc(l,fe,Oe/5280,k._getUIString("ScaleControl.Miles")):Cc(l,fe,Oe,k._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?Cc(l,fe,ye/1852,k._getUIString("ScaleControl.NauticalMiles")):ye>=1e3?Cc(l,fe,ye/1e3,k._getUIString("ScaleControl.Kilometers")):Cc(l,fe,ye,k._getUIString("ScaleControl.Meters"))}function Cc(k,l,f,b){const S=function(R){const j=Math.pow(10,`${Math.floor(R)}`.length-1);let q=R/j;return q=q>=10?10:q>=5?5:q>=3?3:q>=2?2:q>=1?1:function(te){const fe=Math.pow(10,Math.ceil(-Math.log(te)/Math.LN10));return Math.round(te*fe)/fe}(q),j*q}(f);k.style.width=l*(S/f)+"px",k.innerHTML=`${S}&nbsp;${b}`}const Jl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Ad=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function cd(k){if(k){if(typeof k=="number"){const l=Math.round(Math.abs(k)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,k),"top-left":new a.P(l,l),"top-right":new a.P(-l,l),bottom:new a.P(0,-k),"bottom-left":new a.P(l,-l),"bottom-right":new a.P(-l,-l),left:new a.P(k,0),right:new a.P(-k,0)}}if(k instanceof a.P||Array.isArray(k)){const l=a.P.convert(k);return{center:l,top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}}return{center:a.P.convert(k.center||[0,0]),top:a.P.convert(k.top||[0,0]),"top-left":a.P.convert(k["top-left"]||[0,0]),"top-right":a.P.convert(k["top-right"]||[0,0]),bottom:a.P.convert(k.bottom||[0,0]),"bottom-left":a.P.convert(k["bottom-left"]||[0,0]),"bottom-right":a.P.convert(k["bottom-right"]||[0,0]),left:a.P.convert(k.left||[0,0]),right:a.P.convert(k.right||[0,0])}}return cd(new a.P(0,0))}const zd=p;s.AJAXError=a.cz,s.Event=a.l,s.Evented=a.E,s.LngLat=a.S,s.MercatorCoordinate=a.a1,s.Point=a.P,s.addProtocol=a.cA,s.config=a.a,s.removeProtocol=a.cB,s.AttributionControl=oo,s.BoxZoomHandler=Ah,s.CanvasSource=On,s.CooperativeGesturesHandler=gf,s.DoubleClickZoomHandler=Kh,s.DragPanHandler=lA,s.DragRotateHandler=Sl,s.EdgeInsets=Au,s.FullscreenControl=class extends a.E{constructor(k={}){super(),this._onFullscreenChange=()=>{var l;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((l=f?.shadowRoot)===null||l===void 0)&&l.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,k&&k.container&&(k.container instanceof HTMLElement?this._container=k.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(k){return this._map=k,this._container||(this._container=this._map.getContainer()),this._controlContainer=B.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){B.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const k=this._fullscreenButton=B.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);B.create("span","maplibregl-ctrl-icon",k).setAttribute("aria-hidden","true"),k.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const k=this._getTitle();this._fullscreenButton.setAttribute("aria-label",k),this._fullscreenButton.title=k}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=Hn,s.GeolocateControl=class extends a.E{constructor(k){super(),this._onSuccess=l=>{if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",l)),this._finish()}},this._updateCamera=l=>{const f=new a.S(l.coords.longitude,l.coords.latitude),b=l.coords.accuracy,S=this._map.getBearing(),R=a.e({bearing:S},this.options.fitBoundsOptions),j=vt.fromLngLat(f,b);this._map.fitBounds(j,R,{geolocateSource:!0})},this._updateMarker=l=>{if(l){const f=new a.S(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=l.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=l=>{if(this._map){if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&yu)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",l)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=B.create("button","maplibregl-ctrl-geolocate",this._container),B.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=l=>{if(this._map){if(l===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=B.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new jc({element:this._dotElement}),this._circleElement=B.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new jc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{const b=f?.[0]instanceof ResizeObserverEntry;f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||b||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))})}},this.options=a.e({},il,k)}onAdd(k){return this._map=k,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return a._(this,arguments,void 0,function*(l=!1){if(zo!==void 0&&!l)return zo;if(window.navigator.permissions===void 0)return zo=!!window.navigator.geolocation,zo;try{zo=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{zo=!!window.navigator.geolocation}return zo})}().then(l=>this._finishSetupUI(l)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),B.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,ls=0,yu=!1}_isOutOfMapMaxBounds(k){const l=this._map.getMaxBounds(),f=k.coords;return l&&(f.longitude<l.getWest()||f.longitude>l.getEast()||f.latitude<l.getSouth()||f.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const k=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&k))return;const l=this._map.project(k),f=this._map.unproject([l.x+100,l.y]),b=k.distanceTo(f)/100,S=2*this._accuracy/b;this._circleElement.style.width=`${S.toFixed(2)}px`,this._circleElement.style.height=`${S.toFixed(2)}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ls--,yu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let k;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ls++,ls>1?(k={maximumAge:6e5,timeout:0},yu=!0):(k=this.options.positionOptions,yu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,k)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.GlobeControl=class{constructor(){this._toggleProjection=()=>{var k;const l=(k=this._map.getProjection())===null||k===void 0?void 0:k.type;this._map.setProjection(l!=="mercator"&&l?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var k;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((k=this._map.getProjection())===null||k===void 0?void 0:k.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(k){return this._map=k,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=B.create("button","maplibregl-ctrl-globe",this._container),B.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){B.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},s.Hash=at,s.ImageSource=Wt,s.KeyboardHandler=Vl,s.LngLatBounds=vt,s.LogoControl=Fo,s.Map=class extends Jf{constructor(k){var l,f;a.cw.mark(a.cx.create);const b=Object.assign(Object.assign(Object.assign({},Xl),k),{canvasContextAttributes:Object.assign(Object.assign({},Xl.canvasContextAttributes),k.canvasContextAttributes)});if(b.minZoom!=null&&b.maxZoom!=null&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(b.minPitch!=null&&b.maxPitch!=null&&b.minPitch>b.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(b.minPitch!=null&&b.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(b.maxPitch!=null&&b.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const S=new Ur,R=new xa;if(b.minZoom!==void 0&&S.setMinZoom(b.minZoom),b.maxZoom!==void 0&&S.setMaxZoom(b.maxZoom),b.minPitch!==void 0&&S.setMinPitch(b.minPitch),b.maxPitch!==void 0&&S.setMaxPitch(b.maxPitch),b.renderWorldCopies!==void 0&&S.setRenderWorldCopies(b.renderWorldCopies),super(S,R,{bearingSnap:b.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Lr,this._controls=[],this._mapId=a.a7(),this._contextLost=q=>{q.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.l("webglcontextlost",{originalEvent:q}))},this._contextRestored=q=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:q}))},this._onMapScroll=q=>{if(q.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=b.interactive,this._maxTileCacheSize=b.maxTileCacheSize,this._maxTileCacheZoomLevels=b.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},b.canvasContextAttributes),this._trackResize=b.trackResize===!0,this._bearingSnap=b.bearingSnap,this._centerClampedToGround=b.centerClampedToGround,this._refreshExpiredTiles=b.refreshExpiredTiles===!0,this._fadeDuration=b.fadeDuration,this._crossSourceCollisions=b.crossSourceCollisions===!0,this._collectResourceTiming=b.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},da),b.locale),this._clickTolerance=b.clickTolerance,this._overridePixelRatio=b.pixelRatio,this._maxCanvasSize=b.maxCanvasSize,this.transformCameraUpdate=b.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=b.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=ne.addThrottleControl(()=>this.isMoving()),this._requestManager=new V(b.transformRequest),typeof b.container=="string"){if(this._container=document.getElementById(b.container),!this._container)throw new Error(`Container '${b.container}' not found.`)}else{if(!(b.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(b.maxBounds&&this.setMaxBounds(b.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let q=!1;const te=sA(fe=>{this._trackResize&&!this._removed&&(this.resize(fe),this.redraw())},50);this._resizeObserver=new ResizeObserver(fe=>{q?te(fe):q=!0}),this._resizeObserver.observe(this._container)}this.handlers=new sd(this,b),this._hash=b.hash&&new at(typeof b.hash=="string"&&b.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:b.center,elevation:b.elevation,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch,roll:b.roll}),b.bounds&&(this.resize(),this.fitBounds(b.bounds,a.e({},b.fitBoundsOptions,{duration:0}))));const j=typeof b.style=="string"||((f=(l=b.style)===null||l===void 0?void 0:l.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,j),this._localIdeographFontFamily=b.localIdeographFontFamily,this._validateStyle=b.validateStyle,b.style&&this.setStyle(b.style,{localIdeographFontFamily:b.localIdeographFontFamily}),b.attributionControl&&this.addControl(new oo(typeof b.attributionControl=="boolean"?void 0:b.attributionControl)),b.maplibreLogo&&this.addControl(new Fo,b.logoPosition),this.on("style.load",()=>{if(j||this._resizeTransform(),this.transform.unmodified){const q=a.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(q)}}),this.on("data",q=>{this._update(q.dataType==="style"),this.fire(new a.l(`${q.dataType}data`,q))}),this.on("dataloading",q=>{this.fire(new a.l(`${q.dataType}dataloading`,q))}),this.on("dataabort",q=>{this.fire(new a.l("sourcedataabort",q))})}_getMapId(){return this._mapId}setGlobalStateProperty(k,l){return this.style.setGlobalStateProperty(k,l),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(k,l){if(l===void 0&&(l=k.getDefaultPosition?k.getDefaultPosition():"top-right"),!k||!k.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=k.onAdd(this);this._controls.push(k);const b=this._controlPositions[l];return l.indexOf("bottom")!==-1?b.insertBefore(f,b.firstChild):b.appendChild(f),this}removeControl(k){if(!k||!k.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(k);return l>-1&&this._controls.splice(l,1),k.onRemove(this),this}hasControl(k){return this._controls.indexOf(k)>-1}coveringTiles(k){return rt(this.transform,k)}calculateCameraOptionsFromTo(k,l,f,b){return b==null&&this.terrain&&(b=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(k,l,f,b)}resize(k,l=!0){const[f,b]=this._containerDimensions(),S=this._getClampedPixelRatio(f,b);if(this._resizeCanvas(f,b,S),this.painter.resize(f,b,S),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const q=this._getClampedPixelRatio(f,b);this._resizeCanvas(f,b,q),this.painter.resize(f,b,q)}this._resizeTransform(l);const R=!this._moving;return R&&(this.stop(),this.fire(new a.l("movestart",k)).fire(new a.l("move",k))),this.fire(new a.l("resize",k)),R&&this.fire(new a.l("moveend",k)),this}_resizeTransform(k=!0){var l;const[f,b]=this._containerDimensions();this.transform.resize(f,b,k),(l=this._requestedCameraState)===null||l===void 0||l.resize(f,b,k)}_getClampedPixelRatio(k,l){const{0:f,1:b}=this._maxCanvasSize,S=this.getPixelRatio(),R=k*S,j=l*S;return Math.min(R>f?f/R:1,j>b?b/j:1)*S}getPixelRatio(){var k;return(k=this._overridePixelRatio)!==null&&k!==void 0?k:devicePixelRatio}setPixelRatio(k){this._overridePixelRatio=k,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(k){return this.transform.setMaxBounds(vt.convert(k)),this._update()}setMinZoom(k){if((k=k??-2)>=-2&&k<=this.transform.maxZoom)return this.transform.setMinZoom(k),this._update(),this.getZoom()<k&&this.setZoom(k),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(k){if((k=k??22)>=this.transform.minZoom)return this.transform.setMaxZoom(k),this._update(),this.getZoom()>k&&this.setZoom(k),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(k){if((k=k??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(k>=0&&k<=this.transform.maxPitch)return this.transform.setMinPitch(k),this._update(),this.getPitch()<k&&this.setPitch(k),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(k){if((k=k??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(k>=this.transform.minPitch)return this.transform.setMaxPitch(k),this._update(),this.getPitch()>k&&this.setPitch(k),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(k){return this.transform.setRenderWorldCopies(k),this._update()}project(k){return this.transform.locationToScreenPoint(a.S.convert(k),this.style&&this.terrain)}unproject(k){return this.transform.screenPointToLocation(a.P.convert(k),this.terrain)}isMoving(){var k;return this._moving||((k=this.handlers)===null||k===void 0?void 0:k.isMoving())}isZooming(){var k;return this._zooming||((k=this.handlers)===null||k===void 0?void 0:k.isZooming())}isRotating(){var k;return this._rotating||((k=this.handlers)===null||k===void 0?void 0:k.isRotating())}_createDelegatedListener(k,l,f){if(k==="mouseenter"||k==="mouseover"){let b=!1;return{layers:l,listener:f,delegates:{mousemove:R=>{const j=l.filter(te=>this.getLayer(te)),q=j.length!==0?this.queryRenderedFeatures(R.point,{layers:j}):[];q.length?b||(b=!0,f.call(this,new Fu(k,this,R.originalEvent,{features:q}))):b=!1},mouseout:()=>{b=!1}}}}if(k==="mouseleave"||k==="mouseout"){let b=!1;return{layers:l,listener:f,delegates:{mousemove:j=>{const q=l.filter(te=>this.getLayer(te));(q.length!==0?this.queryRenderedFeatures(j.point,{layers:q}):[]).length?b=!0:b&&(b=!1,f.call(this,new Fu(k,this,j.originalEvent)))},mouseout:j=>{b&&(b=!1,f.call(this,new Fu(k,this,j.originalEvent)))}}}}{const b=S=>{const R=l.filter(q=>this.getLayer(q)),j=R.length!==0?this.queryRenderedFeatures(S.point,{layers:R}):[];j.length&&(S.features=j,f.call(this,S),delete S.features)};return{layers:l,listener:f,delegates:{[k]:b}}}}_saveDelegatedListener(k,l){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[k]=this._delegatedListeners[k]||[],this._delegatedListeners[k].push(l)}_removeDelegatedListener(k,l,f){if(!this._delegatedListeners||!this._delegatedListeners[k])return;const b=this._delegatedListeners[k];for(let S=0;S<b.length;S++){const R=b[S];if(R.listener===f&&R.layers.length===l.length&&R.layers.every(j=>l.includes(j))){for(const j in R.delegates)this.off(j,R.delegates[j]);return void b.splice(S,1)}}}on(k,l,f){if(f===void 0)return super.on(k,l);const b=typeof l=="string"?[l]:l,S=this._createDelegatedListener(k,b,f);this._saveDelegatedListener(k,S);for(const R in S.delegates)this.on(R,S.delegates[R]);return{unsubscribe:()=>{this._removeDelegatedListener(k,b,f)}}}once(k,l,f){if(f===void 0)return super.once(k,l);const b=typeof l=="string"?[l]:l,S=this._createDelegatedListener(k,b,f);for(const R in S.delegates){const j=S.delegates[R];S.delegates[R]=(...q)=>{this._removeDelegatedListener(k,b,f),j(...q)}}this._saveDelegatedListener(k,S);for(const R in S.delegates)this.once(R,S.delegates[R]);return this}off(k,l,f){return f===void 0?super.off(k,l):(this._removeDelegatedListener(k,typeof l=="string"?[l]:l,f),this)}queryRenderedFeatures(k,l){if(!this.style)return[];let f;const b=k instanceof a.P||Array.isArray(k),S=b?k:[[0,0],[this.transform.width,this.transform.height]];if(l=l||(b?{}:k)||{},S instanceof a.P||typeof S[0]=="number")f=[a.P.convert(S)];else{const R=a.P.convert(S[0]),j=a.P.convert(S[1]);f=[R,new a.P(j.x,R.y),j,new a.P(R.x,j.y),R]}return this.style.queryRenderedFeatures(f,l,this.transform)}querySourceFeatures(k,l){return this.style.querySourceFeatures(k,l)}setStyle(k,l){return(l=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&k?(this._diffStyle(k,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(k,l))}setTransformRequest(k){return this._requestManager.setTransformRequest(k),this}_getUIString(k){const l=this._locale[k];if(l==null)throw new Error(`Missing UI string '${k}'`);return l}_updateStyle(k,l){var f,b;if(l.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(k,l));const S=this.style&&l.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!k)),k?(this.style=new Sh(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof k=="string"?this.style.loadURL(k,l,S):this.style.loadJSON(k,l,S),this):((b=(f=this.style)===null||f===void 0?void 0:f.projection)===null||b===void 0||b.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Sh(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(k,l){if(typeof k=="string"){const f=this._requestManager.transformRequest(k,"Style");a.j(f,new AbortController).then(b=>{this._updateDiff(b.data,l)}).catch(b=>{b&&this.fire(new a.k(b))})}else typeof k=="object"&&this._updateDiff(k,l)}_updateDiff(k,l){try{this.style.setState(k,l)&&this._update(!0)}catch(f){a.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(k,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(k,l){return this._lazyInitEmptyStyle(),this.style.addSource(k,l),this._update(!0)}isSourceLoaded(k){const l=this.style&&this.style.sourceCaches[k];if(l!==void 0)return l.loaded();this.fire(new a.k(new Error(`There is no source with ID '${k}'`)))}setTerrain(k){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),k){const l=this.style.sourceCaches[k.source];if(!l)throw new Error(`cannot load terrain, because there exists no source with ID: ${k.source}`);this.terrain===null&&l.reload();for(const f in this.style._layers){const b=this.style._layers[f];b.type==="hillshade"&&b.source===k.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),b.type==="color-relief"&&b.source===k.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ri(this.painter,l,k),this.painter.renderToTexture=new gu(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{var b;f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==k.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((b=f.source)===null||b===void 0?void 0:b.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:k})),this}getTerrain(){var k,l;return(l=(k=this.terrain)===null||k===void 0?void 0:k.options)!==null&&l!==void 0?l:null}areTilesLoaded(){const k=this.style&&this.style.sourceCaches;for(const l in k){const f=k[l]._tiles;for(const b in f){const S=f[b];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0}removeSource(k){return this.style.removeSource(k),this._update(!0)}getSource(k){return this.style.getSource(k)}setSourceTileLodParams(k,l,f){if(f){const b=this.getSource(f);if(!b)throw new Error(`There is no source with ID "${f}", cannot set LOD parameters`);b.calculateTileZoom=yt(Math.max(1,k),Math.max(1,l))}else for(const b in this.style.sourceCaches)this.style.sourceCaches[b].getSource().calculateTileZoom=yt(Math.max(1,k),Math.max(1,l));return this._update(!0),this}refreshTiles(k,l){const f=this.style.sourceCaches[k];if(!f)throw new Error(`There is no source cache with ID "${k}", cannot refresh tile`);l===void 0?f.reload(!0):f.refreshTiles(l.map(b=>new a.a4(b.z,b.x,b.y)))}addImage(k,l,f={}){const{pixelRatio:b=1,sdf:S=!1,stretchX:R,stretchY:j,content:q,textFitWidth:te,textFitHeight:fe}=f;if(this._lazyInitEmptyStyle(),!(l instanceof HTMLImageElement||a.b(l))){if(l.width===void 0||l.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ye,height:Oe,data:Ee}=l,Ne=l;return this.style.addImage(k,{data:new a.R({width:ye,height:Oe},new Uint8Array(Ee)),pixelRatio:b,stretchX:R,stretchY:j,content:q,textFitWidth:te,textFitHeight:fe,sdf:S,version:0,userImage:Ne}),Ne.onAdd&&Ne.onAdd(this,k),this}}{const{width:ye,height:Oe,data:Ee}=O.getImageData(l);this.style.addImage(k,{data:new a.R({width:ye,height:Oe},Ee),pixelRatio:b,stretchX:R,stretchY:j,content:q,textFitWidth:te,textFitHeight:fe,sdf:S,version:0})}}updateImage(k,l){const f=this.style.getImage(k);if(!f)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=l instanceof HTMLImageElement||a.b(l)?O.getImageData(l):l,{width:S,height:R,data:j}=b;if(S===void 0||R===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==f.data.width||R!==f.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const q=!(l instanceof HTMLImageElement||a.b(l));return f.data.replace(j,q),this.style.updateImage(k,f),this}getImage(k){return this.style.getImage(k)}hasImage(k){return k?!!this.style.getImage(k):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(k){this.style.removeImage(k)}loadImage(k){return ne.getImage(this._requestManager.transformRequest(k,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(k,l){return this._lazyInitEmptyStyle(),this.style.addLayer(k,l),this._update(!0)}moveLayer(k,l){return this.style.moveLayer(k,l),this._update(!0)}removeLayer(k){return this.style.removeLayer(k),this._update(!0)}getLayer(k){return this.style.getLayer(k)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(k,l,f){return this.style.setLayerZoomRange(k,l,f),this._update(!0)}setFilter(k,l,f={}){return this.style.setFilter(k,l,f),this._update(!0)}getFilter(k){return this.style.getFilter(k)}setPaintProperty(k,l,f,b={}){return this.style.setPaintProperty(k,l,f,b),this._update(!0)}getPaintProperty(k,l){return this.style.getPaintProperty(k,l)}setLayoutProperty(k,l,f,b={}){return this.style.setLayoutProperty(k,l,f,b),this._update(!0)}getLayoutProperty(k,l){return this.style.getLayoutProperty(k,l)}setGlyphs(k,l={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(k,l),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(k,l,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(k,l,f,b=>{b||this._update(!0)}),this}removeSprite(k){return this._lazyInitEmptyStyle(),this.style.removeSprite(k),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(k,l={}){return this._lazyInitEmptyStyle(),this.style.setSprite(k,l,f=>{f||this._update(!0)}),this}setLight(k,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(k,l),this._update(!0)}getLight(){return this.style.getLight()}setSky(k,l={}){return this._lazyInitEmptyStyle(),this.style.setSky(k,l),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(k,l){return this.style.setFeatureState(k,l),this._update()}removeFeatureState(k,l){return this.style.removeFeatureState(k,l),this._update()}getFeatureState(k){return this.style.getFeatureState(k)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let k=0,l=0;return this._container&&(k=this._container.clientWidth||400,l=this._container.clientHeight||300),[k,l]}_setupContainer(){const k=this._container;k.classList.add("maplibregl-map");const l=this._canvasContainer=B.create("div","maplibregl-canvas-container",k);this._interactive&&l.classList.add("maplibregl-interactive"),this._canvas=B.create("canvas","maplibregl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),b=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],b);const S=this._controlContainer=B.create("div","maplibregl-control-container",k),R=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(j=>{R[j]=B.create("div",`maplibregl-ctrl-${j} `,S)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(k,l,f){this._canvas.width=Math.floor(f*k),this._canvas.height=Math.floor(f*l),this._canvas.style.width=`${k}px`,this._canvas.style.height=`${l}px`}_setupPainter(){const k=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let l=null;this._canvas.addEventListener("webglcontextcreationerror",b=>{l={requestedAttributes:k},b&&(l.statusMessage=b.statusMessage,l.type=b.type)},{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,k):this._canvas.getContext("webgl2",k)||this._canvas.getContext("webgl",k),!f){const b="Failed to initialize WebGL";throw l?(l.message=b,new Error(JSON.stringify(l))):new Error(b)}this.painter=new Dh(f,this.transform),z.testSupport(f)}migrateProjection(k,l){super.migrateProjection(k,l),this.painter.transform=k,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(k){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||k,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(k){return this._update(),this._renderTaskQueue.add(k)}_cancelRenderFrame(k){this._renderTaskQueue.remove(k)}_render(k){var l,f,b,S,R;const j=this._idleTriggered?this._fadeDuration:0,q=((l=this.style.projection)===null||l===void 0?void 0:l.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(k),this._removed)return;let te=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Oe=this.transform.zoom,Ee=O.now();this.style.zoomHistory.update(Oe,Ee);const Ne=new a.F(Oe,{now:Ee,fadeDuration:j,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),Je=Ne.crossFadingFactor();Je===1&&Je===this._crossFadingFactor||(te=!0,this._crossFadingFactor=Je),this.style.update(Ne)}const fe=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==q;(b=this.style.projection)===null||b===void 0||b.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((S=this.style.projection)===null||S===void 0?void 0:S.transitionState,(R=this.style.projection)===null||R===void 0?void 0:R.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||fe)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,j,this._crossSourceCollisions,fe),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:j,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cw.mark(a.cx.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||te)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const ye=this._sourcesDirty||this._styleDirty||this._placementDirty;return ye||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||ye||(this._fullyLoaded=!0,a.cw.mark(a.cx.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var k;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ne.removeThrottleControl(this._imageQueueHandle),(k=this._resizeObserver)===null||k===void 0||k.disconnect();const l=this.painter.context.gl.getExtension("WEBGL_lose_context");l?.loseContext&&l.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),B.remove(this._canvasContainer),B.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cw.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,O.frame(this._frameRequest,k=>{a.cw.frame(k),this._frameRequest=null;try{this._render(k)}catch(l){if(!a.cy(l)&&!function(f){return f.message===mc}(l))throw l}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(k){this._showTileBoundaries!==k&&(this._showTileBoundaries=k,this._update())}get showPadding(){return!!this._showPadding}set showPadding(k){this._showPadding!==k&&(this._showPadding=k,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(k){this._showCollisionBoxes!==k&&(this._showCollisionBoxes=k,k?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(k){this._showOverdrawInspector!==k&&(this._showOverdrawInspector=k,this._update())}get repaint(){return!!this._repaint}set repaint(k){this._repaint!==k&&(this._repaint=k,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(k){this._vertices=k,this._update()}get version(){return yo}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(k){return this._lazyInitEmptyStyle(),this.style.setProjection(k),this._update(!0)}},s.MapMouseEvent=Fu,s.MapTouchEvent=Ld,s.MapWheelEvent=df,s.Marker=jc,s.NavigationControl=class{constructor(k){this._updateZoomButtons=()=>{const l=this._map.getZoom(),f=l===this._map.getMaxZoom(),b=l===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=b,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",b.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(l,f)=>{const b=this._map._getUIString(`NavigationControl.${f}`);l.title=b,l.setAttribute("aria-label",b)},this.options=a.e({},ep,k),this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),B.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),B.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=B.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(k){return this._map=k,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ld(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){B.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(k,l){const f=B.create("button",k,this._container);return f.type="button",f.addEventListener("click",l),f}},s.Popup=class extends a.E{constructor(k){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&B.remove(this._content),this._container&&(B.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=l=>{this._update(l.point)},this._onMouseMove=l=>{this._update(l.point)},this._onDrag=l=>{this._update(l.point)},this._update=l=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=B.create("div","maplibregl-popup",this._map.getContainer()),this._tip=B.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const j of this.options.className.split(" "))this._container.classList.add(j);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Va(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!l)return;const f=this._flatPos=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&l?l:this._map.transform.locationToScreenPoint(this._lngLat));let b=this.options.anchor;const S=cd(this.options.offset);if(!b){const j=this._container.offsetWidth,q=this._container.offsetHeight;let te;te=f.y+S.bottom.y<q?["top"]:f.y>this._map.transform.height-q?["bottom"]:[],f.x<j/2?te.push("left"):f.x>this._map.transform.width-j/2&&te.push("right"),b=te.length===0?"bottom":te.join("-")}let R=f.add(S[b]);this.options.subpixelPositioning||(R=R.round()),B.setTransform(this._container,`${ud[b]} translate(${R.x}px,${R.y}px)`),EA(this._container,b,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Jl),k)}addTo(k){return this._map&&this.remove(),this._map=k,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(k){return this._lngLat=a.S.convert(k),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(k){return this.setDOMContent(document.createTextNode(k))}setHTML(k){const l=document.createDocumentFragment(),f=document.createElement("body");let b;for(f.innerHTML=k;b=f.firstChild,b;)l.appendChild(b);return this.setDOMContent(l)}getMaxWidth(){var k;return(k=this._container)===null||k===void 0?void 0:k.style.maxWidth}setMaxWidth(k){return this.options.maxWidth=k,this._update(),this}setDOMContent(k){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=B.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(k),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(k){return this._container&&this._container.classList.add(k),this}removeClassName(k){return this._container&&this._container.classList.remove(k),this}setOffset(k){return this.options.offset=k,this._update(),this}toggleClassName(k){if(this._container)return this._container.classList.toggle(k)}setSubpixelPositioning(k){this.options.subpixelPositioning=k}_createCloseButton(){this.options.closeButton&&(this._closeButton=B.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const k=this._container.querySelector(Ad);k&&k.focus()}},s.RasterDEMTileSource=on,s.RasterTileSource=Ut,s.ScaleControl=class{constructor(k){this._onMove=()=>{vc(this._map,this._container,this.options)},this.setUnit=l=>{this.options.unit=l,vc(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Nc),k)}getDefaultPosition(){return"bottom-left"}onAdd(k){return this._map=k,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-scale",k.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){B.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=yc,s.Style=Sh,s.TerrainControl=class{constructor(k){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=k}onAdd(k){return this._map=k,this._container=B.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=B.create("button","maplibregl-ctrl-terrain",this._container),B.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){B.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=mf,s.TwoFingersTouchRotateHandler=Fc,s.TwoFingersTouchZoomHandler=ZA,s.TwoFingersTouchZoomRotateHandler=Np,s.VectorTileSource=Yt,s.VideoSource=Gn,s.addSourceType=(k,l)=>a._(void 0,void 0,void 0,function*(){if(Tn(k))throw new Error(`A source type called "${k}" already exists.`);((f,b)=>{Bn[f]=b})(k,l)}),s.clearPrewarmedResources=function(){const k=ke;k&&(k.isPreloaded()&&k.numActive()===1?(k.release(ue),ke=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=ei,s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return De().getRTLTextPluginStatus()},s.getVersion=function(){return zd},s.getWorkerCount=function(){return We.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(k){return Kt().broadcast("IS",k)},s.prewarm=function(){gt().acquire(ue)},s.setMaxParallelImageRequests=function(k){a.a.MAX_PARALLEL_IMAGE_REQUESTS=k},s.setRTLTextPlugin=function(k,l){return De().setRTLTextPlugin(k,l)},s.setWorkerCount=function(k){We.workerCount=k},s.setWorkerUrl=function(k){a.a.WORKER_URL=k}});var o=t;return o})}(A3)),A3.exports}var XX=ZX();const Ov=Bu(XX);var xx=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function dj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var l_={exports:{}};l_.exports;var tT;function JX(){return tT||(tT=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=1,o=2,s=9007199254740991,a="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",E="[object Date]",O="[object Error]",B="[object Function]",z="[object GeneratorFunction]",N="[object Map]",Q="[object Number]",$="[object Null]",X="[object Object]",re="[object Promise]",ne="[object Proxy]",V="[object RegExp]",J="[object Set]",W="[object String]",he="[object Symbol]",ge="[object Undefined]",ve="[object WeakMap]",_e="[object ArrayBuffer]",Me="[object DataView]",be="[object Float32Array]",ze="[object Float64Array]",Ce="[object Int8Array]",Fe="[object Int16Array]",ot="[object Int32Array]",mt="[object Uint8Array]",it="[object Uint8ClampedArray]",ue="[object Uint16Array]",We="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,ke=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,gt={};gt[be]=gt[ze]=gt[Ce]=gt[Fe]=gt[ot]=gt[mt]=gt[it]=gt[ue]=gt[We]=!0,gt[a]=gt[p]=gt[_e]=gt[_]=gt[Me]=gt[E]=gt[O]=gt[B]=gt[N]=gt[Q]=gt[X]=gt[V]=gt[J]=gt[W]=gt[ve]=!1;var xt=typeof xx=="object"&&xx&&xx.Object===Object&&xx,Kt=typeof self=="object"&&self&&self.Object===Object&&self,je=xt||Kt||Function("return this")(),Ke=e&&!e.nodeType&&e,Ue=Ke&&!0&&n&&!n.nodeType&&n,Ve=Ue&&Ue.exports===Ke,bt=Ve&&xt.process,vt=function(){try{return bt&&bt.binding&&bt.binding("util")}catch{}}(),It=vt&&vt.isTypedArray;function Yt(ie,Te){for(var lt=-1,Qt=ie==null?0:ie.length,Bi=0,ei=[];++lt<Qt;){var Ji=ie[lt];Te(Ji,lt,ie)&&(ei[Bi++]=Ji)}return ei}function Ut(ie,Te){for(var lt=-1,Qt=Te.length,Bi=ie.length;++lt<Qt;)ie[Bi+lt]=Te[lt];return ie}function on(ie,Te){for(var lt=-1,Qt=ie==null?0:ie.length;++lt<Qt;)if(Te(ie[lt],lt,ie))return!0;return!1}function Hn(ie,Te){for(var lt=-1,Qt=Array(ie);++lt<ie;)Qt[lt]=Te(lt);return Qt}function Wt(ie){return function(Te){return ie(Te)}}function Gn(ie,Te){return ie.has(Te)}function On(ie,Te){return ie?.[Te]}function Bn(ie){var Te=-1,lt=Array(ie.size);return ie.forEach(function(Qt,Bi){lt[++Te]=[Bi,Qt]}),lt}function Tn(ie,Te){return function(lt){return ie(Te(lt))}}function Oi(ie){var Te=-1,lt=Array(ie.size);return ie.forEach(function(Qt){lt[++Te]=Qt}),lt}var Vn=Array.prototype,Lt=Function.prototype,De=Object.prototype,de=je["__core-js_shared__"],oe=Lt.toString,le=De.hasOwnProperty,me=function(){var ie=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),Ie=De.toString,Qe=RegExp("^"+oe.call(le).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=Ve?je.Buffer:void 0,He=je.Symbol,Re=je.Uint8Array,Ze=De.propertyIsEnumerable,y=Vn.splice,yt=He?He.toStringTag:void 0,dt=Object.getOwnPropertySymbols,kt=At?At.isBuffer:void 0,rt=Tn(Object.keys,Object),tn=Po(je,"DataView"),Rn=Po(je,"Map"),wn=Po(je,"Promise"),ri=Po(je,"Set"),Qn=Po(je,"WeakMap"),$i=Po(Object,"create"),ir=Wo(tn),Ii=Wo(Rn),di=Wo(wn),ti=Wo(ri),qi=Wo(Qn),Sn=He?He.prototype:void 0,co=Sn?Sn.valueOf:void 0;function Zi(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function _a(){this.__data__=$i?$i(null):{},this.size=0}function Ro(ie){var Te=this.has(ie)&&delete this.__data__[ie];return this.size-=Te?1:0,Te}function Jn(ie){var Te=this.__data__;if($i){var lt=Te[ie];return lt===i?void 0:lt}return le.call(Te,ie)?Te[ie]:void 0}function cr(ie){var Te=this.__data__;return $i?Te[ie]!==void 0:le.call(Te,ie)}function Ni(ie,Te){var lt=this.__data__;return this.size+=this.has(ie)?0:1,lt[ie]=$i&&Te===void 0?i:Te,this}Zi.prototype.clear=_a,Zi.prototype.delete=Ro,Zi.prototype.get=Jn,Zi.prototype.has=cr,Zi.prototype.set=Ni;function br(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function Wa(){this.__data__=[],this.size=0}function Rr(ie){var Te=this.__data__,lt=li(Te,ie);if(lt<0)return!1;var Qt=Te.length-1;return lt==Qt?Te.pop():y.call(Te,lt,1),--this.size,!0}function Gi(ie){var Te=this.__data__,lt=li(Te,ie);return lt<0?void 0:Te[lt][1]}function bl(ie){return li(this.__data__,ie)>-1}function La(ie,Te){var lt=this.__data__,Qt=li(lt,ie);return Qt<0?(++this.size,lt.push([ie,Te])):lt[Qt][1]=Te,this}br.prototype.clear=Wa,br.prototype.delete=Rr,br.prototype.get=Gi,br.prototype.has=bl,br.prototype.set=La;function Bo(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function rs(){this.size=0,this.__data__={hash:new Zi,map:new(Rn||br),string:new Zi}}function Pl(ie){var Te=ta(this,ie).delete(ie);return this.size-=Te?1:0,Te}function ho(ie){return ta(this,ie).get(ie)}function Xu(ie){return ta(this,ie).has(ie)}function Fa(ie,Te){var lt=ta(this,ie),Qt=lt.size;return lt.set(ie,Te),this.size+=lt.size==Qt?0:1,this}Bo.prototype.clear=rs,Bo.prototype.delete=Pl,Bo.prototype.get=ho,Bo.prototype.has=Xu,Bo.prototype.set=Fa;function Xi(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.__data__=new Bo;++Te<lt;)this.add(ie[Te])}function Si(ie){return this.__data__.set(ie,i),this}function fs(ie){return this.__data__.has(ie)}Xi.prototype.add=Xi.prototype.push=Si,Xi.prototype.has=fs;function Oa(ie){var Te=this.__data__=new br(ie);this.size=Te.size}function ea(){this.__data__=new br,this.size=0}function Xe(ie){var Te=this.__data__,lt=Te.delete(ie);return this.size=Te.size,lt}function Bt(ie){return this.__data__.get(ie)}function Mn(ie){return this.__data__.has(ie)}function Wn(ie,Te){var lt=this.__data__;if(lt instanceof br){var Qt=lt.__data__;if(!Rn||Qt.length<t-1)return Qt.push([ie,Te]),this.size=++lt.size,this;lt=this.__data__=new Bo(Qt)}return lt.set(ie,Te),this.size=lt.size,this}Oa.prototype.clear=ea,Oa.prototype.delete=Xe,Oa.prototype.get=Bt,Oa.prototype.has=Mn,Oa.prototype.set=Wn;function an(ie,Te){var lt=Ia(ie),Qt=!lt&&Qa(ie),Bi=!lt&&!Qt&&Ur(ie),ei=!lt&&!Qt&&!Bi&&Ml(ie),Ji=lt||Qt||Bi||ei,lr=Ji?Hn(ie.length,String):[],Ui=lr.length;for(var tr in ie)le.call(ie,tr)&&!(Ji&&(tr=="length"||Bi&&(tr=="offset"||tr=="parent")||ei&&(tr=="buffer"||tr=="byteLength"||tr=="byteOffset")||Wl(tr,Ui)))&&lr.push(tr);return lr}function li(ie,Te){for(var lt=ie.length;lt--;)if(Io(ie[lt][0],Te))return lt;return-1}function no(ie,Te,lt){var Qt=Te(ie);return Ia(ie)?Qt:Ut(Qt,lt(ie))}function Oo(ie){return ie==null?ie===void 0?ge:$:yt&&yt in Object(ie)?mr(ie):yA(ie)}function ps(ie){return Kr(ie)&&Oo(ie)==a}function Ws(ie,Te,lt,Qt,Bi){return ie===Te?!0:ie==null||Te==null||!Kr(ie)&&!Kr(Te)?ie!==ie&&Te!==Te:Ju(ie,Te,lt,Qt,Ws,Bi)}function Ju(ie,Te,lt,Qt,Bi,ei){var Ji=Ia(ie),lr=Ia(Te),Ui=Ji?p:ba(ie),tr=lr?p:ba(Te);Ui=Ui==a?X:Ui,tr=tr==a?X:tr;var io=Ui==X,fo=tr==X,dr=Ui==tr;if(dr&&Ur(ie)){if(!Ur(Te))return!1;Ji=!0,io=!1}if(dr&&!io)return ei||(ei=new Oa),Ji||Ml(ie)?xl(ie,Te,lt,Qt,Bi,ei):Is(ie,Te,Ui,lt,Qt,Bi,ei);if(!(lt&r)){var vr=io&&le.call(ie,"__wrapped__"),po=fo&&le.call(Te,"__wrapped__");if(vr||po){var Qo=vr?ie.value():ie,Gr=po?Te.value():Te;return ei||(ei=new Oa),Bi(Qo,Gr,lt,Qt,ei)}}return dr?(ei||(ei=new Oa),Tc(ie,Te,lt,Qt,Bi,ei)):!1}function Hi(ie){if(!xa(ie)||Sr(ie))return!1;var Te=Ya(ie)?Qe:ke;return Te.test(Wo(ie))}function jA(ie){return Kr(ie)&&os(ie.length)&&!!gt[Oo(ie)]}function Ou(ie){if(!Au(ie))return rt(ie);var Te=[];for(var lt in Object(ie))le.call(ie,lt)&&lt!="constructor"&&Te.push(lt);return Te}function xl(ie,Te,lt,Qt,Bi,ei){var Ji=lt&r,lr=ie.length,Ui=Te.length;if(lr!=Ui&&!(Ji&&Ui>lr))return!1;var tr=ei.get(ie);if(tr&&ei.get(Te))return tr==Te;var io=-1,fo=!0,dr=lt&o?new Xi:void 0;for(ei.set(ie,Te),ei.set(Te,ie);++io<lr;){var vr=ie[io],po=Te[io];if(Qt)var Qo=Ji?Qt(po,vr,io,Te,ie,ei):Qt(vr,po,io,ie,Te,ei);if(Qo!==void 0){if(Qo)continue;fo=!1;break}if(dr){if(!on(Te,function(Gr,Js){if(!Gn(dr,Js)&&(vr===Gr||Bi(vr,Gr,lt,Qt,ei)))return dr.push(Js)})){fo=!1;break}}else if(!(vr===po||Bi(vr,po,lt,Qt,ei))){fo=!1;break}}return ei.delete(ie),ei.delete(Te),fo}function Is(ie,Te,lt,Qt,Bi,ei,Ji){switch(lt){case Me:if(ie.byteLength!=Te.byteLength||ie.byteOffset!=Te.byteOffset)return!1;ie=ie.buffer,Te=Te.buffer;case _e:return!(ie.byteLength!=Te.byteLength||!ei(new Re(ie),new Re(Te)));case _:case E:case Q:return Io(+ie,+Te);case O:return ie.name==Te.name&&ie.message==Te.message;case V:case W:return ie==Te+"";case N:var lr=Bn;case J:var Ui=Qt&r;if(lr||(lr=Oi),ie.size!=Te.size&&!Ui)return!1;var tr=Ji.get(ie);if(tr)return tr==Te;Qt|=o,Ji.set(ie,Te);var io=xl(lr(ie),lr(Te),Qt,Bi,ei,Ji);return Ji.delete(ie),io;case he:if(co)return co.call(ie)==co.call(Te)}return!1}function Tc(ie,Te,lt,Qt,Bi,ei){var Ji=lt&r,lr=Xs(ie),Ui=lr.length,tr=Xs(Te),io=tr.length;if(Ui!=io&&!Ji)return!1;for(var fo=Ui;fo--;){var dr=lr[fo];if(!(Ji?dr in Te:le.call(Te,dr)))return!1}var vr=ei.get(ie);if(vr&&ei.get(Te))return vr==Te;var po=!0;ei.set(ie,Te),ei.set(Te,ie);for(var Qo=Ji;++fo<Ui;){dr=lr[fo];var Gr=ie[dr],Js=Te[dr];if(Qt)var Ql=Ji?Qt(Js,Gr,dr,Te,ie,ei):Qt(Gr,Js,dr,ie,Te,ei);if(!(Ql===void 0?Gr===Js||Bi(Gr,Js,lt,Qt,ei):Ql)){po=!1;break}Qo||(Qo=dr=="constructor")}if(po&&!Qo){var eA=ie.constructor,Cs=Te.constructor;eA!=Cs&&"constructor"in ie&&"constructor"in Te&&!(typeof eA=="function"&&eA instanceof eA&&typeof Cs=="function"&&Cs instanceof Cs)&&(po=!1)}return ei.delete(ie),ei.delete(Te),po}function Xs(ie){return no(ie,er,Gl)}function ta(ie,Te){var lt=ie.__data__;return Iu(Te)?lt[typeof Te=="string"?"string":"hash"]:lt.map}function Po(ie,Te){var lt=On(ie,Te);return Hi(lt)?lt:void 0}function mr(ie){var Te=le.call(ie,yt),lt=ie[yt];try{ie[yt]=void 0;var Qt=!0}catch{}var Bi=Ie.call(ie);return Qt&&(Te?ie[yt]=lt:delete ie[yt]),Bi}var Gl=dt?function(ie){return ie==null?[]:(ie=Object(ie),Yt(dt(ie),function(Te){return Ze.call(ie,Te)}))}:Ei,ba=Oo;(tn&&ba(new tn(new ArrayBuffer(1)))!=Me||Rn&&ba(new Rn)!=N||wn&&ba(wn.resolve())!=re||ri&&ba(new ri)!=J||Qn&&ba(new Qn)!=ve)&&(ba=function(ie){var Te=Oo(ie),lt=Te==X?ie.constructor:void 0,Qt=lt?Wo(lt):"";if(Qt)switch(Qt){case ir:return Me;case Ii:return N;case di:return re;case ti:return J;case qi:return ve}return Te});function Wl(ie,Te){return Te=Te??s,!!Te&&(typeof ie=="number"||Et.test(ie))&&ie>-1&&ie%1==0&&ie<Te}function Iu(ie){var Te=typeof ie;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?ie!=="__proto__":ie===null}function Sr(ie){return!!me&&me in ie}function Au(ie){var Te=ie&&ie.constructor,lt=typeof Te=="function"&&Te.prototype||De;return ie===lt}function yA(ie){return Ie.call(ie)}function Wo(ie){if(ie!=null){try{return oe.call(ie)}catch{}try{return ie+""}catch{}}return""}function Io(ie,Te){return ie===Te||ie!==ie&&Te!==Te}var Qa=ps(function(){return arguments}())?ps:function(ie){return Kr(ie)&&le.call(ie,"callee")&&!Ze.call(ie,"callee")},Ia=Array.isArray;function ca(ie){return ie!=null&&os(ie.length)&&!Ya(ie)}var Ur=kt||Hr;function cu(ie,Te){return Ws(ie,Te)}function Ya(ie){if(!xa(ie))return!1;var Te=Oo(ie);return Te==B||Te==z||Te==g||Te==ne}function os(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=s}function xa(ie){var Te=typeof ie;return ie!=null&&(Te=="object"||Te=="function")}function Kr(ie){return ie!=null&&typeof ie=="object"}var Ml=It?Wt(It):jA;function er(ie){return ca(ie)?an(ie):Ou(ie)}function Ei(){return[]}function Hr(){return!1}n.exports=cu}(l_,l_.exports)),l_.exports}var eJ=JX(),tJ=dj(eJ);function TB(n,e,t){const i={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(i["source-layer"]=t),i}function kB(n,e,t,i){const r={id:[t,i,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return i&&(r["source-layer"]=i),r}function DB(n,e,t){const i={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(i["source-layer"]=t),i}function nJ(n,e){const t=[],i=[],r=[];function o(s){return{circle:e(s,.8),line:e(s,.6),polygon:e(s,.3),polygonOutline:e(s,.6),default:e(s,1)}}return Object.keys(n).forEach(s=>{const a=n[s];if(!a||a.length===0){const p=o(s);i.push(TB(p.circle,s)),r.push(DB(p.line,s)),t.push(kB(p.polygon,p.polygonOutline,s))}else a.forEach(p=>{const g=o(p);i.push(TB(g.circle,s,p)),r.push(DB(g.line,s,p)),t.push(kB(g.polygon,g.polygonOutline,s,p))})}),t.concat(r).concat(i)}function iJ(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const i={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},r={};return Object.keys(n.sources).forEach(o=>{const s=n.sources[o];(s.type==="vector"||s.type==="geojson")&&(r[o]=s)}),Object.assign(n,{layers:[i].concat(e),sources:r})}var nT={polygonLayer:kB,lineLayer:DB,circleLayer:TB,generateInspectStyle:iJ,generateColoredLayers:nJ};class rJ{constructor(e){e=Object.assign({show:!0,onToggle(){}},e),this._btn=this.createButton(),this._btn.onclick=e.onToggle,this.elem=this.createContainer(this._btn,e.show)}createButton(){const e=document.createElement("button");return e.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",e.type="button",e.title="Toggle Inspect",e.setAttribute("aria-label","Toggle Inspect"),e}createContainer(e,t){const i=document.createElement("div");return i.className="maplibregl-ctrl maplibregl-ctrl-group",i.appendChild(e),t||(i.style.display="none"),i}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function oJ(n){return typeof n>"u"||n===null?n:n instanceof Date?n.toLocaleString():typeof n=="object"||typeof n=="number"||typeof n=="string"?n.toString():n}function C5(n,e){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${n}</div><div class="maplibregl-inspect_property-value">${oJ(e)}</div></div>`}function aJ(n){return`<div class="maplibregl-inspect_layer">${n}</div>`}function sJ(n){const e=aJ(n.layer["source-layer"]||n.layer.source),t=C5("$id",n.id),i=C5("$type",n.geometry.type),r=Object.keys(n.properties).map(o=>C5(o,n.properties[o]));return[e,t,i].concat(r).join("")}function lJ(n){return n.map(e=>`<div class="maplibregl-inspect_feature">${sJ(e)}</div>`).join("")}function uJ(n){return`<div class="maplibregl-inspect_popup">${lJ(n)}</div>`}var u_={exports:{}},AJ=u_.exports,iT;function cJ(){return iT||(iT=1,function(n,e){(function(t,i){{var r=i();n.exports&&(e=n.exports=r),e.randomColor=r}})(AJ,function(){var t=null,i={};$();var r=[],o=function(W){if(W=W||{},W.seed!==void 0&&W.seed!==null&&W.seed===parseInt(W.seed,10))t=W.seed;else if(typeof W.seed=="string")t=V(W.seed);else{if(W.seed!==void 0&&W.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var he,ge,ve;if(W.count!==null&&W.count!==void 0){for(var _e=W.count,Me=[],be=0;be<W.count;be++)r.push(!1);for(W.count=null;_e>Me.length;){var ze=o(W);t!==null&&(W.seed=t),Me.push(ze)}return W.count=_e,Me}return he=s(W),ge=a(he,W),ve=p(he,ge,W),g([he,ge,ve],W)};function s(W){if(r.length>0){var he=J(W.hue),ge=z(he),ve=(he[1]-he[0])/r.length,_e=parseInt((ge-he[0])/ve);r[_e]===!0?_e=(_e+2)%r.length:r[_e]=!0;var Me=(he[0]+_e*ve)%359,be=(he[0]+(_e+1)*ve)%359;return he=[Me,be],ge=z(he),ge<0&&(ge=360+ge),ge}else{var he=E(W.hue);return ge=z(he),ge<0&&(ge=360+ge),ge}}function a(W,he){if(he.hue==="monochrome")return 0;if(he.luminosity==="random")return z([0,100]);var ge=O(W),ve=ge[0],_e=ge[1];switch(he.luminosity){case"bright":ve=55;break;case"dark":ve=_e-10;break;case"light":_e=55;break}return z([ve,_e])}function p(W,he,ge){var ve=_(W,he),_e=100;switch(ge.luminosity){case"dark":_e=ve+20;break;case"light":ve=(_e+ve)/2;break;case"random":ve=0,_e=100;break}return z([ve,_e])}function g(W,he){switch(he.format){case"hsvArray":return W;case"hslArray":return ne(W);case"hsl":var ge=ne(W);return"hsl("+ge[0]+", "+ge[1]+"%, "+ge[2]+"%)";case"hsla":var ve=ne(W),be=he.alpha||Math.random();return"hsla("+ve[0]+", "+ve[1]+"%, "+ve[2]+"%, "+be+")";case"rgbArray":return X(W);case"rgb":var _e=X(W);return"rgb("+_e.join(", ")+")";case"rgba":var Me=X(W),be=he.alpha||Math.random();return"rgba("+Me.join(", ")+", "+be+")";default:return N(W)}}function _(W,he){for(var ge=B(W).lowerBounds,ve=0;ve<ge.length-1;ve++){var _e=ge[ve][0],Me=ge[ve][1],be=ge[ve+1][0],ze=ge[ve+1][1];if(he>=_e&&he<=be){var Ce=(ze-Me)/(be-_e),Fe=Me-Ce*_e;return Ce*he+Fe}}return 0}function E(W){if(typeof parseInt(W)=="number"){var he=parseInt(W);if(he<360&&he>0)return[he,he]}if(typeof W=="string"){if(i[W]){var ge=i[W];if(ge.hueRange)return ge.hueRange}else if(W.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ve=re(W)[0];return[ve,ve]}}return[0,360]}function O(W){return B(W).saturationRange}function B(W){W>=334&&W<=360&&(W-=360);for(var he in i){var ge=i[he];if(ge.hueRange&&W>=ge.hueRange[0]&&W<=ge.hueRange[1])return i[he]}return"Color not found"}function z(W){if(t===null){var he=.618033988749895,ge=Math.random();return ge+=he,ge%=1,Math.floor(W[0]+ge*(W[1]+1-W[0]))}else{var ve=W[1]||1,_e=W[0]||0;t=(t*9301+49297)%233280;var Me=t/233280;return Math.floor(_e+Me*(ve-_e))}}function N(W){var he=X(W);function ge(_e){var Me=_e.toString(16);return Me.length==1?"0"+Me:Me}var ve="#"+ge(he[0])+ge(he[1])+ge(he[2]);return ve}function Q(W,he,ge){var ve=ge[0][0],_e=ge[ge.length-1][0],Me=ge[ge.length-1][1],be=ge[0][1];i[W]={hueRange:he,lowerBounds:ge,saturationRange:[ve,_e],brightnessRange:[Me,be]}}function $(){Q("monochrome",null,[[0,0],[100,0]]),Q("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),Q("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),Q("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),Q("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),Q("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),Q("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),Q("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function X(W){var he=W[0];he===0&&(he=1),he===360&&(he=359),he=he/360;var ge=W[1]/100,ve=W[2]/100,_e=Math.floor(he*6),Me=he*6-_e,be=ve*(1-ge),ze=ve*(1-Me*ge),Ce=ve*(1-(1-Me)*ge),Fe=256,ot=256,mt=256;switch(_e){case 0:Fe=ve,ot=Ce,mt=be;break;case 1:Fe=ze,ot=ve,mt=be;break;case 2:Fe=be,ot=ve,mt=Ce;break;case 3:Fe=be,ot=ze,mt=ve;break;case 4:Fe=Ce,ot=be,mt=ve;break;case 5:Fe=ve,ot=be,mt=ze;break}var it=[Math.floor(Fe*255),Math.floor(ot*255),Math.floor(mt*255)];return it}function re(W){W=W.replace(/^#/,""),W=W.length===3?W.replace(/(.)/g,"$1$1"):W;var he=parseInt(W.substr(0,2),16)/255,ge=parseInt(W.substr(2,2),16)/255,ve=parseInt(W.substr(4,2),16)/255,_e=Math.max(he,ge,ve),Me=_e-Math.min(he,ge,ve),be=_e?Me/_e:0;switch(_e){case he:return[60*((ge-ve)/Me%6)||0,be,_e];case ge:return[60*((ve-he)/Me+2)||0,be,_e];case ve:return[60*((he-ge)/Me+4)||0,be,_e]}}function ne(W){var he=W[0],ge=W[1]/100,ve=W[2]/100,_e=(2-ge)*ve;return[he,Math.round(ge*ve/(_e<1?_e:2-_e)*1e4)/100,_e/2*100]}function V(W){for(var he=0,ge=0;ge!==W.length&&!(he>=Number.MAX_SAFE_INTEGER);ge++)he+=W.charCodeAt(ge);return he}function J(W){if(isNaN(W)){if(typeof W=="string"){if(i[W]){var ge=i[W];if(ge.hueRange)return ge.hueRange}else if(W.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ve=re(W)[0];return B(ve).hueRange}}}else{var he=parseInt(W);if(he<360&&he>0)return B(W).hueRange}return[0,360]}return o})}(u_,u_.exports)),u_.exports}var hJ=cJ(),dJ=dj(hJ);function fJ(n,e){let t="bright",i;return/water|ocean|lake|sea|river/.test(n)&&(i="blue"),/state|country|place/.test(n)&&(i="pink"),/road|highway|transport|streets/.test(n)&&(i="orange"),/contour|building|earth/.test(n)&&(i="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(i="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(i="green"),`rgba(${dJ({luminosity:t,hue:i,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}var pJ={brightColor:fJ};function mJ(n){return n.metadata&&n.metadata["maplibregl-inspect:inspect"]}function gJ(n){return Object.assign(n,{metadata:Object.assign({},n.metadata,{"maplibregl-inspect:inspect":!0})})}class b8{constructor(e){if(this._onSourceChange=i=>{if(i.sourceDataType==="visibility"||!i.isSourceLoaded)return;const r=Object.assign({},this.sources);this._setSourcesFromMap(),!tJ(r,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const i=this._map.getStyle();mJ(i)||(this._originalStyle=i)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=i=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||i.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;i.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||i.type==="mousemove"&&!this.options.showMapPopupOnHover)return;i.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let r;this.options.selectThreshold===0?r=i.point:r=[[i.point.x-this.options.selectThreshold,i.point.y+this.options.selectThreshold],[i.point.x+this.options.selectThreshold,i.point.y-this.options.selectThreshold]];const o=this._map.queryRenderedFeatures(r,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=o.length?"pointer":"",!o.length)this._popup.remove();else{this._popup.setLngLat(i.lngLat);const s=this.options.renderPopup(o);typeof s=="string"?this._popup.setHTML(s):this._popup.setDOMContent(s),this._popup.addTo(this._map)}}},!(this instanceof b8))throw new Error("MaplibreInspect needs to be called with the new keyword");let t=null;window.maplibregl?t=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):e.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:pJ.brightColor,buildInspectStyle:nT.generateInspectStyle,renderPopup:uJ,popup:t,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new rJ({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const e=nT.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(gJ(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const e=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(t=>{const i=this._map.style.sourceCaches[t]||{_source:{}},r=i._source.vectorLayerIds;r?this.sources[t]=r:i._source.type==="geojson"&&(this.sources[t]=[])}),Object.keys(this.sources).forEach(t=>{e.indexOf(t)===-1&&delete this.sources[t]})}setOriginalStyle(e){this._originalStyle=e,this._setSourcesFromMap()}onAdd(e){return this._map=e,Object.keys(this.sources).length===0&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),e.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0}}var A_={exports:{}},yJ=A_.exports,rT;function vJ(){return rT||(rT=1,function(n,e){(function(t,i){{var r=i();n&&n.exports&&(e=n.exports=r),e.randomColor=r}})(yJ,function(){var t=null,i={};$();var r=[],o=function(W){if(W=W||{},W.seed!==void 0&&W.seed!==null&&W.seed===parseInt(W.seed,10))t=W.seed;else if(typeof W.seed=="string")t=V(W.seed);else{if(W.seed!==void 0&&W.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var he,ge,ve;if(W.count!==null&&W.count!==void 0){for(var _e=W.count,Me=[],be=0;be<W.count;be++)r.push(!1);for(W.count=null;_e>Me.length;){var ze=o(W);t!==null&&(W.seed=t),Me.push(ze)}return W.count=_e,Me}return he=s(W),ge=a(he,W),ve=p(he,ge,W),g([he,ge,ve],W)};function s(W){if(r.length>0){var he=J(W.hue),ge=z(he),ve=(he[1]-he[0])/r.length,_e=parseInt((ge-he[0])/ve);r[_e]===!0?_e=(_e+2)%r.length:r[_e]=!0;var Me=(he[0]+_e*ve)%359,be=(he[0]+(_e+1)*ve)%359;return he=[Me,be],ge=z(he),ge<0&&(ge=360+ge),ge}else{var he=E(W.hue);return ge=z(he),ge<0&&(ge=360+ge),ge}}function a(W,he){if(he.hue==="monochrome")return 0;if(he.luminosity==="random")return z([0,100]);var ge=O(W),ve=ge[0],_e=ge[1];switch(he.luminosity){case"bright":ve=55;break;case"dark":ve=_e-10;break;case"light":_e=55;break}return z([ve,_e])}function p(W,he,ge){var ve=_(W,he),_e=100;switch(ge.luminosity){case"dark":_e=ve+20;break;case"light":ve=(_e+ve)/2;break;case"random":ve=0,_e=100;break}return z([ve,_e])}function g(W,he){switch(he.format){case"hsvArray":return W;case"hslArray":return ne(W);case"hsl":var ge=ne(W);return"hsl("+ge[0]+", "+ge[1]+"%, "+ge[2]+"%)";case"hsla":var ve=ne(W),be=he.alpha||Math.random();return"hsla("+ve[0]+", "+ve[1]+"%, "+ve[2]+"%, "+be+")";case"rgbArray":return X(W);case"rgb":var _e=X(W);return"rgb("+_e.join(", ")+")";case"rgba":var Me=X(W),be=he.alpha||Math.random();return"rgba("+Me.join(", ")+", "+be+")";default:return N(W)}}function _(W,he){for(var ge=B(W).lowerBounds,ve=0;ve<ge.length-1;ve++){var _e=ge[ve][0],Me=ge[ve][1],be=ge[ve+1][0],ze=ge[ve+1][1];if(he>=_e&&he<=be){var Ce=(ze-Me)/(be-_e),Fe=Me-Ce*_e;return Ce*he+Fe}}return 0}function E(W){if(typeof parseInt(W)=="number"){var he=parseInt(W);if(he<360&&he>0)return[he,he]}if(typeof W=="string"){if(i[W]){var ge=i[W];if(ge.hueRange)return ge.hueRange}else if(W.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ve=re(W)[0];return[ve,ve]}}return[0,360]}function O(W){return B(W).saturationRange}function B(W){W>=334&&W<=360&&(W-=360);for(var he in i){var ge=i[he];if(ge.hueRange&&W>=ge.hueRange[0]&&W<=ge.hueRange[1])return i[he]}return"Color not found"}function z(W){if(t===null){var he=.618033988749895,ge=Math.random();return ge+=he,ge%=1,Math.floor(W[0]+ge*(W[1]+1-W[0]))}else{var ve=W[1]||1,_e=W[0]||0;t=(t*9301+49297)%233280;var Me=t/233280;return Math.floor(_e+Me*(ve-_e))}}function N(W){var he=X(W);function ge(_e){var Me=_e.toString(16);return Me.length==1?"0"+Me:Me}var ve="#"+ge(he[0])+ge(he[1])+ge(he[2]);return ve}function Q(W,he,ge){var ve=ge[0][0],_e=ge[ge.length-1][0],Me=ge[ge.length-1][1],be=ge[0][1];i[W]={hueRange:he,lowerBounds:ge,saturationRange:[ve,_e],brightnessRange:[Me,be]}}function $(){Q("monochrome",null,[[0,0],[100,0]]),Q("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),Q("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),Q("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),Q("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),Q("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),Q("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),Q("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function X(W){var he=W[0];he===0&&(he=1),he===360&&(he=359),he=he/360;var ge=W[1]/100,ve=W[2]/100,_e=Math.floor(he*6),Me=he*6-_e,be=ve*(1-ge),ze=ve*(1-Me*ge),Ce=ve*(1-(1-Me)*ge),Fe=256,ot=256,mt=256;switch(_e){case 0:Fe=ve,ot=Ce,mt=be;break;case 1:Fe=ze,ot=ve,mt=be;break;case 2:Fe=be,ot=ve,mt=Ce;break;case 3:Fe=be,ot=ze,mt=ve;break;case 4:Fe=Ce,ot=be,mt=ve;break;case 5:Fe=ve,ot=be,mt=ze;break}var it=[Math.floor(Fe*255),Math.floor(ot*255),Math.floor(mt*255)];return it}function re(W){W=W.replace(/^#/,""),W=W.length===3?W.replace(/(.)/g,"$1$1"):W;var he=parseInt(W.substr(0,2),16)/255,ge=parseInt(W.substr(2,2),16)/255,ve=parseInt(W.substr(4,2),16)/255,_e=Math.max(he,ge,ve),Me=_e-Math.min(he,ge,ve),be=_e?Me/_e:0;switch(_e){case he:return[60*((ge-ve)/Me%6)||0,be,_e];case ge:return[60*((ve-he)/Me+2)||0,be,_e];case ve:return[60*((he-ge)/Me+4)||0,be,_e]}}function ne(W){var he=W[0],ge=W[1]/100,ve=W[2]/100,_e=(2-ge)*ve;return[he,Math.round(ge*ve/(_e<1?_e:2-_e)*1e4)/100,_e/2*100]}function V(W){for(var he=0,ge=0;ge!==W.length&&!(he>=Number.MAX_SAFE_INTEGER);ge++)he+=W.charCodeAt(ge);return he}function J(W){if(isNaN(W)){if(typeof W=="string"){if(i[W]){var ge=i[W];if(ge.hueRange)return ge.hueRange}else if(W.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var ve=re(W)[0];return B(ve).hueRange}}}else{var he=parseInt(W);if(he<360&&he>0)return B(W).hueRange}return[0,360]}return o})}(A_,A_.exports)),A_.exports}var CJ=vJ();const _J=Bu(CJ);function bJ(n,e){let t="bright",i;return/water|ocean|lake|sea|river/.test(n)&&(i="blue"),/state|country|place/.test(n)&&(i="pink"),/road|highway|transport|streets/.test(n)&&(i="orange"),/contour|building|earth/.test(n)&&(i="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(i="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(i="green"),`rgba(${_J({luminosity:t,hue:i,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}const fj={brightColor:bJ};function xJ(n){return Ka({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"},child:[]}]})(n)}function MJ(n){return Ka({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.48 1.48 0 0 1 0-2.098z"},child:[]}]})(n)}function wJ(n){return Ka({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(n)}function my(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function SJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(n)}function EJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(n)}function BJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function OJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function IJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}function TJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(n)}function kJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(n)}function DJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(n)}function RJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(n)}function pj(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function PJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}function RB(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(n)}function UJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(n)}function KJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"7.2",cy:"14.4",r:"3.2"},child:[]},{tag:"circle",attr:{cx:"14.8",cy:"18",r:"2"},child:[]},{tag:"circle",attr:{cx:"15.2",cy:"8.8",r:"4.8"},child:[]}]})(n)}function oT(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(n)}function LJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(n)}function aT(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(n)}function FJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(n)}function zJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(n)}function jJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(n)}function NJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(n)}function GJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"},child:[]}]})(n)}function mj(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(n)}function gj(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(n)}function WJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function QJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}function YJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(n)}function qJ(n){return Ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(n)}function HJ(n){return Ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m344 280 88-88m-200 24 64 64M80 320l104-104"},child:[]},{tag:"circle",attr:{cx:"456",cy:"168",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"320",cy:"304",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"208",cy:"192",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"56",cy:"344",r:"24",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(n)}function VJ(n){return Ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M467.3 168.1c-1.8 0-3.5.3-5.1 1l-177.6 92.1h-.1c-7.6 4.7-12.5 12.5-12.5 21.4v185.9c0 6.4 5.6 11.5 12.7 11.5 2.2 0 4.3-.5 6.1-1.4.2-.1.4-.2.5-.3L466 385.6l.3-.1c8.2-4.5 13.7-12.7 13.7-22.1V179.6c0-6.4-5.7-11.5-12.7-11.5zM454.3 118.5L272.6 36.8S261.9 32 256 32c-5.9 0-16.5 4.8-16.5 4.8L57.6 118.5s-8 3.3-8 9.5c0 6.6 8.3 11.5 8.3 11.5l185.5 97.8c3.8 1.7 8.1 2.6 12.6 2.6 4.6 0 8.9-1 12.7-2.7l185.4-97.9s7.5-4 7.5-11.5c.1-6.3-7.3-9.3-7.3-9.3zM227.5 261.2L49.8 169c-1.5-.6-3.3-1-5.1-1-7 0-12.7 5.1-12.7 11.5v183.8c0 9.4 5.5 17.6 13.7 22.1l.2.1 174.7 92.7c1.9 1.1 4.2 1.7 6.6 1.7 7 0 12.7-5.2 12.7-11.5V282.6c.1-8.9-4.9-16.8-12.4-21.4z"},child:[]}]})(n)}function $J(n){return Ka({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"},child:[]}]})(n)}function vl(){var n="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",e="0b6460c942a48f834d2809c818afa5c72625023a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:7,column:18},end:{line:33,column:1}},1:{start:{line:8,column:20},end:{line:8,column:42}},2:{start:{line:9,column:2},end:{line:32,column:3}},3:{start:{line:11,column:6},end:{line:11,column:61}},4:{start:{line:13,column:6},end:{line:13,column:60}},5:{start:{line:15,column:6},end:{line:15,column:62}},6:{start:{line:17,column:6},end:{line:17,column:63}},7:{start:{line:19,column:6},end:{line:19,column:66}},8:{start:{line:21,column:6},end:{line:21,column:66}},9:{start:{line:23,column:6},end:{line:23,column:59}},10:{start:{line:25,column:6},end:{line:25,column:71}},11:{start:{line:27,column:6},end:{line:27,column:66}},12:{start:{line:29,column:6},end:{line:29,column:61}},13:{start:{line:31,column:6},end:{line:31,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:29},end:{line:33,column:1}},line:7}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:32,column:3}},type:"switch",locations:[{start:{line:10,column:4},end:{line:11,column:61}},{start:{line:12,column:4},end:{line:13,column:60}},{start:{line:14,column:4},end:{line:15,column:62}},{start:{line:16,column:4},end:{line:17,column:63}},{start:{line:18,column:4},end:{line:19,column:66}},{start:{line:20,column:4},end:{line:21,column:66}},{start:{line:22,column:4},end:{line:23,column:59}},{start:{line:24,column:4},end:{line:25,column:71}},{start:{line:26,column:4},end:{line:27,column:66}},{start:{line:28,column:4},end:{line:29,column:61}},{start:{line:30,column:4},end:{line:31,column:67}}],line:9}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAkBkC;AAflC,SAAS,QAAQ,eAAe,iBAAiB;AACjD,SAAS,eAAe,UAAU,eAAe,SAAS,sBAAsB;AAChF,SAAS,0BAA0B;AACnC,SAAS,gBAAgB;AACzB,SAAS,kBAAkB;AAQ3B,MAAM,YAAsC,CAAC,UAAU;AACrD,QAAM,YAAY,EAAE,OAAO,MAAM,MAAM;AACvC,UAAO,MAAM,MAAM;AAAA,IACjB,KAAK;AAAkB,aAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,IACvD,KAAK;AAAU,aAAO,oBAAC,WAAS,GAAG,WAAW;AAAA,IAC9C,KAAK;AAAa,aAAO,oBAAC,aAAW,GAAG,WAAW;AAAA,IACnD,KAAK;AAAgB,aAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,IACvD,KAAK;AAAW,aAAO,oBAAC,iBAAe,GAAG,WAAW;AAAA,IACrD,KAAK;AAAQ,aAAO,oBAAC,iBAAe,GAAG,WAAW;AAAA,IAClD,KAAK;AAAc,aAAO,oBAAC,UAAQ,GAAG,WAAW;AAAA,IACjD,KAAK;AAAQ,aAAO,oBAAC,sBAAoB,GAAG,WAAW;AAAA,IACvD,KAAK;AAAU,aAAO,oBAAC,iBAAe,GAAG,WAAW;AAAA,IACpD,KAAK;AAAU,aAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,IAC/C;AAAS,aAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,EACjD;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0b6460c942a48f834d2809c818afa5c72625023a"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return vl=function(){return s},s}vl();vl().s[0]++;const yj=n=>{vl().f[0]++;const e=(vl().s[1]++,{style:n.style});switch(vl().s[2]++,n.type){case"fill-extrusion":return vl().b[0][0]++,vl().s[3]++,Ae.jsx(VJ,{...e});case"raster":return vl().b[0][1]++,vl().s[4]++,Ae.jsx(zJ,{...e});case"hillshade":return vl().b[0][2]++,vl().s[5]++,Ae.jsx(wJ,{...e});case"color-relief":return vl().b[0][3]++,vl().s[6]++,Ae.jsx($J,{...e});case"heatmap":return vl().b[0][4]++,vl().s[7]++,Ae.jsx(KJ,{...e});case"fill":return vl().b[0][5]++,vl().s[8]++,Ae.jsx(MJ,{...e});case"background":return vl().b[0][6]++,vl().s[9]++,Ae.jsx(xJ,{...e});case"line":return vl().b[0][7]++,vl().s[10]++,Ae.jsx(HJ,{...e});case"symbol":return vl().b[0][8]++,vl().s[11]++,Ae.jsx(NJ,{...e});case"circle":return vl().b[0][9]++,vl().s[12]++,Ae.jsx(FJ,{...e});default:return vl().b[0][10]++,vl().s[13]++,Ae.jsx(YJ,{...e})}};function nr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",e="6d83428b3c695d7740365dc3cc3e42bdf4d49028",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:152}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCAA+B,eAAY,uBAAsB,KAAI,OACxF,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6d83428b3c695d7740365dc3cc3e42bdf4d49028"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return nr=function(){return s},s}nr();function ZJ(n){nr().f[0]++;const e=(nr().s[0]++,{}),t=(nr().s[1]++,{});return nr().s[2]++,n.forEach(i=>{nr().f[1]++;const r=(nr().s[3]++,i.layer["source-layer"]);if(nr().s[4]++,Object.prototype.hasOwnProperty.call(t,i.layer.id)){nr().b[0][0]++,nr().s[5]++,t[i.layer.id]++;const o=(nr().s[6]++,e[r].find(s=>(nr().f[2]++,nr().s[7]++,s.layer.id===i.layer.id)));nr().s[8]++,o.counter=t[i.layer.id]}else nr().b[0][1]++,nr().s[9]++,e[r]=(nr().b[1][0]++,e[r]||(nr().b[1][1]++,[])),nr().s[10]++,e[r].push(i),nr().s[11]++,t[i.layer.id]=1}),nr().s[12]++,e}class vj extends ii.Component{_getFeatureColor(e,t){if(nr().f[3]++,nr().s[13]++,e.layer.paint)nr().b[2][1]++;else{nr().b[2][0]++,nr().s[14]++;return}nr().s[15]++;try{const i=(nr().s[16]++,e.layer.paint);return nr().s[17]++,nr().b[4][0]++,"text-color"in i&&(nr().b[4][1]++,i["text-color"])?(nr().b[3][0]++,nr().s[18]++,String(i["text-color"])):(nr().b[3][1]++,nr().s[19]++,nr().b[6][0]++,"fill-color"in i&&(nr().b[6][1]++,i["fill-color"])?(nr().b[5][0]++,nr().s[20]++,String(i["fill-color"])):(nr().b[5][1]++,nr().s[21]++,nr().b[8][0]++,"line-color"in i&&(nr().b[8][1]++,i["line-color"])?(nr().b[7][0]++,nr().s[22]++,String(i["line-color"])):(nr().b[7][1]++,nr().s[23]++,nr().b[10][0]++,"fill-extrusion-color"in i&&(nr().b[10][1]++,i["fill-extrusion-color"])?(nr().b[9][0]++,nr().s[24]++,String(i["fill-extrusion-color"])):(nr().b[9][1]++,nr().s[25]++,"black"))))}catch(i){return nr().s[26]++,console.warn("Unable to get feature color, error:",i),nr().s[27]++,"black"}}render(){nr().f[4]++;const e=(nr().s[28]++,ZJ(this.props.features)),t=(nr().s[29]++,Object.keys(e).map(i=>{nr().f[5]++;const r=(nr().s[30]++,e[i].map((o,s)=>{nr().f[6]++;const a=(nr().s[31]++,this._getFeatureColor(o,this.props.zoom));return nr().s[32]++,Ae.jsxs("div",{className:"maputnik-popup-layer",children:[Ae.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:a}}),Ae.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{nr().f[7]++,nr().s[33]++,this.props.onLayerSelect(o.layer.id)},children:[(nr().b[11][0]++,o.layer.type&&(nr().b[11][1]++,Ae.jsx(yj,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(nr().b[12][0]++,o.counter&&(nr().b[12][1]++,Ae.jsxs("span",{children:[" × ",o.counter]})))]})]},s)}));return nr().s[34]++,Ae.jsxs("div",{children:[Ae.jsx("div",{className:"maputnik-popup-layer-id",children:i}),r]},i)}));return nr().s[35]++,Ae.jsx("div",{className:"maputnik-feature-layer-popup","data-wd-key":"feature-layer-popup",dir:"ltr",children:t})}}function Xr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",e="1e4c480681bcaba84c2c41960b73ded2066b54bc",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:4,column:67}},1:{start:{line:4,column:54},end:{line:4,column:67}},2:{start:{line:5,column:2},end:{line:5,column:59}},3:{start:{line:5,column:29},end:{line:5,column:59}},4:{start:{line:6,column:2},end:{line:6,column:115}},5:{start:{line:6,column:91},end:{line:6,column:115}},6:{start:{line:7,column:2},end:{line:7,column:15}},7:{start:{line:10,column:2},end:{line:13,column:12}},8:{start:{line:16,column:2},end:{line:32,column:12}},9:{start:{line:29,column:23},end:{line:29,column:55}},10:{start:{line:30,column:6},end:{line:30,column:74}},11:{start:{line:35,column:25},end:{line:35,column:27}},12:{start:{line:36,column:2},end:{line:49,column:5}},13:{start:{line:37,column:25},end:{line:39,column:6}},14:{start:{line:38,column:6},end:{line:38,column:156}},15:{start:{line:40,column:4},end:{line:48,column:5}},16:{start:{line:41,column:6},end:{line:41,column:35}},17:{start:{line:43,column:6},end:{line:47,column:7}},18:{start:{line:44,column:8},end:{line:44,column:58}},19:{start:{line:46,column:8},end:{line:46,column:60}},20:{start:{line:50,column:2},end:{line:50,column:24}},21:{start:{line:54,column:21},end:{line:54,column:66}},22:{start:{line:55,column:4},end:{line:55,column:303}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:8,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:9,column:9},end:{line:9,column:31}},loc:{start:{line:9,column:44},end:{line:14,column:1}},line:9},2:{name:"renderFeature",decl:{start:{line:15,column:9},end:{line:15,column:22}},loc:{start:{line:15,column:37},end:{line:33,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:28,column:40},end:{line:28,column:41}},loc:{start:{line:28,column:58},end:{line:31,column:5}},line:28},4:{name:"removeDuplicatedFeatures",decl:{start:{line:34,column:9},end:{line:34,column:33}},loc:{start:{line:34,column:44},end:{line:51,column:1}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:36,column:19},end:{line:36,column:20}},loc:{start:{line:36,column:32},end:{line:49,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:37,column:50},end:{line:37,column:51}},loc:{start:{line:37,column:64},end:{line:39,column:5}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:56,column:3}},line:53}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:4,column:67}},type:"if",locations:[{start:{line:4,column:2},end:{line:4,column:67}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:5,column:2},end:{line:5,column:59}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:59}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},3:{loc:{start:{line:6,column:2},end:{line:6,column:115}},type:"if",locations:[{start:{line:6,column:2},end:{line:6,column:115}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},4:{loc:{start:{line:6,column:6},end:{line:6,column:89}},type:"binary-expr",locations:[{start:{line:6,column:6},end:{line:6,column:31}},{start:{line:6,column:35},end:{line:6,column:60}},{start:{line:6,column:64},end:{line:6,column:89}}],line:6},5:{loc:{start:{line:21,column:6},end:{line:24,column:10}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:32}},{start:{line:21,column:52},end:{line:24,column:10}}],line:21},6:{loc:{start:{line:38,column:13},end:{line:38,column:155}},type:"binary-expr",locations:[{start:{line:38,column:13},end:{line:38,column:77}},{start:{line:38,column:81},end:{line:38,column:155}}],line:38},7:{loc:{start:{line:40,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:48,column:5}},{start:{line:42,column:11},end:{line:48,column:5}}],line:40},8:{loc:{start:{line:43,column:6},end:{line:47,column:7}},type:"if",locations:[{start:{line:43,column:6},end:{line:47,column:7}},{start:{line:45,column:13},end:{line:47,column:7}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU,KAAM,QAAO;AAC3D,MAAI,iBAAiB,KAAM,QAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU,SAAU,QAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,OAAO,aAAa,QAAQ,EAAE,CAAC;AAAA,IACtD,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCAAkC,KAAI,OAAM,eAAY,0BAC5E,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e4c480681bcaba84c2c41960b73ded2066b54bc"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Xr=function(){return s},s}Xr();function sT(n){return Xr().f[0]++,Xr().s[0]++,Xr().b[1][0]++,typeof n>"u"||(Xr().b[1][1]++,n===null)?(Xr().b[0][0]++,Xr().s[1]++,n):(Xr().b[0][1]++,Xr().s[2]++,n instanceof Date?(Xr().b[2][0]++,Xr().s[3]++,n.toLocaleString()):(Xr().b[2][1]++,Xr().s[4]++,Xr().b[4][0]++,typeof n=="object"||(Xr().b[4][1]++,typeof n=="number")||(Xr().b[4][2]++,typeof n=="string")?(Xr().b[3][0]++,Xr().s[5]++,n.toString()):(Xr().b[3][1]++,Xr().s[6]++,n)))}function _5(n,e){return Xr().f[1]++,Xr().s[7]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{className:"maputnik-popup-table-cell",children:n}),Ae.jsx("td",{className:"maputnik-popup-table-cell",children:e})]},n)}function XJ(n,e){return Xr().f[2]++,Xr().s[8]++,Ae.jsxs(ii.Fragment,{children:[Ae.jsx("tr",{children:Ae.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[n.layer.source,": ",n.layer["source-layer"],(Xr().b[5][0]++,n.inspectModeCounter&&(Xr().b[5][1]++,Ae.jsxs("span",{children:[" × ",n.inspectModeCounter]})))]})}),_5("$type",n.geometry.type),_5("$id",sT(n.id)),Object.keys(n.properties).map(t=>{Xr().f[3]++;const i=(Xr().s[9]++,n.properties[t]);return Xr().s[10]++,_5(t,sT(i))})]},e)}function JJ(n){Xr().f[4]++;const e=(Xr().s[11]++,[]);return Xr().s[12]++,n.forEach(t=>{Xr().f[5]++;const i=(Xr().s[13]++,e.findIndex(r=>(Xr().f[6]++,Xr().s[14]++,Xr().b[6][0]++,t.layer["source-layer"]===r.layer["source-layer"]&&(Xr().b[6][1]++,JSON.stringify(t.properties)===JSON.stringify(r.properties)))));Xr().s[15]++,i===-1?(Xr().b[7][0]++,Xr().s[16]++,e.push(t)):(Xr().b[7][1]++,Xr().s[17]++,"inspectModeCounter"in e[i]?(Xr().b[8][0]++,Xr().s[18]++,e[i].inspectModeCounter++):(Xr().b[8][1]++,Xr().s[19]++,e[i].inspectModeCounter=2))}),Xr().s[20]++,e}class eee extends ii.Component{render(){Xr().f[7]++;const e=(Xr().s[21]++,JJ(this.props.features));return Xr().s[22]++,Ae.jsx("div",{className:"maputnik-feature-property-popup",dir:"ltr","data-wd-key":"feature-property-popup",children:Ae.jsx("table",{className:"maputnik-popup-table",children:Ae.jsx("tbody",{children:e.map(XJ)})})})}}const k_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Cj=Object.create(null);for(const n in k_)Object.hasOwn(k_,n)&&(Cj[k_[n]]=n);const Ic={to:{},get:{}};Ic.get=function(n){const e=n.slice(0,3).toLowerCase();let t,i;switch(e){case"hsl":{t=Ic.get.hsl(n),i="hsl";break}case"hwb":{t=Ic.get.hwb(n),i="hwb";break}default:{t=Ic.get.rgb(n),i="rgb";break}}return t?{model:i,value:t}:null};Ic.get.rgb=function(n){if(!n)return null;const e=/^#([a-f\d]{3,4})$/i,t=/^#([a-f\d]{6})([a-f\d]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,o=/^(\w+)$/;let s=[0,0,0,1],a,p,g;if(a=n.match(t)){for(g=a[2],a=a[1],p=0;p<3;p++){const _=p*2;s[p]=Number.parseInt(a.slice(_,_+2),16)}g&&(s[3]=Number.parseInt(g,16)/255)}else if(a=n.match(e)){for(a=a[1],g=a[3],p=0;p<3;p++)s[p]=Number.parseInt(a[p]+a[p],16);g&&(s[3]=Number.parseInt(g+g,16)/255)}else if(a=n.match(i)){for(p=0;p<3;p++)s[p]=Number.parseInt(a[p+1],10);a[4]&&(s[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=n.match(r)){for(p=0;p<3;p++)s[p]=Math.round(Number.parseFloat(a[p+1])*2.55);a[4]&&(s[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=n.match(o))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(k_,a[1])?(s=k_[a[1]],s[3]=1,s):null:null;for(p=0;p<3;p++)s[p]=Jg(s[p],0,255);return s[3]=Jg(s[3],0,1),s};Ic.get.hsl=function(n){if(!n)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){const i=Number.parseFloat(t[4]),r=(Number.parseFloat(t[1])%360+360)%360,o=Jg(Number.parseFloat(t[2]),0,100),s=Jg(Number.parseFloat(t[3]),0,100),a=Jg(Number.isNaN(i)?1:i,0,1);return[r,o,s,a]}return null};Ic.get.hwb=function(n){if(!n)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){const i=Number.parseFloat(t[4]),r=(Number.parseFloat(t[1])%360+360)%360,o=Jg(Number.parseFloat(t[2]),0,100),s=Jg(Number.parseFloat(t[3]),0,100),a=Jg(Number.isNaN(i)?1:i,0,1);return[r,o,s,a]}return null};Ic.to.hex=function(...n){return"#"+Mx(n[0])+Mx(n[1])+Mx(n[2])+(n[3]<1?Mx(Math.round(n[3]*255)):"")};Ic.to.rgb=function(...n){return n.length<4||n[3]===1?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"};Ic.to.rgb.percent=function(...n){const e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),i=Math.round(n[2]/255*100);return n.length<4||n[3]===1?"rgb("+e+"%, "+t+"%, "+i+"%)":"rgba("+e+"%, "+t+"%, "+i+"%, "+n[3]+")"};Ic.to.hsl=function(...n){return n.length<4||n[3]===1?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"};Ic.to.hwb=function(...n){let e="";return n.length>=4&&n[3]!==1&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"};Ic.to.keyword=function(...n){return Cj[n.slice(0,3)]};function Jg(n,e,t){return Math.min(Math.max(e,n),t)}function Mx(n){const e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}const ib={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_j={};for(const n of Object.keys(ib))_j[ib[n]]=n;const hr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},$0=(6/29)**3;for(const n of Object.keys(hr)){if(!("channels"in hr[n]))throw new Error("missing channels property: "+n);if(!("labels"in hr[n]))throw new Error("missing channel labels property: "+n);if(hr[n].labels.length!==hr[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=hr[n];delete hr[n].channels,delete hr[n].labels,Object.defineProperty(hr[n],"channels",{value:e}),Object.defineProperty(hr[n],"labels",{value:t})}hr.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=o-r;let a,p;switch(o){case r:{a=0;break}case e:{a=(t-i)/s;break}case t:{a=2+(i-e)/s;break}case i:{a=4+(e-t)/s;break}}a=Math.min(a*60,360),a<0&&(a+=360);const g=(r+o)/2;return o===r?p=0:g<=.5?p=s/(o+r):p=s/(2-o-r),[a,p*100,g*100]};hr.rgb.hsv=function(n){let e,t,i,r,o;const s=n[0]/255,a=n[1]/255,p=n[2]/255,g=Math.max(s,a,p),_=g-Math.min(s,a,p),E=function(O){return(g-O)/6/_+1/2};if(_===0)r=0,o=0;else{switch(o=_/g,e=E(s),t=E(a),i=E(p),g){case s:{r=i-t;break}case a:{r=1/3+e-i;break}case p:{r=2/3+t-e;break}}r<0?r+=1:r>1&&(r-=1)}return[r*360,o*100,g*100]};hr.rgb.hwb=function(n){const e=n[0],t=n[1];let i=n[2];const r=hr.rgb.hsl(n)[0],o=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[r,o*100,i*100]};hr.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(1-e,1-t,1-i),o=(1-e-r)/(1-r)||0,s=(1-t-r)/(1-r)||0,a=(1-i-r)/(1-r)||0;return[o*100,s*100,a*100,r*100]};function tee(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}hr.rgb.keyword=function(n){const e=_j[n];if(e)return e;let t=Number.POSITIVE_INFINITY,i;for(const r of Object.keys(ib)){const o=ib[r],s=tee(n,o);s<t&&(t=s,i=r)}return i};hr.keyword.rgb=function(n){return ib[n]};hr.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const r=e*.4124564+t*.3575761+i*.1804375,o=e*.2126729+t*.7151522+i*.072175,s=e*.0193339+t*.119192+i*.9503041;return[r*100,o*100,s*100]};hr.rgb.lab=function(n){const e=hr.rgb.xyz(n);let t=e[0],i=e[1],r=e[2];t/=95.047,i/=100,r/=108.883,t=t>$0?t**(1/3):7.787*t+16/116,i=i>$0?i**(1/3):7.787*i+16/116,r=r>$0?r**(1/3):7.787*r+16/116;const o=116*i-16,s=500*(t-i),a=200*(i-r);return[o,s,a]};hr.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;let r,o;if(t===0)return o=i*255,[o,o,o];const s=i<.5?i*(1+t):i+t-i*t,a=2*i-s,p=[0,0,0];for(let g=0;g<3;g++)r=e+1/3*-(g-1),r<0&&r++,r>1&&r--,6*r<1?o=a+(s-a)*6*r:2*r<1?o=s:3*r<2?o=a+(s-a)*(2/3-r)*6:o=a,p[g]=o*255;return p};hr.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,i=n[2]/100,r=t;const o=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,r*=o<=1?o:2-o;const s=(i+t)/2,a=i===0?2*r/(o+r):2*t/(i+t);return[e,a*100,s*100]};hr.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let i=n[2]/100;const r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-t),a=255*i*(1-t*o),p=255*i*(1-t*(1-o));switch(i*=255,r){case 0:return[i,p,s];case 1:return[a,i,s];case 2:return[s,i,p];case 3:return[s,a,i];case 4:return[p,s,i];case 5:return[i,s,a]}};hr.hsv.hsl=function(n){const e=n[0],t=n[1]/100,i=n[2]/100,r=Math.max(i,.01);let o,s;s=(2-t)*i;const a=(2-t)*r;return o=t*r,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};hr.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,i=n[2]/100;const r=t+i;let o;r>1&&(t/=r,i/=r);const s=Math.floor(6*e),a=1-i;o=6*e-s,(s&1)!==0&&(o=1-o);const p=t+o*(a-t);let g,_,E;switch(s){default:case 6:case 0:{g=a,_=p,E=t;break}case 1:{g=p,_=a,E=t;break}case 2:{g=t,_=a,E=p;break}case 3:{g=t,_=p,E=a;break}case 4:{g=p,_=t,E=a;break}case 5:{g=a,_=t,E=p;break}}return[g*255,_*255,E*255]};hr.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,r=n[3]/100,o=1-Math.min(1,e*(1-r)+r),s=1-Math.min(1,t*(1-r)+r),a=1-Math.min(1,i*(1-r)+r);return[o*255,s*255,a*255]};hr.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100;let r,o,s;return r=e*3.2404542+t*-1.5371385+i*-.4985314,o=e*-.969266+t*1.8760108+i*.041556,s=e*.0556434+t*-.2040259+i*1.0572252,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[r*255,o*255,s*255]};hr.xyz.lab=function(n){let e=n[0],t=n[1],i=n[2];e/=95.047,t/=100,i/=108.883,e=e>$0?e**(1/3):7.787*e+16/116,t=t>$0?t**(1/3):7.787*t+16/116,i=i>$0?i**(1/3):7.787*i+16/116;const r=116*t-16,o=500*(e-t),s=200*(t-i);return[r,o,s]};hr.lab.xyz=function(n){const e=n[0],t=n[1],i=n[2];let r,o,s;o=(e+16)/116,r=t/500+o,s=o-i/200;const a=o**3,p=r**3,g=s**3;return o=a>$0?a:(o-16/116)/7.787,r=p>$0?p:(r-16/116)/7.787,s=g>$0?g:(s-16/116)/7.787,r*=95.047,o*=100,s*=108.883,[r,o,s]};hr.lab.lch=function(n){const e=n[0],t=n[1],i=n[2];let r;r=Math.atan2(i,t)*360/2/Math.PI,r<0&&(r+=360);const s=Math.sqrt(t*t+i*i);return[e,s,r]};hr.lch.lab=function(n){const e=n[0],t=n[1],r=n[2]/360*2*Math.PI,o=t*Math.cos(r),s=t*Math.sin(r);return[e,o,s]};hr.rgb.ansi16=function(n,e=null){const[t,i,r]=n;let o=e===null?hr.rgb.hsv(n)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};hr.hsv.ansi16=function(n){return hr.rgb.ansi16(hr.hsv.rgb(n),n[2])};hr.rgb.ansi256=function(n){const e=n[0],t=n[1],i=n[2];return e>>4===t>>4&&t>>4===i>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)};hr.ansi16.rgb=function(n){n=n[0];let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(Math.trunc(n>50)+1)*.5,i=(e&1)*t*255,r=(e>>1&1)*t*255,o=(e>>2&1)*t*255;return[i,r,o]};hr.ansi256.rgb=function(n){if(n=n[0],n>=232){const o=(n-232)*10+8;return[o,o,o]}n-=16;let e;const t=Math.floor(n/36)/5*255,i=Math.floor((e=n%36)/6)/5*255,r=e%6/5*255;return[t,i,r]};hr.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};hr.hex.rgb=function(n){const e=n.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=[...t].map(a=>a+a).join(""));const i=Number.parseInt(t,16),r=i>>16&255,o=i>>8&255,s=i&255;return[r,o,s]};hr.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),s=r-o;let a;const p=s<1?o/(1-s):0;return s<=0?a=0:r===e?a=(t-i)/s%6:r===t?a=2+(i-e)/s:a=4+(e-t)/s,a/=6,a%=1,[a*360,s*100,p*100]};hr.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=t<.5?2*e*t:2*e*(1-t);let r=0;return i<1&&(r=(t-.5*i)/(1-i)),[n[0],i*100,r*100]};hr.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=e*t;let r=0;return i<1&&(r=(t-i)/(1-i)),[n[0],i*100,r*100]};hr.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;if(t===0)return[i*255,i*255,i*255];const r=[0,0,0],o=e%1*6,s=o%1,a=1-s;let p=0;switch(Math.floor(o)){case 0:{r[0]=1,r[1]=s,r[2]=0;break}case 1:{r[0]=a,r[1]=1,r[2]=0;break}case 2:{r[0]=0,r[1]=1,r[2]=s;break}case 3:{r[0]=0,r[1]=a,r[2]=1;break}case 4:{r[0]=s,r[1]=0,r[2]=1;break}default:r[0]=1,r[1]=0,r[2]=a}return p=(1-t)*i,[(t*r[0]+p)*255,(t*r[1]+p)*255,(t*r[2]+p)*255]};hr.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);let r=0;return i>0&&(r=e/i),[n[0],r*100,i*100]};hr.hcg.hsl=function(n){const e=n[1]/100,i=n[2]/100*(1-e)+.5*e;let r=0;return i>0&&i<.5?r=e/(2*i):i>=.5&&i<1&&(r=e/(2*(1-i))),[n[0],r*100,i*100]};hr.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);return[n[0],(i-e)*100,(1-i)*100]};hr.hwb.hcg=function(n){const e=n[1]/100,i=1-n[2]/100,r=i-e;let o=0;return r<1&&(o=(i-r)/(1-r)),[n[0],r*100,o*100]};hr.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};hr.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};hr.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};hr.gray.hsl=function(n){return[0,0,n[0]]};hr.gray.hsv=hr.gray.hsl;hr.gray.hwb=function(n){return[0,100,n[0]]};hr.gray.cmyk=function(n){return[0,0,0,n[0]]};hr.gray.lab=function(n){return[n[0],0,0]};hr.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(i.length)+i};hr.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};function nee(){const n={},e=Object.keys(hr);for(let{length:t}=e,i=0;i<t;i++)n[e[i]]={distance:-1,parent:null};return n}function iee(n){const e=nee(),t=[n];for(e[n].distance=0;t.length>0;){const i=t.pop(),r=Object.keys(hr[i]);for(let{length:o}=r,s=0;s<o;s++){const a=r[s],p=e[a];p.distance===-1&&(p.distance=e[i].distance+1,p.parent=i,t.unshift(a))}}return e}function ree(n,e){return function(t){return e(n(t))}}function oee(n,e){const t=[e[n].parent,n];let i=hr[e[n].parent][n],r=e[n].parent;for(;e[r].parent;)t.unshift(e[r].parent),i=ree(hr[e[r].parent][r],i),r=e[r].parent;return i.conversion=t,i}function aee(n){const e=iee(n),t={},i=Object.keys(e);for(let{length:r}=i,o=0;o<r;o++){const s=i[o];e[s].parent!==null&&(t[s]=oee(s,e))}return t}const eh={},see=Object.keys(hr);function lee(n){const e=function(...t){const i=t[0];return i==null?i:(i.length>1&&(t=i),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function uee(n){const e=function(...t){const i=t[0];if(i==null)return i;i.length>1&&(t=i);const r=n(t);if(typeof r=="object")for(let{length:o}=r,s=0;s<o;s++)r[s]=Math.round(r[s]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}for(const n of see){eh[n]={},Object.defineProperty(eh[n],"channels",{value:hr[n].channels}),Object.defineProperty(eh[n],"labels",{value:hr[n].labels});const e=aee(n),t=Object.keys(e);for(const i of t){const r=e[i];eh[n][i]=uee(r),eh[n][i].raw=lee(r)}}const bj=["keyword","gray","hex"],PB={};for(const n of Object.keys(eh))PB[[...eh[n].labels].sort().join("")]=n;const UB={};function lc(n,e){if(!(this instanceof lc))return new lc(n,e);if(e&&e in bj&&(e=null),e&&!(e in eh))throw new Error("Unknown model: "+e);let t,i;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof lc)this.model=n.model,this.color=[...n.color],this.valpha=n.valpha;else if(typeof n=="string"){const r=Ic.get(n);if(r===null)throw new Error("Unable to parse color from string: "+n);this.model=r.model,i=eh[this.model].channels,this.color=r.value.slice(0,i),this.valpha=typeof r.value[i]=="number"?r.value[i]:1}else if(n.length>0){this.model=e||"rgb",i=eh[this.model].channels;const r=Array.prototype.slice.call(n,0,i);this.color=KB(r,i),this.valpha=typeof n[i]=="number"?n[i]:1}else if(typeof n=="number")this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;const r=Object.keys(n);"alpha"in n&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);const o=r.sort().join("");if(!(o in PB))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=PB[o];const{labels:s}=eh[this.model],a=[];for(t=0;t<s.length;t++)a.push(n[s[t]]);this.color=KB(a)}if(UB[this.model])for(i=eh[this.model].channels,t=0;t<i;t++){const r=UB[this.model][t];r&&(this.color[t]=r(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}lc.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(n){let e=this.model in Ic.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);const t=e.valpha===1?e.color:[...e.color,this.valpha];return Ic.to[e.model](...t)},percentString(n){const e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:[...e.color,this.valpha];return Ic.to.rgb.percent(...t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const n={},{channels:e}=eh[this.model],{labels:t}=eh[this.model];for(let i=0;i<e;i++)n[t[i]]=this.color[i];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray(){const n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject(){const n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round(n){return n=Math.max(n||0,0),new lc([...this.color.map(cee(n)),this.valpha],this.model)},alpha(n){return n!==void 0?new lc([...this.color,Math.max(0,Math.min(1,n))],this.model):this.valpha},red:fA("rgb",0,Sc(255)),green:fA("rgb",1,Sc(255)),blue:fA("rgb",2,Sc(255)),hue:fA(["hsl","hsv","hsl","hwb","hcg"],0,n=>(n%360+360)%360),saturationl:fA("hsl",1,Sc(100)),lightness:fA("hsl",2,Sc(100)),saturationv:fA("hsv",1,Sc(100)),value:fA("hsv",2,Sc(100)),chroma:fA("hcg",1,Sc(100)),gray:fA("hcg",2,Sc(100)),white:fA("hwb",1,Sc(100)),wblack:fA("hwb",2,Sc(100)),cyan:fA("cmyk",0,Sc(100)),magenta:fA("cmyk",1,Sc(100)),yellow:fA("cmyk",2,Sc(100)),black:fA("cmyk",3,Sc(100)),x:fA("xyz",0,Sc(95.047)),y:fA("xyz",1,Sc(100)),z:fA("xyz",2,Sc(108.833)),l:fA("lab",0,Sc(100)),a:fA("lab",1),b:fA("lab",2),keyword(n){return n!==void 0?new lc(n):eh[this.model].keyword(this.color)},hex(n){return n!==void 0?new lc(n):Ic.to.hex(...this.rgb().round().color)},hexa(n){if(n!==void 0)return new lc(n);const e=this.rgb().round().color;let t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),Ic.to.hex(...e)+t},rgbNumber(){const n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity(){const n=this.rgb().color,e=[];for(const[t,i]of n.entries()){const r=i/255;e[t]=r<=.04045?r/12.92:((r+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(n){const e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level(n){const e=this.contrast(n);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const n=this.rgb().color;return(n[0]*2126+n[1]*7152+n[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const n=this.rgb();for(let e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten(n){const e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken(n){const e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate(n){const e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate(n){const e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten(n){const e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken(n){const e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale(){const n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return lc.rgb(e,e,e)},fade(n){return this.alpha(this.valpha-this.valpha*n)},opaquer(n){return this.alpha(this.valpha+this.valpha*n)},rotate(n){const e=this.hsl();let t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);const t=n.rgb(),i=this.rgb(),r=e===void 0?.5:e,o=2*r-1,s=t.alpha()-i.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,p=1-a;return lc.rgb(a*t.red()+p*i.red(),a*t.green()+p*i.green(),a*t.blue()+p*i.blue(),t.alpha()*r+i.alpha()*(1-r))}};for(const n of Object.keys(eh)){if(bj.includes(n))continue;const{channels:e}=eh[n];lc.prototype[n]=function(...t){return this.model===n?new lc(this):t.length>0?new lc(t,n):new lc([...hee(eh[this.model][n].raw(this.color)),this.valpha],n)},lc[n]=function(...t){let i=t[0];return typeof i=="number"&&(i=KB(t,e)),new lc(i,n)}}function Aee(n,e){return Number(n.toFixed(e))}function cee(n){return function(e){return Aee(e,n)}}function fA(n,e,t){n=Array.isArray(n)?n:[n];for(const i of n)(UB[i]||=[])[e]=t;return n=n[0],function(i){let r;return i!==void 0?(t&&(i=t(i)),r=this[n](),r.color[e]=i,r):(r=this[n]().color[e],t&&(r=t(r)),r)}}function Sc(n){return function(e){return Math.max(0,Math.min(n,e))}}function hee(n){return Array.isArray(n)?n:[n]}function KB(n,e){for(let t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}function ys(){var n="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",e="9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:8,column:4},end:{line:8,column:20}},4:{start:{line:9,column:4},end:{line:9,column:52}},5:{start:{line:10,column:4},end:{line:10,column:93}},6:{start:{line:11,column:4},end:{line:11,column:70}},7:{start:{line:12,column:4},end:{line:12,column:27}},8:{start:{line:13,column:4},end:{line:13,column:29}},9:{start:{line:14,column:4},end:{line:14,column:27}},10:{start:{line:17,column:4},end:{line:17,column:60}},11:{start:{line:20,column:4},end:{line:22,column:6}},12:{start:{line:23,column:4},end:{line:23,column:57}},13:{start:{line:24,column:4},end:{line:24,column:27}},14:{start:{line:27,column:4},end:{line:27,column:57}},15:{start:{line:27,column:33},end:{line:27,column:55}},16:{start:{line:28,column:4},end:{line:28,column:57}},17:{start:{line:28,column:33},end:{line:28,column:55}},18:{start:{line:29,column:4},end:{line:29,column:58}},19:{start:{line:29,column:34},end:{line:29,column:56}},20:{start:{line:32,column:4},end:{line:32,column:60}},21:{start:{line:33,column:4},end:{line:33,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:16},end:{line:6,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:13},end:{line:15,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:20},end:{line:18,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:18},end:{line:25,column:3}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:22},end:{line:30,column:3}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:27,column:27},end:{line:27,column:28}},loc:{start:{line:27,column:33},end:{line:27,column:55}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:28,column:27},end:{line:28,column:28}},loc:{start:{line:28,column:33},end:{line:28,column:55}},line:28},7:{name:"(anonymous_7)",decl:{start:{line:29,column:28},end:{line:29,column:29}},loc:{start:{line:29,column:34},end:{line:29,column:56}},line:29},8:{name:"(anonymous_8)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:13},end:{line:34,column:3}},line:31}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,cAAc;AAAA,EAAC;AAAA,EAEf,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,SAAS,OAAO;AACrB,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,SAAS,OAAe;AACtB,SAAK,WAAY,YAAY;AAAA,QACzB,KAAK;AAAA;AAET,SAAK,UAAU,KAAK,WAAY,cAAc,MAAM;AACpD,SAAK,gBAAgB;AAAA,EACvB;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return ys=function(){return s},s}ys();class dee{_map=(ys().s[0]++,void 0);_container=(ys().s[1]++,void 0);_textEl=(ys().s[2]++,null);constructor(){ys().f[0]++}onAdd(e){return ys().f[1]++,ys().s[3]++,this._map=e,ys().s[4]++,this._container=document.createElement("div"),ys().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",ys().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),ys().s[7]++,this.setLabel("Zoom:"),ys().s[8]++,this.addEventListeners(),ys().s[9]++,this._container}updateZoomLevel(){ys().f[2]++,ys().s[10]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}setLabel(e){ys().f[3]++,ys().s[11]++,this._container.innerHTML=`
      ${e} <span></span>
    `,ys().s[12]++,this._textEl=this._container.querySelector("span"),ys().s[13]++,this.updateZoomLevel()}addEventListeners(){ys().f[4]++,ys().s[14]++,this._map.on("render",()=>(ys().f[5]++,ys().s[15]++,this.updateZoomLevel())),ys().s[16]++,this._map.on("zoomIn",()=>(ys().f[6]++,ys().s[17]++,this.updateZoomLevel())),ys().s[18]++,this._map.on("zoomOut",()=>(ys().f[7]++,ys().s[19]++,this.updateZoomLevel()))}onRemove(){ys().f[8]++,ys().s[20]++,this._container.parentNode.removeChild(this._container),ys().s[21]++,this._map=void 0}}function LB(n,e,t){const i={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(i["source-layer"]=t),i}function FB(n,e,t,i){const r={id:[t,i,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return i&&(r["source-layer"]=i),r}function zB(n,e,t){const i={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(i["source-layer"]=t),i}function fee(n,e){const t=[],i=[],r=[];function o(s){return{circle:e(s,.8),line:e(s,.6),polygon:e(s,.3),polygonOutline:e(s,.6),default:e(s,1)}}return Object.keys(n).forEach(s=>{const a=n[s];if(!a||a.length===0){const p=o(s);i.push(LB(p.circle,s)),r.push(zB(p.line,s)),t.push(FB(p.polygon,p.polygonOutline,s))}else a.forEach(p=>{const g=o(p);i.push(LB(g.circle,s,p)),r.push(zB(g.line,s,p)),t.push(FB(g.polygon,g.polygonOutline,s,p))})}),t.concat(r).concat(i)}function pee(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const i={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},r={};return Object.keys(n.sources).forEach(o=>{const s=n.sources[o];(s.type==="vector"||s.type==="geojson")&&(r[o]=s)}),Object.assign(n,{layers:[i].concat(e),sources:r})}const b5={polygonLayer:FB,lineLayer:zB,circleLayer:LB,generateInspectStyle:pee,generateColoredLayers:fee};function Co(){var n="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",e="aec0f701e803624fae461cc89b5fc887ff556587",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:18,column:84}},10:{start:{line:18,column:72},end:{line:18,column:84}},11:{start:{line:19,column:24},end:{line:19,column:51}},12:{start:{line:20,column:16},end:{line:20,column:52}},13:{start:{line:21,column:2},end:{line:23,column:3}},14:{start:{line:22,column:4},end:{line:22,column:104}},15:{start:{line:24,column:2},end:{line:26,column:3}},16:{start:{line:25,column:4},end:{line:25,column:96}},17:{start:{line:27,column:2},end:{line:29,column:3}},18:{start:{line:28,column:4},end:{line:28,column:94}},19:{start:{line:30,column:2},end:{line:30,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:31,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:18,column:84}},type:"if",locations:[{start:{line:18,column:2},end:{line:18,column:84}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:19,column:24},end:{line:19,column:51}},type:"binary-expr",locations:[{start:{line:19,column:24},end:{line:19,column:45}},{start:{line:19,column:49},end:{line:19,column:51}}],line:19},6:{loc:{start:{line:21,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:23,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},7:{loc:{start:{line:21,column:6},end:{line:21,column:62}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:27}},{start:{line:21,column:31},end:{line:21,column:62}}],line:21},8:{loc:{start:{line:24,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:24,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},9:{loc:{start:{line:24,column:6},end:{line:24,column:56}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:29}},{start:{line:24,column:33},end:{line:24,column:56}}],line:24},10:{loc:{start:{line:27,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:27,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS,SAAU,QAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aec0f701e803624fae461cc89b5fc887ff556587"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Co=function(){return s},s}Co();function x5(n,e){return Co().f[0]++,Co().s[0]++,n.type==="circle"?(Co().b[0][0]++,Co().s[1]++,n.paint["circle-radius"]=3):(Co().b[0][1]++,Co().s[2]++,n.type==="line"?(Co().b[1][0]++,Co().s[3]++,n.paint["line-width"]=2):Co().b[1][1]++),Co().s[4]++,"filter"in e?(Co().b[2][0]++,Co().s[5]++,n.filter=e.filter):(Co().b[2][1]++,Co().s[6]++,delete n.filter),Co().s[7]++,n.id=n.id+"_highlight",Co().s[8]++,n}function mee(n){if(Co().f[1]++,Co().s[9]++,Co().b[4][0]++,!n||(Co().b[4][1]++,n.type==="background")||(Co().b[4][2]++,n.type==="raster"))return Co().b[3][0]++,Co().s[10]++,null;Co().b[3][1]++;const e=(Co().s[11]++,Co().b[5][0]++,n["source-layer"]||(Co().b[5][1]++,"")),t=(Co().s[12]++,fj.brightColor(e,1));return Co().s[13]++,Co().b[7][0]++,n.type==="fill"||(Co().b[7][1]++,n.type==="fill-extrusion")?(Co().b[6][0]++,Co().s[14]++,x5(b5.polygonLayer(t,t,n.source,n["source-layer"]),n)):(Co().b[6][1]++,Co().s[15]++,Co().b[9][0]++,n.type==="symbol"||(Co().b[9][1]++,n.type==="circle")?(Co().b[8][0]++,Co().s[16]++,x5(b5.circleLayer(t,n.source,n["source-layer"]),n)):(Co().b[8][1]++,Co().s[17]++,n.type==="line"?(Co().b[10][0]++,Co().s[18]++,x5(b5.lineLayer(t,n.source,n["source-layer"]),n)):(Co().b[10][1]++,Co().s[19]++,null)))}function x8(){var n="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",e="a9dc98f82c73787713de0672aff7a601bfeb069d",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return x8=function(){return s},s}x8();x8().s[0]++;Ov.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);function M5(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(_){try{g(i.next(_))}catch(E){s(E)}}function p(_){try{g(i.throw(_))}catch(E){s(E)}}function g(_){_.done?o(_.value):r(_.value).then(a,p)}g((i=i.apply(n,e||[])).next())})}var wx=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function W2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var w5,lT;function xj(){if(lT)return w5;lT=1,w5=e;var n=Object.prototype.hasOwnProperty;function e(){for(var t={},i=0;i<arguments.length;i++){var r=arguments[i];for(var o in r)n.call(r,o)&&(t[o]=r[o])}return t}return w5}var S5={exports:{}},uT;function gee(){return uT||(uT=1,function(n,e){(function(){var t={};n.exports=t,t.simpleFilter=function(i,r){return r.filter(function(o){return t.test(i,o)})},t.test=function(i,r){return t.match(i,r)!==null},t.match=function(i,r,o){o=o||{};var s=0,a=[],p=r.length,g=0,_=0,E=o.pre||"",O=o.post||"",B=o.caseSensitive&&r||r.toLowerCase(),z;i=o.caseSensitive&&i||i.toLowerCase();for(var N=0;N<p;N++)z=r[N],B[N]===i[s]?(z=E+z+O,s+=1,_+=1+_):_=0,g+=_,a[a.length]=z;return s===i.length?(g=B===i?1/0:g,{rendered:a.join(""),score:g}):null},t.filter=function(i,r,o){return!r||r.length===0?[]:typeof i!="string"?r:(o=o||{},r.reduce(function(s,a,p,g){var _=a;o.extract&&(_=o.extract(a));var E=t.match(i,_,o);return E!=null&&(s[s.length]={string:E.rendered,score:E.score,index:p,original:a}),s},[]).sort(function(s,a){var p=a.score-s.score;return p||s.index-a.index}))}})()}(S5)),S5.exports}var E5,AT;function yee(){if(AT)return E5;AT=1;var n=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};return n.prototype.show=function(){this.element.style.display="block"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.add=function(e){this.items.push(e)},n.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0},n.prototype.isEmpty=function(){return!this.items.length},n.prototype.isVisible=function(){return this.element.style.display==="block"},n.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()},n.prototype.drawItem=function(e,t){var i=document.createElement("li"),r=document.createElement("a");t&&(i.className+=" active"),r.innerHTML=e.string,i.appendChild(r),this.element.appendChild(i),i.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),i.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))},n.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},n.prototype.move=function(e){this.active=e,this.draw()},n.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)},n.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)},n.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},E5=n,E5}var B5,cT;function vee(){if(cT)return B5;cT=1;var n=xj(),e=gee(),t=yee(),i=function(r,o,s){return s=s||{},this.options=n({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},s),this.el=r,this.data=o||[],this.list=new t(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(a){this.handleKeyUp(a.keyCode,a)}).bind(this),!1),this.el.addEventListener("keydown",(function(a){this.handleKeyDown(a)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(a){this.handlePaste(a)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};return i.prototype.handleKeyUp=function(r,o){if(!(r===40||r===38||r===27||r===9)){if(r===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),o.stopPropagation());return}this.handleInputChange(this.el.value)}},i.prototype.handleKeyDown=function(r){switch(r.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&r.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}},i.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},i.prototype.handlePaste=function(r){if(r.clipboardData)this.handleInputChange(r.clipboardData.getData("Text"));else{var o=this;setTimeout(function(){o.handleInputChange(r.target.value)},100)}},i.prototype.handleInputChange=function(r){if(this.query=this.normalize(r),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(o){for(var s=0;s<o.length&&(this.list.add(o[s]),s!==this.options.limit-1);s++);this.list.draw()}).bind(this))},i.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},i.prototype.update=function(r){this.data=r,this.handleKeyUp()},i.prototype.clear=function(){this.data=[],this.list.clear()},i.prototype.normalize=function(r){return r=r.toLowerCase(),r},i.prototype.match=function(r,o){return r.indexOf(o)>-1},i.prototype.value=function(r){if(this.selected=r,this.el.value=this.getItemValue(r||{place_name:this.query}),document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!1),this.el.dispatchEvent(o)}else this.el.fireEvent("onchange")},i.prototype.getCandidates=function(r){var o={pre:"<strong>",post:"</strong>",extract:(function(a){return this.getItemValue(a)}).bind(this)},s;this.options.filter?(s=e.filter(this.query,this.data,o),s=s.map((function(a){return{original:a.original,string:this.render(a.original,a.string)}}).bind(this))):s=this.data.map((function(a){var p=this.render(a);return{original:a,string:p}}).bind(this)),r(s)},i.prototype.getItemValue=function(r){return r},i.prototype.render=function(r,o){if(o)return o;for(var s=r.original?this.getItemValue(r.original):this.getItemValue(r),a=this.normalize(s),p=a.lastIndexOf(this.query);p>-1;){var g=p+this.query.length;s=s.slice(0,p)+"<strong>"+s.slice(p,g)+"</strong>"+s.slice(g),p=a.slice(0,p).lastIndexOf(this.query)}return s},i.prototype.renderError=function(r){this.list.drawError(r)},B5=i,B5}var O5,hT;function Cee(){if(hT)return O5;hT=1;var n=vee();return O5=n,typeof window<"u"&&(window.Suggestions=n),O5}var _ee=Cee(),bee=W2(_ee),c3={exports:{}},xee=c3.exports,dT;function Mee(){return dT||(dT=1,function(n){(function(e,t,i){n.exports?n.exports=i():e[t]=i()})(xee,"subtag",function(){var e="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function i(p){return p.match(t)||[]}function r(p){return i(p).filter(function(g,_){return g&&_})}function o(p){return p=i(p),{language:p[1]||e,extlang:p[2]||e,script:p[3]||e,region:p[4]||e}}function s(p,g,_){Object.defineProperty(p,g,{value:_,enumerable:!0})}function a(p,g,_){function E(O){return i(O)[p]||e}s(E,"pattern",g),s(o,_,E)}return a(1,/^[a-zA-Z]{2,3}$/,"language"),a(2,/^[a-zA-Z]{3}$/,"extlang"),a(3,/^[a-zA-Z]{4}$/,"script"),a(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),s(o,"split",r),o})}(c3)),c3.exports}var wee=Mee(),See=W2(wee),I5,fT;function Eee(){if(fT)return I5;fT=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,p=typeof wx=="object"&&wx&&wx.Object===Object&&wx,g=typeof self=="object"&&self&&self.Object===Object&&self,_=p||g||Function("return this")(),E=Object.prototype,O=E.toString,B=Math.max,z=Math.min,N=function(){return _.Date.now()};function Q(V,J,W){var he,ge,ve,_e,Me,be,ze=0,Ce=!1,Fe=!1,ot=!0;if(typeof V!="function")throw new TypeError(n);J=ne(J)||0,$(W)&&(Ce=!!W.leading,Fe="maxWait"in W,ve=Fe?B(ne(W.maxWait)||0,J):ve,ot="trailing"in W?!!W.trailing:ot);function mt(Kt){var je=he,Ke=ge;return he=ge=void 0,ze=Kt,_e=V.apply(Ke,je),_e}function it(Kt){return ze=Kt,Me=setTimeout(tt,J),Ce?mt(Kt):_e}function ue(Kt){var je=Kt-be,Ke=Kt-ze,Ue=J-je;return Fe?z(Ue,ve-Ke):Ue}function We(Kt){var je=Kt-be,Ke=Kt-ze;return be===void 0||je>=J||je<0||Fe&&Ke>=ve}function tt(){var Kt=N();if(We(Kt))return ke(Kt);Me=setTimeout(tt,ue(Kt))}function ke(Kt){return Me=void 0,ot&&he?mt(Kt):(he=ge=void 0,_e)}function Et(){Me!==void 0&&clearTimeout(Me),ze=0,he=be=ge=Me=void 0}function gt(){return Me===void 0?_e:ke(N())}function xt(){var Kt=N(),je=We(Kt);if(he=arguments,ge=this,be=Kt,je){if(Me===void 0)return it(be);if(Fe)return Me=setTimeout(tt,J),mt(be)}return Me===void 0&&(Me=setTimeout(tt,J)),_e}return xt.cancel=Et,xt.flush=gt,xt}function $(V){var J=typeof V;return!!V&&(J=="object"||J=="function")}function X(V){return!!V&&typeof V=="object"}function re(V){return typeof V=="symbol"||X(V)&&O.call(V)==t}function ne(V){if(typeof V=="number")return V;if(re(V))return e;if($(V)){var J=typeof V.valueOf=="function"?V.valueOf():V;V=$(J)?J+"":J}if(typeof V!="string")return V===0?V:+V;V=V.replace(i,"");var W=o.test(V);return W||s.test(V)?a(V.slice(2),W?2:8):r.test(V)?e:+V}return I5=Q,I5}var Bee=Eee(),Oee=W2(Bee),Iee=xj(),om=W2(Iee),Sx={exports:{}},pT;function Tee(){if(pT)return Sx.exports;pT=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(V,J,W){return Function.prototype.apply.call(V,J,W)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(V){return Object.getOwnPropertyNames(V).concat(Object.getOwnPropertySymbols(V))}:t=function(V){return Object.getOwnPropertyNames(V)};function i(ne){console&&console.warn&&console.warn(ne)}var r=Number.isNaN||function(V){return V!==V};function o(){o.init.call(this)}Sx.exports=o,Sx.exports.once=$,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(ne){if(typeof ne!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ne)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(ne){if(typeof ne!="number"||ne<0||r(ne))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ne+".");s=ne}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(V){if(typeof V!="number"||V<0||r(V))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+V+".");return this._maxListeners=V,this};function p(ne){return ne._maxListeners===void 0?o.defaultMaxListeners:ne._maxListeners}o.prototype.getMaxListeners=function(){return p(this)},o.prototype.emit=function(V){for(var J=[],W=1;W<arguments.length;W++)J.push(arguments[W]);var he=V==="error",ge=this._events;if(ge!==void 0)he=he&&ge.error===void 0;else if(!he)return!1;if(he){var ve;if(J.length>0&&(ve=J[0]),ve instanceof Error)throw ve;var _e=new Error("Unhandled error."+(ve?" ("+ve.message+")":""));throw _e.context=ve,_e}var Me=ge[V];if(Me===void 0)return!1;if(typeof Me=="function")e(Me,this,J);else for(var be=Me.length,ze=z(Me,be),W=0;W<be;++W)e(ze[W],this,J);return!0};function g(ne,V,J,W){var he,ge,ve;if(a(J),ge=ne._events,ge===void 0?(ge=ne._events=Object.create(null),ne._eventsCount=0):(ge.newListener!==void 0&&(ne.emit("newListener",V,J.listener?J.listener:J),ge=ne._events),ve=ge[V]),ve===void 0)ve=ge[V]=J,++ne._eventsCount;else if(typeof ve=="function"?ve=ge[V]=W?[J,ve]:[ve,J]:W?ve.unshift(J):ve.push(J),he=p(ne),he>0&&ve.length>he&&!ve.warned){ve.warned=!0;var _e=new Error("Possible EventEmitter memory leak detected. "+ve.length+" "+String(V)+" listeners added. Use emitter.setMaxListeners() to increase limit");_e.name="MaxListenersExceededWarning",_e.emitter=ne,_e.type=V,_e.count=ve.length,i(_e)}return ne}o.prototype.addListener=function(V,J){return g(this,V,J,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(V,J){return g(this,V,J,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(ne,V,J){var W={fired:!1,wrapFn:void 0,target:ne,type:V,listener:J},he=_.bind(W);return he.listener=J,W.wrapFn=he,he}o.prototype.once=function(V,J){return a(J),this.on(V,E(this,V,J)),this},o.prototype.prependOnceListener=function(V,J){return a(J),this.prependListener(V,E(this,V,J)),this},o.prototype.removeListener=function(V,J){var W,he,ge,ve,_e;if(a(J),he=this._events,he===void 0)return this;if(W=he[V],W===void 0)return this;if(W===J||W.listener===J)--this._eventsCount===0?this._events=Object.create(null):(delete he[V],he.removeListener&&this.emit("removeListener",V,W.listener||J));else if(typeof W!="function"){for(ge=-1,ve=W.length-1;ve>=0;ve--)if(W[ve]===J||W[ve].listener===J){_e=W[ve].listener,ge=ve;break}if(ge<0)return this;ge===0?W.shift():N(W,ge),W.length===1&&(he[V]=W[0]),he.removeListener!==void 0&&this.emit("removeListener",V,_e||J)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(V){var J,W,he;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[V]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[V]),this;if(arguments.length===0){var ge=Object.keys(W),ve;for(he=0;he<ge.length;++he)ve=ge[he],ve!=="removeListener"&&this.removeAllListeners(ve);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(J=W[V],typeof J=="function")this.removeListener(V,J);else if(J!==void 0)for(he=J.length-1;he>=0;he--)this.removeListener(V,J[he]);return this};function O(ne,V,J){var W=ne._events;if(W===void 0)return[];var he=W[V];return he===void 0?[]:typeof he=="function"?J?[he.listener||he]:[he]:J?Q(he):z(he,he.length)}o.prototype.listeners=function(V){return O(this,V,!0)},o.prototype.rawListeners=function(V){return O(this,V,!1)},o.listenerCount=function(ne,V){return typeof ne.listenerCount=="function"?ne.listenerCount(V):B.call(ne,V)},o.prototype.listenerCount=B;function B(ne){var V=this._events;if(V!==void 0){var J=V[ne];if(typeof J=="function")return 1;if(J!==void 0)return J.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function z(ne,V){for(var J=new Array(V),W=0;W<V;++W)J[W]=ne[W];return J}function N(ne,V){for(;V+1<ne.length;V++)ne[V]=ne[V+1];ne.pop()}function Q(ne){for(var V=new Array(ne.length),J=0;J<V.length;++J)V[J]=ne[J].listener||ne[J];return V}function $(ne,V){return new Promise(function(J,W){function he(ve){ne.removeListener(V,ge),W(ve)}function ge(){typeof ne.removeListener=="function"&&ne.removeListener("error",he),J([].slice.call(arguments))}re(ne,V,ge,{once:!0}),V!=="error"&&X(ne,he,{once:!0})})}function X(ne,V,J){typeof ne.on=="function"&&re(ne,"error",V,J)}function re(ne,V,J,W){if(typeof ne.on=="function")W.once?ne.once(V,J):ne.on(V,J);else if(typeof ne.addEventListener=="function")ne.addEventListener(V,function he(ge){W.once&&ne.removeEventListener(V,he),J(ge)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ne)}return Sx.exports}var kee=Tee();const mT={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},Dee={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск",es:"Buscar"},Ree={en:"No results found",de:"Keine Ergebnisse gefunden",es:"No hay resultados"},Pee={en:"There was an error reaching the server",de:"Verbindung fehlgeschlagen",es:"Error al conectarse al servidor"};var WC={placeholder:Dee,errorNoResults:Ree,errorConnectionFailed:Pee};const Uee=/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/;class Kee{constructor(e,t){this.options={zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:void 0,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,proximityMinZoom:9,getItemValue:i=>i.text!==void 0?i.text:i.place_name,render:function(i){if(!i.geometry){const o=i.text,s=o.toLowerCase().indexOf(this.query.toLowerCase()),a=this.query.length,p=o.substring(0,s),g=o.substring(s,s+a),_=o.substring(s+a);return'<div class="maplibregl-ctrl-geocoder--suggestion"><svg class="maplibregl-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="maplibregl-ctrl-geocoder--suggestion-info"><div class="maplibregl-ctrl-geocoder--suggestion-title">'+p+'<span class="maplibregl-ctrl-geocoder--suggestion-match">'+g+"</span>"+_+"</div></div></div>"}const r=i.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--result"><svg class="maplibregl-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="maplibregl-ctrl-geocoder--result-title">'+r[0]+'</div><div class="maplibregl-ctrl-geocoder--result-address">'+r.splice(1,r.length).join(",")+"</div></div></div>"},popupRender:i=>{const r=i.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--suggestion popup-suggestion"><div class="maplibregl-ctrl-geocoder--suggestion-title popup-suggestion-title">'+r[0]+'</div><div class="maplibregl-ctrl-geocoder--suggestion-address popup-suggestion-address">'+r.splice(1,r.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},this._eventEmitter=new kee.EventEmitter,this.options=om({},this.options,t),this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}addTo(e){function t(i,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=i.onAdd();r.appendChild(o)}if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const i=document.querySelectorAll(e);if(i.length===0)throw new Error("Element "+e+"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,i[0])}else if("addControl"in e)e.addControl(this);else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")}onAdd(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);const t=this.container=document.createElement("div");t.className="maplibregl-ctrl-geocoder maplibregl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";const i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",Oee(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);const r=document.createElement("div");r.classList.add("maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("type","button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="maplibregl-ctrl-geocoder--button";const o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(i),t.appendChild(this._inputEl),t.appendChild(r),this._typeahead=new bee(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.container.addEventListener("click",()=>{this._typeahead.update(this._typeahead.data)}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t}createIcon(e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttribute("class","maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width","18"),i.setAttribute("height","18"),"innerHTML"in i)i.innerHTML=t;else{const r=document.createElement("div");r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";const o=r.firstChild,s=o.firstChild;i.appendChild(s)}return i}onRemove(){return this.container.remove(),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this}_onPaste(e){const t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)}_onKeyDown(e){if(e.keyCode===27&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();const o=this._inputEl.value;if(!o)return this.fresh=!0,e.keyCode!==9&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[9,27,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(o);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(o,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}o.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(o)}}_showButton(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")}_hideButton(){this._typeahead.selected&&(this._clearEl.style.display="none")}_onBlur(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()}_onChange(){const e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){let t;if(this._removeResultMarkers(),e.properties&&mT[e.properties.short_code])t=om({},this.options.flyTo),this._map&&this._map.fitBounds(mT[e.properties.short_code].bbox,t);else if(e.bbox){const i=e.bbox;t=om({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],t)}else{const i={zoom:this.options.zoom};t=om({},i,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}}_getConfigForRequest(){return["bbox","limit","proximity","countries","types","language","reverseMode"].reduce((i,r)=>(this.options[r]&&(["countries","types","language"].indexOf(r)>-1?i[r]=this.options[r].split(/[\s,]+/):i[r]=this.options[r],r==="proximity"&&this.options[r]&&typeof this.options[r].longitude=="number"&&typeof this.options[r].latitude=="number"&&(i[r]=[this.options[r].longitude,this.options[r].latitude])),i),{})}_geocode(e){return M5(this,arguments,void 0,function*(t,i=!1,r=!1){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});const o=this._getConfigForRequest(),s=this._createGeocodeRequest(o,t,i,r),a=this.options.localGeocoder?this.options.localGeocoder(t)||[]:[];try{const p=yield s;yield this._handleGeocodeResponse(p,o,t,i,a)}catch(p){this._handleGeocodeErrorResponse(p,a)}return s})}_createGeocodeRequest(e,t,i,r){return this.options.localGeocoderOnly?Promise.resolve({}):this.options.reverseGeocode&&Uee.test(t)?this._createReverseGeocodeRequest(t,e):(e.query=t,this.geocoderApi.getSuggestions?i?this.geocoderApi.searchByPlaceId&&r?this.geocoderApi.searchByPlaceId(e):this.geocoderApi.forwardGeocode(e):this.geocoderApi.getSuggestions(e):this.geocoderApi.forwardGeocode(e))}_createReverseGeocodeRequest(e,t){const i=e.split(/[\s(,)?]+/).map(r=>parseFloat(r)).reverse();return t.query=i,t.limit=1,"proximity"in t&&delete t.proximity,this.geocoderApi.reverseGeocode(t)}_handleGeocodeResponse(e,t,i,r,o){return M5(this,void 0,void 0,function*(){this._loadingEl.style.display="none";let s={};e?s=e:s={type:"FeatureCollection",features:[]},s.config=t,this.fresh&&(this.fresh=!1),s.features=s.features?o.concat(s.features):o;const a=this.options.externalGeocoder?this.options.externalGeocoder(i,s.features,t)||Promise.resolve([]):Promise.resolve([]);try{const g=yield a;s.features=s.features?g.concat(s.features):g}catch{}this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter));let p=[];"suggestions"in s?p=s.suggestions:"place"in s?p=[s.place]:p=s.features,p.length?(this._clearEl.style.display="block",this._typeahead.update(p),(!this.options.showResultsWhileTyping||r)&&this.options.showResultMarkers&&(s.features.length>0||"place"in s)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))})}_handleGeocodeErrorResponse(e,t){this._loadingEl.style.display="none",t.length&&this.options.localGeocoder?(this._clearEl.style.display="block",this._typeahead.update(t)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:t}),this._eventEmitter.emit("error",{error:e})}_clear(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0}clear(e){this._clear(e),this._inputEl.focus()}_clearOnBlur(e){e.relatedTarget&&this._clear(e)}_onQueryResult(e){if(!("features"in e)||!e.features.length)return;const t=e.features[0];this._typeahead.selected=t,this._inputEl.value=t.place_name,this._onChange()}_updateProximity(){if(this._map)if(this._map.getZoom()>this.options.proximityMinZoom){const e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)}_collapse(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("maplibregl-ctrl-geocoder--collapsed")}_unCollapse(){this.container.classList.remove("maplibregl-ctrl-geocoder--collapsed")}query(e){return M5(this,void 0,void 0,function*(){const t=yield this._geocode(e);this._onQueryResult(t)})}_renderError(){const e=`<div class='maplibre-gl-geocoder--error'>${this._localize("errorConnectionFailed")}</div>`;this._renderMessage(e)}_renderNoResults(){const e=`<div class='maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>
        ${this._localize("errorNoResults")}</div>`;this._renderMessage(e)}_renderMessage(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)}_localize(e){const t=See.language(this.options.language.split(",")[0]);return this.options.language&&WC?.[e][t]?WC[e][t]:WC[e].en}_fitBoundsForMarkers(){if(this._typeahead.data.length<1)return;const e=this._typeahead.data.filter(t=>typeof t!="string").slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){const i=om({},{padding:100},this.options.flyTo),r=new this._maplibregl.LngLatBounds;for(const o of e)r.extend(o.geometry.coordinates);this._map.fitBounds(r,i)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}setInput(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this}setProximity(e){return this.options.proximity=e,this}getProximity(){return this.options.proximity}setRenderFunction(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this}getRenderFunction(){return this._typeahead.render}setLanguage(e){return this.options.language=e||this.options.language||navigator.language,this}getLanguage(){return this.options.language}getZoom(){return this.options.zoom}setZoom(e){return this.options.zoom=e,this}getFlyTo(){return this.options.flyTo}setFlyTo(e){return this.options.flyTo=e,this}getPlaceholder(){return this.options.placeholder}setPlaceholder(e){return this.placeholder=e||this.options.placeholder||this._localize("placeholder"),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this}getBbox(){return this.options.bbox}setBbox(e){return this.options.bbox=e,this}getCountries(){return this.options.countries}setCountries(e){return this.options.countries=e,this}getTypes(){return this.options.types}setTypes(e){return this.options.types=e,this}getMinLength(){return this.options.minLength}setMinLength(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this}getLimit(){return this.options.limit}setLimit(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this}getFilter(){return this.options.filter}setFilter(e){return this.options.filter=e,this}setGeocoderApi(e){return this.geocoderApi=e,this}getGeocoderApi(){return this.geocoderApi}_handleMarker(e){if(!this._map)return;this._removeMarker();const i=om({},{color:"#4668F2"},this.options.marker);this.mapMarker=new this._maplibregl.Marker(i);let r;if(this.options.popup){const s=om({},{},this.options.popup);r=new this._maplibregl.Popup(s).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)),this}_removeMarker(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)}_handleResultMarkers(e){if(!this._map)return;this._removeResultMarkers();let i=om({},{color:"#4668F2"},this.options.showResultMarkers);for(const r of e){let o;if(this.options.showResultMarkers){this.options.showResultMarkers&&this.options.showResultMarkers.element&&(o=this.options.showResultMarkers.element.cloneNode(!0),i=om(i,{element:o}));const s=new this._maplibregl.Marker(om({},i,{element:o}));let a;if(this.options.popup){const g=om({},{},this.options.popup);a=new this._maplibregl.Popup(g).setHTML(this.options.popupRender(r))}r.center?(s.setLngLat(r.center).addTo(this._map),this.options.popup&&s.setPopup(a)):r.geometry&&r.geometry.type&&r.geometry.type==="Point"&&r.geometry.coordinates&&(s.setLngLat(r.geometry.coordinates).addTo(this._map),this.options.popup&&s.setPopup(a)),this.resultMarkers.push(s)}}return this}_removeResultMarkers(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])}on(e,t){return this._eventEmitter.on(e,t),this}once(e){return new Promise(t=>{this._eventEmitter.once(e,t)})}off(e,t){return this._eventEmitter.removeListener(e,t),this}}function xn(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",e="1655c5d10102378b1e2627d777374c6f3c3f21a7",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:21,column:26},end:{line:27,column:3}},1:{start:{line:28,column:16},end:{line:28,column:55}},2:{start:{line:29,column:2},end:{line:31,column:3}},3:{start:{line:30,column:4},end:{line:30,column:30}},4:{start:{line:32,column:18},end:{line:32,column:20}},5:{start:{line:33,column:2},end:{line:38,column:5}},6:{start:{line:34,column:19},end:{line:34,column:53}},7:{start:{line:35,column:4},end:{line:37,column:5}},8:{start:{line:36,column:6},end:{line:36,column:33}},9:{start:{line:39,column:23},end:{line:43,column:3}},10:{start:{line:44,column:2},end:{line:44,column:22}},11:{start:{line:47,column:24},end:{line:57,column:3}},12:{start:{line:58,column:14},end:{line:58,column:18}},13:{start:{line:60,column:4},end:{line:60,column:17}},14:{start:{line:61,column:4},end:{line:66,column:6}},15:{start:{line:67,column:4},end:{line:69,column:7}},16:{start:{line:68,column:6},end:{line:68,column:25}},17:{start:{line:72,column:17},end:{line:72,column:22}},18:{start:{line:73,column:4},end:{line:76,column:5}},19:{start:{line:74,column:6},end:{line:74,column:132}},20:{start:{line:77,column:4},end:{line:77,column:18}},21:{start:{line:80,column:16},end:{line:80,column:30}},22:{start:{line:81,column:28},end:{line:81,column:79}},23:{start:{line:82,column:4},end:{line:87,column:5}},24:{start:{line:83,column:6},end:{line:83,column:52}},25:{start:{line:84,column:6},end:{line:84,column:70}},26:{start:{line:85,column:6},end:{line:85,column:70}},27:{start:{line:86,column:6},end:{line:86,column:76}},28:{start:{line:88,column:4},end:{line:90,column:5}},29:{start:{line:89,column:6},end:{line:89,column:43}},30:{start:{line:91,column:4},end:{line:96,column:5}},31:{start:{line:92,column:6},end:{line:92,column:59}},32:{start:{line:93,column:6},end:{line:95,column:14}},33:{start:{line:94,column:8},end:{line:94,column:36}},34:{start:{line:99,column:20},end:{line:108,column:5}},35:{start:{line:109,column:21},end:{line:109,column:53}},36:{start:{line:110,column:4},end:{line:110,column:53}},37:{start:{line:111,column:16},end:{line:111,column:43}},38:{start:{line:112,column:26},end:{line:116,column:5}},39:{start:{line:113,column:21},end:{line:113,column:36}},40:{start:{line:114,column:19},end:{line:114,column:32}},41:{start:{line:115,column:6},end:{line:115,column:44}},42:{start:{line:117,column:4},end:{line:117,column:20}},43:{start:{line:118,column:4},end:{line:118,column:56}},44:{start:{line:119,column:4},end:{line:119,column:56}},45:{start:{line:120,column:4},end:{line:120,column:62}},46:{start:{line:121,column:21},end:{line:121,column:43}},47:{start:{line:122,column:24},end:{line:122,column:41}},48:{start:{line:123,column:4},end:{line:123,column:45}},49:{start:{line:124,column:16},end:{line:124,column:74}},50:{start:{line:125,column:4},end:{line:125,column:37}},51:{start:{line:126,column:20},end:{line:126,column:49}},52:{start:{line:127,column:17},end:{line:127,column:36}},53:{start:{line:128,column:25},end:{line:130,column:6}},54:{start:{line:131,column:20},end:{line:162,column:6}},55:{start:{line:139,column:8},end:{line:139,column:82}},56:{start:{line:141,column:62},end:{line:141,column:141}},57:{start:{line:143,column:8},end:{line:160,column:9}},58:{start:{line:144,column:10},end:{line:146,column:13}},59:{start:{line:145,column:12},end:{line:145,column:94}},60:{start:{line:147,column:10},end:{line:147,column:25}},61:{start:{line:149,column:10},end:{line:158,column:13}},62:{start:{line:150,column:12},end:{line:157,column:15}},63:{start:{line:159,column:10},end:{line:159,column:25}},64:{start:{line:163,column:4},end:{line:163,column:28}},65:{start:{line:164,column:4},end:{line:172,column:7}},66:{start:{line:165,column:6},end:{line:171,column:9}},67:{start:{line:173,column:4},end:{line:178,column:7}},68:{start:{line:174,column:6},end:{line:174,column:40}},69:{start:{line:174,column:33},end:{line:174,column:40}},70:{start:{line:175,column:6},end:{line:177,column:9}},71:{start:{line:179,column:4},end:{line:181,column:7}},72:{start:{line:180,column:6},end:{line:180,column:30}},73:{start:{line:182,column:4},end:{line:186,column:7}},74:{start:{line:183,column:6},end:{line:185,column:9}},75:{start:{line:187,column:4},end:{line:187,column:37}},76:{start:{line:188,column:4},end:{line:188,column:37}},77:{start:{line:190,column:22},end:{line:193,column:3}},78:{start:{line:191,column:18},end:{line:191,column:82}},79:{start:{line:191,column:66},end:{line:191,column:81}},80:{start:{line:192,column:4},end:{line:192,column:36}},81:{start:{line:195,column:27},end:{line:228,column:5}},82:{start:{line:197,column:25},end:{line:197,column:27}},83:{start:{line:198,column:8},end:{line:223,column:9}},84:{start:{line:199,column:26},end:{line:199,column:138}},85:{start:{line:200,column:27},end:{line:200,column:47}},86:{start:{line:201,column:26},end:{line:201,column:47}},87:{start:{line:202,column:10},end:{line:220,column:11}},88:{start:{line:203,column:27},end:{line:206,column:13}},89:{start:{line:207,column:26},end:{line:218,column:13}},90:{start:{line:219,column:12},end:{line:219,column:33}},91:{start:{line:222,column:10},end:{line:222,column:69}},92:{start:{line:224,column:8},end:{line:226,column:10}},93:{start:{line:229,column:21},end:{line:232,column:6}},94:{start:{line:233,column:4},end:{line:233,column:41}},95:{start:{line:234,column:4},end:{line:234,column:20}},96:{start:{line:237,column:14},end:{line:237,column:26}},97:{start:{line:238,column:4},end:{line:238,column:53}},98:{start:{line:239,column:4},end:{line:239,column:49}},99:{start:{line:240,column:4},end:{line:251,column:6}},100:{start:{line:247,column:10},end:{line:247,column:29}},101:{start:{line:254,column:22},end:{line:254,column:62}}},fnMap:{0:{name:"buildInspectStyle",decl:{start:{line:20,column:9},end:{line:20,column:26}},loc:{start:{line:20,column:78},end:{line:45,column:1}},line:20},1:{name:"(anonymous_1)",decl:{start:{line:33,column:48},end:{line:33,column:49}},loc:{start:{line:33,column:62},end:{line:38,column:3}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:48,column:17},end:{line:48,column:18}},loc:{start:{line:48,column:23},end:{line:49,column:5}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:50,column:18},end:{line:50,column:19}},loc:{start:{line:50,column:24},end:{line:51,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:52,column:19},end:{line:52,column:20}},loc:{start:{line:52,column:25},end:{line:53,column:5}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:20},end:{line:55,column:5}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:21},end:{line:70,column:3}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:67,column:34},end:{line:67,column:35}},loc:{start:{line:67,column:40},end:{line:69,column:5}},line:67},8:{name:"(anonymous_8)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:46},end:{line:78,column:3}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:79,column:2},end:{line:79,column:3}},loc:{start:{line:79,column:23},end:{line:97,column:3}},line:79},10:{name:"(anonymous_10)",decl:{start:{line:93,column:17},end:{line:93,column:18}},loc:{start:{line:93,column:23},end:{line:95,column:7}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:22},end:{line:189,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:112,column:26},end:{line:112,column:27}},loc:{start:{line:112,column:32},end:{line:116,column:5}},line:112},13:{name:"(anonymous_13)",decl:{start:{line:138,column:24},end:{line:138,column:25}},loc:{start:{line:138,column:44},end:{line:140,column:7}},line:138},14:{name:"(anonymous_14)",decl:{start:{line:141,column:25},end:{line:141,column:26}},loc:{start:{line:141,column:62},end:{line:141,column:141}},line:141},15:{name:"(anonymous_15)",decl:{start:{line:142,column:19},end:{line:142,column:20}},loc:{start:{line:142,column:33},end:{line:161,column:7}},line:142},16:{name:"(anonymous_16)",decl:{start:{line:144,column:36},end:{line:144,column:37}},loc:{start:{line:144,column:42},end:{line:146,column:11}},line:144},17:{name:"(anonymous_17)",decl:{start:{line:149,column:36},end:{line:149,column:37}},loc:{start:{line:149,column:42},end:{line:158,column:11}},line:149},18:{name:"(anonymous_18)",decl:{start:{line:164,column:25},end:{line:164,column:26}},loc:{start:{line:164,column:31},end:{line:172,column:5}},line:164},19:{name:"(anonymous_19)",decl:{start:{line:173,column:19},end:{line:173,column:20}},loc:{start:{line:173,column:26},end:{line:178,column:5}},line:173},20:{name:"(anonymous_20)",decl:{start:{line:179,column:20},end:{line:179,column:21}},loc:{start:{line:179,column:27},end:{line:181,column:5}},line:179},21:{name:"(anonymous_21)",decl:{start:{line:182,column:19},end:{line:182,column:20}},loc:{start:{line:182,column:27},end:{line:186,column:5}},line:182},22:{name:"(anonymous_22)",decl:{start:{line:190,column:22},end:{line:190,column:23}},loc:{start:{line:190,column:30},end:{line:193,column:3}},line:190},23:{name:"(anonymous_23)",decl:{start:{line:191,column:55},end:{line:191,column:56}},loc:{start:{line:191,column:66},end:{line:191,column:81}},line:191},24:{name:"(anonymous_24)",decl:{start:{line:194,column:2},end:{line:194,column:3}},loc:{start:{line:194,column:20},end:{line:235,column:3}},line:194},25:{name:"(anonymous_25)",decl:{start:{line:196,column:22},end:{line:196,column:23}},loc:{start:{line:196,column:40},end:{line:227,column:7}},line:196},26:{name:"(anonymous_26)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:11},end:{line:252,column:3}},line:236},27:{name:"(anonymous_27)",decl:{start:{line:246,column:13},end:{line:246,column:14}},loc:{start:{line:246,column:20},end:{line:248,column:9}},line:246}},branchMap:{0:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},1:{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},2:{loc:{start:{line:35,column:8},end:{line:35,column:64}},type:"binary-expr",locations:[{start:{line:35,column:8},end:{line:35,column:32}},{start:{line:35,column:36},end:{line:35,column:64}}],line:35},3:{loc:{start:{line:74,column:15},end:{line:74,column:131}},type:"binary-expr",locations:[{start:{line:74,column:15},end:{line:74,column:71}},{start:{line:74,column:75},end:{line:74,column:131}}],line:74},4:{loc:{start:{line:82,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:82,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:82},5:{loc:{start:{line:88,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:90,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},6:{loc:{start:{line:88,column:8},end:{line:88,column:98}},type:"binary-expr",locations:[{start:{line:88,column:8},end:{line:88,column:26}},{start:{line:88,column:30},end:{line:88,column:98}}],line:88},7:{loc:{start:{line:91,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:91},8:{loc:{start:{line:91,column:8},end:{line:91,column:59}},type:"binary-expr",locations:[{start:{line:91,column:8},end:{line:91,column:26}},{start:{line:91,column:30},end:{line:91,column:59}}],line:91},9:{loc:{start:{line:143,column:8},end:{line:160,column:9}},type:"if",locations:[{start:{line:143,column:8},end:{line:160,column:9}},{start:{line:148,column:15},end:{line:160,column:9}}],line:143},10:{loc:{start:{line:174,column:6},end:{line:174,column:40}},type:"if",locations:[{start:{line:174,column:6},end:{line:174,column:40}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AA8LwB;AA9LxB,OAAO,WAAW;AAClB,SAAQ,kBAAiB;AACzB,OAAO,gBAAsI;AAC7I,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAAgE;AACvE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAAgC,6BAA6B;AAC7D,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,sBAAoF;AAC3F,OAAO;AACP,SAAS,uBAA6C;AACtD,OAAO,aAAa;AACpB,SAAS,gBAAgB;AAEzB,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAyBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA,MACV,aAAa;AAAA,IACf;AACA,YAAQ,GAAG,mBAAmB,MAAM;AAClC,WAAK,YAAY;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAGA,sBAAsB,WAAuC,WAA+B;AAC1F,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,IAAI;AAAA,IAEZ;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EAEF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,UAAM,WAAW,IAAI,SAAS,EAAC,UAAU,KAAI,CAAC;AAC9C,eAAW,YAAY,WAAU,SAAS,IAAI;AAC9C,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,UAAM,WAAW,KAAK,aAAa,GAAG;AAEtC,UAAM,cAAc,IAAI,YAAY;AACpC,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,UAAM,OAAO,WAAW,OAAO;AAE/B,UAAM,eAAe,IAAI,WAAW,MAAM;AAAA,MACxC,cAAc;AAAA,IAChB,CAAC;AAED,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO;AAAA,MACP,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,uBAAa,KAAK,QAAQ,MAAM;AAC9B,iBAAK,OAAO,oBAAC,qCAAkC,UAAoB,CAAE;AAAA,UACvE,CAAC;AACD,iBAAO;AAAA,QACT,OAAO;AACL,uBAAa,KAAK,QAAQ,MAAM;AAC9B,iBAAK,OAAO;AAAA,cAAC;AAAA;AAAA,gBACX;AAAA,gBACA,eAAe,KAAK;AAAA,gBACpB,MAAM,KAAK,MAAM;AAAA;AAAA,YACnB,CAAG;AAAA,UACL,CAAC;AACD,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa,OAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAAsC;AAC3D,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB;AAAA,MACpD,aAAa,KAAK,MAAM,EAAE,QAAQ;AAAA,MAClC,YAAY;AAAA,IACd,CAAC;AACD,QAAI,WAAW,UAAU,UAAU;AACnC,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,SAAK,MAAM,UAAU,eAAe,EAAE,QAAQ,CAAC;AAC/C,SAAK,MAAM,aAAa,SAAS,EAAE,OAAO,CAAC;AAC3C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAY,EAAE,UAAU;AAAA,QACxB,KAAK,OAAK;AAAC,eAAK,YAAY;AAAA,QAAE;AAAA,QAC9B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1655c5d10102378b1e2627d777374c6f3c3f21a7"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return xn=function(){return s},s}xn();function Lee(n,e,t){xn().f[0]++;const i=(xn().s[0]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),r=(xn().s[1]++,mee(t));xn().s[2]++,r?(xn().b[0][0]++,xn().s[3]++,e.push(r)):xn().b[0][1]++;const o=(xn().s[4]++,{});xn().s[5]++,Object.keys(n.sources).forEach(a=>{xn().f[1]++;const p=(xn().s[6]++,n.sources[a]);xn().s[7]++,xn().b[2][0]++,p.type!=="raster"&&(xn().b[2][1]++,p.type!=="raster-dem")?(xn().b[1][0]++,xn().s[8]++,o[a]=p):xn().b[1][1]++});const s=(xn().s[9]++,{...n,sources:o,layers:[i].concat(e)});return xn().s[10]++,s}class Fee extends ii.Component{static defaultProps=(xn().s[11]++,{onMapLoaded:()=>{xn().f[2]++},onDataChange:()=>{xn().f[3]++},onLayerSelect:()=>{xn().f[4]++},onChange:()=>{xn().f[5]++},options:{}});container=(xn().s[12]++,null);constructor(e){xn().f[6]++,xn().s[13]++,super(e),xn().s[14]++,this.state={map:null,inspect:null,geocoder:null,zoomControl:null},xn().s[15]++,Mh.on("languageChanged",()=>{xn().f[7]++,xn().s[16]++,this.forceUpdate()})}shouldComponentUpdate(e,t){xn().f[8]++;let i=(xn().s[17]++,!1);xn().s[18]++;try{xn().s[19]++,i=(xn().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(e)||(xn().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(t)))}catch{}return xn().s[20]++,i}componentDidUpdate(){xn().f[9]++;const e=(xn().s[21]++,this.state.map),t=(xn().s[22]++,this.props.replaceAccessTokens(this.props.mapStyle));xn().s[23]++,e?(xn().b[4][0]++,xn().s[24]++,e.setStyle(t,{diff:!0}),xn().s[25]++,e.showTileBoundaries=this.props.options?.showTileBoundaries,xn().s[26]++,e.showCollisionBoxes=this.props.options?.showCollisionBoxes,xn().s[27]++,e.showOverdrawInspector=this.props.options?.showOverdrawInspector):xn().b[4][1]++,xn().s[28]++,xn().b[6][0]++,this.state.inspect&&(xn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(xn().b[5][0]++,xn().s[29]++,this.state.inspect.toggleInspector()):xn().b[5][1]++,xn().s[30]++,xn().b[8][0]++,this.state.inspect&&(xn().b[8][1]++,this.props.inspectModeEnabled)?(xn().b[7][0]++,xn().s[31]++,this.state.inspect.setOriginalStyle(t),xn().s[32]++,setTimeout(()=>{xn().f[10]++,xn().s[33]++,this.state.inspect.render()},500)):xn().b[7][1]++}componentDidMount(){xn().f[11]++;const e=(xn().s[34]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1}),t=(xn().s[35]++,new nV({metadata:!0}));xn().s[36]++,Ov.addProtocol("pmtiles",t.tile);const i=(xn().s[37]++,new Ov.Map(e));xn().s[38]++;const r=()=>{xn().f[12]++;const O=(xn().s[39]++,i.getCenter()),B=(xn().s[40]++,i.getZoom());xn().s[41]++,this.props.onChange({center:O,zoom:B})};xn().s[42]++,r(),xn().s[43]++,i.showTileBoundaries=e.showTileBoundaries,xn().s[44]++,i.showCollisionBoxes=e.showCollisionBoxes,xn().s[45]++,i.showOverdrawInspector=e.showOverdrawInspector;const o=(xn().s[46]++,this.initGeocoder(i)),s=(xn().s[47]++,new dee);xn().s[48]++,i.addControl(s,"top-right");const a=(xn().s[49]++,new Ov.NavigationControl({visualizePitch:!0}));xn().s[50]++,i.addControl(a,"top-right");const p=(xn().s[51]++,document.createElement("div")),g=(xn().s[52]++,qF.createRoot(p)),_=(xn().s[53]++,new Ov.Popup({closeOnClick:!1})),E=(xn().s[54]++,new b8({popup:_,showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(O,B)=>(xn().f[13]++,xn().s[55]++,lc(fj.brightColor(O,B)).desaturate(.5).string()),buildInspectStyle:(O,B)=>(xn().f[14]++,xn().s[56]++,Lee(O,B,this.props.highlightedLayer)),renderPopup:O=>(xn().f[15]++,xn().s[57]++,this.props.inspectModeEnabled?(xn().b[9][0]++,xn().s[58]++,_.once("open",()=>{xn().f[16]++,xn().s[59]++,g.render(Ae.jsx(eee,{features:O}))}),xn().s[60]++,p):(xn().b[9][1]++,xn().s[61]++,_.once("open",()=>{xn().f[17]++,xn().s[62]++,g.render(Ae.jsx(vj,{features:O,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}))}),xn().s[63]++,p))}));xn().s[64]++,i.addControl(E),xn().s[65]++,i.on("style.load",()=>{xn().f[18]++,xn().s[66]++,this.setState({map:i,inspect:E,geocoder:o,zoomControl:s,zoom:i.getZoom()})}),xn().s[67]++,i.on("data",O=>{if(xn().f[19]++,xn().s[68]++,O.dataType!=="tile"){xn().b[10][0]++,xn().s[69]++;return}else xn().b[10][1]++;xn().s[70]++,this.props.onDataChange({map:this.state.map})}),xn().s[71]++,i.on("error",O=>{xn().f[20]++,xn().s[72]++,console.log("ERROR",O)}),xn().s[73]++,i.on("zoom",O=>{xn().f[21]++,xn().s[74]++,this.setState({zoom:i.getZoom()})}),xn().s[75]++,i.on("dragend",r),xn().s[76]++,i.on("zoomend",r)}onLayerSelectById=(xn().s[77]++,e=>{xn().f[22]++;const t=(xn().s[78]++,this.props.mapStyle.layers.findIndex(i=>(xn().f[23]++,xn().s[79]++,i.id===e)));xn().s[80]++,this.props.onLayerSelect(t)});initGeocoder(e){xn().f[24]++;const t=(xn().s[81]++,{forwardGeocode:async r=>{xn().f[25]++;const o=(xn().s[82]++,[]);xn().s[83]++;try{const s=(xn().s[84]++,`https://nominatim.openstreetmap.org/search?q=${r.query}&format=geojson&polygon_geojson=1&addressdetails=1`),a=(xn().s[85]++,await fetch(s)),p=(xn().s[86]++,await a.json());xn().s[87]++;for(const g of p.features){const _=(xn().s[88]++,[g.bbox[0]+(g.bbox[2]-g.bbox[0])/2,g.bbox[1]+(g.bbox[3]-g.bbox[1])/2]),E=(xn().s[89]++,{type:"Feature",geometry:{type:"Point",coordinates:_},place_name:g.properties.display_name,properties:g.properties,text:g.properties.display_name,place_type:["place"],center:_});xn().s[90]++,o.push(E)}}catch(s){xn().s[91]++,console.error(`Failed to forwardGeocode with error: ${s}`)}return xn().s[92]++,{features:o}}}),i=(xn().s[93]++,new Kee(t,{placeholder:this.props.t("Search"),maplibregl:Ov}));return xn().s[94]++,e.addControl(i,"top-left"),xn().s[95]++,i}render(){xn().f[26]++;const e=(xn().s[96]++,this.props.t);return xn().s[97]++,this.state.geocoder?.setPlaceholder(e("Search")),xn().s[98]++,this.state.zoomControl?.setLabel(e("Zoom:")),xn().s[99]++,Ae.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":e("Map view"),ref:t=>{xn().f[27]++,xn().s[100]++,this.container=t},"data-wd-key":"maplibre:map"})}}const zee=(xn().s[101]++,is()(Fee));var gT={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},QC=" ",yT=/(italic|oblique)$/i,vT={};function jB(n,e,t){var i=vT[n];if(!i){Array.isArray(n)||(n=[n]);for(var r=400,o="normal",s=[],a,p,g=0,_=n.length;g<_;++g){var E=n[g],O=E.split(" "),B=O[O.length-1].toLowerCase();B=="normal"||B=="italic"||B=="oblique"?(o=p?o:B,p=!0,O.pop(),B=O[O.length-1].toLowerCase()):yT.test(B)&&(B=B.replace(yT,""),o=p?o:O[O.length-1].replace(B,""),p=!0);for(var z in gT){var N=O.length>1?O[O.length-2].toLowerCase():"";if(B==z||B==z.replace("-","")||N+"-"+B==z){r=a?r:gT[z],O.pop(),N&&z.startsWith(N)&&O.pop();break}}!a&&typeof B=="number"&&(r=B,a=!0);var Q=O.join(QC).replace("Klokantech Noto Sans","Noto Sans").replace("DIN Pro","Barlow").replace("Arial Unicode MS","Arial");Q.indexOf(QC)!==-1&&(Q='"'+Q+'"'),s.push(Q)}i=vT[n]=[o,r,s]}return i[0]+QC+i[1]+QC+e+"px"+(t?"/"+t:"")+QC+i[2]}const Jd={ADD:"add",REMOVE:"remove"},iC={PROPERTYCHANGE:"propertychange"},mo={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Wb{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function jee(n,e,t){let i,r;t=t||d0;let o=0,s=n.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+t(n[i],e),r<0?o=i+1:(s=i,a=!r);return a?o:~o}function d0(n,e){return n>e?1:n<e?-1:0}function Nee(n,e){return n<e?1:n>e?-1:0}function Q2(n,e,t){if(n[0]<=e)return 0;const i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const o=n[r];if(o===e)return r;if(o<e)return t(e,n[r-1],o)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function Gee(n,e,t){for(;e<t;){const i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function f0(n,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function s1(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function Wee(n,e,t){const i=e||d0;return n.every(function(r,o){if(o===0)return!0;const s=i(n[o-1],r);return!(s>0||s===0)})}function rb(){return!0}function Y2(){return!1}function ob(){}function Mj(n){let e,t,i;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==i||!s1(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function rC(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Qb(n){for(const e in n)delete n[e]}function o1(n){let e;for(e in n)return!1;return!e}class Mm{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Yb extends Wb{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const o=t?new Mm(e):e;o.target||(o.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let p;for(let g=0,_=r.length;g<_;++g)if("handleEvent"in r[g]?p=r[g].handleEvent(o):p=r[g].call(this,o),p===!1||o.propagationStopped){p=!1;break}if(--s[i]===0){let g=a[i];for(delete a[i];g--;)this.removeEventListener(i,ob);delete s[i]}return p}disposeInternal(){this.listeners_&&Qb(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=ob,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function ns(n,e,t,i,r){if(r){const s=t;t=function(a){return n.removeEventListener(e,t),s.call(i??this,a)}}else i&&i!==n&&(t=t.bind(i));const o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function L3(n,e,t,i){return ns(n,e,t,i,!0)}function Dl(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Qb(n))}class qb extends Yb{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(mo.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ns(this,e[o],t);return r}return ns(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=L3(this,e[o],t)}else i=L3(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)Qee(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}qb.prototype.on;qb.prototype.once;qb.prototype.un;function Qee(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Dl(n[e]);else Dl(n)}function _o(){throw new Error("Unimplemented abstract method.")}let Yee=0;function Do(n){return n.ol_uid||(n.ol_uid=String(++Yee))}class CT extends Mm{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class wm extends qb{constructor(e){super(),this.on,this.once,this.un,Do(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new CT(i,e,t)),i=iC.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new CT(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const o=r[e];r[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],o1(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const _T={LENGTH:"length"};class Ex extends Mm{constructor(e,t,i){super(e),this.element=t,this.index=i}}class a0 extends wm{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(_T.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ex(Jd.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ex(Jd.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ex(Jd.REMOVE,r,e)),this.dispatchEvent(new Ex(Jd.ADD,t,e))}updateLength_(){this.set(_T.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}}class Iv extends Mm{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class Ug extends Iv{constructor(e,t,i,r,o,s){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const pA={SINGLECLICK:"singleclick",CLICK:mo.CLICK,DBLCLICK:mo.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ay=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",qee=Ay.includes("safari")&&!Ay.includes("chrom");qee&&(Ay.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ay));const Hee=Ay.includes("webkit")&&!Ay.includes("edge"),wj=Ay.includes("macintosh"),Vee=typeof devicePixelRatio<"u"?devicePixelRatio:1,M8=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Sj=typeof Image<"u"&&Image.prototype.decode,$ee=typeof createImageBitmap=="function",Ej=function(){let n=!1;try{const e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}(),NB={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class Zee extends Yb{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ns(i,NB.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ns(i,NB.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(mo.TOUCHMOVE,this.boundHandleTouchMove_,Ej?{passive:!1}:!1)}emulateClick_(e){let t=new Ug(pA.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Ug(pA.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Ug(pA.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==pA.POINTERUP||t.type==pA.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==pA.POINTERDOWN||t.type==pA.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Ug(pA.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Dl),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Ug(pA.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ns(i,pA.POINTERMOVE,this.handlePointerMove_,this),ns(i,pA.POINTERUP,this.handlePointerUp_,this),ns(this.element_,pA.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ns(this.element_.getRootNode(),pA.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Ug(pA.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Ug(pA.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Dl(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(mo.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Dl(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Dl),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const q0={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Qh={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Ki={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Os(n,e){if(!n)throw new Error(e)}const F3=1/0;class Xee{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Qb(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Os(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=F3?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,o=t[e],s=i[e],a=e;for(;e<r>>1;){const p=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),_=g<r&&i[g]<i[p]?g:p;t[e]=t[_],i[e]=i[_],e=_}t[e]=o,i[e]=s,this.siftDown_(a,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,o=i[t],s=r[t];for(;t>e;){const a=this.getParentIndex_(t);if(r[a]>s)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=o,r[t]=s}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const o=t.length;let s,a,p;for(a=0;a<o;++a)s=t[a],p=e(s),p==F3?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=p,t[r++]=s);t.length=r,i.length=r,this.heapify_()}}class Bj extends Xee{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(mo.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===Ki.LOADED||i===Ki.ERROR||i===Ki.EMPTY){i!==Ki.ERROR&&t.removeEventListener(mo.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===Ki.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}}function Jee(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return F3;const o=n.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}const Su={ANIMATING:0,INTERACTING:1},am={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function $u(n,e,t){return Math.min(Math.max(n,e),t)}function ete(n,e,t,i,r,o){const s=r-t,a=o-i;if(s!==0||a!==0){const p=((n-t)*s+(e-i)*a)/(s*s+a*a);p>1?(t=r,i=o):p>0&&(t+=s*p,i+=a*p)}return iy(n,e,t,i)}function iy(n,e,t,i){const r=t-n,o=i-e;return r*r+o*o}function tte(n){const e=n.length;for(let i=0;i<e;i++){let r=i,o=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){const p=Math.abs(n[a][i]);p>o&&(o=p,r=a)}if(o===0)return null;const s=n[r];n[r]=n[i],n[i]=s;for(let a=i+1;a<e;a++){const p=-n[a][i]/n[i][i];for(let g=i;g<e+1;g++)i==g?n[a][g]=0:n[a][g]+=p*n[i][g]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function bT(n){return n*180/Math.PI}function e1(n){return n*Math.PI/180}function ry(n,e){const t=n%e;return t*e<0?t+e:t}function Df(n,e,t){return n+t*(e-n)}function q2(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}function Bx(n,e){return Math.floor(q2(n,e))}function Qg(n,e){return Math.ceil(q2(n,e))}function GB(n,e,t){if(n>=e&&n<t)return n;const i=t-e;return((n-e)%i+i)%i+e}function xT(n,e,t){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;const p=e?0:o[0]*r,g=e?0:o[1]*r,_=a?a[0]:0,E=a?a[1]:0;let O=n[0]+p/2+_,B=n[2]-p/2+_,z=n[1]+g/2+E,N=n[3]-g/2+E;O>B&&(O=(B+O)/2,B=O),z>N&&(z=(N+z)/2,N=z);let Q=$u(i[0],O,B),$=$u(i[1],z,N);if(s&&t&&r){const X=30*r;Q+=-X*Math.log(1+Math.max(0,O-i[0])/X)+X*Math.log(1+Math.max(0,i[0]-B)/X),$+=-X*Math.log(1+Math.max(0,z-i[1])/X)+X*Math.log(1+Math.max(0,i[1]-N)/X)}return[Q,$]}}function nte(n){return n}const Zc={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function WB(n){const e=Kp();for(let t=0,i=n.length;t<i;++t)D_(e,n[t]);return e}function ite(n,e,t){const i=Math.min.apply(null,n),r=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return eg(i,r,o,s,t)}function t1(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Oj(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function gy(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function cy(n,e){return w8(n,e[0],e[1])}function s0(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function w8(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function QB(n,e){const t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],a=e[1];let p=Zc.UNKNOWN;return s<t?p=p|Zc.LEFT:s>r&&(p=p|Zc.RIGHT),a<i?p=p|Zc.BELOW:a>o&&(p=p|Zc.ABOVE),p===Zc.UNKNOWN&&(p=Zc.INTERSECTING),p}function Kp(){return[1/0,1/0,-1/0,-1/0]}function eg(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function yC(n){return eg(1/0,1/0,-1/0,-1/0,n)}function Ij(n,e){const t=n[0],i=n[1];return eg(t,i,t,i,e)}function S8(n,e,t,i,r){const o=yC(r);return kj(o,n,e,t,i)}function tg(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function Tj(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function D_(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function kj(n,e,t,i,r){for(;t<i;t+=r)rte(n,e[t],e[t+1]);return n}function rte(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Dj(n,e){let t;return t=e(H2(n)),t||(t=e(V2(n)),t)||(t=e($2(n)),t)||(t=e(og(n)),t)?t:!1}function YB(n){let e=0;return yy(n)||(e=ds(n)*cc(n)),e}function H2(n){return[n[0],n[1]]}function V2(n){return[n[2],n[1]]}function Gf(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function ote(n,e){let t;if(e==="bottom-left")t=H2(n);else if(e==="bottom-right")t=V2(n);else if(e==="top-left")t=og(n);else if(e==="top-right")t=$2(n);else throw new Error("Invalid corner");return t}function z3(n,e,t,i,r){const[o,s,a,p,g,_,E,O]=Rj(n,e,t,i);return eg(Math.min(o,a,g,E),Math.min(s,p,_,O),Math.max(o,a,g,E),Math.max(s,p,_,O),r)}function Rj(n,e,t,i){const r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(t),a=Math.sin(t),p=r*s,g=r*a,_=o*s,E=o*a,O=n[0],B=n[1];return[O-p+E,B-g-_,O-p-E,B-g+_,O+p-E,B+g+_,O+p+E,B+g-_,O-p+E,B-g-_]}function cc(n){return n[3]-n[1]}function ym(n,e,t){const i=t||Kp();return gA(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):yC(i),i}function og(n){return[n[0],n[3]]}function $2(n){return[n[2],n[3]]}function ds(n){return n[2]-n[0]}function gA(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function yy(n){return n[2]<n[0]||n[3]<n[1]}function ate(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function ste(n,e,t){let i=!1;const r=QB(n,e),o=QB(n,t);if(r===Zc.INTERSECTING||o===Zc.INTERSECTING)i=!0;else{const s=n[0],a=n[1],p=n[2],g=n[3],_=e[0],E=e[1],O=t[0],B=t[1],z=(B-E)/(O-_);let N,Q;o&Zc.ABOVE&&!(r&Zc.ABOVE)&&(N=O-(B-g)/z,i=N>=s&&N<=p),!i&&o&Zc.RIGHT&&!(r&Zc.RIGHT)&&(Q=B-(O-p)*z,i=Q>=a&&Q<=g),!i&&o&Zc.BELOW&&!(r&Zc.BELOW)&&(N=O-(B-a)/z,i=N>=s&&N<=p),!i&&o&Zc.LEFT&&!(r&Zc.LEFT)&&(Q=B-(O-s)*z,i=Q>=a&&Q<=g)}return i}function lte(n,e,t,i){if(yy(n))return yC(t);let r=[];r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]],e(r,r,2);const o=[],s=[];for(let a=0,p=r.length;a<p;a+=2)o.push(r[a]),s.push(r[a+1]);return ite(o,s,t)}function Pj(n,e){const t=e.getExtent(),i=Gf(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const r=ds(t),s=Math.floor((i[0]-t[0])/r)*r;n[0]-=s,n[2]-=s}return n}function Uj(n,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];Pj(n,e);const r=ds(i);if(ds(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}function ute(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function j3(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function E8(n,e){const t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,o=n[1]*t+n[0]*i;return n[0]=r,n[1]=o,n}function Ate(n,e){return n[0]*=e,n[1]*=e,n}function cte(n,e){const t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i}function hte(n,e){return Math.sqrt(cte(n,e))}function B8(n,e){if(e.canWrapX()){const t=ds(e.getExtent()),i=dte(n,e,t);i&&(n[0]-=i*t)}return n}function dte(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||ds(i),r=Math.floor((n[0]-i[0])/t)),r}function Kj(n){return Math.pow(n,3)}function vC(n){return 1-Kj(1-n)}function fte(n){return 3*n*n-2*n*n*n}function pte(n){return n}const mte=63710088e-1;function MT(n,e,t){t=t||mte;const i=e1(n[1]),r=e1(e[1]),o=(r-i)/2,s=e1(e[0]-n[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Lj(...n){console.warn(...n)}const a1={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Z2{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||a1[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Hb=6378137,Pv=Math.PI*Hb,gte=[-Pv,-Pv,Pv,Pv],yte=[-180,-85,180,85],Ox=Hb*Math.log(Math.tan(Math.PI/2));class Zy extends Z2{constructor(e){super({code:e,units:"m",extent:gte,global:!0,worldExtent:yte,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Hb)}})}}const wT=[new Zy("EPSG:3857"),new Zy("EPSG:102100"),new Zy("EPSG:102113"),new Zy("EPSG:900913"),new Zy("http://www.opengis.net/def/crs/EPSG/0/3857"),new Zy("http://www.opengis.net/gml/srs/epsg.xml#3857")];function vte(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i){e[o]=Pv*n[o]/180;let s=Hb*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));s>Ox?s=Ox:s<-Ox&&(s=-Ox),e[o+1]=s}return e}function Cte(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i)e[o]=180*n[o]/Pv,e[o+1]=360*Math.atan(Math.exp(n[o+1]/Hb))/Math.PI-90;return e}const _te=6378137,ST=[-180,-90,180,90],bte=Math.PI*_te/180;class U1 extends Z2{constructor(e,t){super({code:e,units:"degrees",extent:ST,axisOrientation:t,global:!0,metersPerUnit:bte,worldExtent:ST})}}const ET=[new U1("CRS:84"),new U1("EPSG:4326","neu"),new U1("urn:ogc:def:crs:OGC:1.3:CRS84"),new U1("urn:ogc:def:crs:OGC:2:84"),new U1("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new U1("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new U1("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let qB={};function xte(n){return qB[n]||qB[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Mte(n,e){qB[n]=e}let Nv={};function ab(n,e,t){const i=n.getCode(),r=e.getCode();i in Nv||(Nv[i]={}),Nv[i][r]=t}function T5(n,e){return n in Nv&&e in Nv[n]?Nv[n][e]:null}const N3=.9996,Up=.00669438,X2=Up*Up,J2=X2*Up,H1=Up/(1-Up),BT=Math.sqrt(1-Up),oC=(1-BT)/(1+BT),Fj=oC*oC,O8=Fj*oC,I8=O8*oC,zj=I8*oC,jj=1-Up/4-3*X2/64-5*J2/256,wte=3*Up/8+3*X2/32+45*J2/1024,Ste=15*X2/256+45*J2/1024,Ete=35*J2/3072,Bte=3/2*oC-27/32*O8+269/512*zj,Ote=21/16*Fj-55/32*I8,Ite=151/96*O8-417/128*zj,Tte=1097/512*I8,G3=6378137;function kte(n,e,t){const i=n-5e5,s=(t.north?e:e-1e7)/N3/(G3*jj),a=s+Bte*Math.sin(2*s)+Ote*Math.sin(4*s)+Ite*Math.sin(6*s)+Tte*Math.sin(8*s),p=Math.sin(a),g=p*p,_=Math.cos(a),E=p/_,O=E*E,B=O*O,z=1-Up*g,N=Math.sqrt(1-Up*g),Q=G3/N,$=(1-Up)/z,X=H1*_**2,re=X*X,ne=i/(Q*N3),V=ne*ne,J=V*ne,W=J*ne,he=W*ne,ge=he*ne,ve=a-E/$*(V/2-W/24*(5+3*O+10*X-4*re-9*H1))+ge/720*(61+90*O+298*X+45*B-252*H1-3*re);let _e=(ne-J/6*(1+2*O+X)+he/120*(5-2*X+28*O-3*re+8*H1+24*B))/_;return _e=GB(_e+e1(Nj(t.number)),-Math.PI,Math.PI),[bT(_e),bT(ve)]}const OT=-80,IT=84,Dte=-180,Rte=180;function Pte(n,e,t){n=GB(n,Dte,Rte),e<OT?e=OT:e>IT&&(e=IT);const i=e1(e),r=Math.sin(i),o=Math.cos(i),s=r/o,a=s*s,p=a*a,g=e1(n),_=Nj(t.number),E=e1(_),O=G3/Math.sqrt(1-Up*r**2),B=H1*o**2,z=o*GB(g-E,-Math.PI,Math.PI),N=z*z,Q=N*z,$=Q*z,X=$*z,re=X*z,ne=G3*(jj*i-wte*Math.sin(2*i)+Ste*Math.sin(4*i)-Ete*Math.sin(6*i)),V=N3*O*(z+Q/6*(1-a+B)+X/120*(5-18*a+p+72*B-58*H1))+5e5;let J=N3*(ne+O*s*(N/2+$/24*(5-a+9*B+4*B**2)+re/720*(61-58*a+p+600*B-330*H1)));return t.north||(J+=1e7),[V,J]}function Nj(n){return(n-1)*6-180+3}const Ute=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Gj(n){let e=0;for(const r of Ute){const o=n.match(r);if(o){e=parseInt(o[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function TT(n,e){return function(t,i,r,o){const s=t.length;r=r>1?r:2,o=o??r,i||(r>2?i=t.slice():i=new Array(s));for(let a=0;a<s;a+=o){const p=t[a],g=t[a+1],_=n(p,g,e);i[a]=_[0],i[a+1]=_[1]}return i}}function Kte(n){return Gj(n)?new Z2({code:n,units:"m"}):null}function Lte(n){const e=Gj(n.getCode());return e?{forward:TT(Pte,e),inverse:TT(kte,e)}:null}const Fte=[Lte],zte=[Kte];let HB=!0;function Wj(n){HB=!1}function T8(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function VB(n){Mte(n.getCode(),n),ab(n,n,T8)}function jte(n){n.forEach(VB)}function Zs(n){if(typeof n!="string")return n;const e=xte(n);if(e)return e;for(const t of zte){const i=t(n);if(i)return i}return null}function $B(n,e,t,i){n=Zs(n);let r;const o=n.getPointResolutionFunc();if(o){if(r=o(e,t),i&&i!==n.getUnits()){const s=n.getMetersPerUnit();s&&(r=r*s/a1[i])}}else{const s=n.getUnits();if(s=="degrees"&&!i||i=="degrees")r=e;else{const a=Vb(n,Zs("EPSG:4326"));if(!a&&s!=="degrees")r=e*n.getMetersPerUnit();else{let g=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];g=a(g,g,2);const _=MT(g.slice(0,2),g.slice(2,4)),E=MT(g.slice(4,6),g.slice(6,8));r=(_+E)/2}const p=i?a1[i]:n.getMetersPerUnit();p!==void 0&&(r/=p)}}return r}function kT(n){jte(n),n.forEach(function(e){n.forEach(function(t){e!==t&&ab(e,t,T8)})})}function Nte(n,e,t,i){n.forEach(function(r){e.forEach(function(o){ab(r,o,t),ab(o,r,i)})})}function k8(n,e){return n?typeof n=="string"?Zs(n):n:Zs(e)}function Gte(n){return function(e,t,i,r){const o=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(o);for(let s=0;s<o;s+=r){const a=n(e.slice(s,s+i)),p=a.length;for(let g=0,_=r;g<_;++g)t[s+g]=g>=p?e[s+g]:a[g]}return t}}function ZB(n,e){return Wj(),e4(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function k5(n,e){const t=e4(n,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=ry(i+180,360)-180),t}function n1(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||Vb(n,e)===T8)&&t}function Vb(n,e){const t=n.getCode(),i=e.getCode();let r=T5(t,i);if(r)return r;let o=null,s=null;for(const p of Fte)o||(o=p(n)),s||(s=p(e));if(!o&&!s)return null;const a="EPSG:4326";if(s)if(o)r=D5(o.inverse,s.forward);else{const p=T5(t,a);p&&(r=D5(p,s.forward))}else{const p=T5(a,i);p&&(r=D5(o.inverse,p))}return r&&(VB(n),VB(e),ab(n,e,r)),r}function D5(n,e){return function(t,i,r,o){return i=n(t,i,r,o),e(i,i,r,o)}}function sb(n,e){const t=Zs(n),i=Zs(e);return Vb(t,i)}function e4(n,e,t){const i=sb(e,t);if(!i){const r=Zs(e).getCode(),o=Zs(t).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(n,void 0,n.length)}let Wte=null;function Qte(){return Wte}function XB(n,e){return n}function Y0(n,e){return HB&&!j3(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(HB=!1,Lj("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function D8(n,e){return n}function l0(n,e){return n}function Yte(){kT(wT),kT(ET),Nte(ET,wT,vte,Cte)}Yte();const Qj=new Array(6);function rf(){return[1,0,0,1,0,0]}function DT(n){return P8(n,1,0,0,1,0,0)}function R8(n,e){const t=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=n[5],p=e[0],g=e[1],_=e[2],E=e[3],O=e[4],B=e[5];return n[0]=t*p+r*g,n[1]=i*p+o*g,n[2]=t*_+r*E,n[3]=i*_+o*E,n[4]=t*O+r*B+s,n[5]=i*O+o*B+a,n}function P8(n,e,t,i,r,o,s){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n}function qte(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function uc(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function R5(n,e,t){return R8(n,P8(Qj,e,0,0,t,0,0))}function Hte(n,e,t){return R8(n,P8(Qj,1,0,0,1,e,t))}function m0(n,e,t,i,r,o,s,a){const p=Math.sin(o),g=Math.cos(o);return n[0]=i*g,n[1]=r*p,n[2]=-i*p,n[3]=r*g,n[4]=s*i*g-a*i*p+e,n[5]=s*r*p+a*r*g+t,n}function Yj(n,e){const t=Vte(e);Os(t!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],p=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-o/t,n[3]=i/t,n[4]=(o*p-s*a)/t,n[5]=-(i*p-r*a)/t,n}function Vte(n){return n[0]*n[3]-n[1]*n[2]}const $te=[1e5,1e5,1e5,1e5,2,2];function Zte(n){return"matrix("+n.join(", ")+")"}function RT(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function Xte(n,e){const t=RT(n),i=RT(e);for(let r=0;r<6;++r)if(Math.round((t[r]-i[r])*$te[r])!==0)return!1;return!0}function i1(n,e,t,i,r,o,s){o=o||[],s=s||2;let a=0;for(let p=e;p<t;p+=i){const g=n[p],_=n[p+1];o[a++]=r[0]*g+r[2]*_+r[4],o[a++]=r[1]*g+r[3]*_+r[5];for(let E=2;E<s;E++)o[a++]=n[p+E]}return o&&o.length!=a&&(o.length=a),o}function qj(n,e,t,i,r,o,s){s=s||[];const a=Math.cos(r),p=Math.sin(r),g=o[0],_=o[1];let E=0;for(let O=e;O<t;O+=i){const B=n[O]-g,z=n[O+1]-_;s[E++]=g+B*a-z*p,s[E++]=_+B*p+z*a;for(let N=O+2;N<O+i;++N)s[E++]=n[N]}return s&&s.length!=E&&(s.length=E),s}function Jte(n,e,t,i,r,o,s,a){a=a||[];const p=s[0],g=s[1];let _=0;for(let E=e;E<t;E+=i){const O=n[E]-p,B=n[E+1]-g;a[_++]=p+r*O,a[_++]=g+o*B;for(let z=E+2;z<E+i;++z)a[_++]=n[z]}return a&&a.length!=_&&(a.length=_),a}function ene(n,e,t,i,r,o,s){s=s||[];let a=0;for(let p=e;p<t;p+=i){s[a++]=n[p]+r,s[a++]=n[p+1]+o;for(let g=p+2;g<p+i;++g)s[a++]=n[g]}return s&&s.length!=a&&(s.length=a),s}const PT=rf(),tne=[NaN,NaN];class Hj extends wm{constructor(){super(),this.extent_=Kp(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Mj((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return _o()}closestPointXY(e,t,i,r){return _o()}containsXY(e,t){return this.closestPointXY(e,t,tne,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return _o()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&yC(t),this.extentRevision_=this.getRevision()}return ate(this.extent_,e)}rotate(e,t){_o()}scale(e,t,i){_o()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return _o()}getType(){return _o()}applyTransform(e){_o()}intersectsExtent(e){return _o()}translate(e,t){_o()}transform(e,t){const i=Zs(e),r=i.getUnits()=="tile-pixels"?function(o,s,a){const p=i.getExtent(),g=i.getWorldExtent(),_=cc(g)/cc(p);m0(PT,g[0],g[3],_,-_,0,0,0);const E=i1(o,0,o.length,a,PT,s),O=sb(i,t);return O?O(E,E,a):E}:sb(i,t);return this.applyTransform(r),this}}class vy extends Hj{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return S8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return _o()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=UT(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){_o()}setLayout(e,t,i){let r;if(e)r=UT(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Cy(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();qj(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=Gf(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();Jte(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();ene(i,0,i.length,r,e,t,i),this.changed()}}}function Cy(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function UT(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function nne(n,e,t){const i=n.getFlatCoordinates();if(!i)return null;const r=n.getStride();return i1(i,0,i.length,r,e,t)}function Vj(n,e,t,i){let r=0;const o=n[t-i],s=n[t-i+1];let a=0,p=0;for(;e<t;e+=i){const g=n[e]-o,_=n[e+1]-s;r+=p*g-a*_,a=g,p=_}return r/2}function $j(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){const a=t[o];r+=Vj(n,e,a,i),e=a}return r}function ine(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){const a=t[o];r+=$j(n,e,a,i),e=a[a.length-1]}return r}function KT(n,e,t,i,r,o,s){const a=n[e],p=n[e+1],g=n[t]-a,_=n[t+1]-p;let E;if(g===0&&_===0)E=e;else{const O=((r-a)*g+(o-p)*_)/(g*g+_*_);if(O>1)E=t;else if(O>0){for(let B=0;B<i;++B)s[B]=Df(n[e+B],n[t+B],O);s.length=i;return}else E=e}for(let O=0;O<i;++O)s[O]=n[E+O];s.length=i}function U8(n,e,t,i,r){let o=n[e],s=n[e+1];for(e+=i;e<t;e+=i){const a=n[e],p=n[e+1],g=iy(o,s,a,p);g>r&&(r=g),o=a,s=p}return r}function K8(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];r=U8(n,e,a,i,r),e=a}return r}function rne(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];r=K8(n,e,a,i,r),e=a[a.length-1]}return r}function L8(n,e,t,i,r,o,s,a,p,g,_){if(e==t)return g;let E,O;if(r===0){if(O=iy(s,a,n[e],n[e+1]),O<g){for(E=0;E<i;++E)p[E]=n[e+E];return p.length=i,O}return g}_=_||[NaN,NaN];let B=e+i;for(;B<t;)if(KT(n,B-i,B,i,s,a,_),O=iy(s,a,_[0],_[1]),O<g){for(g=O,E=0;E<i;++E)p[E]=_[E];p.length=i,B+=i}else B+=i*Math.max((Math.sqrt(O)-Math.sqrt(g))/r|0,1);if(o&&(KT(n,t-i,e,i,s,a,_),O=iy(s,a,_[0],_[1]),O<g)){for(g=O,E=0;E<i;++E)p[E]=_[E];p.length=i}return g}function F8(n,e,t,i,r,o,s,a,p,g,_){_=_||[NaN,NaN];for(let E=0,O=t.length;E<O;++E){const B=t[E];g=L8(n,e,B,i,r,o,s,a,p,g,_),e=B}return g}function one(n,e,t,i,r,o,s,a,p,g,_){_=_||[NaN,NaN];for(let E=0,O=t.length;E<O;++E){const B=t[E];g=F8(n,e,B,i,r,o,s,a,p,g,_),e=B[B.length-1]}return g}function ane(n,e,t,i){for(let r=0,o=t.length;r<o;++r)n[e++]=t[r];return e}function t4(n,e,t,i){for(let r=0,o=t.length;r<o;++r){const s=t[r];for(let a=0;a<i;++a)n[e++]=s[a]}return e}function $b(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){const p=t4(n,e,t[s],i);r[o++]=p,e=p}return r.length=o,r}function Zj(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){const p=$b(n,e,t[s],i,r[o]);p.length===0&&(p[0]=e),r[o++]=p,e=p[p.length-1]}return r.length=o,r}function Yg(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=e;s<t;s+=i)r[o++]=n.slice(s,s+i);return r.length=o,r}function lb(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){const p=t[s];r[o++]=Yg(n,e,p,i,r[o]),e=p}return r.length=o,r}function JB(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){const p=t[s];r[o++]=p.length===1&&p[0]===e?[]:lb(n,e,p,i,r[o]),e=p[p.length-1]}return r.length=o,r}function n4(n,e,t,i,r,o,s){const a=(t-e)/i;if(a<3){for(;e<t;e+=i)o[s++]=n[e],o[s++]=n[e+1];return s}const p=new Array(a);p[0]=1,p[a-1]=1;const g=[e,t-i];let _=0;for(;g.length>0;){const E=g.pop(),O=g.pop();let B=0;const z=n[O],N=n[O+1],Q=n[E],$=n[E+1];for(let X=O+i;X<E;X+=i){const re=n[X],ne=n[X+1],V=ete(re,ne,z,N,Q,$);V>B&&(_=X,B=V)}B>r&&(p[(_-e)/i]=1,O+i<_&&g.push(O,_),_+i<E&&g.push(_,E))}for(let E=0;E<a;++E)p[E]&&(o[s++]=n[e+E*i],o[s++]=n[e+E*i+1]);return s}function Xj(n,e,t,i,r,o,s,a){for(let p=0,g=t.length;p<g;++p){const _=t[p];s=n4(n,e,_,i,r,o,s),a.push(s),e=_}return s}function N1(n,e){return e*Math.round(n/e)}function sne(n,e,t,i,r,o,s){if(e==t)return s;let a=N1(n[e],r),p=N1(n[e+1],r);e+=i,o[s++]=a,o[s++]=p;let g,_;do if(g=N1(n[e],r),_=N1(n[e+1],r),e+=i,e==t)return o[s++]=g,o[s++]=_,s;while(g==a&&_==p);for(;e<t;){const E=N1(n[e],r),O=N1(n[e+1],r);if(e+=i,E==g&&O==_)continue;const B=g-a,z=_-p,N=E-a,Q=O-p;if(B*Q==z*N&&(B<0&&N<B||B==N||B>0&&N>B)&&(z<0&&Q<z||z==Q||z>0&&Q>z)){g=E,_=O;continue}o[s++]=g,o[s++]=_,a=g,p=_,g=E,_=O}return o[s++]=g,o[s++]=_,s}function z8(n,e,t,i,r,o,s,a){for(let p=0,g=t.length;p<g;++p){const _=t[p];s=sne(n,e,_,i,r,o,s),a.push(s),e=_}return s}function lne(n,e,t,i,r,o,s,a){for(let p=0,g=t.length;p<g;++p){const _=t[p],E=[];s=z8(n,e,_,i,r,o,s,E),a.push(E),e=_[_.length-1]}return s}class ub extends vy{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new ub(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<gy(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(U8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),L8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return Vj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=n4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new ub(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=t4(this.flatCoordinates,0,e,this.stride),this.changed()}}class hy extends vy{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new hy(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const o=this.flatCoordinates,s=iy(e,t,o[0],o[1]);if(s<r){const a=this.stride;for(let p=0;p<a;++p)i[p]=o[p];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Ij(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return w8(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ane(this.flatCoordinates,0,e,this.stride),this.changed()}}function une(n,e,t,i,r){return!Dj(r,function(s){return!V1(n,e,t,i,s[0],s[1])})}function V1(n,e,t,i,r,o){let s=0,a=n[t-i],p=n[t-i+1];for(;e<t;e+=i){const g=n[e],_=n[e+1];p<=o?_>o&&(g-a)*(o-p)-(r-a)*(_-p)>0&&s++:_<=o&&(g-a)*(o-p)-(r-a)*(_-p)<0&&s--,a=g,p=_}return s!==0}function j8(n,e,t,i,r,o){if(t.length===0||!V1(n,e,t[0],i,r,o))return!1;for(let s=1,a=t.length;s<a;++s)if(V1(n,t[s-1],t[s],i,r,o))return!1;return!0}function Ane(n,e,t,i,r,o){if(t.length===0)return!1;for(let s=0,a=t.length;s<a;++s){const p=t[s];if(j8(n,e,p,i,r,o))return!0;e=p[p.length-1]}return!1}function N8(n,e,t,i,r,o,s){let a,p,g,_,E,O,B;const z=r[o+1],N=[];for(let X=0,re=t.length;X<re;++X){const ne=t[X];for(_=n[ne-i],O=n[ne-i+1],a=e;a<ne;a+=i)E=n[a],B=n[a+1],(z<=O&&B<=z||O<=z&&z<=B)&&(g=(z-O)/(B-O)*(E-_)+_,N.push(g)),_=E,O=B}let Q=NaN,$=-1/0;for(N.sort(d0),_=N[0],a=1,p=N.length;a<p;++a){E=N[a];const X=Math.abs(E-_);X>$&&(g=(_+E)/2,j8(n,e,t,i,g,z)&&(Q=g,$=X)),_=E}return isNaN(Q)&&(Q=r[o]),s?(s.push(Q,z,$),s):[Q,z,$]}function Jj(n,e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;++s){const p=t[s];o=N8(n,e,p,i,r,2*s,o),e=p[p.length-1]}return o}function eN(n,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(n.slice(e-i,e),n.slice(e,e+i)),o)return o;return!1}function i4(n,e,t,i,r,o){return o=o??kj(Kp(),n,e,t,i),gA(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:eN(n,e,t,i,function(s,a){return ste(r,s,a)}):!1}function cne(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){if(i4(n,e,t[o],i,r))return!0;e=t[o]}return!1}function tN(n,e,t,i,r){return!!(i4(n,e,t,i,r)||V1(n,e,t,i,r[0],r[1])||V1(n,e,t,i,r[0],r[3])||V1(n,e,t,i,r[2],r[1])||V1(n,e,t,i,r[2],r[3]))}function nN(n,e,t,i,r){if(!tN(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let o=1,s=t.length;o<s;++o)if(une(n,t[o-1],t[o],i,r)&&!i4(n,t[o-1],t[o],i,r))return!1;return!0}function hne(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];if(nN(n,e,a,i,r))return!0;e=a[a.length-1]}return!1}function dne(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const o=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=o}e+=i,t-=i}}function G8(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1];for(;e<t;e+=i){const a=n[e],p=n[e+1];r+=(a-o)*(p+s),o=a,s=p}return r===0?void 0:r>0}function W8(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){const a=t[o],p=G8(n,e,a,i);if(o===0){if(r&&p||!r&&!p)return!1}else if(r&&!p||!r&&p)return!1;e=a}return!0}function iN(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];if(!W8(n,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function W3(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){const a=t[o],p=G8(n,e,a,i);(o===0?r&&p||!r&&!p:r&&!p||!r&&p)&&dne(n,e,a,i),e=a}return e}function eO(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o)e=W3(n,e,t[o],i,r);return e}function rN(n,e){const t=[];let i=0,r=0,o;for(let s=0,a=e.length;s<a;++s){const p=e[s],g=G8(n,i,p,2);if(o===void 0&&(o=g),g===o)t.push(e.slice(r,s+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=s+1,i=p}return t}class ng extends vy{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?f0(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ng(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<gy(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(K8(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),F8(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return j8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return $j(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),W3(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,lb(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Gf(this.getExtent());this.flatInteriorPoint_=N8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new hy(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new ub(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let o=0;for(let s=0,a=i.length;s<a;++s){const p=i[s],g=new ub(t.slice(o,p),e);r.push(g),o=p}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;W8(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=W3(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=z8(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new ng(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return nN(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=$b(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function LT(n){if(yy(n))throw new Error("Cannot create polygon from empty extent");const e=n[0],t=n[1],i=n[2],r=n[3],o=[e,t,e,r,i,r,i,t,e,t];return new ng(o,"XY",[o.length])}function Q8(n,e,t,i){const r=ds(e)/t[0],o=cc(e)/t[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function Y8(n,e,t){let i=Math.min(n,e);const r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),$u(i,t/2,e*2)}function fne(n,e,t,i){return e=e!==void 0?e:!0,function(r,o,s,a){if(r!==void 0){const p=n[0],g=n[n.length-1],_=t?Q8(p,t,s,i):p;if(a)return e?Y8(r,_,g):$u(r,g,_);const E=Math.min(_,r),O=Math.floor(Q2(n,E,o));return n[O]>_&&O<n.length-1?n[O+1]:n[O]}}}function pne(n,e,t,i,r,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(s,a,p,g){if(s!==void 0){const _=r?Q8(e,r,p,o):e;if(g)return i?Y8(s,_,t):$u(s,t,_);const E=1e-9,O=Math.ceil(Math.log(e/_)/Math.log(n)-E),B=-a*(.5-E)+.5,z=Math.min(_,s),N=Math.floor(Math.log(e/z)/Math.log(n)+B),Q=Math.max(O,N),$=e/Math.pow(n,Q);return $u($,t,_)}}}function FT(n,e,t,i,r){return t=t!==void 0?t:!0,function(o,s,a,p){if(o!==void 0){const g=i?Q8(n,i,a,r):n;return!t||!p?$u(o,e,g):Y8(o,g,e)}}}function q8(n){if(n!==void 0)return 0}function zT(n){if(n!==void 0)return n}function mne(n){const e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function gne(n){const e=e1(5);return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}const oN=42,H8=256,P5=0;class dm extends wm{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=k8(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Wj(),e.center&&(e.center=Y0(e.center,this.projection_)),e.extent&&(e.extent=l0(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in am)delete t[a];this.setProperties(t,!0);const i=vne(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=yne(e),o=i.constraint,s=Cne(e);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),s=o/2*(r[3]-t[3]+t[1]-r[1]),a=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Y0(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Y0(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const _=arguments[r];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(r===t){i&&Ix(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,p=this.targetRotation_;const g=[];for(;r<t;++r){const _=arguments[r],E={start:o,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||fte,callback:i};if(_.center&&(E.sourceCenter=s,E.targetCenter=_.center.slice(),s=E.targetCenter),_.zoom!==void 0?(E.sourceResolution=a,E.targetResolution=this.getResolutionForZoom(_.zoom),a=E.targetResolution):_.resolution&&(E.sourceResolution=a,E.targetResolution=_.resolution,a=E.targetResolution),_.rotation!==void 0){E.sourceRotation=p;const O=ry(_.rotation-p+Math.PI,2*Math.PI)-Math.PI;E.targetRotation=p+O,p=E.targetRotation}_ne(E)?E.complete=!0:o+=E.duration,g.push(E)}this.animations_.push(g),this.setHint(Su.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Su.ANIMATING]>0}getInteracting(){return this.hints_[Su.INTERACTING]>0}cancelAnimations(){this.setHint(Su.ANIMATING,-this.hints_[Su.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&Ix(r[0].callback,!1),!e)for(let o=0,s=r.length;o<s;++o){const a=r[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let o=!0;for(let s=0,a=r.length;s<a;++s){const p=r[s];if(p.complete)continue;const g=e-p.start;let _=p.duration>0?g/p.duration:1;_>=1?(p.complete=!0,_=1):o=!1;const E=p.easing(_);if(p.sourceCenter){const O=p.sourceCenter[0],B=p.sourceCenter[1],z=p.targetCenter[0],N=p.targetCenter[1];this.nextCenter_=p.targetCenter;const Q=O+E*(z-O),$=B+E*(N-B);this.targetCenter_=[Q,$]}if(p.sourceResolution&&p.targetResolution){const O=E===1?p.targetResolution:p.sourceResolution+E*(p.targetResolution-p.sourceResolution);if(p.anchor){const B=this.getViewportSize_(this.getRotation()),z=this.constraints_.resolution(O,0,B,!0);this.targetCenter_=this.calculateCenterZoom(z,p.anchor)}this.nextResolution_=p.targetResolution,this.targetResolution_=O,this.applyTargetState_(!0)}if(p.sourceRotation!==void 0&&p.targetRotation!==void 0){const O=E===1?ry(p.targetRotation+Math.PI,2*Math.PI)-Math.PI:p.sourceRotation+E*(p.targetRotation-p.sourceRotation);if(p.anchor){const B=this.constraints_.rotation(O,!0);this.targetCenter_=this.calculateCenterRotate(B,p.anchor)}this.nextRotation_=p.targetRotation,this.targetRotation_=O}if(this.applyTargetState_(!0),t=!0,!p.complete)break}if(o){this.animations_[i]=null,this.setHint(Su.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=r[0].callback;s&&Ix(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],E8(i,e-this.getRotation()),ute(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const s=t[0]-e*(t[0]-r[0])/o,a=t[1]-e*(t[1]-r[1])/o;i=[s,a]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&XB(e,this.getProjection())}getCenterInternal(){return this.get(am.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return D8(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Os(t,"The view center is not defined");const i=this.getResolution();Os(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Os(r!==void 0,"The view rotation is not defined"),z3(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(am.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(l0(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=ds(e)/t[0],r=cc(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*r)}}getRotation(){return this.get(am.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/t;return function(s){return Math.log(i/s)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const s=this.getViewportSizeMinusPadding_();r=U5(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){const o=Q2(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const t=$u(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,$u(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Os(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Os(!yy(e),"Cannot fit empty extent provided as `geometry`");const r=l0(e,this.getProjection());i=LT(r)}else if(e.getType()==="Circle"){const r=l0(e.getExtent(),this.getProjection());i=LT(r),i.rotate(this.getRotation(),Gf(r))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride();let a=1/0,p=1/0,g=-1/0,_=-1/0;for(let E=0,O=o.length;E<O;E+=s){const B=o[E]*i-o[E+1]*r,z=o[E]*r+o[E+1]*i;a=Math.min(a,B),p=Math.min(p,z),g=Math.max(g,B),_=Math.max(_,z)}return[a,p,g,_]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1;let s;t.minResolution!==void 0?s=t.minResolution:t.maxZoom!==void 0?s=this.getResolutionForZoom(t.maxZoom):s=0;const a=this.rotatedExtentForGeometry(e);let p=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);p=isNaN(p)?s:Math.max(p,s),p=this.getConstrainedResolution(p,o?0:1);const g=this.getRotation(),_=Math.sin(g),E=Math.cos(g),O=Gf(a);O[0]+=(r[1]-r[3])/2*p,O[1]+=(r[0]-r[2])/2*p;const B=O[0]*E-O[1]*_,z=O[1]*E+O[0]*_,N=this.getConstrainedCenter([B,z],p),Q=t.callback?t.callback:ob;t.duration!==void 0?this.animateInternal({resolution:p,center:N,duration:t.duration,easing:t.easing},Q):(this.targetResolution_=p,this.targetCenter_=N,this.applyTargetState_(!1,!0),Ix(Q,!0))}centerOn(e,t,i){this.centerOnInternal(Y0(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(U5(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o;const s=this.padding_;if(s&&e){const a=this.getViewportSizeMinusPadding_(-i),p=U5(e,r,[a[0]/2+s[3],a[1]/2+s[0]],t,i);o=[e[0]-p[0],e[1]-p[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=XB(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Y0(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Y0(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Y0(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(am.ROTATION)!==r&&this.set(am.ROTATION,r),this.get(am.RESOLUTION)!==s&&(this.set(am.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(am.CENTER)||!j3(this.get(am.CENTER),a))&&this.set(am.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const r=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),p=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=p,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!j3(this.getCenterInternal(),p))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:p,resolution:a,duration:e,easing:vC,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Su.INTERACTING,1)}endInteraction(e,t,i){i=i&&Y0(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Su.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Ix(n,e){setTimeout(function(){n(e)},0)}function yne(n){if(n.extent!==void 0){const t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return xT(n.extent,n.constrainOnlyCenter,t)}const e=k8(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,xT(t,!1,!1)}return nte}function vne(n){let e,t,i,s=n.minZoom!==void 0?n.minZoom:P5,a=n.maxZoom!==void 0?n.maxZoom:28;const p=n.zoomFactor!==void 0?n.zoomFactor:2,g=n.multiWorld!==void 0?n.multiWorld:!1,_=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,E=n.showFullExtent!==void 0?n.showFullExtent:!1,O=k8(n.projection,"EPSG:3857"),B=O.getExtent();let z=n.constrainOnlyCenter,N=n.extent;if(!g&&!N&&O.isGlobal()&&(z=!1,N=B),n.resolutions!==void 0){const Q=n.resolutions;t=Q[s],i=Q[a]!==void 0?Q[a]:Q[Q.length-1],n.constrainResolution?e=fne(Q,_,!z&&N,E):e=FT(t,i,_,!z&&N,E)}else{const $=(B?Math.max(ds(B),cc(B)):360*a1.degrees/O.getMetersPerUnit())/H8/Math.pow(2,P5),X=$/Math.pow(2,28-P5);t=n.maxResolution,t!==void 0?s=0:t=$/Math.pow(p,s),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(p,a):i=$/Math.pow(p,a):i=X),a=s+Math.floor(Math.log(t/i)/Math.log(p)),i=t/Math.pow(p,a-s),n.constrainResolution?e=pne(p,t,i,_,!z&&N,E):e=FT(t,i,_,!z&&N,E)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:p}}function Cne(n){if(n.enableRotation!==void 0?n.enableRotation:!0){const t=n.constrainRotation;return t===void 0||t===!0?gne():t===!1?zT:typeof t=="number"?mne(t):zT}return q8}function _ne(n){return!(n.sourceCenter&&n.targetCenter&&!j3(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function U5(n,e,t,i,r){const o=Math.cos(-r);let s=Math.sin(-r),a=n[0]*o-n[1]*s,p=n[1]*o+n[0]*s;a+=(e[0]/2-t[0])*i,p+=(t[1]-e[1]/2)*i,s=-s;const g=a*o-p*s,_=p*o+a*s;return[g,_]}const Tx="ol-hidden",bne="ol-selectable",r4="ol-unselectable",V8="ol-control",jT="ol-collapsed",xne=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),NT=["style","variant","weight","size","lineHeight","family"],tO={normal:400,bold:700},nO=function(n){const e=n.match(xne);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=NT.length;i<r;++i){const o=e[i+1];o!==void 0&&(t[NT[i]]=typeof o=="string"?o.trim():o)}return isNaN(Number(t.weight))&&t.weight in tO&&(t.weight=tO[t.weight]),t.families=t.family.split(/,\s?/).map(i=>i.trim().replace(/^['"]|['"]$/g,"")),t};function Zu(n,e,t,i){let r;return t&&t.length?r=t.shift():M8?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}let K5;function Q3(){return K5||(K5=Zu(1,1)),K5}function Zb(n){const e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function Mne(n){let e=n.offsetWidth;const t=getComputedStyle(n);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function wne(n){let e=n.offsetHeight;const t=getComputedStyle(n);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function GT(n,e){const t=e.parentNode;t&&t.replaceChild(n,e)}function aN(n){for(;n.lastChild;)n.lastChild.remove()}function Sne(n,e){const t=n.childNodes;for(let i=0;;++i){const r=t[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){n.appendChild(o);continue}if(!o){n.removeChild(r),--i;continue}n.insertBefore(o,r)}}}class $8 extends wm{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Dl(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==ob&&this.listenerKeys.push(ns(e,q0.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Ene extends $8{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"›",s=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const p=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(p),this.toggleButton_.addEventListener(mo.CLICK,this.handleClick_.bind(this),!1);const g=t+" "+r4+" "+V8+(this.collapsed_&&this.collapsible_?" "+jT:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=g,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>rC(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!s1(t,this.renderedAttributions_)){aN(this.ulElement_);for(let r=0,o=t.length;r<o;++r){const s=document.createElement("li");s.innerHTML=t[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(jT),this.collapsed_?GT(this.collapseLabel_,this.label_):GT(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Bne extends $8{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(mo.CLICK,this.handleClick_.bind(this),!1);const a=t+" "+r4+" "+V8,p=this.element;p.className=a,p.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Tx)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:vC}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Tx);!o&&i===0?this.element.classList.add(Tx):o&&i!==0&&this.element.classList.remove(Tx)}this.label_.style.transform=r}this.rotation_=i}}class One extends $8{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",p=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",g=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=r,_.setAttribute("type","button"),_.title=p,_.appendChild(typeof s=="string"?document.createTextNode(s):s),_.addEventListener(mo.CLICK,this.handleClick_.bind(this,i),!1);const E=document.createElement("button");E.className=o,E.setAttribute("type","button"),E.title=g,E.appendChild(typeof a=="string"?document.createTextNode(a):a),E.addEventListener(mo.CLICK,this.handleClick_.bind(this,-i),!1);const O=t+" "+r4+" "+V8,B=this.element;B.className=O,B.appendChild(_),B.appendChild(E),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:vC})):i.setZoom(o)}}}function Ine(n){n=n||{};const e=new a0;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new One(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new Bne(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new Ene(n.attributionOptions)),e}class Tne{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const o=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const WT={ACTIVE:"active"};class Xb extends wm{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(WT.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(WT.ACTIVE,e)}setMap(e){this.map_=e}}function kne(n,e,t){const i=n.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:pte,center:n.getConstrainedCenter(r)})}}function Z8(n,e,t,i){const r=n.getZoom();if(r===void 0)return;const o=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:i!==void 0?i:250,easing:vC})}class Dne extends Xb{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==pA.DBLCLICK){const i=e.originalEvent,r=e.map,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=r.getView();Z8(a,s,o,this.duration_),i.preventDefault(),t=!0}return!t}}function iO(n){const e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),!!i);++r);return i}}const Rne=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Pne=function(n){const e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},sN=function(n){const e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?Pne(n):!0},Une=rb,lN=function(n){const e=n.originalEvent;return"pointerId"in e&&e.button==0&&!(Hee&&wj&&e.ctrlKey)},uN=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Kne=function(n){const e=n.originalEvent;return wj?e.metaKey:e.ctrlKey},Lne=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},AN=function(n){const e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},L5=function(n){const e=n.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},Fne=function(n){const e=n.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class Jb extends Xb{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==pA.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==pA.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==pA.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==pA.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function X8(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}class zne extends Jb{constructor(e){super({stopDown:Y2}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:iO(uN,Fne);this.condition_=e.onFocusOnly?iO(sN,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(X8(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();Ate(o,a.getResolution()),E8(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(s),p=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(p),duration:500,easing:vC})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class jne extends Jb{constructor(e){e=e||{},super({stopDown:Y2}),this.condition_=e.condition?e.condition:Rne,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!L5(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===q8)return;const r=t.getSize(),o=e.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(e){return L5(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return L5(e)&&lN(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Nne extends Wb{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new ng([r])}getGeometry(){return this.geometry_}}const Xy={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class YC extends Mm{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class Gne extends Jb{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Nne(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??lN,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new YC(Xy.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new YC(t?Xy.BOXEND:Xy.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new YC(Xy.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new YC(Xy.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new YC(Xy.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class Wne extends Gne{constructor(e){e=e||{};const t=e.condition?e.condition:Lne;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:vC})}}const K1={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Qne extends Xb{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return uN(t)&&AN(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==mo.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==K1.DOWN||r==K1.LEFT||r==K1.RIGHT||r==K1.UP)){const s=e.map.getView(),a=s.getResolution()*this.pixelDelta_;let p=0,g=0;r==K1.DOWN?g=-a:r==K1.LEFT?p=-a:r==K1.RIGHT?p=a:g=a;const _=[p,g];E8(_,s.getRotation()),kne(s,_,this.duration_),i.preventDefault(),t=!0}}return!t}}class Yne extends Xb{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!Kne(t)&&AN(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==mo.KEYDOWN||e.type==mo.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const o=e.map,s=r==="+"?this.delta_:-this.delta_,a=o.getView();Z8(a,s,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const qne=40,Hne=300;class Vne extends Xb{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:Une;this.condition_=e.onFocusOnly?iO(sN,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==mo.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=qne;break;case WheelEvent.DOM_DELTA_PAGE:o*=Hne;break}if(o===0)return!1;this.lastDelta_=o;const s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;const p=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),p),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-$u(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Z8(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class $ne extends Jb{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Y2),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const p=o-this.lastAngle_;this.rotationDelta_+=p,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=p}this.lastAngle_=o;const s=e.map,a=s.getView();a.getConstraints().rotation!==q8&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(X8(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class Zne extends Jb{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Y2),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;const p=e.map,g=p.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=p.getCoordinateFromPixelInternal(p.getEventPixel(X8(this.targetPointers))),p.render(),g.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function Xne(n){n=n||{};const e=new a0,t=new Tne(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new jne),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new Dne({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new zne({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new $ne),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new Zne({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new Qne),e.push(new Yne({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new Vne({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new Wne({duration:n.zoomDuration})),e}const sl={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class cN extends wm{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[sl.OPACITY]=e.opacity!==void 0?e.opacity:1,Os(typeof t[sl.OPACITY]=="number","Layer opacity must be a number"),t[sl.VISIBLE]=e.visible!==void 0?e.visible:!0,t[sl.Z_INDEX]=e.zIndex,t[sl.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[sl.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[sl.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[sl.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=$u(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return _o()}getLayerStatesArray(e){return _o()}getExtent(){return this.get(sl.EXTENT)}getMaxResolution(){return this.get(sl.MAX_RESOLUTION)}getMinResolution(){return this.get(sl.MIN_RESOLUTION)}getMinZoom(){return this.get(sl.MIN_ZOOM)}getMaxZoom(){return this.get(sl.MAX_ZOOM)}getOpacity(){return this.get(sl.OPACITY)}getSourceState(){return _o()}getVisible(){return this.get(sl.VISIBLE)}getZIndex(){return this.get(sl.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(sl.EXTENT,e)}setMaxResolution(e){this.set(sl.MAX_RESOLUTION,e)}setMinResolution(e){this.set(sl.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(sl.MAX_ZOOM,e)}setMinZoom(e){this.set(sl.MIN_ZOOM,e)}setOpacity(e){Os(typeof e=="number","Layer opacity must be a number"),this.set(sl.OPACITY,e)}setVisible(e){this.set(sl.VISIBLE,e)}setZIndex(e){this.set(sl.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Lg extends Mm{constructor(e,t){super(e),this.layer=t}}const F5={LAYERS:"layers"};class CC extends cN{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(F5.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new a0(i.slice(),{unique:!0}):Os(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new a0(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Dl),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ns(e,Jd.ADD,this.handleLayersAdd_,this),ns(e,Jd.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Dl);Qb(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new Lg("addlayer",o))}this.changed()}registerLayerListeners_(e){const t=[ns(e,iC.PROPERTYCHANGE,this.handleLayerChange_,this),ns(e,mo.CHANGE,this.handleLayerChange_,this)];e instanceof CC&&t.push(ns(e,"addlayer",this.handleLayerGroupAdd_,this),ns(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Do(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Lg("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Lg("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Lg("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Do(t);this.listenerKeys_[i].forEach(Dl),delete this.listenerKeys_[i],this.dispatchEvent(new Lg("removelayer",t)),this.changed()}getLayers(){return this.get(F5.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Lg("removelayer",i[r]))}this.set(F5.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(t)});const r=this.getLayerState();let o=r.zIndex;!e&&r.zIndex===void 0&&(o=0);for(let s=i,a=t.length;s<a;s++){const p=t[s];p.opacity*=r.opacity,p.visible=p.visible&&r.visible,p.maxResolution=Math.min(p.maxResolution,r.maxResolution),p.minResolution=Math.max(p.minResolution,r.minResolution),p.minZoom=Math.max(p.minZoom,r.minZoom),p.maxZoom=Math.min(p.maxZoom,r.maxZoom),r.extent!==void 0&&(p.extent!==void 0?p.extent=ym(p.extent,r.extent):p.extent=r.extent),p.zIndex===void 0&&(p.zIndex=o)}return t}getSourceState(){return"ready"}}const kp={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class _C extends cN{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(sl.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(sl.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Dl(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ns(e,mo.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof dm?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(s=>s.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return J8(r,t.viewState)&&(!o||gA(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];const i=e instanceof dm?e.getViewStateAndExtent():e;let r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(sl.MAP,e)}getMapInternal(){return this.get(sl.MAP)}setMap(e){this.mapPrecomposeKey_&&(Dl(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Dl(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ns(e,kp.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=ns(this,mo.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Os(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(sl.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function J8(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}function hN(n,e,t=0,i=n.length-1,r=Jne){for(;i>t;){if(i-t>600){const p=i-t+1,g=e-t+1,_=Math.log(p),E=.5*Math.exp(2*_/3),O=.5*Math.sqrt(_*E*(p-E)/p)*(g-p/2<0?-1:1),B=Math.max(t,Math.floor(e-g*E/p+O)),z=Math.min(i,Math.floor(e+(p-g)*E/p+O));hN(n,e,B,z,r)}const o=n[e];let s=t,a=i;for(qC(n,t,e),r(n[i],o)>0&&qC(n,t,i);s<a;){for(qC(n,s,a),s++,a--;r(n[s],o)<0;)s++;for(;r(n[a],o)>0;)a--}r(n[t],o)===0?qC(n,t,a):(a++,qC(n,a,i)),a<=e&&(t=a+1),e<=a&&(i=a-1)}}function qC(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function Jne(n,e){return n<e?-1:n>e?1:0}let dN=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Dx(e,t))return i;const r=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],p=t.leaf?r(a):a;Dx(e,p)&&(t.leaf?i.push(a):j5(e,p)?this._all(a,i):o.push(a))}t=o.pop()}return i}collides(e){let t=this.data;if(!Dx(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const o=t.children[r],s=t.leaf?this.toBBox(o):o;if(Dx(e,s)){if(t.leaf||j5(e,s))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Tv([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),o=[],s=[];let a,p,g;for(;i||o.length;){if(i||(i=o.pop(),p=o[o.length-1],a=s.pop(),g=!0),i.leaf){const _=eie(e,i.children,t);if(_!==-1)return i.children.splice(_,1),o.push(i),this._condense(o),this}!g&&!i.leaf&&j5(i,r)?(o.push(i),s.push(a),a=0,p=i,i=i.children[0]):p?(a++,i=p.children[a],g=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const o=i-t+1;let s=this._maxEntries,a;if(o<=s)return a=Tv(e.slice(t,i+1)),Jy(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=Tv([]),a.leaf=!1,a.height=r;const p=Math.ceil(o/s),g=p*Math.ceil(Math.sqrt(s));QT(e,t,i,g,this.compareMinX);for(let _=t;_<=i;_+=g){const E=Math.min(_+g-1,i);QT(e,_,E,p,this.compareMinY);for(let O=_;O<=E;O+=p){const B=Math.min(O+p-1,E);a.children.push(this._build(e,O,B,r-1))}}return Jy(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let o=1/0,s=1/0,a;for(let p=0;p<t.children.length;p++){const g=t.children[p],_=z5(g),E=iie(e,g)-_;E<s?(s=E,o=_<o?_:o,a=g):E===s&&_<o&&(o=_,a=g)}t=a||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),o=[],s=this._chooseSubtree(r,this.data,t,o);for(s.children.push(e),h_(s,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){const i=e[t],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);const s=this._chooseSplitIndex(i,o,r),a=Tv(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,Jy(i,this.toBBox),Jy(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=Tv([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Jy(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,o=1/0,s=1/0;for(let a=t;a<=i-t;a++){const p=c_(e,0,a,this.toBBox),g=c_(e,a,i,this.toBBox),_=rie(p,g),E=z5(p)+z5(g);_<o?(o=_,r=a,s=E<s?E:s):_===o&&E<s&&(s=E,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:tie,o=e.leaf?this.compareMinY:nie,s=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,o);s<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const o=this.toBBox,s=c_(e,0,t,o),a=c_(e,i-t,i,o);let p=kx(s)+kx(a);for(let g=t;g<i-t;g++){const _=e.children[g];h_(s,e.leaf?o(_):_),p+=kx(s)}for(let g=i-t-1;g>=t;g--){const _=e.children[g];h_(a,e.leaf?o(_):_),p+=kx(a)}return p}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)h_(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Jy(e[t],this.toBBox)}};function eie(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Jy(n,e){c_(n,0,n.children.length,e,n)}function c_(n,e,t,i,r){r||(r=Tv(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<t;o++){const s=n.children[o];h_(r,n.leaf?i(s):s)}return r}function h_(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function tie(n,e){return n.minX-e.minX}function nie(n,e){return n.minY-e.minY}function z5(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function kx(n){return n.maxX-n.minX+(n.maxY-n.minY)}function iie(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function rie(n,e){const t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,o-i)}function j5(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Dx(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Tv(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function QT(n,e,t,i,r){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;const s=e+Math.ceil((t-e)/i/2)*i;hN(n,s,e,t,r),o.push(e,s,s,t)}}const e7=[NaN,NaN,NaN,0];let N5;function oie(){return N5||(N5=Zu(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),N5}const aie=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,sie=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,lie=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,uie=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Rx(n,e){return n.endsWith("%")?Number(n.substring(0,n.length-1))/e:Number(n)}function R_(n){throw new Error('failed to parse "'+n+'" as color')}function fN(n){if(n.toLowerCase().startsWith("rgb")){const o=n.match(sie)||n.match(aie)||n.match(lie);if(o){const s=o[4],a=100/255;return[$u(Rx(o[1],a)+.5|0,0,255),$u(Rx(o[2],a)+.5|0,0,255),$u(Rx(o[3],a)+.5|0,0,255),s!==void 0?$u(Rx(s,100),0,1):1]}R_(n)}if(n.startsWith("#")){if(uie.test(n)){const o=n.substring(1),s=o.length<=4?1:2,a=[0,0,0,255];for(let p=0,g=o.length;p<g;p+=s){let _=parseInt(o.substring(p,p+s),16);s===1&&(_+=_<<4),a[p/s]=_}return a[3]=a[3]/255,a}R_(n)}const e=oie();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=n,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=n,e.fillStyle===t&&R_(n));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return fN(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=q2(r[3]/255,3),r}function Aie(n){return typeof n=="string"?n:n7(n)}const cie=1024,HC={};let G5=0;function hie(n){if(n.length===4)return n;const e=n.slice();return e[3]=1,e}function W5(n){return n>.0031308?Math.pow(n,1/2.4)*269.025-14.025:n*3294.6}function Q5(n){return n>.2068965?Math.pow(n,3):(n-4/29)*(108/841)}function Y5(n){return n>10.314724?Math.pow((n+14.025)/269.025,2.4):n/3294.6}function q5(n){return n>.0088564?Math.pow(n,1/3):n/(108/841)+4/29}function YT(n){const e=Y5(n[0]),t=Y5(n[1]),i=Y5(n[2]),r=q5(e*.222488403+t*.716873169+i*.06060791),o=500*(q5(e*.452247074+t*.399439023+i*.148375274)-r),s=200*(r-q5(e*.016863605+t*.117638439+i*.865350722)),a=Math.atan2(s,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+s*s),a<0?a+360:a,n[3]]}function die(n){const e=(n[0]+16)/116,t=n[1],i=n[2]*Math.PI/180,r=Q5(e),o=Q5(e+t/500*Math.cos(i)),s=Q5(e-t/200*Math.sin(i)),a=W5(o*3.021973625-r*1.617392459-s*.404875592),p=W5(o*-.943766287+r*1.916279586+s*.027607165),g=W5(o*.069407491-r*.22898585+s*1.159737864);return[$u(a+.5|0,0,255),$u(p+.5|0,0,255),$u(g+.5|0,0,255),n[3]]}function t7(n){if(n==="none")return e7;if(HC.hasOwnProperty(n))return HC[n];if(G5>=cie){let t=0;for(const i in HC)(t++&3)===0&&(delete HC[i],--G5)}const e=fN(n);e.length!==4&&R_(n);for(const t of e)isNaN(t)&&R_(n);return HC[n]=e,++G5,e}function aC(n){return Array.isArray(n)?n:t7(n)}function n7(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);const r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function qT(n){return n[0]>0&&n[1]>0}function fie(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Hh(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}let _y=0;const bd=1<<_y++,es=1<<_y++,ef=1<<_y++,fm=1<<_y++,dy=1<<_y++,d_=1<<_y++,Px=Math.pow(2,_y)-1,i7={[bd]:"boolean",[es]:"number",[ef]:"string",[fm]:"color",[dy]:"number[]",[d_]:"size"},pie=Object.keys(i7).map(Number).sort(d0);function mie(n){return n in i7}function f_(n){const e=[];for(const t of pie)p_(n,t)&&e.push(i7[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function p_(n,e){return(n&e)===e}function Bg(n,e){return n===e}class Ec{constructor(e,t){if(!mie(e))throw new Error(`literal expressions must have a specific type, got ${f_(e)}`);this.type=e,this.value=t}}class gie{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function pN(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function xh(n,e,t){switch(typeof n){case"boolean":{if(Bg(e,ef))return new Ec(ef,n?"true":"false");if(!p_(e,bd))throw new Error(`got a boolean, but expected ${f_(e)}`);return new Ec(bd,n)}case"number":{if(Bg(e,d_))return new Ec(d_,Hh(n));if(Bg(e,bd))return new Ec(bd,!!n);if(Bg(e,ef))return new Ec(ef,n.toString());if(!p_(e,es))throw new Error(`got a number, but expected ${f_(e)}`);return new Ec(es,n)}case"string":{if(Bg(e,fm))return new Ec(fm,t7(n));if(Bg(e,bd))return new Ec(bd,!!n);if(!p_(e,ef))throw new Error(`got a string, but expected ${f_(e)}`);return new Ec(ef,n)}}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return Bie(n,e,t);for(const i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Bg(e,d_)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new Ec(d_,n)}if(Bg(e,fm)){if(n.length===3)return new Ec(fm,[...n,1]);if(n.length===4)return new Ec(fm,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!p_(e,dy))throw new Error(`got an array of numbers, but expected ${f_(e)}`);return new Ec(dy,n)}const Fn={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},yie={[Fn.Get]:vo(ua(1,1/0),HT),[Fn.Var]:vo(ua(1,1),vie),[Fn.Has]:vo(ua(1,1/0),HT),[Fn.Id]:vo(Cie,ev),[Fn.Concat]:vo(ua(2,1/0),Ks(ef)),[Fn.GeometryType]:vo(_ie,ev),[Fn.LineMetric]:vo(ev),[Fn.Resolution]:vo(H5,ev),[Fn.Zoom]:vo(H5,ev),[Fn.Time]:vo(H5,ev),[Fn.Any]:vo(ua(2,1/0),Ks(bd)),[Fn.All]:vo(ua(2,1/0),Ks(bd)),[Fn.Not]:vo(ua(1,1),Ks(bd)),[Fn.Equal]:vo(ua(2,2),Ks(Px)),[Fn.NotEqual]:vo(ua(2,2),Ks(Px)),[Fn.GreaterThan]:vo(ua(2,2),Ks(es)),[Fn.GreaterThanOrEqualTo]:vo(ua(2,2),Ks(es)),[Fn.LessThan]:vo(ua(2,2),Ks(es)),[Fn.LessThanOrEqualTo]:vo(ua(2,2),Ks(es)),[Fn.Multiply]:vo(ua(2,1/0),VT),[Fn.Coalesce]:vo(ua(2,1/0),VT),[Fn.Divide]:vo(ua(2,2),Ks(es)),[Fn.Add]:vo(ua(2,1/0),Ks(es)),[Fn.Subtract]:vo(ua(2,2),Ks(es)),[Fn.Clamp]:vo(ua(3,3),Ks(es)),[Fn.Mod]:vo(ua(2,2),Ks(es)),[Fn.Pow]:vo(ua(2,2),Ks(es)),[Fn.Abs]:vo(ua(1,1),Ks(es)),[Fn.Floor]:vo(ua(1,1),Ks(es)),[Fn.Ceil]:vo(ua(1,1),Ks(es)),[Fn.Round]:vo(ua(1,1),Ks(es)),[Fn.Sin]:vo(ua(1,1),Ks(es)),[Fn.Cos]:vo(ua(1,1),Ks(es)),[Fn.Atan]:vo(ua(1,2),Ks(es)),[Fn.Sqrt]:vo(ua(1,1),Ks(es)),[Fn.Match]:vo(ua(4,1/0),$T,xie),[Fn.Between]:vo(ua(3,3),Ks(es)),[Fn.Interpolate]:vo(ua(6,1/0),$T,Mie),[Fn.Case]:vo(ua(3,1/0),bie,wie),[Fn.In]:vo(ua(2,2),Sie),[Fn.Number]:vo(ua(1,1/0),Ks(Px)),[Fn.String]:vo(ua(1,1/0),Ks(Px)),[Fn.Array]:vo(ua(1,1/0),Ks(es)),[Fn.Color]:vo(ua(1,4),Ks(es)),[Fn.Band]:vo(ua(1,3),Ks(es)),[Fn.Palette]:vo(ua(2,2),Eie),[Fn.ToString]:vo(ua(1,1),Ks(bd|es|ef|fm))};function HT(n,e,t){const i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){const s=n[o+1];switch(typeof s){case"number":{r[o]=new Ec(es,s);break}case"string":{r[o]=new Ec(ef,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&t.properties.add(String(s))}return r}function vie(n,e,t){const i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new Ec(ef,i)]}function Cie(n,e,t){t.featureId=!0}function _ie(n,e,t){t.geometryType=!0}function H5(n,e,t){t.mapState=!0}function ev(n,e,t){const i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function ua(n,e){return function(t,i,r){const o=t[0],s=t.length-1;if(n===e){if(s!==n){const a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${o}, got ${s}`)}}else if(s<n||s>e){const a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function VT(n,e,t){const i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){const s=xh(n[o+1],e,t);r[o]=s}return r}function Ks(n){return function(e,t,i){const r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){const a=xh(e[s+1],n,i);o[s]=a}return o}}function bie(n,e,t){const i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function $T(n,e,t){const i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function xie(n,e,t){const i=n.length-1,r=ef|es|bd,o=xh(n[1],r,t),s=xh(n[n.length-1],e,t),a=new Array(i-2);for(let p=0;p<i-2;p+=2){try{const g=xh(n[p+2],o.type,t);a[p]=g}catch(g){throw new Error(`failed to parse argument ${p+1} of match expression: ${g.message}`)}try{const g=xh(n[p+3],s.type,t);a[p+1]=g}catch(g){throw new Error(`failed to parse argument ${p+2} of match expression: ${g.message}`)}}return[o,...a,s]}function Mie(n,e,t){const i=n[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const p=i[1];if(typeof p!="number"||p<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(p)} instead`);r=p;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new Ec(es,r);let s;try{s=xh(n[2],es,t)}catch(p){throw new Error(`failed to parse argument 1 in interpolate expression: ${p.message}`)}const a=new Array(n.length-3);for(let p=0;p<a.length;p+=2){try{const g=xh(n[p+3],es,t);a[p]=g}catch(g){throw new Error(`failed to parse argument ${p+2} for interpolate expression: ${g.message}`)}try{const g=xh(n[p+4],e,t);a[p+1]=g}catch(g){throw new Error(`failed to parse argument ${p+3} for interpolate expression: ${g.message}`)}}return[o,s,...a]}function wie(n,e,t){const i=xh(n[n.length-1],e,t),r=new Array(n.length-1);for(let o=0;o<r.length-1;o+=2){try{const s=xh(n[o+1],bd,t);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{const s=xh(n[o+2],i.type,t);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function Sie(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=ef}else r=es;const o=new Array(i.length);for(let a=0;a<o.length;a++)try{const p=xh(i[a],r,t);o[a]=p}catch(p){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${p.message}`)}return[xh(n[1],r,t),...o]}function Eie(n,e,t){let i;try{i=xh(n[1],es,t)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}const r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let s=0;s<o.length;s++){let a;try{a=xh(r[s],fm,t)}catch(p){throw new Error(`failed to parse color at index ${s} in palette expression: ${p.message}`)}if(!(a instanceof Ec))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[i,...o]}function vo(...n){return function(e,t,i){const r=e[0];let o;for(let s=0;s<n.length;s++){const a=n[s](e,t,i);if(s==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new gie(t,r,...o)}}function Bie(n,e,t){const i=n[0],r=yie[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function mN(n){if(!n)return"";const e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return mN(n.getGeometries()[0]);default:return""}}function gN(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ag(n,e,t){const i=xh(n,e,t);return vm(i)}function vm(n,e){if(n instanceof Ec){if(n.type===fm&&typeof n.value=="string"){const i=t7(n.value);return function(){return i}}return function(){return n.value}}const t=n.operator;switch(t){case Fn.Number:case Fn.String:case Fn.Coalesce:return Oie(n);case Fn.Get:case Fn.Var:case Fn.Has:return Iie(n);case Fn.Id:return i=>i.featureId;case Fn.GeometryType:return i=>i.geometryType;case Fn.Concat:{const i=n.args.map(r=>vm(r));return r=>"".concat(...i.map(o=>o(r).toString()))}case Fn.Resolution:return i=>i.resolution;case Fn.Any:case Fn.All:case Fn.Between:case Fn.In:case Fn.Not:return kie(n);case Fn.Equal:case Fn.NotEqual:case Fn.LessThan:case Fn.LessThanOrEqualTo:case Fn.GreaterThan:case Fn.GreaterThanOrEqualTo:return Tie(n);case Fn.Multiply:case Fn.Divide:case Fn.Add:case Fn.Subtract:case Fn.Clamp:case Fn.Mod:case Fn.Pow:case Fn.Abs:case Fn.Floor:case Fn.Ceil:case Fn.Round:case Fn.Sin:case Fn.Cos:case Fn.Atan:case Fn.Sqrt:return Die(n);case Fn.Case:return Rie(n);case Fn.Match:return Pie(n);case Fn.Interpolate:return Uie(n);case Fn.ToString:return Kie(n);default:throw new Error(`Unsupported operator ${t}`)}}function Oie(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=vm(n.args[o]);switch(t){case Fn.Coalesce:return o=>{for(let s=0;s<i;++s){const a=r[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Fn.Number:case Fn.String:return o=>{for(let s=0;s<i;++s){const a=r[s](o);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Iie(n,e){const i=n.args[0].value;switch(n.operator){case Fn.Get:return r=>{const o=n.args;let s=r.properties[i];for(let a=1,p=o.length;a<p;++a){const _=o[a].value;s=s[_]}return s};case Fn.Var:return r=>r.variables[i];case Fn.Has:return r=>{const o=n.args;if(!(i in r.properties))return!1;let s=r.properties[i];for(let a=1,p=o.length;a<p;++a){const _=o[a].value;if(!s||!Object.hasOwn(s,_))return!1;s=s[_]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function Tie(n,e){const t=n.operator,i=vm(n.args[0]),r=vm(n.args[1]);switch(t){case Fn.Equal:return o=>i(o)===r(o);case Fn.NotEqual:return o=>i(o)!==r(o);case Fn.LessThan:return o=>i(o)<r(o);case Fn.LessThanOrEqualTo:return o=>i(o)<=r(o);case Fn.GreaterThan:return o=>i(o)>r(o);case Fn.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function kie(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=vm(n.args[o]);switch(t){case Fn.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case Fn.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case Fn.Between:return o=>{const s=r[0](o),a=r[1](o),p=r[2](o);return s>=a&&s<=p};case Fn.In:return o=>{const s=r[0](o);for(let a=1;a<i;++a)if(s===r[a](o))return!0;return!1};case Fn.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function Die(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=vm(n.args[o]);switch(t){case Fn.Multiply:return o=>{let s=1;for(let a=0;a<i;++a)s*=r[a](o);return s};case Fn.Divide:return o=>r[0](o)/r[1](o);case Fn.Add:return o=>{let s=0;for(let a=0;a<i;++a)s+=r[a](o);return s};case Fn.Subtract:return o=>r[0](o)-r[1](o);case Fn.Clamp:return o=>{const s=r[0](o),a=r[1](o);if(s<a)return a;const p=r[2](o);return s>p?p:s};case Fn.Mod:return o=>r[0](o)%r[1](o);case Fn.Pow:return o=>Math.pow(r[0](o),r[1](o));case Fn.Abs:return o=>Math.abs(r[0](o));case Fn.Floor:return o=>Math.floor(r[0](o));case Fn.Ceil:return o=>Math.ceil(r[0](o));case Fn.Round:return o=>Math.round(r[0](o));case Fn.Sin:return o=>Math.sin(r[0](o));case Fn.Cos:return o=>Math.cos(r[0](o));case Fn.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case Fn.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function Rie(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=vm(n.args[r]);return r=>{for(let o=0;o<t-1;o+=2)if(i[o](r))return i[o+1](r);return i[t-1](r)}}function Pie(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=vm(n.args[r]);return r=>{const o=i[0](r);for(let s=1;s<t-1;s+=2)if(o===i[s](r))return i[s+1](r);return i[t-1](r)}}function Uie(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=vm(n.args[r]);return r=>{const o=i[0](r),s=i[1](r);let a,p;for(let g=2;g<t;g+=2){const _=i[g](r);let E=i[g+1](r);const O=Array.isArray(E);if(O&&(E=hie(E)),_>=s)return g===2?E:O?Lie(o,s,a,p,_,E):m_(o,s,a,p,_,E);a=_,p=E}return p}}function Kie(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=vm(n.args[o]);switch(t){case Fn.ToString:return o=>{const s=r[0](o);return n.args[0].type===fm?n7(s):s.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function m_(n,e,t,i,r,o){const s=r-t;if(s===0)return i;const a=e-t,p=n===1?a/s:(Math.pow(n,a)-1)/(Math.pow(n,s)-1);return i+p*(o-i)}function Lie(n,e,t,i,r,o){if(r-t===0)return i;const a=YT(i),p=YT(o);let g=p[2]-a[2];g>180?g-=360:g<-180&&(g+=360);const _=[m_(n,e,t,a[0],r,p[0]),m_(n,e,t,a[1],r,p[1]),a[2]+m_(n,e,t,0,r,g),m_(n,e,t,i[3],r,o[3])];return die(_)}const pr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class r7 extends Yb{constructor(e,t,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=t,this.state=typeof r=="function"?pr.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(mo.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==pr.IDLE&&this.loader){this.state=pr.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;rC(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||$ee&&i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=pr.LOADED}).catch(i=>{this.state=pr.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function Fie(n,e,t){const i=n;let r=!0,o=!1,s=!1;const a=[L3(i,mo.LOAD,function(){s=!0,o||e()})];return i.src&&Sj?(o=!0,i.decode().then(function(){r&&e()}).catch(function(p){r&&(s?e():t())})):a.push(L3(i,mo.ERROR,t)),function(){r=!1,a.forEach(Dl)}}function zie(n,e){return new Promise((t,i)=>{function r(){s(),t(n)}function o(){s(),i(new Error("Image load error"))}function s(){n.removeEventListener("load",r),n.removeEventListener("error",o)}n.addEventListener("load",r),n.addEventListener("error",o)})}function jie(n,e){return e&&(n.src=e),n.src&&Sj?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):zie(n)}class Nie{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const r=V5(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){const r=V5(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,o){const s=V5(e,t,i),a=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===pr.IDLE&&r.load(),r.getImageState()===pr.LOADING?r.ready().then(()=>{this.patternCache_[s]=Q3().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=Q3().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function V5(n,e,t){const i=t?aC(t):"null";return e+":"+n+":"+i}const Dp=new Nie;let VC=null;class yN extends Yb{constructor(e,t,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?pr.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===pr.LOADED){VC||(VC=Zu(1,1,void 0,{willReadFrequently:!0})),VC.drawImage(this.image_,0,0);try{VC.getImageData(0,0,1,1),this.tainted_=!1}catch{VC=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(mo.CHANGE)}handleImageError_(){this.imageState_=pr.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=pr.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=Zu(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===pr.IDLE){this.image_||this.initializeImage_(),this.imageState_=pr.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&jie(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==pr.LOADED)return;const t=this.image_,i=Zu(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Aie(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===pr.LOADED||this.imageState_===pr.ERROR)e();else{const t=()=>{(this.imageState_===pr.LOADED||this.imageState_===pr.ERROR)&&(this.removeEventListener(mo.CHANGE,t),e())};this.addEventListener(mo.CHANGE,t)}})),this.ready_}}function o7(n,e,t,i,r,o){let s=e===void 0?void 0:Dp.get(e,t,r);return s||(s=new yN(n,n&&"src"in n?n.src||void 0:e,t,i,r),Dp.set(e,t,r,s,o)),o&&s&&!Dp.getPattern(e,t,r)&&Dp.set(e,t,r,s,o),s}function u0(n){return n?Array.isArray(n)?n7(n):typeof n=="object"&&"src"in n?Gie(n):n:null}function Gie(n){if(!n.offset||!n.size)return Dp.getPattern(n.src,"anonymous",n.color);const e=n.src+":"+n.offset,t=Dp.getPattern(e,void 0,n.color);if(t)return t;const i=Dp.get(n.src,"anonymous",null);if(i.getImageState()!==pr.LOADED)return null;const r=Zu(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),o7(r.canvas,e,void 0,pr.LOADED,n.color,!0),Dp.getPattern(e,void 0,n.color)}const vN="10px sans-serif",tf="#000",sC="round",Z0=[],X0=0,lC="round",Ab=10,cb="#000",hb="center",Y3="middle",$1=[0,0,0,0],db=1,W1=new wm;let $C=null,ZT;const rO={},Wie=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function Qie(n,e,t){return`${n} ${e} 16px "${t}"`}const Yie=function(){let e,t;async function i(o){await t.ready;const s=await t.load(o);if(s.length===0)return!1;const a=nO(o),p=a.families[0].toLowerCase(),g=a.weight;return s.some(_=>{const E=_.family.replace(/^['"]|['"]$/g,"").toLowerCase(),O=tO[_.weight]||_.weight;return E===p&&_.style===a.style&&O==g})}async function r(){await t.ready;let o=!0;const s=W1.getProperties(),a=Object.keys(s).filter(p=>s[p]<100);for(let p=a.length-1;p>=0;--p){const g=a[p];let _=s[g];_<100&&(await i(g)?(Qb(rO),W1.set(g,100)):(_+=10,W1.set(g,_,!0),_<100&&(o=!1)))}e=void 0,o||(e=setTimeout(r,100))}return async function(o){t||(t=M8?self.fonts:document.fonts);const s=nO(o);if(!s)return;const a=s.families;let p=!1;for(const g of a){if(Wie.has(g))continue;const _=Qie(s.style,s.weight,g);W1.get(_)===void 0&&(W1.set(_,0,!0),p=!0)}p&&(clearTimeout(e),e=setTimeout(r,100))}}(),qie=function(){let n;return function(e){let t=rO[e];if(t==null){if(M8){const i=nO(e),r=CN(e,"Žg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);rO[e]=t}return t}}();function CN(n,e){return $C||($C=Zu(1,1)),n!=ZT&&($C.font=n,ZT=$C.font),$C.measureText(e)}function _N(n,e){return CN(n,e).width}function XT(n,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((r,o)=>Math.max(r,_N(n,o)),0);return t[e]=i,i}function Hie(n,e){const t=[],i=[],r=[];let o=0,s=0,a=0,p=0;for(let g=0,_=e.length;g<=_;g+=2){const E=e[g];if(E===`
`||g===_){o=Math.max(o,s),r.push(s),s=0,a+=p,p=0;continue}const O=e[g+1]||n.font,B=_N(O,E);t.push(B),s+=B;const z=qie(O);i.push(z),p=Math.max(p,z)}return{width:o,height:a,widths:t,heights:i,lineWidths:r}}function Vie(n,e,t,i,r,o,s,a,p,g,_){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=E=>E.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(p,g),n.scale(_[0],_[1]),$ie(i,n)):_[0]<0||_[1]<0?(n.translate(p,g),n.scale(_[0],_[1]),n.drawImage(i,r,o,s,a,0,0,s,a)):n.drawImage(i,r,o,s,a,p,g,s*_[0],a*_[1]),n.restore()}function $ie(n,e){const t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class o4{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Hh(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new o4({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return _o()}getImage(e){return _o()}getHitDetectionImage(){return _o()}getPixelRatio(e){return 1}getImageState(){return _o()}getImageSize(){return _o()}getOrigin(){return _o()}getSize(){return _o()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Hh(e)}listenImageChange(e){_o()}load(){_o()}unlistenImageChange(e){_o()}ready(){return Promise.resolve()}}class a4 extends o4{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?pr.LOADING:pr.LOADED,this.imageState_===pr.LOADING&&this.ready().then(()=>this.imageState_=pr.LOADED),this.render()}clone(){const e=this.getScale(),t=new a4({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=Dp.get(i,null,null)?.getImage(1);if(!r){const o=this.renderOptions_,s=Math.ceil(o.size*e),a=Zu(s,s);this.draw_(o,a,e),r=a.canvas,Dp.set(i,null,null,new yN(r,void 0,null,pr.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const J=r;r=o,o=J}const s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,p=o*Math.sin(a),g=Math.sqrt(o*o-p*p),_=r-g,E=Math.sqrt(p*p+_*_),O=E/p;if(e==="miter"&&O<=i)return O*t;const B=t/2/O,z=t/2*(_/E),Q=Math.sqrt((r+B)*(r+B)+z*z)-r;if(this.radius2_===void 0||e==="bevel")return Q*2;const $=r*Math.sin(a),X=Math.sqrt(r*r-$*$),re=o-X,V=Math.sqrt($*$+re*re)/$;if(V<=i){const J=V*t/2-o-r;return 2*Math.max(Q,J)}return Q*2}createRenderOptions(){let e=sC,t=lC,i=0,r=null,o=0,s,a=0;this.stroke_&&(s=u0(this.stroke_.getColor()??cb),a=this.stroke_.getWidth()??db,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??lC,e=this.stroke_.getLineCap()??sC,i=this.stroke_.getMiterLimit()??Ab);const p=this.calculateLineJoinSize_(t,a,i),g=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*g+p);return{strokeStyle:s,strokeWidth:a,size:_,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=tf),t.fillStyle=u0(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=aC(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=Zu(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let a=0;a<t;a++){const p=o+a*s,g=a%2===0?i:r;e.lineTo(g*Math.cos(p),g*Math.sin(p))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=tf,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class ex extends a4{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new ex({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class V0{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new V0({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=o7(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===pr.IDLE&&t.load(),t.getImageState()===pr.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Do(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:aC(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function JT(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}class uC extends o4{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const s=e.img!==void 0?e.img:null;let a=e.src;Os(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||Do(s)),Os(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Os(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let p;if(e.src!==void 0?p=pr.IDLE:s!==void 0&&("complete"in s?s.complete?p=s.src?pr.LOADED:pr.IDLE:p=pr.LOADING:p=pr.LOADED),this.color_=e.color!==void 0?aC(e.color):null,this.iconImage_=o7(s,a,this.crossOrigin_,p,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let g,_;if(e.size)[g,_]=e.size;else{const E=this.getImage(1);if(E.width&&E.height)g=E.width,_=E.height;else if(E instanceof HTMLImageElement){this.initialOptions_=e;const O=()=>{if(this.unlistenImageChange(O),!this.initialOptions_)return;const B=this.iconImage_.getSize();this.setScale(JT(B[0],B[1],e.width,e.height))};this.listenImageChange(O);return}}g!==void 0&&this.setScale(JT(g,_,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new uC({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==pr.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==pr.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(mo.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(mo.CHANGE,e)}ready(){return this.iconImage_.ready()}}class qg{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new qg({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Rf{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=ek,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Rf({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ek,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function Zie(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Os(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}let $5=null;function bN(n,e){if(!$5){const t=new V0({color:"rgba(255,255,255,0.4)"}),i=new qg({color:"#3399CC",width:1.25});$5=[new Rf({image:new ex({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return $5}function ek(n){return n.getGeometry()}const Xie="#333";class s4{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=Hh(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new V0({color:Xie}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new s4({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Hh(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function Jie(n){return!0}function ere(n){const e=pN(),t=tre(n,e),i=gN();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){const s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return e.geometryType&&(i.geometryType=mN(r.getGeometry())),t(i)}}function tk(n){const e=pN(),t=n.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=oO(n[s],e);const r=gN(),o=new Array(t);return function(s,a){if(r.properties=s.getPropertiesInternal(),r.resolution=a,e.featureId){const g=s.getId();g!==void 0?r.featureId=g:r.featureId=null}let p=0;for(let g=0;g<t;++g){const _=i[g](r);_&&(o[p]=_,p+=1)}return o.length=p,o}}function tre(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r){const o=n[r],s="filter"in o?ag(o.filter,bd,e):Jie;let a;if(Array.isArray(o.style)){const p=o.style.length;a=new Array(p);for(let g=0;g<p;++g)a[g]=oO(o.style[g],e)}else a=[oO(o.style,e)];i[r]={filter:s,styles:a}}return function(r){const o=[];let s=!1;for(let a=0;a<t;++a){const p=i[a].filter;if(p(r)&&!(n[a].else&&s)){s=!0;for(const g of i[a].styles){const _=g(r);_&&o.push(_)}}}return o}}function oO(n,e){const t=fb(n,"",e),i=pb(n,"",e),r=nre(n,e),o=ire(n,e),s=nf(n,"z-index",e);if(!t&&!i&&!r&&!o&&!o1(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));const a=new Rf;return function(p){let g=!0;if(t){const _=t(p);_&&(g=!1),a.setFill(_)}if(i){const _=i(p);_&&(g=!1),a.setStroke(_)}if(r){const _=r(p);_&&(g=!1),a.setText(_)}if(o){const _=o(p);_&&(g=!1),a.setImage(_)}return s&&a.setZIndex(s(p)),g?null:a}}function fb(n,e,t){let i;if(e+"fill-pattern-src"in n)i=sre(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return o=>null;i=a7(n,e+"fill-color",t)}if(!i)return null;const r=new V0;return function(o){const s=i(o);return s===e7?null:(r.setColor(s),r)}}function pb(n,e,t){const i=nf(n,e+"stroke-width",t),r=a7(n,e+"stroke-color",t);if(!i&&!r)return null;const o=H0(n,e+"stroke-line-cap",t),s=H0(n,e+"stroke-line-join",t),a=xN(n,e+"stroke-line-dash",t),p=nf(n,e+"stroke-line-dash-offset",t),g=nf(n,e+"stroke-miter-limit",t),_=new qg;return function(E){if(r){const O=r(E);if(O===e7)return null;_.setColor(O)}if(i&&_.setWidth(i(E)),o){const O=o(E);if(O!=="butt"&&O!=="round"&&O!=="square")throw new Error("Expected butt, round, or square line cap");_.setLineCap(O)}if(s){const O=s(E);if(O!=="bevel"&&O!=="round"&&O!=="miter")throw new Error("Expected bevel, round, or miter line join");_.setLineJoin(O)}return a&&_.setLineDash(a(E)),p&&_.setLineDashOffset(p(E)),g&&_.setMiterLimit(g(E)),_}}function nre(n,e){const t="text-",i=H0(n,t+"value",e);if(!i)return null;const r=fb(n,t,e),o=fb(n,t+"background-",e),s=pb(n,t,e),a=pb(n,t+"background-",e),p=H0(n,t+"font",e),g=nf(n,t+"max-angle",e),_=nf(n,t+"offset-x",e),E=nf(n,t+"offset-y",e),O=Gv(n,t+"overflow",e),B=H0(n,t+"placement",e),z=nf(n,t+"repeat",e),N=l4(n,t+"scale",e),Q=Gv(n,t+"rotate-with-view",e),$=nf(n,t+"rotation",e),X=H0(n,t+"align",e),re=H0(n,t+"justify",e),ne=H0(n,t+"baseline",e),V=Gv(n,t+"keep-upright",e),J=xN(n,t+"padding",e),W=u4(n,t+"declutter-mode"),he=new s4({declutterMode:W});return function(ge){if(he.setText(i(ge)),r&&he.setFill(r(ge)),o&&he.setBackgroundFill(o(ge)),s&&he.setStroke(s(ge)),a&&he.setBackgroundStroke(a(ge)),p&&he.setFont(p(ge)),g&&he.setMaxAngle(g(ge)),_&&he.setOffsetX(_(ge)),E&&he.setOffsetY(E(ge)),O&&he.setOverflow(O(ge)),B){const ve=B(ge);if(ve!=="point"&&ve!=="line")throw new Error("Expected point or line for text-placement");he.setPlacement(ve)}if(z&&he.setRepeat(z(ge)),N&&he.setScale(N(ge)),Q&&he.setRotateWithView(Q(ge)),$&&he.setRotation($(ge)),X){const ve=X(ge);if(ve!=="left"&&ve!=="center"&&ve!=="right"&&ve!=="end"&&ve!=="start")throw new Error("Expected left, right, center, start, or end for text-align");he.setTextAlign(ve)}if(re){const ve=re(ge);if(ve!=="left"&&ve!=="right"&&ve!=="center")throw new Error("Expected left, right, or center for text-justify");he.setJustify(ve)}if(ne){const ve=ne(ge);if(ve!=="bottom"&&ve!=="top"&&ve!=="middle"&&ve!=="alphabetic"&&ve!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");he.setTextBaseline(ve)}return J&&he.setPadding(J(ge)),V&&he.setKeepUpright(V(ge)),he}}function ire(n,e){return"icon-src"in n?rre(n,e):"shape-points"in n?ore(n,e):"circle-radius"in n?are(n,e):null}function rre(n,e){const t="icon-",i=t+"src",r=MN(n[i],i),o=q3(n,t+"anchor",e),s=l4(n,t+"scale",e),a=nf(n,t+"opacity",e),p=q3(n,t+"displacement",e),g=nf(n,t+"rotation",e),_=Gv(n,t+"rotate-with-view",e),E=ik(n,t+"anchor-origin"),O=rk(n,t+"anchor-x-units"),B=rk(n,t+"anchor-y-units"),z=cre(n,t+"color"),N=ure(n,t+"cross-origin"),Q=Are(n,t+"offset"),$=ik(n,t+"offset-origin"),X=H3(n,t+"width"),re=H3(n,t+"height"),ne=lre(n,t+"size"),V=u4(n,t+"declutter-mode"),J=new uC({src:r,anchorOrigin:E,anchorXUnits:O,anchorYUnits:B,color:z,crossOrigin:N,offset:Q,offsetOrigin:$,height:re,width:X,size:ne,declutterMode:V});return function(W){return a&&J.setOpacity(a(W)),p&&J.setDisplacement(p(W)),g&&J.setRotation(g(W)),_&&J.setRotateWithView(_(W)),s&&J.setScale(s(W)),o&&J.setAnchor(o(W)),J}}function ore(n,e){const t="shape-",i=t+"points",r=t+"radius",o=aO(n[i],i),s=aO(n[r],r),a=fb(n,t,e),p=pb(n,t,e),g=l4(n,t+"scale",e),_=q3(n,t+"displacement",e),E=nf(n,t+"rotation",e),O=Gv(n,t+"rotate-with-view",e),B=H3(n,t+"radius2"),z=H3(n,t+"angle"),N=u4(n,t+"declutter-mode"),Q=new a4({points:o,radius:s,radius2:B,angle:z,declutterMode:N});return function($){return a&&Q.setFill(a($)),p&&Q.setStroke(p($)),_&&Q.setDisplacement(_($)),E&&Q.setRotation(E($)),O&&Q.setRotateWithView(O($)),g&&Q.setScale(g($)),Q}}function are(n,e){const t="circle-",i=fb(n,t,e),r=pb(n,t,e),o=nf(n,t+"radius",e),s=l4(n,t+"scale",e),a=q3(n,t+"displacement",e),p=nf(n,t+"rotation",e),g=Gv(n,t+"rotate-with-view",e),_=u4(n,t+"declutter-mode"),E=new ex({radius:5,declutterMode:_});return function(O){return o&&E.setRadius(o(O)),i&&E.setFill(i(O)),r&&E.setStroke(r(O)),a&&E.setDisplacement(a(O)),p&&E.setRotation(p(O)),g&&E.setRotateWithView(g(O)),s&&E.setScale(s(O)),E}}function nf(n,e,t){if(!(e in n))return;const i=ag(n[e],es,t);return function(r){return aO(i(r),e)}}function H0(n,e,t){if(!(e in n))return null;const i=ag(n[e],ef,t);return function(r){return MN(i(r),e)}}function sre(n,e,t){const i=H0(n,e+"pattern-src",t),r=nk(n,e+"pattern-offset",t),o=nk(n,e+"pattern-size",t),s=a7(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:o&&o(a),color:s&&s(a)}}}function Gv(n,e,t){if(!(e in n))return null;const i=ag(n[e],bd,t);return function(r){const o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function a7(n,e,t){if(!(e in n))return null;const i=ag(n[e],fm,t);return function(r){return wN(i(r),e)}}function xN(n,e,t){if(!(e in n))return null;const i=ag(n[e],dy,t);return function(r){return tx(i(r),e)}}function q3(n,e,t){if(!(e in n))return null;const i=ag(n[e],dy,t);return function(r){const o=tx(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function nk(n,e,t){if(!(e in n))return null;const i=ag(n[e],dy,t);return function(r){return SN(i(r),e)}}function l4(n,e,t){if(!(e in n))return null;const i=ag(n[e],dy|es,t);return function(r){return hre(i(r),e)}}function H3(n,e){const t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function lre(n,e){const t=n[e];if(t!==void 0){if(typeof t=="number")return Hh(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function ure(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function ik(n,e){const t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function rk(n,e){const t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function Are(n,e){const t=n[e];if(t!==void 0)return tx(t,e)}function u4(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function cre(n,e){const t=n[e];if(t!==void 0)return wN(t,e)}function tx(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);const t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function MN(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function aO(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function wN(n,e){if(typeof n=="string")return n;const t=tx(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function SN(n,e){const t=tx(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function hre(n,e){return typeof n=="number"?n:SN(n,e)}const ok={RENDER_ORDER:"renderOrder"};class s7 extends _C{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(ok.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new dN(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(ok.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?bN:e;const t=dre(e);this.styleFunction_=e===null?void 0:Zie(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function dre(n){if(n===void 0)return bN;if(!n)return null;if(typeof n=="function"||n instanceof Rf)return n;if(!Array.isArray(n))return tk([n]);if(n.length===0)return[];const e=n.length,t=n[0];if(t instanceof Rf){const r=new Array(e);for(let o=0;o<e;++o){const s=n[o];if(!(s instanceof Rf))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in t){const r=new Array(e);for(let o=0;o<e;++o){const s=n[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return ere(r)}return tk(n)}class EN extends Mm{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}}class fre extends Wb{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){_o()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;m0(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Yj(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,s,a,p){let g;const _=t.viewState;function E(ne,V,J,W){return o.call(s,V,ne?J:null,W)}const O=_.projection,B=B8(e.slice(),O),z=[[0,0]];if(O.canWrapX()&&r){const ne=O.getExtent(),V=ds(ne);z.push([-V,0],[V,0])}const N=t.layerStatesArray,Q=N.length,$=[],X=[];for(let ne=0;ne<z.length;ne++)for(let V=Q-1;V>=0;--V){const J=N[V],W=J.layer;if(W.hasRenderer()&&J8(J,_)&&a.call(p,W)){const he=W.getRenderer(),ge=W.getSource();if(he&&ge){const ve=ge.getWrapX()?B:e,_e=E.bind(null,J.managed);X[0]=ve[0]+z[ne][0],X[1]=ve[1]+z[ne][1],g=he.forEachFeatureAtCoordinate(X,t,i,_e,$)}if(g)return g}}if($.length===0)return;const re=1/$.length;return $.forEach((ne,V)=>ne.distanceSq+=V*re),$.sort((ne,V)=>ne.distanceSq-V.distanceSq),$.some(ne=>g=ne.callback(ne.feature,ne.layer,ne.geometry)),g}hasFeatureAtCoordinate(e,t,i,r,o,s){return this.forEachFeatureAtCoordinate(e,t,i,r,rb,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){_o()}scheduleExpireIconCache(e){Dp.canExpireCache()&&e.postRenderFunctions.push(pre)}}function pre(n,e){Dp.expire()}class mre extends fre{constructor(e){super(e),this.fontChangeListenerKey_=ns(W1,iC.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=r4+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new EN(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Dl(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(kp.PRECOMPOSE,e);const t=e.layerStatesArray.sort((a,p)=>a.zIndex-p.zIndex);t.some(a=>a.layer instanceof s7&&a.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const o=[];let s=null;for(let a=0,p=t.length;a<p;++a){const g=t[a];e.layerIndex=a;const _=g.layer,E=_.getSourceState();if(!J8(g,r)||E!="ready"&&E!="undefined"){_.unrender();continue}const O=_.render(e,s);O&&(O!==s&&(this.children_.push(O),s=O),o.push(g))}this.declutter(e,o),Sne(this.element_,this.children_),this.dispatchRenderEvent(kp.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const r=t[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}}function BN(n){if(n instanceof _C){n.setMapInternal(null);return}n instanceof CC&&n.getLayers().forEach(BN)}function ON(n,e){if(n instanceof _C){n.setMapInternal(e);return}if(n instanceof CC){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)ON(t[i],e)}}let A4=class extends wm{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=gre(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Vee,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=rf(),this.pixelToCoordinateTransform_=rf(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||Ine(),this.interactions=t.interactions||Xne({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Bj(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Qh.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Qh.VIEW,this.handleViewChanged_),this.addChangeListener(Qh.SIZE,this.handleSizeChanged_),this.addChangeListener(Qh.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof dm)&&e.view.then(function(r){i.setView(new dm(r))}),this.controls.addEventListener(Jd.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Jd.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Jd.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Jd.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Jd.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Jd.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){ON(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:rb,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,t,null,s,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(r){r instanceof CC?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:rb,o=t.hitTolerance!==void 0?t.hitTolerance:0,s=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/o,(a.clientY-i.top)/s]}getTarget(){return this.get(Qh.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return XB(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?uc(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Qh.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof a0){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Y0(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?uc(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Qh.SIZE)}getView(){return this.get(Qh.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return Jee(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;const i=new Ug(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===NB.POINTERDOWN||i===mo.WHEEL||i===mo.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=t.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){const s=e.viewHints;if(s[Su.ANIMATING]||s[Su.INTERACTING]){const a=Date.now()-e.time>8;r=a?0:8,o=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(kp.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(kp.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Iv(q0.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Iv(q0.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Dl(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(mo.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(mo.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new mre(this)),this.mapBrowserEventHandler_=new Zee(this,this.moveTolerance_);for(const o in pA)this.mapBrowserEventHandler_.addEventListener(pA[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(mo.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(mo.WHEEL,this.boundHandleBrowserEvent_,Ej?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const o=t.getRootNode();i=o instanceof ShadowRoot?o.host:t}this.targetChangeHandlerKeys_=[ns(i,mo.KEYDOWN,this.handleBrowserEvent,this),ns(i,mo.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Dl(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Dl(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ns(e,iC.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ns(e,mo.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Dl),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Lg("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ns(e,iC.PROPERTYCHANGE,this.render,this),ns(e,mo.CHANGE,this.render,this),ns(e,"addlayer",this.handleLayerAdd_,this),ns(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){BN(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let o=null;if(t!==void 0&&qT(t)&&i&&i.isDef()){const s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:z3(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:Do(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const p=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=z3(a.nextCenter,a.nextResolution,p,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!yy(this.previousExtent_)&&!tg(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Iv(q0.MOVESTART,this,r)),this.previousExtent_=yC(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Su.ANIMATING]&&!o.viewHints[Su.INTERACTING]&&!tg(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Iv(q0.MOVEEND,this,o)),Oj(o.extent,this.previousExtent_))),this.dispatchEvent(new Iv(q0.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(q0.LOADSTART)||this.hasListener(q0.LOADEND)||this.hasListener(kp.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Lg("removelayer",t)),this.set(Qh.LAYERGROUP,e)}setSize(e){this.set(Qh.SIZE,e)}setTarget(e){this.set(Qh.TARGET,e)}setView(e){if(!e||e instanceof dm){this.set(Qh.VIEW,e);return}this.set(Qh.VIEW,new dm);const t=this;e.then(function(i){t.setView(new dm(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),o=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(t=[Math.max(0,o),Math.max(0,s)],!qT(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Lj("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!s1(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function gre(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new CC({layers:n.layers});t[Qh.LAYERGROUP]=i,t[Qh.TARGET]=n.target,t[Qh.VIEW]=n.view instanceof dm?n.view:new dm;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new a0(n.controls.slice()):(Os(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new a0(n.interactions.slice()):(Os(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=n.interactions));let s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new a0(n.overlays.slice()):(Os(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=n.overlays):s=new a0,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}class c4 extends wm{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new c4(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Dl(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=ns(e,mo.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?yre(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function yre(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Os(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}function IN(n,e,t,i){const r=[];let o=Kp();for(let s=0,a=t.length;s<a;++s){const p=t[s];o=S8(n,e,p[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=p[p.length-1]}return r}function V3(n,e,t,i,r,o,s){let a,p;const g=(t-e)/i;if(g===1)a=e;else if(g===2)a=e,p=r;else if(g!==0){let _=n[e],E=n[e+1],O=0;const B=[0];for(let Q=e+i;Q<t;Q+=i){const $=n[Q],X=n[Q+1];O+=Math.sqrt(($-_)*($-_)+(X-E)*(X-E)),B.push(O),_=$,E=X}const z=r*O,N=jee(B,z);N<0?(p=(z-B[-N-2])/(B[-N-1]-B[-N-2]),a=e+(-N-2)*i):a=e+N*i}s=s>1?s:2,o=o||new Array(s);for(let _=0;_<s;++_)o[_]=a===void 0?NaN:p===void 0?n[a+_]:Df(n[a+_],n[a+i+_],p);return o}function sO(n,e,t,i,r,o){if(t==e)return null;let s;if(r<n[e+i-1])return o?(s=n.slice(e,e+i),s[i-1]=r,s):null;if(n[t-1]<r)return o?(s=n.slice(t-i,t),s[i-1]=r,s):null;if(r==n[e+i-1])return n.slice(e,e+i);let a=e/i,p=t/i;for(;a<p;){const O=a+p>>1;r<n[(O+1)*i-1]?p=O:a=O+1}const g=n[a*i-1];if(r==g)return n.slice((a-1)*i,(a-1)*i+i);const _=n[(a+1)*i-1],E=(r-g)/(_-g);s=[];for(let O=0;O<i-1;++O)s.push(Df(n[(a-1)*i+O],n[a*i+O],E));return s.push(r),s}function vre(n,e,t,i,r,o,s){if(s)return sO(n,e,t[t.length-1],i,r,o);let a;if(r<n[i-1])return o?(a=n.slice(0,i),a[i-1]=r,a):null;if(n[n.length-1]<r)return o?(a=n.slice(n.length-i),a[i-1]=r,a):null;for(let p=0,g=t.length;p<g;++p){const _=t[p];if(e!=_){if(r<n[e+i-1])return null;if(r<=n[_-1])return sO(n,e,_,i,r,!1);e=_}}return null}class $3 extends Hj{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Dl),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(ns(e[t],mo.CHANGE,this.changed,this))}clone(){const e=new $3(Z5(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<gy(this.getExtent(),e,t))return r;const o=this.geometries_;for(let s=0,a=o.length;s<a;++s)r=o[s].closestPointXY(e,t,i,r);return r}containsXY(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){yC(e);const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)Tj(e,t[i].getExtent());return e}getGeometries(){return Z5(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let r=!1;for(let o=0,s=i.length;o<s;++o){const a=i[o],p=a.getSimplifiedGeometry(e);t.push(p),p!==a&&(r=!0)}return r?new $3(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=Gf(this.getExtent()));const r=this.geometries_;for(let o=0,s=r.length;o<s;++o)r[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(Z5(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Z5(n){return n.map(e=>e.clone())}function l7(n,e,t,i){let r=n[e],o=n[e+1],s=0;for(let a=e+i;a<t;a+=i){const p=n[a],g=n[a+1];s+=Math.sqrt((p-r)*(p-r)+(g-o)*(g-o)),r=p,o=g}return s}class fy extends vy{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){f0(this.flatCoordinates,e),this.changed()}clone(){const e=new fy(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<gy(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(U8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),L8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return eN(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,sO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return V3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return l7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=n4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new fy(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return i4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=t4(this.flatCoordinates,0,e,this.stride),this.changed()}}class mb extends vy{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const r=e,o=[],s=[];for(let p=0,g=r.length;p<g;++p){const _=r[p];f0(o,_.getFlatCoordinates()),s.push(o.length)}const a=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(a,o),this.ends_=s}}appendLineString(e){f0(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new mb(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<gy(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(K8(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),F8(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,vre(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return lb(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new fy(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[];let o=0;for(let s=0,a=t.length;s<a;++s){const p=t[s],g=new fy(e.slice(o,p),i);r.push(g),o=p}return r}getLength(){const e=this.ends_;let t=0,i=0;for(let r=0,o=e.length;r<o;++r)i+=l7(this.flatCoordinates,t,e[r],this.stride),t=e[r];return i}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const r=this.ends_,o=this.stride;for(let s=0,a=r.length;s<a;++s){const p=r[s],g=V3(t,i,p,o,.5);f0(e,g),i=p}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Xj(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new mb(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return cne(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=$b(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class nx extends vy{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){f0(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new nx(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<gy(this.getExtent(),e,t))return r;const o=this.flatCoordinates,s=this.stride;for(let a=0,p=o.length;a<p;a+=s){const g=iy(e,t,o[a],o[a+1]);if(g<r){r=g;for(let _=0;_<s;++_)i[_]=o[a+_];i.length=s}}return r}getCoordinates(){return Yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new hy(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let o=0,s=e.length;o<s;o+=i){const a=new hy(e.slice(o,o+i),t);r.push(a)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let r=0,o=t.length;r<o;r+=i){const s=t[r],a=t[r+1];if(w8(e,s,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=t4(this.flatCoordinates,0,e,this.stride),this.changed()}}class gb extends vy{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,o=[],s=[];for(let a=0,p=r.length;a<p;++a){const g=r[a],_=o.length,E=g.getEnds();for(let O=0,B=E.length;O<B;++O)E[O]+=_;f0(o,g.getFlatCoordinates()),s.push(E)}t=r.length===0?this.getLayout():r[0].getLayout(),e=o,i=s}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;f0(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,o=t.length;r<o;++r)t[r]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const i=new gb(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<gy(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(rne(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),one(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return Ane(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return ine(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),eO(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,JB(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=IN(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Jj(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new nx(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;iN(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=eO(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=lne(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new gb(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(t!==0)for(let o=0,s=i.length;o<s;++o)i[o]-=t;return new ng(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[];let o=0;for(let s=0,a=i.length;s<a;++s){const p=i[s].slice(),g=p[p.length-1];if(o!==0)for(let E=0,O=p.length;E<O;++E)p[E]-=o;const _=new ng(t.slice(o,g),e,p);r.push(_),o=g}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return hne(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=Zj(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const ak=rf();class qh{constructor(e,t,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Ij(this.flatCoordinates_):S8(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Gf(this.getExtent());this.flatInteriorPoints_=N8(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=rN(this.flatCoordinates_,this.ends_),t=IN(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Jj(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=V3(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let r=0,o=i.length;r<o;++r){const s=i[r],a=V3(e,t,s,2,.5);f0(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Zs(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const r=cc(i)/cc(t);m0(ak,i[0],i[3],r,-r,0,0,0),i1(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ak,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new qh(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Mj((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=n4(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=Xj(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=z8(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new qh(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}qh.prototype.getFlatCoordinates=qh.prototype.getOrientedFlatCoordinates;class TN{drawCustom(e,t,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class Cre extends TN{constructor(e,t,i,r,o,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?q2(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=rf()}drawImages_(e,t,i,r){if(!this.image_)return;const o=i1(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,p=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=p*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let _=0,E=o.length;_<E;_+=2){const O=o[_]-this.imageAnchorX_,B=o[_+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const z=O+this.imageAnchorX_,N=B+this.imageAnchorY_;m0(a,z,N,1,1,g,-z,-N),s.save(),s.transform.apply(s,a),s.translate(z,N),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,O,B,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=p)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=i1(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){const p=o[t]+this.textOffsetX_,g=o[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(p-this.textOffsetX_,g-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,p,g),this.textFillState_&&s.fillText(this.text_,p,g))}}moveToLineTo_(e,t,i,r,o){const s=this.context_,a=i1(e,t,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let p=a.length;o&&(p-=2);for(let g=2;g<p;g+=2)s.lineTo(a[g],a[g+1]);return o&&s.closePath(),i}drawRings_(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gA(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=nne(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gA(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(gA(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let o=0;const s=e.getEnds(),a=e.getStride();i.beginPath();for(let p=0,g=s.length;p<g;++p)o=this.moveToLineTo_(r,o,s[p],a,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gA(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gA(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const o=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,p=o.length;a<p;++a){const g=o[a];r=this.drawRings_(i,r,g,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),s1(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:hb;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:u0(i||tf)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),p=t.getWidth(),g=t.getMiterLimit(),_=o||Z0;this.strokeState_={lineCap:r!==void 0?r:sC,lineDash:this.pixelRatio_===1?_:_.map(E=>E*this.pixelRatio_),lineDashOffset:(s||X0)*this.pixelRatio_,lineJoin:a!==void 0?a:lC,lineWidth:(p!==void 0?p:db)*this.pixelRatio_,miterLimit:g!==void 0?g:Ab,strokeStyle:u0(i||cb)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const B=t.getColor();this.textFillState_={fillStyle:u0(B||tf)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const B=i.getColor(),z=i.getLineCap(),N=i.getLineDash(),Q=i.getLineDashOffset(),$=i.getLineJoin(),X=i.getWidth(),re=i.getMiterLimit();this.textStrokeState_={lineCap:z!==void 0?z:sC,lineDash:N||Z0,lineDashOffset:Q||X0,lineJoin:$!==void 0?$:lC,lineWidth:X!==void 0?X:db,miterLimit:re!==void 0?re:Ab,strokeStyle:u0(B||cb)}}const r=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),p=e.getRotation(),g=e.getScaleArray(),_=e.getText(),E=e.getTextAlign(),O=e.getTextBaseline();this.textState_={font:r!==void 0?r:vN,textAlign:E!==void 0?E:hb,textBaseline:O!==void 0?O:Y3},this.text_=_!==void 0?Array.isArray(_)?_.reduce((B,z,N)=>B+=N%2?" ":z,""):_:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=p!==void 0?p:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const _re=.5,kN={Point:Ore,LineString:Sre,Polygon:Tre,MultiPoint:Ire,MultiLineString:Ere,MultiPolygon:Bre,GeometryCollection:wre,Circle:xre};function bre(n,e){return parseInt(Do(n),10)-parseInt(Do(e),10)}function lO(n,e){const t=DN(n,e);return t*t}function DN(n,e){return _re*n/e}function xre(n,e,t,i,r){const o=t.getFill(),s=t.getStroke();if(o||s){const p=n.getBuilder(t.getZIndex(),"Circle");p.setFillStrokeStyle(o,s),p.drawCircle(e,i,r)}const a=t.getText();if(a&&a.getText()){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(a),p.drawText(e,i)}}function Z3(n,e,t,i,r,o,s,a){const p=[],g=t.getImage();if(g){let O=!0;const B=g.getImageState();B==pr.LOADED||B==pr.ERROR?O=!1:B==pr.IDLE&&g.load(),O&&p.push(g.ready())}const _=t.getFill();_&&_.loading()&&p.push(_.ready());const E=p.length>0;return E&&Promise.all(p).then(()=>r(null)),Mre(n,e,t,i,o,s,a),E}function Mre(n,e,t,i,r,o,s){const a=t.getGeometryFunction()(e);if(!a)return;const p=a.simplifyTransformed(i,r);if(t.getRenderer())RN(n,p,t,e,s);else{const _=kN[p.getType()];_(n,p,t,e,s,o)}}function RN(n,e,t,i,r){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let a=0,p=s.length;a<p;++a)RN(n,s[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function wre(n,e,t,i,r,o){const s=e.getGeometriesArray();let a,p;for(a=0,p=s.length;a<p;++a){const g=kN[s[a].getType()];g(n,s[a],t,i,r,o)}}function Sre(n,e,t,i,r){const o=t.getStroke();if(o){const a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,i,r)}const s=t.getText();if(s&&s.getText()){const a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,r)}}function Ere(n,e,t,i,r){const o=t.getStroke();if(o){const a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,i,r)}const s=t.getText();if(s&&s.getText()){const a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,r)}}function Bre(n,e,t,i,r){const o=t.getFill(),s=t.getStroke();if(s||o){const p=n.getBuilder(t.getZIndex(),"Polygon");p.setFillStrokeStyle(o,s),p.drawMultiPolygon(e,i,r)}const a=t.getText();if(a&&a.getText()){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(a),p.drawText(e,i,r)}}function Ore(n,e,t,i,r,o){const s=t.getImage(),a=t.getText(),p=a&&a.getText(),g=o&&s&&p?{}:void 0;if(s){if(s.getImageState()!=pr.LOADED)return;const _=n.getBuilder(t.getZIndex(),"Image");_.setImageStyle(s,g),_.drawPoint(e,i,r)}if(p){const _=n.getBuilder(t.getZIndex(),"Text");_.setTextStyle(a,g),_.drawText(e,i,r)}}function Ire(n,e,t,i,r,o){const s=t.getImage(),a=s&&s.getOpacity()!==0,p=t.getText(),g=p&&p.getText(),_=o&&a&&g?{}:void 0;if(a){if(s.getImageState()!=pr.LOADED)return;const E=n.getBuilder(t.getZIndex(),"Image");E.setImageStyle(s,_),E.drawMultiPoint(e,i,r)}if(g){const E=n.getBuilder(t.getZIndex(),"Text");E.setTextStyle(p,_),E.drawText(e,i,r)}}function Tre(n,e,t,i,r){const o=t.getFill(),s=t.getStroke();if(o||s){const p=n.getBuilder(t.getZIndex(),"Polygon");p.setFillStrokeStyle(o,s),p.drawPolygon(e,i,r)}const a=t.getText();if(a&&a.getText()){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(a),p.drawText(e,i,r)}}let kre=!1;function PN(n,e,t,i,r,o,s){const a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=kre,a.onload=function(p){if(!a.status||a.status>=200&&a.status<300){const g=e.getType();try{let _;g=="text"||g=="json"?_=a.responseText:g=="xml"?_=a.responseXML||a.responseText:g=="arraybuffer"&&(_=a.response),_?o(e.readFeatures(_,{extent:t,featureProjection:r}),e.readProjection(_)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function sk(n,e){return function(t,i,r,o,s){PN(n,e,t,i,r,(a,p)=>{this.addFeatures(a),o!==void 0&&o(a)},()=>{this.changed(),s!==void 0&&s()})}}function Dre(n,e){return[[-1/0,-1/0,1/0,1/0]]}function Rre(n,e){return[n]}class lk{constructor(e){this.rbush_=new dN(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Do(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){const s=e[r],a=t[r],p={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=p,this.items_[Do(a)]=p}this.rbush_.load(i)}remove(e){const t=Do(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[Do(t)],r=[i.minX,i.minY,i.maxX,i.maxY];tg(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return o1(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return eg(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class bC extends wm{constructor(e){super(),this.projection=Zs(e.projection),this.attributions_=uk(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=uk(e),this.changed()}setState(e){this.state_=e,this.changed()}}function uk(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}const xp={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Og extends Mm{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class h3 extends bC{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=ob,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Os(this.format_,"`format` must be set when `url` is set"),this.loader_=sk(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Dre;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new lk:null,this.loadedExtentsRtree_=new lk,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new a0(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Do(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Og(xp.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof qh||(this.featureChangeKeys_[e]=[ns(t,mo.CHANGE,this.handleFeatureChange_,this),ns(t,iC.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof qh){const o=this.idIndex_[r];o instanceof qh?Array.isArray(o)?o.push(t):this.idIndex_[r]=[o,t]:i=!1}else i=!1}return i&&(Os(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let o=0,s=e.length;o<s;o++){const a=e[o],p=Do(a);this.addToIndex_(p,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){const a=i[o],p=Do(a);this.setupChangeEvents_(p,a);const g=a.getGeometry();if(g){const _=g.getExtent();t.push(_),r.push(a)}else this.nullGeometryFeatures_[p]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(xp.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new Og(xp.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(xp.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(xp.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Jd.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Jd.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Dl);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Og(xp.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const o=r.getGeometry();if(o instanceof qh||o.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof qh||r.intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),o1(this.nullGeometryFeatures_)||f0(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=Uj(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let o=null;const s=[NaN,NaN];let a=1/0;const p=[-1/0,-1/0,1/0,1/0];return t=t||rb,this.featuresRtree_.forEachInExtent(p,function(g){if(t(g)){const _=g.getGeometry(),E=a;if(a=_ instanceof qh?0:_.closestPointXY(i,r,s,a),a<E){o=g;const O=Math.sqrt(a);p[0]=i-O,p[1]=r-O,p[2]=i+O,p[3]=r+O}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Do(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}const o=t.getId();if(o!==void 0){const s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Og(xp.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Do(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&o1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let s=0,a=o.length;s<a;++s){const p=o[s];r.forEachInExtent(p,function(_){return s0(_.extent,p)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Og(xp.FEATURESLOADSTART)),this.loader_.call(this,p,t,i,_=>{--this.loadingExtentsCount_,this.dispatchEvent(new Og(xp.FEATURESLOADEND,void 0,_))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Og(xp.FEATURESLOADERROR))}),r.insert(p,{extent:p.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(tg(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Do(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Dl),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const o=r.toString(),s=this.idIndex_[o];s===e?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[t],this.hasListener(xp.REMOVEFEATURE)&&this.dispatchEvent(new Og(xp.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Os(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(sk(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const qr={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ux=[qr.FILL],Hg=[qr.STROKE],Z1=[qr.BEGIN_PATH],Ak=[qr.CLOSE_PATH];class ix extends TN{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let s=o.length;for(let a=0,p=e.length;a<p;a+=t)r[0]=e[a],r[1]=e[a+1],cy(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(e,t,i,r,o,s){const a=this.coordinates;let p=a.length;const g=this.getBufferedMaxExtent();s&&(t+=r);let _=e[t],E=e[t+1];const O=this.tmpCoordinate_;let B=!0,z,N,Q;for(z=t+r;z<i;z+=r)O[0]=e[z],O[1]=e[z+1],Q=QB(g,O),Q!==N?(B&&(a[p++]=_,a[p++]=E,B=!1),a[p++]=O[0],a[p++]=O[1]):Q===Zc.INTERSECTING?(a[p++]=O[0],a[p++]=O[1],B=!1):B=!0,_=O[0],E=O[1],N=Q;return(o&&B||z===t+r)&&(a[p++]=_,a[p++]=E),p}drawCustomCoordinates_(e,t,i,r,o){for(let s=0,a=i.length;s<a;++s){const p=i[s],g=this.appendFlatLineCoordinates(e,t,p,r,!1,!1);o.push(g),t=p}return t}drawCustom(e,t,i,r,o){this.beginGeometry(e,t,o);const s=e.getType(),a=e.getStride(),p=this.coordinates.length;let g,_,E,O,B;switch(s){case"MultiPolygon":g=e.getOrientedFlatCoordinates(),O=[];const z=e.getEndss();B=0;for(let N=0,Q=z.length;N<Q;++N){const $=[];B=this.drawCustomCoordinates_(g,B,z[N],a,$),O.push($)}this.instructions.push([qr.CUSTOM,p,O,e,i,JB,o]),this.hitDetectionInstructions.push([qr.CUSTOM,p,O,e,r||i,JB,o]);break;case"Polygon":case"MultiLineString":E=[],g=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),B=this.drawCustomCoordinates_(g,0,e.getEnds(),a,E),this.instructions.push([qr.CUSTOM,p,E,e,i,lb,o]),this.hitDetectionInstructions.push([qr.CUSTOM,p,E,e,r||i,lb,o]);break;case"LineString":case"Circle":g=e.getFlatCoordinates(),_=this.appendFlatLineCoordinates(g,0,g.length,a,!1,!1),this.instructions.push([qr.CUSTOM,p,_,e,i,Yg,o]),this.hitDetectionInstructions.push([qr.CUSTOM,p,_,e,r||i,Yg,o]);break;case"MultiPoint":g=e.getFlatCoordinates(),_=this.appendFlatPointCoordinates(g,a),_>p&&(this.instructions.push([qr.CUSTOM,p,_,e,i,Yg,o]),this.hitDetectionInstructions.push([qr.CUSTOM,p,_,e,r||i,Yg,o]));break;case"Point":g=e.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),_=this.coordinates.length,this.instructions.push([qr.CUSTOM,p,_,e,i,void 0,o]),this.hitDetectionInstructions.push([qr.CUSTOM,p,_,e,r||i,void 0,o]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[qr.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[qr.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let r,o,s=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==qr.END_GEOMETRY?s=t:o==qr.BEGIN_GEOMETRY&&(r[2]=t,Gee(this.hitDetectionInstructions,s,t),s=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=u0(i||tf)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=u0(i||cb);const r=e.getLineCap();t.lineCap=r!==void 0?r:sC;const o=e.getLineDash();t.lineDash=o?o.slice():Z0;const s=e.getLineDashOffset();t.lineDashOffset=s||X0;const a=e.getLineJoin();t.lineJoin=a!==void 0?a:lC;const p=e.getWidth();t.lineWidth=p!==void 0?p:db;const g=e.getMiterLimit();t.miterLimit=g!==void 0?g:Ab,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[qr.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[qr.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,p=e.lineWidth,g=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!s1(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=p||e.currentMiterLimit!=g)&&(t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=p,e.currentMiterLimit=g)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[qr.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Oj(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;t1(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Pre extends ix{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!cy(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([qr.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([qr.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),o=[];for(let p=0,g=r.length;p<g;p+=e.getStride())(!this.maxExtent||cy(this.maxExtent,r.slice(p,p+2)))&&o.push(r[p],r[p+1]);const s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([qr.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([qr.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class Ure extends ix{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[qr.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){const r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([qr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Z0,X0],Z1);const a=e.getFlatCoordinates(),p=e.getStride();this.drawFlatCoordinates_(a,0,a.length,p),this.hitDetectionInstructions.push(Hg),this.endGeometry(t)}drawMultiLineString(e,t,i){const r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([qr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Z0,X0],Z1);const a=e.getEnds(),p=e.getFlatCoordinates(),g=e.getStride();let _=0;for(let E=0,O=a.length;E<O;++E)_=this.drawFlatCoordinates_(p,_,a[E],g);this.hitDetectionInstructions.push(Hg),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Hg),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Hg),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Z1)}}class ck extends ix{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,p=i.length;this.instructions.push(Z1),this.hitDetectionInstructions.push(Z1);for(let g=0;g<p;++g){const _=i[g],E=this.coordinates.length,O=this.appendFlatLineCoordinates(e,t,_,r,!0,!a),B=[qr.MOVE_TO_LINE_TO,E,O];this.instructions.push(B),this.hitDetectionInstructions.push(B),a&&(this.instructions.push(Ak),this.hitDetectionInstructions.push(Ak)),t=_}return s&&(this.instructions.push(Ux),this.hitDetectionInstructions.push(Ux)),a&&(this.instructions.push(Hg),this.hitDetectionInstructions.push(Hg)),t}drawCircle(e,t,i){const r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([qr.SET_FILL_STYLE,tf]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([qr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Z0,X0]);const a=e.getFlatCoordinates(),p=e.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,p,!1,!1);const _=[qr.CIRCLE,g];this.instructions.push(Z1,_),this.hitDetectionInstructions.push(Z1,_),r.fillStyle!==void 0&&(this.instructions.push(Ux),this.hitDetectionInstructions.push(Ux)),r.strokeStyle!==void 0&&(this.instructions.push(Hg),this.hitDetectionInstructions.push(Hg)),this.endGeometry(t)}drawPolygon(e,t,i){const r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([qr.SET_FILL_STYLE,tf]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([qr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Z0,X0]);const a=e.getEnds(),p=e.getOrientedFlatCoordinates(),g=e.getStride();this.drawFlatCoordinatess_(p,0,a,g),this.endGeometry(t)}drawMultiPolygon(e,t,i){const r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([qr.SET_FILL_STYLE,tf]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([qr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Z0,X0]);const a=e.getEndss(),p=e.getOrientedFlatCoordinates(),g=e.getStride();let _=0;for(let E=0,O=a.length;E<O;++E)_=this.drawFlatCoordinatess_(p,_,a[E],g);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=N1(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function Kre(n,e,t,i,r){const o=[];let s=t,a=0,p=e.slice(t,2);for(;a<n&&s+r<i;){const[g,_]=p.slice(-2),E=e[s+r],O=e[s+r+1],B=Math.sqrt((E-g)*(E-g)+(O-_)*(O-_));if(a+=B,a>=n){const z=(n-a+B)/B,N=Df(g,E,z),Q=Df(_,O,z);p.push(N,Q),o.push(p),p=[N,Q],a==n&&(s+=r),a=0}else if(a<n)p.push(e[s+r],e[s+r+1]),s+=r;else{const z=B-a,N=Df(g,E,z/B),Q=Df(_,O,z/B);p.push(N,Q),o.push(p),p=[N,Q],a=0,s+=r}}return a>0&&o.push(p),o}function Lre(n,e,t,i,r){let o=t,s=t,a=0,p=0,g=t,_,E,O,B,z,N,Q,$,X,re;for(E=t;E<i;E+=r){const ne=e[E],V=e[E+1];z!==void 0&&(X=ne-z,re=V-N,B=Math.sqrt(X*X+re*re),Q!==void 0&&(p+=O,_=Math.acos((Q*X+$*re)/(O*B)),_>n&&(p>a&&(a=p,o=g,s=E),p=0,g=E-r)),O=B,Q=X,$=re),z=ne,N=V}return p+=B,p>a?[g,E]:[o,s]}const X3={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Fre extends ix{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[tf]={fillStyle:tf},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;const a=this.coordinates;let p=a.length;const g=e.getType();let _=null,E=e.getStride();if(s.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!gA(this.maxExtent,e.getExtent()))return;let O;if(_=e.getFlatCoordinates(),g=="LineString")O=[_.length];else if(g=="MultiLineString")O=e.getEnds();else if(g=="Polygon")O=e.getEnds().slice(0,1);else if(g=="MultiPolygon"){const Q=e.getEndss();O=[];for(let $=0,X=Q.length;$<X;++$)O.push(Q[$][0])}this.beginGeometry(e,t,i);const B=s.repeat,z=B?void 0:s.textAlign;let N=0;for(let Q=0,$=O.length;Q<$;++Q){let X;B?X=Kre(B*this.resolution,_,N,O[Q],E):X=[_.slice(N,O[Q])];for(let re=0,ne=X.length;re<ne;++re){const V=X[re];let J=0,W=V.length;if(z==null){const ge=Lre(s.maxAngle,V,0,V.length,2);J=ge[0],W=ge[1]}for(let ge=J;ge<W;ge+=E)a.push(V[ge],V[ge+1]);const he=a.length;N=O[Q],this.drawChars_(p,he),p=he}}this.endGeometry(t)}else{let O=s.overflow?null:[];switch(g){case"Point":case"MultiPoint":_=e.getFlatCoordinates();break;case"LineString":_=e.getFlatMidpoint();break;case"Circle":_=e.getCenter();break;case"MultiLineString":_=e.getFlatMidpoints(),E=2;break;case"Polygon":_=e.getFlatInteriorPoint(),s.overflow||O.push(_[2]/this.resolution),E=3;break;case"MultiPolygon":const ne=e.getFlatInteriorPoints();_=[];for(let V=0,J=ne.length;V<J;V+=3)s.overflow||O.push(ne[V+2]/this.resolution),_.push(ne[V],ne[V+1]);if(_.length===0)return;E=2;break}const B=this.appendFlatPointCoordinates(_,E);if(B===p)return;if(O&&(B-p)/2!==_.length/E){let ne=p/2;O=O.filter((V,J)=>{const W=a[(ne+J)*2]===_[J*E]&&a[(ne+J)*2+1]===_[J*E+1];return W||--ne,W})}this.saveTextStates_();const z=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,N=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(e,t,i);let Q=s.padding;if(Q!=$1&&(s.scale[0]<0||s.scale[1]<0)){let ne=s.padding[0],V=s.padding[1],J=s.padding[2],W=s.padding[3];s.scale[0]<0&&(V=-V,W=-W),s.scale[1]<0&&(ne=-ne,J=-J),Q=[ne,V,J,W]}const $=this.pixelRatio;this.instructions.push([qr.DRAW_IMAGE,p,B,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,Q==$1?$1:Q.map(function(ne){return ne*$}),z,N,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,O]);const X=1/$,re=z?z.slice(0):null;re&&(re[1]=tf),this.hitDetectionInstructions.push([qr.DRAW_IMAGE,p,B,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[X,X],NaN,this.declutterMode_,this.declutterImageWithText_,Q,re,N,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?tf:this.fillKey_,this.textOffsetX_,this.textOffsetY_,O]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||hb,justify:t.justify,textBaseline:t.textBaseline||Y3,scale:t.scale});const s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();const p=this.pixelRatio,g=X3[r.textBaseline],_=this.textOffsetY_*p,E=this.text_,O=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([qr.DRAW_CHARS,e,t,g,r.overflow,a,r.maxAngle,p,_,o,O*p,E,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([qr.DRAW_CHARS,e,t,g,r.overflow,a&&tf,r.maxAngle,p,_,o,O*p,E,s,1/p,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,o;if(!e)this.text_="";else{const s=e.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=u0(s.getColor()||tf)):(r=null,this.textFillState_=r);const a=e.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const N=a.getLineDash(),Q=a.getLineDashOffset(),$=a.getWidth(),X=a.getMiterLimit();o.lineCap=a.getLineCap()||sC,o.lineDash=N?N.slice():Z0,o.lineDashOffset=Q===void 0?X0:Q,o.lineJoin=a.getLineJoin()||lC,o.lineWidth=$===void 0?db:$,o.miterLimit=X===void 0?Ab:X,o.strokeStyle=u0(a.getColor()||cb)}i=this.textState_;const p=e.getFont()||vN;Yie(p);const g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=p,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Y3,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||$1,i.scale=g===void 0?[1,1]:g;const _=e.getOffsetX(),E=e.getOffsetY(),O=e.getRotateWithView(),B=e.getKeepUpright(),z=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=E===void 0?0:E,this.textRotateWithView_=O===void 0?!1:O,this.textKeepUpright_=B===void 0?!0:B,this.textRotation_=z===void 0?0:z,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Do(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Do(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const zre={Circle:ck,Default:ix,Image:Pre,LineString:Ure,Polygon:ck,Text:Fre};class UN{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];if(o===void 0){const s=zre[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o}return o}}function jre(n,e,t,i,r,o,s,a,p,g,_,E,O=!0){let B=n[e],z=n[e+1],N=0,Q=0,$=0,X=0;function re(){N=B,Q=z,e+=i,B=n[e],z=n[e+1],X+=$,$=Math.sqrt((B-N)*(B-N)+(z-Q)*(z-Q))}do re();while(e<t-i&&X+$<o);let ne=$===0?0:(o-X)/$;const V=Df(N,B,ne),J=Df(Q,z,ne),W=e-i,he=X,ge=o+a*p(g,r,_);for(;e<t-i&&X+$<ge;)re();ne=$===0?0:(ge-X)/$;const ve=Df(N,B,ne),_e=Df(Q,z,ne);let Me=!1;if(O)if(E){const ot=[V,J,ve,_e];qj(ot,0,4,2,E,ot,ot),Me=ot[0]>ot[2]}else Me=V>ve;const be=Math.PI,ze=[],Ce=W+i===e;e=W,$=0,X=he,B=n[e],z=n[e+1];let Fe;if(Ce){re(),Fe=Math.atan2(z-Q,B-N),Me&&(Fe+=Fe>0?-be:be);const ot=(ve+V)/2,mt=(_e+J)/2;return ze[0]=[ot,mt,(ge-o)/2,Fe,r],ze}r=r.replace(/\n/g," ");for(let ot=0,mt=r.length;ot<mt;){re();let it=Math.atan2(z-Q,B-N);if(Me&&(it+=it>0?-be:be),Fe!==void 0){let gt=it-Fe;if(gt+=gt>be?-2*be:gt<-be?2*be:0,Math.abs(gt)>s)return null}Fe=it;const ue=ot;let We=0;for(;ot<mt;++ot){const gt=Me?mt-ot-1:ot,xt=a*p(g,r[gt],_);if(e+i<t&&X+$<o+We+xt/2)break;We+=xt}if(ot===ue)continue;const tt=Me?r.substring(mt-ue,mt-ot):r.substring(ue,ot);ne=$===0?0:(o+We/2-X)/$;const ke=Df(N,B,ne),Et=Df(Q,z,ne);ze.push([ke,Et,We/2,it,tt]),o+=We}return ze}class u7{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Q3(),{get:(e,t)=>{if(typeof Q3()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,i)=>(this.push_(t,i),!0)})}push_(...e){const t=this.instructions_,i=this.zIndex+this.offset_;t[i]||(t[i]=[]),t[i].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){const o=t[i];if(typeof o=="function"){o(e);continue}const s=t[++i];if(typeof e[o]=="function")e[o](...s);else{if(typeof s=="function"){e[o]=s(e);continue}e[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const tv=Kp(),Ig=[],N0=[],G0=[],Tg=[];function hk(n){return n[3].declutterBox}const dk=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function X5(n,e){return e==="start"?e=dk.test(n)?"right":"left":e==="end"&&(e=dk.test(n)?"left":"right"),X3[e]}function Nre(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}function Gre(n,e,t){return t%2===0&&(n+=e),n}class Wre{constructor(e,t,i,r,o){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=rf(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new u7:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){const o=e+t+i+r;if(this.labels_[o])return this.labels_[o];const s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,p=this.textStates[t],g=this.pixelRatio,_=[p.scale[0]*g,p.scale[1]*g],E=p.justify?X3[p.justify]:X5(Array.isArray(e)?e[0]:e,p.textAlign||hb),O=r&&s.lineWidth?s.lineWidth:0,B=Array.isArray(e)?e:String(e).split(`
`).reduce(Nre,[]),{width:z,height:N,widths:Q,heights:$,lineWidths:X}=Hie(p,B),re=z+O,ne=[],V=(re+2)*_[0],J=(N+O)*_[1],W={width:V<0?Math.floor(V):Math.ceil(V),height:J<0?Math.floor(J):Math.ceil(J),contextInstructions:ne};(_[0]!=1||_[1]!=1)&&ne.push("scale",_),r&&(ne.push("strokeStyle",s.strokeStyle),ne.push("lineWidth",O),ne.push("lineCap",s.lineCap),ne.push("lineJoin",s.lineJoin),ne.push("miterLimit",s.miterLimit),ne.push("setLineDash",[s.lineDash]),ne.push("lineDashOffset",s.lineDashOffset)),i&&ne.push("fillStyle",a.fillStyle),ne.push("textBaseline","middle"),ne.push("textAlign","center");const he=.5-E;let ge=E*re+he*O;const ve=[],_e=[];let Me=0,be=0,ze=0,Ce=0,Fe;for(let ot=0,mt=B.length;ot<mt;ot+=2){const it=B[ot];if(it===`
`){be+=Me,Me=0,ge=E*re+he*O,++Ce;continue}const ue=B[ot+1]||p.font;ue!==Fe&&(r&&ve.push("font",ue),i&&_e.push("font",ue),Fe=ue),Me=Math.max(Me,$[ze]);const We=[it,ge+he*Q[ze]+E*(Q[ze]-X[Ce]),.5*(O+Me)+be];ge+=Q[ze],r&&ve.push("strokeText",We),i&&_e.push("fillText",We),++ze}return Array.prototype.push.apply(ne,ve),Array.prototype.push.apply(ne,_e),this.labels_[o]=W,W}replayTextBackground_(e,t,i,r,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignAndScaleFill_=s[2],e.fillStyle=s[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,s,a,p,g,_,E,O,B,z,N,Q){a*=O[0],p*=O[1];let $=i-a,X=r-p;const re=o+g>e?e-g:o,ne=s+_>t?t-_:s,V=z[3]+re*O[0]+z[1],J=z[0]+ne*O[1]+z[2],W=$-z[3],he=X-z[0];(N||E!==0)&&(Ig[0]=W,Tg[0]=W,Ig[1]=he,N0[1]=he,N0[0]=W+V,G0[0]=N0[0],G0[1]=he+J,Tg[1]=G0[1]);let ge;return E!==0?(ge=m0(rf(),i,r,1,1,E,-i,-r),uc(ge,Ig),uc(ge,N0),uc(ge,G0),uc(ge,Tg),eg(Math.min(Ig[0],N0[0],G0[0],Tg[0]),Math.min(Ig[1],N0[1],G0[1],Tg[1]),Math.max(Ig[0],N0[0],G0[0],Tg[0]),Math.max(Ig[1],N0[1],G0[1],Tg[1]),tv)):eg(Math.min(W,W+V),Math.min(he,he+J),Math.max(W,W+V),Math.max(he,he+J),tv),B&&($=Math.round($),X=Math.round(X)),{drawImageX:$,drawImageY:X,drawImageW:re,drawImageH:ne,originX:g,originY:_,declutterBox:{minX:tv[0],minY:tv[1],maxX:tv[2],maxY:tv[3],value:Q},canvasTransform:ge,scale:O}}replayImageOrLabel_(e,t,i,r,o,s,a){const p=!!(s||a),g=r.declutterBox,_=a?a[2]*r.scale[0]/2:0;return g.minX-_<=t[0]&&g.maxX+_>=0&&g.minY-_<=t[1]&&g.maxY+_>=0&&(p&&this.replayTextBackground_(e,Ig,N0,G0,Tg,s,a),Vie(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=uc(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,r){const o=this.textStates[t],s=this.createLabel(e,t,r,i),a=this.strokeStates[i],p=this.pixelRatio,g=X5(Array.isArray(e)?e[0]:e,o.textAlign||hb),_=X3[o.textBaseline||Y3],E=a&&a.lineWidth?a.lineWidth:0,O=s.width/p-2*o.scale[0],B=g*O+2*(.5-g)*E,z=_*s.height/p+2*(.5-_)*E;return{label:s,anchorX:B,anchorY:z}}execute_(e,t,i,r,o,s,a,p){const g=this.zIndexContext_;let _;this.pixelCoordinates_&&s1(i,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=i1(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),qte(this.renderedTransform_,i));let E=0;const O=r.length;let B=0,z,N,Q,$,X,re,ne,V,J,W,he,ge,ve,_e=0,Me=0;const be=this.coordinateCache_,ze=this.viewRotation_,Ce=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,Fe={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ze},ot=this.instructions!=r||this.overlaps?0:200;let mt,it,ue,We;for(;E<O;){const tt=r[E];switch(tt[0]){case qr.BEGIN_GEOMETRY:mt=tt[1],We=tt[3],mt.getGeometry()?a!==void 0&&!gA(a,We.getExtent())?E=tt[2]+1:++E:E=tt[2],g&&(g.zIndex=tt[4]);break;case qr.BEGIN_PATH:_e>ot&&(this.fill_(e),_e=0),Me>ot&&(e.stroke(),Me=0),!_e&&!Me&&(e.beginPath(),X=NaN,re=NaN),++E;break;case qr.CIRCLE:B=tt[1];const Et=_[B],gt=_[B+1],xt=_[B+2],Kt=_[B+3],je=xt-Et,Ke=Kt-gt,Ue=Math.sqrt(je*je+Ke*Ke);e.moveTo(Et+Ue,gt),e.arc(Et,gt,Ue,0,2*Math.PI,!0),++E;break;case qr.CLOSE_PATH:e.closePath(),++E;break;case qr.CUSTOM:B=tt[1],z=tt[2];const Ve=tt[3],bt=tt[4],vt=tt[5];Fe.geometry=Ve,Fe.feature=mt,E in be||(be[E]=[]);const It=be[E];vt?vt(_,B,z,2,It):(It[0]=_[B],It[1]=_[B+1],It.length=2),g&&(g.zIndex=tt[6]),bt(It,Fe),++E;break;case qr.DRAW_IMAGE:B=tt[1],z=tt[2],J=tt[3],N=tt[4],Q=tt[5];let Yt=tt[6];const Ut=tt[7],on=tt[8],Hn=tt[9],Wt=tt[10];let Gn=tt[11];const On=tt[12];let Bn=tt[13];$=tt[14]||"declutter";const Tn=tt[15];if(!J&&tt.length>=20){W=tt[19],he=tt[20],ge=tt[21],ve=tt[22];const wn=this.drawLabelWithPointPlacement_(W,he,ge,ve);J=wn.label,tt[3]=J;const ri=tt[23];N=(wn.anchorX-ri)*this.pixelRatio,tt[4]=N;const Qn=tt[24];Q=(wn.anchorY-Qn)*this.pixelRatio,tt[5]=Q,Yt=J.height,tt[6]=Yt,Bn=J.width,tt[13]=Bn}let Oi;tt.length>25&&(Oi=tt[25]);let Vn,Lt,De;tt.length>17?(Vn=tt[16],Lt=tt[17],De=tt[18]):(Vn=$1,Lt=null,De=null),Wt&&Ce?Gn+=ze:!Wt&&!Ce&&(Gn-=ze);let de=0;for(;B<z;B+=2){if(Oi&&Oi[de++]<Bn/this.pixelRatio)continue;const wn=this.calculateImageOrLabelDimensions_(J.width,J.height,_[B],_[B+1],Bn,Yt,N,Q,on,Hn,Gn,On,o,Vn,!!Lt||!!De,mt),ri=[e,t,J,wn,Ut,Lt,De];if(p){let Qn,$i,ir;if(Tn){const ti=z-B;if(!Tn[ti]){Tn[ti]={args:ri,declutterMode:$};continue}const qi=Tn[ti];Qn=qi.args,$i=qi.declutterMode,delete Tn[ti],ir=hk(Qn)}let Ii,di;if(Qn&&($i!=="declutter"||!p.collides(ir))&&(Ii=!0),($!=="declutter"||!p.collides(wn.declutterBox))&&(di=!0),$i==="declutter"&&$==="declutter"){const ti=Ii&&di;Ii=ti,di=ti}Ii&&($i!=="none"&&p.insert(ir),this.replayImageOrLabel_.apply(this,Qn)),di&&($!=="none"&&p.insert(wn.declutterBox),this.replayImageOrLabel_.apply(this,ri))}else this.replayImageOrLabel_.apply(this,ri)}++E;break;case qr.DRAW_CHARS:const oe=tt[1],le=tt[2],me=tt[3],Ie=tt[4];ve=tt[5];const Qe=tt[6],At=tt[7],He=tt[8];ge=tt[9];const Re=tt[10];W=tt[11],Array.isArray(W)&&(W=W.reduce(Gre,"")),he=tt[12];const Ze=[tt[13],tt[13]];$=tt[14]||"declutter";const y=tt[15],yt=this.textStates[he],dt=yt.font,kt=[yt.scale[0]*At,yt.scale[1]*At];let rt;dt in this.widths_?rt=this.widths_[dt]:(rt={},this.widths_[dt]=rt);const tn=l7(_,oe,le,2),Rn=Math.abs(kt[0])*XT(dt,W,rt);if(Ie||Rn<=tn){const wn=this.textStates[he].textAlign,ri=(tn-Rn)*X5(W,wn),Qn=jre(_,oe,le,2,W,ri,Qe,Math.abs(kt[0]),XT,dt,rt,Ce?0:this.viewRotation_,y);e:if(Qn){const $i=[];let ir,Ii,di,ti,qi;if(ge)for(ir=0,Ii=Qn.length;ir<Ii;++ir){qi=Qn[ir],di=qi[4],ti=this.createLabel(di,he,"",ge),N=qi[2]+(kt[0]<0?-Re:Re),Q=me*ti.height+(.5-me)*2*Re*kt[1]/kt[0]-He;const Sn=this.calculateImageOrLabelDimensions_(ti.width,ti.height,qi[0],qi[1],ti.width,ti.height,N,Q,0,0,qi[3],Ze,!1,$1,!1,mt);if(p&&$==="declutter"&&p.collides(Sn.declutterBox))break e;$i.push([e,t,ti,Sn,1,null,null])}if(ve)for(ir=0,Ii=Qn.length;ir<Ii;++ir){qi=Qn[ir],di=qi[4],ti=this.createLabel(di,he,ve,""),N=qi[2],Q=me*ti.height-He;const Sn=this.calculateImageOrLabelDimensions_(ti.width,ti.height,qi[0],qi[1],ti.width,ti.height,N,Q,0,0,qi[3],Ze,!1,$1,!1,mt);if(p&&$==="declutter"&&p.collides(Sn.declutterBox))break e;$i.push([e,t,ti,Sn,1,null,null])}p&&$!=="none"&&p.load($i.map(hk));for(let Sn=0,co=$i.length;Sn<co;++Sn)this.replayImageOrLabel_.apply(this,$i[Sn])}}++E;break;case qr.END_GEOMETRY:if(s!==void 0){mt=tt[1];const wn=s(mt,We,$);if(wn)return wn}++E;break;case qr.FILL:ot?_e++:this.fill_(e),++E;break;case qr.MOVE_TO_LINE_TO:for(B=tt[1],z=tt[2],it=_[B],ue=_[B+1],e.moveTo(it,ue),X=it+.5|0,re=ue+.5|0,B+=2;B<z;B+=2)it=_[B],ue=_[B+1],ne=it+.5|0,V=ue+.5|0,(B==z-2||ne!==X||V!==re)&&(e.lineTo(it,ue),X=ne,re=V);++E;break;case qr.SET_FILL_STYLE:this.alignAndScaleFill_=tt[2],_e&&(this.fill_(e),_e=0,Me&&(e.stroke(),Me=0)),e.fillStyle=tt[1],++E;break;case qr.SET_STROKE_STYLE:Me&&(e.stroke(),Me=0),this.setStrokeStyle_(e,tt),++E;break;case qr.STROKE:ot?Me++:e.stroke(),++E;break;default:++E;break}}_e&&this.fill_(e),Me&&e.stroke()}execute(e,t,i,r,o,s){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,o)}}const Q1=["Polygon","Circle","LineString","Image","Text","Default"],J3=["Image","Text"],Qre=Q1.filter(n=>!J3.includes(n));class KN{constructor(e,t,i,r,o,s,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=rf(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const o=e[i];for(const s in o){const a=o[s];r[s]=new Wre(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,s){r=Math.round(r);const a=r*2+1,p=m0(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=Zu(a,a));const _=this.hitDetectionContext_;_.canvas.width!==a||_.canvas.height!==a?(_.canvas.width=a,_.canvas.height=a):g||_.clearRect(0,0,a,a);let E;this.renderBuffer_!==void 0&&(E=Kp(),D_(E,e),t1(E,t*(this.renderBuffer_+r),E));const O=Yre(r);let B;function z(V,J,W){const he=_.getImageData(0,0,a,a).data;for(let ge=0,ve=O.length;ge<ve;ge++)if(he[O[ge]]>0){if(!s||W==="none"||B!=="Image"&&B!=="Text"||s.includes(V)){const _e=(O[ge]-3)/4,Me=r-_e%a,be=r-(_e/a|0),ze=o(V,J,Me*Me+be*be);if(ze)return ze}_.clearRect(0,0,a,a);break}}const N=Object.keys(this.executorsByZIndex_).map(Number);N.sort(d0);let Q,$,X,re,ne;for(Q=N.length-1;Q>=0;--Q){const V=N[Q].toString();for(X=this.executorsByZIndex_[V],$=Q1.length-1;$>=0;--$)if(B=Q1[$],re=X[B],re!==void 0&&(ne=re.executeHitDetection(_,p,i,z,E),ne))return ne}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],o=t[2],s=t[3],a=[i,r,i,s,o,s,o,r];return i1(a,0,8,2,e,a),a}isEmpty(){return o1(this.executorsByZIndex_)}execute(e,t,i,r,o,s,a){const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(a?Nee:d0),s=s||Q1;const g=Q1.length;for(let _=0,E=p.length;_<E;++_){const O=p[_].toString(),B=this.executorsByZIndex_[O];for(let z=0,N=s.length;z<N;++z){const Q=s[z],$=B[Q];if($!==void 0){const X=a===null?void 0:$.getZIndexContext(),re=X?X.getContext():e,ne=this.maxExtent_&&Q!=="Image"&&Q!=="Text";if(ne&&(re.save(),this.clip(re,i)),!X||Q==="Text"||Q==="Image"?$.execute(re,t,i,r,o,a):X.pushFunction(V=>$.execute(V,t,i,r,o,a)),ne&&re.restore(),X){X.offset();const V=p[_]*g+Q1.indexOf(Q);this.deferredZIndexContexts_[V]||(this.deferredZIndexContexts_[V]=[]),this.deferredZIndexContexts_[V].push(X)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(d0);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[i]].length=0}}const J5={};function Yre(n){if(J5[n]!==void 0)return J5[n];const e=n*2+1,t=n*n,i=new Array(t+1);for(let o=0;o<=n;++o)for(let s=0;s<=n;++s){const a=o*o+s*s;if(a>t)break;let p=i[a];p||(p=[],i[a]=p),p.push(((n+o)*e+(n+s))*4+3),o>0&&p.push(((n-o)*e+(n+s))*4+3),s>0&&(p.push(((n+o)*e+(n-s))*4+3),o>0&&p.push(((n-o)*e+(n-s))*4+3))}const r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return J5[n]=r,r}const Lf=.5;function LN(n,e,t,i,r,o,s,a,p){const g=p?D8(r):r,_=n[0]*Lf,E=n[1]*Lf,O=Zu(_,E);O.imageSmoothingEnabled=!1;const B=O.canvas,z=new Cre(O,Lf,r,null,s,a,p?Vb(Qte(),p):null),N=t.length,Q=Math.floor((256*256*256-1)/N),$={};for(let re=1;re<=N;++re){const ne=t[re-1],V=ne.getStyleFunction()||i;if(!V)continue;let J=V(ne,o);if(!J)continue;Array.isArray(J)||(J=[J]);const he=(re*Q).toString(16).padStart(7,"#00000");for(let ge=0,ve=J.length;ge<ve;++ge){const _e=J[ge],Me=_e.getGeometryFunction()(ne);if(!Me||!gA(g,Me.getExtent()))continue;const be=_e.clone(),ze=be.getFill();ze&&ze.setColor(he);const Ce=be.getStroke();Ce&&(Ce.setColor(he),Ce.setLineDash(null)),be.setText(void 0);const Fe=_e.getImage();if(Fe){const ue=Fe.getImageSize();if(!ue)continue;const We=Zu(ue[0],ue[1],void 0,{alpha:!1}),tt=We.canvas;We.fillStyle=he,We.fillRect(0,0,tt.width,tt.height),be.setImage(new uC({img:tt,anchor:Fe.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Fe.getOrigin(),opacity:1,size:Fe.getSize(),scale:Fe.getScale(),rotation:Fe.getRotation(),rotateWithView:Fe.getRotateWithView()}))}const ot=be.getZIndex()||0;let mt=$[ot];mt||(mt={},$[ot]=mt,mt.Polygon=[],mt.Circle=[],mt.LineString=[],mt.Point=[]);const it=Me.getType();if(it==="GeometryCollection"){const ue=Me.getGeometriesArrayRecursive();for(let We=0,tt=ue.length;We<tt;++We){const ke=ue[We];mt[ke.getType().replace("Multi","")].push(ke,be)}}else mt[it.replace("Multi","")].push(Me,be)}}const X=Object.keys($).map(Number).sort(d0);for(let re=0,ne=X.length;re<ne;++re){const V=$[X[re]];for(const J in V){const W=V[J];for(let he=0,ge=W.length;he<ge;he+=2){z.setStyle(W[he+1]);for(let ve=0,_e=e.length;ve<_e;++ve)z.setTransform(e[ve]),z.drawGeometry(W[he])}}}return O.getImageData(0,0,B.width,B.height)}function FN(n,e,t){const i=[];if(t){const r=Math.floor(Math.round(n[0])*Lf),o=Math.floor(Math.round(n[1])*Lf),s=($u(r,0,t.width-1)+$u(o,0,t.height-1)*t.width)*4,a=t.data[s],p=t.data[s+1],_=t.data[s+2]+256*(p+256*a),E=Math.floor((256*256*256-1)/e.length);_&&_%E===0&&i.push(e[_/E-1])}return i}const qre=5;class Hre extends qb{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=qre}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return _o()}getData(e){return null}prepareFrame(e){return _o()}renderFrame(e,t){return _o()}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===pr.LOADED||t.getState()===pr.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=pr.LOADED&&t!=pr.ERROR&&e.addEventListener(mo.CHANGE,this.boundHandleImageChange_),t==pr.IDLE&&(e.load(),t=e.getState()),t==pr.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const fk=[];let kv=null;function Vre(){kv=Zu(1,1,void 0,{willReadFrequently:!0})}class A7 extends Hre{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=rf(),this.pixelTransform=rf(),this.inversePixelTransform=rf(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){kv||Vre(),kv.clearRect(0,0,1,1);let r;try{kv.drawImage(e,t,i,1,1,0,0,1,1),r=kv.getImageData(0,0,1,1).data}catch{return kv=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let o,s;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&s1(aC(e.style.backgroundColor),aC(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&Xte(s.canvas.style.transform,t)?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=Zu();const p=s.canvas;o.appendChild(p),a=p.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=og(i),o=$2(i),s=V2(i),a=H2(i);uc(t.coordinateToPixelTransform,r),uc(t.coordinateToPixelTransform,o),uc(t.coordinateToPixelTransform,s),uc(t.coordinateToPixelTransform,a);const p=this.inversePixelTransform;uc(p,r),uc(p,o),uc(p,s),uc(p,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){const i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,s=e.pixelRatio,a=Math.round(ds(i)/r*s),p=Math.round(cc(i)/r*s);m0(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,o,-a/2,-p/2),Yj(this.inversePixelTransform,this.pixelTransform);const g=Zte(this.pixelTransform);if(this.useContainer(t,g,this.getBackground(e)),!this.containerReused){const _=this.context.canvas;_.width!=a||_.height!=p?(_.width=a,_.height=p):this.context.clearRect(0,0,a,p),g!==_.style.transform&&(_.style.transform=g)}}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const o=new EN(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(kp.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(kp.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new u7),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(kp.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(kp.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,o,s,a){const p=o/2,g=s/2,_=r/t,E=-_,O=-e[0]+a,B=-e[1];return m0(this.tempTransform,p,g,_,E,-i,O,B)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class $re extends A7{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Kp(),this.wrappedRenderedExtent_=Kp(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,o=t.viewState,s=o.center,a=o.resolution,p=o.projection,g=o.rotation,_=p.getExtent(),E=this.getLayer().getSource(),O=this.getLayer().getDeclutter(),B=t.pixelRatio,z=t.viewHints,N=!(z[Su.ANIMATING]||z[Su.INTERACTING]),Q=this.context,$=Math.round(ds(r)/a*B),X=Math.round(cc(r)/a*B),re=E.getWrapX()&&p.canWrapX(),ne=re?ds(_):null,V=re?Math.ceil((r[2]-_[2])/ne)+1:1;let J=re?Math.floor((r[0]-_[0])/ne):0;do{let W=this.getRenderTransform(s,a,0,B,$,X,J*ne);t.declutter&&(W=W.slice(0)),e.execute(Q,[Q.canvas.width,Q.canvas.height],W,g,N,i===void 0?Q1:i?J3:Qre,i?O&&t.declutter[O]:void 0)}while(++J<V)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Zu(this.context.canvas.width,this.context.canvas.height,fk))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Zb(this.context),fk.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,t);const o=this.context,s=this.replayGroup_;let a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(kp.PRERENDER)||this.getLayer().hasListener(kp.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,e),r.projection,this.clipped_=!1,a&&i.extent&&this.clipping){const p=l0(i.extent);a=gA(p,e.extent),this.clipped_=a&&!s0(p,e.extent),this.clipped_&&this.clipUnrotated(o,e,p)}return a&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,p=this.wrappedRenderedExtent_,g=this.getLayer(),_=[],E=i[0]*Lf,O=i[1]*Lf;_.push(this.getRenderTransform(r,o,s,Lf,E,O,0).slice());const B=g.getSource(),z=a.getExtent();if(B.getWrapX()&&a.canWrapX()&&!s0(z,p)){let N=p[0];const Q=ds(z);let $=0,X;for(;N<z[0];)--$,X=Q*$,_.push(this.getRenderTransform(r,o,s,Lf,E,O,X).slice()),N+=Q;for($=0,N=p[2];N>z[2];)++$,X=Q*$,_.push(this.getRenderTransform(r,o,s,Lf,E,O,X).slice()),N-=Q}this.hitDetectionImageData_=LN(i,_,this.renderedFeatures_,g.getStyleFunction(),p,o,s,lO(o,this.renderedPixelRatio_),null)}t(FN(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){if(!this.replayGroup_)return;const s=t.viewState.resolution,a=t.viewState.rotation,p=this.getLayer(),g={},_=function(O,B,z){const N=Do(O),Q=g[N];if(Q){if(Q!==!0&&z<Q.distanceSq){if(z===0)return g[N]=!0,o.splice(o.lastIndexOf(Q),1),r(O,p,B);Q.geometry=B,Q.distanceSq=z}}else{if(z===0)return g[N]=!0,r(O,p,B);o.push(g[N]={feature:O,layer:p,geometry:B,distanceSq:z,callback:r})}},E=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,s,a,i,_,E?t.declutter?.[E]?.all().map(O=>O.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[Su.ANIMATING],o=e.viewHints[Su.INTERACTING],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const p=e.extent,g=e.viewState,_=g.projection,E=g.resolution,O=e.pixelRatio,B=t.getRevision(),z=t.getRenderBuffer();let N=t.getRenderOrder();N===void 0&&(N=bre);const Q=g.center.slice(),$=t1(p,z*E),X=$.slice(),re=[$.slice()],ne=_.getExtent();if(i.getWrapX()&&_.canWrapX()&&!s0(ne,e.extent)){const ze=ds(ne),Ce=Math.max(ds($)/2,ze);$[0]=ne[0]-Ce,$[2]=ne[2]+Ce,B8(Q,_);const Fe=Pj(re[0],_);Fe[0]<ne[0]&&Fe[2]<ne[2]?re.push([Fe[0]+ze,Fe[1],Fe[2]+ze,Fe[3]]):Fe[0]>ne[0]&&Fe[2]>ne[2]&&re.push([Fe[0]-ze,Fe[1],Fe[2]-ze,Fe[3]])}if(this.ready&&this.renderedResolution_==E&&this.renderedRevision_==B&&this.renderedRenderOrder_==N&&this.renderedFrameDeclutter_===!!e.declutter&&s0(this.wrappedRenderedExtent_,$))return s1(this.renderedExtent_,X)||(this.hitDetectionImageData_=null,this.renderedExtent_=X),this.renderedCenter_=Q,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const V=new UN(DN(E,O),$,E,O);let J;for(let ze=0,Ce=re.length;ze<Ce;++ze)i.loadFeatures(re[ze],E,_);const W=lO(E,O);let he=!0;const ge=(ze,Ce)=>{let Fe;const ot=ze.getStyleFunction()||t.getStyleFunction();if(ot&&(Fe=ot(ze,E)),Fe){const mt=this.renderFeature(ze,W,Fe,V,J,this.getLayer().getDeclutter(),Ce);he=he&&!mt}},ve=D8($),_e=i.getFeaturesInExtent(ve);N&&_e.sort(N);for(let ze=0,Ce=_e.length;ze<Ce;++ze)ge(_e[ze],ze);this.renderedFeatures_=_e,this.ready=he;const Me=V.finish(),be=new KN($,E,O,i.getOverlaps(),Me,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=E,this.renderedRevision_=B,this.renderedRenderOrder_=N,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=X,this.wrappedRenderedExtent_=$,this.renderedCenter_=Q,this.renderedProjection_=_,this.renderedPixelRatio_=O,this.replayGroup_=be,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,s,a){if(!i)return!1;let p=!1;if(Array.isArray(i))for(let g=0,_=i.length;g<_;++g)p=Z3(r,e,i[g],t,this.boundHandleStyleImageChange_,o,s,a)||p;else p=Z3(r,e,i,t,this.boundHandleStyleImageChange_,o,s,a);return p}}class c7 extends s7{constructor(e){super(e)}createRenderer(){return new $re(this)}}class Zre extends r7{constructor(e,t,i,r,o){const s=o!==void 0?pr.IDLE:pr.LOADED;super(e,t,i,s),this.loader_=o!==void 0?o:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=pr.ERROR):this.state=pr.LOADED,this.changed()}load(){this.state==pr.IDLE&&(this.state=pr.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class rx extends Yb{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(mo.CHANGE)}release(){this.setState(Ki.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Ki.EMPTY){if(this.state!==Ki.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){_o()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=t-i+1e3/60;return r>=this.transition_?1:Kj(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class zN extends rx{constructor(e,t,i,r,o,s){super(e,t,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Ki.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Ki.ERROR,this.unlistenImage_(),this.image_=Xre(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Ki.LOADED:this.state=Ki.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Ki.ERROR&&(this.state=Ki.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ki.IDLE&&(this.state=Ki.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Fie(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function Xre(){const n=Zu(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}const Wh={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Jre extends wm{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+bne,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Wh.ELEMENT,this.handleElementChanged),this.addChangeListener(Wh.MAP,this.handleMapChanged),this.addChangeListener(Wh.OFFSET,this.handleOffsetChanged),this.addChangeListener(Wh.POSITION,this.handlePositionChanged),this.addChangeListener(Wh.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Wh.ELEMENT)}getId(){return this.id}getMap(){return this.get(Wh.MAP)||null}getOffset(){return this.get(Wh.OFFSET)}getPosition(){return this.get(Wh.POSITION)}getPositioning(){return this.get(Wh.POSITIONING)}handleElementChanged(){aN(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Dl(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=ns(e,q0.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Wh.ELEMENT,e)}setMap(e){this.set(Wh.MAP,e)}setOffset(e){this.set(Wh.OFFSET,e)}setPosition(e){this.set(Wh.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Wh.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),o=this.getRect(r,[Mne(r),wne(r)]);e=e||{};const s=e.margin===void 0?20:e.margin;if(!s0(i,o)){const a=o[0]-i[0],p=i[2]-o[2],g=o[1]-i[1],_=i[3]-o[3],E=[0,0];if(a<0?E[0]=a-s:p<0&&(E[0]=Math.abs(p)+s),g<0?E[1]=g-s:_<0&&(E[1]=Math.abs(_)+s),E[0]!==0||E[1]!==0){const O=t.getView().getCenterInternal(),B=t.getPixelFromCoordinateInternal(O);if(!B)return;const z=[B[0]+E[0],B[1]+E[1]],N=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(z),duration:N.duration,easing:N.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+t[0],o+t[1]]}setPositioning(e){this.set(Wh.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,t){const i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const s=`${e[0]+r[0]}px`,a=`${e[1]+r[1]}px`;let p="0%",g="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?p="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(p="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?g="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(g="-50%");const _=`translate(${p}, ${g}) translate(${s}, ${a})`;this.rendered.transform_!=_&&(this.rendered.transform_=_,i.transform=_)}getOptions(){return this.options}}class h7{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function nv(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new h7(n,e,t,i)}const pk=[];class eoe extends rx{constructor(e,t,i,r,o){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=o,this.wrappedTileCoord=i}getContext(){return this.context_||(this.context_=Zu(1,1,pk)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=Do(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(Zb(this.context_),pk.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}let jN=class extends rx{constructor(e,t,i,r,o,s){super(e,t,s),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=o,this.url_=i,this.key=i}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==Ki.IDLE&&(this.setState(Ki.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(Ki.ERROR)}setFeatures(e){this.features_=e,this.setState(Ki.LOADED)}setLoader(e){this.loader_=e}};const NN="https://api.mapbox.com";function d7(n){const e="mapbox://";return n.indexOf(e)!==0?"":n.slice(e.length)}function toe(n,e,t){if(typeof n=="string")return[{id:"default",url:mk(n,e,t)}];for(const i of n)i.url=mk(i.url,e,t);return n}function mk(n,e,t){const i=d7(n);if(!i)return decodeURI(new URL(n,t).href);const r="sprites/";if(i.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${n}`);const o=i.slice(r.length);return`${NN}/styles/v1/${o}/sprite?access_token=${e}`}function e2(n,e){const t=d7(n);if(!t)return decodeURI(new URL(n,location.href).href);const i="styles/";if(t.indexOf(i)!==0)throw new Error(`unexpected style url: ${n}`);const r=t.slice(i.length);return`${NN}/styles/v1/${r}?&access_token=${e}`}const noe=["a","b","c","d"];function d3(n,e,t,i){const r=new URL(n,i||location.href),o=d7(n);if(!o)return e?(r.searchParams.has(t)||r.searchParams.set(t,e),[decodeURI(r.href)]):[decodeURI(r.href)];if(o==="mapbox.satellite"){const s=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${o}/{z}/{x}/{y}${s}.webp?access_token=${e}`]}return noe.map(s=>`https://${s}.tiles.mapbox.com/v4/${o}/{z}/{x}/{y}.vector.pbf?access_token=${e}`)}const pm=Object.freeze({}),gk={},yk={};let ioe=0;function f7(n){return n.id||(n.id=ioe++),n.id}function roe(n,e){return f7(n)+"."+Do(e)}function GN(n){let e=gk[n.id];return e||(e={},gk[f7(n)]=e),e}function ooe(n){let e=yk[n.id];return e||(e={},yk[f7(n)]=e),e}function eM(n){return n*Math.PI/180}const p0=function(){const n=[];for(let e=78271.51696402048;n.length<=24;e/=2)n.push(e);return n}();function h4(n,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(n,e);const t=document.createElement("canvas");return t.width=n,t.height=e,t}function p7(n,e){let t=0;const i=e.length;for(;t<i;++t)if(e[t]<n&&t+1<i){const o=e[t]/e[t+1];return t+Math.log(e[t]/n)/Math.log(o)}return i-1}function g_(n,e){const t=Math.floor(n),i=Math.pow(2,n-t);return e[t]/i}const iv={};function AC(n,e,t={},i){if(e in iv)return i&&(i.url=iv[e][0].url),iv[e][1];const r=t.transformRequest&&t.transformRequest(e,n)||e,o=function(p){return delete iv[e],Promise.reject(new Error("Error fetching source "+e))},s=function(p){return delete iv[e],p.ok?p.json():Promise.reject(new Error("Error fetching source "+e))},a=rC(()=>r).then(p=>p instanceof Response?(i&&(i.url=p.url),s(p)):(p instanceof Request||(p=new Request(p)),p.headers.get("Accept")||p.headers.set("Accept","application/json"),i&&(i.url=p.url),fetch(p).then(s).catch(o))).catch(o);return iv[e]=[r,a],a}function WN(n,e){if(typeof n=="string")if(n.trim().startsWith("{"))try{const t=JSON.parse(n);return Promise.resolve(t)}catch(t){return Promise.reject(t)}else return n=e2(n,e.accessToken),AC("Style",n,e);else return Promise.resolve(n)}const vk={};function QN(n,e,t={}){const i=[e,JSON.stringify(n)].toString();let r=vk[i];if(!r||t.transformRequest){let o;t.transformRequest&&(o=(a,p)=>{const g=t.transformRequest&&t.transformRequest(p,"Tiles")||p;if(a instanceof jN)a.setLoader((_,E,O)=>{const B=function(z){z.arrayBuffer().then(N=>{const $=a.getFormat().readFeatures(N,{extent:_,featureProjection:O});a.setFeatures($)})};rC(()=>g).then(z=>{if(z instanceof Response)return B(z);fetch(z).then(B).catch(N=>a.setState(Ki.ERROR))}).catch(z=>a.setState(Ki.ERROR))});else{const _=a.getImage();rC(()=>g).then(E=>{if(typeof E=="string"){_.src=E;return}const O=B=>B.blob().then(z=>{const N=URL.createObjectURL(z);_.addEventListener("load",()=>URL.revokeObjectURL(N)),_.addEventListener("error",()=>URL.revokeObjectURL(N)),_.src=N});if(E instanceof Response)return O(E);fetch(E).then(O).catch(B=>a.setState(Ki.ERROR))}).catch(E=>a.setState(Ki.ERROR))}});const s=n.url;if(s&&!n.tiles){const a=d3(s,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(s.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},n,{url:void 0,tiles:a}),tileLoadFunction:o});else{const p={};r=AC("Source",a[0],t,p).then(function(g){return g.tiles=g.tiles.map(function(_){return g.scheme==="tms"&&(_=_.replace("{y}","{-y}")),d3(_,t.accessToken,t.accessTokenParam||"access_token",p.url)[0]}),Promise.resolve({tileJson:g,tileLoadFunction:o})})}}else n.tiles?(n=Object.assign({},n,{tiles:n.tiles.map(function(a){return n.scheme==="tms"&&(a=a.replace("{y}","{-y}")),d3(a,t.accessToken,t.accessTokenParam||"access_token",e||location.href)[0]})}),r=Promise.resolve({tileJson:Object.assign({},n),tileLoadFunction:o})):r=Promise.reject(new Error("source has no `tiles` nor `url`"));vk[i]=r}return r}function Ck(n,e,t,i){const r=[2*t*e.pixelRatio+e.width,2*t*e.pixelRatio+e.height],o=h4(r[0],r[1]),s=o.getContext("2d");s.drawImage(n,e.x,e.y,e.width,e.height,t*e.pixelRatio,t*e.pixelRatio,e.width,e.height);const a=s.getImageData(0,0,r[0],r[1]);s.globalCompositeOperation="destination-over",s.fillStyle=`rgba(${i.r*255},${i.g*255},${i.b*255},${i.a})`;const p=a.data;for(let g=0,_=a.width;g<_;++g)for(let E=0,O=a.height;E<O;++E){const B=(E*_+g)*4;p[B+3]>0&&s.arc(g,E,t*e.pixelRatio,0,2*Math.PI)}return s.fill(),o}function aoe(n,e,t){const i=Math.max(0,Math.min(1,(t-n)/(e-n)));return i*i*(3-2*i)}function _k(n,e,t){const i=h4(e.width,e.height),r=i.getContext("2d");r.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),s=o.data;for(let a=0,p=o.width;a<p;++a)for(let g=0,_=o.height;g<_;++g){const E=(g*p+a)*4,O=s[E+3]/255,B=.75,z=.1,N=aoe(B-z,B+z,O);N>0?(s[E+0]=Math.round(255*t.r*N),s[E+1]=Math.round(255*t.g*N),s[E+2]=Math.round(255*t.b*N),s[E+3]=Math.round(255*N)):s[E+3]=0}return r.putImageData(o,0,0),i}const soe=Array(256).join(" ");function uO(n,e){if(e>=.05){let t="";const i=n.split(`
`),r=soe.slice(0,Math.round(e/.1));for(let o=0,s=i.length;o<s;++o)o>0&&(t+=`
`),t+=i[o].split("").join(r);return t}return n}let tM;function YN(){return tM||(tM=h4(1,1).getContext("2d")),tM}function L1(n,e){return YN().measureText(n).width+(n.length-1)*e}const t2={};W1.on("propertychange",()=>{for(const n in t2)delete t2[n]});function AO(n,e,t,i){if(n.indexOf(`
`)!==-1){const s=n.split(`
`),a=[];for(let p=0,g=s.length;p<g;++p)a.push(AO(s[p],e,t,i));return a.join(`
`)}const r=t+","+e+","+n+","+i;let o=t2[r];if(!o){const s=n.split(" ");if(s.length>1){const a=YN();a.font=e;const g=a.measureText("M").width*t;let _="";const E=[];for(let O=0,B=s.length;O<B;++O){const z=s[O],N=_+(_?" ":"")+z;L1(N,i)<=g?_=N:(_&&E.push(_),_=z)}_&&E.push(_);for(let O=0,B=E.length;O<B&&B>1;++O){const z=E[O];if(L1(z,i)<g*.35){const N=O>0?L1(E[O-1],i):1/0,Q=O<B-1?L1(E[O+1],i):1/0;E.splice(O,1),B-=1,N<Q?(E[O-1]+=" "+z,O-=1):E[O]=z+" "+E[O]}}for(let O=0,B=E.length-1;O<B;++O){const z=E[O],N=E[O+1];if(L1(z,i)>g*.7&&L1(N,i)<g*.6){const Q=z.split(" "),$=Q.pop();L1($,i)<g*.2&&(E[O]=Q.join(" "),E[O+1]=$+" "+N),B-=1}}o=E.join(`
`)}else o=n;o=uO(o,i),t2[r]=o}return o}const loe=["Arial","Courier New","Times New Roman","Verdana","sans-serif","serif","monospace","cursive","fantasy"],bk={};function uoe(n,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){let t;for(let i=0,r=n.length;i<r;++i){const o=n[i];if(o in bk)continue;bk[o]=!0;const a=jB(o,16).split(" ");t||(t=[]),t.push([a.slice(3).join(" ").replace(/"/g,""),a[1],a[0]])}return t&&(async()=>{await document.fonts.ready;for(let i=0,r=t.length;i<r;++i){const o=t[i],s=o[0];if(loe.includes(s))continue;const a=o[1],p=o[2];if(!(await document.fonts.load(`${p} ${a} 16px "${s}"`)).some(_=>_.family.replace(/^['"]|['"]$/g,"").toLowerCase()===s.toLowerCase()&&_.weight==a&&_.style===p)){const _=e.replace("{font-family}",s.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",s.replace(/ /g,"+")).replace("{fontweight}",a).replace("{-fontstyle}",p.replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",p);if(!document.querySelector('link[href="'+_+'"]')){const E=document.createElement("link");E.href=_,E.rel="stylesheet",document.head.appendChild(E)}}}})(),n}const Aoe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},coe={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},hoe=function(n,e){const t=z2(n,e);if(t.result==="error")throw new Error(t.value.map(i=>`${i.key}: ${i.message}`).join(", "));return t.value},Nf={zoom:0,distanceFromCenter:0};Ff.register(U2,{...Ff.definitions,pitch:[{kind:"number"},[],n=>Nf.pitch||90],"distance-from-center":[{kind:"number"},[],n=>Nf.distanceFromCenter||0]});let Kx,nM;function Mr(n,e,t,i,r,o){const s=n.id;r||(r={},console.warn("No functionCache provided to getValue()")),r[s]||(r[s]={});const a=r[s];if(!a[t]){let p=(n[e]||pm)[t];const g=Kf[`${e}_${n.type}`][t];p===void 0&&(p=g.default);let _=gC(p);if(!_&&mC(p)&&(p=p8(p,g),_=!0),_){const E=hoe(p,g);a[t]=E.evaluate.bind(E)}else g.type=="color"&&(p=ll.parse(p)),a[t]=function(){return p}}return a[t](Nf,i,o)}function xk(n,e,t,i){return Mr(n,"layout",`${t}-allow-overlap`,e,i)?Mr(n,"layout",`${t}-ignore-placement`,e,i)?"none":"obstacle":"declutter"}function doe(n,e,t,i){if(i||console.warn("No filterCache provided to evaluateFilter()"),!(n in i))try{i[n]=EZ(e).filter}catch(r){console.warn("Filter will evaluate to false: "+r.message),i[n]=function(){return!1}}return i[n](Nf,t)}function Kg(n,e){if(n){if(n.a===0||e===0)return;const t=n.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(n.r*255/t)+","+Math.round(n.g*255/t)+","+Math.round(n.b*255/t)+","+t*e+")"}return n}const foe=/\{[^{}}]*\}/g;function iM(n,e){return n.replace(foe,function(t){return e[t.slice(1,-1)]||""})}function Mk(n,e){let t=n.split(":")[0];return t===n&&(t="default"),e[t]}const poe={};function moe(n,e,t,i=p0,r=void 0,o=void 0,s=void 0,a=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");poe[roe(e,n)]=Array.from(arguments);const p={};(typeof o=="string"||o instanceof Request||o instanceof Response||o instanceof Promise)&&(o={default:o});for(const V in o){const J=o[V];rC(()=>J).then(async W=>{let he;if(typeof Image<"u"){const ge=new Image;if(typeof W=="string")ge.crossOrigin="anonymous",ge.src=W;else{let ve;W instanceof Request?ve=await fetch(W):W instanceof Response&&(ve=W);const _e=await ve.blob();he=URL.createObjectURL(_e),ge.src=he}ge.addEventListener("load",function ve(){ge.removeEventListener("load",ve),p[V]={image:ge,size:[ge.width,ge.height]},n.changed(),he&&URL.revokeObjectURL(he)}),ge.addEventListener("error",function ve(){URL.revokeObjectURL(he),ge.removeEventListener("error",ve)})}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const ge=self;ge.postMessage({action:"loadImage",src:W}),ge.addEventListener("message",function(_e){_e.data.action==="imageLoaded"&&_e.data.src===W&&(p[V]={image:_e.data.image,size:[_e.data.image.width,_e.data.image.height]})})}})}const g=$O(e.layers),_={},E=[],O={},B={},z=GN(e),N=ooe(e);let Q;for(let V=0,J=g.length;V<J;++V){const W=g[V],he=W.id;if(typeof t=="string"&&W.source==t||Array.isArray(t)&&t.indexOf(he)!==-1){const ge=W["source-layer"];if(Q){if(W.source!==Q)throw new Error(`Layer "${he}" does not use source "${Q}`)}else{Q=W.source;const _e=e.sources[Q];if(!_e)throw new Error(`Source "${Q}" is not defined`);const Me=_e.type;if(Me!=="vector"&&Me!=="geojson")throw new Error(`Source "${Q}" is not of type "vector" or "geojson", but "${Me}"`)}let ve=_[ge];ve||(ve=[],_[ge]=ve),ve.push({layer:W,index:V}),E.push(he)}}const $=new qg,X=new V0,re=[],ne=function(V,J,W){const he=n.getSource?.()?.format_?.layerName_??"mvt:layer",ge=V.getProperties(),ve=_[ge[he]];if(!ve)return;let _e=i.indexOf(J);_e==-1&&(_e=p7(J,i)),Nf.zoom=_e,Nf.distanceFromCenter=0;const Me=V.getGeometry(),be=Aoe[Me.getType()],ze=n.get("map");if(ze&&ze instanceof A4&&be===1){const mt=ze.getSize();if(mt){const it=ze.getView().getCenter(),ue=Gf(Me.getExtent());Nf.distanceFromCenter=hte(it,ue)/J/mt[1]}}const Ce={id:V.getId(),properties:ge,type:be},Fe=n.get("mapbox-featurestate")[V.getId()];let ot=-1;for(let mt=0,it=ve.length;mt<it;++mt){const ue=ve[mt],We=ue.layer,tt=We.id;if(W!==void 0&&W!==tt)continue;const ke=We.layout||pm,Et=We.paint||pm;if(ke.visibility==="none"||"minzoom"in We&&_e<We.minzoom||"maxzoom"in We&&_e>=We.maxzoom)continue;const gt=We.filter;if(!gt||doe(tt,gt,Ce,N)){let xt,Kt,je,Ke,Ue,Ve;const bt=ue.index;if(be==3&&(We.type=="fill"||We.type=="fill-extrusion"))if(Kt=Mr(We,"paint",We.type+"-opacity",Ce,z,Fe),We.type+"-pattern"in Et){const Vn=Mr(We,"paint",We.type+"-pattern",Ce,z,Fe);if(Vn){const Lt=typeof Vn=="string"?iM(Vn,ge):Vn.toString(),De=Mk(Lt,p);if(r&&r[Lt]&&De){++ot,Ve=re[ot],(!Ve||!Ve.getFill()||Ve.getStroke()||Ve.getText())&&(Ve=new Rf({fill:new V0}),re[ot]=Ve),je=Ve.getFill(),Ve.setZIndex(bt);const de=Lt+"."+Kt;let oe=B[de];if(!oe){const le=r[Lt],me=h4(le.width,le.height),Ie=me.getContext("2d");Ie.globalAlpha=Kt,Ie.drawImage(De.image,le.x,le.y,le.width,le.height,0,0,le.width,le.height),oe=Ie.createPattern(me,"repeat"),B[de]=oe}je.setColor(oe)}}}else xt=Kg(Mr(We,"paint",We.type+"-color",Ce,z,Fe),Kt),We.type+"-outline-color"in Et&&(Ue=Kg(Mr(We,"paint",We.type+"-outline-color",Ce,z,Fe),Kt)),Ue||(Ue=xt),(xt||Ue)&&(++ot,Ve=re[ot],(!Ve||xt&&!Ve.getFill()||!xt&&Ve.getFill()||Ue&&!Ve.getStroke()||!Ue&&Ve.getStroke()||Ve.getText())&&(Ve=new Rf({fill:xt?new V0:void 0,stroke:Ue?new qg:void 0}),re[ot]=Ve),xt&&(je=Ve.getFill(),je.setColor(xt)),Ue&&(Ke=Ve.getStroke(),Ke.setColor(Ue),Ke.setWidth(.5)),Ve.setZIndex(bt));if(be!=1&&We.type=="line"){"line-pattern"in Et?xt=void 0:xt=Kg(Mr(We,"paint","line-color",Ce,z,Fe),Mr(We,"paint","line-opacity",Ce,z,Fe));const Vn=Mr(We,"paint","line-width",Ce,z,Fe);xt&&Vn>0&&(++ot,Ve=re[ot],(!Ve||!Ve.getStroke()||Ve.getFill()||Ve.getText())&&(Ve=new Rf({stroke:new qg}),re[ot]=Ve),Ke=Ve.getStroke(),Ke.setLineCap(Mr(We,"layout","line-cap",Ce,z,Fe)),Ke.setLineJoin(Mr(We,"layout","line-join",Ce,z,Fe)),Ke.setMiterLimit(Mr(We,"layout","line-miter-limit",Ce,z,Fe)),Ke.setColor(xt),Ke.setWidth(Vn),Ke.setLineDash(Et["line-dasharray"]?Mr(We,"paint","line-dasharray",Ce,z,Fe).map(function(Lt){return Lt*Vn}):null),Ve.setZIndex(bt))}let vt=!1,It=null,Yt=0,Ut,on,Hn;if((be==1||be==2)&&"icon-image"in ke){const Vn=Mr(We,"layout","icon-image",Ce,z,Fe);if(Vn){Ut=typeof Vn=="string"?iM(Vn,ge):Vn.toString();let Lt;const De=a?a(n,Ut):void 0,de=Mk(Ut,p);if(r&&r[Ut]&&de||De){const oe=Mr(We,"layout","icon-rotation-alignment",Ce,z,Fe);if(be==2){const le=V.getGeometry();if(le.getFlatMidpoint||le.getFlatMidpoints){const me=le.getExtent();if(Math.sqrt(Math.max(Math.pow((me[2]-me[0])/J,2),Math.pow((me[3]-me[1])/J,2)))>150){const Qe=le.getType()==="MultiLineString"?le.getFlatMidpoints():le.getFlatMidpoint();if(nM||(Kx=[NaN,NaN],nM=new qh("Point",Kx,[],2,{},void 0)),Lt=nM,Kx[0]=Qe[0],Kx[1]=Qe[1],Mr(We,"layout","symbol-placement",Ce,z,Fe)==="line"&&oe==="map"){const He=le.getStride(),Re=le.getFlatCoordinates();for(let Ze=0,y=Re.length-He;Ze<y;Ze+=He){const yt=Re[Ze],dt=Re[Ze+1],kt=Re[Ze+He],rt=Re[Ze+He+1],tn=Math.min(yt,kt),Rn=Math.max(yt,kt),wn=Qe[0],ri=Qe[1],Qn=(rt-dt)*(wn-yt)-(kt-yt)*(ri-dt);if(Math.abs(Qn)<.001&&wn<=Rn&&wn>=tn){Yt=Math.atan2(dt-rt,kt-yt);break}}}}}}if(be!==2||Lt){const le=Mr(We,"layout","icon-size",Ce,z,Fe),me=Et["icon-color"]!==void 0?Mr(We,"paint","icon-color",Ce,z,Fe):null;if(!me||me.a!==0){const Ie=Mr(We,"paint","icon-halo-color",Ce,z,Fe),Qe=Mr(We,"paint","icon-halo-width",Ce,z,Fe);let At=`${Ut}.${le}.${Qe}.${Ie}`;if(me!==null&&(At+=`.${me}`),on=O[At],!on){const He=xk(We,Ce,"icon",z);let Re;"icon-offset"in ke&&(Re=Mr(We,"layout","icon-offset",Ce,z,Fe).slice(0),Re[0]*=le,Re[1]*=-le);let Ze=me?[me.r*255,me.g*255,me.b*255,me.a]:void 0;if(De){const y={color:Ze,rotateWithView:oe==="map",displacement:Re,declutterMode:He,scale:le};typeof De=="string"?y.src=De:(y.img=De,y.imgSize=[De.width,De.height]),on=new uC(y)}else{const y=r[Ut];let yt,dt,kt;if(Qe)y.sdf?(yt=Ck(_k(de.image,y,me||[0,0,0,1]),{x:0,y:0,width:y.width,height:y.height,pixelRatio:y.pixelRatio},Qe,Ie),Ze=void 0):yt=Ck(de.image,y,Qe,Ie);else{if(y.sdf&&!de.unSDFed){const rt=_k(de.image,{x:0,y:0,width:de.size[0],height:de.size[1]},{r:1,g:1,b:1});de.image=rt,de.unSDFed=!0}yt=de.image,dt=[y.width,y.height],kt=[y.x,y.y]}on=new uC({color:Ze,img:yt,imgSize:de.size,size:dt,offset:kt,rotateWithView:oe==="map",scale:le/y.pixelRatio,displacement:Re,declutterMode:He})}O[At]=on}}on&&(++ot,Ve=re[ot],(!Ve||!Ve.getImage()||Ve.getFill()||Ve.getStroke())&&(Ve=new Rf,re[ot]=Ve),Ve.setGeometry(Lt),on.setRotation(Yt+eM(Mr(We,"layout","icon-rotate",Ce,z,Fe))),on.setOpacity(Mr(We,"paint","icon-opacity",Ce,z,Fe)),on.setAnchor(coe[Mr(We,"layout","icon-anchor",Ce,z,Fe)]),Ve.setImage(on),It=Ve.getText(),Ve.setText(void 0),Ve.setZIndex(bt),vt=!0,Hn=!1)}else Hn=!0}}}if(be==1&&We.type==="circle"){++ot,Ve=re[ot],(!Ve||!Ve.getImage()||Ve.getFill()||Ve.getStroke())&&(Ve=new Rf,re[ot]=Ve);const Vn="circle-radius"in Et?Mr(We,"paint","circle-radius",Ce,z,Fe):5,Lt=Kg(Mr(We,"paint","circle-stroke-color",Ce,z,Fe),Mr(We,"paint","circle-stroke-opacity",Ce,z,Fe)),De=Mr(We,"paint","circle-translate",Ce,z,Fe),de=Kg(Mr(We,"paint","circle-color",Ce,z,Fe),Mr(We,"paint","circle-opacity",Ce,z,Fe)),oe=Mr(We,"paint","circle-stroke-width",Ce,z,Fe),le=Vn+"."+Lt+"."+de+"."+oe+"."+De[0]+"."+De[1];on=O[le],on||(on=new ex({radius:Vn,displacement:[De[0],-De[1]],stroke:Lt&&oe>0?new qg({width:oe,color:Lt}):void 0,fill:de?new V0({color:de}):void 0,declutterMode:"none"}),O[le]=on),Ve.setImage(on),It=Ve.getText(),Ve.setText(void 0),Ve.setGeometry(void 0),Ve.setZIndex(bt),vt=!0}let Wt,Gn,On,Bn,Tn,Oi;if("text-field"in ke){Bn=Math.round(Mr(We,"layout","text-size",Ce,z,Fe));const Vn=Mr(We,"layout","text-font",Ce,z,Fe);On=Mr(We,"layout","text-line-height",Ce,z,Fe),Gn=jB(s?s(Vn,e.metadata?e.metadata["ol:webfonts"]:void 0):Vn,Bn,On),Gn.includes("sans-serif")||(Gn+=",sans-serif"),Tn=Mr(We,"layout","text-letter-spacing",Ce,z,Fe),Oi=Mr(We,"layout","text-max-width",Ce,z,Fe);const Lt=Mr(We,"layout","text-field",Ce,z,Fe);typeof Lt=="object"&&Lt.sections?Lt.sections.length===1?Wt=Lt.toString():Wt=Lt.sections.reduce((De,de,oe)=>{const le=de.fontStack?de.fontStack.split(","):Vn,me=jB(s?s(le):le,Bn*(de.scale||1),On);let Ie=de.text;if(Ie===`
`)return De.push(`
`,""),De;if(be==2)return De.push(uO(Ie,Tn),me),De;Ie=AO(Ie,me,Oi,Tn).split(`
`);for(let Qe=0,At=Ie.length;Qe<At;++Qe)Qe>0&&De.push(`
`,""),De.push(Ie[Qe],me);return De},[]):Wt=iM(Lt,ge).trim(),Kt=Mr(We,"paint","text-opacity",Ce,z,Fe)}if(Wt&&Kt&&!Hn){vt||(++ot,Ve=re[ot],(!Ve||!Ve.getText()||Ve.getFill()||Ve.getStroke())&&(Ve=new Rf,re[ot]=Ve),Ve.setImage(void 0),Ve.setGeometry(void 0));const Vn=xk(We,Ce,"text",z);Ve.getText()||Ve.setText(It),It=Ve.getText(),(!It||"getDeclutterMode"in It&&It.getDeclutterMode()!==Vn)&&(It=new s4({padding:[2,2,2,2],declutterMode:Vn}),Ve.setText(It));const Lt=Mr(We,"layout","text-transform",Ce,z,Fe);Lt=="uppercase"?Wt=Array.isArray(Wt)?Wt.map((kt,rt)=>rt%2?kt:kt.toUpperCase()):Wt.toUpperCase():Lt=="lowercase"&&(Wt=Array.isArray(Wt)?Wt.map((kt,rt)=>rt%2?kt:kt.toLowerCase()):Wt.toLowerCase());const De=Array.isArray(Wt)?Wt:be==2?uO(Wt,Tn):AO(Wt,Gn,Oi,Tn);if(It.setText(De),It.setFont(Gn),It.setRotation(eM(Mr(We,"layout","text-rotate",Ce,z,Fe))),typeof It.setKeepUpright=="function"){const kt=Mr(We,"layout","text-keep-upright",Ce,z,Fe);It.setKeepUpright(kt)}const de=Mr(We,"layout","text-anchor",Ce,z,Fe),oe=vt||be==1?"point":Mr(We,"layout","symbol-placement",Ce,z,Fe);let le;if(oe==="line-center"?(It.setPlacement("line"),le="center"):It.setPlacement(oe),oe==="line"&&typeof It.setRepeat=="function"){const kt=Mr(We,"layout","symbol-spacing",Ce,z,Fe);It.setRepeat(kt*2)}It.setOverflow(oe==="point");let me=Mr(We,"paint","text-halo-width",Ce,z,Fe);const Ie=Mr(We,"layout","text-offset",Ce,z,Fe),Qe=Mr(We,"paint","text-translate",Ce,z,Fe);let At=0,He=0;if(oe=="point"){le="center",de.indexOf("left")!==-1?(le="left",He=me):de.indexOf("right")!==-1&&(le="right",He=-me);const kt=Mr(We,"layout","text-rotation-alignment",Ce,z,Fe);It.setRotateWithView(kt=="map")}else It.setMaxAngle(eM(Mr(We,"layout","text-max-angle",Ce,z,Fe))*Wt.length/De.length),It.setRotateWithView(!1);It.setTextAlign(le);let Re="middle";de.indexOf("bottom")==0?(Re="bottom",At=-me-.5*(On-1)*Bn):de.indexOf("top")==0&&(Re="top",At=me+.5*(On-1)*Bn),It.setTextBaseline(Re);const Ze=Mr(We,"layout","text-justify",Ce,z,Fe);It.setJustify(Ze==="auto"?void 0:Ze),It.setOffsetX(Ie[0]*Bn+He+Qe[0]),It.setOffsetY(Ie[1]*Bn+At+Qe[1]),X.setColor(Kg(Mr(We,"paint","text-color",Ce,z,Fe),Kt)),It.setFill(X);const y=Kg(Mr(We,"paint","text-halo-color",Ce,z,Fe),Kt);if(y&&me>0){$.setColor(y),me*=2;const kt=.5*Bn;$.setWidth(me<=kt?me:kt),It.setStroke($)}else It.setStroke(void 0);const yt=Mr(We,"layout","text-padding",Ce,z,Fe),dt=It.getPadding();yt!==dt[0]&&(dt[0]=yt,dt[1]=yt,dt[2]=yt,dt[3]=yt),Ve.setZIndex(bt)}}}if(ot>-1)return re.length=ot+1,re};return n.setStyle(ne),n.set("mapbox-layers",E),n.set("mapbox-source",Q),n.set("mapbox-featurestate",n.get("mapbox-featurestate")||{}),ne}class qN{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=c4,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?Zs(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=Zs(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return _o()}readFeature(e,t){return _o()}readFeatures(e,t){return _o()}readGeometry(e,t){return _o()}readProjection(e){return _o()}writeFeature(e,t){return _o()}writeFeatures(e,t){return _o()}writeGeometry(e,t){return _o()}}function d4(n,e,t){const i=t?Zs(t.featureProjection):null,r=t?Zs(t.dataProjection):null;let o=n;if(i&&r&&!n1(i,r)){e&&(o=n.clone());const s=e?i:r,a=e?r:i;s.getUnits()==="tile-pixels"?o.transform(s,a):o.applyTransform(sb(s,a))}if(e&&t&&t.decimals!==void 0){const s=Math.pow(10,t.decimals),a=function(p){for(let g=0,_=p.length;g<_;++g)p[g]=Math.round(p[g]*s)/s;return p};o===n&&(o=n.clone()),o.applyTransform(a)}return o}const goe={Point:hy,LineString:fy,Polygon:ng,MultiPoint:nx,MultiLineString:mb,MultiPolygon:gb};function yoe(n,e,t){return Array.isArray(e[0])?(iN(n,0,e,t)||(n=n.slice(),eO(n,0,e,t)),n):(W8(n,0,e,t)||(n=n.slice(),W3(n,0,e,t)),n)}function HN(n,e){const t=n.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>HN({...n,geometry:o})).flat();const i=t.type==="MultiPolygon"?"Polygon":t.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=t.layout.length;return d4(new qh(i,i==="Polygon"?yoe(t.flatCoordinates,t.ends,r):t.flatCoordinates,t.ends?.flat(),r,n.properties||{},n.id).enableSimplifyTransformed(),!1,e)}function m7(n,e){if(!n)return null;if(Array.isArray(n)){const i=n.map(r=>m7(r,e));return new $3(i)}const t=goe[n.type];return d4(new t(n.flatCoordinates,n.layout||"XY",n.ends),!1,e)}class voe extends qN{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Lx(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Lx(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return _o()}readFeaturesFromObject(e,t){return _o()}readGeometry(e,t){return this.readGeometryFromObject(Lx(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return _o()}readProjection(e){return this.readProjectionFromObject(Lx(e))}readProjectionFromObject(e){return _o()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return _o()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return _o()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return _o()}}function Lx(n){if(typeof n=="string"){const e=JSON.parse(n);return e||null}return n!==null?n:null}class wk extends voe{constructor(e){e=e||{},super(),this.dataProjection=Zs(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Zs(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=g7(i.geometry);if(this.featureClass===qh)return HN({geometry:r,id:i.id,properties:i.properties},t);const o=new c4;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry(m7(r,t)),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){const i=e;let r=null;if(i.type==="FeatureCollection"){const o=e;r=[];const s=o.features;for(let a=0,p=s.length;a<p;++a){const g=this.readFeatureFromObject(s[a],t);g&&r.push(g)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return Coe(e,t)}readProjectionFromObject(e){const t=e.crs;let i;if(t)if(t.type=="name")i=Zs(t.properties.name);else if(t.type==="EPSG")i=Zs("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const o=e.getProperties(),s=e.getGeometry();return s&&(i.geometry=cO(s,t),delete o[e.getGeometryName()]),o1(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let r=0,o=e.length;r<o;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return cO(e,this.adaptOptions(t))}}function g7(n,e){if(!n)return null;let t;switch(n.type){case"Point":{t=boe(n);break}case"LineString":{t=xoe(n);break}case"Polygon":{t=Eoe(n);break}case"MultiPoint":{t=woe(n);break}case"MultiLineString":{t=Moe(n);break}case"MultiPolygon":{t=Soe(n);break}case"GeometryCollection":{t=_oe(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return t}function Coe(n,e){const t=g7(n);return m7(t,e)}function _oe(n,e){return n.geometries.map(function(i){return g7(i)})}function boe(n){const e=n.coordinates;return{type:"Point",flatCoordinates:e,layout:Cy(e.length)}}function xoe(n){const e=n.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:Cy(e[0]?.length||2)}}function Moe(n){const e=n.coordinates,t=e[0]?.[0]?.length||2,i=[],r=$b(i,0,e,t);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:Cy(t)}}function woe(n){const e=n.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Cy(e[0]?.length||2)}}function Soe(n){const e=n.coordinates,t=[],i=e[0]?.[0]?.[0].length||2,r=Zj(t,0,e,i);return{type:"MultiPolygon",flatCoordinates:t,ends:r,layout:Cy(i)}}function Eoe(n){const e=n.coordinates,t=[],i=e[0]?.[0]?.length,r=$b(t,0,e,i);return{type:"Polygon",flatCoordinates:t,ends:r,layout:Cy(i)}}function cO(n,e){n=d4(n,!0,e);const t=n.getType();let i;switch(t){case"Point":{i=Doe(n);break}case"LineString":{i=Ooe(n);break}case"Polygon":{i=Roe(n,e);break}case"MultiPoint":{i=Toe(n);break}case"MultiLineString":{i=Ioe(n);break}case"MultiPolygon":{i=koe(n,e);break}case"GeometryCollection":{i=Boe(n,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function Boe(n,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(i){return cO(i,e)})}}function Ooe(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function Ioe(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function Toe(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function koe(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function Doe(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function Roe(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}const hO=65536*65536,Sk=1/hO,Poe=12,Ek=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),rM=0,Fx=1,ZC=2,zx=5;class Uoe{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,i=this.length){for(;this.pos<i;){const r=this.readVarint(),o=r>>3,s=this.pos;this.type=r&7,e(o,t,this),this.pos===s&&this.skip(r)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*hO;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*hO;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let i,r;return r=t[this.pos++],i=r&127,r<128||(r=t[this.pos++],i|=(r&127)<<7,r<128)||(r=t[this.pos++],i|=(r&127)<<14,r<128)||(r=t[this.pos++],i|=(r&127)<<21,r<128)?i:(r=t[this.pos],i|=(r&15)<<28,Koe(i,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=Poe&&Ek?Ek.decode(this.buf.subarray(t,e)):$oe(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const i=this.readPackedEnd();for(;this.pos<i;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===ZC?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===rM)for(;this.buf[this.pos++]>127;);else if(t===ZC)this.pos=this.readVarint()+this.pos;else if(t===zx)this.pos+=4;else if(t===Fx)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.dataView=new DataView(i.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Sk),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Sk),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){Loe(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=Zoe(this.buf,e,this.pos);const i=this.pos-t;i>=128&&Bk(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let i=0;i<t;i++)this.buf[this.pos++]=e[i]}writeRawMessage(e,t){this.pos++;const i=this.pos;e(t,this);const r=this.pos-i;r>=128&&Bk(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,i){this.writeTag(e,ZC),this.writeRawMessage(t,i)}writePackedVarint(e,t){t.length&&this.writeMessage(e,joe,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,Noe,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,Qoe,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,Goe,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Woe,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,Yoe,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,qoe,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,Hoe,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,Voe,t)}writeBytesField(e,t){this.writeTag(e,ZC),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,zx),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,zx),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,Fx),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,Fx),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,rM),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,rM),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,ZC),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,zx),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,Fx),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Koe(n,e,t){const i=t.buf;let r,o;if(o=i[t.pos++],r=(o&112)>>4,o<128||(o=i[t.pos++],r|=(o&127)<<3,o<128)||(o=i[t.pos++],r|=(o&127)<<10,o<128)||(o=i[t.pos++],r|=(o&127)<<17,o<128)||(o=i[t.pos++],r|=(o&127)<<24,o<128)||(o=i[t.pos++],r|=(o&1)<<31,o<128))return rv(n,r,e);throw new Error("Expected varint not more than 10 bytes")}function rv(n,e,t){return t?e*4294967296+(n>>>0):(e>>>0)*4294967296+(n>>>0)}function Loe(n,e){let t,i;if(n>=0?(t=n%4294967296|0,i=n/4294967296|0):(t=~(-n%4294967296),i=~(-n/4294967296),t^4294967295?t=t+1|0:(t=0,i=i+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Foe(t,i,e),zoe(i,e)}function Foe(n,e,t){t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos]=n&127}function zoe(n,e){const t=(n&7)<<4;e.buf[e.pos++]|=t|((n>>>=3)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127)))))}function Bk(n,e,t){const i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(i);for(let r=t.pos-1;r>=n;r--)t.buf[r+i]=t.buf[r]}function joe(n,e){for(let t=0;t<n.length;t++)e.writeVarint(n[t])}function Noe(n,e){for(let t=0;t<n.length;t++)e.writeSVarint(n[t])}function Goe(n,e){for(let t=0;t<n.length;t++)e.writeFloat(n[t])}function Woe(n,e){for(let t=0;t<n.length;t++)e.writeDouble(n[t])}function Qoe(n,e){for(let t=0;t<n.length;t++)e.writeBoolean(n[t])}function Yoe(n,e){for(let t=0;t<n.length;t++)e.writeFixed32(n[t])}function qoe(n,e){for(let t=0;t<n.length;t++)e.writeSFixed32(n[t])}function Hoe(n,e){for(let t=0;t<n.length;t++)e.writeFixed64(n[t])}function Voe(n,e){for(let t=0;t<n.length;t++)e.writeSFixed64(n[t])}function $oe(n,e,t){let i="",r=e;for(;r<t;){const o=n[r];let s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a>t)break;let p,g,_;a===1?o<128&&(s=o):a===2?(p=n[r+1],(p&192)===128&&(s=(o&31)<<6|p&63,s<=127&&(s=null))):a===3?(p=n[r+1],g=n[r+2],(p&192)===128&&(g&192)===128&&(s=(o&15)<<12|(p&63)<<6|g&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(p=n[r+1],g=n[r+2],_=n[r+3],(p&192)===128&&(g&192)===128&&(_&192)===128&&(s=(o&15)<<18|(p&63)<<12|(g&63)<<6|_&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,i+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),i+=String.fromCharCode(s),r+=a}return i}function Zoe(n,e,t){for(let i=0,r,o;i<e.length;i++){if(r=e.charCodeAt(i),r>55295&&r<57344)if(o)if(r<56320){n[t++]=239,n[t++]=191,n[t++]=189,o=r;continue}else r=o-55296<<10|r-56320|65536,o=null;else{r>56319||i+1===e.length?(n[t++]=239,n[t++]=191,n[t++]=189):o=r;continue}else o&&(n[t++]=239,n[t++]=191,n[t++]=189,o=null);r<128?n[t++]=r:(r<2048?n[t++]=r>>6|192:(r<65536?n[t++]=r>>12|224:(n[t++]=r>>18|240,n[t++]=r>>12&63|128),n[t++]=r>>6&63|128),n[t++]=r&63|128)}return t}class VN extends qN{constructor(e){super(),e=e||{},this.dataProjection=new Z2({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:qh,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,i,r){e.pos=t.geometry;const o=e.readVarint()+e.pos;let s=1,a=0,p=0,g=0,_=0,E=0;for(;e.pos<o;){if(!a){const O=e.readVarint();s=O&7,a=O>>3}if(a--,s===1||s===2)p+=e.readSVarint(),g+=e.readSVarint(),s===1&&_>E&&(r.push(_),E=_),i.push(p,g),_+=2;else if(s===7)_>E&&(i.push(i[E],i[E+1]),_+=2);else throw new Error("Invalid command found in the PBF")}_>E&&(r.push(_),E=_)}createFeature_(e,t,i){const r=t.type;if(r===0)return null;let o;const s=t.properties;let a;this.idProperty_?(a=s[this.idProperty_],delete s[this.idProperty_]):a=t.id,s[this.layerName_]=t.layer.name;const p=[],g=[];this.readRawGeometry_(e,t,p,g);const _=nae(r,g.length);if(this.featureClass===qh)o=new this.featureClass(_,p,g,2,s,a),o.transform(i.dataProjection);else{let E;if(_=="Polygon"){const z=rN(p,g);E=z.length>1?new gb(p,"XY",z):new ng(p,"XY",g)}else E=_==="Point"?new hy(p,"XY"):_==="LineString"?new fy(p,"XY"):_==="MultiPoint"?new nx(p,"XY"):_==="MultiLineString"?new mb(p,"XY",g):null;const O=this.featureClass;o=new O,this.geometryName_&&o.setGeometryName(this.geometryName_);const B=d4(E,!1,i);o.setGeometry(B),a!==void 0&&o.setId(a),o.setProperties(s,!0)}return o}getType(){return"arraybuffer"}readFeatures(e,t){const i=this.layers_;t=this.adaptOptions(t);const r=Zs(t.dataProjection);r.setWorldExtent(t.extent),t.dataProjection=r;const o=new Uoe(e),s=o.readFields(Xoe,{}),a=[];for(const p in s){if(i&&!i.includes(p))continue;const g=s[p],_=g?[0,0,g.extent,g.extent]:null;r.setExtent(_);for(let E=0,O=g.length;E<O;++E){const B=tae(o,g,E),z=this.createFeature_(o,B,t);z!==null&&a.push(z)}}return a}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function Xoe(n,e,t){if(n===3){const i={keys:[],values:[],features:[]},r=t.readVarint()+t.pos;t.readFields(Joe,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function Joe(n,e,t){if(n===15)e.version=t.readVarint();else if(n===1)e.name=t.readString();else if(n===5)e.extent=t.readVarint();else if(n===2)e.features.push(t.pos);else if(n===3)e.keys.push(t.readString());else if(n===4){let i=null;const r=t.readVarint()+t.pos;for(;t.pos<r;)n=t.readVarint()>>3,i=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;e.values.push(i)}}function eae(n,e,t){if(n==1)e.id=t.readVarint();else if(n==2){const i=t.readVarint()+t.pos;for(;t.pos<i;){const r=e.layer.keys[t.readVarint()],o=e.layer.values[t.readVarint()];e.properties[r]=o}}else n==3?e.type=t.readVarint():n==4&&(e.geometry=t.pos)}function tae(n,e,t){n.pos=e.features[t];const i=n.readVarint()+n.pos,r={layer:e,type:0,properties:{}};return n.readFields(eae,r,i),r}function nae(n,e){let t;return n===1?t=e===1?"Point":"MultiPoint":n===2?t=e===1?"LineString":"MultiLineString":n===3&&(t="Polygon"),t}class iae extends A7{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,o=r.resolution,s=this.getLayer().getSource(),a=e.viewHints;let p=e.extent;if(t.extent!==void 0&&(p=ym(p,l0(t.extent,r.projection))),!a[Su.ANIMATING]&&!a[Su.INTERACTING]&&!yy(p))if(s){const g=r.projection,_=s.getImage(p,o,i,g);_&&(this.loadImage(_)?this.image=_:_.getState()===pr.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=uc(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!cy(o,r))return null;const s=this.image.getExtent(),a=this.image.getImage(),p=ds(s),g=Math.floor(a.width*((r[0]-s[0])/p));if(g<0||g>=a.width)return null;const _=cc(s),E=Math.floor(a.height*((s[3]-r[1])/_));return E<0||E>=a.height?null:this.getImageData(a,g,E)}renderFrame(e,t){const i=this.image,r=i.getExtent(),o=i.getResolution(),[s,a]=Array.isArray(o)?o:[o,o],p=i.getPixelRatio(),g=e.layerStatesArray[e.layerIndex],_=e.pixelRatio,E=e.viewState,O=E.center,B=E.resolution,z=_*s/(B*p),N=_*a/(B*p);this.prepareContainer(e,t);const Q=this.context.canvas.width,$=this.context.canvas.height,X=this.getRenderContext(e);let re=!1,ne=!0;if(g.extent){const ge=l0(g.extent,E.projection);ne=gA(ge,e.extent),re=ne&&!s0(ge,e.extent),re&&this.clipUnrotated(X,e,ge)}const V=i.getImage(),J=m0(this.tempTransform,Q/2,$/2,z,N,0,p*(r[0]-O[0])/s,p*(O[1]-r[3])/a);this.renderedResolution=a*_/p;const W=V.width*J[0],he=V.height*J[3];if(this.getLayer().getSource().getInterpolate()||(X.imageSmoothingEnabled=!1),this.preRender(X,e),ne&&W>=.5&&he>=.5){const ge=J[4],ve=J[5],_e=g.opacity;_e!==1&&(X.save(),X.globalAlpha=_e),X.drawImage(V,0,0,+V.width,+V.height,ge,ve,W,he),_e!==1&&X.restore()}return this.postRender(this.context,e),re&&X.restore(),X.imageSmoothingEnabled=!0,this.container}}class rae extends _C{constructor(e){e=e||{},super(e)}}class $N extends rae{constructor(e){super(e)}createRenderer(){return new iae(this)}getData(e){return super.getData(e)}}function dO(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}const oae=new Error("disposed"),aae=[256,256];class Ok extends rx{constructor(e){const t=Ki.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=dO(this.data_);return e?[e.width,e.height]:aae}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Ki.IDLE&&this.state!==Ki.ERROR)return;this.state=Ki.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=Ki.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=Ki.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(oae),this.controller_=null),super.disposeInternal()}}let oM;const Wv=[];function Ik(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function aM(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function sae(){if(oM===void 0){const n=Zu(6,6,Wv);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Ik(n,4,5,4,0),Ik(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;oM=aM(e,0)||aM(e,4)||aM(e,8),Zb(n),Wv.push(n.canvas)}return oM}function fO(n,e,t,i){const r=e4(t,e,n);let o=$B(e,i,t);const s=e.getMetersPerUnit();s!==void 0&&(o*=s);const a=n.getMetersPerUnit();a!==void 0&&(o/=a);const p=n.getExtent();if(!p||cy(p,r)){const g=$B(n,o,r)/o;isFinite(g)&&g>0&&(o/=g)}return o}function lae(n,e,t,i){const r=Gf(t);let o=fO(n,e,r,i);return(!isFinite(o)||o<=0)&&Dj(t,function(s){return o=fO(n,e,s,i),isFinite(o)&&o>0}),o}function ZN(n,e,t,i,r,o,s,a,p,g,_,E,O,B){const z=Zu(Math.round(t*n),Math.round(t*e),Wv);if(E||(z.imageSmoothingEnabled=!1),p.length===0)return z.canvas;z.scale(t,t);function N(V){return Math.round(V*t)/t}z.globalCompositeOperation="lighter";const Q=Kp();p.forEach(function(V,J,W){Tj(Q,V.extent)});let $;const X=t/i,re=(E?1:1+Math.pow(2,-24))/X;(!O||p.length!==1||g!==0)&&($=Zu(Math.round(ds(Q)*X),Math.round(cc(Q)*X),Wv),E||($.imageSmoothingEnabled=!1),p.forEach(function(V,J,W){if(V.image.width>0&&V.image.height>0){if(V.clipExtent){$.save();const Me=(V.clipExtent[0]-Q[0])*X,be=-(V.clipExtent[3]-Q[3])*X,ze=ds(V.clipExtent)*X,Ce=cc(V.clipExtent)*X;$.rect(E?Me:Math.round(Me),E?be:Math.round(be),E?ze:Math.round(Me+ze)-Math.round(Me),E?Ce:Math.round(be+Ce)-Math.round(be)),$.clip()}const he=(V.extent[0]-Q[0])*X,ge=-(V.extent[3]-Q[3])*X,ve=ds(V.extent)*X,_e=cc(V.extent)*X;$.drawImage(V.image,g,g,V.image.width-2*g,V.image.height-2*g,E?he:Math.round(he),E?ge:Math.round(ge),E?ve:Math.round(he+ve)-Math.round(he),E?_e:Math.round(ge+_e)-Math.round(ge)),V.clipExtent&&$.restore()}}));const ne=og(s);return a.getTriangles().forEach(function(V,J,W){const he=V.source,ge=V.target;let ve=he[0][0],_e=he[0][1],Me=he[1][0],be=he[1][1],ze=he[2][0],Ce=he[2][1];const Fe=N((ge[0][0]-ne[0])/o),ot=N(-(ge[0][1]-ne[1])/o),mt=N((ge[1][0]-ne[0])/o),it=N(-(ge[1][1]-ne[1])/o),ue=N((ge[2][0]-ne[0])/o),We=N(-(ge[2][1]-ne[1])/o),tt=ve,ke=_e;ve=0,_e=0,Me-=tt,be-=ke,ze-=tt,Ce-=ke;const Et=[[Me,be,0,0,mt-Fe],[ze,Ce,0,0,ue-Fe],[0,0,Me,be,it-ot],[0,0,ze,Ce,We-ot]],gt=tte(Et);if(!gt)return;if(z.save(),z.beginPath(),sae()||!E){z.moveTo(mt,it);const Kt=4,je=Fe-mt,Ke=ot-it;for(let Ue=0;Ue<Kt;Ue++)z.lineTo(mt+N((Ue+1)*je/Kt),it+N(Ue*Ke/(Kt-1))),Ue!=Kt-1&&z.lineTo(mt+N((Ue+1)*je/Kt),it+N((Ue+1)*Ke/(Kt-1)));z.lineTo(ue,We)}else z.moveTo(mt,it),z.lineTo(Fe,ot),z.lineTo(ue,We);z.clip(),z.transform(gt[0],gt[2],gt[1],gt[3],Fe,ot),z.translate(Q[0]-tt,Q[3]-ke);let xt;if($)xt=$.canvas,z.scale(re,-re);else{const Kt=p[0],je=Kt.extent;xt=Kt.image,z.scale(ds(je)/xt.width,-cc(je)/xt.height)}z.drawImage(xt,0,0),z.restore()}),$&&(Zb($),Wv.push($.canvas)),_&&(z.save(),z.globalCompositeOperation="source-over",z.strokeStyle="black",z.lineWidth=1,a.getTriangles().forEach(function(V,J,W){const he=V.target,ge=(he[0][0]-ne[0])/o,ve=-(he[0][1]-ne[1])/o,_e=(he[1][0]-ne[0])/o,Me=-(he[1][1]-ne[1])/o,be=(he[2][0]-ne[0])/o,ze=-(he[2][1]-ne[1])/o;z.beginPath(),z.moveTo(_e,Me),z.lineTo(ge,ve),z.lineTo(be,ze),z.closePath(),z.stroke()}),z.restore()),z.canvas}const uae=10,Tk=.25;class XN{constructor(e,t,i,r,o,s,a){this.sourceProj_=e,this.targetProj_=t;let p={};const g=a?Gte(re=>uc(a,e4(re,this.targetProj_,this.sourceProj_))):sb(this.targetProj_,this.sourceProj_);this.transformInv_=function(re){const ne=re[0]+"/"+re[1];return p[ne]||(p[ne]=g(re)),p[ne]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ds(r)>=ds(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ds(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ds(this.targetProj_.getExtent()):null;const _=og(i),E=$2(i),O=V2(i),B=H2(i),z=this.transformInv_(_),N=this.transformInv_(E),Q=this.transformInv_(O),$=this.transformInv_(B),X=uae+(s?Math.max(0,Math.ceil(Math.log2(YB(i)/(s*s*256*256)))):0);if(this.addQuad_(_,E,O,B,z,N,Q,$,X),this.wrapsXInSource_){let re=1/0;this.triangles_.forEach(function(ne,V,J){re=Math.min(re,ne.source[0][0],ne.source[1][0],ne.source[2][0])}),this.triangles_.forEach(ne=>{if(Math.max(ne.source[0][0],ne.source[1][0],ne.source[2][0])-re>this.sourceWorldWidth_/2){const V=[[ne.source[0][0],ne.source[0][1]],[ne.source[1][0],ne.source[1][1]],[ne.source[2][0],ne.source[2][1]]];V[0][0]-re>this.sourceWorldWidth_/2&&(V[0][0]-=this.sourceWorldWidth_),V[1][0]-re>this.sourceWorldWidth_/2&&(V[1][0]-=this.sourceWorldWidth_),V[2][0]-re>this.sourceWorldWidth_/2&&(V[2][0]-=this.sourceWorldWidth_);const J=Math.min(V[0][0],V[1][0],V[2][0]);Math.max(V[0][0],V[1][0],V[2][0])-J<this.sourceWorldWidth_/2&&(ne.source=V)}})}p={}}addTriangle_(e,t,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[e,t,i]})}addQuad_(e,t,i,r,o,s,a,p,g){const _=WB([o,s,a,p]),E=this.sourceWorldWidth_?ds(_)/this.sourceWorldWidth_:null,O=this.sourceWorldWidth_,B=this.sourceProj_.canWrapX()&&E>.5&&E<1;let z=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const Q=WB([e,t,i,r]);z=ds(Q)/this.targetWorldWidth_>Tk||z}!B&&this.sourceProj_.isGlobal()&&E&&(z=E>Tk||z)}if(!z&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!gA(_,this.maxSourceExtent_))return;let N=0;if(!z&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(p[0])||!isFinite(p[1]))){if(g>0)z=!0;else if(N=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(p[0])||!isFinite(p[1])?1:0),N!=1&&N!=2&&N!=4&&N!=8)return}if(g>0){if(!z){const Q=[(e[0]+i[0])/2,(e[1]+i[1])/2],$=this.transformInv_(Q);let X;B?X=(ry(o[0],O)+ry(a[0],O))/2-ry($[0],O):X=(o[0]+a[0])/2-$[0];const re=(o[1]+a[1])/2-$[1];z=X*X+re*re>this.errorThresholdSquared_}if(z){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const Q=[(t[0]+i[0])/2,(t[1]+i[1])/2],$=this.transformInv_(Q),X=[(r[0]+e[0])/2,(r[1]+e[1])/2],re=this.transformInv_(X);this.addQuad_(e,t,Q,X,o,s,$,re,g-1),this.addQuad_(X,Q,i,r,re,$,a,p,g-1)}else{const Q=[(e[0]+t[0])/2,(e[1]+t[1])/2],$=this.transformInv_(Q),X=[(i[0]+r[0])/2,(i[1]+r[1])/2],re=this.transformInv_(X);this.addQuad_(e,Q,X,r,o,$,re,p,g-1),this.addQuad_(Q,t,i,X,$,s,a,re,g-1)}return}}if(B){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(N&11)==0&&this.addTriangle_(e,i,r,o,a,p),(N&14)==0&&this.addTriangle_(e,i,t,o,a,s),N&&((N&13)==0&&this.addTriangle_(t,r,e,s,p,o),(N&7)==0&&this.addTriangle_(t,r,i,s,p,a))}calculateSourceExtent(){const e=Kp();return this.triangles_.forEach(function(t,i,r){const o=t.source;D_(e,o[0]),D_(e,o[1]),D_(e,o[2])}),e}getTriangles(){return this.triangles_}}const JN=.5;class eG extends rx{constructor(e,t,i,r,o,s,a,p,g,_,E,O){super(o,Ki.IDLE,O),this.renderEdges_=E!==void 0?E:!1,this.pixelRatio_=a,this.gutter_=p,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const B=r.getTileCoordExtent(this.wrappedTileCoord_),z=this.targetTileGrid_.getExtent();let N=this.sourceTileGrid_.getExtent();const Q=z?ym(B,z):B;if(YB(Q)===0){this.state=Ki.EMPTY;return}const $=e.getExtent();$&&(N?N=ym(N,$):N=$);const X=r.getResolution(this.wrappedTileCoord_[0]),re=lae(e,i,Q,X);if(!isFinite(re)||re<=0){this.state=Ki.EMPTY;return}const ne=_!==void 0?_:JN;if(this.triangulation_=new XN(e,i,Q,N,re*ne,X),this.triangulation_.getTriangles().length===0){this.state=Ki.EMPTY;return}this.sourceZ_=t.getZForResolution(re);let V=this.triangulation_.calculateSourceExtent();if(N&&(e.canWrapX()?(V[1]=$u(V[1],N[1],N[3]),V[3]=$u(V[3],N[1],N[3])):V=ym(V,N)),!YB(V))this.state=Ki.EMPTY;else{let J=0,W=0;e.canWrapX()&&(J=ds($),W=Math.floor((V[0]-$[0])/J)),Uj(V.slice(),e,!0).forEach(ge=>{const ve=t.getTileRangeForExtentAndZ(ge,this.sourceZ_);for(let _e=ve.minX;_e<=ve.maxX;_e++)for(let Me=ve.minY;Me<=ve.maxY;Me++){const be=g(this.sourceZ_,_e,Me,a);if(be){const ze=W*J;this.sourceTiles_.push({tile:be,offset:ze})}}++W}),this.sourceTiles_.length===0&&(this.state=Ki.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const i=t.tile;if(i&&i.getState()==Ki.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const o=this.clipExtent_?.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Ki.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),p=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ZN(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,p,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ki.LOADED}this.changed()}load(){if(this.state==Ki.IDLE){this.state=Ki.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==Ki.IDLE||i==Ki.LOADING){e++;const r=ns(t,mo.CHANGE,o=>{const s=t.getState();(s==Ki.LOADED||s==Ki.ERROR||s==Ki.EMPTY)&&(Dl(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==Ki.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Dl),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Zb(this.canvas_.getContext("2d")),Wv.push(this.canvas_),this.canvas_=null),super.release()}}class Aae{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Wb&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Os(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Os(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Os(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function n2(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function cae(n,e,t){return n+"/"+e+"/"+t}function hae(n){return dae(n[0],n[1],n[2])}function dae(n,e,t){return(e<<n)+t}function fae(n,e){const t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const o=e.getFullTileRange(t);return o?o.containsXY(i,r):!0}function sM(n,e,t,i,r){return`${Do(n)},${e},${cae(t,i,r)}`}function lM(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;const i=n[t],r=i.has(e);return r||i.add(e),!r}function pae(n,e,t){const i=n[t];return i?i.delete(e):!1}function kk(n,e){const t=n.layerStatesArray[n.layerIndex];t.extent&&(e=ym(e,l0(t.extent,n.viewState.projection)));const i=t.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=ym(e,r))}return e}class tG extends A7{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Kp(),this.tempTileRange_=new h7(0,0,0,0),this.tempTileCoord_=n2(0,0,0);const i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new Aae(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){const o=this.tileCache_,a=this.getLayer().getSource(),p=sM(a,a.getKey(),e,t,i);let g;if(o.containsKey(p))g=o.get(p);else{if(g=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!g)return null;o.set(p,g)}return g}getTile(e,t,i,r){const o=this.getOrCreateTile(e,t,i,r);return o||null}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=uc(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!cy(o,r))return null;const s=t.viewState,a=i.getRenderSource(),p=a.getTileGridForProjection(s.projection),g=a.getTilePixelRatio(t.pixelRatio);for(let _=p.getZForResolution(s.resolution);_>=p.getMinZoom();--_){const E=p.getTileCoordForCoordAndZ(r,_),O=this.getTile(_,E[1],E[2],t);if(!O||O.getState()!==Ki.LOADED)continue;const B=p.getOrigin(_),z=Hh(p.getTileSize(_)),N=p.getResolution(_);let Q;if(O instanceof zN||O instanceof eG)Q=O.getImage();else if(O instanceof Ok){if(Q=dO(O.getData()),!Q)continue}else continue;const $=Math.floor(g*((r[0]-B[0])/N-E[1]*z[0])),X=Math.floor(g*((B[1]-r[1])/N-E[2]*z[1])),re=Math.round(g*a.getGutterForProjection(s.projection));return this.getImageData(Q,$+re,X+re)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const i=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==i&&(this.renderedSourceRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=i,!0}enqueueTiles(e,t,i,r,o){const s=e.viewState,a=this.getLayer(),p=a.getRenderSource(),g=p.getTileGridForProjection(s.projection),_=Do(p);_ in e.wantedTiles||(e.wantedTiles[_]={});const E=e.wantedTiles[_],O=a.getMapInternal(),B=Math.max(i-o,g.getMinZoom(),g.getZForResolution(Math.min(a.getMaxResolution(),O?O.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):g.getResolution(0)),p.zDirection)),z=s.rotation,N=z?Rj(s.center,s.resolution,z,e.size):void 0;for(let Q=i;Q>=B;--Q){const $=g.getTileRangeForExtentAndZ(t,Q,this.tempTileRange_),X=g.getResolution(Q);for(let re=$.minX;re<=$.maxX;++re)for(let ne=$.minY;ne<=$.maxY;++ne){if(z&&!g.tileCoordIntersectsViewport([Q,re,ne],N))continue;const V=this.getTile(Q,re,ne,e);if(!V||!lM(r,V,Q))continue;const W=V.getKey();if(E[W]=!0,V.getState()===Ki.IDLE&&!e.tileQueue.isKeyQueued(W)){const he=n2(Q,re,ne,this.tempTileCoord_);e.tileQueue.enqueue([V,_,g.getTileCoordCenter(he),X])}}}}findStaleTile_(e,t){const i=this.tileCache_,r=e[0],o=e[1],s=e[2],a=this.getStaleKeys();for(let p=0;p<a.length;++p){const g=sM(this.getLayer().getSource(),a[p],r,o,s);if(i.containsKey(g)){const _=i.peek(g);if(_.getState()===Ki.LOADED)return _.endTransition(Do(this)),lM(t,_,r),!0}}return!1}findAltTiles_(e,t,i,r){const o=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!o)return!1;let s=!0;const a=this.tileCache_,p=this.getLayer().getRenderSource(),g=p.getKey();for(let _=o.minX;_<=o.maxX;++_)for(let E=o.minY;E<=o.maxY;++E){const O=sM(p,g,i,_,E);let B=!1;if(a.containsKey(O)){const z=a.peek(O);z.getState()===Ki.LOADED&&(lM(r,z,i),B=!0)}B||(s=!1)}return s}renderFrame(e,t){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,s=r.resolution,a=r.center,p=e.pixelRatio,g=this.getLayer(),_=g.getSource(),E=_.getTileGridForProjection(o),O=E.getZForResolution(s,_.zDirection),B=E.getResolution(O),z=_.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==z&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=z):this.renderedSourceKey_=z;let N=e.extent;const Q=_.getTilePixelRatio(p);this.prepareContainer(e,t);const $=this.context.canvas.width,X=this.context.canvas.height,re=i.extent&&l0(i.extent);re&&(N=ym(N,l0(i.extent)));const ne=B*$/2/Q,V=B*X/2/Q,J=[a[0]-ne,a[1]-V,a[0]+ne,a[1]+V],W={};this.renderedTiles.length=0;const he=g.getPreload();if(e.nextExtent){const mt=E.getZForResolution(r.nextResolution,_.zDirection),it=kk(e,e.nextExtent);this.enqueueTiles(e,it,mt,W,he)}const ge=kk(e,N);if(this.enqueueTiles(e,ge,O,W,0),he>0&&setTimeout(()=>{this.enqueueTiles(e,ge,O-1,W,he-1)},0),!(O in W))return this.container;const ve=Do(this),_e=e.time;for(const mt of W[O]){const it=mt.getState();if(it===Ki.EMPTY)continue;const ue=mt.tileCoord;if(it===Ki.LOADED&&mt.getAlpha(ve,_e)===1){mt.endTransition(ve);continue}if(it!==Ki.ERROR&&(this.renderComplete=!1),this.findStaleTile_(ue,W)){pae(W,mt,O),e.animate=!0;continue}if(this.findAltTiles_(E,ue,O+1,W))continue;const ke=E.getMinZoom();for(let Et=O-1;Et>=ke&&!this.findAltTiles_(E,ue,Et,W);--Et);}const Me=B/s*p/Q,be=this.getRenderContext(e);m0(this.tempTransform,$/2,X/2,Me,Me,0,-$/2,-X/2),i.extent&&this.clipUnrotated(be,e,re),_.getInterpolate()||(be.imageSmoothingEnabled=!1),this.preRender(be,e);const ze=Object.keys(W).map(Number);ze.sort(d0);let Ce;const Fe=[],ot=[];for(let mt=ze.length-1;mt>=0;--mt){const it=ze[mt],ue=_.getTilePixelSize(it,p,o),tt=E.getResolution(it)/B,ke=ue[0]*tt*Me,Et=ue[1]*tt*Me,gt=E.getTileCoordForCoordAndZ(og(J),it),xt=E.getTileCoordExtent(gt),Kt=uc(this.tempTransform,[Q*(xt[0]-J[0])/B,Q*(J[3]-xt[3])/B]),je=Q*_.getGutterForProjection(o);for(const Ke of W[it]){if(Ke.getState()!==Ki.LOADED)continue;const Ue=Ke.tileCoord,Ve=gt[1]-Ue[1],bt=Math.round(Kt[0]-(Ve-1)*ke),vt=gt[2]-Ue[2],It=Math.round(Kt[1]-(vt-1)*Et),Yt=Math.round(Kt[0]-Ve*ke),Ut=Math.round(Kt[1]-vt*Et),on=bt-Yt,Hn=It-Ut,Wt=ze.length===1;let Gn=!1;Ce=[Yt,Ut,Yt+on,Ut,Yt+on,Ut+Hn,Yt,Ut+Hn];for(let On=0,Bn=Fe.length;On<Bn;++On)if(!Wt&&it<ot[On]){const Tn=Fe[On];gA([Yt,Ut,Yt+on,Ut+Hn],[Tn[0],Tn[3],Tn[4],Tn[7]])&&(Gn||(be.save(),Gn=!0),be.beginPath(),be.moveTo(Ce[0],Ce[1]),be.lineTo(Ce[2],Ce[3]),be.lineTo(Ce[4],Ce[5]),be.lineTo(Ce[6],Ce[7]),be.moveTo(Tn[6],Tn[7]),be.lineTo(Tn[4],Tn[5]),be.lineTo(Tn[2],Tn[3]),be.lineTo(Tn[0],Tn[1]),be.clip())}Fe.push(Ce),ot.push(it),this.drawTile(Ke,e,Yt,Ut,on,Hn,je,Wt),Gn&&be.restore(),this.renderedTiles.unshift(Ke),this.updateUsedTiles(e.usedTiles,_,Ke)}}if(this.renderedResolution=B,this.extentChanged=!this.renderedExtent_||!tg(this.renderedExtent_,J),this.renderedExtent_=J,this.renderedPixelRatio=p,this.postRender(this.context,e),i.extent&&be.restore(),be.imageSmoothingEnabled=!0,this.renderComplete){const mt=(it,ue)=>{const We=Do(_),tt=ue.wantedTiles[We],ke=tt?Object.keys(tt).length:0;this.updateCacheSize(ke),this.tileCache_.expireCache()};e.postRenderFunctions.push(mt)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,o,s,a,p){let g;if(e instanceof Ok){if(g=dO(e.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(e);if(!g)return;const _=this.getRenderContext(t),E=Do(this),O=t.layerStatesArray[t.layerIndex],B=O.opacity*(p?e.getAlpha(E,t.time):1),z=B!==_.globalAlpha;z&&(_.save(),_.globalAlpha=B),_.drawImage(g,a,a,g.width-2*a,g.height-2*a,i,r,o,s),z&&_.restore(),B!==O.opacity?t.animate=!0:p&&e.endTransition(E)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){const r=Do(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}}const Vg={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class mae extends _C{constructor(e){e=e||{};const t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Vg.PRELOAD)}setPreload(e){this.set(Vg.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Vg.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Vg.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class nG extends mae{constructor(e){super(e)}createRenderer(){return new tG(this,{cacheSize:this.getCacheSize()})}}const gae={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Dk={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class yae extends tG{constructor(e,t){super(e,t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=rf(),this.tileClipContexts_=null}drawTile(e,t,i,r,o,s,a,p){this.updateExecutorGroup_(e,t.pixelRatio,t.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super.drawTile(e,t,i,r,o,s,a,p)}getTile(e,t,i,r){const o=this.getOrCreateTile(e,t,i,r);if(!o)return null;const a=r.viewState.resolution,p=r.viewHints;return(!(p[Su.ANIMATING]||p[Su.INTERACTING])||!o.wantedResolution)&&(o.wantedResolution=a),o}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,i){const r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=e.wantedResolution,p=e.getReplayState(r);if(!p.dirty&&p.renderedResolution===a&&p.renderedRevision==o&&p.renderedRenderOrder==s)return;const g=r.getSource(),_=!!r.getDeclutter(),E=g.getTileGrid(),B=g.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),z=g.getSourceTiles(t,i,e),N=Do(r);delete e.hitDetectionImageData[N],e.executorGroups[N]=[],p.dirty=!1;for(let Q=0,$=z.length;Q<$;++Q){const X=z[Q];if(X.getState()!=Ki.LOADED)continue;const re=X.tileCoord,ne=E.getTileCoordExtent(re),V=ym(B,ne),J=t1(V,r.getRenderBuffer()*a,this.tempExtent),W=tg(ne,V)?null:J,he=new UN(0,V,a,t),ge=lO(a,t),ve=function(Ce,Fe){let ot;const mt=Ce.getStyleFunction()||r.getStyleFunction();if(mt&&(ot=mt(Ce,a)),ot){const it=this.renderFeature(Ce,ge,ot,he,_,Fe);p.dirty=p.dirty||it}},_e=X.getFeatures();s&&s!==p.renderedRenderOrder&&_e.sort(s);for(let Ce=0,Fe=_e.length;Ce<Fe;++Ce){const ot=_e[Ce];(!W||gA(W,ot.getGeometry().getExtent()))&&ve.call(this,ot,Ce)}const Me=he.finish(),be=r.getRenderMode()!=="vector"&&_&&z.length===1?null:V,ze=new KN(be,a,t,g.getOverlaps(),Me,r.getRenderBuffer(),!0);e.executorGroups[N].push(ze)}p.renderedRevision=o,p.renderedRenderOrder=s,p.renderedResolution=a}forEachFeatureAtCoordinate(e,t,i,r,o){const s=t.viewState.resolution,a=t.viewState.rotation;i=i??0;const p=this.getLayer(),_=p.getSource().getTileGridForProjection(t.viewState.projection),E=WB([e]);t1(E,s*i,E);const O={},B=function(re,ne,V){let J=re.getId();J===void 0&&(J=Do(re));const W=O[J];if(W){if(W!==!0&&V<W.distanceSq){if(V===0)return O[J]=!0,o.splice(o.lastIndexOf(W),1),r(re,p,ne);W.geometry=ne,W.distanceSq=V}}else{if(V===0)return O[J]=!0,r(re,p,ne);o.push(O[J]={feature:re,layer:p,geometry:ne,distanceSq:V,callback:r})}},z=this.renderedTiles,N=Do(p),Q=p.getDeclutter(),$=Q?t.declutter?.[Q]?.all().map(re=>re.value):null;let X;e:for(let re=0,ne=z.length;re<ne;++re){const V=z[re],J=_.getTileCoordExtent(V.wrappedTileCoord);if(!gA(J,E))continue;const W=V.executorGroups[N];for(let he=0,ge=W.length;he<ge;++he)if(X=W[he].forEachFeatureAtCoordinate(e,s,a,i,B,$),X)break e}return X}getFeatures(e){return this.renderedTiles.length===0?Promise.resolve([]):new Promise((t,i)=>{const r=this.getLayer(),o=r.getSource(),s=this.renderedProjection,a=s.getExtent(),p=this.renderedResolution,g=o.getTileGridForProjection(s),_=uc(this.renderedPixelToCoordinateTransform_,e.slice()),E=g.getTileCoordForCoordAndResolution(_,p).toString(),O=this.renderedTiles.find(re=>re.tileCoord.toString()===E&&re.getState()===Ki.LOADED);if(!O||O.loadingSourceTiles>0){t([]);return}o.getWrapX()&&s.canWrapX()&&!s0(a,g.getTileCoordExtent(O.tileCoord))&&B8(_,s);const B=Do(r),z=g.getTileCoordExtent(O.wrappedTileCoord),N=og(z),Q=[(_[0]-N[0])/p,(N[1]-_[1])/p],$=O.getSourceTiles().reduce((re,ne)=>re.concat(ne.getFeatures()),[]);let X=O.hitDetectionImageData[B];if(!X){const re=Hh(g.getTileSize(g.getZForResolution(p,o.zDirection))),ne=this.renderedRotation_,V=[this.getRenderTransform(g.getTileCoordCenter(O.wrappedTileCoord),p,0,Lf,re[0]*Lf,re[1]*Lf,0)];X=LN(re,V,$,r.getStyleFunction(),g.getTileCoordExtent(O.wrappedTileCoord),O.getReplayState(r).renderedResolution,ne),O.hitDetectionImageData[B]=X}t(FN(Q,$,X))})}getFeaturesInExtent(e){const t=[],i=this.getTileCache();if(i.getCount()===0)return t;const o=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),s=o.getZForResolution(this.renderedResolution),a={};return i.forEach(p=>{if(p.tileCoord[0]!==s||p.getState()!==Ki.LOADED)return;const g=p.getSourceTiles();for(let _=0,E=g.length;_<E;++_){const O=g[_],B=O.getKey();if(B in a)continue;a[B]=!0;const z=O.tileCoord;if(gA(e,o.getTileCoordExtent(z))){const N=O.getFeatures();if(N)for(let Q=0,$=N.length;Q<$;++Q){const X=N[Q],re=X.getGeometry();gA(e,re.getExtent())&&t.push(X)}}}}),t}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const i=this.context,r=i.globalAlpha;i.globalAlpha=t.opacity;const o=e.viewHints,s=!(o[Su.ANIMATING]||o[Su.INTERACTING]),a=[this.context.canvas.width,this.context.canvas.height],p=this.getLayer().getDeclutter(),g=p?e.declutter?.[p]:void 0,_=Do(this.getLayer()),E=this.renderedTiles;for(let O=0,B=E.length;O<B;++O){const z=E[O],N=z.executorGroups[_];if(N)for(let Q=N.length-1;Q>=0;--Q)N[Q].execute(this.context,a,this.getTileRenderTransform(z,e),e.viewState.rotation,s,J3,g)}i.globalAlpha=r}renderDeferredInternal(e){const t=this.renderedTiles,i=Do(this.getLayer()),r=t.reduce((p,g,_)=>(g.executorGroups[i].forEach(E=>p.push({executorGroup:E,index:_})),p),[]),o=r.map(({executorGroup:p})=>p.getDeferredZIndexContexts()),s={};for(let p=0,g=r.length;p<g;++p){const _=r[p].executorGroup.getDeferredZIndexContexts();for(const E in _)s[E]=!0}Object.keys(s).map(Number).sort(d0).forEach(p=>{o.forEach((g,_)=>{g[p]&&(g[p].forEach(E=>{const{executorGroup:O,index:B}=r[_],z=O.getRenderedContext(),N=z.globalAlpha;z.globalAlpha=this.renderedOpacity_;const Q=this.tileClipContexts_[B];Q&&Q.draw(z),E.draw(z),Q&&z.restore(),z.globalAlpha=N,E.clear()}),g[p].length=0)})})}getTileRenderTransform(e,t){const i=t.pixelRatio,r=t.viewState,o=r.center,s=r.resolution,a=r.rotation,p=t.size,g=Math.round(p[0]*i),_=Math.round(p[1]*i),O=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),B=e.tileCoord,z=O.getTileCoordExtent(e.wrappedTileCoord),N=O.getTileCoordExtent(B,this.tempExtent)[0]-z[0];return R8(R5(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(o,s,a,i,g,_,N))}postRender(e,t){const i=t.viewHints,r=!(i[Su.ANIMATING]||i[Su.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation,this.renderedOpacity_=t.layerStatesArray[t.layerIndex].opacity;const o=this.getLayer(),s=o.getRenderMode(),a=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const p=o.getDeclutter(),g=p?Dk[s].filter(V=>!J3.includes(V)):Dk[s],_=t.viewState,E=_.rotation,O=o.getSource(),z=O.getTileGridForProjection(_.projection).getZForResolution(_.resolution,O.zDirection),N=this.renderedTiles,Q=[],$=[],X=[],re=Do(o);let ne=!0;for(let V=N.length-1;V>=0;--V){const J=N[V];ne=ne&&!J.getReplayState(o).dirty;const W=J.executorGroups[re].filter(ze=>ze.hasExecutors(g));if(W.length===0)continue;const he=this.getTileRenderTransform(J,t),ge=J.tileCoord[0];let ve=!1;const _e=W[0].getClipCoords(he);let Me=e,be;if(_e){be=new u7,Me=be.getContext();for(let ze=0,Ce=Q.length;ze<Ce;++ze)if(z!==ge&&ge<$[ze]){const Fe=Q[ze];gA([_e[0],_e[3],_e[4],_e[7]],[Fe[0],Fe[3],Fe[4],Fe[7]])&&(ve||(Me.save(),ve=!0),Me.beginPath(),Me.moveTo(_e[0],_e[1]),Me.lineTo(_e[2],_e[3]),Me.lineTo(_e[4],_e[5]),Me.lineTo(_e[6],_e[7]),Me.moveTo(Fe[6],Fe[7]),Me.lineTo(Fe[4],Fe[5]),Me.lineTo(Fe[2],Fe[3]),Me.lineTo(Fe[0],Fe[1]),Me.clip())}Q.push(_e),$.push(ge)}for(let ze=0,Ce=W.length;ze<Ce;++ze)W[ze].execute(e,[e.canvas.width,e.canvas.height],he,E,r,g,t.declutter?.[p]);ve&&(Me===e?Me.restore():X[V]=be)}e.globalAlpha=a,this.ready=ne,this.tileClipContexts_=X,t.declutter||this.renderDeferredInternal(t),super.postRender(e,t)}renderFeature(e,t,i,r,o,s){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let p=0,g=i.length;p<g;++p)a=Z3(r,e,i[p],t,this.boundHandleStyleImageChange_,void 0,o,s)||a;else a=Z3(r,e,i,t,this.boundHandleStyleImageChange_,void 0,o,s);return a}tileImageNeedsRender_(e){const t=this.getLayer();if(t.getRenderMode()==="vector")return!1;const i=e.getReplayState(t),r=t.getRevision(),o=e.wantedResolution;return i.renderedTileResolution!==o||i.renderedTileRevision!==r}renderTileImage_(e,t){const i=this.getLayer(),r=e.getReplayState(i),o=i.getRevision(),s=e.executorGroups[Do(i)];r.renderedTileRevision=o;const a=e.wrappedTileCoord,p=a[0],g=i.getSource();let _=t.pixelRatio;const O=t.viewState.projection,B=g.getTileGridForProjection(O),z=B.getResolution(e.tileCoord[0]),N=t.pixelRatio/e.wantedResolution*z,Q=B.getResolution(p),$=e.getContext();_=Math.round(Math.max(_,N/_));const X=g.getTilePixelSize(p,_,O);$.canvas.width=X[0],$.canvas.height=X[1];const re=_/N;if(re!==1){const W=DT(this.tmpTransform_);R5(W,re,re),$.setTransform.apply($,W)}const ne=B.getTileCoordExtent(a,this.tempExtent),V=N/Q,J=DT(this.tmpTransform_);R5(J,V,-V),Hte(J,-ne[0],-ne[3]);for(let W=0,he=s.length;W<he;++W)s[W].execute($,[$.canvas.width*re,$.canvas.height*re],J,0,!0,gae[i.getRenderMode()],null);r.renderedTileResolution=e.wantedResolution}}class P_ extends s7{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload;const i=e.cacheSize===void 0?0:e.cacheSize;delete e.cacheSize,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i;const r=e.renderMode||"hybrid";Os(r=="hybrid"||r=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new yae(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Vg.PRELOAD)}getUseInterimTilesOnError(){return this.get(Vg.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Vg.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Vg.USE_INTERIM_TILES_ON_ERROR,e)}}function pO(n){return Array.isArray(n)?Math.min(...n):n}class vae extends r7{constructor(e,t,i,r,o,s,a){let p=e.getExtent();p&&e.canWrapX()&&(p=p.slice(),p[0]=-1/0,p[2]=1/0);let g=t.getExtent();g&&t.canWrapX()&&(g=g.slice(),g[0]=-1/0,g[2]=1/0);const _=g?ym(i,g):i,E=Gf(_),O=fO(e,t,E,r),B=JN,z=new XN(e,t,_,p,O*B,r),N=z.calculateSourceExtent(),Q=yy(N)?null:s(N,O,o),$=Q?pr.IDLE:pr.EMPTY,X=Q?Q.getPixelRatio():1;super(i,r,X,$),this.targetProj_=t,this.maxSourceExtent_=p,this.triangulation_=z,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=Q,this.sourcePixelRatio_=X,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==pr.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==pr.LOADED){const t=ds(this.targetExtent_)/this.targetResolution_,i=cc(this.targetExtent_)/this.targetResolution_;this.canvas_=ZN(t,i,this.sourcePixelRatio_,pO(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==pr.IDLE){this.state=pr.LOADING,this.changed();const e=this.sourceImage_.getState();e==pr.LOADED||e==pr.ERROR?this.reproject_():(this.sourceListenerKey_=ns(this.sourceImage_,mo.CHANGE,t=>{const i=this.sourceImage_.getState();(i==pr.LOADED||i==pr.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Dl(this.sourceListenerKey_),this.sourceListenerKey_=null}}const jx=4,uM={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class Cae extends Mm{constructor(e,t){super(e),this.image=t}}class iG extends bC{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=Q2(t,e,0);e=t[i]}return e}getImage(e,t,i,r){const o=this.getProjection();if(!o||!r||n1(o,r))return o&&(r=o),this.getImageInternal(e,t,i,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&n1(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&tg(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new vae(o,r,e,t,i,(s,a,p)=>this.getImageInternal(s,a,p,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,r){if(this.loader){const o=_ae(e,t,i,1),s=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&s0(this.wantedExtent_,o)||s0(this.image.getExtent(),o))&&(this.wantedResolution_&&pO(this.wantedResolution_)===s||pO(this.image.getResolution())===s)))return this.image;this.wantedProjection_=r,this.wantedExtent_=o,this.wantedResolution_=s,this.image=new r7(o,s,i,this.loader),this.image.addEventListener(mo.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case pr.LOADING:this.loading=!0,i=uM.IMAGELOADSTART;break;case pr.LOADED:this.loading=!1,i=uM.IMAGELOADEND;break;case pr.ERROR:this.loading=!1,i=uM.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new Cae(i,t))}}function _ae(n,e,t,i){const r=e/t,o=Gf(n),s=Qg(ds(n)/r,jx),a=Qg(cc(n)/r,jx),p=Qg((i-1)*s/2,jx),g=s+2*p,_=Qg((i-1)*a/2,jx),E=a+2*_;return z3(o,r,0,[g,E])}const ov=[0,0,0],kg=5;class f4{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Os(Wee(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Os(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=og(i)),Os(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Os(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:H8,Os(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,o)=>{const s=new h7(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,p=r.maxY;a<=p;++a)i([t,o,a])}forEachTileCoordParentTileRange(e,t,i,r){let o,s,a,p=null,g=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):p=this.getTileCoordExtent(e,r);g>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=nv(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(p,g,i),t(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,s=e[2]*2;return nv(o,o+1,s,s+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],o=e[1],s=e[2];if(t===r)return nv(o,s,o,s,i);if(this.zoomFactor_){const p=Math.pow(this.zoomFactor_,t-r),g=Math.floor(o*p),_=Math.floor(s*p);if(t<r)return nv(g,g,_,_,i);const E=Math.floor(p*(o+1))-1,O=Math.floor(p*(s+1))-1;return nv(g,E,_,O,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,ov);const r=ov[1],o=ov[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,ov);const s=ov[1],a=ov[2];return nv(r,s,o,a,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Hh(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=Hh(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*o[0]*r,a=i[1]-(e[2]+1)*o[1]*r,p=s+o[0]*r,g=a+o[1]*r;return eg(s,a,p,g,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,o){const s=this.getZForResolution(i),a=i/this.getResolution(s),p=this.getOrigin(s),g=Hh(this.getTileSize(s),this.tmpSize_);let _=a*(e-p[0])/i/g[0],E=a*(p[1]-t)/i/g[1];return r?(_=Qg(_,kg)-1,E=Qg(E,kg)-1):(_=Bx(_,kg),E=Bx(E,kg)),n2(s,_,E,o)}getTileCoordForXYAndZ_(e,t,i,r,o){const s=this.getOrigin(i),a=this.getResolution(i),p=Hh(this.getTileSize(i),this.tmpSize_);let g=(e-s[0])/a/p[0],_=(s[1]-t)/a/p[1];return r?(g=Qg(g,kg)-1,_=Qg(_,kg)-1):(g=Bx(g,kg),_=Bx(_,kg)),n2(i,g,_,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=Q2(this.resolutions_,e,t||0);return $u(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return tN(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function rG(n){let e=n.getDefaultTileGrid();return e||(e=Mae(n),n.setDefaultTileGrid(e)),e}function bae(n,e,t){const i=e[0],r=n.getTileCoordCenter(e),o=p4(t);if(!cy(o,r)){const s=ds(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,n.getTileCoordForCoordAndZ(r,i)}return e}function xae(n,e,t,i){i=i!==void 0?i:"top-left";const r=oG(n,e,t);return new f4({extent:n,origin:ote(n,i),resolutions:r,tileSize:t})}function y7(n){const e=n||{},t=e.extent||Zs("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:oG(t,e.maxZoom,e.tileSize,e.maxResolution)};return new f4(i)}function oG(n,e,t,i){e=e!==void 0?e:oN,t=Hh(t!==void 0?t:H8);const r=cc(n),o=ds(n);i=i>0?i:Math.max(o/t[0],r/t[1]);const s=e+1,a=new Array(s);for(let p=0;p<s;++p)a[p]=i/Math.pow(2,p);return a}function Mae(n,e,t,i){const r=p4(n);return xae(r,e,t,i)}function p4(n){n=Zs(n);let e=n.getExtent();if(!e){const t=180*a1.degrees/n.getMetersPerUnit();e=eg(-t,-t,t,t)}return e}class aG extends bC{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&Hh(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Do(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,o){return _o()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:rG(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),s=Hh(r.getTileSize(e),this.tmpSize);return o==1?s:fie(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=bae(r,e,i)),fae(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class wae extends Mm{constructor(e,t){super(e),this.tile=t}}function sG(n){return function(e){const t=e.buffers,i=e.meta,r=e.imageOps,o=e.width,s=e.height,a=t.length,p=t[0].byteLength;if(r){const O=new Array(a);for(let z=0;z<a;++z)O[z]=new ImageData(new Uint8ClampedArray(t[z]),o,s);return n(O,i).data.buffer}const g=new Uint8ClampedArray(p),_=new Array(a),E=new Array(a);for(let O=0;O<a;++O)_[O]=new Uint8ClampedArray(t[O]),E[O]=[0,0,0,0];for(let O=0;O<p;O+=4){for(let z=0;z<a;++z){const N=_[z];E[z][0]=N[O],E[z][1]=N[O+1],E[z][2]=N[O+2],E[z][3]=N[O+3]}const B=n(E,i);g[O]=B[0],g[O+1]=B[1],g[O+2]=B[2],g[O+3]=B[3]}return g.buffer}}function Sae(n,e){const i=Object.keys(n.lib||{}).map(function(o){return"const "+o+" = "+n.lib[o].toString()+";"}).concat(["const __minion__ = ("+sG.toString()+")(",n.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(i.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(i,{type:"text/javascript"})));return r.addEventListener("message",e),r}function Eae(n,e){const t=sG(n.operation);let i=!1;return{postMessage:function(r){setTimeout(function(){i||e({data:{buffer:t(r),meta:r.meta}})},0)},terminate:function(){i=!0}}}let Bae=class extends Wb{constructor(e){super(),this.imageOps_=!!e.imageOps;let t;e.threads===0?t=0:this.imageOps_?t=1:t=e.threads||1;const i=new Array(t);if(t)for(let r=0;r<t;++r)i[r]=Sae(e,this.onWorkerMessage_.bind(this,r));else i[0]=Eae(e,this.onWorkerMessage_.bind(this,0));this.workers_=i,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,i){this.enqueue_({inputs:e,meta:t,callback:i}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,i=e.inputs[0].height,r=e.inputs.map(function(p){return p.data.buffer}),o=this.workers_.length;if(this.running_=o,o===1){this.workers_[0].postMessage({buffers:r,meta:e.meta,imageOps:this.imageOps_,width:t,height:i},r);return}const s=e.inputs[0].data.length,a=4*Math.ceil(s/4/o);for(let p=0;p<o;++p){const g=p*a,_=[];for(let E=0,O=r.length;E<O;++E)_.push(r[E].slice(g,g+a));this.workers_[p].postMessage({buffers:_,meta:e.meta,imageOps:this.imageOps_,width:t,height:i},_)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let i,r;if(t===1)i=new Uint8ClampedArray(this.dataLookup_[0].buffer),r=this.dataLookup_[0].meta;else{const o=e.inputs[0].data.length;i=new Uint8ClampedArray(o),r=new Array(t);const s=4*Math.ceil(o/4/t);for(let a=0;a<t;++a){const p=this.dataLookup_[a].buffer,g=a*s;i.set(new Uint8ClampedArray(p),g),r[a]=this.dataLookup_[a].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(i,e.inputs[0].width,e.inputs[0].height),r),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}};const Rk={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class Pk extends Mm{constructor(e,t,i){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=i}}class lG extends iG{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=Tae(e.sources);const t=this.changed.bind(this);for(let i=0,r=this.layers_.length;i<r;++i)this.layers_[i].addEventListener(mo.CHANGE,t);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new Bj(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:rf(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:Iae(this.layers_),pixelRatio:1,pixelToCoordinateTransform:rf(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:Do(this),renderTargets:{}},this.setAttributions(function(i){const r=[];for(let o=0,s=e.sources.length;o<s;++o){const a=e.sources[o],p=a instanceof bC?a:a.getSource();if(!p)continue;const g=p.getAttributions()?.(i);typeof g=="string"?r.push(g):g!==void 0&&r.push(...g)}return r}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new Bae({operation:e,imageOps:this.operationType_==="image",queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,i){const r=Object.assign({},this.frameState_);r.viewState=Object.assign({},r.viewState);const o=Gf(e);r.size[0]=Math.ceil(ds(e)/t),r.size[1]=Math.ceil(cc(e)/t),r.extent=[o[0]-r.size[0]*t/2,o[1]-r.size[1]*t/2,o[0]+r.size[0]*t/2,o[1]+r.size[1]*t/2],r.time=Date.now();const s=r.viewState;return s.center=o,s.projection=i,s.resolution=t,r}allSourcesReady_(){let e=!0,t;for(let i=0,r=this.layers_.length;i<r;++i)if(t=this.layers_[i].getSource(),!t||t.getState()!=="ready"){e=!1;break}return e}getImage(e,t,i,r){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const o=this.updateFrameState_(e,t,r);if(this.requestedFrameState_=o,this.renderedImageCanvas_){const s=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();(t!==s||!tg(o.extent,a))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),o.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,i=new Array(t);for(let o=0;o<t;++o){e.layerIndex=o,e.renderTargets={};const s=Oae(this.layers_[o],e);if(s)i[o]=s;else return}const r={};this.dispatchEvent(new Pk(Rk.BEFOREOPERATIONS,e,r)),this.processor_.process(i,r,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,i,r){if(t||!i)return;const o=e.extent,s=e.viewState.resolution;if(s!==this.requestedFrameState_.viewState.resolution||!tg(o,this.requestedFrameState_.extent))return;let a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{const p=Math.round(ds(o)/s),g=Math.round(cc(o)/s);a=Zu(p,g),this.renderedImageCanvas_=new Zre(o,s,1,a.canvas)}a.putImageData(i,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Pk(Rk.AFTEROPERATIONS,e,r))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let i=0,r=this.layers_.length;i<r&&(t=this.layers_[i].getSource().getResolutions(e),!t);++i);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}lG.prototype.dispose;let F1=null;function Oae(n,e){const t=n.getRenderer();if(!t)throw new Error("Unsupported layer type: "+n);if(!t.prepareFrame(e))return null;const i=e.size[0],r=e.size[1];if(i===0||r===0)return null;const o=t.renderFrame(e,null);let s;if(o instanceof HTMLCanvasElement)s=o;else{if(o&&(s=o.firstElementChild),!(s instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+s);if(s.width===i&&s.height===r)return s.getContext("2d").getImageData(0,0,i,r)}if(!F1)F1=Zu(i,r,void 0,{willReadFrequently:!0});else{const a=F1.canvas;a.width!==i||a.height!==r?F1=Zu(i,r,void 0,{willReadFrequently:!0}):F1.clearRect(0,0,i,r)}return F1.drawImage(s,0,0,i,r),F1.getImageData(0,0,i,r)}function Iae(n){return n.map(function(e){return e.getLayerState()})}function Tae(n){const e=n.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=kae(n[i]);return t}function kae(n){let e;return n instanceof bC?n instanceof aG?e=new nG({source:n}):n instanceof iG&&(e=new $N({source:n})):e=n,e}function Dae(n,e,t,i){const r=document.createElement("script"),o="olc_"+Do(e);function s(){delete window[o],r.parentNode.removeChild(r)}r.async=!0,r.src=n+(n.includes("?")?"&":"?")+"callback="+o;const a=setTimeout(function(){s(),t&&t()},1e4);window[o]=function(p){clearTimeout(a),s(),e(p)},document.head.appendChild(r)}const Rae=/\{z\}/g,Pae=/\{x\}/g,Uae=/\{y\}/g,Kae=/\{-y\}/g;function Lae(n,e,t,i,r){return n.replace(Rae,e.toString()).replace(Pae,t.toString()).replace(Uae,i.toString()).replace(Kae,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function Fae(n){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(n);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function zae(n,e){return function(t,i,r){if(!t)return;let o;const s=t[0];if(e){const a=e.getFullTileRange(s);a&&(o=a.getHeight()-1)}return Lae(n,s,t[1],t[2],o)}}function uG(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=zae(n[r],e);return jae(i)}function jae(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;const r=hae(e),o=ry(r,n.length);return n[o](e,t,i)}}const AM={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class m4 extends aG{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===m4.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Do(t),r=t.getState();let o;r==Ki.LOADING?(this.tileLoadingKeys_[i]=!0,o=AM.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==Ki.ERROR?AM.TILELOADERROR:r==Ki.LOADED?AM.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new wae(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=Fae(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(uG(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}}class Nae extends m4{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Gae,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:zN,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!n1(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||n1(t,e)))return this.tileGrid;const i=Do(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=rG(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,o,s){const a=[e,t,i],p=this.getTileCoordForTileUrlFunction(a,o),g=p?this.tileUrlFunction(p,r,o):void 0,_=new this.tileClass(a,g!==void 0?Ki.IDLE:Ki.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=s,_.addEventListener(mo.CHANGE,this.handleTileChange.bind(this)),_}getTile(e,t,i,r,o){const s=this.getProjection();if(!s||!o||n1(s,o))return this.getTileInternal(e,t,i,r,s||o);const a=[e,t,i],p=this.getKey(),g=this.getTileGridForProjection(s),_=this.getTileGridForProjection(o),E=this.getTileCoordForTileUrlFunction(a,o),O=new eG(s,g,o,_,a,E,this.getTilePixelRatio(r),this.getGutter(),(B,z,N,Q)=>this.getTileInternal(B,z,N,Q,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return O.key=p,O}getTileInternal(e,t,i,r,o){const s=this.getKey();return this.createTile_(e,t,i,r,o,s)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const i=Zs(e);if(i){const r=Do(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}}function Gae(n,e){n.getImage().src=e}class AG extends Nae{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:Zs("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)Dae(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let i;try{i=JSON.parse(t.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=Zs("EPSG:4326"),i=this.getProjection();let r;if(e.bounds!==void 0){const g=Vb(t,i);r=lte(e.bounds,g)}const o=p4(i),s=e.minzoom||0,a=e.maxzoom||22,p=y7({extent:o,maxZoom:a,minZoom:s,tileSize:this.tileSize_});if(this.tileGrid=p,this.tileUrlFunction=uG(e.tiles,p),e.attribution&&!this.getAttributions()){const g=r!==void 0?r:o;this.setAttributions(function(_){return gA(g,_.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class v7 extends m4{constructor(e){const t=e.projection||"EPSG:3857",i=e.extent||p4(t),r=e.tileGrid||y7({extent:i,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:cG,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:jN,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,i){if(i.getState()===Ki.IDLE){i.setState(Ki.LOADING);const r=i.wrappedTileCoord,o=this.getTileGridForProjection(t),s=o.getTileCoordExtent(r),a=r[0],p=o.getResolution(a);t1(s,-p,s);const g=this.tileGrid,_=g.getExtent();_&&ym(s,_,s);const E=g.getZForResolution(p,this.zDirection);g.forEachTileCoord(s,E,O=>{const B=this.tileUrlFunction(O,e,t);this.sourceTiles_[B]||(this.sourceTiles_[B]=new this.tileClass(O,B?Ki.IDLE:Ki.EMPTY,B,this.format_,this.tileLoadFunction));const z=this.sourceTiles_[B];i.sourceTiles.push(z),this.tileKeysBySourceTileUrl_[B]||(this.tileKeysBySourceTileUrl_[B]=[]),this.tileKeysBySourceTileUrl_[B].push(i.getKey());const N=z.getState();if(N<Ki.LOADED){const Q=$=>{this.handleTileChange($);const X=z.getState();if(X===Ki.LOADED||X===Ki.ERROR){const re=z.getKey();re in i.errorTileKeys?z.getState()===Ki.LOADED&&delete i.errorTileKeys[re]:i.loadingSourceTiles--,X===Ki.ERROR?i.errorTileKeys[re]=!0:z.removeEventListener(mo.CHANGE,Q),i.loadingSourceTiles===0&&i.setState(o1(i.errorTileKeys)?Ki.LOADED:Ki.ERROR)}};z.addEventListener(mo.CHANGE,Q),i.loadingSourceTiles++}N===Ki.IDLE&&(z.extent=g.getTileCoordExtent(O),z.projection=t,z.resolution=g.getResolution(O[0]),z.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(O=>O.getState()===Ki.ERROR)?Ki.ERROR:Ki.LOADED)}return i.sourceTiles}removeSourceTiles(e){const t=e.getKey(),i=e.sourceTiles;for(let r=0,o=i.length;r<o;++r){const s=i[r].getTileUrl();if(!this.tileKeysBySourceTileUrl_[s])return;const a=this.tileKeysBySourceTileUrl_[s].indexOf(t);a!==-1&&(this.tileKeysBySourceTileUrl_[s].splice(a,1),this.tileKeysBySourceTileUrl_[s].length===0&&(delete this.tileKeysBySourceTileUrl_[s],delete this.sourceTiles_[s]))}}getTile(e,t,i,r,o){const s=[e,t,i];let a=this.getTileCoordForTileUrlFunction(s,o);const p=this.getTileGrid().getExtent(),g=this.getTileGridForProjection(o);if(a&&p){const O=g.getTileCoordExtent(a);t1(O,-g.getResolution(e),O),gA(p,O)||(a=null)}let _=!0;if(a!==null){const O=this.tileGrid,B=g.getResolution(e),z=O.getZForResolution(B,1),N=g.getTileCoordExtent(a);t1(N,-B,N),O.forEachTileCoord(N,z,Q=>{_=_&&!this.tileUrlFunction(Q,r,o)})}const E=new eoe(s,_?Ki.EMPTY:Ki.IDLE,a,this.getSourceTiles.bind(this,r,o),this.removeSourceTiles.bind(this));return E.key=this.getKey(),E}getTileGridForProjection(e){const t=e.getCode();let i=this.tileGrids_[t];if(!i){const r=this.getProjection();Os(r===null||n1(r,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection.");const o=this.tileGrid,s=o.getResolutions().slice(),a=s.map(function(_,E){return o.getOrigin(E)}),p=s.map(function(_,E){return o.getTileSize(E)}),g=oN+1;for(let _=s.length;_<g;++_)s.push(s[_-1]/2),a.push(a[_-1]),p.push(p[_-1]);i=new f4({extent:o.getExtent(),origins:a,resolutions:s,tileSizes:p}),this.tileGrids_[t]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),o=Hh(r.getTileSize(e),this.tmpSize);return[Math.round(o[0]*t),Math.round(o[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function cG(n,e){n.setLoader(function(t,i,r){PN(e,n.getFormat(),t,i,r,n.onLoad.bind(n),n.onError.bind(n))})}function Wae(n,e){const t=n[0],i=t.width,r=t.height,o=t.data,s=new Uint8ClampedArray(o.length),a=e.resolution*2,p=i-1,g=r-1,_=[0,0,0,0],E=2*Math.PI,O=Math.PI/2,B=Math.PI*e.sunEl/180,z=Math.PI*e.sunAz/180,N=Math.cos(B),Q=Math.sin(B),$=e.highlightColor,X=e.shadowColor,re=e.accentColor,ne=e.encoding;let V,J,W,he,ge,ve,_e,Me,be,ze,Ce,Fe,ot,mt,it,ue,We,tt,ke,Et,gt,xt;function Kt(je,Ke="mapbox"){if(Ke==="mapbox")return(je[0]*256*256+je[1]*256+je[2])*.1-1e4;if(Ke==="terrarium")return je[0]*256+je[1]+je[2]/256-32768}for(J=0;J<=g;++J)for(ge=J===0?0:J-1,ve=J===g?g:J+1,V=0;V<=p;++V)W=V===0?0:V-1,he=V===p?p:V+1,_e=(J*i+W)*4,_[0]=o[_e],_[1]=o[_e+1],_[2]=o[_e+2],_[3]=o[_e+3],Me=e.vert*Kt(_,ne),_e=(J*i+he)*4,_[0]=o[_e],_[1]=o[_e+1],_[2]=o[_e+2],_[3]=o[_e+3],be=e.vert*Kt(_,ne),ze=(be-Me)/a,_e=(ge*i+V)*4,_[0]=o[_e],_[1]=o[_e+1],_[2]=o[_e+2],_[3]=o[_e+3],Me=e.vert*Kt(_,ne),_e=(ve*i+V)*4,_[0]=o[_e],_[1]=o[_e+1],_[2]=o[_e+2],_[3]=o[_e+3],be=e.vert*Kt(_,ne),Ce=(be-Me)/a,ot=Math.atan2(Ce,-ze),ot<0?ot=O-ot:ot>O?ot=E-ot+O:ot=O-ot,Fe=Math.atan(Math.sqrt(ze*ze+Ce*Ce)),xt=Q*Math.cos(Fe)+N*Math.sin(Fe)*Math.cos(z-ot),mt=Math.cos(Fe),it=255*xt,ke=Math.min(Math.max(2*e.sunEl,0),1),Et=1.875-e.opacity*1.75,gt=e.opacity!==.5?O*((Math.pow(Et,Fe)-1)/(Math.pow(Et,O)-1)):Fe,We={r:(1-mt)*re.r*ke*255,g:(1-mt)*re.g*ke*255,b:(1-mt)*re.b*ke*255,a:(1-mt)*re.a*ke*255},ue=Math.abs(((ot+z)/Math.PI+.5)%2-1),tt={r:($.r*(1-ue)+X.r*ue)*it,g:($.g*(1-ue)+X.g*ue)*it,b:($.b*(1-ue)+X.b*ue)*it,a:($.a*(1-ue)+X.a*ue)*it},_e=(J*i+V)*4,s[_e]=We.r*(1-ue)+tt.r,s[_e+1]=We.g*(1-ue)+tt.g,s[_e+2]=We.b*(1-ue)+tt.b,s[_e+3]=o[_e+3]*e.opacity*ke*Math.sin(gt);return new ImageData(s,i,r)}function Qae(n,e=512){return n.getExtent()?y7({extent:n.getExtent(),tileSize:e,maxZoom:22}).getResolutions():p0}function hG(n,e){return e.accessToken||(e=Object.assign({},e),new URL(n).searchParams.forEach((i,r)=>{e.accessToken=i,e.accessTokenParam=r})),e}function Yae(n,e,t="",i={},r=void 0){let o,s,a,p,g=!0;return typeof t!="string"&&!Array.isArray(t)?(a=t,p=a.source||a.layers,i=a):p=t,typeof i=="string"?(o=i,a={}):(o=i.styleUrl,a=i),a.updateSource===!1&&(g=!1),r||(r=a.resolutions),!o&&typeof e=="string"&&!e.trim().startsWith("{")&&(o=e),o&&(o=o.startsWith("data:")?location.href:e2(o,a.accessToken),a=hG(o,a)),new Promise(function(_,E){WN(e,a).then(function(O){if(O.version!=8)return E(new Error("glStyle version 8 required."));if(!(n instanceof c7||n instanceof P_))return E(new Error("Can only apply to VectorLayer or VectorTileLayer"));const B=n instanceof P_?"vector":"geojson";if(p?Array.isArray(p)?s=O.layers.find(function(ne){return ne.id===p[0]}).source:s=p:(s=O.layers.find(function(ne){return ne.source&&O.sources[ne.source].type===B}).source,p=s),!s)return E(new Error(`No ${B} source found in the glStyle.`));function z(){if(!g)return Promise.resolve();if(n instanceof P_)return pG(O.sources[s],o,a).then(function(W){const he=n.getSource();he?W!==he&&(he.setTileUrlFunction(W.getTileUrlFunction()),typeof he.setUrls=="function"&&typeof W.getUrls=="function"&&he.setUrls(W.getUrls()),he.format_||(he.format_=W.format_),he.getAttributions()||he.setAttributions(W.getAttributions()),he.getTileLoadFunction()===cG&&he.setTileLoadFunction(W.getTileLoadFunction()),n1(he.getProjection(),W.getProjection())&&(he.tileGrid=W.getTileGrid())):n.setSource(W);const ge=n.getSource().getTileGrid();!isFinite(n.getMaxResolution())&&!isFinite(n.getMinZoom())&&ge.getMinZoom()>0&&n.setMaxResolution(g_(Math.max(0,ge.getMinZoom()-1e-12),ge.getResolutions()))});const ne=O.sources[s];let V=n.getSource();(!V||V.get("mapbox-source")!==ne)&&(V=yG(ne,o,a));const J=n.getSource();return J?V!==J&&(J.getAttributions()||J.setAttributions(V.getAttributions()),J.format_||(J.format_=V.getFormat()),J.url_=V.getUrl()):n.setSource(V),Promise.resolve()}let N,Q;const $={},X={};function re(){if(!Q&&(!O.sprite||$)){if(a.projection&&!r){const W=Zs(a.projection).getUnits();W!=="m"&&(r=p0.map(he=>he/a1[W]))}let ne;const V=n.getSource();V instanceof v7&&V.format_ instanceof VN&&(ne=V.format_.layerName_),Q=moe(n,O,p,r,$,X,(J,W=a.webfonts)=>uoe(J,W),a.getImage,ne),n.getStyle()?z().then(_).catch(E):E(new Error(`Nothing to show for source [${s}]`))}else Q?(n.setStyle(Q),z().then(_).catch(E)):E(new Error("Something went wrong trying to apply style."))}if(O.sprite){const ne=toe(O.sprite,a.accessToken,o||location.href);N=window.devicePixelRatio>=1.5?.5:1;const V=N==.5?"@2x":"";Promise.all(ne.map(function(J){const W=new URL(J.url);let he=W.origin+W.pathname+V+".json"+W.search;return new Promise(function(ge,ve){AC("Sprite",he,a).then(ge).catch(function(_e){he=W.origin+W.pathname+".json"+W.search,AC("Sprite",he,a).then(ge).catch(ve)})}).then(function(ge){ge===void 0&&E(new Error("No sprites found."));let ve;if(ve=W.origin+W.pathname+V+".png"+W.search,a.transformRequest){const _e=a.transformRequest(ve,"SpriteImage")||ve;(_e instanceof Request||_e instanceof Promise)&&(ve=_e)}X[J.id]=ve;for(const _e in ge){const Me=J.id=="default"?_e:`${J.id}:${_e}`;$[Me]=ge[_e]}}).catch(function(ge){E(new Error(`Sprites cannot be loaded: ${he}: ${ge.message}`))})})).then(re).catch(E)}else re()}).catch(E)})}function dG(n,e){let t;return n.some(function(i){if(i.id==e)return t=i.source,!0}),t}function qae(n,e){const t=n.bounds;if(t){const i=ZB([t[0],t[1]],e),r=ZB([t[2],t[3]],e);return[i[0],i[1],r[0],r[1]]}return Zs(e).getExtent()}function fG(n,e,t){const i=new AG({tileJSON:e,tileSize:n.tileSize||e.tileSize||512}),r=i.getTileJSON(),o=i.getTileGrid(),s=Zs(t.projection||"EPSG:3857"),a=qae(r,s),p=s.getExtent(),g=r.minzoom||0,_=r.maxzoom||22,E={attributions:i.getAttributions(),projection:s,tileGrid:new f4({origin:p?og(p):o.getOrigin(0),extent:a||o.getExtent(),minZoom:g,resolutions:Qae(s,e.tileSize).slice(0,_+1),tileSize:o.getTileSize(0)})};return Array.isArray(r.tiles)?E.urls=r.tiles:E.url=r.tiles,E}function Hae(n,e,t,i){const r={id:n.id,type:n.type},o=n.layout||{},s=n.paint||{};r.paint=s,Nf.zoom=p7(e,t.resolutions||p0),Nf.distanceFromCenter=0;let a;const p=Mr(r,"paint","background-color",pm,i);return s["background-opacity"]!==void 0&&(a=Mr(r,"paint","background-opacity",pm,i)),o.visibility=="none"?void 0:Kg(p,a)}function Vae(n,e,t){const i=document.createElement("div");return i.className="ol-mapbox-style-background",i.style.position="absolute",i.style.width="100%",i.style.height="100%",new _C({source:new bC({}),render(r){const o=Hae(n,r.viewState.resolution,e,t);return i.style.backgroundColor=o,i}})}function pG(n,e,t){return new Promise(function(i,r){QN(n,e,t).then(function({tileJson:o,tileLoadFunction:s}){const a=fG(n,o,t);a.tileLoadFunction=s,a.format=new VN({layerName:"mvt:layer"});const p=new v7(a);p.set("mapbox-source",n),i(p)}).catch(r)})}function $ae(n,e,t){const i=new P_({declutter:!0,visible:!1});return pG(n,e,t).then(function(r){i.setSource(r)}).catch(function(r){i.setSource(void 0)}),i}function mG(n){return`{bbox-${(n?n.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function Zae(n,e,t){return new Promise(function(i,r){QN(n,e,t).then(function({tileJson:o,tileLoadFunction:s}){const a=new AG({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:o});a.tileGrid=fG(n,o,t).tileGrid,t.projection&&(a.projection=Zs(t.projection));const p=a.getTileUrlFunction();s&&a.setTileLoadFunction(s),a.setTileUrlFunction(function(g,_,E){const O=mG(E);let B=p(g,_,E);if(B.indexOf(O)!=-1){const z=a.getTileGrid().getTileCoordExtent(g);B=B.replace(O,z.toString())}return B}),a.set("mapbox-source",n),i(a)}).catch(function(o){r(o)})})}function gG(n,e,t){const i=new nG;return Zae(n,e,t).then(function(r){i.setSource(r)}).catch(function(){i.setSource(void 0)}),i}function Xae(n,e,t){const i=gG(n,e,t);return new $N({source:new lG({operationType:"image",operation:Wae,sources:[i]})})}function yG(n,e,t){const i=t.projection?new wk({dataProjection:t.projection}):new wk,r=n.data,o={};if(typeof r=="string"){const[a]=d3(r,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(a)){const g=(E,O,B)=>{const z=mG(B);return a.replace(z,`${E.join(",")}`)},_=new h3({attributions:n.attribution,format:i,loader:(E,O,B,z,N)=>{const Q=typeof g=="function"?g(E,O,B):g;AC("GeoJSON",Q,t).then($=>{const X=_.getFormat().readFeatures($,{featureProjection:B});_.addFeatures(X),z(X)}).catch($=>{_.removeLoadedExtent(E),N()})},strategy:Rre});return _.set("mapbox-source",n),_}const p=new h3({attributions:n.attribution,format:i,url:a,loader:(g,_,E,O,B)=>{AC("GeoJSON",a,t).then(z=>{const N=p.getFormat().readFeatures(z,{featureProjection:E});p.addFeatures(N),O(N)}).catch(z=>{p.removeLoadedExtent(g),B()})}});return p}o.features=i.readFeatures(r,{featureProjection:"EPSG:3857"});const s=new h3(Object.assign({attributions:n.attribution,format:i},o));return s.set("mapbox-source",n),s}function Jae(n,e,t){return new c7({declutter:!0,source:yG(n,e,t),visible:!1})}function ese(n,e,t){let i=null;return function(r){n.paint&&"raster-opacity"in n.paint&&r.frameState.viewState.zoom!==i&&(i=r.frameState.viewState.zoom,delete t[n.id],tse(n,e,i,t))}}function tse(n,e,t,i){Nf.zoom=t,Nf.distanceFromCenter=0;const r=Mr(n,"paint","raster-opacity",pm,i);e.setOpacity(r)}function nse(n,e){function t(){const i=e.get("mapbox-style");if(!i)return;const r=$O(i.layers),o=n.get("mapbox-layers"),s=r.filter(function(a){return o.includes(a.id)}).some(function(a){return!a.layout||!a.layout.visibility||a.layout.visibility==="visible"});n.get("visible")!==s&&n.setVisible(s)}n.on("change",t),t()}function ise(n,e,t,i){const r=GN(n),o=n.layers,s=t.type,a=t.source||dG(o,t.ref),p=n.sources[a];let g;if(s=="background")g=Vae(t,i,r);else if(p.type=="vector")g=$ae(p,e,i);else if(p.type=="raster")g=gG(p,e,i),g.setVisible(t.layout?t.layout.visibility!=="none":!0),g.on("prerender",ese(t,g,r));else if(p.type=="geojson")g=Jae(p,e,i);else if(p.type=="raster-dem"&&t.type=="hillshade"){const E=Xae(p,e,i);g=E,E.getSource().on("beforeoperations",function(O){const B=O.data;B.resolution=$B(i.projection||"EPSG:3857",O.resolution,Gf(O.extent),"m"),Nf.zoom=p7(O.resolution,i.resolutions||p0),Nf.distanceFromCenter=0,B.encoding=p.encoding,B.vert=5*Mr(t,"paint","hillshade-exaggeration",pm,r),B.sunAz=Mr(t,"paint","hillshade-illumination-direction",pm,r),B.sunEl=35,B.opacity=.3,B.highlightColor=Mr(t,"paint","hillshade-highlight-color",pm,r),B.shadowColor=Mr(t,"paint","hillshade-shadow-color",pm,r),B.accentColor=Mr(t,"paint","hillshade-accent-color",pm,r)}),g.setVisible(t.layout?t.layout.visibility!=="none":!0)}const _=a;return g&&g.set("mapbox-source",_),g}function Uk(n,e,t,i){const r=[];let o=null;if(e instanceof A4){if(o=e.getView(),!o.isDef()&&!o.getRotation()&&!o.getResolutions()){const E=i.projection?Zs(i.projection):o.getProjection();o=new dm(Object.assign(o.getProperties(),{maxResolution:p0[0]/a1[E.getUnits()],projection:i.projection||o.getProjection()})),e.setView(o)}"center"in n&&!o.getCenter()&&o.setCenter(ZB(n.center,o.getProjection())),"zoom"in n&&o.getZoom()===void 0&&o.setResolution(p0[0]/a1[o.getProjection().getUnits()]/Math.pow(2,n.zoom)),(!o.getCenter()||o.getZoom()===void 0)&&o.fit(o.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",n),e.set("mapbox-metadata",{styleUrl:t,options:i});const s=n.layers;let a=[],p,g,_;for(let E=0,O=s.length;E<O;++E){const B=s[E],z=B.type;if(z=="heatmap"){console.debug(`layers[${E}].type "${z}" not supported`);continue}else _=B.source||dG(s,B.ref),(!_||_!=g)&&(a.length&&(r.push(Kk(p,a,n,t,e,i)),a=[]),p=ise(n,t,B,i),p instanceof c7||p instanceof P_||(a=[]),g=p.get("mapbox-source")),a.push(B.id)}return r.push(Kk(p,a,n,t,e,i)),Promise.all(r)}function rse(n,e,t={}){let i,r;if(typeof n=="string"||n instanceof HTMLElement?r=new A4({target:n}):r=n,typeof e=="string"){const o=e.startsWith("data:")?location.href:e2(e,t.accessToken);t=hG(o,t),i=new Promise(function(s,a){WN(e,t).then(function(p){Uk(p,r,o,t).then(function(){s(r)}).catch(a)}).catch(function(p){a(new Error(`Could not load ${e}: ${p.message}`))})})}else i=new Promise(function(o,s){Uk(e,r,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:e2(t.styleUrl,t.accessToken),t).then(function(){o(r)}).catch(s)});return i}function Kk(n,e,t,i,r,o={}){let s=24,a=0;const p=t.layers;for(let g=0,_=p.length;g<_;++g){const E=p[g];e.indexOf(E.id)!==-1&&(s=Math.min("minzoom"in E?E.minzoom:0,s),a=Math.max("maxzoom"in E?E.maxzoom:24,a))}return new Promise(function(g,_){const E=function(){const B=n.getSource();if(!B||B.getState()==="error"){_(new Error("Error accessing data for source "+n.get("mapbox-source")));return}if("getTileGrid"in B){const z=B.getTileGrid();if(z){const N=z.getMinZoom();(s>0||N>0)&&n.setMaxResolution(Math.min(g_(Math.max(0,s-1e-12),p0),g_(Math.max(0,N-1e-12),z.getResolutions()))),a<24&&n.setMinResolution(g_(a,p0))}}else s>0&&n.setMaxResolution(g_(Math.max(0,s-1e-12),p0));B instanceof h3||B instanceof v7?Yae(n,t,e,Object.assign({styleUrl:i},o)).then(function(){nse(n,r),g()}).catch(_):g()};n.set("mapbox-layers",e);const O=r.getLayers();O.getArray().indexOf(n)===-1&&O.push(n),n.getSource()?E():n.once("change:source",E)})}function sr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",e="5f4719fc476214e7aff32d9043337b9c97544cf9",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:11,column:2},end:{line:15,column:3}},1:{start:{line:12,column:4},end:{line:12,column:16}},2:{start:{line:14,column:4},end:{line:14,column:149}},3:{start:{line:14,column:103},end:{line:14,column:133}},4:{start:{line:18,column:24},end:{line:25,column:3}},5:{start:{line:28,column:14},end:{line:28,column:18}},6:{start:{line:30,column:19},end:{line:30,column:23}},7:{start:{line:32,column:4},end:{line:32,column:17}},8:{start:{line:33,column:4},end:{line:38,column:6}},9:{start:{line:39,column:4},end:{line:39,column:67}},10:{start:{line:42,column:4},end:{line:42,column:26}},11:{start:{line:42,column:19},end:{line:42,column:26}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:61,column:7}},17:{start:{line:62,column:16},end:{line:69,column:6}},18:{start:{line:70,column:4},end:{line:78,column:7}},19:{start:{line:71,column:21},end:{line:71,column:45}},20:{start:{line:72,column:6},end:{line:77,column:9}},21:{start:{line:79,column:22},end:{line:89,column:5}},22:{start:{line:80,column:19},end:{line:80,column:42}},23:{start:{line:81,column:21},end:{line:81,column:56}},24:{start:{line:82,column:6},end:{line:88,column:9}},25:{start:{line:90,column:4},end:{line:90,column:16}},26:{start:{line:91,column:4},end:{line:91,column:33}},27:{start:{line:92,column:4},end:{line:102,column:7}},28:{start:{line:93,column:21},end:{line:93,column:56}},29:{start:{line:94,column:6},end:{line:101,column:9}},30:{start:{line:103,column:4},end:{line:103,column:19}},31:{start:{line:104,column:4},end:{line:106,column:6}},32:{start:{line:108,column:17},end:{line:111,column:3}},33:{start:{line:109,column:4},end:{line:109,column:20}},34:{start:{line:110,column:4},end:{line:110,column:37}},35:{start:{line:113,column:14},end:{line:113,column:26}},36:{start:{line:114,column:4},end:{line:185,column:9}},37:{start:{line:119,column:12},end:{line:119,column:36}},38:{start:{line:176,column:12},end:{line:176,column:31}},39:{start:{line:188,column:22},end:{line:188,column:62}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:10,column:9},end:{line:10,column:21}},loc:{start:{line:10,column:30},end:{line:16,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:14,column:92},end:{line:14,column:93}},loc:{start:{line:14,column:103},end:{line:14,column:133}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:20,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:21,column:18},end:{line:21,column:19}},loc:{start:{line:21,column:24},end:{line:22,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:19},end:{line:23,column:20}},loc:{start:{line:23,column:25},end:{line:24,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:21},end:{line:40,column:3}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:28},end:{line:45,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:107,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:70,column:26},end:{line:70,column:27}},loc:{start:{line:70,column:35},end:{line:78,column:5}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:79,column:22},end:{line:79,column:23}},loc:{start:{line:79,column:28},end:{line:89,column:5}},line:79},11:{name:"(anonymous_11)",decl:{start:{line:92,column:25},end:{line:92,column:26}},loc:{start:{line:92,column:33},end:{line:102,column:5}},line:92},12:{name:"(anonymous_12)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:24},end:{line:111,column:3}},line:108},13:{name:"(anonymous_13)",decl:{start:{line:112,column:2},end:{line:112,column:3}},loc:{start:{line:112,column:11},end:{line:186,column:3}},line:112},14:{name:"(anonymous_14)",decl:{start:{line:118,column:15},end:{line:118,column:16}},loc:{start:{line:118,column:22},end:{line:120,column:11}},line:118},15:{name:"(anonymous_15)",decl:{start:{line:175,column:15},end:{line:175,column:16}},loc:{start:{line:175,column:22},end:{line:177,column:11}},line:175}},branchMap:{0:{loc:{start:{line:11,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:11,column:2},end:{line:15,column:3}},{start:{line:13,column:9},end:{line:15,column:3}}],line:11},1:{loc:{start:{line:11,column:6},end:{line:11,column:34}},type:"binary-expr",locations:[{start:{line:11,column:6},end:{line:11,column:13}},{start:{line:11,column:17},end:{line:11,column:34}}],line:11},2:{loc:{start:{line:42,column:4},end:{line:42,column:26}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:136,column:26},end:{line:136,column:59}},type:"binary-expr",locations:[{start:{line:136,column:26},end:{line:136,column:53}},{start:{line:136,column:57},end:{line:136,column:59}}],line:136},5:{loc:{start:{line:148,column:6},end:{line:170,column:10}},type:"binary-expr",locations:[{start:{line:148,column:6},end:{line:148,column:29}},{start:{line:148,column:49},end:{line:170,column:10}}],line:148}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAoBW,cAyIL,YAzIK;AApBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAEtD,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK,IAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAAuC;AACxD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,QACP,WAAW;AAAA,UACT,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK;AAAC,iBAAK,iBAAiB;AAAA,UAAE;AAAA,UACnC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAY,EAAE,aAAa;AAAA,gBAC5B;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBACZ;AAAA,UAAE,OAAO;AAAA,QAAE;AAAA,QAAE,KAAK,MAAM;AAAA,SAC3B;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,WAAW;AAAA,YAAE;AAAA,aAAC;AAAA,UACxB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK;AAAC,iBAAK,YAAY;AAAA,UAAE;AAAA,UAC9B,MAAK;AAAA,UACL,cAAY,EAAE,UAAU;AAAA,UACxB,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f4719fc476214e7aff32d9043337b9c97544cf9"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return sr=function(){return s},s}sr();function Lk(n){return sr().f[0]++,sr().s[0]++,sr().b[1][0]++,!n||(sr().b[1][1]++,n.length<2)?(sr().b[0][0]++,sr().s[1]++,null):(sr().b[0][1]++,sr().s[2]++,Ae.jsx("span",{className:"maputnik-coords",children:n.map(e=>(sr().f[1]++,sr().s[3]++,String(e).padStart(7," "))).join(", ")}))}class ose extends ii.Component{static defaultProps=(sr().s[4]++,{onMapLoaded:()=>{sr().f[2]++},onDataChange:()=>{sr().f[3]++},onLayerSelect:()=>{sr().f[4]++}});updateStyle;map;container=(sr().s[5]++,null);overlay;popupContainer=(sr().s[6]++,null);constructor(e){sr().f[5]++,sr().s[7]++,super(e),sr().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},sr().s[9]++,this.updateStyle=Kb.throttle(this._updateStyle.bind(this),200)}_updateStyle(e){if(sr().f[6]++,sr().s[10]++,this.map)sr().b[2][1]++;else{sr().b[2][0]++,sr().s[11]++;return}sr().s[12]++,this.map.getLayers().clear(),sr().s[13]++,rse(this.map,e)}componentDidUpdate(e){sr().f[7]++,sr().s[14]++,this.props.mapStyle!==e.mapStyle?(sr().b[3][0]++,sr().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):sr().b[3][1]++}componentDidMount(){sr().f[8]++,sr().s[16]++,this.overlay=new Jre({element:this.popupContainer,autoPan:{animation:{duration:250}}});const e=(sr().s[17]++,new A4({target:this.container,overlays:[this.overlay],view:new dm({zoom:1,center:[180,-90]})}));sr().s[18]++,e.on("pointermove",i=>{sr().f[9]++;const r=(sr().s[19]++,k5(i.coordinate));sr().s[20]++,this.setState({cursor:[r[0].toFixed(2),r[1].toFixed(2)]})}),sr().s[21]++;const t=()=>{sr().f[10]++;const i=(sr().s[22]++,e.getView().getZoom()),r=(sr().s[23]++,k5(e.getView().getCenter()));sr().s[24]++,this.props.onChange({zoom:i,center:{lng:r[0],lat:r[1]}})};sr().s[25]++,t(),sr().s[26]++,e.on("moveend",t),sr().s[27]++,e.on("postrender",i=>{sr().f[11]++;const r=(sr().s[28]++,k5(e.getView().getCenter()));sr().s[29]++,this.setState({center:[r[0].toFixed(2),r[1].toFixed(2)],rotation:e.getView().getRotation().toFixed(2),zoom:e.getView().getZoom().toFixed(2)})}),sr().s[30]++,this.map=e,sr().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}closeOverlay=(sr().s[32]++,e=>{sr().f[12]++,sr().s[33]++,e.target.blur(),sr().s[34]++,this.overlay.setPosition(void 0)});render(){sr().f[13]++;const e=(sr().s[35]++,this.props.t);return sr().s[36]++,Ae.jsxs("div",{className:"maputnik-ol-container",children:[Ae.jsxs("div",{ref:t=>{sr().f[14]++,sr().s[37]++,this.popupContainer=t},style:{background:"black"},className:"maputnik-popup",children:[Ae.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":e("Close popup"),children:"×"}),Ae.jsx(vj,{features:(sr().b[4][0]++,this.state.selectedFeatures||(sr().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),Ae.jsxs("div",{className:"maputnik-ol-zoom",children:[e("Zoom:")," ",this.state.zoom]}),(sr().b[5][0]++,this.props.debugToolbox&&(sr().b[5][1]++,Ae.jsxs("div",{className:"maputnik-ol-debug",children:[Ae.jsxs("div",{children:[Ae.jsxs("label",{children:[e("cursor:")," "]}),Ae.jsx("span",{children:Lk(this.state.cursor)})]}),Ae.jsxs("div",{children:[Ae.jsxs("label",{children:[e("center:")," "]}),Ae.jsx("span",{children:Lk(this.state.center)})]}),Ae.jsxs("div",{children:[Ae.jsxs("label",{children:[e("rotation:")," "]}),Ae.jsx("span",{children:this.state.rotation})]})]}))),Ae.jsx("div",{className:"maputnik-ol",ref:t=>{sr().f[15]++,sr().s[38]++,this.container=t},role:"region","aria-label":e("Map view"),style:{...this.props.style}})]})}}const ase=(sr().s[39]++,is()(ose));var cM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Fk;function sse(){return Fk||(Fk=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=r(o,i(a)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=r(s,a));return s}function r(o,s){return s?o?o+" "+s:o+s:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(cM)),cM.exports}var lse=sse();const g0=Bu(lse);var y_=v2();function use(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Gt.useMemo(()=>i=>{e.forEach(r=>r(i))},e)}const g4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xC(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function C7(n){return"nodeType"in n}function sf(n){var e,t;return n?xC(n)?n:C7(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function _7(n){const{Document:e}=sf(n);return n instanceof e}function ox(n){return xC(n)?!1:n instanceof sf(n).HTMLElement}function vG(n){return n instanceof sf(n).SVGElement}function MC(n){return n?xC(n)?n.document:C7(n)?_7(n)?n:ox(n)||vG(n)?n.ownerDocument:document:document:document}const y0=g4?Gt.useLayoutEffect:Gt.useEffect;function b7(n){const e=Gt.useRef(n);return y0(()=>{e.current=n}),Gt.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function Ase(){const n=Gt.useRef(null),e=Gt.useCallback((i,r)=>{n.current=setInterval(i,r)},[]),t=Gt.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function yb(n,e){e===void 0&&(e=[n]);const t=Gt.useRef(n);return y0(()=>{t.current!==n&&(t.current=n)},e),t}function ax(n,e){const t=Gt.useRef();return Gt.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function i2(n){const e=b7(n),t=Gt.useRef(null),i=Gt.useCallback(r=>{r!==t.current&&e?.(r,t.current),t.current=r},[]);return[t,i]}function mO(n){const e=Gt.useRef();return Gt.useEffect(()=>{e.current=n},[n]),e.current}let hM={};function sx(n,e){return Gt.useMemo(()=>{if(e)return e;const t=hM[n]==null?0:hM[n]+1;return hM[n]=t,n+"-"+t},[n,e])}function CG(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return i.reduce((o,s)=>{const a=Object.entries(s);for(const[p,g]of a){const _=o[p];_!=null&&(o[p]=_+n*g)}return o},{...e})}}const Qv=CG(1),r2=CG(-1);function cse(n){return"clientX"in n&&"clientY"in n}function x7(n){if(!n)return!1;const{KeyboardEvent:e}=sf(n.target);return e&&n instanceof e}function hse(n){if(!n)return!1;const{TouchEvent:e}=sf(n.target);return e&&n instanceof e}function gO(n){if(hse(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return cse(n)?{x:n.clientX,y:n.clientY}:null}const vb=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[vb.Translate.toString(n),vb.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),zk="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dse(n){return n.matches(zk)?n:n.querySelector(zk)}const fse={display:"none"};function pse(n){let{id:e,value:t}=n;return ii.createElement("div",{id:e,style:fse},t)}function mse(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ii.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},t)}function gse(){const[n,e]=Gt.useState("");return{announce:Gt.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const _G=Gt.createContext(null);function yse(n){const e=Gt.useContext(_G);Gt.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function vse(){const[n]=Gt.useState(()=>new Set),e=Gt.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[Gt.useCallback(i=>{let{type:r,event:o}=i;n.forEach(s=>{var a;return(a=s[r])==null?void 0:a.call(s,o)})},[n]),e]}const Cse={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},_se={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function bse(n){let{announcements:e=_se,container:t,hiddenTextDescribedById:i,screenReaderInstructions:r=Cse}=n;const{announce:o,announcement:s}=gse(),a=sx("DndLiveRegion"),[p,g]=Gt.useState(!1);if(Gt.useEffect(()=>{g(!0)},[]),yse(Gt.useMemo(()=>({onDragStart(E){let{active:O}=E;o(e.onDragStart({active:O}))},onDragMove(E){let{active:O,over:B}=E;e.onDragMove&&o(e.onDragMove({active:O,over:B}))},onDragOver(E){let{active:O,over:B}=E;o(e.onDragOver({active:O,over:B}))},onDragEnd(E){let{active:O,over:B}=E;o(e.onDragEnd({active:O,over:B}))},onDragCancel(E){let{active:O,over:B}=E;o(e.onDragCancel({active:O,over:B}))}}),[o,e])),!p)return null;const _=ii.createElement(ii.Fragment,null,ii.createElement(pse,{id:i,value:r.draggable}),ii.createElement(mse,{id:a,announcement:s}));return t?y_.createPortal(_,t):_}var Oc;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Oc||(Oc={}));function o2(){}function xse(n,e){return Gt.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Mse(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Gt.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Cm=Object.freeze({x:0,y:0});function wse(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Sse(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function Ese(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function Bse(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function jk(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Ose=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=jk(e,e.left,e.top),o=[];for(const s of i){const{id:a}=s,p=t.get(a);if(p){const g=wse(jk(p),r);o.push({id:a,data:{droppableContainer:s,value:g}})}}return o.sort(Sse)};function Ise(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),s=r-i,a=o-t;if(i<r&&t<o){const p=e.width*e.height,g=n.width*n.height,_=s*a,E=_/(p+g-_);return Number(E.toFixed(4))}return 0}const Tse=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=[];for(const o of i){const{id:s}=o,a=t.get(s);if(a){const p=Ise(a,e);p>0&&r.push({id:s,data:{droppableContainer:o,value:p}})}}return r.sort(Ese)};function kse(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function bG(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Cm}function Dse(n){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>({...s,top:s.top+n*a.y,bottom:s.bottom+n*a.y,left:s.left+n*a.x,right:s.right+n*a.x}),{...t})}}const Rse=Dse(1);function Pse(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Use(n,e,t){const i=Pse(e);if(!i)return n;const{scaleX:r,scaleY:o,x:s,y:a}=i,p=n.left-s-(1-r)*parseFloat(t),g=n.top-a-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),_=r?n.width/r:n.width,E=o?n.height/o:n.height;return{width:_,height:E,top:g,right:p+_,bottom:g+E,left:p}}const Kse={ignoreTransform:!1};function wC(n,e){e===void 0&&(e=Kse);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:_}=sf(n).getComputedStyle(n);g&&(t=Use(t,g,_))}const{top:i,left:r,width:o,height:s,bottom:a,right:p}=t;return{top:i,left:r,width:o,height:s,bottom:a,right:p}}function Nk(n){return wC(n,{ignoreTransform:!0})}function Lse(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Fse(n,e){return e===void 0&&(e=sf(n).getComputedStyle(n)),e.position==="fixed"}function zse(n,e){e===void 0&&(e=sf(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=e[r];return typeof o=="string"?t.test(o):!1})}function M7(n,e){const t=[];function i(r){if(e!=null&&t.length>=e||!r)return t;if(_7(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!ox(r)||vG(r)||t.includes(r))return t;const o=sf(n).getComputedStyle(r);return r!==n&&zse(r,o)&&t.push(r),Fse(r,o)?t:i(r.parentNode)}return n?i(n):t}function xG(n){const[e]=M7(n,1);return e??null}function dM(n){return!g4||!n?null:xC(n)?n:C7(n)?_7(n)||n===MC(n).scrollingElement?window:ox(n)?n:null:null}function MG(n){return xC(n)?n.scrollX:n.scrollLeft}function wG(n){return xC(n)?n.scrollY:n.scrollTop}function yO(n){return{x:MG(n),y:wG(n)}}var Xc;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Xc||(Xc={}));function SG(n){return!g4||!n?!1:n===document.scrollingElement}function EG(n){const e={x:0,y:0},t=SG(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},r=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,s=n.scrollTop>=i.y,a=n.scrollLeft>=i.x;return{isTop:r,isLeft:o,isBottom:s,isRight:a,maxScroll:i,minScroll:e}}const jse={x:.2,y:.2};function Nse(n,e,t,i,r){let{top:o,left:s,right:a,bottom:p}=t;i===void 0&&(i=10),r===void 0&&(r=jse);const{isTop:g,isBottom:_,isLeft:E,isRight:O}=EG(n),B={x:0,y:0},z={x:0,y:0},N={height:e.height*r.y,width:e.width*r.x};return!g&&o<=e.top+N.height?(B.y=Xc.Backward,z.y=i*Math.abs((e.top+N.height-o)/N.height)):!_&&p>=e.bottom-N.height&&(B.y=Xc.Forward,z.y=i*Math.abs((e.bottom-N.height-p)/N.height)),!O&&a>=e.right-N.width?(B.x=Xc.Forward,z.x=i*Math.abs((e.right-N.width-a)/N.width)):!E&&s<=e.left+N.width&&(B.x=Xc.Backward,z.x=i*Math.abs((e.left+N.width-s)/N.width)),{direction:B,speed:z}}function Gse(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:e,left:t,right:i,bottom:r}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:r,width:n.clientWidth,height:n.clientHeight}}function BG(n){return n.reduce((e,t)=>Qv(e,yO(t)),Cm)}function Wse(n){return n.reduce((e,t)=>e+MG(t),0)}function Qse(n){return n.reduce((e,t)=>e+wG(t),0)}function Yse(n,e){if(e===void 0&&(e=wC),!n)return;const{top:t,left:i,bottom:r,right:o}=e(n);xG(n)&&(r<=0||o<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const qse=[["x",["left","right"],Wse],["y",["top","bottom"],Qse]];class w7{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=M7(t),r=BG(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,s,a]of qse)for(const p of s)Object.defineProperty(this,p,{get:()=>{const g=a(i),_=r[o]-g;return this.rect[p]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class U_{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var r;(r=this.target)==null||r.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function Hse(n){const{EventTarget:e}=sf(n);return n instanceof e?n:MC(n)}function fM(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var Bp;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Bp||(Bp={}));function Gk(n){n.preventDefault()}function Vse(n){n.stopPropagation()}var zs;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(zs||(zs={}));const OG={start:[zs.Space,zs.Enter],cancel:[zs.Esc],end:[zs.Space,zs.Enter,zs.Tab]},$se=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case zs.Right:return{...t,x:t.x+25};case zs.Left:return{...t,x:t.x-25};case zs.Down:return{...t,y:t.y+25};case zs.Up:return{...t,y:t.y-25}}};class IG{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new U_(MC(t)),this.windowListeners=new U_(sf(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bp.Resize,this.handleCancel),this.windowListeners.add(Bp.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bp.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&Yse(i),t(Cm)}handleKeyDown(e){if(x7(e)){const{active:t,context:i,options:r}=this.props,{keyboardCodes:o=OG,coordinateGetter:s=$se,scrollBehavior:a="smooth"}=r,{code:p}=e;if(o.end.includes(p)){this.handleEnd(e);return}if(o.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:g}=i.current,_=g?{x:g.left,y:g.top}:Cm;this.referenceCoordinates||(this.referenceCoordinates=_);const E=s(e,{active:t,context:i.current,currentCoordinates:_});if(E){const O=r2(E,_),B={x:0,y:0},{scrollableAncestors:z}=i.current;for(const N of z){const Q=e.code,{isTop:$,isRight:X,isLeft:re,isBottom:ne,maxScroll:V,minScroll:J}=EG(N),W=Gse(N),he={x:Math.min(Q===zs.Right?W.right-W.width/2:W.right,Math.max(Q===zs.Right?W.left:W.left+W.width/2,E.x)),y:Math.min(Q===zs.Down?W.bottom-W.height/2:W.bottom,Math.max(Q===zs.Down?W.top:W.top+W.height/2,E.y))},ge=Q===zs.Right&&!X||Q===zs.Left&&!re,ve=Q===zs.Down&&!ne||Q===zs.Up&&!$;if(ge&&he.x!==E.x){const _e=N.scrollLeft+O.x,Me=Q===zs.Right&&_e<=V.x||Q===zs.Left&&_e>=J.x;if(Me&&!O.y){N.scrollTo({left:_e,behavior:a});return}Me?B.x=N.scrollLeft-_e:B.x=Q===zs.Right?N.scrollLeft-V.x:N.scrollLeft-J.x,B.x&&N.scrollBy({left:-B.x,behavior:a});break}else if(ve&&he.y!==E.y){const _e=N.scrollTop+O.y,Me=Q===zs.Down&&_e<=V.y||Q===zs.Up&&_e>=J.y;if(Me&&!O.x){N.scrollTo({top:_e,behavior:a});return}Me?B.y=N.scrollTop-_e:B.y=Q===zs.Down?N.scrollTop-V.y:N.scrollTop-J.y,B.y&&N.scrollBy({top:-B.y,behavior:a});break}}this.handleMove(e,Qv(r2(E,this.referenceCoordinates),B))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}IG.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=OG,onActivation:r}=e,{active:o}=t;const{code:s}=n.nativeEvent;if(i.start.includes(s)){const a=o.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function Wk(n){return!!(n&&"distance"in n)}function Qk(n){return!!(n&&"delay"in n)}class S7{constructor(e,t,i){var r;i===void 0&&(i=Hse(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:s}=o;this.props=e,this.events=t,this.document=MC(s),this.documentListeners=new U_(this.document),this.listeners=new U_(i),this.windowListeners=new U_(sf(s)),this.initialCoordinates=(r=gO(o))!=null?r:Cm,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Bp.Resize,this.handleCancel),this.windowListeners.add(Bp.DragStart,Gk),this.windowListeners.add(Bp.VisibilityChange,this.handleCancel),this.windowListeners.add(Bp.ContextMenu,Gk),this.documentListeners.add(Bp.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Qk(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Wk(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Bp.Click,Vse,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bp.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:r,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!r)return;const p=(t=gO(e))!=null?t:Cm,g=r2(r,p);if(!i&&a){if(Wk(a)){if(a.tolerance!=null&&fM(g,a.tolerance))return this.handleCancel();if(fM(g,a.distance))return this.handleStart()}if(Qk(a)&&fM(g,a.tolerance))return this.handleCancel();this.handlePending(a,g);return}e.cancelable&&e.preventDefault(),s(p)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===zs.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Zse={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class E7 extends S7{constructor(e){const{event:t}=e,i=MC(t.target);super(e,Zse,i)}}E7.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const Xse={move:{name:"mousemove"},end:{name:"mouseup"}};var vO;(function(n){n[n.RightClick=2]="RightClick"})(vO||(vO={}));class Jse extends S7{constructor(e){super(e,Xse,MC(e.event.target))}}Jse.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===vO.RightClick?!1:(i?.({event:t}),!0)}}];const pM={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ele extends S7{constructor(e){super(e,pM)}static setup(){return window.addEventListener(pM.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(pM.move.name,e)};function e(){}}}ele.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:r}=t;return r.length>1?!1:(i?.({event:t}),!0)}}];var K_;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(K_||(K_={}));var a2;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(a2||(a2={}));function tle(n){let{acceleration:e,activator:t=K_.Pointer,canScroll:i,draggingRect:r,enabled:o,interval:s=5,order:a=a2.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:_,delta:E,threshold:O}=n;const B=ile({delta:E,disabled:!o}),[z,N]=Ase(),Q=Gt.useRef({x:0,y:0}),$=Gt.useRef({x:0,y:0}),X=Gt.useMemo(()=>{switch(t){case K_.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case K_.DraggableRect:return r}},[t,r,p]),re=Gt.useRef(null),ne=Gt.useCallback(()=>{const J=re.current;if(!J)return;const W=Q.current.x*$.current.x,he=Q.current.y*$.current.y;J.scrollBy(W,he)},[]),V=Gt.useMemo(()=>a===a2.TreeOrder?[...g].reverse():g,[a,g]);Gt.useEffect(()=>{if(!o||!g.length||!X){N();return}for(const J of V){if(i?.(J)===!1)continue;const W=g.indexOf(J),he=_[W];if(!he)continue;const{direction:ge,speed:ve}=Nse(J,he,X,e,O);for(const _e of["x","y"])B[_e][ge[_e]]||(ve[_e]=0,ge[_e]=0);if(ve.x>0||ve.y>0){N(),re.current=J,z(ne,s),Q.current=ve,$.current=ge;return}}Q.current={x:0,y:0},$.current={x:0,y:0},N()},[e,ne,i,N,o,s,JSON.stringify(X),JSON.stringify(B),z,g,V,_,JSON.stringify(O)])}const nle={x:{[Xc.Backward]:!1,[Xc.Forward]:!1},y:{[Xc.Backward]:!1,[Xc.Forward]:!1}};function ile(n){let{delta:e,disabled:t}=n;const i=mO(e);return ax(r=>{if(t||!i||!r)return nle;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Xc.Backward]:r.x[Xc.Backward]||o.x===-1,[Xc.Forward]:r.x[Xc.Forward]||o.x===1},y:{[Xc.Backward]:r.y[Xc.Backward]||o.y===-1,[Xc.Forward]:r.y[Xc.Forward]||o.y===1}}},[t,e,i])}function rle(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return ax(r=>{var o;return e==null?null:(o=i??r)!=null?o:null},[i,e])}function ole(n,e){return Gt.useMemo(()=>n.reduce((t,i)=>{const{sensor:r}=i,o=r.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,i)}));return[...t,...o]},[]),[n,e])}var Cb;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Cb||(Cb={}));var CO;(function(n){n.Optimized="optimized"})(CO||(CO={}));const Yk=new Map;function ale(n,e){let{dragging:t,dependencies:i,config:r}=e;const[o,s]=Gt.useState(null),{frequency:a,measure:p,strategy:g}=r,_=Gt.useRef(n),E=Q(),O=yb(E),B=Gt.useCallback(function($){$===void 0&&($=[]),!O.current&&s(X=>X===null?$:X.concat($.filter(re=>!X.includes(re))))},[O]),z=Gt.useRef(null),N=ax($=>{if(E&&!t)return Yk;if(!$||$===Yk||_.current!==n||o!=null){const X=new Map;for(let re of n){if(!re)continue;if(o&&o.length>0&&!o.includes(re.id)&&re.rect.current){X.set(re.id,re.rect.current);continue}const ne=re.node.current,V=ne?new w7(p(ne),ne):null;re.rect.current=V,V&&X.set(re.id,V)}return X}return $},[n,o,t,E,p]);return Gt.useEffect(()=>{_.current=n},[n]),Gt.useEffect(()=>{E||B()},[t,E]),Gt.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),Gt.useEffect(()=>{E||typeof a!="number"||z.current!==null||(z.current=setTimeout(()=>{B(),z.current=null},a))},[a,E,B,...i]),{droppableRects:N,measureDroppableContainers:B,measuringScheduled:o!=null};function Q(){switch(g){case Cb.Always:return!1;case Cb.BeforeDragging:return t;default:return!t}}}function TG(n,e){return ax(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function sle(n,e){return TG(n,e)}function lle(n){let{callback:e,disabled:t}=n;const i=b7(e),r=Gt.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,t]);return Gt.useEffect(()=>()=>r?.disconnect(),[r]),r}function y4(n){let{callback:e,disabled:t}=n;const i=b7(e),r=Gt.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[t]);return Gt.useEffect(()=>()=>r?.disconnect(),[r]),r}function ule(n){return new w7(wC(n),n)}function qk(n,e,t){e===void 0&&(e=ule);const[i,r]=Gt.useState(null);function o(){r(p=>{if(!n)return null;if(n.isConnected===!1){var g;return(g=p??t)!=null?g:null}const _=e(n);return JSON.stringify(p)===JSON.stringify(_)?p:_})}const s=lle({callback(p){if(n)for(const g of p){const{type:_,target:E}=g;if(_==="childList"&&E instanceof HTMLElement&&E.contains(n)){o();break}}}}),a=y4({callback:o});return y0(()=>{o(),n?(a?.observe(n),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[n]),i}function Ale(n){const e=TG(n);return bG(n,e)}const Hk=[];function cle(n){const e=Gt.useRef(n),t=ax(i=>n?i&&i!==Hk&&n&&e.current&&n.parentNode===e.current.parentNode?i:M7(n):Hk,[n]);return Gt.useEffect(()=>{e.current=n},[n]),t}function hle(n){const[e,t]=Gt.useState(null),i=Gt.useRef(n),r=Gt.useCallback(o=>{const s=dM(o.target);s&&t(a=>a?(a.set(s,yO(s)),new Map(a)):null)},[]);return Gt.useEffect(()=>{const o=i.current;if(n!==o){s(o);const a=n.map(p=>{const g=dM(p);return g?(g.addEventListener("scroll",r,{passive:!0}),[g,yO(g)]):null}).filter(p=>p!=null);t(a.length?new Map(a):null),i.current=n}return()=>{s(n),s(o)};function s(a){a.forEach(p=>{const g=dM(p);g?.removeEventListener("scroll",r)})}},[r,n]),Gt.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,s)=>Qv(o,s),Cm):BG(n):Cm,[n,e])}function Vk(n,e){e===void 0&&(e=[]);const t=Gt.useRef(null);return Gt.useEffect(()=>{t.current=null},e),Gt.useEffect(()=>{const i=n!==Cm;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?r2(n,t.current):Cm}function dle(n){Gt.useEffect(()=>{if(!g4)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function fle(n,e){return Gt.useMemo(()=>n.reduce((t,i)=>{let{eventName:r,handler:o}=i;return t[r]=s=>{o(s,e)},t},{}),[n,e])}function kG(n){return Gt.useMemo(()=>n?Lse(n):null,[n])}const $k=[];function ple(n,e){e===void 0&&(e=wC);const[t]=n,i=kG(t?sf(t):null),[r,o]=Gt.useState($k);function s(){o(()=>n.length?n.map(p=>SG(p)?i:new w7(e(p),p)):$k)}const a=y4({callback:s});return y0(()=>{a?.disconnect(),s(),n.forEach(p=>a?.observe(p))},[n]),r}function mle(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return ox(e)?e:n}function gle(n){let{measure:e}=n;const[t,i]=Gt.useState(null),r=Gt.useCallback(g=>{for(const{target:_}of g)if(ox(_)){i(E=>{const O=e(_);return E?{...E,width:O.width,height:O.height}:O});break}},[e]),o=y4({callback:r}),s=Gt.useCallback(g=>{const _=mle(g);o?.disconnect(),_&&o?.observe(_),i(_?e(_):null)},[e,o]),[a,p]=i2(s);return Gt.useMemo(()=>({nodeRef:a,rect:t,setRef:p}),[t,a,p])}const yle=[{sensor:E7,options:{}},{sensor:IG,options:{}}],vle={current:{}},f3={draggable:{measure:Nk},droppable:{measure:Nk,strategy:Cb.WhileDragging,frequency:CO.Optimized},dragOverlay:{measure:wC}};class L_ extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const Cle={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new L_,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:o2},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:f3,measureDroppableContainers:o2,windowRect:null,measuringScheduled:!1},_le={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:o2,draggableNodes:new Map,over:null,measureDroppableContainers:o2},v4=Gt.createContext(_le),DG=Gt.createContext(Cle);function ble(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new L_}}}function xle(n,e){switch(e.type){case Oc.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Oc.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Oc.DragEnd:case Oc.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Oc.RegisterDroppable:{const{element:t}=e,{id:i}=t,r=new L_(n.droppable.containers);return r.set(i,t),{...n,droppable:{...n.droppable,containers:r}}}case Oc.SetDroppableDisabled:{const{id:t,key:i,disabled:r}=e,o=n.droppable.containers.get(t);if(!o||i!==o.key)return n;const s=new L_(n.droppable.containers);return s.set(t,{...o,disabled:r}),{...n,droppable:{...n.droppable,containers:s}}}case Oc.UnregisterDroppable:{const{id:t,key:i}=e,r=n.droppable.containers.get(t);if(!r||i!==r.key)return n;const o=new L_(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function Mle(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:r}=Gt.useContext(v4),o=mO(i),s=mO(t?.id);return Gt.useEffect(()=>{if(!e&&!i&&o&&s!=null){if(!x7(o)||document.activeElement===o.target)return;const a=r.get(s);if(!a)return;const{activatorNode:p,node:g}=a;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const _ of[p.current,g.current]){if(!_)continue;const E=dse(_);if(E){E.focus();break}}})}},[i,e,r,s,o]),null}function wle(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((r,o)=>o({transform:r,...i}),t):t}function Sle(n){return Gt.useMemo(()=>({draggable:{...f3.draggable,...n?.draggable},droppable:{...f3.droppable,...n?.droppable},dragOverlay:{...f3.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function Ele(n){let{activeNode:e,measure:t,initialRect:i,config:r=!0}=n;const o=Gt.useRef(!1),{x:s,y:a}=typeof r=="boolean"?{x:r,y:r}:r;y0(()=>{if(!s&&!a||!e){o.current=!1;return}if(o.current||!i)return;const g=e?.node.current;if(!g||g.isConnected===!1)return;const _=t(g),E=bG(_,i);if(s||(E.x=0),a||(E.y=0),o.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const O=xG(g);O&&O.scrollBy({top:E.y,left:E.x})}},[e,s,a,i,t])}const RG=Gt.createContext({...Cm,scaleX:1,scaleY:1});var Fg;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Fg||(Fg={}));const Ble=Gt.memo(function(e){var t,i,r,o;let{id:s,accessibility:a,autoScroll:p=!0,children:g,sensors:_=yle,collisionDetection:E=Tse,measuring:O,modifiers:B,...z}=e;const N=Gt.useReducer(xle,void 0,ble),[Q,$]=N,[X,re]=vse(),[ne,V]=Gt.useState(Fg.Uninitialized),J=ne===Fg.Initialized,{draggable:{active:W,nodes:he,translate:ge},droppable:{containers:ve}}=Q,_e=W!=null?he.get(W):null,Me=Gt.useRef({initial:null,translated:null}),be=Gt.useMemo(()=>{var rt;return W!=null?{id:W,data:(rt=_e?.data)!=null?rt:vle,rect:Me}:null},[W,_e]),ze=Gt.useRef(null),[Ce,Fe]=Gt.useState(null),[ot,mt]=Gt.useState(null),it=yb(z,Object.values(z)),ue=sx("DndDescribedBy",s),We=Gt.useMemo(()=>ve.getEnabled(),[ve]),tt=Sle(O),{droppableRects:ke,measureDroppableContainers:Et,measuringScheduled:gt}=ale(We,{dragging:J,dependencies:[ge.x,ge.y],config:tt.droppable}),xt=rle(he,W),Kt=Gt.useMemo(()=>ot?gO(ot):null,[ot]),je=kt(),Ke=sle(xt,tt.draggable.measure);Ele({activeNode:W!=null?he.get(W):null,config:je.layoutShiftCompensation,initialRect:Ke,measure:tt.draggable.measure});const Ue=qk(xt,tt.draggable.measure,Ke),Ve=qk(xt?xt.parentElement:null),bt=Gt.useRef({activatorEvent:null,active:null,activeNode:xt,collisionRect:null,collisions:null,droppableRects:ke,draggableNodes:he,draggingNode:null,draggingNodeRect:null,droppableContainers:ve,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vt=ve.getNodeFor((t=bt.current.over)==null?void 0:t.id),It=gle({measure:tt.dragOverlay.measure}),Yt=(i=It.nodeRef.current)!=null?i:xt,Ut=J?(r=It.rect)!=null?r:Ue:null,on=!!(It.nodeRef.current&&It.rect),Hn=Ale(on?null:Ue),Wt=kG(Yt?sf(Yt):null),Gn=cle(J?vt??xt:null),On=ple(Gn),Bn=wle(B,{transform:{x:ge.x-Hn.x,y:ge.y-Hn.y,scaleX:1,scaleY:1},activatorEvent:ot,active:be,activeNodeRect:Ue,containerNodeRect:Ve,draggingNodeRect:Ut,over:bt.current.over,overlayNodeRect:It.rect,scrollableAncestors:Gn,scrollableAncestorRects:On,windowRect:Wt}),Tn=Kt?Qv(Kt,ge):null,Oi=hle(Gn),Vn=Vk(Oi),Lt=Vk(Oi,[Ue]),De=Qv(Bn,Vn),de=Ut?Rse(Ut,Bn):null,oe=be&&de?E({active:be,collisionRect:de,droppableRects:ke,droppableContainers:We,pointerCoordinates:Tn}):null,le=Bse(oe,"id"),[me,Ie]=Gt.useState(null),Qe=on?Bn:Qv(Bn,Lt),At=kse(Qe,(o=me?.rect)!=null?o:null,Ue),He=Gt.useRef(null),Re=Gt.useCallback((rt,tn)=>{let{sensor:Rn,options:wn}=tn;if(ze.current==null)return;const ri=he.get(ze.current);if(!ri)return;const Qn=rt.nativeEvent,$i=new Rn({active:ze.current,activeNode:ri,event:Qn,options:wn,context:bt,onAbort(Ii){if(!he.get(Ii))return;const{onDragAbort:ti}=it.current,qi={id:Ii};ti?.(qi),X({type:"onDragAbort",event:qi})},onPending(Ii,di,ti,qi){if(!he.get(Ii))return;const{onDragPending:co}=it.current,Zi={id:Ii,constraint:di,initialCoordinates:ti,offset:qi};co?.(Zi),X({type:"onDragPending",event:Zi})},onStart(Ii){const di=ze.current;if(di==null)return;const ti=he.get(di);if(!ti)return;const{onDragStart:qi}=it.current,Sn={activatorEvent:Qn,active:{id:di,data:ti.data,rect:Me}};y_.unstable_batchedUpdates(()=>{qi?.(Sn),V(Fg.Initializing),$({type:Oc.DragStart,initialCoordinates:Ii,active:di}),X({type:"onDragStart",event:Sn}),Fe(He.current),mt(Qn)})},onMove(Ii){$({type:Oc.DragMove,coordinates:Ii})},onEnd:ir(Oc.DragEnd),onCancel:ir(Oc.DragCancel)});He.current=$i;function ir(Ii){return async function(){const{active:ti,collisions:qi,over:Sn,scrollAdjustedTranslate:co}=bt.current;let Zi=null;if(ti&&co){const{cancelDrop:_a}=it.current;Zi={activatorEvent:Qn,active:ti,collisions:qi,delta:co,over:Sn},Ii===Oc.DragEnd&&typeof _a=="function"&&await Promise.resolve(_a(Zi))&&(Ii=Oc.DragCancel)}ze.current=null,y_.unstable_batchedUpdates(()=>{$({type:Ii}),V(Fg.Uninitialized),Ie(null),Fe(null),mt(null),He.current=null;const _a=Ii===Oc.DragEnd?"onDragEnd":"onDragCancel";if(Zi){const Ro=it.current[_a];Ro?.(Zi),X({type:_a,event:Zi})}})}}},[he]),Ze=Gt.useCallback((rt,tn)=>(Rn,wn)=>{const ri=Rn.nativeEvent,Qn=he.get(wn);if(ze.current!==null||!Qn||ri.dndKit||ri.defaultPrevented)return;const $i={active:Qn};rt(Rn,tn.options,$i)===!0&&(ri.dndKit={capturedBy:tn.sensor},ze.current=wn,Re(Rn,tn))},[he,Re]),y=ole(_,Ze);dle(_),y0(()=>{Ue&&ne===Fg.Initializing&&V(Fg.Initialized)},[Ue,ne]),Gt.useEffect(()=>{const{onDragMove:rt}=it.current,{active:tn,activatorEvent:Rn,collisions:wn,over:ri}=bt.current;if(!tn||!Rn)return;const Qn={active:tn,activatorEvent:Rn,collisions:wn,delta:{x:De.x,y:De.y},over:ri};y_.unstable_batchedUpdates(()=>{rt?.(Qn),X({type:"onDragMove",event:Qn})})},[De.x,De.y]),Gt.useEffect(()=>{const{active:rt,activatorEvent:tn,collisions:Rn,droppableContainers:wn,scrollAdjustedTranslate:ri}=bt.current;if(!rt||ze.current==null||!tn||!ri)return;const{onDragOver:Qn}=it.current,$i=wn.get(le),ir=$i&&$i.rect.current?{id:$i.id,rect:$i.rect.current,data:$i.data,disabled:$i.disabled}:null,Ii={active:rt,activatorEvent:tn,collisions:Rn,delta:{x:ri.x,y:ri.y},over:ir};y_.unstable_batchedUpdates(()=>{Ie(ir),Qn?.(Ii),X({type:"onDragOver",event:Ii})})},[le]),y0(()=>{bt.current={activatorEvent:ot,active:be,activeNode:xt,collisionRect:de,collisions:oe,droppableRects:ke,draggableNodes:he,draggingNode:Yt,draggingNodeRect:Ut,droppableContainers:ve,over:me,scrollableAncestors:Gn,scrollAdjustedTranslate:De},Me.current={initial:Ut,translated:de}},[be,xt,oe,de,he,Yt,Ut,ke,ve,me,Gn,De]),tle({...je,delta:ge,draggingRect:de,pointerCoordinates:Tn,scrollableAncestors:Gn,scrollableAncestorRects:On});const yt=Gt.useMemo(()=>({active:be,activeNode:xt,activeNodeRect:Ue,activatorEvent:ot,collisions:oe,containerNodeRect:Ve,dragOverlay:It,draggableNodes:he,droppableContainers:ve,droppableRects:ke,over:me,measureDroppableContainers:Et,scrollableAncestors:Gn,scrollableAncestorRects:On,measuringConfiguration:tt,measuringScheduled:gt,windowRect:Wt}),[be,xt,Ue,ot,oe,Ve,It,he,ve,ke,me,Et,Gn,On,tt,gt,Wt]),dt=Gt.useMemo(()=>({activatorEvent:ot,activators:y,active:be,activeNodeRect:Ue,ariaDescribedById:{draggable:ue},dispatch:$,draggableNodes:he,over:me,measureDroppableContainers:Et}),[ot,y,be,Ue,$,ue,he,me,Et]);return ii.createElement(_G.Provider,{value:re},ii.createElement(v4.Provider,{value:dt},ii.createElement(DG.Provider,{value:yt},ii.createElement(RG.Provider,{value:At},g)),ii.createElement(Mle,{disabled:a?.restoreFocus===!1})),ii.createElement(bse,{...a,hiddenTextDescribedById:ue}));function kt(){const rt=Ce?.autoScrollEnabled===!1,tn=typeof p=="object"?p.enabled===!1:p===!1,Rn=J&&!rt&&!tn;return typeof p=="object"?{...p,enabled:Rn}:{enabled:Rn}}}),Ole=Gt.createContext(null),Zk="button",Ile="Draggable";function Tle(n){let{id:e,data:t,disabled:i=!1,attributes:r}=n;const o=sx(Ile),{activators:s,activatorEvent:a,active:p,activeNodeRect:g,ariaDescribedById:_,draggableNodes:E,over:O}=Gt.useContext(v4),{role:B=Zk,roleDescription:z="draggable",tabIndex:N=0}=r??{},Q=p?.id===e,$=Gt.useContext(Q?RG:Ole),[X,re]=i2(),[ne,V]=i2(),J=fle(s,e),W=yb(t);y0(()=>(E.set(e,{id:e,key:o,node:X,activatorNode:ne,data:W}),()=>{const ge=E.get(e);ge&&ge.key===o&&E.delete(e)}),[E,e]);const he=Gt.useMemo(()=>({role:B,tabIndex:N,"aria-disabled":i,"aria-pressed":Q&&B===Zk?!0:void 0,"aria-roledescription":z,"aria-describedby":_.draggable}),[i,B,N,Q,z,_.draggable]);return{active:p,activatorEvent:a,activeNodeRect:g,attributes:he,isDragging:Q,listeners:i?void 0:J,node:X,over:O,setNodeRef:re,setActivatorNodeRef:V,transform:$}}function kle(){return Gt.useContext(DG)}const Dle="Droppable",Rle={timeout:25};function Ple(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:r}=n;const o=sx(Dle),{active:s,dispatch:a,over:p,measureDroppableContainers:g}=Gt.useContext(v4),_=Gt.useRef({disabled:t}),E=Gt.useRef(!1),O=Gt.useRef(null),B=Gt.useRef(null),{disabled:z,updateMeasurementsFor:N,timeout:Q}={...Rle,...r},$=yb(N??i),X=Gt.useCallback(()=>{if(!E.current){E.current=!0;return}B.current!=null&&clearTimeout(B.current),B.current=setTimeout(()=>{g(Array.isArray($.current)?$.current:[$.current]),B.current=null},Q)},[Q]),re=y4({callback:X,disabled:z||!s}),ne=Gt.useCallback((he,ge)=>{re&&(ge&&(re.unobserve(ge),E.current=!1),he&&re.observe(he))},[re]),[V,J]=i2(ne),W=yb(e);return Gt.useEffect(()=>{!re||!V.current||(re.disconnect(),E.current=!1,re.observe(V.current))},[V,re]),Gt.useEffect(()=>(a({type:Oc.RegisterDroppable,element:{id:i,key:o,disabled:t,node:V,rect:O,data:W}}),()=>a({type:Oc.UnregisterDroppable,key:o,id:i})),[i]),Gt.useEffect(()=>{t!==_.current.disabled&&(a({type:Oc.SetDroppableDisabled,id:i,key:o,disabled:t}),_.current.disabled=t)},[i,o,t,a]),{active:s,rect:O,isOver:p?.id===i,node:V,over:p,setNodeRef:J}}function PG(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function Ule(n,e){return n.reduce((t,i,r)=>{const o=e.get(i);return o&&(t[r]=o),t},Array(n.length))}function Nx(n){return n!==null&&n>=0}function Kle(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Lle(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const UG=n=>{let{rects:e,activeIndex:t,overIndex:i,index:r}=n;const o=PG(e,i,t),s=e[r],a=o[r];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},Gx={scaleX:1,scaleY:1},Fle=n=>{var e;let{activeIndex:t,activeNodeRect:i,index:r,rects:o,overIndex:s}=n;const a=(e=o[t])!=null?e:i;if(!a)return null;if(r===t){const g=o[s];return g?{x:0,y:t<s?g.top+g.height-(a.top+a.height):g.top-a.top,...Gx}:null}const p=zle(o,r,t);return r>t&&r<=s?{x:0,y:-a.height-p,...Gx}:r<t&&r>=s?{x:0,y:a.height+p,...Gx}:{x:0,y:0,...Gx}};function zle(n,e,t){const i=n[e],r=n[e-1],o=n[e+1];return i?t<e?r?i.top-(r.top+r.height):o?o.top-(i.top+i.height):0:o?o.top-(i.top+i.height):r?i.top-(r.top+r.height):0:0}const KG="Sortable",LG=ii.createContext({activeIndex:-1,containerId:KG,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:UG,disabled:{draggable:!1,droppable:!1}});function jle(n){let{children:e,id:t,items:i,strategy:r=UG,disabled:o=!1}=n;const{active:s,dragOverlay:a,droppableRects:p,over:g,measureDroppableContainers:_}=kle(),E=sx(KG,t),O=a.rect!==null,B=Gt.useMemo(()=>i.map(J=>typeof J=="object"&&"id"in J?J.id:J),[i]),z=s!=null,N=s?B.indexOf(s.id):-1,Q=g?B.indexOf(g.id):-1,$=Gt.useRef(B),X=!Kle(B,$.current),re=Q!==-1&&N===-1||X,ne=Lle(o);y0(()=>{X&&z&&_(B)},[X,B,z,_]),Gt.useEffect(()=>{$.current=B},[B]);const V=Gt.useMemo(()=>({activeIndex:N,containerId:E,disabled:ne,disableTransforms:re,items:B,overIndex:Q,useDragOverlay:O,sortedRects:Ule(B,p),strategy:r}),[N,E,ne.draggable,ne.droppable,re,B,Q,p,O,r]);return ii.createElement(LG.Provider,{value:V},e)}const Nle=n=>{let{id:e,items:t,activeIndex:i,overIndex:r}=n;return PG(t,i,r).indexOf(e)},Gle=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:r,items:o,newIndex:s,previousItems:a,previousContainerId:p,transition:g}=n;return!g||!i||a!==o&&r===s?!1:t?!0:s!==r&&e===p},Wle={duration:200,easing:"ease"},FG="transform",Qle=vb.Transition.toString({property:FG,duration:0,easing:"linear"}),Yle={roleDescription:"sortable"};function qle(n){let{disabled:e,index:t,node:i,rect:r}=n;const[o,s]=Gt.useState(null),a=Gt.useRef(t);return y0(()=>{if(!e&&t!==a.current&&i.current){const p=r.current;if(p){const g=wC(i.current,{ignoreTransform:!0}),_={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(_.x||_.y)&&s(_)}}t!==a.current&&(a.current=t)},[e,t,i,r]),Gt.useEffect(()=>{o&&s(null)},[o]),o}function Hle(n){let{animateLayoutChanges:e=Gle,attributes:t,disabled:i,data:r,getNewIndex:o=Nle,id:s,strategy:a,resizeObserverConfig:p,transition:g=Wle}=n;const{items:_,containerId:E,activeIndex:O,disabled:B,disableTransforms:z,sortedRects:N,overIndex:Q,useDragOverlay:$,strategy:X}=Gt.useContext(LG),re=Vle(i,B),ne=_.indexOf(s),V=Gt.useMemo(()=>({sortable:{containerId:E,index:ne,items:_},...r}),[E,r,ne,_]),J=Gt.useMemo(()=>_.slice(_.indexOf(s)),[_,s]),{rect:W,node:he,isOver:ge,setNodeRef:ve}=Ple({id:s,data:V,disabled:re.droppable,resizeObserverConfig:{updateMeasurementsFor:J,...p}}),{active:_e,activatorEvent:Me,activeNodeRect:be,attributes:ze,setNodeRef:Ce,listeners:Fe,isDragging:ot,over:mt,setActivatorNodeRef:it,transform:ue}=Tle({id:s,data:V,attributes:{...Yle,...t},disabled:re.draggable}),We=use(ve,Ce),tt=!!_e,ke=tt&&!z&&Nx(O)&&Nx(Q),Et=!$&&ot,gt=Et&&ke?ue:null,Kt=ke?gt??(a??X)({rects:N,activeNodeRect:be,activeIndex:O,overIndex:Q,index:ne}):null,je=Nx(O)&&Nx(Q)?o({id:s,items:_,activeIndex:O,overIndex:Q}):ne,Ke=_e?.id,Ue=Gt.useRef({activeId:Ke,items:_,newIndex:je,containerId:E}),Ve=_!==Ue.current.items,bt=e({active:_e,containerId:E,isDragging:ot,isSorting:tt,id:s,index:ne,items:_,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:g,wasDragging:Ue.current.activeId!=null}),vt=qle({disabled:!bt,index:ne,node:he,rect:W});return Gt.useEffect(()=>{tt&&Ue.current.newIndex!==je&&(Ue.current.newIndex=je),E!==Ue.current.containerId&&(Ue.current.containerId=E),_!==Ue.current.items&&(Ue.current.items=_)},[tt,je,E,_]),Gt.useEffect(()=>{if(Ke===Ue.current.activeId)return;if(Ke!=null&&Ue.current.activeId==null){Ue.current.activeId=Ke;return}const Yt=setTimeout(()=>{Ue.current.activeId=Ke},50);return()=>clearTimeout(Yt)},[Ke]),{active:_e,activeIndex:O,attributes:ze,data:V,rect:W,index:ne,newIndex:je,items:_,isOver:ge,isSorting:tt,isDragging:ot,listeners:Fe,node:he,overIndex:Q,over:mt,setNodeRef:We,setActivatorNodeRef:it,setDroppableNodeRef:ve,setDraggableNodeRef:Ce,transform:vt??Kt,transition:It()};function It(){if(vt||Ve&&Ue.current.newIndex===ne)return Qle;if(!(Et&&!x7(Me)||!g)&&(tt||bt))return vb.Transition.toString({...g,property:FG})}}function Vle(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(i=n?.droppable)!=null?i:e.droppable}}zs.Down,zs.Right,zs.Up,zs.Left;function Y1(){var n="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",e="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Y1=function(){return s},s}Y1();class $le extends ii.Component{render(){Y1().f[0]++;const e=(Y1().s[0]++,{width:20,height:20,...this.props.style});return Y1().s[1]++,this.props.isCollapsed?(Y1().b[0][0]++,Ae.jsx(gj,{style:e})):(Y1().b[0][1]++,Ae.jsx(mj,{style:e}))}}function Uv(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",e="b04bfec534013c327fd210571832bbd2813a944a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Uv=function(){return s},s}Uv();class Zle extends ii.Component{render(){return Uv().f[0]++,Uv().s[0]++,Ae.jsx("li",{className:"maputnik-layer-list-group",children:Ae.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:e=>(Uv().f[1]++,Uv().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[Ae.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx($le,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function _r(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",e="65a9cb0d1a08cfab21a14c1632991e31e3063aa8",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:9,column:23},end:{line:22,column:1}},1:{start:{line:10,column:44},end:{line:10,column:49}},2:{start:{line:11,column:2},end:{line:21,column:7}},3:{start:{line:25,column:4},end:{line:34,column:5}},4:{start:{line:27,column:8},end:{line:27,column:54}},5:{start:{line:29,column:8},end:{line:29,column:53}},6:{start:{line:31,column:8},end:{line:31,column:56}},7:{start:{line:33,column:8},end:{line:33,column:49}},8:{start:{line:37,column:51},end:{line:37,column:61}},9:{start:{line:38,column:25},end:{line:38,column:27}},10:{start:{line:39,column:4},end:{line:44,column:5}},11:{start:{line:40,column:6},end:{line:40,column:76}},12:{start:{line:41,column:6},end:{line:43,column:7}},13:{start:{line:42,column:8},end:{line:42,column:103}},14:{start:{line:45,column:4},end:{line:56,column:6}},15:{start:{line:59,column:22},end:{line:145,column:2}},16:{start:{line:69,column:6},end:{line:69,column:11}},17:{start:{line:77,column:6},end:{line:77,column:40}},18:{start:{line:78,column:16},end:{line:82,column:3}},19:{start:{line:83,column:27},end:{line:83,column:69}},20:{start:{line:84,column:20},end:{line:84,column:23}},21:{start:{line:85,column:2},end:{line:144,column:7}},22:{start:{line:89,column:8},end:{line:89,column:25}},23:{start:{line:90,column:8},end:{line:92,column:9}},24:{start:{line:91,column:10},end:{line:91,column:35}},25:{start:{line:96,column:23},end:{line:96,column:60}},26:{start:{line:120,column:29},end:{line:120,column:61}},27:{start:{line:129,column:29},end:{line:129,column:58}},28:{start:{line:139,column:29},end:{line:139,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:23},end:{line:9,column:24}},loc:{start:{line:9,column:34},end:{line:22,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:15},end:{line:35,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:57,column:3}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:59,column:39},end:{line:59,column:40}},loc:{start:{line:59,column:55},end:{line:145,column:1}},line:59},4:{name:"(anonymous_4)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:24},end:{line:64,column:5}},line:63},5:{name:"(anonymous_5)",decl:{start:{line:65,column:21},end:{line:65,column:22}},loc:{start:{line:65,column:27},end:{line:66,column:5}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:67,column:30},end:{line:67,column:31}},loc:{start:{line:67,column:36},end:{line:68,column:5}},line:67},7:{name:"(anonymous_7)",decl:{start:{line:88,column:11},end:{line:88,column:12}},loc:{start:{line:88,column:21},end:{line:93,column:7}},line:88},8:{name:"(anonymous_8)",decl:{start:{line:96,column:15},end:{line:96,column:16}},loc:{start:{line:96,column:23},end:{line:96,column:60}},line:96},9:{name:"(anonymous_9)",decl:{start:{line:120,column:21},end:{line:120,column:22}},loc:{start:{line:120,column:29},end:{line:120,column:61}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:129,column:21},end:{line:129,column:22}},loc:{start:{line:129,column:29},end:{line:129,column:58}},line:129},11:{name:"(anonymous_11)",decl:{start:{line:139,column:21},end:{line:139,column:22}},loc:{start:{line:139,column:29},end:{line:139,column:70}},line:139}},branchMap:{0:{loc:{start:{line:25,column:4},end:{line:34,column:5}},type:"switch",locations:[{start:{line:26,column:6},end:{line:27,column:54}},{start:{line:28,column:6},end:{line:29,column:53}},{start:{line:30,column:6},end:{line:31,column:56}},{start:{line:32,column:6},end:{line:33,column:49}}],line:25},1:{loc:{start:{line:39,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:44,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},2:{loc:{start:{line:41,column:6},end:{line:43,column:7}},type:"if",locations:[{start:{line:41,column:6},end:{line:43,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:61,column:4},end:{line:61,column:22}},type:"default-arg",locations:[{start:{line:61,column:17},end:{line:61,column:22}}],line:61},4:{loc:{start:{line:62,column:4},end:{line:62,column:26}},type:"default-arg",locations:[{start:{line:62,column:17},end:{line:62,column:26}}],line:62},5:{loc:{start:{line:63,column:4},end:{line:64,column:5}},type:"default-arg",locations:[{start:{line:63,column:18},end:{line:64,column:5}}],line:63},6:{loc:{start:{line:65,column:4},end:{line:66,column:5}},type:"default-arg",locations:[{start:{line:65,column:21},end:{line:66,column:5}}],line:65},7:{loc:{start:{line:67,column:4},end:{line:68,column:5}},type:"default-arg",locations:[{start:{line:67,column:30},end:{line:68,column:5}}],line:67},8:{loc:{start:{line:81,column:13},end:{line:81,column:33}},type:"cond-expr",locations:[{start:{line:81,column:26},end:{line:81,column:29}},{start:{line:81,column:32},end:{line:81,column:33}}],line:81},9:{loc:{start:{line:83,column:27},end:{line:83,column:69}},type:"cond-expr",locations:[{start:{line:83,column:54},end:{line:83,column:60}},{start:{line:83,column:63},end:{line:83,column:69}}],line:83},10:{loc:{start:{line:90,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:92,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0],4:[0],5:[0],6:[0],7:[0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAmBS,SACL,KADK;AAnBT,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AACrE,SAAS,mBAAmB;AAC5B,SAAQ,mBAAkB;AAC1B,SAAQ,WAAU;AAElB,OAAO,eAAe;AAUtB,MAAM,iBAAgD,CAAC,UAAU;AAC/D,QAAM,EAAC,gBAAgB,cAAa,IAAI;AACxC,SAAO,qBAAC,SAAI,WAAU,mCAAmC,GAAG,gBAAiB,GAAG,eAC9E;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA,QACZ,OAAO,EAAE,OAAO,OAAO,QAAQ,OAAO,eAAe,SAAS;AAAA;AAAA,IAChE;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF;AAUA,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MACxB,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAClC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,gBAAgB,MAAM,WAA8C,CAAC,OAAO,QAAQ;AACxF,QAAM;AAAA,IACJ,aAAa;AAAA,IACb,aAAa;AAAA,IACb,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,0BAA0B,MAAM;AAAA,IAAC;AAAA,EACnC,IAAI;AAEJ,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,YAAY,EAAC,IAAI,MAAM,QAAO,CAAC;AAEnC,QAAM,QAAQ;AAAA,IACZ,WAAW,IAAI,UAAU,SAAS,SAAS;AAAA,IAC3C;AAAA,IACA,SAAS,aAAa,MAAM;AAAA,EAC9B;AAEA,QAAM,mBAAmB,eAAe,YAAY,SAAS;AAG7D,QAAM,YAAY;AAElB,SAAO,oBAAC,YAAY,UAAZ,EAAqB,OAAO,EAAC,MAAM,OAAM,GAC/C;AAAA,IAAC;AAAA;AAAA,MACC,KAAK,CAAC,SAAS;AACb,mBAAW,IAAI;AACf,YAAI,WAAW;AACb,oBAAU,UAAU;AAAA,QACtB;AAAA,MACF;AAAA,MACA;AAAA,MACA,IAAI,MAAM;AAAA,MACV,SAAS,QAAM,MAAM,cAAc,MAAM,UAAU;AAAA,MACnD,eAAa,qBAAqB,MAAM;AAAA,MACxC,WAAW,WAAW;AAAA,QACpB,4BAA4B;AAAA,QAC5B,qCAAqC;AAAA,QACrC,CAAC,MAAM,SAAU,GAAG;AAAA,MACtB,CAAC;AAAA,MACD;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,MAAM;AAAA,YACf,WAAW,MAAM;AAAA,YACjB,gBAAgB;AAAA,YAChB,eAAe;AAAA;AAAA,QACjB;AAAA,QACA,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,QAC5B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,qBAAqB,MAAM,UAAQ;AAAA,YAC1C,QAAQ;AAAA,YACR,gBAAe;AAAA,YACf,SAAS,QAAM,eAAgB,MAAM,UAAU;AAAA;AAAA,QACjD;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,qBAAqB,MAAM,UAAQ;AAAA,YAC1C,QAAQ;AAAA,YACR,gBAAe;AAAA,YACf,SAAS,QAAM,YAAa,MAAM,UAAU;AAAA;AAAA,QAC9C;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,qBAAmB,MAAM,UAAQ;AAAA,YACxC,QAAQ;AAAA,YACR,gBAAe;AAAA,YACf,oBAAoB;AAAA,YACpB,SAAS,QAAM,wBAAyB,MAAM,UAAU;AAAA;AAAA,QAC1D;AAAA;AAAA;AAAA,EACF,GACF;AACF,CAAC;AAED,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"65a9cb0d1a08cfab21a14c1632991e31e3063aa8"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return _r=function(){return s},s}_r();_r().s[0]++;const Xle=n=>{_r().f[0]++;const{dragAttributes:e,dragListeners:t}=(_r().s[1]++,n);return _r().s[2]++,Ae.jsxs("div",{className:"maputnik-layer-list-item-handle",...e,...t,children:[Ae.jsx(yj,{className:"layer-handle__icon",type:n.layerType,style:{width:"1em",height:"1em",verticalAlign:"middle"}}),Ae.jsx("button",{className:"maputnik-layer-list-item-id",children:n.layerId})]})};class mM extends ii.Component{renderIcon(){switch(_r().f[1]++,_r().s[3]++,this.props.action){case"duplicate":return _r().b[0][0]++,_r().s[4]++,Ae.jsx(PJ,{});case"show":return _r().b[0][1]++,_r().s[5]++,Ae.jsx(RJ,{});case"hide":return _r().b[0][2]++,_r().s[6]++,Ae.jsx(DJ,{});case"delete":return _r().b[0][3]++,_r().s[7]++,Ae.jsx(my,{})}}render(){_r().f[2]++;const{classBlockName:e,classBlockModifier:t}=(_r().s[8]++,this.props);let i=(_r().s[9]++,"");return _r().s[10]++,e?(_r().b[1][0]++,_r().s[11]++,i=`maputnik-layer-list-icon-action__${e}`,_r().s[12]++,t?(_r().b[2][0]++,_r().s[13]++,i+=` maputnik-layer-list-icon-action__${e}--${t}`):_r().b[2][1]++):_r().b[1][1]++,_r().s[14]++,Ae.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${i}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}const Jle=(_r().s[15]++,ii.forwardRef((n,e)=>{_r().f[3]++;const{isSelected:t=(_r().b[3][0]++,!1),visibility:i=(_r().b[4][0]++,"visible"),onLayerCopy:r=(_r().b[5][0]++,()=>{_r().f[4]++}),onLayerDestroy:o=(_r().b[6][0]++,()=>{_r().f[5]++}),onLayerVisibilityToggle:s=(_r().b[7][0]++,()=>{_r().f[6]++})}=(_r().s[16]++,n),{attributes:a,listeners:p,setNodeRef:g,transform:_,transition:E,isDragging:O}=(_r().s[17]++,Hle({id:n.layerId})),B=(_r().s[18]++,{transform:vb.Transform.toString(_),transition:E,opacity:O?(_r().b[8][0]++,.5):(_r().b[8][1]++,1)}),z=(_r().s[19]++,i==="visible"?(_r().b[9][0]++,"show"):(_r().b[9][1]++,"hide")),N=(_r().s[20]++,e);return _r().s[21]++,Ae.jsx(Xv.Provider,{value:{size:"14px"},children:Ae.jsxs("li",{ref:Q=>{_r().f[7]++,_r().s[22]++,g(Q),_r().s[23]++,N?(_r().b[10][0]++,_r().s[24]++,N.current=Q):_r().b[10][1]++},style:B,id:n.id,onClick:Q=>(_r().f[8]++,_r().s[25]++,n.onLayerSelect(n.layerIndex)),"data-wd-key":"layer-list-item:"+n.layerId,className:g0({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":t,[n.className]:!0}),children:[Ae.jsx(Xle,{layerId:n.layerId,layerType:n.layerType,dragAttributes:a,dragListeners:p}),Ae.jsx("span",{style:{flexGrow:1}}),Ae.jsx(mM,{wdKey:"layer-list-item:"+n.layerId+":delete",action:"delete",classBlockName:"delete",onClick:Q=>(_r().f[9]++,_r().s[26]++,o(n.layerIndex))}),Ae.jsx(mM,{wdKey:"layer-list-item:"+n.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:Q=>(_r().f[10]++,_r().s[27]++,r(n.layerIndex))}),Ae.jsx(mM,{wdKey:"layer-list-item:"+n.layerId+":toggle-visibility",action:z,classBlockName:"visibility",classBlockModifier:z,onClick:Q=>(_r().f[11]++,_r().s[28]++,s(n.layerIndex))})]})})}));function s2(){var n="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",e="522bfc6b8aacbfd03b55d947af2897dc69beb570",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return s2=function(){return s},s}s2();class Gs extends ii.Component{render(){return s2().f[0]++,s2().s[0]++,Ae.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:g0("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}var gM={exports:{}},yM,Xk;function eue(){if(Xk)return yM;Xk=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yM=n,yM}var vM,Jk;function tue(){if(Jk)return vM;Jk=1;var n=eue();function e(){}function t(){}return t.resetWarningCache=e,vM=function(){function i(s,a,p,g,_,E){if(E!==n){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},vM}var eD;function sg(){return eD||(eD=1,gM.exports=tue()()),gM.exports}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var zG=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],l2=zG.join(","),jG=typeof Element>"u",py=jG?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,u2=!jG&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},A2=function n(e,t){var i;t===void 0&&(t=!0);var r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),o=r===""||r==="true",s=o||t&&e&&n(e.parentNode);return s},nue=function(e){var t,i=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return i===""||i==="true"},NG=function(e,t,i){if(A2(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(l2));return t&&py.call(e,l2)&&r.unshift(e),r=r.filter(i),r},GG=function n(e,t,i){for(var r=[],o=Array.from(e);o.length;){var s=o.shift();if(!A2(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),p=a.length?a:s.children,g=n(p,!0,i);i.flatten?r.push.apply(r,g):r.push({scopeParent:s,candidates:g})}else{var _=py.call(s,l2);_&&i.filter(s)&&(t||!e.includes(s))&&r.push(s);var E=s.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(s),O=!A2(E,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(s));if(E&&O){var B=n(E===!0?s.children:E.children,!0,i);i.flatten?r.push.apply(r,B):r.push({scopeParent:s,candidates:B})}else o.unshift.apply(o,s.children)}}return r},WG=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},zg=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||nue(e))&&!WG(e)?0:e.tabIndex},iue=function(e,t){var i=zg(e);return i<0&&t&&!WG(e)?0:i},rue=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},QG=function(e){return e.tagName==="INPUT"},oue=function(e){return QG(e)&&e.type==="hidden"},aue=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return t},sue=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},lue=function(e){if(!e.name)return!0;var t=e.form||u2(e),i=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=sue(r,e.form);return!o||o===e},uue=function(e){return QG(e)&&e.type==="radio"},Aue=function(e){return uue(e)&&!lue(e)},cue=function(e){var t,i=e&&u2(e),r=(t=i)===null||t===void 0?void 0:t.host,o=!1;if(i&&i!==e){var s,a,p;for(o=!!((s=r)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(r)||e!=null&&(p=e.ownerDocument)!==null&&p!==void 0&&p.contains(e));!o&&r;){var g,_,E;i=u2(r),r=(g=i)===null||g===void 0?void 0:g.host,o=!!((_=r)!==null&&_!==void 0&&(E=_.ownerDocument)!==null&&E!==void 0&&E.contains(r))}}return o},tD=function(e){var t=e.getBoundingClientRect(),i=t.width,r=t.height;return i===0&&r===0},hue=function(e,t){var i=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=py.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(py.call(s,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var p=e.parentElement,g=u2(e);if(p&&!p.shadowRoot&&r(p)===!0)return tD(e);e.assignedSlot?e=e.assignedSlot:!p&&g!==e.ownerDocument?e=g.host:e=p}e=a}if(cue(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return tD(e);return!1},due=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var i=0;i<t.children.length;i++){var r=t.children.item(i);if(r.tagName==="LEGEND")return py.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},c2=function(e,t){return!(t.disabled||A2(t)||oue(t)||hue(t,e)||aue(t)||due(t))},_O=function(e,t){return!(Aue(t)||zg(t)<0||!c2(e,t))},fue=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},pue=function n(e){var t=[],i=[];return e.forEach(function(r,o){var s=!!r.scopeParent,a=s?r.scopeParent:r,p=iue(a,s),g=s?n(r.candidates):a;p===0?s?t.push.apply(t,g):t.push(a):i.push({documentOrder:o,tabIndex:p,item:r,isScope:s,content:g})}),i.sort(rue).reduce(function(r,o){return o.isScope?r.push.apply(r,o.content):r.push(o.content),r},[]).concat(t)},YG=function(e,t){t=t||{};var i;return t.getShadowRoot?i=GG([e],t.includeContainer,{filter:_O.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:fue}):i=NG(e,t.includeContainer,_O.bind(null,t)),pue(i)},qG=function(e,t){t=t||{};var i;return t.getShadowRoot?i=GG([e],t.includeContainer,{filter:c2.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):i=NG(e,t.includeContainer,c2.bind(null,t)),i},G1=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return py.call(e,l2)===!1?!1:_O(t,e)},mue=zG.concat("iframe").join(","),p3=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return py.call(e,mue)===!1?!1:c2(t,e)};const gue=Object.freeze(Object.defineProperty({__proto__:null,focusable:qG,getTabIndex:zg,isFocusable:p3,isTabbable:G1,tabbable:YG},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function nD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(t),!0).forEach(function(i){yue(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nD(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yue(n,e,t){return e=Cue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vue(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cue(n){var e=vue(n,"string");return typeof e=="symbol"?e:String(e)}var rD={activateTrap:function(e,t){if(e.length>0){var i=e[e.length-1];i!==t&&i.pause()}var r=e.indexOf(t);r===-1||e.splice(r,1),e.push(t)},deactivateTrap:function(e,t){var i=e.indexOf(t);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},_ue=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},bue=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},F_=function(e){return e?.key==="Tab"||e?.keyCode===9},xue=function(e){return F_(e)&&!e.shiftKey},Mue=function(e){return F_(e)&&e.shiftKey},oD=function(e){return setTimeout(e,0)},aD=function(e,t){var i=-1;return e.every(function(r,o){return t(r)?(i=o,!1):!0}),i},XC=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,i):e},Wx=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},wue=[],Sue=function(e,t){var i=t?.document||document,r=t?.trapStack||wue,o=iD({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:xue,isKeyBackward:Mue},t),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,p=function(Me,be,ze){return Me&&Me[be]!==void 0?Me[be]:o[ze||be]},g=function(Me,be){var ze=typeof be?.composedPath=="function"?be.composedPath():void 0;return s.containerGroups.findIndex(function(Ce){var Fe=Ce.container,ot=Ce.tabbableNodes;return Fe.contains(Me)||ze?.includes(Fe)||ot.find(function(mt){return mt===Me})})},_=function(Me){var be=o[Me];if(typeof be=="function"){for(var ze=arguments.length,Ce=new Array(ze>1?ze-1:0),Fe=1;Fe<ze;Fe++)Ce[Fe-1]=arguments[Fe];be=be.apply(void 0,Ce)}if(be===!0&&(be=void 0),!be){if(be===void 0||be===!1)return be;throw new Error("`".concat(Me,"` was specified but was not a node, or did not return a node"))}var ot=be;if(typeof be=="string"&&(ot=i.querySelector(be),!ot))throw new Error("`".concat(Me,"` as selector refers to no known node"));return ot},E=function(){var Me=_("initialFocus");if(Me===!1)return!1;if(Me===void 0||!p3(Me,o.tabbableOptions))if(g(i.activeElement)>=0)Me=i.activeElement;else{var be=s.tabbableGroups[0],ze=be&&be.firstTabbableNode;Me=ze||_("fallbackFocus")}if(!Me)throw new Error("Your focus-trap needs to have at least one focusable element");return Me},O=function(){if(s.containerGroups=s.containers.map(function(Me){var be=YG(Me,o.tabbableOptions),ze=qG(Me,o.tabbableOptions),Ce=be.length>0?be[0]:void 0,Fe=be.length>0?be[be.length-1]:void 0,ot=ze.find(function(ue){return G1(ue)}),mt=ze.slice().reverse().find(function(ue){return G1(ue)}),it=!!be.find(function(ue){return zg(ue)>0});return{container:Me,tabbableNodes:be,focusableNodes:ze,posTabIndexesFound:it,firstTabbableNode:Ce,lastTabbableNode:Fe,firstDomTabbableNode:ot,lastDomTabbableNode:mt,nextTabbableNode:function(We){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=be.indexOf(We);return ke<0?tt?ze.slice(ze.indexOf(We)+1).find(function(Et){return G1(Et)}):ze.slice(0,ze.indexOf(We)).reverse().find(function(Et){return G1(Et)}):be[ke+(tt?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(Me){return Me.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!_("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(Me){return Me.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},B=function _e(Me){var be=Me.activeElement;if(be)return be.shadowRoot&&be.shadowRoot.activeElement!==null?_e(be.shadowRoot):be},z=function _e(Me){if(Me!==!1&&Me!==B(document)){if(!Me||!Me.focus){_e(E());return}Me.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=Me,_ue(Me)&&Me.select()}},N=function(Me){var be=_("setReturnFocus",Me);return be||(be===!1?!1:Me)},Q=function(Me){var be=Me.target,ze=Me.event,Ce=Me.isBackward,Fe=Ce===void 0?!1:Ce;be=be||Wx(ze),O();var ot=null;if(s.tabbableGroups.length>0){var mt=g(be,ze),it=mt>=0?s.containerGroups[mt]:void 0;if(mt<0)Fe?ot=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:ot=s.tabbableGroups[0].firstTabbableNode;else if(Fe){var ue=aD(s.tabbableGroups,function(xt){var Kt=xt.firstTabbableNode;return be===Kt});if(ue<0&&(it.container===be||p3(be,o.tabbableOptions)&&!G1(be,o.tabbableOptions)&&!it.nextTabbableNode(be,!1))&&(ue=mt),ue>=0){var We=ue===0?s.tabbableGroups.length-1:ue-1,tt=s.tabbableGroups[We];ot=zg(be)>=0?tt.lastTabbableNode:tt.lastDomTabbableNode}else F_(ze)||(ot=it.nextTabbableNode(be,!1))}else{var ke=aD(s.tabbableGroups,function(xt){var Kt=xt.lastTabbableNode;return be===Kt});if(ke<0&&(it.container===be||p3(be,o.tabbableOptions)&&!G1(be,o.tabbableOptions)&&!it.nextTabbableNode(be))&&(ke=mt),ke>=0){var Et=ke===s.tabbableGroups.length-1?0:ke+1,gt=s.tabbableGroups[Et];ot=zg(be)>=0?gt.firstTabbableNode:gt.firstDomTabbableNode}else F_(ze)||(ot=it.nextTabbableNode(be))}}else ot=_("fallbackFocus");return ot},$=function(Me){var be=Wx(Me);if(!(g(be,Me)>=0)){if(XC(o.clickOutsideDeactivates,Me)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}XC(o.allowOutsideClick,Me)||Me.preventDefault()}},X=function(Me){var be=Wx(Me),ze=g(be,Me)>=0;if(ze||be instanceof Document)ze&&(s.mostRecentlyFocusedNode=be);else{Me.stopImmediatePropagation();var Ce,Fe=!0;if(s.mostRecentlyFocusedNode)if(zg(s.mostRecentlyFocusedNode)>0){var ot=g(s.mostRecentlyFocusedNode),mt=s.containerGroups[ot].tabbableNodes;if(mt.length>0){var it=mt.findIndex(function(ue){return ue===s.mostRecentlyFocusedNode});it>=0&&(o.isKeyForward(s.recentNavEvent)?it+1<mt.length&&(Ce=mt[it+1],Fe=!1):it-1>=0&&(Ce=mt[it-1],Fe=!1))}}else s.containerGroups.some(function(ue){return ue.tabbableNodes.some(function(We){return zg(We)>0})})||(Fe=!1);else Fe=!1;Fe&&(Ce=Q({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),z(Ce||s.mostRecentlyFocusedNode||E())}s.recentNavEvent=void 0},re=function(Me){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=Me;var ze=Q({event:Me,isBackward:be});ze&&(F_(Me)&&Me.preventDefault(),z(ze))},ne=function(Me){if(bue(Me)&&XC(o.escapeDeactivates,Me)!==!1){Me.preventDefault(),a.deactivate();return}(o.isKeyForward(Me)||o.isKeyBackward(Me))&&re(Me,o.isKeyBackward(Me))},V=function(Me){var be=Wx(Me);g(be,Me)>=0||XC(o.clickOutsideDeactivates,Me)||XC(o.allowOutsideClick,Me)||(Me.preventDefault(),Me.stopImmediatePropagation())},J=function(){if(s.active)return rD.activateTrap(r,a),s.delayInitialFocusTimer=o.delayInitialFocus?oD(function(){z(E())}):z(E()),i.addEventListener("focusin",X,!0),i.addEventListener("mousedown",$,{capture:!0,passive:!1}),i.addEventListener("touchstart",$,{capture:!0,passive:!1}),i.addEventListener("click",V,{capture:!0,passive:!1}),i.addEventListener("keydown",ne,{capture:!0,passive:!1}),a},W=function(){if(s.active)return i.removeEventListener("focusin",X,!0),i.removeEventListener("mousedown",$,!0),i.removeEventListener("touchstart",$,!0),i.removeEventListener("click",V,!0),i.removeEventListener("keydown",ne,!0),a},he=function(Me){var be=Me.some(function(ze){var Ce=Array.from(ze.removedNodes);return Ce.some(function(Fe){return Fe===s.mostRecentlyFocusedNode})});be&&z(E())},ge=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(he):void 0,ve=function(){ge&&(ge.disconnect(),s.active&&!s.paused&&s.containers.map(function(Me){ge.observe(Me,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(Me){if(s.active)return this;var be=p(Me,"onActivate"),ze=p(Me,"onPostActivate"),Ce=p(Me,"checkCanFocusTrap");Ce||O(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,be?.();var Fe=function(){Ce&&O(),J(),ve(),ze?.()};return Ce?(Ce(s.containers.concat()).then(Fe,Fe),this):(Fe(),this)},deactivate:function(Me){if(!s.active)return this;var be=iD({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Me);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,W(),s.active=!1,s.paused=!1,ve(),rD.deactivateTrap(r,a);var ze=p(be,"onDeactivate"),Ce=p(be,"onPostDeactivate"),Fe=p(be,"checkCanReturnFocus"),ot=p(be,"returnFocus","returnFocusOnDeactivate");ze?.();var mt=function(){oD(function(){ot&&z(N(s.nodeFocusedBeforeActivation)),Ce?.()})};return ot&&Fe?(Fe(N(s.nodeFocusedBeforeActivation)).then(mt,mt),this):(mt(),this)},pause:function(Me){if(s.paused||!s.active)return this;var be=p(Me,"onPause"),ze=p(Me,"onPostPause");return s.paused=!0,be?.(),W(),ve(),ze?.(),this},unpause:function(Me){if(!s.paused||!s.active)return this;var be=p(Me,"onUnpause"),ze=p(Me,"onPostUnpause");return s.paused=!1,be?.(),O(),J(),ve(),ze?.(),this},updateContainerElements:function(Me){var be=[].concat(Me).filter(Boolean);return s.containers=be.map(function(ze){return typeof ze=="string"?i.querySelector(ze):ze}),s.active&&O(),ve(),this}},a.updateContainerElements(e),a};const Eue=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Sue},Symbol.toStringTag,{value:"Module"})),Bue=GO(Eue),Oue=GO(gue);var CM,sD;function Iue(){if(sD)return CM;sD=1;function n(J){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},n(J)}function e(J,W){if(!(J instanceof W))throw new TypeError("Cannot call a class as a function")}function t(J,W){for(var he=0;he<W.length;he++){var ge=W[he];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(J,O(ge.key),ge)}}function i(J,W,he){return W&&t(J.prototype,W),Object.defineProperty(J,"prototype",{writable:!1}),J}function r(J,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(W&&W.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),W&&o(J,W)}function o(J,W){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ge,ve){return ge.__proto__=ve,ge},o(J,W)}function s(J){var W=g();return function(){var ge=_(J),ve;if(W){var _e=_(this).constructor;ve=Reflect.construct(ge,arguments,_e)}else ve=ge.apply(this,arguments);return a(this,ve)}}function a(J,W){if(W&&(n(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(J)}function p(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(J){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(he){return he.__proto__||Object.getPrototypeOf(he)},_(J)}function E(J,W,he){return W=O(W),W in J?Object.defineProperty(J,W,{value:he,enumerable:!0,configurable:!0,writable:!0}):J[W]=he,J}function O(J){var W=B(J,"string");return n(W)==="symbol"?W:String(W)}function B(J,W){if(n(J)!=="object"||J===null)return J;var he=J[Symbol.toPrimitive];if(he!==void 0){var ge=he.call(J,W);if(n(ge)!=="object")return ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(J)}var z=Rl(),N=sg(),Q=Bue,$=Q.createFocusTrap,X=Oue,re=X.isFocusable,ne=function(J){r(he,J);var W=s(he);function he(ge){var ve;e(this,he),ve=W.call(this,ge),E(p(ve),"getNodeForOption",function(be){var ze,Ce=(ze=this.internalOptions[be])!==null&&ze!==void 0?ze:this.originalOptions[be];if(typeof Ce=="function"){for(var Fe=arguments.length,ot=new Array(Fe>1?Fe-1:0),mt=1;mt<Fe;mt++)ot[mt-1]=arguments[mt];Ce=Ce.apply(void 0,ot)}if(Ce===!0&&(Ce=void 0),!Ce){if(Ce===void 0||Ce===!1)return Ce;throw new Error("`".concat(be,"` was specified but was not a node, or did not return a node"))}var it=Ce;if(typeof Ce=="string"){var ue;if(it=(ue=this.getDocument())===null||ue===void 0?void 0:ue.querySelector(Ce),!it)throw new Error("`".concat(be,"` as selector refers to no known node"))}return it}),ve.handleDeactivate=ve.handleDeactivate.bind(p(ve)),ve.handlePostDeactivate=ve.handlePostDeactivate.bind(p(ve)),ve.handleClickOutsideDeactivates=ve.handleClickOutsideDeactivates.bind(p(ve)),ve.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:ve.handleDeactivate,onPostDeactivate:ve.handlePostDeactivate,clickOutsideDeactivates:ve.handleClickOutsideDeactivates},ve.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var _e=ge.focusTrapOptions;for(var Me in _e)if(Object.prototype.hasOwnProperty.call(_e,Me)){if(Me==="returnFocusOnDeactivate"||Me==="onDeactivate"||Me==="onPostDeactivate"||Me==="checkCanReturnFocus"||Me==="clickOutsideDeactivates"){ve.originalOptions[Me]=_e[Me];continue}ve.internalOptions[Me]=_e[Me]}return ve.outsideClick=null,ve.focusTrapElements=ge.containerElements||[],ve.updatePreviousElement(),ve}return i(he,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var ve=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return ve||(ve===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var ve=this.getDocument();ve&&(this.previouslyFocusedElement=ve.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(ve){var _e=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,ve):this.originalOptions.clickOutsideDeactivates;return _e&&(this.outsideClick={target:ve.target,allowDeactivation:_e}),_e}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var ve=this,_e=function(){var be=ve.getReturnFocusNode(),ze=!!(ve.originalOptions.returnFocusOnDeactivate&&be!==null&&be!==void 0&&be.focus&&(!ve.outsideClick||ve.outsideClick.allowDeactivation&&!re(ve.outsideClick.target,ve.internalOptions.tabbableOptions))),Ce=ve.internalOptions.preventScroll,Fe=Ce===void 0?!1:Ce;ze&&be.focus({preventScroll:Fe}),ve.originalOptions.onPostDeactivate&&ve.originalOptions.onPostDeactivate.call(null),ve.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(_e,_e):_e()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var ve=this.focusTrapElements.some(Boolean);ve&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(ve){if(this.focusTrap){ve.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var _e=!ve.active&&this.props.active,Me=ve.active&&!this.props.active,be=!ve.paused&&this.props.paused,ze=ve.paused&&!this.props.paused;if(_e&&(this.updatePreviousElement(),this.focusTrap.activate()),Me){this.deactivateTrap();return}be&&this.focusTrap.pause(),ze&&this.focusTrap.unpause()}else ve.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var ve=this,_e=this.props.children?z.Children.only(this.props.children):void 0;if(_e){if(_e.type&&_e.type===z.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var Me=function(Ce){var Fe=ve.props.containerElements;_e&&(typeof _e.ref=="function"?_e.ref(Ce):_e.ref&&(_e.ref.current=Ce)),ve.focusTrapElements=Fe||[Ce]},be=z.cloneElement(_e,{ref:Me});return be}return null}}]),he}(z.Component),V=typeof Element>"u"?Function:Element;return ne.propTypes={active:N.bool,paused:N.bool,focusTrapOptions:N.shape({document:N.object,onActivate:N.func,onPostActivate:N.func,checkCanFocusTrap:N.func,onPause:N.func,onPostPause:N.func,onUnpause:N.func,onPostUnpause:N.func,onDeactivate:N.func,onPostDeactivate:N.func,checkCanReturnFocus:N.func,initialFocus:N.oneOfType([N.instanceOf(V),N.string,N.bool,N.func]),fallbackFocus:N.oneOfType([N.instanceOf(V),N.string,N.func]),escapeDeactivates:N.oneOfType([N.bool,N.func]),clickOutsideDeactivates:N.oneOfType([N.bool,N.func]),returnFocusOnDeactivate:N.bool,setReturnFocus:N.oneOfType([N.instanceOf(V),N.string,N.bool,N.func]),allowOutsideClick:N.oneOfType([N.bool,N.func]),preventScroll:N.bool,tabbableOptions:N.shape({displayCheck:N.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:N.oneOfType([N.bool,N.func])}),trapStack:N.array,isKeyForward:N.func,isKeyBackward:N.func}),containerElements:N.arrayOf(N.instanceOf(V)),children:N.oneOfType([N.element,N.instanceOf(V)])},ne.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:$},CM=ne,CM}var _M={exports:{}},lD;function Tue(){return lD||(lD=1,function(n){(function(e){var t=!1,i,r;function o(){if(typeof i<"u")return i;var E=document.documentElement,O=document.createElement("div");return O.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),E.appendChild(O),i=O.offsetWidth-O.clientWidth,E.removeChild(O),i}function s(){return document.documentElement.scrollHeight>window.innerHeight}function a(E){if(!(typeof document>"u"||t)){var O=document.documentElement;r=window.pageYOffset,s()?O.style.width="calc(100% - "+o()+"px)":O.style.width="100%",O.style.position="fixed",O.style.top=-r+"px",O.style.overflow="hidden",t=!0}}function p(){if(!(typeof document>"u"||!t)){var E=document.documentElement;E.style.width="",E.style.position="",E.style.top="",E.style.overflow="",window.scroll(0,r),t=!1}}function g(){if(t){p();return}a()}var _={on:a,off:p,toggle:g};n.exports=_})()}(_M)),_M.exports}var bM,uD;function kue(){if(uD)return bM;uD=1;function n(re){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},n(re)}function e(re,ne){if(!(re instanceof ne))throw new TypeError("Cannot call a class as a function")}function t(re,ne){for(var V=0;V<ne.length;V++){var J=ne[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(re,J.key,J)}}function i(re,ne,V){return ne&&t(re.prototype,ne),Object.defineProperty(re,"prototype",{writable:!1}),re}function r(re,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(ne&&ne.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),Object.defineProperty(re,"prototype",{writable:!1}),ne&&o(re,ne)}function o(re,ne){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,W){return J.__proto__=W,J},o(re,ne)}function s(re){var ne=g();return function(){var J=_(re),W;if(ne){var he=_(this).constructor;W=Reflect.construct(J,arguments,he)}else W=J.apply(this,arguments);return a(this,W)}}function a(re,ne){if(ne&&(n(ne)==="object"||typeof ne=="function"))return ne;if(ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(re)}function p(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(re){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},_(re)}function E(re,ne,V){return ne in re?Object.defineProperty(re,ne,{value:V,enumerable:!0,configurable:!0,writable:!0}):re[ne]=V,re}var O=Rl(),B=v2(),z=Iue(),N=Tue(),Q=function(re){r(V,re);var ne=s(V);function V(J){var W;if(e(this,V),W=ne.call(this,J),E(p(W),"getApplicationNode",function(){return W.props.getApplicationNode?W.props.getApplicationNode():W.props.applicationNode}),E(p(W),"checkUnderlayClick",function(he){W.dialogNode&&W.dialogNode.contains(he.target)||he.pageX>he.target.ownerDocument.documentElement.offsetWidth||he.pageY>he.target.ownerDocument.documentElement.offsetHeight||W.exit(he)}),E(p(W),"checkDocumentKeyDown",function(he){W.props.escapeExits&&(he.key==="Escape"||he.key==="Esc"||he.keyCode===27)&&W.exit(he)}),E(p(W),"exit",function(he){W.props.onExit&&W.props.onExit(he)}),!J.titleText&&!J.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return W}return i(V,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var W=this.getApplicationNode();setTimeout(function(){W&&W.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&N.on()}},{key:"componentDidUpdate",value:function(W){W.scrollDisabled&&!this.props.scrollDisabled?N.off():!W.scrollDisabled&&this.props.scrollDisabled&&N.on(),this.props.escapeExits&&!W.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&W.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&N.off();var W=this.getApplicationNode();W&&W.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var W=this;setTimeout(function(){document.addEventListener("keydown",W.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var W=this;setTimeout(function(){document.removeEventListener("keydown",W.checkDocumentKeyDown)})}},{key:"render",value:function(){var W=this.props,he={};if(W.includeDefaultStyles&&(he={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},W.underlayColor&&(he.background=W.underlayColor),W.underlayClickExits&&(he.cursor="pointer")),W.underlayStyle)for(var ge in W.underlayStyle)W.underlayStyle.hasOwnProperty(ge)&&(he[ge]=W.underlayStyle[ge]);var ve={className:W.underlayClass,style:he};W.underlayClickExits&&(ve.onMouseDown=this.checkUnderlayClick);for(var _e in this.props.underlayProps)ve[_e]=this.props.underlayProps[_e];var Me={};W.includeDefaultStyles&&(Me={display:"inline-block",height:"100%",verticalAlign:"middle"});var be={key:"a",style:Me},ze={};if(W.includeDefaultStyles&&(ze={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:W.focusDialog?0:null},W.verticallyCenter&&(ze.verticalAlign="middle",ze.top=0)),W.dialogStyle)for(var Ce in W.dialogStyle)W.dialogStyle.hasOwnProperty(Ce)&&(ze[Ce]=W.dialogStyle[Ce]);var Fe={key:"b",ref:(function(ue){this.dialogNode=ue}).bind(this),role:W.alert?"alertdialog":"dialog",id:W.dialogId,className:W.dialogClass,style:ze};W.titleId?Fe["aria-labelledby"]=W.titleId:W.titleText&&(Fe["aria-label"]=W.titleText),W.focusDialog&&(Fe.tabIndex="-1");for(var ot in W)/^(data-|aria-)/.test(ot)&&(Fe[ot]=W[ot]);var mt=[O.createElement("div",Fe,W.children)];W.verticallyCenter&&mt.unshift(O.createElement("div",be));var it=W.focusTrapOptions||{};return(W.focusDialog||W.initialFocus)&&(it.initialFocus=W.focusDialog?"#".concat(this.props.dialogId):W.initialFocus),it.escapeDeactivates=W.escapeExits,O.createElement(z,{focusTrapOptions:it,paused:W.focusTrapPaused},O.createElement("div",ve,mt))}}]),V}(O.Component);E(Q,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function $(re,ne){if(!window.document)return function(){return null};ne=ne||{};var V=function(J){r(he,J);var W=s(he);function he(){var ge;e(this,he);for(var ve=arguments.length,_e=new Array(ve),Me=0;Me<ve;Me++)_e[Me]=arguments[Me];return ge=W.call.apply(W,[this].concat(_e)),E(p(ge),"container",null),ge}return i(he,[{key:"componentDidMount",value:function(){ne.renderTo?this.container=typeof ne.renderTo=="string"?document.querySelector(ne.renderTo):ne.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){ne.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:B.createPortal(O.createElement(re,this.props,this.props.children),this.container)}}]),he}(O.Component);return E(V,"defaultProps",{mounted:!0}),V}var X=$(Q);return X.renderTo=function(re){return $(Q,{renderTo:re})},bM=X,bM}var Due=kue();const Rue=Bu(Due);function ac(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/Modal.tsx",e="b56a3b702e6eec99855202d1cfe05d2ba4d6a2ce",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/Modal.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:12},end:{line:19,column:3}},2:{start:{line:13,column:4},end:{line:15,column:5}},3:{start:{line:14,column:6},end:{line:14,column:36}},4:{start:{line:16,column:4},end:{line:18,column:10}},5:{start:{line:17,column:6},end:{line:17,column:32}},6:{start:{line:21,column:14},end:{line:21,column:26}},7:{start:{line:22,column:4},end:{line:60,column:5}},8:{start:{line:23,column:6},end:{line:57,column:8}},9:{start:{line:59,column:6},end:{line:59,column:19}},10:{start:{line:63,column:14},end:{line:63,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:12},end:{line:12,column:13}},loc:{start:{line:12,column:18},end:{line:19,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:15},end:{line:16,column:16}},loc:{start:{line:16,column:21},end:{line:18,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:61,column:3}},line:20}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:13},1:{loc:{start:{line:22,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:60,column:5}},{start:{line:58,column:11},end:{line:60,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/Modal.tsx"],names:[],mappings:"AA8CU,SACE,KADF;AA9CV,OAAO,WAAuC;AAC9C,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,SAA+B,uBAAuB;AAYtD,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa;AAAA,IAC1B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAC/B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UACb,aAAY;AAAA,UAEZ;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,kBAAiB;AAAA,kBACjC;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAO,EAAE,aAAa;AAAA,sBACtB,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;AAEA,MAAM,QAAQ,gBAAgB,EAAE,aAAa;AAC7C,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b56a3b702e6eec99855202d1cfe05d2ba4d6a2ce"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return ac=function(){return s},s}ac();class Pue extends ii.Component{static defaultProps=(ac().s[0]++,{underlayClickExits:!0});onClose=(ac().s[1]++,()=>{ac().f[0]++,ac().s[2]++,document.activeElement?(ac().b[0][0]++,ac().s[3]++,document.activeElement.blur()):ac().b[0][1]++,ac().s[4]++,setTimeout(()=>{ac().f[1]++,ac().s[5]++,this.props.onOpenToggle()},0)});render(){ac().f[2]++;const e=(ac().s[6]++,this.props.t);return ac().s[7]++,this.props.isOpen?(ac().b[1][0]++,ac().s[8]++,Ae.jsx(Rue,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,dialogClass:"maputnik-modal-container",children:Ae.jsxs("div",{className:g0("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[Ae.jsxs("header",{className:"maputnik-modal-header",children:[Ae.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx("button",{className:"maputnik-modal-header-toggle",title:e("Close modal"),onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:Ae.jsx(WJ,{})})]}),Ae.jsx("div",{className:"maputnik-modal-scroller",children:Ae.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(ac().b[1][1]++,ac().s[9]++,!1)}}const lg=(ac().s[10]++,is()(Pue));function vs(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",e="227136badbf4464e3a73e0852e3bc3d4b9112a08",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:4,column:22},end:{line:33,column:1}},1:{start:{line:5,column:26},end:{line:5,column:47}},2:{start:{line:6,column:22},end:{line:11,column:3}},3:{start:{line:7,column:4},end:{line:7,column:19}},4:{start:{line:8,column:4},end:{line:10,column:5}},5:{start:{line:9,column:6},end:{line:9,column:31}},6:{start:{line:12,column:31},end:{line:12,column:36}},7:{start:{line:13,column:18},end:{line:13,column:33}},8:{start:{line:14,column:2},end:{line:31,column:3}},9:{start:{line:15,column:4},end:{line:28,column:12}},10:{start:{line:23,column:25},end:{line:23,column:43}},11:{start:{line:29,column:9},end:{line:31,column:3}},12:{start:{line:30,column:4},end:{line:30,column:172}},13:{start:{line:32,column:2},end:{line:32,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:22},end:{line:4,column:23}},loc:{start:{line:4,column:33},end:{line:33,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:6,column:22},end:{line:6,column:23}},loc:{start:{line:6,column:33},end:{line:11,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:23,column:19},end:{line:23,column:20}},loc:{start:{line:23,column:25},end:{line:23,column:43}},line:23}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:10,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:10,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:13,column:18},end:{line:13,column:33}},type:"binary-expr",locations:[{start:{line:13,column:18},end:{line:13,column:27}},{start:{line:13,column:31},end:{line:13,column:33}}],line:13},2:{loc:{start:{line:14,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:31,column:3}},{start:{line:29,column:9},end:{line:31,column:3}}],line:14},3:{loc:{start:{line:21,column:24},end:{line:21,column:93}},type:"cond-expr",locations:[{start:{line:21,column:31},end:{line:21,column:61}},{start:{line:21,column:64},end:{line:21,column:93}}],line:21},4:{loc:{start:{line:22,column:65},end:{line:22,column:89}},type:"cond-expr",locations:[{start:{line:22,column:72},end:{line:22,column:78}},{start:{line:22,column:81},end:{line:22,column:89}}],line:22},5:{loc:{start:{line:25,column:20},end:{line:25,column:107}},type:"cond-expr",locations:[{start:{line:25,column:43},end:{line:25,column:66}},{start:{line:25,column:85},end:{line:25,column:107}}],line:25},6:{loc:{start:{line:29,column:9},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AA4BQ,SASY,KATZ;AA5BR,OAAO,WAAyB;AAChC,SAAQ,eAAe,sBAAqB;AAW5C,MAAM,gBAA8C,CAAC,UAAU;AAC7D,QAAM,CAAC,MAAM,OAAO,IAAI,MAAM,SAAS,KAAK;AAE5C,QAAM,cAAc,CAAC,UAAmB;AACtC,YAAQ,KAAK;AACb,QAAI,MAAM,aAAa;AACrB,YAAM,YAAY,KAAK;AAAA,IACzB;AAAA,EACF;AAEA,QAAM,EAAE,OAAO,UAAU,IAAI;AAC7B,QAAM,EAAE,IAAI,IAAI,aAAa,CAAC;AAE9B,MAAI,KAAK;AACP,WACE,oBAAC,WAAM,WAAU,wBACf,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,MACA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,OAAO,iCAAiC;AAAA,UACpD,WAAW,4CAA4C,OAAO,SAAS,QAAQ;AAAA,UAC/E,SAAS,MAAM,YAAY,CAAC,IAAI;AAAA,UAChC,eAAa,sBAAsB;AAAA,UAElC,iBAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,MAC9C;AAAA,OACF,GACF;AAAA,EAEJ,WAAW,OAAO;AAChB,WACE,oBAAC,WAAM,WAAU,wBACf,8BAAC,SAAI,WAAU,uBAAuB,iBAAM,GAC9C;AAAA,EAEJ;AACA,SAAO,oBAAC,SAAI;AACd;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"227136badbf4464e3a73e0852e3bc3d4b9112a08"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return vs=function(){return s},s}vs();vs().s[0]++;const B7=n=>{vs().f[0]++;const[e,t]=(vs().s[1]++,ii.useState(!1));vs().s[2]++;const i=a=>{vs().f[1]++,vs().s[3]++,t(a),vs().s[4]++,n.onToggleDoc?(vs().b[0][0]++,vs().s[5]++,n.onToggleDoc(a)):vs().b[0][1]++},{label:r,fieldSpec:o}=(vs().s[6]++,n),{doc:s}=(vs().s[7]++,vs().b[1][0]++,o||(vs().b[1][1]++,{}));return vs().s[8]++,s?(vs().b[2][0]++,vs().s[9]++,Ae.jsx("label",{className:"maputnik-doc-wrapper",children:Ae.jsxs("div",{className:"maputnik-doc-target",children:[r," ",Ae.jsx("button",{"aria-label":e?(vs().b[3][0]++,"close property documentation"):(vs().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${e?(vs().b[4][0]++,"open"):(vs().b[4][1]++,"closed")}`,onClick:()=>(vs().f[2]++,vs().s[10]++,i(!e)),"data-wd-key":"field-doc-button-"+r,children:e?(vs().b[5][0]++,Ae.jsx(BJ,{})):(vs().b[5][1]++,Ae.jsx(OJ,{}))})]})})):(vs().b[2][1]++,vs().s[11]++,r?(vs().b[6][0]++,vs().s[12]++,Ae.jsx("label",{className:"maputnik-doc-wrapper",children:Ae.jsx("div",{className:"maputnik-doc-target",children:r})})):(vs().b[6][1]++,vs().s[13]++,Ae.jsx("div",{})))};function Uue(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Kue=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lue=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Fue={};function AD(n,e){return(Fue.jsx?Lue:Kue).test(n)}const zue=/[ \t\n\f\r]/g;function jue(n){return typeof n=="object"?n.type==="text"?cD(n.value):!1:cD(n)}function cD(n){return n.replace(zue,"")===""}class lx{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}lx.prototype.normal={};lx.prototype.property={};lx.prototype.space=void 0;function HG(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new lx(t,i,e)}function bO(n){return n.toLowerCase()}class lf{constructor(e,t){this.attribute=t,this.property=e}}lf.prototype.attribute="";lf.prototype.booleanish=!1;lf.prototype.boolean=!1;lf.prototype.commaOrSpaceSeparated=!1;lf.prototype.commaSeparated=!1;lf.prototype.defined=!1;lf.prototype.mustUseProperty=!1;lf.prototype.number=!1;lf.prototype.overloadedBoolean=!1;lf.prototype.property="";lf.prototype.spaceSeparated=!1;lf.prototype.space=void 0;let Nue=0;const Aa=by(),sc=by(),xO=by(),Mi=by(),jl=by(),Yv=by(),Tf=by();function by(){return 2**++Nue}const MO=Object.freeze(Object.defineProperty({__proto__:null,boolean:Aa,booleanish:sc,commaOrSpaceSeparated:Tf,commaSeparated:Yv,number:Mi,overloadedBoolean:xO,spaceSeparated:jl},Symbol.toStringTag,{value:"Module"})),xM=Object.keys(MO);class O7 extends lf{constructor(e,t,i,r){let o=-1;if(super(e,t),hD(this,"space",r),typeof i=="number")for(;++o<xM.length;){const s=xM[o];hD(this,xM[o],(i&MO[s])===MO[s])}}}O7.prototype.defined=!0;function hD(n,e,t){t&&(n[e]=t)}function SC(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const o=new O7(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,t[bO(i)]=i,t[bO(o.attribute)]=i}return new lx(e,t,n.space)}const VG=SC({properties:{ariaActiveDescendant:null,ariaAtomic:sc,ariaAutoComplete:null,ariaBusy:sc,ariaChecked:sc,ariaColCount:Mi,ariaColIndex:Mi,ariaColSpan:Mi,ariaControls:jl,ariaCurrent:null,ariaDescribedBy:jl,ariaDetails:null,ariaDisabled:sc,ariaDropEffect:jl,ariaErrorMessage:null,ariaExpanded:sc,ariaFlowTo:jl,ariaGrabbed:sc,ariaHasPopup:null,ariaHidden:sc,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jl,ariaLevel:Mi,ariaLive:null,ariaModal:sc,ariaMultiLine:sc,ariaMultiSelectable:sc,ariaOrientation:null,ariaOwns:jl,ariaPlaceholder:null,ariaPosInSet:Mi,ariaPressed:sc,ariaReadOnly:sc,ariaRelevant:null,ariaRequired:sc,ariaRoleDescription:jl,ariaRowCount:Mi,ariaRowIndex:Mi,ariaRowSpan:Mi,ariaSelected:sc,ariaSetSize:Mi,ariaSort:null,ariaValueMax:Mi,ariaValueMin:Mi,ariaValueNow:Mi,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function $G(n,e){return e in n?n[e]:e}function ZG(n,e){return $G(n,e.toLowerCase())}const Gue=SC({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yv,acceptCharset:jl,accessKey:jl,action:null,allow:null,allowFullScreen:Aa,allowPaymentRequest:Aa,allowUserMedia:Aa,alt:null,as:null,async:Aa,autoCapitalize:null,autoComplete:jl,autoFocus:Aa,autoPlay:Aa,blocking:jl,capture:null,charSet:null,checked:Aa,cite:null,className:jl,cols:Mi,colSpan:null,content:null,contentEditable:sc,controls:Aa,controlsList:jl,coords:Mi|Yv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Aa,defer:Aa,dir:null,dirName:null,disabled:Aa,download:xO,draggable:sc,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Aa,formTarget:null,headers:jl,height:Mi,hidden:xO,high:Mi,href:null,hrefLang:null,htmlFor:jl,httpEquiv:jl,id:null,imageSizes:null,imageSrcSet:null,inert:Aa,inputMode:null,integrity:null,is:null,isMap:Aa,itemId:null,itemProp:jl,itemRef:jl,itemScope:Aa,itemType:jl,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Aa,low:Mi,manifest:null,max:null,maxLength:Mi,media:null,method:null,min:null,minLength:Mi,multiple:Aa,muted:Aa,name:null,nonce:null,noModule:Aa,noValidate:Aa,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Aa,optimum:Mi,pattern:null,ping:jl,placeholder:null,playsInline:Aa,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Aa,referrerPolicy:null,rel:jl,required:Aa,reversed:Aa,rows:Mi,rowSpan:Mi,sandbox:jl,scope:null,scoped:Aa,seamless:Aa,selected:Aa,shadowRootClonable:Aa,shadowRootDelegatesFocus:Aa,shadowRootMode:null,shape:null,size:Mi,sizes:null,slot:null,span:Mi,spellCheck:sc,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Mi,step:null,style:null,tabIndex:Mi,target:null,title:null,translate:null,type:null,typeMustMatch:Aa,useMap:null,value:sc,width:Mi,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jl,axis:null,background:null,bgColor:null,border:Mi,borderColor:null,bottomMargin:Mi,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Aa,declare:Aa,event:null,face:null,frame:null,frameBorder:null,hSpace:Mi,leftMargin:Mi,link:null,longDesc:null,lowSrc:null,marginHeight:Mi,marginWidth:Mi,noResize:Aa,noHref:Aa,noShade:Aa,noWrap:Aa,object:null,profile:null,prompt:null,rev:null,rightMargin:Mi,rules:null,scheme:null,scrolling:sc,standby:null,summary:null,text:null,topMargin:Mi,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Mi,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Aa,disableRemotePlayback:Aa,prefix:null,property:null,results:Mi,security:null,unselectable:null},space:"html",transform:ZG}),Wue=SC({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Tf,accentHeight:Mi,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Mi,amplitude:Mi,arabicForm:null,ascent:Mi,attributeName:null,attributeType:null,azimuth:Mi,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Mi,by:null,calcMode:null,capHeight:Mi,className:jl,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Mi,diffuseConstant:Mi,direction:null,display:null,dur:null,divisor:Mi,dominantBaseline:null,download:Aa,dx:null,dy:null,edgeMode:null,editable:null,elevation:Mi,enableBackground:null,end:null,event:null,exponent:Mi,externalResourcesRequired:null,fill:null,fillOpacity:Mi,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yv,g2:Yv,glyphName:Yv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Mi,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Mi,horizOriginX:Mi,horizOriginY:Mi,id:null,ideographic:Mi,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Mi,k:Mi,k1:Mi,k2:Mi,k3:Mi,k4:Mi,kernelMatrix:Tf,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Mi,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Mi,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Mi,overlineThickness:Mi,paintOrder:null,panose1:null,path:null,pathLength:Mi,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jl,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Mi,pointsAtY:Mi,pointsAtZ:Mi,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tf,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tf,rev:Tf,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tf,requiredFeatures:Tf,requiredFonts:Tf,requiredFormats:Tf,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Mi,specularExponent:Mi,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Mi,strikethroughThickness:Mi,string:null,stroke:null,strokeDashArray:Tf,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Mi,strokeOpacity:Mi,strokeWidth:null,style:null,surfaceScale:Mi,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tf,tabIndex:Mi,tableValues:null,target:null,targetX:Mi,targetY:Mi,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tf,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Mi,underlineThickness:Mi,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Mi,values:null,vAlphabetic:Mi,vMathematical:Mi,vectorEffect:null,vHanging:Mi,vIdeographic:Mi,version:null,vertAdvY:Mi,vertOriginX:Mi,vertOriginY:Mi,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Mi,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$G}),XG=SC({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),JG=SC({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ZG}),eW=SC({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Que={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Yue=/[A-Z]/g,dD=/-[a-z]/g,que=/^data[-\w.:]+$/i;function Hue(n,e){const t=bO(e);let i=e,r=lf;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&que.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(dD,$ue);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!dD.test(o)){let s=o.replace(Yue,Vue);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=O7}return new r(i,e)}function Vue(n){return"-"+n.toLowerCase()}function $ue(n){return n.charAt(1).toUpperCase()}const Zue=HG([VG,Gue,XG,JG,eW],"html"),I7=HG([VG,Wue,XG,JG,eW],"svg");function Xue(n){return n.join(" ").trim()}var av={},MM,fD;function Jue(){if(fD)return MM;fD=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,p=`
`,g="/",_="*",E="",O="comment",B="declaration";MM=function(N,Q){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];Q=Q||{};var $=1,X=1;function re(be){var ze=be.match(e);ze&&($+=ze.length);var Ce=be.lastIndexOf(p);X=~Ce?be.length-Ce:X+be.length}function ne(){var be={line:$,column:X};return function(ze){return ze.position=new V(be),he(),ze}}function V(be){this.start=be,this.end={line:$,column:X},this.source=Q.source}V.prototype.content=N;function J(be){var ze=new Error(Q.source+":"+$+":"+X+": "+be);if(ze.reason=be,ze.filename=Q.source,ze.line=$,ze.column=X,ze.source=N,!Q.silent)throw ze}function W(be){var ze=be.exec(N);if(ze){var Ce=ze[0];return re(Ce),N=N.slice(Ce.length),ze}}function he(){W(t)}function ge(be){var ze;for(be=be||[];ze=ve();)ze!==!1&&be.push(ze);return be}function ve(){var be=ne();if(!(g!=N.charAt(0)||_!=N.charAt(1))){for(var ze=2;E!=N.charAt(ze)&&(_!=N.charAt(ze)||g!=N.charAt(ze+1));)++ze;if(ze+=2,E===N.charAt(ze-1))return J("End of comment missing");var Ce=N.slice(2,ze-2);return X+=2,re(Ce),N=N.slice(ze),X+=2,be({type:O,comment:Ce})}}function _e(){var be=ne(),ze=W(i);if(ze){if(ve(),!W(r))return J("property missing ':'");var Ce=W(o),Fe=be({type:B,property:z(ze[0].replace(n,E)),value:Ce?z(Ce[0].replace(n,E)):E});return W(s),Fe}}function Me(){var be=[];ge(be);for(var ze;ze=_e();)ze!==!1&&(be.push(ze),ge(be));return be}return he(),Me()};function z(N){return N?N.replace(a,E):E}return MM}var pD;function eAe(){if(pD)return av;pD=1;var n=av&&av.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(av,"__esModule",{value:!0}),av.default=t;var e=n(Jue());function t(i,r){var o=null;if(!i||typeof i!="string")return o;var s=(0,e.default)(i),a=typeof r=="function";return s.forEach(function(p){if(p.type==="declaration"){var g=p.property,_=p.value;a?r(g,_,p):_&&(o=o||{},o[g]=_)}}),o}return av}var JC={},mD;function tAe(){if(mD)return JC;mD=1,Object.defineProperty(JC,"__esModule",{value:!0}),JC.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(g){return!g||t.test(g)||n.test(g)},s=function(g,_){return _.toUpperCase()},a=function(g,_){return"".concat(_,"-")},p=function(g,_){return _===void 0&&(_={}),o(g)?g:(g=g.toLowerCase(),_.reactCompat?g=g.replace(r,a):g=g.replace(i,a),g.replace(e,s))};return JC.camelCase=p,JC}var e_,gD;function nAe(){if(gD)return e_;gD=1;var n=e_&&e_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(eAe()),t=tAe();function i(r,o){var s={};return!r||typeof r!="string"||(0,e.default)(r,function(a,p){a&&p&&(s[(0,t.camelCase)(a,o)]=p)}),s}return i.default=i,e_=i,e_}var iAe=nAe();const rAe=Bu(iAe),tW=nW("end"),T7=nW("start");function nW(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function oAe(n){const e=T7(n),t=tW(n);if(e&&t)return{start:e,end:t}}function z_(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?yD(n.position):"start"in n||"end"in n?yD(n):"line"in n||"column"in n?wO(n):""}function wO(n){return vD(n&&n.line)+":"+vD(n&&n.column)}function yD(n){return wO(n&&n.start)+"-"+wO(n&&n.end)}function vD(n){return n&&typeof n=="number"?n:1}class Vh extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",o={},s=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof e=="string"?r=e:!o.cause&&e&&(s=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?o.ruleId=i:(o.source=i.slice(0,p),o.ruleId=i.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=z_(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vh.prototype.file="";Vh.prototype.name="";Vh.prototype.reason="";Vh.prototype.message="";Vh.prototype.stack="";Vh.prototype.column=void 0;Vh.prototype.line=void 0;Vh.prototype.ancestors=void 0;Vh.prototype.cause=void 0;Vh.prototype.fatal=void 0;Vh.prototype.place=void 0;Vh.prototype.ruleId=void 0;Vh.prototype.source=void 0;const k7={}.hasOwnProperty,aAe=new Map,sAe=/[A-Z]/g,lAe=new Set(["table","tbody","thead","tfoot","tr"]),uAe=new Set(["td","th"]),iW="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AAe(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=yAe(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=gAe(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?I7:Zue,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=rW(r,n,void 0);return o&&typeof o!="string"?o:r.create(n,r.Fragment,{children:o||void 0},void 0)}function rW(n,e,t){if(e.type==="element")return cAe(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hAe(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return fAe(n,e,t);if(e.type==="mdxjsEsm")return dAe(n,e);if(e.type==="root")return pAe(n,e,t);if(e.type==="text")return mAe(n,e)}function cAe(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=I7,n.schema=r),n.ancestors.push(e);const o=aW(n,e.tagName,!1),s=vAe(n,e);let a=R7(n,e);return lAe.has(e.tagName)&&(a=a.filter(function(p){return typeof p=="string"?!jue(p):!0})),oW(n,s,o,e),D7(s,a),n.ancestors.pop(),n.schema=i,n.create(e,o,s,t)}function hAe(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}_b(n,e.position)}function dAe(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);_b(n,e.position)}function fAe(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=I7,n.schema=r),n.ancestors.push(e);const o=e.name===null?n.Fragment:aW(n,e.name,!0),s=CAe(n,e),a=R7(n,e);return oW(n,s,o,e),D7(s,a),n.ancestors.pop(),n.schema=i,n.create(e,o,s,t)}function pAe(n,e,t){const i={};return D7(i,R7(n,e)),n.create(e,n.Fragment,i,t)}function mAe(n,e){return e.value}function oW(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function D7(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function gAe(n,e,t){return i;function i(r,o,s,a){const g=Array.isArray(s.children)?t:e;return a?g(o,s,a):g(o,s)}}function yAe(n,e){return t;function t(i,r,o,s){const a=Array.isArray(o.children),p=T7(i);return e(r,o,s,a,{columnNumber:p?p.column-1:void 0,fileName:n,lineNumber:p?p.line:void 0},void 0)}}function vAe(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&k7.call(e.properties,r)){const o=_Ae(n,r,e.properties[r]);if(o){const[s,a]=o;n.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&uAe.has(e.tagName)?i=a:t[s]=a}}if(i){const o=t.style||(t.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function CAe(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const o=i.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(t,n.evaluater.evaluateExpression(a.argument))}else _b(n,e.position);else{const r=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const a=i.value.data.estree.body[0];a.type,o=n.evaluater.evaluateExpression(a.expression)}else _b(n,e.position);else o=i.value===null?!0:i.value;t[r]=o}return t}function R7(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:aAe;for(;++i<e.children.length;){const o=e.children[i];let s;if(n.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const g=r.get(p)||0;s=p+"-"+g,r.set(p,g+1)}}const a=rW(n,o,s);a!==void 0&&t.push(a)}return t}function _Ae(n,e,t){const i=Hue(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?Uue(t):Xue(t)),i.property==="style"){let r=typeof t=="object"?t:bAe(n,String(t));return n.stylePropertyNameCase==="css"&&(r=xAe(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?Que[i.property]||i.property:i.attribute,t]}}function bAe(n,e){try{return rAe(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Vh("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=iW+"#cannot-parse-style-attribute",r}}function aW(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let o=-1,s;for(;++o<r.length;){const a=AD(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}i=s}else i=AD(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return k7.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);_b(n)}function _b(n,e){const t=new Vh("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=iW+"#cannot-handle-mdx-estrees-without-createevaluater",t}function xAe(n){const e={};let t;for(t in n)k7.call(n,t)&&(e[MAe(t)]=n[t]);return e}function MAe(n){let e=n.replace(sAe,wAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function wAe(n){return"-"+n.toLowerCase()}const wM={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},SAe={};function EAe(n,e){const t=SAe,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return sW(n,i,r)}function sW(n,e,t){if(BAe(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return CD(n.children,e,t)}return Array.isArray(n)?CD(n,e,t):""}function CD(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=sW(n[r],e,t);return i.join("")}function BAe(n){return!!(n&&typeof n=="object")}const _D=document.createElement("i");function P7(n){const e="&"+n+";";_D.innerHTML=e;const t=_D.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function v0(n,e,t,i){const r=n.length;let o=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)s=Array.from(i),s.unshift(e,t),n.splice(...s);else for(t&&n.splice(e,t);o<i.length;)s=i.slice(o,o+1e4),s.unshift(e,0),n.splice(...s),o+=1e4,e+=1e4}function Op(n,e){return n.length>0?(v0(n,n.length,0,e),n):e}const bD={}.hasOwnProperty;function OAe(n){const e={};let t=-1;for(;++t<n.length;)IAe(e,n[t]);return e}function IAe(n,e){let t;for(t in e){const r=(bD.call(n,t)?n[t]:void 0)||(n[t]={}),o=e[t];let s;if(o)for(s in o){bD.call(r,s)||(r[s]=[]);const a=o[s];TAe(r[s],Array.isArray(a)?a:a?[a]:[])}}}function TAe(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);v0(n,0,0,i)}function lW(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}function qv(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const r0=l1(/[A-Za-z]/),zf=l1(/[\dA-Za-z]/),kAe=l1(/[#-'*+\--9=?A-Z^-~]/);function SO(n){return n!==null&&(n<32||n===127)}const EO=l1(/\d/),DAe=l1(/[\dA-Fa-f]/),RAe=l1(/[!-/:-@[-`{-~]/);function bo(n){return n!==null&&n<-2}function of(n){return n!==null&&(n<0||n===32)}function Ns(n){return n===-2||n===-1||n===32}const PAe=l1(new RegExp("\\p{P}|\\p{S}","u")),UAe=l1(/\s/);function l1(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function EC(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const o=n.charCodeAt(t);let s="";if(o===37&&zf(n.charCodeAt(t+1))&&zf(n.charCodeAt(t+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=n.charCodeAt(t+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),r=1):s="�"}else s=String.fromCharCode(o);s&&(e.push(n.slice(i,t),encodeURIComponent(s)),i=t+r+1,s=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function Nl(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(p){return Ns(p)?(n.enter(t),a(p)):e(p)}function a(p){return Ns(p)&&o++<r?(n.consume(p),a):(n.exit(t),e(p))}}const KAe={tokenize:LAe};function LAe(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),Nl(n,e,"linePrefix")}function r(a){return n.enter("paragraph"),o(a)}function o(a){const p=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,s(a)}function s(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return bo(a)?(n.consume(a),n.exit("chunkText"),o):(n.consume(a),s)}}const FAe={tokenize:zAe},xD={tokenize:jAe};function zAe(n){const e=this,t=[];let i=0,r,o,s;return a;function a(re){if(i<t.length){const ne=t[i];return e.containerState=ne[1],n.attempt(ne[0].continuation,p,g)(re)}return g(re)}function p(re){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&X();const ne=e.events.length;let V=ne,J;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){J=e.events[V][1].end;break}$(i);let W=ne;for(;W<e.events.length;)e.events[W][1].end={...J},W++;return v0(e.events,V+1,0,e.events.slice(ne)),e.events.length=W,g(re)}return a(re)}function g(re){if(i===t.length){if(!r)return O(re);if(r.currentConstruct&&r.currentConstruct.concrete)return z(re);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(xD,_,E)(re)}function _(re){return r&&X(),$(i),O(re)}function E(re){return e.parser.lazy[e.now().line]=i!==t.length,s=e.now().offset,z(re)}function O(re){return e.containerState={},n.attempt(xD,B,z)(re)}function B(re){return i++,t.push([e.currentConstruct,e.containerState]),O(re)}function z(re){if(re===null){r&&X(),$(0),n.consume(re);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),N(re)}function N(re){if(re===null){Q(n.exit("chunkFlow"),!0),$(0),n.consume(re);return}return bo(re)?(n.consume(re),Q(n.exit("chunkFlow")),i=0,e.interrupt=void 0,a):(n.consume(re),N)}function Q(re,ne){const V=e.sliceStream(re);if(ne&&V.push(null),re.previous=o,o&&(o.next=re),o=re,r.defineSkip(re.start),r.write(V),e.parser.lazy[re.start.line]){let J=r.events.length;for(;J--;)if(r.events[J][1].start.offset<s&&(!r.events[J][1].end||r.events[J][1].end.offset>s))return;const W=e.events.length;let he=W,ge,ve;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){if(ge){ve=e.events[he][1].end;break}ge=!0}for($(i),J=W;J<e.events.length;)e.events[J][1].end={...ve},J++;v0(e.events,he+1,0,e.events.slice(W)),e.events.length=J}}function $(re){let ne=t.length;for(;ne-- >re;){const V=t[ne];e.containerState=V[1],V[0].exit.call(e,n)}t.length=re}function X(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function jAe(n,e,t){return Nl(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function MD(n){if(n===null||of(n)||UAe(n))return 1;if(PAe(n))return 2}function U7(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const o=n[r].resolveAll;o&&!i.includes(o)&&(e=o(e,t),i.push(o))}return e}const BO={name:"attention",resolveAll:NAe,tokenize:GAe};function NAe(n,e){let t=-1,i,r,o,s,a,p,g,_;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;p=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const E={...n[i][1].end},O={...n[t][1].start};wD(E,-p),wD(O,p),s={type:p>1?"strongSequence":"emphasisSequence",start:E,end:{...n[i][1].end}},a={type:p>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:O},o={type:p>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:p>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},n[i][1].end={...s.start},n[t][1].start={...a.end},g=[],n[i][1].end.offset-n[i][1].start.offset&&(g=Op(g,[["enter",n[i][1],e],["exit",n[i][1],e]])),g=Op(g,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",o,e]]),g=Op(g,U7(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),g=Op(g,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(_=2,g=Op(g,[["enter",n[t][1],e],["exit",n[t][1],e]])):_=0,v0(n,i-1,t-i+3,g),t=i+g.length-_-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function GAe(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=MD(i);let o;return s;function s(p){return o=p,n.enter("attentionSequence"),a(p)}function a(p){if(p===o)return n.consume(p),a;const g=n.exit("attentionSequence"),_=MD(p),E=!_||_===2&&r||t.includes(p),O=!r||r===2&&_||t.includes(i);return g._open=!!(o===42?E:E&&(r||!O)),g._close=!!(o===42?O:O&&(_||!E)),e(p)}}function wD(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const WAe={name:"autolink",tokenize:QAe};function QAe(n,e,t){let i=0;return r;function r(B){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(B),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(B){return r0(B)?(n.consume(B),s):B===64?t(B):g(B)}function s(B){return B===43||B===45||B===46||zf(B)?(i=1,a(B)):g(B)}function a(B){return B===58?(n.consume(B),i=0,p):(B===43||B===45||B===46||zf(B))&&i++<32?(n.consume(B),a):(i=0,g(B))}function p(B){return B===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(B),n.exit("autolinkMarker"),n.exit("autolink"),e):B===null||B===32||B===60||SO(B)?t(B):(n.consume(B),p)}function g(B){return B===64?(n.consume(B),_):kAe(B)?(n.consume(B),g):t(B)}function _(B){return zf(B)?E(B):t(B)}function E(B){return B===46?(n.consume(B),i=0,_):B===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(B),n.exit("autolinkMarker"),n.exit("autolink"),e):O(B)}function O(B){if((B===45||zf(B))&&i++<63){const z=B===45?O:E;return n.consume(B),z}return t(B)}}const C4={partial:!0,tokenize:YAe};function YAe(n,e,t){return i;function i(o){return Ns(o)?Nl(n,r,"linePrefix")(o):r(o)}function r(o){return o===null||bo(o)?e(o):t(o)}}const uW={continuation:{tokenize:HAe},exit:VAe,name:"blockQuote",tokenize:qAe};function qAe(n,e,t){const i=this;return r;function r(s){if(s===62){const a=i.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(s),n.exit("blockQuoteMarker"),o}return t(s)}function o(s){return Ns(s)?(n.enter("blockQuotePrefixWhitespace"),n.consume(s),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(s))}}function HAe(n,e,t){const i=this;return r;function r(s){return Ns(s)?Nl(n,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return n.attempt(uW,e,t)(s)}}function VAe(n){n.exit("blockQuote")}const AW={name:"characterEscape",tokenize:$Ae};function $Ae(n,e,t){return i;function i(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),r}function r(o){return RAe(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(o)}}const cW={name:"characterReference",tokenize:ZAe};function ZAe(n,e,t){const i=this;let r=0,o,s;return a;function a(E){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(E),n.exit("characterReferenceMarker"),p}function p(E){return E===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(E),n.exit("characterReferenceMarkerNumeric"),g):(n.enter("characterReferenceValue"),o=31,s=zf,_(E))}function g(E){return E===88||E===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(E),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,s=DAe,_):(n.enter("characterReferenceValue"),o=7,s=EO,_(E))}function _(E){if(E===59&&r){const O=n.exit("characterReferenceValue");return s===zf&&!P7(i.sliceSerialize(O))?t(E):(n.enter("characterReferenceMarker"),n.consume(E),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return s(E)&&r++<o?(n.consume(E),_):t(E)}}const SD={partial:!0,tokenize:JAe},ED={concrete:!0,name:"codeFenced",tokenize:XAe};function XAe(n,e,t){const i=this,r={partial:!0,tokenize:V};let o=0,s=0,a;return p;function p(J){return g(J)}function g(J){const W=i.events[i.events.length-1];return o=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,a=J,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),_(J)}function _(J){return J===a?(s++,n.consume(J),_):s<3?t(J):(n.exit("codeFencedFenceSequence"),Ns(J)?Nl(n,E,"whitespace")(J):E(J))}function E(J){return J===null||bo(J)?(n.exit("codeFencedFence"),i.interrupt?e(J):n.check(SD,N,ne)(J)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),O(J))}function O(J){return J===null||bo(J)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),E(J)):Ns(J)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Nl(n,B,"whitespace")(J)):J===96&&J===a?t(J):(n.consume(J),O)}function B(J){return J===null||bo(J)?E(J):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),z(J))}function z(J){return J===null||bo(J)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),E(J)):J===96&&J===a?t(J):(n.consume(J),z)}function N(J){return n.attempt(r,ne,Q)(J)}function Q(J){return n.enter("lineEnding"),n.consume(J),n.exit("lineEnding"),$}function $(J){return o>0&&Ns(J)?Nl(n,X,"linePrefix",o+1)(J):X(J)}function X(J){return J===null||bo(J)?n.check(SD,N,ne)(J):(n.enter("codeFlowValue"),re(J))}function re(J){return J===null||bo(J)?(n.exit("codeFlowValue"),X(J)):(n.consume(J),re)}function ne(J){return n.exit("codeFenced"),e(J)}function V(J,W,he){let ge=0;return ve;function ve(Ce){return J.enter("lineEnding"),J.consume(Ce),J.exit("lineEnding"),_e}function _e(Ce){return J.enter("codeFencedFence"),Ns(Ce)?Nl(J,Me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ce):Me(Ce)}function Me(Ce){return Ce===a?(J.enter("codeFencedFenceSequence"),be(Ce)):he(Ce)}function be(Ce){return Ce===a?(ge++,J.consume(Ce),be):ge>=s?(J.exit("codeFencedFenceSequence"),Ns(Ce)?Nl(J,ze,"whitespace")(Ce):ze(Ce)):he(Ce)}function ze(Ce){return Ce===null||bo(Ce)?(J.exit("codeFencedFence"),W(Ce)):he(Ce)}}}function JAe(n,e,t){const i=this;return r;function r(s){return s===null?t(s):(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),o)}function o(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}const SM={name:"codeIndented",tokenize:tce},ece={partial:!0,tokenize:nce};function tce(n,e,t){const i=this;return r;function r(g){return n.enter("codeIndented"),Nl(n,o,"linePrefix",5)(g)}function o(g){const _=i.events[i.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?s(g):t(g)}function s(g){return g===null?p(g):bo(g)?n.attempt(ece,s,p)(g):(n.enter("codeFlowValue"),a(g))}function a(g){return g===null||bo(g)?(n.exit("codeFlowValue"),s(g)):(n.consume(g),a)}function p(g){return n.exit("codeIndented"),e(g)}}function nce(n,e,t){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?t(s):bo(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),r):Nl(n,o,"linePrefix",5)(s)}function o(s){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):bo(s)?r(s):t(s)}}const ice={name:"codeText",previous:oce,resolve:rce,tokenize:ace};function rce(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function oce(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ace(n,e,t){let i=0,r,o;return s;function s(E){return n.enter("codeText"),n.enter("codeTextSequence"),a(E)}function a(E){return E===96?(n.consume(E),i++,a):(n.exit("codeTextSequence"),p(E))}function p(E){return E===null?t(E):E===32?(n.enter("space"),n.consume(E),n.exit("space"),p):E===96?(o=n.enter("codeTextSequence"),r=0,_(E)):bo(E)?(n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),p):(n.enter("codeTextData"),g(E))}function g(E){return E===null||E===32||E===96||bo(E)?(n.exit("codeTextData"),p(E)):(n.consume(E),g)}function _(E){return E===96?(n.consume(E),r++,_):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(E)):(o.type="codeTextData",g(E))}}class sce{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&t_(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),t_(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),t_(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);t_(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);t_(this.left,t.reverse())}}}function t_(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function hW(n){const e={};let t=-1,i,r,o,s,a,p,g;const _=new sce(n);for(;++t<_.length;){for(;t in e;)t=e[t];if(i=_.get(t),t&&i[1].type==="chunkFlow"&&_.get(t-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,lce(_,t)),t=e[t],g=!0);else if(i[1]._container){for(o=t,r=void 0;o--;)if(s=_.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(r&&(_.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;r&&(i[1].end={..._.get(r)[1].start},a=_.slice(r,t),a.unshift(i),_.splice(r,t-r+1,a))}}return v0(n,0,Number.POSITIVE_INFINITY,_.slice(0)),!g}function lce(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const o=[];let s=t._tokenizer;s||(s=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,p=[],g={};let _,E,O=-1,B=t,z=0,N=0;const Q=[N];for(;B;){for(;n.get(++r)[1]!==B;);o.push(r),B._tokenizer||(_=i.sliceStream(B),B.next||_.push(null),E&&s.defineSkip(B.start),B._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(_),B._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),E=B,B=B.next}for(B=t;++O<a.length;)a[O][0]==="exit"&&a[O-1][0]==="enter"&&a[O][1].type===a[O-1][1].type&&a[O][1].start.line!==a[O][1].end.line&&(N=O+1,Q.push(N),B._tokenizer=void 0,B.previous=void 0,B=B.next);for(s.events=[],B?(B._tokenizer=void 0,B.previous=void 0):Q.pop(),O=Q.length;O--;){const $=a.slice(Q[O],Q[O+1]),X=o.pop();p.push([X,X+$.length-1]),n.splice(X,2,$)}for(p.reverse(),O=-1;++O<p.length;)g[z+p[O][0]]=z+p[O][1],z+=p[O][1]-p[O][0]-1;return g}const uce={resolve:cce,tokenize:hce},Ace={partial:!0,tokenize:dce};function cce(n){return hW(n),n}function hce(n,e){let t;return i;function i(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?o(a):bo(a)?n.check(Ace,s,o)(a):(n.consume(a),r)}function o(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function s(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function dce(n,e,t){const i=this;return r;function r(s){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),Nl(n,o,"linePrefix")}function o(s){if(s===null||bo(s))return t(s);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):n.interrupt(i.parser.constructs.flow,t,e)(s)}}function dW(n,e,t,i,r,o,s,a,p){const g=p||Number.POSITIVE_INFINITY;let _=0;return E;function E($){return $===60?(n.enter(i),n.enter(r),n.enter(o),n.consume($),n.exit(o),O):$===null||$===32||$===41||SO($)?t($):(n.enter(i),n.enter(s),n.enter(a),n.enter("chunkString",{contentType:"string"}),N($))}function O($){return $===62?(n.enter(o),n.consume($),n.exit(o),n.exit(r),n.exit(i),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),B($))}function B($){return $===62?(n.exit("chunkString"),n.exit(a),O($)):$===null||$===60||bo($)?t($):(n.consume($),$===92?z:B)}function z($){return $===60||$===62||$===92?(n.consume($),B):B($)}function N($){return!_&&($===null||$===41||of($))?(n.exit("chunkString"),n.exit(a),n.exit(s),n.exit(i),e($)):_<g&&$===40?(n.consume($),_++,N):$===41?(n.consume($),_--,N):$===null||$===32||$===40||SO($)?t($):(n.consume($),$===92?Q:N)}function Q($){return $===40||$===41||$===92?(n.consume($),N):N($)}}function fW(n,e,t,i,r,o){const s=this;let a=0,p;return g;function g(B){return n.enter(i),n.enter(r),n.consume(B),n.exit(r),n.enter(o),_}function _(B){return a>999||B===null||B===91||B===93&&!p||B===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?t(B):B===93?(n.exit(o),n.enter(r),n.consume(B),n.exit(r),n.exit(i),e):bo(B)?(n.enter("lineEnding"),n.consume(B),n.exit("lineEnding"),_):(n.enter("chunkString",{contentType:"string"}),E(B))}function E(B){return B===null||B===91||B===93||bo(B)||a++>999?(n.exit("chunkString"),_(B)):(n.consume(B),p||(p=!Ns(B)),B===92?O:E)}function O(B){return B===91||B===92||B===93?(n.consume(B),a++,E):E(B)}}function pW(n,e,t,i,r,o){let s;return a;function a(O){return O===34||O===39||O===40?(n.enter(i),n.enter(r),n.consume(O),n.exit(r),s=O===40?41:O,p):t(O)}function p(O){return O===s?(n.enter(r),n.consume(O),n.exit(r),n.exit(i),e):(n.enter(o),g(O))}function g(O){return O===s?(n.exit(o),p(s)):O===null?t(O):bo(O)?(n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),Nl(n,g,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===s||O===null||bo(O)?(n.exit("chunkString"),g(O)):(n.consume(O),O===92?E:_)}function E(O){return O===s||O===92?(n.consume(O),_):_(O)}}function j_(n,e){let t;return i;function i(r){return bo(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Ns(r)?Nl(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const fce={name:"definition",tokenize:mce},pce={partial:!0,tokenize:gce};function mce(n,e,t){const i=this;let r;return o;function o(B){return n.enter("definition"),s(B)}function s(B){return fW.call(i,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(B)}function a(B){return r=qv(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),B===58?(n.enter("definitionMarker"),n.consume(B),n.exit("definitionMarker"),p):t(B)}function p(B){return of(B)?j_(n,g)(B):g(B)}function g(B){return dW(n,_,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(B)}function _(B){return n.attempt(pce,E,E)(B)}function E(B){return Ns(B)?Nl(n,O,"whitespace")(B):O(B)}function O(B){return B===null||bo(B)?(n.exit("definition"),i.parser.defined.push(r),e(B)):t(B)}}function gce(n,e,t){return i;function i(a){return of(a)?j_(n,r)(a):t(a)}function r(a){return pW(n,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ns(a)?Nl(n,s,"whitespace")(a):s(a)}function s(a){return a===null||bo(a)?e(a):t(a)}}const yce={name:"hardBreakEscape",tokenize:vce};function vce(n,e,t){return i;function i(o){return n.enter("hardBreakEscape"),n.consume(o),r}function r(o){return bo(o)?(n.exit("hardBreakEscape"),e(o)):t(o)}}const Cce={name:"headingAtx",resolve:_ce,tokenize:bce};function _ce(n,e){let t=n.length-2,i=3,r,o;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},o={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},v0(n,i,t-i+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),n}function bce(n,e,t){let i=0;return r;function r(_){return n.enter("atxHeading"),o(_)}function o(_){return n.enter("atxHeadingSequence"),s(_)}function s(_){return _===35&&i++<6?(n.consume(_),s):_===null||of(_)?(n.exit("atxHeadingSequence"),a(_)):t(_)}function a(_){return _===35?(n.enter("atxHeadingSequence"),p(_)):_===null||bo(_)?(n.exit("atxHeading"),e(_)):Ns(_)?Nl(n,a,"whitespace")(_):(n.enter("atxHeadingText"),g(_))}function p(_){return _===35?(n.consume(_),p):(n.exit("atxHeadingSequence"),a(_))}function g(_){return _===null||_===35||of(_)?(n.exit("atxHeadingText"),a(_)):(n.consume(_),g)}}const xce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],BD=["pre","script","style","textarea"],Mce={concrete:!0,name:"htmlFlow",resolveTo:Ece,tokenize:Bce},wce={partial:!0,tokenize:Ice},Sce={partial:!0,tokenize:Oce};function Ece(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Bce(n,e,t){const i=this;let r,o,s,a,p;return g;function g(ke){return _(ke)}function _(ke){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(ke),E}function E(ke){return ke===33?(n.consume(ke),O):ke===47?(n.consume(ke),o=!0,N):ke===63?(n.consume(ke),r=3,i.interrupt?e:ue):r0(ke)?(n.consume(ke),s=String.fromCharCode(ke),Q):t(ke)}function O(ke){return ke===45?(n.consume(ke),r=2,B):ke===91?(n.consume(ke),r=5,a=0,z):r0(ke)?(n.consume(ke),r=4,i.interrupt?e:ue):t(ke)}function B(ke){return ke===45?(n.consume(ke),i.interrupt?e:ue):t(ke)}function z(ke){const Et="CDATA[";return ke===Et.charCodeAt(a++)?(n.consume(ke),a===Et.length?i.interrupt?e:Me:z):t(ke)}function N(ke){return r0(ke)?(n.consume(ke),s=String.fromCharCode(ke),Q):t(ke)}function Q(ke){if(ke===null||ke===47||ke===62||of(ke)){const Et=ke===47,gt=s.toLowerCase();return!Et&&!o&&BD.includes(gt)?(r=1,i.interrupt?e(ke):Me(ke)):xce.includes(s.toLowerCase())?(r=6,Et?(n.consume(ke),$):i.interrupt?e(ke):Me(ke)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(ke):o?X(ke):re(ke))}return ke===45||zf(ke)?(n.consume(ke),s+=String.fromCharCode(ke),Q):t(ke)}function $(ke){return ke===62?(n.consume(ke),i.interrupt?e:Me):t(ke)}function X(ke){return Ns(ke)?(n.consume(ke),X):ve(ke)}function re(ke){return ke===47?(n.consume(ke),ve):ke===58||ke===95||r0(ke)?(n.consume(ke),ne):Ns(ke)?(n.consume(ke),re):ve(ke)}function ne(ke){return ke===45||ke===46||ke===58||ke===95||zf(ke)?(n.consume(ke),ne):V(ke)}function V(ke){return ke===61?(n.consume(ke),J):Ns(ke)?(n.consume(ke),V):re(ke)}function J(ke){return ke===null||ke===60||ke===61||ke===62||ke===96?t(ke):ke===34||ke===39?(n.consume(ke),p=ke,W):Ns(ke)?(n.consume(ke),J):he(ke)}function W(ke){return ke===p?(n.consume(ke),p=null,ge):ke===null||bo(ke)?t(ke):(n.consume(ke),W)}function he(ke){return ke===null||ke===34||ke===39||ke===47||ke===60||ke===61||ke===62||ke===96||of(ke)?V(ke):(n.consume(ke),he)}function ge(ke){return ke===47||ke===62||Ns(ke)?re(ke):t(ke)}function ve(ke){return ke===62?(n.consume(ke),_e):t(ke)}function _e(ke){return ke===null||bo(ke)?Me(ke):Ns(ke)?(n.consume(ke),_e):t(ke)}function Me(ke){return ke===45&&r===2?(n.consume(ke),Fe):ke===60&&r===1?(n.consume(ke),ot):ke===62&&r===4?(n.consume(ke),We):ke===63&&r===3?(n.consume(ke),ue):ke===93&&r===5?(n.consume(ke),it):bo(ke)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(wce,tt,be)(ke)):ke===null||bo(ke)?(n.exit("htmlFlowData"),be(ke)):(n.consume(ke),Me)}function be(ke){return n.check(Sce,ze,tt)(ke)}function ze(ke){return n.enter("lineEnding"),n.consume(ke),n.exit("lineEnding"),Ce}function Ce(ke){return ke===null||bo(ke)?be(ke):(n.enter("htmlFlowData"),Me(ke))}function Fe(ke){return ke===45?(n.consume(ke),ue):Me(ke)}function ot(ke){return ke===47?(n.consume(ke),s="",mt):Me(ke)}function mt(ke){if(ke===62){const Et=s.toLowerCase();return BD.includes(Et)?(n.consume(ke),We):Me(ke)}return r0(ke)&&s.length<8?(n.consume(ke),s+=String.fromCharCode(ke),mt):Me(ke)}function it(ke){return ke===93?(n.consume(ke),ue):Me(ke)}function ue(ke){return ke===62?(n.consume(ke),We):ke===45&&r===2?(n.consume(ke),ue):Me(ke)}function We(ke){return ke===null||bo(ke)?(n.exit("htmlFlowData"),tt(ke)):(n.consume(ke),We)}function tt(ke){return n.exit("htmlFlow"),e(ke)}}function Oce(n,e,t){const i=this;return r;function r(s){return bo(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),o):t(s)}function o(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}function Ice(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(C4,e,t)}}const Tce={name:"htmlText",tokenize:kce};function kce(n,e,t){const i=this;let r,o,s;return a;function a(ue){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(ue),p}function p(ue){return ue===33?(n.consume(ue),g):ue===47?(n.consume(ue),V):ue===63?(n.consume(ue),re):r0(ue)?(n.consume(ue),he):t(ue)}function g(ue){return ue===45?(n.consume(ue),_):ue===91?(n.consume(ue),o=0,z):r0(ue)?(n.consume(ue),X):t(ue)}function _(ue){return ue===45?(n.consume(ue),B):t(ue)}function E(ue){return ue===null?t(ue):ue===45?(n.consume(ue),O):bo(ue)?(s=E,ot(ue)):(n.consume(ue),E)}function O(ue){return ue===45?(n.consume(ue),B):E(ue)}function B(ue){return ue===62?Fe(ue):ue===45?O(ue):E(ue)}function z(ue){const We="CDATA[";return ue===We.charCodeAt(o++)?(n.consume(ue),o===We.length?N:z):t(ue)}function N(ue){return ue===null?t(ue):ue===93?(n.consume(ue),Q):bo(ue)?(s=N,ot(ue)):(n.consume(ue),N)}function Q(ue){return ue===93?(n.consume(ue),$):N(ue)}function $(ue){return ue===62?Fe(ue):ue===93?(n.consume(ue),$):N(ue)}function X(ue){return ue===null||ue===62?Fe(ue):bo(ue)?(s=X,ot(ue)):(n.consume(ue),X)}function re(ue){return ue===null?t(ue):ue===63?(n.consume(ue),ne):bo(ue)?(s=re,ot(ue)):(n.consume(ue),re)}function ne(ue){return ue===62?Fe(ue):re(ue)}function V(ue){return r0(ue)?(n.consume(ue),J):t(ue)}function J(ue){return ue===45||zf(ue)?(n.consume(ue),J):W(ue)}function W(ue){return bo(ue)?(s=W,ot(ue)):Ns(ue)?(n.consume(ue),W):Fe(ue)}function he(ue){return ue===45||zf(ue)?(n.consume(ue),he):ue===47||ue===62||of(ue)?ge(ue):t(ue)}function ge(ue){return ue===47?(n.consume(ue),Fe):ue===58||ue===95||r0(ue)?(n.consume(ue),ve):bo(ue)?(s=ge,ot(ue)):Ns(ue)?(n.consume(ue),ge):Fe(ue)}function ve(ue){return ue===45||ue===46||ue===58||ue===95||zf(ue)?(n.consume(ue),ve):_e(ue)}function _e(ue){return ue===61?(n.consume(ue),Me):bo(ue)?(s=_e,ot(ue)):Ns(ue)?(n.consume(ue),_e):ge(ue)}function Me(ue){return ue===null||ue===60||ue===61||ue===62||ue===96?t(ue):ue===34||ue===39?(n.consume(ue),r=ue,be):bo(ue)?(s=Me,ot(ue)):Ns(ue)?(n.consume(ue),Me):(n.consume(ue),ze)}function be(ue){return ue===r?(n.consume(ue),r=void 0,Ce):ue===null?t(ue):bo(ue)?(s=be,ot(ue)):(n.consume(ue),be)}function ze(ue){return ue===null||ue===34||ue===39||ue===60||ue===61||ue===96?t(ue):ue===47||ue===62||of(ue)?ge(ue):(n.consume(ue),ze)}function Ce(ue){return ue===47||ue===62||of(ue)?ge(ue):t(ue)}function Fe(ue){return ue===62?(n.consume(ue),n.exit("htmlTextData"),n.exit("htmlText"),e):t(ue)}function ot(ue){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(ue),n.exit("lineEnding"),mt}function mt(ue){return Ns(ue)?Nl(n,it,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):it(ue)}function it(ue){return n.enter("htmlTextData"),s(ue)}}const K7={name:"labelEnd",resolveAll:Uce,resolveTo:Kce,tokenize:Lce},Dce={tokenize:Fce},Rce={tokenize:zce},Pce={tokenize:jce};function Uce(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&v0(n,0,n.length,t),n}function Kce(n,e){let t=n.length,i=0,r,o,s,a;for(;t--;)if(r=n[t][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=t);const p={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},g={type:"label",start:{...n[o][1].start},end:{...n[s][1].end}},_={type:"labelText",start:{...n[o+i+2][1].end},end:{...n[s-2][1].start}};return a=[["enter",p,e],["enter",g,e]],a=Op(a,n.slice(o+1,o+i+3)),a=Op(a,[["enter",_,e]]),a=Op(a,U7(e.parser.constructs.insideSpan.null,n.slice(o+i+4,s-3),e)),a=Op(a,[["exit",_,e],n[s-2],n[s-1],["exit",g,e]]),a=Op(a,n.slice(s+1)),a=Op(a,[["exit",p,e]]),v0(n,o,n.length,a),n}function Lce(n,e,t){const i=this;let r=i.events.length,o,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return a;function a(O){return o?o._inactive?E(O):(s=i.parser.defined.includes(qv(i.sliceSerialize({start:o.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(O),n.exit("labelMarker"),n.exit("labelEnd"),p):t(O)}function p(O){return O===40?n.attempt(Dce,_,s?_:E)(O):O===91?n.attempt(Rce,_,s?g:E)(O):s?_(O):E(O)}function g(O){return n.attempt(Pce,_,E)(O)}function _(O){return e(O)}function E(O){return o._balanced=!0,t(O)}}function Fce(n,e,t){return i;function i(E){return n.enter("resource"),n.enter("resourceMarker"),n.consume(E),n.exit("resourceMarker"),r}function r(E){return of(E)?j_(n,o)(E):o(E)}function o(E){return E===41?_(E):dW(n,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function s(E){return of(E)?j_(n,p)(E):_(E)}function a(E){return t(E)}function p(E){return E===34||E===39||E===40?pW(n,g,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):_(E)}function g(E){return of(E)?j_(n,_)(E):_(E)}function _(E){return E===41?(n.enter("resourceMarker"),n.consume(E),n.exit("resourceMarker"),n.exit("resource"),e):t(E)}}function zce(n,e,t){const i=this;return r;function r(a){return fW.call(i,n,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return i.parser.defined.includes(qv(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(a):t(a)}function s(a){return t(a)}}function jce(n,e,t){return i;function i(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),r}function r(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),e):t(o)}}const Nce={name:"labelStartImage",resolveAll:K7.resolveAll,tokenize:Gce};function Gce(n,e,t){const i=this;return r;function r(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),o}function o(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),s):t(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(a):e(a)}}const Wce={name:"labelStartLink",resolveAll:K7.resolveAll,tokenize:Qce};function Qce(n,e,t){const i=this;return r;function r(s){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(s),n.exit("labelMarker"),n.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(s):e(s)}}const EM={name:"lineEnding",tokenize:Yce};function Yce(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Nl(n,e,"linePrefix")}}const m3={name:"thematicBreak",tokenize:qce};function qce(n,e,t){let i=0,r;return o;function o(g){return n.enter("thematicBreak"),s(g)}function s(g){return r=g,a(g)}function a(g){return g===r?(n.enter("thematicBreakSequence"),p(g)):i>=3&&(g===null||bo(g))?(n.exit("thematicBreak"),e(g)):t(g)}function p(g){return g===r?(n.consume(g),i++,p):(n.exit("thematicBreakSequence"),Ns(g)?Nl(n,a,"whitespace")(g):a(g))}}const $d={continuation:{tokenize:Zce},exit:Jce,name:"list",tokenize:$ce},Hce={partial:!0,tokenize:ehe},Vce={partial:!0,tokenize:Xce};function $ce(n,e,t){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return a;function a(B){const z=i.containerState.type||(B===42||B===43||B===45?"listUnordered":"listOrdered");if(z==="listUnordered"?!i.containerState.marker||B===i.containerState.marker:EO(B)){if(i.containerState.type||(i.containerState.type=z,n.enter(z,{_container:!0})),z==="listUnordered")return n.enter("listItemPrefix"),B===42||B===45?n.check(m3,t,g)(B):g(B);if(!i.interrupt||B===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(B)}return t(B)}function p(B){return EO(B)&&++s<10?(n.consume(B),p):(!i.interrupt||s<2)&&(i.containerState.marker?B===i.containerState.marker:B===41||B===46)?(n.exit("listItemValue"),g(B)):t(B)}function g(B){return n.enter("listItemMarker"),n.consume(B),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||B,n.check(C4,i.interrupt?t:_,n.attempt(Hce,O,E))}function _(B){return i.containerState.initialBlankLine=!0,o++,O(B)}function E(B){return Ns(B)?(n.enter("listItemPrefixWhitespace"),n.consume(B),n.exit("listItemPrefixWhitespace"),O):t(B)}function O(B){return i.containerState.size=o+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(B)}}function Zce(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(C4,r,o);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Nl(n,e,"listItemIndent",i.containerState.size+1)(a)}function o(a){return i.containerState.furtherBlankLines||!Ns(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Vce,e,s)(a))}function s(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,Nl(n,n.attempt($d,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Xce(n,e,t){const i=this;return Nl(n,r,"listItemIndent",i.containerState.size+1);function r(o){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(o):t(o)}}function Jce(n){n.exit(this.containerState.type)}function ehe(n,e,t){const i=this;return Nl(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const s=i.events[i.events.length-1];return!Ns(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}const OD={name:"setextUnderline",resolveTo:the,tokenize:nhe};function the(n,e){let t=n.length,i,r,o;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!o&&n[t][1].type==="definition"&&(o=t);const s={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",o?(n.splice(r,0,["enter",s,e]),n.splice(o+1,0,["exit",n[i][1],e]),n[i][1].end={...n[o][1].end}):n[i][1]=s,n.push(["exit",s,e]),n}function nhe(n,e,t){const i=this;let r;return o;function o(g){let _=i.events.length,E;for(;_--;)if(i.events[_][1].type!=="lineEnding"&&i.events[_][1].type!=="linePrefix"&&i.events[_][1].type!=="content"){E=i.events[_][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||E)?(n.enter("setextHeadingLine"),r=g,s(g)):t(g)}function s(g){return n.enter("setextHeadingLineSequence"),a(g)}function a(g){return g===r?(n.consume(g),a):(n.exit("setextHeadingLineSequence"),Ns(g)?Nl(n,p,"lineSuffix")(g):p(g))}function p(g){return g===null||bo(g)?(n.exit("setextHeadingLine"),e(g)):t(g)}}const ihe={tokenize:rhe};function rhe(n){const e=this,t=n.attempt(C4,i,n.attempt(this.parser.constructs.flowInitial,r,Nl(n,n.attempt(this.parser.constructs.flow,r,n.attempt(uce,r)),"linePrefix")));return t;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const ohe={resolveAll:gW()},ahe=mW("string"),she=mW("text");function mW(n){return{resolveAll:gW(n==="text"?lhe:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],o=t.attempt(r,s,a);return s;function s(_){return g(_)?o(_):a(_)}function a(_){if(_===null){t.consume(_);return}return t.enter("data"),t.consume(_),p}function p(_){return g(_)?(t.exit("data"),o(_)):(t.consume(_),p)}function g(_){if(_===null)return!0;const E=r[_];let O=-1;if(E)for(;++O<E.length;){const B=E[O];if(!B.previous||B.previous.call(i,i.previous))return!0}return!1}}}function gW(n){return e;function e(t,i){let r=-1,o;for(;++r<=t.length;)o===void 0?t[r]&&t[r][1].type==="data"&&(o=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),r=o+2),o=void 0);return n?n(t,i):t}}function lhe(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let o=r.length,s=-1,a=0,p;for(;o--;){const g=r[o];if(typeof g=="string"){for(s=g.length;g.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(g===-2)p=!0,a++;else if(g!==-1){o++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(a=0),a){const g={type:t===n.length||p||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:i.start._bufferIndex+s,_index:i.start._index+o,line:i.end.line,column:i.end.column-a,offset:i.end.offset-a},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(n.splice(t,0,["enter",g,e],["exit",g,e]),t+=2)}t++}return n}const uhe={42:$d,43:$d,45:$d,48:$d,49:$d,50:$d,51:$d,52:$d,53:$d,54:$d,55:$d,56:$d,57:$d,62:uW},Ahe={91:fce},che={[-2]:SM,[-1]:SM,32:SM},hhe={35:Cce,42:m3,45:[OD,m3],60:Mce,61:OD,95:m3,96:ED,126:ED},dhe={38:cW,92:AW},fhe={[-5]:EM,[-4]:EM,[-3]:EM,33:Nce,38:cW,42:BO,60:[WAe,Tce],91:Wce,92:[yce,AW],93:K7,95:BO,96:ice},phe={null:[BO,ohe]},mhe={null:[42,95]},ghe={null:[]},yhe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mhe,contentInitial:Ahe,disable:ghe,document:uhe,flow:hhe,flowInitial:che,insideSpan:phe,string:dhe,text:fhe},Symbol.toStringTag,{value:"Module"}));function vhe(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},o=[];let s=[],a=[];const p={attempt:W(V),check:W(J),consume:X,enter:re,exit:ne,interrupt:W(J,{interrupt:!0})},g={code:null,containerState:{},defineSkip:N,events:[],now:z,parser:n,previous:null,sliceSerialize:O,sliceStream:B,write:E};let _=e.tokenize.call(g,p);return e.resolveAll&&o.push(e),g;function E(_e){return s=Op(s,_e),Q(),s[s.length-1]!==null?[]:(he(e,0),g.events=U7(o,g.events,g),g.events)}function O(_e,Me){return _he(B(_e),Me)}function B(_e){return Che(s,_e)}function z(){const{_bufferIndex:_e,_index:Me,line:be,column:ze,offset:Ce}=i;return{_bufferIndex:_e,_index:Me,line:be,column:ze,offset:Ce}}function N(_e){r[_e.line]=_e.column,ve()}function Q(){let _e;for(;i._index<s.length;){const Me=s[i._index];if(typeof Me=="string")for(_e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===_e&&i._bufferIndex<Me.length;)$(Me.charCodeAt(i._bufferIndex));else $(Me)}}function $(_e){_=_(_e)}function X(_e){bo(_e)?(i.line++,i.column=1,i.offset+=_e===-3?2:1,ve()):_e!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=_e}function re(_e,Me){const be=Me||{};return be.type=_e,be.start=z(),g.events.push(["enter",be,g]),a.push(be),be}function ne(_e){const Me=a.pop();return Me.end=z(),g.events.push(["exit",Me,g]),Me}function V(_e,Me){he(_e,Me.from)}function J(_e,Me){Me.restore()}function W(_e,Me){return be;function be(ze,Ce,Fe){let ot,mt,it,ue;return Array.isArray(ze)?tt(ze):"tokenize"in ze?tt([ze]):We(ze);function We(xt){return Kt;function Kt(je){const Ke=je!==null&&xt[je],Ue=je!==null&&xt.null,Ve=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return tt(Ve)(je)}}function tt(xt){return ot=xt,mt=0,xt.length===0?Fe:ke(xt[mt])}function ke(xt){return Kt;function Kt(je){return ue=ge(),it=xt,xt.partial||(g.currentConstruct=xt),xt.name&&g.parser.constructs.disable.null.includes(xt.name)?gt():xt.tokenize.call(Me?Object.assign(Object.create(g),Me):g,p,Et,gt)(je)}}function Et(xt){return _e(it,ue),Ce}function gt(xt){return ue.restore(),++mt<ot.length?ke(ot[mt]):Fe}}}function he(_e,Me){_e.resolveAll&&!o.includes(_e)&&o.push(_e),_e.resolve&&v0(g.events,Me,g.events.length-Me,_e.resolve(g.events.slice(Me),g)),_e.resolveTo&&(g.events=_e.resolveTo(g.events,g))}function ge(){const _e=z(),Me=g.previous,be=g.currentConstruct,ze=g.events.length,Ce=Array.from(a);return{from:ze,restore:Fe};function Fe(){i=_e,g.previous=Me,g.currentConstruct=be,g.events.length=ze,a=Ce,ve()}}function ve(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Che(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let s;if(t===r)s=[n[t].slice(i,o)];else{if(s=n.slice(t,r),i>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(i):s.shift()}o>0&&s.push(n[r].slice(0,o))}return s}function _he(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const o=n[t];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(o)}r=o===-2,i.push(s)}return i.join("")}function bhe(n){const i={constructs:OAe([yhe,...(n||{}).extensions||[]]),content:r(KAe),defined:[],document:r(FAe),flow:r(ihe),lazy:{},string:r(ahe),text:r(she)};return i;function r(o){return s;function s(a){return vhe(i,o,a)}}}function xhe(n){for(;!hW(n););return n}const ID=/[\0\t\n\r]/g;function Mhe(){let n=1,e="",t=!0,i;return r;function r(o,s,a){const p=[];let g,_,E,O,B;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),E=0,e="",t&&(o.charCodeAt(0)===65279&&E++,t=void 0);E<o.length;){if(ID.lastIndex=E,g=ID.exec(o),O=g&&g.index!==void 0?g.index:o.length,B=o.charCodeAt(O),!g){e=o.slice(E);break}if(B===10&&E===O&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),E<O&&(p.push(o.slice(E,O)),n+=O-E),B){case 0:{p.push(65533),n++;break}case 9:{for(_=Math.ceil(n/4)*4,p.push(-2);n++<_;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:i=!0,n=1}E=O+1}return a&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const whe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function She(n){return n.replace(whe,Ehe)}function Ehe(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),o=r===120||r===88;return lW(t.slice(o?2:1),o?16:10)}return P7(t)||n}const yW={}.hasOwnProperty;function Bhe(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Ohe(t)(xhe(bhe(t).document().write(Mhe()(n,e,!0))))}function Ohe(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Wt),autolinkProtocol:ge,autolinkEmail:ge,atxHeading:o(Yt),blockQuote:o(Ue),characterEscape:ge,characterReference:ge,codeFenced:o(Ve),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Ve,s),codeText:o(bt,s),codeTextData:ge,data:ge,codeFlowValue:ge,definition:o(vt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(It),hardBreakEscape:o(Ut),hardBreakTrailing:o(Ut),htmlFlow:o(on,s),htmlFlowData:ge,htmlText:o(on,s),htmlTextData:ge,image:o(Hn),label:s,link:o(Wt),listItem:o(On),listItemValue:O,listOrdered:o(Gn,E),listUnordered:o(Gn),paragraph:o(Bn),reference:ke,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Yt),strong:o(Tn),thematicBreak:o(Vn)},exit:{atxHeading:p(),atxHeadingSequence:V,autolink:p(),autolinkEmail:Ke,autolinkProtocol:je,blockQuote:p(),characterEscapeValue:ve,characterReferenceMarkerHexadecimal:gt,characterReferenceMarkerNumeric:gt,characterReferenceValue:xt,characterReference:Kt,codeFenced:p(Q),codeFencedFence:N,codeFencedFenceInfo:B,codeFencedFenceMeta:z,codeFlowValue:ve,codeIndented:p($),codeText:p(Ce),codeTextData:ve,data:ve,definition:p(),definitionDestinationString:ne,definitionLabelString:X,definitionTitleString:re,emphasis:p(),hardBreakEscape:p(Me),hardBreakTrailing:p(Me),htmlFlow:p(be),htmlFlowData:ve,htmlText:p(ze),htmlTextData:ve,image:p(ot),label:it,labelText:mt,lineEnding:_e,link:p(Fe),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Et,resourceDestinationString:ue,resourceTitleString:We,resource:tt,setextHeading:p(he),setextHeadingLineSequence:W,setextHeadingText:J,strong:p(),thematicBreak:p()}};vW(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(Lt){let De={type:"root",children:[]};const de={stack:[De],tokenStack:[],config:e,enter:a,exit:g,buffer:s,resume:_,data:t},oe=[];let le=-1;for(;++le<Lt.length;)if(Lt[le][1].type==="listOrdered"||Lt[le][1].type==="listUnordered")if(Lt[le][0]==="enter")oe.push(le);else{const me=oe.pop();le=r(Lt,me,le)}for(le=-1;++le<Lt.length;){const me=e[Lt[le][0]];yW.call(me,Lt[le][1].type)&&me[Lt[le][1].type].call(Object.assign({sliceSerialize:Lt[le][2].sliceSerialize},de),Lt[le][1])}if(de.tokenStack.length>0){const me=de.tokenStack[de.tokenStack.length-1];(me[1]||TD).call(de,void 0,me[0])}for(De.position={start:Dg(Lt.length>0?Lt[0][1].start:{line:1,column:1,offset:0}),end:Dg(Lt.length>0?Lt[Lt.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<e.transforms.length;)De=e.transforms[le](De)||De;return De}function r(Lt,De,de){let oe=De-1,le=-1,me=!1,Ie,Qe,At,He;for(;++oe<=de;){const Re=Lt[oe];switch(Re[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Re[0]==="enter"?le++:le--,He=void 0;break}case"lineEndingBlank":{Re[0]==="enter"&&(Ie&&!He&&!le&&!At&&(At=oe),He=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:He=void 0}if(!le&&Re[0]==="enter"&&Re[1].type==="listItemPrefix"||le===-1&&Re[0]==="exit"&&(Re[1].type==="listUnordered"||Re[1].type==="listOrdered")){if(Ie){let Ze=oe;for(Qe=void 0;Ze--;){const y=Lt[Ze];if(y[1].type==="lineEnding"||y[1].type==="lineEndingBlank"){if(y[0]==="exit")continue;Qe&&(Lt[Qe][1].type="lineEndingBlank",me=!0),y[1].type="lineEnding",Qe=Ze}else if(!(y[1].type==="linePrefix"||y[1].type==="blockQuotePrefix"||y[1].type==="blockQuotePrefixWhitespace"||y[1].type==="blockQuoteMarker"||y[1].type==="listItemIndent"))break}At&&(!Qe||At<Qe)&&(Ie._spread=!0),Ie.end=Object.assign({},Qe?Lt[Qe][1].start:Re[1].end),Lt.splice(Qe||oe,0,["exit",Ie,Re[2]]),oe++,de++}if(Re[1].type==="listItemPrefix"){const Ze={type:"listItem",_spread:!1,start:Object.assign({},Re[1].start),end:void 0};Ie=Ze,Lt.splice(oe,0,["enter",Ze,Re[2]]),oe++,de++,At=void 0,He=!0}}}return Lt[De][1]._spread=me,de}function o(Lt,De){return de;function de(oe){a.call(this,Lt(oe),oe),De&&De.call(this,oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(Lt,De,de){this.stack[this.stack.length-1].children.push(Lt),this.stack.push(Lt),this.tokenStack.push([De,de||void 0]),Lt.position={start:Dg(De.start),end:void 0}}function p(Lt){return De;function De(de){Lt&&Lt.call(this,de),g.call(this,de)}}function g(Lt,De){const de=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==Lt.type&&(De?De.call(this,Lt,oe[0]):(oe[1]||TD).call(this,Lt,oe[0]));else throw new Error("Cannot close `"+Lt.type+"` ("+z_({start:Lt.start,end:Lt.end})+"): it’s not open");de.position.end=Dg(Lt.end)}function _(){return EAe(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function O(Lt){if(this.data.expectingFirstListItemValue){const De=this.stack[this.stack.length-2];De.start=Number.parseInt(this.sliceSerialize(Lt),10),this.data.expectingFirstListItemValue=void 0}}function B(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.lang=Lt}function z(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.meta=Lt}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Q(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.value=Lt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function $(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.value=Lt.replace(/(\r?\n|\r)$/g,"")}function X(Lt){const De=this.resume(),de=this.stack[this.stack.length-1];de.label=De,de.identifier=qv(this.sliceSerialize(Lt)).toLowerCase()}function re(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.title=Lt}function ne(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.url=Lt}function V(Lt){const De=this.stack[this.stack.length-1];if(!De.depth){const de=this.sliceSerialize(Lt).length;De.depth=de}}function J(){this.data.setextHeadingSlurpLineEnding=!0}function W(Lt){const De=this.stack[this.stack.length-1];De.depth=this.sliceSerialize(Lt).codePointAt(0)===61?1:2}function he(){this.data.setextHeadingSlurpLineEnding=void 0}function ge(Lt){const de=this.stack[this.stack.length-1].children;let oe=de[de.length-1];(!oe||oe.type!=="text")&&(oe=Oi(),oe.position={start:Dg(Lt.start),end:void 0},de.push(oe)),this.stack.push(oe)}function ve(Lt){const De=this.stack.pop();De.value+=this.sliceSerialize(Lt),De.position.end=Dg(Lt.end)}function _e(Lt){const De=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=De.children[De.children.length-1];de.position.end=Dg(Lt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(De.type)&&(ge.call(this,Lt),ve.call(this,Lt))}function Me(){this.data.atHardBreak=!0}function be(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.value=Lt}function ze(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.value=Lt}function Ce(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.value=Lt}function Fe(){const Lt=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";Lt.type+="Reference",Lt.referenceType=De,delete Lt.url,delete Lt.title}else delete Lt.identifier,delete Lt.label;this.data.referenceType=void 0}function ot(){const Lt=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";Lt.type+="Reference",Lt.referenceType=De,delete Lt.url,delete Lt.title}else delete Lt.identifier,delete Lt.label;this.data.referenceType=void 0}function mt(Lt){const De=this.sliceSerialize(Lt),de=this.stack[this.stack.length-2];de.label=She(De),de.identifier=qv(De).toLowerCase()}function it(){const Lt=this.stack[this.stack.length-1],De=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const oe=Lt.children;de.children=oe}else de.alt=De}function ue(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.url=Lt}function We(){const Lt=this.resume(),De=this.stack[this.stack.length-1];De.title=Lt}function tt(){this.data.inReference=void 0}function ke(){this.data.referenceType="collapsed"}function Et(Lt){const De=this.resume(),de=this.stack[this.stack.length-1];de.label=De,de.identifier=qv(this.sliceSerialize(Lt)).toLowerCase(),this.data.referenceType="full"}function gt(Lt){this.data.characterReferenceType=Lt.type}function xt(Lt){const De=this.sliceSerialize(Lt),de=this.data.characterReferenceType;let oe;de?(oe=lW(De,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=P7(De);const le=this.stack[this.stack.length-1];le.value+=oe}function Kt(Lt){const De=this.stack.pop();De.position.end=Dg(Lt.end)}function je(Lt){ve.call(this,Lt);const De=this.stack[this.stack.length-1];De.url=this.sliceSerialize(Lt)}function Ke(Lt){ve.call(this,Lt);const De=this.stack[this.stack.length-1];De.url="mailto:"+this.sliceSerialize(Lt)}function Ue(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function bt(){return{type:"inlineCode",value:""}}function vt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function It(){return{type:"emphasis",children:[]}}function Yt(){return{type:"heading",depth:0,children:[]}}function Ut(){return{type:"break"}}function on(){return{type:"html",value:""}}function Hn(){return{type:"image",title:null,url:"",alt:null}}function Wt(){return{type:"link",title:null,url:"",children:[]}}function Gn(Lt){return{type:"list",ordered:Lt.type==="listOrdered",start:null,spread:Lt._spread,children:[]}}function On(Lt){return{type:"listItem",spread:Lt._spread,checked:null,children:[]}}function Bn(){return{type:"paragraph",children:[]}}function Tn(){return{type:"strong",children:[]}}function Oi(){return{type:"text",value:""}}function Vn(){return{type:"thematicBreak"}}}function Dg(n){return{line:n.line,column:n.column,offset:n.offset}}function vW(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?vW(n,i):Ihe(n,i)}}function Ihe(n,e){let t;for(t in e)if(yW.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function TD(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+z_({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+z_({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+z_({start:e.start,end:e.end})+") is still open")}function The(n){const e=this;e.parser=t;function t(i){return Bhe(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function khe(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function Dhe(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Rhe(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(r.data={meta:e.meta}),n.patch(e,r),r=n.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(e,r),r}function Phe(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Uhe(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Khe(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=EC(i.toLowerCase()),o=n.footnoteOrder.indexOf(i);let s,a=n.footnoteCounts.get(i);a===void 0?(a=0,n.footnoteOrder.push(i),s=n.footnoteOrder.length):s=o+1,a+=1,n.footnoteCounts.set(i,a);const p={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};n.patch(e,p);const g={type:"element",tagName:"sup",properties:{},children:[p]};return n.patch(e,g),n.applyData(e,g)}function Lhe(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Fhe(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function CW(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push({type:"text",value:i}),r}function zhe(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return CW(n,e);const r={src:EC(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,o),n.applyData(e,o)}function jhe(n,e){const t={src:EC(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function Nhe(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function Ghe(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return CW(n,e);const r={href:EC(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function Whe(n,e){const t={href:EC(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Qhe(n,e,t){const i=n.all(e),r=t?Yhe(t):_W(e),o={},s=[];if(typeof e.checked=="boolean"){const _=i[0];let E;_&&_.type==="element"&&_.tagName==="p"?E=_:(E={type:"element",tagName:"p",properties:{},children:[]},i.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const _=i[a];(r||a!==0||_.type!=="element"||_.tagName!=="p")&&s.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!r?s.push(..._.children):s.push(_)}const p=i[i.length-1];p&&(r||p.type!=="element"||p.tagName!=="p")&&s.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:s};return n.patch(e,g),n.applyData(e,g)}function Yhe(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=_W(t[i])}return e}function _W(n){const e=n.spread;return e??n.children.length>1}function qhe(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const s=i[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,o),n.applyData(e,o)}function Hhe(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Vhe(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function $he(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Zhe(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const s={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],s),r.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},a=T7(e.children[1]),p=tW(e.children[e.children.length-1]);a&&p&&(s.position={start:a,end:p}),r.push(s)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,o),n.applyData(e,o)}function Xhe(n,e,t){const i=t?t.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,a=s?s.length:e.children.length;let p=-1;const g=[];for(;++p<a;){const E=e.children[p],O={},B=s?s[p]:void 0;B&&(O.align=B);let z={type:"element",tagName:o,properties:O,children:[]};E&&(z.children=n.all(E),n.patch(E,z),z=n.applyData(E,z)),g.push(z)}const _={type:"element",tagName:"tr",properties:{},children:n.wrap(g,!0)};return n.patch(e,_),n.applyData(e,_)}function Jhe(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const kD=9,DD=32;function ede(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const o=[];for(;i;)o.push(RD(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return o.push(RD(e.slice(r),r>0,!1)),o.join("")}function RD(n,e,t){let i=0,r=n.length;if(e){let o=n.codePointAt(i);for(;o===kD||o===DD;)i++,o=n.codePointAt(i)}if(t){let o=n.codePointAt(r-1);for(;o===kD||o===DD;)r--,o=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function tde(n,e){const t={type:"text",value:ede(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function nde(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const ide={blockquote:khe,break:Dhe,code:Rhe,delete:Phe,emphasis:Uhe,footnoteReference:Khe,heading:Lhe,html:Fhe,imageReference:zhe,image:jhe,inlineCode:Nhe,linkReference:Ghe,link:Whe,listItem:Qhe,list:qhe,paragraph:Hhe,root:Vhe,strong:$he,table:Zhe,tableCell:Jhe,tableRow:Xhe,text:tde,thematicBreak:nde,toml:Qx,yaml:Qx,definition:Qx,footnoteDefinition:Qx};function Qx(){}const bW=-1,_4=0,N_=1,h2=2,L7=3,F7=4,z7=5,j7=6,xW=7,MW=8,PD=typeof self=="object"?self:globalThis,rde=(n,e)=>{const t=(r,o)=>(n.set(o,r),r),i=r=>{if(n.has(r))return n.get(r);const[o,s]=e[r];switch(o){case _4:case bW:return t(s,r);case N_:{const a=t([],r);for(const p of s)a.push(i(p));return a}case h2:{const a=t({},r);for(const[p,g]of s)a[i(p)]=i(g);return a}case L7:return t(new Date(s),r);case F7:{const{source:a,flags:p}=s;return t(new RegExp(a,p),r)}case z7:{const a=t(new Map,r);for(const[p,g]of s)a.set(i(p),i(g));return a}case j7:{const a=t(new Set,r);for(const p of s)a.add(i(p));return a}case xW:{const{name:a,message:p}=s;return t(new PD[a](p),r)}case MW:return t(BigInt(s),r);case"BigInt":return t(Object(BigInt(s)),r);case"ArrayBuffer":return t(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return t(new DataView(a),s)}}return t(new PD[o](s),r)};return i},UD=n=>rde(new Map,n)(0),sv="",{toString:ode}={},{keys:ade}=Object,n_=n=>{const e=typeof n;if(e!=="object"||!n)return[_4,e];const t=ode.call(n).slice(8,-1);switch(t){case"Array":return[N_,sv];case"Object":return[h2,sv];case"Date":return[L7,sv];case"RegExp":return[F7,sv];case"Map":return[z7,sv];case"Set":return[j7,sv];case"DataView":return[N_,t]}return t.includes("Array")?[N_,t]:t.includes("Error")?[xW,t]:[h2,t]},Yx=([n,e])=>n===_4&&(e==="function"||e==="symbol"),sde=(n,e,t,i)=>{const r=(s,a)=>{const p=i.push(s)-1;return t.set(a,p),p},o=s=>{if(t.has(s))return t.get(s);let[a,p]=n_(s);switch(a){case _4:{let _=s;switch(p){case"bigint":a=MW,_=s.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+p);_=null;break;case"undefined":return r([bW],s)}return r([a,_],s)}case N_:{if(p){let O=s;return p==="DataView"?O=new Uint8Array(s.buffer):p==="ArrayBuffer"&&(O=new Uint8Array(s)),r([p,[...O]],s)}const _=[],E=r([a,_],s);for(const O of s)_.push(o(O));return E}case h2:{if(p)switch(p){case"BigInt":return r([p,s.toString()],s);case"Boolean":case"Number":case"String":return r([p,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const _=[],E=r([a,_],s);for(const O of ade(s))(n||!Yx(n_(s[O])))&&_.push([o(O),o(s[O])]);return E}case L7:return r([a,s.toISOString()],s);case F7:{const{source:_,flags:E}=s;return r([a,{source:_,flags:E}],s)}case z7:{const _=[],E=r([a,_],s);for(const[O,B]of s)(n||!(Yx(n_(O))||Yx(n_(B))))&&_.push([o(O),o(B)]);return E}case j7:{const _=[],E=r([a,_],s);for(const O of s)(n||!Yx(n_(O)))&&_.push(o(O));return E}}const{message:g}=s;return r([a,{name:p,message:g}],s)};return o},KD=(n,{json:e,lossy:t}={})=>{const i=[];return sde(!(e||t),!!e,new Map,i)(n),i},d2=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?UD(KD(n,e)):structuredClone(n):(n,e)=>UD(KD(n,e));function lde(n,e){const t=[{type:"text",value:"↩"}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function ude(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Ade(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||lde,i=n.options.footnoteBackLabel||ude,r=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",s=n.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let p=-1;for(;++p<n.footnoteOrder.length;){const g=n.footnoteById.get(n.footnoteOrder[p]);if(!g)continue;const _=n.all(g),E=String(g.identifier).toUpperCase(),O=EC(E.toLowerCase());let B=0;const z=[],N=n.footnoteCounts.get(E);for(;N!==void 0&&++B<=N;){z.length>0&&z.push({type:"text",value:" "});let X=typeof t=="string"?t:t(p,B);typeof X=="string"&&(X={type:"text",value:X}),z.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+O+(B>1?"-"+B:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,B),className:["data-footnote-backref"]},children:Array.isArray(X)?X:[X]})}const Q=_[_.length-1];if(Q&&Q.type==="element"&&Q.tagName==="p"){const X=Q.children[Q.children.length-1];X&&X.type==="text"?X.value+=" ":Q.children.push({type:"text",value:" "}),Q.children.push(...z)}else _.push(...z);const $={type:"element",tagName:"li",properties:{id:e+"fn-"+O},children:n.wrap(_,!0)};n.patch(g,$),a.push($)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...d2(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(a,!0)},{type:"text",value:`
`}]}}const wW=function(n){if(n==null)return fde;if(typeof n=="function")return b4(n);if(typeof n=="object")return Array.isArray(n)?cde(n):hde(n);if(typeof n=="string")return dde(n);throw new Error("Expected function, string, or object as test")};function cde(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=wW(n[t]);return b4(i);function i(...r){let o=-1;for(;++o<e.length;)if(e[o].apply(this,r))return!0;return!1}}function hde(n){const e=n;return b4(t);function t(i){const r=i;let o;for(o in n)if(r[o]!==e[o])return!1;return!0}}function dde(n){return b4(e);function e(t){return t&&t.type===n}}function b4(n){return e;function e(t,i,r){return!!(pde(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function fde(){return!0}function pde(n){return n!==null&&typeof n=="object"&&"type"in n}const SW=[],mde=!0,LD=!1,gde="skip";function yde(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const o=wW(r),s=i?-1:1;a(n,void 0,[])();function a(p,g,_){const E=p&&typeof p=="object"?p:{};if(typeof E.type=="string"){const B=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(O,"name",{value:"node ("+(p.type+(B?"<"+B+">":""))+")"})}return O;function O(){let B=SW,z,N,Q;if((!e||o(p,g,_[_.length-1]||void 0))&&(B=vde(t(p,_)),B[0]===LD))return B;if("children"in p&&p.children){const $=p;if($.children&&B[0]!==gde)for(N=(i?$.children.length:-1)+s,Q=_.concat($);N>-1&&N<$.children.length;){const X=$.children[N];if(z=a(X,N,Q)(),z[0]===LD)return z;N=typeof z[1]=="number"?z[1]:N+s}}return B}}}function vde(n){return Array.isArray(n)?n:typeof n=="number"?[mde,n]:n==null?SW:[n]}function EW(n,e,t,i){let r,o,s;typeof e=="function"&&typeof t!="function"?(o=void 0,s=e,r=t):(o=e,s=t,r=i),yde(n,o,a,r);function a(p,g){const _=g[g.length-1],E=_?_.children.indexOf(p):void 0;return s(p,E,_)}}const OO={}.hasOwnProperty,Cde={};function _de(n,e){const t=e||Cde,i=new Map,r=new Map,o=new Map,s={...ide,...t.handlers},a={all:g,applyData:xde,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:s,one:p,options:t,patch:bde,wrap:wde};return EW(n,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const E=_.type==="definition"?i:r,O=String(_.identifier).toUpperCase();E.has(O)||E.set(O,_)}}),a;function p(_,E){const O=_.type,B=a.handlers[O];if(OO.call(a.handlers,O)&&B)return B(a,_,E);if(a.options.passThrough&&a.options.passThrough.includes(O)){if("children"in _){const{children:N,...Q}=_,$=d2(Q);return $.children=a.all(_),$}return d2(_)}return(a.options.unknownHandler||Mde)(a,_,E)}function g(_){const E=[];if("children"in _){const O=_.children;let B=-1;for(;++B<O.length;){const z=a.one(O[B],_);if(z){if(B&&O[B-1].type==="break"&&(!Array.isArray(z)&&z.type==="text"&&(z.value=FD(z.value)),!Array.isArray(z)&&z.type==="element")){const N=z.children[0];N&&N.type==="text"&&(N.value=FD(N.value))}Array.isArray(z)?E.push(...z):E.push(z)}}}return E}}function bde(n,e){n.position&&(e.position=oAe(n))}function xde(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,o=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const s="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:s}}t.type==="element"&&o&&Object.assign(t.properties,d2(o)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function Mde(n,e){const t=e.data||{},i="value"in e&&!(OO.call(t,"hProperties")||OO.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function wde(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function FD(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function zD(n,e){const t=_de(n,e),i=t.one(n,void 0),r=Ade(t),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function Sde(n,e){return n&&"run"in n?async function(t,i){const r=zD(t,{file:i,...e});await n.run(r,i)}:function(t,i){return zD(t,{file:i,...n||e})}}function jD(n){if(n)throw n}var BM,ND;function Ede(){if(ND)return BM;ND=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(g){return typeof Array.isArray=="function"?Array.isArray(g):e.call(g)==="[object Array]"},o=function(g){if(!g||e.call(g)!=="[object Object]")return!1;var _=n.call(g,"constructor"),E=g.constructor&&g.constructor.prototype&&n.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!_&&!E)return!1;var O;for(O in g);return typeof O>"u"||n.call(g,O)},s=function(g,_){t&&_.name==="__proto__"?t(g,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):g[_.name]=_.newValue},a=function(g,_){if(_==="__proto__")if(n.call(g,_)){if(i)return i(g,_).value}else return;return g[_]};return BM=function p(){var g,_,E,O,B,z,N=arguments[0],Q=1,$=arguments.length,X=!1;for(typeof N=="boolean"&&(X=N,N=arguments[1]||{},Q=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});Q<$;++Q)if(g=arguments[Q],g!=null)for(_ in g)E=a(N,_),O=a(g,_),N!==O&&(X&&O&&(o(O)||(B=r(O)))?(B?(B=!1,z=E&&r(E)?E:[]):z=E&&o(E)?E:{},s(N,{name:_,newValue:p(X,z,O)})):typeof O<"u"&&s(N,{name:_,newValue:O}));return N},BM}var Bde=Ede();const OM=Bu(Bde);function IO(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Ode(){const n=[],e={run:t,use:i};return e;function t(...r){let o=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...r);function a(p,...g){const _=n[++o];let E=-1;if(p){s(p);return}for(;++E<r.length;)(g[E]===null||g[E]===void 0)&&(g[E]=r[E]);r=g,_?Ide(_,a)(...g):s(null,...g)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Ide(n,e){let t;return i;function i(...s){const a=n.length>s.length;let p;a&&s.push(r);try{p=n.apply(this,s)}catch(g){const _=g;if(a&&t)throw _;return r(_)}a||(p&&p.then&&typeof p.then=="function"?p.then(o,r):p instanceof Error?r(p):o(p))}function r(s,...a){t||(t=!0,e(s,...a))}function o(s){r(null,s)}}const Xm={basename:Tde,dirname:kde,extname:Dde,join:Rde,sep:"/"};function Tde(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ux(n);let t=0,i=-1,r=n.length,o;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(o){t=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let s=-1,a=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(o){t=r+1;break}}else s<0&&(o=!0,s=r+1),a>-1&&(n.codePointAt(r)===e.codePointAt(a--)?a<0&&(i=r):(a=-1,i=s));return t===i?i=s:i<0&&(i=n.length),n.slice(t,i)}function kde(n){if(ux(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Dde(n){ux(n);let e=n.length,t=-1,i=0,r=-1,o=0,s;for(;e--;){const a=n.codePointAt(e);if(a===47){if(s){i=e+1;break}continue}t<0&&(s=!0,t=e+1),a===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||t<0||o===0||o===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Rde(...n){let e=-1,t;for(;++e<n.length;)ux(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Pde(t)}function Pde(n){ux(n);const e=n.codePointAt(0)===47;let t=Ude(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Ude(n,e){let t="",i=0,r=-1,o=0,s=-1,a,p;for(;++s<=n.length;){if(s<n.length)a=n.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(r===s-1||o===1))if(r!==s-1&&o===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(p=t.lastIndexOf("/"),p!==t.length-1){p<0?(t="",i=0):(t=t.slice(0,p),i=t.length-1-t.lastIndexOf("/")),r=s,o=0;continue}}else if(t.length>0){t="",i=0,r=s,o=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,s):t=n.slice(r+1,s),i=s-r-1;r=s,o=0}else a===46&&o>-1?o++:o=-1}return t}function ux(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Kde={cwd:Lde};function Lde(){return"/"}function TO(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function Fde(n){if(typeof n=="string")n=new URL(n);else if(!TO(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return zde(n)}function zde(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const IM=["history","path","basename","stem","extname","dirname"];class BW{constructor(e){let t;e?TO(e)?t={path:e}:typeof e=="string"||jde(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Kde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<IM.length;){const o=IM[i];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let r;for(r in t)IM.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Xm.basename(this.path):void 0}set basename(e){kM(e,"basename"),TM(e,"basename"),this.path=Xm.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xm.dirname(this.path):void 0}set dirname(e){GD(this.basename,"dirname"),this.path=Xm.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xm.extname(this.path):void 0}set extname(e){if(TM(e,"extname"),GD(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xm.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){TO(e)&&(e=Fde(e)),kM(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xm.basename(this.path,this.extname):void 0}set stem(e){kM(e,"stem"),TM(e,"stem"),this.path=Xm.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Vh(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function TM(n,e){if(n&&n.includes(Xm.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xm.sep+"`")}function kM(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function GD(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jde(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Nde=function(n){const i=this.constructor.prototype,r=i[n],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},Gde={}.hasOwnProperty;class N7 extends Nde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ode()}copy(){const e=new N7;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(OM(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(PM("data",this.frozen),this.namespace[e]=t,this):Gde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(PM("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=qx(e),i=this.parser||this.Parser;return DM("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),DM("process",this.parser||this.Parser),RM("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(o,s){const a=qx(e),p=i.parse(a);i.run(p,a,function(_,E,O){if(_||!E||!O)return g(_);const B=E,z=i.stringify(B,O);Yde(z)?O.value=z:O.result=z,g(_,O)});function g(_,E){_||!E?s(_):o?o(E):t(void 0,E)}}}processSync(e){let t=!1,i;return this.freeze(),DM("processSync",this.parser||this.Parser),RM("processSync",this.compiler||this.Compiler),this.process(e,r),QD("processSync","process",t),i;function r(o,s){t=!0,jD(o),i=s}}run(e,t,i){WD(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?o(void 0,i):new Promise(o);function o(s,a){const p=qx(t);r.run(e,p,g);function g(_,E,O){const B=E||e;_?a(_):s?s(B):i(void 0,B,O)}}}runSync(e,t){let i=!1,r;return this.run(e,t,o),QD("runSync","run",i),r;function o(s,a){jD(s),r=a,i=!0}}stringify(e,t){this.freeze();const i=qx(t),r=this.compiler||this.Compiler;return RM("stringify",r),WD(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(PM("use",this.frozen),e!=null)if(typeof e=="function")p(e,t);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(g){if(typeof g=="function")p(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[_,...E]=g;p(_,E)}else s(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function s(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(g.plugins),g.settings&&(r.settings=OM(!0,r.settings,g.settings))}function a(g){let _=-1;if(g!=null)if(Array.isArray(g))for(;++_<g.length;){const E=g[_];o(E)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function p(g,_){let E=-1,O=-1;for(;++E<i.length;)if(i[E][0]===g){O=E;break}if(O===-1)i.push([g,..._]);else if(_.length>0){let[B,...z]=_;const N=i[O][1];IO(N)&&IO(B)&&(B=OM(!0,N,B)),i[O]=[g,B,...z]}}}}const Wde=new N7().freeze();function DM(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function RM(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function PM(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function WD(n){if(!IO(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function QD(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function qx(n){return Qde(n)?n:new BW(n)}function Qde(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Yde(n){return typeof n=="string"||qde(n)}function qde(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Hde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",YD=[],qD={allowDangerousHtml:!0},Vde=/^(https?|ircs?|mailto|xmpp)$/i,$de=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Zde(n){const e=Xde(n),t=Jde(n);return efe(e.runSync(e.parse(t),t),n)}function Xde(n){const e=n.rehypePlugins||YD,t=n.remarkPlugins||YD,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...qD}:qD;return Wde().use(The).use(t).use(Sde,i).use(e)}function Jde(n){const e=n.children||"",t=new BW;return typeof e=="string"&&(t.value=e),t}function efe(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,o=e.disallowedElements,s=e.skipHtml,a=e.unwrapDisallowed,p=e.urlTransform||tfe;for(const _ of $de)Object.hasOwn(e,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+Hde+_.id,void 0);return EW(n,g),AAe(n,{Fragment:Ae.Fragment,components:r,ignoreInvalidStyle:!0,jsx:Ae.jsx,jsxs:Ae.jsxs,passKeys:!0,passNode:!0});function g(_,E,O){if(_.type==="raw"&&O&&typeof E=="number")return s?O.children.splice(E,1):O.children[E]={type:"text",value:_.value},E;if(_.type==="element"){let B;for(B in wM)if(Object.hasOwn(wM,B)&&Object.hasOwn(_.properties,B)){const z=_.properties[B],N=wM[B];(N===null||N.includes(_.tagName))&&(_.properties[B]=p(String(z||""),B,_))}}if(_.type==="element"){let B=t?!t.includes(_.tagName):o?o.includes(_.tagName):!1;if(!B&&i&&typeof E=="number"&&(B=!i(_,E,O)),B&&O&&typeof E=="number")return a&&_.children?O.children.splice(E,1,..._.children):O.children.splice(E,1),E}}}function tfe(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||Vde.test(n.slice(0,e))?n:""}function Zo(){var n="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",e="a7edc49bc306eb20f0cc16abd4c84f78b7cc6807",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:4,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:52},end:{line:12,column:61}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:28},end:{line:23,column:5}},6:{start:{line:18,column:27},end:{line:18,column:46}},7:{start:{line:19,column:6},end:{line:21,column:7}},8:{start:{line:20,column:8},end:{line:20,column:148}},9:{start:{line:22,column:6},end:{line:22,column:19}},10:{start:{line:24,column:4},end:{line:57,column:9}},11:{start:{line:27,column:76},end:{line:27,column:132}},12:{start:{line:30,column:10},end:{line:33,column:20}},13:{start:{line:40,column:12},end:{line:40,column:75}},14:{start:{line:44,column:10},end:{line:53,column:20}},15:{start:{line:47,column:14},end:{line:51,column:15}},16:{start:{line:48,column:16},end:{line:48,column:98}},17:{start:{line:50,column:16},end:{line:50,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:58,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:17,column:28},end:{line:17,column:29}},loc:{start:{line:17,column:39},end:{line:23,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:27,column:13},end:{line:27,column:14}},loc:{start:{line:27,column:76},end:{line:27,column:132}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:29,column:119},end:{line:29,column:120}},loc:{start:{line:29,column:137},end:{line:34,column:9}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:39,column:37},end:{line:39,column:38}},loc:{start:{line:39,column:49},end:{line:41,column:11}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:43,column:80},end:{line:43,column:81}},loc:{start:{line:43,column:103},end:{line:54,column:9}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:46,column:37},end:{line:46,column:38}},loc:{start:{line:46,column:44},end:{line:52,column:13}},line:46}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:19,column:6},end:{line:21,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:21,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:25,column:6},end:{line:35,column:10}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:9}},{start:{line:25,column:29},end:{line:35,column:10}}],line:25},3:{loc:{start:{line:29,column:8},end:{line:34,column:13}},type:"binary-expr",locations:[{start:{line:29,column:8},end:{line:29,column:20}},{start:{line:29,column:40},end:{line:34,column:13}}],line:29},4:{loc:{start:{line:36,column:6},end:{line:55,column:13}},type:"binary-expr",locations:[{start:{line:36,column:6},end:{line:36,column:16}},{start:{line:36,column:36},end:{line:55,column:13}}],line:36},5:{loc:{start:{line:47,column:14},end:{line:51,column:15}},type:"if",locations:[{start:{line:47,column:14},end:{line:51,column:15}},{start:{line:49,column:21},end:{line:51,column:15}}],line:47},6:{loc:{start:{line:56,column:6},end:{line:56,column:215}},type:"binary-expr",locations:[{start:{line:56,column:6},end:{line:56,column:12}},{start:{line:56,column:16},end:{line:56,column:30}},{start:{line:56,column:50},end:{line:56,column:215}}],line:56}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AA0Ce,SAMT,UANS,KAkBK,YAlBL;AA1Cf,OAAO,WAAW;AAClB,OAAO,cAAc;AAErB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AACP;AAkBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,QAAQ,QAAQ,eAAc,IAAI;AAC9C,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,UAAM,kBAAkB,CAAC,UAAkB;AACzC,YAAM,eAAe,MAAM,YAAY;AACvC,UAAI,aAAa,WAAW,UAAU,GAAG;AACvC,eAAO,oBAAC,OAAE,MAAM,cAAc,QAAO,UAAS,KAAI,cAAc,gBAAM,aAAa,MAAM,GAAG,EAAE,IAAI,GAAE;AAAA,MACtG;AACA,aAAO;AAAA,IACT;AAEA,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBACxC,8BAAC,YAAS,YAAY;AAAA,UACpB,GAAG,CAAC,EAAC,MAAM,OAAO,MAAM,UAAU,GAAG,MAAK,MAAM,oBAAC,OAAE,MAAY,QAAO,UAAU,GAAG,OAAQ,UAAS;AAAA,QACtG,GAAI,eAAI,GACV;AAAA,QACC,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,0BAAgB,WAAW,CAAyB,CAAC,KAAzD,CAA2D;AAAA,cAC7E,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,MAED,UAAU,kBACT,oBAAC,SAAI,WAAU,uBACb,8BAAC,OAAE,MAAM,QAAS,QAAO,UAAS,KAAI,cAAc,0BAAe,GACrE;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7edc49bc306eb20f0cc16abd4c84f78b7cc6807"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Zo=function(){return s},s}Zo();const HD=(Zo().s[0]++,{js:"JS",android:"Android",ios:"iOS"});class x4 extends ii.Component{render(){Zo().f[0]++;const{fieldSpec:e}=(Zo().s[1]++,this.props),{doc:t,values:i,docUrl:r,docUrlLinkText:o}=(Zo().s[2]++,e),s=(Zo().s[3]++,e["sdk-support"]),a=(Zo().s[4]++,Zo().b[0][0]++,!!i&&(Zo().b[0][1]++,!Array.isArray(i)));Zo().s[5]++;const p=g=>{Zo().f[1]++;const _=(Zo().s[6]++,g.toLowerCase());return Zo().s[7]++,_.startsWith("https://")?(Zo().b[1][0]++,Zo().s[8]++,Ae.jsx("a",{href:_,target:"_blank",rel:"noreferrer",children:"#"+_.split("/").pop()})):(Zo().b[1][1]++,Zo().s[9]++,g)};return Zo().s[10]++,Ae.jsxs(Ae.Fragment,{children:[(Zo().b[2][0]++,t&&(Zo().b[2][1]++,Ae.jsxs("div",{className:"SpecDoc",children:[Ae.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:Ae.jsx(Zde,{components:{a:({node:g,href:_,children:E,...O})=>(Zo().f[2]++,Zo().s[11]++,Ae.jsx("a",{href:_,target:"_blank",...O,children:E}))},children:t})}),(Zo().b[3][0]++,a&&(Zo().b[3][1]++,Ae.jsx("ul",{className:"SpecDoc__values",children:Object.entries(i).map(([g,_])=>(Zo().f[3]++,Zo().s[12]++,Ae.jsxs("li",{children:[Ae.jsx("code",{children:JSON.stringify(g)}),Ae.jsx("div",{children:_.doc})]},g)))})))]}))),(Zo().b[4][0]++,s&&(Zo().b[4][1]++,Ae.jsx("div",{className:"SpecDoc__sdk-support",children:Ae.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[Ae.jsx("thead",{children:Ae.jsxs("tr",{children:[Ae.jsx("th",{}),Object.values(HD).map(g=>(Zo().f[4]++,Zo().s[13]++,Ae.jsx("th",{children:g},g)))]})}),Ae.jsx("tbody",{children:Object.entries(s).map(([g,_])=>(Zo().f[5]++,Zo().s[14]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:g}),Object.keys(HD).map(E=>(Zo().f[6]++,Zo().s[15]++,Object.prototype.hasOwnProperty.call(_,E)?(Zo().b[5][0]++,Zo().s[16]++,Ae.jsx("td",{children:p(_[E])},E)):(Zo().b[5][1]++,Zo().s[17]++,Ae.jsx("td",{children:"no"},E))))]},g)))})]})}))),(Zo().b[6][0]++,r&&(Zo().b[6][1]++,o)&&(Zo().b[6][2]++,Ae.jsx("div",{className:"SpecDoc__learn-more",children:Ae.jsx("a",{href:r,target:"_blank",rel:"noreferrer",children:o})})))]})}}function No(){var n="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",e="ddb687d19b77c1726746c1eecb8e7c7a69772621",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:40,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:39,column:5}},14:{start:{line:38,column:6},end:{line:38,column:29}},15:{start:{line:42,column:4},end:{line:77,column:6}},16:{start:{line:65,column:12},end:{line:65,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:40,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:78,column:3}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:64,column:87},end:{line:64,column:88}},loc:{start:{line:64,column:95},end:{line:66,column:11}},line:64}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},5:{loc:{start:{line:54,column:10},end:{line:61,column:14}},type:"binary-expr",locations:[{start:{line:54,column:10},end:{line:54,column:30}},{start:{line:54,column:50},end:{line:61,column:14}}],line:54},6:{loc:{start:{line:62,column:10},end:{line:62,column:134}},type:"binary-expr",locations:[{start:{line:62,column:10},end:{line:62,column:31}},{start:{line:62,column:51},end:{line:62,column:134}}],line:62},7:{loc:{start:{line:67,column:10},end:{line:74,column:11}},type:"binary-expr",locations:[{start:{line:67,column:10},end:{line:67,column:30}},{start:{line:67,column:50},end:{line:74,column:11}}],line:67},8:{loc:{start:{line:71,column:32},end:{line:71,column:64}},type:"cond-expr",locations:[{start:{line:71,column:53},end:{line:71,column:55}},{start:{line:71,column:58},end:{line:71,column:64}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AA+DW,SAWD,KAXC;AA/DX,OAAO,WAA0D;AACjE,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAkBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,QAAI,MAAM,YAAY,OAAO,aAAa,KAAK;AAC7C,YAAM,eAAe;AAAA,IACvB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM;AAAC,iBAAK,WAAW;AAAA,UAAG,GAC1E,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ddb687d19b77c1726746c1eecb8e7c7a69772621"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return No=function(){return s},s}No();class js extends ii.Component{_blockEl=(No().s[0]++,null);constructor(e){No().f[0]++,No().s[1]++,super(e),No().s[2]++,this.state={showDoc:!1}}onChange(e){No().f[1]++;const t=(No().s[3]++,e.target.value);if(No().s[4]++,this.props.onChange)return No().b[0][0]++,No().s[5]++,this.props.onChange(t===""?(No().b[1][0]++,void 0):(No().b[1][1]++,t));No().b[0][1]++}onToggleDoc=(No().s[6]++,e=>{No().f[2]++,No().s[7]++,this.setState({showDoc:e})});onLabelClick=(No().s[8]++,e=>{No().f[3]++;const t=(No().s[9]++,e.nativeEvent.target),i=(No().s[10]++,this._blockEl?.contains(t));No().s[11]++,No().b[3][0]++,e.nativeEvent.target.nodeName!=="INPUT"&&(No().b[3][1]++,!i)?(No().b[2][0]++,No().s[12]++,e.stopPropagation()):No().b[2][1]++,No().s[13]++,e.nativeEvent.target.nodeName!=="A"?(No().b[4][0]++,No().s[14]++,e.preventDefault()):No().b[4][1]++});render(){return No().f[4]++,No().s[15]++,Ae.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:g0({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(No().b[5][0]++,this.props.fieldSpec&&(No().b[5][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:Ae.jsx(B7,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(No().b[6][0]++,!this.props.fieldSpec&&(No().b[6][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),Ae.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),Ae.jsx("div",{className:"maputnik-input-block-content",ref:e=>{No().f[5]++,No().s[16]++,this._blockEl=e},children:this.props.children}),(No().b[7][0]++,this.props.fieldSpec&&(No().b[7][1]++,Ae.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(No().b[8][0]++,""):(No().b[8][1]++,"none")},children:Ae.jsx(x4,{fieldSpec:this.props.fieldSpec})})))]})}}function _h(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",e="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return _h=function(){return s},s}_h();class xy extends ii.Component{render(){_h().f[0]++;let e=(_h().s[0]++,this.props.options);return _h().s[1]++,_h().b[1][0]++,e.length>0&&(_h().b[1][1]++,!Array.isArray(e[0]))?(_h().b[0][0]++,_h().s[2]++,e=e.map(t=>(_h().f[1]++,_h().s[3]++,[t,t]))):_h().b[0][1]++,_h().s[4]++,Ae.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:t=>(_h().f[2]++,_h().s[5]++,this.props.onChange(t.target.value)),"aria-label":this.props["aria-label"],children:e.map(([t,i])=>(_h().f[3]++,_h().s[6]++,Ae.jsx("option",{value:t,children:i},t)))})}}function jr(){var n="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",e="ffe977722e3215b5f6718c464b93680839810a41",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:70,column:7}},14:{start:{line:51,column:8},end:{line:56,column:11}},15:{start:{line:55,column:10},end:{line:55,column:71}},16:{start:{line:55,column:34},end:{line:55,column:71}},17:{start:{line:59,column:8},end:{line:62,column:9}},18:{start:{line:60,column:10},end:{line:60,column:44}},19:{start:{line:61,column:10},end:{line:61,column:73}},20:{start:{line:61,column:35},end:{line:61,column:73}},21:{start:{line:65,column:8},end:{line:67,column:9}},22:{start:{line:66,column:10},end:{line:66,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:71,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:57,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:56,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:58,column:14},end:{line:58,column:15}},loc:{start:{line:58,column:20},end:{line:63,column:7}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:64,column:17},end:{line:64,column:18}},loc:{start:{line:64,column:24},end:{line:68,column:7}},line:64}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:55,column:71}},type:"if",locations:[{start:{line:55,column:10},end:{line:55,column:71}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:59,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},8:{loc:{start:{line:61,column:10},end:{line:61,column:73}},type:"if",locations:[{start:{line:61,column:10},end:{line:61,column:73}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},9:{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},10:{loc:{start:{line:65,column:12},end:{line:65,column:51}},type:"binary-expr",locations:[{start:{line:65,column:12},end:{line:65,column:28}},{start:{line:65,column:32},end:{line:65,column:51}}],line:65}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ffe977722e3215b5f6718c464b93680839810a41"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return jr=function(){return s},s}jr();class _m extends ii.Component{static defaultProps=(jr().s[0]++,{onInput:()=>{jr().f[0]++}});constructor(e){jr().f[1]++,jr().s[1]++,super(e),jr().s[2]++,this.state={editing:!1,value:(jr().b[0][0]++,e.value||(jr().b[0][1]++,""))}}static getDerivedStateFromProps(e,t){if(jr().f[2]++,jr().s[3]++,t.editing)jr().b[1][1]++;else return jr().b[1][0]++,jr().s[4]++,{value:e.value};return jr().s[5]++,{}}render(){jr().f[3]++;let e,t;return jr().s[6]++,this.props.multi?(jr().b[2][0]++,jr().s[7]++,e="textarea",jr().s[8]++,t=["maputnik-string","maputnik-string--multi"]):(jr().b[2][1]++,jr().s[9]++,e="input",jr().s[10]++,t=["maputnik-string"]),jr().s[11]++,this.props.disabled?(jr().b[3][0]++,jr().s[12]++,t.push("maputnik-string--disabled")):jr().b[3][1]++,jr().s[13]++,ii.createElement(e,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(jr().b[4][0]++,this.props.spellCheck):(jr().b[4][1]++,e!=="input"),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,value:this.state.value===void 0?(jr().b[5][0]++,""):(jr().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:i=>{jr().f[4]++,jr().s[14]++,this.setState({editing:!0,value:i.target.value},()=>{jr().f[5]++,jr().s[15]++,this.props.onInput?(jr().b[6][0]++,jr().s[16]++,this.props.onInput(this.state.value)):jr().b[6][1]++})},onBlur:()=>{jr().f[6]++,jr().s[17]++,this.state.value!==this.props.value?(jr().b[7][0]++,jr().s[18]++,this.setState({editing:!1}),jr().s[19]++,this.props.onChange?(jr().b[8][0]++,jr().s[20]++,this.props.onChange(this.state.value)):jr().b[8][1]++):jr().b[7][1]++},onKeyDown:i=>{jr().f[7]++,jr().s[21]++,jr().b[10][0]++,i.keyCode===13&&(jr().b[10][1]++,this.props.onChange)?(jr().b[9][0]++,jr().s[22]++,this.props.onChange(this.state.value)):jr().b[9][1]++},required:this.props.required})}}function Yh(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",e="599a12b14a1057b6bb554b629d0d81238d4af16c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:26},end:{line:38,column:1}},1:{start:{line:16,column:22},end:{line:16,column:110}},2:{start:{line:16,column:73},end:{line:16,column:109}},3:{start:{line:17,column:2},end:{line:37,column:4}},4:{start:{line:39,column:18},end:{line:39,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:26},end:{line:8,column:27}},loc:{start:{line:15,column:6},end:{line:38,column:1}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:16,column:66},end:{line:16,column:67}},loc:{start:{line:16,column:73},end:{line:16,column:109}},line:16}},branchMap:{0:{loc:{start:{line:14,column:2},end:{line:14,column:18}},type:"default-arg",locations:[{start:{line:14,column:13},end:{line:14,column:18}}],line:14},1:{loc:{start:{line:16,column:34},end:{line:16,column:60}},type:"binary-expr",locations:[{start:{line:16,column:34},end:{line:16,column:54}},{start:{line:16,column:58},end:{line:16,column:60}}],line:16},2:{loc:{start:{line:25,column:8},end:{line:25,column:79}},type:"binary-expr",locations:[{start:{line:25,column:8},end:{line:25,column:16}},{start:{line:25,column:36},end:{line:25,column:79}}],line:25},3:{loc:{start:{line:26,column:8},end:{line:34,column:9}},type:"binary-expr",locations:[{start:{line:26,column:8},end:{line:26,column:17}},{start:{line:26,column:37},end:{line:34,column:9}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AA0BI,SAKI,KALJ;AAzBJ,SAAQ,UAAS;AACjB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AACtD,SAAS,iBAAiB;AAU1B,MAAM,oBAAsD,CAAC;AAAA,EAC3D;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,WAAW;AACb,MAAM;AACJ,QAAM,cAAkC,OAAO,KAAK,GAAG,MAAM,KAAK,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,UAAU,EAAE,QAAQ,MAAM,GAAG,CAAC,CAAC,CAAC;AAC7H,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAO,EAAE,MAAM;AAAA,MAAG,WAAW,GAAG,MAAM;AAAA,MAC3C,eAAa;AAAA,MACb;AAAA,MAEC;AAAA,oBACC,oBAAC,eAAY,OAAc,UAAU,MAAM;AAAA,QAE5C,CAAC,YACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS;AAAA,YACT;AAAA,YACA;AAAA,YACA,eAAa,QAAQ;AAAA;AAAA,QACvB;AAAA;AAAA;AAAA,EAEJ;AAEJ;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"599a12b14a1057b6bb554b629d0d81238d4af16c"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Yh=function(){return s},s}Yh();Yh().s[0]++;const nfe=({t:n,value:e,wdKey:t,onChange:i,error:r,disabled:o=(Yh().b[0][0]++,!1)})=>{Yh().f[0]++;const s=(Yh().s[1]++,Object.keys((Yh().b[1][0]++,Kf.layer.type.values||(Yh().b[1][1]++,{}))).map(a=>(Yh().f[1]++,Yh().s[2]++,[a,Kb.startCase(a.replace(/-/g," "))])));return Yh().s[3]++,Ae.jsxs(js,{label:n("Type"),fieldSpec:Kf.layer.type,"data-wd-key":t,error:r,children:[(Yh().b[2][0]++,o&&(Yh().b[2][1]++,Ae.jsx(_m,{value:e,disabled:!0}))),(Yh().b[3][0]++,!o&&(Yh().b[3][1]++,Ae.jsx(xy,{options:s,onChange:i,value:e,"data-wd-key":t+".select"})))]})},OW=(Yh().s[4]++,is()(nfe));function bb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",e="faa51332e301a2db02ecf3d9679788ae744c6d26",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:5,column:16},end:{line:23,column:1}},1:{start:{line:6,column:2},end:{line:22,column:4}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:16},end:{line:5,column:17}},loc:{start:{line:5,column:27},end:{line:23,column:1}},line:5}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAkBM;AAjBN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,MAAM,UAAkC,CAAC,UAAU;AACjD,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAM;AAAA,MAAK,WAAW,OAAO,MAAM;AAAA,MACxC,eAAa,MAAM;AAAA,MACnB,OAAO,MAAM;AAAA,MAEb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,MAAM;AAAA,UACb,SAAS,MAAM;AAAA,UACf,eAAa,MAAM,QAAQ;AAAA;AAAA,MAC7B;AAAA;AAAA,EACF;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"faa51332e301a2db02ecf3d9679788ae744c6d26"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return bb=function(){return s},s}bb();bb().s[0]++;const IW=n=>(bb().f[0]++,bb().s[1]++,Ae.jsx(js,{label:"ID",fieldSpec:Jo.layer.id,"data-wd-key":n.wdKey,error:n.error,children:Ae.jsx(_m,{value:n.value,onInput:n.onChange,"data-wd-key":n.wdKey+".input"})}));function Hx(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Hu(){return Hu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hu.apply(null,arguments)}var ife=sg();const Zr=Bu(ife);var UM={exports:{}},$s={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function rfe(){if(VD)return $s;VD=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),z;z=Symbol.for("react.module.reference");function N(Q){if(typeof Q=="object"&&Q!==null){var $=Q.$$typeof;switch($){case n:switch(Q=Q.type,Q){case t:case r:case i:case g:case _:return Q;default:switch(Q=Q&&Q.$$typeof,Q){case a:case s:case p:case O:case E:case o:return Q;default:return $}}case e:return $}}}return $s.ContextConsumer=s,$s.ContextProvider=o,$s.Element=n,$s.ForwardRef=p,$s.Fragment=t,$s.Lazy=O,$s.Memo=E,$s.Portal=e,$s.Profiler=r,$s.StrictMode=i,$s.Suspense=g,$s.SuspenseList=_,$s.isAsyncMode=function(){return!1},$s.isConcurrentMode=function(){return!1},$s.isContextConsumer=function(Q){return N(Q)===s},$s.isContextProvider=function(Q){return N(Q)===o},$s.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n},$s.isForwardRef=function(Q){return N(Q)===p},$s.isFragment=function(Q){return N(Q)===t},$s.isLazy=function(Q){return N(Q)===O},$s.isMemo=function(Q){return N(Q)===E},$s.isPortal=function(Q){return N(Q)===e},$s.isProfiler=function(Q){return N(Q)===r},$s.isStrictMode=function(Q){return N(Q)===i},$s.isSuspense=function(Q){return N(Q)===g},$s.isSuspenseList=function(Q){return N(Q)===_},$s.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===t||Q===r||Q===i||Q===g||Q===_||Q===B||typeof Q=="object"&&Q!==null&&(Q.$$typeof===O||Q.$$typeof===E||Q.$$typeof===o||Q.$$typeof===s||Q.$$typeof===p||Q.$$typeof===z||Q.getModuleId!==void 0)},$s.typeOf=N,$s}var $D;function ofe(){return $D||($D=1,UM.exports=rfe()),UM.exports}ofe();const ZD=n=>typeof n=="object"&&n!=null&&n.nodeType===1,XD=(n,e)=>(!e||n!=="hidden")&&n!=="visible"&&n!=="clip",Vx=(n,e)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){const t=getComputedStyle(n,null);return XD(t.overflowY,e)||XD(t.overflowX,e)||(i=>{const r=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(n)}return!1},$x=(n,e,t,i,r,o,s,a)=>o<n&&s>e||o>n&&s<e?0:o<=n&&a<=t||s>=e&&a>=t?o-n-i:s>e&&a<t||o<n&&a>t?s-e+r:0,afe=n=>{const e=n.parentElement;return e??(n.getRootNode().host||null)},sfe=(n,e)=>{var t,i,r,o;if(typeof document>"u")return[];const{inline:s,boundary:a,skipOverflowHiddenElements:p}=e,g=typeof a=="function"?a:be=>be!==a;if(!ZD(n))throw new TypeError("Invalid target");const _=document.scrollingElement||document.documentElement,E=[];let O=n;for(;ZD(O)&&g(O);){if(O=afe(O),O===_){E.push(O);break}O!=null&&O===document.body&&Vx(O)&&!Vx(document.documentElement)||O!=null&&Vx(O,p)&&E.push(O)}const B=(i=(t=window.visualViewport)==null?void 0:t.width)!=null?i:innerWidth,z=(o=(r=window.visualViewport)==null?void 0:r.height)!=null?o:innerHeight,{scrollX:N,scrollY:Q}=window,{height:$,width:X,top:re,right:ne,bottom:V,left:J}=n.getBoundingClientRect(),{top:W,right:he,left:ge}=(be=>{const ze=window.getComputedStyle(be);return{top:parseFloat(ze.scrollMarginTop)||0,right:parseFloat(ze.scrollMarginRight)||0,bottom:parseFloat(ze.scrollMarginBottom)||0,left:parseFloat(ze.scrollMarginLeft)||0}})(n);let ve=re-W,_e=s==="center"?J+X/2-ge+he:s==="end"?ne+he:J-ge;const Me=[];for(let be=0;be<E.length;be++){const ze=E[be],{height:Ce,width:Fe,top:ot,right:mt,bottom:it,left:ue}=ze.getBoundingClientRect();if(re>=0&&J>=0&&V<=z&&ne<=B&&(ze===_&&!Vx(ze)||re>=ot&&V<=it&&J>=ue&&ne<=mt))return Me;const We=getComputedStyle(ze),tt=parseInt(We.borderLeftWidth,10),ke=parseInt(We.borderTopWidth,10),Et=parseInt(We.borderRightWidth,10),gt=parseInt(We.borderBottomWidth,10);let xt=0,Kt=0;const je="offsetWidth"in ze?ze.offsetWidth-ze.clientWidth-tt-Et:0,Ke="offsetHeight"in ze?ze.offsetHeight-ze.clientHeight-ke-gt:0,Ue="offsetWidth"in ze?ze.offsetWidth===0?0:Fe/ze.offsetWidth:0,Ve="offsetHeight"in ze?ze.offsetHeight===0?0:Ce/ze.offsetHeight:0;if(_===ze)xt=$x(Q,Q+z,z,ke,gt,Q+ve,Q+ve+$,$),Kt=s==="start"?_e:s==="center"?_e-B/2:s==="end"?_e-B:$x(N,N+B,B,tt,Et,N+_e,N+_e+X,X),xt=Math.max(0,xt+Q),Kt=Math.max(0,Kt+N);else{xt=$x(ot,it,Ce,ke,gt+Ke,ve,ve+$,$),Kt=s==="start"?_e-ue-tt:s==="center"?_e-(ue+Fe/2)+je/2:s==="end"?_e-mt+Et+je:$x(ue,mt,Fe,tt,Et+je,_e,_e+X,X);const{scrollLeft:bt,scrollTop:vt}=ze;xt=Ve===0?0:Math.max(0,Math.min(vt+xt/Ve,ze.scrollHeight-Ce/Ve+Ke)),Kt=Ue===0?0:Math.max(0,Math.min(bt+Kt/Ue,ze.scrollWidth-Fe/Ue+je)),ve+=vt-xt,_e+=bt-Kt}Me.push({el:ze,top:xt,left:Kt})}return Me};var cC=function(){return cC=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cC.apply(this,arguments)};var lfe=0;function TW(){}function ufe(n,e){if(n){var t=sfe(n,{boundary:e});t.forEach(function(i){var r=i.el,o=i.top,s=i.left;r.scrollTop=o,r.scrollLeft=s})}}function JD(n,e,t){var i=n===e||e instanceof t.Node&&n.contains&&n.contains(e);return i}function kW(n,e){var t;function i(){t&&clearTimeout(t)}function r(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i(),t=setTimeout(function(){t=null,n.apply(void 0,s)},e)}return r.cancel=i,r}function W0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return e.some(function(a){return a&&a.apply(void 0,[i].concat(o)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Zx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){e.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Afe(){return String(lfe++)}function kO(n,e){return!n||!e?n:Object.keys(n).reduce(function(t,i){return t[i]=DW(e,i)?e[i]:n[i],t},{})}function DW(n,e){return n[e]!==void 0}function cfe(n){var e=n.key,t=n.keyCode;return t>=37&&t<=40&&e.indexOf("Arrow")!==0?"Arrow"+e:e}function Xx(n,e,t,i,r){var o=t.length;if(o===0)return-1;var s=o-1;(typeof n!="number"||n<0||n>s)&&(n=e>0?-1:s+1);var a=n+e;a<0?a=s:a>s&&(a=0);var p=f2(a,e<0,t,i,r);return p===-1?n>=o?-1:n:p}function f2(n,e,t,i,r){r===void 0&&(r=!1);var o=t.length;if(e){for(var s=n;s>=0;s--)if(!i(t[s],s))return s}else for(var a=n;a<o;a++)if(!i(t[a],a))return a;return r?f2(e?o-1:0,e,t,i):-1}function eR(n,e,t,i){return i===void 0&&(i=!0),t&&e.some(function(r){return r&&(JD(r,n,t)||i&&JD(r,t.document.activeElement,t))})}var hfe=kW(function(n){RW(n).textContent=""},500);function RW(n){var e=n.getElementById("a11y-status-message");return e||(e=n.createElement("div"),e.setAttribute("id","a11y-status-message"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-relevant","additions text"),Object.assign(e.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),n.body.appendChild(e),e)}function dfe(n,e){if(!(!n||!e)){var t=RW(e);t.textContent=n,hfe(e)}}function ffe(n){var e=n?.getElementById("a11y-status-message");e&&e.remove()}var PW={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function pfe(n,e,t){var i=n.props,r=n.type,o={};Object.keys(e).forEach(function(s){mfe(s,n,e,t),t[s]!==e[s]&&(o[s]=t[s])}),i.onStateChange&&Object.keys(o).length&&i.onStateChange(Hu({type:r},o))}function mfe(n,e,t,i){var r=e.props,o=e.type,s="on"+G7(n)+"Change";r[s]&&i[n]!==void 0&&i[n]!==t[n]&&r[s](Hu({type:o},i))}function gfe(n,e){return e.changes}var tR=kW(function(n,e){dfe(n,e)},200),yfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Gt.useLayoutEffect:Gt.useEffect,vfe="useId"in ii?function(e){var t=e.id,i=e.labelId,r=e.menuId,o=e.getItemId,s=e.toggleButtonId,a=e.inputId,p="downshift-"+ii.useId();t||(t=p);var g=Gt.useRef({labelId:i||t+"-label",menuId:r||t+"-menu",getItemId:o||function(_){return t+"-item-"+_},toggleButtonId:s||t+"-toggle-button",inputId:a||t+"-input"});return g.current}:function(e){var t=e.id,i=t===void 0?"downshift-"+Afe():t,r=e.labelId,o=e.menuId,s=e.getItemId,a=e.toggleButtonId,p=e.inputId,g=Gt.useRef({labelId:r||i+"-label",menuId:o||i+"-menu",getItemId:s||function(_){return i+"-item-"+_},toggleButtonId:a||i+"-toggle-button",inputId:p||i+"-input"});return g.current};function Cfe(n,e,t,i){var r,o;if(n===void 0){if(e===void 0)throw new Error(i);r=t[e],o=e}else o=e===void 0?t.indexOf(n):e,r=n;return[r,o]}function G7(n){return""+n.slice(0,1).toUpperCase()+n.slice(1)}function UW(n){var e=Gt.useRef(n);return e.current=n,e}function _fe(n,e,t,i){var r=Gt.useRef(),o=Gt.useRef(),s=Gt.useCallback(function(B,z){o.current=z,B=kO(B,z.props);var N=n(B,z),Q=z.props.stateReducer(B,Hu({},z,{changes:N}));return Q},[n]),a=Gt.useReducer(s,e,t),p=a[0],g=a[1],_=UW(e),E=Gt.useCallback(function(B){return g(Hu({props:_.current},B))},[_]),O=o.current;return Gt.useEffect(function(){var B=kO(r.current,O?.props),z=O&&r.current&&!i(B,p);z&&pfe(O,B,p),r.current=p},[p,O,i]),[p,E]}var G_={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:gfe,scrollIntoView:ufe,environment:typeof window>"u"?void 0:window};function r1(n,e,t){t===void 0&&(t=PW);var i=n["default"+G7(e)];return i!==void 0?i:t[e]}function W_(n,e,t){t===void 0&&(t=PW);var i=n[e];if(i!==void 0)return i;var r=n["initial"+G7(e)];return r!==void 0?r:r1(n,e,t)}function bfe(n){var e=W_(n,"selectedItem"),t=W_(n,"isOpen"),i=Bfe(n),r=W_(n,"inputValue");return{highlightedIndex:i<0&&e&&t?n.items.findIndex(function(o){return n.itemToKey(o)===n.itemToKey(e)}):i,isOpen:t,selectedItem:e,inputValue:r}}function Q_(n,e,t){var i=n.items,r=n.initialHighlightedIndex,o=n.defaultHighlightedIndex,s=n.isItemDisabled,a=n.itemToKey,p=e.selectedItem,g=e.highlightedIndex;return i.length===0?-1:r!==void 0&&g===r&&!s(i[r],r)?r:o!==void 0&&!s(i[o],o)?o:p?i.findIndex(function(_){return a(p)===a(_)}):t<0&&!s(i[i.length-1],i.length-1)?i.length-1:t>0&&!s(i[0],0)?0:-1}function xfe(n,e,t){var i=Gt.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return Gt.useEffect(function(){if(!n)return TW;var r=t.map(function(_){return _.current});function o(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function s(_){i.current.isMouseDown=!1,eR(_.target,r,n)||e()}function a(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function p(){i.current.isTouchMove=!0}function g(_){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!eR(_.target,r,n,!1)&&e()}return n.addEventListener("mousedown",o),n.addEventListener("mouseup",s),n.addEventListener("touchstart",a),n.addEventListener("touchmove",p),n.addEventListener("touchend",g),function(){n.removeEventListener("mousedown",o),n.removeEventListener("mouseup",s),n.removeEventListener("touchstart",a),n.removeEventListener("touchmove",p),n.removeEventListener("touchend",g)}},[t,n,e]),i.current}var Mfe=function(){return TW};function wfe(n,e,t,i){i===void 0&&(i={});var r=i.document,o=W7();Gt.useEffect(function(){if(!(!n||o||!r)){var s=n(e);tR(s,r)}},t),Gt.useEffect(function(){return function(){tR.cancel(),ffe(r)}},[r])}function Sfe(n){var e=n.highlightedIndex,t=n.isOpen,i=n.itemRefs,r=n.getItemNodeFromIndex,o=n.menuElement,s=n.scrollIntoView,a=Gt.useRef(!0);return yfe(function(){e<0||!t||!Object.keys(i.current).length||(a.current===!1?a.current=!0:s(r(e),o))},[e]),a}function nR(n,e,t){var i;t===void 0&&(t=!0);var r=((i=n.items)==null?void 0:i.length)&&e>=0;return Hu({isOpen:!1,highlightedIndex:-1},r&&Hu({selectedItem:n.items[e],isOpen:r1(n,"isOpen"),highlightedIndex:r1(n,"highlightedIndex")},t&&{inputValue:n.itemToString(n.items[e])}))}function Efe(n,e){return n.isOpen===e.isOpen&&n.inputValue===e.inputValue&&n.highlightedIndex===e.highlightedIndex&&n.selectedItem===e.selectedItem}function W7(){var n=ii.useRef(!0);return ii.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]),n.current}function DO(n){var e=r1(n,"highlightedIndex");return e>-1&&n.isItemDisabled(n.items[e],e)?-1:e}function Bfe(n){var e=W_(n,"highlightedIndex");return e>-1&&n.isItemDisabled(n.items[e],e)?-1:e}var g3={environment:Zr.shape({addEventListener:Zr.func.isRequired,removeEventListener:Zr.func.isRequired,document:Zr.shape({createElement:Zr.func.isRequired,getElementById:Zr.func.isRequired,activeElement:Zr.any.isRequired,body:Zr.any.isRequired}).isRequired,Node:Zr.func.isRequired}),itemToString:Zr.func,itemToKey:Zr.func,stateReducer:Zr.func},KW=Hu({},g3,{getA11yStatusMessage:Zr.func,highlightedIndex:Zr.number,defaultHighlightedIndex:Zr.number,initialHighlightedIndex:Zr.number,isOpen:Zr.bool,defaultIsOpen:Zr.bool,initialIsOpen:Zr.bool,selectedItem:Zr.any,initialSelectedItem:Zr.any,defaultSelectedItem:Zr.any,id:Zr.string,labelId:Zr.string,menuId:Zr.string,getItemId:Zr.func,toggleButtonId:Zr.string,onSelectedItemChange:Zr.func,onHighlightedIndexChange:Zr.func,onStateChange:Zr.func,onIsOpenChange:Zr.func,scrollIntoView:Zr.func});function Ofe(n,e,t){var i=e.type,r=e.props,o;switch(i){case t.ItemMouseMove:o={highlightedIndex:e.disabled?-1:e.index};break;case t.MenuMouseLeave:o={highlightedIndex:-1};break;case t.ToggleButtonClick:case t.FunctionToggleMenu:o={isOpen:!n.isOpen,highlightedIndex:n.isOpen?-1:Q_(r,n,0)};break;case t.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:Q_(r,n,0)};break;case t.FunctionCloseMenu:o={isOpen:!1};break;case t.FunctionSetHighlightedIndex:o={highlightedIndex:r.isItemDisabled(r.items[e.highlightedIndex],e.highlightedIndex)?-1:e.highlightedIndex};break;case t.FunctionSetInputValue:o={inputValue:e.inputValue};break;case t.FunctionReset:o={highlightedIndex:DO(r),isOpen:r1(r,"isOpen"),selectedItem:r1(r,"selectedItem"),inputValue:r1(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return Hu({},n,o)}cC(cC({},KW),{items:Zr.array.isRequired,isItemDisabled:Zr.func});cC(cC({},G_),{isItemDisabled:function(){return!1}});var Q7=0,Y7=1,q7=2,H7=3,V7=4,$7=5,Z7=6,X7=7,J7=8,p2=9,eI=10,LW=11,FW=12,tI=13,zW=14,jW=15,NW=16,GW=17,WW=18,nI=19,QW=20,YW=21,iI=22,qW=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:iI,FunctionCloseMenu:GW,FunctionOpenMenu:NW,FunctionReset:YW,FunctionSelectItem:nI,FunctionSetHighlightedIndex:WW,FunctionSetInputValue:QW,FunctionToggleMenu:jW,InputBlur:p2,InputChange:J7,InputClick:eI,InputKeyDownArrowDown:Q7,InputKeyDownArrowUp:Y7,InputKeyDownEnd:V7,InputKeyDownEnter:X7,InputKeyDownEscape:q7,InputKeyDownHome:H7,InputKeyDownPageDown:Z7,InputKeyDownPageUp:$7,ItemClick:tI,ItemMouseMove:FW,MenuMouseLeave:LW,ToggleButtonClick:zW});function Ife(n){var e=bfe(n),t=e.selectedItem,i=e.inputValue;return i===""&&t&&n.defaultInputValue===void 0&&n.initialInputValue===void 0&&n.inputValue===void 0&&(i=n.itemToString(t)),Hu({},e,{inputValue:i})}Hu({},KW,{items:Zr.array.isRequired,isItemDisabled:Zr.func,inputValue:Zr.string,defaultInputValue:Zr.string,initialInputValue:Zr.string,inputId:Zr.string,onInputValueChange:Zr.func});function Tfe(n,e,t,i){var r=Gt.useRef(),o=_fe(n,e,t,i),s=o[0],a=o[1],p=W7();return Gt.useEffect(function(){if(DW(e,"selectedItem")){if(!p){var g=e.itemToKey(e.selectedItem)!==e.itemToKey(r.current);g&&a({type:iI,inputValue:e.itemToString(e.selectedItem)})}r.current=s.selectedItem===r.current?e.selectedItem:s.selectedItem}},[s.selectedItem,e.selectedItem]),[kO(s,e),a]}var kfe=Hu({},G_,{isItemDisabled:function(){return!1}});function Dfe(n,e){var t,i=e.type,r=e.props,o=e.altKey,s;switch(i){case tI:s={isOpen:r1(r,"isOpen"),highlightedIndex:DO(r),selectedItem:r.items[e.index],inputValue:r.itemToString(r.items[e.index])};break;case Q7:n.isOpen?s={highlightedIndex:Xx(n.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:s={highlightedIndex:o&&n.selectedItem==null?-1:Q_(r,n,1),isOpen:r.items.length>=0};break;case Y7:n.isOpen?o?s=nR(r,n.highlightedIndex):s={highlightedIndex:Xx(n.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:s={highlightedIndex:Q_(r,n,-1),isOpen:r.items.length>=0};break;case X7:s=nR(r,n.highlightedIndex);break;case q7:s=Hu({isOpen:!1,highlightedIndex:-1},!n.isOpen&&{selectedItem:null,inputValue:""});break;case $7:s={highlightedIndex:Xx(n.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case Z7:s={highlightedIndex:Xx(n.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case H7:s={highlightedIndex:f2(0,!1,r.items,r.isItemDisabled)};break;case V7:s={highlightedIndex:f2(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case p2:s=Hu({isOpen:!1,highlightedIndex:-1},n.highlightedIndex>=0&&((t=r.items)==null?void 0:t.length)&&e.selectItem&&{selectedItem:r.items[n.highlightedIndex],inputValue:r.itemToString(r.items[n.highlightedIndex])});break;case J7:s={isOpen:!0,highlightedIndex:DO(r),inputValue:e.inputValue};break;case eI:s={isOpen:!n.isOpen,highlightedIndex:n.isOpen?-1:Q_(r,n,0)};break;case nI:s={selectedItem:e.selectedItem,inputValue:r.itemToString(e.selectedItem)};break;case iI:s={inputValue:e.inputValue};break;default:return Ofe(n,e,qW)}return Hu({},n,s)}var Rfe=["onMouseLeave","refKey","ref"],Pfe=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Ufe=["onClick","onPress","refKey","ref"],Kfe=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];RO.stateChangeTypes=qW;function RO(n){n===void 0&&(n={});var e=Hu({},kfe,n),t=e.items,i=e.scrollIntoView,r=e.environment,o=e.getA11yStatusMessage,s=Tfe(Dfe,e,Ife,Efe),a=s[0],p=s[1],g=a.isOpen,_=a.highlightedIndex,E=a.selectedItem,O=a.inputValue,B=Gt.useRef(null),z=Gt.useRef({}),N=Gt.useRef(null),Q=Gt.useRef(null),$=W7(),X=vfe(e),re=Gt.useRef(),ne=UW({state:a,props:e}),V=Gt.useCallback(function(tt){return z.current[X.getItemId(tt)]},[X]);wfe(o,a,[g,_,E,O],r);var J=Sfe({menuElement:B.current,highlightedIndex:_,isOpen:g,itemRefs:z,scrollIntoView:i,getItemNodeFromIndex:V});Gt.useEffect(function(){var tt=W_(e,"isOpen");tt&&N.current&&N.current.focus()},[]),Gt.useEffect(function(){$||(re.current=t.length)});var W=xfe(r,Gt.useCallback(function(){ne.current.state.isOpen&&p({type:p2,selectItem:!1})},[p,ne]),Gt.useMemo(function(){return[B,Q,N]},[B.current,Q.current,N.current])),he=Mfe();Gt.useEffect(function(){g||(z.current={})},[g]),Gt.useEffect(function(){var tt;!g||!(r!=null&&r.document)||!(N!=null&&(tt=N.current)!=null&&tt.focus)||r.document.activeElement!==N.current&&N.current.focus()},[g,r]);var ge=Gt.useMemo(function(){return{ArrowDown:function(ke){ke.preventDefault(),p({type:Q7,altKey:ke.altKey})},ArrowUp:function(ke){ke.preventDefault(),p({type:Y7,altKey:ke.altKey})},Home:function(ke){ne.current.state.isOpen&&(ke.preventDefault(),p({type:H7}))},End:function(ke){ne.current.state.isOpen&&(ke.preventDefault(),p({type:V7}))},Escape:function(ke){var Et=ne.current.state;(Et.isOpen||Et.inputValue||Et.selectedItem||Et.highlightedIndex>-1)&&(ke.preventDefault(),p({type:q7}))},Enter:function(ke){var Et=ne.current.state;!Et.isOpen||ke.which===229||(ke.preventDefault(),p({type:X7}))},PageUp:function(ke){ne.current.state.isOpen&&(ke.preventDefault(),p({type:$7}))},PageDown:function(ke){ne.current.state.isOpen&&(ke.preventDefault(),p({type:Z7}))}}},[p,ne]),ve=Gt.useCallback(function(tt){return Hu({id:X.labelId,htmlFor:X.inputId},tt)},[X]),_e=Gt.useCallback(function(tt,ke){var Et,gt=tt===void 0?{}:tt,xt=gt.onMouseLeave,Kt=gt.refKey,je=Kt===void 0?"ref":Kt,Ke=gt.ref,Ue=Hx(gt,Rfe),Ve=ke===void 0?{}:ke;return Ve.suppressRefError,Hu((Et={},Et[je]=Zx(Ke,function(bt){B.current=bt}),Et.id=X.menuId,Et.role="listbox",Et["aria-labelledby"]=Ue&&Ue["aria-label"]?void 0:""+X.labelId,Et.onMouseLeave=W0(xt,function(){p({type:LW})}),Et),Ue)},[p,he,X]),Me=Gt.useCallback(function(tt){var ke,Et,gt=tt===void 0?{}:tt,xt=gt.item,Kt=gt.index,je=gt.refKey,Ke=je===void 0?"ref":je,Ue=gt.ref,Ve=gt.onMouseMove,bt=gt.onMouseDown,vt=gt.onClick;gt.onPress;var It=gt.disabled,Yt=Hx(gt,Pfe);It!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var Ut=ne.current,on=Ut.props,Hn=Ut.state,Wt=Cfe(xt,Kt,on.items,"Pass either item or index to getItemProps!"),Gn=Wt[0],On=Wt[1],Bn=on.isItemDisabled(Gn,On),Tn="onClick",Oi=vt,Vn=function(){W.isTouchEnd||On===Hn.highlightedIndex||(J.current=!1,p({type:FW,index:On,disabled:Bn}))},Lt=function(){p({type:tI,index:On})},De=function(oe){return oe.preventDefault()};return Hu((ke={},ke[Ke]=Zx(Ue,function(de){de&&(z.current[X.getItemId(On)]=de)}),ke["aria-disabled"]=Bn,ke["aria-selected"]=On===Hn.highlightedIndex,ke.id=X.getItemId(On),ke.role="option",ke),!Bn&&(Et={},Et[Tn]=W0(Oi,Lt),Et),{onMouseMove:W0(Ve,Vn),onMouseDown:W0(bt,De)},Yt)},[p,X,ne,W,J]),be=Gt.useCallback(function(tt){var ke,Et=tt===void 0?{}:tt,gt=Et.onClick;Et.onPress;var xt=Et.refKey,Kt=xt===void 0?"ref":xt,je=Et.ref,Ke=Hx(Et,Ufe),Ue=ne.current.state,Ve=function(){p({type:zW})};return Hu((ke={},ke[Kt]=Zx(je,function(bt){Q.current=bt}),ke["aria-controls"]=X.menuId,ke["aria-expanded"]=Ue.isOpen,ke.id=X.toggleButtonId,ke.tabIndex=-1,ke),!Ke.disabled&&Hu({},{onClick:W0(gt,Ve)}),Ke)},[p,ne,X]),ze=Gt.useCallback(function(tt,ke){var Et,gt=tt===void 0?{}:tt,xt=gt.onKeyDown,Kt=gt.onChange,je=gt.onInput,Ke=gt.onBlur;gt.onChangeText;var Ue=gt.onClick,Ve=gt.refKey,bt=Ve===void 0?"ref":Ve,vt=gt.ref,It=Hx(gt,Kfe),Yt=ke===void 0?{}:ke;Yt.suppressRefError;var Ut=ne.current.state,on=function(Vn){var Lt=cfe(Vn);Lt&&ge[Lt]&&ge[Lt](Vn)},Hn=function(Vn){p({type:J7,inputValue:Vn.target.value})},Wt=function(Vn){if(r!=null&&r.document&&Ut.isOpen&&!W.isMouseDown){var Lt=Vn.relatedTarget===null&&r.document.activeElement!==r.document.body;p({type:p2,selectItem:!Lt})}},Gn=function(){p({type:eI})},On="onChange",Bn={};if(!It.disabled){var Tn;Bn=(Tn={},Tn[On]=W0(Kt,je,Hn),Tn.onKeyDown=W0(xt,on),Tn.onBlur=W0(Ke,Wt),Tn.onClick=W0(Ue,Gn),Tn)}return Hu((Et={},Et[bt]=Zx(vt,function(Oi){N.current=Oi}),Et["aria-activedescendant"]=Ut.isOpen&&Ut.highlightedIndex>-1?X.getItemId(Ut.highlightedIndex):"",Et["aria-autocomplete"]="list",Et["aria-controls"]=X.menuId,Et["aria-expanded"]=Ut.isOpen,Et["aria-labelledby"]=It&&It["aria-label"]?void 0:X.labelId,Et.autoComplete="off",Et.id=X.inputId,Et.role="combobox",Et.value=Ut.inputValue,Et),Bn,It)},[p,X,r,ge,ne,W,he]),Ce=Gt.useCallback(function(){p({type:jW})},[p]),Fe=Gt.useCallback(function(){p({type:GW})},[p]),ot=Gt.useCallback(function(){p({type:NW})},[p]),mt=Gt.useCallback(function(tt){p({type:WW,highlightedIndex:tt})},[p]),it=Gt.useCallback(function(tt){p({type:nI,selectedItem:tt})},[p]),ue=Gt.useCallback(function(tt){p({type:QW,inputValue:tt})},[p]),We=Gt.useCallback(function(){p({type:YW})},[p]);return{getItemProps:Me,getLabelProps:ve,getMenuProps:_e,getInputProps:ze,getToggleButtonProps:be,toggleMenu:Ce,openMenu:ot,closeMenu:Fe,setHighlightedIndex:mt,setInputValue:ue,selectItem:it,reset:We,highlightedIndex:_,isOpen:g,selectedItem:E,inputValue:O}}g3.stateReducer,g3.itemToKey,g3.environment,Zr.array,Zr.array,Zr.array,Zr.func,Zr.number,Zr.number,Zr.number,Zr.func,Zr.func,Zr.string,Zr.string;G_.itemToKey,G_.stateReducer,G_.environment;function zi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",e="73020a5a2032027cc342d42db613082f6da43a81",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:13,column:28},end:{line:13,column:55}},2:{start:{line:14,column:18},end:{line:14,column:36}},3:{start:{line:15,column:36},end:{line:15,column:62}},4:{start:{line:16,column:24},end:{line:19,column:22}},5:{start:{line:17,column:15},end:{line:17,column:34}},6:{start:{line:18,column:4},end:{line:18,column:72}},7:{start:{line:18,column:36},end:{line:18,column:70}},8:{start:{line:20,column:24},end:{line:25,column:8}},9:{start:{line:21,column:4},end:{line:24,column:5}},10:{start:{line:22,column:20},end:{line:22,column:84}},11:{start:{line:23,column:6},end:{line:23,column:48}},12:{start:{line:33,column:6},end:{line:55,column:4}},13:{start:{line:36,column:28},end:{line:36,column:47}},14:{start:{line:38,column:6},end:{line:40,column:7}},15:{start:{line:39,column:8},end:{line:39,column:51}},16:{start:{line:41,column:6},end:{line:41,column:28}},17:{start:{line:44,column:16},end:{line:44,column:51}},18:{start:{line:45,column:6},end:{line:45,column:18}},19:{start:{line:46,column:6},end:{line:46,column:56}},20:{start:{line:49,column:6},end:{line:53,column:7}},21:{start:{line:50,column:8},end:{line:50,column:20}},22:{start:{line:51,column:8},end:{line:51,column:40}},23:{start:{line:52,column:8},end:{line:52,column:19}},24:{start:{line:56,column:2},end:{line:60,column:30}},25:{start:{line:57,column:4},end:{line:59,column:5}},26:{start:{line:58,column:6},end:{line:58,column:22}},27:{start:{line:61,column:2},end:{line:64,column:22}},28:{start:{line:62,column:4},end:{line:62,column:53}},29:{start:{line:63,column:4},end:{line:63,column:69}},30:{start:{line:63,column:17},end:{line:63,column:68}},31:{start:{line:65,column:2},end:{line:67,column:14}},32:{start:{line:66,column:4},end:{line:66,column:26}},33:{start:{line:68,column:2},end:{line:103,column:7}},34:{start:{line:76,column:25},end:{line:76,column:35}},35:{start:{line:87,column:79},end:{line:100,column:9}}},fnMap:{0:{name:"InputAutocomplete",decl:{start:{line:6,column:24},end:{line:6,column:41}},loc:{start:{line:12,column:3},end:{line:104,column:1}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:9,column:13},end:{line:9,column:14}},loc:{start:{line:9,column:19},end:{line:10,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:16,column:38},end:{line:16,column:39}},loc:{start:{line:16,column:44},end:{line:19,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:18,column:26},end:{line:18,column:27}},loc:{start:{line:18,column:36},end:{line:18,column:70}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:42},end:{line:20,column:43}},loc:{start:{line:20,column:48},end:{line:25,column:3}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:36,column:18},end:{line:36,column:19}},loc:{start:{line:36,column:28},end:{line:36,column:47}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:37,column:18},end:{line:37,column:19}},loc:{start:{line:37,column:38},end:{line:42,column:5}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:43,column:26},end:{line:43,column:27}},loc:{start:{line:43,column:48},end:{line:47,column:5}},line:43},8:{name:"(anonymous_8)",decl:{start:{line:48,column:24},end:{line:48,column:25}},loc:{start:{line:48,column:47},end:{line:54,column:5}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:56,column:18},end:{line:56,column:19}},loc:{start:{line:56,column:24},end:{line:60,column:3}},line:56},10:{name:"(anonymous_10)",decl:{start:{line:61,column:18},end:{line:61,column:19}},loc:{start:{line:61,column:24},end:{line:64,column:3}},line:61},11:{name:"(anonymous_11)",decl:{start:{line:63,column:11},end:{line:63,column:12}},loc:{start:{line:63,column:17},end:{line:63,column:68}},line:63},12:{name:"(anonymous_12)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:3}},line:65},13:{name:"(anonymous_13)",decl:{start:{line:76,column:19},end:{line:76,column:20}},loc:{start:{line:76,column:25},end:{line:76,column:35}},line:76},14:{name:"(anonymous_14)",decl:{start:{line:87,column:46},end:{line:87,column:47}},loc:{start:{line:87,column:79},end:{line:100,column:9}},line:87}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:14}},type:"default-arg",locations:[{start:{line:8,column:12},end:{line:8,column:14}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:10,column:3}},type:"default-arg",locations:[{start:{line:9,column:13},end:{line:10,column:3}}],line:9},2:{loc:{start:{line:13,column:43},end:{line:13,column:54}},type:"binary-expr",locations:[{start:{line:13,column:43},end:{line:13,column:48}},{start:{line:13,column:52},end:{line:13,column:54}}],line:13},3:{loc:{start:{line:21,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:28},end:{line:36,column:47}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:42}},{start:{line:36,column:45},end:{line:36,column:47}}],line:36},5:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},6:{loc:{start:{line:44,column:16},end:{line:44,column:51}},type:"cond-expr",locations:[{start:{line:44,column:31},end:{line:44,column:46}},{start:{line:44,column:49},end:{line:44,column:51}}],line:44},7:{loc:{start:{line:46,column:15},end:{line:46,column:54}},type:"cond-expr",locations:[{start:{line:46,column:30},end:{line:46,column:45}},{start:{line:46,column:48},end:{line:46,column:54}}],line:46},8:{loc:{start:{line:49,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:49,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},9:{loc:{start:{line:51,column:17},end:{line:51,column:38}},type:"cond-expr",locations:[{start:{line:51,column:28},end:{line:51,column:34}},{start:{line:51,column:37},end:{line:51,column:38}}],line:51},10:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},11:{loc:{start:{line:66,column:13},end:{line:66,column:24}},type:"binary-expr",locations:[{start:{line:66,column:13},end:{line:66,column:18}},{start:{line:66,column:22},end:{line:66,column:24}}],line:66},12:{loc:{start:{line:87,column:18},end:{line:100,column:10}},type:"binary-expr",locations:[{start:{line:87,column:18},end:{line:87,column:24}},{start:{line:87,column:28},end:{line:100,column:10}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAkFI,SACE,KADF;AAlFJ,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,mBAAkB;AAE1B,MAAM,aAAa;AASnB,wBAAwB,kBAAkB;AAAA,EACxC;AAAA,EACA,UAAU,CAAC;AAAA,EACX,WAAW,MAAM;AAAA,EAAC;AAAA,EAClB,cAAc;AAChB,GAA2B;AACzB,QAAM,CAAC,OAAO,QAAQ,IAAI,MAAM,SAAS,SAAS,EAAE;AACpD,QAAM,UAAU,MAAM,OAAuB,IAAI;AACjD,QAAM,CAAC,WAAW,YAAY,IAAI,MAAM,SAAS,UAAU;AAE3D,QAAM,gBAAgB,MAAM,QAAQ,MAAM;AACxC,UAAM,KAAK,MAAM,YAAY;AAC7B,WAAO,QAAQ,OAAO,CAAC,SAAS,KAAK,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC;AAAA,EACpE,GAAG,CAAC,SAAS,KAAK,CAAC;AAEnB,QAAM,gBAAgB,MAAM,YAAY,MAAM;AAC5C,QAAI,QAAQ,SAAS;AACnB,YAAM,QAAQ,OAAO,cAAc,QAAQ,QAAQ,sBAAsB,EAAE;AAC3E,mBAAa,KAAK,IAAI,OAAO,UAAU,CAAC;AAAA,IAC1C;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,YAAY;AAAA,IACd,OAAO;AAAA,IACP,YAAY;AAAA,IACZ,cAAc,CAAC,SAAU,OAAO,KAAK,CAAC,IAAI;AAAA,IAC1C,cAAc,CAAC,QAAQ,WAAW;AAChC,UAAI,OAAO,SAAS,YAAY,iBAAiB,YAAY;AAC3D,eAAO,EAAC,GAAG,OAAO,SAAS,QAAQ,KAAI;AAAA,MACzC;AACA,aAAO,OAAO;AAAA,IAChB;AAAA,IACA,sBAAsB,CAAC,EAAC,aAAY,MAAM;AACxC,YAAM,IAAI,eAAe,aAAa,CAAC,IAAI;AAC3C,eAAS,CAAC;AACV,eAAS,eAAe,aAAa,CAAC,IAAI,MAAS;AAAA,IACrD;AAAA,IACA,oBAAoB,CAAC,EAAC,YAAY,EAAC,MAAM;AACvC,UAAI,OAAO,MAAM,UAAU;AACzB,iBAAS,CAAC;AACV,iBAAS,MAAM,KAAK,SAAY,CAAC;AACjC,iBAAS;AAAA,MACX;AAAA,IACF;AAAA,EACF,CAAC;AAED,QAAM,UAAU,MAAM;AACpB,QAAI,QAAQ;AACV,oBAAc;AAAA,IAChB;AAAA,EACF,GAAG,CAAC,QAAQ,aAAa,CAAC;AAE1B,QAAM,UAAU,MAAM;AACpB,WAAO,iBAAiB,UAAU,aAAa;AAC/C,WAAO,MAAM,OAAO,oBAAoB,UAAU,aAAa;AAAA,EACjE,GAAG,CAAC,aAAa,CAAC;AAElB,QAAM,UAAU,MAAM;AACpB,aAAS,SAAS,EAAE;AAAA,EACtB,GAAG,CAAC,KAAK,CAAC;AAEV,SACE,qBAAC,SAAI,WAAU,yBACb;AAAA;AAAA,MAAC;AAAA;AAAA,QACE,GAAG,cAAc;AAAA,UAChB,cAAc;AAAA,UACd,WAAW;AAAA,UACX,YAAY;AAAA,UACZ,SAAS,MAAM,SAAS;AAAA,QAC1B,CAAC;AAAA;AAAA,IACH;AAAA,IACA;AAAA,MAAC;AAAA;AAAA,QACE,GAAG,aAAa,CAAC,GAAG,EAAC,kBAAkB,KAAI,CAAC;AAAA,QAC7C,KAAK;AAAA,QACL,OAAO,EAAC,UAAU,SAAS,UAAU,QAAQ,WAAW,QAAQ,IAAG;AAAA,QACnE,WAAU;AAAA,QAET,oBACC,cAAc,IAAI,CAAC,MAAM,UACvB;AAAA,UAAC;AAAA;AAAA,YAEE,GAAG,aAAa;AAAA,cACf;AAAA,cACA;AAAA,cACA,WAAW,WAAW,mCAAmC;AAAA,gBACvD,4CAA4C,qBAAqB;AAAA,cACnE,CAAC;AAAA,YACH,CAAC;AAAA,YAEA,eAAK,CAAC;AAAA;AAAA,UATF,KAAK,CAAC;AAAA,QAUb,CACD;AAAA;AAAA,IACL;AAAA,KACF;AAEJ;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"73020a5a2032027cc342d42db613082f6da43a81"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return zi=function(){return s},s}zi();const iR=(zi().s[0]++,140);function Ax({value:n,options:e=(zi().b[0][0]++,[]),onChange:t=(zi().b[1][0]++,()=>{zi().f[1]++}),"aria-label":i}){zi().f[0]++;const[r,o]=(zi().s[1]++,ii.useState((zi().b[2][0]++,n||(zi().b[2][1]++,"")))),s=(zi().s[2]++,ii.useRef(null)),[a,p]=(zi().s[3]++,ii.useState(iR)),g=(zi().s[4]++,ii.useMemo(()=>{zi().f[2]++;const $=(zi().s[5]++,r.toLowerCase());return zi().s[6]++,e.filter(X=>(zi().f[3]++,zi().s[7]++,X[0].toLowerCase().includes($)))},[e,r])),_=(zi().s[8]++,ii.useCallback(()=>{if(zi().f[4]++,zi().s[9]++,s.current){zi().b[3][0]++;const $=(zi().s[10]++,window.innerHeight-s.current.getBoundingClientRect().top);zi().s[11]++,p(Math.min($,iR))}else zi().b[3][1]++},[])),{isOpen:E,getMenuProps:O,getInputProps:B,getItemProps:z,highlightedIndex:N,openMenu:Q}=(zi().s[12]++,RO({items:g,inputValue:r,itemToString:$=>(zi().f[5]++,zi().s[13]++,$?(zi().b[4][0]++,$[0]):(zi().b[4][1]++,"")),stateReducer:($,X)=>(zi().f[6]++,zi().s[14]++,X.type===RO.stateChangeTypes.InputClick?(zi().b[5][0]++,zi().s[15]++,{...X.changes,isOpen:!0}):(zi().b[5][1]++,zi().s[16]++,X.changes)),onSelectedItemChange:({selectedItem:$})=>{zi().f[7]++;const X=(zi().s[17]++,$?(zi().b[6][0]++,$[0]):(zi().b[6][1]++,""));zi().s[18]++,o(X),zi().s[19]++,t($?(zi().b[7][0]++,$[0]):(zi().b[7][1]++,void 0))},onInputValueChange:({inputValue:$})=>{zi().f[8]++,zi().s[20]++,typeof $=="string"?(zi().b[8][0]++,zi().s[21]++,o($),zi().s[22]++,t($===""?(zi().b[9][0]++,void 0):(zi().b[9][1]++,$)),zi().s[23]++,Q()):zi().b[8][1]++}}));return zi().s[24]++,ii.useEffect(()=>{zi().f[9]++,zi().s[25]++,E?(zi().b[10][0]++,zi().s[26]++,_()):zi().b[10][1]++},[E,_]),zi().s[27]++,ii.useEffect(()=>(zi().f[10]++,zi().s[28]++,window.addEventListener("resize",_),zi().s[29]++,()=>(zi().f[11]++,zi().s[30]++,window.removeEventListener("resize",_))),[_]),zi().s[31]++,ii.useEffect(()=>{zi().f[12]++,zi().s[32]++,o((zi().b[11][0]++,n||(zi().b[11][1]++,"")))},[n]),zi().s[33]++,Ae.jsxs("div",{className:"maputnik-autocomplete",children:[Ae.jsx("input",{...B({"aria-label":i,className:"maputnik-string",spellCheck:!1,onFocus:()=>(zi().f[13]++,zi().s[34]++,Q())})}),Ae.jsx("div",{...O({},{suppressRefError:!0}),ref:s,style:{position:"fixed",overflow:"auto",maxHeight:a,zIndex:998},className:"maputnik-autocomplete-menu",children:(zi().b[12][0]++,E&&(zi().b[12][1]++,g.map(($,X)=>(zi().f[14]++,zi().s[35]++,Ae.jsx("div",{...z({item:$,index:X,className:g0("maputnik-autocomplete-menu-item",{"maputnik-autocomplete-menu-item-selected":N===X})}),children:$[1]},$[0])))))})]})}function lm(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",e="787db584cc9becf4089365283e16f9ba747f4840",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:6,column:28},end:{line:32,column:1}},1:{start:{line:15,column:2},end:{line:31,column:4}},2:{start:{line:27,column:43},end:{line:27,column:53}},3:{start:{line:33,column:20},end:{line:33,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:28},end:{line:6,column:29}},loc:{start:{line:14,column:6},end:{line:32,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:8,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:27,column:34},end:{line:27,column:35}},loc:{start:{line:27,column:43},end:{line:27,column:53}},line:27}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:8,column:3}},type:"default-arg",locations:[{start:{line:7,column:13},end:{line:8,column:3}}],line:7},1:{loc:{start:{line:9,column:2},end:{line:9,column:16}},type:"default-arg",locations:[{start:{line:9,column:14},end:{line:9,column:16}}],line:9}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA8BM;AA5BN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA+B,uBAAuB;AAUtD,MAAM,sBAA0D,CAAC;AAAA,EAC/D,WAAW,MAAM;AAAA,EAAC;AAAA,EAClB,YAAY,CAAC;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,QAAQ;AAAA,MACjB,WAAW,OAAO,MAAM;AAAA,MACxB;AAAA,MACA,eAAa;AAAA,MAEb;AAAA,QAAC;AAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA,SAAS,WAAW,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,MAC7C;AAAA;AAAA,EACF;AAEJ;AAGA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"787db584cc9becf4089365283e16f9ba747f4840"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return lm=function(){return s},s}lm();lm().s[0]++;const Lfe=({onChange:n=(lm().b[0][0]++,()=>{lm().f[1]++}),sourceIds:e=(lm().b[1][0]++,[]),wdKey:t,value:i,error:r,t:o})=>(lm().f[0]++,lm().s[1]++,Ae.jsx(js,{label:o("Source"),fieldSpec:Jo.layer.source,error:r,"data-wd-key":t,children:Ae.jsx(Ax,{value:i,onChange:n,options:e?.map(s=>(lm().f[2]++,lm().s[2]++,[s,s]))})})),HW=(lm().s[3]++,is()(Lfe));function um(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",e="61cb059654b456e27f782356448ebd0362f3cb6a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:6,column:33},end:{line:31,column:1}},1:{start:{line:14,column:2},end:{line:30,column:4}},2:{start:{line:26,column:46},end:{line:26,column:52}},3:{start:{line:32,column:25},end:{line:32,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:33},end:{line:6,column:34}},loc:{start:{line:13,column:6},end:{line:31,column:1}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:8,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:26,column:39},end:{line:26,column:40}},loc:{start:{line:26,column:46},end:{line:26,column:52}},line:26}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:8,column:3}},type:"default-arg",locations:[{start:{line:7,column:13},end:{line:8,column:3}}],line:7},1:{loc:{start:{line:9,column:2},end:{line:9,column:21}},type:"default-arg",locations:[{start:{line:9,column:19},end:{line:9,column:21}}],line:9}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA1BN,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA+B,uBAAuB;AAStD,MAAM,2BAAoE,CAAC;AAAA,EACzE,WAAW,MAAM;AAAA,EAAC;AAAA,EAClB,iBAAiB,CAAC;AAAA,EAClB;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,cAAc;AAAA,MACvB,WAAW,OAAO,MAAM,cAAc;AAAA,MACtC,eAAY;AAAA,MACZ;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA,SAAS,gBAAgB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,MAC5C;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61cb059654b456e27f782356448ebd0362f3cb6a"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return um=function(){return s},s}um();um().s[0]++;const Ffe=({onChange:n=(um().b[0][0]++,()=>{um().f[1]++}),sourceLayerIds:e=(um().b[1][0]++,[]),value:t,error:i,t:r})=>(um().f[0]++,um().s[1]++,Ae.jsx(js,{label:r("Source Layer"),fieldSpec:ts.layer["source-layer"],"data-wd-key":"layer-source-layer",error:i,children:Ae.jsx(Ax,{value:t,onChange:n,options:e?.map(o=>(um().f[2]++,um().s[2]++,[o,o]))})})),VW=(um().s[3]++,is()(Ffe));function rI(){var n="/home/runner/work/maputnik/maputnik/src/libs/non-source-layers.ts",e="674dcf7f1706a4f312a810bdf5e5997ddaf065e0",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/non-source-layers.ts",statementMap:{0:{start:{line:1,column:33},end:{line:1,column:97}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/non-source-layers.ts"],names:[],mappings:"AAAO,aAAM,oBAAoB,CAAC,cAAc,UAAU,aAAa,WAAW,cAAc;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"674dcf7f1706a4f312a810bdf5e5997ddaf065e0"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return rI=function(){return s},s}rI();const PO=(rI().s[0]++,["background","raster","hillshade","heatmap","color-relief"]);function zn(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalAdd.tsx",e="90da8e5ee6bdbe488a5f45bfae015ac94b0d70a9",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalAdd.tsx",statementMap:{0:{start:{line:12,column:13},end:{line:33,column:3}},1:{start:{line:13,column:4},end:{line:16,column:5}},2:{start:{line:13,column:38},end:{line:13,column:60}},3:{start:{line:14,column:6},end:{line:14,column:72}},4:{start:{line:15,column:6},end:{line:15,column:13}},5:{start:{line:17,column:26},end:{line:17,column:52}},6:{start:{line:18,column:18},end:{line:21,column:5}},7:{start:{line:22,column:4},end:{line:27,column:5}},8:{start:{line:23,column:6},end:{line:23,column:39}},9:{start:{line:24,column:6},end:{line:26,column:7}},10:{start:{line:25,column:8},end:{line:25,column:59}},11:{start:{line:28,column:4},end:{line:28,column:30}},12:{start:{line:29,column:4},end:{line:32,column:7}},13:{start:{line:30,column:6},end:{line:30,column:47}},14:{start:{line:31,column:6},end:{line:31,column:32}},15:{start:{line:35,column:4},end:{line:35,column:17}},16:{start:{line:36,column:18},end:{line:40,column:5}},17:{start:{line:41,column:4},end:{line:47,column:5}},18:{start:{line:42,column:6},end:{line:42,column:56}},19:{start:{line:43,column:27},end:{line:43,column:72}},20:{start:{line:44,column:6},end:{line:46,column:7}},21:{start:{line:45,column:8},end:{line:45,column:48}},22:{start:{line:48,column:4},end:{line:48,column:23}},23:{start:{line:51,column:20},end:{line:51,column:34}},24:{start:{line:52,column:20},end:{line:52,column:35}},25:{start:{line:53,column:32},end:{line:53,column:56}},26:{start:{line:54,column:32},end:{line:54,column:56}},27:{start:{line:55,column:4},end:{line:62,column:5}},28:{start:{line:59,column:6},end:{line:61,column:9}},29:{start:{line:65,column:22},end:{line:65,column:54}},30:{start:{line:66,column:4},end:{line:66,column:34}},31:{start:{line:69,column:4},end:{line:86,column:5}},32:{start:{line:71,column:8},end:{line:71,column:18}},33:{start:{line:74,column:8},end:{line:74,column:113}},34:{start:{line:74,column:69},end:{line:74,column:92}},35:{start:{line:74,column:110},end:{line:74,column:111}},36:{start:{line:76,column:8},end:{line:76,column:109}},37:{start:{line:76,column:69},end:{line:76,column:88}},38:{start:{line:76,column:106},end:{line:76,column:107}},39:{start:{line:83,column:8},end:{line:83,column:133}},40:{start:{line:83,column:69},end:{line:83,column:112}},41:{start:{line:83,column:130},end:{line:83,column:131}},42:{start:{line:85,column:8},end:{line:85,column:18}},43:{start:{line:89,column:14},end:{line:89,column:26}},44:{start:{line:90,column:20},end:{line:90,column:52}},45:{start:{line:91,column:19},end:{line:91,column:61}},46:{start:{line:93,column:4},end:{line:106,column:5}},47:{start:{line:94,column:6},end:{line:105,column:11}},48:{start:{line:100,column:27},end:{line:100,column:57}},49:{start:{line:107,column:4},end:{line:165,column:6}},50:{start:{line:124,column:18},end:{line:124,column:56}},51:{start:{line:133,column:33},end:{line:133,column:59}},52:{start:{line:142,column:33},end:{line:142,column:61}},53:{start:{line:150,column:33},end:{line:150,column:69}},54:{start:{line:168,column:17},end:{line:168,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:33,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:38},end:{line:13,column:60}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:29,column:35},end:{line:29,column:36}},loc:{start:{line:29,column:41},end:{line:32,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:21},end:{line:49,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:44},end:{line:63,column:3}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:29},end:{line:67,column:3}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:19},end:{line:87,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:74,column:57},end:{line:74,column:58}},loc:{start:{line:74,column:69},end:{line:74,column:92}},line:74},8:{name:"(anonymous_8)",decl:{start:{line:74,column:98},end:{line:74,column:99}},loc:{start:{line:74,column:110},end:{line:74,column:111}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:57},end:{line:76,column:58}},loc:{start:{line:76,column:69},end:{line:76,column:88}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:76,column:94},end:{line:76,column:95}},loc:{start:{line:76,column:106},end:{line:76,column:107}},line:76},11:{name:"(anonymous_11)",decl:{start:{line:83,column:57},end:{line:83,column:58}},loc:{start:{line:83,column:69},end:{line:83,column:112}},line:83},12:{name:"(anonymous_12)",decl:{start:{line:83,column:118},end:{line:83,column:119}},loc:{start:{line:83,column:130},end:{line:83,column:131}},line:83},13:{name:"(anonymous_13)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:11},end:{line:166,column:3}},line:88},14:{name:"(anonymous_14)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:100,column:57}},line:100},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:33},end:{line:125,column:17}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:133,column:26},end:{line:133,column:27}},loc:{start:{line:133,column:33},end:{line:133,column:59}},line:133},17:{name:"(anonymous_17)",decl:{start:{line:142,column:26},end:{line:142,column:27}},loc:{start:{line:142,column:33},end:{line:142,column:61}},line:142},18:{name:"(anonymous_18)",decl:{start:{line:150,column:26},end:{line:150,column:27}},loc:{start:{line:150,column:33},end:{line:150,column:69}},line:150}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:16,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:13},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},2:{loc:{start:{line:24,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:24,column:6},end:{line:26,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},3:{loc:{start:{line:24,column:10},end:{line:24,column:84}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:54}},{start:{line:24,column:58},end:{line:24,column:84}}],line:24},4:{loc:{start:{line:41,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:47,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},5:{loc:{start:{line:43,column:27},end:{line:43,column:72}},type:"binary-expr",locations:[{start:{line:43,column:27},end:{line:43,column:66}},{start:{line:43,column:70},end:{line:43,column:72}}],line:43},6:{loc:{start:{line:44,column:6},end:{line:46,column:7}},type:"if",locations:[{start:{line:44,column:6},end:{line:46,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},7:{loc:{start:{line:55,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:62,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:57,column:6},end:{line:57,column:160}},type:"binary-expr",locations:[{start:{line:57,column:6},end:{line:57,column:25}},{start:{line:57,column:29},end:{line:57,column:52}},{start:{line:57,column:56},end:{line:57,column:106}},{start:{line:57,column:110},end:{line:57,column:160}}],line:57},9:{loc:{start:{line:65,column:22},end:{line:65,column:54}},type:"binary-expr",locations:[{start:{line:65,column:22},end:{line:65,column:48}},{start:{line:65,column:52},end:{line:65,column:54}}],line:65},10:{loc:{start:{line:66,column:11},end:{line:66,column:33}},type:"binary-expr",locations:[{start:{line:66,column:11},end:{line:66,column:27}},{start:{line:66,column:31},end:{line:66,column:33}}],line:66},11:{loc:{start:{line:69,column:4},end:{line:86,column:5}},type:"switch",locations:[{start:{line:70,column:6},end:{line:71,column:18}},{start:{line:72,column:6},end:{line:72,column:23}},{start:{line:73,column:6},end:{line:74,column:113}},{start:{line:75,column:6},end:{line:76,column:109}},{start:{line:77,column:6},end:{line:77,column:21}},{start:{line:78,column:6},end:{line:78,column:20}},{start:{line:79,column:6},end:{line:79,column:18}},{start:{line:80,column:6},end:{line:80,column:28}},{start:{line:81,column:6},end:{line:81,column:18}},{start:{line:82,column:6},end:{line:83,column:133}},{start:{line:84,column:6},end:{line:85,column:18}}],line:69},12:{loc:{start:{line:83,column:69},end:{line:83,column:112}},type:"binary-expr",locations:[{start:{line:83,column:69},end:{line:83,column:88}},{start:{line:83,column:92},end:{line:83,column:112}}],line:83},13:{loc:{start:{line:93,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:106,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},14:{loc:{start:{line:136,column:12},end:{line:144,column:13}},type:"binary-expr",locations:[{start:{line:136,column:12},end:{line:136,column:44}},{start:{line:136,column:64},end:{line:144,column:13}}],line:136},15:{loc:{start:{line:145,column:12},end:{line:152,column:13}},type:"binary-expr",locations:[{start:{line:145,column:12},end:{line:145,column:56}},{start:{line:145,column:76},end:{line:152,column:13}}],line:145}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0,0],9:[0,0],10:[0,0],11:[0,0,0,0,0,0,0,0,0,0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalAdd.tsx"],names:[],mappings:"AAqIQ,SAEE,KAFF;AArIR,OAAO,WAAW;AAClB,SAA+B,uBAAuB;AAGtD,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB;AAmBlC,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,WAAW,MAAM;AACf,QAAI,KAAK,MAAM,OAAO,KAAK,OAAK,EAAE,OAAO,KAAK,MAAM,EAAE,GAAG;AACvD,WAAK,SAAS,EAAE,OAAO,KAAK,MAAM,EAAE,yBAAyB,EAAE,CAAC;AAChE;AAAA,IACF;AAEA,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,CAAC,kBAAkB,SAAS,KAAK,MAAM,IAAI,KAAK,KAAK,MAAM,cAAc,GAAG;AAC7E,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAC9C,SAAK,SAAS,EAAE,OAAO,KAAK,GAAG,MAAM;AACnC,WAAK,MAAM,eAAe,aAAa;AACvC,WAAK,MAAM,aAAa;AAAA,IAC1B,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,OAA8B;AACxC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,MACJ,OAAO;AAAA,IACT;AAEA,QAAG,OAAO,KAAK,MAAM,OAAO,EAAE,SAAS,GAAG;AACxC,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,eAAe,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAE,UAAU,CAAC;AACjE,UAAI,aAAa,SAAS,GAAG;AAC3B,cAAM,cAAc,IAAI,aAAa,CAAC;AAAA,MACxC;AAAA,IACF;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAAmC,WAA0B;AAE9E,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAkC;AAE3C,YAAO,MAAM;AAAA,MACX,KAAK;AACH,eAAO,CAAC;AAAA,MACV,KAAK;AAAA,MACL,KAAK;AACH,eAAO,OAAO,QAAQ,KAAK,MAAM,OAAO,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,YAAY,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAAA,MACzG,KAAK;AACH,eAAO,OAAO,QAAQ,KAAK,MAAM,OAAO,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,QAAQ,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAAA,MACrG,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,eAAO,OAAO,QAAQ,KAAK,MAAM,OAAO,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,YAAY,EAAE,SAAS,SAAS,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAAA,MAC7H;AACE,eAAO,CAAC;AAAA,IACZ;AAAA,EACF;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AACzD,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO;AACpB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ;AAAA,UAAC;AAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK,CAAC;AAAA,YAC5C,WAAU;AAAA,YACX;AAAA;AAAA,QAED;AAAA,SACF;AAAA,IAEJ;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QACpB,eAAY;AAAA,QACZ,WAAU;AAAA,QAET;AAAA;AAAA,UACD,qBAAC,SAAI,WAAU,sBACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM;AAAA,gBAClB,OAAM;AAAA,gBACN,UAAU,CAAC,MAAc;AACvB,uBAAK,SAAS,EAAE,IAAI,GAAG,OAAO,KAAK,CAAC;AAAA,gBACtC;AAAA;AAAA,YACF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM;AAAA,gBAClB,OAAM;AAAA,gBACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,YACxE;AAAA,YACC,KAAK,MAAM,SAAS,gBACvB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,OAAM;AAAA,gBACN,OAAO,KAAK,MAAM;AAAA,gBAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,YACtD;AAAA,YAEG,CAAC,kBAAkB,SAAS,KAAK,MAAM,IAAI,KAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,gBAAgB;AAAA,gBAChB,OAAO,KAAK,MAAM,cAAc;AAAA,gBAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,YAC9D;AAAA,YAEE;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,eAAY;AAAA,gBAEX,YAAE,WAAW;AAAA;AAAA,YAChB;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90da8e5ee6bdbe488a5f45bfae015ac94b0d70a9"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return zn=function(){return s},s}zn();class zfe extends ii.Component{addLayer=(zn().s[0]++,()=>{if(zn().f[0]++,zn().s[1]++,this.props.layers.some(i=>(zn().f[1]++,zn().s[2]++,i.id===this.state.id))){zn().b[0][0]++,zn().s[3]++,this.setState({error:this.props.t("Layer ID already exists")}),zn().s[4]++;return}else zn().b[0][1]++;const e=(zn().s[5]++,this.props.layers.slice(0)),t=(zn().s[6]++,{id:this.state.id,type:this.state.type});zn().s[7]++,this.state.type!=="background"?(zn().b[1][0]++,zn().s[8]++,t.source=this.state.source,zn().s[9]++,zn().b[3][0]++,!PO.includes(this.state.type)&&(zn().b[3][1]++,this.state["source-layer"])?(zn().b[2][0]++,zn().s[10]++,t["source-layer"]=this.state["source-layer"]):zn().b[2][1]++):zn().b[1][1]++,zn().s[11]++,e.push(t),zn().s[12]++,this.setState({error:null},()=>{zn().f[2]++,zn().s[13]++,this.props.onLayersChange(e),zn().s[14]++,this.props.onOpenToggle()})});constructor(e){zn().f[3]++,zn().s[15]++,super(e);const t=(zn().s[16]++,{type:"fill",id:"",error:null});if(zn().s[17]++,Object.keys(e.sources).length>0){zn().b[4][0]++,zn().s[18]++,t.source=Object.keys(this.props.sources)[0];const i=(zn().s[19]++,zn().b[5][0]++,this.props.sources[t.source].layers||(zn().b[5][1]++,[]));zn().s[20]++,i.length>0?(zn().b[6][0]++,zn().s[21]++,t["source-layer"]=i[0]):zn().b[6][1]++}else zn().b[4][1]++;zn().s[22]++,this.state=t}componentDidUpdate(e,t){zn().f[4]++;const i=(zn().s[23]++,t.type),r=(zn().s[24]++,this.state.type),o=(zn().s[25]++,this.getSources(i)),s=(zn().s[26]++,this.getSources(r));zn().s[27]++,zn().b[8][0]++,i!==r&&(zn().b[8][1]++,t.source!=="")&&(zn().b[8][2]++,o.indexOf(t.source)>-1)&&(zn().b[8][3]++,s.indexOf(this.state.source)<0)?(zn().b[7][0]++,zn().s[28]++,this.setState({source:""})):zn().b[7][1]++}getLayersForSource(e){zn().f[5]++;const t=(zn().s[29]++,zn().b[9][0]++,this.props.sources[e]||(zn().b[9][1]++,{}));return zn().s[30]++,zn().b[10][0]++,t.layers||(zn().b[10][1]++,[])}getSources(e){switch(zn().f[6]++,zn().s[31]++,e){case"background":return zn().b[11][0]++,zn().s[32]++,[];case"hillshade":zn().b[11][1]++;case"color-relief":return zn().b[11][2]++,zn().s[33]++,Object.entries(this.props.sources).filter(([t,i])=>(zn().f[7]++,zn().s[34]++,i.type==="raster-dem")).map(([t,i])=>(zn().f[8]++,zn().s[35]++,t));case"raster":return zn().b[11][3]++,zn().s[36]++,Object.entries(this.props.sources).filter(([t,i])=>(zn().f[9]++,zn().s[37]++,i.type==="raster")).map(([t,i])=>(zn().f[10]++,zn().s[38]++,t));case"heatmap":zn().b[11][4]++;case"circle":zn().b[11][5]++;case"fill":zn().b[11][6]++;case"fill-extrusion":zn().b[11][7]++;case"line":zn().b[11][8]++;case"symbol":return zn().b[11][9]++,zn().s[39]++,Object.entries(this.props.sources).filter(([t,i])=>(zn().f[11]++,zn().s[40]++,zn().b[12][0]++,i.type==="vector"||(zn().b[12][1]++,i.type==="geojson"))).map(([t,i])=>(zn().f[12]++,zn().s[41]++,t));default:return zn().b[11][10]++,zn().s[42]++,[]}}render(){zn().f[13]++;const e=(zn().s[43]++,this.props.t),t=(zn().s[44]++,this.getSources(this.state.type)),i=(zn().s[45]++,this.getLayersForSource(this.state.source));let r;return zn().s[46]++,this.state.error?(zn().b[13][0]++,zn().s[47]++,r=Ae.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,Ae.jsx("a",{href:"#",onClick:()=>(zn().f[14]++,zn().s[48]++,this.setState({error:null})),className:"maputnik-modal-error-close",children:"×"})]})):zn().b[13][1]++,zn().s[49]++,Ae.jsxs(lg,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Add Layer"),"data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:[r,Ae.jsxs("div",{className:"maputnik-add-layer",children:[Ae.jsx(IW,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:o=>{zn().f[15]++,zn().s[50]++,this.setState({id:o,error:null})}}),Ae.jsx(OW,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:o=>(zn().f[16]++,zn().s[51]++,this.setState({type:o}))}),(zn().b[14][0]++,this.state.type!=="background"&&(zn().b[14][1]++,Ae.jsx(HW,{sourceIds:t,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:o=>(zn().f[17]++,zn().s[52]++,this.setState({source:o}))}))),(zn().b[15][0]++,!PO.includes(this.state.type)&&(zn().b[15][1]++,Ae.jsx(VW,{sourceLayerIds:i,value:this.state["source-layer"],onChange:o=>(zn().f[18]++,zn().s[53]++,this.setState({"source-layer":o}))}))),Ae.jsx(Gs,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:e("Add Layer")})]})]})}}const jfe=(zn().s[54]++,is()(zfe));function X1(){var n="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",e="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return X1=function(){return s},s}X1();let rR=(X1().s[0]++,0);function hC(n=(X1().b[0][0]++,"")){return X1().f[0]++,X1().s[1]++,rR++,X1().s[2]++,n+rR}function Wr(){var n="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",e="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Wr=function(){return s},s}Wr();function Nfe(n,e){Wr().f[0]++;const t=(Wr().s[0]++,{...n.paint});Wr().s[1]++,Object.keys(t).forEach(r=>{Wr().f[1]++,Wr().s[2]++,r in ts["paint_"+e]?Wr().b[0][1]++:(Wr().b[0][0]++,Wr().s[3]++,delete t[r])});const i=(Wr().s[4]++,{...n.layout});return Wr().s[5]++,Object.keys(i).forEach(r=>{Wr().f[2]++,Wr().s[6]++,r in ts["layout_"+e]?Wr().b[1][1]++:(Wr().b[1][0]++,Wr().s[7]++,delete i[r])}),Wr().s[8]++,{...n,paint:t,layout:i,type:e}}function Gfe(n,e,t,i){if(Wr().f[3]++,Wr().s[9]++,i===void 0)if(Wr().b[2][0]++,Wr().s[10]++,e){Wr().b[3][0]++;const r=(Wr().s[11]++,{...n,[e]:{...n[e]}});return Wr().s[12]++,delete r[e][t],Wr().s[13]++,Object.keys(r[e]).length<1?(Wr().b[4][0]++,Wr().s[14]++,delete r[e]):Wr().b[4][1]++,Wr().s[15]++,r}else{Wr().b[3][1]++;const r=(Wr().s[16]++,{...n});return Wr().s[17]++,delete r[t],Wr().s[18]++,r}else return Wr().b[2][1]++,Wr().s[19]++,e?(Wr().b[5][0]++,Wr().s[20]++,{...n,[e]:{...n[e],[t]:i}}):(Wr().b[5][1]++,Wr().s[21]++,{...n,[t]:i})}function Kv(n){return Wr().f[4]++,Wr().s[22]++,n.replace(" ","-").replace("_","-").split("-")[0]}function Wfe(n,e){Wr().f[5]++;const t=(Wr().s[23]++,Kv(n[e].id));let i=(Wr().s[24]++,e);Wr().s[25]++;for(let r=(Wr().s[26]++,e);r>0;r--){const o=(Wr().s[27]++,Kv(n[r-1].id));if(Wr().s[28]++,o===t)Wr().b[6][0]++,Wr().s[29]++,i=r-1;else return Wr().b[6][1]++,Wr().s[30]++,i}return Wr().s[31]++,i}function sn(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",e="f68294db07afb93676beed55b7a9de47e3a7c779",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:23,column:24},end:{line:26,column:3}},1:{start:{line:30,column:4},end:{line:30,column:17}},2:{start:{line:31,column:4},end:{line:31,column:45}},3:{start:{line:32,column:4},end:{line:32,column:48}},4:{start:{line:33,column:4},end:{line:42,column:6}},5:{start:{line:45,column:4},end:{line:54,column:7}},6:{start:{line:56,column:17},end:{line:73,column:3}},7:{start:{line:57,column:14},end:{line:57,column:15}},8:{start:{line:58,column:22},end:{line:58,column:24}},9:{start:{line:59,column:4},end:{line:68,column:7}},10:{start:{line:60,column:26},end:{line:60,column:51}},11:{start:{line:61,column:24},end:{line:61,column:52}},12:{start:{line:62,column:6},end:{line:64,column:7}},13:{start:{line:63,column:8},end:{line:63,column:63}},14:{start:{line:65,column:6},end:{line:67,column:9}},15:{start:{line:66,column:8},end:{line:66,column:17}},16:{start:{line:69,column:4},end:{line:72,column:7}},17:{start:{line:75,column:19},end:{line:75,column:21}},18:{start:{line:76,column:41},end:{line:76,column:50}},19:{start:{line:77,column:4},end:{line:94,column:5}},20:{start:{line:77,column:17},end:{line:77,column:18}},21:{start:{line:78,column:24},end:{line:78,column:44}},22:{start:{line:79,column:28},end:{line:79,column:52}},23:{start:{line:80,column:6},end:{line:83,column:8}},24:{start:{line:84,column:20},end:{line:87,column:7}},25:{start:{line:88,column:6},end:{line:93,column:7}},26:{start:{line:89,column:26},end:{line:89,column:51}},27:{start:{line:90,column:8},end:{line:90,column:30}},28:{start:{line:92,column:8},end:{line:92,column:29}},29:{start:{line:95,column:4},end:{line:95,column:18}},30:{start:{line:98,column:22},end:{line:98,column:50}},31:{start:{line:99,column:22},end:{line:99,column:55}},32:{start:{line:100,column:4},end:{line:104,column:5}},33:{start:{line:101,column:6},end:{line:101,column:68}},34:{start:{line:103,column:6},end:{line:103,column:35}},35:{start:{line:105,column:4},end:{line:107,column:7}},36:{start:{line:110,column:22},end:{line:110,column:78}},37:{start:{line:111,column:4},end:{line:111,column:51}},38:{start:{line:114,column:4},end:{line:116,column:5}},39:{start:{line:115,column:6},end:{line:115,column:18}},40:{start:{line:118,column:18},end:{line:120,column:7}},41:{start:{line:121,column:6},end:{line:125,column:7}},42:{start:{line:122,column:8},end:{line:124,column:10}},43:{start:{line:126,column:6},end:{line:126,column:17}},44:{start:{line:128,column:24},end:{line:131,column:5}},45:{start:{line:133,column:18},end:{line:135,column:7}},46:{start:{line:136,column:6},end:{line:136,column:27}},47:{start:{line:137,column:6},end:{line:137,column:17}},48:{start:{line:139,column:23},end:{line:142,column:5}},49:{start:{line:143,column:25},end:{line:143,column:53}},50:{start:{line:144,column:4},end:{line:144,column:24}},51:{start:{line:147,column:4},end:{line:163,column:5}},52:{start:{line:148,column:31},end:{line:148,column:59}},53:{start:{line:149,column:6},end:{line:162,column:7}},54:{start:{line:150,column:23},end:{line:150,column:44}},55:{start:{line:151,column:24},end:{line:154,column:9}},56:{start:{line:155,column:25},end:{line:160,column:19}},57:{start:{line:156,column:10},end:{line:156,column:37}},58:{start:{line:157,column:10},end:{line:159,column:11}},59:{start:{line:158,column:12},end:{line:158,column:36}},60:{start:{line:161,column:8},end:{line:161,column:33}},61:{start:{line:166,column:22},end:{line:166,column:24}},62:{start:{line:167,column:14},end:{line:167,column:15}},63:{start:{line:168,column:26},end:{line:168,column:46}},64:{start:{line:169,column:4},end:{line:219,column:7}},65:{start:{line:170,column:26},end:{line:170,column:51}},66:{start:{line:171,column:6},end:{line:184,column:7}},67:{start:{line:172,column:36},end:{line:182,column:9}},68:{start:{line:176,column:47},end:{line:176,column:52}},69:{start:{line:183,column:8},end:{line:183,column:28}},70:{start:{line:185,column:6},end:{line:218,column:9}},71:{start:{line:186,column:25},end:{line:186,column:72}},72:{start:{line:187,column:27},end:{line:189,column:10}},73:{start:{line:188,column:10},end:{line:188,column:97}},74:{start:{line:190,column:32},end:{line:190,column:34}},75:{start:{line:191,column:8},end:{line:193,column:9}},76:{start:{line:192,column:10},end:{line:192,column:53}},77:{start:{line:194,column:41},end:{line:215,column:9}},78:{start:{line:216,column:8},end:{line:216,column:33}},79:{start:{line:217,column:8},end:{line:217,column:17}},80:{start:{line:220,column:14},end:{line:220,column:26}},81:{start:{line:221,column:4},end:{line:274,column:6}},82:{start:{line:277,column:27},end:{line:277,column:72}},83:{start:{line:278,column:18},end:{line:291,column:1}},84:{start:{line:279,column:18},end:{line:279,column:97}},85:{start:{line:280,column:24},end:{line:288,column:3}},86:{start:{line:281,column:29},end:{line:281,column:34}},87:{start:{line:282,column:4},end:{line:282,column:22}},88:{start:{line:282,column:15},end:{line:282,column:22}},89:{start:{line:283,column:21},end:{line:283,column:78}},90:{start:{line:283,column:55},end:{line:283,column:77}},91:{start:{line:284,column:21},end:{line:284,column:76}},92:{start:{line:284,column:55},end:{line:284,column:75}},93:{start:{line:285,column:4},end:{line:287,column:5}},94:{start:{line:286,column:6},end:{line:286,column:48}},95:{start:{line:289,column:19},end:{line:289,column:56}},96:{start:{line:289,column:47},end:{line:289,column:55}},97:{start:{line:290,column:2},end:{line:290,column:288}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},1:{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:21},end:{line:43,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:25},end:{line:55,column:3}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:56,column:17},end:{line:56,column:18}},loc:{start:{line:56,column:23},end:{line:73,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:59,column:33},end:{line:59,column:34}},loc:{start:{line:59,column:45},end:{line:68,column:5}},line:59},5:{name:"(anonymous_5)",decl:{start:{line:65,column:21},end:{line:65,column:22}},loc:{start:{line:65,column:33},end:{line:67,column:7}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:18},end:{line:96,column:3}},line:74},7:{name:"(anonymous_7)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:37},end:{line:108,column:3}},line:97},8:{name:"(anonymous_8)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:32},end:{line:112,column:3}},line:109},9:{name:"(anonymous_9)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:46},end:{line:145,column:3}},line:113},10:{name:"getRequiredProps",decl:{start:{line:117,column:13},end:{line:117,column:29}},loc:{start:{line:117,column:37},end:{line:127,column:5}},line:117},11:{name:"withoutLayers",decl:{start:{line:132,column:13},end:{line:132,column:26}},loc:{start:{line:132,column:34},end:{line:138,column:5}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:146,column:2},end:{line:146,column:3}},loc:{start:{line:146,column:32},end:{line:164,column:3}},line:146},13:{name:"(anonymous_13)",decl:{start:{line:155,column:50},end:{line:155,column:51}},loc:{start:{line:155,column:63},end:{line:160,column:9}},line:155},14:{name:"(anonymous_14)",decl:{start:{line:165,column:2},end:{line:165,column:3}},loc:{start:{line:165,column:11},end:{line:275,column:3}},line:165},15:{name:"(anonymous_15)",decl:{start:{line:169,column:26},end:{line:169,column:27}},loc:{start:{line:169,column:38},end:{line:219,column:5}},line:169},16:{name:"(anonymous_16)",decl:{start:{line:176,column:40},end:{line:176,column:41}},loc:{start:{line:176,column:47},end:{line:176,column:52}},line:176},17:{name:"(anonymous_17)",decl:{start:{line:185,column:21},end:{line:185,column:22}},loc:{start:{line:185,column:44},end:{line:218,column:7}},line:185},18:{name:"(anonymous_18)",decl:{start:{line:187,column:50},end:{line:187,column:51}},loc:{start:{line:187,column:61},end:{line:189,column:9}},line:187},19:{name:"(anonymous_19)",decl:{start:{line:278,column:18},end:{line:278,column:19}},loc:{start:{line:278,column:29},end:{line:291,column:1}},line:278},20:{name:"(anonymous_20)",decl:{start:{line:280,column:24},end:{line:280,column:25}},loc:{start:{line:280,column:35},end:{line:288,column:3}},line:280},21:{name:"(anonymous_21)",decl:{start:{line:283,column:44},end:{line:283,column:45}},loc:{start:{line:283,column:55},end:{line:283,column:77}},line:283},22:{name:"(anonymous_22)",decl:{start:{line:284,column:44},end:{line:284,column:45}},loc:{start:{line:284,column:55},end:{line:284,column:75}},line:284},23:{name:"(anonymous_23)",decl:{start:{line:289,column:36},end:{line:289,column:37}},loc:{start:{line:289,column:47},end:{line:289,column:55}},line:289}},branchMap:{0:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},1:{loc:{start:{line:82,column:8},end:{line:82,column:79}},type:"cond-expr",locations:[{start:{line:82,column:41},end:{line:82,column:75}},{start:{line:82,column:78},end:{line:82,column:79}}],line:82},2:{loc:{start:{line:88,column:6},end:{line:93,column:7}},type:"if",locations:[{start:{line:88,column:6},end:{line:93,column:7}},{start:{line:91,column:13},end:{line:93,column:7}}],line:88},3:{loc:{start:{line:88,column:10},end:{line:88,column:81}},type:"binary-expr",locations:[{start:{line:88,column:10},end:{line:88,column:23}},{start:{line:88,column:27},end:{line:88,column:81}}],line:88},4:{loc:{start:{line:100,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:100,column:4},end:{line:104,column:5}},{start:{line:102,column:11},end:{line:104,column:5}}],line:100},5:{loc:{start:{line:111,column:11},end:{line:111,column:50}},type:"cond-expr",locations:[{start:{line:111,column:34},end:{line:111,column:38}},{start:{line:111,column:41},end:{line:111,column:50}}],line:111},6:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},7:{loc:{start:{line:121,column:6},end:{line:125,column:7}},type:"if",locations:[{start:{line:121,column:6},end:{line:125,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:121},8:{loc:{start:{line:143,column:27},end:{line:143,column:52}},type:"binary-expr",locations:[{start:{line:143,column:27},end:{line:143,column:38}},{start:{line:143,column:42},end:{line:143,column:52}}],line:143},9:{loc:{start:{line:147,column:4},end:{line:163,column:5}},type:"if",locations:[{start:{line:147,column:4},end:{line:163,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},10:{loc:{start:{line:149,column:6},end:{line:162,column:7}},type:"if",locations:[{start:{line:149,column:6},end:{line:162,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:149},11:{loc:{start:{line:149,column:10},end:{line:149,column:51}},type:"binary-expr",locations:[{start:{line:149,column:10},end:{line:149,column:26}},{start:{line:149,column:30},end:{line:149,column:51}}],line:149},12:{loc:{start:{line:157,column:10},end:{line:159,column:11}},type:"if",locations:[{start:{line:157,column:10},end:{line:159,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157},13:{loc:{start:{line:157,column:14},end:{line:157,column:68}},type:"binary-expr",locations:[{start:{line:157,column:14},end:{line:157,column:32}},{start:{line:157,column:36},end:{line:157,column:68}}],line:157},14:{loc:{start:{line:171,column:6},end:{line:184,column:7}},type:"if",locations:[{start:{line:171,column:6},end:{line:184,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:171},15:{loc:{start:{line:178,column:22},end:{line:178,column:98}},type:"binary-expr",locations:[{start:{line:178,column:22},end:{line:178,column:57}},{start:{line:178,column:61},end:{line:178,column:98}}],line:178},16:{loc:{start:{line:188,column:17},end:{line:188,column:96}},type:"binary-expr",locations:[{start:{line:188,column:17},end:{line:188,column:29}},{start:{line:188,column:33},end:{line:188,column:62}},{start:{line:188,column:66},end:{line:188,column:96}}],line:188},17:{loc:{start:{line:191,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:193,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:191},18:{loc:{start:{line:198,column:52},end:{line:198,column:153}},type:"binary-expr",locations:[{start:{line:198,column:52},end:{line:198,column:69}},{start:{line:198,column:73},end:{line:198,column:112}},{start:{line:198,column:116},end:{line:198,column:153}}],line:198},19:{loc:{start:{line:199,column:53},end:{line:199,column:105}},type:"binary-expr",locations:[{start:{line:199,column:53},end:{line:199,column:84}},{start:{line:199,column:88},end:{line:199,column:105}}],line:199},20:{loc:{start:{line:206,column:25},end:{line:206,column:43}},type:"binary-expr",locations:[{start:{line:206,column:25},end:{line:206,column:37}},{start:{line:206,column:41},end:{line:206,column:43}}],line:206},21:{loc:{start:{line:251,column:26},end:{line:251,column:96}},type:"cond-expr",locations:[{start:{line:251,column:69},end:{line:251,column:82}},{start:{line:251,column:85},end:{line:251,column:96}}],line:251},22:{loc:{start:{line:282,column:4},end:{line:282,column:22}},type:"if",locations:[{start:{line:282,column:4},end:{line:282,column:22}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:282},23:{loc:{start:{line:285,column:4},end:{line:287,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:287,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},24:{loc:{start:{line:285,column:8},end:{line:285,column:67}},type:"binary-expr",locations:[{start:{line:285,column:8},end:{line:285,column:23}},{start:{line:285,column:27},end:{line:285,column:42}},{start:{line:285,column:46},end:{line:285,column:67}}],line:285}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AA+NoB,cAoEd,YApEc;AA/NpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AACnB;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OAEK;AACP;AAAA,EACE;AAAA,EACA;AAAA,OACK;AAEP,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAGrB,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AACrD,SAA+B,uBAAuB;AAwBtD,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YAED,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,UAAM,IAAI,KAAK,MAAM;AAErB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAY;AAAA,QACZ,MAAK;AAAA,QACL,cAAY,EAAE,aAAa;AAAA,QAC3B,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAoC,YAAE,QAAQ,GAAE;AAAA,YAChE,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OACnC,EAAE,UAAU,IAEZ,EAAE,QAAQ;AAAA;AAAA,YAEd,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACT,YAAE,WAAW;AAAA;AAAA,YAChB,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAY,EAAE,aAAa;AAAA,cAE3B,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AAMvE,MAAM,YAAsC,CAAC,UAAU;AACrD,QAAM,UAAU,WAAW,UAAU,eAAe,EAAE,sBAAsB,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;AAE9F,QAAM,gBAAgB,CAAC,UAAwB;AAC7C,UAAM,EAAC,QAAQ,KAAI,IAAI;AACvB,QAAI,CAAC,KAAM;AAEX,UAAM,WAAW,MAAM,OAAO,UAAU,WAAS,MAAM,OAAO,OAAO,EAAE;AACvE,UAAM,WAAW,MAAM,OAAO,UAAU,WAAS,MAAM,OAAO,KAAK,EAAE;AAErE,QAAI,aAAa,MAAM,aAAa,MAAM,aAAa,UAAU;AAC/D,YAAM,YAAY,EAAC,UAAU,SAAQ,CAAC;AAAA,IACxC;AAAA,EACF;AAEA,QAAM,WAAW,MAAM,OAAO,IAAI,WAAS,MAAM,EAAE;AAEnD,SACE,oBAAC,cAAW,SAAkB,oBAAoB,eAAe,WAAW,eAC1E,8BAAC,mBAAgB,OAAO,UAAU,UAAU,6BAC1C,8BAAC,sBAAoB,GAAG,OAAO,GACjC,GACF;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f68294db07afb93676beed55b7a9de47e3a7c779"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return sn=function(){return s},s}sn();class Qfe extends ii.Component{static defaultProps=(sn().s[0]++,{onLayerSelect:()=>{sn().f[0]++}});selectedItemRef;scrollContainerRef;constructor(e){sn().f[1]++,sn().s[1]++,super(e),sn().s[2]++,this.selectedItemRef=ii.createRef(),sn().s[3]++,this.scrollContainerRef=ii.createRef(),sn().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+hC()},isOpen:{add:!1}}}toggleModal(e){sn().f[2]++,sn().s[5]++,this.setState({keys:{...this.state.keys,[e]:+hC()},isOpen:{...this.state.isOpen,[e]:!this.state.isOpen[e]}})}toggleLayers=(sn().s[6]++,()=>{sn().f[3]++;let e=(sn().s[7]++,0);const t=(sn().s[8]++,{});sn().s[9]++,this.groupedLayers().forEach(i=>{sn().f[4]++;const r=(sn().s[10]++,Kv(i[0].id)),o=(sn().s[11]++,[r,e].join("-"));sn().s[12]++,i.length>1?(sn().b[0][0]++,sn().s[13]++,t[o]=this.state.areAllGroupsExpanded):sn().b[0][1]++,sn().s[14]++,i.forEach(s=>{sn().f[5]++,sn().s[15]++,e+=1})}),sn().s[16]++,this.setState({collapsedGroups:t,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})});groupedLayers(){sn().f[6]++;const e=(sn().s[17]++,[]),t=(sn().s[18]++,new Map);sn().s[19]++;for(let i=(sn().s[20]++,0);i<this.props.layers.length;i++){const r=(sn().s[21]++,this.props.layers[i]),o=(sn().s[22]++,this.props.layers[i-1]);sn().s[23]++,t.set(r.id,t.has(r.id)?(sn().b[1][0]++,t.get(r.id)+1):(sn().b[1][1]++,0));const s=(sn().s[24]++,{...r,key:`layers-list-${r.id}-${t.get(r.id)}`});if(sn().s[25]++,sn().b[3][0]++,o&&(sn().b[3][1]++,Kv(o.id)==Kv(s.id))){sn().b[2][0]++;const a=(sn().s[26]++,e[e.length-1]);sn().s[27]++,a.push(s)}else sn().b[2][1]++,sn().s[28]++,e.push([s])}return sn().s[29]++,e}toggleLayerGroup(e,t){sn().f[7]++;const i=(sn().s[30]++,[e,t].join("-")),r=(sn().s[31]++,{...this.state.collapsedGroups});sn().s[32]++,i in this.state.collapsedGroups?(sn().b[4][0]++,sn().s[33]++,r[i]=!this.state.collapsedGroups[i]):(sn().b[4][1]++,sn().s[34]++,r[i]=!1),sn().s[35]++,this.setState({collapsedGroups:r})}isCollapsed(e,t){sn().f[8]++;const i=(sn().s[36]++,this.state.collapsedGroups[[e,t].join("-")]);return sn().s[37]++,i===void 0?(sn().b[5][0]++,!0):(sn().b[5][1]++,i)}shouldComponentUpdate(e,t){if(sn().f[9]++,sn().s[38]++,this.state!==t)return sn().b[6][0]++,sn().s[39]++,!0;sn().b[6][1]++;function i(p){sn().f[10]++;const g=(sn().s[40]++,{id:p.id});return sn().s[41]++,p.layout?(sn().b[7][0]++,sn().s[42]++,g.layout={visibility:p.layout.visibility}):sn().b[7][1]++,sn().s[43]++,g}const r=(sn().s[44]++,pB.isEqual(e.layers.map(i),this.props.layers.map(i)));function o(p){sn().f[11]++;const g=(sn().s[45]++,{...p});return sn().s[46]++,delete g.layers,sn().s[47]++,g}const s=(sn().s[48]++,pB.isEqual(o(this.props),o(e))),a=(sn().s[49]++,sn().b[8][0]++,!(r&&(sn().b[8][1]++,s)));return sn().s[50]++,a}componentDidUpdate(e){if(sn().f[12]++,sn().s[51]++,e.selectedLayerIndex!==this.props.selectedLayerIndex){sn().b[9][0]++;const t=(sn().s[52]++,this.selectedItemRef.current);if(sn().s[53]++,sn().b[11][0]++,t&&(sn().b[11][1]++,t.node)){sn().b[10][0]++;const i=(sn().s[54]++,t.node),r=(sn().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),o=(sn().s[56]++,new IntersectionObserver(s=>{sn().f[13]++,sn().s[57]++,o.unobserve(i),sn().s[58]++,sn().b[13][0]++,s.length>0&&(sn().b[13][1]++,s[0].intersectionRatio<1)?(sn().b[12][0]++,sn().s[59]++,i.scrollIntoView()):sn().b[12][1]++},r));sn().s[60]++,o.observe(i)}else sn().b[10][1]++}else sn().b[9][1]++}render(){sn().f[14]++;const e=(sn().s[61]++,[]);let t=(sn().s[62]++,0);const i=(sn().s[63]++,this.groupedLayers());sn().s[64]++,i.forEach(o=>{sn().f[15]++;const s=(sn().s[65]++,Kv(o[0].id));if(sn().s[66]++,o.length>1){sn().b[14][0]++;const a=(sn().s[67]++,Ae.jsx(Zle,{"data-wd-key":[s,t].join("-"),"aria-controls":o.map(p=>(sn().f[16]++,sn().s[68]++,p.key)).join(" "),title:s,isActive:(sn().b[15][0]++,!this.isCollapsed(s,t)||(sn().b[15][1]++,t===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,s,t)},`group-${s}-${t}`));sn().s[69]++,e.push(a)}else sn().b[14][1]++;sn().s[70]++,o.forEach((a,p)=>{sn().f[17]++;const g=(sn().s[71]++,Wfe(this.props.layers,t)),_=(sn().s[72]++,this.props.errors.find(B=>(sn().f[18]++,sn().s[73]++,sn().b[16][0]++,B.parsed&&(sn().b[16][1]++,B.parsed.type==="layer")&&(sn().b[16][2]++,B.parsed.data.index==t)))),E=(sn().s[74]++,{});sn().s[75]++,t===this.props.selectedLayerIndex?(sn().b[17][0]++,sn().s[76]++,E.ref=this.selectedItemRef):sn().b[17][1]++;const O=(sn().s[77]++,Ae.jsx(Jle,{className:g0({"maputnik-layer-list-item-collapsed":(sn().b[18][0]++,o.length>1&&(sn().b[18][1]++,this.isCollapsed(s,g))&&(sn().b[18][2]++,t!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(sn().b[19][0]++,p==o.length-1&&(sn().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!_}),id:a.key,layerId:a.id,layerIndex:t,layerType:a.type,visibility:(sn().b[20][0]++,a.layout||(sn().b[20][1]++,{})).visibility,isSelected:t===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:this.props.onLayerDestroy?.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...E},a.key));sn().s[78]++,e.push(O),sn().s[79]++,t+=1})});const r=(sn().s[80]++,this.props.t);return sn().s[81]++,Ae.jsxs("section",{className:"maputnik-layer-list","data-wd-key":"layer-list",role:"complementary","aria-label":r("Layers list"),ref:this.scrollContainerRef,children:[Ae.jsx(jfe,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),Ae.jsxs("header",{className:"maputnik-layer-list-header",children:[Ae.jsx("span",{className:"maputnik-layer-list-header-title",children:r("Layers")}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx("div",{className:"maputnik-default-property",children:Ae.jsx("div",{className:"maputnik-multibutton",children:Ae.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(sn().b[21][0]++,r("Collapse")):(sn().b[21][1]++,r("Expand"))})})}),Ae.jsx("div",{className:"maputnik-default-property",children:Ae.jsx("div",{className:"maputnik-multibutton",children:Ae.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:r("Add Layer")})})})]}),Ae.jsx("div",{role:"navigation","aria-label":r("Layers list"),children:Ae.jsx("ul",{className:"maputnik-layer-list-container",children:e})})]})}}const Yfe=(sn().s[82]++,is()(Qfe));sn().s[83]++;const qfe=n=>{sn().f[19]++;const e=(sn().s[84]++,Mse(xse(E7,{activationConstraint:{distance:5}})));sn().s[85]++;const t=r=>{sn().f[20]++;const{active:o,over:s}=(sn().s[86]++,r);if(sn().s[87]++,s)sn().b[22][1]++;else{sn().b[22][0]++,sn().s[88]++;return}const a=(sn().s[89]++,n.layers.findIndex(g=>(sn().f[21]++,sn().s[90]++,g.id===o.id))),p=(sn().s[91]++,n.layers.findIndex(g=>(sn().f[22]++,sn().s[92]++,g.id===s.id)));sn().s[93]++,sn().b[24][0]++,a!==-1&&(sn().b[24][1]++,p!==-1)&&(sn().b[24][2]++,a!==p)?(sn().b[23][0]++,sn().s[94]++,n.onMoveLayer({oldIndex:a,newIndex:p})):sn().b[23][1]++},i=(sn().s[95]++,n.layers.map(r=>(sn().f[23]++,sn().s[96]++,r.id)));return sn().s[97]++,Ae.jsx(Ble,{sensors:e,collisionDetection:Ose,onDragEnd:t,children:Ae.jsx(jle,{items:i,strategy:Fle,children:Ae.jsx(Yfe,{...n})})})};var KM,oR;function $W(){if(oR)return KM;oR=1;var n={},e="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function t(s,a){n[s]=a}function i(s){delete n[s]}function r(s,a){var p=n[s];if(!p)throw new Error("Cannot open "+e);p.openMenu(a)}function o(s,a){var p=n[s];if(!p)throw new Error("Cannot close "+e);p.closeMenu(a)}return KM={registerManager:t,unregisterManager:i,openMenu:r,closeMenu:o},KM}var LM,aR;function Hfe(){if(aR)return LM;aR=1;function n(r){r=r||{};var o=r.keybindings||{};this._settings={keybindings:{next:o.next||{keyCode:40},prev:o.prev||{keyCode:38},first:o.first,last:o.last},wrap:r.wrap,stringSearch:r.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var s,a;for(s in this._settings.keybindings)a=this._settings.keybindings[s],a&&[].concat(a).forEach((function(p){p.metaKey=p.metaKey||!1,p.ctrlKey=p.ctrlKey||!1,p.altKey=p.altKey||!1,p.shiftKey=p.shiftKey||!1,this._keybindingsLookup.push({action:s,eventMatcher:p})}).bind(this));this._searchString="",this._members=[],r.members&&this.setMembers(r.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}n.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this},n.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this},n.prototype._handleKeydownEvent=function(r){var o=this._getActiveElementIndex();if(o!==-1){var s=!1;this._keybindingsLookup.forEach((function(a){if(e(a.eventMatcher,r))switch(s=!0,r.preventDefault(),a.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),s||this._handleUnboundKey(r)}},n.prototype.moveFocusForward=function(){var r=this._getActiveElementIndex(),o;return r<this._members.length-1?o=r+1:this._settings.wrap?o=0:o=r,this.focusNodeAtIndex(o),o},n.prototype.moveFocusBack=function(){var r=this._getActiveElementIndex(),o;return r>0?o=r-1:this._settings.wrap?o=this._members.length-1:o=r,this.focusNodeAtIndex(o),o},n.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)},n.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)},n.prototype._handleUnboundKey=function(r){if(this._settings.stringSearch){if(this._searchString!==""&&(r.key===" "||r.keyCode===32))return r.preventDefault(),-1;if(!t(r.keyCode)||r.ctrlKey||r.metaKey||r.altKey)return-1;r.preventDefault(),this._addToSearchString(String.fromCharCode(r.keyCode)),this._runStringSearch()}},n.prototype._clearSearchString=function(){this._searchString=""},n.prototype._addToSearchString=function(r){this._searchString+=r.toLowerCase()},n.prototype._startSearchStringRefreshTimer=function(){var r=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){r._clearSearchString()},this._settings.stringSearchDelay)},n.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)},n.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)},n.prototype.moveFocusByString=function(r){for(var o,s=0,a=this._members.length;s<a;s++)if(o=this._members[s],!!o.text&&o.text.indexOf(r)===0)return i(o.node)},n.prototype._findIndexOfNode=function(r){for(var o=0,s=this._members.length;o<s;o++)if(this._members[o].node===r)return o;return-1},n.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)},n.prototype.focusNodeAtIndex=function(r){var o=this._members[r];return o&&i(o.node),this},n.prototype.addMember=function(r,o){var s=r.node||r,a=r.text||s.getAttribute("data-focus-group-text")||s.textContent||"";this._checkNode(s);var p=a.replace(/[\W_]/g,"").toLowerCase(),g={node:s,text:p};return o!=null?this._members.splice(o,0,g):this._members.push(g),this},n.prototype.removeMember=function(r){var o=typeof r=="number"?r:this._findIndexOfNode(r);if(o!==-1)return this._members.splice(o,1),this},n.prototype.clearMembers=function(){return this._members=[],this},n.prototype.setMembers=function(r){this.clearMembers();for(var o=0,s=r.length;o<s;o++)this.addMember(r[o]);return this},n.prototype.getMembers=function(){return this._members},n.prototype._checkNode=function(r){if(!r.nodeType||r.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return r};function e(r,o){for(var s in r)if(o[s]!==void 0&&r[s]!==o[s])return!1;return!0}function t(r){return r>=65&&r<=90}function i(r){!r||!r.focus||(r.focus(),r.tagName.toLowerCase()==="input"&&r.select())}return LM=function(o){return new n(o)},LM}var FM,sR;function Vfe(){if(sR)return FM;sR=1;var n=Hfe(),e=$W(),t={wrap:!0,stringSearch:!0},i={init:function(p){this.updateOptions(p),this.handleBlur=r.bind(this),this.handleSelection=o.bind(this),this.handleMenuKey=s.bind(this),this.focusGroup=n(t),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(p){var g=this.options;this.options=p||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&e.registerManager(this.options.id,this),g&&g.id&&g.id!==this.options.id&&e.unregisterManager(this.options.id,this)},focusItem:function(p){this.focusGroup.focusNodeAtIndex(p)},addItem:function(p){this.focusGroup.addMember(p)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(p){this.focusGroup._handleUnboundKey(p)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(p){if(!this.isOpen&&(p=p||{},p.focusMenu===void 0&&(p.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),p.focusMenu)){var g=this;this.moveFocusTimer=setTimeout(function(){g.focusItem(0)},0)}},closeMenu:function(p){this.isOpen&&(p=p||{},this.isOpen=!1,this.update(),p.focusButton&&this.button.ref.current.focus())},toggleMenu:function(p,g){p=p||{},g=g||{},this.isOpen?this.closeMenu(p):this.openMenu(g)}};function r(){var a=this;a.blurTimer=setTimeout(function(){if(a.button){var p=a.button.ref.current;if(p){var g=p.ownerDocument.activeElement;if(!(p&&g===p)){var _=a.menu.ref.current;if(_===g){a.focusItem(0);return}_&&_.contains(g)||a.isOpen&&a.closeMenu({focusButton:!1})}}}},0)}function o(a,p){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(a,p)}function s(a){if(this.isOpen)switch(a.key){case"Escape":a.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":a.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":a.preventDefault(),this.focusGroup.moveFocusToLast();break}}return FM=function(a){var p=Object.create(i);return p.init(a),p},FM}var zM,lR;function M4(){if(lR)return zM;lR=1;var n=Rl(),e=n.createContext();return zM=e,zM}var jM,uR;function w4(){if(uR)return jM;uR=1;var n=sg();return jM={refType:n.oneOfType([n.func,n.shape({current:n.elementType})])},jM}var NM,AR;function S4(){return AR||(AR=1,NM=function(n,e,t){t=t||{};for(var i in e)e.hasOwnProperty(i)&&(t[i]||(n[i]=e[i]))}),NM}var GM,cR;function $fe(){if(cR)return GM;cR=1;function n(B,z){if(!(B instanceof z))throw new TypeError("Cannot call a class as a function")}function e(B,z){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:B}function t(B,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);B.prototype=Object.create(z&&z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(B,z):B.__proto__=z)}var i=Rl(),r=sg(),o=Vfe(),s=M4(),a=w4(),p=a.refType,g=S4(),_={children:r.node.isRequired,forwardedRef:p,onMenuToggle:r.func,onSelection:r.func,closeOnSelection:r.bool,closeOnBlur:r.bool,tag:r.string},E=function(z){return{onMenuToggle:z.onMenuToggle,onSelection:z.onSelection,closeOnSelection:z.closeOnSelection,closeOnBlur:z.closeOnBlur,id:z.id}},O=function(B){t(z,B);function z(N){n(this,z);var Q=e(this,B.call(this,N));return Q.manager=o(E(N)),Q}return z.prototype.componentDidUpdate=function(){this.manager.updateOptions(E(this.props))},z.prototype.render=function(){var Q={};return g(Q,this.props,_),i.createElement(s.Provider,{value:this.manager},i.createElement(this.props.tag,Q,this.props.children))},z}(i.Component);return O.propTypes=_,O.defaultProps={tag:"div"},GM=i.forwardRef(function(B,z){var N={forwardedRef:z};return g(N,B,{children:_.children,forwardedRef:_.forwardedRef}),g(N,{forwardedRef:z}),i.createElement(O,N,B.children)}),GM}var WM,hR;function Zfe(){if(hR)return WM;hR=1;function n(O,B){if(!(O instanceof B))throw new TypeError("Cannot call a class as a function")}function e(O,B){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:O}function t(O,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);O.prototype=Object.create(B&&B.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(O,B):O.__proto__=B)}var i=Rl(),r=sg(),o=M4(),s=w4(),a=s.refType,p=S4(),g={ambManager:r.object.isRequired,children:r.node.isRequired,disabled:r.bool,forwardedRef:a,tag:r.string},_=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},E=function(O){t(B,O);function B(){var z,N,Q;n(this,B);for(var $=arguments.length,X=Array($),re=0;re<$;re++)X[re]=arguments[re];return Q=(z=(N=e(this,O.call.apply(O,[this].concat(X))),N),N.ref=i.createRef(),N.handleKeyDown=function(ne){if(!N.props.disabled){var V=N.props.ambManager;switch(ne.key){case"ArrowDown":ne.preventDefault(),V.isOpen?V.focusItem(0):V.openMenu();break;case"Enter":case" ":ne.preventDefault(),V.toggleMenu();break;case"Escape":V.handleMenuKey(ne);break;default:V.handleButtonNonArrowKey(ne)}}},N.handleClick=function(){N.props.disabled||N.props.ambManager.toggleMenu({},{focusMenu:!1})},N.setRef=function(ne){N.ref.current=ne,typeof N.props.forwardedRef=="function"?N.props.forwardedRef(ne):N.props.forwardedRef&&(N.props.forwardedRef.current=ne)},z),e(N,Q)}return B.prototype.componentDidMount=function(){this.props.ambManager.button=this},B.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},B.prototype.render=function(){var N=this.props,Q=this.props.ambManager,$={role:"button",tabIndex:N.disabled?"":"0","aria-haspopup":!0,"aria-expanded":Q.isOpen,"aria-disabled":N.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},X={};return p(X,g),_().indexOf(N.tag)>=0&&delete X.disabled,Q.options.closeOnBlur&&($.onBlur=Q.handleBlur),p($,N,X),p($,{ref:this.setRef}),i.createElement(N.tag,$,N.children)},B}(i.Component);return E.propTypes=g,E.defaultProps={tag:"span"},WM=i.forwardRef(function(O,B){return i.createElement(o.Consumer,null,function(z){var N={ambManager:z,forwardedRef:B};return p(N,O,{ambManager:g.ambManager,children:g.children,forwardedRef:g.forwardedRef}),i.createElement(E,N,O.children)})}),WM}var QM,dR;function Xfe(){return dR||(dR=1,QM=function(e,t,i){var r=0,o=0,s=!1,a=!1,p=!1;e.addEventListener("click",g,i),e.addEventListener("touchstart",_,i);function g(Q){p||t(Q)}function _(Q){p=!0,!s&&(s=!0,e.addEventListener("touchmove",E,i),e.addEventListener("touchend",O,i),e.addEventListener("touchcancel",B,i),a=!1,r=Q.touches[0].clientX,o=Q.touches[0].clientY)}function E(Q){a||Math.abs(Q.touches[0].clientX-r)<=10&&Math.abs(Q.touches[0].clientY-o)<=10||(a=!0)}function O(Q){s=!1,z(),a||t(Q)}function B(){s=!1,a=!1,r=0,o=0}function z(){e.removeEventListener("touchmove",E,i),e.removeEventListener("touchend",O,i),e.removeEventListener("touchcancel",B,i)}function N(){e.removeEventListener("click",g,i),e.removeEventListener("touchstart",_,i),z()}return{remove:N}}),QM}var YM,fR;function Jfe(){if(fR)return YM;fR=1;function n(O,B){if(!(O instanceof B))throw new TypeError("Cannot call a class as a function")}function e(O,B){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:O}function t(O,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);O.prototype=Object.create(B&&B.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(O,B):O.__proto__=B)}var i=Rl(),r=sg(),o=Xfe(),s=M4(),a=w4(),p=a.refType,g=S4(),_={ambManager:r.object.isRequired,children:r.oneOfType([r.func,r.node]).isRequired,forwardedRef:p,tag:r.string},E=function(O){t(B,O);function B(){var z,N,Q;n(this,B);for(var $=arguments.length,X=Array($),re=0;re<$;re++)X[re]=arguments[re];return Q=(z=(N=e(this,O.call.apply(O,[this].concat(X))),N),N.ref=i.createRef(),N.addTapListener=function(){var ne=N.ref.current;if(ne){var V=ne.ownerDocument;V&&(N.tapListener=o(V.documentElement,N.handleTap))}},N.handleTap=function(ne){N.ref.current.contains(ne.target)||N.props.ambManager.button.ref.current.contains(ne.target)||N.props.ambManager.closeMenu()},N.setRef=function(ne){N.ref.current=ne,typeof N.props.forwardedRef=="function"?N.props.forwardedRef(ne):N.props.forwardedRef&&(N.props.forwardedRef.current=ne)},z),e(N,Q)}return B.prototype.componentDidMount=function(){this.props.ambManager.menu=this},B.prototype.componentDidUpdate=function(){var N=this.props.ambManager;N.options.closeOnBlur&&(N.isOpen&&!this.tapListener?this.addTapListener():!N.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),N.isOpen||N.clearItems())},B.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},B.prototype.render=function(){var N=this.props,Q=this.props.ambManager,$=function(){return typeof N.children=="function"?N.children({isOpen:Q.isOpen}):Q.isOpen?N.children:!1}();if(!$)return!1;var X={onKeyDown:Q.handleMenuKey,role:"menu",tabIndex:-1};return Q.options.closeOnBlur&&(X.onBlur=Q.handleBlur),g(X,N,_),g(X,{ref:this.setRef}),i.createElement(N.tag,X,$)},B}(i.Component);return E.propTypes=_,E.defaultProps={tag:"div"},YM=i.forwardRef(function(O,B){return i.createElement(s.Consumer,null,function(z){var N={ambManager:z,forwardedRef:B};return g(N,O,{ambManager:_.ambManager,children:_.children,forwardedRef:_.forwardedRef}),i.createElement(E,N,O.children)})}),YM}var qM,pR;function epe(){if(pR)return qM;pR=1;function n(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function e(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function t(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var i=Rl(),r=sg(),o=M4(),s=w4(),a=s.refType,p=S4(),g={ambManager:r.object.isRequired,children:r.node.isRequired,forwardedRef:a,tag:r.string,text:r.string,value:r.any},_=function(E){t(O,E);function O(){var B,z,N;n(this,O);for(var Q=arguments.length,$=Array(Q),X=0;X<Q;X++)$[X]=arguments[X];return N=(B=(z=e(this,E.call.apply(E,[this].concat($))),z),z.ref=i.createRef(),z.handleKeyDown=function(re){re.key!=="Enter"&&re.key!==" "||z.props.tag==="a"&&z.props.href||(re.preventDefault(),z.selectItem(re))},z.selectItem=function(re){var ne=typeof z.props.value<"u"?z.props.value:z.props.children;z.props.ambManager.handleSelection(ne,re)},z.setRef=function(re){z.ref.current=re,typeof z.props.forwardedRef=="function"?z.props.forwardedRef(re):z.props.forwardedRef&&(z.props.forwardedRef.current=re)},B),e(z,N)}return O.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},O.prototype.render=function(){var z={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return p(z,this.props,g),i.createElement(this.props.tag,z,this.props.children)},O}(i.Component);return _.propTypes=g,_.defaultProps={tag:"div"},qM=i.forwardRef(function(E,O){return i.createElement(o.Consumer,null,function(B){var z={ambManager:B,forwardedRef:O};return p(z,E,{ambManager:g.ambManager,children:g.children,forwardedRef:g.forwardedRef}),i.createElement(_,z,E.children)})}),qM}var HM,mR;function tpe(){if(mR)return HM;mR=1;var n=$W();return HM={Wrapper:$fe(),Button:Zfe(),Menu:Jfe(),MenuItem:epe(),openMenu:n.openMenu,closeMenu:n.closeMenu},HM}var Jx=tpe();function gR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function UO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(t),!0).forEach(function(i){lu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function E4(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function B4(n,e,t){return e&&yR(n.prototype,e),t&&yR(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function lu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C0(){return C0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},C0.apply(this,arguments)}function oI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&KO(n,e)}function m2(n){return m2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m2(n)}function KO(n,e){return KO=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},KO(n,e)}function npe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ipe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function O4(n,e){if(n==null)return{};var t=ipe(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Am(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rpe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Am(n)}function aI(n){var e=npe();return function(){var i=m2(n),r;if(e){var o=m2(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return rpe(this,r)}}function ope(n,e){return lpe(n)||Ape(n,e)||ZW(n,e)||hpe()}function ape(n){return spe(n)||upe(n)||ZW(n)||cpe()}function spe(n){if(Array.isArray(n))return LO(n)}function lpe(n){if(Array.isArray(n))return n}function upe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ape(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,s,a;try{for(t=t.call(n);!(r=(s=t.next()).done)&&(i.push(s.value),!(e&&i.length===e));r=!0);}catch(p){o=!0,a=p}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw a}}return i}}function ZW(n,e){if(n){if(typeof n=="string")return LO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LO(n,e)}}function LO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dpe=B4(function n(e){var t=this,i=e.expanded,r=i===void 0?[]:i,o=e.allowMultipleExpanded,s=o===void 0?!1:o,a=e.allowZeroExpanded,p=a===void 0?!1:a;E4(this,n),lu(this,"expanded",void 0),lu(this,"allowMultipleExpanded",void 0),lu(this,"allowZeroExpanded",void 0),lu(this,"toggleExpanded",function(g){if(t.isItemDisabled(g))return t;var _=t.isItemExpanded(g);return _?t.augment({expanded:t.expanded.filter(function(E){return E!==g})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(ape(t.expanded),[g]):[g]})}),lu(this,"isItemDisabled",function(g){var _=t.isItemExpanded(g),E=t.expanded.length===1;return!!(_&&!t.allowZeroExpanded&&E)}),lu(this,"isItemExpanded",function(g){return t.expanded.indexOf(g)!==-1}),lu(this,"getPanelAttributes",function(g,_){var E=_??t.isItemExpanded(g);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!E:void 0,"aria-labelledby":t.getButtonId(g),id:t.getPanelId(g),hidden:E?void 0:!0}}),lu(this,"getHeadingAttributes",function(){return{role:"heading"}}),lu(this,"getButtonAttributes",function(g,_){var E=_??t.isItemExpanded(g),O=t.isItemDisabled(g);return{id:t.getButtonId(g),"aria-disabled":O,"aria-expanded":E,"aria-controls":t.getPanelId(g),role:"button",tabIndex:0}}),lu(this,"getPanelId",function(g){return"accordion__panel-".concat(g)}),lu(this,"getButtonId",function(g){return"accordion__heading-".concat(g)}),lu(this,"augment",function(g){return new n(UO({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},g))}),this.expanded=r,this.allowMultipleExpanded=s,this.allowZeroExpanded=p}),XW=Gt.createContext(null),JW=function(n){oI(t,n);var e=aI(t);function t(){var i;E4(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),lu(Am(i),"state",new dpe({expanded:i.props.preExpanded,allowMultipleExpanded:i.props.allowMultipleExpanded,allowZeroExpanded:i.props.allowZeroExpanded})),lu(Am(i),"toggleExpanded",function(a){i.setState(function(p){return p.toggleExpanded(a)},function(){i.props.onChange&&i.props.onChange(i.state.expanded)})}),lu(Am(i),"isItemDisabled",function(a){return i.state.isItemDisabled(a)}),lu(Am(i),"isItemExpanded",function(a){return i.state.isItemExpanded(a)}),lu(Am(i),"getPanelAttributes",function(a,p){return i.state.getPanelAttributes(a,p)}),lu(Am(i),"getHeadingAttributes",function(){return i.state.getHeadingAttributes()}),lu(Am(i),"getButtonAttributes",function(a,p){return i.state.getButtonAttributes(a,p)}),i}return B4(t,[{key:"render",value:function(){var r=this.state,o=r.allowZeroExpanded,s=r.allowMultipleExpanded;return Gt.createElement(XW.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(Gt.PureComponent);lu(JW,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var eQ=function(n){oI(t,n);var e=aI(t);function t(){var i;E4(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),lu(Am(i),"renderChildren",function(a){return a?i.props.children(a):null}),i}return B4(t,[{key:"render",value:function(){return Gt.createElement(XW.Consumer,null,this.renderChildren)}}]),t}(Gt.PureComponent),fpe=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],ppe=function(e){var t=e.className,i=t===void 0?"accordion":t,r=e.allowMultipleExpanded,o=e.allowZeroExpanded,s=e.onChange,a=e.preExpanded,p=O4(e,fpe);return Gt.createElement(JW,{preExpanded:a,allowMultipleExpanded:r,allowZeroExpanded:o,onChange:s},Gt.createElement("div",C0({"data-accordion-component":"Accordion",className:i},p)))},FO;(function(n){n.Accordion="Accordion",n.AccordionItem="AccordionItem",n.AccordionItemButton="AccordionItemButton",n.AccordionItemHeading="AccordionItemHeading",n.AccordionItemPanel="AccordionItemPanel"})(FO||(FO={}));var tQ=FO,VM=0;function mpe(){var n=VM;return VM=VM+1,"raa-".concat(n)}var gpe=Gt.useId||mpe,ype=/[\u0009\u000a\u000c\u000d\u0020]/g;function xb(n){return n===""||ype.test(n)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(n,'", ASCII whitespaces are forbidden')),!1):!0}var nQ=Gt.createContext(null),vpe=function(e){var t=e.children,i=e.uuid,r=e.accordionContext,o=e.dangerouslySetExpanded,s=function(){r.toggleExpanded(i)},a=function(g){var _=o??g.isItemExpanded(i),E=g.isItemDisabled(i),O=g.getPanelAttributes(i,o),B=g.getHeadingAttributes(i),z=g.getButtonAttributes(i,o);return Gt.createElement(nQ.Provider,{value:{uuid:i,expanded:_,disabled:E,toggleExpanded:s,panelAttributes:O,headingAttributes:B,buttonAttributes:z}},t)};return Gt.createElement(eQ,null,a)},Cpe=function(e){return Gt.createElement(eQ,null,function(t){return Gt.createElement(vpe,C0({},e,{accordionContext:t}))})},I4=function(e){var t=e.children,i=function(o){return o?t(o):null};return Gt.createElement(nQ.Consumer,null,i)},_pe=["uuid","dangerouslySetExpanded","className","activeClassName"],iQ=function(e){var t=e.uuid,i=e.dangerouslySetExpanded,r=e.className,o=r===void 0?"accordion__item":r,s=e.activeClassName,a=O4(e,_pe),p=Gt.useState(gpe()),g=ope(p,1),_=g[0],E=t??_,O=function(z){var N=z.expanded,Q=N&&s?s:o;return Gt.createElement("div",C0({"data-accordion-component":"AccordionItem",className:Q},a))};return xb(E.toString()),a.id&&xb(a.id),Gt.createElement(Cpe,{uuid:E,dangerouslySetExpanded:i},Gt.createElement(I4,null,O))};iQ.displayName=tQ.AccordionItem;function rQ(n){return n&&(n.matches('[data-accordion-component="Accordion"]')?n:rQ(n.parentElement))}function T4(n){var e=rQ(n);return e&&Array.from(e.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function bpe(n){var e=T4(n)||[],t=e[0];t&&t.focus()}function xpe(n){var e=T4(n)||[],t=e[e.length-1];t&&t.focus()}function Mpe(n){var e=T4(n)||[],t=e.indexOf(n);if(t!==-1){var i=e[t+1];i&&i.focus()}}function wpe(n){var e=T4(n)||[],t=e.indexOf(n);if(t!==-1){var i=e[t-1];i&&i.focus()}}var Q0={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},Spe=["toggleExpanded","className"],Epe=function(e){var t=e.toggleExpanded,i=e.className,r=i===void 0?"accordion__button":i,o=O4(e,Spe),s=function(p){var g=p.key;if((g===Q0.ENTER||g===Q0.SPACE||g===Q0.SPACE_DEPRECATED)&&(p.preventDefault(),t()),p.target instanceof HTMLElement)switch(g){case Q0.HOME:{p.preventDefault(),bpe(p.target);break}case Q0.END:{p.preventDefault(),xpe(p.target);break}case Q0.LEFT:case Q0.UP:{p.preventDefault(),wpe(p.target);break}case Q0.RIGHT:case Q0.DOWN:{p.preventDefault(),Mpe(p.target);break}}};return o.id&&xb(o.id),Gt.createElement("div",C0({className:r},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},Bpe=function(e){return Gt.createElement(I4,null,function(t){var i=t.toggleExpanded,r=t.buttonAttributes;return Gt.createElement(Epe,C0({toggleExpanded:i},e,r))})},Ope={className:"accordion__heading","aria-level":3},Ipe=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,oQ=function(n){oI(t,n);var e=aI(t);function t(){var i;E4(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),lu(Am(i),"ref",void 0),lu(Am(i),"setRef",function(a){i.ref=a}),i}return B4(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return Gt.createElement("div",C0({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(r){if(r===void 0)throw new Error("ref is undefined");if(!(r.childElementCount===1&&r.firstElementChild&&r.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(Ipe)}}]),t}(Gt.PureComponent);lu(oQ,"defaultProps",Ope);var aQ=function(e){return Gt.createElement(I4,null,function(t){var i=t.headingAttributes;return e.id&&xb(e.id),Gt.createElement(oQ,C0({},e,i))})};aQ.displayName=tQ.AccordionItemHeading;var Tpe=["className","region","id"],kpe=function(e){var t=e.className,i=t===void 0?"accordion__panel":t,r=e.region,o=e.id,s=O4(e,Tpe),a=function(g){var _=g.panelAttributes;o&&xb(o);var E=UO(UO({},_),{},{"aria-labelledby":r?_["aria-labelledby"]:void 0});return Gt.createElement("div",C0({"data-accordion-component":"AccordionItemPanel",className:i},s,E,{role:r?"region":void 0}))};return Gt.createElement(I4,null,a)},y3={exports:{}},Dpe=y3.exports,vR;function k4(){return vR||(vR=1,function(n,e){(function(t,i){n.exports=i()})(Dpe,function(){var t=navigator.userAgent,i=navigator.platform,r=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),p=o||s||a,g=p&&(o?document.documentMode||6:+(a||s)[1]),_=!a&&/WebKit\//.test(t),E=_&&/Qt\/\d+\.\d+/.test(t),O=!a&&/Chrome\/(\d+)/.exec(t),B=O&&+O[1],z=/Opera\//.test(t),N=/Apple Computer/.test(navigator.vendor),Q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),$=/PhantomJS/.test(t),X=N&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),re=/Android/.test(t),ne=X||re||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),V=X||/Mac/.test(i),J=/\bCrOS\b/.test(t),W=/win/i.test(i),he=z&&t.match(/Version\/(\d*\.\d*)/);he&&(he=Number(he[1])),he&&he>=15&&(z=!1,_=!0);var ge=V&&(E||z&&(he==null||he<12.11)),ve=r||p&&g>=9;function _e(d){return new RegExp("(^|\\s)"+d+"(?:$|\\s)\\s*")}var Me=function(d,C){var T=d.className,I=_e(C).exec(T);if(I){var F=T.slice(I.index+I[0].length);d.className=T.slice(0,I.index)+(F?I[1]+F:"")}};function be(d){for(var C=d.childNodes.length;C>0;--C)d.removeChild(d.firstChild);return d}function ze(d,C){return be(d).appendChild(C)}function Ce(d,C,T,I){var F=document.createElement(d);if(T&&(F.className=T),I&&(F.style.cssText=I),typeof C=="string")F.appendChild(document.createTextNode(C));else if(C)for(var ee=0;ee<C.length;++ee)F.appendChild(C[ee]);return F}function Fe(d,C,T,I){var F=Ce(d,C,T,I);return F.setAttribute("role","presentation"),F}var ot;document.createRange?ot=function(d,C,T,I){var F=document.createRange();return F.setEnd(I||d,T),F.setStart(d,C),F}:ot=function(d,C,T){var I=document.body.createTextRange();try{I.moveToElementText(d.parentNode)}catch{return I}return I.collapse(!0),I.moveEnd("character",T),I.moveStart("character",C),I};function mt(d,C){if(C.nodeType==3&&(C=C.parentNode),d.contains)return d.contains(C);do if(C.nodeType==11&&(C=C.host),C==d)return!0;while(C=C.parentNode)}function it(d){var C=d.ownerDocument||d,T;try{T=d.activeElement}catch{T=C.body||null}for(;T&&T.shadowRoot&&T.shadowRoot.activeElement;)T=T.shadowRoot.activeElement;return T}function ue(d,C){var T=d.className;_e(C).test(T)||(d.className+=(T?" ":"")+C)}function We(d,C){for(var T=d.split(" "),I=0;I<T.length;I++)T[I]&&!_e(T[I]).test(C)&&(C+=" "+T[I]);return C}var tt=function(d){d.select()};X?tt=function(d){d.selectionStart=0,d.selectionEnd=d.value.length}:p&&(tt=function(d){try{d.select()}catch{}});function ke(d){return d.display.wrapper.ownerDocument}function Et(d){return gt(d.display.wrapper)}function gt(d){return d.getRootNode?d.getRootNode():d.ownerDocument}function xt(d){return ke(d).defaultView}function Kt(d){var C=Array.prototype.slice.call(arguments,1);return function(){return d.apply(null,C)}}function je(d,C,T){C||(C={});for(var I in d)d.hasOwnProperty(I)&&(T!==!1||!C.hasOwnProperty(I))&&(C[I]=d[I]);return C}function Ke(d,C,T,I,F){C==null&&(C=d.search(/[^\s\u00a0]/),C==-1&&(C=d.length));for(var ee=I||0,pe=F||0;;){var Se=d.indexOf("	",ee);if(Se<0||Se>=C)return pe+(C-ee);pe+=Se-ee,pe+=T-pe%T,ee=Se+1}}var Ue=function(){this.id=null,this.f=null,this.time=0,this.handler=Kt(this.onTimeout,this)};Ue.prototype.onTimeout=function(d){d.id=0,d.time<=+new Date?d.f():setTimeout(d.handler,d.time-+new Date)},Ue.prototype.set=function(d,C){this.f=C;var T=+new Date+d;(!this.id||T<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,d),this.time=T)};function Ve(d,C){for(var T=0;T<d.length;++T)if(d[T]==C)return T;return-1}var bt=50,vt={toString:function(){return"CodeMirror.Pass"}},It={scroll:!1},Yt={origin:"*mouse"},Ut={origin:"+move"};function on(d,C,T){for(var I=0,F=0;;){var ee=d.indexOf("	",I);ee==-1&&(ee=d.length);var pe=ee-I;if(ee==d.length||F+pe>=C)return I+Math.min(pe,C-F);if(F+=ee-I,F+=T-F%T,I=ee+1,F>=C)return I}}var Hn=[""];function Wt(d){for(;Hn.length<=d;)Hn.push(Gn(Hn)+" ");return Hn[d]}function Gn(d){return d[d.length-1]}function On(d,C){for(var T=[],I=0;I<d.length;I++)T[I]=C(d[I],I);return T}function Bn(d,C,T){for(var I=0,F=T(C);I<d.length&&T(d[I])<=F;)I++;d.splice(I,0,C)}function Tn(){}function Oi(d,C){var T;return Object.create?T=Object.create(d):(Tn.prototype=d,T=new Tn),C&&je(C,T),T}var Vn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Lt(d){return/\w/.test(d)||d>""&&(d.toUpperCase()!=d.toLowerCase()||Vn.test(d))}function De(d,C){return C?C.source.indexOf("\\w")>-1&&Lt(d)?!0:C.test(d):Lt(d)}function de(d){for(var C in d)if(d.hasOwnProperty(C)&&d[C])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(d){return d.charCodeAt(0)>=768&&oe.test(d)}function me(d,C,T){for(;(T<0?C>0:C<d.length)&&le(d.charAt(C));)C+=T;return C}function Ie(d,C,T){for(var I=C>T?-1:1;;){if(C==T)return C;var F=(C+T)/2,ee=I<0?Math.ceil(F):Math.floor(F);if(ee==C)return d(ee)?C:T;d(ee)?T=ee:C=ee+I}}function Qe(d,C,T,I){if(!d)return I(C,T,"ltr",0);for(var F=!1,ee=0;ee<d.length;++ee){var pe=d[ee];(pe.from<T&&pe.to>C||C==T&&pe.to==C)&&(I(Math.max(pe.from,C),Math.min(pe.to,T),pe.level==1?"rtl":"ltr",ee),F=!0)}F||I(C,T,"ltr")}var At=null;function He(d,C,T){var I;At=null;for(var F=0;F<d.length;++F){var ee=d[F];if(ee.from<C&&ee.to>C)return F;ee.to==C&&(ee.from!=ee.to&&T=="before"?I=F:At=F),ee.from==C&&(ee.from!=ee.to&&T!="before"?I=F:At=F)}return I??At}var Re=function(){var d="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",C="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function T(Ge){return Ge<=247?d.charAt(Ge):1424<=Ge&&Ge<=1524?"R":1536<=Ge&&Ge<=1785?C.charAt(Ge-1536):1774<=Ge&&Ge<=2220?"r":8192<=Ge&&Ge<=8203?"w":Ge==8204?"b":"L"}var I=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,F=/[stwN]/,ee=/[LRr]/,pe=/[Lb1n]/,Se=/[1n]/;function Pe(Ge,_t,Tt){this.level=Ge,this.from=_t,this.to=Tt}return function(Ge,_t){var Tt=_t=="ltr"?"L":"R";if(Ge.length==0||_t=="ltr"&&!I.test(Ge))return!1;for(var en=Ge.length,Vt=[],bn=0;bn<en;++bn)Vt.push(T(Ge.charCodeAt(bn)));for(var Pn=0,ai=Tt;Pn<en;++Pn){var gi=Vt[Pn];gi=="m"?Vt[Pn]=ai:ai=gi}for(var _i=0,yi=Tt;_i<en;++_i){var Pi=Vt[_i];Pi=="1"&&yi=="r"?Vt[_i]="n":ee.test(Pi)&&(yi=Pi,Pi=="r"&&(Vt[_i]="R"))}for(var ur=1,Vi=Vt[0];ur<en-1;++ur){var to=Vt[ur];to=="+"&&Vi=="1"&&Vt[ur+1]=="1"?Vt[ur]="1":to==","&&Vi==Vt[ur+1]&&(Vi=="1"||Vi=="n")&&(Vt[ur]=Vi),Vi=to}for(var Er=0;Er<en;++Er){var As=Vt[Er];if(As==",")Vt[Er]="N";else if(As=="%"){var ma=void 0;for(ma=Er+1;ma<en&&Vt[ma]=="%";++ma);for(var Vr=Er&&Vt[Er-1]=="!"||ma<en&&Vt[ma]=="1"?"1":"N",Ms=Er;Ms<ma;++Ms)Vt[Ms]=Vr;Er=ma-1}}for(var ws=0,ga=Tt;ws<en;++ws){var nu=Vt[ws];ga=="L"&&nu=="1"?Vt[ws]="L":ee.test(nu)&&(ga=nu)}for(var Ps=0;Ps<en;++Ps)if(F.test(Vt[Ps])){var Hs=void 0;for(Hs=Ps+1;Hs<en&&F.test(Vt[Hs]);++Hs);for(var kr=(Ps?Vt[Ps-1]:Tt)=="L",ka=(Hs<en?Vt[Hs]:Tt)=="L",iu=kr==ka?kr?"L":"R":Tt,xc=Ps;xc<Hs;++xc)Vt[xc]=iu;Ps=Hs-1}for(var bu=[],dh,gs=0;gs<en;)if(pe.test(Vt[gs])){var kA=gs;for(++gs;gs<en&&pe.test(Vt[gs]);++gs);bu.push(new Pe(0,kA,gs))}else{var Ol=gs,Mc=bu.length,hl=_t=="rtl"?1:0;for(++gs;gs<en&&Vt[gs]!="L";++gs);for(var xu=Ol;xu<gs;)if(Se.test(Vt[xu])){Ol<xu&&(bu.splice(Mc,0,new Pe(1,Ol,xu)),Mc+=hl);var ic=xu;for(++xu;xu<gs&&Se.test(Vt[xu]);++xu);bu.splice(Mc,0,new Pe(2,ic,xu)),Mc+=hl,Ol=xu}else++xu;Ol<gs&&bu.splice(Mc,0,new Pe(1,Ol,gs))}return _t=="ltr"&&(bu[0].level==1&&(dh=Ge.match(/^\s+/))&&(bu[0].from=dh[0].length,bu.unshift(new Pe(0,0,dh[0].length))),Gn(bu).level==1&&(dh=Ge.match(/\s+$/))&&(Gn(bu).to-=dh[0].length,bu.push(new Pe(0,en-dh[0].length,en)))),_t=="rtl"?bu.reverse():bu}}();function Ze(d,C){var T=d.order;return T==null&&(T=d.order=Re(d.text,C)),T}var y=[],yt=function(d,C,T){if(d.addEventListener)d.addEventListener(C,T,!1);else if(d.attachEvent)d.attachEvent("on"+C,T);else{var I=d._handlers||(d._handlers={});I[C]=(I[C]||y).concat(T)}};function dt(d,C){return d._handlers&&d._handlers[C]||y}function kt(d,C,T){if(d.removeEventListener)d.removeEventListener(C,T,!1);else if(d.detachEvent)d.detachEvent("on"+C,T);else{var I=d._handlers,F=I&&I[C];if(F){var ee=Ve(F,T);ee>-1&&(I[C]=F.slice(0,ee).concat(F.slice(ee+1)))}}}function rt(d,C){var T=dt(d,C);if(T.length)for(var I=Array.prototype.slice.call(arguments,2),F=0;F<T.length;++F)T[F].apply(null,I)}function tn(d,C,T){return typeof C=="string"&&(C={type:C,preventDefault:function(){this.defaultPrevented=!0}}),rt(d,T||C.type,d,C),ir(C)||C.codemirrorIgnore}function Rn(d){var C=d._handlers&&d._handlers.cursorActivity;if(C)for(var T=d.curOp.cursorActivityHandlers||(d.curOp.cursorActivityHandlers=[]),I=0;I<C.length;++I)Ve(T,C[I])==-1&&T.push(C[I])}function wn(d,C){return dt(d,C).length>0}function ri(d){d.prototype.on=function(C,T){yt(this,C,T)},d.prototype.off=function(C,T){kt(this,C,T)}}function Qn(d){d.preventDefault?d.preventDefault():d.returnValue=!1}function $i(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function ir(d){return d.defaultPrevented!=null?d.defaultPrevented:d.returnValue==!1}function Ii(d){Qn(d),$i(d)}function di(d){return d.target||d.srcElement}function ti(d){var C=d.which;return C==null&&(d.button&1?C=1:d.button&2?C=3:d.button&4&&(C=2)),V&&d.ctrlKey&&C==1&&(C=3),C}var qi=function(){if(p&&g<9)return!1;var d=Ce("div");return"draggable"in d||"dragDrop"in d}(),Sn;function co(d){if(Sn==null){var C=Ce("span","​");ze(d,Ce("span",[C,document.createTextNode("x")])),d.firstChild.offsetHeight!=0&&(Sn=C.offsetWidth<=1&&C.offsetHeight>2&&!(p&&g<8))}var T=Sn?Ce("span","​"):Ce("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return T.setAttribute("cm-text",""),T}var Zi;function _a(d){if(Zi!=null)return Zi;var C=ze(d,document.createTextNode("AخA")),T=ot(C,0,1).getBoundingClientRect(),I=ot(C,1,2).getBoundingClientRect();return be(d),!T||T.left==T.right?!1:Zi=I.right-T.right<3}var Ro=`

b`.split(/\n/).length!=3?function(d){for(var C=0,T=[],I=d.length;C<=I;){var F=d.indexOf(`
`,C);F==-1&&(F=d.length);var ee=d.slice(C,d.charAt(F-1)=="\r"?F-1:F),pe=ee.indexOf("\r");pe!=-1?(T.push(ee.slice(0,pe)),C+=pe+1):(T.push(ee),C=F+1)}return T}:function(d){return d.split(/\r\n?|\n/)},Jn=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch{return!1}}:function(d){var C;try{C=d.ownerDocument.selection.createRange()}catch{}return!C||C.parentElement()!=d?!1:C.compareEndPoints("StartToEnd",C)!=0},cr=function(){var d=Ce("div");return"oncopy"in d?!0:(d.setAttribute("oncopy","return;"),typeof d.oncopy=="function")}(),Ni=null;function br(d){if(Ni!=null)return Ni;var C=ze(d,Ce("span","x")),T=C.getBoundingClientRect(),I=ot(C,0,1).getBoundingClientRect();return Ni=Math.abs(T.left-I.left)>1}var Wa={},Rr={};function Gi(d,C){arguments.length>2&&(C.dependencies=Array.prototype.slice.call(arguments,2)),Wa[d]=C}function bl(d,C){Rr[d]=C}function La(d){if(typeof d=="string"&&Rr.hasOwnProperty(d))d=Rr[d];else if(d&&typeof d.name=="string"&&Rr.hasOwnProperty(d.name)){var C=Rr[d.name];typeof C=="string"&&(C={name:C}),d=Oi(C,d),d.name=C.name}else{if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d))return La("application/xml");if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(d))return La("application/json")}return typeof d=="string"?{name:d}:d||{name:"null"}}function Bo(d,C){C=La(C);var T=Wa[C.name];if(!T)return Bo(d,"text/plain");var I=T(d,C);if(rs.hasOwnProperty(C.name)){var F=rs[C.name];for(var ee in F)F.hasOwnProperty(ee)&&(I.hasOwnProperty(ee)&&(I["_"+ee]=I[ee]),I[ee]=F[ee])}if(I.name=C.name,C.helperType&&(I.helperType=C.helperType),C.modeProps)for(var pe in C.modeProps)I[pe]=C.modeProps[pe];return I}var rs={};function Pl(d,C){var T=rs.hasOwnProperty(d)?rs[d]:rs[d]={};je(C,T)}function ho(d,C){if(C===!0)return C;if(d.copyState)return d.copyState(C);var T={};for(var I in C){var F=C[I];F instanceof Array&&(F=F.concat([])),T[I]=F}return T}function Xu(d,C){for(var T;d.innerMode&&(T=d.innerMode(C),!(!T||T.mode==d));)C=T.state,d=T.mode;return T||{mode:d,state:C}}function Fa(d,C,T){return d.startState?d.startState(C,T):!0}var Xi=function(d,C,T){this.pos=this.start=0,this.string=d,this.tabSize=C||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=T};Xi.prototype.eol=function(){return this.pos>=this.string.length},Xi.prototype.sol=function(){return this.pos==this.lineStart},Xi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xi.prototype.eat=function(d){var C=this.string.charAt(this.pos),T;if(typeof d=="string"?T=C==d:T=C&&(d.test?d.test(C):d(C)),T)return++this.pos,C},Xi.prototype.eatWhile=function(d){for(var C=this.pos;this.eat(d););return this.pos>C},Xi.prototype.eatSpace=function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},Xi.prototype.skipToEnd=function(){this.pos=this.string.length},Xi.prototype.skipTo=function(d){var C=this.string.indexOf(d,this.pos);if(C>-1)return this.pos=C,!0},Xi.prototype.backUp=function(d){this.pos-=d},Xi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ke(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ke(this.string,this.lineStart,this.tabSize):0)},Xi.prototype.indentation=function(){return Ke(this.string,null,this.tabSize)-(this.lineStart?Ke(this.string,this.lineStart,this.tabSize):0)},Xi.prototype.match=function(d,C,T){if(typeof d=="string"){var I=function(pe){return T?pe.toLowerCase():pe},F=this.string.substr(this.pos,d.length);if(I(F)==I(d))return C!==!1&&(this.pos+=d.length),!0}else{var ee=this.string.slice(this.pos).match(d);return ee&&ee.index>0?null:(ee&&C!==!1&&(this.pos+=ee[0].length),ee)}},Xi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xi.prototype.hideFirstChars=function(d,C){this.lineStart+=d;try{return C()}finally{this.lineStart-=d}},Xi.prototype.lookAhead=function(d){var C=this.lineOracle;return C&&C.lookAhead(d)},Xi.prototype.baseToken=function(){var d=this.lineOracle;return d&&d.baseToken(this.pos)};function Si(d,C){if(C-=d.first,C<0||C>=d.size)throw new Error("There is no line "+(C+d.first)+" in the document.");for(var T=d;!T.lines;)for(var I=0;;++I){var F=T.children[I],ee=F.chunkSize();if(C<ee){T=F;break}C-=ee}return T.lines[C]}function fs(d,C,T){var I=[],F=C.line;return d.iter(C.line,T.line+1,function(ee){var pe=ee.text;F==T.line&&(pe=pe.slice(0,T.ch)),F==C.line&&(pe=pe.slice(C.ch)),I.push(pe),++F}),I}function Oa(d,C,T){var I=[];return d.iter(C,T,function(F){I.push(F.text)}),I}function ea(d,C){var T=C-d.height;if(T)for(var I=d;I;I=I.parent)I.height+=T}function Xe(d){if(d.parent==null)return null;for(var C=d.parent,T=Ve(C.lines,d),I=C.parent;I;C=I,I=I.parent)for(var F=0;I.children[F]!=C;++F)T+=I.children[F].chunkSize();return T+C.first}function Bt(d,C){var T=d.first;e:do{for(var I=0;I<d.children.length;++I){var F=d.children[I],ee=F.height;if(C<ee){d=F;continue e}C-=ee,T+=F.chunkSize()}return T}while(!d.lines);for(var pe=0;pe<d.lines.length;++pe){var Se=d.lines[pe],Pe=Se.height;if(C<Pe)break;C-=Pe}return T+pe}function Mn(d,C){return C>=d.first&&C<d.first+d.size}function Wn(d,C){return String(d.lineNumberFormatter(C+d.firstLineNumber))}function an(d,C,T){if(T===void 0&&(T=null),!(this instanceof an))return new an(d,C,T);this.line=d,this.ch=C,this.sticky=T}function li(d,C){return d.line-C.line||d.ch-C.ch}function no(d,C){return d.sticky==C.sticky&&li(d,C)==0}function Oo(d){return an(d.line,d.ch)}function ps(d,C){return li(d,C)<0?C:d}function Ws(d,C){return li(d,C)<0?d:C}function Ju(d,C){return Math.max(d.first,Math.min(C,d.first+d.size-1))}function Hi(d,C){if(C.line<d.first)return an(d.first,0);var T=d.first+d.size-1;return C.line>T?an(T,Si(d,T).text.length):jA(C,Si(d,C.line).text.length)}function jA(d,C){var T=d.ch;return T==null||T>C?an(d.line,C):T<0?an(d.line,0):d}function Ou(d,C){for(var T=[],I=0;I<C.length;I++)T[I]=Hi(d,C[I]);return T}var xl=function(d,C){this.state=d,this.lookAhead=C},Is=function(d,C,T,I){this.state=C,this.doc=d,this.line=T,this.maxLookAhead=I||0,this.baseTokens=null,this.baseTokenPos=1};Is.prototype.lookAhead=function(d){var C=this.doc.getLine(this.line+d);return C!=null&&d>this.maxLookAhead&&(this.maxLookAhead=d),C},Is.prototype.baseToken=function(d){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=d;)this.baseTokenPos+=2;var C=this.baseTokens[this.baseTokenPos+1];return{type:C&&C.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-d}},Is.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Is.fromSaved=function(d,C,T){return C instanceof xl?new Is(d,ho(d.mode,C.state),T,C.lookAhead):new Is(d,ho(d.mode,C),T)},Is.prototype.save=function(d){var C=d!==!1?ho(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new xl(C,this.maxLookAhead):C};function Tc(d,C,T,I){var F=[d.state.modeGen],ee={};Sr(d,C.text,d.doc.mode,T,function(Ge,_t){return F.push(Ge,_t)},ee,I);for(var pe=T.state,Se=function(Ge){T.baseTokens=F;var _t=d.state.overlays[Ge],Tt=1,en=0;T.state=!0,Sr(d,C.text,_t.mode,T,function(Vt,bn){for(var Pn=Tt;en<Vt;){var ai=F[Tt];ai>Vt&&F.splice(Tt,1,Vt,F[Tt+1],ai),Tt+=2,en=Math.min(Vt,ai)}if(bn)if(_t.opaque)F.splice(Pn,Tt-Pn,Vt,"overlay "+bn),Tt=Pn+2;else for(;Pn<Tt;Pn+=2){var gi=F[Pn+1];F[Pn+1]=(gi?gi+" ":"")+"overlay "+bn}},ee),T.state=pe,T.baseTokens=null,T.baseTokenPos=1},Pe=0;Pe<d.state.overlays.length;++Pe)Se(Pe);return{styles:F,classes:ee.bgClass||ee.textClass?ee:null}}function Xs(d,C,T){if(!C.styles||C.styles[0]!=d.state.modeGen){var I=ta(d,Xe(C)),F=C.text.length>d.options.maxHighlightLength&&ho(d.doc.mode,I.state),ee=Tc(d,C,I);F&&(I.state=F),C.stateAfter=I.save(!F),C.styles=ee.styles,ee.classes?C.styleClasses=ee.classes:C.styleClasses&&(C.styleClasses=null),T===d.doc.highlightFrontier&&(d.doc.modeFrontier=Math.max(d.doc.modeFrontier,++d.doc.highlightFrontier))}return C.styles}function ta(d,C,T){var I=d.doc,F=d.display;if(!I.mode.startState)return new Is(I,!0,C);var ee=Au(d,C,T),pe=ee>I.first&&Si(I,ee-1).stateAfter,Se=pe?Is.fromSaved(I,pe,ee):new Is(I,Fa(I.mode),ee);return I.iter(ee,C,function(Pe){Po(d,Pe.text,Se);var Ge=Se.line;Pe.stateAfter=Ge==C-1||Ge%5==0||Ge>=F.viewFrom&&Ge<F.viewTo?Se.save():null,Se.nextLine()}),T&&(I.modeFrontier=Se.line),Se}function Po(d,C,T,I){var F=d.doc.mode,ee=new Xi(C,d.options.tabSize,T);for(ee.start=ee.pos=I||0,C==""&&mr(F,T.state);!ee.eol();)Gl(F,ee,T.state),ee.start=ee.pos}function mr(d,C){if(d.blankLine)return d.blankLine(C);if(d.innerMode){var T=Xu(d,C);if(T.mode.blankLine)return T.mode.blankLine(T.state)}}function Gl(d,C,T,I){for(var F=0;F<10;F++){I&&(I[0]=Xu(d,T).mode);var ee=d.token(C,T);if(C.pos>C.start)return ee}throw new Error("Mode "+d.name+" failed to advance stream.")}var ba=function(d,C,T){this.start=d.start,this.end=d.pos,this.string=d.current(),this.type=C||null,this.state=T};function Wl(d,C,T,I){var F=d.doc,ee=F.mode,pe;C=Hi(F,C);var Se=Si(F,C.line),Pe=ta(d,C.line,T),Ge=new Xi(Se.text,d.options.tabSize,Pe),_t;for(I&&(_t=[]);(I||Ge.pos<C.ch)&&!Ge.eol();)Ge.start=Ge.pos,pe=Gl(ee,Ge,Pe.state),I&&_t.push(new ba(Ge,pe,ho(F.mode,Pe.state)));return I?_t:new ba(Ge,pe,Pe.state)}function Iu(d,C){if(d)for(;;){var T=d.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!T)break;d=d.slice(0,T.index)+d.slice(T.index+T[0].length);var I=T[1]?"bgClass":"textClass";C[I]==null?C[I]=T[2]:new RegExp("(?:^|\\s)"+T[2]+"(?:$|\\s)").test(C[I])||(C[I]+=" "+T[2])}return d}function Sr(d,C,T,I,F,ee,pe){var Se=T.flattenSpans;Se==null&&(Se=d.options.flattenSpans);var Pe=0,Ge=null,_t=new Xi(C,d.options.tabSize,I),Tt,en=d.options.addModeClass&&[null];for(C==""&&Iu(mr(T,I.state),ee);!_t.eol();){if(_t.pos>d.options.maxHighlightLength?(Se=!1,pe&&Po(d,C,I,_t.pos),_t.pos=C.length,Tt=null):Tt=Iu(Gl(T,_t,I.state,en),ee),en){var Vt=en[0].name;Vt&&(Tt="m-"+(Tt?Vt+" "+Tt:Vt))}if(!Se||Ge!=Tt){for(;Pe<_t.start;)Pe=Math.min(_t.start,Pe+5e3),F(Pe,Ge);Ge=Tt}_t.start=_t.pos}for(;Pe<_t.pos;){var bn=Math.min(_t.pos,Pe+5e3);F(bn,Ge),Pe=bn}}function Au(d,C,T){for(var I,F,ee=d.doc,pe=T?-1:C-(d.doc.mode.innerMode?1e3:100),Se=C;Se>pe;--Se){if(Se<=ee.first)return ee.first;var Pe=Si(ee,Se-1),Ge=Pe.stateAfter;if(Ge&&(!T||Se+(Ge instanceof xl?Ge.lookAhead:0)<=ee.modeFrontier))return Se;var _t=Ke(Pe.text,null,d.options.tabSize);(F==null||I>_t)&&(F=Se-1,I=_t)}return F}function yA(d,C){if(d.modeFrontier=Math.min(d.modeFrontier,C),!(d.highlightFrontier<C-10)){for(var T=d.first,I=C-1;I>T;I--){var F=Si(d,I).stateAfter;if(F&&(!(F instanceof xl)||I+F.lookAhead<C)){T=I+1;break}}d.highlightFrontier=Math.min(d.highlightFrontier,T)}}var Wo=!1,Io=!1;function Qa(){Wo=!0}function Ia(){Io=!0}function ca(d,C,T){this.marker=d,this.from=C,this.to=T}function Ur(d,C){if(d)for(var T=0;T<d.length;++T){var I=d[T];if(I.marker==C)return I}}function cu(d,C){for(var T,I=0;I<d.length;++I)d[I]!=C&&(T||(T=[])).push(d[I]);return T}function Ya(d,C,T){var I=T&&window.WeakSet&&(T.markedSpans||(T.markedSpans=new WeakSet));I&&d.markedSpans&&I.has(d.markedSpans)?d.markedSpans.push(C):(d.markedSpans=d.markedSpans?d.markedSpans.concat([C]):[C],I&&I.add(d.markedSpans)),C.marker.attachLine(d)}function os(d,C,T){var I;if(d)for(var F=0;F<d.length;++F){var ee=d[F],pe=ee.marker,Se=ee.from==null||(pe.inclusiveLeft?ee.from<=C:ee.from<C);if(Se||ee.from==C&&pe.type=="bookmark"&&(!T||!ee.marker.insertLeft)){var Pe=ee.to==null||(pe.inclusiveRight?ee.to>=C:ee.to>C);(I||(I=[])).push(new ca(pe,ee.from,Pe?null:ee.to))}}return I}function xa(d,C,T){var I;if(d)for(var F=0;F<d.length;++F){var ee=d[F],pe=ee.marker,Se=ee.to==null||(pe.inclusiveRight?ee.to>=C:ee.to>C);if(Se||ee.from==C&&pe.type=="bookmark"&&(!T||ee.marker.insertLeft)){var Pe=ee.from==null||(pe.inclusiveLeft?ee.from<=C:ee.from<C);(I||(I=[])).push(new ca(pe,Pe?null:ee.from-C,ee.to==null?null:ee.to-C))}}return I}function Kr(d,C){if(C.full)return null;var T=Mn(d,C.from.line)&&Si(d,C.from.line).markedSpans,I=Mn(d,C.to.line)&&Si(d,C.to.line).markedSpans;if(!T&&!I)return null;var F=C.from.ch,ee=C.to.ch,pe=li(C.from,C.to)==0,Se=os(T,F,pe),Pe=xa(I,ee,pe),Ge=C.text.length==1,_t=Gn(C.text).length+(Ge?F:0);if(Se)for(var Tt=0;Tt<Se.length;++Tt){var en=Se[Tt];if(en.to==null){var Vt=Ur(Pe,en.marker);Vt?Ge&&(en.to=Vt.to==null?null:Vt.to+_t):en.to=F}}if(Pe)for(var bn=0;bn<Pe.length;++bn){var Pn=Pe[bn];if(Pn.to!=null&&(Pn.to+=_t),Pn.from==null){var ai=Ur(Se,Pn.marker);ai||(Pn.from=_t,Ge&&(Se||(Se=[])).push(Pn))}else Pn.from+=_t,Ge&&(Se||(Se=[])).push(Pn)}Se&&(Se=Ml(Se)),Pe&&Pe!=Se&&(Pe=Ml(Pe));var gi=[Se];if(!Ge){var _i=C.text.length-2,yi;if(_i>0&&Se)for(var Pi=0;Pi<Se.length;++Pi)Se[Pi].to==null&&(yi||(yi=[])).push(new ca(Se[Pi].marker,null,null));for(var ur=0;ur<_i;++ur)gi.push(yi);gi.push(Pe)}return gi}function Ml(d){for(var C=0;C<d.length;++C){var T=d[C];T.from!=null&&T.from==T.to&&T.marker.clearWhenEmpty!==!1&&d.splice(C--,1)}return d.length?d:null}function er(d,C,T){var I=null;if(d.iter(C.line,T.line+1,function(Vt){if(Vt.markedSpans)for(var bn=0;bn<Vt.markedSpans.length;++bn){var Pn=Vt.markedSpans[bn].marker;Pn.readOnly&&(!I||Ve(I,Pn)==-1)&&(I||(I=[])).push(Pn)}}),!I)return null;for(var F=[{from:C,to:T}],ee=0;ee<I.length;++ee)for(var pe=I[ee],Se=pe.find(0),Pe=0;Pe<F.length;++Pe){var Ge=F[Pe];if(!(li(Ge.to,Se.from)<0||li(Ge.from,Se.to)>0)){var _t=[Pe,1],Tt=li(Ge.from,Se.from),en=li(Ge.to,Se.to);(Tt<0||!pe.inclusiveLeft&&!Tt)&&_t.push({from:Ge.from,to:Se.from}),(en>0||!pe.inclusiveRight&&!en)&&_t.push({from:Se.to,to:Ge.to}),F.splice.apply(F,_t),Pe+=_t.length-3}}return F}function Ei(d){var C=d.markedSpans;if(C){for(var T=0;T<C.length;++T)C[T].marker.detachLine(d);d.markedSpans=null}}function Hr(d,C){if(C){for(var T=0;T<C.length;++T)C[T].marker.attachLine(d);d.markedSpans=C}}function ie(d){return d.inclusiveLeft?-1:0}function Te(d){return d.inclusiveRight?1:0}function lt(d,C){var T=d.lines.length-C.lines.length;if(T!=0)return T;var I=d.find(),F=C.find(),ee=li(I.from,F.from)||ie(d)-ie(C);if(ee)return-ee;var pe=li(I.to,F.to)||Te(d)-Te(C);return pe||C.id-d.id}function Qt(d,C){var T=Io&&d.markedSpans,I;if(T)for(var F=void 0,ee=0;ee<T.length;++ee)F=T[ee],F.marker.collapsed&&(C?F.from:F.to)==null&&(!I||lt(I,F.marker)<0)&&(I=F.marker);return I}function Bi(d){return Qt(d,!0)}function ei(d){return Qt(d,!1)}function Ji(d,C){var T=Io&&d.markedSpans,I;if(T)for(var F=0;F<T.length;++F){var ee=T[F];ee.marker.collapsed&&(ee.from==null||ee.from<C)&&(ee.to==null||ee.to>C)&&(!I||lt(I,ee.marker)<0)&&(I=ee.marker)}return I}function lr(d,C,T,I,F){var ee=Si(d,C),pe=Io&&ee.markedSpans;if(pe)for(var Se=0;Se<pe.length;++Se){var Pe=pe[Se];if(Pe.marker.collapsed){var Ge=Pe.marker.find(0),_t=li(Ge.from,T)||ie(Pe.marker)-ie(F),Tt=li(Ge.to,I)||Te(Pe.marker)-Te(F);if(!(_t>=0&&Tt<=0||_t<=0&&Tt>=0)&&(_t<=0&&(Pe.marker.inclusiveRight&&F.inclusiveLeft?li(Ge.to,T)>=0:li(Ge.to,T)>0)||_t>=0&&(Pe.marker.inclusiveRight&&F.inclusiveLeft?li(Ge.from,I)<=0:li(Ge.from,I)<0)))return!0}}}function Ui(d){for(var C;C=Bi(d);)d=C.find(-1,!0).line;return d}function tr(d){for(var C;C=ei(d);)d=C.find(1,!0).line;return d}function io(d){for(var C,T;C=ei(d);)d=C.find(1,!0).line,(T||(T=[])).push(d);return T}function fo(d,C){var T=Si(d,C),I=Ui(T);return T==I?C:Xe(I)}function dr(d,C){if(C>d.lastLine())return C;var T=Si(d,C),I;if(!vr(d,T))return C;for(;I=ei(T);)T=I.find(1,!0).line;return Xe(T)+1}function vr(d,C){var T=Io&&C.markedSpans;if(T){for(var I=void 0,F=0;F<T.length;++F)if(I=T[F],!!I.marker.collapsed){if(I.from==null)return!0;if(!I.marker.widgetNode&&I.from==0&&I.marker.inclusiveLeft&&po(d,C,I))return!0}}}function po(d,C,T){if(T.to==null){var I=T.marker.find(1,!0);return po(d,I.line,Ur(I.line.markedSpans,T.marker))}if(T.marker.inclusiveRight&&T.to==C.text.length)return!0;for(var F=void 0,ee=0;ee<C.markedSpans.length;++ee)if(F=C.markedSpans[ee],F.marker.collapsed&&!F.marker.widgetNode&&F.from==T.to&&(F.to==null||F.to!=T.from)&&(F.marker.inclusiveLeft||T.marker.inclusiveRight)&&po(d,C,F))return!0}function Qo(d){d=Ui(d);for(var C=0,T=d.parent,I=0;I<T.lines.length;++I){var F=T.lines[I];if(F==d)break;C+=F.height}for(var ee=T.parent;ee;T=ee,ee=T.parent)for(var pe=0;pe<ee.children.length;++pe){var Se=ee.children[pe];if(Se==T)break;C+=Se.height}return C}function Gr(d){if(d.height==0)return 0;for(var C=d.text.length,T,I=d;T=Bi(I);){var F=T.find(0,!0);I=F.from.line,C+=F.from.ch-F.to.ch}for(I=d;T=ei(I);){var ee=T.find(0,!0);C-=I.text.length-ee.from.ch,I=ee.to.line,C+=I.text.length-ee.to.ch}return C}function Js(d){var C=d.display,T=d.doc;C.maxLine=Si(T,T.first),C.maxLineLength=Gr(C.maxLine),C.maxLineChanged=!0,T.iter(function(I){var F=Gr(I);F>C.maxLineLength&&(C.maxLineLength=F,C.maxLine=I)})}var Ql=function(d,C,T){this.text=d,Hr(this,C),this.height=T?T(this):1};Ql.prototype.lineNo=function(){return Xe(this)},ri(Ql);function eA(d,C,T,I){d.text=C,d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null),d.order!=null&&(d.order=null),Ei(d),Hr(d,T);var F=I?I(d):1;F!=d.height&&ea(d,F)}function Cs(d){d.parent=null,Ei(d)}var Sd={},za={};function Ed(d,C){if(!d||/^\s*$/.test(d))return null;var T=C.addModeClass?za:Sd;return T[d]||(T[d]=d.replace(/\S+/g,"cm-$&"))}function NA(d,C){var T=Fe("span",null,null,_?"padding-right: .1px":null),I={pre:Fe("pre",[T],"CodeMirror-line"),content:T,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption("lineWrapping")};C.measure={};for(var F=0;F<=(C.rest?C.rest.length:0);F++){var ee=F?C.rest[F-1]:C.line,pe=void 0;I.pos=0,I.addToken=wh,_a(d.display.measure)&&(pe=Ze(ee,d.doc.direction))&&(I.addToken=go(I.addToken,pe)),I.map=[];var Se=C!=d.display.externalMeasured&&Xe(ee);Bd(ee,I,Xs(d,ee,Se)),ee.styleClasses&&(ee.styleClasses.bgClass&&(I.bgClass=We(ee.styleClasses.bgClass,I.bgClass||"")),ee.styleClasses.textClass&&(I.textClass=We(ee.styleClasses.textClass,I.textClass||""))),I.map.length==0&&I.map.push(0,0,I.content.appendChild(co(d.display.measure))),F==0?(C.measure.map=I.map,C.measure.cache={}):((C.measure.maps||(C.measure.maps=[])).push(I.map),(C.measure.caches||(C.measure.caches=[])).push({}))}if(_){var Pe=I.content.lastChild;(/\bcm-tab\b/.test(Pe.className)||Pe.querySelector&&Pe.querySelector(".cm-tab"))&&(I.content.className="cm-tab-wrap-hack")}return rt(d,"renderLine",d,C.line,I.pre),I.pre.className&&(I.textClass=We(I.pre.className,I.textClass||"")),I}function tA(d){var C=Ce("span","•","cm-invalidchar");return C.title="\\u"+d.charCodeAt(0).toString(16),C.setAttribute("aria-label",C.title),C}function wh(d,C,T,I,F,ee,pe){if(C){var Se=d.splitSpaces?$h(C,d.trailingSpace):C,Pe=d.cm.state.specialChars,Ge=!1,_t;if(!Pe.test(C))d.col+=C.length,_t=document.createTextNode(Se),d.map.push(d.pos,d.pos+C.length,_t),p&&g<9&&(Ge=!0),d.pos+=C.length;else{_t=document.createDocumentFragment();for(var Tt=0;;){Pe.lastIndex=Tt;var en=Pe.exec(C),Vt=en?en.index-Tt:C.length-Tt;if(Vt){var bn=document.createTextNode(Se.slice(Tt,Tt+Vt));p&&g<9?_t.appendChild(Ce("span",[bn])):_t.appendChild(bn),d.map.push(d.pos,d.pos+Vt,bn),d.col+=Vt,d.pos+=Vt}if(!en)break;Tt+=Vt+1;var Pn=void 0;if(en[0]=="	"){var ai=d.cm.options.tabSize,gi=ai-d.col%ai;Pn=_t.appendChild(Ce("span",Wt(gi),"cm-tab")),Pn.setAttribute("role","presentation"),Pn.setAttribute("cm-text","	"),d.col+=gi}else en[0]=="\r"||en[0]==`
`?(Pn=_t.appendChild(Ce("span",en[0]=="\r"?"␍":"␤","cm-invalidchar")),Pn.setAttribute("cm-text",en[0]),d.col+=1):(Pn=d.cm.options.specialCharPlaceholder(en[0]),Pn.setAttribute("cm-text",en[0]),p&&g<9?_t.appendChild(Ce("span",[Pn])):_t.appendChild(Pn),d.col+=1);d.map.push(d.pos,d.pos+1,Pn),d.pos++}}if(d.trailingSpace=Se.charCodeAt(C.length-1)==32,T||I||F||Ge||ee||pe){var _i=T||"";I&&(_i+=I),F&&(_i+=F);var yi=Ce("span",[_t],_i,ee);if(pe)for(var Pi in pe)pe.hasOwnProperty(Pi)&&Pi!="style"&&Pi!="class"&&yi.setAttribute(Pi,pe[Pi]);return d.content.appendChild(yi)}d.content.appendChild(_t)}}function $h(d,C){if(d.length>1&&!/  /.test(d))return d;for(var T=C,I="",F=0;F<d.length;F++){var ee=d.charAt(F);ee==" "&&T&&(F==d.length-1||d.charCodeAt(F+1)==32)&&(ee=" "),I+=ee,T=ee==" "}return I}function go(d,C){return function(T,I,F,ee,pe,Se,Pe){F=F?F+" cm-force-border":"cm-force-border";for(var Ge=T.pos,_t=Ge+I.length;;){for(var Tt=void 0,en=0;en<C.length&&(Tt=C[en],!(Tt.to>Ge&&Tt.from<=Ge));en++);if(Tt.to>=_t)return d(T,I,F,ee,pe,Se,Pe);d(T,I.slice(0,Tt.to-Ge),F,ee,null,Se,Pe),ee=null,I=I.slice(Tt.to-Ge),Ge=Tt.to}}}function hc(d,C,T,I){var F=!I&&T.widgetNode;F&&d.map.push(d.pos,d.pos+C,F),!I&&d.cm.display.input.needsContentAttribute&&(F||(F=d.content.appendChild(document.createElement("span"))),F.setAttribute("cm-marker",T.id)),F&&(d.cm.display.input.setUneditable(F),d.content.appendChild(F)),d.pos+=C,d.trailingSpace=!1}function Bd(d,C,T){var I=d.markedSpans,F=d.text,ee=0;if(!I){for(var pe=1;pe<T.length;pe+=2)C.addToken(C,F.slice(ee,ee=T[pe]),Ed(T[pe+1],C.cm.options));return}for(var Se=F.length,Pe=0,Ge=1,_t="",Tt,en,Vt=0,bn,Pn,ai,gi,_i;;){if(Vt==Pe){bn=Pn=ai=en="",_i=null,gi=null,Vt=1/0;for(var yi=[],Pi=void 0,ur=0;ur<I.length;++ur){var Vi=I[ur],to=Vi.marker;if(to.type=="bookmark"&&Vi.from==Pe&&to.widgetNode)yi.push(to);else if(Vi.from<=Pe&&(Vi.to==null||Vi.to>Pe||to.collapsed&&Vi.to==Pe&&Vi.from==Pe)){if(Vi.to!=null&&Vi.to!=Pe&&Vt>Vi.to&&(Vt=Vi.to,Pn=""),to.className&&(bn+=" "+to.className),to.css&&(en=(en?en+";":"")+to.css),to.startStyle&&Vi.from==Pe&&(ai+=" "+to.startStyle),to.endStyle&&Vi.to==Vt&&(Pi||(Pi=[])).push(to.endStyle,Vi.to),to.title&&((_i||(_i={})).title=to.title),to.attributes)for(var Er in to.attributes)(_i||(_i={}))[Er]=to.attributes[Er];to.collapsed&&(!gi||lt(gi.marker,to)<0)&&(gi=Vi)}else Vi.from>Pe&&Vt>Vi.from&&(Vt=Vi.from)}if(Pi)for(var As=0;As<Pi.length;As+=2)Pi[As+1]==Vt&&(Pn+=" "+Pi[As]);if(!gi||gi.from==Pe)for(var ma=0;ma<yi.length;++ma)hc(C,0,yi[ma]);if(gi&&(gi.from||0)==Pe){if(hc(C,(gi.to==null?Se+1:gi.to)-Pe,gi.marker,gi.from==null),gi.to==null)return;gi.to==Pe&&(gi=!1)}}if(Pe>=Se)break;for(var Vr=Math.min(Se,Vt);;){if(_t){var Ms=Pe+_t.length;if(!gi){var ws=Ms>Vr?_t.slice(0,Vr-Pe):_t;C.addToken(C,ws,Tt?Tt+bn:bn,ai,Pe+ws.length==Vt?Pn:"",en,_i)}if(Ms>=Vr){_t=_t.slice(Vr-Pe),Pe=Vr;break}Pe=Ms,ai=""}_t=F.slice(ee,ee=T[Ge++]),Tt=Ed(T[Ge++],C.cm.options)}}}function Bm(d,C,T){this.line=C,this.rest=io(C),this.size=this.rest?Xe(Gn(this.rest))-T+1:1,this.node=this.text=null,this.hidden=vr(d,C)}function Sh(d,C,T){for(var I=[],F,ee=C;ee<T;ee=F){var pe=new Bm(d.doc,Si(d.doc,ee),ee);F=ee+pe.size,I.push(pe)}return I}var Od=null;function b0(d){Od?Od.ops.push(d):d.ownsGroup=Od={ops:[d],delayedCallbacks:[]}}function Yf(d){var C=d.delayedCallbacks,T=0;do{for(;T<C.length;T++)C[T].call(null);for(var I=0;I<d.ops.length;I++){var F=d.ops[I];if(F.cursorActivityHandlers)for(;F.cursorActivityCalled<F.cursorActivityHandlers.length;)F.cursorActivityHandlers[F.cursorActivityCalled++].call(null,F.cm)}}while(T<C.length)}function qf(d,C){var T=d.ownsGroup;if(T)try{Yf(T)}finally{Od=null,C(T)}}var nA=null;function as(d,C){var T=dt(d,C);if(T.length){var I=Array.prototype.slice.call(arguments,2),F;Od?F=Od.delayedCallbacks:nA?F=nA:(F=nA=[],setTimeout(Id,0));for(var ee=function(Se){F.push(function(){return T[Se].apply(null,I)})},pe=0;pe<T.length;++pe)ee(pe)}}function Id(){var d=nA;nA=null;for(var C=0;C<d.length;++C)d[C]()}function Yl(d,C,T,I){for(var F=0;F<C.changes.length;F++){var ee=C.changes[F];ee=="text"?Xh(d,C):ee=="gutter"?Eh(d,C,T,I):ee=="class"?Hf(d,C):ee=="widget"&&Bh(d,C,I)}C.changes=null}function Td(d){return d.node==d.text&&(d.node=Ce("div",null,null,"position: relative"),d.text.parentNode&&d.text.parentNode.replaceChild(d.node,d.text),d.node.appendChild(d.text),p&&g<8&&(d.node.style.zIndex=2)),d.node}function Zh(d,C){var T=C.bgClass?C.bgClass+" "+(C.line.bgClass||""):C.line.bgClass;if(T&&(T+=" CodeMirror-linebackground"),C.background)T?C.background.className=T:(C.background.parentNode.removeChild(C.background),C.background=null);else if(T){var I=Td(C);C.background=I.insertBefore(Ce("div",null,T),I.firstChild),d.display.input.setUneditable(C.background)}}function th(d,C){var T=d.display.externalMeasured;return T&&T.line==C.line?(d.display.externalMeasured=null,C.measure=T.measure,T.built):NA(d,C)}function Xh(d,C){var T=C.text.className,I=th(d,C);C.text==C.node&&(C.node=I.pre),C.text.parentNode.replaceChild(I.pre,C.text),C.text=I.pre,I.bgClass!=C.bgClass||I.textClass!=C.textClass?(C.bgClass=I.bgClass,C.textClass=I.textClass,Hf(d,C)):T&&(C.text.className=T)}function Hf(d,C){Zh(d,C),C.line.wrapClass?Td(C).className=C.line.wrapClass:C.node!=C.text&&(C.node.className="");var T=C.textClass?C.textClass+" "+(C.line.textClass||""):C.line.textClass;C.text.className=T||""}function Eh(d,C,T,I){if(C.gutter&&(C.node.removeChild(C.gutter),C.gutter=null),C.gutterBackground&&(C.node.removeChild(C.gutterBackground),C.gutterBackground=null),C.line.gutterClass){var F=Td(C);C.gutterBackground=Ce("div",null,"CodeMirror-gutter-background "+C.line.gutterClass,"left: "+(d.options.fixedGutter?I.fixedPos:-I.gutterTotalWidth)+"px; width: "+I.gutterTotalWidth+"px"),d.display.input.setUneditable(C.gutterBackground),F.insertBefore(C.gutterBackground,C.text)}var ee=C.line.gutterMarkers;if(d.options.lineNumbers||ee){var pe=Td(C),Se=C.gutter=Ce("div",null,"CodeMirror-gutter-wrapper","left: "+(d.options.fixedGutter?I.fixedPos:-I.gutterTotalWidth)+"px");if(Se.setAttribute("aria-hidden","true"),d.display.input.setUneditable(Se),pe.insertBefore(Se,C.text),C.line.gutterClass&&(Se.className+=" "+C.line.gutterClass),d.options.lineNumbers&&(!ee||!ee["CodeMirror-linenumbers"])&&(C.lineNumber=Se.appendChild(Ce("div",Wn(d.options,T),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+I.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+d.display.lineNumInnerWidth+"px"))),ee)for(var Pe=0;Pe<d.display.gutterSpecs.length;++Pe){var Ge=d.display.gutterSpecs[Pe].className,_t=ee.hasOwnProperty(Ge)&&ee[Ge];_t&&Se.appendChild(Ce("div",[_t],"CodeMirror-gutter-elt","left: "+I.gutterLeft[Ge]+"px; width: "+I.gutterWidth[Ge]+"px"))}}}function Bh(d,C,T){C.alignable&&(C.alignable=null);for(var I=_e("CodeMirror-linewidget"),F=C.node.firstChild,ee=void 0;F;F=ee)ee=F.nextSibling,I.test(F.className)&&C.node.removeChild(F);Vf(d,C,T)}function Jh(d,C,T,I){var F=th(d,C);return C.text=C.node=F.pre,F.bgClass&&(C.bgClass=F.bgClass),F.textClass&&(C.textClass=F.textClass),Hf(d,C),Eh(d,C,T,I),Vf(d,C,I),C.node}function Vf(d,C,T){if(hu(d,C.line,C,T,!0),C.rest)for(var I=0;I<C.rest.length;I++)hu(d,C.rest[I],C,T,!1)}function hu(d,C,T,I,F){if(C.widgets)for(var ee=Td(T),pe=0,Se=C.widgets;pe<Se.length;++pe){var Pe=Se[pe],Ge=Ce("div",[Pe.node],"CodeMirror-linewidget"+(Pe.className?" "+Pe.className:""));Pe.handleMouseEvents||Ge.setAttribute("cm-ignore-events","true"),$f(Pe,Ge,T,I),d.display.input.setUneditable(Ge),F&&Pe.above?ee.insertBefore(Ge,T.gutter||T.text):ee.appendChild(Ge),as(Pe,"redraw")}}function $f(d,C,T,I){if(d.noHScroll){(T.alignable||(T.alignable=[])).push(C);var F=I.wrapperWidth;C.style.left=I.fixedPos+"px",d.coverGutter||(F-=I.gutterTotalWidth,C.style.paddingLeft=I.gutterTotalWidth+"px"),C.style.width=F+"px"}d.coverGutter&&(C.style.zIndex=5,C.style.position="relative",d.noHScroll||(C.style.marginLeft=-I.gutterTotalWidth+"px"))}function dc(d){if(d.height!=null)return d.height;var C=d.doc.cm;if(!C)return 0;if(!mt(document.body,d.node)){var T="position: relative;";d.coverGutter&&(T+="margin-left: -"+C.display.gutters.offsetWidth+"px;"),d.noHScroll&&(T+="width: "+C.display.wrapper.clientWidth+"px;"),ze(C.display.measure,Ce("div",[d.node],null,T))}return d.height=d.node.parentNode.offsetHeight}function du(d,C){for(var T=di(C);T!=d.wrapper;T=T.parentNode)if(!T||T.nodeType==1&&T.getAttribute("cm-ignore-events")=="true"||T.parentNode==d.sizer&&T!=d.mover)return!0}function kc(d){return d.lineSpace.offsetTop}function kd(d){return d.mover.offsetHeight-d.lineSpace.offsetHeight}function Dd(d){if(d.cachedPaddingH)return d.cachedPaddingH;var C=ze(d.measure,Ce("pre","x","CodeMirror-line-like")),T=window.getComputedStyle?window.getComputedStyle(C):C.currentStyle,I={left:parseInt(T.paddingLeft),right:parseInt(T.paddingRight)};return!isNaN(I.left)&&!isNaN(I.right)&&(d.cachedPaddingH=I),I}function GA(d){return bt-d.display.nativeBarWidth}function iA(d){return d.display.scroller.clientWidth-GA(d)-d.display.barWidth}function ed(d){return d.display.scroller.clientHeight-GA(d)-d.display.barHeight}function Dc(d,C,T){var I=d.options.lineWrapping,F=I&&iA(d);if(!C.measure.heights||I&&C.measure.width!=F){var ee=C.measure.heights=[];if(I){C.measure.width=F;for(var pe=C.text.firstChild.getClientRects(),Se=0;Se<pe.length-1;Se++){var Pe=pe[Se],Ge=pe[Se+1];Math.abs(Pe.bottom-Ge.bottom)>2&&ee.push((Pe.bottom+Ge.top)/2-T.top)}}ee.push(T.bottom-T.top)}}function td(d,C,T){if(d.line==C)return{map:d.measure.map,cache:d.measure.cache};if(d.rest){for(var I=0;I<d.rest.length;I++)if(d.rest[I]==C)return{map:d.measure.maps[I],cache:d.measure.caches[I]};for(var F=0;F<d.rest.length;F++)if(Xe(d.rest[F])>T)return{map:d.measure.maps[F],cache:d.measure.caches[F],before:!0}}}function Om(d,C){C=Ui(C);var T=Xe(C),I=d.display.externalMeasured=new Bm(d.doc,C,T);I.lineN=T;var F=I.built=NA(d,I);return I.text=F.pre,ze(d.display.lineMeasure,F.pre),I}function nh(d,C,T,I){return rA(d,vA(d,C),T,I)}function uf(d,C){if(C>=d.display.viewFrom&&C<d.display.viewTo)return d.display.view[tl(d,C)];var T=d.display.externalMeasured;if(T&&C>=T.lineN&&C<T.lineN+T.size)return T}function vA(d,C){var T=Xe(C),I=uf(d,T);I&&!I.text?I=null:I&&I.changes&&(Yl(d,I,T,Ul(d)),d.curOp.forceUpdate=!0),I||(I=Om(d,C));var F=td(I,C,T);return{line:C,view:I,rect:null,map:F.map,cache:F.cache,before:F.before,hasHeights:!1}}function rA(d,C,T,I,F){C.before&&(T=-1);var ee=T+(I||""),pe;return C.cache.hasOwnProperty(ee)?pe=C.cache[ee]:(C.rect||(C.rect=C.view.text.getBoundingClientRect()),C.hasHeights||(Dc(d,C.view,C.rect),C.hasHeights=!0),pe=fc(d,C,T,I),pe.bogus||(C.cache[ee]=pe)),{left:pe.left,right:pe.right,top:F?pe.rtop:pe.top,bottom:F?pe.rbottom:pe.bottom}}var Fp={left:0,right:0,top:0,bottom:0};function Zf(d,C,T){for(var I,F,ee,pe,Se,Pe,Ge=0;Ge<d.length;Ge+=3)if(Se=d[Ge],Pe=d[Ge+1],C<Se?(F=0,ee=1,pe="left"):C<Pe?(F=C-Se,ee=F+1):(Ge==d.length-3||C==Pe&&d[Ge+3]>C)&&(ee=Pe-Se,F=ee-1,C>=Pe&&(pe="right")),F!=null){if(I=d[Ge+2],Se==Pe&&T==(I.insertLeft?"left":"right")&&(pe=T),T=="left"&&F==0)for(;Ge&&d[Ge-2]==d[Ge-3]&&d[Ge-1].insertLeft;)I=d[(Ge-=3)+2],pe="left";if(T=="right"&&F==Pe-Se)for(;Ge<d.length-3&&d[Ge+3]==d[Ge+4]&&!d[Ge+5].insertLeft;)I=d[(Ge+=3)+2],pe="right";break}return{node:I,start:F,end:ee,collapse:pe,coverStart:Se,coverEnd:Pe}}function Tu(d,C){var T=Fp;if(C=="left")for(var I=0;I<d.length&&(T=d[I]).left==T.right;I++);else for(var F=d.length-1;F>=0&&(T=d[F]).left==T.right;F--);return T}function fc(d,C,T,I){var F=Zf(C.map,T,I),ee=F.node,pe=F.start,Se=F.end,Pe=F.collapse,Ge;if(ee.nodeType==3){for(var _t=0;_t<4;_t++){for(;pe&&le(C.line.text.charAt(F.coverStart+pe));)--pe;for(;F.coverStart+Se<F.coverEnd&&le(C.line.text.charAt(F.coverStart+Se));)++Se;if(p&&g<9&&pe==0&&Se==F.coverEnd-F.coverStart?Ge=ee.parentNode.getBoundingClientRect():Ge=Tu(ot(ee,pe,Se).getClientRects(),I),Ge.left||Ge.right||pe==0)break;Se=pe,pe=pe-1,Pe="right"}p&&g<11&&(Ge=ku(d.display.measure,Ge))}else{pe>0&&(Pe=I="right");var Tt;d.options.lineWrapping&&(Tt=ee.getClientRects()).length>1?Ge=Tt[I=="right"?Tt.length-1:0]:Ge=ee.getBoundingClientRect()}if(p&&g<9&&!pe&&(!Ge||!Ge.left&&!Ge.right)){var en=ee.parentNode.getClientRects()[0];en?Ge={left:en.left,right:en.left+Ru(d.display),top:en.top,bottom:en.bottom}:Ge=Fp}for(var Vt=Ge.top-C.rect.top,bn=Ge.bottom-C.rect.top,Pn=(Vt+bn)/2,ai=C.view.measure.heights,gi=0;gi<ai.length-1&&!(Pn<ai[gi]);gi++);var _i=gi?ai[gi-1]:0,yi=ai[gi],Pi={left:(Pe=="right"?Ge.right:Ge.left)-C.rect.left,right:(Pe=="left"?Ge.left:Ge.right)-C.rect.left,top:_i,bottom:yi};return!Ge.left&&!Ge.right&&(Pi.bogus=!0),d.options.singleCursorHeightPerLine||(Pi.rtop=Vt,Pi.rbottom=bn),Pi}function ku(d,C){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!br(d))return C;var T=screen.logicalXDPI/screen.deviceXDPI,I=screen.logicalYDPI/screen.deviceYDPI;return{left:C.left*T,right:C.right*T,top:C.top*I,bottom:C.bottom*I}}function WA(d){if(d.measure&&(d.measure.cache={},d.measure.heights=null,d.rest))for(var C=0;C<d.rest.length;C++)d.measure.caches[C]={}}function To(d){d.display.externalMeasure=null,be(d.display.lineMeasure);for(var C=0;C<d.display.view.length;C++)WA(d.display.view[C])}function Oh(d){To(d),d.display.cachedCharWidth=d.display.cachedTextHeight=d.display.cachedPaddingH=null,d.options.lineWrapping||(d.display.maxLineChanged=!0),d.display.lineNumChars=null}function Rd(d){return O&&re?-(d.body.getBoundingClientRect().left-parseInt(getComputedStyle(d.body).marginLeft)):d.defaultView.pageXOffset||(d.documentElement||d.body).scrollLeft}function zp(d){return O&&re?-(d.body.getBoundingClientRect().top-parseInt(getComputedStyle(d.body).marginTop)):d.defaultView.pageYOffset||(d.documentElement||d.body).scrollTop}function Rc(d){var C=Ui(d),T=C.widgets,I=0;if(T)for(var F=0;F<T.length;++F)T[F].above&&(I+=dc(T[F]));return I}function ql(d,C,T,I,F){if(!F){var ee=Rc(C);T.top+=ee,T.bottom+=ee}if(I=="line")return T;I||(I="local");var pe=Qo(C);if(I=="local"?pe+=kc(d.display):pe-=d.display.viewOffset,I=="page"||I=="window"){var Se=d.display.lineSpace.getBoundingClientRect();pe+=Se.top+(I=="window"?0:zp(ke(d)));var Pe=Se.left+(I=="window"?0:Rd(ke(d)));T.left+=Pe,T.right+=Pe}return T.top+=pe,T.bottom+=pe,T}function Xt(d,C,T){if(T=="div")return C;var I=C.left,F=C.top;if(T=="page")I-=Rd(ke(d)),F-=zp(ke(d));else if(T=="local"||!T){var ee=d.display.sizer.getBoundingClientRect();I+=ee.left,F+=ee.top}var pe=d.display.lineSpace.getBoundingClientRect();return{left:I-pe.left,top:F-pe.top}}function En(d,C,T,I,F){return I||(I=Si(d.doc,C.line)),ql(d,I,nh(d,I,C.ch,F),T)}function Cn(d,C,T,I,F,ee){I=I||Si(d.doc,C.line),F||(F=vA(d,I));function pe(bn,Pn){var ai=rA(d,F,bn,Pn?"right":"left",ee);return Pn?ai.left=ai.right:ai.right=ai.left,ql(d,I,ai,T)}var Se=Ze(I,d.doc.direction),Pe=C.ch,Ge=C.sticky;if(Pe>=I.text.length?(Pe=I.text.length,Ge="before"):Pe<=0&&(Pe=0,Ge="after"),!Se)return pe(Ge=="before"?Pe-1:Pe,Ge=="before");function _t(bn,Pn,ai){var gi=Se[Pn],_i=gi.level==1;return pe(ai?bn-1:bn,_i!=ai)}var Tt=He(Se,Pe,Ge),en=At,Vt=_t(Pe,Tt,Ge=="before");return en!=null&&(Vt.other=_t(Pe,en,Ge!="before")),Vt}function Di(d,C){var T=0;C=Hi(d.doc,C),d.options.lineWrapping||(T=Ru(d.display)*C.ch);var I=Si(d.doc,C.line),F=Qo(I)+kc(d.display);return{left:T,right:T,top:F,bottom:F+I.height}}function Or(d,C,T,I,F){var ee=an(d,C,T);return ee.xRel=F,I&&(ee.outside=I),ee}function ko(d,C,T){var I=d.doc;if(T+=d.display.viewOffset,T<0)return Or(I.first,0,null,-1,-1);var F=Bt(I,T),ee=I.first+I.size-1;if(F>ee)return Or(I.first+I.size-1,Si(I,ee).text.length,null,1,1);C<0&&(C=0);for(var pe=Si(I,F);;){var Se=Af(d,pe,F,C,T),Pe=Ji(pe,Se.ch+(Se.xRel>0||Se.outside>0?1:0));if(!Pe)return Se;var Ge=Pe.find(1);if(Ge.line==F)return Ge;pe=Si(I,F=Ge.line)}}function el(d,C,T,I){I-=Rc(C);var F=C.text.length,ee=Ie(function(pe){return rA(d,T,pe-1).bottom<=I},F,0);return F=Ie(function(pe){return rA(d,T,pe).top>I},ee,F),{begin:ee,end:F}}function Uo(d,C,T,I){T||(T=vA(d,C));var F=ql(d,C,rA(d,T,I),"line").top;return el(d,C,T,F)}function ih(d,C,T,I){return d.bottom<=T?!1:d.top>T?!0:(I?d.left:d.right)>C}function Af(d,C,T,I,F){F-=Qo(C);var ee=vA(d,C),pe=Rc(C),Se=0,Pe=C.text.length,Ge=!0,_t=Ze(C,d.doc.direction);if(_t){var Tt=(d.options.lineWrapping?Pd:fu)(d,C,T,ee,_t,I,F);Ge=Tt.level!=1,Se=Ge?Tt.from:Tt.to-1,Pe=Ge?Tt.to:Tt.from-1}var en=null,Vt=null,bn=Ie(function(ur){var Vi=rA(d,ee,ur);return Vi.top+=pe,Vi.bottom+=pe,ih(Vi,I,F,!1)?(Vi.top<=F&&Vi.left<=I&&(en=ur,Vt=Vi),!0):!1},Se,Pe),Pn,ai,gi=!1;if(Vt){var _i=I-Vt.left<Vt.right-I,yi=_i==Ge;bn=en+(yi?0:1),ai=yi?"after":"before",Pn=_i?Vt.left:Vt.right}else{!Ge&&(bn==Pe||bn==Se)&&bn++,ai=bn==0?"after":bn==C.text.length?"before":rA(d,ee,bn-(Ge?1:0)).bottom+pe<=F==Ge?"after":"before";var Pi=Cn(d,an(T,bn,ai),"line",C,ee);Pn=Pi.left,gi=F<Pi.top?-1:F>=Pi.bottom?1:0}return bn=me(C.text,bn,1),Or(T,bn,ai,gi,I-Pn)}function fu(d,C,T,I,F,ee,pe){var Se=Ie(function(Tt){var en=F[Tt],Vt=en.level!=1;return ih(Cn(d,an(T,Vt?en.to:en.from,Vt?"before":"after"),"line",C,I),ee,pe,!0)},0,F.length-1),Pe=F[Se];if(Se>0){var Ge=Pe.level!=1,_t=Cn(d,an(T,Ge?Pe.from:Pe.to,Ge?"after":"before"),"line",C,I);ih(_t,ee,pe,!0)&&_t.top>pe&&(Pe=F[Se-1])}return Pe}function Pd(d,C,T,I,F,ee,pe){var Se=el(d,C,I,pe),Pe=Se.begin,Ge=Se.end;/\s/.test(C.text.charAt(Ge-1))&&Ge--;for(var _t=null,Tt=null,en=0;en<F.length;en++){var Vt=F[en];if(!(Vt.from>=Ge||Vt.to<=Pe)){var bn=Vt.level!=1,Pn=rA(d,I,bn?Math.min(Ge,Vt.to)-1:Math.max(Pe,Vt.from)).right,ai=Pn<ee?ee-Pn+1e9:Pn-ee;(!_t||Tt>ai)&&(_t=Vt,Tt=ai)}}return _t||(_t=F[F.length-1]),_t.from<Pe&&(_t={from:Pe,to:_t.to,level:_t.level}),_t.to>Ge&&(_t={from:_t.from,to:Ge,level:_t.level}),_t}var CA;function Du(d){if(d.cachedTextHeight!=null)return d.cachedTextHeight;if(CA==null){CA=Ce("pre",null,"CodeMirror-line-like");for(var C=0;C<49;++C)CA.appendChild(document.createTextNode("x")),CA.appendChild(Ce("br"));CA.appendChild(document.createTextNode("x"))}ze(d.measure,CA);var T=CA.offsetHeight/50;return T>3&&(d.cachedTextHeight=T),be(d.measure),T||1}function Ru(d){if(d.cachedCharWidth!=null)return d.cachedCharWidth;var C=Ce("span","xxxxxxxxxx"),T=Ce("pre",[C],"CodeMirror-line-like");ze(d.measure,T);var I=C.getBoundingClientRect(),F=(I.right-I.left)/10;return F>2&&(d.cachedCharWidth=F),F||10}function Ul(d){for(var C=d.display,T={},I={},F=C.gutters.clientLeft,ee=C.gutters.firstChild,pe=0;ee;ee=ee.nextSibling,++pe){var Se=d.display.gutterSpecs[pe].className;T[Se]=ee.offsetLeft+ee.clientLeft+F,I[Se]=ee.clientWidth}return{fixedPos:Yo(C),gutterTotalWidth:C.gutters.offsetWidth,gutterLeft:T,gutterWidth:I,wrapperWidth:C.wrapper.clientWidth}}function Yo(d){return d.scroller.getBoundingClientRect().left-d.sizer.getBoundingClientRect().left}function _A(d){var C=Du(d.display),T=d.options.lineWrapping,I=T&&Math.max(5,d.display.scroller.clientWidth/Ru(d.display)-3);return function(F){if(vr(d.doc,F))return 0;var ee=0;if(F.widgets)for(var pe=0;pe<F.widgets.length;pe++)F.widgets[pe].height&&(ee+=F.widgets[pe].height);return T?ee+(Math.ceil(F.text.length/I)||1)*C:ee+C}}function nd(d){var C=d.doc,T=_A(d);C.iter(function(I){var F=T(I);F!=I.height&&ea(I,F)})}function qa(d,C,T,I){var F=d.display;if(!T&&di(C).getAttribute("cm-not-content")=="true")return null;var ee,pe,Se=F.lineSpace.getBoundingClientRect();try{ee=C.clientX-Se.left,pe=C.clientY-Se.top}catch{return null}var Pe=ko(d,ee,pe),Ge;if(I&&Pe.xRel>0&&(Ge=Si(d.doc,Pe.line).text).length==Pe.ch){var _t=Ke(Ge,Ge.length,d.options.tabSize)-Ge.length;Pe=an(Pe.line,Math.max(0,Math.round((ee-Dd(d.display).left)/Ru(d.display))-_t))}return Pe}function tl(d,C){if(C>=d.display.viewTo||(C-=d.display.viewFrom,C<0))return null;for(var T=d.display.view,I=0;I<T.length;I++)if(C-=T[I].size,C<0)return I}function Ts(d,C,T,I){C==null&&(C=d.doc.first),T==null&&(T=d.doc.first+d.doc.size),I||(I=0);var F=d.display;if(I&&T<F.viewTo&&(F.updateLineNumbers==null||F.updateLineNumbers>C)&&(F.updateLineNumbers=C),d.curOp.viewChanged=!0,C>=F.viewTo)Io&&fo(d.doc,C)<F.viewTo&&Hl(d);else if(T<=F.viewFrom)Io&&dr(d.doc,T+I)>F.viewFrom?Hl(d):(F.viewFrom+=I,F.viewTo+=I);else if(C<=F.viewFrom&&T>=F.viewTo)Hl(d);else if(C<=F.viewFrom){var ee=Pu(d,T,T+I,1);ee?(F.view=F.view.slice(ee.index),F.viewFrom=ee.lineN,F.viewTo+=I):Hl(d)}else if(T>=F.viewTo){var pe=Pu(d,C,C,-1);pe?(F.view=F.view.slice(0,pe.index),F.viewTo=pe.lineN):Hl(d)}else{var Se=Pu(d,C,C,-1),Pe=Pu(d,T,T+I,1);Se&&Pe?(F.view=F.view.slice(0,Se.index).concat(Sh(d,Se.lineN,Pe.lineN)).concat(F.view.slice(Pe.index)),F.viewTo+=I):Hl(d)}var Ge=F.externalMeasured;Ge&&(T<Ge.lineN?Ge.lineN+=I:C<Ge.lineN+Ge.size&&(F.externalMeasured=null))}function oA(d,C,T){d.curOp.viewChanged=!0;var I=d.display,F=d.display.externalMeasured;if(F&&C>=F.lineN&&C<F.lineN+F.size&&(I.externalMeasured=null),!(C<I.viewFrom||C>=I.viewTo)){var ee=I.view[tl(d,C)];if(ee.node!=null){var pe=ee.changes||(ee.changes=[]);Ve(pe,T)==-1&&pe.push(T)}}}function Hl(d){d.display.viewFrom=d.display.viewTo=d.doc.first,d.display.view=[],d.display.viewOffset=0}function Pu(d,C,T,I){var F=tl(d,C),ee,pe=d.display.view;if(!Io||T==d.doc.first+d.doc.size)return{index:F,lineN:T};for(var Se=d.display.viewFrom,Pe=0;Pe<F;Pe++)Se+=pe[Pe].size;if(Se!=C){if(I>0){if(F==pe.length-1)return null;ee=Se+pe[F].size-C,F++}else ee=Se-C;C+=ee,T+=ee}for(;fo(d.doc,T)!=T;){if(F==(I<0?0:pe.length-1))return null;T+=I*pe[F-(I<0?1:0)].size,F+=I}return{index:F,lineN:T}}function pc(d,C,T){var I=d.display,F=I.view;F.length==0||C>=I.viewTo||T<=I.viewFrom?(I.view=Sh(d,C,T),I.viewFrom=C):(I.viewFrom>C?I.view=Sh(d,C,I.viewFrom).concat(I.view):I.viewFrom<C&&(I.view=I.view.slice(tl(d,C))),I.viewFrom=C,I.viewTo<T?I.view=I.view.concat(Sh(d,I.viewTo,T)):I.viewTo>T&&(I.view=I.view.slice(0,tl(d,T)))),I.viewTo=T}function Uu(d){for(var C=d.display.view,T=0,I=0;I<C.length;I++){var F=C[I];!F.hidden&&(!F.node||F.changes)&&++T}return T}function Pc(d){d.display.input.showSelection(d.display.input.prepareSelection())}function Ih(d,C){C===void 0&&(C=!0);var T=d.doc,I={},F=I.cursors=document.createDocumentFragment(),ee=I.selection=document.createDocumentFragment(),pe=d.options.$customCursor;pe&&(C=!0);for(var Se=0;Se<T.sel.ranges.length;Se++)if(!(!C&&Se==T.sel.primIndex)){var Pe=T.sel.ranges[Se];if(!(Pe.from().line>=d.display.viewTo||Pe.to().line<d.display.viewFrom)){var Ge=Pe.empty();if(pe){var _t=pe(d,Pe);_t&&Pr(d,_t,F)}else(Ge||d.options.showCursorWhenSelecting)&&Pr(d,Pe.head,F);Ge||aA(d,Pe,ee)}}return I}function Pr(d,C,T){var I=Cn(d,C,"div",null,null,!d.options.singleCursorHeightPerLine),F=T.appendChild(Ce("div"," ","CodeMirror-cursor"));if(F.style.left=I.left+"px",F.style.top=I.top+"px",F.style.height=Math.max(0,I.bottom-I.top)*d.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(d.getWrapperElement().className)){var ee=En(d,C,"div",null,null),pe=ee.right-ee.left;F.style.width=(pe>0?pe:d.defaultCharWidth())+"px"}if(I.other){var Se=T.appendChild(Ce("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));Se.style.display="",Se.style.left=I.other.left+"px",Se.style.top=I.other.top+"px",Se.style.height=(I.other.bottom-I.other.top)*.85+"px"}}function mc(d,C){return d.top-C.top||d.left-C.left}function aA(d,C,T){var I=d.display,F=d.doc,ee=document.createDocumentFragment(),pe=Dd(d.display),Se=pe.left,Pe=Math.max(I.sizerWidth,iA(d)-I.sizer.offsetLeft)-pe.right,Ge=F.direction=="ltr";function _t(yi,Pi,ur,Vi){Pi<0&&(Pi=0),Pi=Math.round(Pi),Vi=Math.round(Vi),ee.appendChild(Ce("div",null,"CodeMirror-selected","position: absolute; left: "+yi+`px;
                             top: `+Pi+"px; width: "+(ur??Pe-yi)+`px;
                             height: `+(Vi-Pi)+"px"))}function Tt(yi,Pi,ur){var Vi=Si(F,yi),to=Vi.text.length,Er,As;function ma(ws,ga){return En(d,an(yi,ws),"div",Vi,ga)}function Vr(ws,ga,nu){var Ps=Uo(d,Vi,null,ws),Hs=ga=="ltr"==(nu=="after")?"left":"right",kr=nu=="after"?Ps.begin:Ps.end-(/\s/.test(Vi.text.charAt(Ps.end-1))?2:1);return ma(kr,Hs)[Hs]}var Ms=Ze(Vi,F.direction);return Qe(Ms,Pi||0,ur??to,function(ws,ga,nu,Ps){var Hs=nu=="ltr",kr=ma(ws,Hs?"left":"right"),ka=ma(ga-1,Hs?"right":"left"),iu=Pi==null&&ws==0,xc=ur==null&&ga==to,bu=Ps==0,dh=!Ms||Ps==Ms.length-1;if(ka.top-kr.top<=3){var gs=(Ge?iu:xc)&&bu,kA=(Ge?xc:iu)&&dh,Ol=gs?Se:(Hs?kr:ka).left,Mc=kA?Pe:(Hs?ka:kr).right;_t(Ol,kr.top,Mc-Ol,kr.bottom)}else{var hl,xu,ic,fd;Hs?(hl=Ge&&iu&&bu?Se:kr.left,xu=Ge?Pe:Vr(ws,nu,"before"),ic=Ge?Se:Vr(ga,nu,"after"),fd=Ge&&xc&&dh?Pe:ka.right):(hl=Ge?Vr(ws,nu,"before"):Se,xu=!Ge&&iu&&bu?Pe:kr.right,ic=!Ge&&xc&&dh?Se:ka.left,fd=Ge?Vr(ga,nu,"after"):Pe),_t(hl,kr.top,xu-hl,kr.bottom),kr.bottom<ka.top&&_t(Se,kr.bottom,null,ka.top),_t(ic,ka.top,fd-ic,ka.bottom)}(!Er||mc(kr,Er)<0)&&(Er=kr),mc(ka,Er)<0&&(Er=ka),(!As||mc(kr,As)<0)&&(As=kr),mc(ka,As)<0&&(As=ka)}),{start:Er,end:As}}var en=C.from(),Vt=C.to();if(en.line==Vt.line)Tt(en.line,en.ch,Vt.ch);else{var bn=Si(F,en.line),Pn=Si(F,Vt.line),ai=Ui(bn)==Ui(Pn),gi=Tt(en.line,en.ch,ai?bn.text.length+1:null).end,_i=Tt(Vt.line,ai?0:null,Vt.ch).start;ai&&(gi.top<_i.top-2?(_t(gi.right,gi.top,null,gi.bottom),_t(Se,_i.top,_i.left,_i.bottom)):_t(gi.right,gi.top,_i.left-gi.right,gi.bottom)),gi.bottom<_i.top&&_t(Se,gi.bottom,null,_i.top)}T.appendChild(ee)}function Uc(d){if(d.state.focused){var C=d.display;clearInterval(C.blinker);var T=!0;C.cursorDiv.style.visibility="",d.options.cursorBlinkRate>0?C.blinker=setInterval(function(){d.hasFocus()||bA(d),C.cursorDiv.style.visibility=(T=!T)?"":"hidden"},d.options.cursorBlinkRate):d.options.cursorBlinkRate<0&&(C.cursorDiv.style.visibility="hidden")}}function ks(d){d.hasFocus()||(d.display.input.focus(),d.state.focused||Ud(d))}function Th(d){d.state.delayingBlurEvent=!0,setTimeout(function(){d.state.delayingBlurEvent&&(d.state.delayingBlurEvent=!1,d.state.focused&&bA(d))},100)}function Ud(d,C){d.state.delayingBlurEvent&&!d.state.draggingText&&(d.state.delayingBlurEvent=!1),d.options.readOnly!="nocursor"&&(d.state.focused||(rt(d,"focus",d,C),d.state.focused=!0,ue(d.display.wrapper,"CodeMirror-focused"),!d.curOp&&d.display.selForContextMenu!=d.doc.sel&&(d.display.input.reset(),_&&setTimeout(function(){return d.display.input.reset(!0)},20)),d.display.input.receivedFocus()),Uc(d))}function bA(d,C){d.state.delayingBlurEvent||(d.state.focused&&(rt(d,"blur",d,C),d.state.focused=!1,Me(d.display.wrapper,"CodeMirror-focused")),clearInterval(d.display.blinker),setTimeout(function(){d.state.focused||(d.display.shift=!1)},150))}function Kd(d){for(var C=d.display,T=C.lineDiv.offsetTop,I=Math.max(0,C.scroller.getBoundingClientRect().top),F=C.lineDiv.getBoundingClientRect().top,ee=0,pe=0;pe<C.view.length;pe++){var Se=C.view[pe],Pe=d.options.lineWrapping,Ge=void 0,_t=0;if(!Se.hidden){if(F+=Se.line.height,p&&g<8){var Tt=Se.node.offsetTop+Se.node.offsetHeight;Ge=Tt-T,T=Tt}else{var en=Se.node.getBoundingClientRect();Ge=en.bottom-en.top,!Pe&&Se.text.firstChild&&(_t=Se.text.firstChild.getBoundingClientRect().right-en.left-1)}var Vt=Se.line.height-Ge;if((Vt>.005||Vt<-.005)&&(F<I&&(ee-=Vt),ea(Se.line,Ge),rh(Se.line),Se.rest))for(var bn=0;bn<Se.rest.length;bn++)rh(Se.rest[bn]);if(_t>d.display.sizerWidth){var Pn=Math.ceil(_t/Ru(d.display));Pn>d.display.maxLineLength&&(d.display.maxLineLength=Pn,d.display.maxLine=Se.line,d.display.maxLineChanged=!0)}}}Math.abs(ee)>2&&(C.scroller.scrollTop+=ee)}function rh(d){if(d.widgets)for(var C=0;C<d.widgets.length;++C){var T=d.widgets[C],I=T.node.parentNode;I&&(T.height=I.offsetHeight)}}function Ku(d,C,T){var I=T&&T.top!=null?Math.max(0,T.top):d.scroller.scrollTop;I=Math.floor(I-kc(d));var F=T&&T.bottom!=null?T.bottom:I+d.wrapper.clientHeight,ee=Bt(C,I),pe=Bt(C,F);if(T&&T.ensure){var Se=T.ensure.from.line,Pe=T.ensure.to.line;Se<ee?(ee=Se,pe=Bt(C,Qo(Si(C,Se))+d.wrapper.clientHeight)):Math.min(Pe,C.lastLine())>=pe&&(ee=Bt(C,Qo(Si(C,Pe))-d.wrapper.clientHeight),pe=Pe)}return{from:ee,to:Math.max(pe,ee+1)}}function QA(d,C){if(!tn(d,"scrollCursorIntoView")){var T=d.display,I=T.sizer.getBoundingClientRect(),F=null,ee=T.wrapper.ownerDocument;if(C.top+I.top<0?F=!0:C.bottom+I.top>(ee.defaultView.innerHeight||ee.documentElement.clientHeight)&&(F=!1),F!=null&&!$){var pe=Ce("div","​",null,`position: absolute;
                         top: `+(C.top-T.viewOffset-kc(d.display))+`px;
                         height: `+(C.bottom-C.top+GA(d)+T.barHeight)+`px;
                         left: `+C.left+"px; width: "+Math.max(2,C.right-C.left)+"px;");d.display.lineSpace.appendChild(pe),pe.scrollIntoView(F),d.display.lineSpace.removeChild(pe)}}}function kh(d,C,T,I){I==null&&(I=0);var F;!d.options.lineWrapping&&C==T&&(T=C.sticky=="before"?an(C.line,C.ch+1,"before"):C,C=C.ch?an(C.line,C.sticky=="before"?C.ch-1:C.ch,"after"):C);for(var ee=0;ee<5;ee++){var pe=!1,Se=Cn(d,C),Pe=!T||T==C?Se:Cn(d,T);F={left:Math.min(Se.left,Pe.left),top:Math.min(Se.top,Pe.top)-I,right:Math.max(Se.left,Pe.left),bottom:Math.max(Se.bottom,Pe.bottom)+I};var Ge=Lu(d,F),_t=d.doc.scrollTop,Tt=d.doc.scrollLeft;if(Ge.scrollTop!=null&&(oh(d,Ge.scrollTop),Math.abs(d.doc.scrollTop-_t)>1&&(pe=!0)),Ge.scrollLeft!=null&&(Ma(d,Ge.scrollLeft),Math.abs(d.doc.scrollLeft-Tt)>1&&(pe=!0)),!pe)break}return F}function id(d,C){var T=Lu(d,C);T.scrollTop!=null&&oh(d,T.scrollTop),T.scrollLeft!=null&&Ma(d,T.scrollLeft)}function Lu(d,C){var T=d.display,I=Du(d.display);C.top<0&&(C.top=0);var F=d.curOp&&d.curOp.scrollTop!=null?d.curOp.scrollTop:T.scroller.scrollTop,ee=ed(d),pe={};C.bottom-C.top>ee&&(C.bottom=C.top+ee);var Se=d.doc.height+kd(T),Pe=C.top<I,Ge=C.bottom>Se-I;if(C.top<F)pe.scrollTop=Pe?0:C.top;else if(C.bottom>F+ee){var _t=Math.min(C.top,(Ge?Se:C.bottom)-ee);_t!=F&&(pe.scrollTop=_t)}var Tt=d.options.fixedGutter?0:T.gutters.offsetWidth,en=d.curOp&&d.curOp.scrollLeft!=null?d.curOp.scrollLeft:T.scroller.scrollLeft-Tt,Vt=iA(d)-T.gutters.offsetWidth,bn=C.right-C.left>Vt;return bn&&(C.right=C.left+Vt),C.left<10?pe.scrollLeft=0:C.left<en?pe.scrollLeft=Math.max(0,C.left+Tt-(bn?0:10)):C.right>Vt+en-3&&(pe.scrollLeft=C.right+(bn?0:10)-Vt),pe}function Kl(d,C){C!=null&&(qA(d),d.curOp.scrollTop=(d.curOp.scrollTop==null?d.doc.scrollTop:d.curOp.scrollTop)+C)}function qo(d){qA(d);var C=d.getCursor();d.curOp.scrollToPos={from:C,to:C,margin:d.options.cursorScrollMargin}}function ha(d,C,T){(C!=null||T!=null)&&qA(d),C!=null&&(d.curOp.scrollLeft=C),T!=null&&(d.curOp.scrollTop=T)}function YA(d,C){qA(d),d.curOp.scrollToPos=C}function qA(d){var C=d.curOp.scrollToPos;if(C){d.curOp.scrollToPos=null;var T=Di(d,C.from),I=Di(d,C.to);Kc(d,T,I,C.margin)}}function Kc(d,C,T,I){var F=Lu(d,{left:Math.min(C.left,T.left),top:Math.min(C.top,T.top)-I,right:Math.max(C.right,T.right),bottom:Math.max(C.bottom,T.bottom)+I});ha(d,F.scrollLeft,F.scrollTop)}function oh(d,C){Math.abs(d.doc.scrollTop-C)<2||(r||Ea(d,{top:C}),ah(d,C,!0),r&&Ea(d),lh(d,100))}function ah(d,C,T){C=Math.max(0,Math.min(d.display.scroller.scrollHeight-d.display.scroller.clientHeight,C)),!(d.display.scroller.scrollTop==C&&!T)&&(d.doc.scrollTop=C,d.display.scrollbars.setScrollTop(C),d.display.scroller.scrollTop!=C&&(d.display.scroller.scrollTop=C))}function Ma(d,C,T,I){C=Math.max(0,Math.min(C,d.display.scroller.scrollWidth-d.display.scroller.clientWidth)),!((T?C==d.doc.scrollLeft:Math.abs(d.doc.scrollLeft-C)<2)&&!I)&&(d.doc.scrollLeft=C,ff(d),d.display.scroller.scrollLeft!=C&&(d.display.scroller.scrollLeft=C),d.display.scrollbars.setScrollLeft(C))}function Sa(d){var C=d.display,T=C.gutters.offsetWidth,I=Math.round(d.doc.height+kd(d.display));return{clientHeight:C.scroller.clientHeight,viewHeight:C.wrapper.clientHeight,scrollWidth:C.scroller.scrollWidth,clientWidth:C.scroller.clientWidth,viewWidth:C.wrapper.clientWidth,barLeft:d.options.fixedGutter?T:0,docHeight:I,scrollHeight:I+GA(d)+C.barHeight,nativeBarWidth:C.nativeBarWidth,gutterWidth:T}}var Jr=function(d,C,T){this.cm=T;var I=this.vert=Ce("div",[Ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),F=this.horiz=Ce("div",[Ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");I.tabIndex=F.tabIndex=-1,d(I),d(F),yt(I,"scroll",function(){I.clientHeight&&C(I.scrollTop,"vertical")}),yt(F,"scroll",function(){F.clientWidth&&C(F.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Jr.prototype.update=function(d){var C=d.scrollWidth>d.clientWidth+1,T=d.scrollHeight>d.clientHeight+1,I=d.nativeBarWidth;if(T){this.vert.style.display="block",this.vert.style.bottom=C?I+"px":"0";var F=d.viewHeight-(C?I:0);this.vert.firstChild.style.height=Math.max(0,d.scrollHeight-d.clientHeight+F)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(C){this.horiz.style.display="block",this.horiz.style.right=T?I+"px":"0",this.horiz.style.left=d.barLeft+"px";var ee=d.viewWidth-d.barLeft-(T?I:0);this.horiz.firstChild.style.width=Math.max(0,d.scrollWidth-d.clientWidth+ee)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&d.clientHeight>0&&(I==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:T?I:0,bottom:C?I:0}},Jr.prototype.setScrollLeft=function(d){this.horiz.scrollLeft!=d&&(this.horiz.scrollLeft=d),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Jr.prototype.setScrollTop=function(d){this.vert.scrollTop!=d&&(this.vert.scrollTop=d),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Jr.prototype.zeroWidthHack=function(){var d=V&&!Q?"12px":"18px";this.horiz.style.height=this.vert.style.width=d,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ue,this.disableVert=new Ue},Jr.prototype.enableZeroWidthBar=function(d,C,T){d.style.visibility="";function I(){var F=d.getBoundingClientRect(),ee=T=="vert"?document.elementFromPoint(F.right-1,(F.top+F.bottom)/2):document.elementFromPoint((F.right+F.left)/2,F.bottom-1);ee!=d?d.style.visibility="hidden":C.set(1e3,I)}C.set(1e3,I)},Jr.prototype.clear=function(){var d=this.horiz.parentNode;d.removeChild(this.horiz),d.removeChild(this.vert)};var pu=function(){};pu.prototype.update=function(){return{bottom:0,right:0}},pu.prototype.setScrollLeft=function(){},pu.prototype.setScrollTop=function(){},pu.prototype.clear=function(){};function Qs(d,C){C||(C=Sa(d));var T=d.display.barWidth,I=d.display.barHeight;sh(d,C);for(var F=0;F<4&&T!=d.display.barWidth||I!=d.display.barHeight;F++)T!=d.display.barWidth&&d.options.lineWrapping&&Kd(d),sh(d,Sa(d)),T=d.display.barWidth,I=d.display.barHeight}function sh(d,C){var T=d.display,I=T.scrollbars.update(C);T.sizer.style.paddingRight=(T.barWidth=I.right)+"px",T.sizer.style.paddingBottom=(T.barHeight=I.bottom)+"px",T.heightForcer.style.borderBottom=I.bottom+"px solid transparent",I.right&&I.bottom?(T.scrollbarFiller.style.display="block",T.scrollbarFiller.style.height=I.bottom+"px",T.scrollbarFiller.style.width=I.right+"px"):T.scrollbarFiller.style.display="",I.bottom&&d.options.coverGutterNextToScrollbar&&d.options.fixedGutter?(T.gutterFiller.style.display="block",T.gutterFiller.style.height=I.bottom+"px",T.gutterFiller.style.width=C.gutterWidth+"px"):T.gutterFiller.style.display=""}var xA={native:Jr,null:pu};function cf(d){d.display.scrollbars&&(d.display.scrollbars.clear(),d.display.scrollbars.addClass&&Me(d.display.wrapper,d.display.scrollbars.addClass)),d.display.scrollbars=new xA[d.options.scrollbarStyle](function(C){d.display.wrapper.insertBefore(C,d.display.scrollbarFiller),yt(C,"mousedown",function(){d.state.focused&&setTimeout(function(){return d.display.input.focus()},0)}),C.setAttribute("cm-not-content","true")},function(C,T){T=="horizontal"?Ma(d,C):oh(d,C)},d),d.display.scrollbars.addClass&&ue(d.display.wrapper,d.display.scrollbars.addClass)}var _s=0;function ul(d){d.curOp={cm:d,viewChanged:!1,startHeight:d.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_s,markArrays:null},b0(d.curOp)}function Ys(d){var C=d.curOp;C&&qf(C,function(T){for(var I=0;I<T.ops.length;I++)T.ops[I].cm.curOp=null;hf(T)})}function hf(d){for(var C=d.ops,T=0;T<C.length;T++)HA(C[T]);for(var I=0;I<C.length;I++)Dh(C[I]);for(var F=0;F<C.length;F++)sA(C[F]);for(var ee=0;ee<C.length;ee++)at(C[ee]);for(var pe=0;pe<C.length;pe++)nl(C[pe])}function HA(d){var C=d.cm,T=C.display;uh(C),d.updateMaxLine&&Js(C),d.mustUpdate=d.viewChanged||d.forceUpdate||d.scrollTop!=null||d.scrollToPos&&(d.scrollToPos.from.line<T.viewFrom||d.scrollToPos.to.line>=T.viewTo)||T.maxLineChanged&&C.options.lineWrapping,d.update=d.mustUpdate&&new Ko(C,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}function Dh(d){d.updatedDisplay=d.mustUpdate&&df(d.cm,d.update)}function sA(d){var C=d.cm,T=C.display;d.updatedDisplay&&Kd(C),d.barMeasure=Sa(C),T.maxLineChanged&&!C.options.lineWrapping&&(d.adjustWidthTo=nh(C,T.maxLine,T.maxLine.text.length).left+3,C.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(T.scroller.clientWidth,T.sizer.offsetLeft+d.adjustWidthTo+GA(C)+C.display.barWidth),d.maxScrollLeft=Math.max(0,T.sizer.offsetLeft+d.adjustWidthTo-iA(C))),(d.updatedDisplay||d.selectionChanged)&&(d.preparedSelection=T.input.prepareSelection())}function at(d){var C=d.cm;d.adjustWidthTo!=null&&(C.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<C.doc.scrollLeft&&Ma(C,Math.min(C.display.scroller.scrollLeft,d.maxScrollLeft),!0),C.display.maxLineChanged=!1);var T=d.focus&&d.focus==it(Et(C));d.preparedSelection&&C.display.input.showSelection(d.preparedSelection,T),(d.updatedDisplay||d.startHeight!=C.doc.height)&&Qs(C,d.barMeasure),d.updatedDisplay&&VA(C,d.barMeasure),d.selectionChanged&&Uc(C),C.state.focused&&d.updateInput&&C.display.input.reset(d.typing),T&&ks(d.cm)}function nl(d){var C=d.cm,T=C.display,I=C.doc;if(d.updatedDisplay&&jp(C,d.update),T.wheelStartX!=null&&(d.scrollTop!=null||d.scrollLeft!=null||d.scrollToPos)&&(T.wheelStartX=T.wheelStartY=null),d.scrollTop!=null&&ah(C,d.scrollTop,d.forceScroll),d.scrollLeft!=null&&Ma(C,d.scrollLeft,!0,!0),d.scrollToPos){var F=kh(C,Hi(I,d.scrollToPos.from),Hi(I,d.scrollToPos.to),d.scrollToPos.margin);QA(C,F)}var ee=d.maybeHiddenMarkers,pe=d.maybeUnhiddenMarkers;if(ee)for(var Se=0;Se<ee.length;++Se)ee[Se].lines.length||rt(ee[Se],"hide");if(pe)for(var Pe=0;Pe<pe.length;++Pe)pe[Pe].lines.length&&rt(pe[Pe],"unhide");T.wrapper.offsetHeight&&(I.scrollTop=C.display.scroller.scrollTop),d.changeObjs&&rt(C,"changes",C,d.changeObjs),d.update&&d.update.finish()}function Ha(d,C){if(d.curOp)return C();ul(d);try{return C()}finally{Ys(d)}}function na(d,C){return function(){if(d.curOp)return C.apply(d,arguments);ul(d);try{return C.apply(d,arguments)}finally{Ys(d)}}}function Cr(d){return function(){if(this.curOp)return d.apply(this,arguments);ul(this);try{return d.apply(this,arguments)}finally{Ys(this)}}}function bs(d){return function(){var C=this.cm;if(!C||C.curOp)return d.apply(this,arguments);ul(C);try{return d.apply(this,arguments)}finally{Ys(C)}}}function lh(d,C){d.doc.highlightFrontier<d.display.viewTo&&d.state.highlight.set(C,Kt(Rh,d))}function Rh(d){var C=d.doc;if(!(C.highlightFrontier>=d.display.viewTo)){var T=+new Date+d.options.workTime,I=ta(d,C.highlightFrontier),F=[];C.iter(I.line,Math.min(C.first+C.size,d.display.viewTo+500),function(ee){if(I.line>=d.display.viewFrom){var pe=ee.styles,Se=ee.text.length>d.options.maxHighlightLength?ho(C.mode,I.state):null,Pe=Tc(d,ee,I,!0);Se&&(I.state=Se),ee.styles=Pe.styles;var Ge=ee.styleClasses,_t=Pe.classes;_t?ee.styleClasses=_t:Ge&&(ee.styleClasses=null);for(var Tt=!pe||pe.length!=ee.styles.length||Ge!=_t&&(!Ge||!_t||Ge.bgClass!=_t.bgClass||Ge.textClass!=_t.textClass),en=0;!Tt&&en<pe.length;++en)Tt=pe[en]!=ee.styles[en];Tt&&F.push(I.line),ee.stateAfter=I.save(),I.nextLine()}else ee.text.length<=d.options.maxHighlightLength&&Po(d,ee.text,I),ee.stateAfter=I.line%5==0?I.save():null,I.nextLine();if(+new Date>T)return lh(d,d.options.workDelay),!0}),C.highlightFrontier=I.line,C.modeFrontier=Math.max(C.modeFrontier,I.line),F.length&&Ha(d,function(){for(var ee=0;ee<F.length;ee++)oA(d,F[ee],"text")})}}var Ko=function(d,C,T){var I=d.display;this.viewport=C,this.visible=Ku(I,d.doc,C),this.editorIsHidden=!I.wrapper.offsetWidth,this.wrapperHeight=I.wrapper.clientHeight,this.wrapperWidth=I.wrapper.clientWidth,this.oldDisplayWidth=iA(d),this.force=T,this.dims=Ul(d),this.events=[]};Ko.prototype.signal=function(d,C){wn(d,C)&&this.events.push(arguments)},Ko.prototype.finish=function(){for(var d=0;d<this.events.length;d++)rt.apply(null,this.events[d])};function uh(d){var C=d.display;!C.scrollbarsClipped&&C.scroller.offsetWidth&&(C.nativeBarWidth=C.scroller.offsetWidth-C.scroller.clientWidth,C.heightForcer.style.height=GA(d)+"px",C.sizer.style.marginBottom=-C.nativeBarWidth+"px",C.sizer.style.borderRightWidth=GA(d)+"px",C.scrollbarsClipped=!0)}function Fu(d){if(d.hasFocus())return null;var C=it(Et(d));if(!C||!mt(d.display.lineDiv,C))return null;var T={activeElt:C};if(window.getSelection){var I=xt(d).getSelection();I.anchorNode&&I.extend&&mt(d.display.lineDiv,I.anchorNode)&&(T.anchorNode=I.anchorNode,T.anchorOffset=I.anchorOffset,T.focusNode=I.focusNode,T.focusOffset=I.focusOffset)}return T}function Ld(d){if(!(!d||!d.activeElt||d.activeElt==it(gt(d.activeElt)))&&(d.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(d.activeElt.nodeName)&&d.anchorNode&&mt(document.body,d.anchorNode)&&mt(document.body,d.focusNode))){var C=d.activeElt.ownerDocument,T=C.defaultView.getSelection(),I=C.createRange();I.setEnd(d.anchorNode,d.anchorOffset),I.collapse(!1),T.removeAllRanges(),T.addRange(I),T.extend(d.focusNode,d.focusOffset)}}function df(d,C){var T=d.display,I=d.doc;if(C.editorIsHidden)return Hl(d),!1;if(!C.force&&C.visible.from>=T.viewFrom&&C.visible.to<=T.viewTo&&(T.updateLineNumbers==null||T.updateLineNumbers>=T.viewTo)&&T.renderedView==T.view&&Uu(d)==0)return!1;Al(d)&&(Hl(d),C.dims=Ul(d));var F=I.first+I.size,ee=Math.max(C.visible.from-d.options.viewportMargin,I.first),pe=Math.min(F,C.visible.to+d.options.viewportMargin);T.viewFrom<ee&&ee-T.viewFrom<20&&(ee=Math.max(I.first,T.viewFrom)),T.viewTo>pe&&T.viewTo-pe<20&&(pe=Math.min(F,T.viewTo)),Io&&(ee=fo(d.doc,ee),pe=dr(d.doc,pe));var Se=ee!=T.viewFrom||pe!=T.viewTo||T.lastWrapHeight!=C.wrapperHeight||T.lastWrapWidth!=C.wrapperWidth;pc(d,ee,pe),T.viewOffset=Qo(Si(d.doc,T.viewFrom)),d.display.mover.style.top=T.viewOffset+"px";var Pe=Uu(d);if(!Se&&Pe==0&&!C.force&&T.renderedView==T.view&&(T.updateLineNumbers==null||T.updateLineNumbers>=T.viewTo))return!1;var Ge=Fu(d);return Pe>4&&(T.lineDiv.style.display="none"),Ph(d,T.updateLineNumbers,C.dims),Pe>4&&(T.lineDiv.style.display=""),T.renderedView=T.view,Ld(Ge),be(T.cursorDiv),be(T.selectionDiv),T.gutters.style.height=T.sizer.style.minHeight=0,Se&&(T.lastWrapHeight=C.wrapperHeight,T.lastWrapWidth=C.wrapperWidth,lh(d,400)),T.updateLineNumbers=null,!0}function jp(d,C){for(var T=C.viewport,I=!0;;I=!1){if(!I||!d.options.lineWrapping||C.oldDisplayWidth==iA(d)){if(T&&T.top!=null&&(T={top:Math.min(d.doc.height+kd(d.display)-ed(d),T.top)}),C.visible=Ku(d.display,d.doc,T),C.visible.from>=d.display.viewFrom&&C.visible.to<=d.display.viewTo)break}else I&&(C.visible=Ku(d.display,d.doc,T));if(!df(d,C))break;Kd(d);var F=Sa(d);Pc(d),Qs(d,F),VA(d,F),C.force=!1}C.signal(d,"update",d),(d.display.viewFrom!=d.display.reportedViewFrom||d.display.viewTo!=d.display.reportedViewTo)&&(C.signal(d,"viewportChange",d,d.display.viewFrom,d.display.viewTo),d.display.reportedViewFrom=d.display.viewFrom,d.display.reportedViewTo=d.display.viewTo)}function Ea(d,C){var T=new Ko(d,C);if(df(d,T)){Kd(d),jp(d,T);var I=Sa(d);Pc(d),Qs(d,I),VA(d,I),T.finish()}}function Ph(d,C,T){var I=d.display,F=d.options.lineNumbers,ee=I.lineDiv,pe=ee.firstChild;function Se(bn){var Pn=bn.nextSibling;return _&&V&&d.display.currentWheelTarget==bn?bn.style.display="none":bn.parentNode.removeChild(bn),Pn}for(var Pe=I.view,Ge=I.viewFrom,_t=0;_t<Pe.length;_t++){var Tt=Pe[_t];if(!Tt.hidden)if(!Tt.node||Tt.node.parentNode!=ee){var en=Jh(d,Tt,Ge,T);ee.insertBefore(en,pe)}else{for(;pe!=Tt.node;)pe=Se(pe);var Vt=F&&C!=null&&C<=Ge&&Tt.lineNumber;Tt.changes&&(Ve(Tt.changes,"gutter")>-1&&(Vt=!1),Yl(d,Tt,Ge,T)),Vt&&(be(Tt.lineNumber),Tt.lineNumber.appendChild(document.createTextNode(Wn(d.options,Ge)))),pe=Tt.node.nextSibling}Ge+=Tt.size}for(;pe;)pe=Se(pe)}function Ah(d){var C=d.gutters.offsetWidth;d.sizer.style.marginLeft=C+"px",as(d,"gutterChanged",d)}function VA(d,C){d.display.sizer.style.minHeight=C.docHeight+"px",d.display.heightForcer.style.top=C.docHeight+"px",d.display.gutters.style.height=C.docHeight+d.display.barHeight+GA(d)+"px"}function ff(d){var C=d.display,T=C.view;if(!(!C.alignWidgets&&(!C.gutters.firstChild||!d.options.fixedGutter))){for(var I=Yo(C)-C.scroller.scrollLeft+d.doc.scrollLeft,F=C.gutters.offsetWidth,ee=I+"px",pe=0;pe<T.length;pe++)if(!T[pe].hidden){d.options.fixedGutter&&(T[pe].gutter&&(T[pe].gutter.style.left=ee),T[pe].gutterBackground&&(T[pe].gutterBackground.style.left=ee));var Se=T[pe].alignable;if(Se)for(var Pe=0;Pe<Se.length;Pe++)Se[Pe].style.left=ee}d.options.fixedGutter&&(C.gutters.style.left=I+F+"px")}}function Al(d){if(!d.options.lineNumbers)return!1;var C=d.doc,T=Wn(d.options,C.first+C.size-1),I=d.display;if(T.length!=I.lineNumChars){var F=I.measure.appendChild(Ce("div",[Ce("div",T)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ee=F.firstChild.offsetWidth,pe=F.offsetWidth-ee;return I.lineGutter.style.width="",I.lineNumInnerWidth=Math.max(ee,I.lineGutter.offsetWidth-pe)+1,I.lineNumWidth=I.lineNumInnerWidth+pe,I.lineNumChars=I.lineNumInnerWidth?T.length:-1,I.lineGutter.style.width=I.lineNumWidth+"px",Ah(d.display),!0}return!1}function ss(d,C){for(var T=[],I=!1,F=0;F<d.length;F++){var ee=d[F],pe=null;if(typeof ee!="string"&&(pe=ee.style,ee=ee.className),ee=="CodeMirror-linenumbers")if(C)I=!0;else continue;T.push({className:ee,style:pe})}return C&&!I&&T.push({className:"CodeMirror-linenumbers",style:null}),T}function rd(d){var C=d.gutters,T=d.gutterSpecs;be(C),d.lineGutter=null;for(var I=0;I<T.length;++I){var F=T[I],ee=F.className,pe=F.style,Se=C.appendChild(Ce("div",null,"CodeMirror-gutter "+ee));pe&&(Se.style.cssText=pe),ee=="CodeMirror-linenumbers"&&(d.lineGutter=Se,Se.style.width=(d.lineNumWidth||1)+"px")}C.style.display=T.length?"":"none",Ah(d)}function mu(d){rd(d.display),Ts(d),ff(d)}function Fd(d,C,T,I){var F=this;this.input=T,F.scrollbarFiller=Ce("div",null,"CodeMirror-scrollbar-filler"),F.scrollbarFiller.setAttribute("cm-not-content","true"),F.gutterFiller=Ce("div",null,"CodeMirror-gutter-filler"),F.gutterFiller.setAttribute("cm-not-content","true"),F.lineDiv=Fe("div",null,"CodeMirror-code"),F.selectionDiv=Ce("div",null,null,"position: relative; z-index: 1"),F.cursorDiv=Ce("div",null,"CodeMirror-cursors"),F.measure=Ce("div",null,"CodeMirror-measure"),F.lineMeasure=Ce("div",null,"CodeMirror-measure"),F.lineSpace=Fe("div",[F.measure,F.lineMeasure,F.selectionDiv,F.cursorDiv,F.lineDiv],null,"position: relative; outline: none");var ee=Fe("div",[F.lineSpace],"CodeMirror-lines");F.mover=Ce("div",[ee],null,"position: relative"),F.sizer=Ce("div",[F.mover],"CodeMirror-sizer"),F.sizerWidth=null,F.heightForcer=Ce("div",null,null,"position: absolute; height: "+bt+"px; width: 1px;"),F.gutters=Ce("div",null,"CodeMirror-gutters"),F.lineGutter=null,F.scroller=Ce("div",[F.sizer,F.heightForcer,F.gutters],"CodeMirror-scroll"),F.scroller.setAttribute("tabIndex","-1"),F.wrapper=Ce("div",[F.scrollbarFiller,F.gutterFiller,F.scroller],"CodeMirror"),O&&B===105&&(F.wrapper.style.clipPath="inset(0px)"),F.wrapper.setAttribute("translate","no"),p&&g<8&&(F.gutters.style.zIndex=-1,F.scroller.style.paddingRight=0),!_&&!(r&&ne)&&(F.scroller.draggable=!0),d&&(d.appendChild?d.appendChild(F.wrapper):d(F.wrapper)),F.viewFrom=F.viewTo=C.first,F.reportedViewFrom=F.reportedViewTo=C.first,F.view=[],F.renderedView=null,F.externalMeasured=null,F.viewOffset=0,F.lastWrapHeight=F.lastWrapWidth=0,F.updateLineNumbers=null,F.nativeBarWidth=F.barHeight=F.barWidth=0,F.scrollbarsClipped=!1,F.lineNumWidth=F.lineNumInnerWidth=F.lineNumChars=null,F.alignWidgets=!1,F.cachedCharWidth=F.cachedTextHeight=F.cachedPaddingH=null,F.maxLine=null,F.maxLineLength=0,F.maxLineChanged=!1,F.wheelDX=F.wheelDY=F.wheelStartX=F.wheelStartY=null,F.shift=!1,F.selForContextMenu=null,F.activeTouch=null,F.gutterSpecs=ss(I.gutters,I.lineNumbers),rd(F),T.init(F)}var pf=0,wl=null;p?wl=-.53:r?wl=15:O?wl=-.7:N&&(wl=-1/3);function Lc(d){var C=d.wheelDeltaX,T=d.wheelDeltaY;return C==null&&d.detail&&d.axis==d.HORIZONTAL_AXIS&&(C=d.detail),T==null&&d.detail&&d.axis==d.VERTICAL_AXIS?T=d.detail:T==null&&(T=d.wheelDelta),{x:C,y:T}}function Xf(d){var C=Lc(d);return C.x*=wl,C.y*=wl,C}function od(d,C){O&&B==102&&(d.display.chromeScrollHack==null?d.display.sizer.style.pointerEvents="none":clearTimeout(d.display.chromeScrollHack),d.display.chromeScrollHack=setTimeout(function(){d.display.chromeScrollHack=null,d.display.sizer.style.pointerEvents=""},100));var T=Lc(C),I=T.x,F=T.y,ee=wl;C.deltaMode===0&&(I=C.deltaX,F=C.deltaY,ee=1);var pe=d.display,Se=pe.scroller,Pe=Se.scrollWidth>Se.clientWidth,Ge=Se.scrollHeight>Se.clientHeight;if(I&&Pe||F&&Ge){if(F&&V&&_){e:for(var _t=C.target,Tt=pe.view;_t!=Se;_t=_t.parentNode)for(var en=0;en<Tt.length;en++)if(Tt[en].node==_t){d.display.currentWheelTarget=_t;break e}}if(I&&!r&&!z&&ee!=null){F&&Ge&&oh(d,Math.max(0,Se.scrollTop+F*ee)),Ma(d,Math.max(0,Se.scrollLeft+I*ee)),(!F||F&&Ge)&&Qn(C),pe.wheelStartX=null;return}if(F&&ee!=null){var Vt=F*ee,bn=d.doc.scrollTop,Pn=bn+pe.wrapper.clientHeight;Vt<0?bn=Math.max(0,bn+Vt-50):Pn=Math.min(d.doc.height,Pn+Vt+50),Ea(d,{top:bn,bottom:Pn})}pf<20&&C.deltaMode!==0&&(pe.wheelStartX==null?(pe.wheelStartX=Se.scrollLeft,pe.wheelStartY=Se.scrollTop,pe.wheelDX=I,pe.wheelDY=F,setTimeout(function(){if(pe.wheelStartX!=null){var ai=Se.scrollLeft-pe.wheelStartX,gi=Se.scrollTop-pe.wheelStartY,_i=gi&&pe.wheelDY&&gi/pe.wheelDY||ai&&pe.wheelDX&&ai/pe.wheelDX;pe.wheelStartX=pe.wheelStartY=null,_i&&(wl=(wl*pf+_i)/(pf+1),++pf)}},200)):(pe.wheelDX+=I,pe.wheelDY+=F))}}var wa=function(d,C){this.ranges=d,this.primIndex=C};wa.prototype.primary=function(){return this.ranges[this.primIndex]},wa.prototype.equals=function(d){if(d==this)return!0;if(d.primIndex!=this.primIndex||d.ranges.length!=this.ranges.length)return!1;for(var C=0;C<this.ranges.length;C++){var T=this.ranges[C],I=d.ranges[C];if(!no(T.anchor,I.anchor)||!no(T.head,I.head))return!1}return!0},wa.prototype.deepCopy=function(){for(var d=[],C=0;C<this.ranges.length;C++)d[C]=new eo(Oo(this.ranges[C].anchor),Oo(this.ranges[C].head));return new wa(d,this.primIndex)},wa.prototype.somethingSelected=function(){for(var d=0;d<this.ranges.length;d++)if(!this.ranges[d].empty())return!0;return!1},wa.prototype.contains=function(d,C){C||(C=d);for(var T=0;T<this.ranges.length;T++){var I=this.ranges[T];if(li(C,I.from())>=0&&li(d,I.to())<=0)return T}return-1};var eo=function(d,C){this.anchor=d,this.head=C};eo.prototype.from=function(){return Ws(this.anchor,this.head)},eo.prototype.to=function(){return ps(this.anchor,this.head)},eo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function hi(d,C,T){var I=d&&d.options.selectionsMayTouch,F=C[T];C.sort(function(en,Vt){return li(en.from(),Vt.from())}),T=Ve(C,F);for(var ee=1;ee<C.length;ee++){var pe=C[ee],Se=C[ee-1],Pe=li(Se.to(),pe.from());if(I&&!pe.empty()?Pe>0:Pe>=0){var Ge=Ws(Se.from(),pe.from()),_t=ps(Se.to(),pe.to()),Tt=Se.empty()?pe.from()==pe.head:Se.from()==Se.head;ee<=T&&--T,C.splice(--ee,2,new eo(Tt?_t:Ge,Tt?Ge:_t))}}return new wa(C,T)}function $A(d,C){return new wa([new eo(d,C||d)],0)}function ZA(d){return d.text?an(d.from.line+d.text.length-1,Gn(d.text).length+(d.text.length==1?d.from.ch:0)):d.to}function ad(d,C){if(li(d,C.from)<0)return d;if(li(d,C.to)<=0)return ZA(C);var T=d.line+C.text.length-(C.to.line-C.from.line)-1,I=d.ch;return d.line==C.to.line&&(I+=ZA(C).ch-C.to.ch),an(T,I)}function Fc(d,C){for(var T=[],I=0;I<d.sel.ranges.length;I++){var F=d.sel.ranges[I];T.push(new eo(ad(F.anchor,C),ad(F.head,C)))}return hi(d.cm,T,d.sel.primIndex)}function MA(d,C,T){return d.line==C.line?an(T.line,d.ch-C.ch+T.ch):an(T.line+(d.line-C.line),d.ch)}function mf(d,C,T){for(var I=[],F=an(d.first,0),ee=F,pe=0;pe<C.length;pe++){var Se=C[pe],Pe=MA(Se.from,F,ee),Ge=MA(ZA(Se),F,ee);if(F=Se.to,ee=Ge,T=="around"){var _t=d.sel.ranges[pe],Tt=li(_t.head,_t.anchor)<0;I[pe]=new eo(Tt?Ge:Pe,Tt?Pe:Ge)}else I[pe]=new eo(Pe,Pe)}return new wa(I,d.sel.primIndex)}function ro(d){d.doc.mode=Bo(d.options,d.doc.modeOption),Vl(d)}function Vl(d){d.doc.iter(function(C){C.stateAfter&&(C.stateAfter=null),C.styles&&(C.styles=null)}),d.doc.modeFrontier=d.doc.highlightFrontier=d.doc.first,lh(d,100),d.state.modeGen++,d.curOp&&Ts(d)}function Uh(d,C){return C.from.ch==0&&C.to.ch==0&&Gn(C.text)==""&&(!d.cm||d.cm.options.wholeLineUpdateBefore)}function gc(d,C,T,I){function F(_i){return T?T[_i]:null}function ee(_i,yi,Pi){eA(_i,yi,Pi,I),as(_i,"change",_i,C)}function pe(_i,yi){for(var Pi=[],ur=_i;ur<yi;++ur)Pi.push(new Ql(Ge[ur],F(ur),I));return Pi}var Se=C.from,Pe=C.to,Ge=C.text,_t=Si(d,Se.line),Tt=Si(d,Pe.line),en=Gn(Ge),Vt=F(Ge.length-1),bn=Pe.line-Se.line;if(C.full)d.insert(0,pe(0,Ge.length)),d.remove(Ge.length,d.size-Ge.length);else if(Uh(d,C)){var Pn=pe(0,Ge.length-1);ee(Tt,Tt.text,Vt),bn&&d.remove(Se.line,bn),Pn.length&&d.insert(Se.line,Pn)}else if(_t==Tt)if(Ge.length==1)ee(_t,_t.text.slice(0,Se.ch)+en+_t.text.slice(Pe.ch),Vt);else{var ai=pe(1,Ge.length-1);ai.push(new Ql(en+_t.text.slice(Pe.ch),Vt,I)),ee(_t,_t.text.slice(0,Se.ch)+Ge[0],F(0)),d.insert(Se.line+1,ai)}else if(Ge.length==1)ee(_t,_t.text.slice(0,Se.ch)+Ge[0]+Tt.text.slice(Pe.ch),F(0)),d.remove(Se.line+1,bn);else{ee(_t,_t.text.slice(0,Se.ch)+Ge[0],F(0)),ee(Tt,en+Tt.text.slice(Pe.ch),Vt);var gi=pe(1,Ge.length-1);bn>1&&d.remove(Se.line+1,bn-1),d.insert(Se.line+1,gi)}as(d,"change",d,C)}function zu(d,C,T){function I(F,ee,pe){if(F.linked)for(var Se=0;Se<F.linked.length;++Se){var Pe=F.linked[Se];if(Pe.doc!=ee){var Ge=pe&&Pe.sharedHist;T&&!Ge||(C(Pe.doc,Ge),I(Pe.doc,F,Ge))}}}I(d,null,!0)}function yc(d,C){if(C.cm)throw new Error("This document is already in use.");d.doc=C,C.cm=d,nd(d),ro(d),Kh(d),d.options.direction=C.direction,d.options.lineWrapping||Js(d),d.options.mode=C.modeOption,Ts(d)}function Kh(d){(d.doc.direction=="rtl"?ue:Me)(d.display.lineDiv,"CodeMirror-rtl")}function wA(d){Ha(d,function(){Kh(d),Ts(d)})}function ch(d){this.done=[],this.undone=[],this.undoDepth=d?d.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=d?d.maxGeneration:1}function lA(d,C){var T={from:Oo(C.from),to:ZA(C),text:fs(d,C.from,C.to)};return sd(d,T,C.from.line,C.to.line+1),zu(d,function(I){return sd(I,T,C.from.line,C.to.line+1)},!0),T}function Sl(d){for(;d.length;){var C=Gn(d);if(C.ranges)d.pop();else break}}function Np(d,C){if(C)return Sl(d.done),Gn(d.done);if(d.done.length&&!Gn(d.done).ranges)return Gn(d.done);if(d.done.length>1&&!d.done[d.done.length-2].ranges)return d.done.pop(),Gn(d.done)}function gf(d,C,T,I){var F=d.history;F.undone.length=0;var ee=+new Date,pe,Se;if((F.lastOp==I||F.lastOrigin==C.origin&&C.origin&&(C.origin.charAt(0)=="+"&&F.lastModTime>ee-(d.cm?d.cm.options.historyEventDelay:500)||C.origin.charAt(0)=="*"))&&(pe=Np(F,F.lastOp==I)))Se=Gn(pe.changes),li(C.from,C.to)==0&&li(C.from,Se.to)==0?Se.to=ZA(C):pe.changes.push(lA(d,C));else{var Pe=Gn(F.done);for((!Pe||!Pe.ranges)&&Zl(d.sel,F.done),pe={changes:[lA(d,C)],generation:F.generation},F.done.push(pe);F.done.length>F.undoDepth;)F.done.shift(),F.done[0].ranges||F.done.shift()}F.done.push(T),F.generation=++F.maxGeneration,F.lastModTime=F.lastSelTime=ee,F.lastOp=F.lastSelOp=I,F.lastOrigin=F.lastSelOrigin=C.origin,Se||rt(d,"historyAdded")}function $l(d,C,T,I){var F=C.charAt(0);return F=="*"||F=="+"&&T.ranges.length==I.ranges.length&&T.somethingSelected()==I.somethingSelected()&&new Date-d.history.lastSelTime<=(d.cm?d.cm.options.historyEventDelay:500)}function Lo(d,C,T,I){var F=d.history,ee=I&&I.origin;T==F.lastSelOp||ee&&F.lastSelOrigin==ee&&(F.lastModTime==F.lastSelTime&&F.lastOrigin==ee||$l(d,ee,Gn(F.done),C))?F.done[F.done.length-1]=C:Zl(C,F.done),F.lastSelTime=+new Date,F.lastSelOrigin=ee,F.lastSelOp=T,I&&I.clearRedo!==!1&&Sl(F.undone)}function Zl(d,C){var T=Gn(C);T&&T.ranges&&T.equals(d)||C.push(d)}function sd(d,C,T,I){var F=C["spans_"+d.id],ee=0;d.iter(Math.max(d.first,T),Math.min(d.first+d.size,I),function(pe){pe.markedSpans&&((F||(F=C["spans_"+d.id]={}))[ee]=pe.markedSpans),++ee})}function Jf(d){if(!d)return null;for(var C,T=0;T<d.length;++T)d[T].marker.explicitlyCleared?C||(C=d.slice(0,T)):C&&C.push(d[T]);return C?C.length?C:null:d}function SA(d,C){var T=C["spans_"+d.id];if(!T)return null;for(var I=[],F=0;F<C.text.length;++F)I.push(Jf(T[F]));return I}function oo(d,C){var T=SA(d,C),I=Kr(d,C);if(!T)return I;if(!I)return T;for(var F=0;F<T.length;++F){var ee=T[F],pe=I[F];if(ee&&pe)e:for(var Se=0;Se<pe.length;++Se){for(var Pe=pe[Se],Ge=0;Ge<ee.length;++Ge)if(ee[Ge].marker==Pe.marker)continue e;ee.push(Pe)}else pe&&(T[F]=pe)}return T}function Fo(d,C,T){for(var I=[],F=0;F<d.length;++F){var ee=d[F];if(ee.ranges){I.push(T?wa.prototype.deepCopy.call(ee):ee);continue}var pe=ee.changes,Se=[];I.push({changes:Se});for(var Pe=0;Pe<pe.length;++Pe){var Ge=pe[Pe],_t=void 0;if(Se.push({from:Ge.from,to:Ge.to,text:Ge.text}),C)for(var Tt in Ge)(_t=Tt.match(/^spans_(\d+)$/))&&Ve(C,Number(_t[1]))>-1&&(Gn(Se)[Tt]=Ge[Tt],delete Ge[Tt])}}return I}function Lr(d,C,T,I){if(I){var F=d.anchor;if(T){var ee=li(C,F)<0;ee!=li(T,F)<0?(F=C,C=T):ee!=li(C,T)<0&&(C=T)}return new eo(F,C)}else return new eo(T||C,C)}function XA(d,C,T,I,F){F==null&&(F=d.cm&&(d.cm.display.shift||d.extend)),da(d,new wa([Lr(d.sel.primary(),C,T,F)],0),I)}function ki(d,C,T){for(var I=[],F=d.cm&&(d.cm.display.shift||d.extend),ee=0;ee<d.sel.ranges.length;ee++)I[ee]=Lr(d.sel.ranges[ee],C[ee],null,F);var pe=hi(d.cm,I,d.sel.primIndex);da(d,pe,T)}function Ri(d,C,T,I){var F=d.sel.ranges.slice(0);F[C]=T,da(d,hi(d.cm,F,d.sel.primIndex),I)}function zc(d,C,T,I){da(d,$A(C,T),I)}function ju(d,C,T){var I={ranges:C.ranges,update:function(F){this.ranges=[];for(var ee=0;ee<F.length;ee++)this.ranges[ee]=new eo(Hi(d,F[ee].anchor),Hi(d,F[ee].head))},origin:T&&T.origin};return rt(d,"beforeSelectionChange",d,I),d.cm&&rt(d.cm,"beforeSelectionChange",d.cm,I),I.ranges!=C.ranges?hi(d.cm,I.ranges,I.ranges.length-1):C}function gu(d,C,T){var I=d.history.done,F=Gn(I);F&&F.ranges?(I[I.length-1]=C,yo(d,C,T)):da(d,C,T)}function da(d,C,T){yo(d,C,T),Lo(d,d.sel,d.cm?d.cm.curOp.id:NaN,T)}function yo(d,C,T){(wn(d,"beforeSelectionChange")||d.cm&&wn(d.cm,"beforeSelectionChange"))&&(C=ju(d,C,T));var I=T&&T.bias||(li(C.primary().head,d.sel.primary().head)<0?-1:1);Xl(d,ld(d,C,I,!0)),!(T&&T.scroll===!1)&&d.cm&&d.cm.getOption("readOnly")!="nocursor"&&qo(d.cm)}function Xl(d,C){C.equals(d.sel)||(d.sel=C,d.cm&&(d.cm.curOp.updateInput=1,d.cm.curOp.selectionChanged=!0,Rn(d.cm)),as(d,"cursorActivity",d))}function ep(d){Xl(d,ld(d,d.sel,null,!1))}function ld(d,C,T,I){for(var F,ee=0;ee<C.ranges.length;ee++){var pe=C.ranges[ee],Se=C.ranges.length==d.sel.ranges.length&&d.sel.ranges[ee],Pe=Va(d,pe.anchor,Se&&Se.anchor,T,I),Ge=pe.head==pe.anchor?Pe:Va(d,pe.head,Se&&Se.head,T,I);(F||Pe!=pe.anchor||Ge!=pe.head)&&(F||(F=C.ranges.slice(0,ee)),F[ee]=new eo(Pe,Ge))}return F?hi(d.cm,F,C.primIndex):C}function zo(d,C,T,I,F){var ee=Si(d,C.line);if(ee.markedSpans)for(var pe=0;pe<ee.markedSpans.length;++pe){var Se=ee.markedSpans[pe],Pe=Se.marker,Ge="selectLeft"in Pe?!Pe.selectLeft:Pe.inclusiveLeft,_t="selectRight"in Pe?!Pe.selectRight:Pe.inclusiveRight;if((Se.from==null||(Ge?Se.from<=C.ch:Se.from<C.ch))&&(Se.to==null||(_t?Se.to>=C.ch:Se.to>C.ch))){if(F&&(rt(Pe,"beforeCursorEnter"),Pe.explicitlyCleared))if(ee.markedSpans){--pe;continue}else break;if(!Pe.atomic)continue;if(T){var Tt=Pe.find(I<0?1:-1),en=void 0;if((I<0?_t:Ge)&&(Tt=ud(d,Tt,-I,Tt&&Tt.line==C.line?ee:null)),Tt&&Tt.line==C.line&&(en=li(Tt,T))&&(I<0?en<0:en>0))return zo(d,Tt,C,I,F)}var Vt=Pe.find(I<0?-1:1);return(I<0?Ge:_t)&&(Vt=ud(d,Vt,I,Vt.line==C.line?ee:null)),Vt?zo(d,Vt,C,I,F):null}}return C}function Va(d,C,T,I,F){var ee=I||1,pe=zo(d,C,T,ee,F)||!F&&zo(d,C,T,ee,!0)||zo(d,C,T,-ee,F)||!F&&zo(d,C,T,-ee,!0);return pe||(d.cantEdit=!0,an(d.first,0))}function ud(d,C,T,I){return T<0&&C.ch==0?C.line>d.first?Hi(d,an(C.line-1)):null:T>0&&C.ch==(I||Si(d,C.line)).text.length?C.line<d.first+d.size-1?an(C.line+1,0):null:new an(C.line,C.ch+T)}function EA(d){d.setSelection(an(d.firstLine(),0),an(d.lastLine()),It)}function jc(d,C,T){var I={canceled:!1,from:C.from,to:C.to,text:C.text,origin:C.origin,cancel:function(){return I.canceled=!0}};return T&&(I.update=function(F,ee,pe,Se){F&&(I.from=Hi(d,F)),ee&&(I.to=Hi(d,ee)),pe&&(I.text=pe),Se!==void 0&&(I.origin=Se)}),rt(d,"beforeChange",d,I),d.cm&&rt(d.cm,"beforeChange",d.cm,I),I.canceled?(d.cm&&(d.cm.curOp.updateInput=2),null):{from:I.from,to:I.to,text:I.text,origin:I.origin}}function il(d,C,T){if(d.cm){if(!d.cm.curOp)return na(d.cm,il)(d,C,T);if(d.cm.state.suppressEdits)return}if(!((wn(d,"beforeChange")||d.cm&&wn(d.cm,"beforeChange"))&&(C=jc(d,C,!0),!C))){var I=Wo&&!T&&er(d,C.from,C.to);if(I)for(var F=I.length-1;F>=0;--F)ls(d,{from:I[F].from,to:I[F].to,text:F?[""]:C.text,origin:C.origin});else ls(d,C)}}function ls(d,C){if(!(C.text.length==1&&C.text[0]==""&&li(C.from,C.to)==0)){var T=Fc(d,C);gf(d,C,T,d.cm?d.cm.curOp.id:NaN),vc(d,C,T,Kr(d,C));var I=[];zu(d,function(F,ee){!ee&&Ve(I,F.history)==-1&&(zd(F.history,C),I.push(F.history)),vc(F,C,null,Kr(F,C))})}}function yu(d,C,T){var I=d.cm&&d.cm.state.suppressEdits;if(!(I&&!T)){for(var F=d.history,ee,pe=d.sel,Se=C=="undo"?F.done:F.undone,Pe=C=="undo"?F.undone:F.done,Ge=0;Ge<Se.length&&(ee=Se[Ge],!(T?ee.ranges&&!ee.equals(d.sel):!ee.ranges));Ge++);if(Ge!=Se.length){for(F.lastOrigin=F.lastSelOrigin=null;;)if(ee=Se.pop(),ee.ranges){if(Zl(ee,Pe),T&&!ee.equals(d.sel)){da(d,ee,{clearRedo:!1});return}pe=ee}else if(I){Se.push(ee);return}else break;var _t=[];Zl(pe,Pe),Pe.push({changes:_t,generation:F.generation}),F.generation=ee.generation||++F.maxGeneration;for(var Tt=wn(d,"beforeChange")||d.cm&&wn(d.cm,"beforeChange"),en=function(Pn){var ai=ee.changes[Pn];if(ai.origin=C,Tt&&!jc(d,ai,!1))return Se.length=0,{};_t.push(lA(d,ai));var gi=Pn?Fc(d,ai):Gn(Se);vc(d,ai,gi,oo(d,ai)),!Pn&&d.cm&&d.cm.scrollIntoView({from:ai.from,to:ZA(ai)});var _i=[];zu(d,function(yi,Pi){!Pi&&Ve(_i,yi.history)==-1&&(zd(yi.history,ai),_i.push(yi.history)),vc(yi,ai,null,oo(yi,ai))})},Vt=ee.changes.length-1;Vt>=0;--Vt){var bn=en(Vt);if(bn)return bn.v}}}}function Nc(d,C){if(C!=0&&(d.first+=C,d.sel=new wa(On(d.sel.ranges,function(F){return new eo(an(F.anchor.line+C,F.anchor.ch),an(F.head.line+C,F.head.ch))}),d.sel.primIndex),d.cm)){Ts(d.cm,d.first,d.first-C,C);for(var T=d.cm.display,I=T.viewFrom;I<T.viewTo;I++)oA(d.cm,I,"gutter")}}function vc(d,C,T,I){if(d.cm&&!d.cm.curOp)return na(d.cm,vc)(d,C,T,I);if(C.to.line<d.first){Nc(d,C.text.length-1-(C.to.line-C.from.line));return}if(!(C.from.line>d.lastLine())){if(C.from.line<d.first){var F=C.text.length-1-(d.first-C.from.line);Nc(d,F),C={from:an(d.first,0),to:an(C.to.line+F,C.to.ch),text:[Gn(C.text)],origin:C.origin}}var ee=d.lastLine();C.to.line>ee&&(C={from:C.from,to:an(ee,Si(d,ee).text.length),text:[C.text[0]],origin:C.origin}),C.removed=fs(d,C.from,C.to),T||(T=Fc(d,C)),d.cm?Cc(d.cm,C,I):gc(d,C,I),yo(d,T,It),d.cantEdit&&Va(d,an(d.firstLine(),0))&&(d.cantEdit=!1)}}function Cc(d,C,T){var I=d.doc,F=d.display,ee=C.from,pe=C.to,Se=!1,Pe=ee.line;d.options.lineWrapping||(Pe=Xe(Ui(Si(I,ee.line))),I.iter(Pe,pe.line+1,function(Vt){if(Vt==F.maxLine)return Se=!0,!0})),I.sel.contains(C.from,C.to)>-1&&Rn(d),gc(I,C,T,_A(d)),d.options.lineWrapping||(I.iter(Pe,ee.line+C.text.length,function(Vt){var bn=Gr(Vt);bn>F.maxLineLength&&(F.maxLine=Vt,F.maxLineLength=bn,F.maxLineChanged=!0,Se=!1)}),Se&&(d.curOp.updateMaxLine=!0)),yA(I,ee.line),lh(d,400);var Ge=C.text.length-(pe.line-ee.line)-1;C.full?Ts(d):ee.line==pe.line&&C.text.length==1&&!Uh(d.doc,C)?oA(d,ee.line,"text"):Ts(d,ee.line,pe.line+1,Ge);var _t=wn(d,"changes"),Tt=wn(d,"change");if(Tt||_t){var en={from:ee,to:pe,text:C.text,removed:C.removed,origin:C.origin};Tt&&as(d,"change",d,en),_t&&(d.curOp.changeObjs||(d.curOp.changeObjs=[])).push(en)}d.display.selForContextMenu=null}function Jl(d,C,T,I,F){var ee;I||(I=T),li(I,T)<0&&(ee=[I,T],T=ee[0],I=ee[1]),typeof C=="string"&&(C=d.splitLines(C)),il(d,{from:T,to:I,text:C,origin:F})}function Ad(d,C,T,I){T<d.line?d.line+=I:C<d.line&&(d.line=C,d.ch=0)}function cd(d,C,T,I){for(var F=0;F<d.length;++F){var ee=d[F],pe=!0;if(ee.ranges){ee.copied||(ee=d[F]=ee.deepCopy(),ee.copied=!0);for(var Se=0;Se<ee.ranges.length;Se++)Ad(ee.ranges[Se].anchor,C,T,I),Ad(ee.ranges[Se].head,C,T,I);continue}for(var Pe=0;Pe<ee.changes.length;++Pe){var Ge=ee.changes[Pe];if(T<Ge.from.line)Ge.from=an(Ge.from.line+I,Ge.from.ch),Ge.to=an(Ge.to.line+I,Ge.to.ch);else if(C<=Ge.to.line){pe=!1;break}}pe||(d.splice(0,F+1),F=0)}}function zd(d,C){var T=C.from.line,I=C.to.line,F=C.text.length-(I-T)-1;cd(d.done,T,I,F),cd(d.undone,T,I,F)}function k(d,C,T,I){var F=C,ee=C;return typeof C=="number"?ee=Si(d,Ju(d,C)):F=Xe(C),F==null?null:(I(ee,F)&&d.cm&&oA(d.cm,F,T),ee)}function l(d){this.lines=d,this.parent=null;for(var C=0,T=0;T<d.length;++T)d[T].parent=this,C+=d[T].height;this.height=C}l.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d,C){for(var T=d,I=d+C;T<I;++T){var F=this.lines[T];this.height-=F.height,Cs(F),as(F,"delete")}this.lines.splice(d,C)},collapse:function(d){d.push.apply(d,this.lines)},insertInner:function(d,C,T){this.height+=T,this.lines=this.lines.slice(0,d).concat(C).concat(this.lines.slice(d));for(var I=0;I<C.length;++I)C[I].parent=this},iterN:function(d,C,T){for(var I=d+C;d<I;++d)if(T(this.lines[d]))return!0}};function f(d){this.children=d;for(var C=0,T=0,I=0;I<d.length;++I){var F=d[I];C+=F.chunkSize(),T+=F.height,F.parent=this}this.size=C,this.height=T,this.parent=null}f.prototype={chunkSize:function(){return this.size},removeInner:function(d,C){this.size-=C;for(var T=0;T<this.children.length;++T){var I=this.children[T],F=I.chunkSize();if(d<F){var ee=Math.min(C,F-d),pe=I.height;if(I.removeInner(d,ee),this.height-=pe-I.height,F==ee&&(this.children.splice(T--,1),I.parent=null),(C-=ee)==0)break;d=0}else d-=F}if(this.size-C<25&&(this.children.length>1||!(this.children[0]instanceof l))){var Se=[];this.collapse(Se),this.children=[new l(Se)],this.children[0].parent=this}},collapse:function(d){for(var C=0;C<this.children.length;++C)this.children[C].collapse(d)},insertInner:function(d,C,T){this.size+=C.length,this.height+=T;for(var I=0;I<this.children.length;++I){var F=this.children[I],ee=F.chunkSize();if(d<=ee){if(F.insertInner(d,C,T),F.lines&&F.lines.length>50){for(var pe=F.lines.length%25+25,Se=pe;Se<F.lines.length;){var Pe=new l(F.lines.slice(Se,Se+=25));F.height-=Pe.height,this.children.splice(++I,0,Pe),Pe.parent=this}F.lines=F.lines.slice(0,pe),this.maybeSpill()}break}d-=ee}},maybeSpill:function(){if(!(this.children.length<=10)){var d=this;do{var C=d.children.splice(d.children.length-5,5),T=new f(C);if(d.parent){d.size-=T.size,d.height-=T.height;var F=Ve(d.parent.children,d);d.parent.children.splice(F+1,0,T)}else{var I=new f(d.children);I.parent=d,d.children=[I,T],d=I}T.parent=d.parent}while(d.children.length>10);d.parent.maybeSpill()}},iterN:function(d,C,T){for(var I=0;I<this.children.length;++I){var F=this.children[I],ee=F.chunkSize();if(d<ee){var pe=Math.min(C,ee-d);if(F.iterN(d,pe,T))return!0;if((C-=pe)==0)break;d=0}else d-=ee}}};var b=function(d,C,T){if(T)for(var I in T)T.hasOwnProperty(I)&&(this[I]=T[I]);this.doc=d,this.node=C};b.prototype.clear=function(){var d=this.doc.cm,C=this.line.widgets,T=this.line,I=Xe(T);if(!(I==null||!C)){for(var F=0;F<C.length;++F)C[F]==this&&C.splice(F--,1);C.length||(T.widgets=null);var ee=dc(this);ea(T,Math.max(0,T.height-ee)),d&&(Ha(d,function(){S(d,T,-ee),oA(d,I,"widget")}),as(d,"lineWidgetCleared",d,this,I))}},b.prototype.changed=function(){var d=this,C=this.height,T=this.doc.cm,I=this.line;this.height=null;var F=dc(this)-C;F&&(vr(this.doc,I)||ea(I,I.height+F),T&&Ha(T,function(){T.curOp.forceUpdate=!0,S(T,I,F),as(T,"lineWidgetChanged",T,d,Xe(I))}))},ri(b);function S(d,C,T){Qo(C)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&Kl(d,T)}function R(d,C,T,I){var F=new b(d,T,I),ee=d.cm;return ee&&F.noHScroll&&(ee.display.alignWidgets=!0),k(d,C,"widget",function(pe){var Se=pe.widgets||(pe.widgets=[]);if(F.insertAt==null?Se.push(F):Se.splice(Math.min(Se.length,Math.max(0,F.insertAt)),0,F),F.line=pe,ee&&!vr(d,pe)){var Pe=Qo(pe)<d.scrollTop;ea(pe,pe.height+dc(F)),Pe&&Kl(ee,F.height),ee.curOp.forceUpdate=!0}return!0}),ee&&as(ee,"lineWidgetAdded",ee,F,typeof C=="number"?C:Xe(C)),F}var j=0,q=function(d,C){this.lines=[],this.type=C,this.doc=d,this.id=++j};q.prototype.clear=function(){if(!this.explicitlyCleared){var d=this.doc.cm,C=d&&!d.curOp;if(C&&ul(d),wn(this,"clear")){var T=this.find();T&&as(this,"clear",T.from,T.to)}for(var I=null,F=null,ee=0;ee<this.lines.length;++ee){var pe=this.lines[ee],Se=Ur(pe.markedSpans,this);d&&!this.collapsed?oA(d,Xe(pe),"text"):d&&(Se.to!=null&&(F=Xe(pe)),Se.from!=null&&(I=Xe(pe))),pe.markedSpans=cu(pe.markedSpans,Se),Se.from==null&&this.collapsed&&!vr(this.doc,pe)&&d&&ea(pe,Du(d.display))}if(d&&this.collapsed&&!d.options.lineWrapping)for(var Pe=0;Pe<this.lines.length;++Pe){var Ge=Ui(this.lines[Pe]),_t=Gr(Ge);_t>d.display.maxLineLength&&(d.display.maxLine=Ge,d.display.maxLineLength=_t,d.display.maxLineChanged=!0)}I!=null&&d&&this.collapsed&&Ts(d,I,F+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,d&&ep(d.doc)),d&&as(d,"markerCleared",d,this,I,F),C&&Ys(d),this.parent&&this.parent.clear()}},q.prototype.find=function(d,C){d==null&&this.type=="bookmark"&&(d=1);for(var T,I,F=0;F<this.lines.length;++F){var ee=this.lines[F],pe=Ur(ee.markedSpans,this);if(pe.from!=null&&(T=an(C?ee:Xe(ee),pe.from),d==-1))return T;if(pe.to!=null&&(I=an(C?ee:Xe(ee),pe.to),d==1))return I}return T&&{from:T,to:I}},q.prototype.changed=function(){var d=this,C=this.find(-1,!0),T=this,I=this.doc.cm;!C||!I||Ha(I,function(){var F=C.line,ee=Xe(C.line),pe=uf(I,ee);if(pe&&(WA(pe),I.curOp.selectionChanged=I.curOp.forceUpdate=!0),I.curOp.updateMaxLine=!0,!vr(T.doc,F)&&T.height!=null){var Se=T.height;T.height=null;var Pe=dc(T)-Se;Pe&&ea(F,F.height+Pe)}as(I,"markerChanged",I,d)})},q.prototype.attachLine=function(d){if(!this.lines.length&&this.doc.cm){var C=this.doc.cm.curOp;(!C.maybeHiddenMarkers||Ve(C.maybeHiddenMarkers,this)==-1)&&(C.maybeUnhiddenMarkers||(C.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(d)},q.prototype.detachLine=function(d){if(this.lines.splice(Ve(this.lines,d),1),!this.lines.length&&this.doc.cm){var C=this.doc.cm.curOp;(C.maybeHiddenMarkers||(C.maybeHiddenMarkers=[])).push(this)}},ri(q);function te(d,C,T,I,F){if(I&&I.shared)return ye(d,C,T,I,F);if(d.cm&&!d.cm.curOp)return na(d.cm,te)(d,C,T,I,F);var ee=new q(d,F),pe=li(C,T);if(I&&je(I,ee,!1),pe>0||pe==0&&ee.clearWhenEmpty!==!1)return ee;if(ee.replacedWith&&(ee.collapsed=!0,ee.widgetNode=Fe("span",[ee.replacedWith],"CodeMirror-widget"),I.handleMouseEvents||ee.widgetNode.setAttribute("cm-ignore-events","true"),I.insertLeft&&(ee.widgetNode.insertLeft=!0)),ee.collapsed){if(lr(d,C.line,C,T,ee)||C.line!=T.line&&lr(d,T.line,C,T,ee))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ia()}ee.addToHistory&&gf(d,{from:C,to:T,origin:"markText"},d.sel,NaN);var Se=C.line,Pe=d.cm,Ge;if(d.iter(Se,T.line+1,function(Tt){Pe&&ee.collapsed&&!Pe.options.lineWrapping&&Ui(Tt)==Pe.display.maxLine&&(Ge=!0),ee.collapsed&&Se!=C.line&&ea(Tt,0),Ya(Tt,new ca(ee,Se==C.line?C.ch:null,Se==T.line?T.ch:null),d.cm&&d.cm.curOp),++Se}),ee.collapsed&&d.iter(C.line,T.line+1,function(Tt){vr(d,Tt)&&ea(Tt,0)}),ee.clearOnEnter&&yt(ee,"beforeCursorEnter",function(){return ee.clear()}),ee.readOnly&&(Qa(),(d.history.done.length||d.history.undone.length)&&d.clearHistory()),ee.collapsed&&(ee.id=++j,ee.atomic=!0),Pe){if(Ge&&(Pe.curOp.updateMaxLine=!0),ee.collapsed)Ts(Pe,C.line,T.line+1);else if(ee.className||ee.startStyle||ee.endStyle||ee.css||ee.attributes||ee.title)for(var _t=C.line;_t<=T.line;_t++)oA(Pe,_t,"text");ee.atomic&&ep(Pe.doc),as(Pe,"markerAdded",Pe,ee)}return ee}var fe=function(d,C){this.markers=d,this.primary=C;for(var T=0;T<d.length;++T)d[T].parent=this};fe.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var d=0;d<this.markers.length;++d)this.markers[d].clear();as(this,"clear")}},fe.prototype.find=function(d,C){return this.primary.find(d,C)},ri(fe);function ye(d,C,T,I,F){I=je(I),I.shared=!1;var ee=[te(d,C,T,I,F)],pe=ee[0],Se=I.widgetNode;return zu(d,function(Pe){Se&&(I.widgetNode=Se.cloneNode(!0)),ee.push(te(Pe,Hi(Pe,C),Hi(Pe,T),I,F));for(var Ge=0;Ge<Pe.linked.length;++Ge)if(Pe.linked[Ge].isParent)return;pe=Gn(ee)}),new fe(ee,pe)}function Oe(d){return d.findMarks(an(d.first,0),d.clipPos(an(d.lastLine())),function(C){return C.parent})}function Ee(d,C){for(var T=0;T<C.length;T++){var I=C[T],F=I.find(),ee=d.clipPos(F.from),pe=d.clipPos(F.to);if(li(ee,pe)){var Se=te(d,ee,pe,I.primary,I.primary.type);I.markers.push(Se),Se.parent=I}}}function Ne(d){for(var C=function(I){var F=d[I],ee=[F.primary.doc];zu(F.primary.doc,function(Pe){return ee.push(Pe)});for(var pe=0;pe<F.markers.length;pe++){var Se=F.markers[pe];Ve(ee,Se.doc)==-1&&(Se.parent=null,F.markers.splice(pe--,1))}},T=0;T<d.length;T++)C(T)}var Je=0,ut=function(d,C,T,I,F){if(!(this instanceof ut))return new ut(d,C,T,I,F);T==null&&(T=0),f.call(this,[new l([new Ql("",null)])]),this.first=T,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=T;var ee=an(T,0);this.sel=$A(ee),this.history=new ch(null),this.id=++Je,this.modeOption=C,this.lineSep=I,this.direction=F=="rtl"?"rtl":"ltr",this.extend=!1,typeof d=="string"&&(d=this.splitLines(d)),gc(this,{from:ee,to:ee,text:d}),da(this,$A(ee),It)};ut.prototype=Oi(f.prototype,{constructor:ut,iter:function(d,C,T){T?this.iterN(d-this.first,C-d,T):this.iterN(this.first,this.first+this.size,d)},insert:function(d,C){for(var T=0,I=0;I<C.length;++I)T+=C[I].height;this.insertInner(d-this.first,C,T)},remove:function(d,C){this.removeInner(d-this.first,C)},getValue:function(d){var C=Oa(this,this.first,this.first+this.size);return d===!1?C:C.join(d||this.lineSeparator())},setValue:bs(function(d){var C=an(this.first,0),T=this.first+this.size-1;il(this,{from:C,to:an(T,Si(this,T).text.length),text:this.splitLines(d),origin:"setValue",full:!0},!0),this.cm&&ha(this.cm,0,0),da(this,$A(C),It)}),replaceRange:function(d,C,T,I){C=Hi(this,C),T=T?Hi(this,T):C,Jl(this,d,C,T,I)},getRange:function(d,C,T){var I=fs(this,Hi(this,d),Hi(this,C));return T===!1?I:T===""?I.join(""):I.join(T||this.lineSeparator())},getLine:function(d){var C=this.getLineHandle(d);return C&&C.text},getLineHandle:function(d){if(Mn(this,d))return Si(this,d)},getLineNumber:function(d){return Xe(d)},getLineHandleVisualStart:function(d){return typeof d=="number"&&(d=Si(this,d)),Ui(d)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d){return Hi(this,d)},getCursor:function(d){var C=this.sel.primary(),T;return d==null||d=="head"?T=C.head:d=="anchor"?T=C.anchor:d=="end"||d=="to"||d===!1?T=C.to():T=C.from(),T},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:bs(function(d,C,T){zc(this,Hi(this,typeof d=="number"?an(d,C||0):d),null,T)}),setSelection:bs(function(d,C,T){zc(this,Hi(this,d),Hi(this,C||d),T)}),extendSelection:bs(function(d,C,T){XA(this,Hi(this,d),C&&Hi(this,C),T)}),extendSelections:bs(function(d,C){ki(this,Ou(this,d),C)}),extendSelectionsBy:bs(function(d,C){var T=On(this.sel.ranges,d);ki(this,Ou(this,T),C)}),setSelections:bs(function(d,C,T){if(d.length){for(var I=[],F=0;F<d.length;F++)I[F]=new eo(Hi(this,d[F].anchor),Hi(this,d[F].head||d[F].anchor));C==null&&(C=Math.min(d.length-1,this.sel.primIndex)),da(this,hi(this.cm,I,C),T)}}),addSelection:bs(function(d,C,T){var I=this.sel.ranges.slice(0);I.push(new eo(Hi(this,d),Hi(this,C||d))),da(this,hi(this.cm,I,I.length-1),T)}),getSelection:function(d){for(var C=this.sel.ranges,T,I=0;I<C.length;I++){var F=fs(this,C[I].from(),C[I].to());T=T?T.concat(F):F}return d===!1?T:T.join(d||this.lineSeparator())},getSelections:function(d){for(var C=[],T=this.sel.ranges,I=0;I<T.length;I++){var F=fs(this,T[I].from(),T[I].to());d!==!1&&(F=F.join(d||this.lineSeparator())),C[I]=F}return C},replaceSelection:function(d,C,T){for(var I=[],F=0;F<this.sel.ranges.length;F++)I[F]=d;this.replaceSelections(I,C,T||"+input")},replaceSelections:bs(function(d,C,T){for(var I=[],F=this.sel,ee=0;ee<F.ranges.length;ee++){var pe=F.ranges[ee];I[ee]={from:pe.from(),to:pe.to(),text:this.splitLines(d[ee]),origin:T}}for(var Se=C&&C!="end"&&mf(this,I,C),Pe=I.length-1;Pe>=0;Pe--)il(this,I[Pe]);Se?gu(this,Se):this.cm&&qo(this.cm)}),undo:bs(function(){yu(this,"undo")}),redo:bs(function(){yu(this,"redo")}),undoSelection:bs(function(){yu(this,"undo",!0)}),redoSelection:bs(function(){yu(this,"redo",!0)}),setExtending:function(d){this.extend=d},getExtending:function(){return this.extend},historySize:function(){for(var d=this.history,C=0,T=0,I=0;I<d.done.length;I++)d.done[I].ranges||++C;for(var F=0;F<d.undone.length;F++)d.undone[F].ranges||++T;return{undo:C,redo:T}},clearHistory:function(){var d=this;this.history=new ch(this.history),zu(this,function(C){return C.history=d.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(d){return d&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(d){return this.history.generation==(d||this.cleanGeneration)},getHistory:function(){return{done:Fo(this.history.done),undone:Fo(this.history.undone)}},setHistory:function(d){var C=this.history=new ch(this.history);C.done=Fo(d.done.slice(0),null,!0),C.undone=Fo(d.undone.slice(0),null,!0)},setGutterMarker:bs(function(d,C,T){return k(this,d,"gutter",function(I){var F=I.gutterMarkers||(I.gutterMarkers={});return F[C]=T,!T&&de(F)&&(I.gutterMarkers=null),!0})}),clearGutter:bs(function(d){var C=this;this.iter(function(T){T.gutterMarkers&&T.gutterMarkers[d]&&k(C,T,"gutter",function(){return T.gutterMarkers[d]=null,de(T.gutterMarkers)&&(T.gutterMarkers=null),!0})})}),lineInfo:function(d){var C;if(typeof d=="number"){if(!Mn(this,d)||(C=d,d=Si(this,d),!d))return null}else if(C=Xe(d),C==null)return null;return{line:C,handle:d,text:d.text,gutterMarkers:d.gutterMarkers,textClass:d.textClass,bgClass:d.bgClass,wrapClass:d.wrapClass,widgets:d.widgets}},addLineClass:bs(function(d,C,T){return k(this,d,C=="gutter"?"gutter":"class",function(I){var F=C=="text"?"textClass":C=="background"?"bgClass":C=="gutter"?"gutterClass":"wrapClass";if(!I[F])I[F]=T;else{if(_e(T).test(I[F]))return!1;I[F]+=" "+T}return!0})}),removeLineClass:bs(function(d,C,T){return k(this,d,C=="gutter"?"gutter":"class",function(I){var F=C=="text"?"textClass":C=="background"?"bgClass":C=="gutter"?"gutterClass":"wrapClass",ee=I[F];if(ee)if(T==null)I[F]=null;else{var pe=ee.match(_e(T));if(!pe)return!1;var Se=pe.index+pe[0].length;I[F]=ee.slice(0,pe.index)+(!pe.index||Se==ee.length?"":" ")+ee.slice(Se)||null}else return!1;return!0})}),addLineWidget:bs(function(d,C,T){return R(this,d,C,T)}),removeLineWidget:function(d){d.clear()},markText:function(d,C,T){return te(this,Hi(this,d),Hi(this,C),T,T&&T.type||"range")},setBookmark:function(d,C){var T={replacedWith:C&&(C.nodeType==null?C.widget:C),insertLeft:C&&C.insertLeft,clearWhenEmpty:!1,shared:C&&C.shared,handleMouseEvents:C&&C.handleMouseEvents};return d=Hi(this,d),te(this,d,d,T,"bookmark")},findMarksAt:function(d){d=Hi(this,d);var C=[],T=Si(this,d.line).markedSpans;if(T)for(var I=0;I<T.length;++I){var F=T[I];(F.from==null||F.from<=d.ch)&&(F.to==null||F.to>=d.ch)&&C.push(F.marker.parent||F.marker)}return C},findMarks:function(d,C,T){d=Hi(this,d),C=Hi(this,C);var I=[],F=d.line;return this.iter(d.line,C.line+1,function(ee){var pe=ee.markedSpans;if(pe)for(var Se=0;Se<pe.length;Se++){var Pe=pe[Se];!(Pe.to!=null&&F==d.line&&d.ch>=Pe.to||Pe.from==null&&F!=d.line||Pe.from!=null&&F==C.line&&Pe.from>=C.ch)&&(!T||T(Pe.marker))&&I.push(Pe.marker.parent||Pe.marker)}++F}),I},getAllMarks:function(){var d=[];return this.iter(function(C){var T=C.markedSpans;if(T)for(var I=0;I<T.length;++I)T[I].from!=null&&d.push(T[I].marker)}),d},posFromIndex:function(d){var C,T=this.first,I=this.lineSeparator().length;return this.iter(function(F){var ee=F.text.length+I;if(ee>d)return C=d,!0;d-=ee,++T}),Hi(this,an(T,C))},indexFromPos:function(d){d=Hi(this,d);var C=d.ch;if(d.line<this.first||d.ch<0)return 0;var T=this.lineSeparator().length;return this.iter(this.first,d.line,function(I){C+=I.text.length+T}),C},copy:function(d){var C=new ut(Oa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return C.scrollTop=this.scrollTop,C.scrollLeft=this.scrollLeft,C.sel=this.sel,C.extend=!1,d&&(C.history.undoDepth=this.history.undoDepth,C.setHistory(this.getHistory())),C},linkedDoc:function(d){d||(d={});var C=this.first,T=this.first+this.size;d.from!=null&&d.from>C&&(C=d.from),d.to!=null&&d.to<T&&(T=d.to);var I=new ut(Oa(this,C,T),d.mode||this.modeOption,C,this.lineSep,this.direction);return d.sharedHist&&(I.history=this.history),(this.linked||(this.linked=[])).push({doc:I,sharedHist:d.sharedHist}),I.linked=[{doc:this,isParent:!0,sharedHist:d.sharedHist}],Ee(I,Oe(this)),I},unlinkDoc:function(d){if(d instanceof ra&&(d=d.doc),this.linked)for(var C=0;C<this.linked.length;++C){var T=this.linked[C];if(T.doc==d){this.linked.splice(C,1),d.unlinkDoc(this),Ne(Oe(this));break}}if(d.history==this.history){var I=[d.id];zu(d,function(F){return I.push(F.id)},!0),d.history=new ch(null),d.history.done=Fo(this.history.done,I),d.history.undone=Fo(this.history.undone,I)}},iterLinkedDocs:function(d){zu(this,d)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(d){return this.lineSep?d.split(this.lineSep):Ro(d)},lineSeparator:function(){return this.lineSep||`
`},setDirection:bs(function(d){d!="rtl"&&(d="ltr"),d!=this.direction&&(this.direction=d,this.iter(function(C){return C.order=null}),this.cm&&wA(this.cm))})}),ut.prototype.eachLine=ut.prototype.iter;var ht=0;function ft(d){var C=this;if(St(C),!(tn(C,d)||du(C.display,d))){Qn(d),p&&(ht=+new Date);var T=qa(C,d,!0),I=d.dataTransfer.files;if(!(!T||C.isReadOnly()))if(I&&I.length&&window.FileReader&&window.File)for(var F=I.length,ee=Array(F),pe=0,Se=function(){++pe==F&&na(C,function(){T=Hi(C.doc,T);var Vt={from:T,to:T,text:C.doc.splitLines(ee.filter(function(bn){return bn!=null}).join(C.doc.lineSeparator())),origin:"paste"};il(C.doc,Vt),gu(C.doc,$A(Hi(C.doc,T),Hi(C.doc,ZA(Vt))))})()},Pe=function(Vt,bn){if(C.options.allowDropFileTypes&&Ve(C.options.allowDropFileTypes,Vt.type)==-1){Se();return}var Pn=new FileReader;Pn.onerror=function(){return Se()},Pn.onload=function(){var ai=Pn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ai)){Se();return}ee[bn]=ai,Se()},Pn.readAsText(Vt)},Ge=0;Ge<I.length;Ge++)Pe(I[Ge],Ge);else{if(C.state.draggingText&&C.doc.sel.contains(T)>-1){C.state.draggingText(d),setTimeout(function(){return C.display.input.focus()},20);return}try{var _t=d.dataTransfer.getData("Text");if(_t){var Tt;if(C.state.draggingText&&!C.state.draggingText.copy&&(Tt=C.listSelections()),yo(C.doc,$A(T,T)),Tt)for(var en=0;en<Tt.length;++en)Jl(C.doc,"",Tt[en].anchor,Tt[en].head,"drag");C.replaceSelection(_t,"around","paste"),C.display.input.focus()}}catch{}}}}function Mt(d,C){if(p&&(!d.state.draggingText||+new Date-ht<100)){Ii(C);return}if(!(tn(d,C)||du(d.display,C))&&(C.dataTransfer.setData("Text",d.getSelection()),C.dataTransfer.effectAllowed="copyMove",C.dataTransfer.setDragImage&&!N)){var T=Ce("img",null,null,"position: fixed; left: 0; top: 0;");T.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",z&&(T.width=T.height=1,d.display.wrapper.appendChild(T),T._top=T.offsetTop),C.dataTransfer.setDragImage(T,0,0),z&&T.parentNode.removeChild(T)}}function Ct(d,C){var T=qa(d,C);if(T){var I=document.createDocumentFragment();Pr(d,T,I),d.display.dragCursor||(d.display.dragCursor=Ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),d.display.lineSpace.insertBefore(d.display.dragCursor,d.display.cursorDiv)),ze(d.display.dragCursor,I)}}function St(d){d.display.dragCursor&&(d.display.lineSpace.removeChild(d.display.dragCursor),d.display.dragCursor=null)}function Pt(d){if(document.getElementsByClassName){for(var C=document.getElementsByClassName("CodeMirror"),T=[],I=0;I<C.length;I++){var F=C[I].CodeMirror;F&&T.push(F)}T.length&&T[0].operation(function(){for(var ee=0;ee<T.length;ee++)d(T[ee])})}}var zt=!1;function Ot(){zt||(Ht(),zt=!0)}function Ht(){var d;yt(window,"resize",function(){d==null&&(d=setTimeout(function(){d=null,Pt(fn)},100))}),yt(window,"blur",function(){return Pt(bA)})}function fn(d){var C=d.display;C.cachedCharWidth=C.cachedTextHeight=C.cachedPaddingH=null,C.scrollbarsClipped=!1,d.setSize()}for(var Jt={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},rn=0;rn<10;rn++)Jt[rn+48]=Jt[rn+96]=String(rn);for(var An=65;An<=90;An++)Jt[An]=String.fromCharCode(An);for(var $n=1;$n<=12;$n++)Jt[$n+111]=Jt[$n+63235]="F"+$n;var Yn={};Yn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Yn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Yn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Yn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Yn.default=V?Yn.macDefault:Yn.pcDefault;function kn(d){var C=d.split(/-(?!$)/);d=C[C.length-1];for(var T,I,F,ee,pe=0;pe<C.length-1;pe++){var Se=C[pe];if(/^(cmd|meta|m)$/i.test(Se))ee=!0;else if(/^a(lt)?$/i.test(Se))T=!0;else if(/^(c|ctrl|control)$/i.test(Se))I=!0;else if(/^s(hift)?$/i.test(Se))F=!0;else throw new Error("Unrecognized modifier name: "+Se)}return T&&(d="Alt-"+d),I&&(d="Ctrl-"+d),ee&&(d="Cmd-"+d),F&&(d="Shift-"+d),d}function wi(d){var C={};for(var T in d)if(d.hasOwnProperty(T)){var I=d[T];if(/^(name|fallthrough|(de|at)tach)$/.test(T))continue;if(I=="..."){delete d[T];continue}for(var F=On(T.split(" "),kn),ee=0;ee<F.length;ee++){var pe=void 0,Se=void 0;ee==F.length-1?(Se=F.join(" "),pe=I):(Se=F.slice(0,ee+1).join(" "),pe="...");var Pe=C[Se];if(!Pe)C[Se]=pe;else if(Pe!=pe)throw new Error("Inconsistent bindings for "+Se)}delete d[T]}for(var Ge in C)d[Ge]=C[Ge];return d}function fr(d,C,T,I){C=ja(C);var F=C.call?C.call(d,I):C[d];if(F===!1)return"nothing";if(F==="...")return"multi";if(F!=null&&T(F))return"handled";if(C.fallthrough){if(Object.prototype.toString.call(C.fallthrough)!="[object Array]")return fr(d,C.fallthrough,T,I);for(var ee=0;ee<C.fallthrough.length;ee++){var pe=fr(d,C.fallthrough[ee],T,I);if(pe)return pe}}}function xo(d){var C=typeof d=="string"?d:Jt[d.keyCode];return C=="Ctrl"||C=="Alt"||C=="Shift"||C=="Mod"}function fa(d,C,T){var I=d;return C.altKey&&I!="Alt"&&(d="Alt-"+d),(ge?C.metaKey:C.ctrlKey)&&I!="Ctrl"&&(d="Ctrl-"+d),(ge?C.ctrlKey:C.metaKey)&&I!="Mod"&&(d="Cmd-"+d),!T&&C.shiftKey&&I!="Shift"&&(d="Shift-"+d),d}function jo(d,C){if(z&&d.keyCode==34&&d.char)return!1;var T=Jt[d.keyCode];return T==null||d.altGraphKey?!1:(d.keyCode==3&&d.code&&(T=d.code),fa(T,d,C))}function ja(d){return typeof d=="string"?Yn[d]:d}function pa(d,C){for(var T=d.doc.sel.ranges,I=[],F=0;F<T.length;F++){for(var ee=C(T[F]);I.length&&li(ee.from,Gn(I).to)<=0;){var pe=I.pop();if(li(pe.from,ee.from)<0){ee.from=pe.from;break}}I.push(ee)}Ha(d,function(){for(var Se=I.length-1;Se>=0;Se--)Jl(d.doc,"",I[Se].from,I[Se].to,"+delete");qo(d)})}function Tr(d,C,T){var I=me(d.text,C+T,T);return I<0||I>d.text.length?null:I}function Ho(d,C,T){var I=Tr(d,C.ch,T);return I==null?null:new an(C.line,I,T<0?"after":"before")}function us(d,C,T,I,F){if(d){C.doc.direction=="rtl"&&(F=-F);var ee=Ze(T,C.doc.direction);if(ee){var pe=F<0?Gn(ee):ee[0],Se=F<0==(pe.level==1),Pe=Se?"after":"before",Ge;if(pe.level>0||C.doc.direction=="rtl"){var _t=vA(C,T);Ge=F<0?T.text.length-1:0;var Tt=rA(C,_t,Ge).top;Ge=Ie(function(en){return rA(C,_t,en).top==Tt},F<0==(pe.level==1)?pe.from:pe.to-1,Ge),Pe=="before"&&(Ge=Tr(T,Ge,1))}else Ge=F<0?pe.to:pe.from;return new an(I,Ge,Pe)}}return new an(I,F<0?T.text.length:0,F<0?"before":"after")}function $a(d,C,T,I){var F=Ze(C,d.doc.direction);if(!F)return Ho(C,T,I);T.ch>=C.text.length?(T.ch=C.text.length,T.sticky="before"):T.ch<=0&&(T.ch=0,T.sticky="after");var ee=He(F,T.ch,T.sticky),pe=F[ee];if(d.doc.direction=="ltr"&&pe.level%2==0&&(I>0?pe.to>T.ch:pe.from<T.ch))return Ho(C,T,I);var Se=function(gi,_i){return Tr(C,gi instanceof an?gi.ch:gi,_i)},Pe,Ge=function(gi){return d.options.lineWrapping?(Pe=Pe||vA(d,C),Uo(d,C,Pe,gi)):{begin:0,end:C.text.length}},_t=Ge(T.sticky=="before"?Se(T,-1):T.ch);if(d.doc.direction=="rtl"||pe.level==1){var Tt=pe.level==1==I<0,en=Se(T,Tt?1:-1);if(en!=null&&(Tt?en<=pe.to&&en<=_t.end:en>=pe.from&&en>=_t.begin)){var Vt=Tt?"before":"after";return new an(T.line,en,Vt)}}var bn=function(gi,_i,yi){for(var Pi=function(Er,As){return As?new an(T.line,Se(Er,1),"before"):new an(T.line,Er,"after")};gi>=0&&gi<F.length;gi+=_i){var ur=F[gi],Vi=_i>0==(ur.level!=1),to=Vi?yi.begin:Se(yi.end,-1);if(ur.from<=to&&to<ur.to||(to=Vi?ur.from:Se(ur.to,-1),yi.begin<=to&&to<yi.end))return Pi(to,Vi)}},Pn=bn(ee+I,I,_t);if(Pn)return Pn;var ai=I>0?_t.end:Se(_t.begin,-1);return ai!=null&&!(I>0&&ai==C.text.length)&&(Pn=bn(I>0?0:F.length-1,I,Ge(ai)),Pn)?Pn:null}var Ds={selectAll:EA,singleSelection:function(d){return d.setSelection(d.getCursor("anchor"),d.getCursor("head"),It)},killLine:function(d){return pa(d,function(C){if(C.empty()){var T=Si(d.doc,C.head.line).text.length;return C.head.ch==T&&C.head.line<d.lastLine()?{from:C.head,to:an(C.head.line+1,0)}:{from:C.head,to:an(C.head.line,T)}}else return{from:C.from(),to:C.to()}})},deleteLine:function(d){return pa(d,function(C){return{from:an(C.from().line,0),to:Hi(d.doc,an(C.to().line+1,0))}})},delLineLeft:function(d){return pa(d,function(C){return{from:an(C.from().line,0),to:C.from()}})},delWrappedLineLeft:function(d){return pa(d,function(C){var T=d.charCoords(C.head,"div").top+5,I=d.coordsChar({left:0,top:T},"div");return{from:I,to:C.from()}})},delWrappedLineRight:function(d){return pa(d,function(C){var T=d.charCoords(C.head,"div").top+5,I=d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:T},"div");return{from:C.from(),to:I}})},undo:function(d){return d.undo()},redo:function(d){return d.redo()},undoSelection:function(d){return d.undoSelection()},redoSelection:function(d){return d.redoSelection()},goDocStart:function(d){return d.extendSelection(an(d.firstLine(),0))},goDocEnd:function(d){return d.extendSelection(an(d.lastLine()))},goLineStart:function(d){return d.extendSelectionsBy(function(C){return Rs(d,C.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(d){return d.extendSelectionsBy(function(C){return _c(d,C.head)},{origin:"+move",bias:1})},goLineEnd:function(d){return d.extendSelectionsBy(function(C){return JA(d,C.head.line)},{origin:"+move",bias:-1})},goLineRight:function(d){return d.extendSelectionsBy(function(C){var T=d.cursorCoords(C.head,"div").top+5;return d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:T},"div")},Ut)},goLineLeft:function(d){return d.extendSelectionsBy(function(C){var T=d.cursorCoords(C.head,"div").top+5;return d.coordsChar({left:0,top:T},"div")},Ut)},goLineLeftSmart:function(d){return d.extendSelectionsBy(function(C){var T=d.cursorCoords(C.head,"div").top+5,I=d.coordsChar({left:0,top:T},"div");return I.ch<d.getLine(I.line).search(/\S/)?_c(d,C.head):I},Ut)},goLineUp:function(d){return d.moveV(-1,"line")},goLineDown:function(d){return d.moveV(1,"line")},goPageUp:function(d){return d.moveV(-1,"page")},goPageDown:function(d){return d.moveV(1,"page")},goCharLeft:function(d){return d.moveH(-1,"char")},goCharRight:function(d){return d.moveH(1,"char")},goColumnLeft:function(d){return d.moveH(-1,"column")},goColumnRight:function(d){return d.moveH(1,"column")},goWordLeft:function(d){return d.moveH(-1,"word")},goGroupRight:function(d){return d.moveH(1,"group")},goGroupLeft:function(d){return d.moveH(-1,"group")},goWordRight:function(d){return d.moveH(1,"word")},delCharBefore:function(d){return d.deleteH(-1,"codepoint")},delCharAfter:function(d){return d.deleteH(1,"char")},delWordBefore:function(d){return d.deleteH(-1,"word")},delWordAfter:function(d){return d.deleteH(1,"word")},delGroupBefore:function(d){return d.deleteH(-1,"group")},delGroupAfter:function(d){return d.deleteH(1,"group")},indentAuto:function(d){return d.indentSelection("smart")},indentMore:function(d){return d.indentSelection("add")},indentLess:function(d){return d.indentSelection("subtract")},insertTab:function(d){return d.replaceSelection("	")},insertSoftTab:function(d){for(var C=[],T=d.listSelections(),I=d.options.tabSize,F=0;F<T.length;F++){var ee=T[F].from(),pe=Ke(d.getLine(ee.line),ee.ch,I);C.push(Wt(I-pe%I))}d.replaceSelections(C)},defaultTab:function(d){d.somethingSelected()?d.indentSelection("add"):d.execCommand("insertTab")},transposeChars:function(d){return Ha(d,function(){for(var C=d.listSelections(),T=[],I=0;I<C.length;I++)if(C[I].empty()){var F=C[I].head,ee=Si(d.doc,F.line).text;if(ee){if(F.ch==ee.length&&(F=new an(F.line,F.ch-1)),F.ch>0)F=new an(F.line,F.ch+1),d.replaceRange(ee.charAt(F.ch-1)+ee.charAt(F.ch-2),an(F.line,F.ch-2),F,"+transpose");else if(F.line>d.doc.first){var pe=Si(d.doc,F.line-1).text;pe&&(F=new an(F.line,1),d.replaceRange(ee.charAt(0)+d.doc.lineSeparator()+pe.charAt(pe.length-1),an(F.line-1,pe.length-1),F,"+transpose"))}}T.push(new eo(F,F))}d.setSelections(T)})},newlineAndIndent:function(d){return Ha(d,function(){for(var C=d.listSelections(),T=C.length-1;T>=0;T--)d.replaceRange(d.doc.lineSeparator(),C[T].anchor,C[T].head,"+input");C=d.listSelections();for(var I=0;I<C.length;I++)d.indentLine(C[I].from().line,null,!0);qo(d)})},openLine:function(d){return d.replaceSelection(`
`,"start")},toggleOverwrite:function(d){return d.toggleOverwrite()}};function Rs(d,C){var T=Si(d.doc,C),I=Ui(T);return I!=T&&(C=Xe(I)),us(!0,d,I,C,1)}function JA(d,C){var T=Si(d.doc,C),I=tr(T);return I!=T&&(C=Xe(I)),us(!0,d,T,C,-1)}function _c(d,C){var T=Rs(d,C.line),I=Si(d.doc,T.line),F=Ze(I,d.doc.direction);if(!F||F[0].level==0){var ee=Math.max(T.ch,I.text.search(/\S/)),pe=C.line==T.line&&C.ch<=ee&&C.ch;return an(T.line,pe?0:ee,T.sticky)}return T}function eu(d,C,T){if(typeof C=="string"&&(C=Ds[C],!C))return!1;d.display.input.ensurePolled();var I=d.display.shift,F=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),T&&(d.display.shift=!1),F=C(d)!=vt}finally{d.display.shift=I,d.state.suppressEdits=!1}return F}function Lh(d,C,T){for(var I=0;I<d.state.keyMaps.length;I++){var F=fr(C,d.state.keyMaps[I],T,d);if(F)return F}return d.options.extraKeys&&fr(C,d.options.extraKeys,T,d)||fr(C,d.options.keyMap,T,d)}var hh=new Ue;function ec(d,C,T,I){var F=d.state.keySeq;if(F){if(xo(C))return"handled";if(/\'$/.test(C)?d.state.keySeq=null:hh.set(50,function(){d.state.keySeq==F&&(d.state.keySeq=null,d.display.input.reset())}),Gc(d,F+" "+C,T,I))return!0}return Gc(d,C,T,I)}function Gc(d,C,T,I){var F=Lh(d,C,I);return F=="multi"&&(d.state.keySeq=C),F=="handled"&&as(d,"keyHandled",d,C,T),(F=="handled"||F=="multi")&&(Qn(T),Uc(d)),!!F}function El(d,C){var T=jo(C,!0);return T?C.shiftKey&&!d.state.keySeq?ec(d,"Shift-"+T,C,function(I){return eu(d,I,!0)})||ec(d,T,C,function(I){if(typeof I=="string"?/^go[A-Z]/.test(I):I.motion)return eu(d,I)}):ec(d,T,C,function(I){return eu(d,I)}):!1}function tc(d,C,T){return ec(d,"'"+T+"'",C,function(I){return eu(d,I,!0)})}var Bl=null;function Wc(d){var C=this;if(!(d.target&&d.target!=C.display.input.getField())&&(C.curOp.focus=it(Et(C)),!tn(C,d))){p&&g<11&&d.keyCode==27&&(d.returnValue=!1);var T=d.keyCode;C.display.shift=T==16||d.shiftKey;var I=El(C,d);z&&(Bl=I?T:null,!I&&T==88&&!cr&&(V?d.metaKey:d.ctrlKey)&&C.replaceSelection("",null,"cut")),r&&!V&&!I&&T==46&&d.shiftKey&&!d.ctrlKey&&document.execCommand&&document.execCommand("cut"),T==18&&!/\bCodeMirror-crosshair\b/.test(C.display.lineDiv.className)&&Mo(C)}}function Mo(d){var C=d.display.lineDiv;ue(C,"CodeMirror-crosshair");function T(I){(I.keyCode==18||!I.altKey)&&(Me(C,"CodeMirror-crosshair"),kt(document,"keyup",T),kt(document,"mouseover",T))}yt(document,"keyup",T),yt(document,"mouseover",T)}function ia(d){d.keyCode==16&&(this.doc.sel.shift=!1),tn(this,d)}function vu(d){var C=this;if(!(d.target&&d.target!=C.display.input.getField())&&!(du(C.display,d)||tn(C,d)||d.ctrlKey&&!d.altKey||V&&d.metaKey)){var T=d.keyCode,I=d.charCode;if(z&&T==Bl){Bl=null,Qn(d);return}if(!(z&&(!d.which||d.which<10)&&El(C,d))){var F=String.fromCharCode(I??T);F!="\b"&&(tc(C,d,F)||C.display.input.onKeyPress(d))}}}var xs=400,BA=function(d,C,T){this.time=d,this.pos=C,this.button=T};BA.prototype.compare=function(d,C,T){return this.time+xs>d&&li(C,this.pos)==0&&T==this.button};var Cu,Nu;function tu(d,C){var T=+new Date;return Nu&&Nu.compare(T,d,C)?(Cu=Nu=null,"triple"):Cu&&Cu.compare(T,d,C)?(Nu=new BA(T,d,C),Cu=null,"double"):(Cu=new BA(T,d,C),Nu=null,"single")}function Qc(d){var C=this,T=C.display;if(!(tn(C,d)||T.activeTouch&&T.input.supportsTouch())){if(T.input.ensurePolled(),T.shift=d.shiftKey,du(T,d)){_||(T.scroller.draggable=!1,setTimeout(function(){return T.scroller.draggable=!0},100));return}if(!hd(C,d)){var I=qa(C,d),F=ti(d),ee=I?tu(I,F):"single";xt(C).focus(),F==1&&C.state.selectingText&&C.state.selectingText(d),!(I&&uA(C,F,I,ee,d))&&(F==1?I?OA(C,I,ee,d):di(d)==T.scroller&&Qn(d):F==2?(I&&XA(C.doc,I),setTimeout(function(){return T.input.focus()},20)):F==3&&(ve?C.display.input.onContextMenu(d):Th(C)))}}}function uA(d,C,T,I,F){var ee="Click";return I=="double"?ee="Double"+ee:I=="triple"&&(ee="Triple"+ee),ee=(C==1?"Left":C==2?"Middle":"Right")+ee,ec(d,fa(ee,F),F,function(pe){if(typeof pe=="string"&&(pe=Ds[pe]),!pe)return!1;var Se=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),Se=pe(d,T)!=vt}finally{d.state.suppressEdits=!1}return Se})}function Za(d,C,T){var I=d.getOption("configureMouse"),F=I?I(d,C,T):{};if(F.unit==null){var ee=J?T.shiftKey&&T.metaKey:T.altKey;F.unit=ee?"rectangle":C=="single"?"char":C=="double"?"word":"line"}return(F.extend==null||d.doc.extend)&&(F.extend=d.doc.extend||T.shiftKey),F.addNew==null&&(F.addNew=V?T.metaKey:T.ctrlKey),F.moveOnDrag==null&&(F.moveOnDrag=!(V?T.altKey:T.ctrlKey)),F}function OA(d,C,T,I){p?setTimeout(Kt(ks,d),0):d.curOp.focus=it(Et(d));var F=Za(d,T,I),ee=d.doc.sel,pe;d.options.dragDrop&&qi&&!d.isReadOnly()&&T=="single"&&(pe=ee.contains(C))>-1&&(li((pe=ee.ranges[pe]).from(),C)<0||C.xRel>0)&&(li(pe.to(),C)>0||C.xRel<0)?tp(d,I,C,F):TA(d,I,C,F)}function tp(d,C,T,I){var F=d.display,ee=!1,pe=na(d,function(Ge){_&&(F.scroller.draggable=!1),d.state.draggingText=!1,d.state.delayingBlurEvent&&(d.hasFocus()?d.state.delayingBlurEvent=!1:Th(d)),kt(F.wrapper.ownerDocument,"mouseup",pe),kt(F.wrapper.ownerDocument,"mousemove",Se),kt(F.scroller,"dragstart",Pe),kt(F.scroller,"drop",pe),ee||(Qn(Ge),I.addNew||XA(d.doc,T,null,null,I.extend),_&&!N||p&&g==9?setTimeout(function(){F.wrapper.ownerDocument.body.focus({preventScroll:!0}),F.input.focus()},20):F.input.focus())}),Se=function(Ge){ee=ee||Math.abs(C.clientX-Ge.clientX)+Math.abs(C.clientY-Ge.clientY)>=10},Pe=function(){return ee=!0};_&&(F.scroller.draggable=!0),d.state.draggingText=pe,pe.copy=!I.moveOnDrag,yt(F.wrapper.ownerDocument,"mouseup",pe),yt(F.wrapper.ownerDocument,"mousemove",Se),yt(F.scroller,"dragstart",Pe),yt(F.scroller,"drop",pe),d.state.delayingBlurEvent=!0,setTimeout(function(){return F.input.focus()},20),F.scroller.dragDrop&&F.scroller.dragDrop()}function IA(d,C,T){if(T=="char")return new eo(C,C);if(T=="word")return d.findWordAt(C);if(T=="line")return new eo(an(C.line,0),Hi(d.doc,an(C.line+1,0)));var I=T(d,C);return new eo(I.from,I.to)}function TA(d,C,T,I){p&&Th(d);var F=d.display,ee=d.doc;Qn(C);var pe,Se,Pe=ee.sel,Ge=Pe.ranges;if(I.addNew&&!I.extend?(Se=ee.sel.contains(T),Se>-1?pe=Ge[Se]:pe=new eo(T,T)):(pe=ee.sel.primary(),Se=ee.sel.primIndex),I.unit=="rectangle")I.addNew||(pe=new eo(T,T)),T=qa(d,C,!0,!0),Se=-1;else{var _t=IA(d,T,I.unit);I.extend?pe=Lr(pe,_t.anchor,_t.head,I.extend):pe=_t}I.addNew?Se==-1?(Se=Ge.length,da(ee,hi(d,Ge.concat([pe]),Se),{scroll:!1,origin:"*mouse"})):Ge.length>1&&Ge[Se].empty()&&I.unit=="char"&&!I.extend?(da(ee,hi(d,Ge.slice(0,Se).concat(Ge.slice(Se+1)),0),{scroll:!1,origin:"*mouse"}),Pe=ee.sel):Ri(ee,Se,pe,Yt):(Se=0,da(ee,new wa([pe],0),Yt),Pe=ee.sel);var Tt=T;function en(yi){if(li(Tt,yi)!=0)if(Tt=yi,I.unit=="rectangle"){for(var Pi=[],ur=d.options.tabSize,Vi=Ke(Si(ee,T.line).text,T.ch,ur),to=Ke(Si(ee,yi.line).text,yi.ch,ur),Er=Math.min(Vi,to),As=Math.max(Vi,to),ma=Math.min(T.line,yi.line),Vr=Math.min(d.lastLine(),Math.max(T.line,yi.line));ma<=Vr;ma++){var Ms=Si(ee,ma).text,ws=on(Ms,Er,ur);Er==As?Pi.push(new eo(an(ma,ws),an(ma,ws))):Ms.length>ws&&Pi.push(new eo(an(ma,ws),an(ma,on(Ms,As,ur))))}Pi.length||Pi.push(new eo(T,T)),da(ee,hi(d,Pe.ranges.slice(0,Se).concat(Pi),Se),{origin:"*mouse",scroll:!1}),d.scrollIntoView(yi)}else{var ga=pe,nu=IA(d,yi,I.unit),Ps=ga.anchor,Hs;li(nu.anchor,Ps)>0?(Hs=nu.head,Ps=Ws(ga.from(),nu.anchor)):(Hs=nu.anchor,Ps=ps(ga.to(),nu.head));var kr=Pe.ranges.slice(0);kr[Se]=Ta(d,new eo(Hi(ee,Ps),Hs)),da(ee,hi(d,kr,Se),Yt)}}var Vt=F.wrapper.getBoundingClientRect(),bn=0;function Pn(yi){var Pi=++bn,ur=qa(d,yi,!0,I.unit=="rectangle");if(ur)if(li(ur,Tt)!=0){d.curOp.focus=it(Et(d)),en(ur);var Vi=Ku(F,ee);(ur.line>=Vi.to||ur.line<Vi.from)&&setTimeout(na(d,function(){bn==Pi&&Pn(yi)}),150)}else{var to=yi.clientY<Vt.top?-20:yi.clientY>Vt.bottom?20:0;to&&setTimeout(na(d,function(){bn==Pi&&(F.scroller.scrollTop+=to,Pn(yi))}),50)}}function ai(yi){d.state.selectingText=!1,bn=1/0,yi&&(Qn(yi),F.input.focus()),kt(F.wrapper.ownerDocument,"mousemove",gi),kt(F.wrapper.ownerDocument,"mouseup",_i),ee.history.lastSelOrigin=null}var gi=na(d,function(yi){yi.buttons===0||!ti(yi)?ai(yi):Pn(yi)}),_i=na(d,ai);d.state.selectingText=_i,yt(F.wrapper.ownerDocument,"mousemove",gi),yt(F.wrapper.ownerDocument,"mouseup",_i)}function Ta(d,C){var T=C.anchor,I=C.head,F=Si(d.doc,T.line);if(li(T,I)==0&&T.sticky==I.sticky)return C;var ee=Ze(F);if(!ee)return C;var pe=He(ee,T.ch,T.sticky),Se=ee[pe];if(Se.from!=T.ch&&Se.to!=T.ch)return C;var Pe=pe+(Se.from==T.ch==(Se.level!=1)?0:1);if(Pe==0||Pe==ee.length)return C;var Ge;if(I.line!=T.line)Ge=(I.line-T.line)*(d.doc.direction=="ltr"?1:-1)>0;else{var _t=He(ee,I.ch,I.sticky),Tt=_t-pe||(I.ch-T.ch)*(Se.level==1?-1:1);_t==Pe-1||_t==Pe?Ge=Tt<0:Ge=Tt>0}var en=ee[Pe+(Ge?-1:0)],Vt=Ge==(en.level==1),bn=Vt?en.from:en.to,Pn=Vt?"after":"before";return T.ch==bn&&T.sticky==Pn?C:new eo(new an(T.line,bn,Pn),I)}function AA(d,C,T,I){var F,ee;if(C.touches)F=C.touches[0].clientX,ee=C.touches[0].clientY;else try{F=C.clientX,ee=C.clientY}catch{return!1}if(F>=Math.floor(d.display.gutters.getBoundingClientRect().right))return!1;I&&Qn(C);var pe=d.display,Se=pe.lineDiv.getBoundingClientRect();if(ee>Se.bottom||!wn(d,T))return ir(C);ee-=Se.top-pe.viewOffset;for(var Pe=0;Pe<d.display.gutterSpecs.length;++Pe){var Ge=pe.gutters.childNodes[Pe];if(Ge&&Ge.getBoundingClientRect().right>=F){var _t=Bt(d.doc,ee),Tt=d.display.gutterSpecs[Pe];return rt(d,T,d,_t,Tt.className,C),ir(C)}}}function hd(d,C){return AA(d,C,"gutterClick",!0)}function np(d,C){du(d.display,C)||yf(d,C)||tn(d,C,"contextmenu")||ve||d.display.input.onContextMenu(C)}function yf(d,C){return wn(d,"gutterContextMenu")?AA(d,C,"gutterContextMenu",!1):!1}function Im(d){d.display.wrapper.className=d.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Oh(d)}var bc={toString:function(){return"CodeMirror.Init"}},dd={},ip={};function rp(d){var C=d.optionHandlers;function T(I,F,ee,pe){d.defaults[I]=F,ee&&(C[I]=pe?function(Se,Pe,Ge){Ge!=bc&&ee(Se,Pe,Ge)}:ee)}d.defineOption=T,d.Init=bc,T("value","",function(I,F){return I.setValue(F)},!0),T("mode",null,function(I,F){I.doc.modeOption=F,ro(I)},!0),T("indentUnit",2,ro,!0),T("indentWithTabs",!1),T("smartIndent",!0),T("tabSize",4,function(I){Vl(I),Oh(I),Ts(I)},!0),T("lineSeparator",null,function(I,F){if(I.doc.lineSep=F,!!F){var ee=[],pe=I.doc.first;I.doc.iter(function(Pe){for(var Ge=0;;){var _t=Pe.text.indexOf(F,Ge);if(_t==-1)break;Ge=_t+F.length,ee.push(an(pe,_t))}pe++});for(var Se=ee.length-1;Se>=0;Se--)Jl(I.doc,F,ee[Se],an(ee[Se].line,ee[Se].ch+F.length))}}),T("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(I,F,ee){I.state.specialChars=new RegExp(F.source+(F.test("	")?"":"|	"),"g"),ee!=bc&&I.refresh()}),T("specialCharPlaceholder",tA,function(I){return I.refresh()},!0),T("electricChars",!0),T("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),T("spellcheck",!1,function(I,F){return I.getInputField().spellcheck=F},!0),T("autocorrect",!1,function(I,F){return I.getInputField().autocorrect=F},!0),T("autocapitalize",!1,function(I,F){return I.getInputField().autocapitalize=F},!0),T("rtlMoveVisually",!W),T("wholeLineUpdateBefore",!0),T("theme","default",function(I){Im(I),mu(I)},!0),T("keyMap","default",function(I,F,ee){var pe=ja(F),Se=ee!=bc&&ja(ee);Se&&Se.detach&&Se.detach(I,pe),pe.attach&&pe.attach(I,Se||null)}),T("extraKeys",null),T("configureMouse",null),T("lineWrapping",!1,vf,!0),T("gutters",[],function(I,F){I.display.gutterSpecs=ss(F,I.options.lineNumbers),mu(I)},!0),T("fixedGutter",!0,function(I,F){I.display.gutters.style.left=F?Yo(I.display)+"px":"0",I.refresh()},!0),T("coverGutterNextToScrollbar",!1,function(I){return Qs(I)},!0),T("scrollbarStyle","native",function(I){cf(I),Qs(I),I.display.scrollbars.setScrollTop(I.doc.scrollTop),I.display.scrollbars.setScrollLeft(I.doc.scrollLeft)},!0),T("lineNumbers",!1,function(I,F){I.display.gutterSpecs=ss(I.options.gutters,F),mu(I)},!0),T("firstLineNumber",1,mu,!0),T("lineNumberFormatter",function(I){return I},mu,!0),T("showCursorWhenSelecting",!1,Pc,!0),T("resetSelectionOnContextMenu",!0),T("lineWiseCopyCut",!0),T("pasteLinesPerSelection",!0),T("selectionsMayTouch",!1),T("readOnly",!1,function(I,F){F=="nocursor"&&(bA(I),I.display.input.blur()),I.display.input.readOnlyChanged(F)}),T("screenReaderLabel",null,function(I,F){F=F===""?null:F,I.display.input.screenReaderLabelChanged(F)}),T("disableInput",!1,function(I,F){F||I.display.input.reset()},!0),T("dragDrop",!0,ug),T("allowDropFileTypes",null),T("cursorBlinkRate",530),T("cursorScrollMargin",0),T("cursorHeight",1,Pc,!0),T("singleCursorHeightPerLine",!0,Pc,!0),T("workTime",100),T("workDelay",100),T("flattenSpans",!0,Vl,!0),T("addModeClass",!1,Vl,!0),T("pollInterval",100),T("undoDepth",200,function(I,F){return I.doc.history.undoDepth=F}),T("historyEventDelay",1250),T("viewportMargin",10,function(I){return I.refresh()},!0),T("maxHighlightLength",1e4,Vl,!0),T("moveInputWithCursor",!0,function(I,F){F||I.display.input.resetPosition()}),T("tabindex",null,function(I,F){return I.display.input.getField().tabIndex=F||""}),T("autofocus",null),T("direction","ltr",function(I,F){return I.doc.setDirection(F)},!0),T("phrases",null)}function ug(d,C,T){var I=T&&T!=bc;if(!C!=!I){var F=d.display.dragFunctions,ee=C?yt:kt;ee(d.display.scroller,"dragstart",F.start),ee(d.display.scroller,"dragenter",F.enter),ee(d.display.scroller,"dragover",F.over),ee(d.display.scroller,"dragleave",F.leave),ee(d.display.scroller,"drop",F.drop)}}function vf(d){d.options.lineWrapping?(ue(d.display.wrapper,"CodeMirror-wrap"),d.display.sizer.style.minWidth="",d.display.sizerWidth=null):(Me(d.display.wrapper,"CodeMirror-wrap"),Js(d)),nd(d),Ts(d),Oh(d),setTimeout(function(){return Qs(d)},100)}function ra(d,C){var T=this;if(!(this instanceof ra))return new ra(d,C);this.options=C=C?je(C):{},je(dd,C,!1);var I=C.value;typeof I=="string"?I=new ut(I,C.mode,null,C.lineSeparator,C.direction):C.mode&&(I.modeOption=C.mode),this.doc=I;var F=new ra.inputStyles[C.inputStyle](this),ee=this.display=new Fd(d,I,F,C);ee.wrapper.CodeMirror=this,Im(this),C.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),cf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ue,keySeq:null,specialChars:null},C.autofocus&&!ne&&ee.input.focus(),p&&g<11&&setTimeout(function(){return T.display.input.reset(!0)},20),Gp(this),Ot(),ul(this),this.curOp.forceUpdate=!0,yc(this,I),C.autofocus&&!ne||this.hasFocus()?setTimeout(function(){T.hasFocus()&&!T.state.focused&&Ud(T)},20):bA(this);for(var pe in ip)ip.hasOwnProperty(pe)&&ip[pe](this,C[pe],bc);Al(this),C.finishInit&&C.finishInit(this);for(var Se=0;Se<Fh.length;++Se)Fh[Se](this);Ys(this),_&&C.lineWrapping&&getComputedStyle(ee.lineDiv).textRendering=="optimizelegibility"&&(ee.lineDiv.style.textRendering="auto")}ra.defaults=dd,ra.optionHandlers=ip;function Gp(d){var C=d.display;yt(C.scroller,"mousedown",na(d,Qc)),p&&g<11?yt(C.scroller,"dblclick",na(d,function(Pe){if(!tn(d,Pe)){var Ge=qa(d,Pe);if(!(!Ge||hd(d,Pe)||du(d.display,Pe))){Qn(Pe);var _t=d.findWordAt(Ge);XA(d.doc,_t.anchor,_t.head)}}})):yt(C.scroller,"dblclick",function(Pe){return tn(d,Pe)||Qn(Pe)}),yt(C.scroller,"contextmenu",function(Pe){return np(d,Pe)}),yt(C.input.getField(),"contextmenu",function(Pe){C.scroller.contains(Pe.target)||np(d,Pe)});var T,I={end:0};function F(){C.activeTouch&&(T=setTimeout(function(){return C.activeTouch=null},1e3),I=C.activeTouch,I.end=+new Date)}function ee(Pe){if(Pe.touches.length!=1)return!1;var Ge=Pe.touches[0];return Ge.radiusX<=1&&Ge.radiusY<=1}function pe(Pe,Ge){if(Ge.left==null)return!0;var _t=Ge.left-Pe.left,Tt=Ge.top-Pe.top;return _t*_t+Tt*Tt>20*20}yt(C.scroller,"touchstart",function(Pe){if(!tn(d,Pe)&&!ee(Pe)&&!hd(d,Pe)){C.input.ensurePolled(),clearTimeout(T);var Ge=+new Date;C.activeTouch={start:Ge,moved:!1,prev:Ge-I.end<=300?I:null},Pe.touches.length==1&&(C.activeTouch.left=Pe.touches[0].pageX,C.activeTouch.top=Pe.touches[0].pageY)}}),yt(C.scroller,"touchmove",function(){C.activeTouch&&(C.activeTouch.moved=!0)}),yt(C.scroller,"touchend",function(Pe){var Ge=C.activeTouch;if(Ge&&!du(C,Pe)&&Ge.left!=null&&!Ge.moved&&new Date-Ge.start<300){var _t=d.coordsChar(C.activeTouch,"page"),Tt;!Ge.prev||pe(Ge,Ge.prev)?Tt=new eo(_t,_t):!Ge.prev.prev||pe(Ge,Ge.prev.prev)?Tt=d.findWordAt(_t):Tt=new eo(an(_t.line,0),Hi(d.doc,an(_t.line+1,0))),d.setSelection(Tt.anchor,Tt.head),d.focus(),Qn(Pe)}F()}),yt(C.scroller,"touchcancel",F),yt(C.scroller,"scroll",function(){C.scroller.clientHeight&&(oh(d,C.scroller.scrollTop),Ma(d,C.scroller.scrollLeft,!0),rt(d,"scroll",d))}),yt(C.scroller,"mousewheel",function(Pe){return od(d,Pe)}),yt(C.scroller,"DOMMouseScroll",function(Pe){return od(d,Pe)}),yt(C.wrapper,"scroll",function(){return C.wrapper.scrollTop=C.wrapper.scrollLeft=0}),C.dragFunctions={enter:function(Pe){tn(d,Pe)||Ii(Pe)},over:function(Pe){tn(d,Pe)||(Ct(d,Pe),Ii(Pe))},start:function(Pe){return Mt(d,Pe)},drop:na(d,ft),leave:function(Pe){tn(d,Pe)||St(d)}};var Se=C.input.getField();yt(Se,"keyup",function(Pe){return ia.call(d,Pe)}),yt(Se,"keydown",na(d,Wc)),yt(Se,"keypress",na(d,vu)),yt(Se,"focus",function(Pe){return Ud(d,Pe)}),yt(Se,"blur",function(Pe){return bA(d,Pe)})}var Fh=[];ra.defineInitHook=function(d){return Fh.push(d)};function op(d,C,T,I){var F=d.doc,ee;T==null&&(T="add"),T=="smart"&&(F.mode.indent?ee=ta(d,C).state:T="prev");var pe=d.options.tabSize,Se=Si(F,C),Pe=Ke(Se.text,null,pe);Se.stateAfter&&(Se.stateAfter=null);var Ge=Se.text.match(/^\s*/)[0],_t;if(!I&&!/\S/.test(Se.text))_t=0,T="not";else if(T=="smart"&&(_t=F.mode.indent(ee,Se.text.slice(Ge.length),Se.text),_t==vt||_t>150)){if(!I)return;T="prev"}T=="prev"?C>F.first?_t=Ke(Si(F,C-1).text,null,pe):_t=0:T=="add"?_t=Pe+d.options.indentUnit:T=="subtract"?_t=Pe-d.options.indentUnit:typeof T=="number"&&(_t=Pe+T),_t=Math.max(0,_t);var Tt="",en=0;if(d.options.indentWithTabs)for(var Vt=Math.floor(_t/pe);Vt;--Vt)en+=pe,Tt+="	";if(en<_t&&(Tt+=Wt(_t-en)),Tt!=Ge)return Jl(F,Tt,an(C,0),an(C,Ge.length),"+input"),Se.stateAfter=null,!0;for(var bn=0;bn<F.sel.ranges.length;bn++){var Pn=F.sel.ranges[bn];if(Pn.head.line==C&&Pn.head.ch<Ge.length){var ai=an(C,Ge.length);Ri(F,bn,new eo(ai,ai));break}}}var cA=null;function jd(d){cA=d}function rl(d,C,T,I,F){var ee=d.doc;d.display.shift=!1,I||(I=ee.sel);var pe=+new Date-200,Se=F=="paste"||d.state.pasteIncoming>pe,Pe=Ro(C),Ge=null;if(Se&&I.ranges.length>1)if(cA&&cA.text.join(`
`)==C){if(I.ranges.length%cA.text.length==0){Ge=[];for(var _t=0;_t<cA.text.length;_t++)Ge.push(ee.splitLines(cA.text[_t]))}}else Pe.length==I.ranges.length&&d.options.pasteLinesPerSelection&&(Ge=On(Pe,function(gi){return[gi]}));for(var Tt=d.curOp.updateInput,en=I.ranges.length-1;en>=0;en--){var Vt=I.ranges[en],bn=Vt.from(),Pn=Vt.to();Vt.empty()&&(T&&T>0?bn=an(bn.line,bn.ch-T):d.state.overwrite&&!Se?Pn=an(Pn.line,Math.min(Si(ee,Pn.line).text.length,Pn.ch+Gn(Pe).length)):Se&&cA&&cA.lineWise&&cA.text.join(`
`)==Pe.join(`
`)&&(bn=Pn=an(bn.line,0)));var ai={from:bn,to:Pn,text:Ge?Ge[en%Ge.length]:Pe,origin:F||(Se?"paste":d.state.cutIncoming>pe?"cut":"+input")};il(d.doc,ai),as(d,"inputRead",d,ai)}C&&!Se&&ap(d,C),qo(d),d.curOp.updateInput<2&&(d.curOp.updateInput=Tt),d.curOp.typing=!0,d.state.pasteIncoming=d.state.cutIncoming=-1}function ms(d,C){var T=d.clipboardData&&d.clipboardData.getData("Text");if(T)return d.preventDefault(),!C.isReadOnly()&&!C.options.disableInput&&C.hasFocus()&&Ha(C,function(){return rl(C,T,0,null,"paste")}),!0}function ap(d,C){if(!(!d.options.electricChars||!d.options.smartIndent))for(var T=d.doc.sel,I=T.ranges.length-1;I>=0;I--){var F=T.ranges[I];if(!(F.head.ch>100||I&&T.ranges[I-1].head.line==F.head.line)){var ee=d.getModeAt(F.head),pe=!1;if(ee.electricChars){for(var Se=0;Se<ee.electricChars.length;Se++)if(C.indexOf(ee.electricChars.charAt(Se))>-1){pe=op(d,F.head.line,"smart");break}}else ee.electricInput&&ee.electricInput.test(Si(d.doc,F.head.line).text.slice(0,F.head.ch))&&(pe=op(d,F.head.line,"smart"));pe&&as(d,"electricInput",d,F.head.line)}}}function Wp(d){for(var C=[],T=[],I=0;I<d.doc.sel.ranges.length;I++){var F=d.doc.sel.ranges[I].head.line,ee={anchor:an(F,0),head:an(F+1,0)};T.push(ee),C.push(d.getRange(ee.anchor,ee.head))}return{text:C,ranges:T}}function sp(d,C,T,I){d.setAttribute("autocorrect",T?"on":"off"),d.setAttribute("autocapitalize",I?"on":"off"),d.setAttribute("spellcheck",!!C)}function Cf(){var d=Ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),C=Ce("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _?d.style.width="1000px":d.setAttribute("wrap","off"),X&&(d.style.border="1px solid black"),C}function Nd(d){var C=d.optionHandlers,T=d.helpers={};d.prototype={constructor:d,focus:function(){xt(this).focus(),this.display.input.focus()},setOption:function(I,F){var ee=this.options,pe=ee[I];ee[I]==F&&I!="mode"||(ee[I]=F,C.hasOwnProperty(I)&&na(this,C[I])(this,F,pe),rt(this,"optionChange",this,I))},getOption:function(I){return this.options[I]},getDoc:function(){return this.doc},addKeyMap:function(I,F){this.state.keyMaps[F?"push":"unshift"](ja(I))},removeKeyMap:function(I){for(var F=this.state.keyMaps,ee=0;ee<F.length;++ee)if(F[ee]==I||F[ee].name==I)return F.splice(ee,1),!0},addOverlay:Cr(function(I,F){var ee=I.token?I:d.getMode(this.options,I);if(ee.startState)throw new Error("Overlays may not be stateful.");Bn(this.state.overlays,{mode:ee,modeSpec:I,opaque:F&&F.opaque,priority:F&&F.priority||0},function(pe){return pe.priority}),this.state.modeGen++,Ts(this)}),removeOverlay:Cr(function(I){for(var F=this.state.overlays,ee=0;ee<F.length;++ee){var pe=F[ee].modeSpec;if(pe==I||typeof I=="string"&&pe.name==I){F.splice(ee,1),this.state.modeGen++,Ts(this);return}}}),indentLine:Cr(function(I,F,ee){typeof F!="string"&&typeof F!="number"&&(F==null?F=this.options.smartIndent?"smart":"prev":F=F?"add":"subtract"),Mn(this.doc,I)&&op(this,I,F,ee)}),indentSelection:Cr(function(I){for(var F=this.doc.sel.ranges,ee=-1,pe=0;pe<F.length;pe++){var Se=F[pe];if(Se.empty())Se.head.line>ee&&(op(this,Se.head.line,I,!0),ee=Se.head.line,pe==this.doc.sel.primIndex&&qo(this));else{var Pe=Se.from(),Ge=Se.to(),_t=Math.max(ee,Pe.line);ee=Math.min(this.lastLine(),Ge.line-(Ge.ch?0:1))+1;for(var Tt=_t;Tt<ee;++Tt)op(this,Tt,I);var en=this.doc.sel.ranges;Pe.ch==0&&F.length==en.length&&en[pe].from().ch>0&&Ri(this.doc,pe,new eo(Pe,en[pe].to()),It)}}}),getTokenAt:function(I,F){return Wl(this,I,F)},getLineTokens:function(I,F){return Wl(this,an(I),F,!0)},getTokenTypeAt:function(I){I=Hi(this.doc,I);var F=Xs(this,Si(this.doc,I.line)),ee=0,pe=(F.length-1)/2,Se=I.ch,Pe;if(Se==0)Pe=F[2];else for(;;){var Ge=ee+pe>>1;if((Ge?F[Ge*2-1]:0)>=Se)pe=Ge;else if(F[Ge*2+1]<Se)ee=Ge+1;else{Pe=F[Ge*2+2];break}}var _t=Pe?Pe.indexOf("overlay "):-1;return _t<0?Pe:_t==0?null:Pe.slice(0,_t-1)},getModeAt:function(I){var F=this.doc.mode;return F.innerMode?d.innerMode(F,this.getTokenAt(I).state).mode:F},getHelper:function(I,F){return this.getHelpers(I,F)[0]},getHelpers:function(I,F){var ee=[];if(!T.hasOwnProperty(F))return ee;var pe=T[F],Se=this.getModeAt(I);if(typeof Se[F]=="string")pe[Se[F]]&&ee.push(pe[Se[F]]);else if(Se[F])for(var Pe=0;Pe<Se[F].length;Pe++){var Ge=pe[Se[F][Pe]];Ge&&ee.push(Ge)}else Se.helperType&&pe[Se.helperType]?ee.push(pe[Se.helperType]):pe[Se.name]&&ee.push(pe[Se.name]);for(var _t=0;_t<pe._global.length;_t++){var Tt=pe._global[_t];Tt.pred(Se,this)&&Ve(ee,Tt.val)==-1&&ee.push(Tt.val)}return ee},getStateAfter:function(I,F){var ee=this.doc;return I=Ju(ee,I??ee.first+ee.size-1),ta(this,I+1,F).state},cursorCoords:function(I,F){var ee,pe=this.doc.sel.primary();return I==null?ee=pe.head:typeof I=="object"?ee=Hi(this.doc,I):ee=I?pe.from():pe.to(),Cn(this,ee,F||"page")},charCoords:function(I,F){return En(this,Hi(this.doc,I),F||"page")},coordsChar:function(I,F){return I=Xt(this,I,F||"page"),ko(this,I.left,I.top)},lineAtHeight:function(I,F){return I=Xt(this,{top:I,left:0},F||"page").top,Bt(this.doc,I+this.display.viewOffset)},heightAtLine:function(I,F,ee){var pe=!1,Se;if(typeof I=="number"){var Pe=this.doc.first+this.doc.size-1;I<this.doc.first?I=this.doc.first:I>Pe&&(I=Pe,pe=!0),Se=Si(this.doc,I)}else Se=I;return ql(this,Se,{top:0,left:0},F||"page",ee||pe).top+(pe?this.doc.height-Qo(Se):0)},defaultTextHeight:function(){return Du(this.display)},defaultCharWidth:function(){return Ru(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(I,F,ee,pe,Se){var Pe=this.display;I=Cn(this,Hi(this.doc,I));var Ge=I.bottom,_t=I.left;if(F.style.position="absolute",F.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(F),Pe.sizer.appendChild(F),pe=="over")Ge=I.top;else if(pe=="above"||pe=="near"){var Tt=Math.max(Pe.wrapper.clientHeight,this.doc.height),en=Math.max(Pe.sizer.clientWidth,Pe.lineSpace.clientWidth);(pe=="above"||I.bottom+F.offsetHeight>Tt)&&I.top>F.offsetHeight?Ge=I.top-F.offsetHeight:I.bottom+F.offsetHeight<=Tt&&(Ge=I.bottom),_t+F.offsetWidth>en&&(_t=en-F.offsetWidth)}F.style.top=Ge+"px",F.style.left=F.style.right="",Se=="right"?(_t=Pe.sizer.clientWidth-F.offsetWidth,F.style.right="0px"):(Se=="left"?_t=0:Se=="middle"&&(_t=(Pe.sizer.clientWidth-F.offsetWidth)/2),F.style.left=_t+"px"),ee&&id(this,{left:_t,top:Ge,right:_t+F.offsetWidth,bottom:Ge+F.offsetHeight})},triggerOnKeyDown:Cr(Wc),triggerOnKeyPress:Cr(vu),triggerOnKeyUp:ia,triggerOnMouseDown:Cr(Qc),execCommand:function(I){if(Ds.hasOwnProperty(I))return Ds[I].call(null,this)},triggerElectric:Cr(function(I){ap(this,I)}),findPosH:function(I,F,ee,pe){var Se=1;F<0&&(Se=-1,F=-F);for(var Pe=Hi(this.doc,I),Ge=0;Ge<F&&(Pe=yr(this.doc,Pe,Se,ee,pe),!Pe.hitSide);++Ge);return Pe},moveH:Cr(function(I,F){var ee=this;this.extendSelectionsBy(function(pe){return ee.display.shift||ee.doc.extend||pe.empty()?yr(ee.doc,pe.head,I,F,ee.options.rtlMoveVisually):I<0?pe.from():pe.to()},Ut)}),deleteH:Cr(function(I,F){var ee=this.doc.sel,pe=this.doc;ee.somethingSelected()?pe.replaceSelection("",null,"+delete"):pa(this,function(Se){var Pe=yr(pe,Se.head,I,F,!1);return I<0?{from:Pe,to:Se.head}:{from:Se.head,to:Pe}})}),findPosV:function(I,F,ee,pe){var Se=1,Pe=pe;F<0&&(Se=-1,F=-F);for(var Ge=Hi(this.doc,I),_t=0;_t<F;++_t){var Tt=Cn(this,Ge,"div");if(Pe==null?Pe=Tt.left:Tt.left=Pe,Ge=_f(this,Tt,Se,ee),Ge.hitSide)break}return Ge},moveV:Cr(function(I,F){var ee=this,pe=this.doc,Se=[],Pe=!this.display.shift&&!pe.extend&&pe.sel.somethingSelected();if(pe.extendSelectionsBy(function(_t){if(Pe)return I<0?_t.from():_t.to();var Tt=Cn(ee,_t.head,"div");_t.goalColumn!=null&&(Tt.left=_t.goalColumn),Se.push(Tt.left);var en=_f(ee,Tt,I,F);return F=="page"&&_t==pe.sel.primary()&&Kl(ee,En(ee,en,"div").top-Tt.top),en},Ut),Se.length)for(var Ge=0;Ge<pe.sel.ranges.length;Ge++)pe.sel.ranges[Ge].goalColumn=Se[Ge]}),findWordAt:function(I){var F=this.doc,ee=Si(F,I.line).text,pe=I.ch,Se=I.ch;if(ee){var Pe=this.getHelper(I,"wordChars");(I.sticky=="before"||Se==ee.length)&&pe?--pe:++Se;for(var Ge=ee.charAt(pe),_t=De(Ge,Pe)?function(Tt){return De(Tt,Pe)}:/\s/.test(Ge)?function(Tt){return/\s/.test(Tt)}:function(Tt){return!/\s/.test(Tt)&&!De(Tt)};pe>0&&_t(ee.charAt(pe-1));)--pe;for(;Se<ee.length&&_t(ee.charAt(Se));)++Se}return new eo(an(I.line,pe),an(I.line,Se))},toggleOverwrite:function(I){I!=null&&I==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):Me(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==it(Et(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Cr(function(I,F){ha(this,I,F)}),getScrollInfo:function(){var I=this.display.scroller;return{left:I.scrollLeft,top:I.scrollTop,height:I.scrollHeight-GA(this)-this.display.barHeight,width:I.scrollWidth-GA(this)-this.display.barWidth,clientHeight:ed(this),clientWidth:iA(this)}},scrollIntoView:Cr(function(I,F){I==null?(I={from:this.doc.sel.primary().head,to:null},F==null&&(F=this.options.cursorScrollMargin)):typeof I=="number"?I={from:an(I,0),to:null}:I.from==null&&(I={from:I,to:null}),I.to||(I.to=I.from),I.margin=F||0,I.from.line!=null?YA(this,I):Kc(this,I.from,I.to,I.margin)}),setSize:Cr(function(I,F){var ee=this,pe=function(Pe){return typeof Pe=="number"||/^\d+$/.test(String(Pe))?Pe+"px":Pe};I!=null&&(this.display.wrapper.style.width=pe(I)),F!=null&&(this.display.wrapper.style.height=pe(F)),this.options.lineWrapping&&To(this);var Se=this.display.viewFrom;this.doc.iter(Se,this.display.viewTo,function(Pe){if(Pe.widgets){for(var Ge=0;Ge<Pe.widgets.length;Ge++)if(Pe.widgets[Ge].noHScroll){oA(ee,Se,"widget");break}}++Se}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(I){return Ha(this,I)},startOperation:function(){return ul(this)},endOperation:function(){return Ys(this)},refresh:Cr(function(){var I=this.display.cachedTextHeight;Ts(this),this.curOp.forceUpdate=!0,Oh(this),ha(this,this.doc.scrollLeft,this.doc.scrollTop),Ah(this.display),(I==null||Math.abs(I-Du(this.display))>.5||this.options.lineWrapping)&&nd(this),rt(this,"refresh",this)}),swapDoc:Cr(function(I){var F=this.doc;return F.cm=null,this.state.selectingText&&this.state.selectingText(),yc(this,I),Oh(this),this.display.input.reset(),ha(this,I.scrollLeft,I.scrollTop),this.curOp.forceScroll=!0,as(this,"swapDoc",this,F),F}),phrase:function(I){var F=this.options.phrases;return F&&Object.prototype.hasOwnProperty.call(F,I)?F[I]:I},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ri(d),d.registerHelper=function(I,F,ee){T.hasOwnProperty(I)||(T[I]=d[I]={_global:[]}),T[I][F]=ee},d.registerGlobalHelper=function(I,F,ee,pe){d.registerHelper(I,F,pe),T[I]._global.push({pred:ee,val:pe})}}function yr(d,C,T,I,F){var ee=C,pe=T,Se=Si(d,C.line),Pe=F&&d.direction=="rtl"?-T:T;function Ge(){var _i=C.line+Pe;return _i<d.first||_i>=d.first+d.size?!1:(C=new an(_i,C.ch,C.sticky),Se=Si(d,_i))}function _t(_i){var yi;if(I=="codepoint"){var Pi=Se.text.charCodeAt(C.ch+(T>0?0:-1));if(isNaN(Pi))yi=null;else{var ur=T>0?Pi>=55296&&Pi<56320:Pi>=56320&&Pi<57343;yi=new an(C.line,Math.max(0,Math.min(Se.text.length,C.ch+T*(ur?2:1))),-T)}}else F?yi=$a(d.cm,Se,C,T):yi=Ho(Se,C,T);if(yi==null)if(!_i&&Ge())C=us(F,d.cm,Se,C.line,Pe);else return!1;else C=yi;return!0}if(I=="char"||I=="codepoint")_t();else if(I=="column")_t(!0);else if(I=="word"||I=="group")for(var Tt=null,en=I=="group",Vt=d.cm&&d.cm.getHelper(C,"wordChars"),bn=!0;!(T<0&&!_t(!bn));bn=!1){var Pn=Se.text.charAt(C.ch)||`
`,ai=De(Pn,Vt)?"w":en&&Pn==`
`?"n":!en||/\s/.test(Pn)?null:"p";if(en&&!bn&&!ai&&(ai="s"),Tt&&Tt!=ai){T<0&&(T=1,_t(),C.sticky="after");break}if(ai&&(Tt=ai),T>0&&!_t(!bn))break}var gi=Va(d,C,ee,pe,!0);return no(ee,gi)&&(gi.hitSide=!0),gi}function _f(d,C,T,I){var F=d.doc,ee=C.left,pe;if(I=="page"){var Se=Math.min(d.display.wrapper.clientHeight,xt(d).innerHeight||F(d).documentElement.clientHeight),Pe=Math.max(Se-.5*Du(d.display),3);pe=(T>0?C.bottom:C.top)+T*Pe}else I=="line"&&(pe=T>0?C.bottom+3:C.top-3);for(var Ge;Ge=ko(d,ee,pe),!!Ge.outside;){if(T<0?pe<=0:pe>=F.height){Ge.hitSide=!0;break}pe+=T*5}return Ge}var oa=function(d){this.cm=d,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ue,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};oa.prototype.init=function(d){var C=this,T=this,I=T.cm,F=T.div=d.lineDiv;F.contentEditable=!0,sp(F,I.options.spellcheck,I.options.autocorrect,I.options.autocapitalize);function ee(Se){for(var Pe=Se.target;Pe;Pe=Pe.parentNode){if(Pe==F)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Pe.className))break}return!1}yt(F,"paste",function(Se){!ee(Se)||tn(I,Se)||ms(Se,I)||g<=11&&setTimeout(na(I,function(){return C.updateFromDOM()}),20)}),yt(F,"compositionstart",function(Se){C.composing={data:Se.data,done:!1}}),yt(F,"compositionupdate",function(Se){C.composing||(C.composing={data:Se.data,done:!1})}),yt(F,"compositionend",function(Se){C.composing&&(Se.data!=C.composing.data&&C.readFromDOMSoon(),C.composing.done=!0)}),yt(F,"touchstart",function(){return T.forceCompositionEnd()}),yt(F,"input",function(){C.composing||C.readFromDOMSoon()});function pe(Se){if(!(!ee(Se)||tn(I,Se))){if(I.somethingSelected())jd({lineWise:!1,text:I.getSelections()}),Se.type=="cut"&&I.replaceSelection("",null,"cut");else if(I.options.lineWiseCopyCut){var Pe=Wp(I);jd({lineWise:!0,text:Pe.text}),Se.type=="cut"&&I.operation(function(){I.setSelections(Pe.ranges,0,It),I.replaceSelection("",null,"cut")})}else return;if(Se.clipboardData){Se.clipboardData.clearData();var Ge=cA.text.join(`
`);if(Se.clipboardData.setData("Text",Ge),Se.clipboardData.getData("Text")==Ge){Se.preventDefault();return}}var _t=Cf(),Tt=_t.firstChild;sp(Tt),I.display.lineSpace.insertBefore(_t,I.display.lineSpace.firstChild),Tt.value=cA.text.join(`
`);var en=it(gt(F));tt(Tt),setTimeout(function(){I.display.lineSpace.removeChild(_t),en.focus(),en==F&&T.showPrimarySelection()},50)}}yt(F,"copy",pe),yt(F,"cut",pe)},oa.prototype.screenReaderLabelChanged=function(d){d?this.div.setAttribute("aria-label",d):this.div.removeAttribute("aria-label")},oa.prototype.prepareSelection=function(){var d=Ih(this.cm,!1);return d.focus=it(gt(this.div))==this.div,d},oa.prototype.showSelection=function(d,C){!d||!this.cm.display.view.length||((d.focus||C)&&this.showPrimarySelection(),this.showMultipleSelections(d))},oa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},oa.prototype.showPrimarySelection=function(){var d=this.getSelection(),C=this.cm,T=C.doc.sel.primary(),I=T.from(),F=T.to();if(C.display.viewTo==C.display.viewFrom||I.line>=C.display.viewTo||F.line<C.display.viewFrom){d.removeAllRanges();return}var ee=cl(C,d.anchorNode,d.anchorOffset),pe=cl(C,d.focusNode,d.focusOffset);if(!(ee&&!ee.bad&&pe&&!pe.bad&&li(Ws(ee,pe),I)==0&&li(ps(ee,pe),F)==0)){var Se=C.display.view,Pe=I.line>=C.display.viewFrom&&zh(C,I)||{node:Se[0].measure.map[2],offset:0},Ge=F.line<C.display.viewTo&&zh(C,F);if(!Ge){var _t=Se[Se.length-1].measure,Tt=_t.maps?_t.maps[_t.maps.length-1]:_t.map;Ge={node:Tt[Tt.length-1],offset:Tt[Tt.length-2]-Tt[Tt.length-3]}}if(!Pe||!Ge){d.removeAllRanges();return}var en=d.rangeCount&&d.getRangeAt(0),Vt;try{Vt=ot(Pe.node,Pe.offset,Ge.offset,Ge.node)}catch{}Vt&&(!r&&C.state.focused?(d.collapse(Pe.node,Pe.offset),Vt.collapsed||(d.removeAllRanges(),d.addRange(Vt))):(d.removeAllRanges(),d.addRange(Vt)),en&&d.anchorNode==null?d.addRange(en):r&&this.startGracePeriod()),this.rememberSelection()}},oa.prototype.startGracePeriod=function(){var d=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){d.gracePeriod=!1,d.selectionChanged()&&d.cm.operation(function(){return d.cm.curOp.selectionChanged=!0})},20)},oa.prototype.showMultipleSelections=function(d){ze(this.cm.display.cursorDiv,d.cursors),ze(this.cm.display.selectionDiv,d.selection)},oa.prototype.rememberSelection=function(){var d=this.getSelection();this.lastAnchorNode=d.anchorNode,this.lastAnchorOffset=d.anchorOffset,this.lastFocusNode=d.focusNode,this.lastFocusOffset=d.focusOffset},oa.prototype.selectionInEditor=function(){var d=this.getSelection();if(!d.rangeCount)return!1;var C=d.getRangeAt(0).commonAncestorContainer;return mt(this.div,C)},oa.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||it(gt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},oa.prototype.blur=function(){this.div.blur()},oa.prototype.getField=function(){return this.div},oa.prototype.supportsTouch=function(){return!0},oa.prototype.receivedFocus=function(){var d=this,C=this;this.selectionInEditor()?setTimeout(function(){return d.pollSelection()},20):Ha(this.cm,function(){return C.cm.curOp.selectionChanged=!0});function T(){C.cm.state.focused&&(C.pollSelection(),C.polling.set(C.cm.options.pollInterval,T))}this.polling.set(this.cm.options.pollInterval,T)},oa.prototype.selectionChanged=function(){var d=this.getSelection();return d.anchorNode!=this.lastAnchorNode||d.anchorOffset!=this.lastAnchorOffset||d.focusNode!=this.lastFocusNode||d.focusOffset!=this.lastFocusOffset},oa.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var d=this.getSelection(),C=this.cm;if(re&&O&&this.cm.display.gutterSpecs.length&&Tm(d.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var T=cl(C,d.anchorNode,d.anchorOffset),I=cl(C,d.focusNode,d.focusOffset);T&&I&&Ha(C,function(){da(C.doc,$A(T,I),It),(T.bad||I.bad)&&(C.curOp.selectionChanged=!0)})}}},oa.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var d=this.cm,C=d.display,T=d.doc.sel.primary(),I=T.from(),F=T.to();if(I.ch==0&&I.line>d.firstLine()&&(I=an(I.line-1,Si(d.doc,I.line-1).length)),F.ch==Si(d.doc,F.line).text.length&&F.line<d.lastLine()&&(F=an(F.line+1,0)),I.line<C.viewFrom||F.line>C.viewTo-1)return!1;var ee,pe,Se;I.line==C.viewFrom||(ee=tl(d,I.line))==0?(pe=Xe(C.view[0].line),Se=C.view[0].node):(pe=Xe(C.view[ee].line),Se=C.view[ee-1].node.nextSibling);var Pe=tl(d,F.line),Ge,_t;if(Pe==C.view.length-1?(Ge=C.viewTo-1,_t=C.lineDiv.lastChild):(Ge=Xe(C.view[Pe+1].line)-1,_t=C.view[Pe+1].node.previousSibling),!Se)return!1;for(var Tt=d.doc.splitLines(_u(d,Se,_t,pe,Ge)),en=fs(d.doc,an(pe,0),an(Ge,Si(d.doc,Ge).text.length));Tt.length>1&&en.length>1;)if(Gn(Tt)==Gn(en))Tt.pop(),en.pop(),Ge--;else if(Tt[0]==en[0])Tt.shift(),en.shift(),pe++;else break;for(var Vt=0,bn=0,Pn=Tt[0],ai=en[0],gi=Math.min(Pn.length,ai.length);Vt<gi&&Pn.charCodeAt(Vt)==ai.charCodeAt(Vt);)++Vt;for(var _i=Gn(Tt),yi=Gn(en),Pi=Math.min(_i.length-(Tt.length==1?Vt:0),yi.length-(en.length==1?Vt:0));bn<Pi&&_i.charCodeAt(_i.length-bn-1)==yi.charCodeAt(yi.length-bn-1);)++bn;if(Tt.length==1&&en.length==1&&pe==I.line)for(;Vt&&Vt>I.ch&&_i.charCodeAt(_i.length-bn-1)==yi.charCodeAt(yi.length-bn-1);)Vt--,bn++;Tt[Tt.length-1]=_i.slice(0,_i.length-bn).replace(/^\u200b+/,""),Tt[0]=Tt[0].slice(Vt).replace(/\u200b+$/,"");var ur=an(pe,Vt),Vi=an(Ge,en.length?Gn(en).length-bn:0);if(Tt.length>1||Tt[0]||li(ur,Vi))return Jl(d.doc,Tt,ur,Vi,"+input"),!0},oa.prototype.ensurePolled=function(){this.forceCompositionEnd()},oa.prototype.reset=function(){this.forceCompositionEnd()},oa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},oa.prototype.readFromDOMSoon=function(){var d=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(d.readDOMTimeout=null,d.composing)if(d.composing.done)d.composing=null;else return;d.updateFromDOM()},80))},oa.prototype.updateFromDOM=function(){var d=this;(this.cm.isReadOnly()||!this.pollContent())&&Ha(this.cm,function(){return Ts(d.cm)})},oa.prototype.setUneditable=function(d){d.contentEditable="false"},oa.prototype.onKeyPress=function(d){d.charCode==0||this.composing||(d.preventDefault(),this.cm.isReadOnly()||na(this.cm,rl)(this.cm,String.fromCharCode(d.charCode==null?d.keyCode:d.charCode),0))},oa.prototype.readOnlyChanged=function(d){this.div.contentEditable=String(d!="nocursor")},oa.prototype.onContextMenu=function(){},oa.prototype.resetPosition=function(){},oa.prototype.needsContentAttribute=!0;function zh(d,C){var T=uf(d,C.line);if(!T||T.hidden)return null;var I=Si(d.doc,C.line),F=td(T,I,C.line),ee=Ze(I,d.doc.direction),pe="left";if(ee){var Se=He(ee,C.ch);pe=Se%2?"right":"left"}var Pe=Zf(F.map,C.ch,pe);return Pe.offset=Pe.collapse=="right"?Pe.end:Pe.start,Pe}function Tm(d){for(var C=d;C;C=C.parentNode)if(/CodeMirror-gutter-wrapper/.test(C.className))return!0;return!1}function nc(d,C){return C&&(d.bad=!0),d}function _u(d,C,T,I,F){var ee="",pe=!1,Se=d.doc.lineSeparator(),Pe=!1;function Ge(Vt){return function(bn){return bn.id==Vt}}function _t(){pe&&(ee+=Se,Pe&&(ee+=Se),pe=Pe=!1)}function Tt(Vt){Vt&&(_t(),ee+=Vt)}function en(Vt){if(Vt.nodeType==1){var bn=Vt.getAttribute("cm-text");if(bn){Tt(bn);return}var Pn=Vt.getAttribute("cm-marker"),ai;if(Pn){var gi=d.findMarks(an(I,0),an(F+1,0),Ge(+Pn));gi.length&&(ai=gi[0].find(0))&&Tt(fs(d.doc,ai.from,ai.to).join(Se));return}if(Vt.getAttribute("contenteditable")=="false")return;var _i=/^(pre|div|p|li|table|br)$/i.test(Vt.nodeName);if(!/^br$/i.test(Vt.nodeName)&&Vt.textContent.length==0)return;_i&&_t();for(var yi=0;yi<Vt.childNodes.length;yi++)en(Vt.childNodes[yi]);/^(pre|p)$/i.test(Vt.nodeName)&&(Pe=!0),_i&&(pe=!0)}else Vt.nodeType==3&&Tt(Vt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;en(C),C!=T;)C=C.nextSibling,Pe=!1;return ee}function cl(d,C,T){var I;if(C==d.display.lineDiv){if(I=d.display.lineDiv.childNodes[T],!I)return nc(d.clipPos(an(d.display.viewTo-1)),!0);C=null,T=0}else for(I=C;;I=I.parentNode){if(!I||I==d.display.lineDiv)return null;if(I.parentNode&&I.parentNode==d.display.lineDiv)break}for(var F=0;F<d.display.view.length;F++){var ee=d.display.view[F];if(ee.node==I)return km(ee,C,T)}}function km(d,C,T){var I=d.text.firstChild,F=!1;if(!C||!mt(I,C))return nc(an(Xe(d.line),0),!0);if(C==I&&(F=!0,C=I.childNodes[T],T=0,!C)){var ee=d.rest?Gn(d.rest):d.line;return nc(an(Xe(ee),ee.text.length),F)}var pe=C.nodeType==3?C:null,Se=C;for(!pe&&C.childNodes.length==1&&C.firstChild.nodeType==3&&(pe=C.firstChild,T&&(T=pe.nodeValue.length));Se.parentNode!=I;)Se=Se.parentNode;var Pe=d.measure,Ge=Pe.maps;function _t(ai,gi,_i){for(var yi=-1;yi<(Ge?Ge.length:0);yi++)for(var Pi=yi<0?Pe.map:Ge[yi],ur=0;ur<Pi.length;ur+=3){var Vi=Pi[ur+2];if(Vi==ai||Vi==gi){var to=Xe(yi<0?d.line:d.rest[yi]),Er=Pi[ur]+_i;return(_i<0||Vi!=ai)&&(Er=Pi[ur+(_i?1:0)]),an(to,Er)}}}var Tt=_t(pe,Se,T);if(Tt)return nc(Tt,F);for(var en=Se.nextSibling,Vt=pe?pe.nodeValue.length-T:0;en;en=en.nextSibling){if(Tt=_t(en,en.firstChild,0),Tt)return nc(an(Tt.line,Tt.ch-Vt),F);Vt+=en.textContent.length}for(var bn=Se.previousSibling,Pn=T;bn;bn=bn.previousSibling){if(Tt=_t(bn,bn.firstChild,-1),Tt)return nc(an(Tt.line,Tt.ch+Pn),F);Pn+=bn.textContent.length}}var qs=function(d){this.cm=d,this.prevInput="",this.pollingFast=!1,this.polling=new Ue,this.hasSelection=!1,this.composing=null,this.resetting=!1};qs.prototype.init=function(d){var C=this,T=this,I=this.cm;this.createField(d);var F=this.textarea;d.wrapper.insertBefore(this.wrapper,d.wrapper.firstChild),X&&(F.style.width="0px"),yt(F,"input",function(){p&&g>=9&&C.hasSelection&&(C.hasSelection=null),T.poll()}),yt(F,"paste",function(pe){tn(I,pe)||ms(pe,I)||(I.state.pasteIncoming=+new Date,T.fastPoll())});function ee(pe){if(!tn(I,pe)){if(I.somethingSelected())jd({lineWise:!1,text:I.getSelections()});else if(I.options.lineWiseCopyCut){var Se=Wp(I);jd({lineWise:!0,text:Se.text}),pe.type=="cut"?I.setSelections(Se.ranges,null,It):(T.prevInput="",F.value=Se.text.join(`
`),tt(F))}else return;pe.type=="cut"&&(I.state.cutIncoming=+new Date)}}yt(F,"cut",ee),yt(F,"copy",ee),yt(d.scroller,"paste",function(pe){if(!(du(d,pe)||tn(I,pe))){if(!F.dispatchEvent){I.state.pasteIncoming=+new Date,T.focus();return}var Se=new Event("paste");Se.clipboardData=pe.clipboardData,F.dispatchEvent(Se)}}),yt(d.lineSpace,"selectstart",function(pe){du(d,pe)||Qn(pe)}),yt(F,"compositionstart",function(){var pe=I.getCursor("from");T.composing&&T.composing.range.clear(),T.composing={start:pe,range:I.markText(pe,I.getCursor("to"),{className:"CodeMirror-composing"})}}),yt(F,"compositionend",function(){T.composing&&(T.poll(),T.composing.range.clear(),T.composing=null)})},qs.prototype.createField=function(d){this.wrapper=Cf(),this.textarea=this.wrapper.firstChild;var C=this.cm.options;sp(this.textarea,C.spellcheck,C.autocorrect,C.autocapitalize)},qs.prototype.screenReaderLabelChanged=function(d){d?this.textarea.setAttribute("aria-label",d):this.textarea.removeAttribute("aria-label")},qs.prototype.prepareSelection=function(){var d=this.cm,C=d.display,T=d.doc,I=Ih(d);if(d.options.moveInputWithCursor){var F=Cn(d,T.sel.primary().head,"div"),ee=C.wrapper.getBoundingClientRect(),pe=C.lineDiv.getBoundingClientRect();I.teTop=Math.max(0,Math.min(C.wrapper.clientHeight-10,F.top+pe.top-ee.top)),I.teLeft=Math.max(0,Math.min(C.wrapper.clientWidth-10,F.left+pe.left-ee.left))}return I},qs.prototype.showSelection=function(d){var C=this.cm,T=C.display;ze(T.cursorDiv,d.cursors),ze(T.selectionDiv,d.selection),d.teTop!=null&&(this.wrapper.style.top=d.teTop+"px",this.wrapper.style.left=d.teLeft+"px")},qs.prototype.reset=function(d){if(!(this.contextMenuPending||this.composing&&d)){var C=this.cm;if(this.resetting=!0,C.somethingSelected()){this.prevInput="";var T=C.getSelection();this.textarea.value=T,C.state.focused&&tt(this.textarea),p&&g>=9&&(this.hasSelection=T)}else d||(this.prevInput=this.textarea.value="",p&&g>=9&&(this.hasSelection=null));this.resetting=!1}},qs.prototype.getField=function(){return this.textarea},qs.prototype.supportsTouch=function(){return!1},qs.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||it(gt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},qs.prototype.blur=function(){this.textarea.blur()},qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qs.prototype.receivedFocus=function(){this.slowPoll()},qs.prototype.slowPoll=function(){var d=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){d.poll(),d.cm.state.focused&&d.slowPoll()})},qs.prototype.fastPoll=function(){var d=!1,C=this;C.pollingFast=!0;function T(){var I=C.poll();!I&&!d?(d=!0,C.polling.set(60,T)):(C.pollingFast=!1,C.slowPoll())}C.polling.set(20,T)},qs.prototype.poll=function(){var d=this,C=this.cm,T=this.textarea,I=this.prevInput;if(this.contextMenuPending||this.resetting||!C.state.focused||Jn(T)&&!I&&!this.composing||C.isReadOnly()||C.options.disableInput||C.state.keySeq)return!1;var F=T.value;if(F==I&&!C.somethingSelected())return!1;if(p&&g>=9&&this.hasSelection===F||V&&/[\uf700-\uf7ff]/.test(F))return C.display.input.reset(),!1;if(C.doc.sel==C.display.selForContextMenu){var ee=F.charCodeAt(0);if(ee==8203&&!I&&(I="​"),ee==8666)return this.reset(),this.cm.execCommand("undo")}for(var pe=0,Se=Math.min(I.length,F.length);pe<Se&&I.charCodeAt(pe)==F.charCodeAt(pe);)++pe;return Ha(C,function(){rl(C,F.slice(pe),I.length-pe,null,d.composing?"*compose":null),F.length>1e3||F.indexOf(`
`)>-1?T.value=d.prevInput="":d.prevInput=F,d.composing&&(d.composing.range.clear(),d.composing.range=C.markText(d.composing.start,C.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qs.prototype.onKeyPress=function(){p&&g>=9&&(this.hasSelection=null),this.fastPoll()},qs.prototype.onContextMenu=function(d){var C=this,T=C.cm,I=T.display,F=C.textarea;C.contextMenuPending&&C.contextMenuPending();var ee=qa(T,d),pe=I.scroller.scrollTop;if(!ee||z)return;var Se=T.options.resetSelectionOnContextMenu;Se&&T.doc.sel.contains(ee)==-1&&na(T,da)(T.doc,$A(ee),It);var Pe=F.style.cssText,Ge=C.wrapper.style.cssText,_t=C.wrapper.offsetParent.getBoundingClientRect();C.wrapper.style.cssText="position: static",F.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(d.clientY-_t.top-5)+"px; left: "+(d.clientX-_t.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Tt;_&&(Tt=F.ownerDocument.defaultView.scrollY),I.input.focus(),_&&F.ownerDocument.defaultView.scrollTo(null,Tt),I.input.reset(),T.somethingSelected()||(F.value=C.prevInput=" "),C.contextMenuPending=Vt,I.selForContextMenu=T.doc.sel,clearTimeout(I.detectingSelectAll);function en(){if(F.selectionStart!=null){var Pn=T.somethingSelected(),ai="​"+(Pn?F.value:"");F.value="⇚",F.value=ai,C.prevInput=Pn?"":"​",F.selectionStart=1,F.selectionEnd=ai.length,I.selForContextMenu=T.doc.sel}}function Vt(){if(C.contextMenuPending==Vt&&(C.contextMenuPending=!1,C.wrapper.style.cssText=Ge,F.style.cssText=Pe,p&&g<9&&I.scrollbars.setScrollTop(I.scroller.scrollTop=pe),F.selectionStart!=null)){(!p||p&&g<9)&&en();var Pn=0,ai=function(){I.selForContextMenu==T.doc.sel&&F.selectionStart==0&&F.selectionEnd>0&&C.prevInput=="​"?na(T,EA)(T):Pn++<10?I.detectingSelectAll=setTimeout(ai,500):(I.selForContextMenu=null,I.input.reset())};I.detectingSelectAll=setTimeout(ai,200)}}if(p&&g>=9&&en(),ve){Ii(d);var bn=function(){kt(window,"mouseup",bn),setTimeout(Vt,20)};yt(window,"mouseup",bn)}else setTimeout(Vt,50)},qs.prototype.readOnlyChanged=function(d){d||this.reset(),this.textarea.disabled=d=="nocursor",this.textarea.readOnly=!!d},qs.prototype.setUneditable=function(){},qs.prototype.needsContentAttribute=!1;function lp(d,C){if(C=C?je(C):{},C.value=d.value,!C.tabindex&&d.tabIndex&&(C.tabindex=d.tabIndex),!C.placeholder&&d.placeholder&&(C.placeholder=d.placeholder),C.autofocus==null){var T=it(gt(d));C.autofocus=T==d||d.getAttribute("autofocus")!=null&&T==document.body}function I(){d.value=Se.getValue()}var F;if(d.form&&(yt(d.form,"submit",I),!C.leaveSubmitMethodAlone)){var ee=d.form;F=ee.submit;try{var pe=ee.submit=function(){I(),ee.submit=F,ee.submit(),ee.submit=pe}}catch{}}C.finishInit=function(Pe){Pe.save=I,Pe.getTextArea=function(){return d},Pe.toTextArea=function(){Pe.toTextArea=isNaN,I(),d.parentNode.removeChild(Pe.getWrapperElement()),d.style.display="",d.form&&(kt(d.form,"submit",I),!C.leaveSubmitMethodAlone&&typeof d.form.submit=="function"&&(d.form.submit=F))}},d.style.display="none";var Se=ra(function(Pe){return d.parentNode.insertBefore(Pe,d.nextSibling)},C);return Se}function x0(d){d.off=kt,d.on=yt,d.wheelEventPixels=Xf,d.Doc=ut,d.splitLines=Ro,d.countColumn=Ke,d.findColumn=on,d.isWordChar=Lt,d.Pass=vt,d.signal=rt,d.Line=Ql,d.changeEnd=ZA,d.scrollbarModel=xA,d.Pos=an,d.cmpPos=li,d.modes=Wa,d.mimeModes=Rr,d.resolveMode=La,d.getMode=Bo,d.modeExtensions=rs,d.extendMode=Pl,d.copyState=ho,d.startState=Fa,d.innerMode=Xu,d.commands=Ds,d.keyMap=Yn,d.keyName=jo,d.isModifierKey=xo,d.lookupKey=fr,d.normalizeKeyMap=wi,d.StringStream=Xi,d.SharedTextMarker=fe,d.TextMarker=q,d.LineWidget=b,d.e_preventDefault=Qn,d.e_stopPropagation=$i,d.e_stop=Ii,d.addClass=ue,d.contains=mt,d.rmClass=Me,d.keyNames=Jt}rp(ra),Nd(ra);var M0="iter insert remove copy getEditor constructor".split(" ");for(var bf in ut.prototype)ut.prototype.hasOwnProperty(bf)&&Ve(M0,bf)<0&&(ra.prototype[bf]=function(d){return function(){return d.apply(this.doc,arguments)}}(ut.prototype[bf]));return ri(ut),ra.inputStyles={textarea:qs,contenteditable:oa},ra.defineMode=function(d){!ra.defaults.mode&&d!="null"&&(ra.defaults.mode=d),Gi.apply(this,arguments)},ra.defineMIME=bl,ra.defineMode("null",function(){return{token:function(d){return d.skipToEnd()}}}),ra.defineMIME("text/plain","null"),ra.defineExtension=function(d,C){ra.prototype[d]=C},ra.defineDocExtension=function(d,C){ut.prototype[d]=C},ra.fromTextArea=lp,x0(ra),ra.version="5.65.20",ra})}(y3)),y3.exports}var Rpe=k4();const mm=Bu(Rpe);var CR={exports:{}},_R;function Ppe(){return _R||(_R=1,function(n,e){(function(t){t(k4())})(function(t){t.defineMode("javascript",function(i,r){var o=i.indentUnit,s=r.statementIndent,a=r.jsonld,p=r.json||a,g=r.trackScope!==!1,_=r.typescript,E=r.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function Xe(Oo){return{type:Oo,style:"keyword"}}var Bt=Xe("keyword a"),Mn=Xe("keyword b"),Wn=Xe("keyword c"),an=Xe("keyword d"),li=Xe("operator"),no={type:"atom",style:"atom"};return{if:Xe("if"),while:Bt,with:Bt,else:Mn,do:Mn,try:Mn,finally:Mn,return:an,break:an,continue:an,new:Xe("new"),delete:Wn,void:Wn,throw:Wn,debugger:Xe("debugger"),var:Xe("var"),const:Xe("var"),let:Xe("var"),function:Xe("function"),catch:Xe("catch"),for:Xe("for"),switch:Xe("switch"),case:Xe("case"),default:Xe("default"),in:li,typeof:li,instanceof:li,true:no,false:no,null:no,undefined:no,NaN:no,Infinity:no,this:Xe("this"),class:Xe("class"),super:Xe("atom"),yield:Wn,export:Xe("export"),import:Xe("import"),extends:Wn,await:Wn}}(),B=/[+\-*&%=<>!?|~^@]/,z=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function N(Xe){for(var Bt=!1,Mn,Wn=!1;(Mn=Xe.next())!=null;){if(!Bt){if(Mn=="/"&&!Wn)return;Mn=="["?Wn=!0:Wn&&Mn=="]"&&(Wn=!1)}Bt=!Bt&&Mn=="\\"}}var Q,$;function X(Xe,Bt,Mn){return Q=Xe,$=Mn,Bt}function re(Xe,Bt){var Mn=Xe.next();if(Mn=='"'||Mn=="'")return Bt.tokenize=ne(Mn),Bt.tokenize(Xe,Bt);if(Mn=="."&&Xe.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return X("number","number");if(Mn=="."&&Xe.match(".."))return X("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Mn))return X(Mn);if(Mn=="="&&Xe.eat(">"))return X("=>","operator");if(Mn=="0"&&Xe.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return X("number","number");if(/\d/.test(Mn))return Xe.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),X("number","number");if(Mn=="/")return Xe.eat("*")?(Bt.tokenize=V,V(Xe,Bt)):Xe.eat("/")?(Xe.skipToEnd(),X("comment","comment")):ea(Xe,Bt,1)?(N(Xe),Xe.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),X("regexp","string-2")):(Xe.eat("="),X("operator","operator",Xe.current()));if(Mn=="`")return Bt.tokenize=J,J(Xe,Bt);if(Mn=="#"&&Xe.peek()=="!")return Xe.skipToEnd(),X("meta","meta");if(Mn=="#"&&Xe.eatWhile(E))return X("variable","property");if(Mn=="<"&&Xe.match("!--")||Mn=="-"&&Xe.match("->")&&!/\S/.test(Xe.string.slice(0,Xe.start)))return Xe.skipToEnd(),X("comment","comment");if(B.test(Mn))return(Mn!=">"||!Bt.lexical||Bt.lexical.type!=">")&&(Xe.eat("=")?(Mn=="!"||Mn=="=")&&Xe.eat("="):/[<>*+\-|&?]/.test(Mn)&&(Xe.eat(Mn),Mn==">"&&Xe.eat(Mn))),Mn=="?"&&Xe.eat(".")?X("."):X("operator","operator",Xe.current());if(E.test(Mn)){Xe.eatWhile(E);var Wn=Xe.current();if(Bt.lastType!="."){if(O.propertyIsEnumerable(Wn)){var an=O[Wn];return X(an.type,an.style,Wn)}if(Wn=="async"&&Xe.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return X("async","keyword",Wn)}return X("variable","variable",Wn)}}function ne(Xe){return function(Bt,Mn){var Wn=!1,an;if(a&&Bt.peek()=="@"&&Bt.match(z))return Mn.tokenize=re,X("jsonld-keyword","meta");for(;(an=Bt.next())!=null&&!(an==Xe&&!Wn);)Wn=!Wn&&an=="\\";return Wn||(Mn.tokenize=re),X("string","string")}}function V(Xe,Bt){for(var Mn=!1,Wn;Wn=Xe.next();){if(Wn=="/"&&Mn){Bt.tokenize=re;break}Mn=Wn=="*"}return X("comment","comment")}function J(Xe,Bt){for(var Mn=!1,Wn;(Wn=Xe.next())!=null;){if(!Mn&&(Wn=="`"||Wn=="$"&&Xe.eat("{"))){Bt.tokenize=re;break}Mn=!Mn&&Wn=="\\"}return X("quasi","string-2",Xe.current())}var W="([{}])";function he(Xe,Bt){Bt.fatArrowAt&&(Bt.fatArrowAt=null);var Mn=Xe.string.indexOf("=>",Xe.start);if(!(Mn<0)){if(_){var Wn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Xe.string.slice(Xe.start,Mn));Wn&&(Mn=Wn.index)}for(var an=0,li=!1,no=Mn-1;no>=0;--no){var Oo=Xe.string.charAt(no),ps=W.indexOf(Oo);if(ps>=0&&ps<3){if(!an){++no;break}if(--an==0){Oo=="("&&(li=!0);break}}else if(ps>=3&&ps<6)++an;else if(E.test(Oo))li=!0;else if(/["'\/`]/.test(Oo))for(;;--no){if(no==0)return;var Ws=Xe.string.charAt(no-1);if(Ws==Oo&&Xe.string.charAt(no-2)!="\\"){no--;break}}else if(li&&!an){++no;break}}li&&!an&&(Bt.fatArrowAt=no)}}var ge={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ve(Xe,Bt,Mn,Wn,an,li){this.indented=Xe,this.column=Bt,this.type=Mn,this.prev=an,this.info=li,Wn!=null&&(this.align=Wn)}function _e(Xe,Bt){if(!g)return!1;for(var Mn=Xe.localVars;Mn;Mn=Mn.next)if(Mn.name==Bt)return!0;for(var Wn=Xe.context;Wn;Wn=Wn.prev)for(var Mn=Wn.vars;Mn;Mn=Mn.next)if(Mn.name==Bt)return!0}function Me(Xe,Bt,Mn,Wn,an){var li=Xe.cc;for(be.state=Xe,be.stream=an,be.marked=null,be.cc=li,be.style=Bt,Xe.lexical.hasOwnProperty("align")||(Xe.lexical.align=!0);;){var no=li.length?li.pop():p?Ve:Ke;if(no(Mn,Wn)){for(;li.length&&li[li.length-1].lex;)li.pop()();return be.marked?be.marked:Mn=="variable"&&_e(Xe,Wn)?"variable-2":Bt}}}var be={state:null,marked:null,cc:null};function ze(){for(var Xe=arguments.length-1;Xe>=0;Xe--)be.cc.push(arguments[Xe])}function Ce(){return ze.apply(null,arguments),!0}function Fe(Xe,Bt){for(var Mn=Bt;Mn;Mn=Mn.next)if(Mn.name==Xe)return!0;return!1}function ot(Xe){var Bt=be.state;if(be.marked="def",!!g){if(Bt.context){if(Bt.lexical.info=="var"&&Bt.context&&Bt.context.block){var Mn=mt(Xe,Bt.context);if(Mn!=null){Bt.context=Mn;return}}else if(!Fe(Xe,Bt.localVars)){Bt.localVars=new We(Xe,Bt.localVars);return}}r.globalVars&&!Fe(Xe,Bt.globalVars)&&(Bt.globalVars=new We(Xe,Bt.globalVars))}}function mt(Xe,Bt){if(Bt)if(Bt.block){var Mn=mt(Xe,Bt.prev);return Mn?Mn==Bt.prev?Bt:new ue(Mn,Bt.vars,!0):null}else return Fe(Xe,Bt.vars)?Bt:new ue(Bt.prev,new We(Xe,Bt.vars),!1);else return null}function it(Xe){return Xe=="public"||Xe=="private"||Xe=="protected"||Xe=="abstract"||Xe=="readonly"}function ue(Xe,Bt,Mn){this.prev=Xe,this.vars=Bt,this.block=Mn}function We(Xe,Bt){this.name=Xe,this.next=Bt}var tt=new We("this",new We("arguments",null));function ke(){be.state.context=new ue(be.state.context,be.state.localVars,!1),be.state.localVars=tt}function Et(){be.state.context=new ue(be.state.context,be.state.localVars,!0),be.state.localVars=null}ke.lex=Et.lex=!0;function gt(){be.state.localVars=be.state.context.vars,be.state.context=be.state.context.prev}gt.lex=!0;function xt(Xe,Bt){var Mn=function(){var Wn=be.state,an=Wn.indented;if(Wn.lexical.type=="stat")an=Wn.lexical.indented;else for(var li=Wn.lexical;li&&li.type==")"&&li.align;li=li.prev)an=li.indented;Wn.lexical=new ve(an,be.stream.column(),Xe,null,Wn.lexical,Bt)};return Mn.lex=!0,Mn}function Kt(){var Xe=be.state;Xe.lexical.prev&&(Xe.lexical.type==")"&&(Xe.indented=Xe.lexical.indented),Xe.lexical=Xe.lexical.prev)}Kt.lex=!0;function je(Xe){function Bt(Mn){return Mn==Xe?Ce():Xe==";"||Mn=="}"||Mn==")"||Mn=="]"?ze():Ce(Bt)}return Bt}function Ke(Xe,Bt){return Xe=="var"?Ce(xt("vardef",Bt),$i,je(";"),Kt):Xe=="keyword a"?Ce(xt("form"),vt,Ke,Kt):Xe=="keyword b"?Ce(xt("form"),Ke,Kt):Xe=="keyword d"?be.stream.match(/^\s*$/,!1)?Ce():Ce(xt("stat"),Yt,je(";"),Kt):Xe=="debugger"?Ce(je(";")):Xe=="{"?Ce(xt("}"),Et,Ie,Kt,gt):Xe==";"?Ce():Xe=="if"?(be.state.lexical.info=="else"&&be.state.cc[be.state.cc.length-1]==Kt&&be.state.cc.pop()(),Ce(xt("form"),vt,Ke,Kt,Sn)):Xe=="function"?Ce(Ro):Xe=="for"?Ce(xt("form"),Et,co,Ke,gt,Kt):Xe=="class"||_&&Bt=="interface"?(be.marked="keyword",Ce(xt("form",Xe=="class"?Xe:Bt),Wa,Kt)):Xe=="variable"?_&&Bt=="declare"?(be.marked="keyword",Ce(Ke)):_&&(Bt=="module"||Bt=="enum"||Bt=="type")&&be.stream.match(/^\s*\w/,!1)?(be.marked="keyword",Bt=="enum"?Ce(Si):Bt=="type"?Ce(cr,je("operator"),Ze,je(";")):Ce(xt("form"),ir,je("{"),xt("}"),Ie,Kt,Kt)):_&&Bt=="namespace"?(be.marked="keyword",Ce(xt("form"),Ve,Ke,Kt)):_&&Bt=="abstract"?(be.marked="keyword",Ce(Ke)):Ce(xt("stat"),Vn):Xe=="switch"?Ce(xt("form"),vt,je("{"),xt("}","switch"),Et,Ie,Kt,Kt,gt):Xe=="case"?Ce(Ve,je(":")):Xe=="default"?Ce(je(":")):Xe=="catch"?Ce(xt("form"),ke,Ue,Ke,Kt,gt):Xe=="export"?Ce(xt("stat"),La,Kt):Xe=="import"?Ce(xt("stat"),rs,Kt):Xe=="async"?Ce(Ke):Bt=="@"?Ce(Ve,Ke):ze(xt("stat"),Ve,je(";"),Kt)}function Ue(Xe){if(Xe=="(")return Ce(Ni,je(")"))}function Ve(Xe,Bt){return It(Xe,Bt,!1)}function bt(Xe,Bt){return It(Xe,Bt,!0)}function vt(Xe){return Xe!="("?ze():Ce(xt(")"),Yt,je(")"),Kt)}function It(Xe,Bt,Mn){if(be.state.fatArrowAt==be.stream.start){var Wn=Mn?On:Gn;if(Xe=="(")return Ce(ke,xt(")"),le(Ni,")"),Kt,je("=>"),Wn,gt);if(Xe=="variable")return ze(ke,ir,je("=>"),Wn,gt)}var an=Mn?on:Ut;return ge.hasOwnProperty(Xe)?Ce(an):Xe=="function"?Ce(Ro,an):Xe=="class"||_&&Bt=="interface"?(be.marked="keyword",Ce(xt("form"),br,Kt)):Xe=="keyword c"||Xe=="async"?Ce(Mn?bt:Ve):Xe=="("?Ce(xt(")"),Yt,je(")"),Kt,an):Xe=="operator"||Xe=="spread"?Ce(Mn?bt:Ve):Xe=="["?Ce(xt("]"),Xi,Kt,an):Xe=="{"?me(De,"}",null,an):Xe=="quasi"?ze(Hn,an):Xe=="new"?Ce(Bn(Mn)):Ce()}function Yt(Xe){return Xe.match(/[;\}\)\],]/)?ze():ze(Ve)}function Ut(Xe,Bt){return Xe==","?Ce(Yt):on(Xe,Bt,!1)}function on(Xe,Bt,Mn){var Wn=Mn==!1?Ut:on,an=Mn==!1?Ve:bt;if(Xe=="=>")return Ce(ke,Mn?On:Gn,gt);if(Xe=="operator")return/\+\+|--/.test(Bt)||_&&Bt=="!"?Ce(Wn):_&&Bt=="<"&&be.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?Ce(xt(">"),le(Ze,">"),Kt,Wn):Bt=="?"?Ce(Ve,je(":"),an):Ce(an);if(Xe=="quasi")return ze(Hn,Wn);if(Xe!=";"){if(Xe=="(")return me(bt,")","call",Wn);if(Xe==".")return Ce(Lt,Wn);if(Xe=="[")return Ce(xt("]"),Yt,je("]"),Kt,Wn);if(_&&Bt=="as")return be.marked="keyword",Ce(Ze,Wn);if(Xe=="regexp")return be.state.lastType=be.marked="operator",be.stream.backUp(be.stream.pos-be.stream.start-1),Ce(an)}}function Hn(Xe,Bt){return Xe!="quasi"?ze():Bt.slice(Bt.length-2)!="${"?Ce(Hn):Ce(Yt,Wt)}function Wt(Xe){if(Xe=="}")return be.marked="string-2",be.state.tokenize=J,Ce(Hn)}function Gn(Xe){return he(be.stream,be.state),ze(Xe=="{"?Ke:Ve)}function On(Xe){return he(be.stream,be.state),ze(Xe=="{"?Ke:bt)}function Bn(Xe){return function(Bt){return Bt=="."?Ce(Xe?Oi:Tn):Bt=="variable"&&_?Ce(wn,Xe?on:Ut):ze(Xe?bt:Ve)}}function Tn(Xe,Bt){if(Bt=="target")return be.marked="keyword",Ce(Ut)}function Oi(Xe,Bt){if(Bt=="target")return be.marked="keyword",Ce(on)}function Vn(Xe){return Xe==":"?Ce(Kt,Ke):ze(Ut,je(";"),Kt)}function Lt(Xe){if(Xe=="variable")return be.marked="property",Ce()}function De(Xe,Bt){if(Xe=="async")return be.marked="property",Ce(De);if(Xe=="variable"||be.style=="keyword"){if(be.marked="property",Bt=="get"||Bt=="set")return Ce(de);var Mn;return _&&be.state.fatArrowAt==be.stream.start&&(Mn=be.stream.match(/^\s*:\s*/,!1))&&(be.state.fatArrowAt=be.stream.pos+Mn[0].length),Ce(oe)}else{if(Xe=="number"||Xe=="string")return be.marked=a?"property":be.style+" property",Ce(oe);if(Xe=="jsonld-keyword")return Ce(oe);if(_&&it(Bt))return be.marked="keyword",Ce(De);if(Xe=="[")return Ce(Ve,Qe,je("]"),oe);if(Xe=="spread")return Ce(bt,oe);if(Bt=="*")return be.marked="keyword",Ce(De);if(Xe==":")return ze(oe)}}function de(Xe){return Xe!="variable"?ze(oe):(be.marked="property",Ce(Ro))}function oe(Xe){if(Xe==":")return Ce(bt);if(Xe=="(")return ze(Ro)}function le(Xe,Bt,Mn){function Wn(an,li){if(Mn?Mn.indexOf(an)>-1:an==","){var no=be.state.lexical;return no.info=="call"&&(no.pos=(no.pos||0)+1),Ce(function(Oo,ps){return Oo==Bt||ps==Bt?ze():ze(Xe)},Wn)}return an==Bt||li==Bt?Ce():Mn&&Mn.indexOf(";")>-1?ze(Xe):Ce(je(Bt))}return function(an,li){return an==Bt||li==Bt?Ce():ze(Xe,Wn)}}function me(Xe,Bt,Mn){for(var Wn=3;Wn<arguments.length;Wn++)be.cc.push(arguments[Wn]);return Ce(xt(Bt,Mn),le(Xe,Bt),Kt)}function Ie(Xe){return Xe=="}"?Ce():ze(Ke,Ie)}function Qe(Xe,Bt){if(_){if(Xe==":")return Ce(Ze);if(Bt=="?")return Ce(Qe)}}function At(Xe,Bt){if(_&&(Xe==":"||Bt=="in"))return Ce(Ze)}function He(Xe){if(_&&Xe==":")return be.stream.match(/^\s*\w+\s+is\b/,!1)?Ce(Ve,Re,Ze):Ce(Ze)}function Re(Xe,Bt){if(Bt=="is")return be.marked="keyword",Ce()}function Ze(Xe,Bt){if(Bt=="keyof"||Bt=="typeof"||Bt=="infer"||Bt=="readonly")return be.marked="keyword",Ce(Bt=="typeof"?bt:Ze);if(Xe=="variable"||Bt=="void")return be.marked="type",Ce(Rn);if(Bt=="|"||Bt=="&")return Ce(Ze);if(Xe=="string"||Xe=="number"||Xe=="atom")return Ce(Rn);if(Xe=="[")return Ce(xt("]"),le(Ze,"]",","),Kt,Rn);if(Xe=="{")return Ce(xt("}"),yt,Kt,Rn);if(Xe=="(")return Ce(le(tn,")"),y,Rn);if(Xe=="<")return Ce(le(Ze,">"),Ze);if(Xe=="quasi")return ze(kt,Rn)}function y(Xe){if(Xe=="=>")return Ce(Ze)}function yt(Xe){return Xe.match(/[\}\)\]]/)?Ce():Xe==","||Xe==";"?Ce(yt):ze(dt,yt)}function dt(Xe,Bt){if(Xe=="variable"||be.style=="keyword")return be.marked="property",Ce(dt);if(Bt=="?"||Xe=="number"||Xe=="string")return Ce(dt);if(Xe==":")return Ce(Ze);if(Xe=="[")return Ce(je("variable"),At,je("]"),dt);if(Xe=="(")return ze(Jn,dt);if(!Xe.match(/[;\}\)\],]/))return Ce()}function kt(Xe,Bt){return Xe!="quasi"?ze():Bt.slice(Bt.length-2)!="${"?Ce(kt):Ce(Ze,rt)}function rt(Xe){if(Xe=="}")return be.marked="string-2",be.state.tokenize=J,Ce(kt)}function tn(Xe,Bt){return Xe=="variable"&&be.stream.match(/^\s*[?:]/,!1)||Bt=="?"?Ce(tn):Xe==":"?Ce(Ze):Xe=="spread"?Ce(tn):ze(Ze)}function Rn(Xe,Bt){if(Bt=="<")return Ce(xt(">"),le(Ze,">"),Kt,Rn);if(Bt=="|"||Xe=="."||Bt=="&")return Ce(Ze);if(Xe=="[")return Ce(Ze,je("]"),Rn);if(Bt=="extends"||Bt=="implements")return be.marked="keyword",Ce(Ze);if(Bt=="?")return Ce(Ze,je(":"),Ze)}function wn(Xe,Bt){if(Bt=="<")return Ce(xt(">"),le(Ze,">"),Kt,Rn)}function ri(){return ze(Ze,Qn)}function Qn(Xe,Bt){if(Bt=="=")return Ce(Ze)}function $i(Xe,Bt){return Bt=="enum"?(be.marked="keyword",Ce(Si)):ze(ir,Qe,ti,qi)}function ir(Xe,Bt){if(_&&it(Bt))return be.marked="keyword",Ce(ir);if(Xe=="variable")return ot(Bt),Ce();if(Xe=="spread")return Ce(ir);if(Xe=="[")return me(di,"]");if(Xe=="{")return me(Ii,"}")}function Ii(Xe,Bt){return Xe=="variable"&&!be.stream.match(/^\s*:/,!1)?(ot(Bt),Ce(ti)):(Xe=="variable"&&(be.marked="property"),Xe=="spread"?Ce(ir):Xe=="}"?ze():Xe=="["?Ce(Ve,je("]"),je(":"),Ii):Ce(je(":"),ir,ti))}function di(){return ze(ir,ti)}function ti(Xe,Bt){if(Bt=="=")return Ce(bt)}function qi(Xe){if(Xe==",")return Ce($i)}function Sn(Xe,Bt){if(Xe=="keyword b"&&Bt=="else")return Ce(xt("form","else"),Ke,Kt)}function co(Xe,Bt){if(Bt=="await")return Ce(co);if(Xe=="(")return Ce(xt(")"),Zi,Kt)}function Zi(Xe){return Xe=="var"?Ce($i,_a):Xe=="variable"?Ce(_a):ze(_a)}function _a(Xe,Bt){return Xe==")"?Ce():Xe==";"?Ce(_a):Bt=="in"||Bt=="of"?(be.marked="keyword",Ce(Ve,_a)):ze(Ve,_a)}function Ro(Xe,Bt){if(Bt=="*")return be.marked="keyword",Ce(Ro);if(Xe=="variable")return ot(Bt),Ce(Ro);if(Xe=="(")return Ce(ke,xt(")"),le(Ni,")"),Kt,He,Ke,gt);if(_&&Bt=="<")return Ce(xt(">"),le(ri,">"),Kt,Ro)}function Jn(Xe,Bt){if(Bt=="*")return be.marked="keyword",Ce(Jn);if(Xe=="variable")return ot(Bt),Ce(Jn);if(Xe=="(")return Ce(ke,xt(")"),le(Ni,")"),Kt,He,gt);if(_&&Bt=="<")return Ce(xt(">"),le(ri,">"),Kt,Jn)}function cr(Xe,Bt){if(Xe=="keyword"||Xe=="variable")return be.marked="type",Ce(cr);if(Bt=="<")return Ce(xt(">"),le(ri,">"),Kt)}function Ni(Xe,Bt){return Bt=="@"&&Ce(Ve,Ni),Xe=="spread"?Ce(Ni):_&&it(Bt)?(be.marked="keyword",Ce(Ni)):_&&Xe=="this"?Ce(Qe,ti):ze(ir,Qe,ti)}function br(Xe,Bt){return Xe=="variable"?Wa(Xe,Bt):Rr(Xe,Bt)}function Wa(Xe,Bt){if(Xe=="variable")return ot(Bt),Ce(Rr)}function Rr(Xe,Bt){if(Bt=="<")return Ce(xt(">"),le(ri,">"),Kt,Rr);if(Bt=="extends"||Bt=="implements"||_&&Xe==",")return Bt=="implements"&&(be.marked="keyword"),Ce(_?Ze:Ve,Rr);if(Xe=="{")return Ce(xt("}"),Gi,Kt)}function Gi(Xe,Bt){if(Xe=="async"||Xe=="variable"&&(Bt=="static"||Bt=="get"||Bt=="set"||_&&it(Bt))&&be.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return be.marked="keyword",Ce(Gi);if(Xe=="variable"||be.style=="keyword")return be.marked="property",Ce(bl,Gi);if(Xe=="number"||Xe=="string")return Ce(bl,Gi);if(Xe=="[")return Ce(Ve,Qe,je("]"),bl,Gi);if(Bt=="*")return be.marked="keyword",Ce(Gi);if(_&&Xe=="(")return ze(Jn,Gi);if(Xe==";"||Xe==",")return Ce(Gi);if(Xe=="}")return Ce();if(Bt=="@")return Ce(Ve,Gi)}function bl(Xe,Bt){if(Bt=="!"||Bt=="?")return Ce(bl);if(Xe==":")return Ce(Ze,ti);if(Bt=="=")return Ce(bt);var Mn=be.state.lexical.prev,Wn=Mn&&Mn.info=="interface";return ze(Wn?Jn:Ro)}function La(Xe,Bt){return Bt=="*"?(be.marked="keyword",Ce(Fa,je(";"))):Bt=="default"?(be.marked="keyword",Ce(Ve,je(";"))):Xe=="{"?Ce(le(Bo,"}"),Fa,je(";")):ze(Ke)}function Bo(Xe,Bt){if(Bt=="as")return be.marked="keyword",Ce(je("variable"));if(Xe=="variable")return ze(bt,Bo)}function rs(Xe){return Xe=="string"?Ce():Xe=="("?ze(Ve):Xe=="."?ze(Ut):ze(Pl,ho,Fa)}function Pl(Xe,Bt){return Xe=="{"?me(Pl,"}"):(Xe=="variable"&&ot(Bt),Bt=="*"&&(be.marked="keyword"),Ce(Xu))}function ho(Xe){if(Xe==",")return Ce(Pl,ho)}function Xu(Xe,Bt){if(Bt=="as")return be.marked="keyword",Ce(Pl)}function Fa(Xe,Bt){if(Bt=="from")return be.marked="keyword",Ce(Ve)}function Xi(Xe){return Xe=="]"?Ce():ze(le(bt,"]"))}function Si(){return ze(xt("form"),ir,je("{"),xt("}"),le(fs,"}"),Kt,Kt)}function fs(){return ze(ir,ti)}function Oa(Xe,Bt){return Xe.lastType=="operator"||Xe.lastType==","||B.test(Bt.charAt(0))||/[,.]/.test(Bt.charAt(0))}function ea(Xe,Bt,Mn){return Bt.tokenize==re&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Bt.lastType)||Bt.lastType=="quasi"&&/\{\s*$/.test(Xe.string.slice(0,Xe.pos-(Mn||0)))}return{startState:function(Xe){var Bt={tokenize:re,lastType:"sof",cc:[],lexical:new ve((Xe||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new ue(null,null,!1),indented:Xe||0};return r.globalVars&&typeof r.globalVars=="object"&&(Bt.globalVars=r.globalVars),Bt},token:function(Xe,Bt){if(Xe.sol()&&(Bt.lexical.hasOwnProperty("align")||(Bt.lexical.align=!1),Bt.indented=Xe.indentation(),he(Xe,Bt)),Bt.tokenize!=V&&Xe.eatSpace())return null;var Mn=Bt.tokenize(Xe,Bt);return Q=="comment"?Mn:(Bt.lastType=Q=="operator"&&($=="++"||$=="--")?"incdec":Q,Me(Bt,Mn,Q,$,Xe))},indent:function(Xe,Bt){if(Xe.tokenize==V||Xe.tokenize==J)return t.Pass;if(Xe.tokenize!=re)return 0;var Mn=Bt&&Bt.charAt(0),Wn=Xe.lexical,an;if(!/^\s*else\b/.test(Bt))for(var li=Xe.cc.length-1;li>=0;--li){var no=Xe.cc[li];if(no==Kt)Wn=Wn.prev;else if(no!=Sn&&no!=gt)break}for(;(Wn.type=="stat"||Wn.type=="form")&&(Mn=="}"||(an=Xe.cc[Xe.cc.length-1])&&(an==Ut||an==on)&&!/^[,\.=+\-*:?[\(]/.test(Bt));)Wn=Wn.prev;s&&Wn.type==")"&&Wn.prev.type=="stat"&&(Wn=Wn.prev);var Oo=Wn.type,ps=Mn==Oo;return Oo=="vardef"?Wn.indented+(Xe.lastType=="operator"||Xe.lastType==","?Wn.info.length+1:0):Oo=="form"&&Mn=="{"?Wn.indented:Oo=="form"?Wn.indented+o:Oo=="stat"?Wn.indented+(Oa(Xe,Bt)?s||o:0):Wn.info=="switch"&&!ps&&r.doubleIndentSwitch!=!1?Wn.indented+(/^(?:case|default)\b/.test(Bt)?o:2*o):Wn.align?Wn.column+(ps?0:1):Wn.indented+(ps?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:a,jsonMode:p,expressionAllowed:ea,skipExpression:function(Xe){Me(Xe,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),CR.exports}Ppe();var bR={exports:{}},xR;function Upe(){return xR||(xR=1,function(n,e){(function(t){t(k4())})(function(t){var i="CodeMirror-lint-markers",r="CodeMirror-lint-line-";function o(W,he,ge){var ve=document.createElement("div");ve.className="CodeMirror-lint-tooltip cm-s-"+W.options.theme,ve.appendChild(ge.cloneNode(!0)),W.state.lint.options.selfContain?W.getWrapperElement().appendChild(ve):document.body.appendChild(ve);function _e(Me){if(!ve.parentNode)return t.off(document,"mousemove",_e);var be=Math.max(0,Me.clientY-ve.offsetHeight-5),ze=Math.max(0,Math.min(Me.clientX+5,ve.ownerDocument.defaultView.innerWidth-ve.offsetWidth));ve.style.top=be+"px",ve.style.left=ze+"px"}return t.on(document,"mousemove",_e),_e(he),ve.style.opacity!=null&&(ve.style.opacity=1),ve}function s(W){W.parentNode&&W.parentNode.removeChild(W)}function a(W){W.parentNode&&(W.style.opacity==null&&s(W),W.style.opacity=0,setTimeout(function(){s(W)},600))}function p(W,he,ge,ve){var _e=o(W,he,ge);function Me(){t.off(ve,"mouseout",Me),_e&&(a(_e),_e=null)}var be=setInterval(function(){if(_e)for(var ze=ve;;ze=ze.parentNode){if(ze&&ze.nodeType==11&&(ze=ze.host),ze==document.body)return;if(!ze){Me();break}}if(!_e)return clearInterval(be)},400);t.on(ve,"mouseout",Me)}function g(W,he,ge){this.marked=[],he instanceof Function&&(he={getAnnotations:he}),(!he||he===!0)&&(he={}),this.options={},this.linterOptions=he.options||{};for(var ve in _)this.options[ve]=_[ve];for(var ve in he)_.hasOwnProperty(ve)?he[ve]!=null&&(this.options[ve]=he[ve]):he.options||(this.linterOptions[ve]=he[ve]);this.timeout=null,this.hasGutter=ge,this.onMouseOver=function(_e){J(W,_e)},this.waitingFor=0}var _={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function E(W){var he=W.state.lint;he.hasGutter&&W.clearGutter(i),he.options.highlightLines&&O(W);for(var ge=0;ge<he.marked.length;++ge)he.marked[ge].clear();he.marked.length=0}function O(W){W.eachLine(function(he){var ge=he.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(he.wrapClass);ge&&W.removeLineClass(he,"wrap",ge[0])})}function B(W,he,ge,ve,_e){var Me=document.createElement("div"),be=Me;return Me.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+ge,ve&&(be=Me.appendChild(document.createElement("div")),be.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),_e!=!1&&t.on(be,"mouseover",function(ze){p(W,ze,he,be)}),Me}function z(W,he){return W=="error"?W:he}function N(W){for(var he=[],ge=0;ge<W.length;++ge){var ve=W[ge],_e=ve.from.line;(he[_e]||(he[_e]=[])).push(ve)}return he}function Q(W){var he=W.severity;he||(he="error");var ge=document.createElement("div");return ge.className="CodeMirror-lint-message CodeMirror-lint-message-"+he,typeof W.messageHTML<"u"?ge.innerHTML=W.messageHTML:ge.appendChild(document.createTextNode(W.message)),ge}function $(W,he){var ge=W.state.lint,ve=++ge.waitingFor;function _e(){ve=-1,W.off("change",_e)}W.on("change",_e),he(W.getValue(),function(Me,be){W.off("change",_e),ge.waitingFor==ve&&(be&&Me instanceof t&&(Me=be),W.operation(function(){re(W,Me)}))},ge.linterOptions,W)}function X(W){var he=W.state.lint;if(he){var ge=he.options,ve=ge.getAnnotations||W.getHelper(t.Pos(0,0),"lint");if(ve)if(ge.async||ve.async)$(W,ve);else{var _e=ve(W.getValue(),he.linterOptions,W);if(!_e)return;_e.then?_e.then(function(Me){W.operation(function(){re(W,Me)})}):W.operation(function(){re(W,_e)})}}}function re(W,he){var ge=W.state.lint;if(ge){var ve=ge.options;E(W);for(var _e=N(he),Me=0;Me<_e.length;++Me){var be=_e[Me];if(be){for(var ze=null,Ce=ge.hasGutter&&document.createDocumentFragment(),Fe=0;Fe<be.length;++Fe){var ot=be[Fe],mt=ot.severity;mt||(mt="error"),ze=z(ze,mt),ve.formatAnnotation&&(ot=ve.formatAnnotation(ot)),ge.hasGutter&&Ce.appendChild(Q(ot)),ot.to&&ge.marked.push(W.markText(ot.from,ot.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+mt,__annotation:ot}))}ge.hasGutter&&W.setGutterMarker(Me,i,B(W,Ce,ze,be.length>1,ve.tooltips)),ve.highlightLines&&W.addLineClass(Me,"wrap",r+ze)}}ve.onUpdateLinting&&ve.onUpdateLinting(he,_e,W)}}function ne(W){var he=W.state.lint;he&&(clearTimeout(he.timeout),he.timeout=setTimeout(function(){X(W)},he.options.delay))}function V(W,he,ge){for(var ve=ge.target||ge.srcElement,_e=document.createDocumentFragment(),Me=0;Me<he.length;Me++){var be=he[Me];_e.appendChild(Q(be))}p(W,ge,_e,ve)}function J(W,he){var ge=he.target||he.srcElement;if(/\bCodeMirror-lint-mark-/.test(ge.className)){for(var ve=ge.getBoundingClientRect(),_e=(ve.left+ve.right)/2,Me=(ve.top+ve.bottom)/2,be=W.findMarksAt(W.coordsChar({left:_e,top:Me},"client")),ze=[],Ce=0;Ce<be.length;++Ce){var Fe=be[Ce].__annotation;Fe&&ze.push(Fe)}ze.length&&V(W,ze,he)}}t.defineOption("lint",!1,function(W,he,ge){if(ge&&ge!=t.Init&&(E(W),W.state.lint.options.lintOnChange!==!1&&W.off("change",ne),t.off(W.getWrapperElement(),"mouseover",W.state.lint.onMouseOver),clearTimeout(W.state.lint.timeout),delete W.state.lint),he){for(var ve=W.getOption("gutters"),_e=!1,Me=0;Me<ve.length;++Me)ve[Me]==i&&(_e=!0);var be=W.state.lint=new g(W,he,_e);be.options.lintOnChange&&W.on("change",ne),be.options.tooltips!=!1&&be.options.tooltips!="gutter"&&t.on(W.getWrapperElement(),"mouseover",be.onMouseOver),X(W)}}),t.defineExtension("performLint",function(){X(this)})})}()),bR.exports}Upe();var MR={exports:{}},wR;function Kpe(){return wR||(wR=1,function(n,e){(function(t){t(k4())})(function(t){var i=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),r=t.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function s(O){return O&&O.bracketRegex||/[(){}[\]]/}function a(O,B,z){var N=O.getLineHandle(B.line),Q=B.ch-1,$=z&&z.afterCursor;$==null&&($=/(^| )cm-fat-cursor($| )/.test(O.getWrapperElement().className));var X=s(z),re=!$&&Q>=0&&X.test(N.text.charAt(Q))&&o[N.text.charAt(Q)]||X.test(N.text.charAt(Q+1))&&o[N.text.charAt(++Q)];if(!re)return null;var ne=re.charAt(1)==">"?1:-1;if(z&&z.strict&&ne>0!=(Q==B.ch))return null;var V=O.getTokenTypeAt(r(B.line,Q+1)),J=p(O,r(B.line,Q+(ne>0?1:0)),ne,V,z);return J==null?null:{from:r(B.line,Q),to:J&&J.pos,match:J&&J.ch==re.charAt(0),forward:ne>0}}function p(O,B,z,N,Q){for(var $=Q&&Q.maxScanLineLength||1e4,X=Q&&Q.maxScanLines||1e3,re=[],ne=s(Q),V=z>0?Math.min(B.line+X,O.lastLine()+1):Math.max(O.firstLine()-1,B.line-X),J=B.line;J!=V;J+=z){var W=O.getLine(J);if(W){var he=z>0?0:W.length-1,ge=z>0?W.length:-1;if(!(W.length>$))for(J==B.line&&(he=B.ch-(z<0?1:0));he!=ge;he+=z){var ve=W.charAt(he);if(ne.test(ve)&&(N===void 0||(O.getTokenTypeAt(r(J,he+1))||"")==(N||""))){var _e=o[ve];if(_e&&_e.charAt(1)==">"==z>0)re.push(ve);else if(re.length)re.pop();else return{pos:r(J,he),ch:ve}}}}}return J-z==(z>0?O.lastLine():O.firstLine())?!1:null}function g(O,B,z){for(var N=O.state.matchBrackets.maxHighlightLineLength||1e3,Q=z&&z.highlightNonMatching,$=[],X=O.listSelections(),re=0;re<X.length;re++){var ne=X[re].empty()&&a(O,X[re].head,z);if(ne&&(ne.match||Q!==!1)&&O.getLine(ne.from.line).length<=N){var V=ne.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";$.push(O.markText(ne.from,r(ne.from.line,ne.from.ch+1),{className:V})),ne.to&&O.getLine(ne.to.line).length<=N&&$.push(O.markText(ne.to,r(ne.to.line,ne.to.ch+1),{className:V}))}}if($.length){i&&O.state.focused&&O.focus();var J=function(){O.operation(function(){for(var W=0;W<$.length;W++)$[W].clear()})};if(B)setTimeout(J,800);else return J}}function _(O){O.operation(function(){O.state.matchBrackets.currentlyHighlighted&&(O.state.matchBrackets.currentlyHighlighted(),O.state.matchBrackets.currentlyHighlighted=null),O.state.matchBrackets.currentlyHighlighted=g(O,!1,O.state.matchBrackets)})}function E(O){O.state.matchBrackets&&O.state.matchBrackets.currentlyHighlighted&&(O.state.matchBrackets.currentlyHighlighted(),O.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(O,B,z){z&&z!=t.Init&&(O.off("cursorActivity",_),O.off("focus",_),O.off("blur",E),E(O)),B&&(O.state.matchBrackets=typeof B=="object"?B:{},O.on("cursorActivity",_),O.on("focus",_),O.on("blur",E))}),t.defineExtension("matchBrackets",function(){g(this,!0)}),t.defineExtension("findMatchingBracket",function(O,B,z){return(z||typeof B=="boolean")&&(z?(z.strict=B,B=z):B=B?{strict:!0}:null),a(this,O,B)}),t.defineExtension("scanForBracket",function(O,B,z,N){return p(this,O,B,z,N)})})}()),MR.exports}Kpe();const Lpe=/("(?:[^\\"]|\\.)*")|[:,]/g;function sQ(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:r}=e;return function o(s,a,p){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const g=JSON.stringify(s,r);if(g===void 0)return g;const _=i-a.length-p;if(g.length<=_){const E=g.replace(Lpe,(O,B)=>B||`${O} `);if(E.length<=_)return E}if(r!=null&&(s=JSON.parse(g),r=void 0),typeof s=="object"&&s!==null){const E=a+t,O=[];let B=0,z,N;if(Array.isArray(s)){z="[",N="]";const{length:Q}=s;for(;B<Q;B++)O.push(o(s[B],E,B===Q-1?0:1)||"null")}else{z="{",N="}";const Q=Object.keys(s),{length:$}=Q;for(;B<$;B++){const X=Q[B],re=`${JSON.stringify(X)}: `,ne=o(s[X],E,re.length+(B===$-1?0:1));ne!==void 0&&O.push(re+ne)}}if(O.length>0)return[z,t+O.join(`,
${E}`),N].join(`
${a}`)}return g}(n,"",0)}var v_={exports:{}},Fpe=v_.exports,SR;function zpe(){return SR||(SR=1,function(n,e){(function(t,i){i(e)})(Fpe,function(t){const i={isWhiteSpace:function(ue){return ue===" "||ue===" "||ue==="\uFEFF"||ue>="	"&&ue<="\r"||ue===" "||ue>=" "&&ue<=" "||ue==="\u2028"||ue==="\u2029"||ue===" "||ue===" "||ue==="　"},isWhiteSpaceJSON:function(ue){return ue===" "||ue==="	"||ue===`
`||ue==="\r"},isLineTerminator:function(ue){return ue===`
`||ue==="\r"||ue==="\u2028"||ue==="\u2029"},isLineTerminatorJSON:function(ue){return ue===`
`||ue==="\r"},isIdentifierStart:function(ue){return ue==="$"||ue==="_"||ue>="A"&&ue<="Z"||ue>="a"&&ue<="z"||ue>=""&&i.NonAsciiIdentifierStart.test(ue)},isIdentifierPart:function(ue){return ue==="$"||ue==="_"||ue>="A"&&ue<="Z"||ue>="a"&&ue<="z"||ue>="0"&&ue<="9"||ue>=""&&i.NonAsciiIdentifierPart.test(ue)},NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/};function r(it){return it>="0"&&it<="9"||it>="A"&&it<="F"||it>="a"&&it<="f"}function o(it){return it>="0"&&it<="7"}function s(it){return it>="0"&&it<="9"}function a(it){return it.charCodeAt(0)===65279}const p={"'":"'",'"':'"',"\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v","/":"/"},g=Object.hasOwn,_={};function E(it,ue){(typeof it!="string"||!(it instanceof String))&&(it=String(it));const We=ue.mode==="json5",tt=ue.ignoreBOM,ke=ue.ignoreComments||ue.mode==="cjson"||We,Et=ue.ignoreTrailingCommas||We,gt=ue.ignoreProtoKey,xt=ue.ignorePrototypeKeys,Kt=ue.allowSingleQuotedStrings||We,je=ue.allowDuplicateObjectKeys,Ke=ue.reviver,Ue=ue.tokenize,Ve=ue.rawTokens,bt=ue.tokenLocations,vt=ue.tokenPaths,It=We?i.isLineTerminator:i.isLineTerminatorJSON,Yt=We?i.isWhiteSpace:i.isWhiteSpaceJSON,Ut=it.length;let on=0,Hn=0,Wt=0;const Gn=[];let On,Bn,Tn;if(Ue){let dt=null,kt,rt;On=function(){if(dt!==null)throw Error("internal error, token overlap");kt=on+1,rt=Wt-Hn+1,dt=Wt},Bn=function(tn,Rn){if(dt!==Wt){const wn={type:tn};Ve&&(wn.raw=it.substr(dt,Wt-dt)),Rn!==void 0&&(wn.value=Rn),bt&&(wn.location={start:{column:rt,line:kt,offset:dt}}),vt&&(wn.path=Tn.slice()),Gn.push(wn)}return dt=null,Rn},vt&&(Tn=[])}function Oi(){let dt;return Wt<Ut?dt=`Unexpected token ${JSON.stringify(it[Wt])}`:dt="Unexpected end of input",dt}function Vn(dt){const kt=Wt-Hn+1;++on;const rt=_e(dt,it,Wt,on,kt),tn=SyntaxError(rt.message);return tn.reason=dt,tn.excerpt=rt.excerpt,tn.pointer=rt.pointer,tn.location={start:{column:kt,line:on,offset:Wt}},tn}function Lt(dt){throw dt||(dt=Oi()),Vn(dt)}function De(dt){dt==="\r"&&it[Wt]===`
`&&++Wt,Hn=Wt,++on}function de(){if(Wt<Ut){On?.();const dt=it[Wt++];if(dt==='"'||dt==="'"&&Kt){const kt=y(dt);return Bn?.("literal",kt),kt}if(dt==="{")return Bn?.("symbol","{"),At();if(dt==="[")return Bn?.("symbol","["),He();if(dt==="-"||dt==="."||s(dt)||We&&(dt==="+"||dt==="I"||dt==="N")){const kt=Re();return Bn?.("literal",kt),kt}if(dt==="n")return Qe("null"),Bn?.("literal",null),null;if(dt==="t")return Qe("true"),Bn?.("literal",!0),!0;if(dt==="f")return Qe("false"),Bn?.("literal",!1),!1;--Wt,Bn?.();return}}function oe(){let dt;if(Wt<Ut){On?.();const kt=it[Wt++];if(kt==='"'||kt==="'"&&Kt){const rt=y(kt);return Bn?.("literal",rt),rt}if(kt==="{")return Bn?.("symbol","{"),At();if(kt==="[")return Bn?.("symbol","["),He();if(kt==="."||s(kt)){const rt=Re();return Bn?.("literal",rt),rt}if(We&&i.isIdentifierStart(kt)||kt==="\\"&&it[Wt]==="u"){const rt=Wt-1;if(dt=Ze(),dt===void 0){Wt=rt,Bn?.();return}return Bn?.("literal",dt),dt}--Wt,Bn?.();return}}function le(){a(it)&&(On?.(),++Wt,Bn?.("bom"))}function me(){let dt;function kt(){dt||(dt=!0,--Wt,On(),++Wt)}function rt(){dt&&(dt=!1,Bn("whitespace"))}for(;Wt<Ut;){const tn=it[Wt++];if(It(tn))On&&kt(),De(tn);else if(Yt(tn))On&&kt();else if(tn==="/"&&ke&&(it[Wt]==="/"||it[Wt]==="*"))On&&(--Wt,rt(),On(),++Wt),Ie(it[Wt++]==="*"),Bn?.("comment");else{--Wt;break}}Bn&&rt()}function Ie(dt){for(;Wt<Ut;){const kt=it[Wt++];if(It(kt)){if(!dt){--Wt;return}De(kt)}else if(kt==="*"&&dt&&it[Wt]==="/"){++Wt;return}}dt&&Lt("Unclosed multiline comment")}function Qe(dt){const kt=Wt;for(let rt=1,tn=dt.length;rt<tn;++rt)(Wt>=Ut||dt[rt]!==it[Wt])&&(Wt=kt-1,Lt()),++Wt}function At(){let dt={},kt=!1;for(;Wt<Ut;){me();const rt=oe();je===!1&&g(dt,rt)&&Lt(`Duplicate key: "${rt}"`),me(),On?.();let tn=it[Wt++];if(Bn?.("symbol",tn),tn==="}"&&rt===void 0)return!Et&&kt&&(--Wt,Lt("Trailing comma in object")),dt;if(tn===":"&&rt!==void 0){me(),Tn?.push(rt);let Rn=de();if(Tn?.pop(),Rn===void 0&&Lt(`No value found for key "${rt}"`),typeof rt!="string"&&(!We||typeof rt!="number")&&Lt(`Wrong key type: "${rt}"`),xt&&(rt in _||_[rt]!=null)||gt&&rt==="__proto__"||(Ke&&(Rn=Ke(rt,Rn)),Rn!==void 0&&(kt=!0,rt==="__proto__"?dt=Object.assign(JSON.parse(`{"__proto__":${JSON.stringify(Rn)}}`),dt):dt[rt]=Rn)),me(),On?.(),tn=it[Wt++],Bn?.("symbol",tn),tn!==","){if(tn==="}")return dt;Lt()}}else--Wt,Lt()}Lt()}function He(){const dt=[];for(;Wt<Ut;){me(),Tn?.push(dt.length);let kt=de();Tn?.pop(),me(),On?.();const rt=it[Wt++];if(Bn?.("symbol",rt),kt!==void 0&&(Ke&&(kt=Ke(String(dt.length),kt)),kt===void 0?(++dt.length,kt=!0):dt.push(kt)),rt===",")kt===void 0&&Lt("Elisions are not supported");else{if(rt==="]")return!Et&&kt===void 0&&dt.length&&(--Wt,Lt("Trailing comma in array")),dt;--Wt,Lt()}}}function Re(){--Wt;let dt=Wt,kt=it[Wt++];const rt=function(tn){const Rn=it.substr(dt,Wt-dt);let wn;if(tn?wn=Number.parseInt(Rn.replace(/^0o?/,""),8):wn=Number(Rn),Number.isNaN(wn))--Wt,Lt(`Bad numeric literal - "${it.substr(dt,Wt-dt+1)}"`);else if(!We&&!Rn.match(/^-?(0|[1-9][0-9]*)(\.[0-9]+)?(e[+-]?[0-9]+)?$/i))--Wt,Lt(`Non-json numeric literal - "${it.substr(dt,Wt-dt+1)}"`);else return wn};if((kt==="-"||kt==="+"&&We)&&(kt=it[Wt++]),kt==="N"&&We)return Qe("NaN"),Number.NaN;if(kt==="I"&&We)return Qe("Infinity"),rt();if(kt>="1"&&kt<="9"){for(;Wt<Ut&&s(it[Wt]);)++Wt;kt=it[Wt++]}if(kt==="0"){kt=it[Wt++];const tn=kt==="o"||kt==="O"||o(kt),Rn=kt==="x"||kt==="X";if(We&&(tn||Rn)){for(;Wt<Ut&&(Rn?r:o)(it[Wt]);)++Wt;let wn=1;return it[dt]==="-"?(wn=-1,++dt):it[dt]==="+"&&++dt,wn*rt(tn)}}if(kt==="."){for(;Wt<Ut&&s(it[Wt]);)++Wt;kt=it[Wt++]}if(kt==="e"||kt==="E"){for(kt=it[Wt++],(kt==="-"||kt==="+")&&++Wt;Wt<Ut&&s(it[Wt]);)++Wt;kt=it[Wt++]}return--Wt,rt()}function Ze(){--Wt;let dt="";for(;Wt<Ut;){let kt=it[Wt++];if(kt==="\\"&&it[Wt]==="u"&&r(it[Wt+1])&&r(it[Wt+2])&&r(it[Wt+3])&&r(it[Wt+4])&&(kt=String.fromCharCode(Number.parseInt(it.substr(Wt+1,4),16)),Wt+=5),dt.length)if(i.isIdentifierPart(kt))dt+=kt;else return--Wt,dt;else if(i.isIdentifierStart(kt))dt+=kt;else return}Lt()}function y(dt){let kt="";for(;Wt<Ut;){let rt=it[Wt++];if(rt===dt)return kt;if(rt==="\\")if(Wt>=Ut&&Lt(),rt=it[Wt++],p[rt]&&(We||rt!=="v"&&(rt!=="'"||Kt)))kt+=p[rt];else if(We&&It(rt))De(rt);else if(rt==="u"||rt==="x"&&We){const tn=rt==="u"?4:2;for(let Rn=0;Rn<tn;++Rn)Wt>=Ut&&Lt(),r(it[Wt])||Lt("Bad escape sequence"),Wt++;kt+=String.fromCharCode(Number.parseInt(it.substr(Wt-tn,tn),16))}else if(We&&o(rt)){let tn;rt<"4"&&o(it[Wt])&&o(it[Wt+1])?tn=3:o(it[Wt])?tn=2:tn=1,Wt+=tn-1,kt+=String.fromCharCode(Number.parseInt(it.substr(Wt-tn,tn),8))}else We?kt+=rt:(--Wt,Lt());else It(rt)?Lt():(!We&&rt.charCodeAt(0)<32&&(--Wt,Lt("Unexpected control character")),kt+=rt)}Lt()}tt&&le(),me();let yt=de();if(yt!==void 0||Wt<Ut){if(me(),Wt>=Ut)return Ke&&(yt=Ke("",yt)),Ue?Gn:yt;Lt()}else Lt(Wt?"No data, only a whitespace":"No data, empty input")}function O(it,ue){return typeof ue=="function"?ue={reviver:ue}:ue||(ue={}),E(it,ue)}function B(it,ue){ue||(ue={});const We=ue.tokenize;ue.tokenize=!0;const tt=E(it,ue);return ue.tokenize=We,tt}function z(it){return it.toString().replace(/~/g,"~0").replace(/\//g,"~1")}function N(it){return it.length===0?"":`/${it.map(z).join("/")}`}function Q(it){return it.replace(/~1/g,"/").replace(/~0/g,"~")}function $(it){if(it==="")return[];if(it[0]!=="/")throw new Error('Missing initial "/" in the reference');return it.substr(1).split("/").map(Q)}function X(it,ue){const We=it.substr(0,ue).split(/\r?\n/),tt=We.length,ke=We[tt-1].length+1;return{line:tt,column:ke}}function re(it,ue,We){if(ue>1){const tt=/\r?\n/g;let ke;for(;ke=tt.exec(it);)if(--ue===1)return ke.index+We}return We-1}function ne(it,ue){const We=Math.max(0,ue-20),tt=it.substr(We,ue-We);return(ue>20?"...":"")+tt.replace(/\r?\n/g,"")}function V(it,ue){let We=Math.max(0,ue-20);We+=ue-We;const tt=it.length-We;return it.substr(We,Math.min(20,tt)).replace(/\r?\n/g,"")+(tt>20?"...":"")}function J(it,ue){const We=ne(it,ue),tt=V(it,ue),ke=`${new Array(We.length+1).join("-")}^`;return{excerpt:We+tt,pointer:ke}}function W(it){let ue=it.message.replace("JSON.parse: ","").replace("JSON Parse error: ","");const We=ue.charAt(0);return We>="a"&&(ue=We.toUpperCase()+ue.substr(1)),ue}function he(it,ue){const We=/ in JSON at position (\d+)$/.exec(ue);if(We){const tt=+We[1],ke=X(it,tt);return{offset:tt,line:ke.line,column:ke.column,reason:ue.substr(0,We.index)}}}function ge(it,ue){const We=/ end of JSON input$/.exec(ue);if(We){const tt=it.length,ke=X(it,tt);return{offset:tt,line:ke.line,column:ke.column,reason:ue.substr(0,We.index+4)}}}function ve(it,ue){const We=/ at line (\d+) column (\d+) of the JSON data$/.exec(ue);if(We){const tt=+We[1],ke=+We[2];return{offset:re(it,tt,ke),line:tt,column:ke,reason:ue.substr(0,We.index)}}}function _e(it,ue,We,tt,ke){const Et=J(ue,We),gt=Et.excerpt;let xt,Kt;return typeof tt=="number"?(Kt=Et.pointer,xt=`Parse error on line ${tt}, column ${ke}:
${gt}
${Kt}
${it}`):xt=`Parse error in JSON input:
${gt}
${it}`,{message:xt,excerpt:gt,pointer:Kt}}function Me(it,ue){let We=W(ue);const tt=he(it,We)||ge(it,We)||ve(it,We);let ke,Et,gt;tt?(ke=tt.offset,Et=tt.line,gt=tt.column,We=tt.reason):ke=0,ue.reason=We;const xt=_e(We,it,ke,Et,gt);return ue.message=xt.message,ue.excerpt=xt.excerpt,xt.pointer&&(ue.pointer=xt.pointer,ue.location={start:{column:gt,line:Et,offset:ke}}),ue}function be(it,ue){try{return JSON.parse(it,ue)}catch(We){const tt=Me(it,We);if(We.location)throw tt;return O(it,ue)}}const ze=typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),Ce=typeof process<"u"&&process.version.startsWith("v4.");function Fe(it){return it.ignoreBOM||it.ignoreComments||it.ignoreTrailingCommas||it.allowSingleQuotedStrings||it.allowDuplicateObjectKeys===!1||it.ignoreProtoKey||it.ignorePrototypeKeys||it.mode==="cjson"||it.mode==="json5"||ze||Ce}function ot(it){if(typeof it=="function")return it;if(it)return it.reviver}function mt(it,ue){return ue||(ue={}),Fe(ue)?O(it,ue):be(it,ot(ue))}t.parse=mt,t.tokenize=B,t.pathToPointer=N,t.pointerToPath=$,t.parseNative=be,t.parseCustom=O,t.getErrorTexts=_e,Object.defineProperty(t,"__esModule",{value:!0})})}(v_,v_.exports)),v_.exports}var jpe=zpe(),v3={exports:{}},Npe=v3.exports,ER;function Gpe(){return ER||(ER=1,function(n,e){(function(t,i){n.exports=i()})(Npe,function(){var t=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function i(Ke,Ue){return Ue={exports:{}},Ke(Ue,Ue.exports),Ue.exports}var r=i(function(Ke){function Ue(){var Ve=0,bt=1,vt=2,It=3,Yt=4,Ut=5,on=6,Hn=7,Wt=8,Gn=9,On=10,Bn=11,Tn=12,Oi=13,Vn=14,Lt=15,De=16,de=17,oe=0,le=1,me=2,Ie=3,Qe=4;function At(y,yt){return 55296<=y.charCodeAt(yt)&&y.charCodeAt(yt)<=56319&&56320<=y.charCodeAt(yt+1)&&y.charCodeAt(yt+1)<=57343}function He(y,yt){yt===void 0&&(yt=0);var dt=y.charCodeAt(yt);if(55296<=dt&&dt<=56319&&yt<y.length-1){var kt=dt,rt=y.charCodeAt(yt+1);return 56320<=rt&&rt<=57343?(kt-55296)*1024+(rt-56320)+65536:kt}if(56320<=dt&&dt<=57343&&yt>=1){var kt=y.charCodeAt(yt-1),rt=dt;return 55296<=kt&&kt<=56319?(kt-55296)*1024+(rt-56320)+65536:rt}return dt}function Re(y,yt,dt){var kt=[y].concat(yt).concat([dt]),rt=kt[kt.length-2],tn=dt,Rn=kt.lastIndexOf(Vn);if(Rn>1&&kt.slice(1,Rn).every(function(Qn){return Qn==It})&&[It,Oi,de].indexOf(y)==-1)return me;var wn=kt.lastIndexOf(Yt);if(wn>0&&kt.slice(1,wn).every(function(Qn){return Qn==Yt})&&[Tn,Yt].indexOf(rt)==-1)return kt.filter(function(Qn){return Qn==Yt}).length%2==1?Ie:Qe;if(rt==Ve&&tn==bt)return oe;if(rt==vt||rt==Ve||rt==bt)return tn==Vn&&yt.every(function(Qn){return Qn==It})?me:le;if(tn==vt||tn==Ve||tn==bt)return le;if(rt==on&&(tn==on||tn==Hn||tn==Gn||tn==On))return oe;if((rt==Gn||rt==Hn)&&(tn==Hn||tn==Wt))return oe;if((rt==On||rt==Wt)&&tn==Wt)return oe;if(tn==It||tn==Lt)return oe;if(tn==Ut)return oe;if(rt==Tn)return oe;var ri=kt.indexOf(It)!=-1?kt.lastIndexOf(It)-1:kt.length-2;return[Oi,de].indexOf(kt[ri])!=-1&&kt.slice(ri+1,-1).every(function(Qn){return Qn==It})&&tn==Vn||rt==Lt&&[De,de].indexOf(tn)!=-1?oe:yt.indexOf(Yt)!=-1?me:rt==Yt&&tn==Yt?oe:le}this.nextBreak=function(y,yt){if(yt===void 0&&(yt=0),yt<0)return 0;if(yt>=y.length-1)return y.length;for(var dt=Ze(He(y,yt)),kt=[],rt=yt+1;rt<y.length;rt++)if(!At(y,rt-1)){var tn=Ze(He(y,rt));if(Re(dt,kt,tn))return rt;kt.push(tn)}return y.length},this.splitGraphemes=function(y){for(var yt=[],dt=0,kt;(kt=this.nextBreak(y,dt))<y.length;)yt.push(y.slice(dt,kt)),dt=kt;return dt<y.length&&yt.push(y.slice(dt)),yt},this.iterateGraphemes=function(y){var yt=0,dt={next:(function(){var kt,rt;return(rt=this.nextBreak(y,yt))<y.length?(kt=y.slice(yt,rt),yt=rt,{value:kt,done:!1}):yt<y.length?(kt=y.slice(yt),yt=y.length,{value:kt,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(dt[Symbol.iterator]=function(){return dt}),dt},this.countGraphemes=function(y){for(var yt=0,dt=0,kt;(kt=this.nextBreak(y,dt))<y.length;)dt=kt,yt++;return dt<y.length&&yt++,yt};function Ze(y){return 1536<=y&&y<=1541||y==1757||y==1807||y==2274||y==3406||y==69821||70082<=y&&y<=70083||y==72250||72326<=y&&y<=72329||y==73030?Tn:y==13?Ve:y==10?bt:0<=y&&y<=9||11<=y&&y<=12||14<=y&&y<=31||127<=y&&y<=159||y==173||y==1564||y==6158||y==8203||8206<=y&&y<=8207||y==8232||y==8233||8234<=y&&y<=8238||8288<=y&&y<=8292||y==8293||8294<=y&&y<=8303||55296<=y&&y<=57343||y==65279||65520<=y&&y<=65528||65529<=y&&y<=65531||113824<=y&&y<=113827||119155<=y&&y<=119162||y==917504||y==917505||917506<=y&&y<=917535||917632<=y&&y<=917759||918e3<=y&&y<=921599?vt:768<=y&&y<=879||1155<=y&&y<=1159||1160<=y&&y<=1161||1425<=y&&y<=1469||y==1471||1473<=y&&y<=1474||1476<=y&&y<=1477||y==1479||1552<=y&&y<=1562||1611<=y&&y<=1631||y==1648||1750<=y&&y<=1756||1759<=y&&y<=1764||1767<=y&&y<=1768||1770<=y&&y<=1773||y==1809||1840<=y&&y<=1866||1958<=y&&y<=1968||2027<=y&&y<=2035||2070<=y&&y<=2073||2075<=y&&y<=2083||2085<=y&&y<=2087||2089<=y&&y<=2093||2137<=y&&y<=2139||2260<=y&&y<=2273||2275<=y&&y<=2306||y==2362||y==2364||2369<=y&&y<=2376||y==2381||2385<=y&&y<=2391||2402<=y&&y<=2403||y==2433||y==2492||y==2494||2497<=y&&y<=2500||y==2509||y==2519||2530<=y&&y<=2531||2561<=y&&y<=2562||y==2620||2625<=y&&y<=2626||2631<=y&&y<=2632||2635<=y&&y<=2637||y==2641||2672<=y&&y<=2673||y==2677||2689<=y&&y<=2690||y==2748||2753<=y&&y<=2757||2759<=y&&y<=2760||y==2765||2786<=y&&y<=2787||2810<=y&&y<=2815||y==2817||y==2876||y==2878||y==2879||2881<=y&&y<=2884||y==2893||y==2902||y==2903||2914<=y&&y<=2915||y==2946||y==3006||y==3008||y==3021||y==3031||y==3072||3134<=y&&y<=3136||3142<=y&&y<=3144||3146<=y&&y<=3149||3157<=y&&y<=3158||3170<=y&&y<=3171||y==3201||y==3260||y==3263||y==3266||y==3270||3276<=y&&y<=3277||3285<=y&&y<=3286||3298<=y&&y<=3299||3328<=y&&y<=3329||3387<=y&&y<=3388||y==3390||3393<=y&&y<=3396||y==3405||y==3415||3426<=y&&y<=3427||y==3530||y==3535||3538<=y&&y<=3540||y==3542||y==3551||y==3633||3636<=y&&y<=3642||3655<=y&&y<=3662||y==3761||3764<=y&&y<=3769||3771<=y&&y<=3772||3784<=y&&y<=3789||3864<=y&&y<=3865||y==3893||y==3895||y==3897||3953<=y&&y<=3966||3968<=y&&y<=3972||3974<=y&&y<=3975||3981<=y&&y<=3991||3993<=y&&y<=4028||y==4038||4141<=y&&y<=4144||4146<=y&&y<=4151||4153<=y&&y<=4154||4157<=y&&y<=4158||4184<=y&&y<=4185||4190<=y&&y<=4192||4209<=y&&y<=4212||y==4226||4229<=y&&y<=4230||y==4237||y==4253||4957<=y&&y<=4959||5906<=y&&y<=5908||5938<=y&&y<=5940||5970<=y&&y<=5971||6002<=y&&y<=6003||6068<=y&&y<=6069||6071<=y&&y<=6077||y==6086||6089<=y&&y<=6099||y==6109||6155<=y&&y<=6157||6277<=y&&y<=6278||y==6313||6432<=y&&y<=6434||6439<=y&&y<=6440||y==6450||6457<=y&&y<=6459||6679<=y&&y<=6680||y==6683||y==6742||6744<=y&&y<=6750||y==6752||y==6754||6757<=y&&y<=6764||6771<=y&&y<=6780||y==6783||6832<=y&&y<=6845||y==6846||6912<=y&&y<=6915||y==6964||6966<=y&&y<=6970||y==6972||y==6978||7019<=y&&y<=7027||7040<=y&&y<=7041||7074<=y&&y<=7077||7080<=y&&y<=7081||7083<=y&&y<=7085||y==7142||7144<=y&&y<=7145||y==7149||7151<=y&&y<=7153||7212<=y&&y<=7219||7222<=y&&y<=7223||7376<=y&&y<=7378||7380<=y&&y<=7392||7394<=y&&y<=7400||y==7405||y==7412||7416<=y&&y<=7417||7616<=y&&y<=7673||7675<=y&&y<=7679||y==8204||8400<=y&&y<=8412||8413<=y&&y<=8416||y==8417||8418<=y&&y<=8420||8421<=y&&y<=8432||11503<=y&&y<=11505||y==11647||11744<=y&&y<=11775||12330<=y&&y<=12333||12334<=y&&y<=12335||12441<=y&&y<=12442||y==42607||42608<=y&&y<=42610||42612<=y&&y<=42621||42654<=y&&y<=42655||42736<=y&&y<=42737||y==43010||y==43014||y==43019||43045<=y&&y<=43046||43204<=y&&y<=43205||43232<=y&&y<=43249||43302<=y&&y<=43309||43335<=y&&y<=43345||43392<=y&&y<=43394||y==43443||43446<=y&&y<=43449||y==43452||y==43493||43561<=y&&y<=43566||43569<=y&&y<=43570||43573<=y&&y<=43574||y==43587||y==43596||y==43644||y==43696||43698<=y&&y<=43700||43703<=y&&y<=43704||43710<=y&&y<=43711||y==43713||43756<=y&&y<=43757||y==43766||y==44005||y==44008||y==44013||y==64286||65024<=y&&y<=65039||65056<=y&&y<=65071||65438<=y&&y<=65439||y==66045||y==66272||66422<=y&&y<=66426||68097<=y&&y<=68099||68101<=y&&y<=68102||68108<=y&&y<=68111||68152<=y&&y<=68154||y==68159||68325<=y&&y<=68326||y==69633||69688<=y&&y<=69702||69759<=y&&y<=69761||69811<=y&&y<=69814||69817<=y&&y<=69818||69888<=y&&y<=69890||69927<=y&&y<=69931||69933<=y&&y<=69940||y==70003||70016<=y&&y<=70017||70070<=y&&y<=70078||70090<=y&&y<=70092||70191<=y&&y<=70193||y==70196||70198<=y&&y<=70199||y==70206||y==70367||70371<=y&&y<=70378||70400<=y&&y<=70401||y==70460||y==70462||y==70464||y==70487||70502<=y&&y<=70508||70512<=y&&y<=70516||70712<=y&&y<=70719||70722<=y&&y<=70724||y==70726||y==70832||70835<=y&&y<=70840||y==70842||y==70845||70847<=y&&y<=70848||70850<=y&&y<=70851||y==71087||71090<=y&&y<=71093||71100<=y&&y<=71101||71103<=y&&y<=71104||71132<=y&&y<=71133||71219<=y&&y<=71226||y==71229||71231<=y&&y<=71232||y==71339||y==71341||71344<=y&&y<=71349||y==71351||71453<=y&&y<=71455||71458<=y&&y<=71461||71463<=y&&y<=71467||72193<=y&&y<=72198||72201<=y&&y<=72202||72243<=y&&y<=72248||72251<=y&&y<=72254||y==72263||72273<=y&&y<=72278||72281<=y&&y<=72283||72330<=y&&y<=72342||72344<=y&&y<=72345||72752<=y&&y<=72758||72760<=y&&y<=72765||y==72767||72850<=y&&y<=72871||72874<=y&&y<=72880||72882<=y&&y<=72883||72885<=y&&y<=72886||73009<=y&&y<=73014||y==73018||73020<=y&&y<=73021||73023<=y&&y<=73029||y==73031||92912<=y&&y<=92916||92976<=y&&y<=92982||94095<=y&&y<=94098||113821<=y&&y<=113822||y==119141||119143<=y&&y<=119145||119150<=y&&y<=119154||119163<=y&&y<=119170||119173<=y&&y<=119179||119210<=y&&y<=119213||119362<=y&&y<=119364||121344<=y&&y<=121398||121403<=y&&y<=121452||y==121461||y==121476||121499<=y&&y<=121503||121505<=y&&y<=121519||122880<=y&&y<=122886||122888<=y&&y<=122904||122907<=y&&y<=122913||122915<=y&&y<=122916||122918<=y&&y<=122922||125136<=y&&y<=125142||125252<=y&&y<=125258||917536<=y&&y<=917631||917760<=y&&y<=917999?It:127462<=y&&y<=127487?Yt:y==2307||y==2363||2366<=y&&y<=2368||2377<=y&&y<=2380||2382<=y&&y<=2383||2434<=y&&y<=2435||2495<=y&&y<=2496||2503<=y&&y<=2504||2507<=y&&y<=2508||y==2563||2622<=y&&y<=2624||y==2691||2750<=y&&y<=2752||y==2761||2763<=y&&y<=2764||2818<=y&&y<=2819||y==2880||2887<=y&&y<=2888||2891<=y&&y<=2892||y==3007||3009<=y&&y<=3010||3014<=y&&y<=3016||3018<=y&&y<=3020||3073<=y&&y<=3075||3137<=y&&y<=3140||3202<=y&&y<=3203||y==3262||3264<=y&&y<=3265||3267<=y&&y<=3268||3271<=y&&y<=3272||3274<=y&&y<=3275||3330<=y&&y<=3331||3391<=y&&y<=3392||3398<=y&&y<=3400||3402<=y&&y<=3404||3458<=y&&y<=3459||3536<=y&&y<=3537||3544<=y&&y<=3550||3570<=y&&y<=3571||y==3635||y==3763||3902<=y&&y<=3903||y==3967||y==4145||4155<=y&&y<=4156||4182<=y&&y<=4183||y==4228||y==6070||6078<=y&&y<=6085||6087<=y&&y<=6088||6435<=y&&y<=6438||6441<=y&&y<=6443||6448<=y&&y<=6449||6451<=y&&y<=6456||6681<=y&&y<=6682||y==6741||y==6743||6765<=y&&y<=6770||y==6916||y==6965||y==6971||6973<=y&&y<=6977||6979<=y&&y<=6980||y==7042||y==7073||7078<=y&&y<=7079||y==7082||y==7143||7146<=y&&y<=7148||y==7150||7154<=y&&y<=7155||7204<=y&&y<=7211||7220<=y&&y<=7221||y==7393||7410<=y&&y<=7411||y==7415||43043<=y&&y<=43044||y==43047||43136<=y&&y<=43137||43188<=y&&y<=43203||43346<=y&&y<=43347||y==43395||43444<=y&&y<=43445||43450<=y&&y<=43451||43453<=y&&y<=43456||43567<=y&&y<=43568||43571<=y&&y<=43572||y==43597||y==43755||43758<=y&&y<=43759||y==43765||44003<=y&&y<=44004||44006<=y&&y<=44007||44009<=y&&y<=44010||y==44012||y==69632||y==69634||y==69762||69808<=y&&y<=69810||69815<=y&&y<=69816||y==69932||y==70018||70067<=y&&y<=70069||70079<=y&&y<=70080||70188<=y&&y<=70190||70194<=y&&y<=70195||y==70197||70368<=y&&y<=70370||70402<=y&&y<=70403||y==70463||70465<=y&&y<=70468||70471<=y&&y<=70472||70475<=y&&y<=70477||70498<=y&&y<=70499||70709<=y&&y<=70711||70720<=y&&y<=70721||y==70725||70833<=y&&y<=70834||y==70841||70843<=y&&y<=70844||y==70846||y==70849||71088<=y&&y<=71089||71096<=y&&y<=71099||y==71102||71216<=y&&y<=71218||71227<=y&&y<=71228||y==71230||y==71340||71342<=y&&y<=71343||y==71350||71456<=y&&y<=71457||y==71462||72199<=y&&y<=72200||y==72249||72279<=y&&y<=72280||y==72343||y==72751||y==72766||y==72873||y==72881||y==72884||94033<=y&&y<=94078||y==119142||y==119149?Ut:4352<=y&&y<=4447||43360<=y&&y<=43388?on:4448<=y&&y<=4519||55216<=y&&y<=55238?Hn:4520<=y&&y<=4607||55243<=y&&y<=55291?Wt:y==44032||y==44060||y==44088||y==44116||y==44144||y==44172||y==44200||y==44228||y==44256||y==44284||y==44312||y==44340||y==44368||y==44396||y==44424||y==44452||y==44480||y==44508||y==44536||y==44564||y==44592||y==44620||y==44648||y==44676||y==44704||y==44732||y==44760||y==44788||y==44816||y==44844||y==44872||y==44900||y==44928||y==44956||y==44984||y==45012||y==45040||y==45068||y==45096||y==45124||y==45152||y==45180||y==45208||y==45236||y==45264||y==45292||y==45320||y==45348||y==45376||y==45404||y==45432||y==45460||y==45488||y==45516||y==45544||y==45572||y==45600||y==45628||y==45656||y==45684||y==45712||y==45740||y==45768||y==45796||y==45824||y==45852||y==45880||y==45908||y==45936||y==45964||y==45992||y==46020||y==46048||y==46076||y==46104||y==46132||y==46160||y==46188||y==46216||y==46244||y==46272||y==46300||y==46328||y==46356||y==46384||y==46412||y==46440||y==46468||y==46496||y==46524||y==46552||y==46580||y==46608||y==46636||y==46664||y==46692||y==46720||y==46748||y==46776||y==46804||y==46832||y==46860||y==46888||y==46916||y==46944||y==46972||y==47e3||y==47028||y==47056||y==47084||y==47112||y==47140||y==47168||y==47196||y==47224||y==47252||y==47280||y==47308||y==47336||y==47364||y==47392||y==47420||y==47448||y==47476||y==47504||y==47532||y==47560||y==47588||y==47616||y==47644||y==47672||y==47700||y==47728||y==47756||y==47784||y==47812||y==47840||y==47868||y==47896||y==47924||y==47952||y==47980||y==48008||y==48036||y==48064||y==48092||y==48120||y==48148||y==48176||y==48204||y==48232||y==48260||y==48288||y==48316||y==48344||y==48372||y==48400||y==48428||y==48456||y==48484||y==48512||y==48540||y==48568||y==48596||y==48624||y==48652||y==48680||y==48708||y==48736||y==48764||y==48792||y==48820||y==48848||y==48876||y==48904||y==48932||y==48960||y==48988||y==49016||y==49044||y==49072||y==49100||y==49128||y==49156||y==49184||y==49212||y==49240||y==49268||y==49296||y==49324||y==49352||y==49380||y==49408||y==49436||y==49464||y==49492||y==49520||y==49548||y==49576||y==49604||y==49632||y==49660||y==49688||y==49716||y==49744||y==49772||y==49800||y==49828||y==49856||y==49884||y==49912||y==49940||y==49968||y==49996||y==50024||y==50052||y==50080||y==50108||y==50136||y==50164||y==50192||y==50220||y==50248||y==50276||y==50304||y==50332||y==50360||y==50388||y==50416||y==50444||y==50472||y==50500||y==50528||y==50556||y==50584||y==50612||y==50640||y==50668||y==50696||y==50724||y==50752||y==50780||y==50808||y==50836||y==50864||y==50892||y==50920||y==50948||y==50976||y==51004||y==51032||y==51060||y==51088||y==51116||y==51144||y==51172||y==51200||y==51228||y==51256||y==51284||y==51312||y==51340||y==51368||y==51396||y==51424||y==51452||y==51480||y==51508||y==51536||y==51564||y==51592||y==51620||y==51648||y==51676||y==51704||y==51732||y==51760||y==51788||y==51816||y==51844||y==51872||y==51900||y==51928||y==51956||y==51984||y==52012||y==52040||y==52068||y==52096||y==52124||y==52152||y==52180||y==52208||y==52236||y==52264||y==52292||y==52320||y==52348||y==52376||y==52404||y==52432||y==52460||y==52488||y==52516||y==52544||y==52572||y==52600||y==52628||y==52656||y==52684||y==52712||y==52740||y==52768||y==52796||y==52824||y==52852||y==52880||y==52908||y==52936||y==52964||y==52992||y==53020||y==53048||y==53076||y==53104||y==53132||y==53160||y==53188||y==53216||y==53244||y==53272||y==53300||y==53328||y==53356||y==53384||y==53412||y==53440||y==53468||y==53496||y==53524||y==53552||y==53580||y==53608||y==53636||y==53664||y==53692||y==53720||y==53748||y==53776||y==53804||y==53832||y==53860||y==53888||y==53916||y==53944||y==53972||y==54e3||y==54028||y==54056||y==54084||y==54112||y==54140||y==54168||y==54196||y==54224||y==54252||y==54280||y==54308||y==54336||y==54364||y==54392||y==54420||y==54448||y==54476||y==54504||y==54532||y==54560||y==54588||y==54616||y==54644||y==54672||y==54700||y==54728||y==54756||y==54784||y==54812||y==54840||y==54868||y==54896||y==54924||y==54952||y==54980||y==55008||y==55036||y==55064||y==55092||y==55120||y==55148||y==55176?Gn:44033<=y&&y<=44059||44061<=y&&y<=44087||44089<=y&&y<=44115||44117<=y&&y<=44143||44145<=y&&y<=44171||44173<=y&&y<=44199||44201<=y&&y<=44227||44229<=y&&y<=44255||44257<=y&&y<=44283||44285<=y&&y<=44311||44313<=y&&y<=44339||44341<=y&&y<=44367||44369<=y&&y<=44395||44397<=y&&y<=44423||44425<=y&&y<=44451||44453<=y&&y<=44479||44481<=y&&y<=44507||44509<=y&&y<=44535||44537<=y&&y<=44563||44565<=y&&y<=44591||44593<=y&&y<=44619||44621<=y&&y<=44647||44649<=y&&y<=44675||44677<=y&&y<=44703||44705<=y&&y<=44731||44733<=y&&y<=44759||44761<=y&&y<=44787||44789<=y&&y<=44815||44817<=y&&y<=44843||44845<=y&&y<=44871||44873<=y&&y<=44899||44901<=y&&y<=44927||44929<=y&&y<=44955||44957<=y&&y<=44983||44985<=y&&y<=45011||45013<=y&&y<=45039||45041<=y&&y<=45067||45069<=y&&y<=45095||45097<=y&&y<=45123||45125<=y&&y<=45151||45153<=y&&y<=45179||45181<=y&&y<=45207||45209<=y&&y<=45235||45237<=y&&y<=45263||45265<=y&&y<=45291||45293<=y&&y<=45319||45321<=y&&y<=45347||45349<=y&&y<=45375||45377<=y&&y<=45403||45405<=y&&y<=45431||45433<=y&&y<=45459||45461<=y&&y<=45487||45489<=y&&y<=45515||45517<=y&&y<=45543||45545<=y&&y<=45571||45573<=y&&y<=45599||45601<=y&&y<=45627||45629<=y&&y<=45655||45657<=y&&y<=45683||45685<=y&&y<=45711||45713<=y&&y<=45739||45741<=y&&y<=45767||45769<=y&&y<=45795||45797<=y&&y<=45823||45825<=y&&y<=45851||45853<=y&&y<=45879||45881<=y&&y<=45907||45909<=y&&y<=45935||45937<=y&&y<=45963||45965<=y&&y<=45991||45993<=y&&y<=46019||46021<=y&&y<=46047||46049<=y&&y<=46075||46077<=y&&y<=46103||46105<=y&&y<=46131||46133<=y&&y<=46159||46161<=y&&y<=46187||46189<=y&&y<=46215||46217<=y&&y<=46243||46245<=y&&y<=46271||46273<=y&&y<=46299||46301<=y&&y<=46327||46329<=y&&y<=46355||46357<=y&&y<=46383||46385<=y&&y<=46411||46413<=y&&y<=46439||46441<=y&&y<=46467||46469<=y&&y<=46495||46497<=y&&y<=46523||46525<=y&&y<=46551||46553<=y&&y<=46579||46581<=y&&y<=46607||46609<=y&&y<=46635||46637<=y&&y<=46663||46665<=y&&y<=46691||46693<=y&&y<=46719||46721<=y&&y<=46747||46749<=y&&y<=46775||46777<=y&&y<=46803||46805<=y&&y<=46831||46833<=y&&y<=46859||46861<=y&&y<=46887||46889<=y&&y<=46915||46917<=y&&y<=46943||46945<=y&&y<=46971||46973<=y&&y<=46999||47001<=y&&y<=47027||47029<=y&&y<=47055||47057<=y&&y<=47083||47085<=y&&y<=47111||47113<=y&&y<=47139||47141<=y&&y<=47167||47169<=y&&y<=47195||47197<=y&&y<=47223||47225<=y&&y<=47251||47253<=y&&y<=47279||47281<=y&&y<=47307||47309<=y&&y<=47335||47337<=y&&y<=47363||47365<=y&&y<=47391||47393<=y&&y<=47419||47421<=y&&y<=47447||47449<=y&&y<=47475||47477<=y&&y<=47503||47505<=y&&y<=47531||47533<=y&&y<=47559||47561<=y&&y<=47587||47589<=y&&y<=47615||47617<=y&&y<=47643||47645<=y&&y<=47671||47673<=y&&y<=47699||47701<=y&&y<=47727||47729<=y&&y<=47755||47757<=y&&y<=47783||47785<=y&&y<=47811||47813<=y&&y<=47839||47841<=y&&y<=47867||47869<=y&&y<=47895||47897<=y&&y<=47923||47925<=y&&y<=47951||47953<=y&&y<=47979||47981<=y&&y<=48007||48009<=y&&y<=48035||48037<=y&&y<=48063||48065<=y&&y<=48091||48093<=y&&y<=48119||48121<=y&&y<=48147||48149<=y&&y<=48175||48177<=y&&y<=48203||48205<=y&&y<=48231||48233<=y&&y<=48259||48261<=y&&y<=48287||48289<=y&&y<=48315||48317<=y&&y<=48343||48345<=y&&y<=48371||48373<=y&&y<=48399||48401<=y&&y<=48427||48429<=y&&y<=48455||48457<=y&&y<=48483||48485<=y&&y<=48511||48513<=y&&y<=48539||48541<=y&&y<=48567||48569<=y&&y<=48595||48597<=y&&y<=48623||48625<=y&&y<=48651||48653<=y&&y<=48679||48681<=y&&y<=48707||48709<=y&&y<=48735||48737<=y&&y<=48763||48765<=y&&y<=48791||48793<=y&&y<=48819||48821<=y&&y<=48847||48849<=y&&y<=48875||48877<=y&&y<=48903||48905<=y&&y<=48931||48933<=y&&y<=48959||48961<=y&&y<=48987||48989<=y&&y<=49015||49017<=y&&y<=49043||49045<=y&&y<=49071||49073<=y&&y<=49099||49101<=y&&y<=49127||49129<=y&&y<=49155||49157<=y&&y<=49183||49185<=y&&y<=49211||49213<=y&&y<=49239||49241<=y&&y<=49267||49269<=y&&y<=49295||49297<=y&&y<=49323||49325<=y&&y<=49351||49353<=y&&y<=49379||49381<=y&&y<=49407||49409<=y&&y<=49435||49437<=y&&y<=49463||49465<=y&&y<=49491||49493<=y&&y<=49519||49521<=y&&y<=49547||49549<=y&&y<=49575||49577<=y&&y<=49603||49605<=y&&y<=49631||49633<=y&&y<=49659||49661<=y&&y<=49687||49689<=y&&y<=49715||49717<=y&&y<=49743||49745<=y&&y<=49771||49773<=y&&y<=49799||49801<=y&&y<=49827||49829<=y&&y<=49855||49857<=y&&y<=49883||49885<=y&&y<=49911||49913<=y&&y<=49939||49941<=y&&y<=49967||49969<=y&&y<=49995||49997<=y&&y<=50023||50025<=y&&y<=50051||50053<=y&&y<=50079||50081<=y&&y<=50107||50109<=y&&y<=50135||50137<=y&&y<=50163||50165<=y&&y<=50191||50193<=y&&y<=50219||50221<=y&&y<=50247||50249<=y&&y<=50275||50277<=y&&y<=50303||50305<=y&&y<=50331||50333<=y&&y<=50359||50361<=y&&y<=50387||50389<=y&&y<=50415||50417<=y&&y<=50443||50445<=y&&y<=50471||50473<=y&&y<=50499||50501<=y&&y<=50527||50529<=y&&y<=50555||50557<=y&&y<=50583||50585<=y&&y<=50611||50613<=y&&y<=50639||50641<=y&&y<=50667||50669<=y&&y<=50695||50697<=y&&y<=50723||50725<=y&&y<=50751||50753<=y&&y<=50779||50781<=y&&y<=50807||50809<=y&&y<=50835||50837<=y&&y<=50863||50865<=y&&y<=50891||50893<=y&&y<=50919||50921<=y&&y<=50947||50949<=y&&y<=50975||50977<=y&&y<=51003||51005<=y&&y<=51031||51033<=y&&y<=51059||51061<=y&&y<=51087||51089<=y&&y<=51115||51117<=y&&y<=51143||51145<=y&&y<=51171||51173<=y&&y<=51199||51201<=y&&y<=51227||51229<=y&&y<=51255||51257<=y&&y<=51283||51285<=y&&y<=51311||51313<=y&&y<=51339||51341<=y&&y<=51367||51369<=y&&y<=51395||51397<=y&&y<=51423||51425<=y&&y<=51451||51453<=y&&y<=51479||51481<=y&&y<=51507||51509<=y&&y<=51535||51537<=y&&y<=51563||51565<=y&&y<=51591||51593<=y&&y<=51619||51621<=y&&y<=51647||51649<=y&&y<=51675||51677<=y&&y<=51703||51705<=y&&y<=51731||51733<=y&&y<=51759||51761<=y&&y<=51787||51789<=y&&y<=51815||51817<=y&&y<=51843||51845<=y&&y<=51871||51873<=y&&y<=51899||51901<=y&&y<=51927||51929<=y&&y<=51955||51957<=y&&y<=51983||51985<=y&&y<=52011||52013<=y&&y<=52039||52041<=y&&y<=52067||52069<=y&&y<=52095||52097<=y&&y<=52123||52125<=y&&y<=52151||52153<=y&&y<=52179||52181<=y&&y<=52207||52209<=y&&y<=52235||52237<=y&&y<=52263||52265<=y&&y<=52291||52293<=y&&y<=52319||52321<=y&&y<=52347||52349<=y&&y<=52375||52377<=y&&y<=52403||52405<=y&&y<=52431||52433<=y&&y<=52459||52461<=y&&y<=52487||52489<=y&&y<=52515||52517<=y&&y<=52543||52545<=y&&y<=52571||52573<=y&&y<=52599||52601<=y&&y<=52627||52629<=y&&y<=52655||52657<=y&&y<=52683||52685<=y&&y<=52711||52713<=y&&y<=52739||52741<=y&&y<=52767||52769<=y&&y<=52795||52797<=y&&y<=52823||52825<=y&&y<=52851||52853<=y&&y<=52879||52881<=y&&y<=52907||52909<=y&&y<=52935||52937<=y&&y<=52963||52965<=y&&y<=52991||52993<=y&&y<=53019||53021<=y&&y<=53047||53049<=y&&y<=53075||53077<=y&&y<=53103||53105<=y&&y<=53131||53133<=y&&y<=53159||53161<=y&&y<=53187||53189<=y&&y<=53215||53217<=y&&y<=53243||53245<=y&&y<=53271||53273<=y&&y<=53299||53301<=y&&y<=53327||53329<=y&&y<=53355||53357<=y&&y<=53383||53385<=y&&y<=53411||53413<=y&&y<=53439||53441<=y&&y<=53467||53469<=y&&y<=53495||53497<=y&&y<=53523||53525<=y&&y<=53551||53553<=y&&y<=53579||53581<=y&&y<=53607||53609<=y&&y<=53635||53637<=y&&y<=53663||53665<=y&&y<=53691||53693<=y&&y<=53719||53721<=y&&y<=53747||53749<=y&&y<=53775||53777<=y&&y<=53803||53805<=y&&y<=53831||53833<=y&&y<=53859||53861<=y&&y<=53887||53889<=y&&y<=53915||53917<=y&&y<=53943||53945<=y&&y<=53971||53973<=y&&y<=53999||54001<=y&&y<=54027||54029<=y&&y<=54055||54057<=y&&y<=54083||54085<=y&&y<=54111||54113<=y&&y<=54139||54141<=y&&y<=54167||54169<=y&&y<=54195||54197<=y&&y<=54223||54225<=y&&y<=54251||54253<=y&&y<=54279||54281<=y&&y<=54307||54309<=y&&y<=54335||54337<=y&&y<=54363||54365<=y&&y<=54391||54393<=y&&y<=54419||54421<=y&&y<=54447||54449<=y&&y<=54475||54477<=y&&y<=54503||54505<=y&&y<=54531||54533<=y&&y<=54559||54561<=y&&y<=54587||54589<=y&&y<=54615||54617<=y&&y<=54643||54645<=y&&y<=54671||54673<=y&&y<=54699||54701<=y&&y<=54727||54729<=y&&y<=54755||54757<=y&&y<=54783||54785<=y&&y<=54811||54813<=y&&y<=54839||54841<=y&&y<=54867||54869<=y&&y<=54895||54897<=y&&y<=54923||54925<=y&&y<=54951||54953<=y&&y<=54979||54981<=y&&y<=55007||55009<=y&&y<=55035||55037<=y&&y<=55063||55065<=y&&y<=55091||55093<=y&&y<=55119||55121<=y&&y<=55147||55149<=y&&y<=55175||55177<=y&&y<=55203?On:y==9757||y==9977||9994<=y&&y<=9997||y==127877||127938<=y&&y<=127940||y==127943||127946<=y&&y<=127948||128066<=y&&y<=128067||128070<=y&&y<=128080||y==128110||128112<=y&&y<=128120||y==128124||128129<=y&&y<=128131||128133<=y&&y<=128135||y==128170||128372<=y&&y<=128373||y==128378||y==128400||128405<=y&&y<=128406||128581<=y&&y<=128583||128587<=y&&y<=128591||y==128675||128692<=y&&y<=128694||y==128704||y==128716||129304<=y&&y<=129308||129310<=y&&y<=129311||y==129318||129328<=y&&y<=129337||129341<=y&&y<=129342||129489<=y&&y<=129501?Oi:127995<=y&&y<=127999?Vn:y==8205?Lt:y==9792||y==9794||9877<=y&&y<=9878||y==9992||y==10084||y==127752||y==127806||y==127859||y==127891||y==127908||y==127912||y==127979||y==127981||y==128139||128187<=y&&y<=128188||y==128295||y==128300||y==128488||y==128640||y==128658?De:128102<=y&&y<=128105?de:Bn}return this}Ke.exports&&(Ke.exports=Ue)}),o=new r,s=function(Ue,Ve,bt){for(var vt=o.iterateGraphemes(Ue.substring(Ve)),It="",Yt=0;Yt<bt-Ve;Yt++){var Ut=vt.next();if(It+=Ut.value,Ut.done)break}return It},a=function(Ke,Ue,Ve,bt,vt,It,Yt){return{start:{line:Ke,column:Ue,offset:Ve},end:{line:bt,column:vt,offset:It},source:Yt||null}},p=i(function(Ke,Ue){(function(Ve,bt){Ke.exports=bt()})(t,function(){var Ve="",bt,vt=It;function It(On,Bn){if(typeof On!="string")throw new TypeError("expected a string");if(Bn===1)return On;if(Bn===2)return On+On;var Tn=On.length*Bn;if(bt!==On||typeof bt>"u")bt=On,Ve="";else if(Ve.length>=Tn)return Ve.substr(0,Tn);for(;Tn>Ve.length&&Bn>1;)Bn&1&&(Ve+=On),Bn>>=1,On+=On;return Ve+=On,Ve=Ve.substr(0,Tn),Ve}var Yt=function(Bn,Tn,Oi){if(Bn==null||Tn==null)return Bn;var Vn=String(Bn),Lt=typeof Tn=="number"?Tn:parseInt(Tn,10);if(isNaN(Lt)||!isFinite(Lt))return Vn;var De=Vn.length;if(De>=Lt)return Vn;var de=String(Oi);de===""&&(de=" ");for(var oe=Lt-De;de.length<oe;)de+=de;var le=de.length>oe?de.substr(0,oe):de;return le+Vn},Ut=Object.assign||function(On){for(var Bn=1;Bn<arguments.length;Bn++){var Tn=arguments[Bn];for(var Oi in Tn)Object.prototype.hasOwnProperty.call(Tn,Oi)&&(On[Oi]=Tn[Oi])}return On};function on(On,Bn,Tn,Oi){var Vn=String(Bn),Lt=Yt(Vn,Tn," "),De=vt(" ",Oi.tabSize);return Lt+" | "+On.replace(/\t/g,De)}function Hn(On,Bn,Tn,Oi,Vn){return On.slice(Bn,Tn).map(function(Lt,De){return on(Lt,Bn+De+1,Oi,Vn)}).join(`
`)}var Wt={extraLines:2,tabSize:4},Gn=function(Bn,Tn,Oi,Vn){Vn=Ut({},Wt,Vn);var Lt=Bn.split(/\r\n?|\n|\f/),De=Math.max(1,Tn-Vn.extraLines)-1,de=Math.min(Tn+Vn.extraLines,Lt.length),oe=String(de).length,le=Hn(Lt,De,Tn,oe,Vn),me=on(Lt[Tn-1].substring(0,Oi-1),Tn,oe,Vn),Ie=vt(" ",me.length)+"^",Qe=Hn(Lt,Tn,de,oe,Vn);return[le,Ie,Qe].filter(Boolean).join(`
`)};return Gn})}),g=new Error().stack,_=function(Ke){var Ue=Object.create(SyntaxError.prototype);return Object.assign(Ue,Ke,{name:"SyntaxError"}),Object.defineProperty(Ue,"stack",{get:function(){return g?g.replace(/^(.+\n){1,3}/,String(Ue)+`
`):""}}),Ue},E=function(Ke,Ue,Ve,bt,vt){throw _({message:bt?Ke+`
`+p(Ue,bt,vt):Ke,rawMessage:Ke,source:Ve,line:bt,column:vt})},O={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(Ue){for(var Ve=arguments.length,bt=Array(Ve>1?Ve-1:0),vt=1;vt<Ve;vt++)bt[vt-1]=arguments[vt];return"Unexpected token <"+Ue+"> at "+bt.filter(Boolean).join(":")}},B={unexpectedSymbol:function(Ue){for(var Ve=arguments.length,bt=Array(Ve>1?Ve-1:0),vt=1;vt<Ve;vt++)bt[vt-1]=arguments[vt];return"Unexpected symbol <"+Ue+"> at "+bt.filter(Boolean).join(":")}},z={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},N={"{":z.LEFT_BRACE,"}":z.RIGHT_BRACE,"[":z.LEFT_BRACKET,"]":z.RIGHT_BRACKET,":":z.COLON,",":z.COMMA},Q={true:z.TRUE,false:z.FALSE,null:z.NULL},$={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},X={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},re={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ne(Ke){return Ke>="1"&&Ke<="9"}function V(Ke){return Ke>="0"&&Ke<="9"}function J(Ke){return V(Ke)||Ke>="a"&&Ke<="f"||Ke>="A"&&Ke<="F"}function W(Ke){return Ke==="e"||Ke==="E"}function he(Ke,Ue,Ve,bt){var vt=Ke.charAt(Ue);if(vt==="\r")Ue++,Ve++,bt=1,Ke.charAt(Ue)===`
`&&Ue++;else if(vt===`
`)Ue++,Ve++,bt=1;else if(vt==="	"||vt===" ")Ue++,bt++;else return null;return{index:Ue,line:Ve,column:bt}}function ge(Ke,Ue,Ve,bt){var vt=Ke.charAt(Ue);return vt in N?{type:N[vt],line:Ve,column:bt+1,index:Ue+1,value:null}:null}function ve(Ke,Ue,Ve,bt){for(var vt in Q)if(Q.hasOwnProperty(vt)&&Ke.substr(Ue,vt.length)===vt)return{type:Q[vt],line:Ve,column:bt+vt.length,index:Ue+vt.length,value:vt};return null}function _e(Ke,Ue,Ve,bt){for(var vt=Ue,It=$._START_;Ue<Ke.length;){var Yt=Ke.charAt(Ue);switch(It){case $._START_:{if(Yt==='"')Ue++,It=$.START_QUOTE_OR_CHAR;else return null;break}case $.START_QUOTE_OR_CHAR:{if(Yt==="\\")Ue++,It=$.ESCAPE;else{if(Yt==='"')return Ue++,{type:z.STRING,line:Ve,column:bt+Ue-vt,index:Ue,value:Ke.slice(vt,Ue)};Ue++}break}case $.ESCAPE:{if(Yt in X){if(Ue++,Yt==="u")for(var Ut=0;Ut<4;Ut++){var on=Ke.charAt(Ue);if(on&&J(on))Ue++;else return null}It=$.START_QUOTE_OR_CHAR}else return null;break}}}}function Me(Ke,Ue,Ve,bt){var vt=Ue,It=Ue,Yt=re._START_;e:for(;Ue<Ke.length;){var Ut=Ke.charAt(Ue);switch(Yt){case re._START_:{if(Ut==="-")Yt=re.MINUS;else if(Ut==="0")It=Ue+1,Yt=re.ZERO;else if(ne(Ut))It=Ue+1,Yt=re.DIGIT;else return null;break}case re.MINUS:{if(Ut==="0")It=Ue+1,Yt=re.ZERO;else if(ne(Ut))It=Ue+1,Yt=re.DIGIT;else return null;break}case re.ZERO:{if(Ut===".")Yt=re.POINT;else if(W(Ut))Yt=re.EXP;else break e;break}case re.DIGIT:{if(V(Ut))It=Ue+1;else if(Ut===".")Yt=re.POINT;else if(W(Ut))Yt=re.EXP;else break e;break}case re.POINT:{if(V(Ut))It=Ue+1,Yt=re.DIGIT_FRACTION;else break e;break}case re.DIGIT_FRACTION:{if(V(Ut))It=Ue+1;else if(W(Ut))Yt=re.EXP;else break e;break}case re.EXP:{if(Ut==="+"||Ut==="-")Yt=re.EXP_DIGIT_OR_SIGN;else if(V(Ut))It=Ue+1,Yt=re.EXP_DIGIT_OR_SIGN;else break e;break}case re.EXP_DIGIT_OR_SIGN:{if(V(Ut))It=Ue+1;else break e;break}}Ue++}return It>0?{type:z.NUMBER,line:Ve,column:bt+It-vt,index:It,value:Ke.slice(vt,It)}:null}var be=function(Ue,Ve){for(var bt=1,vt=1,It=0,Yt=[];It<Ue.length;){var Ut=[Ue,It,bt,vt],on=he.apply(void 0,Ut);if(on){It=on.index,bt=on.line,vt=on.column;continue}var Hn=ge.apply(void 0,Ut)||ve.apply(void 0,Ut)||_e.apply(void 0,Ut)||Me.apply(void 0,Ut);if(Hn){var Wt={type:Hn.type,value:Hn.value,loc:a(bt,vt,It,Hn.line,Hn.column,Hn.index,Ve.source)};Yt.push(Wt),It=Hn.index,bt=Hn.line,vt=Hn.column}else E(B.unexpectedSymbol(s(Ue,It,It+1),Ve.source,bt,vt),Ue,Ve.source,bt,vt)}return Yt},ze={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},Ce={_START_:0,KEY:1,COLON:2},Fe={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},ot={loc:!0,source:null};function mt(Ke,Ue,Ve){var bt=Ue.length>0?Ue[Ue.length-1].loc.end:{line:1,column:1};E(O.unexpectedEnd(),Ke,Ve.source,bt.line,bt.column)}function it(Ke){for(var Ue=0,Ve=0;Ve<4;Ve++)Ue=Ue*16+parseInt(Ke[Ve],16);return String.fromCharCode(Ue)}var ue={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},We=['"',"\\","/"];function tt(Ke){for(var Ue="",Ve=0;Ve<Ke.length;Ve++){var bt=Ke.charAt(Ve);if(bt==="\\"){Ve++;var vt=Ke.charAt(Ve);if(vt==="u")Ue+=it(Ke.substr(Ve+1,4)),Ve+=4;else if(We.indexOf(vt)!==-1)Ue+=vt;else if(vt in ue)Ue+=ue[vt];else break}else Ue+=bt}return Ue}function ke(Ke,Ue,Ve,bt){for(var vt=void 0,It={type:"Object",children:[]},Yt=ze._START_;Ve<Ue.length;){var Ut=Ue[Ve];switch(Yt){case ze._START_:{if(Ut.type===z.LEFT_BRACE)vt=Ut,Yt=ze.OPEN_OBJECT,Ve++;else return null;break}case ze.OPEN_OBJECT:{if(Ut.type===z.RIGHT_BRACE)return bt.loc&&(It.loc=a(vt.loc.start.line,vt.loc.start.column,vt.loc.start.offset,Ut.loc.end.line,Ut.loc.end.column,Ut.loc.end.offset,bt.source)),{value:It,index:Ve+1};var on=Et(Ke,Ue,Ve,bt);It.children.push(on.value),Yt=ze.PROPERTY,Ve=on.index;break}case ze.PROPERTY:{if(Ut.type===z.RIGHT_BRACE)return bt.loc&&(It.loc=a(vt.loc.start.line,vt.loc.start.column,vt.loc.start.offset,Ut.loc.end.line,Ut.loc.end.column,Ut.loc.end.offset,bt.source)),{value:It,index:Ve+1};Ut.type===z.COMMA?(Yt=ze.COMMA,Ve++):E(O.unexpectedToken(s(Ke,Ut.loc.start.offset,Ut.loc.end.offset),bt.source,Ut.loc.start.line,Ut.loc.start.column),Ke,bt.source,Ut.loc.start.line,Ut.loc.start.column);break}case ze.COMMA:{var Hn=Et(Ke,Ue,Ve,bt);Hn?(Ve=Hn.index,It.children.push(Hn.value),Yt=ze.PROPERTY):E(O.unexpectedToken(s(Ke,Ut.loc.start.offset,Ut.loc.end.offset),bt.source,Ut.loc.start.line,Ut.loc.start.column),Ke,bt.source,Ut.loc.start.line,Ut.loc.start.column);break}}}mt(Ke,Ue,bt)}function Et(Ke,Ue,Ve,bt){for(var vt=void 0,It={type:"Property",key:null,value:null},Yt=Ce._START_;Ve<Ue.length;){var Ut=Ue[Ve];switch(Yt){case Ce._START_:{if(Ut.type===z.STRING){var on={type:"Identifier",value:tt(Ke.slice(Ut.loc.start.offset+1,Ut.loc.end.offset-1)),raw:Ut.value};bt.loc&&(on.loc=Ut.loc),vt=Ut,It.key=on,Yt=Ce.KEY,Ve++}else return null;break}case Ce.KEY:{Ut.type===z.COLON?(Yt=Ce.COLON,Ve++):E(O.unexpectedToken(s(Ke,Ut.loc.start.offset,Ut.loc.end.offset),bt.source,Ut.loc.start.line,Ut.loc.start.column),Ke,bt.source,Ut.loc.start.line,Ut.loc.start.column);break}case Ce.COLON:{var Hn=Kt(Ke,Ue,Ve,bt);return It.value=Hn.value,bt.loc&&(It.loc=a(vt.loc.start.line,vt.loc.start.column,vt.loc.start.offset,Hn.value.loc.end.line,Hn.value.loc.end.column,Hn.value.loc.end.offset,bt.source)),{value:It,index:Hn.index}}}}}function gt(Ke,Ue,Ve,bt){for(var vt=void 0,It={type:"Array",children:[]},Yt=Fe._START_,Ut=void 0;Ve<Ue.length;)switch(Ut=Ue[Ve],Yt){case Fe._START_:{if(Ut.type===z.LEFT_BRACKET)vt=Ut,Yt=Fe.OPEN_ARRAY,Ve++;else return null;break}case Fe.OPEN_ARRAY:{if(Ut.type===z.RIGHT_BRACKET)return bt.loc&&(It.loc=a(vt.loc.start.line,vt.loc.start.column,vt.loc.start.offset,Ut.loc.end.line,Ut.loc.end.column,Ut.loc.end.offset,bt.source)),{value:It,index:Ve+1};var on=Kt(Ke,Ue,Ve,bt);Ve=on.index,It.children.push(on.value),Yt=Fe.VALUE;break}case Fe.VALUE:{if(Ut.type===z.RIGHT_BRACKET)return bt.loc&&(It.loc=a(vt.loc.start.line,vt.loc.start.column,vt.loc.start.offset,Ut.loc.end.line,Ut.loc.end.column,Ut.loc.end.offset,bt.source)),{value:It,index:Ve+1};Ut.type===z.COMMA?(Yt=Fe.COMMA,Ve++):E(O.unexpectedToken(s(Ke,Ut.loc.start.offset,Ut.loc.end.offset),bt.source,Ut.loc.start.line,Ut.loc.start.column),Ke,bt.source,Ut.loc.start.line,Ut.loc.start.column);break}case Fe.COMMA:{var Hn=Kt(Ke,Ue,Ve,bt);Ve=Hn.index,It.children.push(Hn.value),Yt=Fe.VALUE;break}}mt(Ke,Ue,bt)}function xt(Ke,Ue,Ve,bt){var vt=Ue[Ve],It=null;switch(vt.type){case z.STRING:{It=tt(Ke.slice(vt.loc.start.offset+1,vt.loc.end.offset-1));break}case z.NUMBER:{It=Number(vt.value);break}case z.TRUE:{It=!0;break}case z.FALSE:{It=!1;break}case z.NULL:{It=null;break}default:return null}var Yt={type:"Literal",value:It,raw:vt.value};return bt.loc&&(Yt.loc=vt.loc),{value:Yt,index:Ve+1}}function Kt(Ke,Ue,Ve,bt){var vt=Ue[Ve],It=xt.apply(void 0,arguments)||ke.apply(void 0,arguments)||gt.apply(void 0,arguments);if(It)return It;E(O.unexpectedToken(s(Ke,vt.loc.start.offset,vt.loc.end.offset),bt.source,vt.loc.start.line,vt.loc.start.column),Ke,bt.source,vt.loc.start.line,vt.loc.start.column)}var je=function(Ke,Ue){Ue=Object.assign({},ot,Ue);var Ve=be(Ke,Ue);Ve.length===0&&mt(Ke,Ve,Ue);var bt=Kt(Ke,Ve,0,Ue);if(bt.index===Ve.length)return bt.value;var vt=Ve[bt.index];E(O.unexpectedToken(s(Ke,vt.loc.start.offset,vt.loc.end.offset),Ue.source,vt.loc.start.line,vt.loc.start.column),Ke,Ue.source,vt.loc.start.line,vt.loc.start.column)};return je})}(v3)),v3.exports}var Wpe=Gpe();const Qpe=Bu(Wpe);function ui(){var n="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",e="799818f2992b2f8307763d856702ede3cf326f4d",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:12,column:16},end:{line:12,column:18}},3:{start:{line:13,column:2},end:{line:30,column:3}},4:{start:{line:14,column:4},end:{line:14,column:16}},5:{start:{line:16,column:23},end:{line:16,column:71}},6:{start:{line:17,column:4},end:{line:29,column:5}},7:{start:{line:18,column:18},end:{line:23,column:7}},8:{start:{line:24,column:6},end:{line:28,column:9}},9:{start:{line:31,column:2},end:{line:31,column:15}},10:{start:{line:33,column:0},end:{line:35,column:3}},11:{start:{line:34,column:2},end:{line:34,column:26}},12:{start:{line:36,column:0},end:{line:130,column:3}},13:{start:{line:37,column:16},end:{line:37,column:32}},14:{start:{line:38,column:22},end:{line:38,column:26}},15:{start:{line:39,column:2},end:{line:41,column:3}},16:{start:{line:40,column:4},end:{line:40,column:17}},17:{start:{line:42,column:14},end:{line:42,column:29}},18:{start:{line:43,column:16},end:{line:43,column:32}},19:{start:{line:45,column:4},end:{line:65,column:5}},20:{start:{line:46,column:6},end:{line:46,column:20}},21:{start:{line:47,column:11},end:{line:65,column:5}},22:{start:{line:48,column:6},end:{line:48,column:18}},23:{start:{line:49,column:11},end:{line:65,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:52,column:18},end:{line:52,column:25}},26:{start:{line:54,column:6},end:{line:63,column:7}},27:{start:{line:55,column:8},end:{line:55,column:41}},28:{start:{line:57,column:8},end:{line:59,column:11}},29:{start:{line:58,column:10},end:{line:58,column:101}},30:{start:{line:60,column:8},end:{line:62,column:9}},31:{start:{line:61,column:10},end:{line:61,column:34}},32:{start:{line:64,column:6},end:{line:64,column:63}},33:{start:{line:67,column:12},end:{line:67,column:16}},34:{start:{line:68,column:2},end:{line:99,column:3}},35:{start:{line:69,column:19},end:{line:79,column:6}},36:{start:{line:80,column:4},end:{line:94,column:5}},37:{start:{line:81,column:6},end:{line:93,column:8}},38:{start:{line:84,column:10},end:{line:84,column:76}},39:{start:{line:86,column:34},end:{line:86,column:85}},40:{start:{line:87,column:10},end:{line:91,column:12}},41:{start:{line:95,column:9},end:{line:99,column:3}},42:{start:{line:96,column:4},end:{line:96,column:56}},43:{start:{line:98,column:4},end:{line:98,column:50}},44:{start:{line:100,column:2},end:{line:128,column:3}},45:{start:{line:101,column:19},end:{line:101,column:28}},46:{start:{line:102,column:4},end:{line:127,column:7}},47:{start:{line:103,column:31},end:{line:103,column:36}},48:{start:{line:104,column:6},end:{line:126,column:7}},49:{start:{line:105,column:31},end:{line:105,column:64}},50:{start:{line:106,column:20},end:{line:110,column:9}},51:{start:{line:111,column:8},end:{line:111,column:24}},52:{start:{line:112,column:13},end:{line:126,column:7}},53:{start:{line:113,column:21},end:{line:113,column:83}},54:{start:{line:114,column:28},end:{line:114,column:64}},55:{start:{line:115,column:8},end:{line:118,column:9}},56:{start:{line:116,column:10},end:{line:116,column:69}},57:{start:{line:117,column:10},end:{line:117,column:17}},58:{start:{line:119,column:24},end:{line:119,column:35}},59:{start:{line:120,column:31},end:{line:120,column:34}},60:{start:{line:121,column:8},end:{line:125,column:11}},61:{start:{line:129,column:2},end:{line:129,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"tryToParse",decl:{start:{line:11,column:9},end:{line:11,column:19}},loc:{start:{line:11,column:26},end:{line:32,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:33,column:42},end:{line:33,column:43}},loc:{start:{line:33,column:52},end:{line:35,column:1}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:36,column:41},end:{line:36,column:42}},loc:{start:{line:36,column:62},end:{line:130,column:1}},line:36},4:{name:"getArrayPositionalFromAst",decl:{start:{line:44,column:11},end:{line:44,column:36}},loc:{start:{line:44,column:49},end:{line:66,column:3}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:57,column:37},end:{line:57,column:38}},loc:{start:{line:57,column:52},end:{line:59,column:9}},line:57},6:{name:"(anonymous_6)",decl:{start:{line:83,column:29},end:{line:83,column:30}},loc:{start:{line:83,column:38},end:{line:85,column:9}},line:83},7:{name:"(anonymous_7)",decl:{start:{line:85,column:15},end:{line:85,column:16}},loc:{start:{line:85,column:24},end:{line:92,column:9}},line:85},8:{name:"(anonymous_8)",decl:{start:{line:102,column:19},end:{line:102,column:20}},loc:{start:{line:102,column:30},end:{line:127,column:5}},line:102}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:29,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:39,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:39,column:2},end:{line:41,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},2:{loc:{start:{line:45,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:65,column:5}},{start:{line:47,column:11},end:{line:65,column:5}}],line:45},3:{loc:{start:{line:47,column:11},end:{line:65,column:5}},type:"if",locations:[{start:{line:47,column:11},end:{line:65,column:5}},{start:{line:49,column:11},end:{line:65,column:5}}],line:47},4:{loc:{start:{line:49,column:11},end:{line:65,column:5}},type:"if",locations:[{start:{line:49,column:11},end:{line:65,column:5}},{start:{line:51,column:11},end:{line:65,column:5}}],line:49},5:{loc:{start:{line:54,column:6},end:{line:63,column:7}},type:"if",locations:[{start:{line:54,column:6},end:{line:63,column:7}},{start:{line:56,column:13},end:{line:63,column:7}}],line:54},6:{loc:{start:{line:58,column:17},end:{line:58,column:100}},type:"binary-expr",locations:[{start:{line:58,column:17},end:{line:58,column:30}},{start:{line:58,column:34},end:{line:58,column:69}},{start:{line:58,column:73},end:{line:58,column:100}}],line:58},7:{loc:{start:{line:60,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:68,column:2},end:{line:99,column:3}},type:"if",locations:[{start:{line:68,column:2},end:{line:99,column:3}},{start:{line:95,column:9},end:{line:99,column:3}}],line:68},9:{loc:{start:{line:80,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},10:{loc:{start:{line:95,column:9},end:{line:99,column:3}},type:"if",locations:[{start:{line:95,column:9},end:{line:99,column:3}},{start:{line:97,column:9},end:{line:99,column:3}}],line:95},11:{loc:{start:{line:100,column:2},end:{line:128,column:3}},type:"if",locations:[{start:{line:100,column:2},end:{line:128,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},12:{loc:{start:{line:104,column:6},end:{line:126,column:7}},type:"if",locations:[{start:{line:104,column:6},end:{line:126,column:7}},{start:{line:112,column:13},end:{line:126,column:7}}],line:104},13:{loc:{start:{line:112,column:13},end:{line:126,column:7}},type:"if",locations:[{start:{line:112,column:13},end:{line:126,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:112},14:{loc:{start:{line:115,column:8},end:{line:118,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:118,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AAAA,SAAQ,aAAY;AACpB,OAAO,gBAAsC;AAC7C,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAGD,SAAS,WAAW,MAAc;AAEhC,QAAM,QAAkC,CAAC;AACzC,MAAI;AACF,UAAM,IAAI;AAAA,EACZ,SACM,KAAU;AAEd,UAAM,aAAa,IAAI,SAAS,EAAE,MAAM,0BAA0B;AAClE,QAAI,YAAY;AACd,YAAM,MAAM;AAAA,QACV,YAAY,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,QACtC,cAAc,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,QACxC,WAAW,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,QACrC,aAAa,SAAS,WAAW,CAAC,GAAG,EAAE;AAAA,MACzC;AAGA,YAAM,KAAK;AAAA,QACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,QACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,QACrD,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAEA,SAAO;AACT;AAEA,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,SAAO,WAAW,IAAI;AACxB,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAE9E,QAAM,QAAkC,WAAW,IAAI;AAEvD,QAAM,EAAC,QAAO,IAAI;AAElB,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"799818f2992b2f8307763d856702ede3cf326f4d"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return ui=function(){return s},s}ui();ui().s[0]++;mm.defineMode("mgl",(n,e)=>(ui().f[0]++,ui().s[1]++,mm.modes.javascript({...n,json:!0},e)));function lQ(n){ui().f[1]++;const e=(ui().s[2]++,[]);ui().s[3]++;try{ui().s[4]++,jpe.parse(n)}catch(t){const i=(ui().s[5]++,t.toString().match(/line (\d+), column (\d+)/));if(ui().s[6]++,i){ui().b[0][0]++;const r=(ui().s[7]++,{first_line:parseInt(i[1],10),first_column:parseInt(i[2],10),last_line:parseInt(i[1],10),last_column:parseInt(i[2],10)});ui().s[8]++,e.push({from:mm.Pos(r.first_line-1,r.first_column),to:mm.Pos(r.last_line-1,r.last_column),message:t})}else ui().b[0][1]++}return ui().s[9]++,e}ui().s[10]++;mm.registerHelper("lint","json",n=>(ui().f[2]++,ui().s[11]++,lQ(n)));ui().s[12]++;mm.registerHelper("lint","mgl",(n,e,t)=>{ui().f[3]++;const i=(ui().s[13]++,lQ(n)),{context:r}=(ui().s[14]++,e);if(ui().s[15]++,i.length>0)return ui().b[1][0]++,ui().s[16]++,i;ui().b[1][1]++;const o=(ui().s[17]++,Qpe(n)),s=(ui().s[18]++,JSON.parse(n));function a(g,_){if(ui().f[4]++,ui().s[19]++,g){if(ui().b[2][1]++,ui().s[21]++,_.length<1)return ui().b[3][0]++,ui().s[22]++,g;if(ui().b[3][1]++,ui().s[23]++,g.children){ui().b[4][1]++;const E=(ui().s[25]++,_[0]);let O;return ui().s[26]++,E.match(/^[0-9]+$/)?(ui().b[5][0]++,ui().s[27]++,O=g.children[_[0]]):(ui().b[5][1]++,ui().s[28]++,O=g.children.find(B=>(ui().f[5]++,ui().s[29]++,ui().b[6][0]++,B.key&&(ui().b[6][1]++,B.key.type==="Identifier")&&(ui().b[6][2]++,B.key.value===E))),ui().s[30]++,O?(ui().b[7][0]++,ui().s[31]++,O=O.value):ui().b[7][1]++),ui().s[32]++,a(O,_.slice(1))}else{ui().b[4][0]++,ui().s[24]++;return}}else{ui().b[2][0]++,ui().s[20]++;return}}let p=(ui().s[33]++,null);if(ui().s[34]++,r==="layer"){ui().b[8][0]++;const g=(ui().s[35]++,Wf({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[s]}));ui().s[36]++,g?(ui().b[9][0]++,ui().s[37]++,p={result:"error",value:g.filter(_=>(ui().f[6]++,ui().s[38]++,!_.message.match(/^layers\[0\]: source ".*" not found$/))).map(_=>{ui().f[7]++;const E=(ui().s[39]++,_.message.replace(/^layers\[0\]./,"").split(":"));return ui().s[40]++,{name:"",key:E[0],message:E[1]}})}):ui().b[9][1]++}else if(ui().b[8][1]++,ui().s[41]++,r==="expression")ui().b[10][0]++,ui().s[42]++,p=sX.createExpression(s,e.spec);else throw ui().b[10][1]++,ui().s[43]++,new Error(`Invalid context ${r}`);if(ui().s[44]++,p?.result==="error"){ui().b[11][0]++;const g=(ui().s[45]++,p.value);ui().s[46]++,g.forEach(_=>{ui().f[8]++;const{key:E,message:O}=(ui().s[47]++,_);if(ui().s[48]++,E)if(ui().b[12][1]++,ui().s[52]++,E){ui().b[13][0]++;const B=(ui().s[53]++,E.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),z=(ui().s[54]++,a(o,B));if(ui().s[55]++,z)ui().b[14][1]++;else{ui().b[14][0]++,ui().s[56]++,console.warn("Something went wrong parsing error:",_),ui().s[57]++;return}const{loc:N}=(ui().s[58]++,z),{start:Q,end:$}=(ui().s[59]++,N);ui().s[60]++,i.push({from:mm.Pos(Q.line-1,Q.column),to:mm.Pos($.line-1,$.column),message:O})}else ui().b[13][1]++;else{ui().b[12][0]++;const B=(ui().s[49]++,t.getLineHandle(t.lastLine())),z=(ui().s[50]++,{from:mm.Pos(t.firstLine(),0),to:mm.Pos(t.lastLine(),B.text.length),message:O});ui().s[51]++,i.push(z)}})}else ui().b[11][1]++;return ui().s[61]++,i});function vi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",e="5100029c5bc3e8b6981ab23ce8d4ba04e7ce73ec",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:14,column:24},end:{line:29,column:3}},1:{start:{line:19,column:6},end:{line:19,column:65}},2:{start:{line:32,column:8},end:{line:32,column:12}},3:{start:{line:33,column:22},end:{line:33,column:27}},4:{start:{line:35,column:4},end:{line:35,column:17}},5:{start:{line:36,column:4},end:{line:36,column:32}},6:{start:{line:37,column:4},end:{line:41,column:6}},7:{start:{line:44,column:4},end:{line:60,column:7}},8:{start:{line:61,column:4},end:{line:61,column:42}},9:{start:{line:62,column:4},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:38}},11:{start:{line:65,column:18},end:{line:67,column:3}},12:{start:{line:66,column:4},end:{line:66,column:31}},13:{start:{line:68,column:12},end:{line:74,column:3}},14:{start:{line:69,column:4},end:{line:69,column:49}},15:{start:{line:69,column:28},end:{line:69,column:49}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:82,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:77,column:47}},20:{start:{line:77,column:27},end:{line:77,column:47}},21:{start:{line:78,column:4},end:{line:81,column:7}},22:{start:{line:84,column:4},end:{line:84,column:43}},23:{start:{line:85,column:4},end:{line:85,column:41}},24:{start:{line:86,column:4},end:{line:86,column:39}},25:{start:{line:89,column:4},end:{line:94,column:5}},26:{start:{line:90,column:6},end:{line:90,column:36}},27:{start:{line:91,column:6},end:{line:93,column:8}},28:{start:{line:96,column:13},end:{line:123,column:3}},29:{start:{line:97,column:4},end:{line:103,column:5}},30:{start:{line:98,column:6},end:{line:98,column:37}},31:{start:{line:99,column:6},end:{line:101,column:9}},32:{start:{line:102,column:6},end:{line:102,column:13}},33:{start:{line:104,column:20},end:{line:104,column:40}},34:{start:{line:105,column:4},end:{line:119,column:5}},35:{start:{line:107,column:6},end:{line:112,column:7}},36:{start:{line:108,column:8},end:{line:108,column:42}},37:{start:{line:110,column:8},end:{line:110,column:19}},38:{start:{line:111,column:8},end:{line:111,column:27}},39:{start:{line:113,column:6},end:{line:118,column:7}},40:{start:{line:114,column:8},end:{line:114,column:35}},41:{start:{line:116,column:8},end:{line:116,column:66}},42:{start:{line:116,column:33},end:{line:116,column:66}},43:{start:{line:117,column:8},end:{line:117,column:61}},44:{start:{line:117,column:36},end:{line:117,column:61}},45:{start:{line:120,column:4},end:{line:122,column:7}},46:{start:{line:125,column:14},end:{line:125,column:26}},47:{start:{line:126,column:28},end:{line:126,column:38}},48:{start:{line:127,column:18},end:{line:127,column:20}},49:{start:{line:128,column:4},end:{line:130,column:5}},50:{start:{line:129,column:6},end:{line:129,column:45}},51:{start:{line:131,column:4},end:{line:147,column:9}},52:{start:{line:142,column:12},end:{line:142,column:26}},53:{start:{line:150,column:18},end:{line:150,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:14},end:{line:18,column:15}},loc:{start:{line:18,column:24},end:{line:20,column:5}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:22,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:18},end:{line:24,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:25,column:19},end:{line:25,column:20}},loc:{start:{line:25,column:25},end:{line:26,column:5}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:27,column:17},end:{line:27,column:18}},loc:{start:{line:27,column:23},end:{line:28,column:5}},line:27},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:21},end:{line:42,column:3}},line:34},6:{name:"(anonymous_6)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:22},end:{line:64,column:3}},line:43},7:{name:"(anonymous_7)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:3}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:68,column:12},end:{line:68,column:13}},loc:{start:{line:68,column:18},end:{line:74,column:3}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:82,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:25},end:{line:87,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:32},end:{line:95,column:3}},line:88},12:{name:"(anonymous_12)",decl:{start:{line:96,column:13},end:{line:96,column:14}},loc:{start:{line:96,column:21},end:{line:123,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:124,column:2},end:{line:124,column:3}},loc:{start:{line:124,column:11},end:{line:148,column:3}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:141,column:15},end:{line:141,column:16}},loc:{start:{line:141,column:23},end:{line:143,column:11}},line:141}},branchMap:{0:{loc:{start:{line:46,column:12},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:46,column:12},end:{line:46,column:27}},{start:{line:46,column:31},end:{line:48,column:7}}],line:46},1:{loc:{start:{line:54,column:12},end:{line:56,column:7}},type:"binary-expr",locations:[{start:{line:54,column:12},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:56,column:7}}],line:54},2:{loc:{start:{line:69,column:4},end:{line:69,column:49}},type:"if",locations:[{start:{line:69,column:4},end:{line:69,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:77,column:4},end:{line:77,column:47}},type:"if",locations:[{start:{line:77,column:4},end:{line:77,column:47}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},5:{loc:{start:{line:89,column:8},end:{line:89,column:69}},type:"binary-expr",locations:[{start:{line:89,column:8},end:{line:89,column:29}},{start:{line:89,column:33},end:{line:89,column:69}}],line:89},6:{loc:{start:{line:97,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:103,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:97},7:{loc:{start:{line:105,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:105,column:4},end:{line:119,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:105},8:{loc:{start:{line:113,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:113,column:6},end:{line:118,column:7}},{start:{line:115,column:13},end:{line:118,column:7}}],line:113},9:{loc:{start:{line:113,column:10},end:{line:113,column:41}},type:"binary-expr",locations:[{start:{line:113,column:10},end:{line:113,column:13}},{start:{line:113,column:17},end:{line:113,column:41}}],line:113},10:{loc:{start:{line:116,column:8},end:{line:116,column:66}},type:"if",locations:[{start:{line:116,column:8},end:{line:116,column:66}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},11:{loc:{start:{line:117,column:8},end:{line:117,column:61}},type:"if",locations:[{start:{line:117,column:8},end:{line:117,column:61}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},12:{loc:{start:{line:128,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:128,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AA0KQ,SACQ,KADR;AA1KR,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAAmC;AAC1C,SAAS,OAA6B,uBAAuB;AAE7D,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA4BP,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM,OAAQ,MAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM,YAAa,MAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,0BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GACxF,+BAAC,SAAM,GAAM;AAAA;AAAA,QACL,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO;AAAC,iBAAK,MAAM;AAAA,UAAG;AAAA,UAC5B;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5100029c5bc3e8b6981ab23ce8d4ba04e7ce73ec"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return vi=function(){return s},s}vi();class Ype extends ii.Component{static defaultProps=(vi().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:e=>(vi().f[0]++,vi().s[1]++,sQ(e,{indent:2,maxLength:40})),onFocus:()=>{vi().f[1]++},onBlur:()=>{vi().f[2]++},onJSONInvalid:()=>{vi().f[3]++},onJSONValid:()=>{vi().f[4]++}});_keyEvent;_doc;_el=(vi().s[2]++,null);_cancelNextChange=(vi().s[3]++,!1);constructor(e){vi().f[5]++,vi().s[4]++,super(e),vi().s[5]++,this._keyEvent="keyboard",vi().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){vi().f[6]++,vi().s[7]++,this._doc=mm(this._el,{value:this.props.getValue(this.props.layer),mode:(vi().b[0][0]++,this.props.mode||(vi().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(vi().b[1][0]++,this.props.lint||(vi().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),vi().s[8]++,this._doc.on("change",this.onChange),vi().s[9]++,this._doc.on("focus",this.onFocus),vi().s[10]++,this._doc.on("blur",this.onBlur)}onPointerDown=(vi().s[11]++,()=>{vi().f[7]++,vi().s[12]++,this._keyEvent="pointer"});onFocus=(vi().s[13]++,()=>{vi().f[8]++,vi().s[14]++,this.props.onFocus?(vi().b[2][0]++,vi().s[15]++,this.props.onFocus()):vi().b[2][1]++,vi().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})});onBlur=(vi().s[17]++,()=>{vi().f[9]++,vi().s[18]++,this._keyEvent="keyboard",vi().s[19]++,this.props.onBlur?(vi().b[3][0]++,vi().s[20]++,this.props.onBlur()):vi().b[3][1]++,vi().s[21]++,this.setState({isEditing:!1,showMessage:!1})});componentWillUnMount(){vi().f[10]++,vi().s[22]++,this._doc.off("change",this.onChange),vi().s[23]++,this._doc.off("focus",this.onFocus),vi().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(e){vi().f[11]++,vi().s[25]++,vi().b[5][0]++,!this.state.isEditing&&(vi().b[5][1]++,e.layer!==this.props.layer)?(vi().b[4][0]++,vi().s[26]++,this._cancelNextChange=!0,vi().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):vi().b[4][1]++}onChange=(vi().s[28]++,e=>{if(vi().f[12]++,vi().s[29]++,this._cancelNextChange){vi().b[6][0]++,vi().s[30]++,this._cancelNextChange=!1,vi().s[31]++,this.setState({prevValue:this._doc.getValue()}),vi().s[32]++;return}else vi().b[6][1]++;const t=(vi().s[33]++,this._doc.getValue());if(vi().s[34]++,this.state.prevValue!==t){vi().b[7][0]++;let i,r;vi().s[35]++;try{vi().s[36]++,i=JSON.parse(t)}catch(o){vi().s[37]++,r=o,vi().s[38]++,console.warn(o)}vi().s[39]++,vi().b[9][0]++,r&&(vi().b[9][1]++,this.props.onJSONInvalid)?(vi().b[8][0]++,vi().s[40]++,this.props.onJSONInvalid()):(vi().b[8][1]++,vi().s[41]++,this.props.onChange?(vi().b[10][0]++,vi().s[42]++,this.props.onChange(i)):vi().b[10][1]++,vi().s[43]++,this.props.onJSONValid?(vi().b[11][0]++,vi().s[44]++,this.props.onJSONValid()):vi().b[11][1]++)}else vi().b[7][1]++;vi().s[45]++,this.setState({prevValue:t})});render(){vi().f[13]++;const e=(vi().s[46]++,this.props.t),{showMessage:t}=(vi().s[47]++,this.state),i=(vi().s[48]++,{});return vi().s[49]++,this.props.maxHeight?(vi().b[12][0]++,vi().s[50]++,i.maxHeight=this.props.maxHeight):vi().b[12][1]++,vi().s[51]++,Ae.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[Ae.jsx("div",{className:g0("JSONEditor__message",{"JSONEditor__message--on":t}),children:Ae.jsxs(Zg,{t:e,children:["Press ",Ae.jsx("kbd",{children:"ESC"})," to lose focus"]})}),Ae.jsx("div",{className:g0("codemirror-container",this.props.className),ref:r=>{vi().f[14]++,vi().s[52]++,this._el=r},style:i})]})}}const qpe=(vi().s[53]++,is()(Ype));function Mb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",e="ee4be309accf3b6f15b0a988cbdadd67c7132608",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:3,column:18},end:{line:5,column:1}},1:{start:{line:4,column:2},end:{line:4,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:18},end:{line:3,column:19}},loc:{start:{line:3,column:29},end:{line:5,column:1}},line:3}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AAOS;AAPT,OAAO,eAAsC;AAM7C,MAAM,YAAsC,CAAC,UAAU;AACrD,SAAO,oBAAC,aAAW,GAAG,OAAO;AAC/B;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ee4be309accf3b6f15b0a988cbdadd67c7132608"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Mb=function(){return s},s}Mb();Mb().s[0]++;const sI=n=>(Mb().f[0]++,Mb().s[1]++,Ae.jsx(qpe,{...n}));function wb(n){return Ka({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a2 2 0 0 0 2 2c2 0 2 -4 3 -9s1 -9 3 -9a2 2 0 0 1 2 2"},child:[]},{tag:"path",attr:{d:"M5 12h6"},child:[]},{tag:"path",attr:{d:"M15 12l6 6"},child:[]},{tag:"path",attr:{d:"M15 18l6 -6"},child:[]}]})(n)}function D4(n){return Ka({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64Zm12,76H216a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Zm104,40H40a12,12,0,0,0,0,24H144a12,12,0,0,0,0-24Zm88,0H220V168a12,12,0,0,0-24,0v12H184a12,12,0,0,0,0,24h12v12a12,12,0,0,0,24,0V204h12a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function oy(){var n="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",e="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return oy=function(){return s},s}oy();const lI=(oy().s[0]++,["all","any","none"]);oy().s[1]++;const Hpe=(oy().s[2]++,Object.keys(Jo.filter_operator.values).filter(n=>(oy().f[0]++,oy().s[3]++,lI.indexOf(n)<0)));function wr(){var n="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",e="d18e3b448d830733ac17bcacd45f7c08e364baa2",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:8,column:25}},1:{start:{line:8,column:16},end:{line:8,column:25}},2:{start:{line:9,column:2},end:{line:9,column:25}},3:{start:{line:9,column:16},end:{line:9,column:25}},4:{start:{line:10,column:2},end:{line:10,column:23}},5:{start:{line:13,column:19},end:{line:13,column:40}},6:{start:{line:14,column:2},end:{line:16,column:3}},7:{start:{line:15,column:4},end:{line:15,column:13}},8:{start:{line:17,column:2},end:{line:23,column:3}},9:{start:{line:18,column:4},end:{line:18,column:16}},10:{start:{line:19,column:9},end:{line:23,column:3}},11:{start:{line:20,column:4},end:{line:20,column:17}},12:{start:{line:22,column:4},end:{line:22,column:13}},13:{start:{line:26,column:2},end:{line:26,column:21}},14:{start:{line:27,column:2},end:{line:27,column:22}},15:{start:{line:28,column:2},end:{line:28,column:11}},16:{start:{line:31,column:24},end:{line:33,column:3}},17:{start:{line:35,column:20},end:{line:35,column:76}},18:{start:{line:36,column:4},end:{line:40,column:5}},19:{start:{line:37,column:6},end:{line:37,column:43}},20:{start:{line:38,column:11},end:{line:40,column:5}},21:{start:{line:39,column:6},end:{line:39,column:47}},22:{start:{line:41,column:4},end:{line:41,column:35}},23:{start:{line:44,column:14},end:{line:44,column:31}},24:{start:{line:45,column:21},end:{line:45,column:25}},25:{start:{line:46,column:25},end:{line:46,column:29}},26:{start:{line:47,column:23},end:{line:47,column:33}},27:{start:{line:48,column:4},end:{line:75,column:9}},28:{start:{line:54,column:72},end:{line:54,column:92}},29:{start:{line:55,column:41},end:{line:55,column:104}},30:{start:{line:63,column:37},end:{line:63,column:100}},31:{start:{line:72,column:27},end:{line:72,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:11,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:12,column:9},end:{line:12,column:21}},loc:{start:{line:12,column:25},end:{line:24,column:1}},line:12},2:{name:"parseFilter",decl:{start:{line:25,column:9},end:{line:25,column:20}},loc:{start:{line:25,column:24},end:{line:29,column:1}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:58},end:{line:42,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:76,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:54,column:58},end:{line:54,column:59}},loc:{start:{line:54,column:72},end:{line:54,column:92}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:55,column:20},end:{line:55,column:21}},loc:{start:{line:55,column:41},end:{line:55,column:104}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:63,column:20},end:{line:63,column:21}},loc:{start:{line:63,column:37},end:{line:63,column:100}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:27},end:{line:72,column:89}},line:72}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:25}},type:"if",locations:[{start:{line:8,column:2},end:{line:8,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:9,column:25}},type:"if",locations:[{start:{line:9,column:2},end:{line:9,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},2:{loc:{start:{line:14,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:16,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:14},3:{loc:{start:{line:17,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:23,column:3}},{start:{line:19,column:9},end:{line:23,column:3}}],line:17},4:{loc:{start:{line:19,column:9},end:{line:23,column:3}},type:"if",locations:[{start:{line:19,column:9},end:{line:23,column:3}},{start:{line:21,column:9},end:{line:23,column:3}}],line:19},5:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:38,column:11},end:{line:40,column:5}}],line:36},6:{loc:{start:{line:36,column:8},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:26}},{start:{line:36,column:30},end:{line:36,column:49}}],line:36},7:{loc:{start:{line:38,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},8:{loc:{start:{line:67,column:6},end:{line:74,column:10}},type:"binary-expr",locations:[{start:{line:67,column:6},end:{line:67,column:27}},{start:{line:67,column:47},end:{line:74,column:10}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM,GAAI,QAAO;AACrB,MAAI,MAAM,CAAW,EAAG,QAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d18e3b448d830733ac17bcacd45f7c08e364baa2"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return wr=function(){return s},s}wr();function Vpe(n){return wr().f[0]++,wr().s[0]++,n===""?(wr().b[0][0]++,wr().s[1]++,n):(wr().b[0][1]++,wr().s[2]++,isNaN(n)?(wr().b[1][0]++,wr().s[3]++,n):(wr().b[1][1]++,wr().s[4]++,parseFloat(n)))}function $pe(n){wr().f[1]++;const e=(wr().s[5]++,typeof n=="string");if(wr().s[6]++,e)wr().b[2][1]++;else return wr().b[2][0]++,wr().s[7]++,n;return wr().s[8]++,n.match(/^\s*true\s*$/)?(wr().b[3][0]++,wr().s[9]++,!0):(wr().b[3][1]++,wr().s[10]++,n.match(/^\s*false\s*$/)?(wr().b[4][0]++,wr().s[11]++,!1):(wr().b[4][1]++,wr().s[12]++,n))}function Zpe(n){return wr().f[2]++,wr().s[13]++,n=Vpe(n),wr().s[14]++,n=$pe(n),wr().s[15]++,n}class Xpe extends ii.Component{static defaultProps=(wr().s[16]++,{properties:{}});onFilterPartChanged(e,t,i){wr().f[3]++;let r=(wr().s[17]++,[e,t,...i.map(Zpe)]);wr().s[18]++,wr().b[6][0]++,e==="has"||(wr().b[6][1]++,e==="!has")?(wr().b[5][0]++,wr().s[19]++,r=[e,t]):(wr().b[5][1]++,wr().s[20]++,i.length===0?(wr().b[7][0]++,wr().s[21]++,r=[e,t,""]):wr().b[7][1]++),wr().s[22]++,this.props.onChange(r)}render(){wr().f[4]++;const e=(wr().s[23]++,this.props.filter),t=(wr().s[24]++,e[0]),i=(wr().s[25]++,e[1]),r=(wr().s[26]++,e.slice(2));return wr().s[27]++,Ae.jsxs("div",{className:"maputnik-filter-editor-single",children:[Ae.jsx("div",{className:"maputnik-filter-editor-property",children:Ae.jsx(Ax,{"aria-label":"key",value:i,options:Object.keys(this.props.properties).map(o=>(wr().f[5]++,wr().s[28]++,[o,o])),onChange:o=>(wr().f[6]++,wr().s[29]++,this.onFilterPartChanged(t,o,r))})}),Ae.jsx("div",{className:"maputnik-filter-editor-operator",children:Ae.jsx(xy,{"aria-label":"function",value:t,onChange:o=>(wr().f[7]++,wr().s[30]++,this.onFilterPartChanged(o,i,r)),options:Hpe})}),(wr().b[8][0]++,r.length>0&&(wr().b[8][1]++,Ae.jsx("div",{className:"maputnik-filter-editor-args",children:Ae.jsx(_m,{"aria-label":"value",value:r.join(","),onChange:o=>(wr().f[8]++,wr().s[31]++,this.onFilterPartChanged(t,i,o.split(",")))})})))]})}}function Hv(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",e="1beba484bbe354357d7ce4f43a423306cbd22032",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:20,column:9}},2:{start:{line:23,column:26},end:{line:23,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:21,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAYW,SACL,KADK;AAZX,OAAO,WAAuC;AAC9C,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAMtD,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,MACA,oBAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,qBAAqB;AAAA,UAE9B,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1beba484bbe354357d7ce4f43a423306cbd22032"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Hv=function(){return s},s}Hv();class Jpe extends ii.Component{render(){Hv().f[0]++;const e=(Hv().s[0]++,this.props.t);return Hv().s[1]++,Ae.jsxs("div",{className:"maputnik-filter-editor-block",children:[Ae.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children}),Ae.jsx("div",{className:"maputnik-filter-editor-block-action",children:Ae.jsx(Gs,{className:"maputnik-icon-button",onClick:this.props.onDelete,title:e("Delete filter block"),children:Ae.jsx(my,{})})})]})}}const eme=(Hv().s[2]++,is()(Jpe));var $M,BR;function tme(){if(BR)return $M;BR=1;var n="[object Symbol]",e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",r="\\ufe0e\\ufe0f",o="["+e+"]",s="["+t+i+"]",a="\\ud83c[\\udffb-\\udfff]",p="(?:"+s+"|"+a+")",g="[^"+e+"]",_="(?:\\ud83c[\\udde6-\\uddff]){2}",E="[\\ud800-\\udbff][\\udc00-\\udfff]",O="\\u200d",B=p+"?",z="["+r+"]?",N="(?:"+O+"(?:"+[g,_,E].join("|")+")"+z+B+")*",Q=z+B+N,$="(?:"+[g+s+"?",s,_,E,o].join("|")+")",X=RegExp(a+"(?="+a+")|"+$+Q,"g"),re=RegExp("["+O+e+t+i+r+"]"),ne=typeof window=="object"&&window&&window.Object===Object&&window,V=typeof self=="object"&&self&&self.Object===Object&&self,J=ne||V||Function("return this")();function W(gt){return gt.split("")}function he(gt){return re.test(gt)}function ge(gt){return he(gt)?ve(gt):W(gt)}function ve(gt){return gt.match(X)||[]}var _e=Object.prototype,Me=_e.toString,be=J.Symbol,ze=be?be.prototype:void 0,Ce=ze?ze.toString:void 0;function Fe(gt,xt,Kt){var je=-1,Ke=gt.length;xt<0&&(xt=-xt>Ke?0:Ke+xt),Kt=Kt>Ke?Ke:Kt,Kt<0&&(Kt+=Ke),Ke=xt>Kt?0:Kt-xt>>>0,xt>>>=0;for(var Ue=Array(Ke);++je<Ke;)Ue[je]=gt[je+xt];return Ue}function ot(gt){if(typeof gt=="string")return gt;if(We(gt))return Ce?Ce.call(gt):"";var xt=gt+"";return xt=="0"&&1/gt==-1/0?"-0":xt}function mt(gt,xt,Kt){var je=gt.length;return Kt=Kt===void 0?je:Kt,!xt&&Kt>=je?gt:Fe(gt,xt,Kt)}function it(gt){return function(xt){xt=tt(xt);var Kt=he(xt)?ge(xt):void 0,je=Kt?Kt[0]:xt.charAt(0),Ke=Kt?mt(Kt,1).join(""):xt.slice(1);return je[gt]()+Ke}}function ue(gt){return!!gt&&typeof gt=="object"}function We(gt){return typeof gt=="symbol"||ue(gt)&&Me.call(gt)==n}function tt(gt){return gt==null?"":ot(gt)}function ke(gt){return Et(tt(gt).toLowerCase())}var Et=it("toUpperCase");return $M=ke,$M}var nme=tme();const uI=Bu(nme);function Jm(){var n="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",e="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Jm=function(){return s},s}Jm();function R4(n){Jm().f[0]++;let e;const t=(Jm().s[0]++,n.split("-"));return Jm().s[1]++,t.length>1?(Jm().b[0][0]++,Jm().s[2]++,e=n.split("-").slice(1).join(" ")):(Jm().b[0][1]++,Jm().s[3]++,e=n),Jm().s[4]++,uI(e)}function wo(){var n="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",e="ae2b7dfa9369164c20e9fa45958548bc328a0068",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:11,column:24},end:{line:17,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:22,column:6}},3:{start:{line:24,column:18},end:{line:28,column:3}},4:{start:{line:25,column:4},end:{line:27,column:7}},5:{start:{line:29,column:16},end:{line:33,column:3}},6:{start:{line:30,column:4},end:{line:32,column:7}},7:{start:{line:35,column:64},end:{line:35,column:74}},8:{start:{line:36,column:26},end:{line:36,column:36}},9:{start:{line:37,column:25},end:{line:37,column:52}},10:{start:{line:38,column:42},end:{line:60,column:8}},11:{start:{line:61,column:21},end:{line:61,column:83}},12:{start:{line:62,column:23},end:{line:62,column:39}},13:{start:{line:63,column:26},end:{line:63,column:40}},14:{start:{line:64,column:24},end:{line:64,column:26}},15:{start:{line:66,column:6},end:{line:66,column:65}},16:{start:{line:68,column:4},end:{line:79,column:5}},17:{start:{line:69,column:6},end:{line:69,column:52}},18:{start:{line:71,column:6},end:{line:75,column:9}},19:{start:{line:72,column:8},end:{line:72,column:45}},20:{start:{line:74,column:8},end:{line:74,column:39}},21:{start:{line:76,column:6},end:{line:78,column:7}},22:{start:{line:77,column:8},end:{line:77,column:37}},23:{start:{line:80,column:4},end:{line:110,column:6}},24:{start:{line:113,column:27},end:{line:113,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:13},end:{line:13,column:14}},loc:{start:{line:13,column:19},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:15,column:12},end:{line:15,column:13}},loc:{start:{line:15,column:18},end:{line:16,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:23,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:24,column:18},end:{line:24,column:19}},loc:{start:{line:24,column:28},end:{line:28,column:3}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:29,column:16},end:{line:29,column:17}},loc:{start:{line:29,column:22},end:{line:33,column:3}},line:29},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:11},end:{line:111,column:3}},line:34},6:{name:"getValue",decl:{start:{line:65,column:13},end:{line:65,column:21}},loc:{start:{line:65,column:28},end:{line:67,column:5}},line:65},7:{name:"(anonymous_7)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:55},end:{line:73,column:7}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:73,column:17},end:{line:73,column:18}},loc:{start:{line:73,column:36},end:{line:75,column:7}},line:73}},branchMap:{0:{loc:{start:{line:37,column:25},end:{line:37,column:52}},type:"cond-expr",locations:[{start:{line:37,column:35},end:{line:37,column:45}},{start:{line:37,column:48},end:{line:37,column:52}}],line:37},1:{loc:{start:{line:39,column:6},end:{line:49,column:7}},type:"binary-expr",locations:[{start:{line:39,column:6},end:{line:39,column:23}},{start:{line:39,column:43},end:{line:49,column:7}}],line:39},2:{loc:{start:{line:61,column:21},end:{line:61,column:83}},type:"cond-expr",locations:[{start:{line:61,column:44},end:{line:61,column:53}},{start:{line:61,column:56},end:{line:61,column:83}}],line:61},3:{loc:{start:{line:68,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:79,column:5}},{start:{line:70,column:11},end:{line:79,column:5}}],line:68},4:{loc:{start:{line:76,column:6},end:{line:78,column:7}},type:"if",locations:[{start:{line:76,column:6},end:{line:78,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA6DM,mBASM,KATN;AA7DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAC5B,SAA+B,uBAAuB;AAEtD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC/D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAO,EAAE,wBAAwB;AAAA,UAEjC,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAO,EAAE,mBAAmB;AAAA,UAE5B,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,EAAE,mBAAmB,KAAK,MAAM,SAAS,CAAC;AAAA,QACjD,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AACvE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ae2b7dfa9369164c20e9fa45958548bc328a0068"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return wo=function(){return s},s}wo();class ime extends ii.Component{static defaultProps=(wo().s[0]++,{errors:{},onFocus:()=>{wo().f[0]++},onBlur:()=>{wo().f[1]++}});constructor(e){wo().f[2]++,wo().s[1]++,super(e),wo().s[2]++,this.state={jsonError:!1}}onJSONInvalid=(wo().s[3]++,e=>{wo().f[3]++,wo().s[4]++,this.setState({jsonError:!0})});onJSONValid=(wo().s[5]++,()=>{wo().f[4]++,wo().s[6]++,this.setState({jsonError:!1})});render(){wo().f[5]++;const{t:e,errors:t,fieldName:i,fieldType:r,value:o,canUndo:s}=(wo().s[7]++,this.props),{jsonError:a}=(wo().s[8]++,this.state),p=(wo().s[9]++,s?(wo().b[0][0]++,!s()):(wo().b[0][1]++,!0)),g=(wo().s[10]++,Ae.jsxs(Ae.Fragment,{children:[(wo().b[1][0]++,this.props.onUndo&&(wo().b[1][1]++,Ae.jsx(Gs,{onClick:this.props.onUndo,disabled:p,className:"maputnik-delete-stop",title:e("Revert from expression"),children:Ae.jsx(UJ,{})},"undo_action"))),Ae.jsx(Gs,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:e("Delete expression"),children:Ae.jsx(my,{})},"delete_action")]})),_=(wo().s[11]++,r===void 0?(wo().b[2][0]++,i):(wo().b[2][1]++,`${r}.${i}`)),E=(wo().s[12]++,t[_]),O=(wo().s[13]++,`${_}[`),B=(wo().s[14]++,[]);function z(N){return wo().f[6]++,wo().s[15]++,sQ(N,{indent:2,maxLength:38})}return wo().s[16]++,a?(wo().b[3][0]++,wo().s[17]++,B.push({message:"Invalid JSON"})):(wo().b[3][1]++,wo().s[18]++,Object.entries(t).filter(([N,Q])=>(wo().f[7]++,wo().s[19]++,N.startsWith(O))).forEach(([N,Q])=>(wo().f[8]++,wo().s[20]++,B.push(Q))),wo().s[21]++,E?(wo().b[4][0]++,wo().s[22]++,B.push(E)):wo().b[4][1]++),wo().s[23]++,Ae.jsx(js,{error:B,fieldSpec:this.props.fieldSpec,label:e(R4(this.props.fieldName)),action:g,wideMode:!0,children:Ae.jsx(sI,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:z,onChange:this.props.onChange})})}}const uQ=(wo().s[24]++,is()(ime));function Un(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",e="206fb987d284979cc37af4d291535ae617ff8412",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:17,column:17},end:{line:17,column:40}},1:{start:{line:18,column:2},end:{line:20,column:3}},2:{start:{line:19,column:4},end:{line:19,column:18}},3:{start:{line:21,column:20},end:{line:21,column:29}},4:{start:{line:22,column:16},end:{line:22,column:31}},5:{start:{line:23,column:2},end:{line:26,column:3}},6:{start:{line:24,column:4},end:{line:24,column:24}},7:{start:{line:25,column:4},end:{line:25,column:32}},8:{start:{line:27,column:2},end:{line:27,column:35}},9:{start:{line:30,column:2},end:{line:30,column:65}},10:{start:{line:33,column:2},end:{line:54,column:4}},11:{start:{line:56,column:19},end:{line:60,column:1}},12:{start:{line:62,column:2},end:{line:64,column:3}},13:{start:{line:63,column:4},end:{line:63,column:16}},14:{start:{line:65,column:21},end:{line:65,column:42}},15:{start:{line:66,column:2},end:{line:66,column:38}},16:{start:{line:69,column:2},end:{line:69,column:52}},17:{start:{line:72,column:2},end:{line:74,column:3}},18:{start:{line:73,column:4},end:{line:73,column:97}},19:{start:{line:73,column:38},end:{line:73,column:59}},20:{start:{line:73,column:75},end:{line:73,column:84}},21:{start:{line:75,column:2},end:{line:75,column:15}},22:{start:{line:78,column:24},end:{line:80,column:3}},23:{start:{line:82,column:4},end:{line:82,column:17}},24:{start:{line:83,column:4},end:{line:86,column:6}},25:{start:{line:90,column:22},end:{line:90,column:58}},26:{start:{line:91,column:4},end:{line:91,column:35}},27:{start:{line:92,column:4},end:{line:92,column:35}},28:{start:{line:95,column:22},end:{line:95,column:58}},29:{start:{line:96,column:4},end:{line:96,column:39}},30:{start:{line:97,column:4},end:{line:97,column:35}},31:{start:{line:99,column:18},end:{line:103,column:3}},32:{start:{line:100,column:26},end:{line:100,column:62}},33:{start:{line:101,column:4},end:{line:101,column:43}},34:{start:{line:102,column:4},end:{line:102,column:39}},35:{start:{line:104,column:16},end:{line:108,column:3}},36:{start:{line:105,column:4},end:{line:107,column:7}},37:{start:{line:109,column:15},end:{line:113,column:3}},38:{start:{line:110,column:4},end:{line:112,column:7}},39:{start:{line:114,column:19},end:{line:120,column:3}},40:{start:{line:115,column:19},end:{line:115,column:46}},41:{start:{line:116,column:4},end:{line:116,column:47}},42:{start:{line:117,column:4},end:{line:119,column:7}},43:{start:{line:122,column:32},end:{line:122,column:75}},44:{start:{line:123,column:4},end:{line:136,column:5}},45:{start:{line:124,column:6},end:{line:127,column:8}},46:{start:{line:128,column:11},end:{line:136,column:5}},47:{start:{line:129,column:6},end:{line:131,column:8}},48:{start:{line:133,column:6},end:{line:135,column:8}},49:{start:{line:139,column:26},end:{line:139,column:36}},50:{start:{line:140,column:36},end:{line:140,column:46}},51:{start:{line:141,column:22},end:{line:143,column:5}},52:{start:{line:144,column:26},end:{line:144,column:33}},53:{start:{line:145,column:36},end:{line:145,column:112}},54:{start:{line:146,column:4},end:{line:270,column:5}},55:{start:{line:147,column:6},end:{line:160,column:11}},56:{start:{line:161,column:11},end:{line:270,column:5}},57:{start:{line:162,column:21},end:{line:162,column:48}},58:{start:{line:163,column:26},end:{line:163,column:35}},59:{start:{line:164,column:22},end:{line:164,column:37}},60:{start:{line:165,column:38},end:{line:173,column:10}},61:{start:{line:174,column:27},end:{line:187,column:8}},62:{start:{line:175,column:22},end:{line:175,column:50}},63:{start:{line:176,column:8},end:{line:186,column:29}},64:{start:{line:188,column:6},end:{line:239,column:11}},65:{start:{line:199,column:33},end:{line:199,column:63}},66:{start:{line:241,column:25},end:{line:241,column:35}},67:{start:{line:242,column:6},end:{line:269,column:11}},68:{start:{line:247,column:14},end:{line:247,column:59}},69:{start:{line:248,column:14},end:{line:248,column:49}},70:{start:{line:273,column:21},end:{line:273,column:60}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:16,column:9},end:{line:16,column:24}},loc:{start:{line:16,column:32},end:{line:28,column:1}},line:16},1:{name:"migrateFilter",decl:{start:{line:29,column:9},end:{line:29,column:22}},loc:{start:{line:29,column:31},end:{line:31,column:1}},line:29},2:{name:"createStyleFromFilter",decl:{start:{line:32,column:9},end:{line:32,column:30}},loc:{start:{line:32,column:39},end:{line:55,column:1}},line:32},3:{name:"checkIfSimpleFilter",decl:{start:{line:61,column:9},end:{line:61,column:28}},loc:{start:{line:61,column:37},end:{line:67,column:1}},line:61},4:{name:"hasCombiningFilter",decl:{start:{line:68,column:9},end:{line:68,column:27}},loc:{start:{line:68,column:36},end:{line:70,column:1}},line:68},5:{name:"hasNestedCombiningFilter",decl:{start:{line:71,column:9},end:{line:71,column:33}},loc:{start:{line:71,column:42},end:{line:76,column:1}},line:71},6:{name:"(anonymous_6)",decl:{start:{line:73,column:31},end:{line:73,column:32}},loc:{start:{line:73,column:38},end:{line:73,column:59}},line:73},7:{name:"(anonymous_7)",decl:{start:{line:73,column:68},end:{line:73,column:69}},loc:{start:{line:73,column:75},end:{line:73,column:84}},line:73},8:{name:"(anonymous_8)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:21},end:{line:87,column:3}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:42},end:{line:93,column:3}},line:89},10:{name:"(anonymous_10)",decl:{start:{line:94,column:2},end:{line:94,column:3}},loc:{start:{line:94,column:30},end:{line:98,column:3}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:99,column:18},end:{line:99,column:19}},loc:{start:{line:99,column:24},end:{line:103,column:3}},line:99},12:{name:"(anonymous_12)",decl:{start:{line:104,column:16},end:{line:104,column:17}},loc:{start:{line:104,column:25},end:{line:108,column:3}},line:104},13:{name:"(anonymous_13)",decl:{start:{line:109,column:15},end:{line:109,column:16}},loc:{start:{line:109,column:21},end:{line:113,column:3}},line:109},14:{name:"(anonymous_14)",decl:{start:{line:114,column:19},end:{line:114,column:20}},loc:{start:{line:114,column:25},end:{line:120,column:3}},line:114},15:{name:"(anonymous_15)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:48},end:{line:137,column:3}},line:121},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:271,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:174,column:39},end:{line:174,column:40}},loc:{start:{line:174,column:51},end:{line:187,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:199,column:26},end:{line:199,column:27}},loc:{start:{line:199,column:33},end:{line:199,column:63}},line:199},19:{name:"(anonymous_19)",decl:{start:{line:246,column:22},end:{line:246,column:23}},loc:{start:{line:246,column:28},end:{line:249,column:13}},line:246}},branchMap:{0:{loc:{start:{line:17,column:17},end:{line:17,column:40}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:29}},{start:{line:17,column:33},end:{line:17,column:40}}],line:17},1:{loc:{start:{line:18,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:23,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:62,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:62,column:2},end:{line:64,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},4:{loc:{start:{line:62,column:6},end:{line:62,column:59}},type:"binary-expr",locations:[{start:{line:62,column:6},end:{line:62,column:25}},{start:{line:62,column:29},end:{line:62,column:59}}],line:62},5:{loc:{start:{line:72,column:2},end:{line:74,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:74,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},6:{loc:{start:{line:123,column:4},end:{line:136,column:5}},type:"if",locations:[{start:{line:123,column:4},end:{line:136,column:5}},{start:{line:128,column:11},end:{line:136,column:5}}],line:123},7:{loc:{start:{line:123,column:8},end:{line:123,column:66}},type:"binary-expr",locations:[{start:{line:123,column:8},end:{line:123,column:28}},{start:{line:123,column:32},end:{line:123,column:66}}],line:123},8:{loc:{start:{line:128,column:11},end:{line:136,column:5}},type:"if",locations:[{start:{line:128,column:11},end:{line:136,column:5}},{start:{line:132,column:11},end:{line:136,column:5}}],line:128},9:{loc:{start:{line:128,column:15},end:{line:128,column:73}},type:"binary-expr",locations:[{start:{line:128,column:15},end:{line:128,column:34}},{start:{line:128,column:38},end:{line:128,column:73}}],line:128},10:{loc:{start:{line:145,column:36},end:{line:145,column:112}},type:"binary-expr",locations:[{start:{line:145,column:36},end:{line:145,column:55}},{start:{line:145,column:59},end:{line:145,column:112}}],line:145},11:{loc:{start:{line:146,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:270,column:5}},{start:{line:161,column:11},end:{line:270,column:5}}],line:146},12:{loc:{start:{line:161,column:11},end:{line:270,column:5}},type:"if",locations:[{start:{line:161,column:11},end:{line:270,column:5}},{start:{line:240,column:11},end:{line:270,column:5}}],line:161},13:{loc:{start:{line:185,column:10},end:{line:185,column:119}},type:"binary-expr",locations:[{start:{line:185,column:10},end:{line:185,column:15}},{start:{line:185,column:35},end:{line:185,column:119}}],line:185},14:{loc:{start:{line:234,column:30},end:{line:234,column:62}},type:"cond-expr",locations:[{start:{line:234,column:51},end:{line:234,column:53}},{start:{line:234,column:56},end:{line:234,column:62}}],line:234},15:{loc:{start:{line:257,column:8},end:{line:268,column:12}},type:"binary-expr",locations:[{start:{line:257,column:8},end:{line:257,column:38}},{start:{line:257,column:58},end:{line:268,column:12}}],line:257}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AAiMQ,SAkDA,UAlDA,KAGA,YAHA;AAjMR,OAAO,WAAW;AAClB,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAE7C,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAC/B,SAA+B,uBAAuB;AAItD,SAAS,gBAAgB,OAAuF;AAC9G,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAuF;AACpH,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAAkC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,MAAM,wBAAwB,MAAM;AAC9D,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,MAAM,wBAAwB,OAAO;AACnE,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,EAAC,IAAI,KAAK;AACzB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OACE,YAAE,mCAAmC,GACxC;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAO,EAAE,uBAAuB;AAAA,YAEhC;AAAA,kCAAC,kBAAe;AAAA,cACf,EAAE,uBAAuB;AAAA;AAAA;AAAA,QAC5B;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAO,EAAE,uBAAuB;AAAA,UAChC,WAAU;AAAA,UAEV,8BAAC,kBAAe;AAAA;AAAA,MAClB,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO,EAAE,QAAQ;AAAA,YACjB,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS;AAAA,kBACP,CAAC,OAAO,EAAE,sBAAsB,CAAC;AAAA,kBACjC,CAAC,QAAQ,EAAE,mBAAmB,CAAC;AAAA,kBAC/B,CAAC,OAAO,EAAE,oBAAoB,CAAC;AAAA,gBACjC;AAAA;AAAA,YACF;AAAA;AAAA,UAbI;AAAA,QAcN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,kBACxD,EAAE,YAAY;AAAA;AAAA;AAAA,YACjB;AAAA;AAAA,UAVI;AAAA,QAWN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBACZ;AAAA,YAAE,qCAAqC;AAAA,UACvC;AAAA,UACD;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cAET,YAAE,0BAA0B;AAAA;AAAA,UAC/B;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"206fb987d284979cc37af4d291535ae617ff8412"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Un=function(){return s},s}Un();function Rg(n){Un().f[0]++;const e=(Un().s[0]++,Un().b[0][0]++,n.filter||(Un().b[0][1]++,["all"]));if(Un().s[1]++,Array.isArray(e))Un().b[1][1]++;else return Un().b[1][0]++,Un().s[2]++,e;let t=(Un().s[3]++,e[0]),i=(Un().s[4]++,e.slice(1));return Un().s[5]++,lI.indexOf(t)<0?(Un().b[2][0]++,Un().s[6]++,t="all",Un().s[7]++,i=[e.slice(0)]):Un().b[2][1]++,Un().s[8]++,[t,...i]}function rme(n){return Un().f[1]++,Un().s[9]++,aX(ome(n)).layers[0].filter}function ome(n){return Un().f[2]++,Un().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:n}]}}const ame=(Un().s[11]++,["all","any","none"]);function OR(n){if(Un().f[3]++,Un().s[12]++,Un().b[4][0]++,n.length===1&&(Un().b[4][1]++,ame.includes(n[0])))return Un().b[3][0]++,Un().s[13]++,!0;Un().b[3][1]++;const e=(Un().s[14]++,I_(n));return Un().s[15]++,!Kb.isEqual(e,n)}function IR(n){return Un().f[4]++,Un().s[16]++,lI.indexOf(n[0])>=0}function sme(n){return Un().f[5]++,Un().s[17]++,IR(n)?(Un().b[5][0]++,Un().s[18]++,n.slice(1).map(e=>(Un().f[6]++,Un().s[19]++,IR(e))).filter(e=>(Un().f[7]++,Un().s[20]++,e==!0)).length>0):(Un().b[5][1]++,Un().s[21]++,!1)}class lme extends ii.Component{static defaultProps=(Un().s[22]++,{filter:["all"]});constructor(e){Un().f[8]++,Un().s[23]++,super(e),Un().s[24]++,this.state={showDoc:!1,displaySimpleFilter:OR(Rg(e))}}onFilterPartChanged(e,t){Un().f[9]++;const i=(Un().s[25]++,Rg(this.props).slice(0));Un().s[26]++,i[e]=t,Un().s[27]++,this.props.onChange(i)}deleteFilterItem(e){Un().f[10]++;const t=(Un().s[28]++,Rg(this.props).slice(0));Un().s[29]++,t.splice(e+1,1),Un().s[30]++,this.props.onChange(t)}addFilterItem=(Un().s[31]++,()=>{Un().f[11]++;const e=(Un().s[32]++,Rg(this.props).slice(0));Un().s[33]++,e.push(["==","name",""]),Un().s[34]++,this.props.onChange(e)});onToggleDoc=(Un().s[35]++,e=>{Un().f[12]++,Un().s[36]++,this.setState({showDoc:e})});makeFilter=(Un().s[37]++,()=>{Un().f[13]++,Un().s[38]++,this.setState({displaySimpleFilter:!0})});makeExpression=(Un().s[39]++,()=>{Un().f[14]++;const e=(Un().s[40]++,Rg(this.props));Un().s[41]++,this.props.onChange(rme(e)),Un().s[42]++,this.setState({displaySimpleFilter:!1})});static getDerivedStateFromProps(e,t){Un().f[15]++;const i=(Un().s[43]++,OR(Rg(e)));return Un().s[44]++,Un().b[7][0]++,!i&&(Un().b[7][1]++,t.displaySimpleFilter===!0)?(Un().b[6][0]++,Un().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(Un().b[6][1]++,Un().s[46]++,Un().b[9][0]++,i&&(Un().b[9][1]++,t.displaySimpleFilter===!1)?(Un().b[8][0]++,Un().s[47]++,{valueIsSimpleFilter:!0}):(Un().b[8][1]++,Un().s[48]++,{valueIsSimpleFilter:!1}))}render(){Un().f[16]++;const{errors:e,t}=(Un().s[49]++,this.props),{displaySimpleFilter:i}=(Un().s[50]++,this.state),r=(Un().s[51]++,{doc:ts.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(Un().s[52]++,["all"]),s=(Un().s[53]++,Un().b[10][0]++,i&&(Un().b[10][1]++,sme(Rg(this.props))));if(Un().s[54]++,s)return Un().b[11][0]++,Un().s[55]++,Ae.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[Ae.jsx("p",{children:t("Nested filters are not supported.")}),Ae.jsxs(Gs,{onClick:this.makeExpression,title:t("Convert to expression"),children:[Ae.jsx(wb,{}),t("Upgrade to expression")]})]});if(Un().b[11][1]++,Un().s[56]++,i){Un().b[12][0]++;const a=(Un().s[57]++,Rg(this.props)),p=(Un().s[58]++,a[0]),g=(Un().s[59]++,a.slice(1)),_=(Un().s[60]++,Ae.jsx("div",{children:Ae.jsx(Gs,{onClick:this.makeExpression,title:t("Convert to expression"),className:"maputnik-make-zoom-function",children:Ae.jsx(wb,{})})})),E=(Un().s[61]++,g.map((O,B)=>{Un().f[17]++;const z=(Un().s[62]++,e[`filter[${B+1}]`]);return Un().s[63]++,Ae.jsxs("div",{children:[Ae.jsx(eme,{onDelete:this.deleteFilterItem.bind(this,B),children:Ae.jsx(Xpe,{properties:this.props.properties,filter:O,onChange:this.onFilterPartChanged.bind(this,B+1)})},B),(Un().b[13][0]++,z&&(Un().b[13][1]++,Ae.jsx("div",{className:"maputnik-inline-error",children:z.message},"error")))]},`block-${B}`)}));return Un().s[64]++,Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(js,{fieldSpec:r,label:t("Filter"),action:_,children:Ae.jsx(xy,{value:p,onChange:O=>(Un().f[18]++,Un().s[65]++,this.onFilterPartChanged(0,O)),options:[["all",t("every filter matches")],["none",t("no filter matches")],["any",t("any filter matches")]]})},"top"),E,Ae.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:Ae.jsxs(Gs,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[Ae.jsx(D4,{style:{verticalAlign:"text-bottom"}}),t("Add filter")]})},"buttons"),Ae.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Un().b[14][0]++,""):(Un().b[14][1]++,"none")},children:Ae.jsx(x4,{fieldSpec:r})},"doc")]})}else{Un().b[12][1]++;const{filter:a}=(Un().s[66]++,this.props);return Un().s[67]++,Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(uQ,{onDelete:()=>{Un().f[19]++,Un().s[68]++,this.setState({displaySimpleFilter:!0}),Un().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:r,value:a,errors:e,onChange:this.props.onChange}),(Un().b[15][0]++,this.state.valueIsSimpleFilter&&(Un().b[15][1]++,Ae.jsxs("div",{className:"maputnik-expr-infobox",children:[t("You've entered an old style filter.")," ",Ae.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:t("Switch to filter editor.")})]})))]})}}}const ume=(Un().s[70]++,is()(lme));var lv={},Vd={},uv={},ZM,TR;function AQ(){if(TR)return ZM;TR=1;var n=typeof window=="object"&&window&&window.Object===Object&&window;return ZM=n,ZM}var XM,kR;function Sm(){if(kR)return XM;kR=1;var n=AQ(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return XM=t,XM}var JM,DR;function cx(){if(DR)return JM;DR=1;var n=Sm(),e=n.Symbol;return JM=e,JM}var ew,RR;function Ame(){if(RR)return ew;RR=1;var n=cx(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,r=n?n.toStringTag:void 0;function o(s){var a=t.call(s,r),p=s[r];try{s[r]=void 0;var g=!0}catch{}var _=i.call(s);return g&&(a?s[r]=p:delete s[r]),_}return ew=o,ew}var tw,PR;function cme(){if(PR)return tw;PR=1;var n=Object.prototype,e=n.toString;function t(i){return e.call(i)}return tw=t,tw}var nw,UR;function My(){if(UR)return nw;UR=1;var n=cx(),e=Ame(),t=cme(),i="[object Null]",r="[object Undefined]",o=n?n.toStringTag:void 0;function s(a){return a==null?a===void 0?r:i:o&&o in Object(a)?e(a):t(a)}return nw=s,nw}var iw,KR;function Qf(){if(KR)return iw;KR=1;var n=Array.isArray;return iw=n,iw}var rw,LR;function _0(){if(LR)return rw;LR=1;function n(e){return e!=null&&typeof e=="object"}return rw=n,rw}var ow,FR;function hme(){if(FR)return ow;FR=1;var n=My(),e=Qf(),t=_0(),i="[object String]";function r(o){return typeof o=="string"||!e(o)&&t(o)&&n(o)==i}return ow=r,ow}var aw,zR;function dme(){if(zR)return aw;zR=1;function n(e){return function(t,i,r){for(var o=-1,s=Object(t),a=r(t),p=a.length;p--;){var g=a[e?p:++o];if(i(s[g],g,s)===!1)break}return t}}return aw=n,aw}var sw,jR;function cQ(){if(jR)return sw;jR=1;var n=dme(),e=n();return sw=e,sw}var lw,NR;function fme(){if(NR)return lw;NR=1;function n(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}return lw=n,lw}var uw,GR;function pme(){if(GR)return uw;GR=1;var n=My(),e=_0(),t="[object Arguments]";function i(r){return e(r)&&n(r)==t}return uw=i,uw}var Aw,WR;function AI(){if(WR)return Aw;WR=1;var n=pme(),e=_0(),t=Object.prototype,i=t.hasOwnProperty,r=t.propertyIsEnumerable,o=n(function(){return arguments}())?n:function(s){return e(s)&&i.call(s,"callee")&&!r.call(s,"callee")};return Aw=o,Aw}var C_={exports:{}},cw,QR;function mme(){if(QR)return cw;QR=1;function n(){return!1}return cw=n,cw}C_.exports;var YR;function P4(){return YR||(YR=1,function(n,e){var t=Sm(),i=mme(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===r,a=s?t.Buffer:void 0,p=a?a.isBuffer:void 0,g=p||i;n.exports=g}(C_,C_.exports)),C_.exports}var hw,qR;function cI(){if(qR)return hw;qR=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,r){var o=typeof i;return r=r??n,!!r&&(o=="number"||o!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return hw=t,hw}var dw,HR;function hI(){if(HR)return dw;HR=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return dw=e,dw}var fw,VR;function gme(){if(VR)return fw;VR=1;var n=My(),e=hI(),t=_0(),i="[object Arguments]",r="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",p="[object Function]",g="[object Map]",_="[object Number]",E="[object Object]",O="[object RegExp]",B="[object Set]",z="[object String]",N="[object WeakMap]",Q="[object ArrayBuffer]",$="[object DataView]",X="[object Float32Array]",re="[object Float64Array]",ne="[object Int8Array]",V="[object Int16Array]",J="[object Int32Array]",W="[object Uint8Array]",he="[object Uint8ClampedArray]",ge="[object Uint16Array]",ve="[object Uint32Array]",_e={};_e[X]=_e[re]=_e[ne]=_e[V]=_e[J]=_e[W]=_e[he]=_e[ge]=_e[ve]=!0,_e[i]=_e[r]=_e[Q]=_e[o]=_e[$]=_e[s]=_e[a]=_e[p]=_e[g]=_e[_]=_e[E]=_e[O]=_e[B]=_e[z]=_e[N]=!1;function Me(be){return t(be)&&e(be.length)&&!!_e[n(be)]}return fw=Me,fw}var pw,$R;function dI(){if($R)return pw;$R=1;function n(e){return function(t){return e(t)}}return pw=n,pw}var __={exports:{}};__.exports;var ZR;function fI(){return ZR||(ZR=1,function(n,e){var t=AQ(),i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,o=r&&r.exports===i,s=o&&t.process,a=function(){try{var p=r&&r.require&&r.require("util").types;return p||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a}(__,__.exports)),__.exports}var mw,XR;function pI(){if(XR)return mw;XR=1;var n=gme(),e=dI(),t=fI(),i=t&&t.isTypedArray,r=i?e(i):n;return mw=r,mw}var gw,JR;function hQ(){if(JR)return gw;JR=1;var n=fme(),e=AI(),t=Qf(),i=P4(),r=cI(),o=pI(),s=Object.prototype,a=s.hasOwnProperty;function p(g,_){var E=t(g),O=!E&&e(g),B=!E&&!O&&i(g),z=!E&&!O&&!B&&o(g),N=E||O||B||z,Q=N?n(g.length,String):[],$=Q.length;for(var X in g)(_||a.call(g,X))&&!(N&&(X=="length"||B&&(X=="offset"||X=="parent")||z&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||r(X,$)))&&Q.push(X);return Q}return gw=p,gw}var yw,eP;function mI(){if(eP)return yw;eP=1;var n=Object.prototype;function e(t){var i=t&&t.constructor,r=typeof i=="function"&&i.prototype||n;return t===r}return yw=e,yw}var vw,tP;function dQ(){if(tP)return vw;tP=1;function n(e,t){return function(i){return e(t(i))}}return vw=n,vw}var Cw,nP;function yme(){if(nP)return Cw;nP=1;var n=dQ(),e=n(Object.keys,Object);return Cw=e,Cw}var _w,iP;function vme(){if(iP)return _w;iP=1;var n=mI(),e=yme(),t=Object.prototype,i=t.hasOwnProperty;function r(o){if(!n(o))return e(o);var s=[];for(var a in Object(o))i.call(o,a)&&a!="constructor"&&s.push(a);return s}return _w=r,_w}var bw,rP;function Lp(){if(rP)return bw;rP=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return bw=n,bw}var xw,oP;function gI(){if(oP)return xw;oP=1;var n=My(),e=Lp(),t="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var p=n(a);return p==i||p==r||p==t||p==o}return xw=s,xw}var Mw,aP;function BC(){if(aP)return Mw;aP=1;var n=gI(),e=hI();function t(i){return i!=null&&e(i.length)&&!n(i)}return Mw=t,Mw}var ww,sP;function hx(){if(sP)return ww;sP=1;var n=hQ(),e=vme(),t=BC();function i(r){return t(r)?n(r):e(r)}return ww=i,ww}var Sw,lP;function fQ(){if(lP)return Sw;lP=1;var n=cQ(),e=hx();function t(i,r){return i&&n(i,r,e)}return Sw=t,Sw}var Ew,uP;function U4(){if(uP)return Ew;uP=1;function n(e){return e}return Ew=n,Ew}var Bw,AP;function pQ(){if(AP)return Bw;AP=1;var n=U4();function e(t){return typeof t=="function"?t:n}return Bw=e,Bw}var Ow,cP;function yI(){if(cP)return Ow;cP=1;var n=fQ(),e=pQ();function t(i,r){return i&&n(i,e(r))}return Ow=t,Ow}var Iw,hP;function vI(){if(hP)return Iw;hP=1;var n=dQ(),e=n(Object.getPrototypeOf,Object);return Iw=e,Iw}var Tw,dP;function mQ(){if(dP)return Tw;dP=1;var n=My(),e=vI(),t=_0(),i="[object Object]",r=Function.prototype,o=Object.prototype,s=r.toString,a=o.hasOwnProperty,p=s.call(Object);function g(_){if(!t(_)||n(_)!=i)return!1;var E=e(_);if(E===null)return!0;var O=a.call(E,"constructor")&&E.constructor;return typeof O=="function"&&O instanceof O&&s.call(O)==p}return Tw=g,Tw}var kw,fP;function gQ(){if(fP)return kw;fP=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,o=Array(r);++i<r;)o[i]=t(e[i],i,e);return o}return kw=n,kw}var Dw,pP;function Cme(){if(pP)return Dw;pP=1;function n(){this.__data__=[],this.size=0}return Dw=n,Dw}var Rw,mP;function dx(){if(mP)return Rw;mP=1;function n(e,t){return e===t||e!==e&&t!==t}return Rw=n,Rw}var Pw,gP;function K4(){if(gP)return Pw;gP=1;var n=dx();function e(t,i){for(var r=t.length;r--;)if(n(t[r][0],i))return r;return-1}return Pw=e,Pw}var Uw,yP;function _me(){if(yP)return Uw;yP=1;var n=K4(),e=Array.prototype,t=e.splice;function i(r){var o=this.__data__,s=n(o,r);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():t.call(o,s,1),--this.size,!0}return Uw=i,Uw}var Kw,vP;function bme(){if(vP)return Kw;vP=1;var n=K4();function e(t){var i=this.__data__,r=n(i,t);return r<0?void 0:i[r][1]}return Kw=e,Kw}var Lw,CP;function xme(){if(CP)return Lw;CP=1;var n=K4();function e(t){return n(this.__data__,t)>-1}return Lw=e,Lw}var Fw,_P;function Mme(){if(_P)return Fw;_P=1;var n=K4();function e(t,i){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,i])):r[o][1]=i,this}return Fw=e,Fw}var zw,bP;function L4(){if(bP)return zw;bP=1;var n=Cme(),e=_me(),t=bme(),i=xme(),r=Mme();function o(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var g=s[a];this.set(g[0],g[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,zw=o,zw}var jw,xP;function wme(){if(xP)return jw;xP=1;var n=L4();function e(){this.__data__=new n,this.size=0}return jw=e,jw}var Nw,MP;function Sme(){if(MP)return Nw;MP=1;function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Nw=n,Nw}var Gw,wP;function Eme(){if(wP)return Gw;wP=1;function n(e){return this.__data__.get(e)}return Gw=n,Gw}var Ww,SP;function Bme(){if(SP)return Ww;SP=1;function n(e){return this.__data__.has(e)}return Ww=n,Ww}var Qw,EP;function Ome(){if(EP)return Qw;EP=1;var n=Sm(),e=n["__core-js_shared__"];return Qw=e,Qw}var Yw,BP;function Ime(){if(BP)return Yw;BP=1;var n=Ome(),e=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return Yw=t,Yw}var qw,OP;function yQ(){if(OP)return qw;OP=1;var n=Function.prototype,e=n.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return qw=t,qw}var Hw,IP;function Tme(){if(IP)return Hw;IP=1;var n=gI(),e=Ime(),t=Lp(),i=yQ(),r=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,p=s.toString,g=a.hasOwnProperty,_=RegExp("^"+p.call(g).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(O){if(!t(O)||e(O))return!1;var B=n(O)?_:o;return B.test(i(O))}return Hw=E,Hw}var Vw,TP;function kme(){if(TP)return Vw;TP=1;function n(e,t){return e?.[t]}return Vw=n,Vw}var $w,kP;function wy(){if(kP)return $w;kP=1;var n=Tme(),e=kme();function t(i,r){var o=e(i,r);return n(o)?o:void 0}return $w=t,$w}var Zw,DP;function CI(){if(DP)return Zw;DP=1;var n=wy(),e=Sm(),t=n(e,"Map");return Zw=t,Zw}var Xw,RP;function F4(){if(RP)return Xw;RP=1;var n=wy(),e=n(Object,"create");return Xw=e,Xw}var Jw,PP;function Dme(){if(PP)return Jw;PP=1;var n=F4();function e(){this.__data__=n?n(null):{},this.size=0}return Jw=e,Jw}var eS,UP;function Rme(){if(UP)return eS;UP=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return eS=n,eS}var tS,KP;function Pme(){if(KP)return tS;KP=1;var n=F4(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function r(o){var s=this.__data__;if(n){var a=s[o];return a===e?void 0:a}return i.call(s,o)?s[o]:void 0}return tS=r,tS}var nS,LP;function Ume(){if(LP)return nS;LP=1;var n=F4(),e=Object.prototype,t=e.hasOwnProperty;function i(r){var o=this.__data__;return n?o[r]!==void 0:t.call(o,r)}return nS=i,nS}var iS,FP;function Kme(){if(FP)return iS;FP=1;var n=F4(),e="__lodash_hash_undefined__";function t(i,r){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=n&&r===void 0?e:r,this}return iS=t,iS}var rS,zP;function Lme(){if(zP)return rS;zP=1;var n=Dme(),e=Rme(),t=Pme(),i=Ume(),r=Kme();function o(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var g=s[a];this.set(g[0],g[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,rS=o,rS}var oS,jP;function Fme(){if(jP)return oS;jP=1;var n=Lme(),e=L4(),t=CI();function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return oS=i,oS}var aS,NP;function zme(){if(NP)return aS;NP=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return aS=n,aS}var sS,GP;function z4(){if(GP)return sS;GP=1;var n=zme();function e(t,i){var r=t.__data__;return n(i)?r[typeof i=="string"?"string":"hash"]:r.map}return sS=e,sS}var lS,WP;function jme(){if(WP)return lS;WP=1;var n=z4();function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}return lS=e,lS}var uS,QP;function Nme(){if(QP)return uS;QP=1;var n=z4();function e(t){return n(this,t).get(t)}return uS=e,uS}var AS,YP;function Gme(){if(YP)return AS;YP=1;var n=z4();function e(t){return n(this,t).has(t)}return AS=e,AS}var cS,qP;function Wme(){if(qP)return cS;qP=1;var n=z4();function e(t,i){var r=n(this,t),o=r.size;return r.set(t,i),this.size+=r.size==o?0:1,this}return cS=e,cS}var hS,HP;function _I(){if(HP)return hS;HP=1;var n=Fme(),e=jme(),t=Nme(),i=Gme(),r=Wme();function o(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var g=s[a];this.set(g[0],g[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,hS=o,hS}var dS,VP;function Qme(){if(VP)return dS;VP=1;var n=L4(),e=CI(),t=_I(),i=200;function r(o,s){var a=this.__data__;if(a instanceof n){var p=a.__data__;if(!e||p.length<i-1)return p.push([o,s]),this.size=++a.size,this;a=this.__data__=new t(p)}return a.set(o,s),this.size=a.size,this}return dS=r,dS}var fS,$P;function j4(){if($P)return fS;$P=1;var n=L4(),e=wme(),t=Sme(),i=Eme(),r=Bme(),o=Qme();function s(a){var p=this.__data__=new n(a);this.size=p.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,fS=s,fS}var pS,ZP;function Yme(){if(ZP)return pS;ZP=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return pS=e,pS}var mS,XP;function qme(){if(XP)return mS;XP=1;function n(e){return this.__data__.has(e)}return mS=n,mS}var gS,JP;function Hme(){if(JP)return gS;JP=1;var n=_I(),e=Yme(),t=qme();function i(r){var o=-1,s=r==null?0:r.length;for(this.__data__=new n;++o<s;)this.add(r[o])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,gS=i,gS}var yS,eU;function Vme(){if(eU)return yS;eU=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}return yS=n,yS}var vS,tU;function $me(){if(tU)return vS;tU=1;function n(e,t){return e.has(t)}return vS=n,vS}var CS,nU;function vQ(){if(nU)return CS;nU=1;var n=Hme(),e=Vme(),t=$me(),i=1,r=2;function o(s,a,p,g,_,E){var O=p&i,B=s.length,z=a.length;if(B!=z&&!(O&&z>B))return!1;var N=E.get(s),Q=E.get(a);if(N&&Q)return N==a&&Q==s;var $=-1,X=!0,re=p&r?new n:void 0;for(E.set(s,a),E.set(a,s);++$<B;){var ne=s[$],V=a[$];if(g)var J=O?g(V,ne,$,a,s,E):g(ne,V,$,s,a,E);if(J!==void 0){if(J)continue;X=!1;break}if(re){if(!e(a,function(W,he){if(!t(re,he)&&(ne===W||_(ne,W,p,g,E)))return re.push(he)})){X=!1;break}}else if(!(ne===V||_(ne,V,p,g,E))){X=!1;break}}return E.delete(s),E.delete(a),X}return CS=o,CS}var _S,iU;function CQ(){if(iU)return _S;iU=1;var n=Sm(),e=n.Uint8Array;return _S=e,_S}var bS,rU;function Zme(){if(rU)return bS;rU=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r,o){i[++t]=[o,r]}),i}return bS=n,bS}var xS,oU;function Xme(){if(oU)return xS;oU=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}return xS=n,xS}var MS,aU;function Jme(){if(aU)return MS;aU=1;var n=cx(),e=CQ(),t=dx(),i=vQ(),r=Zme(),o=Xme(),s=1,a=2,p="[object Boolean]",g="[object Date]",_="[object Error]",E="[object Map]",O="[object Number]",B="[object RegExp]",z="[object Set]",N="[object String]",Q="[object Symbol]",$="[object ArrayBuffer]",X="[object DataView]",re=n?n.prototype:void 0,ne=re?re.valueOf:void 0;function V(J,W,he,ge,ve,_e,Me){switch(he){case X:if(J.byteLength!=W.byteLength||J.byteOffset!=W.byteOffset)return!1;J=J.buffer,W=W.buffer;case $:return!(J.byteLength!=W.byteLength||!_e(new e(J),new e(W)));case p:case g:case O:return t(+J,+W);case _:return J.name==W.name&&J.message==W.message;case B:case N:return J==W+"";case E:var be=r;case z:var ze=ge&s;if(be||(be=o),J.size!=W.size&&!ze)return!1;var Ce=Me.get(J);if(Ce)return Ce==W;ge|=a,Me.set(J,W);var Fe=i(be(J),be(W),ge,ve,_e,Me);return Me.delete(J),Fe;case Q:if(ne)return ne.call(J)==ne.call(W)}return!1}return MS=V,MS}var wS,sU;function _Q(){if(sU)return wS;sU=1;function n(e,t){for(var i=-1,r=t.length,o=e.length;++i<r;)e[o+i]=t[i];return e}return wS=n,wS}var SS,lU;function bQ(){if(lU)return SS;lU=1;var n=_Q(),e=Qf();function t(i,r,o){var s=r(i);return e(i)?s:n(s,o(i))}return SS=t,SS}var ES,uU;function e0e(){if(uU)return ES;uU=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,o=0,s=[];++i<r;){var a=e[i];t(a,i,e)&&(s[o++]=a)}return s}return ES=n,ES}var BS,AU;function xQ(){if(AU)return BS;AU=1;function n(){return[]}return BS=n,BS}var OS,cU;function bI(){if(cU)return OS;cU=1;var n=e0e(),e=xQ(),t=Object.prototype,i=t.propertyIsEnumerable,r=Object.getOwnPropertySymbols,o=r?function(s){return s==null?[]:(s=Object(s),n(r(s),function(a){return i.call(s,a)}))}:e;return OS=o,OS}var IS,hU;function MQ(){if(hU)return IS;hU=1;var n=bQ(),e=bI(),t=hx();function i(r){return n(r,t,e)}return IS=i,IS}var TS,dU;function t0e(){if(dU)return TS;dU=1;var n=MQ(),e=1,t=Object.prototype,i=t.hasOwnProperty;function r(o,s,a,p,g,_){var E=a&e,O=n(o),B=O.length,z=n(s),N=z.length;if(B!=N&&!E)return!1;for(var Q=B;Q--;){var $=O[Q];if(!(E?$ in s:i.call(s,$)))return!1}var X=_.get(o),re=_.get(s);if(X&&re)return X==s&&re==o;var ne=!0;_.set(o,s),_.set(s,o);for(var V=E;++Q<B;){$=O[Q];var J=o[$],W=s[$];if(p)var he=E?p(W,J,$,s,o,_):p(J,W,$,o,s,_);if(!(he===void 0?J===W||g(J,W,a,p,_):he)){ne=!1;break}V||(V=$=="constructor")}if(ne&&!V){var ge=o.constructor,ve=s.constructor;ge!=ve&&"constructor"in o&&"constructor"in s&&!(typeof ge=="function"&&ge instanceof ge&&typeof ve=="function"&&ve instanceof ve)&&(ne=!1)}return _.delete(o),_.delete(s),ne}return TS=r,TS}var kS,fU;function n0e(){if(fU)return kS;fU=1;var n=wy(),e=Sm(),t=n(e,"DataView");return kS=t,kS}var DS,pU;function i0e(){if(pU)return DS;pU=1;var n=wy(),e=Sm(),t=n(e,"Promise");return DS=t,DS}var RS,mU;function r0e(){if(mU)return RS;mU=1;var n=wy(),e=Sm(),t=n(e,"Set");return RS=t,RS}var PS,gU;function o0e(){if(gU)return PS;gU=1;var n=wy(),e=Sm(),t=n(e,"WeakMap");return PS=t,PS}var US,yU;function N4(){if(yU)return US;yU=1;var n=n0e(),e=CI(),t=i0e(),i=r0e(),r=o0e(),o=My(),s=yQ(),a="[object Map]",p="[object Object]",g="[object Promise]",_="[object Set]",E="[object WeakMap]",O="[object DataView]",B=s(n),z=s(e),N=s(t),Q=s(i),$=s(r),X=o;return(n&&X(new n(new ArrayBuffer(1)))!=O||e&&X(new e)!=a||t&&X(t.resolve())!=g||i&&X(new i)!=_||r&&X(new r)!=E)&&(X=function(re){var ne=o(re),V=ne==p?re.constructor:void 0,J=V?s(V):"";if(J)switch(J){case B:return O;case z:return a;case N:return g;case Q:return _;case $:return E}return ne}),US=X,US}var KS,vU;function a0e(){if(vU)return KS;vU=1;var n=j4(),e=vQ(),t=Jme(),i=t0e(),r=N4(),o=Qf(),s=P4(),a=pI(),p=1,g="[object Arguments]",_="[object Array]",E="[object Object]",O=Object.prototype,B=O.hasOwnProperty;function z(N,Q,$,X,re,ne){var V=o(N),J=o(Q),W=V?_:r(N),he=J?_:r(Q);W=W==g?E:W,he=he==g?E:he;var ge=W==E,ve=he==E,_e=W==he;if(_e&&s(N)){if(!s(Q))return!1;V=!0,ge=!1}if(_e&&!ge)return ne||(ne=new n),V||a(N)?e(N,Q,$,X,re,ne):t(N,Q,W,$,X,re,ne);if(!($&p)){var Me=ge&&B.call(N,"__wrapped__"),be=ve&&B.call(Q,"__wrapped__");if(Me||be){var ze=Me?N.value():N,Ce=be?Q.value():Q;return ne||(ne=new n),re(ze,Ce,$,X,ne)}}return _e?(ne||(ne=new n),i(N,Q,$,X,re,ne)):!1}return KS=z,KS}var LS,CU;function wQ(){if(CU)return LS;CU=1;var n=a0e(),e=_0();function t(i,r,o,s,a){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:n(i,r,o,s,t,a)}return LS=t,LS}var FS,_U;function s0e(){if(_U)return FS;_U=1;var n=j4(),e=wQ(),t=1,i=2;function r(o,s,a,p){var g=a.length,_=g,E=!p;if(o==null)return!_;for(o=Object(o);g--;){var O=a[g];if(E&&O[2]?O[1]!==o[O[0]]:!(O[0]in o))return!1}for(;++g<_;){O=a[g];var B=O[0],z=o[B],N=O[1];if(E&&O[2]){if(z===void 0&&!(B in o))return!1}else{var Q=new n;if(p)var $=p(z,N,B,o,s,Q);if(!($===void 0?e(N,z,t|i,p,Q):$))return!1}}return!0}return FS=r,FS}var zS,bU;function SQ(){if(bU)return zS;bU=1;var n=Lp();function e(t){return t===t&&!n(t)}return zS=e,zS}var jS,xU;function l0e(){if(xU)return jS;xU=1;var n=SQ(),e=hx();function t(i){for(var r=e(i),o=r.length;o--;){var s=r[o],a=i[s];r[o]=[s,a,n(a)]}return r}return jS=t,jS}var NS,MU;function EQ(){if(MU)return NS;MU=1;function n(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return NS=n,NS}var GS,wU;function u0e(){if(wU)return GS;wU=1;var n=s0e(),e=l0e(),t=EQ();function i(r){var o=e(r);return o.length==1&&o[0][2]?t(o[0][0],o[0][1]):function(s){return s===r||n(s,r,o)}}return GS=i,GS}var WS,SU;function G4(){if(SU)return WS;SU=1;var n=My(),e=_0(),t="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&n(r)==t}return WS=i,WS}var QS,EU;function xI(){if(EU)return QS;EU=1;var n=Qf(),e=G4(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(o,s){if(n(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:i.test(o)||!t.test(o)||s!=null&&o in Object(s)}return QS=r,QS}var YS,BU;function A0e(){if(BU)return YS;BU=1;var n=_I(),e="Expected a function";function t(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var o=function(){var s=arguments,a=r?r.apply(this,s):s[0],p=o.cache;if(p.has(a))return p.get(a);var g=i.apply(this,s);return o.cache=p.set(a,g)||p,g};return o.cache=new(t.Cache||n),o}return t.Cache=n,YS=t,YS}var qS,OU;function c0e(){if(OU)return qS;OU=1;var n=A0e(),e=500;function t(i){var r=n(i,function(s){return o.size===e&&o.clear(),s}),o=r.cache;return r}return qS=t,qS}var HS,IU;function h0e(){if(IU)return HS;IU=1;var n=c0e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(e,function(s,a,p,g){o.push(p?g.replace(t,"$1"):a||s)}),o});return HS=i,HS}var VS,TU;function d0e(){if(TU)return VS;TU=1;var n=cx(),e=gQ(),t=Qf(),i=G4(),r=n?n.prototype:void 0,o=r?r.toString:void 0;function s(a){if(typeof a=="string")return a;if(t(a))return e(a,s)+"";if(i(a))return o?o.call(a):"";var p=a+"";return p=="0"&&1/a==-1/0?"-0":p}return VS=s,VS}var $S,kU;function f0e(){if(kU)return $S;kU=1;var n=d0e();function e(t){return t==null?"":n(t)}return $S=e,$S}var ZS,DU;function BQ(){if(DU)return ZS;DU=1;var n=Qf(),e=xI(),t=h0e(),i=f0e();function r(o,s){return n(o)?o:e(o,s)?[o]:t(i(o))}return ZS=r,ZS}var XS,RU;function W4(){if(RU)return XS;RU=1;var n=G4();function e(t){if(typeof t=="string"||n(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return XS=e,XS}var JS,PU;function OQ(){if(PU)return JS;PU=1;var n=BQ(),e=W4();function t(i,r){r=n(r,i);for(var o=0,s=r.length;i!=null&&o<s;)i=i[e(r[o++])];return o&&o==s?i:void 0}return JS=t,JS}var eE,UU;function p0e(){if(UU)return eE;UU=1;var n=OQ();function e(t,i,r){var o=t==null?void 0:n(t,i);return o===void 0?r:o}return eE=e,eE}var tE,KU;function m0e(){if(KU)return tE;KU=1;function n(e,t){return e!=null&&t in Object(e)}return tE=n,tE}var nE,LU;function g0e(){if(LU)return nE;LU=1;var n=BQ(),e=AI(),t=Qf(),i=cI(),r=hI(),o=W4();function s(a,p,g){p=n(p,a);for(var _=-1,E=p.length,O=!1;++_<E;){var B=o(p[_]);if(!(O=a!=null&&g(a,B)))break;a=a[B]}return O||++_!=E?O:(E=a==null?0:a.length,!!E&&r(E)&&i(B,E)&&(t(a)||e(a)))}return nE=s,nE}var iE,FU;function y0e(){if(FU)return iE;FU=1;var n=m0e(),e=g0e();function t(i,r){return i!=null&&e(i,r,n)}return iE=t,iE}var rE,zU;function v0e(){if(zU)return rE;zU=1;var n=wQ(),e=p0e(),t=y0e(),i=xI(),r=SQ(),o=EQ(),s=W4(),a=1,p=2;function g(_,E){return i(_)&&r(E)?o(s(_),E):function(O){var B=e(O,_);return B===void 0&&B===E?t(O,_):n(E,B,a|p)}}return rE=g,rE}var oE,jU;function C0e(){if(jU)return oE;jU=1;function n(e){return function(t){return t?.[e]}}return oE=n,oE}var aE,NU;function _0e(){if(NU)return aE;NU=1;var n=OQ();function e(t){return function(i){return n(i,t)}}return aE=e,aE}var sE,GU;function b0e(){if(GU)return sE;GU=1;var n=C0e(),e=_0e(),t=xI(),i=W4();function r(o){return t(o)?n(i(o)):e(o)}return sE=r,sE}var lE,WU;function x0e(){if(WU)return lE;WU=1;var n=u0e(),e=v0e(),t=U4(),i=Qf(),r=b0e();function o(s){return typeof s=="function"?s:s==null?t:typeof s=="object"?i(s)?e(s[0],s[1]):n(s):r(s)}return lE=o,lE}var uE,QU;function M0e(){if(QU)return uE;QU=1;var n=BC();function e(t,i){return function(r,o){if(r==null)return r;if(!n(r))return t(r,o);for(var s=r.length,a=i?s:-1,p=Object(r);(i?a--:++a<s)&&o(p[a],a,p)!==!1;);return r}}return uE=e,uE}var AE,YU;function IQ(){if(YU)return AE;YU=1;var n=fQ(),e=M0e(),t=e(n);return AE=t,AE}var cE,qU;function w0e(){if(qU)return cE;qU=1;var n=IQ(),e=BC();function t(i,r){var o=-1,s=e(i)?Array(i.length):[];return n(i,function(a,p,g){s[++o]=r(a,p,g)}),s}return cE=t,cE}var hE,HU;function S0e(){if(HU)return hE;HU=1;var n=gQ(),e=x0e(),t=w0e(),i=Qf();function r(o,s){var a=i(o)?n:t;return a(o,e(s,3))}return hE=r,hE}var VU;function E0e(){if(VU)return uv;VU=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.flattenNames=void 0;var n=hme(),e=p(n),t=yI(),i=p(t),r=mQ(),o=p(r),s=S0e(),a=p(s);function p(_){return _&&_.__esModule?_:{default:_}}var g=uv.flattenNames=function _(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=[];return(0,a.default)(E,function(B){Array.isArray(B)?_(B).map(function(z){return O.push(z)}):(0,o.default)(B)?(0,i.default)(B,function(z,N){z===!0&&O.push(N),O.push(N+"-"+z)}):(0,e.default)(B)&&O.push(B)}),O};return uv.default=g,uv}var Av={},dE,$U;function TQ(){if($U)return dE;$U=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r&&t(e[i],i,e)!==!1;);return e}return dE=n,dE}var fE,ZU;function kQ(){if(ZU)return fE;ZU=1;var n=wy(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return fE=e,fE}var pE,XU;function MI(){if(XU)return pE;XU=1;var n=kQ();function e(t,i,r){i=="__proto__"&&n?n(t,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[i]=r}return pE=e,pE}var mE,JU;function DQ(){if(JU)return mE;JU=1;var n=MI(),e=dx(),t=Object.prototype,i=t.hasOwnProperty;function r(o,s,a){var p=o[s];(!(i.call(o,s)&&e(p,a))||a===void 0&&!(s in o))&&n(o,s,a)}return mE=r,mE}var gE,eK;function fx(){if(eK)return gE;eK=1;var n=DQ(),e=MI();function t(i,r,o,s){var a=!o;o||(o={});for(var p=-1,g=r.length;++p<g;){var _=r[p],E=s?s(o[_],i[_],_,o,i):void 0;E===void 0&&(E=i[_]),a?e(o,_,E):n(o,_,E)}return o}return gE=t,gE}var yE,tK;function B0e(){if(tK)return yE;tK=1;var n=fx(),e=hx();function t(i,r){return i&&n(r,e(r),i)}return yE=t,yE}var vE,nK;function O0e(){if(nK)return vE;nK=1;function n(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return vE=n,vE}var CE,iK;function I0e(){if(iK)return CE;iK=1;var n=Lp(),e=mI(),t=O0e(),i=Object.prototype,r=i.hasOwnProperty;function o(s){if(!n(s))return t(s);var a=e(s),p=[];for(var g in s)g=="constructor"&&(a||!r.call(s,g))||p.push(g);return p}return CE=o,CE}var _E,rK;function px(){if(rK)return _E;rK=1;var n=hQ(),e=I0e(),t=BC();function i(r){return t(r)?n(r,!0):e(r)}return _E=i,_E}var bE,oK;function T0e(){if(oK)return bE;oK=1;var n=fx(),e=px();function t(i,r){return i&&n(r,e(r),i)}return bE=t,bE}var b_={exports:{}};b_.exports;var aK;function RQ(){return aK||(aK=1,function(n,e){var t=Sm(),i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,o=r&&r.exports===i,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function p(g,_){if(_)return g.slice();var E=g.length,O=a?a(E):new g.constructor(E);return g.copy(O),O}n.exports=p}(b_,b_.exports)),b_.exports}var xE,sK;function PQ(){if(sK)return xE;sK=1;function n(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}return xE=n,xE}var ME,lK;function k0e(){if(lK)return ME;lK=1;var n=fx(),e=bI();function t(i,r){return n(i,e(i),r)}return ME=t,ME}var wE,uK;function UQ(){if(uK)return wE;uK=1;var n=_Q(),e=vI(),t=bI(),i=xQ(),r=Object.getOwnPropertySymbols,o=r?function(s){for(var a=[];s;)n(a,t(s)),s=e(s);return a}:i;return wE=o,wE}var SE,AK;function D0e(){if(AK)return SE;AK=1;var n=fx(),e=UQ();function t(i,r){return n(i,e(i),r)}return SE=t,SE}var EE,cK;function R0e(){if(cK)return EE;cK=1;var n=bQ(),e=UQ(),t=px();function i(r){return n(r,t,e)}return EE=i,EE}var BE,hK;function P0e(){if(hK)return BE;hK=1;var n=Object.prototype,e=n.hasOwnProperty;function t(i){var r=i.length,o=new i.constructor(r);return r&&typeof i[0]=="string"&&e.call(i,"index")&&(o.index=i.index,o.input=i.input),o}return BE=t,BE}var OE,dK;function wI(){if(dK)return OE;dK=1;var n=CQ();function e(t){var i=new t.constructor(t.byteLength);return new n(i).set(new n(t)),i}return OE=e,OE}var IE,fK;function U0e(){if(fK)return IE;fK=1;var n=wI();function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}return IE=e,IE}var TE,pK;function K0e(){if(pK)return TE;pK=1;var n=/\w*$/;function e(t){var i=new t.constructor(t.source,n.exec(t));return i.lastIndex=t.lastIndex,i}return TE=e,TE}var kE,mK;function L0e(){if(mK)return kE;mK=1;var n=cx(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function i(r){return t?Object(t.call(r)):{}}return kE=i,kE}var DE,gK;function KQ(){if(gK)return DE;gK=1;var n=wI();function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}return DE=e,DE}var RE,yK;function F0e(){if(yK)return RE;yK=1;var n=wI(),e=U0e(),t=K0e(),i=L0e(),r=KQ(),o="[object Boolean]",s="[object Date]",a="[object Map]",p="[object Number]",g="[object RegExp]",_="[object Set]",E="[object String]",O="[object Symbol]",B="[object ArrayBuffer]",z="[object DataView]",N="[object Float32Array]",Q="[object Float64Array]",$="[object Int8Array]",X="[object Int16Array]",re="[object Int32Array]",ne="[object Uint8Array]",V="[object Uint8ClampedArray]",J="[object Uint16Array]",W="[object Uint32Array]";function he(ge,ve,_e){var Me=ge.constructor;switch(ve){case B:return n(ge);case o:case s:return new Me(+ge);case z:return e(ge,_e);case N:case Q:case $:case X:case re:case ne:case V:case J:case W:return r(ge,_e);case a:return new Me;case p:case E:return new Me(ge);case g:return t(ge);case _:return new Me;case O:return i(ge)}}return RE=he,RE}var PE,vK;function z0e(){if(vK)return PE;vK=1;var n=Lp(),e=Object.create,t=function(){function i(){}return function(r){if(!n(r))return{};if(e)return e(r);i.prototype=r;var o=new i;return i.prototype=void 0,o}}();return PE=t,PE}var UE,CK;function LQ(){if(CK)return UE;CK=1;var n=z0e(),e=vI(),t=mI();function i(r){return typeof r.constructor=="function"&&!t(r)?n(e(r)):{}}return UE=i,UE}var KE,_K;function j0e(){if(_K)return KE;_K=1;var n=N4(),e=_0(),t="[object Map]";function i(r){return e(r)&&n(r)==t}return KE=i,KE}var LE,bK;function N0e(){if(bK)return LE;bK=1;var n=j0e(),e=dI(),t=fI(),i=t&&t.isMap,r=i?e(i):n;return LE=r,LE}var FE,xK;function G0e(){if(xK)return FE;xK=1;var n=N4(),e=_0(),t="[object Set]";function i(r){return e(r)&&n(r)==t}return FE=i,FE}var zE,MK;function W0e(){if(MK)return zE;MK=1;var n=G0e(),e=dI(),t=fI(),i=t&&t.isSet,r=i?e(i):n;return zE=r,zE}var jE,wK;function Q0e(){if(wK)return jE;wK=1;var n=j4(),e=TQ(),t=DQ(),i=B0e(),r=T0e(),o=RQ(),s=PQ(),a=k0e(),p=D0e(),g=MQ(),_=R0e(),E=N4(),O=P0e(),B=F0e(),z=LQ(),N=Qf(),Q=P4(),$=N0e(),X=Lp(),re=W0e(),ne=hx(),V=px(),J=1,W=2,he=4,ge="[object Arguments]",ve="[object Array]",_e="[object Boolean]",Me="[object Date]",be="[object Error]",ze="[object Function]",Ce="[object GeneratorFunction]",Fe="[object Map]",ot="[object Number]",mt="[object Object]",it="[object RegExp]",ue="[object Set]",We="[object String]",tt="[object Symbol]",ke="[object WeakMap]",Et="[object ArrayBuffer]",gt="[object DataView]",xt="[object Float32Array]",Kt="[object Float64Array]",je="[object Int8Array]",Ke="[object Int16Array]",Ue="[object Int32Array]",Ve="[object Uint8Array]",bt="[object Uint8ClampedArray]",vt="[object Uint16Array]",It="[object Uint32Array]",Yt={};Yt[ge]=Yt[ve]=Yt[Et]=Yt[gt]=Yt[_e]=Yt[Me]=Yt[xt]=Yt[Kt]=Yt[je]=Yt[Ke]=Yt[Ue]=Yt[Fe]=Yt[ot]=Yt[mt]=Yt[it]=Yt[ue]=Yt[We]=Yt[tt]=Yt[Ve]=Yt[bt]=Yt[vt]=Yt[It]=!0,Yt[be]=Yt[ze]=Yt[ke]=!1;function Ut(on,Hn,Wt,Gn,On,Bn){var Tn,Oi=Hn&J,Vn=Hn&W,Lt=Hn&he;if(Wt&&(Tn=On?Wt(on,Gn,On,Bn):Wt(on)),Tn!==void 0)return Tn;if(!X(on))return on;var De=N(on);if(De){if(Tn=O(on),!Oi)return s(on,Tn)}else{var de=E(on),oe=de==ze||de==Ce;if(Q(on))return o(on,Oi);if(de==mt||de==ge||oe&&!On){if(Tn=Vn||oe?{}:z(on),!Oi)return Vn?p(on,r(Tn,on)):a(on,i(Tn,on))}else{if(!Yt[de])return On?on:{};Tn=B(on,de,Oi)}}Bn||(Bn=new n);var le=Bn.get(on);if(le)return le;Bn.set(on,Tn),re(on)?on.forEach(function(Qe){Tn.add(Ut(Qe,Hn,Wt,Qe,on,Bn))}):$(on)&&on.forEach(function(Qe,At){Tn.set(At,Ut(Qe,Hn,Wt,At,on,Bn))});var me=Lt?Vn?_:g:Vn?V:ne,Ie=De?void 0:me(on);return e(Ie||on,function(Qe,At){Ie&&(At=Qe,Qe=on[At]),t(Tn,At,Ut(Qe,Hn,Wt,At,on,Bn))}),Tn}return jE=Ut,jE}var NE,SK;function Y0e(){if(SK)return NE;SK=1;var n=Q0e(),e=1,t=4;function i(r){return n(r,e|t)}return NE=i,NE}var EK;function q0e(){if(EK)return Av;EK=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.mergeClasses=void 0;var n=yI(),e=o(n),t=Y0e(),i=o(t),r=Object.assign||function(a){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(a[_]=g[_])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var s=Av.mergeClasses=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=p.default&&(0,i.default)(p.default)||{};return g.map(function(E){var O=p[E];return O&&(0,e.default)(O,function(B,z){_[z]||(_[z]={}),_[z]=r({},_[z],O[z])}),E}),_};return Av.default=s,Av}var cv={},BK;function H0e(){if(BK)return cv;BK=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.autoprefix=void 0;var n=yI(),e=i(n),t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var p=arguments[a];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(s[g]=p[g])}return s};function i(s){return s&&s.__esModule?s:{default:s}}var r={borderRadius:function(a){return{msBorderRadius:a,MozBorderRadius:a,OBorderRadius:a,WebkitBorderRadius:a,borderRadius:a}},boxShadow:function(a){return{msBoxShadow:a,MozBoxShadow:a,OBoxShadow:a,WebkitBoxShadow:a,boxShadow:a}},userSelect:function(a){return{WebkitTouchCallout:a,KhtmlUserSelect:a,MozUserSelect:a,msUserSelect:a,WebkitUserSelect:a,userSelect:a}},flex:function(a){return{WebkitBoxFlex:a,MozBoxFlex:a,WebkitFlex:a,msFlex:a,flex:a}},flexBasis:function(a){return{WebkitFlexBasis:a,flexBasis:a}},justifyContent:function(a){return{WebkitJustifyContent:a,justifyContent:a}},transition:function(a){return{msTransition:a,MozTransition:a,OTransition:a,WebkitTransition:a,transition:a}},transform:function(a){return{msTransform:a,MozTransform:a,OTransform:a,WebkitTransform:a,transform:a}},absolute:function(a){var p=a&&a.split(" ");return{position:"absolute",top:p&&p[0],right:p&&p[1],bottom:p&&p[2],left:p&&p[3]}},extend:function(a,p){var g=p[a];return g||{extend:a}}},o=cv.autoprefix=function(a){var p={};return(0,e.default)(a,function(g,_){var E={};(0,e.default)(g,function(O,B){var z=r[B];z?E=t({},E,z(O)):E[B]=O}),p[_]=E}),p};return cv.default=o,cv}var hv={},OK;function V0e(){if(OK)return hv;OK=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.hover=void 0;var n=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(p[E]=_[E])}return p},e=Rl(),t=i(e);function i(p){return p&&p.__esModule?p:{default:p}}function r(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function o(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function s(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var a=hv.hover=function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(E){s(O,E);function O(){var B,z,N,Q;r(this,O);for(var $=arguments.length,X=Array($),re=0;re<$;re++)X[re]=arguments[re];return Q=(z=(N=o(this,(B=O.__proto__||Object.getPrototypeOf(O)).call.apply(B,[this].concat(X))),N),N.state={hover:!1},N.handleMouseOver=function(){return N.setState({hover:!0})},N.handleMouseOut=function(){return N.setState({hover:!1})},N.render=function(){return t.default.createElement(_,{onMouseOver:N.handleMouseOver,onMouseOut:N.handleMouseOut},t.default.createElement(g,n({},N.props,N.state)))},z),o(N,Q)}return O}(t.default.Component)};return hv.default=a,hv}var dv={},IK;function $0e(){if(IK)return dv;IK=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.active=void 0;var n=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(p[E]=_[E])}return p},e=Rl(),t=i(e);function i(p){return p&&p.__esModule?p:{default:p}}function r(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function o(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function s(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var a=dv.active=function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(E){s(O,E);function O(){var B,z,N,Q;r(this,O);for(var $=arguments.length,X=Array($),re=0;re<$;re++)X[re]=arguments[re];return Q=(z=(N=o(this,(B=O.__proto__||Object.getPrototypeOf(O)).call.apply(B,[this].concat(X))),N),N.state={active:!1},N.handleMouseDown=function(){return N.setState({active:!0})},N.handleMouseUp=function(){return N.setState({active:!1})},N.render=function(){return t.default.createElement(_,{onMouseDown:N.handleMouseDown,onMouseUp:N.handleMouseUp},t.default.createElement(g,n({},N.props,N.state)))},z),o(N,Q)}return O}(t.default.Component)};return dv.default=a,dv}var e3={},TK;function Z0e(){if(TK)return e3;TK=1,Object.defineProperty(e3,"__esModule",{value:!0});var n=function(t,i){var r={},o=function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=p};return t===0&&o("first-child"),t===i-1&&o("last-child"),(t===0||t%2===0)&&o("even"),Math.abs(t%2)===1&&o("odd"),o("nth-child",t),r};return e3.default=n,e3}var kK;function Em(){if(kK)return Vd;kK=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.ReactCSS=Vd.loop=Vd.handleActive=Vd.handleHover=Vd.hover=void 0;var n=E0e(),e=O(n),t=q0e(),i=O(t),r=H0e(),o=O(r),s=V0e(),a=O(s),p=$0e(),g=O(p),_=Z0e(),E=O(_);function O(z){return z&&z.__esModule?z:{default:z}}Vd.hover=a.default,Vd.handleHover=a.default,Vd.handleActive=g.default,Vd.loop=E.default;var B=Vd.ReactCSS=function(N){for(var Q=arguments.length,$=Array(Q>1?Q-1:0),X=1;X<Q;X++)$[X-1]=arguments[X];var re=(0,e.default)($),ne=(0,i.default)(N,re);return(0,o.default)(ne)};return Vd.default=B,Vd}var GE,DK;function FQ(){if(DK)return GE;DK=1;var n=MI(),e=dx();function t(i,r,o){(o!==void 0&&!e(i[r],o)||o===void 0&&!(r in i))&&n(i,r,o)}return GE=t,GE}var WE,RK;function X0e(){if(RK)return WE;RK=1;var n=BC(),e=_0();function t(i){return e(i)&&n(i)}return WE=t,WE}var QE,PK;function zQ(){if(PK)return QE;PK=1;function n(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return QE=n,QE}var YE,UK;function J0e(){if(UK)return YE;UK=1;var n=fx(),e=px();function t(i){return n(i,e(i))}return YE=t,YE}var qE,KK;function ege(){if(KK)return qE;KK=1;var n=FQ(),e=RQ(),t=KQ(),i=PQ(),r=LQ(),o=AI(),s=Qf(),a=X0e(),p=P4(),g=gI(),_=Lp(),E=mQ(),O=pI(),B=zQ(),z=J0e();function N(Q,$,X,re,ne,V,J){var W=B(Q,X),he=B($,X),ge=J.get(he);if(ge){n(Q,X,ge);return}var ve=V?V(W,he,X+"",Q,$,J):void 0,_e=ve===void 0;if(_e){var Me=s(he),be=!Me&&p(he),ze=!Me&&!be&&O(he);ve=he,Me||be||ze?s(W)?ve=W:a(W)?ve=i(W):be?(_e=!1,ve=e(he,!0)):ze?(_e=!1,ve=t(he,!0)):ve=[]:E(he)||o(he)?(ve=W,o(W)?ve=z(W):(!_(W)||g(W))&&(ve=r(he))):_e=!1}_e&&(J.set(he,ve),ne(ve,he,re,V,J),J.delete(he)),n(Q,X,ve)}return qE=N,qE}var HE,LK;function tge(){if(LK)return HE;LK=1;var n=j4(),e=FQ(),t=cQ(),i=ege(),r=Lp(),o=px(),s=zQ();function a(p,g,_,E,O){p!==g&&t(g,function(B,z){if(O||(O=new n),r(B))i(p,g,z,_,a,E,O);else{var N=E?E(s(p,z),B,z+"",p,g,O):void 0;N===void 0&&(N=B),e(p,z,N)}},o)}return HE=a,HE}var VE,FK;function nge(){if(FK)return VE;FK=1;function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return VE=n,VE}var $E,zK;function ige(){if(zK)return $E;zK=1;var n=nge(),e=Math.max;function t(i,r,o){return r=e(r===void 0?i.length-1:r,0),function(){for(var s=arguments,a=-1,p=e(s.length-r,0),g=Array(p);++a<p;)g[a]=s[r+a];a=-1;for(var _=Array(r+1);++a<r;)_[a]=s[a];return _[r]=o(g),n(i,this,_)}}return $E=t,$E}var ZE,jK;function rge(){if(jK)return ZE;jK=1;function n(e){return function(){return e}}return ZE=n,ZE}var XE,NK;function oge(){if(NK)return XE;NK=1;var n=rge(),e=kQ(),t=U4(),i=e?function(r,o){return e(r,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t;return XE=i,XE}var JE,GK;function age(){if(GK)return JE;GK=1;var n=800,e=16,t=Date.now;function i(r){var o=0,s=0;return function(){var a=t(),p=e-(a-s);if(s=a,p>0){if(++o>=n)return arguments[0]}else o=0;return r.apply(void 0,arguments)}}return JE=i,JE}var e6,WK;function sge(){if(WK)return e6;WK=1;var n=oge(),e=age(),t=e(n);return e6=t,e6}var t6,QK;function lge(){if(QK)return t6;QK=1;var n=U4(),e=ige(),t=sge();function i(r,o){return t(e(r,o,n),r+"")}return t6=i,t6}var n6,YK;function uge(){if(YK)return n6;YK=1;var n=dx(),e=BC(),t=cI(),i=Lp();function r(o,s,a){if(!i(a))return!1;var p=typeof s;return(p=="number"?e(a)&&t(s,a.length):p=="string"&&s in a)?n(a[s],o):!1}return n6=r,n6}var i6,qK;function Age(){if(qK)return i6;qK=1;var n=lge(),e=uge();function t(i){return n(function(r,o){var s=-1,a=o.length,p=a>1?o[a-1]:void 0,g=a>2?o[2]:void 0;for(p=i.length>3&&typeof p=="function"?(a--,p):void 0,g&&e(o[0],o[1],g)&&(p=a<3?void 0:p,a=1),r=Object(r);++s<a;){var _=o[s];_&&i(r,_,s,p)}return r})}return i6=t,i6}var r6,HK;function jQ(){if(HK)return r6;HK=1;var n=tge(),e=Age(),t=e(function(i,r,o){n(i,r,o)});return r6=t,r6}var o6={},fv={},t3={},VK;function cge(){return VK||(VK=1,Object.defineProperty(t3,"__esModule",{value:!0}),t3.calculateChange=function(e,t,i,r,o){var s=o.clientWidth,a=o.clientHeight,p=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,g=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,_=p-(o.getBoundingClientRect().left+window.pageXOffset),E=g-(o.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var O=void 0;if(E<0?O=0:E>a?O=1:O=Math.round(E*100/a)/100,t.a!==O)return{h:t.h,s:t.s,l:t.l,a:O,source:"rgb"}}else{var B=void 0;if(_<0?B=0:_>s?B=1:B=Math.round(_*100/s)/100,r!==B)return{h:t.h,s:t.s,l:t.l,a:B,source:"rgb"}}return null}),t3}var pv={},i_={},$K;function hge(){if($K)return i_;$K=1,Object.defineProperty(i_,"__esModule",{value:!0});var n={},e=i_.render=function(i,r,o,s){if(typeof document>"u"&&!s)return null;var a=s?new s:document.createElement("canvas");a.width=o*2,a.height=o*2;var p=a.getContext("2d");return p?(p.fillStyle=i,p.fillRect(0,0,a.width,a.height),p.fillStyle=r,p.fillRect(0,0,o,o),p.translate(o,o),p.fillRect(0,0,o,o),a.toDataURL()):null};return i_.get=function(i,r,o,s){var a=i+"-"+r+"-"+o+(s?"-server":"");if(n[a])return n[a];var p=e(i,r,o,s);return n[a]=p,p},i_}var ZK;function SI(){if(ZK)return pv;ZK=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.Checkboard=void 0;var n=Object.assign||function(_){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(_[B]=O[B])}return _},e=Rl(),t=p(e),i=Em(),r=p(i),o=hge(),s=a(o);function a(_){if(_&&_.__esModule)return _;var E={};if(_!=null)for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(E[O]=_[O]);return E.default=_,E}function p(_){return _&&_.__esModule?_:{default:_}}var g=pv.Checkboard=function(E){var O=E.white,B=E.grey,z=E.size,N=E.renderers,Q=E.borderRadius,$=E.boxShadow,X=E.children,re=(0,r.default)({default:{grid:{borderRadius:Q,boxShadow:$,absolute:"0px 0px 0px 0px",background:"url("+s.get(O,B,z,N.canvas)+") center left"}}});return(0,e.isValidElement)(X)?t.default.cloneElement(X,n({},X.props,{style:n({},X.props.style,re.grid)})):t.default.createElement("div",{style:re.grid})};return g.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},pv.default=g,pv}var XK;function dge(){if(XK)return fv;XK=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.Alpha=void 0;var n=Object.assign||function(Q){for(var $=1;$<arguments.length;$++){var X=arguments[$];for(var re in X)Object.prototype.hasOwnProperty.call(X,re)&&(Q[re]=X[re])}return Q},e=function(){function Q($,X){for(var re=0;re<X.length;re++){var ne=X[re];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty($,ne.key,ne)}}return function($,X,re){return X&&Q($.prototype,X),re&&Q($,re),$}}(),t=Rl(),i=E(t),r=Em(),o=E(r),s=cge(),a=_(s),p=SI(),g=E(p);function _(Q){if(Q&&Q.__esModule)return Q;var $={};if(Q!=null)for(var X in Q)Object.prototype.hasOwnProperty.call(Q,X)&&($[X]=Q[X]);return $.default=Q,$}function E(Q){return Q&&Q.__esModule?Q:{default:Q}}function O(Q,$){if(!(Q instanceof $))throw new TypeError("Cannot call a class as a function")}function B(Q,$){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:Q}function z(Q,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);Q.prototype=Object.create($&&$.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,$):Q.__proto__=$)}var N=fv.Alpha=function(Q){z($,Q);function $(){var X,re,ne,V;O(this,$);for(var J=arguments.length,W=Array(J),he=0;he<J;he++)W[he]=arguments[he];return V=(re=(ne=B(this,(X=$.__proto__||Object.getPrototypeOf($)).call.apply(X,[this].concat(W))),ne),ne.handleChange=function(ge){var ve=a.calculateChange(ge,ne.props.hsl,ne.props.direction,ne.props.a,ne.container);ve&&typeof ne.props.onChange=="function"&&ne.props.onChange(ve,ge)},ne.handleMouseDown=function(ge){ne.handleChange(ge),window.addEventListener("mousemove",ne.handleChange),window.addEventListener("mouseup",ne.handleMouseUp)},ne.handleMouseUp=function(){ne.unbindEventListeners()},ne.unbindEventListeners=function(){window.removeEventListener("mousemove",ne.handleChange),window.removeEventListener("mouseup",ne.handleMouseUp)},re),B(ne,V)}return e($,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var re=this,ne=this.props.rgb,V=(0,o.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+ne.r+","+ne.g+","+ne.b+`, 0) 0%,
           rgba(`+ne.r+","+ne.g+","+ne.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:ne.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+ne.r+","+ne.g+","+ne.b+`, 0) 0%,
           rgba(`+ne.r+","+ne.g+","+ne.b+", 1) 100%)"},pointer:{left:0,top:ne.a*100+"%"}},overwrite:n({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return i.default.createElement("div",{style:V.alpha},i.default.createElement("div",{style:V.checkboard},i.default.createElement(g.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:V.gradient}),i.default.createElement("div",{style:V.container,ref:function(W){return re.container=W},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:V.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:V.slider}))))}}]),$}(t.PureComponent||t.Component);return fv.default=N,fv}var mv={},JK;function fge(){if(JK)return mv;JK=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.EditableInput=void 0;var n=function(){function X(re,ne){for(var V=0;V<ne.length;V++){var J=ne[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(re,J.key,J)}}return function(re,ne,V){return ne&&X(re.prototype,ne),V&&X(re,V),re}}(),e=Rl(),t=o(e),i=Em(),r=o(i);function o(X){return X&&X.__esModule?X:{default:X}}function s(X,re,ne){return re in X?Object.defineProperty(X,re,{value:ne,enumerable:!0,configurable:!0,writable:!0}):X[re]=ne,X}function a(X,re){if(!(X instanceof re))throw new TypeError("Cannot call a class as a function")}function p(X,re){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:X}function g(X,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);X.prototype=Object.create(re&&re.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(X,re):X.__proto__=re)}var _=1,E=38,O=40,B=[E,O],z=function(re){return B.indexOf(re)>-1},N=function(re){return Number(String(re).replace(/%/g,""))},Q=1,$=mv.EditableInput=function(X){g(re,X);function re(ne){a(this,re);var V=p(this,(re.__proto__||Object.getPrototypeOf(re)).call(this));return V.handleBlur=function(){V.state.blurValue&&V.setState({value:V.state.blurValue,blurValue:null})},V.handleChange=function(J){V.setUpdatedValue(J.target.value,J)},V.handleKeyDown=function(J){var W=N(J.target.value);if(!isNaN(W)&&z(J.keyCode)){var he=V.getArrowOffset(),ge=J.keyCode===E?W+he:W-he;V.setUpdatedValue(ge,J)}},V.handleDrag=function(J){if(V.props.dragLabel){var W=Math.round(V.props.value+J.movementX);W>=0&&W<=V.props.dragMax&&V.props.onChange&&V.props.onChange(V.getValueObjectWithLabel(W),J)}},V.handleMouseDown=function(J){V.props.dragLabel&&(J.preventDefault(),V.handleDrag(J),window.addEventListener("mousemove",V.handleDrag),window.addEventListener("mouseup",V.handleMouseUp))},V.handleMouseUp=function(){V.unbindEventListeners()},V.unbindEventListeners=function(){window.removeEventListener("mousemove",V.handleDrag),window.removeEventListener("mouseup",V.handleMouseUp)},V.state={value:String(ne.value).toUpperCase(),blurValue:String(ne.value).toUpperCase()},V.inputId="rc-editable-input-"+Q++,V}return n(re,[{key:"componentDidUpdate",value:function(V,J){this.props.value!==this.state.value&&(V.value!==this.props.value||J.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(V){return s({},this.props.label,V)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||_}},{key:"setUpdatedValue",value:function(V,J){var W=this.props.label?this.getValueObjectWithLabel(V):V;this.props.onChange&&this.props.onChange(W,J),this.setState({value:V})}},{key:"render",value:function(){var V=this,J=(0,r.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return t.default.createElement("div",{style:J.wrap},t.default.createElement("input",{id:this.inputId,style:J.input,ref:function(he){return V.input=he},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?t.default.createElement("label",{htmlFor:this.inputId,style:J.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),re}(e.PureComponent||e.Component);return mv.default=$,mv}var gv={},n3={},eL;function pge(){return eL||(eL=1,Object.defineProperty(n3,"__esModule",{value:!0}),n3.calculateChange=function(e,t,i,r){var o=r.clientWidth,s=r.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,p=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,g=a-(r.getBoundingClientRect().left+window.pageXOffset),_=p-(r.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var E=void 0;if(_<0)E=359;else if(_>s)E=0;else{var O=-(_*100/s)+100;E=360*O/100}if(i.h!==E)return{h:E,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var B=void 0;if(g<0)B=0;else if(g>o)B=359;else{var z=g*100/o;B=360*z/100}if(i.h!==B)return{h:B,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null}),n3}var tL;function mge(){if(tL)return gv;tL=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.Hue=void 0;var n=function(){function B(z,N){for(var Q=0;Q<N.length;Q++){var $=N[Q];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(z,$.key,$)}}return function(z,N,Q){return N&&B(z.prototype,N),Q&&B(z,Q),z}}(),e=Rl(),t=p(e),i=Em(),r=p(i),o=pge(),s=a(o);function a(B){if(B&&B.__esModule)return B;var z={};if(B!=null)for(var N in B)Object.prototype.hasOwnProperty.call(B,N)&&(z[N]=B[N]);return z.default=B,z}function p(B){return B&&B.__esModule?B:{default:B}}function g(B,z){if(!(B instanceof z))throw new TypeError("Cannot call a class as a function")}function _(B,z){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:B}function E(B,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);B.prototype=Object.create(z&&z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(B,z):B.__proto__=z)}var O=gv.Hue=function(B){E(z,B);function z(){var N,Q,$,X;g(this,z);for(var re=arguments.length,ne=Array(re),V=0;V<re;V++)ne[V]=arguments[V];return X=(Q=($=_(this,(N=z.__proto__||Object.getPrototypeOf(z)).call.apply(N,[this].concat(ne))),$),$.handleChange=function(J){var W=s.calculateChange(J,$.props.direction,$.props.hsl,$.container);W&&typeof $.props.onChange=="function"&&$.props.onChange(W,J)},$.handleMouseDown=function(J){$.handleChange(J),window.addEventListener("mousemove",$.handleChange),window.addEventListener("mouseup",$.handleMouseUp)},$.handleMouseUp=function(){$.unbindEventListeners()},Q),_($,X)}return n(z,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var Q=this,$=this.props.direction,X=$===void 0?"horizontal":$,re=(0,r.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:X==="vertical"});return t.default.createElement("div",{style:re.hue},t.default.createElement("div",{className:"hue-"+X,style:re.container,ref:function(V){return Q.container=V},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},t.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),t.default.createElement("div",{style:re.pointer},this.props.pointer?t.default.createElement(this.props.pointer,this.props):t.default.createElement("div",{style:re.slider}))))}}]),z}(e.PureComponent||e.Component);return gv.default=O,gv}var yv={},nL;function gge(){if(nL)return yv;nL=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.Raised=void 0;var n=Rl(),e=p(n),t=sg(),i=p(t),r=Em(),o=p(r),s=jQ(),a=p(s);function p(_){return _&&_.__esModule?_:{default:_}}var g=yv.Raised=function(E){var O=E.zDepth,B=E.radius,z=E.background,N=E.children,Q=E.styles,$=Q===void 0?{}:Q,X=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+O+"px "+O*4+"px rgba(0,0,0,.24)",borderRadius:B,background:z}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},$),{"zDepth-1":O===1});return e.default.createElement("div",{style:X.wrap},e.default.createElement("div",{style:X.bg}),e.default.createElement("div",{style:X.content},N))};return g.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},g.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},yv.default=g,yv}var vv={},a6,iL;function yge(){if(iL)return a6;iL=1;var n=Sm(),e=function(){return n.Date.now()};return a6=e,a6}var s6,rL;function vge(){if(rL)return s6;rL=1;var n=/\s/;function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}return s6=e,s6}var l6,oL;function Cge(){if(oL)return l6;oL=1;var n=vge(),e=/^\s+/;function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}return l6=t,l6}var u6,aL;function _ge(){if(aL)return u6;aL=1;var n=Cge(),e=Lp(),t=G4(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function p(g){if(typeof g=="number")return g;if(t(g))return i;if(e(g)){var _=typeof g.valueOf=="function"?g.valueOf():g;g=e(_)?_+"":_}if(typeof g!="string")return g===0?g:+g;g=n(g);var E=o.test(g);return E||s.test(g)?a(g.slice(2),E?2:8):r.test(g)?i:+g}return u6=p,u6}var A6,sL;function NQ(){if(sL)return A6;sL=1;var n=Lp(),e=yge(),t=_ge(),i="Expected a function",r=Math.max,o=Math.min;function s(a,p,g){var _,E,O,B,z,N,Q=0,$=!1,X=!1,re=!0;if(typeof a!="function")throw new TypeError(i);p=t(p)||0,n(g)&&($=!!g.leading,X="maxWait"in g,O=X?r(t(g.maxWait)||0,p):O,re="trailing"in g?!!g.trailing:re);function ne(be){var ze=_,Ce=E;return _=E=void 0,Q=be,B=a.apply(Ce,ze),B}function V(be){return Q=be,z=setTimeout(he,p),$?ne(be):B}function J(be){var ze=be-N,Ce=be-Q,Fe=p-ze;return X?o(Fe,O-Ce):Fe}function W(be){var ze=be-N,Ce=be-Q;return N===void 0||ze>=p||ze<0||X&&Ce>=O}function he(){var be=e();if(W(be))return ge(be);z=setTimeout(he,J(be))}function ge(be){return z=void 0,re&&_?ne(be):(_=E=void 0,B)}function ve(){z!==void 0&&clearTimeout(z),Q=0,_=N=E=z=void 0}function _e(){return z===void 0?B:ge(e())}function Me(){var be=e(),ze=W(be);if(_=arguments,E=this,N=be,ze){if(z===void 0)return V(N);if(X)return clearTimeout(z),z=setTimeout(he,p),ne(N)}return z===void 0&&(z=setTimeout(he,p)),B}return Me.cancel=ve,Me.flush=_e,Me}return A6=s,A6}var c6,lL;function bge(){if(lL)return c6;lL=1;var n=NQ(),e=Lp(),t="Expected a function";function i(r,o,s){var a=!0,p=!0;if(typeof r!="function")throw new TypeError(t);return e(s)&&(a="leading"in s?!!s.leading:a,p="trailing"in s?!!s.trailing:p),n(r,o,{leading:a,maxWait:o,trailing:p})}return c6=i,c6}var i3={},uL;function xge(){return uL||(uL=1,Object.defineProperty(i3,"__esModule",{value:!0}),i3.calculateChange=function(e,t,i){var r=i.getBoundingClientRect(),o=r.width,s=r.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,p=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,g=a-(i.getBoundingClientRect().left+window.pageXOffset),_=p-(i.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>o&&(g=o),_<0?_=0:_>s&&(_=s);var E=g/o,O=1-_/s;return{h:t.h,s:E,v:O,a:t.a,source:"hsv"}}),i3}var AL;function Mge(){if(AL)return vv;AL=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.Saturation=void 0;var n=function(){function N(Q,$){for(var X=0;X<$.length;X++){var re=$[X];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Q,re.key,re)}}return function(Q,$,X){return $&&N(Q.prototype,$),X&&N(Q,X),Q}}(),e=Rl(),t=_(e),i=Em(),r=_(i),o=bge(),s=_(o),a=xge(),p=g(a);function g(N){if(N&&N.__esModule)return N;var Q={};if(N!=null)for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(Q[$]=N[$]);return Q.default=N,Q}function _(N){return N&&N.__esModule?N:{default:N}}function E(N,Q){if(!(N instanceof Q))throw new TypeError("Cannot call a class as a function")}function O(N,Q){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:N}function B(N,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);N.prototype=Object.create(Q&&Q.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(N,Q):N.__proto__=Q)}var z=vv.Saturation=function(N){B(Q,N);function Q($){E(this,Q);var X=O(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,$));return X.handleChange=function(re){typeof X.props.onChange=="function"&&X.throttle(X.props.onChange,p.calculateChange(re,X.props.hsl,X.container),re)},X.handleMouseDown=function(re){X.handleChange(re);var ne=X.getContainerRenderWindow();ne.addEventListener("mousemove",X.handleChange),ne.addEventListener("mouseup",X.handleMouseUp)},X.handleMouseUp=function(){X.unbindEventListeners()},X.throttle=(0,s.default)(function(re,ne,V){re(ne,V)},50),X}return n(Q,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var X=this.container,re=window;!re.document.contains(X)&&re.parent!==re;)re=re.parent;return re}},{key:"unbindEventListeners",value:function(){var X=this.getContainerRenderWindow();X.removeEventListener("mousemove",this.handleChange),X.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var X=this,re=this.props.style||{},ne=re.color,V=re.white,J=re.black,W=re.pointer,he=re.circle,ge=(0,r.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:ne,white:V,black:J,pointer:W,circle:he}},{custom:!!this.props.style});return t.default.createElement("div",{style:ge.color,ref:function(_e){return X.container=_e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},t.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),t.default.createElement("div",{style:ge.white,className:"saturation-white"},t.default.createElement("div",{style:ge.black,className:"saturation-black"}),t.default.createElement("div",{style:ge.pointer},this.props.pointer?t.default.createElement(this.props.pointer,this.props):t.default.createElement("div",{style:ge.circle}))))}}]),Q}(e.PureComponent||e.Component);return vv.default=z,vv}var Cv={},Cd={},h6,cL;function wge(){if(cL)return h6;cL=1;var n=TQ(),e=IQ(),t=pQ(),i=Qf();function r(o,s){var a=i(o)?n:e;return a(o,t(s))}return h6=r,h6}var d6,hL;function Sge(){return hL||(hL=1,d6=wge()),d6}var C3={exports:{}},Ege=C3.exports,dL;function Bge(){return dL||(dL=1,function(n,e){(function(t,i){n.exports=i()})(Ege,function(){function t(je){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ke){return typeof Ke}:function(Ke){return Ke&&typeof Symbol=="function"&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},t(je)}var i=/^\s+/,r=/\s+$/;function o(je,Ke){if(je=je||"",Ke=Ke||{},je instanceof o)return je;if(!(this instanceof o))return new o(je,Ke);var Ue=s(je);this._originalInput=je,this._r=Ue.r,this._g=Ue.g,this._b=Ue.b,this._a=Ue.a,this._roundA=Math.round(100*this._a)/100,this._format=Ke.format||Ue.format,this._gradientType=Ke.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Ue.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ke=this.toRgb();return(Ke.r*299+Ke.g*587+Ke.b*114)/1e3},getLuminance:function(){var Ke=this.toRgb(),Ue,Ve,bt,vt,It,Yt;return Ue=Ke.r/255,Ve=Ke.g/255,bt=Ke.b/255,Ue<=.03928?vt=Ue/12.92:vt=Math.pow((Ue+.055)/1.055,2.4),Ve<=.03928?It=Ve/12.92:It=Math.pow((Ve+.055)/1.055,2.4),bt<=.03928?Yt=bt/12.92:Yt=Math.pow((bt+.055)/1.055,2.4),.2126*vt+.7152*It+.0722*Yt},setAlpha:function(Ke){return this._a=ze(Ke),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var Ke=_(this._r,this._g,this._b);return{h:Ke.h*360,s:Ke.s,v:Ke.v,a:this._a}},toHsvString:function(){var Ke=_(this._r,this._g,this._b),Ue=Math.round(Ke.h*360),Ve=Math.round(Ke.s*100),bt=Math.round(Ke.v*100);return this._a==1?"hsv("+Ue+", "+Ve+"%, "+bt+"%)":"hsva("+Ue+", "+Ve+"%, "+bt+"%, "+this._roundA+")"},toHsl:function(){var Ke=p(this._r,this._g,this._b);return{h:Ke.h*360,s:Ke.s,l:Ke.l,a:this._a}},toHslString:function(){var Ke=p(this._r,this._g,this._b),Ue=Math.round(Ke.h*360),Ve=Math.round(Ke.s*100),bt=Math.round(Ke.l*100);return this._a==1?"hsl("+Ue+", "+Ve+"%, "+bt+"%)":"hsla("+Ue+", "+Ve+"%, "+bt+"%, "+this._roundA+")"},toHex:function(Ke){return O(this._r,this._g,this._b,Ke)},toHexString:function(Ke){return"#"+this.toHex(Ke)},toHex8:function(Ke){return B(this._r,this._g,this._b,this._a,Ke)},toHex8String:function(Ke){return"#"+this.toHex8(Ke)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ce(this._r,255)*100)+"%",g:Math.round(Ce(this._g,255)*100)+"%",b:Math.round(Ce(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ce(this._r,255)*100)+"%, "+Math.round(Ce(this._g,255)*100)+"%, "+Math.round(Ce(this._b,255)*100)+"%)":"rgba("+Math.round(Ce(this._r,255)*100)+"%, "+Math.round(Ce(this._g,255)*100)+"%, "+Math.round(Ce(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Me[O(this._r,this._g,this._b,!0)]||!1},toFilter:function(Ke){var Ue="#"+z(this._r,this._g,this._b,this._a),Ve=Ue,bt=this._gradientType?"GradientType = 1, ":"";if(Ke){var vt=o(Ke);Ve="#"+z(vt._r,vt._g,vt._b,vt._a)}return"progid:DXImageTransform.Microsoft.gradient("+bt+"startColorstr="+Ue+",endColorstr="+Ve+")"},toString:function(Ke){var Ue=!!Ke;Ke=Ke||this._format;var Ve=!1,bt=this._a<1&&this._a>=0,vt=!Ue&&bt&&(Ke==="hex"||Ke==="hex6"||Ke==="hex3"||Ke==="hex4"||Ke==="hex8"||Ke==="name");return vt?Ke==="name"&&this._a===0?this.toName():this.toRgbString():(Ke==="rgb"&&(Ve=this.toRgbString()),Ke==="prgb"&&(Ve=this.toPercentageRgbString()),(Ke==="hex"||Ke==="hex6")&&(Ve=this.toHexString()),Ke==="hex3"&&(Ve=this.toHexString(!0)),Ke==="hex4"&&(Ve=this.toHex8String(!0)),Ke==="hex8"&&(Ve=this.toHex8String()),Ke==="name"&&(Ve=this.toName()),Ke==="hsl"&&(Ve=this.toHslString()),Ke==="hsv"&&(Ve=this.toHsvString()),Ve||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(Ke,Ue){var Ve=Ke.apply(null,[this].concat([].slice.call(Ue)));return this._r=Ve._r,this._g=Ve._g,this._b=Ve._b,this.setAlpha(Ve._a),this},lighten:function(){return this._applyModification(X,arguments)},brighten:function(){return this._applyModification(re,arguments)},darken:function(){return this._applyModification(ne,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(Q,arguments)},greyscale:function(){return this._applyModification($,arguments)},spin:function(){return this._applyModification(V,arguments)},_applyCombination:function(Ke,Ue){return Ke.apply(null,[this].concat([].slice.call(Ue)))},analogous:function(){return this._applyCombination(ge,arguments)},complement:function(){return this._applyCombination(J,arguments)},monochromatic:function(){return this._applyCombination(ve,arguments)},splitcomplement:function(){return this._applyCombination(he,arguments)},triad:function(){return this._applyCombination(W,[3])},tetrad:function(){return this._applyCombination(W,[4])}},o.fromRatio=function(je,Ke){if(t(je)=="object"){var Ue={};for(var Ve in je)je.hasOwnProperty(Ve)&&(Ve==="a"?Ue[Ve]=je[Ve]:Ue[Ve]=We(je[Ve]));je=Ue}return o(je,Ke)};function s(je){var Ke={r:0,g:0,b:0},Ue=1,Ve=null,bt=null,vt=null,It=!1,Yt=!1;return typeof je=="string"&&(je=xt(je)),t(je)=="object"&&(gt(je.r)&&gt(je.g)&&gt(je.b)?(Ke=a(je.r,je.g,je.b),It=!0,Yt=String(je.r).substr(-1)==="%"?"prgb":"rgb"):gt(je.h)&&gt(je.s)&&gt(je.v)?(Ve=We(je.s),bt=We(je.v),Ke=E(je.h,Ve,bt),It=!0,Yt="hsv"):gt(je.h)&&gt(je.s)&&gt(je.l)&&(Ve=We(je.s),vt=We(je.l),Ke=g(je.h,Ve,vt),It=!0,Yt="hsl"),je.hasOwnProperty("a")&&(Ue=je.a)),Ue=ze(Ue),{ok:It,format:je.format||Yt,r:Math.min(255,Math.max(Ke.r,0)),g:Math.min(255,Math.max(Ke.g,0)),b:Math.min(255,Math.max(Ke.b,0)),a:Ue}}function a(je,Ke,Ue){return{r:Ce(je,255)*255,g:Ce(Ke,255)*255,b:Ce(Ue,255)*255}}function p(je,Ke,Ue){je=Ce(je,255),Ke=Ce(Ke,255),Ue=Ce(Ue,255);var Ve=Math.max(je,Ke,Ue),bt=Math.min(je,Ke,Ue),vt,It,Yt=(Ve+bt)/2;if(Ve==bt)vt=It=0;else{var Ut=Ve-bt;switch(It=Yt>.5?Ut/(2-Ve-bt):Ut/(Ve+bt),Ve){case je:vt=(Ke-Ue)/Ut+(Ke<Ue?6:0);break;case Ke:vt=(Ue-je)/Ut+2;break;case Ue:vt=(je-Ke)/Ut+4;break}vt/=6}return{h:vt,s:It,l:Yt}}function g(je,Ke,Ue){var Ve,bt,vt;je=Ce(je,360),Ke=Ce(Ke,100),Ue=Ce(Ue,100);function It(on,Hn,Wt){return Wt<0&&(Wt+=1),Wt>1&&(Wt-=1),Wt<1/6?on+(Hn-on)*6*Wt:Wt<1/2?Hn:Wt<2/3?on+(Hn-on)*(2/3-Wt)*6:on}if(Ke===0)Ve=bt=vt=Ue;else{var Yt=Ue<.5?Ue*(1+Ke):Ue+Ke-Ue*Ke,Ut=2*Ue-Yt;Ve=It(Ut,Yt,je+1/3),bt=It(Ut,Yt,je),vt=It(Ut,Yt,je-1/3)}return{r:Ve*255,g:bt*255,b:vt*255}}function _(je,Ke,Ue){je=Ce(je,255),Ke=Ce(Ke,255),Ue=Ce(Ue,255);var Ve=Math.max(je,Ke,Ue),bt=Math.min(je,Ke,Ue),vt,It,Yt=Ve,Ut=Ve-bt;if(It=Ve===0?0:Ut/Ve,Ve==bt)vt=0;else{switch(Ve){case je:vt=(Ke-Ue)/Ut+(Ke<Ue?6:0);break;case Ke:vt=(Ue-je)/Ut+2;break;case Ue:vt=(je-Ke)/Ut+4;break}vt/=6}return{h:vt,s:It,v:Yt}}function E(je,Ke,Ue){je=Ce(je,360)*6,Ke=Ce(Ke,100),Ue=Ce(Ue,100);var Ve=Math.floor(je),bt=je-Ve,vt=Ue*(1-Ke),It=Ue*(1-bt*Ke),Yt=Ue*(1-(1-bt)*Ke),Ut=Ve%6,on=[Ue,It,vt,vt,Yt,Ue][Ut],Hn=[Yt,Ue,Ue,It,vt,vt][Ut],Wt=[vt,vt,Yt,Ue,Ue,It][Ut];return{r:on*255,g:Hn*255,b:Wt*255}}function O(je,Ke,Ue,Ve){var bt=[ue(Math.round(je).toString(16)),ue(Math.round(Ke).toString(16)),ue(Math.round(Ue).toString(16))];return Ve&&bt[0].charAt(0)==bt[0].charAt(1)&&bt[1].charAt(0)==bt[1].charAt(1)&&bt[2].charAt(0)==bt[2].charAt(1)?bt[0].charAt(0)+bt[1].charAt(0)+bt[2].charAt(0):bt.join("")}function B(je,Ke,Ue,Ve,bt){var vt=[ue(Math.round(je).toString(16)),ue(Math.round(Ke).toString(16)),ue(Math.round(Ue).toString(16)),ue(tt(Ve))];return bt&&vt[0].charAt(0)==vt[0].charAt(1)&&vt[1].charAt(0)==vt[1].charAt(1)&&vt[2].charAt(0)==vt[2].charAt(1)&&vt[3].charAt(0)==vt[3].charAt(1)?vt[0].charAt(0)+vt[1].charAt(0)+vt[2].charAt(0)+vt[3].charAt(0):vt.join("")}function z(je,Ke,Ue,Ve){var bt=[ue(tt(Ve)),ue(Math.round(je).toString(16)),ue(Math.round(Ke).toString(16)),ue(Math.round(Ue).toString(16))];return bt.join("")}o.equals=function(je,Ke){return!je||!Ke?!1:o(je).toRgbString()==o(Ke).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function N(je,Ke){Ke=Ke===0?0:Ke||10;var Ue=o(je).toHsl();return Ue.s-=Ke/100,Ue.s=Fe(Ue.s),o(Ue)}function Q(je,Ke){Ke=Ke===0?0:Ke||10;var Ue=o(je).toHsl();return Ue.s+=Ke/100,Ue.s=Fe(Ue.s),o(Ue)}function $(je){return o(je).desaturate(100)}function X(je,Ke){Ke=Ke===0?0:Ke||10;var Ue=o(je).toHsl();return Ue.l+=Ke/100,Ue.l=Fe(Ue.l),o(Ue)}function re(je,Ke){Ke=Ke===0?0:Ke||10;var Ue=o(je).toRgb();return Ue.r=Math.max(0,Math.min(255,Ue.r-Math.round(255*-(Ke/100)))),Ue.g=Math.max(0,Math.min(255,Ue.g-Math.round(255*-(Ke/100)))),Ue.b=Math.max(0,Math.min(255,Ue.b-Math.round(255*-(Ke/100)))),o(Ue)}function ne(je,Ke){Ke=Ke===0?0:Ke||10;var Ue=o(je).toHsl();return Ue.l-=Ke/100,Ue.l=Fe(Ue.l),o(Ue)}function V(je,Ke){var Ue=o(je).toHsl(),Ve=(Ue.h+Ke)%360;return Ue.h=Ve<0?360+Ve:Ve,o(Ue)}function J(je){var Ke=o(je).toHsl();return Ke.h=(Ke.h+180)%360,o(Ke)}function W(je,Ke){if(isNaN(Ke)||Ke<=0)throw new Error("Argument to polyad must be a positive number");for(var Ue=o(je).toHsl(),Ve=[o(je)],bt=360/Ke,vt=1;vt<Ke;vt++)Ve.push(o({h:(Ue.h+vt*bt)%360,s:Ue.s,l:Ue.l}));return Ve}function he(je){var Ke=o(je).toHsl(),Ue=Ke.h;return[o(je),o({h:(Ue+72)%360,s:Ke.s,l:Ke.l}),o({h:(Ue+216)%360,s:Ke.s,l:Ke.l})]}function ge(je,Ke,Ue){Ke=Ke||6,Ue=Ue||30;var Ve=o(je).toHsl(),bt=360/Ue,vt=[o(je)];for(Ve.h=(Ve.h-(bt*Ke>>1)+720)%360;--Ke;)Ve.h=(Ve.h+bt)%360,vt.push(o(Ve));return vt}function ve(je,Ke){Ke=Ke||6;for(var Ue=o(je).toHsv(),Ve=Ue.h,bt=Ue.s,vt=Ue.v,It=[],Yt=1/Ke;Ke--;)It.push(o({h:Ve,s:bt,v:vt})),vt=(vt+Yt)%1;return It}o.mix=function(je,Ke,Ue){Ue=Ue===0?0:Ue||50;var Ve=o(je).toRgb(),bt=o(Ke).toRgb(),vt=Ue/100,It={r:(bt.r-Ve.r)*vt+Ve.r,g:(bt.g-Ve.g)*vt+Ve.g,b:(bt.b-Ve.b)*vt+Ve.b,a:(bt.a-Ve.a)*vt+Ve.a};return o(It)},o.readability=function(je,Ke){var Ue=o(je),Ve=o(Ke);return(Math.max(Ue.getLuminance(),Ve.getLuminance())+.05)/(Math.min(Ue.getLuminance(),Ve.getLuminance())+.05)},o.isReadable=function(je,Ke,Ue){var Ve=o.readability(je,Ke),bt,vt;switch(vt=!1,bt=Kt(Ue),bt.level+bt.size){case"AAsmall":case"AAAlarge":vt=Ve>=4.5;break;case"AAlarge":vt=Ve>=3;break;case"AAAsmall":vt=Ve>=7;break}return vt},o.mostReadable=function(je,Ke,Ue){var Ve=null,bt=0,vt,It,Yt,Ut;Ue=Ue||{},It=Ue.includeFallbackColors,Yt=Ue.level,Ut=Ue.size;for(var on=0;on<Ke.length;on++)vt=o.readability(je,Ke[on]),vt>bt&&(bt=vt,Ve=o(Ke[on]));return o.isReadable(je,Ve,{level:Yt,size:Ut})||!It?Ve:(Ue.includeFallbackColors=!1,o.mostReadable(je,["#fff","#000"],Ue))};var _e=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Me=o.hexNames=be(_e);function be(je){var Ke={};for(var Ue in je)je.hasOwnProperty(Ue)&&(Ke[je[Ue]]=Ue);return Ke}function ze(je){return je=parseFloat(je),(isNaN(je)||je<0||je>1)&&(je=1),je}function Ce(je,Ke){mt(je)&&(je="100%");var Ue=it(je);return je=Math.min(Ke,Math.max(0,parseFloat(je))),Ue&&(je=parseInt(je*Ke,10)/100),Math.abs(je-Ke)<1e-6?1:je%Ke/parseFloat(Ke)}function Fe(je){return Math.min(1,Math.max(0,je))}function ot(je){return parseInt(je,16)}function mt(je){return typeof je=="string"&&je.indexOf(".")!=-1&&parseFloat(je)===1}function it(je){return typeof je=="string"&&je.indexOf("%")!=-1}function ue(je){return je.length==1?"0"+je:""+je}function We(je){return je<=1&&(je=je*100+"%"),je}function tt(je){return Math.round(parseFloat(je)*255).toString(16)}function ke(je){return ot(je)/255}var Et=function(){var je="[-\\+]?\\d+%?",Ke="[-\\+]?\\d*\\.\\d+%?",Ue="(?:"+Ke+")|(?:"+je+")",Ve="[\\s|\\(]+("+Ue+")[,|\\s]+("+Ue+")[,|\\s]+("+Ue+")\\s*\\)?",bt="[\\s|\\(]+("+Ue+")[,|\\s]+("+Ue+")[,|\\s]+("+Ue+")[,|\\s]+("+Ue+")\\s*\\)?";return{CSS_UNIT:new RegExp(Ue),rgb:new RegExp("rgb"+Ve),rgba:new RegExp("rgba"+bt),hsl:new RegExp("hsl"+Ve),hsla:new RegExp("hsla"+bt),hsv:new RegExp("hsv"+Ve),hsva:new RegExp("hsva"+bt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gt(je){return!!Et.CSS_UNIT.exec(je)}function xt(je){je=je.replace(i,"").replace(r,"").toLowerCase();var Ke=!1;if(_e[je])je=_e[je],Ke=!0;else if(je=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Ue;return(Ue=Et.rgb.exec(je))?{r:Ue[1],g:Ue[2],b:Ue[3]}:(Ue=Et.rgba.exec(je))?{r:Ue[1],g:Ue[2],b:Ue[3],a:Ue[4]}:(Ue=Et.hsl.exec(je))?{h:Ue[1],s:Ue[2],l:Ue[3]}:(Ue=Et.hsla.exec(je))?{h:Ue[1],s:Ue[2],l:Ue[3],a:Ue[4]}:(Ue=Et.hsv.exec(je))?{h:Ue[1],s:Ue[2],v:Ue[3]}:(Ue=Et.hsva.exec(je))?{h:Ue[1],s:Ue[2],v:Ue[3],a:Ue[4]}:(Ue=Et.hex8.exec(je))?{r:ot(Ue[1]),g:ot(Ue[2]),b:ot(Ue[3]),a:ke(Ue[4]),format:Ke?"name":"hex8"}:(Ue=Et.hex6.exec(je))?{r:ot(Ue[1]),g:ot(Ue[2]),b:ot(Ue[3]),format:Ke?"name":"hex"}:(Ue=Et.hex4.exec(je))?{r:ot(Ue[1]+""+Ue[1]),g:ot(Ue[2]+""+Ue[2]),b:ot(Ue[3]+""+Ue[3]),a:ke(Ue[4]+""+Ue[4]),format:Ke?"name":"hex8"}:(Ue=Et.hex3.exec(je))?{r:ot(Ue[1]+""+Ue[1]),g:ot(Ue[2]+""+Ue[2]),b:ot(Ue[3]+""+Ue[3]),format:Ke?"name":"hex"}:!1}function Kt(je){var Ke,Ue;return je=je||{level:"AA",size:"small"},Ke=(je.level||"AA").toUpperCase(),Ue=(je.size||"small").toLowerCase(),Ke!=="AA"&&Ke!=="AAA"&&(Ke="AA"),Ue!=="small"&&Ue!=="large"&&(Ue="small"),{level:Ke,size:Ue}}return o})}(C3)),C3.exports}var fL;function GQ(){if(fL)return Cd;fL=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.isvalidColorString=Cd.red=Cd.getContrastingColor=Cd.isValidHex=Cd.toState=Cd.simpleCheckForValidColor=void 0;var n=Sge(),e=r(n),t=Bge(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}Cd.simpleCheckForValidColor=function(a){var p=["r","g","b","a","h","s","l","v"],g=0,_=0;return(0,e.default)(p,function(E){if(a[E]&&(g+=1,isNaN(a[E])||(_+=1),E==="s"||E==="l")){var O=/^\d+%$/;O.test(a[E])&&(_+=1)}}),g===_?a:!1};var o=Cd.toState=function(a,p){var g=a.hex?(0,i.default)(a.hex):(0,i.default)(a),_=g.toHsl(),E=g.toHsv(),O=g.toRgb(),B=g.toHex();_.s===0&&(_.h=p||0,E.h=p||0);var z=B==="000000"&&O.a===0;return{hsl:_,hex:z?"transparent":"#"+B,rgb:O,hsv:E,oldHue:a.h||p||_.h,source:a.source}};return Cd.isValidHex=function(a){if(a==="transparent")return!0;var p=String(a).charAt(0)==="#"?1:0;return a.length!==4+p&&a.length<7+p&&(0,i.default)(a).isValid()},Cd.getContrastingColor=function(a){if(!a)return"#fff";var p=o(a);if(p.hex==="transparent")return"rgba(0,0,0,0.4)";var g=(p.rgb.r*299+p.rgb.g*587+p.rgb.b*114)/1e3;return g>=128?"#000":"#fff"},Cd.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},Cd.isvalidColorString=function(a,p){var g=a.replace("°","");return(0,i.default)(p+" ("+g+")")._ok},Cd}var pL;function Oge(){if(pL)return Cv;pL=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.ColorWrap=void 0;var n=Object.assign||function(z){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var $ in Q)Object.prototype.hasOwnProperty.call(Q,$)&&(z[$]=Q[$])}return z},e=function(){function z(N,Q){for(var $=0;$<Q.length;$++){var X=Q[$];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(N,X.key,X)}}return function(N,Q,$){return Q&&z(N.prototype,Q),$&&z(N,$),N}}(),t=Rl(),i=g(t),r=NQ(),o=g(r),s=GQ(),a=p(s);function p(z){if(z&&z.__esModule)return z;var N={};if(z!=null)for(var Q in z)Object.prototype.hasOwnProperty.call(z,Q)&&(N[Q]=z[Q]);return N.default=z,N}function g(z){return z&&z.__esModule?z:{default:z}}function _(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}function E(z,N){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:z}function O(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(z,N):z.__proto__=N)}var B=Cv.ColorWrap=function(N){var Q=function($){O(X,$);function X(re){_(this,X);var ne=E(this,(X.__proto__||Object.getPrototypeOf(X)).call(this));return ne.handleChange=function(V,J){var W=a.simpleCheckForValidColor(V);if(W){var he=a.toState(V,V.h||ne.state.oldHue);ne.setState(he),ne.props.onChangeComplete&&ne.debounce(ne.props.onChangeComplete,he,J),ne.props.onChange&&ne.props.onChange(he,J)}},ne.handleSwatchHover=function(V,J){var W=a.simpleCheckForValidColor(V);if(W){var he=a.toState(V,V.h||ne.state.oldHue);ne.props.onSwatchHover&&ne.props.onSwatchHover(he,J)}},ne.state=n({},a.toState(re.color,0)),ne.debounce=(0,o.default)(function(V,J,W){V(J,W)},100),ne}return e(X,[{key:"render",value:function(){var ne={};return this.props.onSwatchHover&&(ne.onSwatchHover=this.handleSwatchHover),i.default.createElement(N,n({},this.props,this.state,{onChange:this.handleChange},ne))}}],[{key:"getDerivedStateFromProps",value:function(ne,V){return n({},a.toState(ne.color,V.oldHue))}}]),X}(t.PureComponent||t.Component);return Q.propTypes=n({},N.propTypes),Q.defaultProps=n({},N.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),Q};return Cv.default=B,Cv}var _v={},r_={},mL;function Ige(){if(mL)return r_;mL=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.handleFocus=void 0;var n=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(p[E]=_[E])}return p},e=function(){function p(g,_){for(var E=0;E<_.length;E++){var O=_[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,E){return _&&p(g.prototype,_),E&&p(g,E),g}}(),t=Rl(),i=r(t);function r(p){return p&&p.__esModule?p:{default:p}}function o(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function s(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function a(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}return r_.handleFocus=function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(E){a(O,E);function O(){var B,z,N,Q;o(this,O);for(var $=arguments.length,X=Array($),re=0;re<$;re++)X[re]=arguments[re];return Q=(z=(N=s(this,(B=O.__proto__||Object.getPrototypeOf(O)).call.apply(B,[this].concat(X))),N),N.state={focus:!1},N.handleFocus=function(){return N.setState({focus:!0})},N.handleBlur=function(){return N.setState({focus:!1})},z),s(N,Q)}return e(O,[{key:"render",value:function(){return i.default.createElement(_,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.default.createElement(g,n({},this.props,this.state)))}}]),O}(i.default.Component)},r_}var gL;function Tge(){if(gL)return _v;gL=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.Swatch=void 0;var n=Object.assign||function(E){for(var O=1;O<arguments.length;O++){var B=arguments[O];for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&(E[z]=B[z])}return E},e=Rl(),t=p(e),i=Em(),r=p(i),o=Ige(),s=SI(),a=p(s);function p(E){return E&&E.__esModule?E:{default:E}}var g=13,_=_v.Swatch=function(O){var B=O.color,z=O.style,N=O.onClick,Q=N===void 0?function(){}:N,$=O.onHover,X=O.title,re=X===void 0?B:X,ne=O.children,V=O.focus,J=O.focusStyle,W=J===void 0?{}:J,he=B==="transparent",ge=(0,r.default)({default:{swatch:n({background:B,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},z,V?W:{})}}),ve=function(Ce){return Q(B,Ce)},_e=function(Ce){return Ce.keyCode===g&&Q(B,Ce)},Me=function(Ce){return $(B,Ce)},be={};return $&&(be.onMouseOver=Me),t.default.createElement("div",n({style:ge.swatch,onClick:ve,title:re,tabIndex:0,onKeyDown:_e},be),ne,he&&t.default.createElement(a.default,{borderRadius:ge.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};return _v.default=(0,o.handleFocus)(_),_v}var yL;function WQ(){return yL||(yL=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=dge();Object.defineProperty(n,"Alpha",{enumerable:!0,get:function(){return g(e).default}});var t=SI();Object.defineProperty(n,"Checkboard",{enumerable:!0,get:function(){return g(t).default}});var i=fge();Object.defineProperty(n,"EditableInput",{enumerable:!0,get:function(){return g(i).default}});var r=mge();Object.defineProperty(n,"Hue",{enumerable:!0,get:function(){return g(r).default}});var o=gge();Object.defineProperty(n,"Raised",{enumerable:!0,get:function(){return g(o).default}});var s=Mge();Object.defineProperty(n,"Saturation",{enumerable:!0,get:function(){return g(s).default}});var a=Oge();Object.defineProperty(n,"ColorWrap",{enumerable:!0,get:function(){return g(a).default}});var p=Tge();Object.defineProperty(n,"Swatch",{enumerable:!0,get:function(){return g(p).default}});function g(_){return _&&_.__esModule?_:{default:_}}}(o6)),o6}var bv={},f6,vL;function kge(){if(vL)return f6;vL=1;function n(e){return e===void 0}return f6=n,f6}var r3={},CL;function Dge(){if(CL)return r3;CL=1,Object.defineProperty(r3,"__esModule",{value:!0});var n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var p=arguments[a];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(s[g]=p[g])}return s},e=Rl(),t=i(e);function i(s){return s&&s.__esModule?s:{default:s}}function r(s,a){var p={};for(var g in s)a.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(s,g)&&(p[g]=s[g]);return p}var o=24;return r3.default=function(s){var a=s.fill,p=a===void 0?"currentColor":a,g=s.width,_=g===void 0?o:g,E=s.height,O=E===void 0?o:E,B=s.style,z=B===void 0?{}:B,N=r(s,["fill","width","height","style"]);return t.default.createElement("svg",n({viewBox:"0 0 "+o+" "+o,style:n({fill:p,width:_,height:O},z)},N),t.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},r3}var _L;function Rge(){if(_L)return bv;_L=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.ChromeFields=void 0;var n=function(){function X(re,ne){for(var V=0;V<ne.length;V++){var J=ne[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(re,J.key,J)}}return function(re,ne,V){return ne&&X(re.prototype,ne),V&&X(re,V),re}}(),e=Rl(),t=B(e),i=Em(),r=B(i),o=GQ(),s=O(o),a=kge(),p=B(a),g=WQ(),_=Dge(),E=B(_);function O(X){if(X&&X.__esModule)return X;var re={};if(X!=null)for(var ne in X)Object.prototype.hasOwnProperty.call(X,ne)&&(re[ne]=X[ne]);return re.default=X,re}function B(X){return X&&X.__esModule?X:{default:X}}function z(X,re){if(!(X instanceof re))throw new TypeError("Cannot call a class as a function")}function N(X,re){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:X}function Q(X,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);X.prototype=Object.create(re&&re.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(X,re):X.__proto__=re)}var $=bv.ChromeFields=function(X){Q(re,X);function re(ne){z(this,re);var V=N(this,(re.__proto__||Object.getPrototypeOf(re)).call(this));return V.toggleViews=function(){V.state.view==="hex"?V.setState({view:"rgb"}):V.state.view==="rgb"?V.setState({view:"hsl"}):V.state.view==="hsl"&&(V.props.hsl.a===1?V.setState({view:"hex"}):V.setState({view:"rgb"}))},V.handleChange=function(J,W){J.hex?s.isValidHex(J.hex)&&V.props.onChange({hex:J.hex,source:"hex"},W):J.r||J.g||J.b?V.props.onChange({r:J.r||V.props.rgb.r,g:J.g||V.props.rgb.g,b:J.b||V.props.rgb.b,source:"rgb"},W):J.a?(J.a<0?J.a=0:J.a>1&&(J.a=1),V.props.onChange({h:V.props.hsl.h,s:V.props.hsl.s,l:V.props.hsl.l,a:Math.round(J.a*100)/100,source:"rgb"},W)):(J.h||J.s||J.l)&&(typeof J.s=="string"&&J.s.includes("%")&&(J.s=J.s.replace("%","")),typeof J.l=="string"&&J.l.includes("%")&&(J.l=J.l.replace("%","")),J.s==1?J.s=.01:J.l==1&&(J.l=.01),V.props.onChange({h:J.h||V.props.hsl.h,s:Number((0,p.default)(J.s)?V.props.hsl.s:J.s),l:Number((0,p.default)(J.l)?V.props.hsl.l:J.l),source:"hsl"},W))},V.showHighlight=function(J){J.currentTarget.style.background="#eee"},V.hideHighlight=function(J){J.currentTarget.style.background="transparent"},ne.hsl.a!==1&&ne.view==="hex"?V.state={view:"rgb"}:V.state={view:ne.view},V}return n(re,[{key:"render",value:function(){var V=this,J=(0,r.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),W=void 0;return this.state.view==="hex"?W=t.default.createElement("div",{style:J.fields,className:"flexbox-fix"},t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?W=t.default.createElement("div",{style:J.fields,className:"flexbox-fix"},t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),t.default.createElement("div",{style:J.alpha},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(W=t.default.createElement("div",{style:J.fields,className:"flexbox-fix"},t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),t.default.createElement("div",{style:J.field},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),t.default.createElement("div",{style:J.alpha},t.default.createElement(g.EditableInput,{style:{input:J.input,label:J.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),t.default.createElement("div",{style:J.wrap,className:"flexbox-fix"},W,t.default.createElement("div",{style:J.toggle},t.default.createElement("div",{style:J.icon,onClick:this.toggleViews,ref:function(ge){return V.icon=ge}},t.default.createElement(E.default,{style:J.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(V,J){return V.hsl.a!==1&&J.view==="hex"?{view:"rgb"}:null}}]),re}(t.default.Component);return $.defaultProps={view:"hex"},bv.default=$,bv}var xv={},bL;function Pge(){if(bL)return xv;bL=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.ChromePointer=void 0;var n=Rl(),e=r(n),t=Em(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}var o=xv.ChromePointer=function(){var a=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return e.default.createElement("div",{style:a.picker})};return xv.default=o,xv}var Mv={},xL;function Uge(){if(xL)return Mv;xL=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.ChromePointerCircle=void 0;var n=Rl(),e=r(n),t=Em(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}var o=Mv.ChromePointerCircle=function(){var a=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return e.default.createElement("div",{style:a.picker})};return Mv.default=o,Mv}var ML;function Kge(){if(ML)return lv;ML=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.Chrome=void 0;var n=Rl(),e=N(n),t=sg(),i=N(t),r=Em(),o=N(r),s=jQ(),a=N(s),p=WQ(),g=Rge(),_=N(g),E=Pge(),O=N(E),B=Uge(),z=N(B);function N($){return $&&$.__esModule?$:{default:$}}var Q=lv.Chrome=function(X){var re=X.width,ne=X.onChange,V=X.disableAlpha,J=X.rgb,W=X.hsl,he=X.hsv,ge=X.hex,ve=X.renderers,_e=X.styles,Me=_e===void 0?{}:_e,be=X.className,ze=be===void 0?"":be,Ce=X.defaultView,Fe=(0,o.default)((0,a.default)({default:{picker:{width:re,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+J.r+", "+J.g+", "+J.b+", "+J.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},Me),{disableAlpha:V});return e.default.createElement("div",{style:Fe.picker,className:"chrome-picker "+ze},e.default.createElement("div",{style:Fe.saturation},e.default.createElement(p.Saturation,{style:Fe.Saturation,hsl:W,hsv:he,pointer:z.default,onChange:ne})),e.default.createElement("div",{style:Fe.body},e.default.createElement("div",{style:Fe.controls,className:"flexbox-fix"},e.default.createElement("div",{style:Fe.color},e.default.createElement("div",{style:Fe.swatch},e.default.createElement("div",{style:Fe.active}),e.default.createElement(p.Checkboard,{renderers:ve}))),e.default.createElement("div",{style:Fe.toggles},e.default.createElement("div",{style:Fe.hue},e.default.createElement(p.Hue,{style:Fe.Hue,hsl:W,pointer:O.default,onChange:ne})),e.default.createElement("div",{style:Fe.alpha},e.default.createElement(p.Alpha,{style:Fe.Alpha,rgb:J,hsl:W,pointer:O.default,renderers:ve,onChange:ne})))),e.default.createElement(_.default,{rgb:J,hsl:W,hex:ge,view:Ce,onChange:ne,disableAlpha:V})))};return Q.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),disableAlpha:i.default.bool,styles:i.default.object,defaultView:i.default.oneOf(["hex","rgb","hsl"])},Q.defaultProps={width:225,disableAlpha:!1,styles:{}},lv.default=(0,p.ColorWrap)(Q),lv}var Lge=Kge();const Fge=Bu(Lge);function uo(){var n="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",e="04cff10f573f4461c1718b34a830d9c914f6fa95",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:124,column:9}},27:{start:{line:114,column:12},end:{line:114,column:36}},28:{start:{line:121,column:27},end:{line:121,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:125,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:115,column:11}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:121,column:20},end:{line:121,column:21}},loc:{start:{line:121,column:27},end:{line:121,column:56}},line:121}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:120,column:17},end:{line:120,column:57}},type:"cond-expr",locations:[{start:{line:120,column:36},end:{line:120,column:52}},{start:{line:120,column:55},end:{line:120,column:57}}],line:120}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU;AAAC,iBAAK,aAAa;AAAA,UAAM;AAAA,UACzC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"04cff10f573f4461c1718b34a830d9c914f6fa95"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return uo=function(){return s},s}uo();function zge(n){uo().f[0]++;const e=(uo().s[0]++,n.rgb);return uo().s[1]++,`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}class EI extends ii.Component{state=(uo().s[2]++,{pickerOpened:!1});colorInput=(uo().s[3]++,null);constructor(e){uo().f[1]++,uo().s[4]++,super(e),uo().s[5]++,this.onChangeNoCheck=pB.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(e){uo().f[2]++,uo().s[6]++,this.props.onChange(e)}calcPickerOffset=(uo().s[7]++,()=>{uo().f[3]++;const e=(uo().s[8]++,this.colorInput);if(uo().s[9]++,e){uo().b[0][0]++;const t=(uo().s[10]++,e.getBoundingClientRect());return uo().s[11]++,{top:t.top,left:t.left+196}}else return uo().b[0][1]++,uo().s[12]++,{top:160,left:555}});togglePicker=(uo().s[13]++,()=>{uo().f[4]++,uo().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})});get color(){uo().f[5]++,uo().s[15]++;try{return uo().s[16]++,lc(this.props.value).rgb()}catch(e){return uo().s[17]++,console.warn("Error parsing color: ",e),uo().s[18]++,lc("rgb(255,255,255)")}}onChange(e){uo().f[6]++,uo().s[19]++,this.props.onChange(e===""?(uo().b[1][0]++,void 0):(uo().b[1][1]++,e))}render(){uo().f[7]++;const e=(uo().s[20]++,this.calcPickerOffset()),t=(uo().s[21]++,this.color.object()),i=(uo().s[22]++,{r:t.r,g:t.g,b:t.b,a:t.alpha}),r=(uo().s[23]++,Ae.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:e.left,top:e.top},children:[Ae.jsx(Fge,{color:i,onChange:s=>(uo().f[8]++,uo().s[24]++,this.onChangeNoCheck(zge(s)))}),Ae.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),o=(uo().s[25]++,{backgroundColor:this.props.value});return uo().s[26]++,Ae.jsxs("div",{className:"maputnik-color-wrapper",children:[(uo().b[2][0]++,this.state.pickerOpened&&(uo().b[2][1]++,r)),Ae.jsx("div",{className:"maputnik-color-swatch",style:o}),Ae.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:s=>{uo().f[9]++,uo().s[27]++,this.colorInput=s},onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(uo().b[3][0]++,this.props.value):(uo().b[3][1]++,""),onChange:s=>(uo().f[10]++,uo().s[28]++,this.onChange(s.target.value))})]})}}function vn(){var n="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",e="4f1ef08718bb93faa62aae09b5e3576a9aa3bb04",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:39,column:5}},10:{start:{line:31,column:6},end:{line:31,column:58}},11:{start:{line:31,column:31},end:{line:31,column:58}},12:{start:{line:32,column:6},end:{line:34,column:9}},13:{start:{line:35,column:11},end:{line:39,column:5}},14:{start:{line:36,column:6},end:{line:38,column:9}},15:{start:{line:40,column:4},end:{line:42,column:7}},16:{start:{line:45,column:4},end:{line:47,column:5}},17:{start:{line:46,column:6},end:{line:46,column:18}},18:{start:{line:48,column:18},end:{line:48,column:20}},19:{start:{line:49,column:4},end:{line:51,column:5}},20:{start:{line:50,column:6},end:{line:50,column:19}},21:{start:{line:52,column:4},end:{line:54,column:5}},22:{start:{line:53,column:6},end:{line:53,column:19}},23:{start:{line:55,column:4},end:{line:57,column:5}},24:{start:{line:56,column:6},end:{line:56,column:19}},25:{start:{line:58,column:4},end:{line:58,column:16}},26:{start:{line:60,column:15},end:{line:74,column:3}},27:{start:{line:61,column:4},end:{line:61,column:38}},28:{start:{line:62,column:4},end:{line:64,column:5}},29:{start:{line:63,column:6},end:{line:63,column:13}},30:{start:{line:65,column:4},end:{line:73,column:5}},31:{start:{line:66,column:6},end:{line:72,column:7}},32:{start:{line:67,column:8},end:{line:67,column:43}},33:{start:{line:68,column:8},end:{line:68,column:56}},34:{start:{line:70,column:8},end:{line:70,column:33}},35:{start:{line:71,column:8},end:{line:71,column:46}},36:{start:{line:75,column:18},end:{line:100,column:3}},37:{start:{line:76,column:16},end:{line:76,column:42}},38:{start:{line:77,column:17},end:{line:77,column:37}},39:{start:{line:78,column:21},end:{line:78,column:26}},40:{start:{line:79,column:4},end:{line:95,column:5}},41:{start:{line:80,column:19},end:{line:80,column:31}},42:{start:{line:81,column:6},end:{line:94,column:7}},43:{start:{line:82,column:8},end:{line:86,column:9}},44:{start:{line:83,column:10},end:{line:83,column:42}},45:{start:{line:85,column:10},end:{line:85,column:42}},46:{start:{line:87,column:8},end:{line:87,column:27}},47:{start:{line:89,column:8},end:{line:93,column:9}},48:{start:{line:90,column:10},end:{line:90,column:31}},49:{start:{line:92,column:10},end:{line:92,column:40}},50:{start:{line:96,column:4},end:{line:96,column:32}},51:{start:{line:97,column:4},end:{line:97,column:70}},52:{start:{line:98,column:4},end:{line:98,column:41}},53:{start:{line:99,column:4},end:{line:99,column:56}},54:{start:{line:99,column:29},end:{line:99,column:56}},55:{start:{line:102,column:4},end:{line:185,column:5}},56:{start:{line:103,column:20},end:{line:103,column:81}},57:{start:{line:104,column:27},end:{line:104,column:82}},58:{start:{line:106,column:6},end:{line:110,column:7}},59:{start:{line:107,column:8},end:{line:107,column:38}},60:{start:{line:109,column:8},end:{line:109,column:27}},61:{start:{line:111,column:6},end:{line:165,column:11}},62:{start:{line:124,column:14},end:{line:124,column:41}},63:{start:{line:127,column:14},end:{line:127,column:67}},64:{start:{line:130,column:14},end:{line:130,column:69}},65:{start:{line:133,column:14},end:{line:137,column:17}},66:{start:{line:152,column:14},end:{line:152,column:47}},67:{start:{line:155,column:14},end:{line:155,column:47}},68:{start:{line:158,column:14},end:{line:158,column:48}},69:{start:{line:159,column:14},end:{line:159,column:32}},70:{start:{line:167,column:20},end:{line:167,column:81}},71:{start:{line:168,column:6},end:{line:184,column:8}},72:{start:{line:176,column:27},end:{line:176,column:59}},73:{start:{line:178,column:12},end:{line:178,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:43,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:13},end:{line:59,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:60,column:15},end:{line:60,column:16}},loc:{start:{line:60,column:21},end:{line:74,column:3}},line:60},5:{name:"(anonymous_5)",decl:{start:{line:75,column:18},end:{line:75,column:19}},loc:{start:{line:75,column:25},end:{line:100,column:3}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:11},end:{line:186,column:3}},line:101},7:{name:"(anonymous_7)",decl:{start:{line:123,column:23},end:{line:123,column:24}},loc:{start:{line:123,column:29},end:{line:125,column:13}},line:123},8:{name:"(anonymous_8)",decl:{start:{line:126,column:27},end:{line:126,column:28}},loc:{start:{line:126,column:33},end:{line:128,column:13}},line:126},9:{name:"(anonymous_9)",decl:{start:{line:129,column:25},end:{line:129,column:26}},loc:{start:{line:129,column:31},end:{line:131,column:13}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:132,column:20},end:{line:132,column:21}},loc:{start:{line:132,column:26},end:{line:138,column:13}},line:132},11:{name:"(anonymous_11)",decl:{start:{line:151,column:21},end:{line:151,column:22}},loc:{start:{line:151,column:29},end:{line:153,column:13}},line:151},12:{name:"(anonymous_12)",decl:{start:{line:154,column:22},end:{line:154,column:23}},loc:{start:{line:154,column:29},end:{line:156,column:13}},line:154},13:{name:"(anonymous_13)",decl:{start:{line:157,column:20},end:{line:157,column:21}},loc:{start:{line:157,column:28},end:{line:160,column:13}},line:157},14:{name:"(anonymous_14)",decl:{start:{line:176,column:20},end:{line:176,column:21}},loc:{start:{line:176,column:27},end:{line:176,column:59}},line:176},15:{name:"(anonymous_15)",decl:{start:{line:177,column:19},end:{line:177,column:20}},loc:{start:{line:177,column:25},end:{line:179,column:11}},line:177}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:39,column:5}},{start:{line:35,column:11},end:{line:39,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:31,column:58}},type:"if",locations:[{start:{line:31,column:6},end:{line:31,column:58}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:35,column:11},end:{line:39,column:5}},type:"if",locations:[{start:{line:35,column:11},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},8:{loc:{start:{line:35,column:15},end:{line:35,column:49}},type:"binary-expr",locations:[{start:{line:35,column:15},end:{line:35,column:35}},{start:{line:35,column:39},end:{line:35,column:49}}],line:35},9:{loc:{start:{line:41,column:18},end:{line:41,column:53}},type:"cond-expr",locations:[{start:{line:41,column:36},end:{line:41,column:42}},{start:{line:41,column:45},end:{line:41,column:53}}],line:41},10:{loc:{start:{line:45,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:47,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},11:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},12:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},13:{loc:{start:{line:52,column:8},end:{line:52,column:56}},type:"binary-expr",locations:[{start:{line:52,column:8},end:{line:52,column:30}},{start:{line:52,column:34},end:{line:52,column:56}}],line:52},14:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},15:{loc:{start:{line:55,column:8},end:{line:55,column:56}},type:"binary-expr",locations:[{start:{line:55,column:8},end:{line:55,column:30}},{start:{line:55,column:34},end:{line:55,column:56}}],line:55},16:{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},17:{loc:{start:{line:65,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:73,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},18:{loc:{start:{line:66,column:6},end:{line:72,column:7}},type:"if",locations:[{start:{line:66,column:6},end:{line:72,column:7}},{start:{line:69,column:13},end:{line:72,column:7}}],line:66},19:{loc:{start:{line:79,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},20:{loc:{start:{line:81,column:6},end:{line:94,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:94,column:7}},{start:{line:88,column:13},end:{line:94,column:7}}],line:81},21:{loc:{start:{line:82,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:86,column:9}},{start:{line:84,column:15},end:{line:86,column:9}}],line:82},22:{loc:{start:{line:89,column:8},end:{line:93,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:93,column:9}},{start:{line:91,column:15},end:{line:93,column:9}}],line:89},23:{loc:{start:{line:99,column:4},end:{line:99,column:56}},type:"if",locations:[{start:{line:99,column:4},end:{line:99,column:56}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:99},24:{loc:{start:{line:102,column:4},end:{line:185,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:185,column:5}},{start:{line:166,column:11},end:{line:185,column:5}}],line:102},25:{loc:{start:{line:102,column:8},end:{line:102,column:205}},type:"binary-expr",locations:[{start:{line:102,column:8},end:{line:102,column:63}},{start:{line:102,column:67},end:{line:102,column:122}},{start:{line:102,column:126},end:{line:102,column:151}},{start:{line:102,column:155},end:{line:102,column:180}},{start:{line:102,column:184},end:{line:102,column:205}}],line:102},26:{loc:{start:{line:103,column:20},end:{line:103,column:81}},type:"cond-expr",locations:[{start:{line:103,column:41},end:{line:103,column:62}},{start:{line:103,column:65},end:{line:103,column:81}}],line:103},27:{loc:{start:{line:104,column:27},end:{line:104,column:82}},type:"cond-expr",locations:[{start:{line:104,column:59},end:{line:104,column:61}},{start:{line:104,column:64},end:{line:104,column:82}}],line:104},28:{loc:{start:{line:106,column:6},end:{line:110,column:7}},type:"if",locations:[{start:{line:106,column:6},end:{line:110,column:7}},{start:{line:108,column:13},end:{line:110,column:7}}],line:106},29:{loc:{start:{line:121,column:19},end:{line:121,column:58}},type:"cond-expr",locations:[{start:{line:121,column:38},end:{line:121,column:50}},{start:{line:121,column:53},end:{line:121,column:58}}],line:121},30:{loc:{start:{line:150,column:19},end:{line:150,column:58}},type:"cond-expr",locations:[{start:{line:150,column:43},end:{line:150,column:45}},{start:{line:150,column:48},end:{line:150,column:58}}],line:150},31:{loc:{start:{line:167,column:20},end:{line:167,column:81}},type:"cond-expr",locations:[{start:{line:167,column:41},end:{line:167,column:62}},{start:{line:167,column:65},end:{line:167,column:81}}],line:167},32:{loc:{start:{line:175,column:17},end:{line:175,column:46}},type:"cond-expr",locations:[{start:{line:175,column:36},end:{line:175,column:38}},{start:{line:175,column:41},end:{line:175,column:46}}],line:175}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAwC;AAC/C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4f1ef08718bb93faa62aae09b5e3576a9aa3bb04"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return vn=function(){return s},s}vn();class ig extends ii.Component{static defaultProps=(vn().s[0]++,{rangeStep:1});_keyboardEvent=(vn().s[1]++,!1);constructor(e){vn().f[0]++,vn().s[2]++,super(e),vn().s[3]++,this.state={uuid:+hC(),editing:!1,value:e.value,dirtyValue:e.value}}static getDerivedStateFromProps(e,t){return vn().f[1]++,vn().s[4]++,vn().b[1][0]++,!t.editing&&(vn().b[1][1]++,e.value!==t.value)?(vn().b[0][0]++,vn().s[5]++,{value:e.value,dirtyValue:e.value}):(vn().b[0][1]++,vn().s[6]++,null)}changeValue(e){vn().f[2]++;const t=(vn().s[7]++,vn().b[3][0]++,e===""||(vn().b[3][1]++,e===void 0)?(vn().b[2][0]++,void 0):(vn().b[2][1]++,+e)),i=(vn().s[8]++,this.props.value!==t);vn().s[9]++,vn().b[5][0]++,this.isValid(t)&&(vn().b[5][1]++,i)?(vn().b[4][0]++,vn().s[10]++,this.props.onChange?(vn().b[6][0]++,vn().s[11]++,this.props.onChange(t)):vn().b[6][1]++,vn().s[12]++,this.setState({value:t})):(vn().b[4][1]++,vn().s[13]++,vn().b[8][0]++,!this.isValid(t)&&(vn().b[8][1]++,i)?(vn().b[7][0]++,vn().s[14]++,this.setState({value:void 0})):vn().b[7][1]++),vn().s[15]++,this.setState({dirtyValue:e===""?(vn().b[9][0]++,void 0):(vn().b[9][1]++,e)})}isValid(e){if(vn().f[3]++,vn().s[16]++,e===void 0)return vn().b[10][0]++,vn().s[17]++,!0;vn().b[10][1]++;const t=(vn().s[18]++,+e);return vn().s[19]++,isNaN(t)?(vn().b[11][0]++,vn().s[20]++,!1):(vn().b[11][1]++,vn().s[21]++,vn().b[13][0]++,!isNaN(this.props.min)&&(vn().b[13][1]++,t<this.props.min)?(vn().b[12][0]++,vn().s[22]++,!1):(vn().b[12][1]++,vn().s[23]++,vn().b[15][0]++,!isNaN(this.props.max)&&(vn().b[15][1]++,t>this.props.max)?(vn().b[14][0]++,vn().s[24]++,!1):(vn().b[14][1]++,vn().s[25]++,!0)))}resetValue=(vn().s[26]++,()=>{if(vn().f[4]++,vn().s[27]++,this.setState({editing:!1}),vn().s[28]++,this.state.value)vn().b[16][1]++;else{vn().b[16][0]++,vn().s[29]++;return}vn().s[30]++,this.isValid(this.state.value)?vn().b[17][1]++:(vn().b[17][0]++,vn().s[31]++,this.isValid(this.props.value)?(vn().b[18][0]++,vn().s[32]++,this.changeValue(this.props.value),vn().s[33]++,this.setState({dirtyValue:this.props.value})):(vn().b[18][1]++,vn().s[34]++,this.changeValue(void 0),vn().s[35]++,this.setState({dirtyValue:void 0})))});onChangeRange=(vn().s[36]++,e=>{vn().f[5]++;let t=(vn().s[37]++,parseFloat(e.target.value));const i=(vn().s[38]++,this.props.rangeStep);let r=(vn().s[39]++,t);if(vn().s[40]++,i){vn().b[19][0]++;const o=(vn().s[41]++,t%i);vn().s[42]++,this._keyboardEvent?(vn().b[20][0]++,vn().s[43]++,t<+this.state.dirtyValue?(vn().b[21][0]++,vn().s[44]++,t=this.state.value-i):(vn().b[21][1]++,vn().s[45]++,t=this.state.value+i),vn().s[46]++,r=t):(vn().b[20][1]++,vn().s[47]++,o<i/2?(vn().b[22][0]++,vn().s[48]++,t=t-o):(vn().b[22][1]++,vn().s[49]++,t=t+(i-o)))}else vn().b[19][1]++;vn().s[50]++,this._keyboardEvent=!1,vn().s[51]++,t=Math.max(this.props.min,Math.min(this.props.max,t)),vn().s[52]++,this.setState({value:t,dirtyValue:r}),vn().s[53]++,this.props.onChange?(vn().b[23][0]++,vn().s[54]++,this.props.onChange(t)):vn().b[23][1]++});render(){if(vn().f[6]++,vn().s[55]++,vn().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(vn().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(vn().b[25][2]++,this.props.min!==void 0)&&(vn().b[25][3]++,this.props.max!==void 0)&&(vn().b[25][4]++,this.props.allowRange)){vn().b[24][0]++;const e=(vn().s[56]++,this.state.editing?(vn().b[26][0]++,this.state.dirtyValue):(vn().b[26][1]++,this.state.value)),t=(vn().s[57]++,this.props.default===void 0?(vn().b[27][0]++,""):(vn().b[27][1]++,this.props.default));let i;return vn().s[58]++,this.state.editingRange?(vn().b[28][0]++,vn().s[59]++,i=this.state.value):(vn().b[28][1]++,vn().s[60]++,i=e),vn().s[61]++,Ae.jsxs("div",{className:"maputnik-number-container",children:[Ae.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:e===void 0?(vn().b[29][0]++,t):(vn().b[29][1]++,e),onChange:this.onChangeRange,onKeyDown:()=>{vn().f[7]++,vn().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{vn().f[8]++,vn().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{vn().f[9]++,vn().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{vn().f[10]++,vn().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),Ae.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:this.props.default?.toString(),value:i===void 0?(vn().b[30][0]++,""):(vn().b[30][1]++,i),onFocus:r=>{vn().f[11]++,vn().s[66]++,this.setState({editing:!0})},onChange:r=>{vn().f[12]++,vn().s[67]++,this.changeValue(r.target.value)},onBlur:r=>{vn().f[13]++,vn().s[68]++,this.setState({editing:!1}),vn().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{vn().b[24][1]++;const e=(vn().s[70]++,this.state.editing?(vn().b[31][0]++,this.state.dirtyValue):(vn().b[31][1]++,this.state.value));return vn().s[71]++,Ae.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:this.props.default?.toString(),value:e===void 0?(vn().b[32][0]++,""):(vn().b[32][1]++,e),onChange:t=>(vn().f[14]++,vn().s[72]++,this.changeValue(t.target.value)),onFocus:()=>{vn().f[15]++,vn().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}function e0(){var n="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",e="e85f7924976070cbab7795bce9cf0e191e4a6b5e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return e0=function(){return s},s}e0();class QQ extends ii.Component{static defaultProps=(e0().s[0]++,{value:!1});onChange=(e0().s[1]++,()=>{e0().f[0]++,e0().s[2]++,this.props.onChange(!this.props.value)});render(){return e0().f[1]++,e0().s[3]++,Ae.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[Ae.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),Ae.jsx("div",{className:"maputnik-checkbox-box",children:Ae.jsx("svg",{style:{display:this.props.value?(e0().b[0][0]++,"inline"):(e0().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:Ae.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}function Qi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",e="9ed81d69001830f70ea45ac1502cde5125167d89",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAkC,OAAwB;AACxF,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9ed81d69001830f70ea45ac1502cde5125167d89"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Qi=function(){return s},s}Qi();class zO extends ii.Component{static defaultProps=(Qi().s[0]++,{value:[],default:[]});constructor(e){Qi().f[0]++,Qi().s[1]++,super(e),Qi().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(e,t){Qi().f[1]++;const i=(Qi().s[3]++,[]),r=(Qi().s[4]++,t.initialPropsValue.slice(0));return Qi().s[5]++,Array(e.length).fill(null).map((o,s)=>{Qi().f[2]++,Qi().s[6]++,e.value[s]===t.initialPropsValue[s]?(Qi().b[0][0]++,Qi().s[7]++,i[s]=t.value[s]):(Qi().b[0][1]++,Qi().s[8]++,i[s]=t.value[s],Qi().s[9]++,r[s]=t.value[s])}),Qi().s[10]++,{value:i,initialPropsValue:r}}isComplete(e){return Qi().f[3]++,Qi().s[11]++,Array(this.props.length).fill(null).every((t,i)=>{Qi().f[4]++;const r=(Qi().s[12]++,e[i]);return Qi().s[13]++,Qi().b[1][0]++,!(r===void 0||(Qi().b[1][1]++,r===""))})}changeValue(e,t){Qi().f[5]++;const i=(Qi().s[14]++,this.state.value.slice(0));Qi().s[15]++,i[e]=t,Qi().s[16]++,this.setState({value:i},()=>{Qi().f[6]++,Qi().s[17]++,Qi().b[3][0]++,this.isComplete(i)&&(Qi().b[3][1]++,this.props.onChange)?(Qi().b[2][0]++,Qi().s[18]++,this.props.onChange(i)):(Qi().b[2][1]++,Qi().s[19]++,this.props.onChange?(Qi().b[4][0]++,Qi().s[20]++,this.props.onChange(void 0)):Qi().b[4][1]++)})}render(){Qi().f[7]++;const{value:e}=(Qi().s[21]++,this.state),t=(Qi().s[22]++,Qi().b[5][0]++,e.length>0&&(Qi().b[5][1]++,!e.every(r=>(Qi().f[8]++,Qi().s[23]++,Qi().b[6][0]++,r===""||(Qi().b[6][1]++,r===void 0))))),i=(Qi().s[24]++,Array(this.props.length).fill(null).map((r,o)=>(Qi().f[9]++,Qi().s[25]++,this.props.type==="number"?(Qi().b[7][0]++,Qi().s[26]++,Ae.jsx(ig,{default:(Qi().b[9][0]++,t||(Qi().b[9][1]++,!this.props.default)?(Qi().b[8][0]++,void 0):(Qi().b[8][1]++,this.props.default[o])),value:e[o],required:t?(Qi().b[10][0]++,!0):(Qi().b[10][1]++,!1),onChange:s=>(Qi().f[10]++,Qi().s[27]++,this.changeValue(o,s)),"aria-label":(Qi().b[11][0]++,this.props["aria-label"]||(Qi().b[11][1]++,this.props.label))},o)):(Qi().b[7][1]++,Qi().s[28]++,Ae.jsx(_m,{default:(Qi().b[13][0]++,t||(Qi().b[13][1]++,!this.props.default)?(Qi().b[12][0]++,void 0):(Qi().b[12][1]++,this.props.default[o])),value:e[o],required:t?(Qi().b[14][0]++,!0):(Qi().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(Qi().b[15][0]++,this.props["aria-label"]||(Qi().b[15][1]++,this.props.label))},o)))));return Qi().s[29]++,Ae.jsx("div",{className:"maputnik-array",children:i})}}function LA(){var n="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",e="bdd7d8430a2c43402b1b125b74a343e39aea6a6c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,mBAAmB,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAExH;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bdd7d8430a2c43402b1b125b74a343e39aea6a6c"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return LA=function(){return s},s}LA();class jge extends ii.Component{render(){LA().f[0]++;let e=(LA().s[0]++,this.props.options);LA().s[1]++,LA().b[1][0]++,e.length>0&&(LA().b[1][1]++,!Array.isArray(e[0]))?(LA().b[0][0]++,LA().s[2]++,e=e.map(r=>(LA().f[1]++,LA().s[3]++,[r,r]))):LA().b[0][1]++;const t=(LA().s[4]++,LA().b[2][0]++,this.props.value||(LA().b[2][1]++,e[0][0])),i=(LA().s[5]++,e.map(([r,o])=>(LA().f[2]++,LA().s[6]++,Ae.jsxs("label",{className:g0("maputnik-button","maputnik-radio-as-button",{"maputnik-button-selected":r===t}),children:[Ae.jsx("input",{type:"radio",name:this.props.name,onChange:s=>(LA().f[3]++,LA().s[7]++,this.props.onChange(r)),value:r,checked:r===t}),o]},r))));return LA().s[8]++,Ae.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:i})}}function su(){var n="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",e="d905b5da4422f2b84d44f87b04fda3de421542f5",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return su=function(){return s},s}su();function Nge(n){su().f[0]++;let e=(su().s[0]++,0);return su().s[1]++,n.forEach(([t,i])=>{su().f[1]++,su().s[2]++,e+=i.length}),su().s[3]++,e}class BI extends ii.Component{render(){su().f[2]++;const{options:e,value:t,onChange:i,name:r,label:o}=(su().s[4]++,this.props);return su().s[5]++,su().b[1][0]++,e.length<=3&&(su().b[1][1]++,Nge(e)<=20)?(su().b[0][0]++,su().s[6]++,Ae.jsx(jge,{name:r,options:e,value:(su().b[2][0]++,t||(su().b[2][1]++,this.props.default)),onChange:i,"aria-label":(su().b[3][0]++,this.props["aria-label"]||(su().b[3][1]++,o))})):(su().b[0][1]++,su().s[7]++,Ae.jsx(xy,{options:e,value:(su().b[4][0]++,t||(su().b[4][1]++,this.props.default)),onChange:i,"aria-label":(su().b[5][0]++,this.props["aria-label"]||(su().b[5][1]++,o))}))}}function Vv(){var n="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",e="f693e5bbe9d7e0de15b6fd90f13b77a5ebfddf0e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:4},end:{line:12,column:9}},2:{start:{line:15,column:19},end:{line:15,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:13,column:3}},line:6}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,SAA+B,uBAAuB;AACtD,OAAO;AAOP,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAU;AACR,UAAM,IAAI,KAAK,MAAM;AACrB,WACE,qBAAC,SAAI,WAAU,cACZ;AAAA,QAAE,QAAQ;AAAA,MAAE;AAAA,MAAE,KAAK,MAAM;AAAA,OAC5B;AAAA,EAEJ;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f693e5bbe9d7e0de15b6fd90f13b77a5ebfddf0e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Vv=function(){return s},s}Vv();class Gge extends ii.Component{render(){Vv().f[0]++;const e=(Vv().s[0]++,this.props.t);return Vv().s[1]++,Ae.jsxs("div",{className:"SmallError",children:[e("Error:")," ",this.props.children]})}}const p6=(Vv().s[2]++,is()(Gge));function Ao(){var n="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",e="447f54dcea7174dfde20df5fd4ad658ec6e8baa0",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:7,column:2},end:{line:9,column:3}},1:{start:{line:8,column:4},end:{line:8,column:11}},2:{start:{line:11,column:22},end:{line:18,column:3}},3:{start:{line:12,column:4},end:{line:17,column:5}},4:{start:{line:13,column:21},end:{line:13,column:34}},5:{start:{line:14,column:6},end:{line:14,column:29}},6:{start:{line:16,column:6},end:{line:16,column:20}},7:{start:{line:19,column:19},end:{line:19,column:35}},8:{start:{line:20,column:16},end:{line:20,column:53}},9:{start:{line:21,column:2},end:{line:41,column:3}},10:{start:{line:22,column:4},end:{line:34,column:5}},11:{start:{line:23,column:6},end:{line:26,column:14}},12:{start:{line:28,column:6},end:{line:33,column:14}},13:{start:{line:35,column:9},end:{line:41,column:3}},14:{start:{line:36,column:4},end:{line:40,column:12}},15:{start:{line:42,column:2},end:{line:42,column:15}},16:{start:{line:45,column:24},end:{line:48,column:3}},17:{start:{line:50,column:4},end:{line:50,column:17}},18:{start:{line:51,column:4},end:{line:53,column:6}},19:{start:{line:55,column:12},end:{line:60,column:3}},20:{start:{line:56,column:4},end:{line:58,column:7}},21:{start:{line:59,column:4},end:{line:59,column:52}},22:{start:{line:59,column:28},end:{line:59,column:52}},23:{start:{line:61,column:13},end:{line:66,column:3}},24:{start:{line:62,column:4},end:{line:64,column:7}},25:{start:{line:65,column:4},end:{line:65,column:29}},26:{start:{line:68,column:4},end:{line:79,column:9}},27:{start:{line:82,column:17},end:{line:82,column:52}}},fnMap:{0:{name:"validate",decl:{start:{line:6,column:9},end:{line:6,column:17}},loc:{start:{line:6,column:26},end:{line:43,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:11,column:22},end:{line:11,column:23}},loc:{start:{line:11,column:32},end:{line:18,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:46,column:13},end:{line:46,column:14}},loc:{start:{line:46,column:19},end:{line:47,column:5}},line:46},3:{name:"(anonymous_3)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:21},end:{line:54,column:3}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:55,column:12},end:{line:55,column:13}},loc:{start:{line:55,column:21},end:{line:60,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:61,column:13},end:{line:61,column:14}},loc:{start:{line:61,column:22},end:{line:66,column:3}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:80,column:3}},line:67}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:9,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:21,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:41,column:3}},{start:{line:35,column:9},end:{line:41,column:3}}],line:21},2:{loc:{start:{line:22,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:34,column:5}},{start:{line:27,column:11},end:{line:34,column:5}}],line:22},3:{loc:{start:{line:35,column:9},end:{line:41,column:3}},type:"if",locations:[{start:{line:35,column:9},end:{line:41,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:35,column:13},end:{line:35,column:86}},type:"binary-expr",locations:[{start:{line:35,column:13},end:{line:35,column:21}},{start:{line:35,column:25},end:{line:35,column:45}},{start:{line:35,column:49},end:{line:35,column:86}}],line:35},5:{loc:{start:{line:59,column:4},end:{line:59,column:52}},type:"if",locations:[{start:{line:59,column:4},end:{line:59,column:52}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4BU,SAAoC,KAApC;AA5BV,OAAO,WAAyB;AAChC,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AACvB,SAAS,OAA6B,uBAAuB;AAG7D,SAAS,SAAS,KAAa,GAAuC;AACpE,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,MAAM;AACX,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,QAAI,OAAO;AACT,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GAC3D;AAAA,IAEJ,OAAO;AACL,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GACnF;AAAA,IAEJ;AAAA,EACF,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,MACwE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G,GACF;AAAA,EAEJ;AAEA,SAAO;AACT;AAsBA,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAA8B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,OAAO,MAAM,CAAC;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"447f54dcea7174dfde20df5fd4ad658ec6e8baa0"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ao=function(){return s},s}Ao();function m6(n,e){if(Ao().f[0]++,Ao().s[0]++,n===""){Ao().b[0][0]++,Ao().s[1]++;return}else Ao().b[0][1]++;let t;Ao().s[2]++;const i=s=>{Ao().f[1]++,Ao().s[3]++;try{const a=(Ao().s[4]++,new URL(s));return Ao().s[5]++,a.protocol}catch{Ao().s[6]++;return}},r=(Ao().s[7]++,i(n)),o=(Ao().s[8]++,window.location.protocol==="https:");return Ao().s[9]++,r?(Ao().b[1][1]++,Ao().s[13]++,Ao().b[4][0]++,r&&(Ao().b[4][1]++,r==="http:")&&(Ao().b[4][2]++,window.location.protocol==="https:")?(Ao().b[3][0]++,Ao().s[14]++,t=Ae.jsx(p6,{children:Ae.jsxs(Zg,{t:e,children:["CORS policy won't allow fetching resources served over http from https, use a ",Ae.jsx("code",{children:"https://"})," domain"]})})):Ao().b[3][1]++):(Ao().b[1][0]++,Ao().s[10]++,o?(Ao().b[2][0]++,Ao().s[11]++,t=Ae.jsx(p6,{children:Ae.jsxs(Zg,{t:e,children:["Must provide protocol: ",Ae.jsx("code",{children:"https://"})]})})):(Ao().b[2][1]++,Ao().s[12]++,t=Ae.jsx(p6,{children:Ae.jsxs(Zg,{t:e,children:["Must provide protocol: ",Ae.jsx("code",{children:"http://"})," or ",Ae.jsx("code",{children:"https://"})]})}))),Ao().s[15]++,t}class Wge extends ii.Component{static defaultProps=(Ao().s[16]++,{onInput:()=>{Ao().f[2]++}});constructor(e){Ao().f[3]++,Ao().s[17]++,super(e),Ao().s[18]++,this.state={error:m6(e.value,e.t)}}onInput=(Ao().s[19]++,e=>{Ao().f[4]++,Ao().s[20]++,this.setState({error:m6(e,this.props.t)}),Ao().s[21]++,this.props.onInput?(Ao().b[5][0]++,Ao().s[22]++,this.props.onInput(e)):Ao().b[5][1]++});onChange=(Ao().s[23]++,e=>{Ao().f[5]++,Ao().s[24]++,this.setState({error:m6(e,this.props.t)}),Ao().s[25]++,this.props.onChange(e)});render(){return Ao().f[6]++,Ao().s[26]++,Ae.jsxs("div",{children:[Ae.jsx(_m,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}}const OI=(Ao().s[27]++,is()(Wge));function xi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",e="705ac9c8c3dcb0aff320a53fac9b80bc280b1cbf",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:15,column:19},end:{line:15,column:39}},1:{start:{line:16,column:4},end:{line:16,column:27}},2:{start:{line:17,column:4},end:{line:17,column:57}},3:{start:{line:17,column:29},end:{line:17,column:57}},4:{start:{line:20,column:4},end:{line:20,column:56}},5:{start:{line:22,column:13},end:{line:38,column:3}},6:{start:{line:23,column:19},end:{line:23,column:39}},7:{start:{line:24,column:4},end:{line:36,column:5}},8:{start:{line:25,column:6},end:{line:25,column:21}},9:{start:{line:26,column:11},end:{line:36,column:5}},10:{start:{line:27,column:6},end:{line:27,column:22}},11:{start:{line:28,column:11},end:{line:36,column:5}},12:{start:{line:29,column:28},end:{line:29,column:38}},13:{start:{line:30,column:27},end:{line:30,column:59}},14:{start:{line:31,column:6},end:{line:31,column:32}},15:{start:{line:32,column:11},end:{line:36,column:5}},16:{start:{line:33,column:6},end:{line:33,column:29}},17:{start:{line:35,column:6},end:{line:35,column:22}},18:{start:{line:37,column:4},end:{line:37,column:57}},19:{start:{line:37,column:29},end:{line:37,column:57}},20:{start:{line:40,column:19},end:{line:40,column:39}},21:{start:{line:41,column:4},end:{line:41,column:31}},22:{start:{line:42,column:4},end:{line:42,column:86}},23:{start:{line:42,column:29},end:{line:42,column:86}},24:{start:{line:45,column:14},end:{line:45,column:26}},25:{start:{line:46,column:22},end:{line:46,column:77}},26:{start:{line:47,column:19},end:{line:116,column:6}},27:{start:{line:48,column:45},end:{line:54,column:7}},28:{start:{line:56,column:6},end:{line:103,column:7}},29:{start:{line:57,column:8},end:{line:64,column:10}},30:{start:{line:65,column:13},end:{line:103,column:7}},31:{start:{line:66,column:8},end:{line:73,column:10}},32:{start:{line:74,column:13},end:{line:103,column:7}},33:{start:{line:75,column:24},end:{line:75,column:99}},34:{start:{line:75,column:78},end:{line:75,column:98}},35:{start:{line:76,column:8},end:{line:84,column:10}},36:{start:{line:85,column:13},end:{line:103,column:7}},37:{start:{line:86,column:8},end:{line:93,column:10}},38:{start:{line:95,column:8},end:{line:102,column:10}},39:{start:{line:104,column:6},end:{line:115,column:8}},40:{start:{line:117,column:4},end:{line:127,column:9}},41:{start:{line:130,column:26},end:{line:130,column:70}},42:{start:{line:134,column:14},end:{line:134,column:26}},43:{start:{line:135,column:4},end:{line:148,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:29},end:{line:18,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:15},end:{line:21,column:3}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:22,column:13},end:{line:22,column:14}},loc:{start:{line:22,column:19},end:{line:38,column:3}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:24},end:{line:43,column:3}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:11},end:{line:128,column:3}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:47,column:35},end:{line:47,column:36}},loc:{start:{line:47,column:45},end:{line:116,column:5}},line:47},6:{name:"(anonymous_6)",decl:{start:{line:75,column:70},end:{line:75,column:71}},loc:{start:{line:75,column:78},end:{line:75,column:98}},line:75},7:{name:"(anonymous_7)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:11},end:{line:149,column:3}},line:133}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:17,column:57}},type:"if",locations:[{start:{line:17,column:4},end:{line:17,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:11},end:{line:20,column:55}},type:"binary-expr",locations:[{start:{line:20,column:11},end:{line:20,column:27}},{start:{line:20,column:31},end:{line:20,column:49}},{start:{line:20,column:53},end:{line:20,column:55}}],line:20},2:{loc:{start:{line:24,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:24},3:{loc:{start:{line:26,column:11},end:{line:36,column:5}},type:"if",locations:[{start:{line:26,column:11},end:{line:36,column:5}},{start:{line:28,column:11},end:{line:36,column:5}}],line:26},4:{loc:{start:{line:28,column:11},end:{line:36,column:5}},type:"if",locations:[{start:{line:28,column:11},end:{line:36,column:5}},{start:{line:32,column:11},end:{line:36,column:5}}],line:28},5:{loc:{start:{line:32,column:11},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:11},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},6:{loc:{start:{line:37,column:4},end:{line:37,column:57}},type:"if",locations:[{start:{line:37,column:4},end:{line:37,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},7:{loc:{start:{line:42,column:4},end:{line:42,column:86}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:86}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},8:{loc:{start:{line:42,column:49},end:{line:42,column:84}},type:"cond-expr",locations:[{start:{line:42,column:69},end:{line:42,column:75}},{start:{line:42,column:78},end:{line:42,column:84}}],line:42},9:{loc:{start:{line:56,column:6},end:{line:103,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:103,column:7}},{start:{line:65,column:13},end:{line:103,column:7}}],line:56},10:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},11:{loc:{start:{line:65,column:13},end:{line:103,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:103,column:7}},{start:{line:74,column:13},end:{line:103,column:7}}],line:65},12:{loc:{start:{line:71,column:26},end:{line:71,column:70}},type:"binary-expr",locations:[{start:{line:71,column:26},end:{line:71,column:50}},{start:{line:71,column:54},end:{line:71,column:70}}],line:71},13:{loc:{start:{line:74,column:13},end:{line:103,column:7}},type:"if",locations:[{start:{line:74,column:13},end:{line:103,column:7}},{start:{line:85,column:13},end:{line:103,column:7}}],line:74},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82},15:{loc:{start:{line:85,column:13},end:{line:103,column:7}},type:"if",locations:[{start:{line:85,column:13},end:{line:103,column:7}},{start:{line:94,column:13},end:{line:103,column:7}}],line:85},16:{loc:{start:{line:91,column:26},end:{line:91,column:70}},type:"binary-expr",locations:[{start:{line:91,column:26},end:{line:91,column:50}},{start:{line:91,column:54},end:{line:91,column:70}}],line:91},17:{loc:{start:{line:100,column:26},end:{line:100,column:70}},type:"binary-expr",locations:[{start:{line:100,column:26},end:{line:100,column:50}},{start:{line:100,column:54},end:{line:100,column:70}}],line:100}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAwE4B,cA2Cf,YA3Ce;AAxE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAEtD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AAkBvB,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,WAAW,KAAK,MAAM,SAAS,SAAS;AACtC,aAAO,KAAK,SAAS;AAAA,IACvB,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,YAAY,EAAE,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAO;AACxE,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB;AAAA,QAAC;AAAA;AAAA,UACrB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,UACrC,GAAG;AAAA;AAAA,MACN;AACA,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,SAAS;AACpC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UAEb,YAAE,WAAW;AAAA;AAAA,MAChB;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;AAMf,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,mBAAmB;AAAA,QAE5B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"705ac9c8c3dcb0aff320a53fac9b80bc280b1cbf"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return xi=function(){return s},s}xi();class Qge extends ii.Component{changeValue(e,t){xi().f[0]++;const i=(xi().s[0]++,this.values.slice(0));xi().s[1]++,i[e]=t,xi().s[2]++,this.props.onChange?(xi().b[0][0]++,xi().s[3]++,this.props.onChange(i)):xi().b[0][1]++}get values(){return xi().f[1]++,xi().s[4]++,xi().b[1][0]++,this.props.value||(xi().b[1][1]++,this.props.default)||(xi().b[1][2]++,[])}addValue=(xi().s[5]++,()=>{xi().f[2]++;const e=(xi().s[6]++,this.values.slice(0));if(xi().s[7]++,this.props.type==="number")xi().b[2][0]++,xi().s[8]++,e.push(0);else if(xi().b[2][1]++,xi().s[9]++,this.props.type==="url")xi().b[3][0]++,xi().s[10]++,e.push("");else if(xi().b[3][1]++,xi().s[11]++,this.props.type==="enum"){xi().b[4][0]++;const{fieldSpec:t}=(xi().s[12]++,this.props),i=(xi().s[13]++,Object.keys(t.values)[0]);xi().s[14]++,e.push(i)}else xi().b[4][1]++,xi().s[15]++,this.props.type==="color"?(xi().b[5][0]++,xi().s[16]++,e.push("#000000")):(xi().b[5][1]++,xi().s[17]++,e.push(""));xi().s[18]++,this.props.onChange?(xi().b[6][0]++,xi().s[19]++,this.props.onChange(e)):xi().b[6][1]++});deleteValue(e){xi().f[3]++;const t=(xi().s[20]++,this.values.slice(0));xi().s[21]++,t.splice(e,1),xi().s[22]++,this.props.onChange?(xi().b[7][0]++,xi().s[23]++,this.props.onChange(t.length>0?(xi().b[8][0]++,t):(xi().b[8][1]++,void 0))):xi().b[7][1]++}render(){xi().f[4]++;const e=(xi().s[24]++,this.props.t),t=(xi().s[25]++,{t:e,i18n:this.props.i18n,tReady:this.props.tReady}),i=(xi().s[26]++,this.values.map((r,o)=>{xi().f[5]++;const s=(xi().s[27]++,Ae.jsx(Yge,{onClick:this.deleteValue.bind(this,o),...t}));let a;if(xi().s[28]++,this.props.type==="url")xi().b[9][0]++,xi().s[29]++,a=Ae.jsx(OI,{value:r,onChange:this.changeValue.bind(this,o),"aria-label":(xi().b[10][0]++,this.props["aria-label"]||(xi().b[10][1]++,this.props.label))});else if(xi().b[9][1]++,xi().s[30]++,this.props.type==="number")xi().b[11][0]++,xi().s[31]++,a=Ae.jsx(ig,{value:r,onChange:this.changeValue.bind(this,o),"aria-label":(xi().b[12][0]++,this.props["aria-label"]||(xi().b[12][1]++,this.props.label))});else if(xi().b[11][1]++,xi().s[32]++,this.props.type==="enum"){xi().b[13][0]++;const p=(xi().s[33]++,Object.keys(this.props.fieldSpec?.values).map(g=>(xi().f[6]++,xi().s[34]++,[g,uI(g)])));xi().s[35]++,a=Ae.jsx(BI,{options:p,value:r,onChange:this.changeValue.bind(this,o),"aria-label":(xi().b[14][0]++,this.props["aria-label"]||(xi().b[14][1]++,this.props.label))})}else xi().b[13][1]++,xi().s[36]++,this.props.type==="color"?(xi().b[15][0]++,xi().s[37]++,a=Ae.jsx(EI,{value:r,onChange:this.changeValue.bind(this,o),"aria-label":(xi().b[16][0]++,this.props["aria-label"]||(xi().b[16][1]++,this.props.label))})):(xi().b[15][1]++,xi().s[38]++,a=Ae.jsx(_m,{value:r,onChange:this.changeValue.bind(this,o),"aria-label":(xi().b[17][0]++,this.props["aria-label"]||(xi().b[17][1]++,this.props.label))}));return xi().s[39]++,Ae.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[Ae.jsx("div",{className:"maputnik-array-block-action",children:s}),Ae.jsx("div",{className:"maputnik-array-block-content",children:a})]},o)}));return xi().s[40]++,Ae.jsxs("div",{className:"maputnik-array",children:[i,Ae.jsx(Gs,{className:"maputnik-array-add-value",onClick:this.addValue,children:e("Add value")})]})}}const _3=(xi().s[41]++,is()(Qge));class Yge extends ii.Component{render(){xi().f[7]++;const e=(xi().s[42]++,this.props.t);return xi().s[43]++,Ae.jsx(Gs,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove array item"),children:Ae.jsx(B7,{label:Ae.jsx(my,{})})})}}function Ls(){var n="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",e="cd16dc68fc42c219caf080518fd74984d4f8d81e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ls=function(){return s},s}Ls();class qge extends ii.Component{static defaultProps=(Ls().s[0]++,{fonts:[]});get values(){Ls().f[0]++;const e=(Ls().s[1]++,Ls().b[0][0]++,this.props.value||(Ls().b[0][1]++,this.props.default)||(Ls().b[0][2]++,[]));return Ls().s[2]++,e[e.length-1]!==""?(Ls().b[1][0]++,Ls().s[3]++,e.concat("")):(Ls().b[1][1]++,Ls().s[4]++,e)}changeFont(e,t){Ls().f[1]++;const i=(Ls().s[5]++,this.values.slice(0));Ls().s[6]++,i[e]=t;const r=(Ls().s[7]++,i.filter(o=>(Ls().f[2]++,Ls().s[8]++,o!==void 0)).filter(o=>(Ls().f[3]++,Ls().s[9]++,o!=="")));Ls().s[10]++,this.props.onChange(r)}render(){Ls().f[4]++;const e=(Ls().s[11]++,this.values.map((t,i)=>(Ls().f[5]++,Ls().s[12]++,Ae.jsx("li",{children:Ae.jsx(Ax,{"aria-label":(Ls().b[2][0]++,this.props["aria-label"]||(Ls().b[2][1]++,this.props.name)),value:t,options:this.props.fonts?.map(r=>(Ls().f[6]++,Ls().s[13]++,[r,r])),onChange:this.changeFont.bind(this,i)})},i))));return Ls().s[14]++,Ae.jsx("ul",{className:"maputnik-font",children:e})}}function xr(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",e="a1e962ecc1e2255c0f5dbda1129d42c7f0d3da46",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:146,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:122,column:10}},21:{start:{line:124,column:8},end:{line:132,column:10}},22:{start:{line:134,column:8},end:{line:142,column:10}},23:{start:{line:144,column:8},end:{line:144,column:110}},24:{start:{line:145,column:8},end:{line:145,column:20}},25:{start:{line:149,column:4},end:{line:149,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:147,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:148,column:2},end:{line:148,column:3}},loc:{start:{line:148,column:11},end:{line:150,column:3}},line:148}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:146,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:122,column:10}},{start:{line:123,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:142,column:10}},{start:{line:143,column:6},end:{line:145,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93},6:{loc:{start:{line:120,column:19},end:{line:120,column:90}},type:"cond-expr",locations:[{start:{line:120,column:53},end:{line:120,column:69}},{start:{line:120,column:72},end:{line:120,column:90}}],line:120},7:{loc:{start:{line:130,column:19},end:{line:130,column:90}},type:"cond-expr",locations:[{start:{line:130,column:53},end:{line:130,column:69}},{start:{line:130,column:72},end:{line:130,column:90}}],line:130},8:{loc:{start:{line:139,column:19},end:{line:139,column:90}},type:"cond-expr",locations:[{start:{line:139,column:53},end:{line:139,column:69}},{start:{line:139,column:72},end:{line:139,column:90}}],line:139}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AA2DQ;AA3DR,OAAO,WAAkC;AAEzC,OAAO,gBAA0C;AACjD,OAAO,iBAA4C;AACnD,OAAO,mBAAgD;AACvD,OAAO,iBAA4C;AACnD,OAAO,gBAA0C;AACjD,OAAO,uBAAwD;AAC/D,OAAO,eAAwC;AAC/C,OAAO,uBAAwD;AAC/D,OAAO,eAAwC;AAC/C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA4BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACjC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF,KAAK;AAAe,eAClB;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,WAAW,KAAK,MAAM;AAAA,YACtB,MAAK;AAAA,YACL,OAAQ,MAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK;AAAA;AAAA,QAChF;AAAA,MAEF,KAAK;AAAc,eACjB;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,WAAW,KAAK,MAAM;AAAA,YACtB,MAAK;AAAA,YACL,OAAQ,MAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK;AAAA;AAAA,QAChF;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,MAAK;AAAA,YACL,OAAQ,MAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK;AAAA,YAC9E,QAAQ;AAAA;AAAA,QACV;AAAA,MAEF;AACE,gBAAQ,KAAK,6BAA6B,KAAK,MAAM,SAAS,UAAU,KAAK,MAAM,WAAW,IAAI,EAAE;AACpG,eAAO;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a1e962ecc1e2255c0f5dbda1129d42c7f0d3da46"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return xr=function(){return s},s}xr();const Hge=(xr().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);class $v extends ii.Component{childNodes(){xr().f[0]++;const e=(xr().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:this.props.fieldSpec?.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:t=>(xr().f[1]++,xr().s[2]++,this.props.onChange(this.props.fieldName,t)),"aria-label":this.props["aria-label"]});switch(xr().s[3]++,this.props.fieldSpec?.type){case"number":return xr().b[0][0]++,xr().s[4]++,Ae.jsx(ig,{...e,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":xr().b[0][1]++;{const t=(xr().s[5]++,Object.keys((xr().b[1][0]++,this.props.fieldSpec.values||(xr().b[1][1]++,[]))).map(i=>(xr().f[2]++,xr().s[6]++,[i,uI(i)])));return xr().s[7]++,Ae.jsx(BI,{...e,options:t})}case"resolvedImage":xr().b[0][2]++;case"formatted":xr().b[0][3]++;case"string":if(xr().b[0][4]++,xr().s[8]++,Hge.indexOf(this.props.fieldName)>=0){xr().b[2][0]++;const t=(xr().s[9]++,xr().b[3][0]++,this.props.fieldSpec.values||(xr().b[3][1]++,[]));return xr().s[10]++,Ae.jsx(Ax,{...e,options:t.map(i=>(xr().f[3]++,xr().s[11]++,[i,i]))})}else return xr().b[2][1]++,xr().s[12]++,Ae.jsx(_m,{...e});case"color":return xr().b[0][5]++,xr().s[13]++,Ae.jsx(EI,{...e});case"boolean":return xr().b[0][6]++,xr().s[14]++,Ae.jsx(QQ,{...e});case"array":return xr().b[0][7]++,xr().s[15]++,this.props.fieldName==="text-font"?(xr().b[4][0]++,xr().s[16]++,Ae.jsx(qge,{...e,fonts:this.props.fieldSpec.values})):(xr().b[4][1]++,xr().s[17]++,this.props.fieldSpec.length?(xr().b[5][0]++,xr().s[18]++,Ae.jsx(zO,{...e,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(xr().b[5][1]++,xr().s[19]++,Ae.jsx(_3,{...e,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));case"numberArray":return xr().b[0][8]++,xr().s[20]++,Ae.jsx(_3,{...e,fieldSpec:this.props.fieldSpec,type:"number",value:Array.isArray(this.props.value)?(xr().b[6][0]++,this.props.value):(xr().b[6][1]++,[this.props.value])});case"colorArray":return xr().b[0][9]++,xr().s[21]++,Ae.jsx(_3,{...e,fieldSpec:this.props.fieldSpec,type:"color",value:Array.isArray(this.props.value)?(xr().b[7][0]++,this.props.value):(xr().b[7][1]++,[this.props.value])});case"padding":return xr().b[0][10]++,xr().s[22]++,Ae.jsx(zO,{...e,type:"number",value:Array.isArray(this.props.value)?(xr().b[8][0]++,this.props.value):(xr().b[8][1]++,[this.props.value]),length:4});default:return xr().b[0][11]++,xr().s[23]++,console.warn(`No proper field input for ${this.props.fieldName} type: ${this.props.fieldSpec?.type}`),xr().s[24]++,null}}render(){return xr().f[4]++,xr().s[25]++,Ae.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}}function $c(){var n="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",e="21895ee567bb7d4ce23a53c6b107fb6ae51ac232",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:26,column:1}},1:{start:{line:7,column:32},end:{line:7,column:53}},2:{start:{line:8,column:18},end:{line:8,column:67}},3:{start:{line:9,column:22},end:{line:11,column:3}},4:{start:{line:10,column:4},end:{line:10,column:20}},5:{start:{line:12,column:2},end:{line:25,column:7}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:28},end:{line:26,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:22},end:{line:9,column:23}},loc:{start:{line:9,column:31},end:{line:11,column:3}},line:9}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:20,column:8}},type:"binary-expr",locations:[{start:{line:13,column:4},end:{line:13,column:19}},{start:{line:13,column:39},end:{line:20,column:8}}],line:13},1:{loc:{start:{line:21,column:4},end:{line:21,column:118}},type:"binary-expr",locations:[{start:{line:21,column:4},end:{line:21,column:20}},{start:{line:21,column:40},end:{line:21,column:118}}],line:21},2:{loc:{start:{line:24,column:4},end:{line:24,column:198}},type:"binary-expr",locations:[{start:{line:24,column:4},end:{line:24,column:19}},{start:{line:24,column:39},end:{line:24,column:198}}],line:24},3:{loc:{start:{line:24,column:104},end:{line:24,column:125}},type:"cond-expr",locations:[{start:{line:24,column:114},end:{line:24,column:116}},{start:{line:24,column:119},end:{line:24,column:125}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAqBI,SAGM,KAHN;AArBJ,OAAO,WAA0D;AACjE,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAS7B,MAAM,WAAoC,CAAC,UAAU;AACnD,QAAM,CAAC,SAAS,UAAU,IAAI,MAAM,SAAS,KAAK;AAClD,QAAM,UAAU,MAAM,OAAO,iBAAiB,iBAAiB,CAAC;AAEhE,QAAM,cAAc,CAAC,QAAiB;AACpC,eAAW,GAAG;AAAA,EAChB;AAEA,SACE,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,QAAQ,SACzE;AAAA,UAAM,aACL,oBAAC,SAAI,WAAU,8BACb;AAAA,MAAC;AAAA;AAAA,QACC,OAAO,MAAM;AAAA,QACb;AAAA,QACA,WAAW,MAAM;AAAA;AAAA,IACnB,GACF;AAAA,IAED,CAAC,MAAM,aACN,oBAAC,SAAI,WAAU,8BACZ,gBAAM,OACT;AAAA,IAEF,oBAAC,SAAI,WAAU,+BAA+B,gBAAM,QAAO;AAAA,IAC3D,oBAAC,SAAI,WAAU,gCAAgC,gBAAM,UAAS;AAAA,IAC7D,MAAM,aACL,oBAAC,SAAI,WAAU,uBAAsB,OAAO,EAAE,SAAS,UAAU,KAAK,OAAO,GAC3E,8BAAC,OAAI,WAAW,MAAM,WAAW,GACnC;AAAA,KAEJ;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"21895ee567bb7d4ce23a53c6b107fb6ae51ac232"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return $c=function(){return s},s}$c();$c().s[0]++;const jg=n=>{$c().f[0]++;const[e,t]=($c().s[1]++,ii.useState(!1)),i=($c().s[2]++,ii.useRef(hC("fieldset_label_")));$c().s[3]++;const r=o=>{$c().f[1]++,$c().s[4]++,t(o)};return $c().s[5]++,Ae.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":i.current,children:[($c().b[0][0]++,n.fieldSpec&&($c().b[0][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:Ae.jsx(B7,{label:n.label,onToggleDoc:r,fieldSpec:n.fieldSpec})}))),($c().b[1][0]++,!n.fieldSpec&&($c().b[1][1]++,Ae.jsx("div",{className:"maputnik-input-block-label",children:n.label}))),Ae.jsx("div",{className:"maputnik-input-block-action",children:n.action}),Ae.jsx("div",{className:"maputnik-input-block-content",children:n.children}),($c().b[2][0]++,n.fieldSpec&&($c().b[2][1]++,Ae.jsx("div",{className:"maputnik-doc-inline",style:{display:e?($c().b[3][0]++,""):($c().b[3][1]++,"none")},children:Ae.jsx(x4,{fieldSpec:n.fieldSpec})})))]})};function Ua(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSpec.tsx",e="d8e70c971ccf4bd59962b2256e6a83edef254599",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSpec.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:34,column:3}},1:{start:{line:8,column:6},end:{line:8,column:19}},2:{start:{line:10,column:6},end:{line:10,column:74}},3:{start:{line:12,column:6},end:{line:12,column:19}},4:{start:{line:14,column:6},end:{line:14,column:22}},5:{start:{line:16,column:6},end:{line:16,column:19}},6:{start:{line:18,column:6},end:{line:18,column:19}},7:{start:{line:20,column:6},end:{line:20,column:19}},8:{start:{line:22,column:6},end:{line:22,column:19}},9:{start:{line:24,column:6},end:{line:24,column:19}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:28,column:6},end:{line:28,column:22}},12:{start:{line:30,column:6},end:{line:30,column:22}},13:{start:{line:32,column:6},end:{line:32,column:58}},14:{start:{line:33,column:6},end:{line:33,column:19}},15:{start:{line:36,column:18},end:{line:39,column:1}},16:{start:{line:37,column:20},end:{line:37,column:55}},17:{start:{line:38,column:2},end:{line:38,column:170}}},fnMap:{0:{name:"getElementFromType",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:39},end:{line:35,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:36,column:18},end:{line:36,column:19}},loc:{start:{line:36,column:29},end:{line:39,column:1}},line:36}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:34,column:3}},type:"switch",locations:[{start:{line:7,column:4},end:{line:8,column:19}},{start:{line:9,column:4},end:{line:10,column:74}},{start:{line:11,column:4},end:{line:12,column:19}},{start:{line:13,column:4},end:{line:14,column:22}},{start:{line:15,column:4},end:{line:16,column:19}},{start:{line:17,column:4},end:{line:18,column:19}},{start:{line:19,column:4},end:{line:20,column:19}},{start:{line:21,column:4},end:{line:22,column:19}},{start:{line:23,column:4},end:{line:24,column:19}},{start:{line:25,column:4},end:{line:26,column:22}},{start:{line:27,column:4},end:{line:28,column:22}},{start:{line:29,column:4},end:{line:30,column:22}},{start:{line:31,column:4},end:{line:33,column:19}}],line:6},1:{loc:{start:{line:10,column:13},end:{line:10,column:73}},type:"cond-expr",locations:[{start:{line:10,column:57},end:{line:10,column:65}},{start:{line:10,column:68},end:{line:10,column:73}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0},b:{0:[0,0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSpec.tsx"],names:[],mappings:"AA6CM;AA7CN,OAAO,WAAW;AAClB,OAAO,eAA4D;AACnE,OAAO,cAAc;AAErB,SAAS,mBAAmB,WAAyF;AACnH,UAAO,UAAU,MAAM;AAAA,IACrB,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAQ,OAAO,KAAK,UAAU,MAAO,EAAE,UAAU,IAAI,WAAW;AAAA,IAClE,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT;AACE,cAAQ,KAAK,uBAAuB,UAAU,IAAI;AAClD,aAAO;AAAA,EACX;AACF;AAMA,MAAM,YAAsC,CAAC,UAAU;AACrD,QAAM,YAAY,mBAAmB,MAAM,SAAU;AAErD,SACE,oBAAC,aAAU,OAAO,MAAM,OAAO,QAAQ,MAAM,QAAQ,WAAW,MAAM,WACpE,8BAAC,aAAW,GAAG,OAAO,GACxB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8e70c971ccf4bd59962b2256e6a83edef254599"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ua=function(){return s},s}Ua();function Vge(n){switch(Ua().f[0]++,Ua().s[0]++,n.type){case"color":return Ua().b[0][0]++,Ua().s[1]++,js;case"enum":return Ua().b[0][1]++,Ua().s[2]++,Object.keys(n.values).length<=3?(Ua().b[1][0]++,jg):(Ua().b[1][1]++,js);case"boolean":return Ua().b[0][2]++,Ua().s[3]++,js;case"array":return Ua().b[0][3]++,Ua().s[4]++,jg;case"resolvedImage":return Ua().b[0][4]++,Ua().s[5]++,js;case"number":return Ua().b[0][5]++,Ua().s[6]++,js;case"string":return Ua().b[0][6]++,Ua().s[7]++,js;case"formatted":return Ua().b[0][7]++,Ua().s[8]++,js;case"padding":return Ua().b[0][8]++,Ua().s[9]++,js;case"numberArray":return Ua().b[0][9]++,Ua().s[10]++,jg;case"colorArray":return Ua().b[0][10]++,Ua().s[11]++,jg;case"variableAnchorOffsetCollection":return Ua().b[0][11]++,Ua().s[12]++,jg;default:return Ua().b[0][12]++,Ua().s[13]++,console.warn("No such type for: "+n.type),Ua().s[14]++,js}}Ua().s[15]++;const $ge=n=>{Ua().f[1]++;const e=(Ua().s[16]++,Vge(n.fieldSpec));return Ua().s[17]++,Ae.jsx(e,{label:n.label,action:n.action,fieldSpec:n.fieldSpec,children:Ae.jsx($v,{...n})})};function FA(){var n="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",e="8e77c8fbe0fbc5796ba925837fc7526418b4854b",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:10,column:4},end:{line:60,column:5}},2:{start:{line:11,column:52},end:{line:19,column:7}},3:{start:{line:20,column:50},end:{line:28,column:7}},4:{start:{line:30,column:6},end:{line:40,column:7}},5:{start:{line:31,column:8},end:{line:39,column:10}},6:{start:{line:41,column:6},end:{line:45,column:11}},7:{start:{line:46,column:11},end:{line:60,column:5}},8:{start:{line:47,column:51},end:{line:56,column:7}},9:{start:{line:57,column:6},end:{line:57,column:76}},10:{start:{line:59,column:6},end:{line:59,column:44}},11:{start:{line:63,column:29},end:{line:63,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:61,column:3}},line:8}},branchMap:{0:{loc:{start:{line:10,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:60,column:5}},{start:{line:46,column:11},end:{line:60,column:5}}],line:10},1:{loc:{start:{line:30,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:30,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},2:{loc:{start:{line:46,column:11},end:{line:60,column:5}},type:"if",locations:[{start:{line:46,column:11},end:{line:60,column:5}},{start:{line:58,column:11},end:{line:60,column:5}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AA0BU,cAsBG,YAtBH;AA1BV,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAS,sBAAsB;AAC/B,SAA+B,uBAAuB;AAUtD,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,KAAK,MAAM,UAAU,YAAY,WAAW,SAAS,MAAM,GAAG;AAChE,YAAM,wBACJ;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uBAAuB;AAAA,UAEhC,8BAAC,kBAAe;AAAA;AAAA,MAClB;AAGF,YAAM,sBAAsB;AAAA,QAAC;AAAA;AAAA,UAC3B,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uCAAuC;AAAA,UAEhD,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI;AACJ,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAO,EAAE,mCAAmC;AAAA,YAE5C,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,WAAW,KAAK,MAAM,UAAU,YAAY,WAAW,SAAS,WAAW,GAAG;AAC5E,YAAM,uBAAuB;AAAA,QAAC;AAAA;AAAA,UAC5B,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,4CAA4C;AAAA,UACrD,eAAY;AAAA,UAEZ,8BAAC,eAAY;AAAA;AAAA,MACf;AACA,aAAO,oBAAC,SAAK,gCAAqB;AAAA,IACpC,OAAO;AACL,aAAO,oBAAC,SAAI;AAAA,IACd;AAAA,EACF;AACF;AAEA,MAAM,uBAAuB,gBAAgB,EAAE,4BAA4B;AAC3E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8e77c8fbe0fbc5796ba925837fc7526418b4854b"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return FA=function(){return s},s}FA();class Zge extends ii.Component{render(){FA().f[0]++;const e=(FA().s[0]++,this.props.t);if(FA().s[1]++,this.props.fieldSpec.expression?.parameters.includes("zoom")){FA().b[0][0]++;const t=(FA().s[2]++,Ae.jsx(Gs,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:e("Convert to expression"),children:Ae.jsx(wb,{})})),i=(FA().s[3]++,Ae.jsx(Gs,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:e("Convert property into a zoom function"),children:Ae.jsx(oT,{})}));let r;return FA().s[4]++,this.props.fieldSpec["property-type"]==="data-driven"?(FA().b[1][0]++,FA().s[5]++,r=Ae.jsx(Gs,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:e("Convert property to data function"),children:Ae.jsx(LJ,{})})):FA().b[1][1]++,FA().s[6]++,Ae.jsxs("div",{children:[t,r,i]})}else if(FA().b[0][1]++,FA().s[7]++,this.props.fieldSpec.expression?.parameters.includes("elevation")){FA().b[2][0]++;const t=(FA().s[8]++,Ae.jsx(Gs,{className:"maputnik-make-elevation-function",onClick:this.props.onElevationClick,title:e("Convert property into a elevation function"),"data-wd-key":"make-elevation-function",children:Ae.jsx(oT,{})}));return FA().s[9]++,Ae.jsx("div",{children:t})}else return FA().b[2][1]++,FA().s[10]++,Ae.jsx("div",{})}}const Xge=(FA().s[11]++,is()(Zge));function t0(){var n="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",e="3e6c7200aa37e60f3f49ecaa91bce3a63befeb7e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:21,column:5}},3:{start:{line:22,column:18},end:{line:22,column:53}},4:{start:{line:23,column:4},end:{line:32,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:33,column:3}},line:10}},branchMap:{0:{loc:{start:{line:29,column:34},end:{line:29,column:60}},type:"binary-expr",locations:[{start:{line:29,column:34},end:{line:29,column:54}},{start:{line:29,column:58},end:{line:29,column:60}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA6BwB;AA7BxB,OAAO,WAAW;AAElB,OAAO,eAAsC;AAC7C,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAgB/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA,QAC9B,kBAAkB,KAAK,MAAM;AAAA;AAAA,IAC/B;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e6c7200aa37e60f3f49ecaa91bce3a63befeb7e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return t0=function(){return s},s}t0();class Jge extends ii.Component{static defaultProps=(t0().s[0]++,{errors:{}});render(){t0().f[0]++;const{errors:e,fieldName:t,fieldType:i}=(t0().s[1]++,this.props),r=(t0().s[2]++,Ae.jsx(Xge,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick,onElevationClick:this.props.onElevationClick})),o=(t0().s[3]++,e[i+"."+t]);return t0().s[4]++,Ae.jsx($ge,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:R4((t0().b[0][0]++,this.props.fieldName||(t0().b[0][1]++,""))),action:r})}}function Zd(){var n="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",e="e8906f642b33ab7d7a780fc0db870f7e4872d29c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Zd=function(){return s},s}Zd();function YQ(n,e){Zd().f[0]++;const t=(Zd().s[0]++,+n),i=(Zd().s[1]++,+e);return Zd().s[2]++,t<i?(Zd().b[0][0]++,Zd().s[3]++,-1):(Zd().b[0][1]++,Zd().s[4]++,t>i?(Zd().b[1][0]++,Zd().s[5]++,1):(Zd().b[1][1]++,Zd().s[6]++,0))}function sm(){var n="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",e="2f98128f0f990b67a049c58486c1fab4310fbcfa",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return sm=function(){return s},s}sm();function wp(n){if(sm().f[0]++,sm().s[0]++,Object.prototype.hasOwnProperty.call(n,"default"))return sm().b[0][0]++,sm().s[1]++,n.default;sm().b[0][1]++;const e=(sm().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return sm().s[3]++,sm().b[1][0]++,e[n.type]||(sm().b[1][1]++,"")}function Zv(){var n="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",e="03de18cded5f486201afd886787bbdda710eafe3",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:17,column:6}},2:{start:{line:20,column:25},end:{line:20,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:18,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA+B,uBAAuB;AAQtD,MAAM,iCAAiC,MAAM,UAAyC;AAAA,EACpF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,6BAA6B;AAAA,QAEtC,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"03de18cded5f486201afd886787bbdda710eafe3"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Zv=function(){return s},s}Zv();class e1e extends ii.Component{render(){Zv().f[0]++;const e=(Zv().s[0]++,this.props.t);return Zv().s[1]++,Ae.jsx(Gs,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove zoom level from stop"),children:Ae.jsx(my,{})})}}const qQ=(Zv().s[2]++,is()(e1e));function yn(){var n="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",e="92a0f25bb6f30b0d81f12eb12e4e1cc53eee11f9",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:20,column:2},end:{line:29,column:3}},1:{start:{line:21,column:4},end:{line:28,column:7}},2:{start:{line:22,column:6},end:{line:27,column:7}},3:{start:{line:23,column:8},end:{line:25,column:9}},4:{start:{line:24,column:10},end:{line:24,column:33}},5:{start:{line:26,column:8},end:{line:26,column:39}},6:{start:{line:30,column:2},end:{line:30,column:17}},7:{start:{line:33,column:10},end:{line:35,column:3}},8:{start:{line:37,column:20},end:{line:37,column:55}},9:{start:{line:38,column:4},end:{line:42,column:5}},10:{start:{line:39,column:6},end:{line:41,column:9}},11:{start:{line:45,column:20},end:{line:45,column:45}},12:{start:{line:46,column:4},end:{line:50,column:5}},13:{start:{line:47,column:6},end:{line:49,column:8}},14:{start:{line:51,column:4},end:{line:51,column:16}},15:{start:{line:54,column:4},end:{line:56,column:5}},16:{start:{line:55,column:6},end:{line:55,column:27}},17:{start:{line:57,column:4},end:{line:59,column:5}},18:{start:{line:58,column:6},end:{line:58,column:24}},19:{start:{line:60,column:4},end:{line:60,column:25}},20:{start:{line:63,column:4},end:{line:67,column:5}},21:{start:{line:64,column:6},end:{line:64,column:83}},22:{start:{line:66,column:6},end:{line:66,column:53}},23:{start:{line:71,column:26},end:{line:76,column:70}},24:{start:{line:72,column:6},end:{line:75,column:8}},25:{start:{line:76,column:22},end:{line:76,column:69}},26:{start:{line:77,column:20},end:{line:77,column:22}},27:{start:{line:78,column:4},end:{line:80,column:7}},28:{start:{line:79,column:6},end:{line:79,column:30}},29:{start:{line:81,column:4},end:{line:83,column:7}},30:{start:{line:84,column:4},end:{line:84,column:50}},31:{start:{line:84,column:39},end:{line:84,column:48}},32:{start:{line:86,column:13},end:{line:106,column:3}},33:{start:{line:87,column:4},end:{line:104,column:5}},34:{start:{line:88,column:6},end:{line:91,column:8}},35:{start:{line:93,column:24},end:{line:93,column:61}},36:{start:{line:94,column:6},end:{line:103,column:8}},37:{start:{line:105,column:4},end:{line:105,column:42}},38:{start:{line:108,column:18},end:{line:108,column:56}},39:{start:{line:109,column:4},end:{line:115,column:6}},40:{start:{line:116,column:25},end:{line:116,column:53}},41:{start:{line:117,column:25},end:{line:120,column:5}},42:{start:{line:121,column:4},end:{line:121,column:54}},43:{start:{line:124,column:25},end:{line:127,column:5}},44:{start:{line:128,column:4},end:{line:130,column:5}},45:{start:{line:129,column:6},end:{line:129,column:34}},46:{start:{line:131,column:4},end:{line:131,column:60}},47:{start:{line:134,column:4},end:{line:141,column:5}},48:{start:{line:135,column:6},end:{line:135,column:42}},49:{start:{line:137,column:6},end:{line:140,column:9}},50:{start:{line:144,column:4},end:{line:148,column:5}},51:{start:{line:145,column:6},end:{line:145,column:43}},52:{start:{line:147,column:6},end:{line:147,column:40}},53:{start:{line:149,column:4},end:{line:149,column:58}},54:{start:{line:152,column:14},end:{line:152,column:26}},55:{start:{line:153,column:4},end:{line:155,column:5}},56:{start:{line:154,column:6},end:{line:154,column:78}},57:{start:{line:157,column:4},end:{line:205,column:5}},58:{start:{line:158,column:6},end:{line:204,column:9}},59:{start:{line:159,column:26},end:{line:159,column:77}},60:{start:{line:160,column:20},end:{line:160,column:40}},61:{start:{line:161,column:26},end:{line:161,column:79}},62:{start:{line:162,column:22},end:{line:162,column:29}},63:{start:{line:163,column:46},end:{line:163,column:122}},64:{start:{line:164,column:26},end:{line:169,column:9}},65:{start:{line:168,column:33},end:{line:168,column:97}},66:{start:{line:171,column:8},end:{line:175,column:9}},67:{start:{line:172,column:10},end:{line:172,column:73}},68:{start:{line:174,column:10},end:{line:174,column:73}},69:{start:{line:176,column:24},end:{line:176,column:28}},70:{start:{line:177,column:8},end:{line:188,column:9}},71:{start:{line:178,column:10},end:{line:187,column:15}},72:{start:{line:183,column:37},end:{line:183,column:101}},73:{start:{line:189,column:8},end:{line:203,column:18}},74:{start:{line:199,column:41},end:{line:199,column:110}},75:{start:{line:206,column:4},end:{line:306,column:12}},76:{start:{line:217,column:39},end:{line:217,column:67}},77:{start:{line:235,column:43},end:{line:235,column:68}},78:{start:{line:250,column:39},end:{line:250,column:83}},79:{start:{line:266,column:42},end:{line:266,column:85}},80:{start:{line:309,column:21},end:{line:309,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:18,column:9},end:{line:18,column:20}},loc:{start:{line:18,column:35},end:{line:31,column:1}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:21,column:30},end:{line:21,column:31}},loc:{start:{line:21,column:45},end:{line:28,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:22},end:{line:43,column:3}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:48},end:{line:52,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:34},end:{line:61,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:34},end:{line:68,column:3}},line:62},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:26},end:{line:85,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:51},end:{line:76,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:76,column:12},end:{line:76,column:13}},loc:{start:{line:76,column:22},end:{line:76,column:69}},line:76},9:{name:"(anonymous_9)",decl:{start:{line:78,column:26},end:{line:78,column:27}},loc:{start:{line:78,column:41},end:{line:80,column:5}},line:78},10:{name:"(anonymous_10)",decl:{start:{line:84,column:29},end:{line:84,column:30}},loc:{start:{line:84,column:39},end:{line:84,column:48}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:86,column:13},end:{line:86,column:14}},loc:{start:{line:86,column:35},end:{line:106,column:3}},line:86},12:{name:"(anonymous_12)",decl:{start:{line:107,column:2},end:{line:107,column:3}},loc:{start:{line:107,column:41},end:{line:122,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:23},end:{line:132,column:3}},line:123},14:{name:"(anonymous_14)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:26},end:{line:142,column:3}},line:133},15:{name:"(anonymous_15)",decl:{start:{line:143,column:2},end:{line:143,column:3}},loc:{start:{line:143,column:40},end:{line:150,column:3}},line:143},16:{name:"(anonymous_16)",decl:{start:{line:151,column:2},end:{line:151,column:3}},loc:{start:{line:151,column:11},end:{line:307,column:3}},line:151},17:{name:"(anonymous_17)",decl:{start:{line:158,column:46},end:{line:158,column:47}},loc:{start:{line:158,column:61},end:{line:204,column:7}},line:158},18:{name:"(anonymous_18)",decl:{start:{line:168,column:20},end:{line:168,column:21}},loc:{start:{line:168,column:33},end:{line:168,column:97}},line:168},19:{name:"(anonymous_19)",decl:{start:{line:183,column:24},end:{line:183,column:25}},loc:{start:{line:183,column:37},end:{line:183,column:101}},line:183},20:{name:"(anonymous_20)",decl:{start:{line:199,column:24},end:{line:199,column:25}},loc:{start:{line:199,column:41},end:{line:199,column:110}},line:199},21:{name:"(anonymous_21)",decl:{start:{line:217,column:26},end:{line:217,column:27}},loc:{start:{line:217,column:39},end:{line:217,column:67}},line:217},22:{name:"(anonymous_22)",decl:{start:{line:235,column:26},end:{line:235,column:27}},loc:{start:{line:235,column:43},end:{line:235,column:68}},line:235},23:{name:"(anonymous_23)",decl:{start:{line:250,column:26},end:{line:250,column:27}},loc:{start:{line:250,column:39},end:{line:250,column:83}},line:250},24:{name:"(anonymous_24)",decl:{start:{line:266,column:26},end:{line:266,column:27}},loc:{start:{line:266,column:42},end:{line:266,column:85}},line:266}},branchMap:{0:{loc:{start:{line:20,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},1:{loc:{start:{line:20,column:6},end:{line:20,column:38}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:17}},{start:{line:20,column:21},end:{line:20,column:38}}],line:20},2:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:23,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:25,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},5:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},6:{loc:{start:{line:54,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:56,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:54},7:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},8:{loc:{start:{line:63,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:67,column:5}},{start:{line:65,column:11},end:{line:67,column:5}}],line:63},9:{loc:{start:{line:87,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:104,column:5}},{start:{line:92,column:11},end:{line:104,column:5}}],line:87},10:{loc:{start:{line:93,column:24},end:{line:93,column:61}},type:"cond-expr",locations:[{start:{line:93,column:55},end:{line:93,column:57}},{start:{line:93,column:60},end:{line:93,column:61}}],line:93},11:{loc:{start:{line:108,column:18},end:{line:108,column:56}},type:"binary-expr",locations:[{start:{line:108,column:18},end:{line:108,column:50}},{start:{line:108,column:54},end:{line:108,column:56}}],line:108},12:{loc:{start:{line:112,column:14},end:{line:112,column:58}},type:"cond-expr",locations:[{start:{line:112,column:41},end:{line:112,column:42}},{start:{line:112,column:45},end:{line:112,column:58}}],line:112},13:{loc:{start:{line:128,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:128,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128},14:{loc:{start:{line:134,column:4},end:{line:141,column:5}},type:"if",locations:[{start:{line:134,column:4},end:{line:141,column:5}},{start:{line:136,column:11},end:{line:141,column:5}}],line:134},15:{loc:{start:{line:134,column:8},end:{line:134,column:70}},type:"binary-expr",locations:[{start:{line:134,column:8},end:{line:134,column:33}},{start:{line:134,column:37},end:{line:134,column:70}}],line:134},16:{loc:{start:{line:144,column:4},end:{line:148,column:5}},type:"if",locations:[{start:{line:144,column:4},end:{line:148,column:5}},{start:{line:146,column:11},end:{line:148,column:5}}],line:144},17:{loc:{start:{line:153,column:4},end:{line:155,column:5}},type:"if",locations:[{start:{line:153,column:4},end:{line:155,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:153},18:{loc:{start:{line:157,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:157,column:4},end:{line:205,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157},19:{loc:{start:{line:159,column:26},end:{line:159,column:77}},type:"cond-expr",locations:[{start:{line:159,column:56},end:{line:159,column:68}},{start:{line:159,column:71},end:{line:159,column:77}}],line:159},20:{loc:{start:{line:161,column:26},end:{line:161,column:79}},type:"cond-expr",locations:[{start:{line:161,column:56},end:{line:161,column:69}},{start:{line:161,column:72},end:{line:161,column:79}}],line:161},21:{loc:{start:{line:171,column:8},end:{line:175,column:9}},type:"if",locations:[{start:{line:171,column:8},end:{line:175,column:9}},{start:{line:173,column:15},end:{line:175,column:9}}],line:171},22:{loc:{start:{line:177,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:177,column:8},end:{line:188,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:177},23:{loc:{start:{line:225,column:8},end:{line:240,column:9}},type:"binary-expr",locations:[{start:{line:225,column:8},end:{line:225,column:45}},{start:{line:225,column:65},end:{line:240,column:9}}],line:225},24:{loc:{start:{line:256,column:8},end:{line:271,column:9}},type:"binary-expr",locations:[{start:{line:256,column:8},end:{line:256,column:18}},{start:{line:256,column:38},end:{line:271,column:9}}],line:256},25:{loc:{start:{line:272,column:8},end:{line:280,column:15}},type:"binary-expr",locations:[{start:{line:272,column:8},end:{line:272,column:18}},{start:{line:272,column:38},end:{line:280,column:15}}],line:272},26:{loc:{start:{line:282,column:10},end:{line:292,column:11}},type:"binary-expr",locations:[{start:{line:282,column:10},end:{line:282,column:20}},{start:{line:282,column:40},end:{line:292,column:11}}],line:282}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAsO8B,cA8Bf,YA9Be;AAtO9B,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAC7B,SAAQ,sBAAqB;AAC7B,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAClC,SAA+B,uBAAuB;AAEtD,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc,EAAE,aAAa;AAAA,UAC7B,OAAO,EAAE,YAAY;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,EAAE,cAAc;AAAA,cAC5B,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAGnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAGf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO,EAAE,8CAA8C;AAAA,gBACvD,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,SAAS;AAAA,YAGlB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAI,YAAE,aAAa,GAAE;AAAA,YACtB,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,UAAU;AAAA;AAAA;AAAA,UACf;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,uBAAuB;AAAA;AAAA;AAAA,UAC5B;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"92a0f25bb6f30b0d81f12eb12e4e1cc53eee11f9"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return yn=function(){return s},s}yn();function wL(n,e){yn().f[0]++;let t;return yn().s[0]++,yn().b[1][0]++,n.value&&(yn().b[1][1]++,n.value.stops)?(yn().b[0][0]++,yn().s[1]++,n.value.stops.forEach((i,r)=>{yn().f[1]++,yn().s[2]++,Object.prototype.hasOwnProperty.call(e.refs,r)?yn().b[2][1]++:(yn().b[2][0]++,yn().s[3]++,t?yn().b[3][1]++:(yn().b[3][0]++,yn().s[4]++,t={...e}),yn().s[5]++,t[r]=hC("stop-"))})):yn().b[0][1]++,yn().s[6]++,t}class t1e extends ii.Component{state=(yn().s[7]++,{refs:{}});componentDidMount(){yn().f[2]++;const e=(yn().s[8]++,wL(this.props,this.state));yn().s[9]++,e?(yn().b[4][0]++,yn().s[10]++,this.setState({refs:e})):yn().b[4][1]++}static getDerivedStateFromProps(e,t){yn().f[3]++;const i=(yn().s[11]++,wL(e,t));return yn().s[12]++,i?(yn().b[5][0]++,yn().s[13]++,{refs:i}):(yn().b[5][1]++,yn().s[14]++,null)}getFieldFunctionType(e){return yn().f[4]++,yn().s[15]++,e.expression.interpolated?(yn().b[6][0]++,yn().s[16]++,"exponential"):(yn().b[6][1]++,yn().s[17]++,e.type==="number"?(yn().b[7][0]++,yn().s[18]++,"interval"):(yn().b[7][1]++,yn().s[19]++,"categorical"))}getDataFunctionTypes(e){return yn().f[5]++,yn().s[20]++,e.expression.interpolated?(yn().b[8][0]++,yn().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(yn().b[8][1]++,yn().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(e){yn().f[6]++;const t=(yn().s[23]++,e.map((r,o)=>(yn().f[7]++,yn().s[24]++,{ref:this.state.refs[o],data:r})).sort((r,o)=>(yn().f[8]++,yn().s[25]++,YQ(r.data[0].zoom,o.data[0].zoom)))),i=(yn().s[26]++,{});return yn().s[27]++,t.forEach((r,o)=>{yn().f[9]++,yn().s[28]++,i[o]=r.ref}),yn().s[29]++,this.setState({refs:i}),yn().s[30]++,t.map(r=>(yn().f[10]++,yn().s[31]++,r.data))}onChange=(yn().s[32]++,(e,t)=>{if(yn().f[11]++,yn().s[33]++,t.type==="identity")yn().b[9][0]++,yn().s[34]++,t={type:t.type,property:t.property};else{yn().b[9][1]++;const i=(yn().s[35]++,t.type==="categorical"?(yn().b[10][0]++,""):(yn().b[10][1]++,0));yn().s[36]++,t={property:"",type:t.type,stops:[[{zoom:6,value:i},wp(this.props.fieldSpec)],[{zoom:10,value:i},wp(this.props.fieldSpec)]],...t}}yn().s[37]++,this.props.onChange(e,t)});changeStop(e,t,i){yn().f[12]++;const r=(yn().s[38]++,yn().b[11][0]++,this.props.value?.stops.slice(0)||(yn().b[11][1]++,[]));yn().s[39]++,r[e]=[{value:t.value,zoom:t.zoom===void 0?(yn().b[12][0]++,0):(yn().b[12][1]++,t.zoom)},i];const o=(yn().s[40]++,this.orderStopsByZoom(r)),s=(yn().s[41]++,{...this.props.value,stops:o});yn().s[42]++,this.onChange(this.props.fieldName,s)}changeBase(e){yn().f[13]++;const t=(yn().s[43]++,{...this.props.value,base:e});yn().s[44]++,t.base===void 0?(yn().b[13][0]++,yn().s[45]++,delete t.base):yn().b[13][1]++,yn().s[46]++,this.props.onChange(this.props.fieldName,t)}changeDataType(e){yn().f[14]++,yn().s[47]++,yn().b[15][0]++,e==="interpolate"&&(yn().b[15][1]++,this.props.onChangeToZoomFunction)?(yn().b[14][0]++,yn().s[48]++,this.props.onChangeToZoomFunction()):(yn().b[14][1]++,yn().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:e}))}changeDataProperty(e,t){yn().f[15]++,yn().s[50]++,t?(yn().b[16][0]++,yn().s[51]++,this.props.value[e]=t):(yn().b[16][1]++,yn().s[52]++,delete this.props.value[e]),yn().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){yn().f[16]++;const e=(yn().s[54]++,this.props.t);yn().s[55]++,typeof this.props.value?.type>"u"?(yn().b[17][0]++,yn().s[56]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):yn().b[17][1]++;let t;return yn().s[57]++,this.props.value?.stops?(yn().b[18][0]++,yn().s[58]++,t=this.props.value.stops.map((i,r)=>{yn().f[17]++;const o=(yn().s[59]++,typeof i[0]=="object"?(yn().b[19][0]++,i[0].zoom):(yn().b[19][1]++,void 0)),s=(yn().s[60]++,this.state.refs[r]),a=(yn().s[61]++,typeof i[0]=="object"?(yn().b[20][0]++,i[0].value):(yn().b[20][1]++,i[0])),p=(yn().s[62]++,i[1]),g=(yn().s[63]++,Ae.jsx(qQ,{onClick:this.props.onDeleteStop?.bind(this,r)})),_=(yn().s[64]++,{"aria-label":e("Input value"),label:e("Data value"),value:a,onChange:B=>(yn().f[18]++,yn().s[65]++,this.changeStop(r,{zoom:o,value:B},p))});let E;yn().s[66]++,this.props.value?.type==="categorical"?(yn().b[21][0]++,yn().s[67]++,E=Ae.jsx(_m,{..._})):(yn().b[21][1]++,yn().s[68]++,E=Ae.jsx(ig,{..._}));let O=(yn().s[69]++,null);return yn().s[70]++,o!==void 0?(yn().b[22][0]++,yn().s[71]++,O=Ae.jsx("div",{children:Ae.jsx(ig,{"aria-label":"Zoom",value:o,onChange:B=>(yn().f[19]++,yn().s[72]++,this.changeStop(r,{zoom:B,value:a},p)),min:0,max:22})})):yn().b[22][1]++,yn().s[73]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:O}),Ae.jsx("td",{children:E}),Ae.jsx("td",{children:Ae.jsx($v,{"aria-label":e("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:p,onChange:(B,z)=>(yn().f[20]++,yn().s[74]++,this.changeStop(r,{zoom:o,value:a},z))})}),Ae.jsx("td",{children:g})]},s)})):yn().b[18][1]++,yn().s[75]++,Ae.jsx("div",{className:"maputnik-data-spec-block",children:Ae.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[Ae.jsx("legend",{children:R4(this.props.fieldName)}),Ae.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[Ae.jsx(js,{label:e("Function"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(xy,{value:this.props.value.type,onChange:i=>(yn().f[21]++,yn().s[76]++,this.changeDataType(i)),title:e("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(yn().b[23][0]++,this.props.value?.type!=="identity"&&(yn().b[23][1]++,Ae.jsx(js,{label:e("Base"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx($v,{fieldName:"base",fieldSpec:Jo.function.base,value:this.props.value?.base,onChange:(i,r)=>(yn().f[22]++,yn().s[77]++,this.changeBase(r))})})},"base"))),Ae.jsx(js,{label:"Property",children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(_m,{value:this.props.value?.property,title:e("Input a data property to base styles off of."),onChange:i=>(yn().f[23]++,yn().s[78]++,this.changeDataProperty("property",i))})})},"property"),(yn().b[24][0]++,t&&(yn().b[24][1]++,Ae.jsx(js,{label:e("Default"),children:Ae.jsx($v,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value?.default,onChange:(i,r)=>(yn().f[24]++,yn().s[79]++,this.changeDataProperty("default",r))})},"default"))),(yn().b[25][0]++,t&&(yn().b[25][1]++,Ae.jsx("div",{className:"maputnik-function-stop",children:Ae.jsxs("table",{className:"maputnik-function-stop-table",children:[Ae.jsx("caption",{children:e("Stops")}),Ae.jsx("thead",{children:Ae.jsxs("tr",{children:[Ae.jsx("th",{children:e("Zoom")}),Ae.jsx("th",{children:e("Input value")}),Ae.jsx("th",{rowSpan:2,children:e("Output value")})]})}),Ae.jsx("tbody",{children:t})]})}))),Ae.jsxs("div",{className:"maputnik-toolbox",children:[(yn().b[26][0]++,t&&(yn().b[26][1]++,Ae.jsxs(Gs,{className:"maputnik-add-stop",onClick:this.props.onAddStop?.bind(this),children:[Ae.jsx(D4,{style:{verticalAlign:"text-bottom"}}),e("Add stop")]}))),Ae.jsxs(Gs,{className:"maputnik-add-stop",onClick:this.props.onExpressionClick?.bind(this),children:[Ae.jsx(wb,{style:{verticalAlign:"text-bottom"}}),e("Convert to expression")]})]})]})]})})}}const n1e=(yn().s[80]++,is()(t1e));function Ci(){var n="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",e="69307d1c2ebb16a8d89a3ff2534654d41dc25d82",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:17,column:16},end:{line:17,column:18}},1:{start:{line:18,column:2},end:{line:29,column:3}},2:{start:{line:19,column:4},end:{line:28,column:7}},3:{start:{line:20,column:6},end:{line:27,column:7}},4:{start:{line:21,column:8},end:{line:23,column:9}},5:{start:{line:22,column:10},end:{line:22,column:33}},6:{start:{line:24,column:8},end:{line:24,column:39}},7:{start:{line:26,column:8},end:{line:26,column:39}},8:{start:{line:30,column:2},end:{line:30,column:17}},9:{start:{line:33,column:24},end:{line:35,column:3}},10:{start:{line:36,column:10},end:{line:38,column:3}},11:{start:{line:40,column:20},end:{line:40,column:55}},12:{start:{line:41,column:4},end:{line:45,column:5}},13:{start:{line:42,column:6},end:{line:44,column:9}},14:{start:{line:48,column:20},end:{line:48,column:45}},15:{start:{line:49,column:4},end:{line:53,column:5}},16:{start:{line:50,column:6},end:{line:52,column:8}},17:{start:{line:54,column:4},end:{line:54,column:16}},18:{start:{line:58,column:26},end:{line:63,column:60}},19:{start:{line:59,column:6},end:{line:62,column:8}},20:{start:{line:63,column:22},end:{line:63,column:59}},21:{start:{line:64,column:20},end:{line:64,column:22}},22:{start:{line:65,column:4},end:{line:67,column:7}},23:{start:{line:66,column:6},end:{line:66,column:30}},24:{start:{line:68,column:4},end:{line:70,column:7}},25:{start:{line:71,column:4},end:{line:71,column:50}},26:{start:{line:71,column:39},end:{line:71,column:48}},27:{start:{line:74,column:18},end:{line:74,column:49}},28:{start:{line:75,column:4},end:{line:75,column:41}},29:{start:{line:76,column:25},end:{line:76,column:53}},30:{start:{line:77,column:25},end:{line:80,column:5}},31:{start:{line:81,column:4},end:{line:81,column:60}},32:{start:{line:84,column:25},end:{line:87,column:5}},33:{start:{line:88,column:4},end:{line:90,column:5}},34:{start:{line:89,column:6},end:{line:89,column:34}},35:{start:{line:91,column:4},end:{line:91,column:60}},36:{start:{line:93,column:19},end:{line:97,column:3}},37:{start:{line:94,column:4},end:{line:96,column:5}},38:{start:{line:95,column:6},end:{line:95,column:46}},39:{start:{line:99,column:14},end:{line:99,column:26}},40:{start:{line:100,column:23},end:{line:133,column:6}},41:{start:{line:101,column:24},end:{line:101,column:31}},42:{start:{line:102,column:20},end:{line:102,column:27}},43:{start:{line:103,column:44},end:{line:103,column:120}},44:{start:{line:104,column:6},end:{line:132,column:8}},45:{start:{line:113,column:43},end:{line:113,column:87}},46:{start:{line:125,column:43},end:{line:125,column:88}},47:{start:{line:134,column:4},end:{line:200,column:12}},48:{start:{line:145,column:39},end:{line:145,column:67}},49:{start:{line:162,column:43},end:{line:162,column:68}},50:{start:{line:203,column:4},end:{line:207,column:5}},51:{start:{line:204,column:6},end:{line:204,column:83}},52:{start:{line:206,column:6},end:{line:206,column:29}},53:{start:{line:210,column:21},end:{line:210,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:31,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:28,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:22},end:{line:46,column:3}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:48},end:{line:55,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:26},end:{line:72,column:3}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:58,column:36},end:{line:58,column:37}},loc:{start:{line:58,column:51},end:{line:63,column:5}},line:58},6:{name:"(anonymous_6)",decl:{start:{line:63,column:12},end:{line:63,column:13}},loc:{start:{line:63,column:22},end:{line:63,column:59}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:65,column:26},end:{line:65,column:27}},loc:{start:{line:65,column:41},end:{line:67,column:5}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:71,column:29},end:{line:71,column:30}},loc:{start:{line:71,column:39},end:{line:71,column:48}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:45},end:{line:82,column:3}},line:73},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:23},end:{line:92,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:93,column:19},end:{line:93,column:20}},loc:{start:{line:93,column:29},end:{line:97,column:3}},line:93},12:{name:"(anonymous_12)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:11},end:{line:201,column:3}},line:98},13:{name:"(anonymous_13)",decl:{start:{line:100,column:51},end:{line:100,column:52}},loc:{start:{line:100,column:66},end:{line:133,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:113,column:26},end:{line:113,column:27}},loc:{start:{line:113,column:43},end:{line:113,column:87}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:125,column:26},end:{line:125,column:27}},loc:{start:{line:125,column:43},end:{line:125,column:88}},line:125},16:{name:"(anonymous_16)",decl:{start:{line:145,column:26},end:{line:145,column:27}},loc:{start:{line:145,column:39},end:{line:145,column:67}},line:145},17:{name:"(anonymous_17)",decl:{start:{line:162,column:26},end:{line:162,column:27}},loc:{start:{line:162,column:43},end:{line:162,column:68}},line:162},18:{name:"(anonymous_18)",decl:{start:{line:202,column:2},end:{line:202,column:3}},loc:{start:{line:202,column:34},end:{line:208,column:3}},line:202}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:27,column:7}},{start:{line:25,column:13},end:{line:27,column:7}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:41,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:45,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},5:{loc:{start:{line:49,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:53,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},6:{loc:{start:{line:88,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:90,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},7:{loc:{start:{line:94,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},8:{loc:{start:{line:94,column:8},end:{line:94,column:67}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:30}},{start:{line:94,column:34},end:{line:94,column:67}}],line:94},9:{loc:{start:{line:203,column:4},end:{line:207,column:5}},type:"if",locations:[{start:{line:203,column:4},end:{line:207,column:5}},{start:{line:205,column:11},end:{line:207,column:5}}],line:203}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AAgK4B,cACf,YADe;AAhK5B,OAAO,WAAW;AAClB,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B,OAAO,YAAY;AACnB,SAA+B,uBAAuB;AAEtD,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC3F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,MAAM;AAAA,gBACpB,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,cAAc;AAAA,gBAC5B,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK,GAAG,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;AAAA,MAuB5B;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAEnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAEf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,UAAU;AAAA;AAAA;AAAA,UACf;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,kBAAe,OAAO,EAAE,eAAe,cAAc,GAAG;AAAA,gBACxD,EAAE,uBAAuB;AAAA;AAAA;AAAA,UAC5B;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"69307d1c2ebb16a8d89a3ff2534654d41dc25d82"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ci=function(){return s},s}Ci();function SL(n,e){Ci().f[0]++;let t=(Ci().s[0]++,{});return Ci().s[1]++,Ci().b[1][0]++,n.value&&(Ci().b[1][1]++,n.value.stops)?(Ci().b[0][0]++,Ci().s[2]++,n.value.stops.forEach((i,r)=>{Ci().f[1]++,Ci().s[3]++,Object.prototype.hasOwnProperty.call(!e.refs,r)?(Ci().b[2][0]++,Ci().s[4]++,t?Ci().b[3][1]++:(Ci().b[3][0]++,Ci().s[5]++,t={...e}),Ci().s[6]++,t[r]=hC("stop-")):(Ci().b[2][1]++,Ci().s[7]++,t[r]=e.refs[r])})):Ci().b[0][1]++,Ci().s[8]++,t}class i1e extends ii.Component{static defaultProps=(Ci().s[9]++,{errors:{}});state=(Ci().s[10]++,{refs:{}});componentDidMount(){Ci().f[2]++;const e=(Ci().s[11]++,SL(this.props,this.state));Ci().s[12]++,e?(Ci().b[4][0]++,Ci().s[13]++,this.setState({refs:e})):Ci().b[4][1]++}static getDerivedStateFromProps(e,t){Ci().f[3]++;const i=(Ci().s[14]++,SL(e,t));return Ci().s[15]++,i?(Ci().b[5][0]++,Ci().s[16]++,{refs:i}):(Ci().b[5][1]++,Ci().s[17]++,null)}orderStopsByZoom(e){Ci().f[4]++;const t=(Ci().s[18]++,e.map((r,o)=>(Ci().f[5]++,Ci().s[19]++,{ref:this.state.refs[o],data:r})).sort((r,o)=>(Ci().f[6]++,Ci().s[20]++,YQ(r.data[0],o.data[0])))),i=(Ci().s[21]++,{});return Ci().s[22]++,t.forEach((r,o)=>{Ci().f[7]++,Ci().s[23]++,i[o]=r.ref}),Ci().s[24]++,this.setState({refs:i}),Ci().s[25]++,t.map(r=>(Ci().f[8]++,Ci().s[26]++,r.data))}changeZoomStop(e,t,i){Ci().f[9]++;const r=(Ci().s[27]++,this.props.value.stops.slice(0));Ci().s[28]++,r[e]=[t,i];const o=(Ci().s[29]++,this.orderStopsByZoom(r)),s=(Ci().s[30]++,{...this.props.value,stops:o});Ci().s[31]++,this.props.onChange(this.props.fieldName,s)}changeBase(e){Ci().f[10]++;const t=(Ci().s[32]++,{...this.props.value,base:e});Ci().s[33]++,t.base===void 0?(Ci().b[6][0]++,Ci().s[34]++,delete t.base):Ci().b[6][1]++,Ci().s[35]++,this.props.onChange(this.props.fieldName,t)}changeDataType=(Ci().s[36]++,e=>{Ci().f[11]++,Ci().s[37]++,Ci().b[8][0]++,e!=="interpolate"&&(Ci().b[8][1]++,this.props.onChangeToDataFunction)?(Ci().b[7][0]++,Ci().s[38]++,this.props.onChangeToDataFunction(e)):Ci().b[7][1]++});render(){Ci().f[12]++;const e=(Ci().s[39]++,this.props.t),t=(Ci().s[40]++,this.props.value?.stops.map((i,r)=>{Ci().f[13]++;const o=(Ci().s[41]++,i[0]),s=(Ci().s[42]++,i[1]),a=(Ci().s[43]++,Ae.jsx(qQ,{onClick:this.props.onDeleteStop?.bind(this,r)}));return Ci().s[44]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:Ae.jsx(ig,{"aria-label":e("Zoom"),value:o,onChange:p=>(Ci().f[14]++,Ci().s[45]++,this.changeZoomStop(r,p,s)),min:0,max:22})}),Ae.jsx("td",{children:Ae.jsx($v,{"aria-label":e("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:s,onChange:(p,g)=>(Ci().f[15]++,Ci().s[46]++,this.changeZoomStop(r,o,g))})}),Ae.jsx("td",{children:a})]},`${i[0]}-${i[1]}`)}));return Ci().s[47]++,Ae.jsx("div",{className:"maputnik-data-spec-block",children:Ae.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[Ae.jsx("legend",{children:R4(this.props.fieldName)}),Ae.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[Ae.jsx(js,{label:e("Function"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx(xy,{value:"interpolate",onChange:i=>(Ci().f[16]++,Ci().s[48]++,this.changeDataType(i)),title:e("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),Ae.jsx(js,{label:e("Base"),children:Ae.jsx("div",{className:"maputnik-data-spec-property-input",children:Ae.jsx($v,{fieldName:"base",fieldSpec:Jo.function.base,value:this.props.value?.base,onChange:(i,r)=>(Ci().f[17]++,Ci().s[49]++,this.changeBase(r))})})}),Ae.jsx("div",{className:"maputnik-function-stop",children:Ae.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[Ae.jsx("caption",{children:e("Stops")}),Ae.jsx("thead",{children:Ae.jsxs("tr",{children:[Ae.jsx("th",{children:e("Zoom")}),Ae.jsx("th",{rowSpan:2,children:e("Output value")})]})}),Ae.jsx("tbody",{children:t})]})}),Ae.jsxs("div",{className:"maputnik-toolbox",children:[Ae.jsxs(Gs,{className:"maputnik-add-stop",onClick:this.props.onAddStop?.bind(this),children:[Ae.jsx(D4,{style:{verticalAlign:"text-bottom"}}),e("Add stop")]}),Ae.jsxs(Gs,{className:"maputnik-add-stop",onClick:this.props.onExpressionClick?.bind(this),children:[Ae.jsx(wb,{style:{verticalAlign:"text-bottom"}}),e("Convert to expression")]})]})]})]})})}getDataFunctionTypes(e){return Ci().f[18]++,Ci().s[50]++,e["property-type"]==="data-driven"?(Ci().b[9][0]++,Ci().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(Ci().b[9][1]++,Ci().s[52]++,["interpolate"])}}const r1e=(Ci().s[53]++,is()(i1e));function Rt(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",e="8af312f4150f971fc405b0f70117d18d2c2d94dd",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:62,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:62,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:62,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:62,column:3}},20:{start:{line:49,column:4},end:{line:49,column:19}},21:{start:{line:50,column:9},end:{line:62,column:3}},22:{start:{line:51,column:4},end:{line:51,column:19}},23:{start:{line:52,column:9},end:{line:62,column:3}},24:{start:{line:53,column:4},end:{line:53,column:19}},25:{start:{line:54,column:9},end:{line:62,column:3}},26:{start:{line:55,column:4},end:{line:55,column:19}},27:{start:{line:56,column:9},end:{line:62,column:3}},28:{start:{line:57,column:4},end:{line:57,column:27}},29:{start:{line:58,column:9},end:{line:62,column:3}},30:{start:{line:59,column:4},end:{line:59,column:27}},31:{start:{line:61,column:4},end:{line:61,column:24}},32:{start:{line:64,column:22},end:{line:302,column:1}},33:{start:{line:65,column:34},end:{line:67,column:3}},34:{start:{line:68,column:36},end:{line:68,column:57}},35:{start:{line:69,column:2},end:{line:73,column:48}},36:{start:{line:70,column:4},end:{line:72,column:5}},37:{start:{line:71,column:6},end:{line:71,column:61}},38:{start:{line:74,column:31},end:{line:82,column:3}},39:{start:{line:75,column:4},end:{line:77,column:5}},40:{start:{line:76,column:6},end:{line:76,column:27}},41:{start:{line:78,column:4},end:{line:80,column:5}},42:{start:{line:79,column:6},end:{line:79,column:24}},43:{start:{line:81,column:4},end:{line:81,column:25}},44:{start:{line:83,column:18},end:{line:99,column:3}},45:{start:{line:84,column:18},end:{line:84,column:44}},46:{start:{line:85,column:21},end:{line:85,column:44}},47:{start:{line:86,column:4},end:{line:93,column:5}},48:{start:{line:87,column:6},end:{line:90,column:9}},49:{start:{line:92,column:6},end:{line:92,column:49}},50:{start:{line:94,column:25},end:{line:97,column:5}},51:{start:{line:98,column:4},end:{line:98,column:50}},52:{start:{line:100,column:27},end:{line:104,column:3}},53:{start:{line:101,column:37},end:{line:101,column:42}},54:{start:{line:102,column:4},end:{line:102,column:49}},55:{start:{line:103,column:4},end:{line:103,column:25}},56:{start:{line:105,column:21},end:{line:116,column:3}},57:{start:{line:106,column:18},end:{line:106,column:44}},58:{start:{line:107,column:4},end:{line:107,column:29}},59:{start:{line:108,column:23},end:{line:111,column:5}},60:{start:{line:112,column:4},end:{line:114,column:5}},61:{start:{line:113,column:6},end:{line:113,column:33}},62:{start:{line:115,column:4},end:{line:115,column:50}},63:{start:{line:117,column:27},end:{line:146,column:3}},64:{start:{line:118,column:22},end:{line:118,column:27}},65:{start:{line:120,column:4},end:{line:144,column:5}},66:{start:{line:121,column:6},end:{line:136,column:7}},67:{start:{line:122,column:8},end:{line:127,column:10}},68:{start:{line:125,column:12},end:{line:125,column:83}},69:{start:{line:129,column:8},end:{line:135,column:10}},70:{start:{line:138,column:6},end:{line:143,column:8}},71:{start:{line:145,column:4},end:{line:145,column:46}},72:{start:{line:147,column:25},end:{line:159,column:3}},73:{start:{line:148,column:33},end:{line:148,column:38}},74:{start:{line:149,column:4},end:{line:158,column:5}},75:{start:{line:150,column:6},end:{line:153,column:9}},76:{start:{line:154,column:6},end:{line:154,column:27}},77:{start:{line:155,column:11},end:{line:158,column:5}},78:{start:{line:156,column:6},end:{line:156,column:42}},79:{start:{line:157,column:6},end:{line:157,column:27}},80:{start:{line:160,column:18},end:{line:163,column:3}},81:{start:{line:161,column:33},end:{line:161,column:38}},82:{start:{line:162,column:4},end:{line:162,column:140}},83:{start:{line:164,column:25},end:{line:175,column:3}},84:{start:{line:165,column:33},end:{line:165,column:38}},85:{start:{line:167,column:4},end:{line:173,column:5}},86:{start:{line:168,column:6},end:{line:168,column:67}},87:{start:{line:169,column:11},end:{line:173,column:5}},88:{start:{line:170,column:6},end:{line:170,column:43}},89:{start:{line:172,column:6},end:{line:172,column:65}},90:{start:{line:174,column:4},end:{line:174,column:48}},91:{start:{line:176,column:27},end:{line:214,column:3}},92:{start:{line:177,column:25},end:{line:177,column:62}},93:{start:{line:178,column:22},end:{line:178,column:61}},94:{start:{line:179,column:22},end:{line:179,column:27}},95:{start:{line:181,column:4},end:{line:212,column:5}},96:{start:{line:182,column:6},end:{line:201,column:7}},97:{start:{line:183,column:8},end:{line:190,column:10}},98:{start:{line:188,column:12},end:{line:188,column:106}},99:{start:{line:192,column:8},end:{line:200,column:10}},100:{start:{line:203,column:6},end:{line:211,column:8}},101:{start:{line:213,column:4},end:{line:213,column:46}},102:{start:{line:215,column:32},end:{line:226,column:3}},103:{start:{line:216,column:23},end:{line:224,column:5}},104:{start:{line:225,column:4},end:{line:225,column:48}},105:{start:{line:227,column:24},end:{line:229,column:3}},106:{start:{line:228,column:4},end:{line:228,column:23}},107:{start:{line:230,column:26},end:{line:232,column:3}},108:{start:{line:231,column:4},end:{line:231,column:24}},109:{start:{line:233,column:20},end:{line:233,column:120}},110:{start:{line:235,column:2},end:{line:300,column:3}},111:{start:{line:236,column:4},end:{line:251,column:6}},112:{start:{line:252,column:9},end:{line:300,column:3}},113:{start:{line:253,column:4},end:{line:267,column:6}},114:{start:{line:268,column:9},end:{line:300,column:3}},115:{start:{line:269,column:4},end:{line:283,column:6}},116:{start:{line:285,column:4},end:{line:299,column:6}},117:{start:{line:301,column:2},end:{line:301,column:141}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:63,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:33},end:{line:302,column:1}},line:64},12:{name:"(anonymous_12)",decl:{start:{line:69,column:18},end:{line:69,column:19}},loc:{start:{line:69,column:24},end:{line:73,column:3}},line:69},13:{name:"(anonymous_13)",decl:{start:{line:74,column:31},end:{line:74,column:32}},loc:{start:{line:74,column:46},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:18},end:{line:83,column:19}},loc:{start:{line:83,column:24},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:27},end:{line:100,column:28}},loc:{start:{line:100,column:33},end:{line:104,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:105,column:21},end:{line:105,column:22}},loc:{start:{line:105,column:34},end:{line:116,column:3}},line:105},17:{name:"(anonymous_17)",decl:{start:{line:117,column:27},end:{line:117,column:28}},loc:{start:{line:117,column:33},end:{line:146,column:3}},line:117},18:{name:"(anonymous_18)",decl:{start:{line:124,column:33},end:{line:124,column:34}},loc:{start:{line:124,column:43},end:{line:126,column:11}},line:124},19:{name:"(anonymous_19)",decl:{start:{line:147,column:25},end:{line:147,column:26}},loc:{start:{line:147,column:31},end:{line:159,column:3}},line:147},20:{name:"(anonymous_20)",decl:{start:{line:160,column:18},end:{line:160,column:19}},loc:{start:{line:160,column:24},end:{line:163,column:3}},line:160},21:{name:"(anonymous_21)",decl:{start:{line:164,column:25},end:{line:164,column:26}},loc:{start:{line:164,column:31},end:{line:175,column:3}},line:164},22:{name:"(anonymous_22)",decl:{start:{line:176,column:27},end:{line:176,column:28}},loc:{start:{line:176,column:33},end:{line:214,column:3}},line:176},23:{name:"(anonymous_23)",decl:{start:{line:187,column:33},end:{line:187,column:34}},loc:{start:{line:187,column:43},end:{line:189,column:11}},line:187},24:{name:"(anonymous_24)",decl:{start:{line:215,column:32},end:{line:215,column:33}},loc:{start:{line:215,column:38},end:{line:226,column:3}},line:215},25:{name:"(anonymous_25)",decl:{start:{line:227,column:24},end:{line:227,column:25}},loc:{start:{line:227,column:30},end:{line:229,column:3}},line:227},26:{name:"(anonymous_26)",decl:{start:{line:230,column:26},end:{line:230,column:27}},loc:{start:{line:230,column:32},end:{line:232,column:3}},line:230}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:62,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:62,column:3}},{start:{line:44,column:9},end:{line:62,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:62,column:3}},{start:{line:46,column:9},end:{line:62,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:62,column:3}},{start:{line:48,column:9},end:{line:62,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:62,column:3}},{start:{line:50,column:9},end:{line:62,column:3}}],line:48},15:{loc:{start:{line:48,column:13},end:{line:48,column:75}},type:"binary-expr",locations:[{start:{line:48,column:13},end:{line:48,column:45}},{start:{line:48,column:49},end:{line:48,column:75}}],line:48},16:{loc:{start:{line:50,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:62,column:3}},{start:{line:52,column:9},end:{line:62,column:3}}],line:50},17:{loc:{start:{line:52,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:52,column:9},end:{line:62,column:3}},{start:{line:54,column:9},end:{line:62,column:3}}],line:52},18:{loc:{start:{line:54,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:54,column:9},end:{line:62,column:3}},{start:{line:56,column:9},end:{line:62,column:3}}],line:54},19:{loc:{start:{line:56,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:56,column:9},end:{line:62,column:3}},{start:{line:58,column:9},end:{line:62,column:3}}],line:56},20:{loc:{start:{line:58,column:9},end:{line:62,column:3}},type:"if",locations:[{start:{line:58,column:9},end:{line:62,column:3}},{start:{line:60,column:9},end:{line:62,column:3}}],line:58},21:{loc:{start:{line:70,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:72,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:70},22:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},23:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},24:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},25:{loc:{start:{line:112,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:112,column:4},end:{line:114,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:112},26:{loc:{start:{line:120,column:4},end:{line:144,column:5}},type:"if",locations:[{start:{line:120,column:4},end:{line:144,column:5}},{start:{line:137,column:11},end:{line:144,column:5}}],line:120},27:{loc:{start:{line:121,column:6},end:{line:136,column:7}},type:"if",locations:[{start:{line:121,column:6},end:{line:136,column:7}},{start:{line:128,column:13},end:{line:136,column:7}}],line:121},28:{loc:{start:{line:125,column:34},end:{line:125,column:81}},type:"binary-expr",locations:[{start:{line:125,column:34},end:{line:125,column:41}},{start:{line:125,column:45},end:{line:125,column:81}}],line:125},29:{loc:{start:{line:140,column:14},end:{line:140,column:59}},type:"binary-expr",locations:[{start:{line:140,column:14},end:{line:140,column:19}},{start:{line:140,column:23},end:{line:140,column:59}}],line:140},30:{loc:{start:{line:141,column:15},end:{line:141,column:60}},type:"binary-expr",locations:[{start:{line:141,column:15},end:{line:141,column:20}},{start:{line:141,column:24},end:{line:141,column:60}}],line:141},31:{loc:{start:{line:149,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:149,column:4},end:{line:158,column:5}},{start:{line:155,column:11},end:{line:158,column:5}}],line:149},32:{loc:{start:{line:155,column:11},end:{line:158,column:5}},type:"if",locations:[{start:{line:155,column:11},end:{line:158,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:155},33:{loc:{start:{line:162,column:11},end:{line:162,column:139}},type:"binary-expr",locations:[{start:{line:162,column:11},end:{line:162,column:33}},{start:{line:162,column:37},end:{line:162,column:63}},{start:{line:162,column:67},end:{line:162,column:85}},{start:{line:162,column:89},end:{line:162,column:109}},{start:{line:162,column:113},end:{line:162,column:139}}],line:162},34:{loc:{start:{line:167,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:167,column:4},end:{line:173,column:5}},{start:{line:169,column:11},end:{line:173,column:5}}],line:167},35:{loc:{start:{line:167,column:8},end:{line:167,column:53}},type:"binary-expr",locations:[{start:{line:167,column:8},end:{line:167,column:33}},{start:{line:167,column:37},end:{line:167,column:53}}],line:167},36:{loc:{start:{line:169,column:11},end:{line:173,column:5}},type:"if",locations:[{start:{line:169,column:11},end:{line:173,column:5}},{start:{line:171,column:11},end:{line:173,column:5}}],line:169},37:{loc:{start:{line:172,column:31},end:{line:172,column:63}},type:"binary-expr",locations:[{start:{line:172,column:31},end:{line:172,column:36}},{start:{line:172,column:40},end:{line:172,column:63}}],line:172},38:{loc:{start:{line:178,column:22},end:{line:178,column:61}},type:"cond-expr",locations:[{start:{line:178,column:55},end:{line:178,column:57}},{start:{line:178,column:60},end:{line:178,column:61}}],line:178},39:{loc:{start:{line:181,column:4},end:{line:212,column:5}},type:"if",locations:[{start:{line:181,column:4},end:{line:212,column:5}},{start:{line:202,column:11},end:{line:212,column:5}}],line:181},40:{loc:{start:{line:182,column:6},end:{line:201,column:7}},type:"if",locations:[{start:{line:182,column:6},end:{line:201,column:7}},{start:{line:191,column:13},end:{line:201,column:7}}],line:182},41:{loc:{start:{line:188,column:57},end:{line:188,column:104}},type:"binary-expr",locations:[{start:{line:188,column:57},end:{line:188,column:64}},{start:{line:188,column:68},end:{line:188,column:104}}],line:188},42:{loc:{start:{line:208,column:42},end:{line:208,column:93}},type:"binary-expr",locations:[{start:{line:208,column:42},end:{line:208,column:53}},{start:{line:208,column:57},end:{line:208,column:93}}],line:208},43:{loc:{start:{line:209,column:43},end:{line:209,column:94}},type:"binary-expr",locations:[{start:{line:209,column:43},end:{line:209,column:54}},{start:{line:209,column:58},end:{line:209,column:94}}],line:209},44:{loc:{start:{line:233,column:20},end:{line:233,column:120}},type:"cond-expr",locations:[{start:{line:233,column:62},end:{line:233,column:89}},{start:{line:233,column:92},end:{line:233,column:120}}],line:233},45:{loc:{start:{line:235,column:2},end:{line:300,column:3}},type:"if",locations:[{start:{line:235,column:2},end:{line:300,column:3}},{start:{line:252,column:9},end:{line:300,column:3}}],line:235},46:{loc:{start:{line:252,column:9},end:{line:300,column:3}},type:"if",locations:[{start:{line:252,column:9},end:{line:300,column:3}},{start:{line:268,column:9},end:{line:300,column:3}}],line:252},47:{loc:{start:{line:268,column:9},end:{line:300,column:3}},type:"if",locations:[{start:{line:268,column:9},end:{line:300,column:3}},{start:{line:284,column:9},end:{line:300,column:3}}],line:268}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0,0,0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAgVM;AAhVN,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAAiC;AACxC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,UAAU,SAAS,iBAAiB,oBAAoB,KAAK,GAAG;AACvE,WAAO;AAAA,EACT,WACS,UAAU,SAAS,cAAc;AACxC,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW;AACrC,WAAO;AAAA,EACT,WACS,UAAU,SAAS,kCAAkC;AAC5D,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAgBA,MAAM,gBAA8C,CAAC,UAAU;AAC7D,QAAM,CAAC,UAAU,WAAW,IAAI,MAAM;AAAA,IACpC,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,EAC1C;AACA,QAAM,CAAC,WAAW,YAAY,IAAI,MAAM,SAAS,KAAK;AAEtD,QAAM,UAAU,MAAM;AACpB,QAAI,CAAC,WAAW;AACd,kBAAY,YAAY,MAAM,OAAO,MAAM,SAAS,CAAC;AAAA,IACvD;AAAA,EACF,GAAG,CAAC,MAAM,OAAO,MAAM,WAAW,SAAS,CAAC;AAE5C,QAAM,uBAAuB,CAAC,cAAmB;AAC/C,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAEA,QAAM,UAAU,MAAM;AACpB,UAAM,QAAQ,MAAM,MAAM,MAAM,MAAM,CAAC;AACvC,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAE,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAM;AAAA,QACvD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OAAO;AACL,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,MAAM;AAAA,MACT;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,YAAY;AAAA,EAC9C;AAEA,QAAM,mBAAmB,MAAM;AAC7B,UAAM,EAAE,WAAW,UAAU,IAAI;AACjC,UAAM,SAAS,WAAW,UAAU,OAAO;AAC3C,gBAAY,OAAO;AAAA,EACrB;AAEA,QAAM,aAAa,CAAC,YAAoB;AACtC,UAAM,QAAQ,MAAM,MAAM,MAAM,MAAM,CAAC;AACvC,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAoB;AAAA,MACtB,GAAG,MAAM;AAAA,MACT;AAAA,IACF;AAEA,QAAI,MAAM,WAAW,GAAG;AACtB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,UAAM,SAAS,MAAM,WAAW,YAAY;AAAA,EAC9C;AAEA,QAAM,mBAAmB,MAAM;AAC7B,UAAM,EAAE,MAAM,IAAI;AAElB,QAAI;AACJ,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACvE,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,MAAM,SAAS,CAAC;AAAA,YACxC,CAAC,IAAI,oBAAoB,MAAM,SAAS,CAAC;AAAA,UAC3C;AAAA,QACF;AAAA,MACF;AAAA,IACF,OAAO;AACL,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACjD,CAAC,IAAI,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,QACpD;AAAA,MACF;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,QAAQ;AAAA,EAC1C;AAEA,QAAM,iBAAiB,MAAM;AAC3B,UAAM,EAAE,OAAO,UAAU,IAAI;AAE7B,QAAI,gBAAgB,KAAK,GAAG;AAC1B,YAAM,SAAS,WAAW;AAAA,QACxB,MAAM;AAAA,QACN,UAAU,MAAM,CAAC;AAAA,MACnB,CAAC;AACD,kBAAY,OAAO;AAAA,IACrB,WAAW,oBAAoB,KAAK,GAAG;AACrC,YAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AAClC,kBAAY,OAAO;AAAA,IACrB;AAAA,EACF;AAEA,QAAM,UAAU,MAAM;AACpB,UAAM,EAAE,OAAO,UAAU,IAAI;AAC7B,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAEA,QAAM,iBAAiB,MAAM;AAC3B,UAAM,EAAE,OAAO,UAAU,IAAI;AAC7B,QAAI;AAEJ,QAAI,OAAO,UAAU,YAAY,WAAW,OAAO;AACjD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WAAW,mBAAmB,KAAK,GAAG;AACpC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OAAO;AACL,mBAAa,CAAC,WAAW,SAAS,MAAM,UAAU,OAAO;AAAA,IAC3D;AACA,UAAM,SAAS,MAAM,WAAW,UAAU;AAAA,EAC5C;AAEA,QAAM,mBAAmB,MAAM;AAC7B,UAAM,eAAe,qBAAqB,MAAM,SAAS;AACzD,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAE,MAAM,IAAI;AAClB,QAAI;AAEJ,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAE,MAAM,KAAK,CAAC,GAAG,OAAO,UAAU,GAAG,KAAK,CAAC,KAAK,oBAAoB,MAAM,SAAS,CAAC;AAAA,UAC9F,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAE,MAAM,GAAG,OAAO,UAAU,GAAG,oBAAoB,MAAM,SAAS,CAAC;AAAA,YACpE,CAAC,EAAE,MAAM,IAAI,OAAO,UAAU,GAAG,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACvE;AAAA,QACF;AAAA,MACF;AAAA,IACF,OAAO;AACL,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAE,MAAM,GAAG,OAAO,UAAU,GAAG,MAAM,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,UACnF,CAAC,EAAE,MAAM,IAAI,OAAO,UAAU,GAAG,MAAM,SAAS,oBAAoB,MAAM,SAAS,CAAC;AAAA,QACtF;AAAA,MACF;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,QAAQ;AAAA,EAC1C;AAEA,QAAM,wBAAwB,MAAM;AAClC,UAAM,aAAa;AAAA,MACjB;AAAA,MACA,CAAC,QAAQ;AAAA,MACT,CAAC,WAAW;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,WAAW,UAAU;AAAA,EAC5C;AAEA,QAAM,gBAAgB,MAAM;AAC1B,iBAAa,IAAI;AAAA,EACnB;AAEA,QAAM,kBAAkB,MAAM;AAC5B,iBAAa,KAAK;AAAA,EACpB;AAEA,QAAM,YACJ,MAAM,UAAU,YAAY,MAAM,QAAQ,8BAA8B;AAE1E,MAAI;AAEJ,MAAI,aAAa,cAAc;AAC7B,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,MAAM,MAAM,SAAS;AAAA,QACnD;AAAA,QACA,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,SAAS;AAAA,QACT,QAAQ;AAAA;AAAA,IACV;AAAA,EAEJ,WAAW,aAAa,iBAAiB;AACvC,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,IAAI;AAAA,QAClC,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,cAAc;AAAA,QACd,WAAW;AAAA,QACX,wBAAwB;AAAA,QACxB,mBAAmB;AAAA;AAAA,IACrB;AAAA,EAEJ,WAAW,aAAa,iBAAiB;AACvC,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,IAAI;AAAA,QAClC,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,cAAc;AAAA,QACd,WAAW;AAAA,QACX,wBAAwB;AAAA,QACxB,mBAAmB;AAAA;AAAA,IACrB;AAAA,EAEJ,OAAO;AACL,gBACE;AAAA,MAAC;AAAA;AAAA,QACC,QAAQ,MAAM;AAAA,QACd,UAAU,MAAM,SAAS,KAAK,IAAI;AAAA,QAClC,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,WAAW,MAAM;AAAA,QACjB,OAAO,MAAM;AAAA,QACb,aAAa;AAAA,QACb,aAAa;AAAA,QACb,mBAAmB;AAAA,QACnB,kBAAkB;AAAA;AAAA,IACpB;AAAA,EAEJ;AAEA,SACE,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAA0B,MAAM,WACrE,qBACH;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8af312f4150f971fc405b0f70117d18d2c2d94dd"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Rt=function(){return s},s}Rt();function EL(n){return Rt().f[0]++,Rt().s[0]++,Rt().b[0][0]++,Array.isArray(n)&&(Rt().b[0][1]++,n.length===2)&&(Rt().b[0][2]++,n[0]==="literal")}function BL(n){return Rt().f[1]++,Rt().s[1]++,Rt().b[1][0]++,Array.isArray(n)&&(Rt().b[1][1]++,n.length===2)&&(Rt().b[1][2]++,n[0]==="get")}function o1e(n){return Rt().f[2]++,Rt().s[2]++,Rt().b[2][0]++,typeof n=="object"&&(Rt().b[2][1]++,n.stops)&&(Rt().b[2][2]++,typeof n.property>"u")&&(Rt().b[2][3]++,Array.isArray(n.stops))&&(Rt().b[2][4]++,n.stops.length>1)&&(Rt().b[2][5]++,n.stops.every(e=>(Rt().f[3]++,Rt().s[3]++,Rt().b[3][0]++,Array.isArray(e)&&(Rt().b[3][1]++,e.length===2))))}function HQ(n){return Rt().f[4]++,Rt().s[4]++,Rt().b[4][0]++,typeof n=="object"&&(Rt().b[4][1]++,n.type==="identity")&&(Rt().b[4][2]++,Object.prototype.hasOwnProperty.call(n,"property"))}function a1e(n){return Rt().f[5]++,Rt().s[5]++,Rt().b[5][0]++,typeof n=="object"&&(Rt().b[5][1]++,n.stops)&&(Rt().b[5][2]++,typeof n.property<"u")&&(Rt().b[5][3]++,n.stops.length>1)&&(Rt().b[5][4]++,Array.isArray(n.stops))&&(Rt().b[5][5]++,n.stops.every(e=>(Rt().f[6]++,Rt().s[6]++,Rt().b[6][0]++,Array.isArray(e)&&(Rt().b[6][1]++,e.length===2)&&(Rt().b[6][2]++,typeof e[0]=="object"))))}function s1e(n){return Rt().f[7]++,Rt().s[7]++,Rt().b[7][0]++,HQ(n)||(Rt().b[7][1]++,a1e(n))}function II(n){Rt().f[8]++;const e=(Rt().s[8]++,["string","boolean","number"]);return Rt().s[9]++,e.includes(typeof n)}function OL(n){return Rt().f[9]++,Rt().s[10]++,Array.isArray(n)?(Rt().b[8][0]++,Rt().s[11]++,n.every(II)):(Rt().b[8][1]++,Rt().s[12]++,!1)}function IL(n,e=(Rt().b[9][0]++,{})){return Rt().f[10]++,Rt().s[13]++,n===void 0?(Rt().b[10][0]++,Rt().s[14]++,"value"):(Rt().b[10][1]++,Rt().s[15]++,II(n)?(Rt().b[11][0]++,Rt().s[16]++,"value"):(Rt().b[11][1]++,Rt().s[17]++,Rt().b[13][0]++,e.type==="array"&&(Rt().b[13][1]++,OL(n))?(Rt().b[12][0]++,Rt().s[18]++,"value"):(Rt().b[12][1]++,Rt().s[19]++,Rt().b[15][0]++,e.type==="numberArray"&&(Rt().b[15][1]++,OL(n))?(Rt().b[14][0]++,Rt().s[20]++,"value"):(Rt().b[14][1]++,Rt().s[21]++,e.type==="colorArray"?(Rt().b[16][0]++,Rt().s[22]++,"value"):(Rt().b[16][1]++,Rt().s[23]++,e.type==="padding"?(Rt().b[17][0]++,Rt().s[24]++,"value"):(Rt().b[17][1]++,Rt().s[25]++,e.type==="variableAnchorOffsetCollection"?(Rt().b[18][0]++,Rt().s[26]++,"value"):(Rt().b[18][1]++,Rt().s[27]++,o1e(n)?(Rt().b[19][0]++,Rt().s[28]++,"zoom_function"):(Rt().b[19][1]++,Rt().s[29]++,s1e(n)?(Rt().b[20][0]++,Rt().s[30]++,"data_function"):(Rt().b[20][1]++,Rt().s[31]++,"expression")))))))))}Rt().s[32]++;const l1e=n=>{Rt().f[11]++;const[e,t]=(Rt().s[33]++,ii.useState(IL(n.value,n.fieldSpec))),[i,r]=(Rt().s[34]++,ii.useState(!1));Rt().s[35]++,ii.useEffect(()=>{Rt().f[12]++,Rt().s[36]++,i?Rt().b[21][1]++:(Rt().b[21][0]++,Rt().s[37]++,t(IL(n.value,n.fieldSpec)))},[n.value,n.fieldSpec,i]),Rt().s[38]++;const o=re=>(Rt().f[13]++,Rt().s[39]++,re.expression.interpolated?(Rt().b[22][0]++,Rt().s[40]++,"exponential"):(Rt().b[22][1]++,Rt().s[41]++,re.type==="number"?(Rt().b[23][0]++,Rt().s[42]++,"interval"):(Rt().b[23][1]++,Rt().s[43]++,"categorical")));Rt().s[44]++;const s=()=>{Rt().f[14]++;const re=(Rt().s[45]++,n.value.stops.slice(0)),ne=(Rt().s[46]++,re[re.length-1]);Rt().s[47]++,typeof ne[0]=="object"?(Rt().b[24][0]++,Rt().s[48]++,re.push([{zoom:ne[0].zoom+1,value:ne[0].value},ne[1]])):(Rt().b[24][1]++,Rt().s[49]++,re.push([ne[0]+1,ne[1]]));const V=(Rt().s[50]++,{...n.value,stops:re});Rt().s[51]++,n.onChange(n.fieldName,V)};Rt().s[52]++;const a=()=>{Rt().f[15]++;const{fieldSpec:re,fieldName:ne}=(Rt().s[53]++,n);Rt().s[54]++,n.onChange(ne,re.default),Rt().s[55]++,t("value")};Rt().s[56]++;const p=re=>{Rt().f[16]++;const ne=(Rt().s[57]++,n.value.stops.slice(0));Rt().s[58]++,ne.splice(re,1);let V=(Rt().s[59]++,{...n.value,stops:ne});Rt().s[60]++,ne.length===1?(Rt().b[25][0]++,Rt().s[61]++,V=ne[0][1]):Rt().b[25][1]++,Rt().s[62]++,n.onChange(n.fieldName,V)};Rt().s[63]++;const g=()=>{Rt().f[17]++;const{value:re}=(Rt().s[64]++,n);let ne;Rt().s[65]++,typeof re=="object"?(Rt().b[26][0]++,Rt().s[66]++,re.stops?(Rt().b[27][0]++,Rt().s[67]++,ne={base:re.base,stops:re.stops.map(V=>(Rt().f[18]++,Rt().s[68]++,[V[0].zoom,(Rt().b[28][0]++,V[1]||(Rt().b[28][1]++,wp(n.fieldSpec)))]))}):(Rt().b[27][1]++,Rt().s[69]++,ne={base:re.base,stops:[[6,wp(n.fieldSpec)],[10,wp(n.fieldSpec)]]})):(Rt().b[26][1]++,Rt().s[70]++,ne={stops:[[6,(Rt().b[29][0]++,re||(Rt().b[29][1]++,wp(n.fieldSpec)))],[10,(Rt().b[30][0]++,re||(Rt().b[30][1]++,wp(n.fieldSpec)))]]}),Rt().s[71]++,n.onChange(n.fieldName,ne)};Rt().s[72]++;const _=()=>{Rt().f[19]++;const{value:re,fieldName:ne}=(Rt().s[73]++,n);Rt().s[74]++,BL(re)?(Rt().b[31][0]++,Rt().s[75]++,n.onChange(ne,{type:"identity",property:re[1]}),Rt().s[76]++,t("value")):(Rt().b[31][1]++,Rt().s[77]++,EL(re)?(Rt().b[32][0]++,Rt().s[78]++,n.onChange(ne,re[1]),Rt().s[79]++,t("value")):Rt().b[32][1]++)};Rt().s[80]++;const E=()=>{Rt().f[20]++;const{value:re,fieldSpec:ne}=(Rt().s[81]++,n);return Rt().s[82]++,Rt().b[33][0]++,BL(re)||(Rt().b[33][1]++,EL(re))||(Rt().b[33][2]++,II(re))||(Rt().b[33][3]++,Array.isArray(re)&&(Rt().b[33][4]++,ne.type==="array"))};Rt().s[83]++;const O=()=>{Rt().f[21]++;const{value:re,fieldSpec:ne}=(Rt().s[84]++,n);let V;Rt().s[85]++,Rt().b[35][0]++,typeof re=="object"&&(Rt().b[35][1]++,"stops"in re)?(Rt().b[34][0]++,Rt().s[86]++,V=lX.convertFunction(re,ne)):(Rt().b[34][1]++,Rt().s[87]++,HQ(re)?(Rt().b[36][0]++,Rt().s[88]++,V=["get",re.property]):(Rt().b[36][1]++,Rt().s[89]++,V=["literal",(Rt().b[37][0]++,re||(Rt().b[37][1]++,n.fieldSpec.default))])),Rt().s[90]++,n.onChange(n.fieldName,V)};Rt().s[91]++;const B=()=>{Rt().f[22]++;const re=(Rt().s[92]++,o(n.fieldSpec)),ne=(Rt().s[93]++,re==="categorical"?(Rt().b[38][0]++,""):(Rt().b[38][1]++,0)),{value:V}=(Rt().s[94]++,n);let J;Rt().s[95]++,typeof V=="object"?(Rt().b[39][0]++,Rt().s[96]++,V.stops?(Rt().b[40][0]++,Rt().s[97]++,J={property:"",type:re,base:V.base,stops:V.stops.map(W=>(Rt().f[23]++,Rt().s[98]++,[{zoom:W[0],value:ne},(Rt().b[41][0]++,W[1]||(Rt().b[41][1]++,wp(n.fieldSpec)))]))}):(Rt().b[40][1]++,Rt().s[99]++,J={property:"",type:re,base:V.base,stops:[[{zoom:6,value:ne},wp(n.fieldSpec)],[{zoom:10,value:ne},wp(n.fieldSpec)]]})):(Rt().b[39][1]++,Rt().s[100]++,J={property:"",type:re,base:V.base,stops:[[{zoom:6,value:ne},(Rt().b[42][0]++,n.value||(Rt().b[42][1]++,wp(n.fieldSpec)))],[{zoom:10,value:ne},(Rt().b[43][0]++,n.value||(Rt().b[43][1]++,wp(n.fieldSpec)))]]}),Rt().s[101]++,n.onChange(n.fieldName,J)};Rt().s[102]++;const z=()=>{Rt().f[24]++;const re=(Rt().s[103]++,["interpolate",["linear"],["elevation"],0,"black",2e3,"white"]);Rt().s[104]++,n.onChange(n.fieldName,re)};Rt().s[105]++;const N=()=>{Rt().f[25]++,Rt().s[106]++,r(!0)};Rt().s[107]++;const Q=()=>{Rt().f[26]++,Rt().s[108]++,r(!1)},$=(Rt().s[109]++,n.fieldSpec.default===n.value?(Rt().b[44][0]++,"maputnik-default-property"):(Rt().b[44][1]++,"maputnik-modified-property"));let X;return Rt().s[110]++,e==="expression"?(Rt().b[45][0]++,Rt().s[111]++,X=Ae.jsx(uQ,{errors:n.errors,onChange:n.onChange.bind(null,n.fieldName),canUndo:E,onUndo:_,onDelete:a,fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onFocus:N,onBlur:Q})):(Rt().b[45][1]++,Rt().s[112]++,e==="zoom_function"?(Rt().b[46][0]++,Rt().s[113]++,X=Ae.jsx(r1e,{errors:n.errors,onChange:n.onChange.bind(null),fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onDeleteStop:p,onAddStop:s,onChangeToDataFunction:B,onExpressionClick:O})):(Rt().b[46][1]++,Rt().s[114]++,e==="data_function"?(Rt().b[47][0]++,Rt().s[115]++,X=Ae.jsx(n1e,{errors:n.errors,onChange:n.onChange.bind(null),fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onDeleteStop:p,onAddStop:s,onChangeToZoomFunction:g,onExpressionClick:O})):(Rt().b[47][1]++,Rt().s[116]++,X=Ae.jsx(Jge,{errors:n.errors,onChange:n.onChange.bind(null),fieldType:n.fieldType,fieldName:n.fieldName,fieldSpec:n.fieldSpec,value:n.value,onZoomClick:g,onDataClick:B,onExpressionClick:O,onElevationClick:z})))),Rt().s[117]++,Ae.jsx("div",{className:$,"data-wd-key":"spec-field-container:"+n.fieldName,children:X})};function So(){var n="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",e="fe80e35e875cae71c13eae54df22ccc17091c0d5",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:25,column:49}},11:{start:{line:28,column:21},end:{line:31,column:3}},12:{start:{line:29,column:18},end:{line:29,column:80}},13:{start:{line:30,column:4},end:{line:30,column:51}},14:{start:{line:33,column:23},end:{line:33,column:33}},15:{start:{line:34,column:19},end:{line:52,column:6}},16:{start:{line:35,column:24},end:{line:35,column:87}},17:{start:{line:36,column:20},end:{line:36,column:48}},18:{start:{line:37,column:21},end:{line:37,column:50}},19:{start:{line:38,column:25},end:{line:38,column:82}},20:{start:{line:39,column:24},end:{line:39,column:63}},21:{start:{line:40,column:6},end:{line:51,column:8}},22:{start:{line:53,column:4},end:{line:53,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:26,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:28,column:21},end:{line:28,column:22}},loc:{start:{line:28,column:45},end:{line:31,column:3}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:11},end:{line:54,column:3}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:34,column:46},end:{line:34,column:47}},loc:{start:{line:34,column:61},end:{line:52,column:5}},line:34}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:9},end:{line:25,column:48}},type:"cond-expr",locations:[{start:{line:25,column:30},end:{line:25,column:37}},{start:{line:25,column:40},end:{line:25,column:48}}],line:25},4:{loc:{start:{line:36,column:20},end:{line:36,column:48}},type:"binary-expr",locations:[{start:{line:36,column:20},end:{line:36,column:42}},{start:{line:36,column:46},end:{line:36,column:48}}],line:36},5:{loc:{start:{line:37,column:21},end:{line:37,column:50}},type:"binary-expr",locations:[{start:{line:37,column:21},end:{line:37,column:44}},{start:{line:37,column:48},end:{line:37,column:50}}],line:37},6:{loc:{start:{line:38,column:25},end:{line:38,column:82}},type:"cond-expr",locations:[{start:{line:38,column:46},end:{line:38,column:62}},{start:{line:38,column:65},end:{line:38,column:82}}],line:38},7:{loc:{start:{line:39,column:24},end:{line:39,column:63}},type:"cond-expr",locations:[{start:{line:39,column:45},end:{line:39,column:52}},{start:{line:39,column:55},end:{line:39,column:63}}],line:39}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA2Da;AA3Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAuC;AAC7G,QAAM,QAAQ,KAAK,WAAW,SAAS,KAAK,CAAC;AAC7C,SAAQ,aAAa,QAAS,UAAU;AAC1C;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fe80e35e875cae71c13eae54df22ccc17091c0d5"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return So=function(){return s},s}So();const u1e=(So().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function A1e(n,e,t){So().f[0]++;const i=(So().s[1]++,VQ(n,e,t)),r=(So().s[2]++,n[i+"_"+e]),o=(So().s[3]++,r[t]);return So().s[4]++,u1e.indexOf(t)>=0?(So().b[0][0]++,So().s[5]++,{...o,values:n.$root.sprite.values}):(So().b[0][1]++,So().s[6]++,t==="text-font"?(So().b[1][0]++,So().s[7]++,{...o,values:n.$root.glyphs.values}):(So().b[1][1]++,So().s[8]++,o))}function VQ(n,e,t){So().f[1]++;const i=(So().s[9]++,So().b[2][0]++,n["paint_"+e]||(So().b[2][1]++,{}));return So().s[10]++,t in i?(So().b[3][0]++,"paint"):(So().b[3][1]++,"layout")}class c1e extends ii.Component{onPropertyChange=(So().s[11]++,(e,t)=>{So().f[2]++;const i=(So().s[12]++,VQ(this.props.spec,this.props.layer.type,e));So().s[13]++,this.props.onChange(i,e,t)});render(){So().f[3]++;const{errors:e}=(So().s[14]++,this.props),t=(So().s[15]++,this.props.groupFields.map(i=>{So().f[4]++;const r=(So().s[16]++,A1e(this.props.spec,this.props.layer.type,i)),o=(So().s[17]++,So().b[4][0]++,this.props.layer.paint||(So().b[4][1]++,{})),s=(So().s[18]++,So().b[5][0]++,this.props.layer.layout||(So().b[5][1]++,{})),a=(So().s[19]++,i in o?(So().b[6][0]++,o[i]):(So().b[6][1]++,s[i])),p=(So().s[20]++,i in o?(So().b[7][0]++,"paint"):(So().b[7][1]++,"layout"));return So().s[21]++,Ae.jsx(l1e,{errors:e,onChange:this.onPropertyChange,fieldName:i,value:a,fieldType:p,fieldSpec:r},i)}));return So().s[22]++,Ae.jsx("div",{className:"maputnik-property-group",children:t})}}function Lv(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",e="6c9e07ebeb2e5c7112c0b70e483a0c61cf0ea981",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:12,column:4},end:{line:27,column:9}},1:{start:{line:18,column:27},end:{line:18,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:27},end:{line:18,column:74}},line:18}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA2BQ,SACE,KADF;AA3BR,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAC7C;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,GAAG,cAAc,SAAQ,GAAI,eAAK,MAAM,OAAM;AAAA,YACtE,oBAAC,iBAAc,MAAM,OAAO,WAAU,2FAA0F;AAAA,YAChI,oBAAC,mBAAgB,MAAM,OAAO,WAAU,6FAA4F;AAAA,aACtI;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6c9e07ebeb2e5c7112c0b70e483a0c61cf0ea981"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Lv=function(){return s},s}Lv();class h1e extends ii.Component{render(){return Lv().f[0]++,Lv().s[0]++,Ae.jsxs(iQ,{uuid:this.props.id,children:[Ae.jsx(aQ,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:e=>(Lv().f[1]++,Lv().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:Ae.jsxs(Bpe,{className:"maputnik-layer-editor-group__button",children:[Ae.jsx("span",{style:{flexGrow:1,alignContent:"center"},children:this.props.title}),Ae.jsx(gj,{size:"2em",className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),Ae.jsx(mj,{size:"2em",className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),Ae.jsx(kpe,{children:this.props.children})]})}}function ay(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",e="331998a9ac6b18663bcbca1301c32952f465e1af",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:29,column:1}},1:{start:{line:7,column:12},end:{line:7,column:19}},2:{start:{line:8,column:2},end:{line:28,column:4}},3:{start:{line:30,column:21},end:{line:30,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:29},end:{line:6,column:30}},loc:{start:{line:6,column:40},end:{line:29,column:1}},line:6}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAoBM;AAlBN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AAQtD,MAAM,uBAA4D,CAAC,UAAU;AAC3E,QAAM,IAAI,MAAM;AAChB,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAO,EAAE,UAAU;AAAA,MAAG,WAAW,OAAO,MAAM;AAAA,MACnD,OAAO,MAAM;AAAA,MACb,eAAY;AAAA,MAEZ;AAAA,QAAC;AAAA;AAAA,UACC,YAAY;AAAA,UACZ,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,UAC9B,eAAY;AAAA;AAAA,MACd;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"331998a9ac6b18663bcbca1301c32952f465e1af"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return ay=function(){return s},s}ay();ay().s[0]++;const d1e=n=>{ay().f[0]++;const e=(ay().s[1]++,n.t);return ay().s[2]++,Ae.jsx(js,{label:e("Min Zoom"),fieldSpec:Jo.layer.minzoom,error:n.error,"data-wd-key":"min-zoom",children:Ae.jsx(ig,{allowRange:!0,value:n.value,onChange:n.onChange,min:Jo.layer.minzoom.minimum,max:Jo.layer.minzoom.maximum,default:Jo.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})},f1e=(ay().s[3]++,is()(d1e));function sy(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",e="030101242d82e9c9c34c00cb0f1ee3a368ba29e3",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:29,column:1}},1:{start:{line:7,column:12},end:{line:7,column:19}},2:{start:{line:8,column:2},end:{line:28,column:4}},3:{start:{line:30,column:21},end:{line:30,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:29},end:{line:6,column:30}},loc:{start:{line:6,column:40},end:{line:29,column:1}},line:6}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAoBM;AAlBN,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AAQtD,MAAM,uBAA4D,CAAC,UAAU;AAC3E,QAAM,IAAI,MAAM;AAChB,SACE;AAAA,IAAC;AAAA;AAAA,MAAM,OAAO,EAAE,UAAU;AAAA,MAAG,WAAW,OAAO,MAAM;AAAA,MACnD,OAAO,MAAM;AAAA,MACb,eAAY;AAAA,MAEZ;AAAA,QAAC;AAAA;AAAA,UACC,YAAY;AAAA,UACZ,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,UAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,UAC9B,eAAY;AAAA;AAAA,MACd;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"030101242d82e9c9c34c00cb0f1ee3a368ba29e3"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return sy=function(){return s},s}sy();sy().s[0]++;const p1e=n=>{sy().f[0]++;const e=(sy().s[1]++,n.t);return sy().s[2]++,Ae.jsx(js,{label:e("Max Zoom"),fieldSpec:Jo.layer.maxzoom,error:n.error,"data-wd-key":"max-zoom",children:Ae.jsx(ig,{allowRange:!0,value:n.value,onChange:n.onChange,min:Jo.layer.maxzoom.minimum,max:Jo.layer.maxzoom.maximum,default:Jo.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})},m1e=(sy().s[3]++,is()(p1e));function $g(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",e="bbd273b6557a5df907fed987aa83b7e8030607a2",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:5,column:29},end:{line:31,column:1}},1:{start:{line:6,column:12},end:{line:6,column:19}},2:{start:{line:7,column:20},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:30,column:4}},4:{start:{line:32,column:21},end:{line:32,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:40},end:{line:31,column:1}},line:5}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AA2BM;AAzBN,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA+B,uBAAuB;AAQtD,MAAM,uBAA4D,CAAC,UAAU;AAC3E,QAAM,IAAI,MAAM;AAChB,QAAM,YAAY;AAAA,IAChB,KAAK;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,UAAU;AAAA,MACnB;AAAA,MACA,eAAY;AAAA,MACZ,OAAO,MAAM;AAAA,MAEb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,SAAS,EAAE,YAAY;AAAA,UACvB,eAAY;AAAA;AAAA,MACd;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bbd273b6557a5df907fed987aa83b7e8030607a2"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return $g=function(){return s},s}$g();$g().s[0]++;const g1e=n=>{$g().f[0]++;const e=($g().s[1]++,n.t),t=($g().s[2]++,{doc:e("Comments for the current layer. This is non-standard and not in the spec.")});return $g().s[3]++,Ae.jsx(js,{label:e("Comments"),fieldSpec:t,"data-wd-key":"layer-comment",error:n.error,children:Ae.jsx(_m,{multi:!0,value:n.value,onChange:n.onChange,default:e("Comment..."),"data-wd-key":"layer-comment.input"})})},y1e=($g().s[4]++,is()(g1e));function Fv(){var n="/home/runner/work/maputnik/maputnik/src/libs/format.ts",e="c45fbfac66e994b59070a295e5a7f219cd5d66ac",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Fv=function(){return s},s}Fv();function $Q(n){return Fv().f[0]++,Fv().s[0]++,n===""?(Fv().b[0][0]++,"[empty_string]"):(Fv().b[0][1]++,`'${n}'`)}function gn(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",e="b18e7132cbe74e9874e1799489adb7288f110d90",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:24,column:17},end:{line:24,column:19}},1:{start:{line:25,column:2},end:{line:30,column:5}},2:{start:{line:29,column:59},end:{line:29,column:82}},3:{start:{line:31,column:2},end:{line:36,column:5}},4:{start:{line:35,column:59},end:{line:35,column:80}},5:{start:{line:37,column:2},end:{line:42,column:5}},6:{start:{line:41,column:59},end:{line:41,column:80}},7:{start:{line:43,column:2},end:{line:48,column:5}},8:{start:{line:47,column:58},end:{line:47,column:79}},9:{start:{line:49,column:2},end:{line:54,column:5}},10:{start:{line:53,column:58},end:{line:53,column:79}},11:{start:{line:55,column:2},end:{line:55,column:16}},12:{start:{line:58,column:2},end:{line:60,column:3}},13:{start:{line:59,column:4},end:{line:59,column:14}},14:{start:{line:61,column:2},end:{line:63,column:3}},15:{start:{line:62,column:4},end:{line:62,column:37}},16:{start:{line:64,column:17},end:{line:64,column:19}},17:{start:{line:65,column:2},end:{line:72,column:3}},18:{start:{line:66,column:4},end:{line:71,column:7}},19:{start:{line:73,column:2},end:{line:80,column:3}},20:{start:{line:74,column:4},end:{line:79,column:7}},21:{start:{line:81,column:2},end:{line:81,column:16}},22:{start:{line:84,column:21},end:{line:88,column:3}},23:{start:{line:89,column:22},end:{line:93,column:3}},24:{start:{line:94,column:22},end:{line:98,column:3}},25:{start:{line:99,column:2},end:{line:99,column:96}},26:{start:{line:102,column:24},end:{line:109,column:3}},27:{start:{line:111,column:4},end:{line:111,column:17}},28:{start:{line:112,column:25},end:{line:112,column:27}},29:{start:{line:113,column:4},end:{line:115,column:5}},30:{start:{line:114,column:6},end:{line:114,column:39}},31:{start:{line:116,column:4},end:{line:116,column:34}},32:{start:{line:119,column:29},end:{line:119,column:54}},33:{start:{line:120,column:4},end:{line:124,column:5}},34:{start:{line:121,column:6},end:{line:123,column:7}},35:{start:{line:122,column:8},end:{line:122,column:45}},36:{start:{line:125,column:4},end:{line:127,column:6}},37:{start:{line:130,column:4},end:{line:133,column:6}},38:{start:{line:136,column:32},end:{line:139,column:5}},39:{start:{line:140,column:4},end:{line:142,column:7}},40:{start:{line:145,column:18},end:{line:145,column:20}},41:{start:{line:146,column:4},end:{line:148,column:5}},42:{start:{line:147,column:6},end:{line:147,column:62}},43:{start:{line:149,column:35},end:{line:149,column:45}},44:{start:{line:150,column:22},end:{line:150,column:24}},45:{start:{line:151,column:4},end:{line:157,column:7}},46:{start:{line:152,column:6},end:{line:156,column:7}},47:{start:{line:153,column:8},end:{line:155,column:10}},48:{start:{line:159,column:18},end:{line:159,column:34}},49:{start:{line:160,column:4},end:{line:162,column:5}},50:{start:{line:161,column:6},end:{line:161,column:63}},51:{start:{line:163,column:4},end:{line:266,column:5}},52:{start:{line:165,column:8},end:{line:229,column:13}},53:{start:{line:172,column:35},end:{line:172,column:112}},54:{start:{line:181,column:37},end:{line:184,column:15}},55:{start:{line:193,column:31},end:{line:193,column:69}},56:{start:{line:202,column:31},end:{line:202,column:75}},57:{start:{line:210,column:31},end:{line:210,column:70}},58:{start:{line:218,column:31},end:{line:218,column:70}},59:{start:{line:226,column:31},end:{line:226,column:104}},60:{start:{line:231,column:8},end:{line:239,column:16}},61:{start:{line:237,column:29},end:{line:237,column:67}},62:{start:{line:241,column:8},end:{line:250,column:10}},63:{start:{line:252,column:8},end:{line:263,column:10}},64:{start:{line:257,column:14},end:{line:260,column:16}},65:{start:{line:265,column:8},end:{line:265,column:49}},66:{start:{line:269,column:4},end:{line:272,column:7}},67:{start:{line:275,column:14},end:{line:275,column:26}},68:{start:{line:276,column:21},end:{line:276,column:23}},69:{start:{line:277,column:22},end:{line:277,column:43}},70:{start:{line:278,column:19},end:{line:295,column:6}},71:{start:{line:279,column:6},end:{line:279,column:70}},72:{start:{line:281,column:22},end:{line:281,column:30}},73:{start:{line:282,column:6},end:{line:282,column:29}},74:{start:{line:283,column:6},end:{line:294,column:8}},75:{start:{line:296,column:19},end:{line:296,column:48}},76:{start:{line:297,column:18},end:{line:325,column:5}},77:{start:{line:300,column:23},end:{line:300,column:71}},78:{start:{line:305,column:23},end:{line:305,column:68}},79:{start:{line:310,column:23},end:{line:310,column:80}},80:{start:{line:316,column:23},end:{line:316,column:41}},81:{start:{line:322,column:23},end:{line:322,column:40}},82:{start:{line:327,column:6},end:{line:327,column:30}},83:{start:{line:328,column:6},end:{line:328,column:26}},84:{start:{line:330,column:4},end:{line:376,column:9}},85:{start:{line:358,column:33},end:{line:358,column:42}},86:{start:{line:359,column:20},end:{line:359,column:201}},87:{start:{line:379,column:20},end:{line:379,column:58}}},fnMap:{0:{name:"getLayoutForSymbolType",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:35},end:{line:56,column:1}},line:23},1:{name:"(anonymous_1)",decl:{start:{line:29,column:52},end:{line:29,column:53}},loc:{start:{line:29,column:59},end:{line:29,column:82}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:35,column:52},end:{line:35,column:53}},loc:{start:{line:35,column:59},end:{line:35,column:80}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:41,column:52},end:{line:41,column:53}},loc:{start:{line:41,column:59},end:{line:41,column:80}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:47,column:51},end:{line:47,column:52}},loc:{start:{line:47,column:58},end:{line:47,column:79}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:53,column:51},end:{line:53,column:52}},loc:{start:{line:53,column:58},end:{line:53,column:79}},line:53},6:{name:"getLayoutForType",decl:{start:{line:57,column:9},end:{line:57,column:25}},loc:{start:{line:57,column:35},end:{line:82,column:1}},line:57},7:{name:"layoutGroups",decl:{start:{line:83,column:9},end:{line:83,column:21}},loc:{start:{line:83,column:36},end:{line:100,column:1}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:103,column:20},end:{line:103,column:21}},loc:{start:{line:103,column:26},end:{line:104,column:5}},line:103},9:{name:"(anonymous_9)",decl:{start:{line:105,column:21},end:{line:105,column:22}},loc:{start:{line:105,column:27},end:{line:106,column:5}},line:105},10:{name:"(anonymous_10)",decl:{start:{line:107,column:22},end:{line:107,column:23}},loc:{start:{line:107,column:28},end:{line:108,column:5}},line:107},11:{name:"(anonymous_11)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:21},end:{line:117,column:3}},line:110},12:{name:"(anonymous_12)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:48},end:{line:128,column:3}},line:118},13:{name:"(anonymous_13)",decl:{start:{line:129,column:2},end:{line:129,column:3}},loc:{start:{line:129,column:44},end:{line:134,column:3}},line:129},14:{name:"(anonymous_14)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:36},end:{line:143,column:3}},line:135},15:{name:"(anonymous_15)",decl:{start:{line:144,column:2},end:{line:144,column:3}},loc:{start:{line:144,column:32},end:{line:267,column:3}},line:144},16:{name:"(anonymous_16)",decl:{start:{line:151,column:19},end:{line:151,column:20}},loc:{start:{line:151,column:30},end:{line:157,column:5}},line:151},17:{name:"(anonymous_17)",decl:{start:{line:172,column:24},end:{line:172,column:25}},loc:{start:{line:172,column:35},end:{line:172,column:112}},line:172},18:{name:"(anonymous_18)",decl:{start:{line:181,column:24},end:{line:181,column:25}},loc:{start:{line:181,column:37},end:{line:184,column:15}},line:181},19:{name:"(anonymous_19)",decl:{start:{line:193,column:24},end:{line:193,column:25}},loc:{start:{line:193,column:31},end:{line:193,column:69}},line:193},20:{name:"(anonymous_20)",decl:{start:{line:202,column:24},end:{line:202,column:25}},loc:{start:{line:202,column:31},end:{line:202,column:75}},line:202},21:{name:"(anonymous_21)",decl:{start:{line:210,column:24},end:{line:210,column:25}},loc:{start:{line:210,column:31},end:{line:210,column:70}},line:210},22:{name:"(anonymous_22)",decl:{start:{line:218,column:24},end:{line:218,column:25}},loc:{start:{line:218,column:31},end:{line:218,column:70}},line:218},23:{name:"(anonymous_23)",decl:{start:{line:226,column:24},end:{line:226,column:25}},loc:{start:{line:226,column:31},end:{line:226,column:104}},line:226},24:{name:"(anonymous_24)",decl:{start:{line:237,column:22},end:{line:237,column:23}},loc:{start:{line:237,column:29},end:{line:237,column:67}},line:237},25:{name:"(anonymous_25)",decl:{start:{line:256,column:22},end:{line:256,column:23}},loc:{start:{line:256,column:34},end:{line:261,column:13}},line:256},26:{name:"(anonymous_26)",decl:{start:{line:268,column:2},end:{line:268,column:3}},loc:{start:{line:268,column:20},end:{line:273,column:3}},line:268},27:{name:"(anonymous_27)",decl:{start:{line:274,column:2},end:{line:274,column:3}},loc:{start:{line:274,column:11},end:{line:377,column:3}},line:274},28:{name:"(anonymous_28)",decl:{start:{line:278,column:53},end:{line:278,column:54}},loc:{start:{line:278,column:64},end:{line:280,column:5}},line:278},29:{name:"(anonymous_29)",decl:{start:{line:280,column:11},end:{line:280,column:12}},loc:{start:{line:280,column:22},end:{line:295,column:5}},line:280},30:{name:"(anonymous_30)",decl:{start:{line:300,column:17},end:{line:300,column:18}},loc:{start:{line:300,column:23},end:{line:300,column:71}},line:300},31:{name:"(anonymous_31)",decl:{start:{line:305,column:17},end:{line:305,column:18}},loc:{start:{line:305,column:23},end:{line:305,column:68}},line:305},32:{name:"(anonymous_32)",decl:{start:{line:310,column:17},end:{line:310,column:18}},loc:{start:{line:310,column:23},end:{line:310,column:80}},line:310},33:{name:"(anonymous_33)",decl:{start:{line:316,column:17},end:{line:316,column:18}},loc:{start:{line:316,column:23},end:{line:316,column:41}},line:316},34:{name:"(anonymous_34)",decl:{start:{line:322,column:17},end:{line:322,column:18}},loc:{start:{line:322,column:23},end:{line:322,column:40}},line:322},35:{name:"handleSelection",decl:{start:{line:326,column:13},end:{line:326,column:28}},loc:{start:{line:326,column:40},end:{line:329,column:5}},line:326},36:{name:"(anonymous_36)",decl:{start:{line:357,column:147},end:{line:357,column:148}},loc:{start:{line:357,column:155},end:{line:360,column:19}},line:357}},branchMap:{0:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},1:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},2:{loc:{start:{line:65,column:2},end:{line:72,column:3}},type:"if",locations:[{start:{line:65,column:2},end:{line:72,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},3:{loc:{start:{line:73,column:2},end:{line:80,column:3}},type:"if",locations:[{start:{line:73,column:2},end:{line:80,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:73},4:{loc:{start:{line:121,column:6},end:{line:123,column:7}},type:"if",locations:[{start:{line:121,column:6},end:{line:123,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:121},5:{loc:{start:{line:146,column:4},end:{line:148,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:148,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},6:{loc:{start:{line:152,column:6},end:{line:156,column:7}},type:"if",locations:[{start:{line:152,column:6},end:{line:156,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152},7:{loc:{start:{line:152,column:10},end:{line:152,column:96}},type:"binary-expr",locations:[{start:{line:152,column:10},end:{line:152,column:22}},{start:{line:152,column:26},end:{line:152,column:55}},{start:{line:152,column:59},end:{line:152,column:96}}],line:152},8:{loc:{start:{line:160,column:4},end:{line:162,column:5}},type:"if",locations:[{start:{line:160,column:4},end:{line:162,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},9:{loc:{start:{line:163,column:4},end:{line:266,column:5}},type:"switch",locations:[{start:{line:164,column:6},end:{line:229,column:13}},{start:{line:230,column:6},end:{line:239,column:16}},{start:{line:240,column:6},end:{line:250,column:10}},{start:{line:251,column:6},end:{line:263,column:10}},{start:{line:264,column:6},end:{line:265,column:49}}],line:163},10:{loc:{start:{line:187,column:10},end:{line:195,column:11}},type:"binary-expr",locations:[{start:{line:187,column:10},end:{line:187,column:48}},{start:{line:187,column:68},end:{line:195,column:11}}],line:187},11:{loc:{start:{line:196,column:10},end:{line:204,column:11}},type:"binary-expr",locations:[{start:{line:196,column:10},end:{line:196,column:60}},{start:{line:196,column:80},end:{line:204,column:11}}],line:196},12:{loc:{start:{line:226,column:83},end:{line:226,column:103}},type:"cond-expr",locations:[{start:{line:226,column:93},end:{line:226,column:99}},{start:{line:226,column:102},end:{line:226,column:103}}],line:226},13:{loc:{start:{line:279,column:15},end:{line:279,column:68}},type:"binary-expr",locations:[{start:{line:279,column:15},end:{line:279,column:41}},{start:{line:279,column:45},end:{line:279,column:68}}],line:279},14:{loc:{start:{line:296,column:19},end:{line:296,column:48}},type:"binary-expr",locations:[{start:{line:296,column:19},end:{line:296,column:42}},{start:{line:296,column:46},end:{line:296,column:48}}],line:296},15:{loc:{start:{line:309,column:14},end:{line:309,column:66}},type:"cond-expr",locations:[{start:{line:309,column:45},end:{line:309,column:54}},{start:{line:309,column:57},end:{line:309,column:66}}],line:309}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0,0,0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer"],mappings:"AAuN2B,SA2EL,UA1Ed,KADmB;AAvN3B,OAAO,WAAuB;AAC9B,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AACzB,SAAS,mBAAmB;AAE5B,SAAQ,UAAS;AAEjB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,SAAQ,qBAAoB;AAC5B,SAA+B,uBAAuB;AAEtD,SAAS,yBAAyB;AAUlC,SAAS,uBAAuB,GAAqC;AACnE,QAAM,SAAgC,CAAC;AACvC,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,2BAA2B;AAAA,IACpC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,eAAe,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,SAAS,CAAC;AAAA,EAC9E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,wBAAwB;AAAA,IACjC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,eAAe,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC5E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,wBAAwB;AAAA,IACjC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,eAAe,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC5E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,uBAAuB;AAAA,IAChC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,cAAc,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC3E,CAAC;AACD,SAAO,KAAK;AAAA,IACV,OAAO,EAAE,uBAAuB;AAAA,IAChC,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ,OAAO,KAAK,GAAG,cAAc,CAAC,EAAE,OAAO,OAAK,EAAE,WAAW,OAAO,CAAC;AAAA,EAC3E,CAAC;AACD,SAAO;AACT;AAEA,SAAS,iBAAiB,MAAkC,GAAqC;AAC/F,MAAI,OAAO,KAAK,GAAG,MAAM,KAAK,MAAM,EAAE,QAAQ,IAAI,IAAI,GAAG;AACvD,WAAO,CAAC;AAAA,EACV;AACA,MAAI,SAAS,UAAU;AACrB,WAAO,uBAAuB,CAAC;AAAA,EACjC;AACA,QAAM,SAAgC,CAAC;AACvC,MAAI,OAAO,KAAK,GAAG,WAAW,IAAI,CAAC,EAAE,SAAS,GAAG;AAC/C,WAAO,KAAK;AAAA,MACV,OAAO,EAAE,kBAAkB;AAAA,MAC3B,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,QAAQ,OAAO,KAAK,GAAG,WAAW,IAAI,CAAC;AAAA,IACzC,CAAC;AAAA,EACH;AACA,MAAI,OAAO,KAAK,GAAG,YAAY,IAAI,CAAC,EAAE,SAAS,GAAG;AAChD,WAAO,KAAK;AAAA,MACV,OAAO,EAAE,mBAAmB;AAAA,MAC5B,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,QAAQ,OAAO,KAAK,GAAG,YAAY,IAAI,CAAC;AAAA,IAC1C,CAAC;AAAA,EACH;AACA,SAAO;AACT;AAEA,SAAS,aAAa,WAAuC,GAA8E;AACzI,QAAM,aAAa;AAAA,IACjB,IAAI;AAAA,IACJ,OAAO,EAAE,OAAO;AAAA,IAChB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,QAAQ;AAAA,IACjB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,aAAa;AAAA,IACtB,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,WAAW,CAAC,CAAC,EACrC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,MAAM,4BAA4B,MAAM,UAAsD;AAAA,EAC5F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAiC;AAC3C,UAAM,KAAK;AAEX,UAAM,eAAyC,CAAC;AAChD,eAAW,SAAS,aAAa,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC,GAAG;AAChE,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B;AAEA,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAA2C,OAAyB;AAClG,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,eAAW,SAAS,iBAAiB,MAAM,MAAM,MAAM,MAAM,CAAC,GAAG;AAC/D,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF;AAEA,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAGA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAiB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAE;AAAA,IACpD;AAEA,YAAO,MAAM;AAAA,MACX,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,kBAAkB,SAAS,KAAK,MAAM,MAAM,IAAI,KAClD;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,WAAW,CAAC,EAAE,OAAO,WAAS;AACxD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM;AACtB,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAKD;AAAA,MACH,QAAQ;AAAA,QACN,MAAM,EAAE,QAAQ;AAAA,QAChB,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,QAC9D,OAAO;AAAA,MACT;AAAA,MACA,WAAW;AAAA,QACT,MAAM,EAAE,WAAW;AAAA,QACnB,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,QAC3D,OAAO;AAAA,MACT;AAAA,MACA,MAAM;AAAA,QACJ,MAAO,OAAO,eAAe,SAAU,EAAE,MAAM,IAAI,EAAE,MAAM;AAAA,QAC3D,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,QACvE,OAAO;AAAA,MACT;AAAA,MACA,aAAa;AAAA,QACX,MAAM,EAAE,eAAe;AAAA,QACvB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,QAChC,OAAO;AAAA,MACT;AAAA,MACA,eAAe;AAAA,QACb,MAAM,EAAE,iBAAiB;AAAA,QACzB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,QAChC,OAAO;AAAA,MACT;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO,oBAAC,YAAY,UAAZ,EAAqB,OAAO,EAAC,MAAM,QAAQ,OAAO,UAAS,GACjE;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACjB,MAAK;AAAA,QACL,cAAY,EAAE,cAAc;AAAA,QAC5B,eAAY;AAAA,QAEZ;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,gCAAC,QAAG,WAAU,uBACX,YAAE,sBAAsB,EAAE,SAAS,cAAc,KAAK,MAAM,MAAM,EAAE,EAAE,CAAC,GAC1E;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA;AAAA,oBAAC;AAAA;AAAA,sBACC,IAAG;AAAA,sBACH,eAAY;AAAA,sBACZ,WAAU;AAAA,sBACV,OAAO;AAAA,sBACP,8BAAC,cAAW,WAAU,0BAAyB;AAAA;AAAA,kBACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAAwB,eAAa,KAAK,OACtE,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b18e7132cbe74e9874e1799489adb7288f110d90"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return gn=function(){return s},s}gn();function v1e(n){gn().f[0]++;const e=(gn().s[0]++,[]);return gn().s[1]++,e.push({title:n("General layout properties"),id:"General_layout_properties",type:"properties",fields:Object.keys(Kf.layout_symbol).filter(t=>(gn().f[1]++,gn().s[2]++,t.startsWith("symbol-")))}),gn().s[3]++,e.push({title:n("Text layout properties"),id:"Text_layout_properties",type:"properties",fields:Object.keys(Kf.layout_symbol).filter(t=>(gn().f[2]++,gn().s[4]++,t.startsWith("text-")))}),gn().s[5]++,e.push({title:n("Icon layout properties"),id:"Icon_layout_properties",type:"properties",fields:Object.keys(Kf.layout_symbol).filter(t=>(gn().f[3]++,gn().s[6]++,t.startsWith("icon-")))}),gn().s[7]++,e.push({title:n("Text paint properties"),id:"Text_paint_properties",type:"properties",fields:Object.keys(Kf.paint_symbol).filter(t=>(gn().f[4]++,gn().s[8]++,t.startsWith("text-")))}),gn().s[9]++,e.push({title:n("Icon paint properties"),id:"Icon_paint_properties",type:"properties",fields:Object.keys(Kf.paint_symbol).filter(t=>(gn().f[5]++,gn().s[10]++,t.startsWith("icon-")))}),gn().s[11]++,e}function ZQ(n,e){if(gn().f[6]++,gn().s[12]++,Object.keys(Kf.layer.type.values).indexOf(n)<0)return gn().b[0][0]++,gn().s[13]++,[];if(gn().b[0][1]++,gn().s[14]++,n==="symbol")return gn().b[1][0]++,gn().s[15]++,v1e(e);gn().b[1][1]++;const t=(gn().s[16]++,[]);return gn().s[17]++,Object.keys(Kf["paint_"+n]).length>0?(gn().b[2][0]++,gn().s[18]++,t.push({title:e("Paint properties"),id:"Paint_properties",type:"properties",fields:Object.keys(Kf["paint_"+n])})):gn().b[2][1]++,gn().s[19]++,Object.keys(Kf["layout_"+n]).length>0?(gn().b[3][0]++,gn().s[20]++,t.push({title:e("Layout properties"),id:"Layout_properties",type:"properties",fields:Object.keys(Kf["layout_"+n])})):gn().b[3][1]++,gn().s[21]++,t}function TL(n,e){gn().f[7]++;const t=(gn().s[22]++,{id:"layer",title:e("Layer"),type:"layer"}),i=(gn().s[23]++,{id:"filter",title:e("Filter"),type:"filter"}),r=(gn().s[24]++,{id:"jsoneditor",title:e("JSON Editor"),type:"jsoneditor"});return gn().s[25]++,[t,i].concat(ZQ(n,e)).concat([r])}class C1e extends ii.Component{static defaultProps=(gn().s[26]++,{onLayerChanged:()=>{gn().f[8]++},onLayerIdChange:()=>{gn().f[9]++},onLayerDestroyed:()=>{gn().f[10]++}});constructor(e){gn().f[11]++,gn().s[27]++,super(e);const t=(gn().s[28]++,{});gn().s[29]++;for(const i of TL(this.props.layer.type,e.t))gn().s[30]++,t[i.title]=!0;gn().s[31]++,this.state={editorGroups:t}}static getDerivedStateFromProps(e,t){gn().f[12]++;const i=(gn().s[32]++,{...t.editorGroups});gn().s[33]++;for(const r of ZQ(e.layer.type,e.t))gn().s[34]++,r.title in i?gn().b[4][1]++:(gn().b[4][0]++,gn().s[35]++,i[r.title]=!0);return gn().s[36]++,{editorGroups:i}}changeProperty(e,t,i){gn().f[13]++,gn().s[37]++,this.props.onLayerChanged(this.props.layerIndex,Gfe(this.props.layer,e,t,i))}onGroupToggle(e,t){gn().f[14]++;const i=(gn().s[38]++,{...this.state.editorGroups,[e]:t});gn().s[39]++,this.setState({editorGroups:i})}renderGroupType(e,t){gn().f[15]++;let i=(gn().s[40]++,"");gn().s[41]++,this.props.layer.metadata?(gn().b[5][0]++,gn().s[42]++,i=this.props.layer.metadata["maputnik:comment"]):gn().b[5][1]++;const{errors:r,layerIndex:o}=(gn().s[43]++,this.props),s=(gn().s[44]++,{});gn().s[45]++,r.forEach(g=>{gn().f[16]++,gn().s[46]++,gn().b[7][0]++,g.parsed&&(gn().b[7][1]++,g.parsed.type==="layer")&&(gn().b[7][2]++,g.parsed.data.index==o)?(gn().b[6][0]++,gn().s[47]++,s[g.parsed.data.key]={message:g.parsed.data.message}):gn().b[6][1]++});let a;const p=(gn().s[48]++,this.props.layer);switch(gn().s[49]++,Object.prototype.hasOwnProperty.call(this.props.sources,p.source)?(gn().b[8][0]++,gn().s[50]++,a=this.props.sources[p.source].layers):gn().b[8][1]++,gn().s[51]++,e){case"layer":return gn().b[9][0]++,gn().s[52]++,Ae.jsxs("div",{children:[Ae.jsx(IW,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:s.id,onChange:g=>(gn().f[17]++,gn().s[53]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,g))}),Ae.jsx(OW,{disabled:!0,error:s.type,value:this.props.layer.type,onChange:g=>(gn().f[18]++,gn().s[54]++,this.props.onLayerChanged(this.props.layerIndex,Nfe(this.props.layer,g)))}),(gn().b[10][0]++,this.props.layer.type!=="background"&&(gn().b[10][1]++,Ae.jsx(HW,{error:s.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:g=>(gn().f[19]++,gn().s[55]++,this.changeProperty(null,"source",g))}))),(gn().b[11][0]++,!PO.includes(this.props.layer.type)&&(gn().b[11][1]++,Ae.jsx(VW,{error:s["source-layer"],sourceLayerIds:a,value:this.props.layer["source-layer"],onChange:g=>(gn().f[20]++,gn().s[56]++,this.changeProperty(null,"source-layer",g))}))),Ae.jsx(f1e,{error:s.minzoom,value:this.props.layer.minzoom,onChange:g=>(gn().f[21]++,gn().s[57]++,this.changeProperty(null,"minzoom",g))}),Ae.jsx(m1e,{error:s.maxzoom,value:this.props.layer.maxzoom,onChange:g=>(gn().f[22]++,gn().s[58]++,this.changeProperty(null,"maxzoom",g))}),Ae.jsx(y1e,{error:s.comment,value:i,onChange:g=>(gn().f[23]++,gn().s[59]++,this.changeProperty("metadata","maputnik:comment",g==""?(gn().b[12][0]++,void 0):(gn().b[12][1]++,g)))})]});case"filter":return gn().b[9][1]++,gn().s[60]++,Ae.jsx("div",{children:Ae.jsx("div",{className:"maputnik-filter-editor-wrapper",children:Ae.jsx(ume,{errors:s,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:g=>(gn().f[24]++,gn().s[61]++,this.changeProperty(null,"filter",g))})})});case"properties":return gn().b[9][2]++,gn().s[62]++,Ae.jsx(c1e,{errors:s,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return gn().b[9][3]++,gn().s[63]++,Ae.jsx(sI,{layer:this.props.layer,onChange:g=>{gn().f[25]++,gn().s[64]++,this.props.onLayerChanged(this.props.layerIndex,g)}});default:return gn().b[9][4]++,gn().s[65]++,Ae.jsx(Ae.Fragment,{})}}moveLayer(e){gn().f[26]++,gn().s[66]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+e})}render(){gn().f[27]++;const e=(gn().s[67]++,this.props.t),t=(gn().s[68]++,[]),i=(gn().s[69]++,this.props.layer.type),r=(gn().s[70]++,TL(i,e).filter(p=>(gn().f[28]++,gn().s[71]++,gn().b[13][0]++,!(i==="background"&&(gn().b[13][1]++,p.type==="source")))).map(p=>{gn().f[29]++;const g=(gn().s[72]++,p.id);return gn().s[73]++,t.push(g),gn().s[74]++,Ae.jsx(h1e,{"data-wd-key":p.title,id:g,title:p.title,isActive:this.state.editorGroups[p.title],onActiveToggle:this.onGroupToggle.bind(this,p.title),children:this.renderGroupType(p.type,p.fields)},g)})),o=(gn().s[75]++,gn().b[14][0]++,this.props.layer.layout||(gn().b[14][1]++,{})),s=(gn().s[76]++,{delete:{text:e("Delete"),handler:()=>(gn().f[30]++,gn().s[77]++,this.props.onLayerDestroy(this.props.layerIndex)),wdKey:"menu-delete-layer"},duplicate:{text:e("Duplicate"),handler:()=>(gn().f[31]++,gn().s[78]++,this.props.onLayerCopy(this.props.layerIndex)),wdKey:"menu-duplicate-layer"},hide:{text:o.visibility==="none"?(gn().b[15][0]++,e("Show")):(gn().b[15][1]++,e("Hide")),handler:()=>(gn().f[32]++,gn().s[79]++,this.props.onLayerVisibilityToggle(this.props.layerIndex)),wdKey:"menu-hide-layer"},moveLayerUp:{text:e("Move layer up"),disabled:this.props.isFirstLayer,handler:()=>(gn().f[33]++,gn().s[80]++,this.moveLayer(-1)),wdKey:"menu-move-layer-up"},moveLayerDown:{text:e("Move layer down"),disabled:this.props.isLastLayer,handler:()=>(gn().f[34]++,gn().s[81]++,this.moveLayer(1)),wdKey:"menu-move-layer-down"}});function a(p,g){gn().f[35]++,gn().s[82]++,g.stopPropagation(),gn().s[83]++,s[p].handler()}return gn().s[84]++,Ae.jsx(Xv.Provider,{value:{size:"14px",color:"#8e8e8e"},children:Ae.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":e("Layer editor"),"data-wd-key":"layer-editor",children:[Ae.jsx("header",{children:Ae.jsxs("div",{className:"layer-header",children:[Ae.jsx("h2",{className:"layer-header__title",children:e("Layer: {{layerId}}",{layerId:$Q(this.props.layer.id)})}),Ae.jsx("div",{className:"layer-header__info",children:Ae.jsxs(Jx.Wrapper,{className:"more-menu",onSelection:a,closeOnSelection:!1,children:[Ae.jsx(Jx.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:Ae.jsx(QJ,{className:"more-menu__button__svg"})}),Ae.jsx(Jx.Menu,{children:Ae.jsx("ul",{className:"more-menu__menu",children:Object.keys(s).map(p=>{gn().f[36]++;const g=(gn().s[85]++,s[p]);return gn().s[86]++,Ae.jsx("li",{children:Ae.jsx(Jx.MenuItem,{value:p,className:"more-menu__menu__item","data-wd-key":g.wdKey,children:g.text})},p)})})})]})})]})}),Ae.jsx(ppe,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:r})]})})}}const _1e=(gn().s[87]++,is()(C1e));var kL=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))},b1e=function(){function n(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return n}(),x1e=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),M1e=function(){function n(e,t,i,r){this.name=e,this.version=t,this.os=i,this.bot=r,this.type="bot-device"}return n}(),w1e=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),S1e=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),E1e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,B1e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,DL=3,O1e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E1e]],RL=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function I1e(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new S1e:typeof navigator<"u"?k1e(navigator.userAgent):R1e()}function T1e(n){return n!==""&&O1e.reduce(function(e,t){var i=t[0],r=t[1];if(e)return e;var o=r.exec(n);return!!o&&[i,o]},!1)}function k1e(n){var e=T1e(n);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new w1e;var r=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);r?r.length<DL&&(r=kL(kL([],r,!0),P1e(DL-r.length),!0)):r=[];var o=r.join("."),s=D1e(n),a=B1e.exec(n);return a&&a[1]?new M1e(t,o,s,a[1]):new b1e(t,o,s)}function D1e(n){for(var e=0,t=RL.length;e<t;e++){var i=RL[e],r=i[0],o=i[1],s=o.exec(n);if(s)return r}return null}function R1e(){var n=typeof process<"u"&&process.version;return n?new x1e(process.version.slice(1)):null}function P1e(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}const U1e="maputnik",K1e="3.0.0",PL={name:U1e,version:K1e},L1e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Yr(){var n="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",e="a80f1c6002bb333b679e563f1e24ea304ffcd120",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:19,column:16},end:{line:19,column:24}},1:{start:{line:20,column:41},end:{line:20,column:89}},2:{start:{line:23,column:4},end:{line:23,column:107}},3:{start:{line:28,column:4},end:{line:38,column:6}},4:{start:{line:43,column:4},end:{line:50,column:6}},5:{start:{line:55,column:4},end:{line:63,column:6}},6:{start:{line:67,column:10},end:{line:75,column:3}},7:{start:{line:77,column:4},end:{line:77,column:34}},8:{start:{line:80,column:4},end:{line:80,column:40}},9:{start:{line:82,column:11},end:{line:89,column:3}},10:{start:{line:83,column:4},end:{line:88,column:5}},11:{start:{line:84,column:6},end:{line:84,column:59}},12:{start:{line:86,column:17},end:{line:86,column:65}},13:{start:{line:87,column:6},end:{line:87,column:17}},14:{start:{line:91,column:14},end:{line:91,column:26}},15:{start:{line:92,column:18},end:{line:128,column:5}},16:{start:{line:129,column:24},end:{line:131,column:6}},17:{start:{line:130,column:6},end:{line:130,column:45}},18:{start:{line:132,column:4},end:{line:254,column:12}},19:{start:{line:143,column:33},end:{line:143,column:58}},20:{start:{line:152,column:33},end:{line:152,column:60}},21:{start:{line:161,column:33},end:{line:161,column:51}},22:{start:{line:217,column:33},end:{line:217,column:69}},23:{start:{line:220,column:38},end:{line:220,column:59}},24:{start:{line:221,column:20},end:{line:221,column:157}},25:{start:{line:223,column:115},end:{line:223,column:148}},26:{start:{line:224,column:20},end:{line:224,column:133}},27:{start:{line:240,column:33},end:{line:240,column:74}},28:{start:{line:243,column:18},end:{line:243,column:94}},29:{start:{line:257,column:19},end:{line:257,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:24,column:3}},line:22},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:11},end:{line:39,column:3}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:11},end:{line:51,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:64,column:3}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:23},end:{line:78,column:3}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:79,column:2},end:{line:79,column:3}},loc:{start:{line:79,column:28},end:{line:81,column:3}},line:79},6:{name:"(anonymous_6)",decl:{start:{line:82,column:11},end:{line:82,column:12}},loc:{start:{line:82,column:23},end:{line:89,column:3}},line:82},7:{name:"(anonymous_7)",decl:{start:{line:90,column:2},end:{line:90,column:3}},loc:{start:{line:90,column:11},end:{line:255,column:3}},line:90},8:{name:"(anonymous_8)",decl:{start:{line:129,column:35},end:{line:129,column:36}},loc:{start:{line:129,column:45},end:{line:131,column:5}},line:129},9:{name:"(anonymous_9)",decl:{start:{line:143,column:25},end:{line:143,column:26}},loc:{start:{line:143,column:33},end:{line:143,column:58}},line:143},10:{name:"(anonymous_10)",decl:{start:{line:152,column:25},end:{line:152,column:26}},loc:{start:{line:152,column:33},end:{line:152,column:60}},line:152},11:{name:"(anonymous_11)",decl:{start:{line:161,column:25},end:{line:161,column:26}},loc:{start:{line:161,column:33},end:{line:161,column:51}},line:161},12:{name:"(anonymous_12)",decl:{start:{line:217,column:26},end:{line:217,column:27}},loc:{start:{line:217,column:33},end:{line:217,column:69}},line:217},13:{name:"(anonymous_13)",decl:{start:{line:220,column:31},end:{line:220,column:32}},loc:{start:{line:220,column:38},end:{line:220,column:59}},line:220},14:{name:"(anonymous_14)",decl:{start:{line:220,column:65},end:{line:220,column:66}},loc:{start:{line:220,column:75},end:{line:222,column:19}},line:220},15:{name:"(anonymous_15)",decl:{start:{line:223,column:108},end:{line:223,column:109}},loc:{start:{line:223,column:115},end:{line:223,column:148}},line:223},16:{name:"(anonymous_16)",decl:{start:{line:223,column:154},end:{line:223,column:155}},loc:{start:{line:223,column:164},end:{line:225,column:19}},line:223},17:{name:"(anonymous_17)",decl:{start:{line:240,column:26},end:{line:240,column:27}},loc:{start:{line:240,column:33},end:{line:240,column:74}},line:240},18:{name:"(anonymous_18)",decl:{start:{line:242,column:65},end:{line:242,column:66}},loc:{start:{line:242,column:83},end:{line:244,column:17}},line:242}},branchMap:{0:{loc:{start:{line:83,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:88,column:5}},{start:{line:85,column:11},end:{line:88,column:5}}],line:83}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAiCW,SAAA,KAyLG,YAzLH;AAjCX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AACP,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AACzB,SAAS,uBAA6C;AACtD,SAAS,0BAA0B;AAInC,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,+BAAQ,QAAA,EAAK,WAAU,sBAAsB,UAAA,KAAK,MAAM,SAAA,CAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,qBAAqB,KAAa;AAChC,SAAK,MAAM,KAAK,eAAe,GAAG;AAAA,EACpC;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACnB,eAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,KAAK;AAAA,MAChB;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,SAAS;AAAA,QAClB,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,qBAAqB;AAAA,QAC9B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,sBAAsB;AAAA,QAC/B,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,+BAAQ,OAAA,EAAI,WAAU,oBACpB,UAAA,qBAAC,OAAA,EAAI,WAAU,2BACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UAGV,UAAA;AAAA,YAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,CAAA,OAAM,KAAK,OAAO,YAAY;AAAA,gBAEtC,YAAE,aAAa;AAAA,cAAA;AAAA,YAClB;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,CAAA,OAAM,KAAK,OAAO,cAAc;AAAA,gBAExC,YAAE,cAAc;AAAA,cAAA;AAAA,YACnB;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,CAAA,OAAM,KAAK,OAAO,KAAK;AAAA,gBAE/B,YAAE,UAAU;AAAA,cAAA;AAAA,YACf;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL,UAAA;AAAA,kBAAA,oBAAC,SAAI,KAAK,cAAc,KAAK,EAAE,oBAAoB,EAAA,CAAG;AAAA,uCACrD,MAAA,EACC,UAAA;AAAA,oBAAA,oBAAC,QAAA,EAAK,WAAU,yBAAyB,UAAA,QAAQ,KAAA,CAAK;AAAA,oBACtD,qBAAC,QAAA,EAAK,WAAU,4BAA2B,UAAA;AAAA,sBAAA;AAAA,sBAAE,QAAQ;AAAA,oBAAA,EAAA,CAAQ;AAAA,kBAAA,EAAA,CAC/D;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,2BACC,OAAA,EAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE,UAAA;AAAA,QAAA,qBAAC,eAAA,EAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF,UAAA;AAAA,UAAA,oBAAC,iBAAA,CAAA,CAAgB;AAAA,UACjB,oBAAC,UAAA,EAAU,UAAA,EAAE,MAAM,EAAA,CAAE;AAAA,QAAA,EAAA,CACvB;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF,UAAA;AAAA,UAAA,oBAAC,QAAA,CAAA,CAAO;AAAA,UACR,oBAAC,UAAA,EAAU,UAAA,EAAE,MAAM,EAAA,CAAE;AAAA,QAAA,EAAA,CACvB;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF,UAAA;AAAA,UAAA,oBAAC,UAAA,CAAA,CAAS;AAAA,UACV,oBAAC,UAAA,EAAU,UAAA,EAAE,cAAc,EAAA,CAAE;AAAA,QAAA,EAAA,CAC/B;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF,UAAA;AAAA,UAAA,oBAAC,YAAA,CAAA,CAAW;AAAA,UACZ,oBAAC,UAAA,EAAU,UAAA,EAAE,gBAAgB,EAAA,CAAE;AAAA,QAAA,EAAA,CACjC;AAAA,QACA,qBAAC,eAAA,EAAc,OAAM,oBAAmB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,aAAa,GAChG,UAAA;AAAA,UAAA,oBAAC,UAAA,CAAA,CAAS;AAAA,UACV,oBAAC,UAAA,EAAU,UAAA,EAAE,cAAc,EAAA,CAAE;AAAA,QAAA,EAAA,CAC/B;AAAA,QAEA,qBAAC,eAAA,EAAc,OAAM,eACnB,UAAA;AAAA,UAAA,oBAAC,cAAA,CAAA,CAAa;AAAA,+BACb,UAAA,EAAU,UAAA;AAAA,YAAA,EAAE,MAAM;AAAA,YACjB;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB,UAAA;AAAA,kBAAA,MAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,UAAA,EAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,UAAA,KAAK,MAAA,GADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,YAAA,EAAS,OAAO,EAAE,qBAAqB,GACrC,UAAA,MAAM,OAAO,CAAA,MAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,UAAA,EAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,UAAA,KAAK,MAAA,GADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,EAAA,CACH;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,UAAA,EAAA,CACF;AAAA,QAAA,EAAA,CACF;AAAA,QAEA,qBAAC,eAAA,EAAc,OAAM,gBACnB,UAAA;AAAA,UAAA,oBAAC,YAAA,CAAA,CAAW;AAAA,+BACX,UAAA,EAAS,UAAA;AAAA,YAAA;AAAA,YACR;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,qBAAqB,EAAE,OAAO,KAAK;AAAA,gBACzD,OAAO,KAAK,MAAM,KAAK;AAAA,gBAEtB,UAAA,OAAO,QAAQ,kBAAkB,EAAE,IAAI,CAAC,CAAC,MAAM,IAAI,MAAM;AACxD,yBACE,oBAAC,UAAA,EAAkB,OAAO,MACvB,kBADU,IAEb;AAAA,gBAEJ,CAAC;AAAA,cAAA;AAAA,YACH;AAAA,UAAA,EAAA,CACF;AAAA,QAAA,EAAA,CACF;AAAA,QAEA,qBAAC,aAAA,EAAY,MAAM,6CACjB,UAAA;AAAA,UAAA,oBAAC,eAAA,CAAA,CAAc;AAAA,UACf,oBAAC,UAAA,EAAU,UAAA,EAAE,MAAM,EAAA,CAAE;AAAA,QAAA,EAAA,CACvB;AAAA,MAAA,EAAA,CACF;AAAA,IAAA,EAAA,CACF,EAAA,CACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a80f1c6002bb333b679e563f1e24ea304ffcd120"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Yr=function(){return s},s}Yr();const F1e=(Yr().s[0]++,I1e()),o3=(Yr().s[1]++,["chrome","firefox"].indexOf(F1e.name)>-1);class Pg extends ii.Component{render(){return Yr().f[0]++,Yr().s[2]++,Ae.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class z1e extends ii.Component{render(){return Yr().f[1]++,Yr().s[3]++,Ae.jsx("a",{className:g0("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class UL extends ii.Component{render(){return Yr().f[2]++,Yr().s[4]++,Ae.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class o_ extends ii.Component{render(){return Yr().f[3]++,Yr().s[5]++,Ae.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class j1e extends ii.Component{state=(Yr().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}});handleSelection(e){Yr().f[4]++,Yr().s[7]++,this.props.onSetMapState(e)}handleLanguageChange(e){Yr().f[5]++,Yr().s[8]++,this.props.i18n.changeLanguage(e)}onSkip=(Yr().s[9]++,e=>{if(Yr().f[6]++,Yr().s[10]++,e==="map")Yr().b[0][0]++,Yr().s[11]++,document.querySelector(".maplibregl-canvas").focus();else{Yr().b[0][1]++;const t=(Yr().s[12]++,document.querySelector("#skip-target-"+e));Yr().s[13]++,t.focus()}});render(){Yr().f[7]++;const e=(Yr().s[14]++,this.props.t),t=(Yr().s[15]++,[{id:"map",group:"general",title:e("Map")},{id:"inspect",group:"general",title:e("Inspect"),disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:e("Deuteranopia filter"),disabled:!o3},{id:"filter-protanopia",group:"color-accessibility",title:e("Protanopia filter"),disabled:!o3},{id:"filter-tritanopia",group:"color-accessibility",title:e("Tritanopia filter"),disabled:!o3},{id:"filter-achromatopsia",group:"color-accessibility",title:e("Achromatopsia filter"),disabled:!o3}]),i=(Yr().s[16]++,t.find(r=>(Yr().f[8]++,Yr().s[17]++,r.id===this.props.mapState)));return Yr().s[18]++,Ae.jsx("nav",{className:"maputnik-toolbar",children:Ae.jsxs("div",{className:"maputnik-toolbar__inner",children:[Ae.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[Ae.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:r=>(Yr().f[9]++,Yr().s[19]++,this.onSkip("layer-list")),children:e("Layers list")}),Ae.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:r=>(Yr().f[10]++,Yr().s[20]++,this.onSkip("layer-editor")),children:e("Layer editor")}),Ae.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:r=>(Yr().f[11]++,Yr().s[21]++,this.onSkip("map")),children:e("Map view")}),Ae.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[Ae.jsx("img",{src:L1e,alt:e("Maputnik on GitHub")}),Ae.jsxs("h1",{children:[Ae.jsx("span",{className:"maputnik-toolbar-name",children:PL.name}),Ae.jsxs("span",{className:"maputnik-toolbar-version",children:["v",PL.version]})]})]})]}),Ae.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[Ae.jsxs(o_,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[Ae.jsx(TJ,{}),Ae.jsx(Pg,{children:e("Open")})]}),Ae.jsxs(o_,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[Ae.jsx(RB,{}),Ae.jsx(Pg,{children:e("Save")})]}),Ae.jsxs(o_,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[Ae.jsx(jJ,{}),Ae.jsx(Pg,{children:e("Data Sources")})]}),Ae.jsxs(o_,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[Ae.jsx(kJ,{}),Ae.jsx(Pg,{children:e("Style Settings")})]}),Ae.jsxs(o_,{wdKey:"nav:global-state",onClick:this.props.onToggleModal.bind(this,"globalState"),children:[Ae.jsx(qJ,{}),Ae.jsx(Pg,{children:e("Global State")})]}),Ae.jsxs(UL,{wdKey:"nav:inspect",children:[Ae.jsx(SJ,{}),Ae.jsxs(Pg,{children:[e("View"),Ae.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:r=>(Yr().f[12]++,Yr().s[22]++,this.handleSelection(r.target.value)),value:i?.id,children:[t.filter(r=>(Yr().f[13]++,Yr().s[23]++,r.group==="general")).map(r=>(Yr().f[14]++,Yr().s[24]++,Ae.jsx("option",{value:r.id,disabled:r.disabled,"data-wd-key":r.id,children:r.title},r.id))),Ae.jsx("optgroup",{label:e("Color accessibility"),children:t.filter(r=>(Yr().f[15]++,Yr().s[25]++,r.group==="color-accessibility")).map(r=>(Yr().f[16]++,Yr().s[26]++,Ae.jsx("option",{value:r.id,disabled:r.disabled,children:r.title},r.id)))})]})]})]}),Ae.jsxs(UL,{wdKey:"nav:language",children:[Ae.jsx(IJ,{}),Ae.jsxs(Pg,{children:["Language",Ae.jsx("select",{className:"maputnik-select","data-wd-key":"maputnik-lang-select",onChange:r=>(Yr().f[17]++,Yr().s[27]++,this.handleLanguageChange(r.target.value)),value:this.props.i18n.language,children:Object.entries(lz).map(([r,o])=>(Yr().f[18]++,Yr().s[28]++,Ae.jsx("option",{value:r,children:o},r)))})]})]}),Ae.jsxs(z1e,{href:"https://github.com/maplibre/maputnik/wiki",children:[Ae.jsx(EJ,{}),Ae.jsx(Pg,{children:e("Help")})]})]})]})})}}const N1e=(Yr().s[29]++,is()(j1e));function g2(){var n="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",e="d17a642b15310eb6111b086bd920c67ec86a8271",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return g2=function(){return s},s}g2();class G1e extends ii.Component{render(){return g2().f[0]++,g2().s[0]++,Ae.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function Ng(){var n="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",e="ec06363f2da84c6363ddcdeb1250703aa92f5205",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:46}},1:{start:{line:9,column:4},end:{line:18,column:12}},2:{start:{line:21,column:18},end:{line:21,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:19,column:3}},line:7}},branchMap:{0:{loc:{start:{line:16,column:6},end:{line:16,column:123}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:23}},{start:{line:16,column:43},end:{line:16,column:123}}],line:16}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAsBQ,SACE,KADF;AAtBR,OAAO,WAAW;AAClB,OAAO,qBAAqB;AAC5B,SAA+B,uBAAuB;AACtD,SAAS,mBAAmB;AAW5B,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EAEtE,SAAS;AACP,aAAS,KAAK,MAAM,KAAK,MAAM,KAAK,IAAI;AAExC,WAAO,oBAAC,YAAY,UAAZ,EAAqB,OAAO,EAAC,MAAM,OAAM,GAC/C,+BAAC,SAAI,WAAU,mBACZ;AAAA,WAAK,MAAM;AAAA,MACZ,qBAAC,SAAI,WAAU,wBACb;AAAA,4BAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,QACC,KAAK,MAAM;AAAA,SACd;AAAA,MACC,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd,GACF;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ec06363f2da84c6363ddcdeb1250703aa92f5205"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ng=function(){return s},s}Ng();class W1e extends ii.Component{render(){return Ng().f[0]++,Ng().s[0]++,document.body.dir=this.props.i18n.dir(),Ng().s[1]++,Ae.jsx(Xv.Provider,{value:{size:"14px"},children:Ae.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,Ae.jsxs("div",{className:"maputnik-layout-main",children:[Ae.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),Ae.jsx("div",{className:"maputnik-layout-drawer",children:Ae.jsx(G1e,{children:this.props.layerEditor})}),this.props.map]}),(Ng().b[0][0]++,this.props.bottom&&(Ng().b[0][1]++,Ae.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})})}}const Q1e=(Ng().s[2]++,is()(W1e));function kl(){var n="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",e="ad9bc0415023edf2846d3f9c9715e3e183d1ba9e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:38},end:{line:11,column:48}},2:{start:{line:12,column:19},end:{line:40,column:6}},3:{start:{line:14,column:6},end:{line:38,column:7}},4:{start:{line:15,column:27},end:{line:15,column:32}},5:{start:{line:16,column:24},end:{line:16,column:73}},6:{start:{line:17,column:8},end:{line:35,column:13}},7:{start:{line:30,column:31},end:{line:30,column:74}},8:{start:{line:37,column:8},end:{line:37,column:32}},9:{start:{line:39,column:6},end:{line:39,column:120}},10:{start:{line:41,column:18},end:{line:43,column:6}},11:{start:{line:42,column:6},end:{line:42,column:68}},12:{start:{line:44,column:4},end:{line:47,column:9}},13:{start:{line:50,column:24},end:{line:50,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:25},end:{line:8,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:42},end:{line:12,column:43}},loc:{start:{line:12,column:58},end:{line:40,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:30,column:25},end:{line:30,column:26}},loc:{start:{line:30,column:31},end:{line:30,column:74}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:41,column:40},end:{line:41,column:41}},loc:{start:{line:41,column:50},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:14,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:14,column:6},end:{line:38,column:7}},{start:{line:36,column:13},end:{line:38,column:7}}],line:14},1:{loc:{start:{line:14,column:10},end:{line:14,column:55}},type:"binary-expr",locations:[{start:{line:14,column:10},end:{line:14,column:22}},{start:{line:14,column:26},end:{line:14,column:55}}],line:14},2:{loc:{start:{line:24,column:10},end:{line:34,column:14}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:50}},{start:{line:24,column:70},end:{line:34,column:14}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA4BY,SAIE,UAHM,KADR;AA5BZ,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAE5B,SAAS,OAA6B,uBAAuB;AAW7D,MAAM,gCAAgC,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,mBAAkB,IAAI,KAAK;AACrC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCACE;AAAA,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,YAAO;AAAA,YAAG,OAAO,KAAK;AAAA,aAC5D;AAAA,UACC,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAEzD,YAAE,iBAAiB;AAAA;AAAA,YACtB;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;AAEA,MAAM,kBAAkB,gBAAgB,EAAE,uBAAuB;AACjE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ad9bc0415023edf2846d3f9c9715e3e183d1ba9e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return kl=function(){return s},s}kl();class Y1e extends ii.Component{static defaultProps=(kl().s[0]++,{onLayerSelect:()=>{kl().f[0]++}});render(){kl().f[1]++;const{t:e,selectedLayerIndex:t}=(kl().s[1]++,this.props),i=(kl().s[2]++,this.props.errors?.map((o,s)=>{kl().f[2]++;let a;if(kl().s[3]++,kl().b[1][0]++,o.parsed&&(kl().b[1][1]++,o.parsed.type==="layer")){kl().b[0][0]++;const{parsed:p}=(kl().s[4]++,o),g=(kl().s[5]++,this.props.mapStyle?.layers[p.data.index].id);kl().s[6]++,a=Ae.jsxs(Ae.Fragment,{children:[Ae.jsxs(Zg,{t:e,children:["Layer ",Ae.jsx("span",{children:$Q(g)}),": ",p.data.message]}),(kl().b[2][0]++,t!==p.data.index&&(kl().b[2][1]++,Ae.jsxs(Ae.Fragment,{children:[" — ",Ae.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(kl().f[3]++,kl().s[7]++,this.props.onLayerSelect(p.data.index)),children:e("switch to layer")})]})))]})}else kl().b[0][1]++,kl().s[8]++,a=o.message;return kl().s[9]++,Ae.jsx("p",{className:"maputnik-message-panel-error",children:a},"error-"+s)})),r=(kl().s[10]++,this.props.infos?.map((o,s)=>(kl().f[4]++,kl().s[11]++,Ae.jsx("p",{children:o},"info-"+s))));return kl().s[12]++,Ae.jsxs("div",{className:"maputnik-message-panel",children:[i,r]})}}const q1e=(kl().s[13]++,is()(Y1e));function Sb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",e="6904abccc922d01222214bca1ee3bdee75077020",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:4,column:19},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:148}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:19},end:{line:4,column:20}},loc:{start:{line:4,column:30},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,gBAA0C;AACjD,OAAO,cAAc;AASrB,MAAM,aAAwC,CAAC,UAAU;AACvD,SACE,oBAAC,YAAS,OAAO,MAAM,OAAO,WAAW,MAAM,WAC7C,8BAAC,cAAY,GAAG,OAAO,GACzB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6904abccc922d01222214bca1ee3bdee75077020"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Sb=function(){return s},s}Sb();Sb().s[0]++;const y2=n=>(Sb().f[0]++,Sb().s[1]++,Ae.jsx(jg,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(zO,{...n})}));function Eb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",e="4d2523cd21b202fb5e80e08624becdbab30e967f",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:4,column:20},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:146}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:31},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,iBAA0C;AACjD,OAAO,WAAW;AAWlB,MAAM,cAA0C,CAAC,UAAU;AACzD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,eAAa,GAAG,OAAO,GAC1B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d2523cd21b202fb5e80e08624becdbab30e967f"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Eb=function(){return s},s}Eb();Eb().s[0]++;const cm=n=>(Eb().f[0]++,Eb().s[1]++,Ae.jsx(js,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(ig,{...n})}));function Bb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",e="5d41bf44c48c380a773c8c6219651c4348518afa",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:4,column:20},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:146}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:31},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,iBAA0C;AAUjD,MAAM,cAA0C,CAAC,UAAU;AACzD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,eAAa,GAAG,OAAO,GAC1B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d41bf44c48c380a773c8c6219651c4348518afa"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Bb=function(){return s},s}Bb();Bb().s[0]++;const Xd=n=>(Bb().f[0]++,Bb().s[1]++,Ae.jsx(js,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(_m,{...n})}));function Ob(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",e="6e4f23f735ab05a9622545421c68df85e4603d43",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:4,column:17},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:143}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:28},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,cAAqD;AAC5D,OAAO,WAAW;AAWlB,MAAM,WAAoC,CAAC,UAAU;AACnD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,YAAU,GAAG,OAAO,GACvB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6e4f23f735ab05a9622545421c68df85e4603d43"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ob=function(){return s},s}Ob();Ob().s[0]++;const dC=n=>(Ob().f[0]++,Ob().s[1]++,Ae.jsx(js,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(OI,{...n})}));function Ib(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",e="245ef066962174fcd1012332d28af93e7b97872c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:4,column:20},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:146}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:31},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,iBAA0C;AAWjD,MAAM,cAA0C,CAAC,UAAU;AACzD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,eAAa,GAAG,OAAO,GAC1B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"245ef066962174fcd1012332d28af93e7b97872c"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ib=function(){return s},s}Ib();Ib().s[0]++;const Tb=n=>(Ib().f[0]++,Ib().s[1]++,Ae.jsx(js,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(xy,{...n})}));function kb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",e="c3637509a0af6618b52e814bed4254c2e3fa3b7a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:4,column:18},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:147}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:18},end:{line:4,column:19}},loc:{start:{line:4,column:29},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,eAAsC;AAC7C,OAAO,cAAc;AAWrB,MAAM,YAAsC,CAAC,UAAU;AACrD,SACE,oBAAC,YAAS,OAAO,MAAM,OAAO,WAAW,MAAM,WAC7C,8BAAC,aAAW,GAAG,OAAO,GACxB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c3637509a0af6618b52e814bed4254c2e3fa3b7a"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return kb=function(){return s},s}kb();kb().s[0]++;const H1e=n=>(kb().f[0]++,kb().s[1]++,Ae.jsx(jg,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(BI,{...n})}));function Db(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",e="81b03af9ad032d255df7823d843b73e8fa5e3f61",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:4,column:19},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:145}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:19},end:{line:4,column:20}},loc:{start:{line:4,column:30},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,gBAAwC;AAW/C,MAAM,aAAwC,CAAC,UAAU;AACvD,SACE,oBAAC,SAAM,OAAO,MAAM,OAAO,WAAW,MAAM,WAC1C,8BAAC,cAAY,GAAG,OAAO,GACzB;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81b03af9ad032d255df7823d843b73e8fa5e3f61"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Db=function(){return s},s}Db();Db().s[0]++;const V1e=n=>(Db().f[0]++,Db().s[1]++,Ae.jsx(js,{label:n.label,fieldSpec:n.fieldSpec,children:Ae.jsx(EI,{...n})}));function Rb(){var n="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",e="3fd72cd1ec4be346f0d6d854a97e371e1b9c2997",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:32,column:2}},1:{start:{line:1,column:21},end:{line:32,column:1}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:13},end:{line:1,column:14}},loc:{start:{line:1,column:21},end:{line:32,column:1}},line:1}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAEA,MAAM,OAAO,CAAC,OAAkB;AAAA,EAC9B,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO,EAAE,uBAAuB;AAAA,MAChC,KAAK,EAAE,yCAAyC;AAAA,MAChD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO,EAAE,4BAA4B;AAAA,MACrC,KAAK,EAAE,iDAAiD;AAAA,MACxD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,qBAAqB;AAAA,MACnB,OAAO,EAAE,qBAAqB;AAAA,MAC9B,KAAK,EAAE,0BAA0B;AAAA,MACjC,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,yBAAyB;AAAA,MACvB,OAAO,EAAE,yBAAyB;AAAA,MAClC,KAAK,EAAE,8CAA8C;AAAA,MACrD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO,EAAE,gBAAgB;AAAA,MACzB,KAAK,EAAE,sDAAsD;AAAA,IAC/D;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3fd72cd1ec4be346f0d6d854a97e371e1b9c2997"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Rb=function(){return s},s}Rb();Rb().s[0]++;const XQ=n=>(Rb().f[0]++,Rb().s[1]++,{maputnik:{maptiler_access_token:{label:n("MapTiler Access Token"),doc:n("Public access token for MapTiler Cloud."),docUrl:"https://docs.maptiler.com/cloud/api/authentication-key/",docUrlLinkText:n("Learn More")},thunderforest_access_token:{label:n("Thunderforest Access Token"),doc:n("Public access token for Thunderforest services."),docUrl:"https://www.thunderforest.com/docs/apikeys/",docUrlLinkText:n("Learn More")},stadia_access_token:{label:n("Stadia Maps API Key"),doc:n("API key for Stadia Maps."),docUrl:"https://docs.stadiamaps.com/authentication/",docUrlLinkText:n("Learn More")},locationiq_access_token:{label:n("LocationIQ Access Token"),doc:n("Public access token for LocationIQ services."),docUrl:"https://docs.locationiq.com/docs/maps",docUrlLinkText:n("Learn More")},style_renderer:{label:n("Style Renderer"),doc:n("Choose the default Maputnik renderer for this style.")}}});function ni(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalSettings.tsx",e="99e5ed3645da84d03156e916f41e6bd97a8da4f4",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalSettings.tsx",statementMap:{0:{start:{line:16,column:23},end:{line:18,column:5}},1:{start:{line:19,column:4},end:{line:23,column:5}},2:{start:{line:20,column:6},end:{line:20,column:34}},3:{start:{line:22,column:6},end:{line:22,column:35}},4:{start:{line:24,column:4},end:{line:27,column:7}},5:{start:{line:30,column:18},end:{line:32,column:5}},6:{start:{line:33,column:4},end:{line:37,column:5}},7:{start:{line:34,column:6},end:{line:34,column:29}},8:{start:{line:36,column:6},end:{line:36,column:30}},9:{start:{line:38,column:4},end:{line:41,column:7}},10:{start:{line:44,column:20},end:{line:46,column:5}},11:{start:{line:47,column:4},end:{line:51,column:5}},12:{start:{line:48,column:6},end:{line:48,column:31}},13:{start:{line:50,column:6},end:{line:50,column:32}},14:{start:{line:52,column:4},end:{line:55,column:7}},15:{start:{line:58,column:23},end:{line:60,column:5}},16:{start:{line:61,column:4},end:{line:65,column:5}},17:{start:{line:62,column:6},end:{line:62,column:29}},18:{start:{line:64,column:6},end:{line:64,column:30}},19:{start:{line:66,column:4},end:{line:69,column:7}},20:{start:{line:72,column:25},end:{line:74,column:5}},21:{start:{line:75,column:4},end:{line:79,column:5}},22:{start:{line:76,column:6},end:{line:76,column:36}},23:{start:{line:78,column:6},end:{line:78,column:37}},24:{start:{line:80,column:4},end:{line:80,column:44}},25:{start:{line:83,column:21},end:{line:83,column:55}},26:{start:{line:84,column:54},end:{line:84,column:64}},27:{start:{line:85,column:16},end:{line:85,column:38}},28:{start:{line:86,column:18},end:{line:86,column:49}},29:{start:{line:87,column:23},end:{line:87,column:59}},30:{start:{line:88,column:20},end:{line:88,column:53}},31:{start:{line:89,column:23},end:{line:89,column:59}},32:{start:{line:90,column:4},end:{line:335,column:6}},33:{start:{line:105,column:35},end:{line:105,column:74}},34:{start:{line:115,column:35},end:{line:115,column:75}},35:{start:{line:125,column:35},end:{line:125,column:76}},36:{start:{line:135,column:35},end:{line:135,column:76}},37:{start:{line:145,column:35},end:{line:145,column:104}},38:{start:{line:155,column:35},end:{line:155,column:105}},39:{start:{line:165,column:35},end:{line:165,column:98}},40:{start:{line:175,column:35},end:{line:175,column:102}},41:{start:{line:187,column:35},end:{line:187,column:76}},42:{start:{line:197,column:35},end:{line:197,column:74}},43:{start:{line:207,column:35},end:{line:207,column:77}},44:{start:{line:217,column:35},end:{line:217,column:75}},45:{start:{line:229,column:35},end:{line:229,column:76}},46:{start:{line:239,column:35},end:{line:239,column:75}},47:{start:{line:249,column:35},end:{line:249,column:79}},48:{start:{line:261,column:35},end:{line:261,column:78}},49:{start:{line:271,column:35},end:{line:271,column:78}},50:{start:{line:281,column:35},end:{line:281,column:84}},51:{start:{line:291,column:35},end:{line:291,column:80}},52:{start:{line:301,column:35},end:{line:301,column:83}},53:{start:{line:316,column:35},end:{line:316,column:67}},54:{start:{line:330,column:35},end:{line:330,column:87}},55:{start:{line:338,column:22},end:{line:338,column:62}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:44},end:{line:28,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:39},end:{line:42,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:41},end:{line:56,column:3}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:30},end:{line:70,column:3}},line:57},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:39},end:{line:81,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:11},end:{line:336,column:3}},line:82},6:{name:"(anonymous_6)",decl:{start:{line:105,column:24},end:{line:105,column:25}},loc:{start:{line:105,column:35},end:{line:105,column:74}},line:105},7:{name:"(anonymous_7)",decl:{start:{line:115,column:24},end:{line:115,column:25}},loc:{start:{line:115,column:35},end:{line:115,column:75}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:125,column:24},end:{line:125,column:25}},loc:{start:{line:125,column:35},end:{line:125,column:76}},line:125},9:{name:"(anonymous_9)",decl:{start:{line:135,column:24},end:{line:135,column:25}},loc:{start:{line:135,column:35},end:{line:135,column:76}},line:135},10:{name:"(anonymous_10)",decl:{start:{line:145,column:24},end:{line:145,column:25}},loc:{start:{line:145,column:35},end:{line:145,column:104}},line:145},11:{name:"(anonymous_11)",decl:{start:{line:155,column:24},end:{line:155,column:25}},loc:{start:{line:155,column:35},end:{line:155,column:105}},line:155},12:{name:"(anonymous_12)",decl:{start:{line:165,column:24},end:{line:165,column:25}},loc:{start:{line:165,column:35},end:{line:165,column:98}},line:165},13:{name:"(anonymous_13)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:35},end:{line:175,column:102}},line:175},14:{name:"(anonymous_14)",decl:{start:{line:187,column:24},end:{line:187,column:25}},loc:{start:{line:187,column:35},end:{line:187,column:76}},line:187},15:{name:"(anonymous_15)",decl:{start:{line:197,column:24},end:{line:197,column:25}},loc:{start:{line:197,column:35},end:{line:197,column:74}},line:197},16:{name:"(anonymous_16)",decl:{start:{line:207,column:24},end:{line:207,column:25}},loc:{start:{line:207,column:35},end:{line:207,column:77}},line:207},17:{name:"(anonymous_17)",decl:{start:{line:217,column:24},end:{line:217,column:25}},loc:{start:{line:217,column:35},end:{line:217,column:75}},line:217},18:{name:"(anonymous_18)",decl:{start:{line:229,column:24},end:{line:229,column:25}},loc:{start:{line:229,column:35},end:{line:229,column:76}},line:229},19:{name:"(anonymous_19)",decl:{start:{line:239,column:24},end:{line:239,column:25}},loc:{start:{line:239,column:35},end:{line:239,column:75}},line:239},20:{name:"(anonymous_20)",decl:{start:{line:249,column:24},end:{line:249,column:25}},loc:{start:{line:249,column:35},end:{line:249,column:79}},line:249},21:{name:"(anonymous_21)",decl:{start:{line:261,column:24},end:{line:261,column:25}},loc:{start:{line:261,column:35},end:{line:261,column:78}},line:261},22:{name:"(anonymous_22)",decl:{start:{line:271,column:24},end:{line:271,column:25}},loc:{start:{line:271,column:35},end:{line:271,column:78}},line:271},23:{name:"(anonymous_23)",decl:{start:{line:281,column:24},end:{line:281,column:25}},loc:{start:{line:281,column:35},end:{line:281,column:84}},line:281},24:{name:"(anonymous_24)",decl:{start:{line:291,column:24},end:{line:291,column:25}},loc:{start:{line:291,column:35},end:{line:291,column:80}},line:291},25:{name:"(anonymous_25)",decl:{start:{line:301,column:24},end:{line:301,column:25}},loc:{start:{line:301,column:35},end:{line:301,column:83}},line:301},26:{name:"(anonymous_26)",decl:{start:{line:316,column:24},end:{line:316,column:25}},loc:{start:{line:316,column:35},end:{line:316,column:67}},line:316},27:{name:"(anonymous_27)",decl:{start:{line:330,column:24},end:{line:330,column:25}},loc:{start:{line:330,column:35},end:{line:330,column:87}},line:330}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:23,column:5}},{start:{line:21,column:11},end:{line:23,column:5}}],line:19},1:{loc:{start:{line:33,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:37,column:5}},{start:{line:35,column:11},end:{line:37,column:5}}],line:33},2:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:49,column:11},end:{line:51,column:5}}],line:47},3:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},4:{loc:{start:{line:75,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:79,column:5}},{start:{line:77,column:11},end:{line:79,column:5}}],line:75},5:{loc:{start:{line:83,column:21},end:{line:83,column:55}},type:"binary-expr",locations:[{start:{line:83,column:21},end:{line:83,column:49}},{start:{line:83,column:53},end:{line:83,column:55}}],line:83},6:{loc:{start:{line:86,column:18},end:{line:86,column:49}},type:"binary-expr",locations:[{start:{line:86,column:18},end:{line:86,column:43}},{start:{line:86,column:47},end:{line:86,column:49}}],line:86},7:{loc:{start:{line:87,column:23},end:{line:87,column:59}},type:"binary-expr",locations:[{start:{line:87,column:23},end:{line:87,column:53}},{start:{line:87,column:57},end:{line:87,column:59}}],line:87},8:{loc:{start:{line:88,column:20},end:{line:88,column:53}},type:"binary-expr",locations:[{start:{line:88,column:20},end:{line:88,column:47}},{start:{line:88,column:51},end:{line:88,column:53}}],line:88},9:{loc:{start:{line:89,column:23},end:{line:89,column:59}},type:"binary-expr",locations:[{start:{line:89,column:23},end:{line:89,column:53}},{start:{line:89,column:57},end:{line:89,column:59}}],line:89},10:{loc:{start:{line:185,column:21},end:{line:185,column:42}},type:"binary-expr",locations:[{start:{line:185,column:21},end:{line:185,column:36}},{start:{line:185,column:40},end:{line:185,column:42}}],line:185},11:{loc:{start:{line:315,column:21},end:{line:315,column:55}},type:"binary-expr",locations:[{start:{line:315,column:21},end:{line:315,column:49}},{start:{line:315,column:53},end:{line:315,column:55}}],line:315},12:{loc:{start:{line:329,column:21},end:{line:329,column:62}},type:"binary-expr",locations:[{start:{line:329,column:21},end:{line:329,column:50}},{start:{line:329,column:54},end:{line:329,column:62}}],line:329}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalSettings.tsx"],names:[],mappings:"AAmIM,SACE,KADF;AAnIN,OAAO,WAAW;AAClB,OAAO,YAAY;AAEnB,SAA+B,uBAAuB;AAEtD,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAWhC,MAAM,8BAA8B,MAAM,UAAsC;AAAA,EAC9E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,qBAAqB,OAAY;AAC/B,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW;AAAA,IACpB,OACK;AACH,iBAAW,OAAO;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,GAAG,0BAA0B,SAAQ,IAAI,KAAK;AACrD,UAAM,MAAM,oBAAoB,CAAC;AAEjC,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAChD,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AAEtD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,gBAAgB;AAAA,QAEzB,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,CAAC,UAAU,KAAK,oBAAoB,QAAQ,KAAK;AAAA;AAAA,UAC7D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,EAAC,KAAK,EAAE,6DAA6D,EAAC;AAAA,cACjF,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,CAAC,UAAU,KAAK,oBAAoB,SAAS,KAAK;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,EAAE,YAAY;AAAA,cACrB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,CAAC,UAAU,KAAK,oBAAoB,UAAU,KAAK;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,YAAY;AAAA,cACrB,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,CAAC,UAAU,KAAK,oBAAoB,UAAU,KAAK;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,cAC1C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,CAAC,UAAU,yBAAyB,sCAAsC,KAAK;AAAA;AAAA,UAC3F;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,cAC/C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,CAAC,UAAU,yBAAyB,uCAAuC,KAAK;AAAA;AAAA,UAC5F;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,cACxC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,8BAA8B;AAAA,cAC9C,UAAU,CAAC,UAAU,yBAAyB,gCAAgC,KAAK;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,wBAAwB;AAAA,cAC5C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,kCAAkC;AAAA,cAClD,UAAU,CAAC,UAAU,yBAAyB,oCAAoC,KAAK;AAAA;AAAA,UACzF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ;AAAA,cACjB,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,CAAC,UAAU,KAAK,oBAAoB,UAAU,KAAK;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,CAAC,UAAU,KAAK,oBAAoB,QAAQ,KAAK;AAAA;AAAA,UAC7D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,SAAS;AAAA,cAClB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,CAAC,UAAU,KAAK,oBAAoB,WAAW,KAAK;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,CAAC,UAAU,KAAK,oBAAoB,SAAS,KAAK;AAAA;AAAA,UAC9D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,cAAc;AAAA,cACvB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,CAAC,UAAU,KAAK,oBAAoB,UAAU,KAAK;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,aAAa;AAAA,cACtB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,CAAC,UAAU,KAAK,oBAAoB,SAAS,KAAK;AAAA;AAAA,UAC9D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,iBAAiB;AAAA,cAC1B,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,CAAC,UAAU,KAAK,oBAAoB,aAAa,KAAK;AAAA;AAAA,UAClE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,CAAC,UAAU,KAAK,oBAAoB,YAAY,KAAK;AAAA;AAAA,UACjE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,CAAC,UAAU,KAAK,sBAAsB,UAAU,KAAK;AAAA;AAAA,UACjE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,sBAAsB;AAAA,cAC/B,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,CAAC,UAAU,KAAK,sBAAsB,gBAAgB,KAAK;AAAA;AAAA,UACvE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,kBAAkB;AAAA,cAC3B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,CAAC,UAAU,KAAK,yBAAyB,SAAS,KAAK;AAAA;AAAA,UACnE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,qBAAqB;AAAA,cAC9B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,CAAC,UAAU,KAAK,yBAAyB,YAAY,KAAK;AAAA;AAAA,UACtE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,YAAY;AAAA,cACrB,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,IAAI,WAAW;AAAA,gBAChB,CAAC,YAAY,UAAU;AAAA,gBACvB,CAAC,SAAS,OAAO;AAAA,gBACjB,CAAC,wBAAwB,sBAAsB;AAAA,cACjD;AAAA,cACA,OAAO,YAAY,MAAM,SAAS,KAAK;AAAA,cACvC,UAAU,CAAC,UAAU,KAAK,qBAAqB,KAAK;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,eAAe;AAAA,cACnC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,EAAE,4BAA4B,CAAC;AAAA,cACxC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,CAAC,UAAU,yBAAyB,qBAAqB,KAAK;AAAA;AAAA,UAC1E;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99e5ed3645da84d03156e916f41e6bd97a8da4f4"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return ni=function(){return s},s}ni();class $1e extends ii.Component{changeTransitionProperty(e,t){ni().f[0]++;const i=(ni().s[0]++,{...this.props.mapStyle.transition});ni().s[1]++,t===void 0?(ni().b[0][0]++,ni().s[2]++,delete i[e]):(ni().b[0][1]++,ni().s[3]++,i[e]=t),ni().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:i})}changeLightProperty(e,t){ni().f[1]++;const i=(ni().s[5]++,{...this.props.mapStyle.light});ni().s[6]++,t===void 0?(ni().b[1][0]++,ni().s[7]++,delete i[e]):(ni().b[1][1]++,ni().s[8]++,i[e]=t),ni().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:i})}changeTerrainProperty(e,t){ni().f[2]++;const i=(ni().s[10]++,{...this.props.mapStyle.terrain});ni().s[11]++,t===void 0?(ni().b[2][0]++,ni().s[12]++,delete i[e]):(ni().b[2][1]++,ni().s[13]++,i[e]=t),ni().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:i})}changeProjectionType(e){ni().f[3]++;const t=(ni().s[15]++,{...this.props.mapStyle.projection});ni().s[16]++,e===void 0?(ni().b[3][0]++,ni().s[17]++,delete t.type):(ni().b[3][1]++,ni().s[18]++,t.type=e),ni().s[19]++,this.props.onStyleChanged({...this.props.mapStyle,projection:t})}changeStyleProperty(e,t){ni().f[4]++;const i=(ni().s[20]++,{...this.props.mapStyle});ni().s[21]++,t===void 0?(ni().b[4][0]++,ni().s[22]++,delete i[e]):(ni().b[4][1]++,ni().s[23]++,i[e]=t),ni().s[24]++,this.props.onStyleChanged(i)}render(){ni().f[5]++;const e=(ni().s[25]++,ni().b[5][0]++,this.props.mapStyle.metadata||(ni().b[5][1]++,{})),{t,onChangeMetadataProperty:i,mapStyle:r}=(ni().s[26]++,this.props),o=(ni().s[27]++,XQ(t)),s=(ni().s[28]++,ni().b[6][0]++,this.props.mapStyle.light||(ni().b[6][1]++,{})),a=(ni().s[29]++,ni().b[7][0]++,this.props.mapStyle.transition||(ni().b[7][1]++,{})),p=(ni().s[30]++,ni().b[8][0]++,this.props.mapStyle.terrain||(ni().b[8][1]++,{})),g=(ni().s[31]++,ni().b[9][0]++,this.props.mapStyle.projection||(ni().b[9][1]++,{}));return ni().s[32]++,Ae.jsx(lg,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:t("Style Settings"),children:Ae.jsxs("div",{className:"modal:settings",children:[Ae.jsx(Xd,{label:t("Name"),fieldSpec:Jo.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:_=>(ni().f[6]++,ni().s[33]++,this.changeStyleProperty("name",_))}),Ae.jsx(Xd,{label:t("Owner"),fieldSpec:{doc:t("Owner ID of the style. Used by Mapbox or future style APIs.")},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:_=>(ni().f[7]++,ni().s[34]++,this.changeStyleProperty("owner",_))}),Ae.jsx(dC,{fieldSpec:Jo.$root.sprite,label:t("Sprite URL"),"data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:_=>(ni().f[8]++,ni().s[35]++,this.changeStyleProperty("sprite",_))}),Ae.jsx(dC,{label:t("Glyphs URL"),fieldSpec:Jo.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:_=>(ni().f[9]++,ni().s[36]++,this.changeStyleProperty("glyphs",_))}),Ae.jsx(Xd,{label:o.maputnik.maptiler_access_token.label,fieldSpec:o.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:e["maputnik:openmaptiles_access_token"],onChange:_=>(ni().f[10]++,ni().s[37]++,i("maputnik:openmaptiles_access_token",_))}),Ae.jsx(Xd,{label:o.maputnik.thunderforest_access_token.label,fieldSpec:o.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:e["maputnik:thunderforest_access_token"],onChange:_=>(ni().f[11]++,ni().s[38]++,i("maputnik:thunderforest_access_token",_))}),Ae.jsx(Xd,{label:o.maputnik.stadia_access_token.label,fieldSpec:o.maputnik.stadia_access_token,"data-wd-key":"modal:settings.maputnik:stadia_access_token",value:e["maputnik:stadia_access_token"],onChange:_=>(ni().f[12]++,ni().s[39]++,i("maputnik:stadia_access_token",_))}),Ae.jsx(Xd,{label:o.maputnik.locationiq_access_token.label,fieldSpec:o.maputnik.locationiq_access_token,"data-wd-key":"modal:settings.maputnik:locationiq_access_token",value:e["maputnik:locationiq_access_token"],onChange:_=>(ni().f[13]++,ni().s[40]++,i("maputnik:locationiq_access_token",_))}),Ae.jsx(y2,{label:t("Center"),fieldSpec:Jo.$root.center,length:2,type:"number",value:(ni().b[10][0]++,r.center||(ni().b[10][1]++,[])),default:[0,0],onChange:_=>(ni().f[14]++,ni().s[41]++,this.changeStyleProperty("center",_))}),Ae.jsx(cm,{label:t("Zoom"),fieldSpec:Jo.$root.zoom,value:r.zoom,default:0,onChange:_=>(ni().f[15]++,ni().s[42]++,this.changeStyleProperty("zoom",_))}),Ae.jsx(cm,{label:t("Bearing"),fieldSpec:Jo.$root.bearing,value:r.bearing,default:Jo.$root.bearing.default,onChange:_=>(ni().f[16]++,ni().s[43]++,this.changeStyleProperty("bearing",_))}),Ae.jsx(cm,{label:t("Pitch"),fieldSpec:Jo.$root.pitch,value:r.pitch,default:Jo.$root.pitch.default,onChange:_=>(ni().f[17]++,ni().s[44]++,this.changeStyleProperty("pitch",_))}),Ae.jsx(H1e,{label:t("Light anchor"),fieldSpec:Jo.light.anchor,name:"light-anchor",value:s.anchor,options:Object.keys(Jo.light.anchor.values),default:Jo.light.anchor.default,onChange:_=>(ni().f[18]++,ni().s[45]++,this.changeLightProperty("anchor",_))}),Ae.jsx(V1e,{label:t("Light color"),fieldSpec:Jo.light.color,value:s.color,default:Jo.light.color.default,onChange:_=>(ni().f[19]++,ni().s[46]++,this.changeLightProperty("color",_))}),Ae.jsx(cm,{label:t("Light intensity"),fieldSpec:Jo.light.intensity,value:s.intensity,default:Jo.light.intensity.default,onChange:_=>(ni().f[20]++,ni().s[47]++,this.changeLightProperty("intensity",_))}),Ae.jsx(y2,{label:t("Light position"),fieldSpec:Jo.light.position,type:"number",length:Jo.light.position.length,value:s.position,default:Jo.light.position.default,onChange:_=>(ni().f[21]++,ni().s[48]++,this.changeLightProperty("position",_))}),Ae.jsx(Xd,{label:t("Terrain source"),fieldSpec:Jo.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:p.source,onChange:_=>(ni().f[22]++,ni().s[49]++,this.changeTerrainProperty("source",_))}),Ae.jsx(cm,{label:t("Terrain exaggeration"),fieldSpec:Jo.terrain.exaggeration,value:p.exaggeration,default:Jo.terrain.exaggeration.default,onChange:_=>(ni().f[23]++,ni().s[50]++,this.changeTerrainProperty("exaggeration",_))}),Ae.jsx(cm,{label:t("Transition delay"),fieldSpec:Jo.transition.delay,value:a.delay,default:Jo.transition.delay.default,onChange:_=>(ni().f[24]++,ni().s[51]++,this.changeTransitionProperty("delay",_))}),Ae.jsx(cm,{label:t("Transition duration"),fieldSpec:Jo.transition.duration,value:a.duration,default:Jo.transition.duration.default,onChange:_=>(ni().f[25]++,ni().s[52]++,this.changeTransitionProperty("duration",_))}),Ae.jsx(Tb,{label:t("Projection"),"data-wd-key":"modal:settings.projection",options:[["","Undefined"],["mercator","Mercator"],["globe","Globe"],["vertical-perspective","Vertical Perspective"]],value:(ni().b[11][0]++,g?.type?.toString()||(ni().b[11][1]++,"")),onChange:_=>(ni().f[26]++,ni().s[53]++,this.changeProjectionType(_))}),Ae.jsx(Tb,{label:o.maputnik.style_renderer.label,fieldSpec:o.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol",t("Open Layers (experimental)")]],value:(ni().b[12][0]++,e["maputnik:renderer"]||(ni().b[12][1]++,"mlgljs")),onChange:_=>(ni().f[27]++,ni().s[54]++,i("maputnik:renderer",_))})]})})}}const Z1e=(ni().s[55]++,is()($1e));var b3={exports:{}},X1e=b3.exports,KL;function J1e(){return KL||(KL=1,function(n,e){(function(t,i,r){n.exports=r(),n.exports.default=r()})("slugify",X1e,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),i=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function r(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var a=i[s.locale]||{},p=s.replacement===void 0?"-":s.replacement,g=s.trim===void 0?!0:s.trim,_=o.normalize().split("").reduce(function(E,O){var B=a[O];return B===void 0&&(B=t[O]),B===void 0&&(B=O),B===p&&(B=" "),E+B.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(_=_.replace(/[^A-Za-z0-9\s]/g,"")),g&&(_=_.trim()),_=_.replace(/\s+/g,p),s.lower&&(_=_.toLowerCase()),_}return r.extend=function(o){Object.assign(t,o)},r})}(b3)),b3.exports}var eye=J1e();const tye=Bu(eye);var x3={exports:{}},nye=x3.exports,LL;function iye(){return LL||(LL=1,function(n,e){(function(t,i){i()})(nye,function(){function t(g,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function i(g,_,E){var O=new XMLHttpRequest;O.open("GET",g),O.responseType="blob",O.onload=function(){p(O.response,_,E)},O.onerror=function(){console.error("could not download file")},O.send()}function r(g){var _=new XMLHttpRequest;_.open("HEAD",g,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function o(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(_)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(g,_,E){var O=s.URL||s.webkitURL,B=document.createElement("a");_=_||g.name||"download",B.download=_,B.rel="noopener",typeof g=="string"?(B.href=g,B.origin===location.origin?o(B):r(B.href)?i(g,_,E):o(B,B.target="_blank")):(B.href=O.createObjectURL(g),setTimeout(function(){O.revokeObjectURL(B.href)},4e4),setTimeout(function(){o(B)},0))}:"msSaveOrOpenBlob"in navigator?function(g,_,E){if(_=_||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,E),_);else if(r(g))i(g,_,E);else{var O=document.createElement("a");O.href=g,O.target="_blank",setTimeout(function(){o(O)})}}:function(g,_,E,O){if(O=O||open("","_blank"),O&&(O.document.title=O.document.body.innerText="downloading..."),typeof g=="string")return i(g,_,E);var B=g.type==="application/octet-stream",z=/constructor/i.test(s.HTMLElement)||s.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||B&&z||a)&&typeof FileReader<"u"){var Q=new FileReader;Q.onloadend=function(){var re=Q.result;re=N?re:re.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=re:location=re,O=null},Q.readAsDataURL(g)}else{var $=s.URL||s.webkitURL,X=$.createObjectURL(g);O?O.location=X:location.href=X,O=null,setTimeout(function(){$.revokeObjectURL(X)},4e4)}});s.saveAs=p.saveAs=p,n.exports=p})}(x3)),x3.exports}var FL=iye();const rye="5.7.1",oye="get_your_own_OpIi9ZULNHzrESv6T2vL",aye="b71f7f0ba4064f5eb9e903859a9cf5c6",sye="pk.put_your_api_key_here7bb23dffeb4",JQ={openmaptiles:oye,thunderforest:aye,locationiq:sye};function Xn(){var n="/home/runner/work/maputnik/maputnik/src/libs/style.ts",e="16e079a55cdd4175ffeada8708d6c49d219f1229",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:14,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:15,column:2},end:{line:15,column:15}},5:{start:{line:18,column:24},end:{line:22,column:4}},6:{start:{line:19,column:25},end:{line:19,column:37}},7:{start:{line:20,column:4},end:{line:20,column:36}},8:{start:{line:21,column:4},end:{line:21,column:24}},9:{start:{line:23,column:2},end:{line:26,column:4}},10:{start:{line:29,column:2},end:{line:32,column:4}},11:{start:{line:35,column:2},end:{line:35,column:69}},12:{start:{line:38,column:2},end:{line:42,column:3}},13:{start:{line:38,column:15},end:{line:38,column:16}},14:{start:{line:39,column:4},end:{line:41,column:5}},15:{start:{line:40,column:6},end:{line:40,column:15}},16:{start:{line:43,column:2},end:{line:43,column:14}},17:{start:{line:46,column:19},end:{line:46,column:42}},18:{start:{line:47,column:20},end:{line:47,column:67}},19:{start:{line:48,column:2},end:{line:50,column:3}},20:{start:{line:49,column:4},end:{line:49,column:37}},21:{start:{line:51,column:2},end:{line:51,column:21}},22:{start:{line:54,column:17},end:{line:54,column:45}},23:{start:{line:55,column:2},end:{line:55,column:31}},24:{start:{line:55,column:15},end:{line:55,column:31}},25:{start:{line:56,column:2},end:{line:56,column:57}},26:{start:{line:56,column:41},end:{line:56,column:57}},27:{start:{line:57,column:23},end:{line:57,column:33}},28:{start:{line:58,column:2},end:{line:64,column:3}},29:{start:{line:59,column:4},end:{line:59,column:37}},30:{start:{line:60,column:9},end:{line:64,column:3}},31:{start:{line:61,column:4},end:{line:61,column:30}},32:{start:{line:62,column:9},end:{line:64,column:3}},33:{start:{line:63,column:4},end:{line:63,column:34}},34:{start:{line:65,column:22},end:{line:65,column:68}},35:{start:{line:66,column:2},end:{line:68,column:3}},36:{start:{line:67,column:4},end:{line:67,column:20}},37:{start:{line:70,column:2},end:{line:74,column:3}},38:{start:{line:71,column:4},end:{line:71,column:55}},39:{start:{line:73,column:4},end:{line:73,column:57}},40:{start:{line:75,column:25},end:{line:81,column:3}},41:{start:{line:82,column:23},end:{line:85,column:3}},42:{start:{line:86,column:2},end:{line:86,column:22}},43:{start:{line:89,column:21},end:{line:89,column:29}},44:{start:{line:90,column:2},end:{line:92,column:5}},45:{start:{line:91,column:4},end:{line:91,column:76}},46:{start:{line:93,column:2},end:{line:101,column:3}},47:{start:{line:94,column:27},end:{line:94,column:73}},48:{start:{line:95,column:4},end:{line:100,column:5}},49:{start:{line:96,column:6},end:{line:99,column:8}},50:{start:{line:102,column:2},end:{line:102,column:22}},51:{start:{line:105,column:26},end:{line:107,column:3}},52:{start:{line:108,column:2},end:{line:108,column:63}},53:{start:{line:109,column:2},end:{line:109,column:64}},54:{start:{line:110,column:2},end:{line:110,column:57}},55:{start:{line:111,column:2},end:{line:111,column:61}},56:{start:{line:112,column:2},end:{line:115,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:16,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:39},end:{line:27,column:1}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:18,column:41},end:{line:18,column:42}},loc:{start:{line:18,column:52},end:{line:22,column:3}},line:18},4:{name:"ensureHasNoRefs",decl:{start:{line:28,column:9},end:{line:28,column:24}},loc:{start:{line:28,column:32},end:{line:33,column:1}},line:28},5:{name:"ensureStyleValidity",decl:{start:{line:34,column:9},end:{line:34,column:28}},loc:{start:{line:34,column:36},end:{line:36,column:1}},line:34},6:{name:"indexOfLayer",decl:{start:{line:37,column:9},end:{line:37,column:21}},loc:{start:{line:37,column:39},end:{line:44,column:1}},line:37},7:{name:"getAccessToken",decl:{start:{line:45,column:9},end:{line:45,column:23}},loc:{start:{line:45,column:52},end:{line:52,column:1}},line:45},8:{name:"replaceSourceAccessToken",decl:{start:{line:53,column:9},end:{line:53,column:33}},loc:{start:{line:53,column:67},end:{line:87,column:1}},line:53},9:{name:"replaceAccessTokens",decl:{start:{line:88,column:9},end:{line:88,column:28}},loc:{start:{line:88,column:50},end:{line:103,column:1}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:90,column:40},end:{line:90,column:41}},loc:{start:{line:90,column:56},end:{line:92,column:3}},line:90},11:{name:"stripAccessTokens",decl:{start:{line:104,column:9},end:{line:104,column:26}},loc:{start:{line:104,column:37},end:{line:116,column:1}},line:104}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:39,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},3:{loc:{start:{line:46,column:19},end:{line:46,column:42}},type:"binary-expr",locations:[{start:{line:46,column:19},end:{line:46,column:36}},{start:{line:46,column:40},end:{line:46,column:42}}],line:46},4:{loc:{start:{line:48,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:48,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:48,column:6},end:{line:48,column:40}},type:"binary-expr",locations:[{start:{line:48,column:6},end:{line:48,column:24}},{start:{line:48,column:28},end:{line:48,column:40}}],line:48},6:{loc:{start:{line:53,column:56},end:{line:53,column:65}},type:"default-arg",locations:[{start:{line:53,column:63},end:{line:53,column:65}}],line:53},7:{loc:{start:{line:55,column:2},end:{line:55,column:31}},type:"if",locations:[{start:{line:55,column:2},end:{line:55,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:56,column:2},end:{line:56,column:57}},type:"if",locations:[{start:{line:56,column:2},end:{line:56,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},9:{loc:{start:{line:56,column:6},end:{line:56,column:39}},type:"binary-expr",locations:[{start:{line:56,column:6},end:{line:56,column:24}},{start:{line:56,column:28},end:{line:56,column:39}}],line:56},10:{loc:{start:{line:58,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:64,column:3}},{start:{line:60,column:9},end:{line:64,column:3}}],line:58},11:{loc:{start:{line:58,column:6},end:{line:58,column:89}},type:"binary-expr",locations:[{start:{line:58,column:6},end:{line:58,column:46}},{start:{line:58,column:50},end:{line:58,column:89}}],line:58},12:{loc:{start:{line:60,column:9},end:{line:64,column:3}},type:"if",locations:[{start:{line:60,column:9},end:{line:64,column:3}},{start:{line:62,column:9},end:{line:64,column:3}}],line:60},13:{loc:{start:{line:60,column:13},end:{line:60,column:70}},type:"binary-expr",locations:[{start:{line:60,column:13},end:{line:60,column:28}},{start:{line:60,column:32},end:{line:60,column:70}}],line:60},14:{loc:{start:{line:62,column:9},end:{line:64,column:3}},type:"if",locations:[{start:{line:62,column:9},end:{line:64,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},15:{loc:{start:{line:62,column:13},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:13},end:{line:62,column:28}},{start:{line:62,column:32},end:{line:62,column:70}}],line:62},16:{loc:{start:{line:66,column:2},end:{line:68,column:3}},type:"if",locations:[{start:{line:66,column:2},end:{line:68,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},17:{loc:{start:{line:70,column:2},end:{line:74,column:3}},type:"if",locations:[{start:{line:70,column:2},end:{line:74,column:3}},{start:{line:72,column:9},end:{line:74,column:3}}],line:70},18:{loc:{start:{line:88,column:39},end:{line:88,column:48}},type:"default-arg",locations:[{start:{line:88,column:46},end:{line:88,column:48}}],line:88},19:{loc:{start:{line:93,column:2},end:{line:101,column:3}},type:"if",locations:[{start:{line:93,column:2},end:{line:101,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},20:{loc:{start:{line:93,column:6},end:{line:93,column:114}},type:"binary-expr",locations:[{start:{line:93,column:6},end:{line:93,column:21}},{start:{line:93,column:26},end:{line:93,column:69}},{start:{line:93,column:73},end:{line:93,column:113}}],line:93},21:{loc:{start:{line:95,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:100,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0],19:[0,0],20:[0,0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAInB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAuE;AAC1F,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AAAA,EACxB;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAAiC;AAC/D,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAAiC;AACxD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAqD;AAChF,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC,OAAQ,QAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO,IAAK,QAAO;AAE7C,MAAI,iBAAiB;AACrB,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,qBAAiB;AAAA,EACnB,WACU,SAAS,UAAW,OAAO,KAAK,MAAM,mBAAmB,GAAG;AAGpE,qBAAiB;AAAA,EACnB,WACU,SAAS,UAAW,OAAO,KAAK,MAAM,mBAAmB,GAAG;AACpE,qBAAiB;AAAA,EACnB;AAEA,QAAM,cAAc,eAAe,gBAAgB,UAAU,IAAI;AAEjE,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,MAAI;AACJ,MAAI,kBAAkB,UAAU;AAI9B,gBAAY,GAAG,OAAO,GAAG,YAAY,WAAW;AAAA,EAClD,OAAO;AACL,gBAAY,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,EACrD;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK;AAAA,IACP;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO,gBAAgB,qCAAqC;AAC5D,SAAO,gBAAgB,8BAA8B;AACrD,SAAO,gBAAgB,kCAAkC;AACzD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"16e079a55cdd4175ffeada8708d6c49d219f1229"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Xn=function(){return s},s}Xn();const lye=(Xn().s[0]++,tY({version:8,sources:{},layers:[]}));function eY(){return Xn().f[0]++,Xn().s[1]++,Math.random().toString(36).substring(2,9)}function uye(n){return Xn().f[1]++,Xn().s[2]++,Xn().b[1][0]++,!("id"in n)||(Xn().b[1][1]++,!n.id)?(Xn().b[0][0]++,Xn().s[3]++,n.id=eY()):Xn().b[0][1]++,Xn().s[4]++,n}function Aye(n){Xn().f[2]++;const e=(Xn().s[5]++,n.layers.map(t=>{Xn().f[3]++;const i=(Xn().s[6]++,{...t});return Xn().s[7]++,delete i.interactive,Xn().s[8]++,i}));return Xn().s[9]++,{...n,layers:e}}function cye(n){return Xn().f[4]++,Xn().s[10]++,{...n,layers:$O(n.layers)}}function tY(n){return Xn().f[5]++,Xn().s[11]++,Aye(cye(uye(n)))}function hye(n,e){Xn().f[6]++,Xn().s[12]++;for(let t=(Xn().s[13]++,0);t<n.length;t++){if(Xn().s[14]++,n[t].id===e)return Xn().b[2][0]++,Xn().s[15]++,t;Xn().b[2][1]++}return Xn().s[16]++,null}function TI(n,e,t){Xn().f[7]++;const i=(Xn().s[17]++,Xn().b[3][0]++,e.metadata||(Xn().b[3][1]++,{}));let r=(Xn().s[18]++,i[`maputnik:${n}_access_token`]);return Xn().s[19]++,Xn().b[5][0]++,t.allowFallback&&(Xn().b[5][1]++,!r)?(Xn().b[4][0]++,Xn().s[20]++,r=JQ[n]):Xn().b[4][1]++,Xn().s[21]++,r}function dye(n,e,t=(Xn().b[6][0]++,{})){Xn().f[8]++;const i=(Xn().s[22]++,n.sources[e]);if(Xn().s[23]++,i)Xn().b[7][1]++;else return Xn().b[7][0]++,Xn().s[24]++,n;if(Xn().s[25]++,Xn().b[9][0]++,!("url"in i)||(Xn().b[9][1]++,!i.url))return Xn().b[8][0]++,Xn().s[26]++,n;Xn().b[8][1]++;let r=(Xn().s[27]++,e);Xn().s[28]++,Xn().b[11][0]++,e==="thunderforest_transport"||(Xn().b[11][1]++,e==="thunderforest_outdoors")?(Xn().b[10][0]++,Xn().s[29]++,r="thunderforest"):(Xn().b[10][1]++,Xn().s[30]++,Xn().b[13][0]++,"url"in i&&(Xn().b[13][1]++,i.url?.match(/\.stadiamaps\.com/))?(Xn().b[12][0]++,Xn().s[31]++,r="stadia"):(Xn().b[12][1]++,Xn().s[32]++,Xn().b[15][0]++,"url"in i&&(Xn().b[15][1]++,i.url?.match(/\.locationiq\.com/))?(Xn().b[14][0]++,Xn().s[33]++,r="locationiq"):Xn().b[14][1]++));const o=(Xn().s[34]++,TI(r,n,t));if(Xn().s[35]++,o)Xn().b[16][1]++;else return Xn().b[16][0]++,Xn().s[36]++,n;let s;Xn().s[37]++,r=="stadia"?(Xn().b[17][0]++,Xn().s[38]++,s=`${i.url}?api_key=${o}`):(Xn().b[17][1]++,Xn().s[39]++,s=i.url.replace("{key}",o));const a=(Xn().s[40]++,{...n.sources,[e]:{...i,url:s}}),p=(Xn().s[41]++,{...n,sources:a});return Xn().s[42]++,p}function fye(n,e=(Xn().b[18][0]++,{})){Xn().f[9]++;let t=(Xn().s[43]++,n);if(Xn().s[44]++,Object.keys(n.sources).forEach(i=>{Xn().f[10]++,Xn().s[45]++,t=dye(t,i,e)}),Xn().s[46]++,Xn().b[20][0]++,n.glyphs&&(Xn().b[20][1]++,n.glyphs.match(/\.tilehosting\.com/)||(Xn().b[20][2]++,n.glyphs.match(/\.maptiler\.com/)))){Xn().b[19][0]++;const i=(Xn().s[47]++,TI("openmaptiles",n,e));Xn().s[48]++,i?(Xn().b[21][0]++,Xn().s[49]++,t={...t,glyphs:n.glyphs.replace("{key}",i)}):Xn().b[21][1]++}else Xn().b[19][1]++;return Xn().s[50]++,t}function pye(n){Xn().f[11]++;const e=(Xn().s[51]++,{...n.metadata});return Xn().s[52]++,delete e["maputnik:openmaptiles_access_token"],Xn().s[53]++,delete e["maputnik:thunderforest_access_token"],Xn().s[54]++,delete e["maputnik:stadia_access_token"],Xn().s[55]++,delete e["maputnik:locationiq_access_token"],Xn().s[56]++,{...n,metadata:e}}const af={ensureStyleValidity:tY,emptyStyle:lye,indexOfLayer:hye,generateId:eY,getAccessToken:TI,replaceAccessTokens:fye,stripAccessTokens:pye};function Li(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalExport.tsx",e="0479ae849bf143a83f826f9fdcad7b323ec1b109",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalExport.tsx",statementMap:{0:{start:{line:14,column:28},end:{line:14,column:35}},1:{start:{line:15,column:36},end:{line:15,column:83}},2:{start:{line:18,column:4},end:{line:22,column:6}},3:{start:{line:25,column:4},end:{line:33,column:5}},4:{start:{line:26,column:6},end:{line:30,column:9}},5:{start:{line:32,column:6},end:{line:32,column:36}},6:{start:{line:36,column:23},end:{line:36,column:44}},7:{start:{line:37,column:22},end:{line:37,column:69}},8:{start:{line:38,column:17},end:{line:62,column:1}},9:{start:{line:63,column:17},end:{line:63,column:70}},10:{start:{line:64,column:23},end:{line:64,column:40}},11:{start:{line:65,column:4},end:{line:65,column:39}},12:{start:{line:68,column:23},end:{line:68,column:44}},13:{start:{line:69,column:4},end:{line:74,column:5}},14:{start:{line:70,column:19},end:{line:70,column:85}},15:{start:{line:71,column:25},end:{line:71,column:42}},16:{start:{line:72,column:6},end:{line:72,column:41}},17:{start:{line:73,column:6},end:{line:73,column:13}},18:{start:{line:75,column:21},end:{line:75,column:42}},19:{start:{line:76,column:4},end:{line:80,column:5}},20:{start:{line:77,column:6},end:{line:77,column:49}},21:{start:{line:78,column:6},end:{line:78,column:45}},22:{start:{line:79,column:6},end:{line:79,column:37}},23:{start:{line:79,column:30},end:{line:79,column:37}},24:{start:{line:81,column:21},end:{line:81,column:54}},25:{start:{line:82,column:4},end:{line:82,column:37}},26:{start:{line:83,column:4},end:{line:83,column:27}},27:{start:{line:84,column:4},end:{line:84,column:30}},28:{start:{line:87,column:23},end:{line:87,column:44}},29:{start:{line:88,column:23},end:{line:88,column:52}},30:{start:{line:89,column:4},end:{line:89,column:43}},31:{start:{line:90,column:4},end:{line:90,column:35}},32:{start:{line:90,column:28},end:{line:90,column:35}},33:{start:{line:91,column:21},end:{line:91,column:54}},34:{start:{line:92,column:4},end:{line:92,column:37}},35:{start:{line:93,column:4},end:{line:93,column:27}},36:{start:{line:94,column:4},end:{line:94,column:30}},37:{start:{line:97,column:23},end:{line:105,column:5}},38:{start:{line:106,column:23},end:{line:106,column:66}},39:{start:{line:107,column:4},end:{line:107,column:43}},40:{start:{line:108,column:4},end:{line:108,column:22}},41:{start:{line:111,column:25},end:{line:117,column:5}},42:{start:{line:118,column:4},end:{line:118,column:44}},43:{start:{line:121,column:14},end:{line:121,column:26}},44:{start:{line:122,column:16},end:{line:122,column:38}},45:{start:{line:123,column:4},end:{line:188,column:6}},46:{start:{line:191,column:20},end:{line:191,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:19},end:{line:23,column:3}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:15},end:{line:34,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:15},end:{line:66,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:20},end:{line:85,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:22},end:{line:95,column:3}},line:86},5:{name:"(anonymous_5)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:27},end:{line:109,column:3}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:42},end:{line:119,column:3}},line:110},7:{name:"(anonymous_7)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:11},end:{line:189,column:3}},line:120}},branchMap:{0:{loc:{start:{line:25,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:25},1:{loc:{start:{line:37,column:22},end:{line:37,column:69}},type:"binary-expr",locations:[{start:{line:37,column:22},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:69}}],line:37},2:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:76,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76},4:{loc:{start:{line:79,column:6},end:{line:79,column:37}},type:"if",locations:[{start:{line:79,column:6},end:{line:79,column:37}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},5:{loc:{start:{line:90,column:4},end:{line:90,column:35}},type:"if",locations:[{start:{line:90,column:4},end:{line:90,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},6:{loc:{start:{line:140,column:24},end:{line:140,column:58}},type:"binary-expr",locations:[{start:{line:140,column:24},end:{line:140,column:52}},{start:{line:140,column:56},end:{line:140,column:58}}],line:140},7:{loc:{start:{line:149,column:24},end:{line:149,column:58}},type:"binary-expr",locations:[{start:{line:149,column:24},end:{line:149,column:52}},{start:{line:149,column:56},end:{line:149,column:58}}],line:149},8:{loc:{start:{line:158,column:24},end:{line:158,column:58}},type:"binary-expr",locations:[{start:{line:158,column:24},end:{line:158,column:52}},{start:{line:158,column:56},end:{line:158,column:58}}],line:158},9:{loc:{start:{line:167,column:24},end:{line:167,column:58}},type:"binary-expr",locations:[{start:{line:167,column:24},end:{line:167,column:52}},{start:{line:167,column:56},end:{line:167,column:58}}],line:167},10:{loc:{start:{line:177,column:12},end:{line:180,column:16}},type:"binary-expr",locations:[{start:{line:177,column:12},end:{line:177,column:39}},{start:{line:177,column:59},end:{line:180,column:16}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalExport.tsx"],names:[],mappings:"AAoKQ,cAKA,YALA;AApKR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AACrB,SAAQ,OAAO,cAAa;AAC5B,SAA8B,uBAAsB;AAEpD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAIhC,MAAM,sBAAsB;AAC5B,MAAM,8BAA8B,OAAO,OAAO,uBAAuB;AAazE,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAE1E,iBAAiB;AACf,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAa;AACX,QAAI,KAAK,MAAM,SAAS,MAAM;AAC5B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,aAAa;AACX,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ,KAAK,MAAM,EAAE,KAAK;AAChE,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,MAAM,YAAY;AAChB,UAAM,aAAa,KAAK,eAAe;AAIvC,QAAI,CAAC,6BAA6B;AAChC,YAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,YAAM,aAAa,KAAK,WAAW;AACnC,aAAO,MAAM,aAAa,OAAO;AACjC;AAAA,IACF;AAEA,QAAI,aAAa,KAAK,MAAM;AAC5B,QAAI,cAAc,MAAM;AACtB,mBAAa,MAAM,KAAK,iBAAiB;AACzC,WAAK,MAAM,gBAAgB,UAAU;AACrC,UAAI,cAAc,KAAM;AAAA,IAC1B;AAEA,UAAM,WAAW,MAAM,WAAW,eAAe;AACjD,UAAM,SAAS,MAAM,UAAU;AAC/B,UAAM,SAAS,MAAM;AACrB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,cAAc;AAClB,UAAM,aAAa,KAAK,eAAe;AAEvC,UAAM,aAAa,MAAM,KAAK,iBAAiB;AAC/C,SAAK,MAAM,gBAAgB,UAAU;AACrC,QAAI,cAAc,KAAM;AAExB,UAAM,WAAW,MAAM,WAAW,eAAe;AACjD,UAAM,SAAS,MAAM,UAAU;AAC/B,UAAM,SAAS,MAAM;AACrB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,mBAAyD;AAC7D,UAAM,aAAoC;AAAA,MACxC,OAAO;AAAA,QACL;AAAA,UACE,aAAa;AAAA,UACb,QAAQ,EAAC,oBAAoB,CAAC,OAAO,EAAC;AAAA,QACxC;AAAA,MACF;AAAA,MACA,eAAe,KAAK,WAAW;AAAA,IACjC;AAEA,UAAM,aAAa,MAAM,OAAO,mBAAmB,UAAU;AAC7D,SAAK,MAAM,gBAAgB,UAAU;AACrC,WAAO;AAAA,EACT;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,MAAM,oBAAoB,CAAC;AACjC,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,YAAY;AAAA,QACrB,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAI,YAAE,YAAY,GAAE;AAAA,UACrB,oBAAC,OACE,YAAE,uCAAuC,GAC5C;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,gBAC1C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,gBAC/C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,gBACxC,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,8BAA8B;AAAA,gBACjF,UAAU,KAAK,uBAAuB,KAAK,MAAM,8BAA8B;AAAA;AAAA,YACjF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,wBAAwB;AAAA,gBAC5C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,kCAAkC;AAAA,gBACrF,UAAU,KAAK,uBAAuB,KAAK,MAAM,kCAAkC;AAAA;AAAA,YACrF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA,iCAAC,eAAY,SAAS,KAAK,UAAU,KAAK,IAAI,GAC5C;AAAA,kCAAC,UAAM;AAAA,cACN,EAAE,MAAM;AAAA,eACX;AAAA,YACC,+BACC,qBAAC,eAAY,SAAS,KAAK,YAAY,KAAK,IAAI,GAC9C;AAAA,kCAAC,UAAM;AAAA,cACN,EAAE,SAAS;AAAA,eACd;AAAA,YAGF,qBAAC,eAAY,SAAS,KAAK,WAAW,KAAK,IAAI,GAC7C;AAAA,kCAAC,SAAK;AAAA,cACL,EAAE,aAAa;AAAA,eAClB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0479ae849bf143a83f826f9fdcad7b323ec1b109"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Li=function(){return s},s}Li();const zL=(Li().s[0]++,rye),jL=(Li().s[1]++,typeof window.showSaveFilePicker=="function");class mye extends ii.Component{tokenizedStyle(){return Li().f[0]++,Li().s[2]++,eX(af.stripAccessTokens(af.replaceAccessTokens(this.props.mapStyle)))}exportName(){return Li().f[1]++,Li().s[3]++,this.props.mapStyle.name?(Li().b[0][0]++,Li().s[4]++,tye(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(Li().b[0][1]++,Li().s[5]++,this.props.mapStyle.id)}createHtml(){Li().f[2]++;const e=(Li().s[6]++,this.tokenizedStyle()),t=(Li().s[7]++,Li().b[1][0]++,this.props.mapStyle.name||(Li().b[1][1]++,this.props.t("Map"))),i=(Li().s[8]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${t}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${zL}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${zL}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${e},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),r=(Li().s[9]++,new Blob([i],{type:"text/html;charset=utf-8"})),o=(Li().s[10]++,this.exportName());Li().s[11]++,FL.saveAs(r,o+".html")}async saveStyle(){Li().f[3]++;const e=(Li().s[12]++,this.tokenizedStyle());if(Li().s[13]++,jL)Li().b[2][1]++;else{Li().b[2][0]++;const r=(Li().s[14]++,new Blob([e],{type:"application/json;charset=utf-8"})),o=(Li().s[15]++,this.exportName());Li().s[16]++,FL.saveAs(r,o+".json"),Li().s[17]++;return}let t=(Li().s[18]++,this.props.fileHandle);if(Li().s[19]++,t==null)if(Li().b[3][0]++,Li().s[20]++,t=await this.createFileHandle(),Li().s[21]++,this.props.onSetFileHandle(t),Li().s[22]++,t==null){Li().b[4][0]++,Li().s[23]++;return}else Li().b[4][1]++;else Li().b[3][1]++;const i=(Li().s[24]++,await t.createWritable());Li().s[25]++,await i.write(e),Li().s[26]++,await i.close(),Li().s[27]++,this.props.onOpenToggle()}async saveStyleAs(){Li().f[4]++;const e=(Li().s[28]++,this.tokenizedStyle()),t=(Li().s[29]++,await this.createFileHandle());if(Li().s[30]++,this.props.onSetFileHandle(t),Li().s[31]++,t==null){Li().b[5][0]++,Li().s[32]++;return}else Li().b[5][1]++;const i=(Li().s[33]++,await t.createWritable());Li().s[34]++,await i.write(e),Li().s[35]++,await i.close(),Li().s[36]++,this.props.onOpenToggle()}async createFileHandle(){Li().f[5]++;const e=(Li().s[37]++,{types:[{description:"json",accept:{"application/json":[".json"]}}],suggestedName:this.exportName()}),t=(Li().s[38]++,await window.showSaveFilePicker(e));return Li().s[39]++,this.props.onSetFileHandle(t),Li().s[40]++,t}changeMetadataProperty(e,t){Li().f[6]++;const i=(Li().s[41]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[e]:t}});Li().s[42]++,this.props.onStyleChanged(i)}render(){Li().f[7]++;const e=(Li().s[43]++,this.props.t),t=(Li().s[44]++,XQ(e));return Li().s[45]++,Ae.jsx(lg,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Save Style"),className:"maputnik-export-modal",children:Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Save Style")}),Ae.jsx("p",{children:e("Save the JSON style to your computer.")}),Ae.jsxs("div",{children:[Ae.jsx(Xd,{label:t.maputnik.maptiler_access_token.label,fieldSpec:t.maputnik.maptiler_access_token,value:(Li().b[6][0]++,this.props.mapStyle.metadata||(Li().b[6][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),Ae.jsx(Xd,{label:t.maputnik.thunderforest_access_token.label,fieldSpec:t.maputnik.thunderforest_access_token,value:(Li().b[7][0]++,this.props.mapStyle.metadata||(Li().b[7][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")}),Ae.jsx(Xd,{label:t.maputnik.stadia_access_token.label,fieldSpec:t.maputnik.stadia_access_token,value:(Li().b[8][0]++,this.props.mapStyle.metadata||(Li().b[8][1]++,{}))["maputnik:stadia_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:stadia_access_token")}),Ae.jsx(Xd,{label:t.maputnik.locationiq_access_token.label,fieldSpec:t.maputnik.locationiq_access_token,value:(Li().b[9][0]++,this.props.mapStyle.metadata||(Li().b[9][1]++,{}))["maputnik:locationiq_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:locationiq_access_token")})]}),Ae.jsxs("div",{className:"maputnik-modal-export-buttons",children:[Ae.jsxs(Gs,{onClick:this.saveStyle.bind(this),children:[Ae.jsx(RB,{}),e("Save")]}),(Li().b[10][0]++,jL&&(Li().b[10][1]++,Ae.jsxs(Gs,{onClick:this.saveStyleAs.bind(this),children:[Ae.jsx(RB,{}),e("Save as")]}))),Ae.jsxs(Gs,{onClick:this.createHtml.bind(this),children:[Ae.jsx(GJ,{}),e("Create HTML")]})]})]})})}}const gye=(Li().s[46]++,is()(mye));function Pb(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",e="d4204cb1114c57682afd09034f9cc8268e27db52",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:4,column:26},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:127}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:26},end:{line:4,column:27}},loc:{start:{line:4,column:37},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAUM;AAVN,OAAO,uBAAsD;AAC7D,OAAO,cAAc;AAMrB,MAAM,oBAAsD,CAAC,UAAU;AACrE,SACE,oBAAC,YAAS,OAAO,MAAM,OACrB,8BAAC,qBAAmB,GAAG,OAAO,GAChC;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d4204cb1114c57682afd09034f9cc8268e27db52"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Pb=function(){return s},s}Pb();Pb().s[0]++;const nY=n=>(Pb().f[0]++,Pb().s[1]++,Ae.jsx(jg,{label:n.label,children:Ae.jsx(_3,{...n})}));function Ub(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",e="10be4a5b6db1d1fa2555f9b6247244050c0b65b8",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:4,column:22},end:{line:6,column:1}},1:{start:{line:5,column:2},end:{line:5,column:120}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:22},end:{line:4,column:23}},loc:{start:{line:4,column:33},end:{line:6,column:1}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO,mBAA8C;AAQrD,MAAM,gBAA8C,CAAC,UAAU;AAC7D,SACE,oBAAC,SAAM,OAAO,MAAM,OAClB,8BAAC,iBAAe,GAAG,OAAO,GAC5B;AAEJ;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"10be4a5b6db1d1fa2555f9b6247244050c0b65b8"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ub=function(){return s},s}Ub();Ub().s[0]++;const yye=n=>(Ub().f[0]++,Ub().s[1]++,Ae.jsx(js,{label:n.label,children:Ae.jsx(QQ,{...n})}));function jn(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalSourcesTypeEditor.tsx",e="1f220127d89aec18a8d03a025096d2965f87dac7",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:15,column:14},end:{line:15,column:26}},1:{start:{line:16,column:4},end:{line:30,column:9}},2:{start:{line:23,column:29},end:{line:26,column:12}},3:{start:{line:35,column:4},end:{line:38,column:7}},4:{start:{line:41,column:18},end:{line:41,column:47}},5:{start:{line:42,column:4},end:{line:51,column:6}},6:{start:{line:54,column:14},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:99,column:9}},8:{start:{line:66,column:32},end:{line:69,column:12}},9:{start:{line:80,column:33},end:{line:83,column:12}},10:{start:{line:92,column:33},end:{line:95,column:12}},11:{start:{line:102,column:27},end:{line:107,column:1}},12:{start:{line:102,column:34},end:{line:107,column:1}},13:{start:{line:110,column:14},end:{line:110,column:26}},14:{start:{line:111,column:24},end:{line:118,column:5}},15:{start:{line:112,column:26},end:{line:112,column:64}},16:{start:{line:113,column:6},end:{line:113,column:29}},17:{start:{line:114,column:6},end:{line:117,column:9}},18:{start:{line:119,column:4},end:{line:146,column:9}},19:{start:{line:126,column:29},end:{line:129,column:12}},20:{start:{line:133,column:8},end:{line:144,column:10}},21:{start:{line:141,column:31},end:{line:141,column:52}},22:{start:{line:151,column:14},end:{line:151,column:26}},23:{start:{line:152,column:24},end:{line:159,column:5}},24:{start:{line:153,column:26},end:{line:153,column:64}},25:{start:{line:154,column:6},end:{line:154,column:29}},26:{start:{line:155,column:6},end:{line:158,column:9}},27:{start:{line:160,column:23},end:{line:165,column:5}},28:{start:{line:161,column:6},end:{line:164,column:9}},29:{start:{line:166,column:4},end:{line:192,column:9}},30:{start:{line:179,column:8},end:{line:190,column:10}},31:{start:{line:187,column:31},end:{line:187,column:52}},32:{start:{line:197,column:14},end:{line:197,column:26}},33:{start:{line:198,column:4},end:{line:209,column:6}},34:{start:{line:204,column:28},end:{line:207,column:10}},35:{start:{line:214,column:14},end:{line:214,column:26}},36:{start:{line:215,column:4},end:{line:247,column:9}},37:{start:{line:227,column:12},end:{line:230,column:15}},38:{start:{line:240,column:12},end:{line:243,column:15}},39:{start:{line:252,column:14},end:{line:252,column:26}},40:{start:{line:253,column:4},end:{line:268,column:9}},41:{start:{line:261,column:29},end:{line:264,column:12}},42:{start:{line:273,column:14},end:{line:273,column:26}},43:{start:{line:274,column:24},end:{line:280,column:5}},44:{start:{line:281,column:4},end:{line:345,column:5}},45:{start:{line:283,column:8},end:{line:283,column:79}},46:{start:{line:285,column:8},end:{line:285,column:85}},47:{start:{line:287,column:8},end:{line:287,column:77}},48:{start:{line:289,column:8},end:{line:289,column:76}},49:{start:{line:291,column:8},end:{line:291,column:77}},50:{start:{line:293,column:8},end:{line:305,column:13}},51:{start:{line:298,column:36},end:{line:301,column:14}},52:{start:{line:307,column:8},end:{line:307,column:77}},53:{start:{line:309,column:8},end:{line:336,column:13}},54:{start:{line:315,column:38},end:{line:318,column:16}},55:{start:{line:329,column:38},end:{line:332,column:16}},56:{start:{line:338,column:8},end:{line:338,column:76}},57:{start:{line:340,column:8},end:{line:340,column:74}},58:{start:{line:342,column:8},end:{line:342,column:74}},59:{start:{line:344,column:8},end:{line:344,column:20}},60:{start:{line:348,column:31},end:{line:348,column:80}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:31,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:23,column:20},end:{line:23,column:21}},loc:{start:{line:23,column:29},end:{line:26,column:12}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:24},end:{line:39,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:19},end:{line:52,column:3}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:100,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:66,column:20},end:{line:66,column:21}},loc:{start:{line:66,column:32},end:{line:69,column:12}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:80,column:20},end:{line:80,column:21}},loc:{start:{line:80,column:33},end:{line:83,column:12}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:92,column:20},end:{line:92,column:21}},loc:{start:{line:92,column:33},end:{line:95,column:12}},line:92},8:{name:"(anonymous_8)",decl:{start:{line:102,column:27},end:{line:102,column:28}},loc:{start:{line:102,column:34},end:{line:107,column:1}},line:102},9:{name:"(anonymous_9)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:11},end:{line:147,column:3}},line:109},10:{name:"(anonymous_10)",decl:{start:{line:111,column:24},end:{line:111,column:25}},loc:{start:{line:111,column:38},end:{line:118,column:5}},line:111},11:{name:"(anonymous_11)",decl:{start:{line:126,column:20},end:{line:126,column:21}},loc:{start:{line:126,column:29},end:{line:129,column:12}},line:126},12:{name:"(anonymous_12)",decl:{start:{line:132,column:32},end:{line:132,column:33}},loc:{start:{line:132,column:57},end:{line:145,column:7}},line:132},13:{name:"(anonymous_13)",decl:{start:{line:141,column:22},end:{line:141,column:23}},loc:{start:{line:141,column:31},end:{line:141,column:52}},line:141},14:{name:"(anonymous_14)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:11},end:{line:193,column:3}},line:150},15:{name:"(anonymous_15)",decl:{start:{line:152,column:24},end:{line:152,column:25}},loc:{start:{line:152,column:38},end:{line:159,column:5}},line:152},16:{name:"(anonymous_16)",decl:{start:{line:160,column:23},end:{line:160,column:24}},loc:{start:{line:160,column:33},end:{line:165,column:5}},line:160},17:{name:"(anonymous_17)",decl:{start:{line:178,column:32},end:{line:178,column:33}},loc:{start:{line:178,column:57},end:{line:191,column:7}},line:178},18:{name:"(anonymous_18)",decl:{start:{line:187,column:22},end:{line:187,column:23}},loc:{start:{line:187,column:31},end:{line:187,column:52}},line:187},19:{name:"(anonymous_19)",decl:{start:{line:196,column:2},end:{line:196,column:3}},loc:{start:{line:196,column:11},end:{line:210,column:3}},line:196},20:{name:"(anonymous_20)",decl:{start:{line:204,column:18},end:{line:204,column:19}},loc:{start:{line:204,column:28},end:{line:207,column:10}},line:204},21:{name:"(anonymous_21)",decl:{start:{line:213,column:2},end:{line:213,column:3}},loc:{start:{line:213,column:11},end:{line:248,column:3}},line:213},22:{name:"(anonymous_22)",decl:{start:{line:226,column:20},end:{line:226,column:21}},loc:{start:{line:226,column:30},end:{line:231,column:11}},line:226},23:{name:"(anonymous_23)",decl:{start:{line:239,column:20},end:{line:239,column:21}},loc:{start:{line:239,column:33},end:{line:244,column:11}},line:239},24:{name:"(anonymous_24)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:11},end:{line:269,column:3}},line:251},25:{name:"(anonymous_25)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:264,column:12}},line:261},26:{name:"(anonymous_26)",decl:{start:{line:272,column:2},end:{line:272,column:3}},loc:{start:{line:272,column:11},end:{line:346,column:3}},line:272},27:{name:"(anonymous_27)",decl:{start:{line:298,column:22},end:{line:298,column:23}},loc:{start:{line:298,column:36},end:{line:301,column:14}},line:298},28:{name:"(anonymous_28)",decl:{start:{line:315,column:24},end:{line:315,column:25}},loc:{start:{line:315,column:38},end:{line:318,column:16}},line:315},29:{name:"(anonymous_29)",decl:{start:{line:329,column:24},end:{line:329,column:25}},loc:{start:{line:329,column:38},end:{line:332,column:16}},line:329}},branchMap:{0:{loc:{start:{line:41,column:18},end:{line:41,column:47}},type:"binary-expr",locations:[{start:{line:41,column:18},end:{line:41,column:41}},{start:{line:41,column:45},end:{line:41,column:47}}],line:41},1:{loc:{start:{line:79,column:17},end:{line:79,column:47}},type:"binary-expr",locations:[{start:{line:79,column:17},end:{line:79,column:42}},{start:{line:79,column:46},end:{line:79,column:47}}],line:79},2:{loc:{start:{line:91,column:17},end:{line:91,column:48}},type:"binary-expr",locations:[{start:{line:91,column:17},end:{line:91,column:42}},{start:{line:91,column:46},end:{line:91,column:48}}],line:91},3:{loc:{start:{line:263,column:17},end:{line:263,column:72}},type:"cond-expr",locations:[{start:{line:263,column:48},end:{line:263,column:51}},{start:{line:263,column:54},end:{line:263,column:72}}],line:263},4:{loc:{start:{line:281,column:4},end:{line:345,column:5}},type:"switch",locations:[{start:{line:282,column:6},end:{line:283,column:79}},{start:{line:284,column:6},end:{line:285,column:85}},{start:{line:286,column:6},end:{line:287,column:77}},{start:{line:288,column:6},end:{line:289,column:76}},{start:{line:290,column:6},end:{line:291,column:77}},{start:{line:292,column:6},end:{line:305,column:13}},{start:{line:306,column:6},end:{line:307,column:77}},{start:{line:308,column:6},end:{line:336,column:13}},{start:{line:337,column:6},end:{line:338,column:76}},{start:{line:339,column:6},end:{line:340,column:74}},{start:{line:341,column:6},end:{line:342,column:74}},{start:{line:343,column:6},end:{line:344,column:20}}],line:281},5:{loc:{start:{line:302,column:19},end:{line:302,column:86}},type:"binary-expr",locations:[{start:{line:302,column:19},end:{line:302,column:45}},{start:{line:302,column:49},end:{line:302,column:86}}],line:302},6:{loc:{start:{line:319,column:21},end:{line:319,column:92}},type:"binary-expr",locations:[{start:{line:319,column:21},end:{line:319,column:47}},{start:{line:319,column:51},end:{line:319,column:92}}],line:319},7:{loc:{start:{line:333,column:21},end:{line:333,column:92}},type:"binary-expr",locations:[{start:{line:333,column:21},end:{line:333,column:47}},{start:{line:333,column:51},end:{line:333,column:92}}],line:333}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AA6BW,SACL,KADK;AA7BX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,SAA+B,uBAAuB;AAGtD,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAc1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,cAAc;AAAA,UACvB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAaA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM,EAAE,UAAU;AAAA,QAC9B,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW,OAAO,cAAc;AAAA,UAChC,SAAS;AAAA,YACP,CAAC,OAAO,mCAAmC;AAAA,YAC3C,CAAC,OAAO,yBAAyB;AAAA,UACnC;AAAA,UACA,UAAU,YAAU,KAAK,MAAM,SAAS;AAAA,YACtC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA,UACD,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAEA,MAAM,qBAAyE,CAAC,MAAO;AAAA,EACrF,EAAE,OAAO,EAAE,gBAAgB,GAAG,KAAK,WAAW;AAAA,EAC9C,EAAE,OAAO,EAAE,iBAAiB,GAAG,KAAK,YAAY;AAAA,EAChD,EAAE,OAAO,EAAE,oBAAoB,GAAG,KAAK,eAAe;AAAA,EACtD,EAAE,OAAO,EAAE,mBAAmB,GAAG,KAAK,cAAc;AACtD;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,aAAa;AAAA,QACtB,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,EAAE,SAAS,GAAG,WAAW,OAAO,eAAe,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,SAAS;AAAA,UAClB,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAUA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,eAAY;AAAA,UACZ,UAAU,CAAC,QAAgB,KAAK,MAAM,SAAS;AAAA,YAC7C,GAAG,KAAK,MAAM;AAAA,YACd,KAAK,IAAI,WAAW,YAAY,IAAI,MAAM,aAAa,GAAG;AAAA,UAC5D,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAQA,MAAM,uCAAuC,MAAM,UAA+C;AAAA,EAChG,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,MACrB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM,KAAK,MAAM;AAAA,MACjB,QAAQ,KAAK,MAAM;AAAA,IACrB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACtB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACjE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAClD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,WAAW;AAAA,YACpB,WAAW,OAAO,cAAc;AAAA,YAChC,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,cAAc,SAAS;AAAA,YACnE,eAAY;AAAA;AAAA,QACd,GACF;AAAA,MACA,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,qBAAC,uBAAqB,GAAG,aACzD;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,WAAW;AAAA,cACpB,WAAW,OAAO,kBAAkB;AAAA,cACpC,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,gBACxC,GAAG,KAAK,MAAM;AAAA,gBACd;AAAA,cACF,CAAC;AAAA,cACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA,cACvE,eAAY;AAAA;AAAA,UACd;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,UAAU;AAAA,cACnB,WAAW,OAAO,kBAAkB;AAAA,cACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,cAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,gBACxC,GAAG,KAAK,MAAM;AAAA,gBACd;AAAA,cACF,CAAC;AAAA,cACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,UACzE;AAAA,WACF;AAAA,MACA,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAClB;AAAA,EACF;AACF;AAEA,MAAM,yBAAyB,gBAAgB,EAAE,8BAA8B;AAC/E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1f220127d89aec18a8d03a025096d2965f87dac7"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return jn=function(){return s},s}jn();class g6 extends ii.Component{render(){jn().f[0]++;const e=(jn().s[0]++,this.props.t);return jn().s[1]++,Ae.jsxs("div",{children:[Ae.jsx(dC,{label:e("TileJSON URL"),fieldSpec:ts.source_vector.url,value:this.props.source.url,onChange:t=>(jn().f[1]++,jn().s[2]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class y6 extends ii.Component{changeTileUrls(e){jn().f[2]++,jn().s[3]++,this.props.onChange({...this.props.source,tiles:e})}renderTileUrls(){jn().f[3]++;const e=(jn().s[4]++,jn().b[0][0]++,this.props.source.tiles||(jn().b[0][1]++,[]));return jn().s[5]++,Ae.jsx(nY,{label:this.props.t("Tile URL"),fieldSpec:ts.source_vector.tiles,type:"url",value:e,onChange:this.changeTileUrls.bind(this)})}render(){jn().f[4]++;const e=(jn().s[6]++,this.props.t);return jn().s[7]++,Ae.jsxs("div",{children:[this.renderTileUrls(),Ae.jsx(Tb,{label:e("Scheme Type"),fieldSpec:ts.source_vector.scheme,options:[["xyz","xyz (Slippy map tilenames scheme)"],["tms","tms (OSGeo spec scheme)"]],onChange:t=>(jn().f[5]++,jn().s[8]++,this.props.onChange({...this.props.source,scheme:t})),value:this.props.source.scheme,"data-wd-key":"modal:sources.add.scheme_type"}),Ae.jsx(cm,{label:e("Min Zoom"),fieldSpec:ts.source_vector.minzoom,value:(jn().b[1][0]++,this.props.source.minzoom||(jn().b[1][1]++,0)),onChange:t=>(jn().f[6]++,jn().s[9]++,this.props.onChange({...this.props.source,minzoom:t}))}),Ae.jsx(cm,{label:e("Max Zoom"),fieldSpec:ts.source_vector.maxzoom,value:(jn().b[2][0]++,this.props.source.maxzoom||(jn().b[2][1]++,22)),onChange:t=>(jn().f[7]++,jn().s[10]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}jn().s[11]++;const iY=n=>(jn().f[8]++,jn().s[12]++,[{label:n("Coord top left"),key:"top left"},{label:n("Coord top right"),key:"top right"},{label:n("Coord bottom right"),key:"bottom right"},{label:n("Coord bottom left"),key:"bottom left"}]);class vye extends ii.Component{render(){jn().f[9]++;const e=(jn().s[13]++,this.props.t);jn().s[14]++;const t=(i,r)=>{jn().f[10]++;const o=(jn().s[15]++,this.props.source.coordinates.slice(0));jn().s[16]++,o[i]=r,jn().s[17]++,this.props.onChange({...this.props.source,coordinates:o})};return jn().s[18]++,Ae.jsxs("div",{children:[Ae.jsx(dC,{label:e("Image URL"),fieldSpec:ts.source_image.url,value:this.props.source.url,onChange:i=>(jn().f[11]++,jn().s[19]++,this.props.onChange({...this.props.source,url:i}))}),iY(e).map(({label:i,key:r},o)=>(jn().f[12]++,jn().s[20]++,Ae.jsx(y2,{label:i,length:2,type:"number",value:this.props.source.coordinates[o],default:[0,0],onChange:s=>(jn().f[13]++,jn().s[21]++,t(o,s))},r)))]})}}class Cye extends ii.Component{render(){jn().f[14]++;const e=(jn().s[22]++,this.props.t);jn().s[23]++;const t=(r,o)=>{jn().f[15]++;const s=(jn().s[24]++,this.props.source.coordinates.slice(0));jn().s[25]++,s[r]=o,jn().s[26]++,this.props.onChange({...this.props.source,coordinates:s})};jn().s[27]++;const i=r=>{jn().f[16]++,jn().s[28]++,this.props.onChange({...this.props.source,urls:r})};return jn().s[29]++,Ae.jsxs("div",{children:[Ae.jsx(nY,{label:e("Video URL"),fieldSpec:ts.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:i}),iY(e).map(({label:r,key:o},s)=>(jn().f[17]++,jn().s[30]++,Ae.jsx(y2,{label:r,length:2,type:"number",value:this.props.source.coordinates[s],default:[0,0],onChange:a=>(jn().f[18]++,jn().s[31]++,t(s,a))},o)))]})}}class _ye extends ii.Component{render(){jn().f[19]++;const e=(jn().s[32]++,this.props.t);return jn().s[33]++,Ae.jsx(dC,{label:e("GeoJSON URL"),fieldSpec:ts.source_geojson.data,value:this.props.source.data,onChange:t=>(jn().f[20]++,jn().s[34]++,this.props.onChange({...this.props.source,data:t}))})}}class bye extends ii.Component{render(){jn().f[21]++;const e=(jn().s[35]++,this.props.t);return jn().s[36]++,Ae.jsxs("div",{children:[Ae.jsx(js,{label:e("GeoJSON"),fieldSpec:ts.source_geojson.data,children:Ae.jsx(sI,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{jn().f[22]++,jn().s[37]++,this.props.onChange({...this.props.source,data:t})}})}),Ae.jsx(yye,{label:e("Cluster"),value:this.props.source.cluster,onChange:t=>{jn().f[23]++,jn().s[38]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class xye extends ii.Component{render(){jn().f[24]++;const e=(jn().s[39]++,this.props.t);return jn().s[40]++,Ae.jsxs("div",{children:[Ae.jsx(dC,{label:e("PMTiles URL"),fieldSpec:ts.source_vector.url,value:this.props.source.url,"data-wd-key":"modal:sources.add.source_url",onChange:t=>(jn().f[25]++,jn().s[41]++,this.props.onChange({...this.props.source,url:t.startsWith("pmtiles://")?(jn().b[3][0]++,t):(jn().b[3][1]++,`pmtiles://${t}`)}))}),this.props.children]})}}class Mye extends ii.Component{render(){jn().f[26]++;const e=(jn().s[42]++,this.props.t),t=(jn().s[43]++,{source:this.props.source,onChange:this.props.onChange,t:this.props.t,i18n:this.props.i18n,tReady:this.props.tReady});switch(jn().s[44]++,this.props.mode){case"geojson_url":return jn().b[4][0]++,jn().s[45]++,Ae.jsx(_ye,{...t});case"geojson_json":return jn().b[4][1]++,jn().s[46]++,Ae.jsx(bye,{...t});case"tilejson_vector":return jn().b[4][2]++,jn().s[47]++,Ae.jsx(g6,{...t});case"tile_vector":return jn().b[4][3]++,jn().s[48]++,Ae.jsx(y6,{...t});case"tilejson_raster":return jn().b[4][4]++,jn().s[49]++,Ae.jsx(g6,{...t});case"tile_raster":return jn().b[4][5]++,jn().s[50]++,Ae.jsx(y6,{...t,children:Ae.jsx(cm,{label:e("Tile Size"),fieldSpec:ts.source_raster.tileSize,onChange:i=>(jn().f[27]++,jn().s[51]++,this.props.onChange({...this.props.source,tileSize:i})),value:(jn().b[5][0]++,this.props.source.tileSize||(jn().b[5][1]++,ts.source_raster.tileSize.default)),"data-wd-key":"modal:sources.add.tile_size"})});case"tilejson_raster-dem":return jn().b[4][6]++,jn().s[52]++,Ae.jsx(g6,{...t});case"tilexyz_raster-dem":return jn().b[4][7]++,jn().s[53]++,Ae.jsxs(y6,{...t,children:[Ae.jsx(cm,{label:e("Tile Size"),fieldSpec:ts.source_raster_dem.tileSize,onChange:i=>(jn().f[28]++,jn().s[54]++,this.props.onChange({...this.props.source,tileSize:i})),value:(jn().b[6][0]++,this.props.source.tileSize||(jn().b[6][1]++,ts.source_raster_dem.tileSize.default)),"data-wd-key":"modal:sources.add.tile_size"}),Ae.jsx(Tb,{label:e("Encoding"),fieldSpec:ts.source_raster_dem.encoding,options:Object.keys(ts.source_raster_dem.encoding.values),onChange:i=>(jn().f[29]++,jn().s[55]++,this.props.onChange({...this.props.source,encoding:i})),value:(jn().b[7][0]++,this.props.source.encoding||(jn().b[7][1]++,ts.source_raster_dem.encoding.default))})]});case"pmtiles_vector":return jn().b[4][8]++,jn().s[56]++,Ae.jsx(xye,{...t});case"image":return jn().b[4][9]++,jn().s[57]++,Ae.jsx(vye,{...t});case"video":return jn().b[4][10]++,jn().s[58]++,Ae.jsx(Cye,{...t});default:return jn().b[4][11]++,jn().s[59]++,null}}}const rY=(jn().s[60]++,is()(Mye));function gm(){var n="/home/runner/work/maputnik/maputnik/src/libs/source.ts",e="871503159abbdc3b3ae7b24cdaefb6478172c58b",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAGO,gBAAS,aAAa,UAAoC,UAAkB;AACjF,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAAoC,UAAkB,QAA6B;AAC3G,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAAoC,UAAkB,QAA6B;AAC9G,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"871503159abbdc3b3ae7b24cdaefb6478172c58b"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return gm=function(){return s},s}gm();function wye(n,e){gm().f[0]++;const t=(gm().s[0]++,{...n.sources});return gm().s[1]++,delete t[e],gm().s[2]++,{...n,sources:t}}function NL(n,e,t){return gm().f[1]++,gm().s[3]++,oY(n,e,t)}function oY(n,e,t){gm().f[2]++;const i=(gm().s[4]++,{...n.sources,[e]:t});return gm().s[5]++,{...n,sources:i}}const Sye={type:"vector",url:"https://api.maptiler.com/tiles/v3-openmaptiles/tiles.json?key={key}",title:"OpenMapTiles v3"},Eye={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},Bye={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},Oye={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},Iye={type:"vector",url:"https://tiles.locationiq.com/v3/pbf/tiles.json?key={key}",title:"LocationIQ"},GL={openmaptiles:Sye,thunderforest_transport:Eye,thunderforest_outdoors:Bye,open_zoomstack:Oye,locationiq:Iye};function hn(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalSources.tsx",e="30dc2f79b5d8eab063b35a7a783386d299d39465",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalSources.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:33,column:9}},1:{start:{line:20,column:23},end:{line:20,column:57}},2:{start:{line:37,column:2},end:{line:40,column:3}},3:{start:{line:38,column:4},end:{line:38,column:43}},4:{start:{line:38,column:22},end:{line:38,column:43}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:44,column:3}},7:{start:{line:42,column:4},end:{line:42,column:50}},8:{start:{line:42,column:22},end:{line:42,column:50}},9:{start:{line:43,column:4},end:{line:43,column:33}},10:{start:{line:45,column:2},end:{line:49,column:3}},11:{start:{line:46,column:4},end:{line:46,column:43}},12:{start:{line:46,column:22},end:{line:46,column:43}},13:{start:{line:47,column:4},end:{line:47,column:83}},14:{start:{line:47,column:59},end:{line:47,column:83}},15:{start:{line:48,column:4},end:{line:48,column:29}},16:{start:{line:50,column:2},end:{line:56,column:3}},17:{start:{line:51,column:4},end:{line:55,column:5}},18:{start:{line:52,column:6},end:{line:52,column:27}},19:{start:{line:54,column:6},end:{line:54,column:28}},20:{start:{line:57,column:2},end:{line:59,column:3}},21:{start:{line:58,column:4},end:{line:58,column:19}},22:{start:{line:60,column:2},end:{line:62,column:3}},23:{start:{line:61,column:4},end:{line:61,column:19}},24:{start:{line:63,column:2},end:{line:63,column:14}},25:{start:{line:67,column:14},end:{line:67,column:26}},26:{start:{line:68,column:4},end:{line:94,column:9}},27:{start:{line:80,column:27},end:{line:80,column:67}},28:{start:{line:99,column:4},end:{line:99,column:17}},29:{start:{line:100,column:4},end:{line:104,column:6}},30:{start:{line:107,column:19},end:{line:107,column:50}},31:{start:{line:108,column:25},end:{line:108,column:40}},32:{start:{line:109,column:4},end:{line:192,column:5}},33:{start:{line:111,column:8},end:{line:114,column:10}},34:{start:{line:116,column:8},end:{line:119,column:10}},35:{start:{line:121,column:8},end:{line:125,column:10}},36:{start:{line:127,column:8},end:{line:130,column:10}},37:{start:{line:132,column:8},end:{line:138,column:10}},38:{start:{line:140,column:8},end:{line:143,column:10}},39:{start:{line:145,column:8},end:{line:152,column:10}},40:{start:{line:154,column:8},end:{line:157,column:10}},41:{start:{line:159,column:8},end:{line:165,column:10}},42:{start:{line:167,column:8},end:{line:176,column:10}},43:{start:{line:178,column:8},end:{line:189,column:10}},44:{start:{line:191,column:8},end:{line:191,column:18}},45:{start:{line:194,column:10},end:{line:197,column:3}},46:{start:{line:195,column:33},end:{line:195,column:43}},47:{start:{line:196,column:4},end:{line:196,column:39}},48:{start:{line:198,column:19},end:{line:200,column:3}},49:{start:{line:199,column:4},end:{line:199,column:30}},50:{start:{line:202,column:14},end:{line:202,column:26}},51:{start:{line:203,column:32},end:{line:205,column:5}},52:{start:{line:206,column:4},end:{line:257,column:9}},53:{start:{line:213,column:27},end:{line:213,column:57}},54:{start:{line:235,column:30},end:{line:235,column:87}},55:{start:{line:262,column:27},end:{line:262,column:40}},56:{start:{line:263,column:4},end:{line:263,column:35}},57:{start:{line:264,column:4},end:{line:264,column:26}},58:{start:{line:267,column:28},end:{line:267,column:38}},59:{start:{line:268,column:22},end:{line:268,column:77}},60:{start:{line:269,column:26},end:{line:282,column:6}},61:{start:{line:270,column:21},end:{line:270,column:47}},62:{start:{line:271,column:6},end:{line:281,column:8}},63:{start:{line:276,column:29},end:{line:276,column:93}},64:{start:{line:277,column:26},end:{line:277,column:85}},65:{start:{line:283,column:27},end:{line:295,column:6}},66:{start:{line:283,column:75},end:{line:283,column:106}},67:{start:{line:284,column:21},end:{line:284,column:44}},68:{start:{line:285,column:6},end:{line:294,column:8}},69:{start:{line:291,column:26},end:{line:291,column:107}},70:{start:{line:296,column:4},end:{line:326,column:6}},71:{start:{line:319,column:45},end:{line:319,column:109}},72:{start:{line:329,column:21},end:{line:329,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:34,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:57}},line:20},2:{name:"editorMode",decl:{start:{line:36,column:9},end:{line:36,column:19}},loc:{start:{line:36,column:28},end:{line:64,column:1}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:66,column:2},end:{line:66,column:3}},loc:{start:{line:66,column:11},end:{line:95,column:3}},line:66},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:193,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:194,column:10},end:{line:194,column:11}},loc:{start:{line:194,column:16},end:{line:197,column:3}},line:194},8:{name:"(anonymous_8)",decl:{start:{line:198,column:19},end:{line:198,column:20}},loc:{start:{line:198,column:31},end:{line:200,column:3}},line:198},9:{name:"(anonymous_9)",decl:{start:{line:201,column:2},end:{line:201,column:3}},loc:{start:{line:201,column:11},end:{line:258,column:3}},line:201},10:{name:"(anonymous_10)",decl:{start:{line:213,column:20},end:{line:213,column:21}},loc:{start:{line:213,column:27},end:{line:213,column:57}},line:213},11:{name:"(anonymous_11)",decl:{start:{line:235,column:20},end:{line:235,column:21}},loc:{start:{line:235,column:30},end:{line:235,column:87}},line:235},12:{name:"(anonymous_12)",decl:{start:{line:261,column:2},end:{line:261,column:3}},loc:{start:{line:261,column:21},end:{line:265,column:3}},line:261},13:{name:"(anonymous_13)",decl:{start:{line:266,column:2},end:{line:266,column:3}},loc:{start:{line:266,column:11},end:{line:327,column:3}},line:266},14:{name:"(anonymous_14)",decl:{start:{line:269,column:60},end:{line:269,column:61}},loc:{start:{line:269,column:74},end:{line:282,column:5}},line:269},15:{name:"(anonymous_15)",decl:{start:{line:276,column:20},end:{line:276,column:21}},loc:{start:{line:276,column:29},end:{line:276,column:93}},line:276},16:{name:"(anonymous_16)",decl:{start:{line:277,column:20},end:{line:277,column:21}},loc:{start:{line:277,column:26},end:{line:277,column:85}},line:277},17:{name:"(anonymous_17)",decl:{start:{line:283,column:61},end:{line:283,column:62}},loc:{start:{line:283,column:75},end:{line:283,column:106}},line:283},18:{name:"(anonymous_18)",decl:{start:{line:283,column:112},end:{line:283,column:113}},loc:{start:{line:283,column:126},end:{line:295,column:5}},line:283},19:{name:"(anonymous_19)",decl:{start:{line:291,column:20},end:{line:291,column:21}},loc:{start:{line:291,column:26},end:{line:291,column:107}},line:291},20:{name:"(anonymous_20)",decl:{start:{line:319,column:23},end:{line:319,column:24}},loc:{start:{line:319,column:45},end:{line:319,column:109}},line:319}},branchMap:{0:{loc:{start:{line:37,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:37,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},1:{loc:{start:{line:38,column:4},end:{line:38,column:43}},type:"if",locations:[{start:{line:38,column:4},end:{line:38,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},2:{loc:{start:{line:41,column:2},end:{line:44,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:44,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:42,column:50}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:45,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},5:{loc:{start:{line:46,column:4},end:{line:46,column:43}},type:"if",locations:[{start:{line:46,column:4},end:{line:46,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},6:{loc:{start:{line:47,column:4},end:{line:47,column:83}},type:"if",locations:[{start:{line:47,column:4},end:{line:47,column:83}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},7:{loc:{start:{line:47,column:8},end:{line:47,column:57}},type:"binary-expr",locations:[{start:{line:47,column:8},end:{line:47,column:18}},{start:{line:47,column:22},end:{line:47,column:57}}],line:47},8:{loc:{start:{line:50,column:2},end:{line:56,column:3}},type:"if",locations:[{start:{line:50,column:2},end:{line:56,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},9:{loc:{start:{line:51,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:51,column:4},end:{line:55,column:5}},{start:{line:53,column:11},end:{line:55,column:5}}],line:51},10:{loc:{start:{line:57,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:57,column:2},end:{line:59,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},11:{loc:{start:{line:60,column:2},end:{line:62,column:3}},type:"if",locations:[{start:{line:60,column:2},end:{line:62,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},12:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},13:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},14:{loc:{start:{line:109,column:4},end:{line:192,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:119,column:10}},{start:{line:120,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:130,column:10}},{start:{line:131,column:6},end:{line:138,column:10}},{start:{line:139,column:6},end:{line:143,column:10}},{start:{line:144,column:6},end:{line:152,column:10}},{start:{line:153,column:6},end:{line:157,column:10}},{start:{line:158,column:6},end:{line:165,column:10}},{start:{line:166,column:6},end:{line:176,column:10}},{start:{line:177,column:6},end:{line:189,column:10}},{start:{line:190,column:6},end:{line:191,column:18}}],line:109},15:{loc:{start:{line:123,column:19},end:{line:123,column:42}},type:"binary-expr",locations:[{start:{line:123,column:19},end:{line:123,column:33}},{start:{line:123,column:37},end:{line:123,column:42}}],line:123},16:{loc:{start:{line:129,column:15},end:{line:129,column:72}},type:"binary-expr",locations:[{start:{line:129,column:15},end:{line:129,column:25}},{start:{line:129,column:29},end:{line:129,column:72}}],line:129},17:{loc:{start:{line:134,column:17},end:{line:134,column:80}},type:"binary-expr",locations:[{start:{line:134,column:17},end:{line:134,column:29}},{start:{line:134,column:33},end:{line:134,column:80}}],line:134},18:{loc:{start:{line:135,column:19},end:{line:135,column:38}},type:"binary-expr",locations:[{start:{line:135,column:19},end:{line:135,column:33}},{start:{line:135,column:37},end:{line:135,column:38}}],line:135},19:{loc:{start:{line:136,column:19},end:{line:136,column:39}},type:"binary-expr",locations:[{start:{line:136,column:19},end:{line:136,column:33}},{start:{line:136,column:37},end:{line:136,column:39}}],line:136},20:{loc:{start:{line:137,column:18},end:{line:137,column:40}},type:"binary-expr",locations:[{start:{line:137,column:18},end:{line:137,column:31}},{start:{line:137,column:35},end:{line:137,column:40}}],line:137},21:{loc:{start:{line:142,column:15},end:{line:142,column:72}},type:"binary-expr",locations:[{start:{line:142,column:15},end:{line:142,column:25}},{start:{line:142,column:29},end:{line:142,column:72}}],line:142},22:{loc:{start:{line:147,column:17},end:{line:147,column:80}},type:"binary-expr",locations:[{start:{line:147,column:17},end:{line:147,column:29}},{start:{line:147,column:33},end:{line:147,column:80}}],line:147},23:{loc:{start:{line:148,column:19},end:{line:148,column:38}},type:"binary-expr",locations:[{start:{line:148,column:19},end:{line:148,column:33}},{start:{line:148,column:37},end:{line:148,column:38}}],line:148},24:{loc:{start:{line:149,column:19},end:{line:149,column:39}},type:"binary-expr",locations:[{start:{line:149,column:19},end:{line:149,column:33}},{start:{line:149,column:37},end:{line:149,column:39}}],line:149},25:{loc:{start:{line:150,column:18},end:{line:150,column:40}},type:"binary-expr",locations:[{start:{line:150,column:18},end:{line:150,column:31}},{start:{line:150,column:35},end:{line:150,column:40}}],line:150},26:{loc:{start:{line:151,column:20},end:{line:151,column:42}},type:"binary-expr",locations:[{start:{line:151,column:20},end:{line:151,column:35}},{start:{line:151,column:39},end:{line:151,column:42}}],line:151},27:{loc:{start:{line:156,column:15},end:{line:156,column:72}},type:"binary-expr",locations:[{start:{line:156,column:15},end:{line:156,column:25}},{start:{line:156,column:29},end:{line:156,column:72}}],line:156},28:{loc:{start:{line:161,column:17},end:{line:161,column:80}},type:"binary-expr",locations:[{start:{line:161,column:17},end:{line:161,column:29}},{start:{line:161,column:33},end:{line:161,column:80}}],line:161},29:{loc:{start:{line:162,column:19},end:{line:162,column:38}},type:"binary-expr",locations:[{start:{line:162,column:19},end:{line:162,column:33}},{start:{line:162,column:37},end:{line:162,column:38}}],line:162},30:{loc:{start:{line:163,column:19},end:{line:163,column:39}},type:"binary-expr",locations:[{start:{line:163,column:19},end:{line:163,column:33}},{start:{line:163,column:37},end:{line:163,column:39}}],line:163},31:{loc:{start:{line:164,column:20},end:{line:164,column:42}},type:"binary-expr",locations:[{start:{line:164,column:20},end:{line:164,column:35}},{start:{line:164,column:39},end:{line:164,column:42}}],line:164}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0,0,0,0,0,0,0,0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalSources.tsx"],names:[],mappings:"AAiCU,cACA,YADA;AAjCV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAEnB,SAA+B,uBAAuB;AAEtD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAAiD;AAExD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAW1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,QAAG,OAAO,OAAO,OAAO,IAAI,WAAW,YAAY,EAAG,QAAO;AAC7D,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,EAAE,gCAAgC,EAAC,UAAU,KAAK,MAAM,SAAQ,CAAC;AAAA,YAC7E,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACX,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,QAClB;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,QAC1D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,UACxD,UAAW,OAAqC,YAAY;AAAA,QAC9D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,UAC7D,UAAW,OAAwC,YAAY;AAAA,QACjE;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACnB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAQrB,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,EAAC,KAAK,EAAE,wFAAwF,EAAC;AAAA,UAC5G,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA,UACrD,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;AAAA,YACpC,CAAC,eAAe,EAAE,eAAe,CAAC;AAAA,YAClC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,uBAAuB,EAAE,2BAA2B,CAAC;AAAA,YACtD,CAAC,sBAAsB,EAAE,uBAAuB,CAAC;AAAA,YACjD,CAAC,kBAAkB,EAAE,kBAAkB,CAAC;AAAA,YACxC,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,YACpB,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,UACtB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA,UAClB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACd,eAAY;AAAA,UAEX,YAAE,YAAY;AAAA;AAAA,MACjB;AAAA,OACF;AAAA,EACF;AACF;AASA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,SAAQ,IAAI,KAAK;AAC3B,UAAM,YAAY,EAAC,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAM;AACtE,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA,UACzE,GAAG;AAAA;AAAA,QALC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,SAAS;AAAA,QAElB;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACxB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,sBAAsB,GAAE;AAAA,YAC/B,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACzB,oBAAC,OAAG,YAAE,8FAA8F,GAAE;AAAA,YACtG;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA,gBACxH,GAAG;AAAA;AAAA,YACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"30dc2f79b5d8eab063b35a7a783386d299d39465"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return hn=function(){return s},s}hn();class Tye extends ii.Component{render(){return hn().f[0]++,hn().s[0]++,Ae.jsx("div",{className:"maputnik-public-source",children:Ae.jsxs(Gs,{className:"maputnik-public-source-select",onClick:()=>(hn().f[1]++,hn().s[1]++,this.props.onSelect(this.props.id)),children:[Ae.jsxs("div",{className:"maputnik-public-source-info",children:[Ae.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),Ae.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(pj,{})]})})}}function kye(n){return hn().f[2]++,hn().s[2]++,n.type==="raster"?(hn().b[0][0]++,hn().s[3]++,n.tiles?(hn().b[1][0]++,hn().s[4]++,"tile_raster"):(hn().b[1][1]++,hn().s[5]++,"tilejson_raster")):(hn().b[0][1]++,hn().s[6]++,n.type==="raster-dem"?(hn().b[2][0]++,hn().s[7]++,n.tiles?(hn().b[3][0]++,hn().s[8]++,"tilexyz_raster-dem"):(hn().b[3][1]++,hn().s[9]++,"tilejson_raster-dem")):(hn().b[2][1]++,hn().s[10]++,n.type==="vector"?(hn().b[4][0]++,hn().s[11]++,n.tiles?(hn().b[5][0]++,hn().s[12]++,"tile_vector"):(hn().b[5][1]++,hn().s[13]++,hn().b[7][0]++,n.url&&(hn().b[7][1]++,n.url.startsWith("pmtiles://"))?(hn().b[6][0]++,hn().s[14]++,"pmtiles_vector"):(hn().b[6][1]++,hn().s[15]++,"tilejson_vector"))):(hn().b[4][1]++,hn().s[16]++,n.type==="geojson"?(hn().b[8][0]++,hn().s[17]++,typeof n.data=="string"?(hn().b[9][0]++,hn().s[18]++,"geojson_url"):(hn().b[9][1]++,hn().s[19]++,"geojson_json")):(hn().b[8][1]++,hn().s[20]++,n.type==="image"?(hn().b[10][0]++,hn().s[21]++,"image"):(hn().b[10][1]++,hn().s[22]++,n.type==="video"?(hn().b[11][0]++,hn().s[23]++,"video"):(hn().b[11][1]++,hn().s[24]++,null))))))}class Dye extends ii.Component{render(){hn().f[3]++;const e=(hn().s[25]++,this.props.t);return hn().s[26]++,Ae.jsxs("div",{className:"maputnik-active-source-type-editor",children:[Ae.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[Ae.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(Gs,{"aria-label":e("Remove '{{sourceId}}' source",{sourceId:this.props.sourceId}),className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(hn().f[4]++,hn().s[27]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:Ae.jsx(my,{})})]}),Ae.jsx("div",{className:"maputnik-active-source-type-editor-content",children:Ae.jsx(rY,{onChange:this.props.onChange,mode:kye(this.props.source),source:this.props.source})})]})}}class Rye extends ii.Component{constructor(e){hn().f[5]++,hn().s[28]++,super(e),hn().s[29]++,this.state={mode:"tilejson_vector",sourceId:af.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(e){hn().f[6]++;const t=(hn().s[30]++,hn().b[12][0]++,(hn().b[13][0]++,this.state||(hn().b[13][1]++,{})).source||(hn().b[12][1]++,{})),{protocol:i}=(hn().s[31]++,window.location);switch(hn().s[32]++,e){case"pmtiles_vector":return hn().b[14][0]++,hn().s[33]++,{type:"vector",url:`${i}//localhost:3000/file.pmtiles`};case"geojson_url":return hn().b[14][1]++,hn().s[34]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return hn().b[14][2]++,hn().s[35]++,{type:"geojson",cluster:(hn().b[15][0]++,t.cluster||(hn().b[15][1]++,!1)),data:""};case"tilejson_vector":return hn().b[14][3]++,hn().s[36]++,{type:"vector",url:(hn().b[16][0]++,t.url||(hn().b[16][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_vector":return hn().b[14][4]++,hn().s[37]++,{type:"vector",tiles:(hn().b[17][0]++,t.tiles||(hn().b[17][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(hn().b[18][0]++,t.minzoom||(hn().b[18][1]++,0)),maxzoom:(hn().b[19][0]++,t.maxzoom||(hn().b[19][1]++,14)),scheme:(hn().b[20][0]++,t.scheme||(hn().b[20][1]++,"xyz"))};case"tilejson_raster":return hn().b[14][5]++,hn().s[38]++,{type:"raster",url:(hn().b[21][0]++,t.url||(hn().b[21][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_raster":return hn().b[14][6]++,hn().s[39]++,{type:"raster",tiles:(hn().b[22][0]++,t.tiles||(hn().b[22][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.png`])),minzoom:(hn().b[23][0]++,t.minzoom||(hn().b[23][1]++,0)),maxzoom:(hn().b[24][0]++,t.maxzoom||(hn().b[24][1]++,14)),scheme:(hn().b[25][0]++,t.scheme||(hn().b[25][1]++,"xyz")),tileSize:(hn().b[26][0]++,t.tileSize||(hn().b[26][1]++,512))};case"tilejson_raster-dem":return hn().b[14][7]++,hn().s[40]++,{type:"raster-dem",url:(hn().b[27][0]++,t.url||(hn().b[27][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return hn().b[14][8]++,hn().s[41]++,{type:"raster-dem",tiles:(hn().b[28][0]++,t.tiles||(hn().b[28][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.png`])),minzoom:(hn().b[29][0]++,t.minzoom||(hn().b[29][1]++,0)),maxzoom:(hn().b[30][0]++,t.maxzoom||(hn().b[30][1]++,14)),tileSize:(hn().b[31][0]++,t.tileSize||(hn().b[31][1]++,512))};case"image":return hn().b[14][9]++,hn().s[42]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return hn().b[14][10]++,hn().s[43]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return hn().b[14][11]++,hn().s[44]++,{}}}onAdd=(hn().s[45]++,()=>{hn().f[7]++;const{source:e,sourceId:t}=(hn().s[46]++,this.state);hn().s[47]++,this.props.onAdd(t,e)});onChangeSource=(hn().s[48]++,e=>{hn().f[8]++,hn().s[49]++,this.setState({source:e})});render(){hn().f[9]++;const e=(hn().s[50]++,this.props.t),t=(hn().s[51]++,{doc:Jo.source_vector.type.doc});return hn().s[52]++,Ae.jsxs("div",{className:"maputnik-add-source",children:[Ae.jsx(Xd,{label:e("Source ID"),fieldSpec:{doc:e("Unique ID that identifies the source and is used in the layer to reference the source.")},value:this.state.sourceId,onChange:i=>(hn().f[10]++,hn().s[53]++,this.setState({sourceId:i})),"data-wd-key":"modal:sources.add.source_id"}),Ae.jsx(Tb,{label:e("Source Type"),fieldSpec:t,options:[["geojson_json",e("GeoJSON (JSON)")],["geojson_url",e("GeoJSON (URL)")],["tilejson_vector",e("Vector (TileJSON URL)")],["tile_vector",e("Vector (Tile URLs)")],["tilejson_raster",e("Raster (TileJSON URL)")],["tile_raster",e("Raster (Tile URLs)")],["tilejson_raster-dem",e("Raster DEM (TileJSON URL)")],["tilexyz_raster-dem",e("Raster DEM (XYZ URLs)")],["pmtiles_vector",e("Vector (PMTiles)")],["image",e("Image")],["video",e("Video")]],onChange:i=>(hn().f[11]++,hn().s[54]++,this.setState({mode:i,source:this.defaultSource(i)})),value:this.state.mode,"data-wd-key":"modal:sources.add.source_type"}),Ae.jsx(rY,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),Ae.jsx(Gs,{className:"maputnik-add-source-button",onClick:this.onAdd,"data-wd-key":"modal:sources.add.add_source",children:e("Add Source")})]})}}class Pye extends ii.Component{stripTitle(e){hn().f[12]++;const t=(hn().s[55]++,{...e});return hn().s[56]++,delete t.title,hn().s[57]++,t}render(){hn().f[13]++;const{t:e,mapStyle:t}=(hn().s[58]++,this.props),i=(hn().s[59]++,{t:e,i18n:this.props.i18n,tReady:this.props.tReady}),r=(hn().s[60]++,Object.keys(t.sources).map(s=>{hn().f[14]++;const a=(hn().s[61]++,t.sources[s]);return hn().s[62]++,Ae.jsx(Dye,{sourceId:s,source:a,onChange:p=>(hn().f[15]++,hn().s[63]++,this.props.onStyleChanged(oY(t,s,p))),onDelete:()=>(hn().f[16]++,hn().s[64]++,this.props.onStyleChanged(wye(t,s))),...i},s)})),o=(hn().s[65]++,Object.keys(GL).filter(s=>(hn().f[17]++,hn().s[66]++,!(s in t.sources))).map(s=>{hn().f[18]++;const a=(hn().s[67]++,GL[s]);return hn().s[68]++,Ae.jsx(Tye,{id:s,type:a.type,title:a.title,onSelect:()=>(hn().f[19]++,hn().s[69]++,this.props.onStyleChanged(NL(t,s,this.stripTitle(a))))},s)}));return hn().s[70]++,Ae.jsxs(lg,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Sources"),children:[Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Active Sources")}),r]}),Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Choose Public Source")}),Ae.jsx("p",{children:e("Add one of the publicly available sources to your style.")}),Ae.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:o})]}),Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Add New Source")}),Ae.jsx("p",{children:e("Add a new source to your style. You can only choose the source type and id at creation time!")}),Ae.jsx(Rye,{onAdd:(s,a)=>(hn().f[20]++,hn().s[71]++,this.props.onStyleChanged(NL(t,s,a))),...i})]})]})}}const Uye=(hn().s[72]++,is()(Pye));var a3={},WL;function Kye(){if(WL)return a3;WL=1,Object.defineProperty(a3,"__esModule",{value:!0});var n=Object.assign||function(z){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var $ in Q)Object.prototype.hasOwnProperty.call(Q,$)&&(z[$]=Q[$])}return z},e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},t=function(){function z(N,Q){for(var $=0;$<Q.length;$++){var X=Q[$];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(N,X.key,X)}}return function(N,Q,$){return Q&&z(N.prototype,Q),$&&z(N,$),N}}(),i=Rl(),r=p(i),o=v2(),s=a(o);function a(z){return z&&z.__esModule?z:{default:z}}function p(z){if(z&&z.__esModule)return z;var N={};if(z!=null)for(var Q in z)Object.prototype.hasOwnProperty.call(z,Q)&&(N[Q]=z[Q]);return N.default=z,N}function g(z,N){var Q={};for(var $ in z)N.indexOf($)>=0||Object.prototype.hasOwnProperty.call(z,$)&&(Q[$]=z[$]);return Q}function _(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}function E(z,N){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:z}function O(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(z,N):z.__proto__=N)}var B=function(z){O(N,z);function N(Q){_(this,N);var $=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,Q));$.handleChange=function(re){var ne=Array.prototype.slice.call(re.target.files),V=($.props.as||"url").toLowerCase();Promise.all(ne.map(function(J){return new Promise(function(W,he){var ge=new FileReader;switch(ge.onload=function(ve){W([ve,J])},V){case"binary":{ge.readAsBinaryString(J);break}case"buffer":{ge.readAsArrayBuffer(J);break}case"text":{ge.readAsText(J);break}case"url":{ge.readAsDataURL(J);break}}})})).then(function(J){$.props.onChange(re,J)})},$.triggerInput=function(){var re=s.default.findDOMNode($._reactFileReaderInput);re&&re.click()};var X=(typeof window>"u"?"undefined":e(window))==="object"?window:{};return(!X.File||!X.FileReader||!X.FileList||!X.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),$}return t(N,[{key:"render",value:function(){var $=this,X=this.props;X.as;var re=X.children,ne=X.style,V=g(X,["as","children","style"]),J=re?{position:"absolute",top:"-9999px"}:{};return r.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:ne},r.createElement("input",n({},V,{type:"file",ref:function(he){$._reactFileReaderInput=he},onChange:this.handleChange,onClick:function(){$._reactFileReaderInput.value=null},style:J})),re)}}]),N}(r.Component);return a3.default=B,a3}var Lye=Kye();const Fye=Bu(Lye);function n0(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalLoading.tsx",e="14882741b03cd24dba8e21fe7c0f0c38039a7560",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalLoading.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:22,column:6}},2:{start:{line:16,column:28},end:{line:16,column:49}},3:{start:{line:19,column:137},end:{line:19,column:159}},4:{start:{line:25,column:21},end:{line:25,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:23,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:16,column:22},end:{line:16,column:23}},loc:{start:{line:16,column:28},end:{line:16,column:49}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:130},end:{line:19,column:131}},loc:{start:{line:19,column:137},end:{line:19,column:159}},line:19}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalLoading.tsx"],names:[],mappings:"AAkBW,SAOL,KAPK;AAlBX,OAAO,WAAW;AAClB,SAA+B,uBAAuB;AAEtD,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAC/C,YAAE,QAAQ,GACb,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"14882741b03cd24dba8e21fe7c0f0c38039a7560"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return n0=function(){return s},s}n0();class zye extends ii.Component{render(){n0().f[0]++;const e=(n0().s[0]++,this.props.t);return n0().s[1]++,Ae.jsxs(lg,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,title:this.props.title,onOpenToggle:()=>(n0().f[1]++,n0().s[2]++,this.props.onCancel()),children:[Ae.jsx("p",{children:this.props.message}),Ae.jsx("p",{className:"maputnik-dialog__buttons",children:Ae.jsx(Gs,{onClick:t=>(n0().f[2]++,n0().s[3]++,this.props.onCancel(t)),children:e("Cancel")})})]})}}const jye=(n0().s[4]++,is()(zye)),aY=[{id:"0-empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="},{id:"americana",title:"Americana",url:"https://americanamap.org/style.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/23fa75ad-63e6-43f5-8837-03cdb0428bac"},{id:"aws-hybrid",title:"AWS Hybrid",url:"https://maps.geo.eu-west-1.amazonaws.com/v2/styles/Hybrid/descriptor?key=v1.public.eyJqdGkiOiJiOTNkYjBlZi04OWUzLTQxMGUtODFhMC0zYjZjZjVmZWZmMDgifYtukap0NBaJpcrS6Vit9j03GJgK9Bn-RSu5UCe3jkdSql2kKp3IEgLPtyLssbmKUdVO11sXddjK3ZOZy8V6QG0olv0K_1tOxyMIe4DAO3IV6H4VzHWiaXlbSakGiEgFLuHBdcfLDeMotye7N6rSRxuZb0CN9ytH9VjLly6-NEBRZezO_qPQyvdTFdeZsARIpL0f9YVpxPxPVvUcAWYCk5LpaPseRCDPrY5SlCdA1ZKqUA4F9RzxSTxB73Fel_SoNDkCNaux1VposBu791-uUpDzUpr7leKckrPXrpZ2hwnFbafVxFV9vq4fLTpB5KoBksuLfGNIwAx1RLLxWuMhE4c.ZGQzZDY2OGQtMWQxMy00ZTEwLWIyZGUtOGVjYzUzMjU3OGE4&color-scheme=Light",thumbnail:"https://maputnik.s3.eu-west-1.amazonaws.com/thumbnails/aws-hybrid.jpg"},{id:"aws-standard",title:"AWS Standard",url:"https://maps.geo.eu-west-1.amazonaws.com/v2/styles/Standard/descriptor?key=v1.public.eyJqdGkiOiJiOTNkYjBlZi04OWUzLTQxMGUtODFhMC0zYjZjZjVmZWZmMDgifYtukap0NBaJpcrS6Vit9j03GJgK9Bn-RSu5UCe3jkdSql2kKp3IEgLPtyLssbmKUdVO11sXddjK3ZOZy8V6QG0olv0K_1tOxyMIe4DAO3IV6H4VzHWiaXlbSakGiEgFLuHBdcfLDeMotye7N6rSRxuZb0CN9ytH9VjLly6-NEBRZezO_qPQyvdTFdeZsARIpL0f9YVpxPxPVvUcAWYCk5LpaPseRCDPrY5SlCdA1ZKqUA4F9RzxSTxB73Fel_SoNDkCNaux1VposBu791-uUpDzUpr7leKckrPXrpZ2hwnFbafVxFV9vq4fLTpB5KoBksuLfGNIwAx1RLLxWuMhE4c.ZGQzZDY2OGQtMWQxMy00ZTEwLWIyZGUtOGVjYzUzMjU3OGE4&color-scheme=Light",thumbnail:"https://maputnik.s3.eu-west-1.amazonaws.com/thumbnails/aws-standard.jpg"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"locationiq-streets",title:"LocationIQ Streets",url:"https://tiles.locationiq.com/v3/streets/vector.json?key={key}",thumbnail:"https://static-assets.locationiq.com/maputnik/locationiq-streets.png"},{id:"maptiler-basic-gl-style",title:"MapTiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.10/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@v1.0/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.11/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"osm-openmaptiles",title:"OSM OpenMapTiles",url:"https://api.maptiler.com/maps/openstreetmap/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",thumbnail:"https://openmaptiles.org/img/styles/openmaptiles.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"protomaps-light",title:"Protomaps Light",url:"https://api.protomaps.com/styles/v4/light/en.json?key=d828297496b11844",thumbnail:"https://github.com/user-attachments/assets/911f9765-4a7d-4736-9ec0-f2d4c90ae587"},{id:"stadia-outdoors",title:"Stadia Outdoors",url:"https://tiles.stadiamaps.com/styles/outdoors.json",thumbnail:"https://tiles.stadiamaps.com/static/outdoors.png?size=480x320&center=47.350259,8.49035&zoom=16"},{id:"versatiles-colorful",title:"Versatiles Colorful",url:"https://tiles.versatiles.org/assets/styles/colorful/style.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/6cd69818-c541-46e4-a920-65fb4f654931"}];function oi(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalOpen.tsx",e="4894d4bc5e14f1cec6f3dd742c248014b9e1821b",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalOpen.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:38,column:9}},1:{start:{line:20,column:23},end:{line:20,column:58}},2:{start:{line:43,column:4},end:{line:43,column:17}},3:{start:{line:44,column:4},end:{line:46,column:6}},4:{start:{line:49,column:4},end:{line:51,column:7}},5:{start:{line:54,column:4},end:{line:54,column:31}},6:{start:{line:54,column:11},end:{line:54,column:31}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:15},end:{line:132,column:3}},31:{start:{line:106,column:4},end:{line:106,column:22}},32:{start:{line:107,column:23},end:{line:115,column:5}},33:{start:{line:116,column:25},end:{line:116,column:68}},34:{start:{line:117,column:17},end:{line:117,column:43}},35:{start:{line:118,column:20},end:{line:118,column:37}},36:{start:{line:120,column:4},end:{line:127,column:5}},37:{start:{line:121,column:6},end:{line:121,column:37}},38:{start:{line:123,column:6},end:{line:125,column:9}},39:{start:{line:126,column:6},end:{line:126,column:13}},40:{start:{line:128,column:4},end:{line:128,column:51}},41:{start:{line:129,column:4},end:{line:129,column:49}},42:{start:{line:130,column:4},end:{line:130,column:24}},43:{start:{line:131,column:4},end:{line:131,column:16}},44:{start:{line:135,column:18},end:{line:155,column:3}},45:{start:{line:136,column:21},end:{line:136,column:29}},46:{start:{line:137,column:19},end:{line:137,column:35}},47:{start:{line:138,column:4},end:{line:138,column:22}},48:{start:{line:139,column:4},end:{line:139,column:37}},49:{start:{line:140,column:4},end:{line:153,column:6}},50:{start:{line:142,column:6},end:{line:149,column:7}},51:{start:{line:143,column:8},end:{line:143,column:48}},52:{start:{line:145,column:8},end:{line:147,column:11}},53:{start:{line:148,column:8},end:{line:148,column:15}},54:{start:{line:150,column:6},end:{line:150,column:53}},55:{start:{line:151,column:6},end:{line:151,column:39}},56:{start:{line:152,column:6},end:{line:152,column:26}},57:{start:{line:154,column:4},end:{line:154,column:50}},58:{start:{line:154,column:28},end:{line:154,column:49}},59:{start:{line:157,column:4},end:{line:159,column:7}},60:{start:{line:160,column:4},end:{line:160,column:22}},61:{start:{line:161,column:4},end:{line:161,column:30}},62:{start:{line:163,column:16},end:{line:167,column:3}},63:{start:{line:164,column:4},end:{line:166,column:7}},64:{start:{line:169,column:14},end:{line:169,column:26}},65:{start:{line:170,column:25},end:{line:181,column:6}},66:{start:{line:171,column:6},end:{line:180,column:8}},67:{start:{line:183,column:4},end:{line:188,column:5}},68:{start:{line:184,column:6},end:{line:187,column:11}},69:{start:{line:186,column:61},end:{line:186,column:78}},70:{start:{line:189,column:4},end:{line:267,column:9}},71:{start:{line:195,column:30},end:{line:195,column:49}},72:{start:{line:263,column:27},end:{line:263,column:56}},73:{start:{line:270,column:18},end:{line:270,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:39,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:58}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:21},end:{line:47,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:15},end:{line:52,column:3}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:27},end:{line:62,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:15},end:{line:105,column:16}},loc:{start:{line:105,column:27},end:{line:132,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:135,column:18},end:{line:135,column:19}},loc:{start:{line:135,column:38},end:{line:155,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:140,column:20},end:{line:140,column:21}},loc:{start:{line:140,column:27},end:{line:153,column:5}},line:140},14:{name:"(anonymous_14)",decl:{start:{line:154,column:21},end:{line:154,column:22}},loc:{start:{line:154,column:28},end:{line:154,column:49}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:156,column:2},end:{line:156,column:3}},loc:{start:{line:156,column:17},end:{line:162,column:3}},line:156},16:{name:"(anonymous_16)",decl:{start:{line:163,column:16},end:{line:163,column:17}},loc:{start:{line:163,column:25},end:{line:167,column:3}},line:163},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:268,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:170,column:42},end:{line:170,column:43}},loc:{start:{line:170,column:54},end:{line:181,column:5}},line:170},19:{name:"(anonymous_19)",decl:{start:{line:186,column:55},end:{line:186,column:56}},loc:{start:{line:186,column:61},end:{line:186,column:78}},line:186},20:{name:"(anonymous_20)",decl:{start:{line:195,column:24},end:{line:195,column:25}},loc:{start:{line:195,column:30},end:{line:195,column:49}},line:195},21:{name:"(anonymous_21)",decl:{start:{line:263,column:20},end:{line:263,column:21}},loc:{start:{line:263,column:27},end:{line:263,column:56}},line:263}},branchMap:{0:{loc:{start:{line:54,column:4},end:{line:54,column:31}},type:"if",locations:[{start:{line:54,column:4},end:{line:54,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:54},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:183,column:4},end:{line:188,column:5}},type:"if",locations:[{start:{line:183,column:4},end:{line:188,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:183},4:{loc:{start:{line:202,column:53},end:{line:217,column:21}},type:"cond-expr",locations:[{start:{line:202,column:119},end:{line:213,column:15}},{start:{line:213,column:34},end:{line:217,column:21}}],line:202}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalOpen.tsx"],names:["style"],mappings:"AA6BQ,SACE,KADF;AA7BR,OAAO,WAA+B;AACtC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAsC;AAC7C,SAAS,OAA6B,uBAAuB;AAE7D,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAgBA,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG,EAAG,GAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,aAAa,YAAY;AACvB,SAAK,WAAW;AAEhB,UAAM,aAAoC;AAAA,MACxC,OAAO;AAAA,QACL;AAAA,UACE,aAAa;AAAA,UACb,QAAQ,EAAE,oBAAoB,CAAC,OAAO,EAAE;AAAA,QAC1C;AAAA,MACF;AAAA,MACA,UAAU;AAAA,IACZ;AAEA,UAAM,CAAC,UAAU,IAAI,MAAM,OAAO,mBAAmB,UAAU;AAC/D,UAAM,OAAO,MAAM,WAAW,QAAQ;AACtC,UAAM,UAAU,MAAM,KAAK,KAAK;AAEhC,QAAI;AACJ,QAAI;AACF,iBAAW,KAAK,MAAM,OAAO;AAAA,IAC/B,SAAS,KAAK;AACZ,WAAK,SAAS;AAAA,QACZ,OAAQ,IAAc,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,eAAW,MAAM,oBAAoB,QAAQ;AAE7C,SAAK,MAAM,YAAY,UAAU,UAAU;AAC3C,SAAK,aAAa;AAClB,WAAO;AAAA,EACT;AAAA;AAAA;AAAA,EAIA,gBAAgB,OAAO,GAAQ,UAAoB;AACjD,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAC9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO,EAAE,YAAY;AAAA,UAEpB;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAI,YAAE,kBAAkB,GAAE;AAAA,cAC3B,oBAAC,OAAG,YAAE,6CAA6C,GAAE;AAAA,cACrD,oBAAC,SACE,iBAAO,OAAO,uBAAuB,aACpC;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,KAAK;AAAA,kBAAY;AAAA,wCAAC,gBAAY;AAAA,oBAAE;AAAA,oBAAE,EAAE,YAAY;AAAA;AAAA;AAAA,cAC3D,IAEA,oBAAC,mBAAgB,UAAU,KAAK,eAAe,UAAU,IAAI,cAAY,EAAE,YAAY,GACrF,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,gBAAE,EAAE,YAAY;AAAA,iBAAE,GACpF,GAEJ;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAI,YAAE,eAAe,GAAE;AAAA,cACxB,oBAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,gBACkC,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I,GACF;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAY,EAAE,WAAW;AAAA,kBACzB,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAS,EAAE,cAAc;AAAA,kBACzB,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,cACzB,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO,EAAE,eAAe;AAAA,UACxB,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,EAAE,2BAA2B,EAAE,YAAY,KAAK,MAAM,iBAAiB,CAAC;AAAA;AAAA,MACnF;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4894d4bc5e14f1cec6f3dd742c248014b9e1821b"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return oi=function(){return s},s}oi();class Nye extends ii.Component{render(){return oi().f[0]++,oi().s[0]++,Ae.jsx("div",{className:"maputnik-public-style",children:Ae.jsxs(Gs,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(oi().f[1]++,oi().s[1]++,this.props.onSelect(this.props.url)),children:[Ae.jsxs("div",{className:"maputnik-public-style-header",children:[Ae.jsx("div",{children:this.props.title}),Ae.jsx("span",{className:"maputnik-space"}),Ae.jsx(pj,{})]}),Ae.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class Gye extends ii.Component{constructor(e){oi().f[2]++,oi().s[2]++,super(e),oi().s[3]++,this.state={styleUrl:""}}clearError(){oi().f[3]++,oi().s[4]++,this.setState({error:null})}onCancelActiveRequest(e){oi().f[4]++,oi().s[5]++,e?(oi().b[0][0]++,oi().s[6]++,e.stopPropagation()):oi().b[0][1]++,oi().s[7]++,this.state.activeRequest?(oi().b[1][0]++,oi().s[8]++,this.state.activeRequest.abort(),oi().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):oi().b[1][1]++}onStyleSelect=(oi().s[10]++,e=>{oi().f[5]++,oi().s[11]++,this.clearError();let t=(oi().s[12]++,!1);oi().s[13]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(i){return oi().f[6]++,oi().s[14]++,i.json()}).then(i=>{if(oi().f[7]++,oi().s[15]++,t){oi().b[2][0]++,oi().s[16]++;return}else oi().b[2][1]++;oi().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const r=(oi().s[18]++,af.ensureStyleValidity(i));oi().s[19]++,console.log("Loaded style ",r.id),oi().s[20]++,this.props.onStyleOpen(r),oi().s[21]++,this.onOpenToggle()}).catch(i=>{oi().f[8]++,oi().s[22]++,this.setState({error:`Failed to load: '${e}'`,activeRequest:null,activeRequestUrl:null}),oi().s[23]++,console.error(i),oi().s[24]++,console.warn("Could not open the style URL",e)}),oi().s[25]++,this.setState({activeRequest:{abort:function(){oi().f[9]++,oi().s[26]++,t=!0}},activeRequestUrl:e})});onSubmitUrl=(oi().s[27]++,e=>{oi().f[10]++,oi().s[28]++,e.preventDefault(),oi().s[29]++,this.onStyleSelect(this.state.styleUrl)});onOpenFile=(oi().s[30]++,async()=>{oi().f[11]++,oi().s[31]++,this.clearError();const e=(oi().s[32]++,{types:[{description:"json",accept:{"application/json":[".json"]}}],multiple:!1}),[t]=(oi().s[33]++,await window.showOpenFilePicker(e)),i=(oi().s[34]++,await t.getFile()),r=(oi().s[35]++,await i.text());let o;oi().s[36]++;try{oi().s[37]++,o=JSON.parse(r)}catch(s){oi().s[38]++,this.setState({error:s.toString()}),oi().s[39]++;return}return oi().s[40]++,o=af.ensureStyleValidity(o),oi().s[41]++,this.props.onStyleOpen(o,t),oi().s[42]++,this.onOpenToggle(),oi().s[43]++,i});onFileChanged=(oi().s[44]++,async(e,t)=>{oi().f[12]++;const[,i]=(oi().s[45]++,t[0]),r=(oi().s[46]++,new FileReader);oi().s[47]++,this.clearError(),oi().s[48]++,r.readAsText(i,"UTF-8"),oi().s[49]++,r.onload=o=>{oi().f[13]++;let s;oi().s[50]++;try{oi().s[51]++,s=JSON.parse(o.target?.result)}catch(a){oi().s[52]++,this.setState({error:a.toString()}),oi().s[53]++;return}oi().s[54]++,s=af.ensureStyleValidity(s),oi().s[55]++,this.props.onStyleOpen(s),oi().s[56]++,this.onOpenToggle()},oi().s[57]++,r.onerror=o=>(oi().f[14]++,oi().s[58]++,console.log(o.target))});onOpenToggle(){oi().f[15]++,oi().s[59]++,this.setState({styleUrl:""}),oi().s[60]++,this.clearError(),oi().s[61]++,this.props.onOpenToggle()}onChangeUrl=(oi().s[62]++,e=>{oi().f[16]++,oi().s[63]++,this.setState({styleUrl:e})});render(){oi().f[17]++;const e=(oi().s[64]++,this.props.t),t=(oi().s[65]++,aY.map(r=>(oi().f[18]++,oi().s[66]++,Ae.jsx(Nye,{url:r.url,title:r.title,thumbnailUrl:r.thumbnail,onSelect:this.onStyleSelect},r.id))));let i;return oi().s[67]++,this.state.error?(oi().b[3][0]++,oi().s[68]++,i=Ae.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,Ae.jsx("a",{href:"#",onClick:()=>(oi().f[19]++,oi().s[69]++,this.clearError()),className:"maputnik-modal-error-close",children:"×"})]})):oi().b[3][1]++,oi().s[70]++,Ae.jsxs("div",{children:[Ae.jsxs(lg,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(oi().f[20]++,oi().s[71]++,this.onOpenToggle()),title:e("Open Style"),children:[i,Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Open local Style")}),Ae.jsx("p",{children:e("Open a local JSON style from your computer.")}),Ae.jsx("div",{children:typeof window.showOpenFilePicker=="function"?(oi().b[4][0]++,Ae.jsxs(Gs,{className:"maputnik-big-button",onClick:this.onOpenFile,children:[Ae.jsx(aT,{})," ",e("Open Style")]})):(oi().b[4][1]++,Ae.jsx(Fye,{onChange:this.onFileChanged,tabIndex:-1,"aria-label":e("Open Style"),children:Ae.jsxs(Gs,{className:"maputnik-upload-button",children:[Ae.jsx(aT,{})," ",e("Open Style")]})}))})]}),Ae.jsx("section",{className:"maputnik-modal-section",children:Ae.jsxs("form",{onSubmit:this.onSubmitUrl,children:[Ae.jsx("h1",{children:e("Load from URL")}),Ae.jsx("p",{children:Ae.jsxs(Zg,{t:e,children:["Load from a URL. Note that the URL must have ",Ae.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]})}),Ae.jsx(OI,{"aria-label":e("Style URL"),"data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:e("Enter URL..."),value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),Ae.jsx("div",{children:Ae.jsx(Gs,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),Ae.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[Ae.jsx("h1",{children:e("Gallery Styles")}),Ae.jsx("p",{children:e("Open one of the publicly available styles to start from.")}),Ae.jsx("div",{className:"maputnik-style-gallery-container",children:t})]})]}),Ae.jsx(jye,{isOpen:!!this.state.activeRequest,title:e("Loading style"),onCancel:r=>(oi().f[21]++,oi().s[72]++,this.onCancelActiveRequest(r)),message:e("Loading: {{requestUrl}}",{requestUrl:this.state.activeRequestUrl})})]})}}const Wye=(oi().s[73]++,is()(Gye));function Ep(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalShortcuts.tsx",e="56c3984d0ef3534e088a574117d91f5af2db0afb",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalShortcuts.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:17},end:{line:41,column:5}},2:{start:{line:42,column:25},end:{line:115,column:5}},3:{start:{line:116,column:4},end:{line:145,column:6}},4:{start:{line:130,column:12},end:{line:133,column:22}},5:{start:{line:137,column:12},end:{line:141,column:22}},6:{start:{line:148,column:23},end:{line:148,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:146,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:129,column:57},end:{line:129,column:58}},loc:{start:{line:129,column:72},end:{line:134,column:11}},line:129},2:{name:"(anonymous_2)",decl:{start:{line:136,column:65},end:{line:136,column:66}},loc:{start:{line:136,column:80},end:{line:142,column:11}},line:136}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalShortcuts.tsx"],names:[],mappings:"AAiBa,SAwCA,UAxCA,KAwCA,YAxCA;AAjBb,OAAO,WAAW;AAClB,SAAS,OAA6B,uBAAuB;AAE7D,OAAO,WAAW;AASlB,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,YAAY;AAAA,MACtB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,cAAc;AAAA,MACxB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,oBAAoB;AAAA,MAC9B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,sBAAsB;AAAA,MAChC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,WAAW;AAAA,MACrB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,aAAa;AAAA,MACvB;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM,EAAE,uBAAwB;AAAA,MAClC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM,EAAE,0BAA2B;AAAA,MACrC;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM,EAAE,sCAAuC;AAAA,MACjD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,sCAAsC;AAAA,MAChD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QAEpB,+BAAC,aAAQ,WAAU,mDACjB;AAAA,8BAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB,GACF;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAG,YAAE,8DAA8D,GAAE;AAAA,UACtE,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,iBAAiB,gBAAgB,EAAE,sBAAsB;AAC/D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"56c3984d0ef3534e088a574117d91f5af2db0afb"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ep=function(){return s},s}Ep();class Qye extends ii.Component{render(){Ep().f[0]++;const e=(Ep().s[0]++,this.props.t),t=(Ep().s[1]++,[{key:Ae.jsx("kbd",{children:"?"}),text:e("Shortcuts menu")},{key:Ae.jsx("kbd",{children:"o"}),text:e("Open modal")},{key:Ae.jsx("kbd",{children:"e"}),text:e("Export modal")},{key:Ae.jsx("kbd",{children:"d"}),text:e("Data Sources modal")},{key:Ae.jsx("kbd",{children:"s"}),text:e("Style Settings modal")},{key:Ae.jsx("kbd",{children:"i"}),text:e("Toggle inspect")},{key:Ae.jsx("kbd",{children:"m"}),text:e("Focus map")},{key:Ae.jsx("kbd",{children:"!"}),text:e("Debug modal")}]),i=(Ep().s[2]++,[{key:Ae.jsx("kbd",{children:"+"}),text:e("Increase the zoom level by 1.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"+"})]}),text:e("Increase the zoom level by 2.")},{key:Ae.jsx("kbd",{children:"-"}),text:e("Decrease the zoom level by 1.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"-"})]}),text:e("Decrease the zoom level by 2.")},{key:Ae.jsx("kbd",{children:"Up"}),text:e("Pan up by 100 pixels.")},{key:Ae.jsx("kbd",{children:"Down"}),text:e("Pan down by 100 pixels.")},{key:Ae.jsx("kbd",{children:"Left"}),text:e("Pan left by 100 pixels.")},{key:Ae.jsx("kbd",{children:"Right"}),text:e("Pan right by 100 pixels.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Right"})]}),text:e("Increase the rotation by 15 degrees.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Left"})]}),text:e("Decrease the rotation by 15 degrees.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Up"})]}),text:e("Increase the pitch by 10 degrees.")},{key:Ae.jsxs(Ae.Fragment,{children:[Ae.jsx("kbd",{children:"Shift"})," + ",Ae.jsx("kbd",{children:"Down"})]}),text:e("Decrease the pitch by 10 degrees.")}]);return Ep().s[3]++,Ae.jsx(lg,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Shortcuts"),children:Ae.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[Ae.jsx("p",{children:Ae.jsxs(Zg,{t:e,children:["Press ",Ae.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]})}),Ae.jsx("dl",{children:t.map((r,o)=>(Ep().f[1]++,Ep().s[4]++,Ae.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[Ae.jsx("dt",{children:r.key},"dt"+o),Ae.jsx("dd",{children:r.text},"dd"+o)]},o)))}),Ae.jsx("p",{children:e("If the Map is in focused you can use the following shortcuts")}),Ae.jsx("ul",{children:i.map((r,o)=>(Ep().f[2]++,Ep().s[5]++,Ae.jsxs("li",{children:[Ae.jsx("span",{children:r.key})," ",r.text]},o)))})]})})}}const Yye=(Ep().s[6]++,is()(Qye));function zA(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalDebug.tsx",e="c09f0bfde95742e69af0d091b2de9baefbfef43a",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalDebug.tsx",statementMap:{0:{start:{line:7,column:27},end:{line:7,column:37}},1:{start:{line:8,column:20},end:{line:8,column:48}},2:{start:{line:9,column:19},end:{line:9,column:49}},3:{start:{line:10,column:19},end:{line:10,column:49}},4:{start:{line:11,column:4},end:{line:53,column:6}},5:{start:{line:22,column:14},end:{line:26,column:27}},6:{start:{line:23,column:96},end:{line:23,column:153}},7:{start:{line:29,column:14},end:{line:33,column:27}},8:{start:{line:30,column:96},end:{line:30,column:153}},9:{start:{line:56,column:19},end:{line:56,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:54,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:21,column:140},end:{line:21,column:141}},loc:{start:{line:21,column:156},end:{line:27,column:13}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:89},end:{line:23,column:90}},loc:{start:{line:23,column:96},end:{line:23,column:153}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:28,column:136},end:{line:28,column:137}},loc:{start:{line:28,column:152},end:{line:34,column:13}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:30,column:89},end:{line:30,column:90}},loc:{start:{line:30,column:96},end:{line:30,column:153}},line:30}},branchMap:{0:{loc:{start:{line:21,column:12},end:{line:27,column:17}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:44}},{start:{line:21,column:64},end:{line:27,column:17}}],line:21},1:{loc:{start:{line:28,column:12},end:{line:34,column:17}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:40}},{start:{line:28,column:60},end:{line:34,column:17}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalDebug.tsx"],names:[],mappings:"AAuCQ,cAKQ,YALR;AAvCR,OAAO,WAAW;AAClB,SAAS,OAA6B,uBAAuB;AAE7D,OAAO,WAAW;AAqBlB,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAS;AACP,UAAM,EAAC,GAAG,QAAO,IAAI,KAAK;AAE1B,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,OAAO;AAAA,QAEhB;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAI,YAAE,SAAS,GAAE;AAAA,YACjB,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,OAAO,GAAE;AAAA,YAChB,oBAAC,OACC,+BAAC,SAAM,GACL;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN,GACF;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c09f0bfde95742e69af0d091b2de9baefbfef43a"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return zA=function(){return s},s}zA();class qye extends ii.Component{render(){zA().f[0]++;const{t:e,mapView:t}=(zA().s[0]++,this.props),i=(zA().s[1]++,Math.round(t.zoom)+1),r=(zA().s[2]++,+t.center.lng.toFixed(5)),o=(zA().s[3]++,+t.center.lat.toFixed(5));return zA().s[4]++,Ae.jsxs(lg,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Debug"),children:[Ae.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[Ae.jsx("h1",{children:e("Options")}),(zA().b[0][0]++,this.props.renderer==="mlgljs"&&(zA().b[0][1]++,Ae.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([s,a])=>(zA().f[1]++,zA().s[5]++,Ae.jsx("li",{children:Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",checked:a,onChange:p=>(zA().f[2]++,zA().s[6]++,this.props.onChangeMaplibreGlDebug(s,p.target.checked))})," ",s]})},s)))}))),(zA().b[1][0]++,this.props.renderer==="ol"&&(zA().b[1][1]++,Ae.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([s,a])=>(zA().f[3]++,zA().s[7]++,Ae.jsx("li",{children:Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",checked:a,onChange:p=>(zA().f[4]++,zA().s[8]++,this.props.onChangeOpenlayersDebug(s,p.target.checked))})," ",s]})},s)))})))]}),Ae.jsxs("section",{className:"maputnik-modal-section",children:[Ae.jsx("h1",{children:e("Links")}),Ae.jsx("p",{children:Ae.jsxs(Zg,{t:e,children:[Ae.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${i}/${o}/${r}`,children:"Open in OSM"}),". Opens the current view on openstreetmap.org"]})})]})]})}}const Hye=(zA().s[9]++,is()(qye));function Yi(){var n="/home/runner/work/maputnik/maputnik/src/components/modals/ModalGlobalState.tsx",e="681e0b3080d4effb89e735abebd0878f77572d27",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/modals/ModalGlobalState.tsx",statementMap:{0:{start:{line:10,column:33},end:{line:116,column:1}},1:{start:{line:11,column:34},end:{line:18,column:3}},2:{start:{line:12,column:18},end:{line:12,column:32}},3:{start:{line:13,column:24},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:17,column:8}},5:{start:{line:14,column:62},end:{line:17,column:5}},6:{start:{line:19,column:34},end:{line:31,column:3}},7:{start:{line:20,column:18},end:{line:20,column:39}},8:{start:{line:21,column:24},end:{line:21,column:26}},9:{start:{line:22,column:4},end:{line:28,column:5}},10:{start:{line:23,column:6},end:{line:27,column:7}},11:{start:{line:24,column:8},end:{line:26,column:10}},12:{start:{line:29,column:4},end:{line:29,column:77}},13:{start:{line:30,column:4},end:{line:30,column:32}},14:{start:{line:32,column:24},end:{line:40,column:3}},15:{start:{line:33,column:23},end:{line:33,column:48}},16:{start:{line:34,column:16},end:{line:34,column:17}},17:{start:{line:35,column:4},end:{line:37,column:5}},18:{start:{line:35,column:34},end:{line:35,column:57}},19:{start:{line:36,column:6},end:{line:36,column:14}},20:{start:{line:38,column:4},end:{line:38,column:60}},21:{start:{line:39,column:4},end:{line:39,column:40}},22:{start:{line:41,column:27},end:{line:45,column:3}},23:{start:{line:42,column:23},end:{line:42,column:48}},24:{start:{line:43,column:4},end:{line:43,column:32}},25:{start:{line:44,column:4},end:{line:44,column:40}},26:{start:{line:46,column:30},end:{line:50,column:3}},27:{start:{line:47,column:23},end:{line:47,column:48}},28:{start:{line:48,column:4},end:{line:48,column:41}},29:{start:{line:49,column:4},end:{line:49,column:40}},30:{start:{line:51,column:32},end:{line:55,column:3}},31:{start:{line:52,column:23},end:{line:52,column:48}},32:{start:{line:53,column:4},end:{line:53,column:45}},33:{start:{line:54,column:4},end:{line:54,column:40}},34:{start:{line:56,column:20},end:{line:56,column:45}},35:{start:{line:57,column:25},end:{line:85,column:14}},36:{start:{line:57,column:76},end:{line:85,column:13}},37:{start:{line:63,column:29},end:{line:63,column:68}},38:{start:{line:72,column:29},end:{line:72,column:70}},39:{start:{line:79,column:23},end:{line:79,column:46}},40:{start:{line:86,column:2},end:{line:115,column:4}},41:{start:{line:117,column:25},end:{line:117,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:33},end:{line:10,column:34}},loc:{start:{line:10,column:44},end:{line:116,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:11,column:34},end:{line:11,column:35}},loc:{start:{line:11,column:40},end:{line:18,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:43},end:{line:14,column:44}},loc:{start:{line:14,column:62},end:{line:17,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:19,column:34},end:{line:19,column:35}},loc:{start:{line:19,column:50},end:{line:31,column:3}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:32,column:24},end:{line:32,column:25}},loc:{start:{line:32,column:30},end:{line:40,column:3}},line:32},5:{name:"(anonymous_5)",decl:{start:{line:35,column:27},end:{line:35,column:28}},loc:{start:{line:35,column:34},end:{line:35,column:57}},line:35},6:{name:"(anonymous_6)",decl:{start:{line:41,column:27},end:{line:41,column:28}},loc:{start:{line:41,column:38},end:{line:45,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:46,column:30},end:{line:46,column:31}},loc:{start:{line:46,column:49},end:{line:50,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:51,column:32},end:{line:51,column:33}},loc:{start:{line:51,column:53},end:{line:55,column:3}},line:51},9:{name:"(anonymous_9)",decl:{start:{line:57,column:39},end:{line:57,column:40}},loc:{start:{line:57,column:76},end:{line:85,column:13}},line:57},10:{name:"(anonymous_10)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:29},end:{line:63,column:68}},line:63},11:{name:"(anonymous_11)",decl:{start:{line:72,column:18},end:{line:72,column:19}},loc:{start:{line:72,column:29},end:{line:72,column:70}},line:72},12:{name:"(anonymous_12)",decl:{start:{line:79,column:17},end:{line:79,column:18}},loc:{start:{line:79,column:23},end:{line:79,column:46}},line:79}},branchMap:{0:{loc:{start:{line:13,column:24},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:24},end:{line:13,column:35}},{start:{line:13,column:39},end:{line:13,column:41}}],line:13},1:{loc:{start:{line:23,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:23,column:6},end:{line:27,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},2:{loc:{start:{line:29,column:18},end:{line:29,column:76}},type:"cond-expr",locations:[{start:{line:29,column:56},end:{line:29,column:67}},{start:{line:29,column:70},end:{line:29,column:76}}],line:29},3:{loc:{start:{line:48,column:28},end:{line:48,column:40}},type:"binary-expr",locations:[{start:{line:48,column:28},end:{line:48,column:34}},{start:{line:48,column:38},end:{line:48,column:40}}],line:48},4:{loc:{start:{line:53,column:30},end:{line:53,column:44}},type:"binary-expr",locations:[{start:{line:53,column:30},end:{line:53,column:38}},{start:{line:53,column:42},end:{line:53,column:44}}],line:53},5:{loc:{start:{line:63,column:56},end:{line:63,column:67}},type:"binary-expr",locations:[{start:{line:63,column:56},end:{line:63,column:61}},{start:{line:63,column:65},end:{line:63,column:67}}],line:63},6:{loc:{start:{line:72,column:58},end:{line:72,column:69}},type:"binary-expr",locations:[{start:{line:72,column:58},end:{line:72,column:63}},{start:{line:72,column:67},end:{line:72,column:69}}],line:72},7:{loc:{start:{line:94,column:8},end:{line:97,column:12}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:30}},{start:{line:94,column:50},end:{line:97,column:12}}],line:94},8:{loc:{start:{line:98,column:8},end:{line:101,column:12}},type:"binary-expr",locations:[{start:{line:98,column:8},end:{line:98,column:28}},{start:{line:98,column:48},end:{line:101,column:12}}],line:98}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/modals/ModalGlobalState.tsx"],names:["variables"],mappings:"AAsFI,SAEI,KAFJ,YAAA;AArFJ,SAAS,uBAA6C;AACtD,SAAS,gBAAgB;AACzB,OAAO,YAAY;AAEnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,SAAS,sBAAsB;AAG/B,OAAO,SAAS;AAchB,MAAM,2BAAoE,CAAC,UAAU;AACnF,QAAM,0BAA0B,MAA6B;AAC3D,UAAM,QAAQ,MAAM;AACpB,UAAM,cAAc,MAAM,SAAS,CAAC;AAEpC,WAAO,OAAO,QAAQ,WAAW,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,OAAO;AAAA,MACxD;AAAA,MACA,OAAO,MAAM;AAAA,IACf,EAAE;AAAA,EACJ;AAEA,QAAM,0BAA0B,CAACA,eAAqC;AACpE,UAAM,QAAQ,EAAE,GAAG,MAAM,SAAS;AAGlC,UAAM,cAAmD,CAAC;AAC1D,eAAW,YAAYA,YAAW;AAChC,UAAI,SAAS,IAAI,KAAK,MAAM,IAAI;AAC9B,oBAAY,SAAS,GAAG,IAAI;AAAA,UAC1B,SAAS,SAAS;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAEA,UAAM,QAAQ,OAAO,KAAK,WAAW,EAAE,SAAS,IAAI,cAAc;AAElE,UAAM,eAAe,KAAK;AAAA,EAC5B;AAEA,QAAM,gBAAgB,MAAM;AAC1B,UAAMA,aAAY,wBAAwB;AAC1C,QAAI,QAAQ;AACZ,WAAOA,WAAU,KAAK,CAAA,MAAK,EAAE,QAAQ,MAAM,KAAK,EAAE,GAAG;AACnD;AAAA,IACF;AACAA,eAAU,KAAK,EAAE,KAAK,MAAM,KAAK,IAAI,OAAO,QAAQ,CAAC;AACrD,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,mBAAmB,CAAC,UAAkB;AAC1C,UAAMA,aAAY,wBAAwB;AAC1CA,eAAU,OAAO,OAAO,CAAC;AACzB,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,sBAAsB,CAAC,OAAe,WAAmB;AAC7D,UAAMA,aAAY,wBAAwB;AAC1CA,eAAU,KAAK,EAAE,MAAM,UAAU;AACjC,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,wBAAwB,CAAC,OAAe,aAAqB;AACjE,UAAMA,aAAY,wBAAwB;AAE1CA,eAAU,KAAK,EAAE,QAAQ,YAAY;AACrC,4BAAwBA,UAAS;AAAA,EACnC;AAEA,QAAM,YAAY,wBAAwB;AAE1C,QAAM,iBAAiB,UAAU,IAAI,CAAC,UAAU,+BAC7C,MAAA,EACC,UAAA;AAAA,IAAA,oBAAC,MAAA,EACC,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,MAAM,EAAE,KAAK;AAAA,QACpB,OAAO,SAAS;AAAA,QAChB,UAAU,CAAC,UAAU,oBAAoB,OAAO,SAAS,EAAE;AAAA,QAC3D,eAAa,+BAA+B;AAAA,MAAA;AAAA,IAC9C,EAAA,CACF;AAAA,wBACC,MAAA,EACC,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,MAAM,EAAE,OAAO;AAAA,QACtB,OAAO,SAAS;AAAA,QAChB,UAAU,CAAC,UAAU,sBAAsB,OAAO,SAAS,EAAE;AAAA,QAC7D,eAAa,iCAAiC;AAAA,MAAA;AAAA,IAChD,EAAA,CACF;AAAA,wBACC,MAAA,EAAG,OAAO,EAAE,eAAe,SAAQ,GAClC,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS,MAAM,iBAAiB,KAAK;AAAA,QACrC,OAAO,MAAM,EAAE,iBAAiB;AAAA,QAChC,eAAY;AAAA,QAEZ,8BAAC,UAAA,CAAA,CAAS;AAAA,MAAA;AAAA,IACZ,EAAA,CACF;AAAA,EAAA,EAAA,GAzBO,KA0BT,CACD;AAED,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,eAAY;AAAA,MACZ,QAAQ,MAAM;AAAA,MACd,cAAc,MAAM;AAAA,MACpB,OAAO,MAAM,EAAE,wBAAwB;AAAA,MAGtC,UAAA;AAAA,QAAA,UAAU,WAAW,KAChB,qBAAC,OAAA,EACC,UAAA;AAAA,UAAA,oBAAC,KAAA,EAAG,UAAA,MAAM,EAAE,2FAA2F,EAAA,CAAE;AAAA,UACzG,oBAAC,OAAA,EAAc,WAAU,uBACvB,UAAA,oBAAC,KAAA,EAAI,WAAW,OAAO,MAAM,MAAA,CAAO,EAAA,GAD7B,KAET;AAAA,QAAA,EAAA,CACF;AAAA,QAEL,UAAU,SAAS,KACpB,qBAAC,SAAA,EACC,UAAA;AAAA,UAAA,oBAAC,SAAA,CAAA,CACD;AAAA,UACA,oBAAC,WACE,UAAA,eAAA,CACH;AAAA,QAAA,EAAA,CACF;AAAA,4BAEC,OAAA,EACC,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS;AAAA,YACT,eAAY;AAAA,YAEZ,UAAA;AAAA,cAAA,oBAAC,gBAAA,CAAA,CAAe;AAAA,cACf,MAAM,EAAE,cAAc;AAAA,YAAA;AAAA,UAAA;AAAA,QACzB,EAAA,CACF;AAAA,MAAA;AAAA,IAAA;AAAA,EACF;AAEJ;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"681e0b3080d4effb89e735abebd0878f77572d27"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Yi=function(){return s},s}Yi();Yi().s[0]++;const Vye=n=>{Yi().f[0]++,Yi().s[1]++;const e=()=>{Yi().f[1]++;const g=(Yi().s[2]++,n.mapStyle),_=(Yi().s[3]++,Yi().b[0][0]++,g.state||(Yi().b[0][1]++,{}));return Yi().s[4]++,Object.entries(_).map(([E,O])=>(Yi().f[2]++,Yi().s[5]++,{key:E,value:O.default}))};Yi().s[6]++;const t=g=>{Yi().f[3]++;const _=(Yi().s[7]++,{...n.mapStyle}),E=(Yi().s[8]++,{});Yi().s[9]++;for(const O of g)Yi().s[10]++,O.key.trim()!==""?(Yi().b[1][0]++,Yi().s[11]++,E[O.key]={default:O.value}):Yi().b[1][1]++;Yi().s[12]++,_.state=Object.keys(E).length>0?(Yi().b[2][0]++,E):(Yi().b[2][1]++,void 0),Yi().s[13]++,n.onStyleChanged(_)};Yi().s[14]++;const i=()=>{Yi().f[4]++;const g=(Yi().s[15]++,e());let _=(Yi().s[16]++,1);for(Yi().s[17]++;g.find(E=>(Yi().f[5]++,Yi().s[18]++,E.key===`key${_}`));)Yi().s[19]++,_++;Yi().s[20]++,g.push({key:`key${_}`,value:"value"}),Yi().s[21]++,t(g)};Yi().s[22]++;const r=g=>{Yi().f[6]++;const _=(Yi().s[23]++,e());Yi().s[24]++,_.splice(g,1),Yi().s[25]++,t(_)};Yi().s[26]++;const o=(g,_)=>{Yi().f[7]++;const E=(Yi().s[27]++,e());Yi().s[28]++,E[g].key=(Yi().b[3][0]++,_||(Yi().b[3][1]++,"")),Yi().s[29]++,t(E)};Yi().s[30]++;const s=(g,_)=>{Yi().f[8]++;const E=(Yi().s[31]++,e());Yi().s[32]++,E[g].value=(Yi().b[4][0]++,_||(Yi().b[4][1]++,"")),Yi().s[33]++,t(E)},a=(Yi().s[34]++,e()),p=(Yi().s[35]++,a.map((g,_)=>(Yi().f[9]++,Yi().s[36]++,Ae.jsxs("tr",{children:[Ae.jsx("td",{children:Ae.jsx(Xd,{label:n.t("Key"),value:g.key,onChange:E=>(Yi().f[10]++,Yi().s[37]++,o(_,(Yi().b[5][0]++,E||(Yi().b[5][1]++,"")))),"data-wd-key":"global-state-variable-key:"+_})}),Ae.jsx("td",{children:Ae.jsx(Xd,{label:n.t("Value"),value:g.value,onChange:E=>(Yi().f[11]++,Yi().s[38]++,s(_,(Yi().b[6][0]++,E||(Yi().b[6][1]++,"")))),"data-wd-key":"global-state-variable-value:"+_})}),Ae.jsx("td",{style:{verticalAlign:"middle"},children:Ae.jsx(Gs,{onClick:()=>(Yi().f[12]++,Yi().s[39]++,r(_)),title:n.t("Remove variable"),"data-wd-key":"global-state-remove-variable",children:Ae.jsx(my,{})})})]},_))));return Yi().s[40]++,Ae.jsxs(lg,{"data-wd-key":"modal:global-state",isOpen:n.isOpen,onOpenToggle:n.onOpenToggle,title:n.t("Global State Variables"),children:[(Yi().b[7][0]++,a.length===0&&(Yi().b[7][1]++,Ae.jsxs("div",{children:[Ae.jsx("p",{children:n.t("No global state variables defined. Add variables to create reusable values in your style.")}),Ae.jsx("div",{className:"maputnik-doc-inline",children:Ae.jsx(x4,{fieldSpec:Jo.$root.state})},"doc")]}))),(Yi().b[8][0]++,a.length>0&&(Yi().b[8][1]++,Ae.jsxs("table",{children:[Ae.jsx("thead",{}),Ae.jsx("tbody",{children:p})]}))),Ae.jsx("div",{children:Ae.jsxs(Gs,{onClick:i,"data-wd-key":"global-state-add-variable",children:[Ae.jsx(D4,{}),n.t("Add Variable")]})})]})},$ye=(Yi().s[41]++,is()(Vye));var z1={},x_={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Zye=x_.exports,QL;function Xye(){return QL||(QL=1,function(n,e){(function(t){var i=e&&!e.nodeType&&e,r=n&&!n.nodeType&&n,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,p=36,g=1,_=26,E=38,O=700,B=72,z=128,N="-",Q=/^xn--/,$=/[^\x20-\x7E]/,X=/[\x2E\u3002\uFF0E\uFF61]/g,re={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=p-g,V=Math.floor,J=String.fromCharCode,W;function he(ue){throw new RangeError(re[ue])}function ge(ue,We){for(var tt=ue.length,ke=[];tt--;)ke[tt]=We(ue[tt]);return ke}function ve(ue,We){var tt=ue.split("@"),ke="";tt.length>1&&(ke=tt[0]+"@",ue=tt[1]),ue=ue.replace(X,".");var Et=ue.split("."),gt=ge(Et,We).join(".");return ke+gt}function _e(ue){for(var We=[],tt=0,ke=ue.length,Et,gt;tt<ke;)Et=ue.charCodeAt(tt++),Et>=55296&&Et<=56319&&tt<ke?(gt=ue.charCodeAt(tt++),(gt&64512)==56320?We.push(((Et&1023)<<10)+(gt&1023)+65536):(We.push(Et),tt--)):We.push(Et);return We}function Me(ue){return ge(ue,function(We){var tt="";return We>65535&&(We-=65536,tt+=J(We>>>10&1023|55296),We=56320|We&1023),tt+=J(We),tt}).join("")}function be(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:p}function ze(ue,We){return ue+22+75*(ue<26)-((We!=0)<<5)}function Ce(ue,We,tt){var ke=0;for(ue=tt?V(ue/O):ue>>1,ue+=V(ue/We);ue>ne*_>>1;ke+=p)ue=V(ue/ne);return V(ke+(ne+1)*ue/(ue+E))}function Fe(ue){var We=[],tt=ue.length,ke,Et=0,gt=z,xt=B,Kt,je,Ke,Ue,Ve,bt,vt,It,Yt;for(Kt=ue.lastIndexOf(N),Kt<0&&(Kt=0),je=0;je<Kt;++je)ue.charCodeAt(je)>=128&&he("not-basic"),We.push(ue.charCodeAt(je));for(Ke=Kt>0?Kt+1:0;Ke<tt;){for(Ue=Et,Ve=1,bt=p;Ke>=tt&&he("invalid-input"),vt=be(ue.charCodeAt(Ke++)),(vt>=p||vt>V((a-Et)/Ve))&&he("overflow"),Et+=vt*Ve,It=bt<=xt?g:bt>=xt+_?_:bt-xt,!(vt<It);bt+=p)Yt=p-It,Ve>V(a/Yt)&&he("overflow"),Ve*=Yt;ke=We.length+1,xt=Ce(Et-Ue,ke,Ue==0),V(Et/ke)>a-gt&&he("overflow"),gt+=V(Et/ke),Et%=ke,We.splice(Et++,0,gt)}return Me(We)}function ot(ue){var We,tt,ke,Et,gt,xt,Kt,je,Ke,Ue,Ve,bt=[],vt,It,Yt,Ut;for(ue=_e(ue),vt=ue.length,We=z,tt=0,gt=B,xt=0;xt<vt;++xt)Ve=ue[xt],Ve<128&&bt.push(J(Ve));for(ke=Et=bt.length,Et&&bt.push(N);ke<vt;){for(Kt=a,xt=0;xt<vt;++xt)Ve=ue[xt],Ve>=We&&Ve<Kt&&(Kt=Ve);for(It=ke+1,Kt-We>V((a-tt)/It)&&he("overflow"),tt+=(Kt-We)*It,We=Kt,xt=0;xt<vt;++xt)if(Ve=ue[xt],Ve<We&&++tt>a&&he("overflow"),Ve==We){for(je=tt,Ke=p;Ue=Ke<=gt?g:Ke>=gt+_?_:Ke-gt,!(je<Ue);Ke+=p)Ut=je-Ue,Yt=p-Ue,bt.push(J(ze(Ue+Ut%Yt,0))),je=V(Ut/Yt);bt.push(J(ze(je,0))),gt=Ce(tt,It,ke==Et),tt=0,++ke}++tt,++We}return bt.join("")}function mt(ue){return ve(ue,function(We){return Q.test(We)?Fe(We.slice(4).toLowerCase()):We})}function it(ue){return ve(ue,function(We){return $.test(We)?"xn--"+ot(We):We})}if(s={version:"1.4.1",ucs2:{decode:_e,encode:Me},decode:Fe,encode:ot,toASCII:it,toUnicode:mt},i&&r)if(n.exports==i)r.exports=s;else for(W in s)s.hasOwnProperty(W)&&(i[W]=s[W]);else t.punycode=s})(Zye)}(x_,x_.exports)),x_.exports}var v6,YL;function OC(){return YL||(YL=1,v6=TypeError),v6}const Jye={},eve=Object.freeze(Object.defineProperty({__proto__:null,default:Jye},Symbol.toStringTag,{value:"Module"})),tve=GO(eve);var C6,qL;function Q4(){if(qL)return C6;qL=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,i=n&&Map.prototype.forEach,r=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=r&&o&&typeof o.get=="function"?o.get:null,a=r&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,E=_?WeakSet.prototype.has:null,O=typeof WeakRef=="function"&&WeakRef.prototype,B=O?WeakRef.prototype.deref:null,z=Boolean.prototype.valueOf,N=Object.prototype.toString,Q=Function.prototype.toString,$=String.prototype.match,X=String.prototype.slice,re=String.prototype.replace,ne=String.prototype.toUpperCase,V=String.prototype.toLowerCase,J=RegExp.prototype.test,W=Array.prototype.concat,he=Array.prototype.join,ge=Array.prototype.slice,ve=Math.floor,_e=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ze=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ce=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ze||!0)?Symbol.toStringTag:null,Fe=Object.prototype.propertyIsEnumerable,ot=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(He){return He.__proto__}:null);function mt(He,Re){if(He===1/0||He===-1/0||He!==He||He&&He>-1e3&&He<1e3||J.call(/e/,Re))return Re;var Ze=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof He=="number"){var y=He<0?-ve(-He):ve(He);if(y!==He){var yt=String(y),dt=X.call(Re,yt.length+1);return re.call(yt,Ze,"$&_")+"."+re.call(re.call(dt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return re.call(Re,Ze,"$&_")}var it=tve,ue=it.custom,We=vt(ue)?ue:null,tt={__proto__:null,double:'"',single:"'"},ke={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};C6=function He(Re,Ze,y,yt){var dt=Ze||{};if(Ut(dt,"quoteStyle")&&!Ut(tt,dt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ut(dt,"maxStringLength")&&(typeof dt.maxStringLength=="number"?dt.maxStringLength<0&&dt.maxStringLength!==1/0:dt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var kt=Ut(dt,"customInspect")?dt.customInspect:!0;if(typeof kt!="boolean"&&kt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ut(dt,"indent")&&dt.indent!==null&&dt.indent!=="	"&&!(parseInt(dt.indent,10)===dt.indent&&dt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ut(dt,"numericSeparator")&&typeof dt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var rt=dt.numericSeparator;if(typeof Re>"u")return"undefined";if(Re===null)return"null";if(typeof Re=="boolean")return Re?"true":"false";if(typeof Re=="string")return Lt(Re,dt);if(typeof Re=="number"){if(Re===0)return 1/0/Re>0?"0":"-0";var tn=String(Re);return rt?mt(Re,tn):tn}if(typeof Re=="bigint"){var Rn=String(Re)+"n";return rt?mt(Re,Rn):Rn}var wn=typeof dt.depth>"u"?5:dt.depth;if(typeof y>"u"&&(y=0),y>=wn&&wn>0&&typeof Re=="object")return xt(Re)?"[Array]":"[Object]";var ri=Ie(dt,y);if(typeof yt>"u")yt=[];else if(Wt(yt,Re)>=0)return"[Circular]";function Qn(Rr,Gi,bl){if(Gi&&(yt=ge.call(yt),yt.push(Gi)),bl){var La={depth:dt.depth};return Ut(dt,"quoteStyle")&&(La.quoteStyle=dt.quoteStyle),He(Rr,La,y+1,yt)}return He(Rr,dt,y+1,yt)}if(typeof Re=="function"&&!je(Re)){var $i=Hn(Re),ir=At(Re,Qn);return"[Function"+($i?": "+$i:" (anonymous)")+"]"+(ir.length>0?" { "+he.call(ir,", ")+" }":"")}if(vt(Re)){var Ii=ze?re.call(String(Re),/^(Symbol\(.*\))_[^)]*$/,"$1"):be.call(Re);return typeof Re=="object"&&!ze?de(Ii):Ii}if(Vn(Re)){for(var di="<"+V.call(String(Re.nodeName)),ti=Re.attributes||[],qi=0;qi<ti.length;qi++)di+=" "+ti[qi].name+"="+Et(gt(ti[qi].value),"double",dt);return di+=">",Re.childNodes&&Re.childNodes.length&&(di+="..."),di+="</"+V.call(String(Re.nodeName))+">",di}if(xt(Re)){if(Re.length===0)return"[]";var Sn=At(Re,Qn);return ri&&!me(Sn)?"["+Qe(Sn,ri)+"]":"[ "+he.call(Sn,", ")+" ]"}if(Ke(Re)){var co=At(Re,Qn);return!("cause"in Error.prototype)&&"cause"in Re&&!Fe.call(Re,"cause")?"{ ["+String(Re)+"] "+he.call(W.call("[cause]: "+Qn(Re.cause),co),", ")+" }":co.length===0?"["+String(Re)+"]":"{ ["+String(Re)+"] "+he.call(co,", ")+" }"}if(typeof Re=="object"&&kt){if(We&&typeof Re[We]=="function"&&it)return it(Re,{depth:wn-y});if(kt!=="symbol"&&typeof Re.inspect=="function")return Re.inspect()}if(Gn(Re)){var Zi=[];return i&&i.call(Re,function(Rr,Gi){Zi.push(Qn(Gi,Re,!0)+" => "+Qn(Rr,Re))}),le("Map",t.call(Re),Zi,ri)}if(Tn(Re)){var _a=[];return a&&a.call(Re,function(Rr){_a.push(Qn(Rr,Re))}),le("Set",s.call(Re),_a,ri)}if(On(Re))return oe("WeakMap");if(Oi(Re))return oe("WeakSet");if(Bn(Re))return oe("WeakRef");if(Ve(Re))return de(Qn(Number(Re)));if(It(Re))return de(Qn(_e.call(Re)));if(bt(Re))return de(z.call(Re));if(Ue(Re))return de(Qn(String(Re)));if(typeof window<"u"&&Re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Re===globalThis||typeof window<"u"&&Re===window)return"{ [object globalThis] }";if(!Kt(Re)&&!je(Re)){var Ro=At(Re,Qn),Jn=ot?ot(Re)===Object.prototype:Re instanceof Object||Re.constructor===Object,cr=Re instanceof Object?"":"null prototype",Ni=!Jn&&Ce&&Object(Re)===Re&&Ce in Re?X.call(on(Re),8,-1):cr?"Object":"",br=Jn||typeof Re.constructor!="function"?"":Re.constructor.name?Re.constructor.name+" ":"",Wa=br+(Ni||cr?"["+he.call(W.call([],Ni||[],cr||[]),": ")+"] ":"");return Ro.length===0?Wa+"{}":ri?Wa+"{"+Qe(Ro,ri)+"}":Wa+"{ "+he.call(Ro,", ")+" }"}return String(Re)};function Et(He,Re,Ze){var y=Ze.quoteStyle||Re,yt=tt[y];return yt+He+yt}function gt(He){return re.call(String(He),/"/g,"&quot;")}function xt(He){return on(He)==="[object Array]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function Kt(He){return on(He)==="[object Date]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function je(He){return on(He)==="[object RegExp]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function Ke(He){return on(He)==="[object Error]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function Ue(He){return on(He)==="[object String]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function Ve(He){return on(He)==="[object Number]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function bt(He){return on(He)==="[object Boolean]"&&(!Ce||!(typeof He=="object"&&Ce in He))}function vt(He){if(ze)return He&&typeof He=="object"&&He instanceof Symbol;if(typeof He=="symbol")return!0;if(!He||typeof He!="object"||!be)return!1;try{return be.call(He),!0}catch{}return!1}function It(He){if(!He||typeof He!="object"||!_e)return!1;try{return _e.call(He),!0}catch{}return!1}var Yt=Object.prototype.hasOwnProperty||function(He){return He in this};function Ut(He,Re){return Yt.call(He,Re)}function on(He){return N.call(He)}function Hn(He){if(He.name)return He.name;var Re=$.call(Q.call(He),/^function\s*([\w$]+)/);return Re?Re[1]:null}function Wt(He,Re){if(He.indexOf)return He.indexOf(Re);for(var Ze=0,y=He.length;Ze<y;Ze++)if(He[Ze]===Re)return Ze;return-1}function Gn(He){if(!t||!He||typeof He!="object")return!1;try{t.call(He);try{s.call(He)}catch{return!0}return He instanceof Map}catch{}return!1}function On(He){if(!g||!He||typeof He!="object")return!1;try{g.call(He,g);try{E.call(He,E)}catch{return!0}return He instanceof WeakMap}catch{}return!1}function Bn(He){if(!B||!He||typeof He!="object")return!1;try{return B.call(He),!0}catch{}return!1}function Tn(He){if(!s||!He||typeof He!="object")return!1;try{s.call(He);try{t.call(He)}catch{return!0}return He instanceof Set}catch{}return!1}function Oi(He){if(!E||!He||typeof He!="object")return!1;try{E.call(He,E);try{g.call(He,g)}catch{return!0}return He instanceof WeakSet}catch{}return!1}function Vn(He){return!He||typeof He!="object"?!1:typeof HTMLElement<"u"&&He instanceof HTMLElement?!0:typeof He.nodeName=="string"&&typeof He.getAttribute=="function"}function Lt(He,Re){if(He.length>Re.maxStringLength){var Ze=He.length-Re.maxStringLength,y="... "+Ze+" more character"+(Ze>1?"s":"");return Lt(X.call(He,0,Re.maxStringLength),Re)+y}var yt=ke[Re.quoteStyle||"single"];yt.lastIndex=0;var dt=re.call(re.call(He,yt,"\\$1"),/[\x00-\x1f]/g,De);return Et(dt,"single",Re)}function De(He){var Re=He.charCodeAt(0),Ze={8:"b",9:"t",10:"n",12:"f",13:"r"}[Re];return Ze?"\\"+Ze:"\\x"+(Re<16?"0":"")+ne.call(Re.toString(16))}function de(He){return"Object("+He+")"}function oe(He){return He+" { ? }"}function le(He,Re,Ze,y){var yt=y?Qe(Ze,y):he.call(Ze,", ");return He+" ("+Re+") {"+yt+"}"}function me(He){for(var Re=0;Re<He.length;Re++)if(Wt(He[Re],`
`)>=0)return!1;return!0}function Ie(He,Re){var Ze;if(He.indent==="	")Ze="	";else if(typeof He.indent=="number"&&He.indent>0)Ze=he.call(Array(He.indent+1)," ");else return null;return{base:Ze,prev:he.call(Array(Re+1),Ze)}}function Qe(He,Re){if(He.length===0)return"";var Ze=`
`+Re.prev+Re.base;return Ze+he.call(He,","+Ze)+`
`+Re.prev}function At(He,Re){var Ze=xt(He),y=[];if(Ze){y.length=He.length;for(var yt=0;yt<He.length;yt++)y[yt]=Ut(He,yt)?Re(He[yt],He):""}var dt=typeof Me=="function"?Me(He):[],kt;if(ze){kt={};for(var rt=0;rt<dt.length;rt++)kt["$"+dt[rt]]=dt[rt]}for(var tn in He)Ut(He,tn)&&(Ze&&String(Number(tn))===tn&&tn<He.length||ze&&kt["$"+tn]instanceof Symbol||(J.call(/[^\w$]/,tn)?y.push(Re(tn,He)+": "+Re(He[tn],He)):y.push(tn+": "+Re(He[tn],He))));if(typeof Me=="function")for(var Rn=0;Rn<dt.length;Rn++)Fe.call(He,dt[Rn])&&y.push("["+Re(dt[Rn])+"]: "+Re(He[dt[Rn]],He));return y}return C6}var _6,HL;function nve(){if(HL)return _6;HL=1;var n=Q4(),e=OC(),t=function(a,p,g){for(var _=a,E;(E=_.next)!=null;_=E)if(E.key===p)return _.next=E.next,g||(E.next=a.next,a.next=E),E},i=function(a,p){if(a){var g=t(a,p);return g&&g.value}},r=function(a,p,g){var _=t(a,p);_?_.value=g:a.next={key:p,next:a.next,value:g}},o=function(a,p){return a?!!t(a,p):!1},s=function(a,p){if(a)return t(a,p,!0)};return _6=function(){var p,g={assert:function(_){if(!g.has(_))throw new e("Side channel does not contain "+n(_))},delete:function(_){var E=p&&p.next,O=s(p,_);return O&&E&&E===O&&(p=void 0),!!O},get:function(_){return i(p,_)},has:function(_){return o(p,_)},set:function(_,E){p||(p={next:void 0}),r(p,_,E)}};return g},_6}var b6,VL;function sY(){return VL||(VL=1,b6=Object),b6}var x6,$L;function ive(){return $L||($L=1,x6=Error),x6}var M6,ZL;function rve(){return ZL||(ZL=1,M6=EvalError),M6}var w6,XL;function ove(){return XL||(XL=1,w6=RangeError),w6}var S6,JL;function ave(){return JL||(JL=1,S6=ReferenceError),S6}var E6,eF;function sve(){return eF||(eF=1,E6=SyntaxError),E6}var B6,tF;function lve(){return tF||(tF=1,B6=URIError),B6}var O6,nF;function uve(){return nF||(nF=1,O6=Math.abs),O6}var I6,iF;function Ave(){return iF||(iF=1,I6=Math.floor),I6}var T6,rF;function cve(){return rF||(rF=1,T6=Math.max),T6}var k6,oF;function hve(){return oF||(oF=1,k6=Math.min),k6}var D6,aF;function dve(){return aF||(aF=1,D6=Math.pow),D6}var R6,sF;function fve(){return sF||(sF=1,R6=Math.round),R6}var P6,lF;function pve(){return lF||(lF=1,P6=Number.isNaN||function(e){return e!==e}),P6}var U6,uF;function mve(){if(uF)return U6;uF=1;var n=pve();return U6=function(t){return n(t)||t===0?t:t<0?-1:1},U6}var K6,AF;function gve(){return AF||(AF=1,K6=Object.getOwnPropertyDescriptor),K6}var L6,cF;function lY(){if(cF)return L6;cF=1;var n=gve();if(n)try{n([],"length")}catch{n=null}return L6=n,L6}var F6,hF;function yve(){if(hF)return F6;hF=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return F6=n,F6}var z6,dF;function vve(){return dF||(dF=1,z6=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||a.enumerable!==!0)return!1}return!0}),z6}var j6,fF;function Cve(){if(fF)return j6;fF=1;var n=typeof Symbol<"u"&&Symbol,e=vve();return j6=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},j6}var N6,pF;function uY(){return pF||(pF=1,N6=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),N6}var G6,mF;function AY(){if(mF)return G6;mF=1;var n=sY();return G6=n.getPrototypeOf||null,G6}var W6,gF;function _ve(){if(gF)return W6;gF=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",r=function(p,g){for(var _=[],E=0;E<p.length;E+=1)_[E]=p[E];for(var O=0;O<g.length;O+=1)_[O+p.length]=g[O];return _},o=function(p,g){for(var _=[],E=g,O=0;E<p.length;E+=1,O+=1)_[O]=p[E];return _},s=function(a,p){for(var g="",_=0;_<a.length;_+=1)g+=a[_],_+1<a.length&&(g+=p);return g};return W6=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==i)throw new TypeError(n+g);for(var _=o(arguments,1),E,O=function(){if(this instanceof E){var $=g.apply(this,r(_,arguments));return Object($)===$?$:this}return g.apply(p,r(_,arguments))},B=t(0,g.length-_.length),z=[],N=0;N<B;N++)z[N]="$"+N;if(E=Function("binder","return function ("+s(z,",")+"){ return binder.apply(this,arguments); }")(O),g.prototype){var Q=function(){};Q.prototype=g.prototype,E.prototype=new Q,Q.prototype=null}return E},W6}var Q6,yF;function Y4(){if(yF)return Q6;yF=1;var n=_ve();return Q6=Function.prototype.bind||n,Q6}var Y6,vF;function kI(){return vF||(vF=1,Y6=Function.prototype.call),Y6}var q6,CF;function cY(){return CF||(CF=1,q6=Function.prototype.apply),q6}var H6,_F;function bve(){return _F||(_F=1,H6=typeof Reflect<"u"&&Reflect&&Reflect.apply),H6}var V6,bF;function xve(){if(bF)return V6;bF=1;var n=Y4(),e=cY(),t=kI(),i=bve();return V6=i||n.call(t,e),V6}var $6,xF;function hY(){if(xF)return $6;xF=1;var n=Y4(),e=OC(),t=kI(),i=xve();return $6=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return i(n,t,o)},$6}var Z6,MF;function Mve(){if(MF)return Z6;MF=1;var n=hY(),e=lY(),t;try{t=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var i=!!t&&e&&e(Object.prototype,"__proto__"),r=Object,o=r.getPrototypeOf;return Z6=i&&typeof i.get=="function"?n([i.get]):typeof o=="function"?function(a){return o(a==null?a:r(a))}:!1,Z6}var X6,wF;function wve(){if(wF)return X6;wF=1;var n=uY(),e=AY(),t=Mve();return X6=n?function(r){return n(r)}:e?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return e(r)}:t?function(r){return t(r)}:null,X6}var J6,SF;function Sve(){if(SF)return J6;SF=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Y4();return J6=t.call(n,e),J6}var eB,EF;function DI(){if(EF)return eB;EF=1;var n,e=sY(),t=ive(),i=rve(),r=ove(),o=ave(),s=sve(),a=OC(),p=lve(),g=uve(),_=Ave(),E=cve(),O=hve(),B=dve(),z=fve(),N=mve(),Q=Function,$=function(Ke){try{return Q('"use strict"; return ('+Ke+").constructor;")()}catch{}},X=lY(),re=yve(),ne=function(){throw new a},V=X?function(){try{return arguments.callee,ne}catch{try{return X(arguments,"callee").get}catch{return ne}}}():ne,J=Cve()(),W=wve(),he=AY(),ge=uY(),ve=cY(),_e=kI(),Me={},be=typeof Uint8Array>"u"||!W?n:W(Uint8Array),ze={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":J&&W?W([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":Me,"%AsyncGenerator%":Me,"%AsyncGeneratorFunction%":Me,"%AsyncIteratorPrototype%":Me,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":Q,"%GeneratorFunction%":Me,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J&&W?W(W([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!J||!W?n:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":X,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":r,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!J||!W?n:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":J&&W?W(""[Symbol.iterator]()):n,"%Symbol%":J?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":V,"%TypedArray%":be,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":_e,"%Function.prototype.apply%":ve,"%Object.defineProperty%":re,"%Object.getPrototypeOf%":he,"%Math.abs%":g,"%Math.floor%":_,"%Math.max%":E,"%Math.min%":O,"%Math.pow%":B,"%Math.round%":z,"%Math.sign%":N,"%Reflect.getPrototypeOf%":ge};if(W)try{null.error}catch(Ke){var Ce=W(W(Ke));ze["%Error.prototype%"]=Ce}var Fe=function Ke(Ue){var Ve;if(Ue==="%AsyncFunction%")Ve=$("async function () {}");else if(Ue==="%GeneratorFunction%")Ve=$("function* () {}");else if(Ue==="%AsyncGeneratorFunction%")Ve=$("async function* () {}");else if(Ue==="%AsyncGenerator%"){var bt=Ke("%AsyncGeneratorFunction%");bt&&(Ve=bt.prototype)}else if(Ue==="%AsyncIteratorPrototype%"){var vt=Ke("%AsyncGenerator%");vt&&W&&(Ve=W(vt.prototype))}return ze[Ue]=Ve,Ve},ot={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mt=Y4(),it=Sve(),ue=mt.call(_e,Array.prototype.concat),We=mt.call(ve,Array.prototype.splice),tt=mt.call(_e,String.prototype.replace),ke=mt.call(_e,String.prototype.slice),Et=mt.call(_e,RegExp.prototype.exec),gt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xt=/\\(\\)?/g,Kt=function(Ue){var Ve=ke(Ue,0,1),bt=ke(Ue,-1);if(Ve==="%"&&bt!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(bt==="%"&&Ve!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var vt=[];return tt(Ue,gt,function(It,Yt,Ut,on){vt[vt.length]=Ut?tt(on,xt,"$1"):Yt||It}),vt},je=function(Ue,Ve){var bt=Ue,vt;if(it(ot,bt)&&(vt=ot[bt],bt="%"+vt[0]+"%"),it(ze,bt)){var It=ze[bt];if(It===Me&&(It=Fe(bt)),typeof It>"u"&&!Ve)throw new a("intrinsic "+Ue+" exists, but is not available. Please file an issue!");return{alias:vt,name:bt,value:It}}throw new s("intrinsic "+Ue+" does not exist!")};return eB=function(Ue,Ve){if(typeof Ue!="string"||Ue.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ve!="boolean")throw new a('"allowMissing" argument must be a boolean');if(Et(/^%?[^%]*%?$/,Ue)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var bt=Kt(Ue),vt=bt.length>0?bt[0]:"",It=je("%"+vt+"%",Ve),Yt=It.name,Ut=It.value,on=!1,Hn=It.alias;Hn&&(vt=Hn[0],We(bt,ue([0,1],Hn)));for(var Wt=1,Gn=!0;Wt<bt.length;Wt+=1){var On=bt[Wt],Bn=ke(On,0,1),Tn=ke(On,-1);if((Bn==='"'||Bn==="'"||Bn==="`"||Tn==='"'||Tn==="'"||Tn==="`")&&Bn!==Tn)throw new s("property names with quotes must have matching quotes");if((On==="constructor"||!Gn)&&(on=!0),vt+="."+On,Yt="%"+vt+"%",it(ze,Yt))Ut=ze[Yt];else if(Ut!=null){if(!(On in Ut)){if(!Ve)throw new a("base intrinsic for "+Ue+" exists, but the property is not available.");return}if(X&&Wt+1>=bt.length){var Oi=X(Ut,On);Gn=!!Oi,Gn&&"get"in Oi&&!("originalValue"in Oi.get)?Ut=Oi.get:Ut=Ut[On]}else Gn=it(Ut,On),Ut=Ut[On];Gn&&!on&&(ze[Yt]=Ut)}}return Ut},eB}var tB,BF;function dY(){if(BF)return tB;BF=1;var n=DI(),e=hY(),t=e([n("%String.prototype.indexOf%")]);return tB=function(r,o){var s=n(r,!!o);return typeof s=="function"&&t(r,".prototype.")>-1?e([s]):s},tB}var nB,OF;function fY(){if(OF)return nB;OF=1;var n=DI(),e=dY(),t=Q4(),i=OC(),r=n("%Map%",!0),o=e("Map.prototype.get",!0),s=e("Map.prototype.set",!0),a=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return nB=!!r&&function(){var E,O={assert:function(B){if(!O.has(B))throw new i("Side channel does not contain "+t(B))},delete:function(B){if(E){var z=p(E,B);return g(E)===0&&(E=void 0),z}return!1},get:function(B){if(E)return o(E,B)},has:function(B){return E?a(E,B):!1},set:function(B,z){E||(E=new r),s(E,B,z)}};return O},nB}var iB,IF;function Eve(){if(IF)return iB;IF=1;var n=DI(),e=dY(),t=Q4(),i=fY(),r=OC(),o=n("%WeakMap%",!0),s=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return iB=o?function(){var E,O,B={assert:function(z){if(!B.has(z))throw new r("Side channel does not contain "+t(z))},delete:function(z){if(o&&z&&(typeof z=="object"||typeof z=="function")){if(E)return g(E,z)}else if(i&&O)return O.delete(z);return!1},get:function(z){return o&&z&&(typeof z=="object"||typeof z=="function")&&E?s(E,z):O&&O.get(z)},has:function(z){return o&&z&&(typeof z=="object"||typeof z=="function")&&E?p(E,z):!!O&&O.has(z)},set:function(z,N){o&&z&&(typeof z=="object"||typeof z=="function")?(E||(E=new o),a(E,z,N)):i&&(O||(O=i()),O.set(z,N))}};return B}:i,iB}var rB,TF;function Bve(){if(TF)return rB;TF=1;var n=OC(),e=Q4(),t=nve(),i=fY(),r=Eve(),o=r||i||t;return rB=function(){var a,p={assert:function(g){if(!p.has(g))throw new n("Side channel does not contain "+e(g))},delete:function(g){return!!a&&a.delete(g)},get:function(g){return a&&a.get(g)},has:function(g){return!!a&&a.has(g)},set:function(g,_){a||(a=o()),a.set(g,_)}};return p},rB}var oB,kF;function RI(){if(kF)return oB;kF=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return oB={default:t.RFC3986,formatters:{RFC1738:function(i){return n.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},oB}var aB,DF;function pY(){if(DF)return aB;DF=1;var n=RI(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i=function(){for(var Q=[],$=0;$<256;++$)Q.push("%"+(($<16?"0":"")+$.toString(16)).toUpperCase());return Q}(),r=function($){for(;$.length>1;){var X=$.pop(),re=X.obj[X.prop];if(t(re)){for(var ne=[],V=0;V<re.length;++V)typeof re[V]<"u"&&ne.push(re[V]);X.obj[X.prop]=ne}}},o=function($,X){for(var re=X&&X.plainObjects?{__proto__:null}:{},ne=0;ne<$.length;++ne)typeof $[ne]<"u"&&(re[ne]=$[ne]);return re},s=function Q($,X,re){if(!X)return $;if(typeof X!="object"&&typeof X!="function"){if(t($))$.push(X);else if($&&typeof $=="object")(re&&(re.plainObjects||re.allowPrototypes)||!e.call(Object.prototype,X))&&($[X]=!0);else return[$,X];return $}if(!$||typeof $!="object")return[$].concat(X);var ne=$;return t($)&&!t(X)&&(ne=o($,re)),t($)&&t(X)?(X.forEach(function(V,J){if(e.call($,J)){var W=$[J];W&&typeof W=="object"&&V&&typeof V=="object"?$[J]=Q(W,V,re):$.push(V)}else $[J]=V}),$):Object.keys(X).reduce(function(V,J){var W=X[J];return e.call(V,J)?V[J]=Q(V[J],W,re):V[J]=W,V},ne)},a=function($,X){return Object.keys(X).reduce(function(re,ne){return re[ne]=X[ne],re},$)},p=function(Q,$,X){var re=Q.replace(/\+/g," ");if(X==="iso-8859-1")return re.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(re)}catch{return re}},g=1024,_=function($,X,re,ne,V){if($.length===0)return $;var J=$;if(typeof $=="symbol"?J=Symbol.prototype.toString.call($):typeof $!="string"&&(J=String($)),re==="iso-8859-1")return escape(J).replace(/%u[0-9a-f]{4}/gi,function(be){return"%26%23"+parseInt(be.slice(2),16)+"%3B"});for(var W="",he=0;he<J.length;he+=g){for(var ge=J.length>=g?J.slice(he,he+g):J,ve=[],_e=0;_e<ge.length;++_e){var Me=ge.charCodeAt(_e);if(Me===45||Me===46||Me===95||Me===126||Me>=48&&Me<=57||Me>=65&&Me<=90||Me>=97&&Me<=122||V===n.RFC1738&&(Me===40||Me===41)){ve[ve.length]=ge.charAt(_e);continue}if(Me<128){ve[ve.length]=i[Me];continue}if(Me<2048){ve[ve.length]=i[192|Me>>6]+i[128|Me&63];continue}if(Me<55296||Me>=57344){ve[ve.length]=i[224|Me>>12]+i[128|Me>>6&63]+i[128|Me&63];continue}_e+=1,Me=65536+((Me&1023)<<10|ge.charCodeAt(_e)&1023),ve[ve.length]=i[240|Me>>18]+i[128|Me>>12&63]+i[128|Me>>6&63]+i[128|Me&63]}W+=ve.join("")}return W},E=function($){for(var X=[{obj:{o:$},prop:"o"}],re=[],ne=0;ne<X.length;++ne)for(var V=X[ne],J=V.obj[V.prop],W=Object.keys(J),he=0;he<W.length;++he){var ge=W[he],ve=J[ge];typeof ve=="object"&&ve!==null&&re.indexOf(ve)===-1&&(X.push({obj:J,prop:ge}),re.push(ve))}return r(X),$},O=function($){return Object.prototype.toString.call($)==="[object RegExp]"},B=function($){return!$||typeof $!="object"?!1:!!($.constructor&&$.constructor.isBuffer&&$.constructor.isBuffer($))},z=function($,X){return[].concat($,X)},N=function($,X){if(t($)){for(var re=[],ne=0;ne<$.length;ne+=1)re.push(X($[ne]));return re}return X($)};return aB={arrayToObject:o,assign:a,combine:z,compact:E,decode:p,encode:_,isBuffer:B,isRegExp:O,maybeMap:N,merge:s},aB}var sB,RF;function Ove(){if(RF)return sB;RF=1;var n=Bve(),e=pY(),t=RI(),i=Object.prototype.hasOwnProperty,r={brackets:function(Q){return Q+"[]"},comma:"comma",indices:function(Q,$){return Q+"["+$+"]"},repeat:function(Q){return Q}},o=Array.isArray,s=Array.prototype.push,a=function(N,Q){s.apply(N,o(Q)?Q:[Q])},p=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(Q){return p.call(Q)},skipNulls:!1,strictNullHandling:!1},E=function(Q){return typeof Q=="string"||typeof Q=="number"||typeof Q=="boolean"||typeof Q=="symbol"||typeof Q=="bigint"},O={},B=function N(Q,$,X,re,ne,V,J,W,he,ge,ve,_e,Me,be,ze,Ce,Fe,ot){for(var mt=Q,it=ot,ue=0,We=!1;(it=it.get(O))!==void 0&&!We;){var tt=it.get(Q);if(ue+=1,typeof tt<"u"){if(tt===ue)throw new RangeError("Cyclic object value");We=!0}typeof it.get(O)>"u"&&(ue=0)}if(typeof ge=="function"?mt=ge($,mt):mt instanceof Date?mt=Me(mt):X==="comma"&&o(mt)&&(mt=e.maybeMap(mt,function(Yt){return Yt instanceof Date?Me(Yt):Yt})),mt===null){if(V)return he&&!Ce?he($,_.encoder,Fe,"key",be):$;mt=""}if(E(mt)||e.isBuffer(mt)){if(he){var ke=Ce?$:he($,_.encoder,Fe,"key",be);return[ze(ke)+"="+ze(he(mt,_.encoder,Fe,"value",be))]}return[ze($)+"="+ze(String(mt))]}var Et=[];if(typeof mt>"u")return Et;var gt;if(X==="comma"&&o(mt))Ce&&he&&(mt=e.maybeMap(mt,he)),gt=[{value:mt.length>0?mt.join(",")||null:void 0}];else if(o(ge))gt=ge;else{var xt=Object.keys(mt);gt=ve?xt.sort(ve):xt}var Kt=W?String($).replace(/\./g,"%2E"):String($),je=re&&o(mt)&&mt.length===1?Kt+"[]":Kt;if(ne&&o(mt)&&mt.length===0)return je+"[]";for(var Ke=0;Ke<gt.length;++Ke){var Ue=gt[Ke],Ve=typeof Ue=="object"&&Ue&&typeof Ue.value<"u"?Ue.value:mt[Ue];if(!(J&&Ve===null)){var bt=_e&&W?String(Ue).replace(/\./g,"%2E"):String(Ue),vt=o(mt)?typeof X=="function"?X(je,bt):je:je+(_e?"."+bt:"["+bt+"]");ot.set(Q,ue);var It=n();It.set(O,ot),a(Et,N(Ve,vt,X,re,ne,V,J,W,X==="comma"&&Ce&&o(mt)?null:he,ge,ve,_e,Me,be,ze,Ce,Fe,It))}}return Et},z=function(Q){if(!Q)return _;if(typeof Q.allowEmptyArrays<"u"&&typeof Q.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Q.encodeDotInKeys<"u"&&typeof Q.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(Q.encoder!==null&&typeof Q.encoder<"u"&&typeof Q.encoder!="function")throw new TypeError("Encoder has to be a function.");var $=Q.charset||_.charset;if(typeof Q.charset<"u"&&Q.charset!=="utf-8"&&Q.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var X=t.default;if(typeof Q.format<"u"){if(!i.call(t.formatters,Q.format))throw new TypeError("Unknown format option provided.");X=Q.format}var re=t.formatters[X],ne=_.filter;(typeof Q.filter=="function"||o(Q.filter))&&(ne=Q.filter);var V;if(Q.arrayFormat in r?V=Q.arrayFormat:"indices"in Q?V=Q.indices?"indices":"repeat":V=_.arrayFormat,"commaRoundTrip"in Q&&typeof Q.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var J=typeof Q.allowDots>"u"?Q.encodeDotInKeys===!0?!0:_.allowDots:!!Q.allowDots;return{addQueryPrefix:typeof Q.addQueryPrefix=="boolean"?Q.addQueryPrefix:_.addQueryPrefix,allowDots:J,allowEmptyArrays:typeof Q.allowEmptyArrays=="boolean"?!!Q.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:V,charset:$,charsetSentinel:typeof Q.charsetSentinel=="boolean"?Q.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!Q.commaRoundTrip,delimiter:typeof Q.delimiter>"u"?_.delimiter:Q.delimiter,encode:typeof Q.encode=="boolean"?Q.encode:_.encode,encodeDotInKeys:typeof Q.encodeDotInKeys=="boolean"?Q.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof Q.encoder=="function"?Q.encoder:_.encoder,encodeValuesOnly:typeof Q.encodeValuesOnly=="boolean"?Q.encodeValuesOnly:_.encodeValuesOnly,filter:ne,format:X,formatter:re,serializeDate:typeof Q.serializeDate=="function"?Q.serializeDate:_.serializeDate,skipNulls:typeof Q.skipNulls=="boolean"?Q.skipNulls:_.skipNulls,sort:typeof Q.sort=="function"?Q.sort:null,strictNullHandling:typeof Q.strictNullHandling=="boolean"?Q.strictNullHandling:_.strictNullHandling}};return sB=function(N,Q){var $=N,X=z(Q),re,ne;typeof X.filter=="function"?(ne=X.filter,$=ne("",$)):o(X.filter)&&(ne=X.filter,re=ne);var V=[];if(typeof $!="object"||$===null)return"";var J=r[X.arrayFormat],W=J==="comma"&&X.commaRoundTrip;re||(re=Object.keys($)),X.sort&&re.sort(X.sort);for(var he=n(),ge=0;ge<re.length;++ge){var ve=re[ge],_e=$[ve];X.skipNulls&&_e===null||a(V,B(_e,ve,J,W,X.allowEmptyArrays,X.strictNullHandling,X.skipNulls,X.encodeDotInKeys,X.encode?X.encoder:null,X.filter,X.sort,X.allowDots,X.serializeDate,X.format,X.formatter,X.encodeValuesOnly,X.charset,he))}var Me=V.join(X.delimiter),be=X.addQueryPrefix===!0?"?":"";return X.charsetSentinel&&(X.charset==="iso-8859-1"?be+="utf8=%26%2310003%3B&":be+="utf8=%E2%9C%93&"),Me.length>0?be+Me:""},sB}var lB,PF;function Ive(){if(PF)return lB;PF=1;var n=pY(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},r=function(O){return O.replace(/&#(\d+);/g,function(B,z){return String.fromCharCode(parseInt(z,10))})},o=function(O,B,z){if(O&&typeof O=="string"&&B.comma&&O.indexOf(",")>-1)return O.split(",");if(B.throwOnLimitExceeded&&z>=B.arrayLimit)throw new RangeError("Array limit exceeded. Only "+B.arrayLimit+" element"+(B.arrayLimit===1?"":"s")+" allowed in an array.");return O},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",p=function(B,z){var N={__proto__:null},Q=z.ignoreQueryPrefix?B.replace(/^\?/,""):B;Q=Q.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var $=z.parameterLimit===1/0?void 0:z.parameterLimit,X=Q.split(z.delimiter,z.throwOnLimitExceeded?$+1:$);if(z.throwOnLimitExceeded&&X.length>$)throw new RangeError("Parameter limit exceeded. Only "+$+" parameter"+($===1?"":"s")+" allowed.");var re=-1,ne,V=z.charset;if(z.charsetSentinel)for(ne=0;ne<X.length;++ne)X[ne].indexOf("utf8=")===0&&(X[ne]===a?V="utf-8":X[ne]===s&&(V="iso-8859-1"),re=ne,ne=X.length);for(ne=0;ne<X.length;++ne)if(ne!==re){var J=X[ne],W=J.indexOf("]="),he=W===-1?J.indexOf("="):W+1,ge,ve;he===-1?(ge=z.decoder(J,i.decoder,V,"key"),ve=z.strictNullHandling?null:""):(ge=z.decoder(J.slice(0,he),i.decoder,V,"key"),ve=n.maybeMap(o(J.slice(he+1),z,t(N[ge])?N[ge].length:0),function(Me){return z.decoder(Me,i.decoder,V,"value")})),ve&&z.interpretNumericEntities&&V==="iso-8859-1"&&(ve=r(String(ve))),J.indexOf("[]=")>-1&&(ve=t(ve)?[ve]:ve);var _e=e.call(N,ge);_e&&z.duplicates==="combine"?N[ge]=n.combine(N[ge],ve):(!_e||z.duplicates==="last")&&(N[ge]=ve)}return N},g=function(O,B,z,N){var Q=0;if(O.length>0&&O[O.length-1]==="[]"){var $=O.slice(0,-1).join("");Q=Array.isArray(B)&&B[$]?B[$].length:0}for(var X=N?B:o(B,z,Q),re=O.length-1;re>=0;--re){var ne,V=O[re];if(V==="[]"&&z.parseArrays)ne=z.allowEmptyArrays&&(X===""||z.strictNullHandling&&X===null)?[]:n.combine([],X);else{ne=z.plainObjects?{__proto__:null}:{};var J=V.charAt(0)==="["&&V.charAt(V.length-1)==="]"?V.slice(1,-1):V,W=z.decodeDotInKeys?J.replace(/%2E/g,"."):J,he=parseInt(W,10);!z.parseArrays&&W===""?ne={0:X}:!isNaN(he)&&V!==W&&String(he)===W&&he>=0&&z.parseArrays&&he<=z.arrayLimit?(ne=[],ne[he]=X):W!=="__proto__"&&(ne[W]=X)}X=ne}return X},_=function(B,z,N,Q){if(B){var $=N.allowDots?B.replace(/\.([^.[]+)/g,"[$1]"):B,X=/(\[[^[\]]*])/,re=/(\[[^[\]]*])/g,ne=N.depth>0&&X.exec($),V=ne?$.slice(0,ne.index):$,J=[];if(V){if(!N.plainObjects&&e.call(Object.prototype,V)&&!N.allowPrototypes)return;J.push(V)}for(var W=0;N.depth>0&&(ne=re.exec($))!==null&&W<N.depth;){if(W+=1,!N.plainObjects&&e.call(Object.prototype,ne[1].slice(1,-1))&&!N.allowPrototypes)return;J.push(ne[1])}if(ne){if(N.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+N.depth+" and strictDepth is true");J.push("["+$.slice(ne.index)+"]")}return g(J,z,N,Q)}},E=function(B){if(!B)return i;if(typeof B.allowEmptyArrays<"u"&&typeof B.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof B.decodeDotInKeys<"u"&&typeof B.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(B.decoder!==null&&typeof B.decoder<"u"&&typeof B.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof B.charset<"u"&&B.charset!=="utf-8"&&B.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof B.throwOnLimitExceeded<"u"&&typeof B.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var z=typeof B.charset>"u"?i.charset:B.charset,N=typeof B.duplicates>"u"?i.duplicates:B.duplicates;if(N!=="combine"&&N!=="first"&&N!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var Q=typeof B.allowDots>"u"?B.decodeDotInKeys===!0?!0:i.allowDots:!!B.allowDots;return{allowDots:Q,allowEmptyArrays:typeof B.allowEmptyArrays=="boolean"?!!B.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof B.allowPrototypes=="boolean"?B.allowPrototypes:i.allowPrototypes,allowSparse:typeof B.allowSparse=="boolean"?B.allowSparse:i.allowSparse,arrayLimit:typeof B.arrayLimit=="number"?B.arrayLimit:i.arrayLimit,charset:z,charsetSentinel:typeof B.charsetSentinel=="boolean"?B.charsetSentinel:i.charsetSentinel,comma:typeof B.comma=="boolean"?B.comma:i.comma,decodeDotInKeys:typeof B.decodeDotInKeys=="boolean"?B.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof B.decoder=="function"?B.decoder:i.decoder,delimiter:typeof B.delimiter=="string"||n.isRegExp(B.delimiter)?B.delimiter:i.delimiter,depth:typeof B.depth=="number"||B.depth===!1?+B.depth:i.depth,duplicates:N,ignoreQueryPrefix:B.ignoreQueryPrefix===!0,interpretNumericEntities:typeof B.interpretNumericEntities=="boolean"?B.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof B.parameterLimit=="number"?B.parameterLimit:i.parameterLimit,parseArrays:B.parseArrays!==!1,plainObjects:typeof B.plainObjects=="boolean"?B.plainObjects:i.plainObjects,strictDepth:typeof B.strictDepth=="boolean"?!!B.strictDepth:i.strictDepth,strictNullHandling:typeof B.strictNullHandling=="boolean"?B.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof B.throwOnLimitExceeded=="boolean"?B.throwOnLimitExceeded:!1}};return lB=function(O,B){var z=E(B);if(O===""||O===null||typeof O>"u")return z.plainObjects?{__proto__:null}:{};for(var N=typeof O=="string"?p(O,z):O,Q=z.plainObjects?{__proto__:null}:{},$=Object.keys(N),X=0;X<$.length;++X){var re=$[X],ne=_(re,N[re],z,typeof O=="string");Q=n.merge(Q,ne,z)}return z.allowSparse===!0?Q:n.compact(Q)},lB}var uB,UF;function Tve(){if(UF)return uB;UF=1;var n=Ove(),e=Ive(),t=RI();return uB={formats:t,parse:e,stringify:n},uB}var KF;function kve(){if(KF)return z1;KF=1;var n=Xye();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),a=["'"].concat(s),p=["%","/","?",";","#"].concat(a),g=["/","?","#"],_=255,E=/^[+a-z0-9A-Z_-]{0,63}$/,O=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,B={javascript:!0,"javascript:":!0},z={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Q=Tve();function $(V,J,W){if(V&&typeof V=="object"&&V instanceof e)return V;var he=new e;return he.parse(V,J,W),he}e.prototype.parse=function(V,J,W){if(typeof V!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof V);var he=V.indexOf("?"),ge=he!==-1&&he<V.indexOf("#")?"?":"#",ve=V.split(ge),_e=/\\/g;ve[0]=ve[0].replace(_e,"/"),V=ve.join(ge);var Me=V;if(Me=Me.trim(),!W&&V.split("#").length===1){var be=r.exec(Me);if(be)return this.path=Me,this.href=Me,this.pathname=be[1],be[2]?(this.search=be[2],J?this.query=Q.parse(this.search.substr(1)):this.query=this.search.substr(1)):J&&(this.search="",this.query={}),this}var ze=t.exec(Me);if(ze){ze=ze[0];var Ce=ze.toLowerCase();this.protocol=Ce,Me=Me.substr(ze.length)}if(W||ze||Me.match(/^\/\/[^@/]+@[^@/]+/)){var Fe=Me.substr(0,2)==="//";Fe&&!(ze&&z[ze])&&(Me=Me.substr(2),this.slashes=!0)}if(!z[ze]&&(Fe||ze&&!N[ze])){for(var ot=-1,mt=0;mt<g.length;mt++){var it=Me.indexOf(g[mt]);it!==-1&&(ot===-1||it<ot)&&(ot=it)}var ue,We;ot===-1?We=Me.lastIndexOf("@"):We=Me.lastIndexOf("@",ot),We!==-1&&(ue=Me.slice(0,We),Me=Me.slice(We+1),this.auth=decodeURIComponent(ue)),ot=-1;for(var mt=0;mt<p.length;mt++){var it=Me.indexOf(p[mt]);it!==-1&&(ot===-1||it<ot)&&(ot=it)}ot===-1&&(ot=Me.length),this.host=Me.slice(0,ot),Me=Me.slice(ot),this.parseHost(),this.hostname=this.hostname||"";var tt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!tt)for(var ke=this.hostname.split(/\./),mt=0,Et=ke.length;mt<Et;mt++){var gt=ke[mt];if(gt&&!gt.match(E)){for(var xt="",Kt=0,je=gt.length;Kt<je;Kt++)gt.charCodeAt(Kt)>127?xt+="x":xt+=gt[Kt];if(!xt.match(E)){var Ke=ke.slice(0,mt),Ue=ke.slice(mt+1),Ve=gt.match(O);Ve&&(Ke.push(Ve[1]),Ue.unshift(Ve[2])),Ue.length&&(Me="/"+Ue.join(".")+Me),this.hostname=Ke.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),tt||(this.hostname=n.toASCII(this.hostname));var bt=this.port?":"+this.port:"",vt=this.hostname||"";this.host=vt+bt,this.href+=this.host,tt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Me[0]!=="/"&&(Me="/"+Me))}if(!B[Ce])for(var mt=0,Et=a.length;mt<Et;mt++){var It=a[mt];if(Me.indexOf(It)!==-1){var Yt=encodeURIComponent(It);Yt===It&&(Yt=escape(It)),Me=Me.split(It).join(Yt)}}var Ut=Me.indexOf("#");Ut!==-1&&(this.hash=Me.substr(Ut),Me=Me.slice(0,Ut));var on=Me.indexOf("?");if(on!==-1?(this.search=Me.substr(on),this.query=Me.substr(on+1),J&&(this.query=Q.parse(this.query)),Me=Me.slice(0,on)):J&&(this.search="",this.query={}),Me&&(this.pathname=Me),N[Ce]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var bt=this.pathname||"",Hn=this.search||"";this.path=bt+Hn}return this.href=this.format(),this};function X(V){return typeof V=="string"&&(V=$(V)),V instanceof e?V.format():e.prototype.format.call(V)}e.prototype.format=function(){var V=this.auth||"";V&&(V=encodeURIComponent(V),V=V.replace(/%3A/i,":"),V+="@");var J=this.protocol||"",W=this.pathname||"",he=this.hash||"",ge=!1,ve="";this.host?ge=V+this.host:this.hostname&&(ge=V+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ge+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ve=Q.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var _e=this.search||ve&&"?"+ve||"";return J&&J.substr(-1)!==":"&&(J+=":"),this.slashes||(!J||N[J])&&ge!==!1?(ge="//"+(ge||""),W&&W.charAt(0)!=="/"&&(W="/"+W)):ge||(ge=""),he&&he.charAt(0)!=="#"&&(he="#"+he),_e&&_e.charAt(0)!=="?"&&(_e="?"+_e),W=W.replace(/[?#]/g,function(Me){return encodeURIComponent(Me)}),_e=_e.replace("#","%23"),J+ge+W+_e+he};function re(V,J){return $(V,!1,!0).resolve(J)}e.prototype.resolve=function(V){return this.resolveObject($(V,!1,!0)).format()};function ne(V,J){return V?$(V,!1,!0).resolveObject(J):J}return e.prototype.resolveObject=function(V){if(typeof V=="string"){var J=new e;J.parse(V,!1,!0),V=J}for(var W=new e,he=Object.keys(this),ge=0;ge<he.length;ge++){var ve=he[ge];W[ve]=this[ve]}if(W.hash=V.hash,V.href==="")return W.href=W.format(),W;if(V.slashes&&!V.protocol){for(var _e=Object.keys(V),Me=0;Me<_e.length;Me++){var be=_e[Me];be!=="protocol"&&(W[be]=V[be])}return N[W.protocol]&&W.hostname&&!W.pathname&&(W.pathname="/",W.path=W.pathname),W.href=W.format(),W}if(V.protocol&&V.protocol!==W.protocol){if(!N[V.protocol]){for(var ze=Object.keys(V),Ce=0;Ce<ze.length;Ce++){var Fe=ze[Ce];W[Fe]=V[Fe]}return W.href=W.format(),W}if(W.protocol=V.protocol,!V.host&&!z[V.protocol]){for(var Et=(V.pathname||"").split("/");Et.length&&!(V.host=Et.shift()););V.host||(V.host=""),V.hostname||(V.hostname=""),Et[0]!==""&&Et.unshift(""),Et.length<2&&Et.unshift(""),W.pathname=Et.join("/")}else W.pathname=V.pathname;if(W.search=V.search,W.query=V.query,W.host=V.host||"",W.auth=V.auth,W.hostname=V.hostname||V.host,W.port=V.port,W.pathname||W.search){var ot=W.pathname||"",mt=W.search||"";W.path=ot+mt}return W.slashes=W.slashes||V.slashes,W.href=W.format(),W}var it=W.pathname&&W.pathname.charAt(0)==="/",ue=V.host||V.pathname&&V.pathname.charAt(0)==="/",We=ue||it||W.host&&V.pathname,tt=We,ke=W.pathname&&W.pathname.split("/")||[],Et=V.pathname&&V.pathname.split("/")||[],gt=W.protocol&&!N[W.protocol];if(gt&&(W.hostname="",W.port=null,W.host&&(ke[0]===""?ke[0]=W.host:ke.unshift(W.host)),W.host="",V.protocol&&(V.hostname=null,V.port=null,V.host&&(Et[0]===""?Et[0]=V.host:Et.unshift(V.host)),V.host=null),We=We&&(Et[0]===""||ke[0]==="")),ue)W.host=V.host||V.host===""?V.host:W.host,W.hostname=V.hostname||V.hostname===""?V.hostname:W.hostname,W.search=V.search,W.query=V.query,ke=Et;else if(Et.length)ke||(ke=[]),ke.pop(),ke=ke.concat(Et),W.search=V.search,W.query=V.query;else if(V.search!=null){if(gt){W.host=ke.shift(),W.hostname=W.host;var xt=W.host&&W.host.indexOf("@")>0?W.host.split("@"):!1;xt&&(W.auth=xt.shift(),W.hostname=xt.shift(),W.host=W.hostname)}return W.search=V.search,W.query=V.query,(W.pathname!==null||W.search!==null)&&(W.path=(W.pathname?W.pathname:"")+(W.search?W.search:"")),W.href=W.format(),W}if(!ke.length)return W.pathname=null,W.search?W.path="/"+W.search:W.path=null,W.href=W.format(),W;for(var Kt=ke.slice(-1)[0],je=(W.host||V.host||ke.length>1)&&(Kt==="."||Kt==="..")||Kt==="",Ke=0,Ue=ke.length;Ue>=0;Ue--)Kt=ke[Ue],Kt==="."?ke.splice(Ue,1):Kt===".."?(ke.splice(Ue,1),Ke++):Ke&&(ke.splice(Ue,1),Ke--);if(!We&&!tt)for(;Ke--;Ke)ke.unshift("..");We&&ke[0]!==""&&(!ke[0]||ke[0].charAt(0)!=="/")&&ke.unshift(""),je&&ke.join("/").substr(-1)!=="/"&&ke.push("");var Ve=ke[0]===""||ke[0]&&ke[0].charAt(0)==="/";if(gt){W.hostname=Ve?"":ke.length?ke.shift():"",W.host=W.hostname;var xt=W.host&&W.host.indexOf("@")>0?W.host.split("@"):!1;xt&&(W.auth=xt.shift(),W.hostname=xt.shift(),W.host=W.hostname)}return We=We||W.host&&ke.length,We&&!Ve&&ke.unshift(""),ke.length>0?W.pathname=ke.join("/"):(W.pathname=null,W.path=null),(W.pathname!==null||W.search!==null)&&(W.path=(W.pathname?W.pathname:"")+(W.search?W.search:"")),W.auth=V.auth||W.auth,W.slashes=W.slashes||V.slashes,W.href=W.format(),W},e.prototype.parseHost=function(){var V=this.host,J=i.exec(V);J&&(J=J[0],J!==":"&&(this.port=J.substr(1)),V=V.substr(0,V.length-J.length)),V&&(this.hostname=V)},z1.parse=$,z1.resolve=re,z1.resolveObject=ne,z1.format=X,z1.Url=e,z1}var Dve=kve();const LF=Bu(Dve);function Ba(){var n="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",e="370277aff056c0894d7ae34686219318414cc635",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:16,column:5}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:60}},3:{start:{line:10,column:4},end:{line:10,column:27}},4:{start:{line:12,column:4},end:{line:12,column:13}},5:{start:{line:14,column:4},end:{line:14,column:95}},6:{start:{line:15,column:4},end:{line:15,column:21}},7:{start:{line:19,column:2},end:{line:19,column:34}},8:{start:{line:19,column:20},end:{line:19,column:34}},9:{start:{line:20,column:17},end:{line:20,column:42}},10:{start:{line:21,column:23},end:{line:21,column:57}},11:{start:{line:22,column:2},end:{line:26,column:3}},12:{start:{line:23,column:4},end:{line:23,column:41}},13:{start:{line:25,column:4},end:{line:25,column:69}},14:{start:{line:27,column:14},end:{line:27,column:35}},15:{start:{line:28,column:2},end:{line:28,column:24}},16:{start:{line:31,column:2},end:{line:31,column:30}},17:{start:{line:31,column:16},end:{line:31,column:30}},18:{start:{line:32,column:14},end:{line:32,column:31}},19:{start:{line:33,column:2},end:{line:33,column:57}},20:{start:{line:33,column:32},end:{line:33,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:17,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:24},end:{line:11,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:20},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:11},end:{line:13,column:12}},loc:{start:{line:13,column:17},end:{line:16,column:3}},line:13},4:{name:"downloadGlyphsMetadata",decl:{start:{line:18,column:16},end:{line:18,column:38}},loc:{start:{line:18,column:56},end:{line:29,column:1}},line:18},5:{name:"downloadSpriteMetadata",decl:{start:{line:30,column:16},end:{line:30,column:38}},loc:{start:{line:30,column:52},end:{line:34,column:1}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:33,column:20},end:{line:33,column:21}},loc:{start:{line:33,column:32},end:{line:33,column:55}},line:33}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:19,column:2},end:{line:19,column:34}},type:"if",locations:[{start:{line:19,column:2},end:{line:19,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:22,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:26,column:3}},{start:{line:24,column:9},end:{line:26,column:3}}],line:22},3:{loc:{start:{line:31,column:2},end:{line:31,column:30}},type:"if",locations:[{start:{line:31,column:2},end:{line:31,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,CAAC,aAAa;AAClB,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,MAAM,iCAAiC,GAAG;AAAA,IACtD;AACA,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,MAAM;AACX,YAAQ,KAAK,+BAA+B,MAAM,2BAA2B,YAAY;AACzF,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC,YAAa,QAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC,QAAS,QAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"370277aff056c0894d7ae34686219318414cc635"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Ba=function(){return s},s}Ba();function mY(n,e,t){Ba().f[0]++,Ba().s[0]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(i=>{if(Ba().f[1]++,Ba().s[1]++,i.ok)Ba().b[0][1]++;else throw Ba().b[0][0]++,Ba().s[2]++,new Error("Failed to load metadata for "+n);return Ba().s[3]++,i.json()}).then(i=>{Ba().f[2]++,Ba().s[4]++,t(i)}).catch(()=>{Ba().f[3]++,Ba().s[5]++,console.warn("Can not load metadata for "+n+", using default value "+e),Ba().s[6]++,t(e)})}function Rve(n,e){if(Ba().f[4]++,Ba().s[7]++,n)Ba().b[1][1]++;else return Ba().b[1][0]++,Ba().s[8]++,e([]);const t=(Ba().s[9]++,LF.parse(n)),i=(Ba().s[10]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");Ba().s[11]++,t.pathname===i?(Ba().b[2][0]++,Ba().s[12]++,t.pathname="/fontstacks.json"):(Ba().b[2][1]++,Ba().s[13]++,t.pathname=t.pathname.replace(i,".json"));const r=(Ba().s[14]++,LF.format(t));Ba().s[15]++,mY(r,[],e)}function Pve(n,e){if(Ba().f[5]++,Ba().s[16]++,n)Ba().b[3][1]++;else return Ba().b[3][0]++,Ba().s[17]++,e([]);const t=(Ba().s[18]++,n+".json");Ba().s[19]++,mY(t,{},i=>(Ba().f[6]++,Ba().s[20]++,e(Object.keys(i))))}function xd(){var n="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",e="f92fa2abb31199d99fd3ae02d967dc6702faf862",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return xd=function(){return s},s}xd();function gY(n,e){xd().f[0]++;const t=(xd().s[0]++,r$(n,e));return xd().s[1]++,t.map(i=>(xd().f[1]++,xd().s[2]++,i.command+" "+i.args.join(" ")))}function Uve(n,e){return xd().f[2]++,xd().s[3]++,gY(n,e).map(t=>(xd().f[3]++,xd().s[4]++,"Undo "+t))}function Kve(n,e){return xd().f[4]++,xd().s[5]++,gY(n,e).map(t=>(xd().f[5]++,xd().s[6]++,"Redo "+t))}function Bc(){var n="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",e="d72dae9738057e855ea98626011f8090b99877cc",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:19},end:{line:4,column:55}},2:{start:{line:5,column:2},end:{line:8,column:3}},3:{start:{line:6,column:4},end:{line:6,column:44}},4:{start:{line:7,column:4},end:{line:7,column:75}},5:{start:{line:9,column:2},end:{line:9,column:18}},6:{start:{line:12,column:2},end:{line:12,column:41}},7:{start:{line:13,column:2},end:{line:23,column:3}},8:{start:{line:14,column:21},end:{line:17,column:6}},9:{start:{line:18,column:17},end:{line:18,column:38}},10:{start:{line:19,column:4},end:{line:19,column:43}},11:{start:{line:21,column:4},end:{line:21,column:63}},12:{start:{line:22,column:4},end:{line:22,column:28}}},fnMap:{0:{name:"getStyleUrlFromAddressbarAndRemoveItIfNeeded",decl:{start:{line:2,column:16},end:{line:2,column:60}},loc:{start:{line:2,column:63},end:{line:10,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:11,column:22},end:{line:11,column:34}},loc:{start:{line:11,column:45},end:{line:24,column:1}},line:11}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAGX,gBAAS,+CAA8D;AAC5E,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,QAAM,WAAW,WAAW,aAAa,IAAI,OAAO;AACpD,MAAI,UAAU;AACZ,eAAW,aAAa,OAAO,OAAO;AACtC,WAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AAAA,EACvE;AACA,SAAO;AACT;AAEA,sBAAsB,aAAa,UAAqD;AACtF,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,MAAI;AACF,UAAM,WAAW,MAAM,MAAM,UAAU;AAAA,MACrC,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC;AACD,UAAM,OAAO,MAAM,SAAS,KAAK;AACjC,WAAO,MAAM,oBAAoB,IAAI;AAAA,EACvC,QAAQ;AACN,YAAQ,KAAK,oCAAoC,QAAQ;AACzD,WAAO,MAAM;AAAA,EACf;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d72dae9738057e855ea98626011f8090b99877cc"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Bc=function(){return s},s}Bc();function Lve(){Bc().f[0]++;const n=(Bc().s[0]++,new URL(window.location.href)),e=(Bc().s[1]++,n.searchParams.get("style"));return Bc().s[2]++,e?(Bc().b[0][0]++,Bc().s[3]++,n.searchParams.delete("style"),Bc().s[4]++,window.history.replaceState({},document.title,n.toString())):Bc().b[0][1]++,Bc().s[5]++,e}async function yY(n){Bc().f[1]++,Bc().s[6]++,console.log("Loading style",n),Bc().s[7]++;try{const e=(Bc().s[8]++,await fetch(n,{mode:"cors",credentials:"same-origin"})),t=(Bc().s[9]++,await e.json());return Bc().s[10]++,af.ensureStyleValidity(t)}catch{return Bc().s[11]++,console.warn("Could not fetch default style: "+n),Bc().s[12]++,af.emptyStyle}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jO=function(n,e){return jO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},jO(n,e)};function vY(n,e){jO(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Fve(n){var e=typeof Symbol=="function"&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function zve(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o}function jve(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(zve(arguments[e]));return n}var CY=function(){function n(e,t){this.target=t,this.type=e}return n}(),Nve=function(n){vY(e,n);function e(t,i){var r=n.call(this,"error",i)||this;return r.message=t.message,r.error=t,r}return e}(CY),Gve=function(n){vY(e,n);function e(t,i,r){t===void 0&&(t=1e3),i===void 0&&(i="");var o=n.call(this,"close",r)||this;return o.wasClean=!0,o.code=t,o.reason=i,o}return e}(CY);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var Wve=function(){if(typeof WebSocket<"u")return WebSocket},Qve=function(n){return typeof n<"u"&&!!n&&n.CLOSING===2},j1={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0};(function(){function n(e,t,i){var r=this;i===void 0&&(i={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){r._debug("open event");var s=r._options.minUptime,a=s===void 0?j1.minUptime:s;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout(function(){return r._acceptOpen()},a),r._ws.binaryType=r._binaryType,r._messageQueue.forEach(function(p){return r._ws.send(p)}),r._messageQueue=[],r.onopen&&r.onopen(o),r._listeners.open.forEach(function(p){return r._callEventListener(o,p)})},this._handleMessage=function(o){r._debug("message event"),r.onmessage&&r.onmessage(o),r._listeners.message.forEach(function(s){return r._callEventListener(o,s)})},this._handleError=function(o){r._debug("error event",o.message),r._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),r.onerror&&r.onerror(o),r._debug("exec error listeners"),r._listeners.error.forEach(function(s){return r._callEventListener(o,s)}),r._connect()},this._handleClose=function(o){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(o),r._listeners.close.forEach(function(s){return r._callEventListener(o,s)})},this._url=e,this._protocols=t,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(n,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CONNECTING",{get:function(){return n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OPEN",{get:function(){return n.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSING",{get:function(){return n.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSED",{get:function(){return n.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(t,i){return typeof i=="string"?t+=i.length:i instanceof Blob?t+=i.size:t+=i.byteLength,t},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?n.CLOSED:n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),n.prototype.close=function(e,t){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,t)},n.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,t),this._connect())},n.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,i=t===void 0?j1.maxEnqueuedMessages:t;this._messageQueue.length<i&&(this._debug("enqueue",e),this._messageQueue.push(e))}},n.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},n.prototype.dispatchEvent=function(e){var t,i,r=this._listeners[e.type];if(r)try{for(var o=Fve(r),s=o.next();!s.done;s=o.next()){var a=s.value;this._callEventListener(e,a)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!0},n.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(i){return i!==t}))},n.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,jve(["RWS>"],e))},n.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,i=t===void 0?j1.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,o=r===void 0?j1.minReconnectionDelay:r,s=e.maxReconnectionDelay,a=s===void 0?j1.maxReconnectionDelay:s,p=0;return this._retryCount>0&&(p=o*Math.pow(i,this._retryCount-1),p>a&&(p=a)),this._debug("next delay",p),p},n.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},n.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var t=e();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},n.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,i=t.maxRetries,r=i===void 0?j1.maxRetries:i,o=t.connectionTimeout,s=o===void 0?j1.connectionTimeout:o,a=t.WebSocket,p=a===void 0?Wve():a;if(this._retryCount>=r){this._debug("max retries reached",this._retryCount,">=",r);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!Qve(p))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(g){e._closeCalled||(e._debug("connect",{url:g,protocols:e._protocols}),e._ws=e._protocols?new p(g,e._protocols):new p(g),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},s))})}},n.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new Nve(Error("TIMEOUT"),this))},n.prototype._disconnect=function(e,t){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new Gve(e,t,this))}catch{}}},n.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},n.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},n.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},n.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},n.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},n})();function _Y(){var n="/home/runner/work/maputnik/maputnik/src/libs/store/apistore.ts",e="511b7cd31edca7d05c4852901896ddb82085d1f5",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/store/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:37}},3:{start:{line:13,column:17},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:27,column:5}},8:{start:{line:20,column:23},end:{line:20,column:79}},9:{start:{line:21,column:19},end:{line:21,column:40}},10:{start:{line:22,column:23},end:{line:22,column:27}},11:{start:{line:23,column:6},end:{line:23,column:39}},12:{start:{line:24,column:6},end:{line:24,column:32}},13:{start:{line:26,column:6},end:{line:26,column:54}},14:{start:{line:30,column:23},end:{line:30,column:67}},15:{start:{line:31,column:4},end:{line:42,column:6}},16:{start:{line:32,column:6},end:{line:32,column:26}},17:{start:{line:32,column:19},end:{line:32,column:26}},18:{start:{line:33,column:6},end:{line:33,column:52}},19:{start:{line:34,column:24},end:{line:34,column:40}},20:{start:{line:35,column:6},end:{line:39,column:7}},21:{start:{line:36,column:8},end:{line:36,column:41}},22:{start:{line:38,column:8},end:{line:38,column:27}},23:{start:{line:40,column:27},end:{line:40,column:65}},24:{start:{line:41,column:6},end:{line:41,column:44}},25:{start:{line:45,column:4},end:{line:53,column:5}},26:{start:{line:46,column:23},end:{line:48,column:8}},27:{start:{line:49,column:19},end:{line:49,column:40}},28:{start:{line:50,column:6},end:{line:50,column:45}},29:{start:{line:52,column:6},end:{line:52,column:92}},30:{start:{line:57,column:22},end:{line:61,column:5}},31:{start:{line:62,column:15},end:{line:62,column:26}},32:{start:{line:63,column:4},end:{line:72,column:7}},33:{start:{line:71,column:6},end:{line:71,column:38}},34:{start:{line:71,column:17},end:{line:71,column:38}},35:{start:{line:73,column:4},end:{line:73,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:28,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:23},end:{line:43,column:3}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:31,column:27},end:{line:31,column:28}},loc:{start:{line:31,column:34},end:{line:42,column:5}},line:31},5:{name:"(anonymous_5)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:25},end:{line:54,column:3}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:17},end:{line:74,column:3}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:70,column:13},end:{line:70,column:14}},loc:{start:{line:70,column:29},end:{line:72,column:5}},line:70}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:32,column:6},end:{line:32,column:26}},type:"if",locations:[{start:{line:32,column:6},end:{line:32,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},2:{loc:{start:{line:45,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:53,column:5}},{start:{line:51,column:11},end:{line:53,column:5}}],line:45},3:{loc:{start:{line:71,column:6},end:{line:71,column:38}},type:"if",locations:[{start:{line:71,column:6},end:{line:71,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/store/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,2BAA2B;AAO3B,aAAM,cAAqC;AAAA,EAEhD;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,OAAO,SAAS;AAC7B,UAAM,OAAO;AACb,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,MAAM,OAAsB;AAC1B,QAAI;AACF,YAAM,WAAW,MAAM,MAAM,KAAK,WAAW,WAAW,EAAC,MAAM,OAAM,CAAC;AACtE,YAAM,OAAO,MAAM,SAAS,KAAK;AACjC,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AAAA,IAC1B,QAAQ;AACN,YAAM,IAAI,MAAM,8BAA8B;AAAA,IAChD;AAAA,EACF;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE,KAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,MAAM,iBAAoD;AACxD,QAAG,KAAK,eAAe;AACrB,YAAM,WAAW,MAAM,MAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QAC5E,MAAM;AAAA,MACR,CAAC;AACD,YAAM,OAAO,MAAM,SAAS,KAAK;AACjC,aAAO,MAAM,oBAAoB,IAAI;AAAA,IACvC,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAAoC;AACvC,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG,MAAO,SAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"511b7cd31edca7d05c4852901896ddb82085d1f5"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return _Y=function(){return s},s}_Y();function ji(){var n="/home/runner/work/maputnik/maputnik/src/libs/store/stylestore.ts",e="1506dd6f3469e4801b7fd940c02682bf4ad7b098",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/store/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:39}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:51,column:4},end:{line:56,column:5}},22:{start:{line:51,column:17},end:{line:51,column:18}},23:{start:{line:52,column:18},end:{line:52,column:44}},24:{start:{line:53,column:6},end:{line:55,column:7}},25:{start:{line:54,column:8},end:{line:54,column:44}},26:{start:{line:60,column:4},end:{line:62,column:5}},27:{start:{line:61,column:6},end:{line:61,column:32}},28:{start:{line:63,column:20},end:{line:63,column:67}},29:{start:{line:64,column:22},end:{line:64,column:68}},30:{start:{line:65,column:4},end:{line:67,column:5}},31:{start:{line:66,column:6},end:{line:66,column:35}},32:{start:{line:68,column:4},end:{line:68,column:30}},33:{start:{line:72,column:4},end:{line:72,column:51}},34:{start:{line:73,column:16},end:{line:73,column:37}},35:{start:{line:74,column:19},end:{line:77,column:5}},36:{start:{line:75,column:6},end:{line:75,column:65}},37:{start:{line:76,column:6},end:{line:76,column:67}},38:{start:{line:78,column:4},end:{line:89,column:5}},39:{start:{line:79,column:6},end:{line:79,column:15}},40:{start:{line:81,column:6},end:{line:88,column:7}},41:{start:{line:84,column:8},end:{line:84,column:21}},42:{start:{line:85,column:8},end:{line:85,column:17}},43:{start:{line:87,column:8},end:{line:87,column:16}},44:{start:{line:90,column:4},end:{line:90,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:35},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:10},end:{line:57,column:3}},line:50},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:25},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:17},end:{line:91,column:3}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:74,column:19},end:{line:74,column:20}},loc:{start:{line:74,column:25},end:{line:77,column:5}},line:74}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:53,column:6},end:{line:55,column:7}},type:"if",locations:[{start:{line:53,column:6},end:{line:55,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},4:{loc:{start:{line:60,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:62,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},5:{loc:{start:{line:65,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:67,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},6:{loc:{start:{line:81,column:6},end:{line:88,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:88,column:7}},{start:{line:86,column:13},end:{line:88,column:7}}],line:81},7:{loc:{start:{line:81,column:10},end:{line:83,column:81}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:35}},{start:{line:81,column:40},end:{line:81,column:53}},{start:{line:82,column:6},end:{line:82,column:21}},{start:{line:83,column:6},end:{line:83,column:37}},{start:{line:83,column:41},end:{line:83,column:80}}],line:81}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/store/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,mBAAsD;AACpE,SAAO,aAAa,eAAe;AACrC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAkC;AAAA;AAAA;AAAA;AAAA,EAI7C;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,MAAM,iBAAoD;AACxD,QAAG,KAAK,UAAU,WAAW,GAAG;AAC9B,aAAO,iBAAiB;AAAA,IAC1B;AACA,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAI,WAAW;AACb,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AACA,WAAO,iBAAiB;AAAA,EAC1B;AAAA;AAAA,EAGA,KAAK,UAAoC;AACvC,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAEhC,UAAM,SAAS,MAAM;AACnB,aAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,aAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAAA,IAC7D;AAEA,QAAI;AACF,aAAO;AAAA,IACT,SAAS,GAAG;AAEV,UAAI,aAAa,iBACf,EAAE,SAAS;AAAA,MACX,EAAE,SAAS;AAAA,MACX,EAAE,SAAS,wBACX,EAAE,SAAS,+BACV;AACD,aAAK,MAAM;AACX,eAAO;AAAA,MACT,OAAO;AACL,cAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1506dd6f3469e4801b7fd940c02682bf4ad7b098"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return ji=function(){return s},s}ji();const q4=(ji().s[0]++,"maputnik"),bY=(ji().s[1]++,"style"),FF=(ji().s[2]++,{latest:[q4,"latest_style"].join(":")}),Yve=(ji().s[3]++,aY[0].url);function zF(){return ji().f[0]++,ji().s[4]++,yY(Yve)}function qve(){ji().f[1]++;const n=(ji().s[5]++,[]);ji().s[6]++;for(let e=(ji().s[7]++,0);e<window.localStorage.length;e++){const t=(ji().s[8]++,window.localStorage.key(e));ji().s[9]++,xY(t)?(ji().b[0][0]++,ji().s[10]++,n.push(Hve(t))):ji().b[0][1]++}return ji().s[11]++,n}function xY(n){ji().f[2]++;const e=(ji().s[12]++,n.split(":"));return ji().s[13]++,ji().b[1][0]++,e.length===3&&(ji().b[1][1]++,e[0]===q4)&&(ji().b[1][2]++,e[1]===bY)}function Hve(n){if(ji().f[3]++,ji().s[14]++,xY(n))ji().b[2][1]++;else throw ji().b[2][0]++,ji().s[15]++,"Key is not a valid style key";const e=(ji().s[16]++,n.split(":")),t=(ji().s[17]++,e[2]);return ji().s[18]++,t}function jF(n){return ji().f[4]++,ji().s[19]++,[q4,bY,n].join(":")}class Vve{mapStyles;constructor(){ji().f[5]++,ji().s[20]++,this.mapStyles=qve()}purge(){ji().f[6]++,ji().s[21]++;for(let e=(ji().s[22]++,0);e<window.localStorage.length;e++){const t=(ji().s[23]++,window.localStorage.key(e));ji().s[24]++,t.startsWith(q4)?(ji().b[3][0]++,ji().s[25]++,window.localStorage.removeItem(t)):ji().b[3][1]++}}async getLatestStyle(){if(ji().f[7]++,ji().s[26]++,this.mapStyles.length===0)return ji().b[4][0]++,ji().s[27]++,zF();ji().b[4][1]++;const e=(ji().s[28]++,window.localStorage.getItem(FF.latest)),t=(ji().s[29]++,window.localStorage.getItem(jF(e)));return ji().s[30]++,t?(ji().b[5][0]++,ji().s[31]++,JSON.parse(t)):(ji().b[5][1]++,ji().s[32]++,zF())}save(e){ji().f[8]++,ji().s[33]++,e=af.ensureStyleValidity(e);const t=(ji().s[34]++,jF(e.id));ji().s[35]++;const i=()=>{ji().f[9]++,ji().s[36]++,window.localStorage.setItem(t,JSON.stringify(e)),ji().s[37]++,window.localStorage.setItem(FF.latest,e.id)};ji().s[38]++;try{ji().s[39]++,i()}catch(r){if(ji().s[40]++,ji().b[7][0]++,r instanceof DOMException&&(ji().b[7][1]++,r.code===22||(ji().b[7][2]++,r.code===1014)||(ji().b[7][3]++,r.name==="QuotaExceededError")||(ji().b[7][4]++,r.name==="NS_ERROR_DOM_QUOTA_REACHED")))ji().b[6][0]++,ji().s[41]++,this.purge(),ji().s[42]++,i();else throw ji().b[6][1]++,ji().s[43]++,r}return ji().s[44]++,e}}function _d(){var n="/home/runner/work/maputnik/maputnik/src/libs/store/style-store-factory.ts",e="2de8d55bfe17551e08818e39ce7b23b7139f970e",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/store/style-store-factory.ts",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:65}},1:{start:{line:6,column:22},end:{line:6,column:118}},2:{start:{line:8,column:2},end:{line:20,column:3}},3:{start:{line:9,column:26},end:{line:11,column:6}},4:{start:{line:10,column:40},end:{line:10,column:81}},5:{start:{line:12,column:4},end:{line:17,column:5}},6:{start:{line:13,column:6},end:{line:13,column:33}},7:{start:{line:14,column:6},end:{line:14,column:33}},8:{start:{line:16,column:6},end:{line:16,column:36}},9:{start:{line:19,column:4},end:{line:19,column:34}},10:{start:{line:21,column:22},end:{line:21,column:100}},11:{start:{line:22,column:2},end:{line:22,column:66}},12:{start:{line:23,column:2},end:{line:23,column:20}}},fnMap:{0:{name:"createStyleStore",decl:{start:{line:4,column:22},end:{line:4,column:38}},loc:{start:{line:4,column:55},end:{line:24,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:10,column:26},end:{line:10,column:27}},loc:{start:{line:10,column:40},end:{line:10,column:81}},line:10}},branchMap:{0:{loc:{start:{line:6,column:22},end:{line:6,column:118}},type:"binary-expr",locations:[{start:{line:6,column:22},end:{line:6,column:30}},{start:{line:6,column:34},end:{line:6,column:118}}],line:6},1:{loc:{start:{line:8,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:20,column:3}},{start:{line:18,column:9},end:{line:20,column:3}}],line:8},2:{loc:{start:{line:21,column:22},end:{line:21,column:100}},type:"cond-expr",locations:[{start:{line:21,column:36},end:{line:21,column:64}},{start:{line:21,column:67},end:{line:21,column:100}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/store/style-store-factory.ts"],names:[],mappings:"AAEA,SAAS,8CAA8C,oBAAoB;AAC3E,SAAS,qBAAqB;AAC9B,SAAS,kBAAkB;AAE3B,sBAAsB,iBAAiB,gBAA8D;AACnG,QAAM,WAAW,6CAA6C;AAC9D,QAAM,cAAc,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B;AACnH,MAAI;AACJ,MAAI,OAAoD;AACtD,UAAM,gBAAgB,IAAI,cAAc;AAAA,MACtC,oBAAoB,CAAA,aAAY,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,IACxE,CAAC;AACD,QAAI;AACF,YAAM,cAAc,KAAK;AACzB,mBAAa;AAAA,IACf,QAAQ;AACN,mBAAa,IAAI,WAAW;AAAA,IAC9B;AAAA,EACF,OAAO;AACL,iBAAa,IAAI,WAAW;AAAA,EAC9B;AACA,QAAM,cAAc,cAAc,MAAM,aAAa,QAAQ,IAAI,MAAM,WAAW,eAAe;AACjG,iBAAe,aAAa,EAAC,aAAa,MAAM,MAAM,MAAK,CAAC;AAC5D,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2de8d55bfe17551e08818e39ce7b23b7139f970e"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return _d=function(){return s},s}_d();async function $ve(n){_d().f[0]++;const e=(_d().s[0]++,Lve()),t=(_d().s[1]++,_d().b[0][0]++,e&&(_d().b[0][1]++,window.confirm("Load style from URL: "+e+" and discard current changes?")));let i;_d().s[2]++,_d().b[1][1]++,_d().s[9]++,i=new Vve;const r=(_d().s[10]++,t?(_d().b[2][0]++,await yY(e)):(_d().b[2][1]++,await i.getLatestStyle()));return _d().s[11]++,n(r,{initialLoad:!0,save:!1}),_d().s[12]++,i}function zl(){var n="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",e="2443d70bd38cc3b176918d5f84a8a7d35a1ef2fe",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAAoC;AAG9C,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2443d70bd38cc3b176918d5f84a8a7d35a1ef2fe"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return zl=function(){return s},s}zl();class Zve{revisions;currentIdx;constructor(e=(zl().b[0][0]++,[])){zl().f[0]++,zl().s[0]++,this.revisions=e,zl().s[1]++,this.currentIdx=e.length-1}get latest(){return zl().f[1]++,zl().s[2]++,this.revisions[this.revisions.length-1]}get current(){return zl().f[2]++,zl().s[3]++,this.revisions[this.currentIdx]}addRevision(e){zl().f[3]++,zl().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),zl().s[5]++,this.revisions.push(e),zl().s[6]++,this.currentIdx++}undo(){return zl().f[4]++,zl().s[7]++,this.currentIdx>0?(zl().b[1][0]++,zl().s[8]++,this.currentIdx--):zl().b[1][1]++,zl().s[9]++,this.current}redo(){return zl().f[5]++,zl().s[10]++,this.currentIdx<this.revisions.length-1?(zl().b[2][0]++,zl().s[11]++,this.currentIdx++):zl().b[2][1]++,zl().s[12]++,this.current}}var AB,NF;function Xve(){if(NF)return AB;NF=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,p=typeof window=="object"&&window&&window.Object===Object&&window,g=typeof self=="object"&&self&&self.Object===Object&&self,_=p||g||Function("return this")(),E=Object.prototype,O=E.toString,B=Math.max,z=Math.min,N=function(){return _.Date.now()};function Q(J,W,he){var ge,ve,_e,Me,be,ze,Ce=0,Fe=!1,ot=!1,mt=!0;if(typeof J!="function")throw new TypeError(n);W=V(W)||0,X(he)&&(Fe=!!he.leading,ot="maxWait"in he,_e=ot?B(V(he.maxWait)||0,W):_e,mt="trailing"in he?!!he.trailing:mt);function it(je){var Ke=ge,Ue=ve;return ge=ve=void 0,Ce=je,Me=J.apply(Ue,Ke),Me}function ue(je){return Ce=je,be=setTimeout(ke,W),Fe?it(je):Me}function We(je){var Ke=je-ze,Ue=je-Ce,Ve=W-Ke;return ot?z(Ve,_e-Ue):Ve}function tt(je){var Ke=je-ze,Ue=je-Ce;return ze===void 0||Ke>=W||Ke<0||ot&&Ue>=_e}function ke(){var je=N();if(tt(je))return Et(je);be=setTimeout(ke,We(je))}function Et(je){return be=void 0,mt&&ge?it(je):(ge=ve=void 0,Me)}function gt(){be!==void 0&&clearTimeout(be),Ce=0,ge=ze=ve=be=void 0}function xt(){return be===void 0?Me:Et(N())}function Kt(){var je=N(),Ke=tt(je);if(ge=arguments,ve=this,ze=je,Ke){if(be===void 0)return ue(ze);if(ot)return be=setTimeout(ke,W),it(ze)}return be===void 0&&(be=setTimeout(ke,W)),Me}return Kt.cancel=gt,Kt.flush=xt,Kt}function $(J,W,he){var ge=!0,ve=!0;if(typeof J!="function")throw new TypeError(n);return X(he)&&(ge="leading"in he?!!he.leading:ge,ve="trailing"in he?!!he.trailing:ve),Q(J,W,{leading:ge,maxWait:W,trailing:ve})}function X(J){var W=typeof J;return!!J&&(W=="object"||W=="function")}function re(J){return!!J&&typeof J=="object"}function ne(J){return typeof J=="symbol"||re(J)&&O.call(J)==t}function V(J){if(typeof J=="number")return J;if(ne(J))return e;if(X(J)){var W=typeof J.valueOf=="function"?J.valueOf():J;J=X(W)?W+"":W}if(typeof J!="string")return J===0?J:+J;J=J.replace(i,"");var he=o.test(J);return he||s.test(J)?a(J.slice(2),he?2:8):r.test(J)?e:+J}return AB=$,AB}var Jve=Xve();const eCe=Bu(Jve);var M_={exports:{}};M_.exports;var GF;function tCe(){return GF||(GF=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=1,o=2,s=9007199254740991,a="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",E="[object Date]",O="[object Error]",B="[object Function]",z="[object GeneratorFunction]",N="[object Map]",Q="[object Number]",$="[object Null]",X="[object Object]",re="[object Promise]",ne="[object Proxy]",V="[object RegExp]",J="[object Set]",W="[object String]",he="[object Symbol]",ge="[object Undefined]",ve="[object WeakMap]",_e="[object ArrayBuffer]",Me="[object DataView]",be="[object Float32Array]",ze="[object Float64Array]",Ce="[object Int8Array]",Fe="[object Int16Array]",ot="[object Int32Array]",mt="[object Uint8Array]",it="[object Uint8ClampedArray]",ue="[object Uint16Array]",We="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,ke=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,gt={};gt[be]=gt[ze]=gt[Ce]=gt[Fe]=gt[ot]=gt[mt]=gt[it]=gt[ue]=gt[We]=!0,gt[a]=gt[p]=gt[_e]=gt[_]=gt[Me]=gt[E]=gt[O]=gt[B]=gt[N]=gt[Q]=gt[X]=gt[V]=gt[J]=gt[W]=gt[ve]=!1;var xt=typeof window=="object"&&window&&window.Object===Object&&window,Kt=typeof self=="object"&&self&&self.Object===Object&&self,je=xt||Kt||Function("return this")(),Ke=e&&!e.nodeType&&e,Ue=Ke&&!0&&n&&!n.nodeType&&n,Ve=Ue&&Ue.exports===Ke,bt=Ve&&xt.process,vt=function(){try{return bt&&bt.binding&&bt.binding("util")}catch{}}(),It=vt&&vt.isTypedArray;function Yt(ie,Te){for(var lt=-1,Qt=ie==null?0:ie.length,Bi=0,ei=[];++lt<Qt;){var Ji=ie[lt];Te(Ji,lt,ie)&&(ei[Bi++]=Ji)}return ei}function Ut(ie,Te){for(var lt=-1,Qt=Te.length,Bi=ie.length;++lt<Qt;)ie[Bi+lt]=Te[lt];return ie}function on(ie,Te){for(var lt=-1,Qt=ie==null?0:ie.length;++lt<Qt;)if(Te(ie[lt],lt,ie))return!0;return!1}function Hn(ie,Te){for(var lt=-1,Qt=Array(ie);++lt<ie;)Qt[lt]=Te(lt);return Qt}function Wt(ie){return function(Te){return ie(Te)}}function Gn(ie,Te){return ie.has(Te)}function On(ie,Te){return ie?.[Te]}function Bn(ie){var Te=-1,lt=Array(ie.size);return ie.forEach(function(Qt,Bi){lt[++Te]=[Bi,Qt]}),lt}function Tn(ie,Te){return function(lt){return ie(Te(lt))}}function Oi(ie){var Te=-1,lt=Array(ie.size);return ie.forEach(function(Qt){lt[++Te]=Qt}),lt}var Vn=Array.prototype,Lt=Function.prototype,De=Object.prototype,de=je["__core-js_shared__"],oe=Lt.toString,le=De.hasOwnProperty,me=function(){var ie=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),Ie=De.toString,Qe=RegExp("^"+oe.call(le).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=Ve?je.Buffer:void 0,He=je.Symbol,Re=je.Uint8Array,Ze=De.propertyIsEnumerable,y=Vn.splice,yt=He?He.toStringTag:void 0,dt=Object.getOwnPropertySymbols,kt=At?At.isBuffer:void 0,rt=Tn(Object.keys,Object),tn=Po(je,"DataView"),Rn=Po(je,"Map"),wn=Po(je,"Promise"),ri=Po(je,"Set"),Qn=Po(je,"WeakMap"),$i=Po(Object,"create"),ir=Wo(tn),Ii=Wo(Rn),di=Wo(wn),ti=Wo(ri),qi=Wo(Qn),Sn=He?He.prototype:void 0,co=Sn?Sn.valueOf:void 0;function Zi(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function _a(){this.__data__=$i?$i(null):{},this.size=0}function Ro(ie){var Te=this.has(ie)&&delete this.__data__[ie];return this.size-=Te?1:0,Te}function Jn(ie){var Te=this.__data__;if($i){var lt=Te[ie];return lt===i?void 0:lt}return le.call(Te,ie)?Te[ie]:void 0}function cr(ie){var Te=this.__data__;return $i?Te[ie]!==void 0:le.call(Te,ie)}function Ni(ie,Te){var lt=this.__data__;return this.size+=this.has(ie)?0:1,lt[ie]=$i&&Te===void 0?i:Te,this}Zi.prototype.clear=_a,Zi.prototype.delete=Ro,Zi.prototype.get=Jn,Zi.prototype.has=cr,Zi.prototype.set=Ni;function br(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function Wa(){this.__data__=[],this.size=0}function Rr(ie){var Te=this.__data__,lt=li(Te,ie);if(lt<0)return!1;var Qt=Te.length-1;return lt==Qt?Te.pop():y.call(Te,lt,1),--this.size,!0}function Gi(ie){var Te=this.__data__,lt=li(Te,ie);return lt<0?void 0:Te[lt][1]}function bl(ie){return li(this.__data__,ie)>-1}function La(ie,Te){var lt=this.__data__,Qt=li(lt,ie);return Qt<0?(++this.size,lt.push([ie,Te])):lt[Qt][1]=Te,this}br.prototype.clear=Wa,br.prototype.delete=Rr,br.prototype.get=Gi,br.prototype.has=bl,br.prototype.set=La;function Bo(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.clear();++Te<lt;){var Qt=ie[Te];this.set(Qt[0],Qt[1])}}function rs(){this.size=0,this.__data__={hash:new Zi,map:new(Rn||br),string:new Zi}}function Pl(ie){var Te=ta(this,ie).delete(ie);return this.size-=Te?1:0,Te}function ho(ie){return ta(this,ie).get(ie)}function Xu(ie){return ta(this,ie).has(ie)}function Fa(ie,Te){var lt=ta(this,ie),Qt=lt.size;return lt.set(ie,Te),this.size+=lt.size==Qt?0:1,this}Bo.prototype.clear=rs,Bo.prototype.delete=Pl,Bo.prototype.get=ho,Bo.prototype.has=Xu,Bo.prototype.set=Fa;function Xi(ie){var Te=-1,lt=ie==null?0:ie.length;for(this.__data__=new Bo;++Te<lt;)this.add(ie[Te])}function Si(ie){return this.__data__.set(ie,i),this}function fs(ie){return this.__data__.has(ie)}Xi.prototype.add=Xi.prototype.push=Si,Xi.prototype.has=fs;function Oa(ie){var Te=this.__data__=new br(ie);this.size=Te.size}function ea(){this.__data__=new br,this.size=0}function Xe(ie){var Te=this.__data__,lt=Te.delete(ie);return this.size=Te.size,lt}function Bt(ie){return this.__data__.get(ie)}function Mn(ie){return this.__data__.has(ie)}function Wn(ie,Te){var lt=this.__data__;if(lt instanceof br){var Qt=lt.__data__;if(!Rn||Qt.length<t-1)return Qt.push([ie,Te]),this.size=++lt.size,this;lt=this.__data__=new Bo(Qt)}return lt.set(ie,Te),this.size=lt.size,this}Oa.prototype.clear=ea,Oa.prototype.delete=Xe,Oa.prototype.get=Bt,Oa.prototype.has=Mn,Oa.prototype.set=Wn;function an(ie,Te){var lt=Ia(ie),Qt=!lt&&Qa(ie),Bi=!lt&&!Qt&&Ur(ie),ei=!lt&&!Qt&&!Bi&&Ml(ie),Ji=lt||Qt||Bi||ei,lr=Ji?Hn(ie.length,String):[],Ui=lr.length;for(var tr in ie)le.call(ie,tr)&&!(Ji&&(tr=="length"||Bi&&(tr=="offset"||tr=="parent")||ei&&(tr=="buffer"||tr=="byteLength"||tr=="byteOffset")||Wl(tr,Ui)))&&lr.push(tr);return lr}function li(ie,Te){for(var lt=ie.length;lt--;)if(Io(ie[lt][0],Te))return lt;return-1}function no(ie,Te,lt){var Qt=Te(ie);return Ia(ie)?Qt:Ut(Qt,lt(ie))}function Oo(ie){return ie==null?ie===void 0?ge:$:yt&&yt in Object(ie)?mr(ie):yA(ie)}function ps(ie){return Kr(ie)&&Oo(ie)==a}function Ws(ie,Te,lt,Qt,Bi){return ie===Te?!0:ie==null||Te==null||!Kr(ie)&&!Kr(Te)?ie!==ie&&Te!==Te:Ju(ie,Te,lt,Qt,Ws,Bi)}function Ju(ie,Te,lt,Qt,Bi,ei){var Ji=Ia(ie),lr=Ia(Te),Ui=Ji?p:ba(ie),tr=lr?p:ba(Te);Ui=Ui==a?X:Ui,tr=tr==a?X:tr;var io=Ui==X,fo=tr==X,dr=Ui==tr;if(dr&&Ur(ie)){if(!Ur(Te))return!1;Ji=!0,io=!1}if(dr&&!io)return ei||(ei=new Oa),Ji||Ml(ie)?xl(ie,Te,lt,Qt,Bi,ei):Is(ie,Te,Ui,lt,Qt,Bi,ei);if(!(lt&r)){var vr=io&&le.call(ie,"__wrapped__"),po=fo&&le.call(Te,"__wrapped__");if(vr||po){var Qo=vr?ie.value():ie,Gr=po?Te.value():Te;return ei||(ei=new Oa),Bi(Qo,Gr,lt,Qt,ei)}}return dr?(ei||(ei=new Oa),Tc(ie,Te,lt,Qt,Bi,ei)):!1}function Hi(ie){if(!xa(ie)||Sr(ie))return!1;var Te=Ya(ie)?Qe:ke;return Te.test(Wo(ie))}function jA(ie){return Kr(ie)&&os(ie.length)&&!!gt[Oo(ie)]}function Ou(ie){if(!Au(ie))return rt(ie);var Te=[];for(var lt in Object(ie))le.call(ie,lt)&&lt!="constructor"&&Te.push(lt);return Te}function xl(ie,Te,lt,Qt,Bi,ei){var Ji=lt&r,lr=ie.length,Ui=Te.length;if(lr!=Ui&&!(Ji&&Ui>lr))return!1;var tr=ei.get(ie);if(tr&&ei.get(Te))return tr==Te;var io=-1,fo=!0,dr=lt&o?new Xi:void 0;for(ei.set(ie,Te),ei.set(Te,ie);++io<lr;){var vr=ie[io],po=Te[io];if(Qt)var Qo=Ji?Qt(po,vr,io,Te,ie,ei):Qt(vr,po,io,ie,Te,ei);if(Qo!==void 0){if(Qo)continue;fo=!1;break}if(dr){if(!on(Te,function(Gr,Js){if(!Gn(dr,Js)&&(vr===Gr||Bi(vr,Gr,lt,Qt,ei)))return dr.push(Js)})){fo=!1;break}}else if(!(vr===po||Bi(vr,po,lt,Qt,ei))){fo=!1;break}}return ei.delete(ie),ei.delete(Te),fo}function Is(ie,Te,lt,Qt,Bi,ei,Ji){switch(lt){case Me:if(ie.byteLength!=Te.byteLength||ie.byteOffset!=Te.byteOffset)return!1;ie=ie.buffer,Te=Te.buffer;case _e:return!(ie.byteLength!=Te.byteLength||!ei(new Re(ie),new Re(Te)));case _:case E:case Q:return Io(+ie,+Te);case O:return ie.name==Te.name&&ie.message==Te.message;case V:case W:return ie==Te+"";case N:var lr=Bn;case J:var Ui=Qt&r;if(lr||(lr=Oi),ie.size!=Te.size&&!Ui)return!1;var tr=Ji.get(ie);if(tr)return tr==Te;Qt|=o,Ji.set(ie,Te);var io=xl(lr(ie),lr(Te),Qt,Bi,ei,Ji);return Ji.delete(ie),io;case he:if(co)return co.call(ie)==co.call(Te)}return!1}function Tc(ie,Te,lt,Qt,Bi,ei){var Ji=lt&r,lr=Xs(ie),Ui=lr.length,tr=Xs(Te),io=tr.length;if(Ui!=io&&!Ji)return!1;for(var fo=Ui;fo--;){var dr=lr[fo];if(!(Ji?dr in Te:le.call(Te,dr)))return!1}var vr=ei.get(ie);if(vr&&ei.get(Te))return vr==Te;var po=!0;ei.set(ie,Te),ei.set(Te,ie);for(var Qo=Ji;++fo<Ui;){dr=lr[fo];var Gr=ie[dr],Js=Te[dr];if(Qt)var Ql=Ji?Qt(Js,Gr,dr,Te,ie,ei):Qt(Gr,Js,dr,ie,Te,ei);if(!(Ql===void 0?Gr===Js||Bi(Gr,Js,lt,Qt,ei):Ql)){po=!1;break}Qo||(Qo=dr=="constructor")}if(po&&!Qo){var eA=ie.constructor,Cs=Te.constructor;eA!=Cs&&"constructor"in ie&&"constructor"in Te&&!(typeof eA=="function"&&eA instanceof eA&&typeof Cs=="function"&&Cs instanceof Cs)&&(po=!1)}return ei.delete(ie),ei.delete(Te),po}function Xs(ie){return no(ie,er,Gl)}function ta(ie,Te){var lt=ie.__data__;return Iu(Te)?lt[typeof Te=="string"?"string":"hash"]:lt.map}function Po(ie,Te){var lt=On(ie,Te);return Hi(lt)?lt:void 0}function mr(ie){var Te=le.call(ie,yt),lt=ie[yt];try{ie[yt]=void 0;var Qt=!0}catch{}var Bi=Ie.call(ie);return Qt&&(Te?ie[yt]=lt:delete ie[yt]),Bi}var Gl=dt?function(ie){return ie==null?[]:(ie=Object(ie),Yt(dt(ie),function(Te){return Ze.call(ie,Te)}))}:Ei,ba=Oo;(tn&&ba(new tn(new ArrayBuffer(1)))!=Me||Rn&&ba(new Rn)!=N||wn&&ba(wn.resolve())!=re||ri&&ba(new ri)!=J||Qn&&ba(new Qn)!=ve)&&(ba=function(ie){var Te=Oo(ie),lt=Te==X?ie.constructor:void 0,Qt=lt?Wo(lt):"";if(Qt)switch(Qt){case ir:return Me;case Ii:return N;case di:return re;case ti:return J;case qi:return ve}return Te});function Wl(ie,Te){return Te=Te??s,!!Te&&(typeof ie=="number"||Et.test(ie))&&ie>-1&&ie%1==0&&ie<Te}function Iu(ie){var Te=typeof ie;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?ie!=="__proto__":ie===null}function Sr(ie){return!!me&&me in ie}function Au(ie){var Te=ie&&ie.constructor,lt=typeof Te=="function"&&Te.prototype||De;return ie===lt}function yA(ie){return Ie.call(ie)}function Wo(ie){if(ie!=null){try{return oe.call(ie)}catch{}try{return ie+""}catch{}}return""}function Io(ie,Te){return ie===Te||ie!==ie&&Te!==Te}var Qa=ps(function(){return arguments}())?ps:function(ie){return Kr(ie)&&le.call(ie,"callee")&&!Ze.call(ie,"callee")},Ia=Array.isArray;function ca(ie){return ie!=null&&os(ie.length)&&!Ya(ie)}var Ur=kt||Hr;function cu(ie,Te){return Ws(ie,Te)}function Ya(ie){if(!xa(ie))return!1;var Te=Oo(ie);return Te==B||Te==z||Te==g||Te==ne}function os(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=s}function xa(ie){var Te=typeof ie;return ie!=null&&(Te=="object"||Te=="function")}function Kr(ie){return ie!=null&&typeof ie=="object"}var Ml=It?Wt(It):jA;function er(ie){return ca(ie)?an(ie):Ou(ie)}function Ei(){return[]}function Hr(){return!1}n.exports=cu}(M_,M_.exports)),M_.exports}var nCe=tCe();const NO=Bu(nCe);function Nr(){var n="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",e="77d2098743f5a64765174c6e14fc4dc25f900f6c",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Nr=function(){return s},s}Nr();class iCe{onSourcesChange;onVectorLayersChange;throttledAnalyzeVectorLayerFields;_sources;_vectorLayers;constructor(e=(Nr().b[0][0]++,{})){Nr().f[0]++,Nr().s[0]++,this.onSourcesChange=(Nr().b[1][0]++,e.onSourcesChange||(Nr().b[1][1]++,()=>{Nr().f[1]++})),Nr().s[1]++,this.onVectorLayersChange=(Nr().b[2][0]++,e.onVectorLayersChange||(Nr().b[2][1]++,()=>{Nr().f[2]++})),Nr().s[2]++,this._sources={},Nr().s[3]++,this._vectorLayers={},Nr().s[4]++,this.throttledAnalyzeVectorLayerFields=eCe(this.analyzeVectorLayerFields,5e3)}analyzeMap(e){Nr().f[3]++;const t=(Nr().s[5]++,{...this._sources});Nr().s[6]++,Object.keys(e.style.sourceCaches).forEach(i=>{Nr().f[4]++,Nr().s[7]++,this._sources[i]=e.style.sourceCaches[i]._source.vectorLayerIds}),Nr().s[8]++,NO(t,this._sources)?Nr().b[3][1]++:(Nr().b[3][0]++,Nr().s[9]++,this.onSourcesChange(this._sources)),Nr().s[10]++,this.throttledAnalyzeVectorLayerFields(e)}analyzeVectorLayerFields(e){Nr().f[5]++;const t=(Nr().s[11]++,{...this._vectorLayers});Nr().s[12]++,Object.keys(this._sources).forEach(i=>{Nr().f[6]++,Nr().s[13]++,(Nr().b[4][0]++,this._sources[i]||(Nr().b[4][1]++,[])).forEach(r=>{Nr().f[7]++;const o=(Nr().s[14]++,Nr().b[5][0]++,this._vectorLayers[r]||(Nr().b[5][1]++,{})),s=(Nr().s[15]++,{sourceLayer:r});Nr().s[16]++,e.querySourceFeatures(i,s).forEach(a=>{Nr().f[8]++,Nr().s[17]++,Object.keys(a.properties).forEach(p=>{Nr().f[9]++;const g=(Nr().s[18]++,Nr().b[6][0]++,o[p]||(Nr().b[6][1]++,{}));Nr().s[19]++,g[a.properties[p]]={},Nr().s[20]++,o[p]=g})}),Nr().s[21]++,this._vectorLayers[r]=o})}),Nr().s[22]++,NO(t,this._vectorLayers)?Nr().b[7][1]++:(Nr().b[7][0]++,Nr().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return Nr().f[10]++,Nr().s[24]++,this._sources}get vectorLayers(){return Nr().f[11]++,Nr().s[25]++,this._vectorLayers}}function Be(){var n="/home/runner/work/maputnik/maputnik/src/components/App.tsx",e="30a01c814a85b39a887418639a2630c3770d5c04",t=globalThis,i="__coverage__",r={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:35,column:0},end:{line:35,column:30}},1:{start:{line:37,column:29},end:{line:37,column:60}},2:{start:{line:38,column:26},end:{line:38,column:54}},3:{start:{line:39,column:31},end:{line:39,column:64}},4:{start:{line:40,column:28},end:{line:40,column:58}},5:{start:{line:41,column:2},end:{line:58,column:3}},6:{start:{line:42,column:24},end:{line:42,column:95}},7:{start:{line:43,column:4},end:{line:45,column:5}},8:{start:{line:44,column:6},end:{line:44,column:47}},9:{start:{line:46,column:9},end:{line:58,column:3}},10:{start:{line:47,column:24},end:{line:47,column:96}},11:{start:{line:48,column:4},end:{line:50,column:5}},12:{start:{line:49,column:6},end:{line:49,column:47}},13:{start:{line:51,column:9},end:{line:58,column:3}},14:{start:{line:52,column:24},end:{line:52,column:93}},15:{start:{line:53,column:4},end:{line:55,column:5}},16:{start:{line:54,column:6},end:{line:54,column:47}},17:{start:{line:57,column:4},end:{line:57,column:15}},18:{start:{line:61,column:2},end:{line:70,column:4}},19:{start:{line:74,column:15},end:{line:74,column:19}},20:{start:{line:77,column:4},end:{line:77,column:17}},21:{start:{line:78,column:4},end:{line:78,column:45}},22:{start:{line:79,column:4},end:{line:79,column:38}},23:{start:{line:80,column:4},end:{line:114,column:6}},24:{start:{line:115,column:4},end:{line:117,column:7}},25:{start:{line:116,column:35},end:{line:116,column:69}},26:{start:{line:119,column:31},end:{line:192,column:3}},27:{start:{line:120,column:22},end:{line:177,column:5}},28:{start:{line:124,column:10},end:{line:124,column:40}},29:{start:{line:130,column:10},end:{line:130,column:35}},30:{start:{line:136,column:10},end:{line:136,column:37}},31:{start:{line:142,column:10},end:{line:142,column:38}},32:{start:{line:148,column:10},end:{line:148,column:39}},33:{start:{line:154,column:10},end:{line:154,column:42}},34:{start:{line:160,column:10},end:{line:162,column:12}},35:{start:{line:168,column:10},end:{line:168,column:63}},36:{start:{line:174,column:10},end:{line:174,column:36}},37:{start:{line:178,column:4},end:{line:191,column:7}},38:{start:{line:179,column:6},end:{line:190,column:7}},39:{start:{line:180,column:8},end:{line:180,column:24}},40:{start:{line:181,column:8},end:{line:181,column:30}},41:{start:{line:182,column:13},end:{line:190,column:7}},42:{start:{line:183,column:25},end:{line:185,column:10}},43:{start:{line:184,column:10},end:{line:184,column:41}},44:{start:{line:186,column:8},end:{line:189,column:9}},45:{start:{line:187,column:10},end:{line:187,column:44}},46:{start:{line:188,column:10},end:{line:188,column:29}},47:{start:{line:193,column:19},end:{line:211,column:3}},48:{start:{line:194,column:4},end:{line:210,column:5}},49:{start:{line:195,column:6},end:{line:201,column:7}},50:{start:{line:196,column:8},end:{line:196,column:27}},51:{start:{line:197,column:8},end:{line:197,column:22}},52:{start:{line:198,column:13},end:{line:201,column:7}},53:{start:{line:199,column:8},end:{line:199,column:27}},54:{start:{line:200,column:8},end:{line:200,column:22}},55:{start:{line:203,column:6},end:{line:209,column:7}},56:{start:{line:204,column:8},end:{line:204,column:27}},57:{start:{line:205,column:8},end:{line:205,column:22}},58:{start:{line:206,column:13},end:{line:209,column:7}},59:{start:{line:207,column:8},end:{line:207,column:27}},60:{start:{line:208,column:8},end:{line:208,column:22}},61:{start:{line:213,column:4},end:{line:213,column:102}},62:{start:{line:213,column:65},end:{line:213,column:100}},63:{start:{line:214,column:4},end:{line:214,column:60}},64:{start:{line:217,column:4},end:{line:217,column:63}},65:{start:{line:220,column:4},end:{line:220,column:41}},66:{start:{line:223,column:21},end:{line:223,column:55}},67:{start:{line:224,column:24},end:{line:224,column:93}},68:{start:{line:225,column:21},end:{line:225,column:110}},69:{start:{line:226,column:4},end:{line:228,column:7}},70:{start:{line:227,column:6},end:{line:227,column:80}},71:{start:{line:231,column:4},end:{line:233,column:7}},72:{start:{line:232,column:6},end:{line:232,column:80}},73:{start:{line:235,column:29},end:{line:249,column:3}},74:{start:{line:236,column:4},end:{line:240,column:5}},75:{start:{line:237,column:6},end:{line:239,column:9}},76:{start:{line:241,column:25},end:{line:247,column:5}},77:{start:{line:248,column:4},end:{line:248,column:38}},78:{start:{line:250,column:19},end:{line:373,column:3}},79:{start:{line:251,column:4},end:{line:256,column:6}},80:{start:{line:257,column:4},end:{line:259,column:5}},81:{start:{line:258,column:6},end:{line:258,column:71}},82:{start:{line:260,column:4},end:{line:262,column:5}},83:{start:{line:261,column:6},end:{line:261,column:71}},84:{start:{line:263,column:4},end:{line:267,column:5}},85:{start:{line:264,column:6},end:{line:266,column:7}},86:{start:{line:265,column:8},end:{line:265,column:63}},87:{start:{line:268,column:4},end:{line:270,column:5}},88:{start:{line:269,column:6},end:{line:269,column:44}},89:{start:{line:271,column:19},end:{line:271,column:51}},90:{start:{line:272,column:24},end:{line:272,column:26}},91:{start:{line:273,column:4},end:{line:284,column:5}},92:{start:{line:274,column:26},end:{line:274,column:42}},93:{start:{line:275,column:6},end:{line:283,column:9}},94:{start:{line:276,column:8},end:{line:281,column:9}},95:{start:{line:277,column:24},end:{line:279,column:11}},96:{start:{line:280,column:10},end:{line:280,column:34}},97:{start:{line:282,column:8},end:{line:282,column:40}},98:{start:{line:285,column:25},end:{line:336,column:6}},99:{start:{line:286,column:23},end:{line:286,column:109}},100:{start:{line:287,column:6},end:{line:300,column:7}},101:{start:{line:288,column:35},end:{line:288,column:43}},102:{start:{line:289,column:8},end:{line:299,column:10}},103:{start:{line:301,column:33},end:{line:301,column:100}},104:{start:{line:302,column:6},end:{line:315,column:7}},105:{start:{line:303,column:35},end:{line:303,column:53}},106:{start:{line:304,column:8},end:{line:314,column:10}},107:{start:{line:316,column:25},end:{line:316,column:88}},108:{start:{line:317,column:6},end:{line:335,column:7}},109:{start:{line:318,column:52},end:{line:318,column:62}},110:{start:{line:319,column:20},end:{line:319,column:78}},111:{start:{line:320,column:8},end:{line:330,column:10}},112:{start:{line:332,column:8},end:{line:334,column:10}},113:{start:{line:337,column:24},end:{line:337,column:30}},114:{start:{line:338,column:4},end:{line:352,column:5}},115:{start:{line:339,column:6},end:{line:339,column:42}},116:{start:{line:340,column:6},end:{line:351,column:7}},117:{start:{line:341,column:28},end:{line:341,column:33}},118:{start:{line:342,column:8},end:{line:350,column:9}},119:{start:{line:343,column:10},end:{line:349,column:11}},120:{start:{line:344,column:28},end:{line:344,column:49}},121:{start:{line:345,column:30},end:{line:345,column:69}},122:{start:{line:346,column:12},end:{line:346,column:44}},123:{start:{line:348,column:12},end:{line:348,column:46}},124:{start:{line:353,column:4},end:{line:355,column:5}},125:{start:{line:354,column:6},end:{line:354,column:40}},126:{start:{line:356,column:4},end:{line:358,column:5}},127:{start:{line:357,column:6},end:{line:357,column:40}},128:{start:{line:359,column:4},end:{line:361,column:5}},129:{start:{line:360,column:6},end:{line:360,column:47}},130:{start:{line:362,column:4},end:{line:364,column:5}},131:{start:{line:363,column:6},end:{line:363,column:31}},132:{start:{line:365,column:4},end:{line:372,column:7}},133:{start:{line:370,column:6},end:{line:370,column:26}},134:{start:{line:371,column:6},end:{line:371,column:27}},135:{start:{line:374,column:11},end:{line:381,column:3}},136:{start:{line:375,column:24},end:{line:375,column:49}},137:{start:{line:376,column:21},end:{line:376,column:67}},138:{start:{line:377,column:4},end:{line:377,column:61}},139:{start:{line:378,column:4},end:{line:380,column:7}},140:{start:{line:382,column:11},end:{line:389,column:3}},141:{start:{line:383,column:24},end:{line:383,column:49}},142:{start:{line:384,column:21},end:{line:384,column:67}},143:{start:{line:385,column:4},end:{line:385,column:61}},144:{start:{line:386,column:4},end:{line:388,column:7}},145:{start:{line:390,column:16},end:{line:404,column:3}},146:{start:{line:391,column:33},end:{line:391,column:37}},147:{start:{line:392,column:17},end:{line:392,column:43}},148:{start:{line:393,column:4},end:{line:393,column:53}},149:{start:{line:394,column:4},end:{line:394,column:53}},150:{start:{line:395,column:4},end:{line:395,column:38}},151:{start:{line:395,column:31},end:{line:395,column:38}},152:{start:{line:396,column:4},end:{line:400,column:5}},153:{start:{line:397,column:6},end:{line:399,column:9}},154:{start:{line:401,column:4},end:{line:401,column:29}},155:{start:{line:402,column:4},end:{line:402,column:49}},156:{start:{line:403,column:4},end:{line:403,column:32}},157:{start:{line:405,column:19},end:{line:411,column:3}},158:{start:{line:406,column:25},end:{line:409,column:5}},159:{start:{line:410,column:4},end:{line:410,column:38}},160:{start:{line:412,column:19},end:{line:417,column:3}},161:{start:{line:413,column:19},end:{line:413,column:45}},162:{start:{line:414,column:28},end:{line:414,column:43}},163:{start:{line:415,column:4},end:{line:415,column:37}},164:{start:{line:416,column:4},end:{line:416,column:41}},165:{start:{line:418,column:16},end:{line:425,column:3}},166:{start:{line:419,column:19},end:{line:419,column:45}},167:{start:{line:420,column:26},end:{line:420,column:41}},168:{start:{line:421,column:24},end:{line:421,column:55}},169:{start:{line:422,column:4},end:{line:422,column:46}},170:{start:{line:423,column:4},end:{line:423,column:48}},171:{start:{line:424,column:4},end:{line:424,column:39}},172:{start:{line:426,column:28},end:{line:435,column:3}},173:{start:{line:427,column:19},end:{line:427,column:45}},174:{start:{line:428,column:26},end:{line:428,column:41}},175:{start:{line:429,column:18},end:{line:429,column:45}},176:{start:{line:430,column:26},end:{line:430,column:70}},177:{start:{line:431,column:4},end:{line:431,column:88}},178:{start:{line:432,column:4},end:{line:432,column:33}},179:{start:{line:433,column:4},end:{line:433,column:33}},180:{start:{line:434,column:4},end:{line:434,column:39}},181:{start:{line:436,column:20},end:{line:443,column:3}},182:{start:{line:437,column:26},end:{line:437,column:61}},183:{start:{line:438,column:4},end:{line:441,column:6}},184:{start:{line:442,column:4},end:{line:442,column:39}},185:{start:{line:444,column:19},end:{line:448,column:3}},186:{start:{line:445,column:26},end:{line:445,column:61}},187:{start:{line:446,column:4},end:{line:446,column:33}},188:{start:{line:447,column:4},end:{line:447,column:39}},189:{start:{line:449,column:16},end:{line:453,column:3}},190:{start:{line:450,column:4},end:{line:452,column:27}},191:{start:{line:454,column:21},end:{line:468,column:3}},192:{start:{line:455,column:21},end:{line:455,column:44}},193:{start:{line:456,column:4},end:{line:467,column:5}},194:{start:{line:457,column:27},end:{line:463,column:7}},195:{start:{line:464,column:6},end:{line:464,column:26}},196:{start:{line:466,column:6},end:{line:466,column:22}},197:{start:{line:469,column:14},end:{line:473,column:3}},198:{start:{line:470,column:4},end:{line:470,column:34}},199:{start:{line:471,column:4},end:{line:471,column:47}},200:{start:{line:472,column:4},end:{line:472,column:34}},201:{start:{line:475,column:23},end:{line:475,column:25}},202:{start:{line:476,column:4},end:{line:515,column:5}},203:{start:{line:477,column:21},end:{line:477,column:53}},204:{start:{line:478,column:6},end:{line:514,column:7}},205:{start:{line:479,column:8},end:{line:479,column:93}},206:{start:{line:480,column:8},end:{line:482,column:9}},207:{start:{line:481,column:10},end:{line:481,column:38}},208:{start:{line:484,column:8},end:{line:487,column:10}},209:{start:{line:488,column:18},end:{line:488,column:28}},210:{start:{line:489,column:8},end:{line:493,column:9}},211:{start:{line:490,column:10},end:{line:490,column:62}},212:{start:{line:492,column:10},end:{line:492,column:63}},213:{start:{line:494,column:32},end:{line:501,column:9}},214:{start:{line:495,column:10},end:{line:497,column:11}},215:{start:{line:496,column:12},end:{line:496,column:19}},216:{start:{line:498,column:10},end:{line:500,column:11}},217:{start:{line:499,column:12},end:{line:499,column:50}},218:{start:{line:502,column:8},end:{line:513,column:9}},219:{start:{line:503,column:10},end:{line:510,column:11}},220:{start:{line:504,column:25},end:{line:504,column:77}},221:{start:{line:505,column:12},end:{line:505,column:34}},222:{start:{line:507,column:29},end:{line:507,column:63}},223:{start:{line:508,column:25},end:{line:508,column:46}},224:{start:{line:509,column:12},end:{line:509,column:34}},225:{start:{line:512,column:10},end:{line:512,column:78}},226:{start:{line:516,column:4},end:{line:521,column:5}},227:{start:{line:517,column:6},end:{line:517,column:51}},228:{start:{line:518,column:6},end:{line:520,column:9}},229:{start:{line:524,column:21},end:{line:524,column:55}},230:{start:{line:525,column:4},end:{line:525,column:53}},231:{start:{line:527,column:16},end:{line:531,column:3}},232:{start:{line:528,column:4},end:{line:530,column:7}},233:{start:{line:533,column:40},end:{line:533,column:50}},234:{start:{line:534,column:21},end:{line:545,column:5}},235:{start:{line:537,column:8},end:{line:539,column:11}},236:{start:{line:542,column:8},end:{line:542,column:44}},237:{start:{line:543,column:8},end:{line:543,column:28}},238:{start:{line:546,column:21},end:{line:546,column:40}},239:{start:{line:548,column:4},end:{line:570,column:5}},240:{start:{line:549,column:6},end:{line:557,column:8}},241:{start:{line:555,column:38},end:{line:555,column:66}},242:{start:{line:559,column:6},end:{line:569,column:8}},243:{start:{line:572,column:4},end:{line:574,column:5}},244:{start:{line:573,column:6},end:{line:573,column:63}},245:{start:{line:575,column:25},end:{line:575,column:27}},246:{start:{line:576,column:4},end:{line:578,column:5}},247:{start:{line:577,column:6},end:{line:577,column:52}},248:{start:{line:579,column:4},end:{line:579,column:160}},249:{start:{line:581,column:18},end:{line:599,column:3}},250:{start:{line:582,column:43},end:{line:582,column:53}},251:{start:{line:583,column:35},end:{line:583,column:45}},252:{start:{line:584,column:16},end:{line:584,column:38}},253:{start:{line:585,column:20},end:{line:585,column:50}},254:{start:{line:586,column:4},end:{line:586,column:70}},255:{start:{line:587,column:23},end:{line:587,column:122}},256:{start:{line:587,column:66},end:{line:587,column:91}},257:{start:{line:587,column:109},end:{line:587,column:121}},258:{start:{line:588,column:4},end:{line:592,column:5}},259:{start:{line:589,column:6},end:{line:589,column:58}},260:{start:{line:591,column:6},end:{line:591,column:39}},261:{start:{line:593,column:4},end:{line:597,column:5}},262:{start:{line:594,column:6},end:{line:594,column:38}},263:{start:{line:595,column:11},end:{line:597,column:5}},264:{start:{line:596,column:6},end:{line:596,column:46}},265:{start:{line:598,column:4},end:{line:598,column:71}},266:{start:{line:600,column:27},end:{line:645,column:3}},267:{start:{line:601,column:16},end:{line:601,column:38}},268:{start:{line:602,column:23},end:{line:602,column:52}},269:{start:{line:603,column:4},end:{line:615,column:5}},270:{start:{line:604,column:21},end:{line:604,column:42}},271:{start:{line:605,column:23},end:{line:605,column:25}},272:{start:{line:606,column:6},end:{line:608,column:9}},273:{start:{line:607,column:8},end:{line:607,column:35}},274:{start:{line:609,column:6},end:{line:614,column:9}},275:{start:{line:616,column:17},end:{line:616,column:45}},276:{start:{line:617,column:4},end:{line:619,column:5}},277:{start:{line:618,column:6},end:{line:618,column:29}},278:{start:{line:620,column:17},end:{line:620,column:46}},279:{start:{line:621,column:4},end:{line:644,column:5}},280:{start:{line:622,column:6},end:{line:643,column:7}},281:{start:{line:623,column:22},end:{line:623,column:37}},282:{start:{line:624,column:46},end:{line:627,column:9}},283:{start:{line:628,column:20},end:{line:628,column:24}},284:{start:{line:629,column:8},end:{line:634,column:9}},285:{start:{line:630,column:33},end:{line:630,column:63}},286:{start:{line:631,column:10},end:{line:633,column:11}},287:{start:{line:632,column:12},end:{line:632,column:26}},288:{start:{line:635,column:8},end:{line:640,column:9}},289:{start:{line:636,column:10},end:{line:639,column:13}},290:{start:{line:642,column:8},end:{line:642,column:26}},291:{start:{line:646,column:18},end:{line:651,column:3}},292:{start:{line:647,column:4},end:{line:650,column:27}},293:{start:{line:653,column:4},end:{line:658,column:27}},294:{start:{line:661,column:4},end:{line:661,column:60}},295:{start:{line:663,column:20},end:{line:665,column:3}},296:{start:{line:664,column:4},end:{line:664,column:34}},297:{start:{line:666,column:28},end:{line:673,column:3}},298:{start:{line:667,column:4},end:{line:672,column:7}},299:{start:{line:674,column:28},end:{line:681,column:3}},300:{start:{line:675,column:4},end:{line:680,column:7}},301:{start:{line:683,column:19},end:{line:683,column:51}},302:{start:{line:684,column:26},end:{line:684,column:92}},303:{start:{line:685,column:36},end:{line:698,column:5}},304:{start:{line:699,column:38},end:{line:713,column:5}},305:{start:{line:714,column:24},end:{line:733,column:14}},306:{start:{line:734,column:24},end:{line:744,column:14}},307:{start:{line:745,column:35},end:{line:814,column:8}},308:{start:{line:755,column:30},end:{line:755,column:55}},309:{start:{line:763,column:30},end:{line:763,column:59}},310:{start:{line:773,column:30},end:{line:773,column:58}},311:{start:{line:782,column:30},end:{line:782,column:56}},312:{start:{line:792,column:30},end:{line:792,column:54}},313:{start:{line:802,column:30},end:{line:802,column:57}},314:{start:{line:811,column:30},end:{line:811,column:61}},315:{start:{line:815,column:4},end:{line:825,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:36,column:9},end:{line:36,column:28}},loc:{start:{line:36,column:44},end:{line:59,column:1}},line:36},1:{name:"updateRootSpec",decl:{start:{line:60,column:9},end:{line:60,column:23}},loc:{start:{line:60,column:52},end:{line:71,column:1}},line:60},2:{name:"(anonymous_2)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:21},end:{line:118,column:3}},line:76},3:{name:"(anonymous_3)",decl:{start:{line:116,column:28},end:{line:116,column:29}},loc:{start:{line:116,column:35},end:{line:116,column:69}},line:116},4:{name:"(anonymous_4)",decl:{start:{line:119,column:31},end:{line:119,column:32}},loc:{start:{line:119,column:37},end:{line:192,column:3}},line:119},5:{name:"(anonymous_5)",decl:{start:{line:123,column:17},end:{line:123,column:18}},loc:{start:{line:123,column:23},end:{line:125,column:9}},line:123},6:{name:"(anonymous_6)",decl:{start:{line:129,column:17},end:{line:129,column:18}},loc:{start:{line:129,column:23},end:{line:131,column:9}},line:129},7:{name:"(anonymous_7)",decl:{start:{line:135,column:17},end:{line:135,column:18}},loc:{start:{line:135,column:23},end:{line:137,column:9}},line:135},8:{name:"(anonymous_8)",decl:{start:{line:141,column:17},end:{line:141,column:18}},loc:{start:{line:141,column:23},end:{line:143,column:9}},line:141},9:{name:"(anonymous_9)",decl:{start:{line:147,column:17},end:{line:147,column:18}},loc:{start:{line:147,column:23},end:{line:149,column:9}},line:147},10:{name:"(anonymous_10)",decl:{start:{line:153,column:17},end:{line:153,column:18}},loc:{start:{line:153,column:23},end:{line:155,column:9}},line:153},11:{name:"(anonymous_11)",decl:{start:{line:159,column:17},end:{line:159,column:18}},loc:{start:{line:159,column:23},end:{line:163,column:9}},line:159},12:{name:"(anonymous_12)",decl:{start:{line:167,column:17},end:{line:167,column:18}},loc:{start:{line:167,column:23},end:{line:169,column:9}},line:167},13:{name:"(anonymous_13)",decl:{start:{line:173,column:17},end:{line:173,column:18}},loc:{start:{line:173,column:23},end:{line:175,column:9}},line:173},14:{name:"(anonymous_14)",decl:{start:{line:178,column:44},end:{line:178,column:45}},loc:{start:{line:178,column:51},end:{line:191,column:5}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:183,column:40},end:{line:183,column:41}},loc:{start:{line:183,column:55},end:{line:185,column:9}},line:183},16:{name:"(anonymous_16)",decl:{start:{line:193,column:19},end:{line:193,column:20}},loc:{start:{line:193,column:26},end:{line:211,column:3}},line:193},17:{name:"(anonymous_17)",decl:{start:{line:212,column:2},end:{line:212,column:3}},loc:{start:{line:212,column:28},end:{line:215,column:3}},line:212},18:{name:"(anonymous_18)",decl:{start:{line:213,column:45},end:{line:213,column:46}},loc:{start:{line:213,column:65},end:{line:213,column:100}},line:213},19:{name:"(anonymous_19)",decl:{start:{line:216,column:2},end:{line:216,column:3}},loc:{start:{line:216,column:25},end:{line:218,column:3}},line:216},20:{name:"(anonymous_20)",decl:{start:{line:219,column:2},end:{line:219,column:3}},loc:{start:{line:219,column:27},end:{line:221,column:3}},line:219},21:{name:"(anonymous_21)",decl:{start:{line:222,column:2},end:{line:222,column:3}},loc:{start:{line:222,column:27},end:{line:229,column:3}},line:222},22:{name:"(anonymous_22)",decl:{start:{line:226,column:37},end:{line:226,column:38}},loc:{start:{line:226,column:48},end:{line:228,column:5}},line:226},23:{name:"(anonymous_23)",decl:{start:{line:230,column:2},end:{line:230,column:3}},loc:{start:{line:230,column:23},end:{line:234,column:3}},line:230},24:{name:"(anonymous_24)",decl:{start:{line:231,column:36},end:{line:231,column:37}},loc:{start:{line:231,column:47},end:{line:233,column:5}},line:231},25:{name:"(anonymous_25)",decl:{start:{line:235,column:29},end:{line:235,column:30}},loc:{start:{line:235,column:50},end:{line:249,column:3}},line:235},26:{name:"(anonymous_26)",decl:{start:{line:250,column:19},end:{line:250,column:20}},loc:{start:{line:250,column:44},end:{line:373,column:3}},line:250},27:{name:"(anonymous_27)",decl:{start:{line:275,column:30},end:{line:275,column:31}},loc:{start:{line:275,column:48},end:{line:283,column:7}},line:275},28:{name:"(anonymous_28)",decl:{start:{line:285,column:56},end:{line:285,column:57}},loc:{start:{line:285,column:67},end:{line:336,column:5}},line:285},29:{name:"(anonymous_29)",decl:{start:{line:369,column:7},end:{line:369,column:8}},loc:{start:{line:369,column:13},end:{line:372,column:5}},line:369},30:{name:"(anonymous_30)",decl:{start:{line:374,column:11},end:{line:374,column:12}},loc:{start:{line:374,column:17},end:{line:381,column:3}},line:374},31:{name:"(anonymous_31)",decl:{start:{line:382,column:11},end:{line:382,column:12}},loc:{start:{line:382,column:17},end:{line:389,column:3}},line:382},32:{name:"(anonymous_32)",decl:{start:{line:390,column:16},end:{line:390,column:17}},loc:{start:{line:390,column:26},end:{line:404,column:3}},line:390},33:{name:"(anonymous_33)",decl:{start:{line:405,column:19},end:{line:405,column:20}},loc:{start:{line:405,column:38},end:{line:411,column:3}},line:405},34:{name:"(anonymous_34)",decl:{start:{line:412,column:19},end:{line:412,column:20}},loc:{start:{line:412,column:30},end:{line:417,column:3}},line:412},35:{name:"(anonymous_35)",decl:{start:{line:418,column:16},end:{line:418,column:17}},loc:{start:{line:418,column:27},end:{line:425,column:3}},line:418},36:{name:"(anonymous_36)",decl:{start:{line:426,column:28},end:{line:426,column:29}},loc:{start:{line:426,column:39},end:{line:435,column:3}},line:426},37:{name:"(anonymous_37)",decl:{start:{line:436,column:20},end:{line:436,column:21}},loc:{start:{line:436,column:46},end:{line:443,column:3}},line:436},38:{name:"(anonymous_38)",decl:{start:{line:444,column:19},end:{line:444,column:20}},loc:{start:{line:444,column:37},end:{line:448,column:3}},line:444},39:{name:"(anonymous_39)",decl:{start:{line:449,column:16},end:{line:449,column:17}},loc:{start:{line:449,column:30},end:{line:453,column:3}},line:449},40:{name:"(anonymous_40)",decl:{start:{line:454,column:21},end:{line:454,column:22}},loc:{start:{line:454,column:35},end:{line:468,column:3}},line:454},41:{name:"(anonymous_41)",decl:{start:{line:469,column:14},end:{line:469,column:15}},loc:{start:{line:469,column:40},end:{line:473,column:3}},line:469},42:{name:"(anonymous_42)",decl:{start:{line:474,column:2},end:{line:474,column:3}},loc:{start:{line:474,column:23},end:{line:522,column:3}},line:474},43:{name:"(anonymous_43)",decl:{start:{line:494,column:32},end:{line:494,column:33}},loc:{start:{line:494,column:42},end:{line:501,column:9}},line:494},44:{name:"(anonymous_44)",decl:{start:{line:523,column:2},end:{line:523,column:3}},loc:{start:{line:523,column:17},end:{line:526,column:3}},line:523},45:{name:"(anonymous_45)",decl:{start:{line:527,column:16},end:{line:527,column:17}},loc:{start:{line:527,column:29},end:{line:531,column:3}},line:527},46:{name:"(anonymous_46)",decl:{start:{line:532,column:2},end:{line:532,column:3}},loc:{start:{line:532,column:16},end:{line:580,column:3}},line:532},47:{name:"(anonymous_47)",decl:{start:{line:536,column:27},end:{line:536,column:28}},loc:{start:{line:536,column:42},end:{line:540,column:7}},line:536},48:{name:"(anonymous_48)",decl:{start:{line:541,column:20},end:{line:541,column:21}},loc:{start:{line:541,column:27},end:{line:544,column:7}},line:541},49:{name:"(anonymous_49)",decl:{start:{line:555,column:25},end:{line:555,column:26}},loc:{start:{line:555,column:38},end:{line:555,column:66}},line:555},50:{name:"(anonymous_50)",decl:{start:{line:581,column:18},end:{line:581,column:19}},loc:{start:{line:581,column:24},end:{line:599,column:3}},line:581},51:{name:"(anonymous_51)",decl:{start:{line:587,column:50},end:{line:587,column:51}},loc:{start:{line:587,column:66},end:{line:587,column:91}},line:587},52:{name:"(anonymous_52)",decl:{start:{line:587,column:100},end:{line:587,column:101}},loc:{start:{line:587,column:109},end:{line:587,column:121}},line:587},53:{name:"(anonymous_53)",decl:{start:{line:600,column:27},end:{line:600,column:28}},loc:{start:{line:600,column:41},end:{line:645,column:3}},line:600},54:{name:"(anonymous_54)",decl:{start:{line:606,column:21},end:{line:606,column:22}},loc:{start:{line:606,column:36},end:{line:608,column:7}},line:606},55:{name:"(anonymous_55)",decl:{start:{line:646,column:18},end:{line:646,column:19}},loc:{start:{line:646,column:29},end:{line:651,column:3}},line:646},56:{name:"(anonymous_56)",decl:{start:{line:652,column:2},end:{line:652,column:3}},loc:{start:{line:652,column:29},end:{line:659,column:3}},line:652},57:{name:"(anonymous_57)",decl:{start:{line:660,column:2},end:{line:660,column:3}},loc:{start:{line:660,column:25},end:{line:662,column:3}},line:660},58:{name:"(anonymous_58)",decl:{start:{line:663,column:20},end:{line:663,column:21}},loc:{start:{line:663,column:36},end:{line:665,column:3}},line:663},59:{name:"(anonymous_59)",decl:{start:{line:666,column:28},end:{line:666,column:29}},loc:{start:{line:666,column:44},end:{line:673,column:3}},line:666},60:{name:"(anonymous_60)",decl:{start:{line:674,column:28},end:{line:674,column:29}},loc:{start:{line:674,column:44},end:{line:681,column:3}},line:674},61:{name:"(anonymous_61)",decl:{start:{line:682,column:2},end:{line:682,column:3}},loc:{start:{line:682,column:11},end:{line:826,column:3}},line:682},62:{name:"(anonymous_62)",decl:{start:{line:755,column:24},end:{line:755,column:25}},loc:{start:{line:755,column:30},end:{line:755,column:55}},line:755},63:{name:"(anonymous_63)",decl:{start:{line:763,column:24},end:{line:763,column:25}},loc:{start:{line:763,column:30},end:{line:763,column:59}},line:763},64:{name:"(anonymous_64)",decl:{start:{line:773,column:24},end:{line:773,column:25}},loc:{start:{line:773,column:30},end:{line:773,column:58}},line:773},65:{name:"(anonymous_65)",decl:{start:{line:782,column:24},end:{line:782,column:25}},loc:{start:{line:782,column:30},end:{line:782,column:56}},line:782},66:{name:"(anonymous_66)",decl:{start:{line:792,column:24},end:{line:792,column:25}},loc:{start:{line:792,column:30},end:{line:792,column:54}},line:792},67:{name:"(anonymous_67)",decl:{start:{line:802,column:24},end:{line:802,column:25}},loc:{start:{line:802,column:30},end:{line:802,column:57}},line:802},68:{name:"(anonymous_68)",decl:{start:{line:811,column:24},end:{line:811,column:25}},loc:{start:{line:811,column:30},end:{line:811,column:61}},line:811}},branchMap:{0:{loc:{start:{line:41,column:2},end:{line:58,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:58,column:3}},{start:{line:46,column:9},end:{line:58,column:3}}],line:41},1:{loc:{start:{line:41,column:6},end:{line:41,column:43}},type:"binary-expr",locations:[{start:{line:41,column:6},end:{line:41,column:24}},{start:{line:41,column:28},end:{line:41,column:43}}],line:41},2:{loc:{start:{line:43,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:45,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},3:{loc:{start:{line:46,column:9},end:{line:58,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:58,column:3}},{start:{line:51,column:9},end:{line:58,column:3}}],line:46},4:{loc:{start:{line:48,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:51,column:9},end:{line:58,column:3}},type:"if",locations:[{start:{line:51,column:9},end:{line:58,column:3}},{start:{line:56,column:9},end:{line:58,column:3}}],line:51},6:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},7:{loc:{start:{line:161,column:12},end:{line:161,column:61}},type:"cond-expr",locations:[{start:{line:161,column:44},end:{line:161,column:53}},{start:{line:161,column:56},end:{line:161,column:61}}],line:161},8:{loc:{start:{line:179,column:6},end:{line:190,column:7}},type:"if",locations:[{start:{line:179,column:6},end:{line:190,column:7}},{start:{line:182,column:13},end:{line:190,column:7}}],line:179},9:{loc:{start:{line:182,column:13},end:{line:190,column:7}},type:"if",locations:[{start:{line:182,column:13},end:{line:190,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:182},10:{loc:{start:{line:182,column:17},end:{line:182,column:88}},type:"binary-expr",locations:[{start:{line:182,column:17},end:{line:182,column:44}},{start:{line:182,column:48},end:{line:182,column:88}}],line:182},11:{loc:{start:{line:186,column:8},end:{line:189,column:9}},type:"if",locations:[{start:{line:186,column:8},end:{line:189,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:186},12:{loc:{start:{line:194,column:4},end:{line:210,column:5}},type:"if",locations:[{start:{line:194,column:4},end:{line:210,column:5}},{start:{line:202,column:11},end:{line:210,column:5}}],line:194},13:{loc:{start:{line:195,column:6},end:{line:201,column:7}},type:"if",locations:[{start:{line:195,column:6},end:{line:201,column:7}},{start:{line:198,column:13},end:{line:201,column:7}}],line:195},14:{loc:{start:{line:195,column:10},end:{line:195,column:53}},type:"binary-expr",locations:[{start:{line:195,column:10},end:{line:195,column:19}},{start:{line:195,column:23},end:{line:195,column:33}},{start:{line:195,column:37},end:{line:195,column:53}}],line:195},15:{loc:{start:{line:198,column:13},end:{line:201,column:7}},type:"if",locations:[{start:{line:198,column:13},end:{line:201,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:198},16:{loc:{start:{line:198,column:17},end:{line:198,column:46}},type:"binary-expr",locations:[{start:{line:198,column:17},end:{line:198,column:26}},{start:{line:198,column:30},end:{line:198,column:46}}],line:198},17:{loc:{start:{line:203,column:6},end:{line:209,column:7}},type:"if",locations:[{start:{line:203,column:6},end:{line:209,column:7}},{start:{line:206,column:13},end:{line:209,column:7}}],line:203},18:{loc:{start:{line:203,column:10},end:{line:203,column:39}},type:"binary-expr",locations:[{start:{line:203,column:10},end:{line:203,column:19}},{start:{line:203,column:23},end:{line:203,column:39}}],line:203},19:{loc:{start:{line:206,column:13},end:{line:209,column:7}},type:"if",locations:[{start:{line:206,column:13},end:{line:209,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:206},20:{loc:{start:{line:206,column:17},end:{line:206,column:46}},type:"binary-expr",locations:[{start:{line:206,column:17},end:{line:206,column:26}},{start:{line:206,column:30},end:{line:206,column:46}}],line:206},21:{loc:{start:{line:223,column:21},end:{line:223,column:55}},type:"binary-expr",locations:[{start:{line:223,column:21},end:{line:223,column:49}},{start:{line:223,column:53},end:{line:223,column:55}}],line:223},22:{loc:{start:{line:224,column:24},end:{line:224,column:93}},type:"binary-expr",locations:[{start:{line:224,column:24},end:{line:224,column:70}},{start:{line:224,column:74},end:{line:224,column:93}}],line:224},23:{loc:{start:{line:225,column:21},end:{line:225,column:110}},type:"cond-expr",locations:[{start:{line:225,column:55},end:{line:225,column:96}},{start:{line:225,column:99},end:{line:225,column:110}}],line:225},24:{loc:{start:{line:236,column:4},end:{line:240,column:5}},type:"if",locations:[{start:{line:236,column:4},end:{line:240,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:236},25:{loc:{start:{line:236,column:8},end:{line:236,column:123}},type:"binary-expr",locations:[{start:{line:236,column:8},end:{line:236,column:40}},{start:{line:236,column:44},end:{line:236,column:123}}],line:236},26:{loc:{start:{line:250,column:30},end:{line:250,column:39}},type:"default-arg",locations:[{start:{line:250,column:37},end:{line:250,column:39}}],line:250},27:{loc:{start:{line:257,column:4},end:{line:259,column:5}},type:"if",locations:[{start:{line:257,column:4},end:{line:259,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:257},28:{loc:{start:{line:257,column:8},end:{line:257,column:62}},type:"binary-expr",locations:[{start:{line:257,column:8},end:{line:257,column:23}},{start:{line:257,column:27},end:{line:257,column:62}}],line:257},29:{loc:{start:{line:260,column:4},end:{line:262,column:5}},type:"if",locations:[{start:{line:260,column:4},end:{line:262,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:260},30:{loc:{start:{line:260,column:8},end:{line:260,column:62}},type:"binary-expr",locations:[{start:{line:260,column:8},end:{line:260,column:23}},{start:{line:260,column:27},end:{line:260,column:62}}],line:260},31:{loc:{start:{line:264,column:6},end:{line:266,column:7}},type:"if",locations:[{start:{line:264,column:6},end:{line:266,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:264},32:{loc:{start:{line:264,column:10},end:{line:264,column:69}},type:"binary-expr",locations:[{start:{line:264,column:10},end:{line:264,column:16}},{start:{line:264,column:20},end:{line:264,column:35}},{start:{line:264,column:39},end:{line:264,column:69}}],line:264},33:{loc:{start:{line:268,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:268,column:4},end:{line:270,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:268},34:{loc:{start:{line:271,column:19},end:{line:271,column:51}},type:"binary-expr",locations:[{start:{line:271,column:19},end:{line:271,column:45}},{start:{line:271,column:49},end:{line:271,column:51}}],line:271},35:{loc:{start:{line:273,column:4},end:{line:284,column:5}},type:"if",locations:[{start:{line:273,column:4},end:{line:284,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:273},36:{loc:{start:{line:273,column:8},end:{line:273,column:35}},type:"binary-expr",locations:[{start:{line:273,column:8},end:{line:273,column:16}},{start:{line:273,column:20},end:{line:273,column:35}}],line:273},37:{loc:{start:{line:276,column:8},end:{line:281,column:9}},type:"if",locations:[{start:{line:276,column:8},end:{line:281,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:276},38:{loc:{start:{line:276,column:12},end:{line:276,column:56}},type:"binary-expr",locations:[{start:{line:276,column:12},end:{line:276,column:27}},{start:{line:276,column:31},end:{line:276,column:56}}],line:276},39:{loc:{start:{line:287,column:6},end:{line:300,column:7}},type:"if",locations:[{start:{line:287,column:6},end:{line:300,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:287},40:{loc:{start:{line:302,column:6},end:{line:315,column:7}},type:"if",locations:[{start:{line:302,column:6},end:{line:315,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:302},41:{loc:{start:{line:317,column:6},end:{line:335,column:7}},type:"if",locations:[{start:{line:317,column:6},end:{line:335,column:7}},{start:{line:331,column:13},end:{line:335,column:7}}],line:317},42:{loc:{start:{line:319,column:20},end:{line:319,column:78}},type:"cond-expr",locations:[{start:{line:319,column:40},end:{line:319,column:67}},{start:{line:319,column:70},end:{line:319,column:78}}],line:319},43:{loc:{start:{line:319,column:20},end:{line:319,column:37}},type:"binary-expr",locations:[{start:{line:319,column:20},end:{line:319,column:25}},{start:{line:319,column:29},end:{line:319,column:37}}],line:319},44:{loc:{start:{line:338,column:4},end:{line:352,column:5}},type:"if",locations:[{start:{line:338,column:4},end:{line:352,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:338},45:{loc:{start:{line:342,column:8},end:{line:350,column:9}},type:"if",locations:[{start:{line:342,column:8},end:{line:350,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:342},46:{loc:{start:{line:353,column:4},end:{line:355,column:5}},type:"if",locations:[{start:{line:353,column:4},end:{line:355,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:353},47:{loc:{start:{line:356,column:4},end:{line:358,column:5}},type:"if",locations:[{start:{line:356,column:4},end:{line:358,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:356},48:{loc:{start:{line:359,column:4},end:{line:361,column:5}},type:"if",locations:[{start:{line:359,column:4},end:{line:361,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:359},49:{loc:{start:{line:362,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:362,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:362},50:{loc:{start:{line:395,column:4},end:{line:395,column:38}},type:"if",locations:[{start:{line:395,column:4},end:{line:395,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:395},51:{loc:{start:{line:396,column:4},end:{line:400,column:5}},type:"if",locations:[{start:{line:396,column:4},end:{line:400,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:396},52:{loc:{start:{line:430,column:26},end:{line:430,column:70}},type:"cond-expr",locations:[{start:{line:430,column:46},end:{line:430,column:65}},{start:{line:430,column:68},end:{line:430,column:70}}],line:430},53:{loc:{start:{line:431,column:31},end:{line:431,column:87}},type:"cond-expr",locations:[{start:{line:431,column:69},end:{line:431,column:78}},{start:{line:431,column:81},end:{line:431,column:87}}],line:431},54:{loc:{start:{line:455,column:21},end:{line:455,column:44}},type:"binary-expr",locations:[{start:{line:455,column:21},end:{line:455,column:38}},{start:{line:455,column:42},end:{line:455,column:44}}],line:455},55:{loc:{start:{line:456,column:4},end:{line:467,column:5}},type:"if",locations:[{start:{line:456,column:4},end:{line:467,column:5}},{start:{line:465,column:11},end:{line:467,column:5}}],line:456},56:{loc:{start:{line:478,column:6},end:{line:514,column:7}},type:"if",locations:[{start:{line:478,column:6},end:{line:514,column:7}},{start:{line:483,column:13},end:{line:514,column:7}}],line:478},57:{loc:{start:{line:478,column:10},end:{line:478,column:56}},type:"binary-expr",locations:[{start:{line:478,column:10},end:{line:478,column:34}},{start:{line:478,column:38},end:{line:478,column:56}}],line:478},58:{loc:{start:{line:479,column:26},end:{line:479,column:92}},type:"binary-expr",locations:[{start:{line:479,column:26},end:{line:479,column:49}},{start:{line:479,column:53},end:{line:479,column:92}}],line:479},59:{loc:{start:{line:480,column:8},end:{line:482,column:9}},type:"if",locations:[{start:{line:480,column:8},end:{line:482,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:480},60:{loc:{start:{line:495,column:10},end:{line:497,column:11}},type:"if",locations:[{start:{line:495,column:10},end:{line:497,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:495},61:{loc:{start:{line:503,column:10},end:{line:510,column:11}},type:"if",locations:[{start:{line:503,column:10},end:{line:510,column:11}},{start:{line:506,column:17},end:{line:510,column:11}}],line:503},62:{loc:{start:{line:516,column:4},end:{line:521,column:5}},type:"if",locations:[{start:{line:516,column:4},end:{line:521,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:516},63:{loc:{start:{line:524,column:21},end:{line:524,column:55}},type:"binary-expr",locations:[{start:{line:524,column:21},end:{line:524,column:49}},{start:{line:524,column:53},end:{line:524,column:55}}],line:524},64:{loc:{start:{line:525,column:11},end:{line:525,column:52}},type:"binary-expr",locations:[{start:{line:525,column:11},end:{line:525,column:40}},{start:{line:525,column:44},end:{line:525,column:52}}],line:525},65:{loc:{start:{line:535,column:16},end:{line:535,column:41}},type:"binary-expr",locations:[{start:{line:535,column:16},end:{line:535,column:29}},{start:{line:535,column:33},end:{line:535,column:41}}],line:535},66:{loc:{start:{line:548,column:4},end:{line:570,column:5}},type:"if",locations:[{start:{line:548,column:4},end:{line:570,column:5}},{start:{line:558,column:11},end:{line:570,column:5}}],line:548},67:{loc:{start:{line:572,column:4},end:{line:574,column:5}},type:"if",locations:[{start:{line:572,column:4},end:{line:574,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:572},68:{loc:{start:{line:576,column:4},end:{line:578,column:5}},type:"if",locations:[{start:{line:576,column:4},end:{line:578,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:576},69:{loc:{start:{line:587,column:66},end:{line:587,column:91}},type:"cond-expr",locations:[{start:{line:587,column:81},end:{line:587,column:84}},{start:{line:587,column:87},end:{line:587,column:91}}],line:587},70:{loc:{start:{line:588,column:4},end:{line:592,column:5}},type:"if",locations:[{start:{line:588,column:4},end:{line:592,column:5}},{start:{line:590,column:11},end:{line:592,column:5}}],line:588},71:{loc:{start:{line:593,column:4},end:{line:597,column:5}},type:"if",locations:[{start:{line:593,column:4},end:{line:597,column:5}},{start:{line:595,column:11},end:{line:597,column:5}}],line:593},72:{loc:{start:{line:595,column:11},end:{line:597,column:5}},type:"if",locations:[{start:{line:595,column:11},end:{line:597,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:595},73:{loc:{start:{line:603,column:4},end:{line:615,column:5}},type:"if",locations:[{start:{line:603,column:4},end:{line:615,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:603},74:{loc:{start:{line:603,column:8},end:{line:603,column:39}},type:"binary-expr",locations:[{start:{line:603,column:8},end:{line:603,column:18}},{start:{line:603,column:22},end:{line:603,column:39}}],line:603},75:{loc:{start:{line:617,column:4},end:{line:619,column:5}},type:"if",locations:[{start:{line:617,column:4},end:{line:619,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:617},76:{loc:{start:{line:617,column:8},end:{line:617,column:27}},type:"binary-expr",locations:[{start:{line:617,column:8},end:{line:617,column:12}},{start:{line:617,column:16},end:{line:617,column:27}}],line:617},77:{loc:{start:{line:621,column:4},end:{line:644,column:5}},type:"if",locations:[{start:{line:621,column:4},end:{line:644,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:621},78:{loc:{start:{line:629,column:8},end:{line:634,column:9}},type:"if",locations:[{start:{line:629,column:8},end:{line:634,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:629},79:{loc:{start:{line:631,column:10},end:{line:633,column:11}},type:"if",locations:[{start:{line:631,column:10},end:{line:633,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:631},80:{loc:{start:{line:635,column:8},end:{line:640,column:9}},type:"if",locations:[{start:{line:635,column:8},end:{line:640,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:635},81:{loc:{start:{line:683,column:19},end:{line:683,column:51}},type:"binary-expr",locations:[{start:{line:683,column:19},end:{line:683,column:45}},{start:{line:683,column:49},end:{line:683,column:51}}],line:683},82:{loc:{start:{line:684,column:26},end:{line:684,column:92}},type:"cond-expr",locations:[{start:{line:684,column:46},end:{line:684,column:83}},{start:{line:684,column:86},end:{line:684,column:92}}],line:684},83:{loc:{start:{line:714,column:24},end:{line:733,column:14}},type:"cond-expr",locations:[{start:{line:714,column:56},end:{line:733,column:5}},{start:{line:733,column:8},end:{line:733,column:14}}],line:714},84:{loc:{start:{line:734,column:24},end:{line:744,column:14}},type:"cond-expr",locations:[{start:{line:734,column:97},end:{line:744,column:5}},{start:{line:744,column:8},end:{line:744,column:14}}],line:734}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,313:0,314:0,315:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAgsBmB,SAAA,KAkNA,YAlNA;AAhsBnB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AACjB,SAAS,eAAe;AAExB,SAAQ,wBAAuB;AAC/B,OAAO,YAAY;AAEnB,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAAmC;AAC1C,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,sBAAsB;AAE7B,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,cAAc,oBAAoB;AAC3C,SAAS,wBAA0C;AACnD,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AAKpB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AACtE,QAAM,qBAAqB,IAAI,MAAM,oBAAoB;AACzD,QAAM,kBAAkB,IAAI,MAAM,iBAAiB;AACnD,QAAM,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,QAAM,oBAAoB,IAAI,MAAM,mBAAmB;AACvD,MAAI,sBAAsB,iBAAiB;AACzC,UAAM,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AAC7B,UAAM,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,mBAAmB;AAC1B,UAAM,cAAc,MAAM,eAAe,cAAc,UAAU,EAAC,eAAe,KAAI,CAAC;AACtF,QAAI,aAAa;AACf,aAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AACpE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAoDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA,aAAiC;AAAA,EACjC;AAAA,EAEA,YAAY,OAAY;AACtB,UAAM,KAAK;AAEX,SAAK,gBAAgB,IAAI,cAAc;AACvC,SAAK,2BAA2B;AAEhC,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,aAAa;AAAA,MACf;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,MACA,YAAY;AAAA,IACd;AAEA,SAAK,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAA,MAAK,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,6BAA6B,MAAM;AACjC,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,aAAa;AAAA,QAChC;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC7C,UAAG,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AAC5C,iBAAQA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACX,eAAK,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,MAAM,oBAAoB;AACxB,SAAK,aAAa,MAAM,iBAAiB,CAAC,UAAU,SAAS,KAAK,eAAe,UAAU,IAAI,CAAC;AAChG,WAAO,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACrB,WAAO,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAyC;AACjD,SAAK,YAAY,KAAK,aAAa;AAAA,EACrC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAE7E,UAAM,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAA,UAAS;AACxC,WAAK,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAA,UAAS;AACvC,WAAK,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAEA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAoC,OAAyB,CAAC,MAAY;AAC1F,WAAO;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAKA,QAAI,SAAS,UAAU,OAAO,SAAS,WAAW,UAAU;AAC1D,eAAS,SAAS,oBAAoB,SAAS,QAAQ,QAAQ;AAAA,IACjE;AAEA,QAAI,SAAS,UAAU,OAAO,SAAS,WAAW,UAAU;AAC1D,eAAS,SAAS,oBAAoB,SAAS,QAAQ,QAAQ;AAAA,IACjE;AAEA,eAAW,CAAC,WAAW,MAAM,KAAK,OAAO,QAAQ,SAAS,OAAO,GAAG;AAClE,UAAI,UAAU,SAAS,UAAU,OAAO,OAAO,QAAQ,UAAU;AAC/D,eAAO,MAAM,oBAAoB,OAAO,KAAK,QAAQ;AAAA,MACvD;AAAA,IACF;AAGA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAGjE,UAAM,cAA2C,CAAC;AAClD,QAAI,YAAY,SAAS,QAAQ;AAC/B,YAAM,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACA,oBAAY,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAA,UAAS;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AAC3B,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AAC3B,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AAC5C,cAAM,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AAChE,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACH,eAAO;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AACpD,QAAI,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,iBAAW,SAAS,QAAQ;AAC1B,cAAM,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACX,cAAI;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,UAAU,MAAM,GAAG;AAAA,UAClC;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AACjD,WAAK,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AACjD,WAAK,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAAQ;AAAA,IACzB;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACb,UAAM,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,UAAM,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAA+C;AAC5D,QAAI,EAAE,UAAU,SAAS,IAAI;AAC7B,QAAI,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa,SAAU;AAE1B,QAAI,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAEA,aAAS,OAAO,MAAM,CAAC;AACvB,qBAAiB,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAClC,UAAM,SAAS,KAAK,MAAM,SAAS;AACnC,UAAM,kBAAkB,OAAO,MAAM,CAAC;AACtC,oBAAgB,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AAC/B,UAAM,SAAS,KAAK,MAAM,SAAS;AACnC,UAAM,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AAClD,gBAAY,KAAK,YAAY,KAAK;AAClC,kBAAc,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AAC3C,UAAM,SAAS,KAAK,MAAM,SAAS;AACnC,UAAM,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AACxC,UAAM,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAuC;AACzD,UAAM,WAAoC,SAAS,YAAY,CAAC;AAChE,QAAG,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACA,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,UAAoC,eAA4C;AAC3F,SAAK,SAAS,EAAC,WAAsB,CAAC;AACtC,eAAW,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,MAAM,eAAe;AACnB,UAAM,aAAwE,CAAC;AAC/E,eAAU,OAAO,OAAO,KAAK,KAAK,MAAM,SAAS,OAAO,GAAG;AACzD,YAAM,SAAS,KAAK,MAAM,SAAS,QAAQ,GAAG;AAC9C,UAAG,OAAO,SAAS,YAAY,EAAE,SAAS,SAAS;AACjD,mBAAW,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,EAAC,GAAG,KAAK,MAAM,SAAS,QAAQ,GAAG,EAAC;AACjF,YAAI,WAAW,GAAG,EAAE,WAAW,QAAW;AACxC,qBAAW,GAAG,EAAE,SAAS,CAAC;AAAA,QAC5B;AAAA,MACF,OAAO;AACL,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,OAAO;AAAA,UACb,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,OAAO;AAEjB,YAAI;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACX,kBAAQ,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,kBAAkB,CAAC,SAAa;AACpC,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAEA,qBAAU,SAAS,KAAK,eAAe;AACrC,uBAAW,GAAG,EAAE,OAAO,KAAK,MAAM,EAAE;AAAA,UACtC;AAAA,QACF;AAEA,YAAI;AACF,cAAI,IAAK,WAAW,YAAY,GAAG;AACjC,kBAAM,OAAO,MAAO,IAAI,QAAQ,IAAK,UAAU,EAAE,CAAC,EAAG,YAAY,EAAE;AACnE,4BAAgB,IAAI;AAAA,UACtB,OAAO;AACL,kBAAM,WAAW,MAAM,MAAM,KAAM,EAAE,MAAM,OAAO,CAAC;AACnD,kBAAM,OAAO,MAAM,SAAS,KAAK;AACjC,4BAAgB,IAAI;AAAA,UACtB;AAAA,QACF,SAAQ,KAAK;AACX,kBAAQ,MAAM,sCAAsC,GAAG,MAAM,GAAG,EAAE;AAAA,QACpE;AAAA,MACF;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,mBAAmB,UAAU;AAC3C,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC1E,WAAO,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AACrD,eAAO,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC/B,aAAK,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEA,UAAM,WAAW,KAAK,aAAa;AAEnC,QAAI;AAGJ,QAAG,aAAa,MAAM;AACpB,mBAAa;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,CAAC,YAAY,KAAK,cAAc,CAAC,OAAO;AAAA,QAAA;AAAA,MACzD;AAAA,IACF,OAAO;AAEL,mBAAa;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEA,QAAI;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACd,mBAAa,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEA,WAAO,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UAAA,WAAA,CACH;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AAC1C,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAE7B,QAAI,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACH,UAAI,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AACtB,UAAI,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC/B,UAAI,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAE/C,QAAI,cAAc,eAAe,IAAI;AACnC,YAAM,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAA,cAAa;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACxC,QAAI,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACR,UAAI;AACF,cAAM,QAAQ,KAAK,MAAM,GAAG;AAC5B,cAAM,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AAC5C,oBAAQ;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AAC5D,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,kBAAkB,CAAC,eAA4C;AAC7D,SAAK,SAAS,EAAE,WAAW,CAAC;AAAA,EAC9B;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AAC9C,UAAM,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEL,UAAM,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGL,UAAM,8BAAU,OAAA,EACd,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,OAAO;AAAA,UAC5C,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,WAAW;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,UAAU;AAAA,QAAA;AAAA,MACjD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,QAAQ;AAAA,UAC7C,YAAY,KAAK,MAAM;AAAA,UACvB,iBAAiB,KAAK;AAAA,QAAA;AAAA,MACxB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,MAAM,KAAK,YAAY,MAAM;AAAA,UAC3C,YAAY,KAAK,MAAM;AAAA,QAAA;AAAA,MACzB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,SAAS;AAAA,QAAA;AAAA,MAChD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,MAAM,KAAK,YAAY,aAAa;AAAA,QAAA;AAAA,MACpD;AAAA,IAAA,EAAA,CACF;AAEA,WAAO;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"30a01c814a85b39a887418639a2630c3770d5c04"},o=t[i]||(t[i]={});(!o[n]||o[n].hash!==e)&&(o[n]=r);var s=o[n];return Be=function(){return s},s}Be();Be().s[0]++;window.Buffer=wH.Buffer;function s3(n,e){Be().f[0]++;const t=(Be().s[1]++,n.match(/\.tilehosting\.com/)),i=(Be().s[2]++,n.match(/\.maptiler\.com/)),r=(Be().s[3]++,n.match(/\.thunderforest\.com/)),o=(Be().s[4]++,n.match(/\.locationiq\.com/));if(Be().s[5]++,Be().b[1][0]++,t||(Be().b[1][1]++,i)){Be().b[0][0]++;const s=(Be().s[6]++,af.getAccessToken("openmaptiles",e,{allowFallback:!0}));if(Be().s[7]++,s)return Be().b[2][0]++,Be().s[8]++,n.replace("{key}",s);Be().b[2][1]++}else if(Be().b[0][1]++,Be().s[9]++,r){Be().b[3][0]++;const s=(Be().s[10]++,af.getAccessToken("thunderforest",e,{allowFallback:!0}));if(Be().s[11]++,s)return Be().b[4][0]++,Be().s[12]++,n.replace("{key}",s);Be().b[4][1]++}else if(Be().b[3][1]++,Be().s[13]++,o){Be().b[5][0]++;const s=(Be().s[14]++,af.getAccessToken("locationiq",e,{allowFallback:!0}));if(Be().s[15]++,s)return Be().b[6][0]++,Be().s[16]++,n.replace("{key}",s);Be().b[6][1]++}else return Be().b[5][1]++,Be().s[17]++,n}function WF(n,e,t){return Be().f[1]++,Be().s[18]++,{...n,$root:{...n.$root,[e]:{...n.$root[e],values:t}}}}class rCe extends ii.Component{revisionStore;styleStore=(Be().s[19]++,null);layerWatcher;constructor(e){Be().f[2]++,Be().s[20]++,super(e),Be().s[21]++,this.revisionStore=new Zve,Be().s[22]++,this.configureKeyboardShortcuts(),Be().s[23]++,this.state={errors:[],infos:[],mapStyle:af.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:Jo,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,debug:!1,globalState:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1},fileHandle:null},Be().s[24]++,this.layerWatcher=new iCe({onVectorLayersChange:t=>(Be().f[3]++,Be().s[25]++,this.setState({vectorLayers:t}))})}configureKeyboardShortcuts=(Be().s[26]++,()=>{Be().f[4]++;const e=(Be().s[27]++,[{key:"?",handler:()=>{Be().f[5]++,Be().s[28]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{Be().f[6]++,Be().s[29]++,this.toggleModal("open")}},{key:"e",handler:()=>{Be().f[7]++,Be().s[30]++,this.toggleModal("export")}},{key:"d",handler:()=>{Be().f[8]++,Be().s[31]++,this.toggleModal("sources")}},{key:"s",handler:()=>{Be().f[9]++,Be().s[32]++,this.toggleModal("settings")}},{key:"g",handler:()=>{Be().f[10]++,Be().s[33]++,this.toggleModal("globalState")}},{key:"i",handler:()=>{Be().f[11]++,Be().s[34]++,this.setMapState(this.state.mapState==="map"?(Be().b[7][0]++,"inspect"):(Be().b[7][1]++,"map"))}},{key:"m",handler:()=>{Be().f[12]++,Be().s[35]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{Be().f[13]++,Be().s[36]++,this.toggleModal("debug")}}]);Be().s[37]++,document.body.addEventListener("keyup",t=>{if(Be().f[14]++,Be().s[38]++,t.key==="Escape")Be().b[8][0]++,Be().s[39]++,t.target.blur(),Be().s[40]++,document.body.focus();else if(Be().b[8][1]++,Be().s[41]++,Be().b[10][0]++,this.state.isOpen.shortcuts||(Be().b[10][1]++,document.activeElement===document.body)){Be().b[9][0]++;const i=(Be().s[42]++,e.find(r=>(Be().f[15]++,Be().s[43]++,r.key===t.key)));Be().s[44]++,i?(Be().b[11][0]++,Be().s[45]++,this.setModal("shortcuts",!1),Be().s[46]++,i.handler()):Be().b[11][1]++}else Be().b[9][1]++})});handleKeyPress=(Be().s[47]++,e=>{Be().f[16]++,Be().s[48]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(Be().b[12][0]++,Be().s[49]++,Be().b[14][0]++,e.metaKey&&(Be().b[14][1]++,e.shiftKey)&&(Be().b[14][2]++,e.keyCode===90)?(Be().b[13][0]++,Be().s[50]++,e.preventDefault(),Be().s[51]++,this.onRedo()):(Be().b[13][1]++,Be().s[52]++,Be().b[16][0]++,e.metaKey&&(Be().b[16][1]++,e.keyCode===90)?(Be().b[15][0]++,Be().s[53]++,e.preventDefault(),Be().s[54]++,this.onUndo()):Be().b[15][1]++)):(Be().b[12][1]++,Be().s[55]++,Be().b[18][0]++,e.ctrlKey&&(Be().b[18][1]++,e.keyCode===90)?(Be().b[17][0]++,Be().s[56]++,e.preventDefault(),Be().s[57]++,this.onUndo()):(Be().b[17][1]++,Be().s[58]++,Be().b[20][0]++,e.ctrlKey&&(Be().b[20][1]++,e.keyCode===89)?(Be().b[19][0]++,Be().s[59]++,e.preventDefault(),Be().s[60]++,this.onRedo()):Be().b[19][1]++))});async componentDidMount(){Be().f[17]++,Be().s[61]++,this.styleStore=await $ve((e,t)=>(Be().f[18]++,Be().s[62]++,this.onStyleChanged(e,t))),Be().s[63]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){Be().f[19]++,Be().s[64]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(e){Be().f[20]++,Be().s[65]++,this.styleStore?.save(e)}updateFonts(e){Be().f[21]++;const t=(Be().s[66]++,Be().b[21][0]++,this.state.mapStyle.metadata||(Be().b[21][1]++,{})),i=(Be().s[67]++,Be().b[22][0]++,t["maputnik:openmaptiles_access_token"]||(Be().b[22][1]++,JQ.openmaptiles)),r=(Be().s[68]++,typeof e=="string"?(Be().b[23][0]++,e.replace("{key}",i)):(Be().b[23][1]++,e));Be().s[69]++,Rve(r,o=>{Be().f[22]++,Be().s[70]++,this.setState({spec:WF(this.state.spec,"glyphs",o)})})}updateIcons(e){Be().f[23]++,Be().s[71]++,Pve(e,t=>{Be().f[24]++,Be().s[72]++,this.setState({spec:WF(this.state.spec,"sprite",t)})})}onChangeMetadataProperty=(Be().s[73]++,(e,t)=>{Be().f[25]++,Be().s[74]++,Be().b[25][0]++,e==="maputnik:renderer"&&(Be().b[25][1]++,t!==BH(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(Be().b[24][0]++,Be().s[75]++,this.setState({mapState:"map"})):Be().b[24][1]++;const i=(Be().s[76]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[e]:t}});Be().s[77]++,this.onStyleChanged(i)});onStyleChanged=(Be().s[78]++,(e,t=(Be().b[26][0]++,{}))=>{Be().f[26]++,Be().s[79]++,t={save:!0,addRevision:!0,initialLoad:!1,...t},Be().s[80]++,Be().b[28][0]++,e.glyphs&&(Be().b[28][1]++,typeof e.glyphs=="string")?(Be().b[27][0]++,Be().s[81]++,e.glyphs=s3(e.glyphs,e)):Be().b[27][1]++,Be().s[82]++,Be().b[30][0]++,e.sprite&&(Be().b[30][1]++,typeof e.sprite=="string")?(Be().b[29][0]++,Be().s[83]++,e.sprite=s3(e.sprite,e)):Be().b[29][1]++,Be().s[84]++;for(const[a,p]of Object.entries(e.sources))Be().s[85]++,Be().b[32][0]++,p&&(Be().b[32][1]++,"url"in p)&&(Be().b[32][2]++,typeof p.url=="string")?(Be().b[31][0]++,Be().s[86]++,p.url=s3(p.url,e)):Be().b[31][1]++;Be().s[87]++,t.initialLoad?(Be().b[33][0]++,Be().s[88]++,this.getInitialStateFromUrl(e)):Be().b[33][1]++;const i=(Be().s[89]++,Be().b[34][0]++,Wf(e)||(Be().b[34][1]++,[])),r=(Be().s[90]++,[]);if(Be().s[91]++,Be().b[36][0]++,e&&(Be().b[36][1]++,e.layers)){Be().b[35][0]++;const a=(Be().s[92]++,new window.Map);Be().s[93]++,e.layers.forEach((p,g)=>{if(Be().f[27]++,Be().s[94]++,Be().b[38][0]++,p.id===""&&(Be().b[38][1]++,a.has(p.id))){Be().b[37][0]++;const _=(Be().s[95]++,new Error(`layers[${g}]: duplicate layer id [empty_string], previously used`));Be().s[96]++,r.push(_)}else Be().b[37][1]++;Be().s[97]++,a.set(p.id,!0)})}else Be().b[35][1]++;const o=(Be().s[98]++,r.concat(i).map(a=>{Be().f[28]++;const p=(Be().s[99]++,a.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(Be().s[100]++,p){Be().b[39][0]++;const[,E,O]=(Be().s[101]++,p);return Be().s[102]++,{message:a.message,parsed:{type:"layer",data:{index:parseInt(E,10),key:"id",message:O}}}}else Be().b[39][1]++;const g=(Be().s[103]++,a.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(Be().s[104]++,g){Be().b[40][0]++;const[,E,O]=(Be().s[105]++,g);return Be().s[106]++,{message:a.message,parsed:{type:"layer",data:{index:parseInt(E,10),key:"source",message:O}}}}else Be().b[40][1]++;const _=(Be().s[107]++,a.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(Be().s[108]++,_){Be().b[41][0]++;const[,E,O,B,z]=(Be().s[109]++,_),N=(Be().s[110]++,Be().b[43][0]++,O&&(Be().b[43][1]++,B)?(Be().b[42][0]++,[O,B].join(".")):(Be().b[42][1]++,B));return Be().s[111]++,{message:a.message,parsed:{type:"layer",data:{index:parseInt(E,10),key:N,message:z}}}}else return Be().b[41][1]++,Be().s[112]++,{message:a.message}}));let s=(Be().s[113]++,void 0);if(Be().s[114]++,i.length>0){Be().b[44][0]++,Be().s[115]++,s=g9(e),Be().s[116]++;for(const a of i){const{message:p}=(Be().s[117]++,a);if(Be().s[118]++,p){Be().b[45][0]++,Be().s[119]++;try{const g=(Be().s[120]++,p.split(":")[0]),_=(Be().s[121]++,g.match(/^\S+?\[\d+\]\.[^[]+/)[0]);Be().s[122]++,Kb.unset(s,_)}catch(g){Be().s[123]++,console.warn(p+" "+g)}}else Be().b[45][1]++}}else Be().b[44][1]++;Be().s[124]++,e.glyphs!==this.state.mapStyle.glyphs?(Be().b[46][0]++,Be().s[125]++,this.updateFonts(e.glyphs)):Be().b[46][1]++,Be().s[126]++,e.sprite!==this.state.mapStyle.sprite?(Be().b[47][0]++,Be().s[127]++,this.updateIcons(e.sprite)):Be().b[47][1]++,Be().s[128]++,t.addRevision?(Be().b[48][0]++,Be().s[129]++,this.revisionStore.addRevision(e)):Be().b[48][1]++,Be().s[130]++,t.save?(Be().b[49][0]++,Be().s[131]++,this.saveStyle(e)):Be().b[49][1]++,Be().s[132]++,this.setState({mapStyle:e,dirtyMapStyle:s,errors:o},()=>{Be().f[29]++,Be().s[133]++,this.fetchSources(),Be().s[134]++,this.setStateInUrl()})});onUndo=(Be().s[135]++,()=>{Be().f[30]++;const e=(Be().s[136]++,this.revisionStore.undo()),t=(Be().s[137]++,Uve(this.state.mapStyle,e));Be().s[138]++,this.onStyleChanged(e,{addRevision:!1}),Be().s[139]++,this.setState({infos:t})});onRedo=(Be().s[140]++,()=>{Be().f[31]++;const e=(Be().s[141]++,this.revisionStore.redo()),t=(Be().s[142]++,Kve(this.state.mapStyle,e));Be().s[143]++,this.onStyleChanged(e,{addRevision:!1}),Be().s[144]++,this.setState({infos:t})});onMoveLayer=(Be().s[145]++,e=>{Be().f[32]++;let{oldIndex:t,newIndex:i}=(Be().s[146]++,e),r=(Be().s[147]++,this.state.mapStyle.layers);if(Be().s[148]++,t=v9(t,0,r.length-1),Be().s[149]++,i=v9(i,0,r.length-1),Be().s[150]++,t===i){Be().b[50][0]++,Be().s[151]++;return}else Be().b[50][1]++;Be().s[152]++,t===this.state.selectedLayerIndex?(Be().b[51][0]++,Be().s[153]++,this.setState({selectedLayerIndex:i})):Be().b[51][1]++,Be().s[154]++,r=r.slice(0),Be().s[155]++,TH(r,t,i),Be().s[156]++,this.onLayersChange(r)});onLayersChange=(Be().s[157]++,e=>{Be().f[33]++;const t=(Be().s[158]++,{...this.state.mapStyle,layers:e});Be().s[159]++,this.onStyleChanged(t)});onLayerDestroy=(Be().s[160]++,e=>{Be().f[34]++;const t=(Be().s[161]++,this.state.mapStyle.layers),i=(Be().s[162]++,t.slice(0));Be().s[163]++,i.splice(e,1),Be().s[164]++,this.onLayersChange(i)});onLayerCopy=(Be().s[165]++,e=>{Be().f[35]++;const t=(Be().s[166]++,this.state.mapStyle.layers),i=(Be().s[167]++,t.slice(0)),r=(Be().s[168]++,g9(i[e]));Be().s[169]++,r.id=r.id+"-copy",Be().s[170]++,i.splice(e,0,r),Be().s[171]++,this.onLayersChange(i)});onLayerVisibilityToggle=(Be().s[172]++,e=>{Be().f[36]++;const t=(Be().s[173]++,this.state.mapStyle.layers),i=(Be().s[174]++,t.slice(0)),r=(Be().s[175]++,{...i[e]}),o=(Be().s[176]++,"layout"in r?(Be().b[52][0]++,{...r.layout}):(Be().b[52][1]++,{}));Be().s[177]++,o.visibility=o.visibility==="none"?(Be().b[53][0]++,"visible"):(Be().b[53][1]++,"none"),Be().s[178]++,r.layout=o,Be().s[179]++,i[e]=r,Be().s[180]++,this.onLayersChange(i)});onLayerIdChange=(Be().s[181]++,(e,t,i)=>{Be().f[37]++;const r=(Be().s[182]++,this.state.mapStyle.layers.slice(0));Be().s[183]++,r[e]={...r[e],id:i},Be().s[184]++,this.onLayersChange(r)});onLayerChanged=(Be().s[185]++,(e,t)=>{Be().f[38]++;const i=(Be().s[186]++,this.state.mapStyle.layers.slice(0));Be().s[187]++,i[e]=t,Be().s[188]++,this.onLayersChange(i)});setMapState=(Be().s[189]++,e=>{Be().f[39]++,Be().s[190]++,this.setState({mapState:e},this.setStateInUrl)});setDefaultValues=(Be().s[191]++,e=>{Be().f[40]++;const t=(Be().s[192]++,Be().b[54][0]++,e.metadata||(Be().b[54][1]++,{}));if(Be().s[193]++,t["maputnik:renderer"]===void 0){Be().b[55][0]++;const i=(Be().s[194]++,{...e,metadata:{...e.metadata,"maputnik:renderer":"mlgljs"}});return Be().s[195]++,i}else return Be().b[55][1]++,Be().s[196]++,e});openStyle=(Be().s[197]++,(e,t)=>{Be().f[41]++,Be().s[198]++,this.setState({fileHandle:t}),Be().s[199]++,e=this.setDefaultValues(e),Be().s[200]++,this.onStyleChanged(e)});async fetchSources(){Be().f[42]++;const e=(Be().s[201]++,{});Be().s[202]++;for(const t of Object.keys(this.state.mapStyle.sources)){const i=(Be().s[203]++,this.state.mapStyle.sources[t]);if(Be().s[204]++,Be().b[57][0]++,i.type!=="vector"||(Be().b[57][1]++,!("url"in i)))Be().b[56][0]++,Be().s[205]++,e[t]=(Be().b[58][0]++,this.state.sources[t]||(Be().b[58][1]++,{...this.state.mapStyle.sources[t]})),Be().s[206]++,e[t].layers===void 0?(Be().b[59][0]++,Be().s[207]++,e[t].layers=[]):Be().b[59][1]++;else{Be().b[56][1]++,Be().s[208]++,e[t]={type:i.type,layers:[]};let r=(Be().s[209]++,i.url);Be().s[210]++;try{Be().s[211]++,r=s3(r,this.state.mapStyle)}catch(s){Be().s[212]++,console.warn("Failed to setFetchAccessToken: ",s)}Be().s[213]++;const o=s=>{if(Be().f[43]++,Be().s[214]++,Object.prototype.hasOwnProperty.call(s,"vector_layers"))Be().b[60][1]++;else{Be().b[60][0]++,Be().s[215]++;return}Be().s[216]++;for(const a of s.vector_layers)Be().s[217]++,e[t].layers.push(a.id)};Be().s[218]++;try{if(Be().s[219]++,r.startsWith("pmtiles://")){Be().b[61][0]++;const s=(Be().s[220]++,await new yB(r.substring(10)).getTileJson(""));Be().s[221]++,o(s)}else{Be().b[61][1]++;const s=(Be().s[222]++,await fetch(r,{mode:"cors"})),a=(Be().s[223]++,await s.json());Be().s[224]++,o(a)}}catch(s){Be().s[225]++,console.error(`Failed to process source for url: '${r}', ${s}`)}}}Be().s[226]++,NO(this.state.sources,e)?Be().b[62][1]++:(Be().b[62][0]++,Be().s[227]++,console.debug("Setting sources",e),Be().s[228]++,this.setState({sources:e}))}_getRenderer(){Be().f[44]++;const e=(Be().s[229]++,Be().b[63][0]++,this.state.mapStyle.metadata||(Be().b[63][1]++,{}));return Be().s[230]++,Be().b[64][0]++,e["maputnik:renderer"]||(Be().b[64][1]++,"mlgljs")}onMapChange=(Be().s[231]++,e=>{Be().f[45]++,Be().s[232]++,this.setState({mapView:e})});mapRenderer(){Be().f[46]++;const{mapStyle:e,dirtyMapStyle:t}=(Be().s[233]++,this.state),i=(Be().s[234]++,{mapStyle:(Be().b[65][0]++,t||(Be().b[65][1]++,e)),replaceAccessTokens:p=>(Be().f[47]++,Be().s[235]++,af.replaceAccessTokens(p,{allowFallback:!0})),onDataChange:p=>{Be().f[48]++,Be().s[236]++,this.layerWatcher.analyzeMap(p.map),Be().s[237]++,this.fetchSources()}}),r=(Be().s[238]++,this._getRenderer());let o;Be().s[239]++,r==="ol"?(Be().b[66][0]++,Be().s[240]++,o=Ae.jsx(ase,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:p=>(Be().f[49]++,Be().s[241]++,this.onLayerSelect(+p))})):(Be().b[66][1]++,Be().s[242]++,o=Ae.jsx(zee,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let s;Be().s[243]++,this.state.mapState.match(/^filter-/)?(Be().b[67][0]++,Be().s[244]++,s=this.state.mapState.replace(/^filter-/,"")):Be().b[67][1]++;const a=(Be().s[245]++,{});return Be().s[246]++,s?(Be().b[68][0]++,Be().s[247]++,a.filter=`url('#${s}')`):Be().b[68][1]++,Be().s[248]++,Ae.jsx("div",{style:a,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:o})}setStateInUrl=(Be().s[249]++,()=>{Be().f[50]++;const{mapState:e,mapStyle:t,isOpen:i}=(Be().s[250]++,this.state),{selectedLayerIndex:r}=(Be().s[251]++,this.state),o=(Be().s[252]++,new URL(location.href)),s=(Be().s[253]++,S9(JSON.stringify(t)));Be().s[254]++,o.searchParams.set("layer",`${s}~${r}`);const a=(Be().s[255]++,Object.entries(i).map(([p,g])=>(Be().f[51]++,Be().s[256]++,g===!0?(Be().b[69][0]++,p):(Be().b[69][1]++,null))).filter(p=>(Be().f[52]++,Be().s[257]++,p!==null)));Be().s[258]++,a.length>0?(Be().b[70][0]++,Be().s[259]++,o.searchParams.set("modal",a.join(","))):(Be().b[70][1]++,Be().s[260]++,o.searchParams.delete("modal")),Be().s[261]++,e==="map"?(Be().b[71][0]++,Be().s[262]++,o.searchParams.delete("view")):(Be().b[71][1]++,Be().s[263]++,e==="inspect"?(Be().b[72][0]++,Be().s[264]++,o.searchParams.set("view","inspect")):Be().b[72][1]++),Be().s[265]++,history.replaceState({selectedLayerIndex:r},"Maputnik",o.href)});getInitialStateFromUrl=(Be().s[266]++,e=>{Be().f[53]++;const t=(Be().s[267]++,new URL(location.href)),i=(Be().s[268]++,t.searchParams.get("modal"));if(Be().s[269]++,Be().b[74][0]++,i&&(Be().b[74][1]++,i!=="")){Be().b[73][0]++;const s=(Be().s[270]++,i.split(",")),a=(Be().s[271]++,{});Be().s[272]++,s.forEach(p=>{Be().f[54]++,Be().s[273]++,a[p]=!0}),Be().s[274]++,this.setState({isOpen:{...this.state.isOpen,...a}})}else Be().b[73][1]++;const r=(Be().s[275]++,t.searchParams.get("view"));Be().s[276]++,Be().b[76][0]++,r&&(Be().b[76][1]++,r!=="")?(Be().b[75][0]++,Be().s[277]++,this.setMapState(r)):Be().b[75][1]++;const o=(Be().s[278]++,t.searchParams.get("layer"));if(Be().s[279]++,o){Be().b[77][0]++,Be().s[280]++;try{const s=(Be().s[281]++,o.split("~")),[a,p]=(Be().s[282]++,[s[0],parseInt(s[1],10)]);let g=(Be().s[283]++,!0);if(Be().s[284]++,a!=="-"){Be().b[78][0]++;const _=(Be().s[285]++,S9(JSON.stringify(e)));Be().s[286]++,_!==parseInt(a,10)?(Be().b[79][0]++,Be().s[287]++,g=!1):Be().b[79][1]++}else Be().b[78][1]++;Be().s[288]++,g?(Be().b[80][0]++,Be().s[289]++,this.setState({selectedLayerIndex:p,selectedLayerOriginalId:e.layers[p].id})):Be().b[80][1]++}catch(s){Be().s[290]++,console.warn(s)}}else Be().b[77][1]++});onLayerSelect=(Be().s[291]++,e=>{Be().f[55]++,Be().s[292]++,this.setState({selectedLayerIndex:e,selectedLayerOriginalId:this.state.mapStyle.layers[e].id},this.setStateInUrl)});setModal(e,t){Be().f[56]++,Be().s[293]++,this.setState({isOpen:{...this.state.isOpen,[e]:t}},this.setStateInUrl)}toggleModal(e){Be().f[57]++,Be().s[294]++,this.setModal(e,!this.state.isOpen[e])}onSetFileHandle=(Be().s[295]++,e=>{Be().f[58]++,Be().s[296]++,this.setState({fileHandle:e})});onChangeOpenlayersDebug=(Be().s[297]++,(e,t)=>{Be().f[59]++,Be().s[298]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[e]:t}})});onChangeMaplibreGlDebug=(Be().s[299]++,(e,t)=>{Be().f[60]++,Be().s[300]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[e]:t}})});render(){Be().f[61]++;const e=(Be().s[301]++,Be().b[81][0]++,this.state.mapStyle.layers||(Be().b[81][1]++,[])),t=(Be().s[302]++,e.length>0?(Be().b[82][0]++,e[this.state.selectedLayerIndex]):(Be().b[82][1]++,void 0)),i=(Be().s[303]++,Ae.jsx(N1e,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),r=(Be().s[304]++,Ae.jsx(qfe,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:e,sources:this.state.sources,errors:this.state.errors})),o=(Be().s[305]++,t?(Be().b[83][0]++,Ae.jsx(_1e,{layer:t,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(Be().b[83][1]++,void 0)),s=(Be().s[306]++,this.state.errors.length+this.state.infos.length>0?(Be().b[84][0]++,Ae.jsx(q1e,{currentLayer:t,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(Be().b[84][1]++,void 0)),a=(Be().s[307]++,Ae.jsxs("div",{children:[Ae.jsx(Hye,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:()=>(Be().f[62]++,Be().s[308]++,this.toggleModal("debug")),mapView:this.state.mapView}),Ae.jsx(Yye,{isOpen:this.state.isOpen.shortcuts,onOpenToggle:()=>(Be().f[63]++,Be().s[309]++,this.toggleModal("shortcuts"))}),Ae.jsx(Z1e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:()=>(Be().f[64]++,Be().s[310]++,this.toggleModal("settings"))}),Ae.jsx(gye,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:()=>(Be().f[65]++,Be().s[311]++,this.toggleModal("export")),fileHandle:this.state.fileHandle,onSetFileHandle:this.onSetFileHandle}),Ae.jsx(Wye,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:()=>(Be().f[66]++,Be().s[312]++,this.toggleModal("open")),fileHandle:this.state.fileHandle}),Ae.jsx(Uye,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:()=>(Be().f[67]++,Be().s[313]++,this.toggleModal("sources"))}),Ae.jsx($ye,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.globalState,onOpenToggle:()=>(Be().f[68]++,Be().s[314]++,this.toggleModal("globalState"))})]}));return Be().s[315]++,Ae.jsx(Q1e,{toolbar:i,layerList:r,layerEditor:o,map:this.mapRenderer(),bottom:s,modals:a})}}const oCe=qF.createRoot(document.querySelector("#app"));oCe.render(Ae.jsx(Xv.Provider,{value:{className:"react-icons"},children:Ae.jsx(rCe,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-Bpquw-JP.js.map
